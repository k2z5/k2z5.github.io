//>>built
require({cache:{"tm1web/subseteditor/_TreePaneFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dijit/focus"],function(l,m,k,h){return l(null,{dimensionTree:null,subsetTree:null,_activeTree:null,postCreate:function(){this.inherited(arguments);this._activeTree=this.subsetTree;this.own(this.subsetTree.on("focus",m.hitch(this,"_onSubsetTreeFocus")));this.dimensionTree&&this.own(this.dimensionTree.on("focus",m.hitch(this,"_onDimensionTreeFocus")))},_onSubsetTreeFocus:function(){this._activeTree=
this.subsetTree},_onDimensionTreeFocus:function(){this._activeTree=this.dimensionTree}})})},"dojo/request/default":function(){define(["exports","require","../has"],function(l,m,k){var h=k("config-requestProvider");h||(h="./xhr");l.getPlatformDefaultId=function(){return"./xhr"};l.load=function(f,c,e,b){m(["platform"==f?"./xhr":h],function(b){e(b)})}})},"tm1web/websheet/ScrollingCoordinator":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/array dojo/topic dojo/aspect dojo/sniff dojo/dom-style dojo/keys dojo/on ../cubeview/CubeViewBase ./Utility ../share/TM1Utility ../share/service-loader!WebSheetService ../share/WebSheetBackgroundRecalculationMode ../utility/dom ./MobileScrollHandler ../config-settings ../mobile/sniff ../config-settings!".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u){return l(n,{constructor:function(a,n,g,b,d){this._objectId=b;this._index=d;this._topPane=a;this._bottomPane=n;this._scrollingPane=g;this._PreviousScrollLeft=this._previousScrollTop=this._horizontalScrollablePanel=this._verticalScrollablePanel=null;this._timerIds=Array(4);this._offsetLeft=this._offsetTop=this._currentLeft=this._currentTop=0;this._startDragPosition=null;this._eventHandlers=[];this._initializeScrollingCoordinator()},_initializeScrollingCoordinator:function(){this._verticalScrollablePanel=
this._bottomPane.ScrollablePanel;this._horizontalScrollablePanel=this._bottomPane.MainPane.DataGrid.Panel;this._attachEvents()},monitor:function(){c.after(this._scrollingPane,"onScroll",k.hitch(this,"_onScroll"),!0);e("mobile-device")&&this.own(new t(this._bottomPane.MainPane.DataGrid))},_attachEvents:function(){var n=this._bottomPane.MainPane.Panel;this._attachMouseWheelEvent(n);a(n,"keydown",k.hitch(this,"_onPageKey"))},_onStartDrag:function(n){this._startDragPosition={x:n.clientX,y:n.clientY};
this._eventHandlers.push(a(this._bottomPane.MainPane.Panel,"mouseover",this,this._doDrag));this._eventHandlers.push(a(document,"mouseup",this,this._onEndDrag))},_doDrag:function(a){var n=a.clientX;a=a.clientY;var g=n-this._startDragPosition.x;this._scrollingPane.increaseScrollTop(-(a-this._startDragPosition.y));this._scrollingPane.increaseScrollLeft(-g);this._startDragPosition={x:n,y:a};this._onScroll()},_onEndDrag:function(a){h.forEach(this._eventHandlers,function(a){a&&a.remove()})},_scrollGrid:function(a,
n){this._scrollingPane.increaseScrollTop(n);this._onScroll();m.stop(a)},_attachMouseWheelEvent:function(n){a(n,e("mozilla")?"DOMMouseScroll":"mousewheel",k.hitch(this,"_onMouseWheel"))},_onMouseWheel:function(a){var n=a[e("mozilla")?"detail":"wheelDelta"]*(e("mozilla")?-1:1);this._scrollGrid(a,-n)},_onPageKey:function(a){switch(a.keyCode){case d.PAGE_DOWN:this._scrollGrid(a,this._scrollingPane.getClientHeight());break;case d.PAGE_UP:this._scrollGrid(a,-this._scrollingPane.getClientHeight())}},resize:function(){this._retrievePrevScrollPos();
this._PreviousScrollLeft=this._previousScrollTop=null;this._onScroll()},resizeBoth:function(){this._retrievePrevScrollPos();this._PreviousScrollLeft=this._previousScrollTop=null;this._refreshPage(3);this._previousScrollTop=this._scrollingPane.getScrollTop();this._PreviousScrollLeft=this._scrollingPane.getScrollLeft()},resizeAll:function(){this._retrievePrevScrollPos();this._PreviousScrollLeft=this._previousScrollTop=null;this._refreshPage(4);this._previousScrollTop=this._scrollingPane.getScrollTop();
this._PreviousScrollLeft=this._scrollingPane.getScrollLeft()},applyLastScrollPosition:function(){var a=this._retrievePrevScrollPos();a.left&&this._scrollHorizontal();a.top&&this._scrollVertical()},_retrievePrevScrollPos:function(){var a={left:!1,top:!1};null!=this._previousScrollTop&&0==this._scrollingPane.getScrollTop()&&(this._scrollingPane.setScrollTop(this._previousScrollTop),a.top=!0);null!=this._PreviousScrollLeft&&0==this._scrollingPane.getScrollLeft()&&(this._scrollingPane.setScrollLeft(this._PreviousScrollLeft),
a.left=!0);return a},_onScroll:function(){var a=0;this._previousScrollTop!=this._scrollingPane.getScrollTop()&&(a=this._scrollVertical());this._PreviousScrollLeft!=this._scrollingPane.getScrollLeft()&&(a+=this._scrollHorizontal());this._refreshPage(a);this._previousScrollTop=this._scrollingPane.getScrollTop();this._PreviousScrollLeft=this._scrollingPane.getScrollLeft()},_scrollVertical:function(){var a=0,n=this._verticalScrollablePanel.offsetHeight+this._currentTop-this._scrollingPane.getScrollTop()+
1;!this._areRowsFullyLoaded()&&(this._scrollingPane.getClientHeight()>n||this._currentTop>this._scrollingPane.getScrollTop()+1)?a=1:this._isNativeScrollingEnabled()?(this._verticalScrollablePanel.style.top&&(this._verticalScrollablePanel.style.top=""),this._verticalScrollablePanel.parentNode.scrollTop=this._scrollingPane.getScrollTop()):(this._verticalScrollablePanel.parentNode.scrollTop=0,n=this._scrollingPane.getScrollTop()-this._currentTop,this._verticalScrollablePanel.style.top=-n+"px");f.publish(g.createTopicId(this._objectId,
this._index,"VERTICALSCROLLLING"));return a},_scrollHorizontal:function(){var a=0,n=this._horizontalScrollablePanel.offsetWidth+this._currentLeft-this._scrollingPane.getScrollLeft()+1,d;!this._areColumnsFullyLoaded()&&(this._scrollingPane.getClientWidth()>n||this._currentLeft>this._scrollingPane.getScrollLeft()+1)?a=2:this._isNativeScrollingEnabled()?(this._horizontalScrollablePanel.style.left&&(this._horizontalScrollablePanel.style.left=""),this._horizontalScrollablePanel.parentNode.scrollLeft=d=
this._scrollingPane.getScrollLeft()):(this._horizontalScrollablePanel.parentNode.scrollLeft&&(this._horizontalScrollablePanel.parentNode.scrollLeft=0),d=this._scrollingPane.getScrollLeft()-this._currentLeft,b.set(this._horizontalScrollablePanel,{left:-d+"px"}));null!=d&&(f.publish(g.createTopicId(this._objectId,this._index,"SCROLLLING"),d),f.publish(g.createTopicId(this._objectId,this._index,"HORIZONTALSCROLLLING")));return a},_isNativeScrollingEnabled:function(){return this._areRowsFullyLoaded()&&
this._areColumnsFullyLoaded()&&u.isNativeWebsheetScrollingEnabled()},_areRowsFullyLoaded:function(){return this.rowsFullyLoaded},_areColumnsFullyLoaded:function(){return this.columnsFullyLoaded},_refreshPage:function(a){var n=this._scrollingPane.getScrollTop(),g=this._scrollingPane.getScrollLeft();if(a){a=this._getAdjustedScrollType(a,n,g);n=k.hitch(this,this._beginScrollWebSheet,a,n,g);switch(a){case 4:clearTimeout(this._timerIds[2]);case 3:clearTimeout(this._timerIds[0]),clearTimeout(this._timerIds[1])}clearTimeout(this._timerIds[a-
1]);this._timerIds[a-1]=setTimeout(n,100);clearTimeout(this._backgroundRecalcTimer)}else u.getWebSheetBackgroundRecalculationMode()===r.PARTIAL&&this._backgroundRecalculate(n,g);return a},_backgroundRecalculate:function(a,n){if(u.getWebSheetBackgroundRecalculationMode()!==r.NONE){clearTimeout(this._backgroundRecalcTimer);var b=this._objectId;this._backgroundRecalcTimer=setTimeout(function(){q.backgroundRecalculate(b,a*g.RatePixelToPoint,n*g.RatePixelToPoint)},100)}},refreshPage:function(){this._refreshPage(4)},
_getAdjustedScrollType:function(a,n,g){1==a?g-this._currentLeft!=this._offsetLeft&&(a=3):2==a&&n-this._currentTop!=this._offsetTop&&(a=3);3==a&&null!=this._timerIds[3]&&(a=4);return a},_beginScrollWebSheet:function(a,n,b){q.scrollWebSheet(this._objectId,a-1,n*g.RatePixelToPoint,b*g.RatePixelToPoint,{callback:this._onScrollWebSheet,arg:{originalScrollType:a,startTop:n,startLeft:b},scope:this});f.publish(this._objectId+"-WebSheetFetchDataBegin")},_onScrollWebSheet:function(a,n){this._backgroundRecalculate(n.startTop,
n.startLeft);this.rowsFullyLoaded=a.rowsFullyLoaded;this.columnsFullyLoaded=a.columnsFullyLoaded;var g=this._computeScrollTypeByStartPosition(n.startTop,n.startLeft);this._refreshPage(g)&&n.originalScrollType==g||(this._topPane&&this._topPane.refresh(a),this._bottomPane&&this._bottomPane.refresh(a),this._setPagePosition(n.startTop,n.startLeft,a.mainPane.offsetTop,a.mainPane.offsetLeft));this._disableBackgroundLoadingIfNoMoreRows=!1;f.publish(this._objectId+"-WebSheetFetchDataCompleted",a.sheetSize)},
_computeScrollTypeByStartPosition:function(a,n){var g=a==this._scrollingPane.getScrollTop()?0:1;return g+=n==this._scrollingPane.getScrollLeft()?0:2},_setPagePosition:function(a,n,g,b){var d=this._scrollingPane;this._setPageTopPosition(d,a,g);this._setPageLeftPosition(d,n,b)},_setPageLeftPosition:function(a,n,d){var c=a.getScrollLeft();if(this._isNativeScrollingEnabled())this._horizontalScrollablePanel.style.left&&(this._horizontalScrollablePanel.style.left=""),this._scrollLeft=this._horizontalScrollablePanel.parentNode.scrollLeft=
c,this._currentLeft=0;else{this._horizontalScrollablePanel.parentNode.scrollLeft=0;var p=this._horizontalScrollablePanel.offsetWidth-a.getClientWidth(),e=0,e=c+a.getClientWidth()==a.getScrollWidth()&&0<c&&0<p?-p:-d/g.RatePixelToPoint;this._offsetLeft=-e;this._currentLeft=n+e;b.set(this._horizontalScrollablePanel,{left:e+"px"});f.publish(g.createTopicId(this._objectId,this._index,"SCROLLLING"),this._offsetLeft)}},_setPageTopPosition:function(a,n,d){var c=a.getScrollTop();if(this._isNativeScrollingEnabled())this._verticalScrollablePanel.style.top&&
(this._verticalScrollablePanel.style.top=""),this._offsetTop=this._verticalScrollablePanel.parentNode.scrollTop=c,this._currentTop=0;else{this._verticalScrollablePanel.parentNode.scrollTop=0;var p=this._verticalScrollablePanel.offsetHeight-a.getClientHeight(),e=0,e=c+a.getClientHeight()==a.getScrollHeight()&&0<c&&0<p?-p:-d/g.RatePixelToPoint;this._offsetTop=-e;b.set(this._verticalScrollablePanel,{top:e+"px"});this._currentTop=n+e}}})})},"dojo/date":function(){define(["./_base/kernel","./has","./_base/lang"],
function(l,m,k){var h={getDaysInMonth:function(f){var c=f.getMonth();return 1==c&&h.isLeapYear(f)?29:[31,28,31,30,31,30,31,31,30,31,30,31][c]},isLeapYear:function(f){f=f.getFullYear();return!(f%400)||!(f%4)&&!!(f%100)},getTimezoneName:function(f){var c=f.toString(),e="",b=c.indexOf("(");if(-1<b)e=c.substring(++b,c.indexOf(")"));else if(b=/([A-Z\/]+) \d{4}$/,c=c.match(b))e=c[1];else if(c=f.toLocaleString(),b=/ ([A-Z\/]+)$/,c=c.match(b))e=c[1];return"AM"==e||"PM"==e?"":e},compare:function(f,c,e){f=
new Date(+f);c=new Date(+(c||new Date));"date"==e?(f.setHours(0,0,0,0),c.setHours(0,0,0,0)):"time"==e&&(f.setFullYear(0,0,0),c.setFullYear(0,0,0));return f>c?1:f<c?-1:0},add:function(f,c,e){var b=new Date(+f),d=!1,a="Date";switch(c){case "day":break;case "weekday":var n;(c=e%5)?n=parseInt(e/5):(c=0<e?5:-5,n=0<e?(e-5)/5:(e+5)/5);var g=f.getDay(),p=0;6==g&&0<e?p=1:0==g&&0>e&&(p=-1);g+=c;if(0==g||6==g)p=0<e?2:-2;e=7*n+c+p;break;case "year":a="FullYear";d=!0;break;case "week":e*=7;break;case "quarter":e*=
3;case "month":d=!0;a="Month";break;default:a="UTC"+c.charAt(0).toUpperCase()+c.substring(1)+"s"}if(a)b["set"+a](b["get"+a]()+e);d&&b.getDate()<f.getDate()&&b.setDate(0);return b},difference:function(f,c,e){c=c||new Date;e=e||"day";var b=c.getFullYear()-f.getFullYear(),d=1;switch(e){case "quarter":f=f.getMonth();c=c.getMonth();f=Math.floor(f/3)+1;c=Math.floor(c/3)+1;d=c+4*b-f;break;case "weekday":b=Math.round(h.difference(f,c,"day"));e=parseInt(h.difference(f,c,"week"));d=b%7;if(0==d)b=5*e;else{var a=
0,n=f.getDay();c=c.getDay();e=parseInt(b/7);d=b%7;f=new Date(f);f.setDate(f.getDate()+7*e);f=f.getDay();if(0<b)switch(!0){case 6==n:a=-1;break;case 0==n:a=0;break;case 6==c:a=-1;break;case 0==c:a=-2;break;case 5<f+d:a=-2}else if(0>b)switch(!0){case 6==n:a=0;break;case 0==n:a=1;break;case 6==c:a=2;break;case 0==c:a=1;break;case 0>f+d:a=2}b=b+a-2*e}d=b;break;case "year":d=b;break;case "month":d=c.getMonth()-f.getMonth()+12*b;break;case "week":d=parseInt(h.difference(f,c,"day")/7);break;case "day":d/=
24;case "hour":d/=60;case "minute":d/=60;case "second":d/=1E3;case "millisecond":d*=c.getTime()-f.getTime()}return Math.round(d)}};k.mixin(k.getObject("date",!0,l),h);return h})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(l,m,k){function h(a){return e[a]=new Function("item","index","array",a)}function f(a){var n=!a;return function(g,b,d){var c=0,f=g&&g.length||0,k;f&&"string"==typeof g&&(g=g.split(""));"string"==typeof b&&(b=e[b]||h(b));if(d)for(;c<f;++c){if(k=!b.call(d,
g[c],c,g),a^k)return!k}else for(;c<f;++c)if(k=!b(g[c],c,g),a^k)return!k;return n}}function c(a){var n=1,g=0,c=0;a||(n=g=c=-1);return function(e,f,h,k){if(k&&0<n)return d.lastIndexOf(e,f,h);k=e&&e.length||0;var l=a?k+c:g;h===b?h=a?g:k+c:0>h?(h=k+h,0>h&&(h=g)):h=h>=k?k+c:h;for(k&&"string"==typeof e&&(e=e.split(""));h!=l;h+=n)if(e[h]==f)return h;return-1}}var e={},b,d={every:f(!1),some:f(!0),indexOf:c(!0),lastIndexOf:c(!1),forEach:function(a,n,g){var b=0,d=a&&a.length||0;d&&"string"==typeof a&&(a=a.split(""));
"string"==typeof n&&(n=e[n]||h(n));if(g)for(;b<d;++b)n.call(g,a[b],b,a);else for(;b<d;++b)n(a[b],b,a)},map:function(a,n,g,b){var d=0,c=a&&a.length||0;b=new (b||Array)(c);c&&"string"==typeof a&&(a=a.split(""));"string"==typeof n&&(n=e[n]||h(n));if(g)for(;d<c;++d)b[d]=n.call(g,a[d],d,a);else for(;d<c;++d)b[d]=n(a[d],d,a);return b},filter:function(a,n,g){var b=0,d=a&&a.length||0,c=[],f;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof n&&(n=e[n]||h(n));if(g)for(;b<d;++b)f=a[b],n.call(g,f,b,a)&&
c.push(f);else for(;b<d;++b)f=a[b],n(f,b,a)&&c.push(f);return c},clearCache:function(){e={}}};k.mixin(l,d);return d})},"tm1web/websheet/celledit/ValidationList":function(){define(["dojo/_base/declare","../../celledit/_CellList","./ValidationListStore","./ValidationListValueSaver"],function(l,m,k,h){return l("tm1web.websheet.celledit.ValidationList",m,{_Store:k,_ValueSaver:h})})},"tm1web/websheet/ScrollBarExtension":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ./Utility".split(" "),
function(l,m,k,h,f,c){return l(f,{constructor:function(c){this._ScrollingPane=c;this._verticalBorder=this._horizontalBorder=null;this._initializeScrollBarExtension()},_initializeScrollBarExtension:function(){},create:function(c){var b=document.createDocumentFragment();this._horizontalBorder=this.CreatePanel();m.add(this._horizontalBorder,"tm1webHorizontalBorder");k.place(this._horizontalBorder,b);this._verticalBorder=this.CreatePanel();m.add(this._verticalBorder,"tm1webVerticalBorder");k.place(this._verticalBorder,
b);this.resize(c);return b},resize:function(e){var b=0,d=0,a="none",n=c.checkScrollBarAvailability(this._ScrollingPane.Panel);if(n.horizontalScroll||e.leftWidth>e.leftPanelWidth)d=c.ScrollBarSize.horizontal,a="";if(n.verticalScroll||e.topHeight>e.topPanelHeight)b=c.ScrollBarSize.vertical;h.set(this._horizontalBorder,{height:d+"px",display:a});h.set(this._verticalBorder,{width:b+"px"})}})})},"tm1web/share/WebSheetBackgroundRecalculationMode":function(){define({NONE:"NONE",PARTIAL:"PARTIAL",SHEET:"SHEET",
BOOK:"BOOK"})},"tm1web/celledit/DatePicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/form/DateTextBox ../utility/date ./_CellDropDownMixin ../utility/date!".split(" "),function(l,m,k,h,f,c){return l("tm1web.celledit.DatePicker",[h,c],{_inputDatePattern:null,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"tm1webCellDatePicker")},show:function(c){this._inputDatePattern=c.cell.cellInfo.format;this.inherited(arguments)},_openAndHighlightDropDown:function(){this._opened?
this.closeDropDown(!0):(this.loadAndOpenDropDown(),this._openAndHighlightDropDown())},validate:function(){return!0},parse:function(c,b){var d=null,a={format:null},d=f.parse(c,this._inputDatePattern,a);m.mixin(b,{datePattern:d?a.format:this._inputDatePattern});return d||(this._isEmpty(d)?null:void 0)}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(l,m,k,h,f,c,e,b,d){var a=c("dojox.grid.DataGrid",e,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new b(this)},get:function(a,g){if(g&&"_item"==this.field&&!this.fields)return g;if(g&&this.fields){var b=[],d=this.grid.store;m.forEach(this.fields,function(a){b=b.concat(d.getValues(g,a))});return b}return g||"string"!==typeof a?g?this.field?"_item"==this.field?g:this.grid.store.getValue(g,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var a=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,a=!0);this.updating||(this.beginUpdate(),a=!0);if(a){var g=this;this._endUpdateDelay=setTimeout(function(){delete g._endUpdateDelay;g.endUpdate()},this.updateDelay)}}},_onSet:function(a,g,b,d){this._checkUpdateStatus();a=this.getItemIndex(a);-1<a&&this.updateRow(a)},_createItem:function(a,g){var b=this._hasIdentity?this.store.getIdentity(a):h.toJson(this.query)+":idx:"+g+":sort:"+h.toJson(this.getSortProps());
return this._by_idty[b]={idty:b,item:a}},_addItem:function(a,g,b){this._by_idx[g]=this._createItem(a,g);b||this.updateRow(g)},_onNew:function(a,g){this._checkUpdateStatus();var b=this.get("rowCount");this._addingItem=!0;this.updateRowCount(b+1);this._addingItem=!1;this._addItem(a,b);this.showMessage()},_onDelete:function(a){this._checkUpdateStatus();a=this._getItemIndex(a,!0);if(0<=a){this._pages=[];this._eop=this._bop=-1;var g=this._by_idx[a];this._by_idx.splice(a,1);delete this._by_idty[g.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(a)&&(this.selection.deselect(a),this.selection.selected.splice(a,1))},_onRevert:function(){this._refresh()},setStore:function(a,g,b){this._requestsPending(0)||(this._setQuery(g,b),this._setStore(a),this._refresh(!0))},setQuery:function(a,g){this._requestsPending(0)||(this._setQuery(a,g),this._refresh(!0))},setItems:function(a){this.items=a;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(a,g){this.query=a;this.queryOptions=g||this.queryOptions},_setStore:function(a){this.store&&this._store_connects&&m.forEach(this._store_connects,this.disconnect,this);if(this.store=a){a=this.store.getFeatures();var g=[];this._canEdit=!!a["dojo.data.api.Write"]&&!!a["dojo.data.api.Identity"];this._hasIdentity=!!a["dojo.data.api.Identity"];a["dojo.data.api.Notification"]&&!this.items&&(g.push(this.connect(this.store,"onSet","_onSet")),g.push(this.connect(this.store,
"onNew","_onNew")),g.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&g.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=g}},_onFetchBegin:function(a,g){this.scroller&&(this.rowCount!=a&&(g.isRender?(this.scroller.init(a,this.keepRows,this.rowsPerPage),this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(a)),a?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(a,g){this.scroller&&(a&&0<a.length&&(m.forEach(a,function(a,n){this._addItem(a,g.start+n,!0)},this),this.updateRows(g.start,a.length),g.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),f("ie")&&d.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[g.start]=
!1)},_onFetchError:function(a,g){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[g.start]=!1;this.onFetchError(a,g)},onFetchError:function(a,g){},_fetch:function(a,g){a=a||0;if(this.store&&!this._pending_requests[a]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[a]=!0;try{if(this.items){var b=this.items,d=this.store;this.rowsPerPage=b.length;
var c={start:a,count:this.rowsPerPage,isRender:g};this._onFetchBegin(b.length,c);var e=0;m.forEach(b,function(a){d.isItemLoaded(a)||e++});if(0===e)this._onFetchComplete(b,c);else{var f=function(a){e--;0===e&&this._onFetchComplete(b,c)};m.forEach(b,function(a){d.isItemLoaded(a)||d.loadItem({item:a,onItem:f,scope:this})},this)}}else this.store.fetch({start:a,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:g,onBegin:k.hitch(this,"_onFetchBegin"),
onComplete:k.hitch(this,"_onFetchComplete"),onError:k.hitch(this,"_onFetchError")})}catch(h){this._onFetchError(h,{start:a,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(a){var g=this._by_idx[a];return!g||g&&!g.item?(this._preparePage(a),null):g.item},getItemIndex:function(a){return this._getItemIndex(a,!1)},_getItemIndex:function(a,g){if(!g&&!this.store.isItem(a))return-1;
for(var b=this._hasIdentity?this.store.getIdentity(a):null,d=0,c=this._by_idx.length;d<c;d++){var e=this._by_idx[d];if(e&&(b&&e.idty==b||e.item===a))return d}return-1},filter:function(a,g){this.query=a;g&&this._clearData();this._fetch()},_getItemAttr:function(a,g){var b=this.getItem(a);return b?this.store.getValue(b,g):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(a){return this._pending_requests[a]},
_rowToPage:function(a){return this.rowsPerPage?Math.floor(a/this.rowsPerPage):a},_pageToRow:function(a){return this.rowsPerPage?this.rowsPerPage*a:a},_preparePage:function(a){(a<this._bop||a>=this._eop)&&!this._addingItem&&(a=this._rowToPage(a),this._needPage(a),this._bop=a*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(a){this._pages[a]||(this._pages[a]=!0,this._requestPage(a))},_requestPage:function(a){a=this._pageToRow(a);0<Math.min(this.rowsPerPage,
this.get("rowCount")-a)&&(this._requests++,this._requestsPending(a)||setTimeout(k.hitch(this,"_fetch",a,!1),1))},getCellName:function(a){return a.field},_refresh:function(a){this._clearData();this._fetch(0,a)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var a=this.getCell(this.getSortIndex());if(a){var g=a.sortDesc,b=!(0<this.sortInfo);return[{attribute:a.field,descending:"undefined"==typeof g?
b:b?!g:g}]}return this.sortFields?this.sortFields:null},styleRowState:function(a){if(this.store&&this.store.getState){for(var g=this.store.getState(a.index),b="",d=0,c=["inflight","error","inserting"],e;e=c[d];d++)if(g[e]){b=" dojoxGridRow-"+e;break}a.customClasses+=b}},onStyleRow:function(a){this.styleRowState(a);this.inherited(arguments)},canEdit:function(a,g){return this._canEdit},_copyAttr:function(a,g){var b=this.getItem(a);return this.store.getValue(b,g)},doStartEdit:function(a,b){this._cache[b]||
(this._cache[b]=this._copyAttr(b,a.field));this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,d){this.store.fetchItemByIdentity({identity:this._by_idx[b].idty,onItem:k.hitch(this,function(c){var e=this.store.getValue(c,d);"number"==typeof e?a=isNaN(a)?a:parseFloat(a):"boolean"==typeof e?a="true"==a?!0:"false"==a?!1:a:e instanceof Date&&(e=new Date(a),a=isNaN(e.getTime())?a:e);this.store.setValue(c,d,a);this.onApplyCellEdit(a,b,d)})})},doCancelEdit:function(a){this._cache[a]&&(this.updateRow(a),delete this._cache[a]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(a,b){this.onApplyEdit(a)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var a=k.hitch(this,function(a){a.length&&(m.forEach(a,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:a}):a(this.selection.getSelected())}}});a.cell_markupFactory=function(a,b,c){var e=k.trim(d.attr(b,"field")||"");e&&(c.field=e);c.field=
c.field||c.name;if(e=k.trim(d.attr(b,"fields")||""))c.fields=e.split(",");a&&a(b,c)};a.markupFactory=function(b,g,d,c){return e.markupFactory(b,g,d,k.partial(a.cell_markupFactory,c))};return a})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(l,m,k,h){var f={fieldToObject:function(c){var e=null;if(c=m.byId(c)){var b=c.name,d=(c.type||"").toLowerCase();if(b&&d&&!c.disabled)if("radio"==d||"checkbox"==d)c.checked&&(e=c.value);else if(c.multiple)for(e=[],c=[c.firstChild];c.length;)for(b=
c.pop();b;b=b.nextSibling)if(1==b.nodeType&&"option"==b.tagName.toLowerCase())b.selected&&e.push(b.value);else{b.nextSibling&&c.push(b.nextSibling);b.firstChild&&c.push(b.firstChild);break}else e=c.value}return e},toObject:function(c){var e={};c=m.byId(c).elements;for(var b=0,d=c.length;b<d;++b){var a=c[b],n=a.name,g=(a.type||"").toLowerCase();if(n&&g&&0>"file|submit|image|reset|button".indexOf(g)&&!a.disabled){var p=e,q=n,a=f.fieldToObject(a);if(null!==a){var h=p[q];"string"==typeof h?p[q]=[h,a]:
l.isArray(h)?h.push(a):p[q]=a}"image"==g&&(e[n+".x"]=e[n+".y"]=e[n].x=e[n].y=0)}}return e},toQuery:function(c){return k.objectToQuery(f.toObject(c))},toJson:function(c,e){return h.stringify(f.toObject(c),null,e?4:0)}};return f})},"tm1web/websheet/SheetTopLeftPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ../config-settings ./SheetDataGrid ./Utility ../config-settings!".split(" "),function(l,m,k,h,f,c,
e,b,d,a){return l(e,{constructor:function(a,b,d,c,e){this.Panel=null;this._index=d;this.DataGrid=null;this._objectId=a;this._leftScrollPane=c;this._topScrollPane=e;this._initializeSheetTopLeftPane(b)},_initializeSheetTopLeftPane:function(b){this.createContainer(b);this.own(k.subscribe(a.createTopicId(this._objectId,this._index,"TOPSCROLLLING"),m.hitch(this,"_onTopScroll")));this.own(k.subscribe(a.createTopicId(this._objectId,this._index,"LEFTSCROLLLING"),m.hitch(this,"_onLeftScroll")))},_onLeftScroll:function(a){var b=
this.DataGrid.Panel,d=b.parentNode;this._columnsFullyLoaded?(b.style.left&&(b.style.left=""),d.scrollLeft=a):(d.scrollLeft=0,c.set(b,{left:-a+"px"}))},_onTopScroll:function(a){var g=this.DataGrid.Panel,d=g.parentNode;this._rowsFullyLoaded&&b.isNativeWebsheetScrollingEnabled()?(g.style.top&&(g.style.top=""),d.scrollTop=a):(d.scrollTop=0,c.set(g,{top:-a+"px"}))},createContainer:function(a){this.Panel=this.CreatePanel();this.resize(a);h.add(this.Panel,"tm1webTopLeftSheetPanel tm1webInlineLayout")},create:function(a){this._rowsFullyLoaded=
a.rowsFullyLoaded;this._columnsFullyLoaded=a.columnsFullyLoaded;this.DataGrid=new d(this._objectId,this._index,this._leftScrollPane,this._topScrollPane,a.allowSpreading,a.allowConsolidateSpreading);a=this.DataGrid.create(a.cornerPane);h.add(a,"tm1webTopLeftSheetDataPanel");f.place(a,this.Panel);return this.Panel},refresh:function(a){this._rowsFullyLoaded=a.rowsFullyLoaded;this._columnsFullyLoaded=a.columnsFullyLoaded;this.DataGrid.refresh(a.cornerPane)},resize:function(a){c.set(this.Panel,{width:a.leftPanelWidth+
"px",height:a.topPanelHeight+"px"})},destroy:function(){this.inherited(arguments);this.DataGrid.destroy()}})})},"tm1web/share/_CellContextMenuBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/dom-geometry","./_ContextMenuBase"],function(l,m,k,h,f){return l(f,{dataGrid:null,_selectedArea:null,_currentCell:null,_openMyself:function(c){this._selectedArea=this._getSelectedArea();(this._currentCell=this._getCurrentCell())&&this.inherited(arguments)},onClose:function(){k("ie")&&
this._currentCell.focus()},_getCoords:function(){var c=h.position(this._currentCell,!0);c.x+=10;c.y+=10;return c},_getCurrentCellCoord:function(){return this.dataGrid.GetCoordinate(this._currentCell)},_getSelectedArea:function(){return null},_getCurrentCell:function(){return null}})})},"tm1web/widgets/WarningAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(l,m,k,h,f,c){var e=l("tm1web.widgets.WarningAlert",
c,{buildRendering:function(){this.inherited(arguments);h.add(this.cancelButton.domNode,"dijitHidden");h.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",f.get("ARIA_IMG_WARNING_STR"))}});e.show=function(b){var d=new k;b.className="tm1webWarningDialog tm1webMessageDialog";alertDialog=new e(b);var a=m.after(alertDialog,"onHide",function(){a.remove();d.resolve()});alertDialog.show();return d.promise};return e})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel",
"dojo/_base/array","./_base"],function(l,m,k){k.ArrayList=function(h){var f=[];h&&(f=f.concat(h));this.count=f.length;this.add=function(c){f.push(c);this.count=f.length};this.addRange=function(c){if(c.getIterator)for(c=c.getIterator();!c.atEnd();)this.add(c.get());else for(var e=0;e<c.length;e++)f.push(c[e]);this.count=f.length};this.clear=function(){f.splice(0,f.length);this.count=0};this.clone=function(){return new k.ArrayList(f)};this.contains=function(c){for(var e=0;e<f.length;e++)if(f[e]==c)return!0;
return!1};this.forEach=function(c,e){l.forEach(f,c,e)};this.getIterator=function(){return new k.Iterator(f)};this.indexOf=function(c){for(var e=0;e<f.length;e++)if(f[e]==c)return e;return-1};this.insert=function(c,e){f.splice(c,0,e);this.count=f.length};this.item=function(c){return f[c]};this.remove=function(c){c=this.indexOf(c);0<=c&&f.splice(c,1);this.count=f.length};this.removeAt=function(c){f.splice(c,1);this.count=f.length};this.reverse=function(){f.reverse()};this.sort=function(c){c?f.sort(c):
f.sort()};this.setByIndex=function(c,e){f[c]=e;this.count=f.length};this.toArray=function(){return[].concat(f)};this.toString=function(c){return f.join(c||",")}};return k.ArrayList})},"tm1web/celledit/_CellList":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/store/Memory dojo/Deferred dojo/keys dojo/dom dijit/form/ComboBox ./_CellDropDownMixin ../config-settings ../config-settings!".split(" "),function(l,m,k,h,f,c,e,b,d,a){return l("tm1web.celledit._CellList",[b,d],{searchAttr:"value",
_lastValidInput:"",pageSize:100,_stopClickEvents:!0,store:new h,_cellListSearchCharacterRemoval:a.isCellListSearchCharacterRemovalEnabled(),show:function(a){this._lastInput=a.value;this.set("store",new this._Store({objectId:this.objectId,cellInfo:a.cell.cellInfo}));this.inherited(arguments)},onInput:function(a){switch(a.charOrCode){case c.ENTER:var b=this.dropDown;if(b){var d=b.getHighlightedOption();if(d==b.nextButton)return this._nextSearch(1),!1;if(d==b.previousButton)return this._nextSearch(-1),
!1}break;case c.ESCAPE:this._opened&&(this._lastQuery=null)}return this.inherited(arguments)},loadDropDown:function(a){this._selectText?this.inherited(arguments):this._startSearchFromInput()},_openAndHighlightDropDown:function(){var a=m.hitch(this,"_highlightFirstListOption");this._opened?a():this.searchTimer?this.defer("_openAndHighlightDropDown",this.searchDelay):this._fetchHandle?this._fetchHandle.then(a):this.loadDropDown()},_highlightFirstListOption:function(){var a=this.dropDown;a.highlightFirstOption();
this._announceOption(a.getHighlightedOption())},_openResultList:function(a,b,d){this.inherited(arguments);!a.length&&0==d.start&&this._cellListSearchCharacterRemoval?(this.textbox.value=this._lastValidInput,this._startSearchFromInput()):this._lastValidInput=this._lastInput},hide:function(){this.inherited(arguments);this._lastValidInput="";this._lastValueReported=null;this._listItemSelected=!1},_selectOption:function(a){this._listItemSelected=!0;this.inherited(arguments)},_onBlur:function(a,b){this._listItemSelected=
this.dropDown&&!!this.dropDown.getHighlightedOption();this.inherited(arguments)},_restoreFocus:function(){var a=document.activeElement;!this.dropDown||a&&!e.isDescendant(a,this.dropDown.domNode)?this.inherited(arguments):(focus.focus(this._savedFocusedNode),this._savedFocusedNode=null)},_getValueSaverParams:function(){return m.mixin(this.inherited(arguments),{listItemSelected:this._listItemSelected,store:this.store})}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady",
"dojo/sniff","dojo/window"],function(l,m,k,h,f){var c=new l,e;k(function(){var b=f.getBox();c._rlh=m(window,"resize",function(){var a=f.getBox();if(b.h!=a.h||b.w!=a.w)b=a,c.emit("resize")});if(8==h("ie")){var d=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=d&&(d=screen.deviceXDPI,c.emit("resize"))},500)}h("ios")&&(m(document,"focusin",function(a){e=a.target}),m(document,"focusout",function(a){e=null}))});c.getEffectiveBox=function(b){b=f.getBox(b);var d=e&&e.tagName&&e.tagName.toLowerCase();
h("ios")&&e&&!e.readOnly&&("textarea"==d||"input"==d&&/^(color|email|number|password|search|tel|text|url)$/.test(e.type))&&(b.h*=0==orientation||180==orientation?.66:.4,d=e.getBoundingClientRect(),b.h=Math.max(b.h,d.top+d.height));return b};return c})},"tm1web/websheet/spreading/SpreadDialogEqualLeaves":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dijit/form/RadioButton ../../utility/message-localizer ../../cubeview/TitlePanel ./SpreadDialogBase".split(" "),function(l,
m,k,h,f,c,e){return l(e,{constructor:function(){this._AllPopulatedMode="";this._InitializeSpreadDialogEqualLeaves()},_InitializeSpreadDialogEqualLeaves:function(){},_CreateContent:function(){this._DataValue=this._CreateValueContent(this._Dialog.containerNode,f.get("SPREAD_LABEL_VALUE"),"tm1webDataSpread_valueLabel",this._cellInfo.numericValue,"tm1webDataSpread_value");this._CreateApplyToContent();this._CreateActionContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,
"tm1webDataSpread_buttonContainer tm1webDialogButtons")},_CreateApplyToContent:function(){var b=(new c(f.get("SPREAD_SECTION_APPLY"),null,null,"")).Create(this._Dialog.containerNode);this._CreateApplyToRadionButtonList(b)},_CreateApplyToRadionButtonList:function(b){this._CreateApplyToChoiceRadioButton(f.get("SPREAD_LABEL_POPULATED"),!0,"",b);this._CreateApplyToChoiceRadioButton(f.get("SPREAD_LABEL_ALL"),!1,"*",b)},_CreateApplyToChoiceRadioButton:function(b,d,a,n){_this=this;n=this._CreateCheckBoxLabelDiv(n);
var g=new h({name:"ApplyToChoice",value:a});g.setChecked(d);g.onClick=function(){_this._OnLeafCellsChoiceRadioButtonClick(this,a)};k.place(g.domNode,n);this._CreateCheckBoxLabel(b,n,g.id);return g},_OnLeafCellsChoiceRadioButtonClick:function(b,d){b.checked&&(this._AllPopulatedMode=d)},_GetControlString:function(){var b=this._CommandString,b=b+this._ActionValue+this._AllPopulatedMode;return b+=m.trim(this._DataValue.value)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html dojo/i18n!./nls/common ./a11yclick".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A,y,B,E,G,I,N,O,H){var K=new f;K.resolve(!0);l=h("dijit._DialogBase"+(s("dojo-bidi")?"_NoBidi":""),[A,B,E,y],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:v.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:.9,closable:!0,
_setClosableAttr:function(a){this.closeButtonNode.style.display=a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=n.getLocalization("dijit","common")||H;p.mixin(this,a);this.inherited(arguments)},postCreate:function(){d.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);k.after(this,"onExecute",p.hitch(this,"hide"),!0);k.after(this,"onCancel",p.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();
this._position();this.autofocus&&D.isTop(this)&&(this._getFocusItems(),w.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();w.focus(this._firstFocusItem)},_endDrag:function(){var a=b.position(this.domNode),g=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),g.h-a.h);a.x=Math.min(Math.max(a.x,0),g.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==s("ie")?x:
u)(a,{handle:this.titleBar}),k.after(this._moveable,"onMoveStop",p.hitch(this,"_endDrag"),!0)):e.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:p.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!e.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,g=t.getBox(this.ownerDocument),n=this._relativePosition,c=n?null:
b.position(a);d.set(a,{left:Math.floor(g.l+(n?n.x:(g.w-c.w)/2))+"px",top:Math.floor(g.t+(n?n.y:(g.h-c.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==g.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(w.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey||(w.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&
a.keyCode==g.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return K.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),D.hide(this));var b=t.get(this.ownerDocument);this._modalconnects.push(q(b,"scroll",p.hitch(this,"resize",null)));this._modalconnects.push(q(this.domNode,"keydown",p.hitch(this,"_onKey")));d.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var g;this._fadeInDeferred=new f(p.hitch(this,function(){g.stop();delete this._fadeInDeferred}));b=this._fadeInDeferred.promise;g=a.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:p.hitch(this,function(){D.show(this,this.underlayAttrs)}),onEnd:p.hitch(this,function(){this.autofocus&&D.isTop(this)&&(this._getFocusItems(),w.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();
return b},hide:function(){if(!this._alreadyInitialized||!this.open)return K.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var b;this._fadeOutDeferred=new f(p.hitch(this,function(){b.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(p.hitch(this,"onHide"));var g=this._fadeOutDeferred.promise;b=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,function(){this.domNode.style.display="none";D.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();
this._scrollConnected&&(this._scrollConnected=!1);for(var d;d=this._modalconnects.pop();)d.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return g},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),m.forEach([this.domNode,this.containerNode,
this.titleBar,this.actionBarNode],function(a){a&&d.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var g=t.getBox(this.ownerDocument);g.w*=this.maxRatio;g.h*=this.maxRatio;var n=b.position(this.domNode);n.w>=g.w||n.h>=g.h?(a={w:Math.min(n.w,g.w),h:Math.min(n.h,g.h)},this._shrunk=!0):this._shrunk=!1}if(a){b.setMarginBox(this.domNode,a);g=[];this.titleBar&&g.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&g.push({domNode:this.actionBarNode,
region:"bottom"});n={domNode:this.containerNode,region:"center"};g.push(n);var c=N.marginBox2contentBox(this.domNode,a);N.layoutChildren(this.domNode,c,g);this._singleChild?(g=N.marginBox2contentBox(this.containerNode,n),this._singleChild.resize({w:g.w,h:g.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();s("touch")||a||this._position()}},_layoutChildren:function(){m.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();D.hide(this);this.inherited(arguments)}});s("dojo-bidi")&&(l=h("dijit._DialogBase",l,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var P=h("dijit.Dialog",
[I,l],{});P._DialogBase=l;var D=P._DialogLevelManager={_beginZIndex:950,show:function(a,b){C[C.length-1].focus=w.curNode;var g=C[C.length-1].dialog?C[C.length-1].zIndex+2:P._DialogLevelManager._beginZIndex;d.set(a.domNode,"zIndex",g);G.show(b,g-1);C.push({dialog:a,underlayAttrs:b,zIndex:g})},hide:function(a){if(C[C.length-1].dialog==a){C.pop();var b=C[C.length-1];1==C.length?G.hide():G.show(b.underlayAttrs,b.zIndex-1);if(a.refocus&&(a=b.focus,!b.dialog||a&&c.isDescendant(a,b.dialog.domNode)||(b.dialog._getFocusItems(),
a=b.dialog._firstFocusItem),a))try{a.focus()}catch(g){}}else b=m.indexOf(m.map(C,function(a){return a.dialog}),a),-1!=b&&C.splice(b,1)},isTop:function(a){return C[C.length-1].dialog==a}},C=P._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];w.watch("curNode",function(a,b,g){a=C[C.length-1].dialog;if(g&&a&&!a._fadeOutDeferred&&g.ownerDocument==a.ownerDocument){do if(g==a.domNode||e.contains(g,"dijitPopup"))return;while(g=g.parentNode);a.focus()}});return P})},"dijit/_ConfirmDialogMixin":function(){define(["../dojo/_base/declare",
"./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(l,m,k,h){return l("dijit/_ConfirmDialogMixin",m,{actionBarTemplate:h,buttonOk:k.buttonOk,_setButtonOkAttr:{node:"okButton",attribute:"label"},buttonCancel:k.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"dojox/html/metrics":function(){define("../main dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),
function(l,m,k,h,f,c,e,b){var d=k.getObject("html.metrics",!0,l);d.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;h("ie")&&(b=e.doc.documentElement.style.fontSize||"",b||(e.doc.documentElement.style.fontSize="100%"));var g=e.doc.createElement("div"),d=g.style;d.position="absolute";d.left="-100px";d.top="0";d.width="30px";d.height="1000em";d.borderWidth="0";d.margin="0";d.padding="0";d.outline=
"0";d.lineHeight="1";d.overflow="hidden";e.body().appendChild(g);for(var n in a)d.fontSize=n,a[n]=16*Math.round(12*g.offsetHeight/16)/12/1E3;h("ie")&&(e.doc.documentElement.style.fontSize=b);e.body().removeChild(g);return a};var a=null;d.getCachedFontMeasurements=function(b){if(b||!a)a=d.getFontMeasurements();return a};var n=null,g={};d.getTextBox=function(a,d,c){var p,f;if(n)p=n;else{p=n=e.doc.createElement("div");var q=e.doc.createElement("div");q.appendChild(p);f=q.style;f.overflow="scroll";f.position=
"absolute";f.left="0px";f.top="-10000px";f.width="1px";f.height="1px";f.visibility="hidden";f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";e.body().appendChild(q)}p.className="";f=p.style;f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";if(1<arguments.length&&d)for(var h in d)h in g||(f[h]=d[h]);2<arguments.length&&c&&(p.className=c);p.innerHTML=a;f=b.position(p);f.w=p.parentNode.scrollWidth;return f};var p=16,q=16;d.getScrollbar=function(){return{w:p,h:q}};d._fontResizeNode=
null;d.initOnFontResize=function(a){var b=d._fontResizeNode=e.doc.createElement("iframe");a=b.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";h("ie")?b.onreadystatechange=function(){"complete"==b.contentWindow.document.readyState&&(b.onresize=d._fontresize)}:b.onload=function(){b.contentWindow.onresize=d._fontresize};b.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");
e.body().appendChild(b);d.initOnFontResize=function(){}};d.onFontResize=function(){};d._fontresize=function(){d.onFontResize()};c.addOnUnload(function(){var a=d._fontResizeNode;a&&(h("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),d._fontResizeNode=null)});f(function(){try{var a=e.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";e.body().appendChild(a);
p=a.offsetWidth-a.clientWidth;q=a.offsetHeight-a.clientHeight;e.body().removeChild(a);delete a}catch(b){}"fontSizeWatch"in m.config&&m.config.fontSizeWatch&&d.initOnFontResize()});return d})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(l,m,k,h,f,c){function e(a,b){var g=b.parentNode;g&&g.insertBefore(a,b)}function b(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(b){}for(var g;g=a.lastChild;)a.removeChild(g)}var d=
{option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,n={},g=0,p="__"+m._scopeName+"ToDomId",q;for(q in d)d.hasOwnProperty(q)&&(m=d[q],m.pre="option"==q?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+m.join("\x3e\x3c")+"\x3e",m.post="\x3c/"+m.reverse().join("\x3e\x3c/")+"\x3e");var r;8>=k("ie")&&(r=function(a){a.__dojo_html5_tested=
"yes";var b=s("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});t(b)});l.toDom=function(b,c){c=c||h.doc;var e=c[p];e||(c[p]=e=++g+"",n[e]=c.createElement("div"));8>=k("ie")&&!c.__dojo_html5_tested&&c.body&&r(c);b+="";var f=b.match(a),q=f?f[1].toLowerCase():
"",e=n[e];if(f&&d[q])for(f=d[q],e.innerHTML=f.pre+b+f.post,f=f.length;f;--f)e=e.firstChild;else e.innerHTML=b;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(q=c.createDocumentFragment();f=e.firstChild;)q.appendChild(f);return q};l.place=function(a,b,g){b=f.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?l.toDom(a,b.ownerDocument):f.byId(a));if("number"==typeof g){var d=b.childNodes;!d.length||d.length<=g?b.appendChild(a):e(a,d[0>g?0:g])}else switch(g){case "before":e(a,b);break;case "after":g=
a;(d=b.parentNode)&&(d.lastChild==b?d.appendChild(g):d.insertBefore(g,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":l.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){e(a,b.firstChild);break}default:b.appendChild(a)}return a};var s=l.create=function(a,b,g,d){var n=h.doc;g&&(g=f.byId(g),n=g.ownerDocument);"string"==typeof a&&(a=n.createElement(a));b&&c.set(a,b);g&&l.place(a,g,d);return a};l.empty=function(a){b(f.byId(a))};var t=l.destroy=function(a){if(a=
f.byId(a)){var g=a;a=a.parentNode;g.firstChild&&b(g);a&&(k("ie")&&a.canHaveChildren&&"removeNode"in g?g.removeNode(!1):a.removeChild(g))}}})},"dojo/date/locale":function(){define("../_base/kernel ../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(l,m,k,h,f,c,e,b,d,a){function n(a,g,d,n){return n.replace(/([a-z])\1*/ig,function(c){var e,p,h=c.charAt(0);c=c.length;var r=["abbr","wide","narrow"];switch(h){case "G":e=
g[4>c?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":e=a.getFullYear();switch(c){case 1:break;case 2:if(!d.fullYear){e=String(e);e=e.substr(e.length-2);break}default:p=!0}break;case "Q":case "q":e=Math.ceil((a.getMonth()+1)/3);p=!0;break;case "M":case "L":e=a.getMonth();3>c?(e+=1,p=!0):(h=["months","L"==h?"standAlone":"format",r[c-3]].join("-"),e=g[h][e]);break;case "w":e=q._getWeekOfYear(a,0);p=!0;break;case "d":e=a.getDate();p=!0;break;case "D":e=q._getDayOfYear(a);p=!0;break;case "e":case "c":if(e=
a.getDay(),2>c){e=(e-f.getFirstDayOfWeek(d.locale)+8)%7;break}case "E":e=a.getDay();3>c?(e+=1,p=!0):(h=["days","c"==h?"standAlone":"format",r[c-3]].join("-"),e=g[h][e]);break;case "a":h=12>a.getHours()?"am":"pm";e=d[h]||g["dayPeriods-format-wide-"+h];break;case "h":case "H":case "K":case "k":p=a.getHours();switch(h){case "h":e=p%12||12;break;case "H":e=p;break;case "K":e=p%12;break;case "k":e=p||24}p=!0;break;case "m":e=a.getMinutes();p=!0;break;case "s":e=a.getSeconds();p=!0;break;case "S":e=Math.round(a.getMilliseconds()*
Math.pow(10,c-3));p=!0;break;case "v":case "z":if(e=q._getZone(a,!0,d))break;c=4;case "Z":h=q._getZone(a,!1,d);h=[0>=h?"+":"-",b.pad(Math.floor(Math.abs(h)/60),2),b.pad(Math.abs(h)%60,2)];4==c&&(h.splice(0,0,"GMT"),h.splice(3,0,":"));e=h.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+n);}p&&(e=b.pad(e,c));return e})}function g(a,b,g,d){var n=function(a){return a};b=b||n;g=g||n;d=d||n;var c=a.match(/(''|[^'])+/g),e="'"==a.charAt(0);k.forEach(c,function(a,d){a?
(c[d]=(e?g:b)(a.replace(/''/g,"'")),e=!e):c[d]=""});return d(c.join(""))}function p(a,b,g,d){d=e.escapeString(d);g.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var n;n=d.charAt(0);var c=d.length,e="",p="";g.strict?(1<c&&(e="0{"+(c-1)+"}"),2<c&&(p="0{"+(c-2)+"}")):(e="0?",p="0{0,2}");switch(n){case "y":n="\\d{2,4}";break;case "M":case "L":n=2<c?"\\S+?":"1[0-2]|"+e+"[1-9]";break;case "D":n="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+e+"[1-9][0-9]|"+p+"[1-9]";break;case "d":n=
"3[01]|[12]\\d|"+e+"[1-9]";break;case "w":n="[1-4][0-9]|5[0-3]|"+e+"[1-9]";break;case "E":case "e":case "c":n=".+?";break;case "h":n="1[0-2]|"+e+"[1-9]";break;case "k":n="1[01]|"+e+"\\d";break;case "H":n="1\\d|2[0-3]|"+e+"\\d";break;case "K":n="1\\d|2[0-4]|"+e+"[1-9]";break;case "m":case "s":n="[0-5]\\d";break;case "S":n="\\d{"+c+"}";break;case "a":c=g.am||b["dayPeriods-format-wide-am"];e=g.pm||b["dayPeriods-format-wide-pm"];n=c+"|"+e;g.strict||(c!=c.toLowerCase()&&(n+="|"+c.toLowerCase()),e!=e.toLowerCase()&&
(n+="|"+e.toLowerCase()),-1!=n.indexOf(".")&&(n+="|"+n.replace(/\./g,"")));n=n.replace(/\./g,"\\.");break;default:n=".*"}a&&a.push(d);return"("+n+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var q={};m.setObject("date.locale",q,l);q._getZone=function(a,b,g){return b?h.getTimezoneName(a):a.getTimezoneOffset()};q.format=function(a,b){b=b||{};var d=c.normalizeLocale(b.locale),e=b.formatLength||"short",d=q._getGregorianBundle(d),p=[],f=m.hitch(this,n,a,d,b);if("year"==b.selector)return g(d["dateFormatItem-yyyy"]||
"yyyy",f);var h;"date"!=b.selector&&(h=b.timePattern||d["timeFormat-"+e])&&p.push(g(h,f));"time"!=b.selector&&(h=b.datePattern||d["dateFormat-"+e])&&p.push(g(h,f));return 1==p.length?p[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return p[b]})};q.regexp=function(a){return q._parseInfo(a).regexp};q._parseInfo=function(a){a=a||{};var b=c.normalizeLocale(a.locale),b=q._getGregorianBundle(b),d=a.formatLength||"short",n=a.datePattern||b["dateFormat-"+d],e=a.timePattern||
b["timeFormat-"+d],d="date"==a.selector?n:"time"==a.selector?e:b["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[e,n][b]}),f=[];return{regexp:g(d,m.hitch(this,p,f,b,a)),tokens:f,bundle:b}};q.parse=function(a,b){var g=/[\u200E\u200F\u202A\u202E]/g,d=q._parseInfo(b),n=d.tokens,c=d.bundle,g=(new RegExp("^"+d.regexp.replace(g,"")+"$",d.strict?"":"i")).exec(a&&a.replace(g,""));if(!g)return null;var e=["abbr","wide","narrow"],p=[1970,0,1,0,0,0,0],f="",g=k.every(g,function(a,g){if(!g)return!0;
var d=n[g-1],h=d.length,d=d.charAt(0);switch(d){case "y":if(2!=h&&b.strict)p[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),h=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),p[0]=a<d?h+a:h-100+a;else{if(b.strict)return!1;p[0]=a}break;case "M":case "L":if(2<h){if(h=c["months-"+("L"==d?"standAlone":"format")+"-"+e[h-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),h=k.map(h,function(a){return a.replace(".","").toLowerCase()})),a=k.indexOf(h,a),-1==a)return!1}else a--;
p[1]=a;break;case "E":case "e":case "c":h=c["days-"+("c"==d?"standAlone":"format")+"-"+e[h-3]].concat();b.strict||(a=a.toLowerCase(),h=k.map(h,function(a){return a.toLowerCase()}));a=k.indexOf(h,a);if(-1==a)return!1;break;case "D":p[1]=0;case "d":p[2]=a;break;case "a":h=b.am||c["dayPeriods-format-wide-am"];d=b.pm||c["dayPeriods-format-wide-pm"];if(!b.strict){var q=/\./g;a=a.replace(q,"").toLowerCase();h=h.replace(q,"").toLowerCase();d=d.replace(q,"").toLowerCase()}if(b.strict&&a!=h&&a!=d)return!1;
f=a==d?"p":a==h?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;p[3]=a;break;case "m":p[4]=a;break;case "s":p[5]=a;break;case "S":p[6]=a}return!0}),d=+p[3];"p"===f&&12>d?p[3]=d+12:"a"===f&&12==d&&(p[3]=0);d=new Date(p[0],p[1],p[2],p[3],p[4],p[5],p[6]);b.strict&&d.setFullYear(p[0]);var r=n.join(""),l=-1!=r.indexOf("d"),r=-1!=r.indexOf("M");if(!g||r&&d.getMonth()>p[1]||l&&d.getDate()>p[2])return null;if(r&&d.getMonth()<p[1]||l&&d.getDate()<p[2])d=h.add(d,"hour",1);return d};
var r=[];q.addCustomFormats=function(a,b){r.push({pkg:a,name:b})};q._getGregorianBundle=function(a){var b={};k.forEach(r,function(g){g=c.getLocalization(g.pkg,g.name,a)||b;b=m.mixin(b,g)},this);return b};q.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");q.getNames=function(a,b,g,d){var n;d=q._getGregorianBundle(d);a=[a,g,b];"standAlone"==g&&(g=a.join("-"),n=d[g],1==n[0]&&(n=void 0));a[1]="format";return(n||d[a.join("-")]).concat()};q.isWeekend=function(a,b){var g=f.getWeekend(b),
d=(a||new Date).getDay();g.end<g.start&&(g.end+=7,d<g.start&&(d+=7));return d>=g.start&&d<=g.end};q._getDayOfYear=function(a){return h.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};q._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var g=(new Date(a.getFullYear(),0,1)).getDay(),d=(g-b+7)%7,d=Math.floor((q._getDayOfYear(a)+d-1)/7);g==b&&d++;return d};return q})},"tm1web/utility/date":function(){define("dojo/date/locale dojo/json dojo/Deferred ../share/http-session-initializer ../share/service-loader!TM1Service ../share/TM1Utility".split(" "),
function(l,m,k,h,f,c){function e(){f.getDateTimeFormats({callback:function(a){if(a){a=m.parse(a);for(var b in d)if(d[b]in a)for(var n=a[d[b]],e=0;e<n.length;e++)switch(-1==c.indexOf(g,n[e])&&g.push(n[e]),d[b]){case d.TIME_SHORT:case d.TIME_LONG:-1==c.indexOf(r,n[e])&&r.push(n[e]);break;case d.DATE_SHORT:case d.DATE_LONG:-1==c.indexOf(q,n[e])&&q.push(n[e]);default:-1==c.indexOf(p,n[e])&&p.push(n[e])}}else console.error("Fail to get locale json file.");x.resolve()}})}function b(a,b){return l.parse(a,
{selector:"date",datePattern:b})}var d={DATE_SHORT:"dateFormat-short",DATE_LONG:"dateFormat-long",TIME_SHORT:"timeFormat-short",TIME_LONG:"timeFormat-long",DATETIME_SHORT:"dateTimeFormat-short",DATETIME_LONG:"dateTimeFormat-long"},a=new Date(1899,11,31),n=(new Date(1900,2,1)).valueOf(),g=[],p=[],q=[],r=[],s=[],t=new Date(1970,0,1,0,0,0,0),u=new Date(2010,10,10,10,10,10,10),x=new k,w=!1;return{load:function(a,b,g){x?(w||(w=!0,h.init().then(e)),x.then(function(){x=null;g(1)})):g(1)},parseToSerial:function(a,
b){var g=this.parse(a,b);return null==g?null:this.getExcelSerialFromJSDate(g)},getExcelSerialFromJSDate:function(b){var g=b.valueOf();g>=n&&(g+=864E5);g-=a.valueOf();b=b.getTimezoneOffset()-a.getTimezoneOffset();return(g-6E4*b)/864E5},parse:function(a,d,n,e){if(d){var p=b(a,d);if(p)return n&&(n.format=d),this.isTimeFormat(d)&&(p.setFullYear(1899),p.setMonth(11),p.setDate(31)),p}if(!0===e)return null;for(d=0;d<g.length;d++)if(p=b(a,g[d]))return n&&(n.format=g[d]),-1!=c.indexOf(r,g[d])&&(p.setFullYear(1899),
p.setMonth(11),p.setDate(31)),p;return null},isTimeFormat:function(a){if(!a||-1!=c.indexOf(s,a)||-1!=c.indexOf(p,a))return!1;if(-1!=c.indexOf(r,a))return!0;var g=null;try{g=b(l.format(u,{selector:"time",timePattern:a}),a)}catch(d){return s.push(a),!1}var n=1970==g.getFullYear()&&0==g.getMonth()&&1==g.getDate()&&(10==g.getHours()||10==g.getMinutes()||10==g.getSeconds()||10==g.getMilliseconds());n?r.push(a):g.getTime()==t.getTime()&&s.push(a);return n},isDateFormat:function(a){if(!a||-1!=c.indexOf(s,
a)||-1!=c.indexOf(r,a))return!1;if(-1!=c.indexOf(q,a))return!0;if(-1!=c.indexOf(p,a))return!1;var g=null;try{g=b(l.format(u,{selector:"date",datePattern:a}),a)}catch(d){return s.push(a),!1}var n=(2010==g.getFullYear()||10==g.getMonth()||10==g.getDate())&&0==g.getHours()&&0==g.getMinutes()&&0==g.getSeconds()&&0==g.getMilliseconds();n?(q.push(a),p.push(a)):g.getTime()==t.getTime()&&s.push(a);return n},canParse:function(a,d,n,c){if(d){var e=b(a,d);if(e)return n&&(n.format=d),!0}if(!0===c)return!1;for(d=
0;d<g.length;d++)if(e=b(a,g[d]))return n&&(n.format=g[d]),!0;return!1}}})},"tm1web/share/DataEntryShortcutParser":function(){define("dojo/_base/declare ./SpreadSyntaxValidator ./NumberType ../cubeview/ViewCellType ../utility/number ../utility/string".split(" "),function(l,m,k,h,f,c){return l(null,{constructor:function(){this._spreadSyntaxValidator=this._regexpGenericShortcutWithOperand=this._regexpCharacters=this._regexpNumber=this._regexpDirection=this._regexpLinearTextCPShortcut=this._regexpCompoundTextCPShortcut=
this._regexpGrowTextCPShortcut=this._regexpGrowCPShortcut=this._regexpGrowLinearCPShortcut=this._regexpGrowCompoundCPShortcut=null;this._initializeDataEntryShortcuts()},_initializeDataEntryShortcuts:function(){this._separators=c.regexEscape(f.group+f.decimal);this._spreadSyntaxValidator=new m;this._regexpGrowCompoundCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+C(om(pound)?)?[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowLinearCPShortcut=new RegExp("[0-9"+
this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+L(in(ear)?)?[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowTextCPShortcut=/G(ro(w)?)?/i;this._regexpCompoundTextCPShortcut=/C(om(pound)?)?/i;this._regexpLinearTextCPShortcut=/L(in(ear)?)?/i;this._regexpDirection=/[\<\>\|\^]+/;this._regexpNumber=new RegExp("[0-9"+this._separators+"\\-]+","");this._regexpCharacters=
RegExp("[a-zA-Z]+","ig");this._regexpGenericShortcutWithOperand=new RegExp("[A-Z\\+]+[0-9"+this._separators+"\\-]+","gi")},resolveShortcuts:function(c,b,d){var a=c;if(null==a)return null;if(this._spreadSyntaxValidator.isValid(a))return a;a=this._resolveReleaseShortcut(a,d);if("RH"==a||"RC"==a)return a;a=this._resolveHoldShortcut(a,d);if("H"==a||"HC"==a)return a;a=this._resolveKShortcut(a,d);if(null==a)return c;a=this._resolveMShortcut(a,d);if(null==a)return c;if(null!=a.match(this._regexpGrowCompoundCPShortcut)||
null!=a.match(this._regexpGrowLinearCPShortcut)||null!=a.match(this._regexpGrowCPShortcut))return a=this._resolveGrowthPlanningShortcut(a,b),null==a?c:a;a=this._resolveDirection(a);if(null==a)return c;b=a.direction;a=a.modifiedValue;a=this._resolvePlanningShortcuts(a,b,d);if(null==a)return c;d=a.resolvedShortcut;a=a.modifiedValue;return""==d&&f.canParse(a,k.DECIMAL)?(""!=b&&(a="R"+b+a),a):null==a||0<a.length?c:d},_resolveDirection:function(c){var b=c.match(this._regexpDirection),d="";if(null!=b&&
1==b.length&&null!=b[0])if(0==c.indexOf(b[0])||c.indexOf(b[0])==c.length-b[0].length)d=b[0],c=c.replace(b[0],"");else return null;return null!=b&&1<b.length?null:{modifiedValue:c,direction:d}},_resolvePlanningShortcuts:function(c,b,d){var a="",n=c.match(this._regexpGenericShortcutWithOperand);if(null!=n&&1==n.length)try{for(var g=0;g<n.length;g++)if(null!=n[g]){var p=n[g].match(this._regexpNumber),f=n[g].replace(p,"");if(null!=p&&null!=p[0]&&(p=p[0],returnValue=this._resolveAddShortcut(f,p,b,d),returnValue.isShortcutFound||
(returnValue=this._resolveSubtractShortcut(f,p,b,d)),returnValue.isShortcutFound||(returnValue=this._resolveIncreaseShortcut(f,p,b,d)),returnValue.isShortcutFound||(returnValue=this._resolveDecreaseShortcut(f,p,b,d)),returnValue.isShortcutFound||(returnValue=this._resolvePercentShortcut(f,p,b,d)),returnValue.isShortcutFound)){var h=returnValue.stringToReplace,a=returnValue.resolvedShortcut;c=c.replace(n[g],h);break}}}catch(s){return null}return{modifiedValue:c,resolvedShortcut:a}},_resolveKShortcut:function(c,
b){return this._resolveMultiplierShortcut(c,b,"K",1E3)},_resolveMShortcut:function(c,b){return this._resolveMultiplierShortcut(c,b,"M",1E6)},_resolveMultiplierShortcut:function(c,b,d,a){var n=new RegExp("[0-9"+this._separators+"]+"+d,"gi");if(null!=c.match(new RegExp(d+"[0-9"+this._separators+"]+","gi")))return null;n=c.match(n);if(null!=n&&1==n.length&&null!=n[0])for(var g=0;g<n.length;g++){var p=n[g],p=p.replace(d.toLowerCase(),""),p=p.replace(d.toUpperCase(),"");if(b.cellType==h.STR||f.canParse(p)){var q=
f.parse(p),q=q*a;0<=p.indexOf(f.decimal)&&(p=p.split(f.decimal)[1].length,p=p-a.toString().length+1,p=Math.max(0,p),q=q.toFixed(p));q=f.format(q,!0);c=c.replace(n[g],q)}else return null}return c},_resolveHoldShortcut:function(c,b){return this._resolveAllHoldShortcuts(c,b,"Hol(d)?","H","HC")},_resolveReleaseShortcut:function(c,b){return this._resolveAllHoldShortcuts(c,b,"Rel(ease)?","RH","RC")},_resolveAllHoldShortcuts:function(c,b,d,a,n){return null!=c.match(new RegExp(d,"i"))?lastEditedCell.cellInfo.isConsolidated?
n:a:c},_resolveAddShortcut:function(c,b,d){return this._resolveArithmeticShortcut(c,b,d,"\\+|Add","R+","P+")},_resolveSubtractShortcut:function(c,b,d){return this._resolveArithmeticShortcut(c,b,d,"\\~|Sub(tract)?","R~","P~")},_resolveIncreaseShortcut:function(c,b,d){return this._resolveArithmeticShortcut(c,b,d,"Inc(rease)?","P%+","P%+")},_resolveDecreaseShortcut:function(c,b,d){return this._resolveArithmeticShortcut(c,b,d,"Dec(rease)?","P%~","P%~")},_resolvePercentShortcut:function(c,b,d){return this._resolveArithmeticShortcut(c,
b,d,"Per(cent)?","P%","P%")},_resolveArithmeticShortcut:function(c,b,d,a,n,g){var p=!1,h="",r="";a=c.match(new RegExp(a,"i"));null!=a&&(h=c.replace(a[0],""),p=!0);p&&f.canParse(b,k.DECIMAL)?r=""!=d?n+d+b:g+b:p=!1;return{stringToReplace:h,isShortcutFound:p,resolvedShortcut:r}},_resolveGrowthPlanningShortcut:function(c,b){var d=c;try{var a=this._resolveDirection(d);if(null==a)return null;var n=a.direction,d=a.modifiedValue,a="";if("G"!=d.substring(0,1).toUpperCase()){var g=d.search(/G/i);0<=g&&(a=d.substring(0,
g),d=d.replace(d.substring(0,g),""))}else a=b;g="";d=d.replace(this._regexpGrowTextCPShortcut,"");d=d.replace(this._regexpCompoundTextCPShortcut,"");g=d=d.replace(this._regexpLinearTextCPShortcut,"");null==a&&(a="");null==n&&(n="");null==g&&(g="");return"GR"+n+a+":"+g}catch(p){return null}}})})},"tm1web/share/sandbox/TM1WebSandboxCreateDialog":function(){define(["dojo/_base/declare","./SandboxCreateDialog","../service-loader!SandboxService"],function(l,m,k){return l(m,{constructor:function(h,f){this._tm1Widget=
h;this._objectId=f},executeGetSandboxesServiceCall:function(h){this._tm1Widget.getSandboxes().then(h)},executeCopySandboxServiceCall:function(h,f,c){k.copySandbox(this._objectId,h,f,c)},executeCreateSandboxServiceCall:function(h,f){k.createSandbox(this._objectId,h,f)},destroy:function(){this.inherited(arguments);delete this._tm1Widget;delete this._objectId}})})},"tm1web/share/DialogUnderlayEx":function(){define(["dojo/_base/declare","dijit/DialogUnderlay","dojo/topic"],function(l,m,k){return l(m,
{hide:function(){this.bgIframe&&this.inherited(arguments)},show:function(){this.inherited(arguments);setTimeout(function(){k.publish("TM1Web-DialogUnderlayDisplayed")},0)},layout:function(){this.inherited(arguments);this.bgIframe||this.open||(this.domNode.style.display="none")}})})},"tm1web/share/sandbox/SandboxCreateDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/Deferred dojo/keys dojo/topic dijit/form/RadioButton dijit/form/TextBox dijit/Dialog dojox/html/entities ../../utility/message-localizer ../CheckRow ../RadioRow ./SandboxDialog ../../widgets/WarningAlert ../../widgets/ErrorAlert".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u){return l(s,{constructor:function(){this._sandboxToCopy=this._sandBoxNameTextBox=this._actionsContainer=null;this._createNew=!1;this.onCreateDeferred=new c},createSandboxDialog:function(){this.popup=new n({title:p.get("SANDBOX_CREATION_STR")});f.add(this.popup.domNode,"tm1webSandboxCreateDialog tm1webFormDialog");f.add(this.popup.containerNode,"tm1webSandboxCreateDialogPane");this._contentContainer=h.create("div");h.place(this._contentContainer,this.popup.containerNode);
f.add(this._contentContainer,"tm1webSandboxDialogContent")},createSandboxTopInput:function(){var a=h.create("label",{innerHTML:p.get("SANDBOX_NAME_STR"),className:"tm1webSandboxDialogHeader"});h.place(a,this._contentContainer);var b=h.create("div");h.place(b,this._contentContainer);this._actionsContainer=b;this._sandBoxNameTextBox=this._createTextBox(p.get("SANDBOX_NAME_STR"));this._sandBoxNameTextBox.onInput=m.hitch(this,"_onInput");a.setAttribute("for",this._sandBoxNameTextBox.textbox.id)},_createTextBox:function(b){b=
this._createSandboxInputDiv();var g=new a(null);f.add(g.domNode);h.place(g.domNode,b);return g},_createLabel:function(a,b,g){a=h.create("label",{innerHTML:a});a.setAttribute("for",g);h.place(a,b)},_createActionChoiceRadioButton:function(a,b,g){var n=this._createSandboxInputDiv();g=new d({name:"ActionChoice",value:g});g.setChecked(b);h.place(g.domNode,n);this._createLabel(a,n,g.id);return n},_onInput:function(a){if(a.keyCode===e.ENTER)this.onOk()},_createSandboxInputDiv:function(){var a=h.create("div",
{className:"tm1webSandboxInput"});h.place(a,this._actionsContainer);return a},getOkButtonText:function(){return p.get("CREATE_STR")},_onCreateSandboxDialog:function(a){if(a){var b=this;b._sandboxContainerLabel.innerHTML=p.get("SANDBOX_CREATE_FROM_STR");k.forEach(a.sandboxes,function(a){(a=b.createSandboxItemRow(a,a.baseSandbox||a.defaultSandbox))&&h.place(a,b._sandboxContainer)})}this.popup.show()},createSandboxItemRow:function(a,b){if(""==a.name)return this._sandboxContainer.style.display="none",
this._createNew=!0,null;var d=new r(a.name,g.encode(a.name));this._sandboxContainer.style.display="";b?(d.onClick=m.hitch(this,"_onSelectBaseRow"),this._createNew=d.checked=!0):d.onClick=m.hitch(this,"_onSelectRow");return d.createSandboxRadioButton()},_onSelectBaseRow:function(a){this._sandboxToCopy=null;this._createNew=!0},_onSelectRow:function(a){a!=this._sandboxToCopy&&(this._sandboxToCopy=a,this._createNew=!1)},onOk:function(){this._createNew?this._createSandbox():this._copySandbox()},_copySandbox:function(){if(this._sandboxToCopy){var a=
this._sandBoxNameTextBox.value;if(""!=m.trim(a)){var b=this._sandboxToCopy.identifier,g=m.hitch(this,"onCopySandbox"),d=this.onCreateDeferred;d.then(g);this.executeCopySandboxServiceCall(b,a,{callback:this._onSandboxCreated,arg:{deferred:d,newName:a},scope:this})}else t.show({message:p.get("SANDBOX_NAME_MISSING_STR"),title:p.get("SANDBOX_WARNING_TITLE_STR")})}else t.show({message:p.get("NO_SANDBOX_SELECTED_STR"),title:p.get("SANDBOX_WARNING_TITLE_STR")})},executeCopySandboxServiceCall:function(a,
b,g){},_createSandbox:function(){var a=this._sandBoxNameTextBox.get("value");if(""!=m.trim(a)){var b=m.hitch(this,"onCreateSandbox"),g=this.onCreateDeferred;g.then(b);this.executeCreateSandboxServiceCall(a,{callback:this._onSandboxCreated,arg:{deferred:g,newName:a},scope:this})}else t.show({message:p.get("ENTER_NAME_FOR_SANDBOX_STR"),title:p.get("SANDBOX_WARNING_TITLE_STR")})},_onSandboxCreated:function(a,g){a&&g.newName&&b.publish("TM1Web-SandboxCreated",g.newName);g.deferred.resolve(a)},executeCreateSandboxServiceCall:function(a,
b){},_onCreateSandboxFailed:function(a){u.show({message:a.get_message(),title:p.get("SANDBOX_WARNING_TITLE_STR")})},onCreateSandbox:function(a){a||t.show({message:p.get("SANDBOX_CREATION_FAILED_STR"),title:p.get("SANDBOX_WARNING_TITLE_STR")});this.destroy()},onCopySandbox:function(a){a||t.show({message:p.get("SANDBOX_COPY_FAILED_STR"),title:p.get("SANDBOX_WARNING_TITLE_STR")});this.destroy()},destroy:function(){this.inherited(arguments);delete this._actionsContainer;delete this._sandBoxNameTextBox;
delete this._sandboxToCopy;delete this._createNew;delete this.onCreateDeferred}})})},"tm1web/websheet/SheetCellSelector":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/_base/html dojo/topic dojo/aspect dojo/on dojo/keys dojo/mouse dijit/popup dijit/TooltipDialog dojox/html/entities ../share/Base ./SheetSelectionPanel ./Utility ./ScrollingPane ../share/service-loader!WebSheetService ../mobile/sniff".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,
u,x){return l(q,{constructor:function(a){this._dataGrid=a;this.PreviousEndingCell=null;this._eventHandlers=[];this._timerId=this._selectArea=this._selectPanel=null;this._canMouseMoveSelectPanel=this._isLoading=!1;this._initializeSheetCellSelector();this._clickHandle=this._tooltipDialog=null},_initializeSheetCellSelector:function(){x("mobile-device")?this.own(b(this._dataGrid.Grid,"touchstart",k.hitch(this,"_onTouchStart"))):b(this._dataGrid.Grid,"mousedown",k.hitch(this,"_onMouseDown"));this.own(b(this._dataGrid.Panel,
"keydown",k.hitch(this,"_OnKeyDown")),c.subscribe(s.createTopicId(this._dataGrid.ObjectId,this._dataGrid.index,"ONMOUSEDOWN"),k.hitch(this,"_listenWholeSheetMouseDown")))},_OnKeyDown:function(a){if(this._selectArea&&this._selectArea.startCell){var b=this._getRealCoordinate(this._selectArea.startCell),g=null,n=null;switch(a.keyCode){case d.TAB:g=a.shiftKey?"LEFT":"RIGHT";h.stop(a);break;case d.ENTER:g=a.shiftKey?"UP":"DOWN";break;case d.LEFT_ARROW:a.shiftKey?n="LEFT":g="LEFT";h.stop(a);break;case d.UP_ARROW:a.shiftKey?
n="UP":g="UP";h.stop(a);break;case d.RIGHT_ARROW:a.shiftKey?n="RIGHT":g="RIGHT";h.stop(a);break;case d.DOWN_ARROW:if(a.altKey)return;a.shiftKey?n="DOWN":g="DOWN";h.stop(a);break;case d.F9:c.publish(this._dataGrid.ObjectId+"-Recalculate");break;case d.END:1==a.ctrlKey&&1==a.shiftKey&&(this._selectAllToBottomRight(),h.stop(a));break;case d.HOME:1==a.ctrlKey&&1==a.shiftKey&&(this._selectAllToTopLeft(),h.stop(a))}g?a.ctrlKey?this._getEdgeCell(b.rowIndex,b.colIndex,g):this._getNextCell(b.rowIndex,b.colIndex,
g):n&&this._getNextEdge(n)}},_getEdgeCell:function(a,b,g){this._isLoading||(this._isLoading=!0,u.getEdgeCell(this._dataGrid.ObjectId,a,b,g,{callback:this._getNextCellEx,arg:g,scope:this,exceptionHandler:this._resetIsLoading}))},_getNextEdge:function(a){this._isLoading||(this._isLoading=!0,u.getNextEdge(this._dataGrid.ObjectId,a,{callback:this._getNextEdgeEx,arg:a,scope:this,exceptionHandler:this._resetIsLoading}))},_resetIsLoading:function(){this._isLoading=!1},_getNextEdgeEx:function(a,b){this._isLoading=
!1;a&&this.selectCells(a,b)},_getNextCell:function(a,b,g){this._isLoading||(this._isLoading=!0,u.getNextCell(this._dataGrid.ObjectId,a,b,g,{callback:this._getNextCellEx,arg:g,scope:this,exceptionHandler:this._resetIsLoading}))},_getNextCellEx:function(a,b){this._isLoading=!1;if(a){var g=a.startCell;g&&(g=this._getCell(g.x,g.y))&&(this.PreviousEndingCell=g);this.selectCells(a,b)}},_onValidation:function(a,d){if(a)if(null==this._tooltipDialog){var c=this;this._tooltipDialog=new g({style:"width: 300px",
content:"\x3cspan style\x3d'font-weight:bold'\x3e"+p.encode(a.inputTitle||"")+"\x3c/span\x3e\x3cbr\x3e"+p.encode(a.inputMessage||""),onClick:function(){c.closePopup();c=null}});this._clickHandle=b(this._dataGrid.Grid,"mousedown",k.hitch(this,"closePopup"));n.open({popup:this._tooltipDialog,around:d})}else this.closePopup()},closePopup:function(){this._tooltipDialog&&(n.close(this._tooltipDialog),this._tooltipDialog.destroyRecursive(),this._clickHandle.remove(),this._tooltipDialog=null)},_listenWholeSheetMouseDown:function(a){a!=
this&&this._unSelectCells()},_startDrag:function(a){if(a=s.getClosestAncestorNode(a,"TD"))this.PreviousEndingCell=a,this._canMouseMoveSelectPanel=!0,this._selectSingleCell(a),this._eventHandlers.push(b(this._dataGrid.Grid,"mouseover",k.hitch(this,"_doDragSelect"))),this._eventHandlers.push(b(document,"mouseup",k.hitch(this,"_endDragSelect")))},_onMouseDown:function(b){var g=b.target;if(a.isLeft(b))if(b.shiftKey){b={x:this.PreviousEndingCell.cellInfo.clientRowIndex,y:this.PreviousEndingCell.cellInfo.clientColumnIndex};
var d=g.cellInfo.clientRowIndex,n=g.cellInfo.clientColumnIndex;this.selectCells({leftTop:{x:b.x>=d?d:b.x,y:b.y>=n?n:b.y},bottomRight:{x:b.x>=d?b.x:d,y:b.y>=n?b.y:n},startCell:b});this._notifyServerMouseOverCell(g)}else this._onSingleCellSelect(g);else a.isRight(b)&&(g=s.getClosestAncestorNode(g,"TD"))&&g.cellInfo&&(null==this._selectArea||g.cellInfo.clientRowIndex<this._selectArea.leftTop.x||g.cellInfo.clientRowIndex>this._selectArea.bottomRight.x||g.cellInfo.clientColumnIndex<this._selectArea.leftTop.y||
g.cellInfo.clientColumnIndex>this._selectArea.bottomRight.y)&&this._selectSingleCell(g)},_onTouchStart:function(a){this._onSingleCellSelect(a.target)},_onSingleCellSelect:function(a){c.publish(s.createTopicId(this._dataGrid.ObjectId,this._dataGrid.index,"ONMOUSEDOWN"),this);this._startDrag(a)},_selectSingleCell:function(a){if(a){var b=this._getRealCoordinate(a);this._notifyServerStartPosition(b);a=this._getCoordinateInGrid(a);a={x:a.rowIndex,y:a.colIndex};this.selectCells({leftTop:a,bottomRight:a,
startCell:a})}},_isSingleCellSelected:function(){return this._dataGrid.SelectedArea.bottomRight.x===this._dataGrid.SelectedArea.leftTop.x&&this._dataGrid.SelectedArea.bottomRight.y===this._dataGrid.SelectedArea.leftTop.y},_notifyServerStartPosition:function(a){u.startDragSelect(this._dataGrid.ObjectId,a.rowIndex,a.colIndex)},_getRealCoordinate:function(a){return this._dataGrid.GetCoordinate(a)},_doDragSelect:function(a){(a=s.getClosestAncestorNode(a.target,"TD"))&&this.PreviousEndingCell!=a&&this._notifyServerMouseOverCell(a)},
_notifyServerMouseOverCell:function(a){this.PreviousEndingCell=a;clearTimeout(this._timerId);this._timerId=setTimeout(k.hitch(this,this._notifyServerMouseOverCellEx),100)},_notifyServerMouseOverCellEx:function(){var a=this._getRealCoordinate(this.PreviousEndingCell);u.getSelectArea(this._dataGrid.ObjectId,a.rowIndex,a.colIndex,{callback:this.selectCells,scope:this})},_unSelectCells:function(){null!=this._selectPanel&&(this._selectArea.startCell=null,this._dataGrid.SelectedArea=null,this._selectPanel.hide());
this._dataGrid.cellEditController.hide()},_setSelectArea:function(a){this._selectArea=a;if(a=this._selectArea.startCell)this._selectArea.startCell=this._getCell(a.x,a.y),this._dataGrid.SelectedArea={StartCell:this._selectArea.startCell,leftTop:this._selectArea.leftTop,bottomRight:this._selectArea.bottomRight},c.publish(this._dataGrid.ObjectId+"-CellsSelected",this._dataGrid.SelectedArea)},selectCells:function(a,b){if(a){this._setSelectArea(a);this._selectPanel?this._selectPanel.unhide():(this._selectPanel=
new r(this._dataGrid.Panel),this.own(e.after(this._selectPanel,"onmousemove",k.hitch(this,"_onmouseoverSelectPanel"),!0)),this.own(e.after(this._selectPanel,"onmousedown",k.hitch(this,"_onmousedownSelectPanel"),!0)));var g=this._computePositionInfo(this._selectArea.leftTop,this._selectArea.bottomRight);if(g){var d=this._getStartCellPositionInfo();if(this._singleCellSelected(g,d)){var n=this._selectArea.startCell;n.cellInfo.hasInputMessage&&u.getValidation(this._dataGrid.ObjectId,n.cellInfo.rowIndex,
n.cellInfo.colIndex,{callback:this._onValidation,arg:n,scope:this})}this._selectPanel.refresh(g,d);this._scrollIntoView(b)}}else this._selectPanel&&this._selectPanel.hide()},_singleCellSelected:function(a,b){return b&&a.l==b.l&&a.w==b.w&&a.t==b.t&&a.h==b.h?!0:!1},_getStartCellPositionInfo:function(){return this._selectArea.startCell?f.coords(this._selectArea.startCell):null},_onmousedownSelectPanel:function(a){2!=a.button&&(a=this._searchMouseOverCell(a.clientX,a.clientY),this._startDrag(a))},_computePositionInfo:function(a,
b){var g=this._getCell(a.x,a.y),d=this._getCell(b.x,b.y);if(g&&d){var g=f.coords(g),d=f.coords(d),n=null,c=null,e=null,c=g.l-d.l;0<c?(n=d.l,e=c+g.w):(n=g.l,e=-c+d.w);var p=null,p=g.t-d.t;0<p?(c=d.t,p+=g.h):(c=g.t,p=-p+d.h);return{l:n,t:c,w:e,h:p}}},_onmouseoverSelectPanel:function(a){if(this._canMouseMoveSelectPanel){var b=a.clientX;a=a.clientY;var g=f.coords(this.PreviousEndingCell);if(g.x>b||g.x+g.w<b||g.y>a||g.y+g.h<a)b=this._searchMouseOverCell(b,a),null!=b&&this._notifyServerMouseOverCell(b)}},
_computeStartEndRow:function(){var a=this._selectArea.leftTop,b=this._selectArea.bottomRight,g;a.x>b.x?(g=getCellbottomRight.x,a=this._adjustEndRowIndexByMergedCell(a.x,a.y)):(g=a.x,a=this._adjustEndRowIndexByMergedCell(b.x,b.y));return{startRowIndex:g,endRowIndex:a}},_adjustEndRowIndexByMergedCell:function(a,b){var g=a,d=this._getCell(a,b);1<d.rowSpan&&(g+=d.rowSpan-1);return g},_getCoordinateInGrid:function(a){return{rowIndex:a.parentNode.rowIndex,colIndex:a.cellIndex}},_searchMouseOverCell:function(a,
b){for(var g=this._computeStartEndRow(),g=this._searchRow(b,g.startRowIndex,g.endRowIndex),d=null;g&&null==d;)d=this._searchCell(g,a,0,g.cells.length-1),g=g.previousSibling;return d},_searchRow:function(a,b,g){if(b<=g){var d;d=parseInt((b+g)/2);var n=this._getRow(d),c=f.coords(n),e=null;return e=a<c.y?this._searchRow(a,b,d-1):a<=c.y+c.h?n:this._searchRow(a,d+1,g)}return null},_searchCell:function(a,b,g,d){if(g<=d){var n;n=Math.floor((g+d)/2);var c=a.cells[n],e=f.coords(c),p=null;return p=b<e.x?this._searchCell(a,
b,g,n-1):b<=e.x+e.w?c:this._searchCell(a,b,n+1,d)}return null},_getRow:function(a){return this._dataGrid.Grid.rows[a]},_getStartPosition:function(a){a=f.coords(this._dataGrid.Grid.rows[a.x].cells[a.y]);return{l:a.l,t:a.t}},_getCell:function(a,b){return this._dataGrid.Grid.rows[a]?this._dataGrid.Grid.rows[a].cells[b]:null},_getWidthHeight:function(a,b){var g=f.coords(this._dataGrid.Grid.rows[b.x].cells[b.y]);return{w:g.l-a.l+g.w-6,h:g.t-a.t+g.h-6}},_endDragSelect:function(a){this._canMouseMoveSelectPanel=
!1;m.forEach(this._eventHandlers,function(a){a.remove()})},_scrollIntoView:function(a){var b=this._dataGrid.leftScrollPane,g=this._dataGrid.topScrollPane;if(this._selectArea&&a)switch(a){case "LEFT":a=this._getCell(this._selectArea.leftTop.x,this._selectArea.leftTop.y);g=this._getOffsetLeft(a);0>g&&(b.increaseScrollLeft?b.increaseScrollLeft(g-3):b.Panel.scrollLeft+=g-3);break;case "UP":a=this._getCell(this._selectArea.leftTop.x,this._selectArea.leftTop.y);b=this._getOffsetTop(a,g);0>b&&(g.increaseScrollTop?
g.increaseScrollTop(b-3):g.Panel.scrollTop+=b-3);break;case "RIGHT":a=this._getCell(this._selectArea.bottomRight.x,this._selectArea.bottomRight.y);var g=this._getOffsetLeft(a),d=a.offsetWidth+(g-this._getPaneClientWidth(a))+3;g+a.offsetWidth>this._getPaneClientWidth(a)&&(b.increaseScrollLeft?b.increaseScrollLeft(d):b.Panel.scrollLeft+=d);break;case "DOWN":a=this._getCell(this._selectArea.bottomRight.x,this._selectArea.bottomRight.y),b=this._getOffsetTop(a,g),d=a.offsetHeight+(b-this._getPaneClientHeight(a,
g))+3,b+a.offsetHeight>this._getPaneClientHeight(a,g)&&(g.increaseScrollTop?g.increaseScrollTop(d):g.Panel.scrollTop+=d)}},_getOffsetTop:function(a,b){var g=a.offsetParent.parentNode;b.isInstanceOf(t)&&(g=g.parentNode.parentNode);return a.offsetTop+g.offsetTop-g.parentNode.scrollTop},_getOffsetLeft:function(a){var b=a.offsetParent.offsetParent;return a.offsetLeft+(parseInt(b.style.left)||-b.parentNode.scrollLeft)},_getPaneClientHeight:function(a,b){var g=a.offsetParent.parentNode.parentNode.parentNode;
b.isInstanceOf(t)&&(g=g.parentNode);return g.clientHeight},_getPaneClientWidth:function(a){return a.offsetParent.offsetParent.parentNode.clientWidth},_selectAllToBottomRight:function(){u.selectAllToCorner(this._dataGrid.ObjectId,"RIGHT","DOWN",{callback:this.selectCells,scope:this})},_selectAllToTopLeft:function(){u.selectAllToCorner(this._dataGrid.ObjectId,"LEFT","UP",{callback:this.selectCells,scope:this})}})})},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget",
"./_TemplatedMixin"],function(l,m,k,h){return l("dijit.ToolbarSeparator",[k,h],{templateString:'\x3cdiv class\x3d"dijitToolbarSeparator dijitInline" role\x3d"presentation"\x3e\x3c/div\x3e',buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"tm1web/share/TM1MessageDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/Dialog dijit/form/Button ./Base".split(" "),function(l,m,k,h,f,
c,e){return l([f,e],{constructor:function(b,d,a){this.ButtonsContainer=null;this._dialogStyle=d;this._YesButtonStr=a;this._OKButton=null},postCreate:function(){this.inherited(arguments);k.add(this.domNode,this._dialogStyle);this._CreateActionButtons()},_CreateActionButtons:function(){var b=document.createElement("div");h.place(b,this.containerNode);k.add(b,"tm1webRightAlign");this.ButtonsContainer=b;this._OKButton=this._CreateButton(this._YesButtonStr,this._OnOK)},_CreateButton:function(b,d){var a=
new c({label:b,onClick:m.hitch(this,d)});k.add(a.domNode,"tm1webAlertButton");h.place(a.domNode,this.ButtonsContainer);return a},SetDefaultButton:function(b){this._OKButton.set("tabIndex",1)},Show:function(){this.startup();this.show()},_OnOK:function(){this._TearDownDialog()},_TearDownDialog:function(){this.destroyRecursive(!1)}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(l,m,k){return l("dijit.form.RadioButton",[m,k],{baseClass:"dijitRadio"})})},
"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(l,m,k,h,f,c){return l("dijit.MenuSeparator",[k,h,f],{templateString:c,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(l,
m,k,h){return l("dijit.form.ToggleButton",[k,h],{baseClass:"dijitToggleButton",setChecked:function(f){m.deprecated("setChecked("+f+") is deprecated. Use set('checked',"+f+") instead.","","2.0");this.set("checked",f)}})})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(l,m,k,h,f,c,e,b){function d(a){var b="";a=a.childNodes;for(var g=0,n;n=a[g];g++)8!=n.nodeType&&(b=1==n.nodeType?b+d(n):b+n.nodeValue);
return b}var a={},n=0,g=m._scopeName+"attrid";k.add("dom-textContent",function(a,b,g){return"textContent"in g});l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};l.get=function(a,b){a=f.byId(a);var g=b.toLowerCase(),g=l.names[g]||b;return"textContent"!=g||k("dom-textContent")?a[g]:d(a)};l.set=function(d,q,r){d=f.byId(d);if(2==arguments.length&&"string"!=
typeof q){for(var s in q)l.set(d,s,q[s]);return d}s=q.toLowerCase();s=l.names[s]||q;if("style"==s&&"string"!=typeof r)return c.set(d,r),d;if("innerHTML"==s)return k("ie")&&d.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(e.empty(d),d.appendChild(e.toDom(r,d.ownerDocument))):d[s]=r,d;if("textContent"==s&&!k("dom-textContent"))return e.empty(d),d.appendChild(d.ownerDocument.createTextNode(r)),d;if(h.isFunction(r)){var m=d[g];m||(m=n++,d[g]=m);a[m]||(a[m]={});
var u=a[m][s];if(u)b.disconnect(u);else try{delete d[s]}catch(x){}r?a[m][s]=b.connect(d,s,r):d[s]=null;return d}d[s]=r;return d}})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(l,m,k,h){return l("dijit.CheckedMenuItem",k,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:h,checked:!1,_setCheckedAttr:function(f){this.domNode.setAttribute("aria-checked",f?"true":"false");this._set("checked",
f)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(f){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(f)}})})},"dojox/html/_base":function(){define("../main dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p){var q=c.getObject("html",
!0,l);if(d("ie"))var r=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var s=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,t=q._adjustCssPaths=function(b,g){if(g&&b)return r&&(g=g.replace(r,function(g,d,n,c,e){return d+(new a(b,"./"+c)).toString()+e})),g.replace(s,function(g,d,n,c,e,p){return n?'@import "'+(new a(b,"./"+n)).toString()+'"'+p:"url("+(new a(b,"./"+e)).toString()+")"+p})},
u=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,x=q._adjustHtmlPaths=function(b,g){var d=b||"./";return g.replace(u,function(b,g,n,c,e,p,f,h){return g+(n?n+"\x3d"+c+(new a(d,e)).toString()+c:"style\x3d"+p+t(d,f)+p)+h})},w=q._snarfStyles=function(a,b,g){g.attributes=[];b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,'@ import "')});
return b.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(b,d,n,c,e,p){b=(d||c||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");n?n=g.push(a?t(a,n):n):(n=g.push('@import "'+p+'";'),b=b.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(b){b=b.split(/\s+/);p={};c=0;for(e=b.length;c<e;c++)d=b[c].split("\x3d"),p[d[0]]=d[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");g.attributes[n-1]=p}return""})},v=q._snarfScripts=function(a,
b){function g(a){b.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"\x26"+b+";"}}),n.get({url:a,sync:!0,load:function(a){b.code+=a+";"},error:b.errBack}))}b.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,d,n,c){n?g(n):b.code+=c;return""})},z=q.evalInGlobal=function(a,b){b=b||p.doc.body;var g=b.ownerDocument.createElement("script");g.type="text/javascript";b.appendChild(g);g.text=a};q._ContentSetter=m(f._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var b,g,d,n=this.node.ownerDocument,c=n.getElementsByTagName("head")[0],e=0,p=a.length;e<p;e++){d=a[e];g=a.attributes[e];
b=n.createElement("style");b.setAttribute("type","text/css");for(var f in g)b.setAttribute(f,g[f]);this._styleNodes.push(b);c.appendChild(b);b.styleSheet?b.styleSheet.cssText=d:b.appendChild(n.createTextNode(d))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,b=this._styles;if(e.isString(a)){this.adjustPaths&&this.referencePath&&(a=x(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=w(this.referencePath,
a,b);if(this.executeScripts){var g=this,b={downloadRemote:!0,errBack:function(a){g._onError.call(g,"Exec",'Error downloading remote script in "'+g.id+'"',a)}},a=v(a,b);this._code=b.code}}this.content=a},onEnd:function(){var a=this._code,d=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)h.destroy(this._styleNodes.pop());this.renderStyles&&d&&d.length&&this._renderStyles(d);var n=new k,c=this.getInherited(arguments),p=arguments,d=e.hitch(this,function(){c.apply(this,
p);g(this.parseDeferred,function(){n.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{z(a,this.node)}catch(f){this._onError("Exec","Error eval script in "+this.id+", "+f.message,f)}b(d)}else d();return n.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)h.destroy(this._styleNodes.pop());
delete this._styleNodes;e.mixin(this,q._ContentSetter.prototype)}});q.set=function(a,b,g){return g?(new q._ContentSetter(e.mixin(g,{content:b,node:a}))).set():f._setNodeContent(a,b,!0)};return q})},"tm1web/celledit/shortcut-parser":function(){define(["../share/DataEntryShortcutParser"],function(l){return new l})},"tm1web/mobile/_ScrollDeltaMixin":function(){define(["dojo/_base/declare"],function(l){return l(null,{_retainStartCoordinates:!0,_currentX:null,_currentY:null,_onTouchStart:function(m){m.touches&&
this._setCoordinates(this._getPageX(m),this._getPageY(m))},_onTouchMove:function(m){if(m.touches&&!(1<m.touches.length)){var k=this._getPageX(m);m=this._getPageY(m);this._handleTouchMove(this._getDeltaX(k),this._getDeltaY(m));this._retainStartCoordinates||this._setCoordinates(k,m)}},_handleTouchMove:function(m,k){},_onTouchEnd:function(m){this._setCoordinates(null,null)},_setCoordinates:function(m,k){this._currentX=m;this._currentY=k},_getDeltaX:function(m){return this._currentX-m},_getDeltaY:function(m){return this._currentY-
m},_getPageX:function(m){return m.touches[0].pageX},_getPageY:function(m){return m.touches[0].pageY}})})},"tm1web/utility/css-loader":function(){define(["dojo/_base/window","dojo/on","dojo/Deferred","dojo/dom-construct","./url"],function(l,m,k,h,f){var c=l.doc.getElementsByTagName("head")[0],e={},b=function(a,b){var g={remove:function(){h.destroy(a);a=g=null;delete e[b]}};return e[b]=g},d=function(a){var d=new k,g=d.promise,p=f.compact(a),q=e[p];if(q)return d.resolve(q),g;a=h.create("link",{type:"text/css",
rel:"stylesheet",href:p},c);q=b(a,p);if("onload"in a)m.once(a,"load, error",function(a){"load"===a.type?d.resolve(q):(q.remove(),d.reject(p+" failed to load."))});else d.resolve(q);return g};return{load:function(a,b,g){if(3<=arguments.length&&"string"===typeof a&&"function"===typeof b&&"function"===typeof g){var c=b.toUrl(a);d(c).then(function(){g(1)})}else return d(a)}}})},"tm1web/utility/message-localizer":function(){define(["dojo/_base/lang","dojo/i18n!../common/nls/CommonMessages"],function(l,
m){return{get:function(k){if(k in m){var h=m[k];return 1<arguments.length?l.replace(h,Array.prototype.slice.call(arguments,1)):h}console.error("Localized string not found for key: "+k);return"^"+k}}})},"tm1web/subseteditor/ElementType":function(){define({Consolidated:"Consolidated",Simple:"Simple",String:"String"})},"tm1web/share/http-session-initializer":function(){define(["dojo/Deferred","./service-loader!TM1Service"],function(l,m){var k;return{init:function(){if(k)return k.promise;k=new l;m.initializeHttpSession({callback:function(){k.resolve();
setTimeout(function(){k=null},1E4)},errorHandler:function(h){k.reject(h);k=null}});return k.promise}}})},"tm1web/websheet/spreading/SpreadDialogClear":function(){define(["dojo/_base/declare","./SpreadDialogBase"],function(l,m){return l(m,{constructor:function(){this._InitializeSpreadDialogClear()},_InitializeSpreadDialogClear:function(){},_CreateContent:function(){this._CreateExtendContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},
_GetControlString:function(){var k;k="C";0<(this._DirectionValue&1)&&(k+="\x3c");0<(this._DirectionValue&2)&&(k+="\x3e");0<(this._DirectionValue&4)&&(k+="^");0<(this._DirectionValue&8)&&(k+="|");return k}})})},"tm1web/subseteditor/TreeUpdateSynchronizer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dijit/Destroyable"],function(l,m,k,h){return l(h,{_pendingUpdate:null,_executionCount:0,constructor:function(f){this._attachListeners(f)},_attachListeners:function(f){var c=
this;this.own(k.around(f,"_expandNode",function(e){return function(){return c._execute(this,e,arguments)}}));this.own(k.around(f,"_collapseNode",function(e){return function(){return c._execute(this,e,arguments)}}));this.own(k.around(f,"_onFetch",function(e){return function(b){if(0<c._executionCount)c._pendingUpdate=m.hitch(this,e,b);else return c._execute(this,e,arguments)}}))},_execute:function(f,c,e){this._executionCount++;return c.apply(f,e).then(m.hitch(this,"_onExecuteComplete"))},_onExecuteComplete:function(){this._executionCount--;
if(0>=this._executionCount&&this._pendingUpdate){var f=this._pendingUpdate;this._pendingUpdate=null;this._executionCount++;f().then(m.hitch(this,"_onExecuteComplete"))}},destroy:function(){this.inherited(arguments);this._pendingUpdate=null}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(l,m){return l("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},
_getFocusItems:function(){var k=m._getTabNavigable(this.domNode);this._firstFocusItem=k.lowest||k.first||this.closeButtonNode||this.domNode;this._lastFocusItem=k.last||k.highest||this._firstFocusItem}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p){function q(){}
function r(a){return function(b,g,d,n){return b&&"string"==typeof g&&b[g]==q?b.on(g.substring(2).toLowerCase(),e.hitch(d,n)):a.apply(k,arguments)}}l.around(k,"connect",r);c.connect&&l.around(c,"connect",r);return h("dijit._Widget",[n,g,p],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(a){this._toConnect={};for(var b in a)this[b]===q&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=
a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===q?k.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){c.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,
b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){c.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?b("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),
function(l,m,k,h,f,c,e){return l("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(b){this._set("list",b)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(b){return new RegExp("^"+b.replace(/(\\.)|(\*)|(\?)|\W/g,function(b,a,n,g){return n?".*":g?".":a?a:"\\"+b})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&
(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(b){if(!this.disabled&&!this.readOnly){var d=b.charOrCode;if(!("type"in b&&"key"==b.type.substring(0,3)&&(b.altKey||(b.ctrlKey||b.metaKey)&&"x"!=d&&"v"!=d||d==m.SHIFT))){this._prev_key_backspace=
b=!1;switch(d){case m.DELETE:case m.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:b="string"==typeof d||229==d}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(b){this._abortQuery();var d=this,a=k.clone(this.query),n={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},g=
f.substitute(this.queryExpr,[b.replace(/([\\\*\?])/g,"\\$1")]),e,h=function(){var b=d._fetchHandle=d.store.query(a,n);d.disabled||d.readOnly||e!==d._lastQuery||c(b,function(g){d._fetchHandle=null;d.disabled||d.readOnly||e!==d._lastQuery||c(b.total,function(b){g.total=b;var c=d.pageSize;if(isNaN(c)||c>g.total)c=g.total;g.nextPage=function(b){n.direction=b=!1!==b;n.count=c;b?(n.start+=g.length,n.start>=g.total&&(n.count=0)):(n.start-=c,0>n.start&&(n.count=Math.max(c+n.start,0),n.start=0));0>=n.count?
(g.length=0,d.onSearch(g,a,n)):h()};d.onSearch(g,a,n)})},function(a){d._fetchHandle=null;d._cancelingQuery||console.error(d.declaredClass+" "+a.toString())})};k.mixin(n,this.fetchProperties);this.store._oldAPI?e=g:(e=this._patternToRegExp(g),e.toString=function(){return g});this._lastQuery=a[this.searchAttr]=e;this._queryDeferHandle=this.defer(h,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;b&&(this.store=
e.byId(b))}this.inherited(arguments)}})})},"tm1web/websheet/spreading/SpreadDialogStraightLine":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/form/RadioButton ../../utility/message-localizer ../../cubeview/TitlePanel ./SpreadDialogBase dijit/registry".split(" "),function(l,m,k,h,f,c,e,b,d){return l(b,{constructor:function(){this._ActionValue=this._DirectionValue="";this._EndValue=this._StartValue=null;this._HorizontalVerticalValue="\x3e";this._InitializeSpreadDialogStraightLine()},
_InitializeSpreadDialogStraightLine:function(){},_CreateContent:function(){this._CreateValuesContent(this._Dialog.containerNode);this._CreateExtendContent(this._Dialog.containerNode);this._CreateUpdateActionContent();this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons");"GR"==this._CommandString&&(this._EndValue.value="")},_CreateValueTextBox:function(a,b,g){g=this.CreatePanel("",g);var c=d.getUniqueId("tm1webValueTextBoxLabelInline"),e=this.CreateA11yLabel(b,
"","tm1webValueTextBoxLabelInline",c);h.place(e,g);e.innerHTML=a;a=h.create("input");a.value=this._convertFloat(this._cellInfo.numericValue);k.add(a,"tm1webValueTextBox");a.setAttribute("type","text");a.setAttribute("id",c);h.place(a,g);h.place(g,b);return a},_CreateValuesContent:function(a){a=(new e("",null,null,"tm1webSpreadStraightLineBox tm1webValueStraightLineSet")).Create(a);this._StartValue=this._CreateValueTextBox(this._StartValueTitle,a,"tm1webValueDiv");this._EndValue=this._CreateValueTextBox(this._EndValueTitle,
a,"tm1webValueDiv")},_CreateExtendContent:function(a){a=(new e(c.get("SPREAD_SECTION_EXTEND"),null,null,"tm1webSpreadStraightLineBox tm1webExtendStraightLineSet tm1webExtendStraightLineSetExtend")).Create(a);this._CreateExtendRadionButtonList(a)},_CreateExtendRadionButtonList:function(a){var b=this.CreatePanel();h.place(b,a);k.add(b,"tm1webDataSpreadHorizontalContainer");this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_HORIZONTAL"),!1,"\x3c\x3e",b);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_RIGHT"),
!0,"\x3e",b);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_LEFT"),!1,"\x3c",b);b=this.CreatePanel();h.place(b,a);k.add(b,"tm1webDataSpreadHorizontalContainer");this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_VERTICAL"),!1,"^|",b);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_DOWN"),!1,"|",b);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_UP"),!1,"^",b)},_CreateExtendChoiceRadioButton:function(a,b,g,d){_this=this;var c=this.CreatePanel();h.place(c,d);k.add(c,"tm1webRadioLayout");
d=this._CreateCheckBoxLabelDiv(c);g=new f({name:"ExtendChoice",value:g});g.setChecked(b);g.onClick=function(){_this._OnExtendRadioButtonClick(this)};h.place(g.domNode,d);this._CreateCheckBoxLabel(a,d,g.id);return g},_OnExtendRadioButtonClick:function(a){a.checked&&(this._HorizontalVerticalValue=a.value)},_GetControlString:function(){var a=this._CommandString,a=a+this._ActionValue+this._HorizontalVerticalValue,b=this._StartValue.value,a=a+m.trim(b),b=this._EndValue.value;return a+=":"+m.trim(b)},_CreateUpdateActionContent:function(){var a=
(new e(c.get("SPREAD_SECTION_UPDATE"),null,null,"tm1webSpreadingUpdateActions")).Create(this._Dialog.containerNode);this._CreateRadioButtonList(a)}})})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(l){return l})},"tm1web/websheet/_Workbook":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/aspect dojo/Deferred dojo/sniff dojo/dom-construct dojo/dom-class dijit/layout/TabContainer dojox/html/entities ./WebSheet ../share/Base ../share/service-loader!WebSheetService ../utility/message-localizer".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r){return l(p,{constructor:function(a,b){this._wbTabContainer=null;this._parent=a;this._objectId=b;this._onSwitchSheetDeferred=this._sheetsIndices=null;this._initializeWorkbook()},_initializeWorkbook:function(){var g=b.create("div",{},this._parent);this._wbTabContainer=new a({"class":"tm1webFullScreen",tabPosition:"bottom"},g);this._wbTabContainer.startup();this._attachEvents()},_attachEvents:function(){this.own(f.after(this._wbTabContainer,"resize",m.hitch(this,
"_resize"),!0));this.own(h.subscribe(this._objectId+"-UpdateGrid",m.hitch(this,"updateActiveSheet")));this.own(h.subscribe(this._objectId+"-UpdateRebuildedGrid",m.hitch(this,"rebuildActiveForms")));this.own(h.subscribe(this._objectId+"-Recalculate",m.hitch(this,"recalculate")));this.own(h.subscribe(this._objectId+"-NavigateToSheet",m.hitch(this,"_selectSheet")));this.own(h.subscribe(this._objectId+"-SelectRange",m.hitch(this,this._selectRange)));this.own(h.subscribe(this._objectId+"-UnsavedDataStateChanged",
m.hitch(this,"setUnsavedDataChanges")));this.own(h.subscribe(this._objectId+"-UpdateCells",m.hitch(this,"updateCells")))},_onSelectSheet:function(a){var b=this._wbTabContainer.getIndexOfChild(a);this._onSwitchSheetDeferred=new c;q.switchSheet(this._objectId,b,{callback:this._onSwitchSheet,arg:a,scope:this})},_onSwitchSheet:function(a,b){var g=this._onSwitchSheetDeferred;this._onSwitchSheetDeferred=null;a?(g.resolve(),b.select()):g.cancel()},create:function(){this._getSheetNames()},_getSheetNames:function(){q.getSheetNames(this._objectId,
{callback:this._onGetSheetNames,scope:this})},_onGetSheetNames:function(a){a.sheetNames=a.sheetNames||[];this._sheetIndices={};k.forEach(a.sheetNames,function(a,b){a=n.encode(a);var d=new g({"class":"tm1webSheetContentPane",title:a},null,this._objectId,b);this._sheetIndices[a]=b;this._wbTabContainer.addChild(d)},this);f.after(this._wbTabContainer,"selectChild",m.hitch(this,"_onSelectSheet"),!0);0<a.sheetNames.length&&this.selectChild(a.selectedIndex);if(1==a.sheetNames.length||a.hideTabGroup)d.add(this._wbTabContainer.tablist.containerNode,
"tm1webHidden"),this._wbTabContainer.resize()},resize:function(){this._wbTabContainer.resize()},_resize:function(){k.forEach(this._getSheets(),function(a){a.resizeEx()})},recalculate:function(){q.recalculate(this._objectId,{callback:this._onRecalculate,scope:this})},_onRecalculate:function(){h.publish(this._objectId+"-UnsavedDataStateChanged",!1);h.publish(this._objectId+"-SetSheetsNeedRefresh",!0);this.updateActiveSheet()},updateActiveSheet:function(){var a=this.getActiveSheet();a&&a.select()},_getSheets:function(){return this._wbTabContainer.getChildren()},
rebuildActiveForms:function(a){a?q.rebuildCurrentWorkbook(this._objectId,{callback:this._onRebuildActiveForms,scope:this}):q.rebuildCurrentSheet(this._objectId,{callback:this._onRebuildActiveForms,scope:this})},_onRebuildActiveForms:function(a){h.publish(this._objectId+"-UnsavedDataStateChanged",!1);h.publish(this._objectId+"-SetSheetsNeedRefresh",!0);this.updateSheetSize(a)},updateSheetSize:function(a){var b=this.getActiveSheet();b&&b.updateSize(a)},selectChild:function(a){var b=null;k.some(this._wbTabContainer.getChildren(),
function(g,d){return a==d?(b=g,!0):!1});b&&this._wbTabContainer.selectChild(b)},_selectSheet:function(a){a=this._sheetIndices[n.encode(a)];null!=a&&this.selectChild(a)},_selectRange:function(a){if(this._onSwitchSheetDeferred)this._onSwitchSheetDeferred.then(m.hitch(this,this._selectRange,a));else{var b=this.getActiveSheet();if(b.loaded)q.selectRange(this._objectId,a,{callback:this._onSelectRange,arg:b,scope:this});else var g=f.after(b,"onLoadWebSheet",m.hitch(this,function(a){g.remove();this._selectRange(a)},
a),!0)}},_onSelectRange:function(a,b){a?b.refreshSelection():alert(r.get("INVALID_REFERENCE_STR"))},getActiveSheet:function(){return this._wbTabContainer.selectedChildWidget},hasUnsavedDataChanges:function(){return k.some(this._wbTabContainer.getChildren(),function(a){return a.hasUnsavedDataChanges()})},setUnsavedDataChanges:function(a){k.forEach(this._wbTabContainer.getChildren(),function(b){b.loaded&&b.setUnsavedDataChanges(a)})},getCellMetadata:function(){return this.getActiveSheet().getCellMetadata()},
getCellValue:function(a,b,g){return this.getActiveSheet().getCellValue(a,b,g)},onTitleElementChange:function(a){this.getActiveSheet().onTitleElementChange(a)},updateCells:function(a){this.getActiveSheet().updateCells(a)},destroy:function(){this.inherited(arguments);this._wbTabContainer.destroyRecursive();b.empty(this._parent)}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(l,m,k,h){return l("dijit.form.SimpleTextarea",h,
{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);k("ie")&&this.cols&&m.add(this.textbox,"dijitTextAreaCols")},filter:function(f){f&&(f=f.replace(/\r/g,""));return this.inherited(arguments)},
_onInput:function(f){if(this.maxLength){var c=parseInt(this.maxLength),e=this.textbox.value.replace(/\r/g,""),c=e.length-c;if(0<c){var b=this.textbox;if(b.selectionStart){var d=b.selectionStart,a=0;k("opera")&&(a=(this.textbox.value.substring(0,d).match(/\r/g)||[]).length);this.textbox.value=e.substring(0,d-c-a)+e.substring(d-a);b.setSelectionRange(d-c,d-c)}else this.ownerDocument.selection&&(b.focus(),e=this.ownerDocument.selection.createRange(),e.moveStart("character",-c),e.text="",e.select())}}this.inherited(arguments)}})})},
"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(l,m,k){return k("dijit.Destroyable",null,{destroy:function(h){this._destroyed=!0},own:function(){var h=["destroyRecursive","destroy","remove"];l.forEach(arguments,function(f){function c(){b.remove();l.forEach(d,function(a){a.remove()})}var e,b=m.before(this,"destroy",function(a){f[e](a)}),d=[];f.then?(e="cancel",f.then(c,c)):l.forEach(h,function(a){"function"===typeof f[a]&&(e||(e=a),d.push(m.after(f,
a,c,!0)))})},this);return arguments}})})},"dojo/request":function(){define(["./request/default!"],function(l){return l})},"tm1web/utility/percent":function(){define(["dojo/i18n!dojo/cldr/nls/number","./string"],function(l,m){var k=l.percentFormat.match(/(.*?)([#,0]+)(.*)/),h=String.fromCharCode(32),f=k[1].replace(/\s+/g,h),c=k[3].replace(/\s+/g,h),e=l.minusSign,b=l.plusSign,d=l.percentSign;return{removeFormat:function(a){var b="",g=f,d=a.replace(/\s\%/g," %");a&&0<a.length&&a.charAt(0)==e&&(g=e+g,
b=e);return(a=m.removePreSuffix(d,g,c))?b+a:a},addFormat:function(a){var b="";a.charAt(0)==e&&(a=a.substring(1,a.length),b=e);return b+m.addPreSuffix(a,f,c)},getRange:function(a){if(null==this.removeFormat(a))return null;var d=0;0<f.length&&a&&0<a.length&&(a.charAt(0)==e||a.charAt(0)==b)&&(d=1);return{start:f.length+d,end:a.length-c.length}},formatUsesPrefixedPercent:function(){return-1!=f.indexOf(d)},removePlusSignBeforePercent:function(a){return 2>a.length?a:a.charAt(0)==b&&a.charAt(1)==d?a.substring(1,
a.length):a},pushMinusSignBehindPercent:function(a){return a&&1<a.length&&a.charAt(0)==e&&a.charAt(1)==d?d+e+a.substring(2,a.length):a}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(l,m,k,h,f,c,e){var b=function(){},d=Object.freeze||function(){},a=l.Deferred=function(n){function g(a){if(r)throw Error("This deferred has already been resolved");q=a;r=!0;e()}function e(){for(var a;!a&&w;){var g=w;
w=w.next;if(a=g.progress==b)r=!1;var d=u?g.error:g.resolved;f("config-useDeferredInstrumentation")&&u&&m.instrumentRejected&&m.instrumentRejected(q,!!d);if(d)try{var n=d(q);n&&"function"===typeof n.then?n.then(c.hitch(g.deferred,"resolve"),c.hitch(g.deferred,"reject"),c.hitch(g.deferred,"progress")):(d=a&&void 0===n,a&&!d&&(u=n instanceof Error),g.deferred[d&&u?"reject":"resolve"](d?q:n))}catch(p){g.deferred.reject(p)}else u?g.deferred.reject(q):g.deferred.resolve(q)}}var q,r,s,l,u,x,w,v=this.promise=
new k;this.isResolved=v.isResolved=function(){return 0==l};this.isRejected=v.isRejected=function(){return 1==l};this.isFulfilled=v.isFulfilled=function(){return 0<=l};this.isCanceled=v.isCanceled=function(){return s};this.resolve=this.callback=function(a){this.fired=l=0;this.results=[a,null];g(a)};this.reject=this.errback=function(a){u=!0;this.fired=l=1;f("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!w);g(a);this.results=[null,a]};this.progress=function(a){for(var b=
w;b;){var g=b.progress;g&&g(a);b=b.next}};this.addCallbacks=function(a,g){this.then(a,g,b);return this};v.then=this.then=function(g,d,c){var n=c==b?this:new a(v.cancel);g={resolved:g,error:d,progress:c,deferred:n};w?x=x.next=g:w=x=g;r&&e();return n.promise};var z=this;v.cancel=this.cancel=function(){if(!r){var a=n&&n(z);r||(a instanceof Error||(a=new h(a)),a.log=!1,z.reject(a))}s=!0};d(v)};c.extend(a,{addCallback:function(a){return this.addCallbacks(c.hitch.apply(l,arguments))},addErrback:function(a){return this.addCallbacks(null,
c.hitch.apply(l,arguments))},addBoth:function(a){var b=c.hitch.apply(l,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=l.when=e;return a})},"tm1web/subseteditor/BottomToolbar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/store/Memory dojo/Deferred dojo/dom-class dojo/aspect dijit/registry dijit/Toolbar ../utility/message-localizer ../share/SkeletonMixin ../share/Label ./FindBar ./_TreePaneFocusMixin".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){return l([d,
n,q],{model:null,postCreate:function(){this.inherited(arguments);c.add(this.domNode,"tm1webSubsetEditorBottomToolbar");this._addSkeletonChildren();this._addFindBar();this._attachObservers()},_attachObservers:function(){this._attachSubsetChangeListener();this._attachAliasChangeListener();var a=m.hitch(this,"_onMetaDataChange");this.own(e.after(this.model,"onMetaDataChange",a,!0));this.model.getMetaData().then(a)},_attachSubsetChangeListener:function(){this._onSubsetChangeHandle=this._skeletonChildren.subsetSelect.on("change",
m.hitch(this,"_onSubsetChange"))},_attachAliasChangeListener:function(){this._onAliasChangeHandle=this._skeletonChildren.aliasSelect.on("change",m.hitch(this,"_onAliasChange"))},_onMetaDataChange:function(a){this._updateSubsetCombo(a.subsets,a.selectedSubset);this._updateAliasCombo(a.aliases,a.selectedAlias);this._skeletonChildren.expandAboveButton.set("checked",a.expandAbove)},_onSubsetChange:function(a){this.model.setSubset(a)},_onAliasChange:function(a){"$_noalias_$"===a&&(a="");this.model.setAlias(a)},
_updateSubsetCombo:function(b,g){var d=this._skeletonChildren.subsetSelect,c=d.get("value"),n=[],e="";k.forEach(b,function(b){var d=b.name;d?b.isPublic||(d=a.get("SUBSET_PRIVATE_STR",d)):d=a.get("UNNAMED_PARENS");n.push({name:d,id:b.id});g.name===b.name&&g.isPublic===b.isPublic&&(e=b.id)});var p=d.get("store");p&&p.setData?p.setData(n):d.set("store",new h({data:n}));if(e!==c){var f=d.on("change",m.hitch(this,function(){f.remove();this._attachSubsetChangeListener()}));this._onSubsetChangeHandle.remove();
d.set("value",e)}},_updateAliasCombo:function(b,g){var d=this._skeletonChildren.aliasSelect,c=d.get("value");noAlias=a.get("NO_ALIAS_SELECTED_PARENS");items=[];items.push({name:noAlias,id:"$_noalias_$"});g||(g="$_noalias_$");k.forEach(b,function(a){items.push({name:a.caption,id:a.name})});var n=d.get("store");n&&n.setData?n.setData(items):d.set("store",new h({data:items}));if(g!==c){var e=d.on("change",m.hitch(this,function(){e.remove();this._attachAliasChangeListener()}));this._onAliasChangeHandle.remove();
d.set("value",g)}},_addFindBar:function(){this.findBar=(new p({subsetTree:this.subsetTree,dimensionTree:this.dimensionTree})).placeAt(this.domNode,"after");this.findBar.domNode.style.display="none";this.findBar.startup()},_createSkeletonChildren:function(){var b=this._skeletonChildren;b.findButton=this._newToggleButton(a.get("FIND_IN_SUBSET_STR"),"tm1webSubsetEditorIconFind","FindButton",m.hitch(this,"_toggleFind"));b.subsetSelectLabel=new g({selectable:!1,content:a.get("SUBSET_LABEL_STR")});b.subsetSelect=
this._newFilteringSelect("Subset","SubsetCombo");b.aliasSelectLabel=new g({selectable:!1,content:a.get("ALIAS_LABEL_STR")});b.aliasSelect=this._newFilteringSelect("Alias","AliasCombo");b.subsetSelectLabel.domNode.setAttribute("for",b.subsetSelect.id);b.aliasSelectLabel.domNode.setAttribute("for",b.aliasSelect.id);b.expandAboveButton=this._newButton(a.get("EXPAND_ABOVE_STR"),"tm1webSubsetEditorIconTreeAbove","ExpandAboveButton",m.hitch(this,"_expandAbove"))},_generateSkeleton:function(){var a=this._newSkeleton();
a.add(this._generateFindInSubsetGroup());a.add(this._generateExpandAboveGroup());return a},_generateFindInSubsetGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.findButton);a.add(b.subsetSelectLabel);a.add(b.subsetSelect);a.add(b.aliasSelectLabel);a.add(b.aliasSelect);return a},_generateExpandAboveGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.expandAboveButton);return a},_getItemIdPrefix:function(){return"tm1web_subseteditor_BottomToolbar_"},toggleFind:function(){var a=
this._skeletonChildren.findButton;a.set("checked",!a.get("checked"));this._toggleFind()},_toggleFind:function(){var a=this._skeletonChildren.findButton.get("checked");this.findBar.domNode.style.display=a?"":"none";a?(this.findBar.resize(),this.findBar.focus()):this._activeTree.get("tree").clearFound()},_expandAbove:function(){this.model.setExpandAbove(this._skeletonChildren.expandAboveButton.get("checked"))}})})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(l,m){return l.keys=
{BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,
NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojox/grid/_RowSelector":function(){define(["../main","dojo/_base/declare","./_View"],function(l,m,k){return l.grid._RowSelector=m("dojox.grid._RowSelector",k,{defaultWidth:"2em",noscroll:!0,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",
arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden"},getWidth:function(){return this.viewWidth||this.defaultWidth},buildRowContent:function(h,f){f.innerHTML='\x3ctable class\x3d"dojoxGridRowbarTable" style\x3d"width:'+(this.contentWidth||0)+'px;height:1px;" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd class\x3d"dojoxGridRowbarInner"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'},renderHeader:function(){},
updateRow:function(){},resize:function(){this.adaptHeight()},adaptWidth:function(){!("contentWidth"in this)&&this.contentNode&&0<this.contentNode.offsetWidth&&(this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth)},doStyleRowNode:function(h,f){var c=["dojoxGridRowbar dojoxGridNonNormalizedCell"];this.grid.rows.isOver(h)&&c.push("dojoxGridRowbarOver");this.grid.selection.isSelected(h)&&c.push("dojoxGridRowbarSelected");f.className=c.join(" ")},domouseover:function(h){this.grid.onMouseOverRow(h)},
domouseout:function(h){if(!this.isIntraRowEvent(h))this.grid.onMouseOutRow(h)}})})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(l,m,k){var h=l.NodeList;m.extend(h,{_buildArrayFromCallback:function(f){for(var c=[],e=0;e<this.length;e++){var b=f.call(this[e],this[e],c);b&&(c=c.concat(b))}return c},_getUniqueAsNodeList:function(f){for(var c=[],e=0,b;b=f[e];e++)1==b.nodeType&&-1==k.indexOf(c,b)&&c.push(b);return this._wrap(c,null,this._NodeListCtor)},
_getUniqueNodeListWithParent:function(f,c){var e=this._getUniqueAsNodeList(f),e=c?l._filterResult(e,c):e;return e._stash(this)},_getRelatedUniqueNodes:function(f,c){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(c),f)},children:function(f){return this._getRelatedUniqueNodes(f,function(c,e){return m._toArray(c.childNodes)})},closest:function(f,c){return this._getRelatedUniqueNodes(null,function(e,b){do if(l._filterResult([e],f,c).length)return e;while(e!=c&&(e=e.parentNode)&&
1==e.nodeType);return null})},parent:function(f){return this._getRelatedUniqueNodes(f,function(c,e){return c.parentNode})},parents:function(f){return this._getRelatedUniqueNodes(f,function(c,e){for(var b=[];c.parentNode;)c=c.parentNode,b.push(c);return b})},siblings:function(f){return this._getRelatedUniqueNodes(f,function(c,e){for(var b=[],d=c.parentNode&&c.parentNode.childNodes,a=0;a<d.length;a++)d[a]!=c&&b.push(d[a]);return b})},next:function(f){return this._getRelatedUniqueNodes(f,function(c,
e){for(var b=c.nextSibling;b&&1!=b.nodeType;)b=b.nextSibling;return b})},nextAll:function(f){return this._getRelatedUniqueNodes(f,function(c,e){for(var b=[],d=c;d=d.nextSibling;)1==d.nodeType&&b.push(d);return b})},prev:function(f){return this._getRelatedUniqueNodes(f,function(c,e){for(var b=c.previousSibling;b&&1!=b.nodeType;)b=b.previousSibling;return b})},prevAll:function(f){return this._getRelatedUniqueNodes(f,function(c,e){for(var b=[],d=c;d=d.previousSibling;)1==d.nodeType&&b.push(d);return b})},
andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(f,c){return 0!=c%2})},odd:function(){return this.filter(function(f,c){return 0==c%2})}});return h})},"tm1web/widgets/AlertDialog":function(){define(["dojo/_base/declare","dojo/aspect","dojo/Deferred","dojo/dom-class","./ConfirmDialog"],function(l,m,k,h,f){var c=
l("tm1web.widgets.AlertDialog",f,{buildRendering:function(){this.inherited(arguments);h.add(this.cancelButton.domNode,"dijitHidden");h.add(this.closeButtonNode,"dijitHidden")}});c.show=function(e){var b=new k;e=new c(e);var d=m.after(e,"onHide",function(){d.remove();b.resolve()});e.show();return b.promise};return c})},"tm1web/mobile/on/longpress":function(){define(["dojo/_base/declare","./_Tap"],function(l,m){return new (l(m,{defaultEvent:"longpress",touchOnly:!0,holdThreshold:1E3,_overriddenEvent:"tap.hold",
_moveRadius:5,move:function(k,h){k.context&&this._hasMoved(k,h)&&(clearTimeout(k.tapTimeOut),this._touchStartEvent=null,delete k.context)},_hasMoved:function(k,h){var f=Math.abs(k.context.x-h.screenX),c=Math.abs(k.context.y-h.screenY);return f>this._moveRadius&&c>this._moveRadius}}))})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),function(l,m,k,h,f,c){c=m("dijit.form.MultiSelect"+
(h("dojo-bidi")?"_NoBidi":""),c,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(c){c.getSelected().forEach(function(b){this.containerNode.appendChild(b);this.domNode.scrollTop=this.domNode.offsetHeight;b=c.domNode.scrollTop;c.domNode.scrollTop=0;c.domNode.scrollTop=b},this);this._set("value",this.get("value"))},
getSelected:function(){return f("option",this.containerNode).filter(function(c){return c.selected})},_getValueAttr:function(){return l.map(this.getSelected(),function(c){return c.value})},multiple:!0,_setMultipleAttr:function(c){},_setValueAttr:function(c){h("android")?f("option",this.containerNode).orphan().forEach(function(b){var d=b.ownerDocument.createElement("option");d.value=b.value;d.selected=-1!=l.indexOf(c,b.value);d.text=b.text;d.originalText=b.originalText;this.containerNode.appendChild(d)},
this):f("option",this.containerNode).forEach(function(b){b.selected=-1!=l.indexOf(c,b.value)});this.inherited(arguments)},invertSelection:function(c){var b=[];f("option",this.containerNode).forEach(function(d){d.selected||b.push(d.value)});this._setValueAttr(b,!(!1===c||null==c))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(c){c&&k.setMarginBox(this.domNode,c)},postCreate:function(){this._set("value",this.get("value"));this.inherited(arguments)}});h("dojo-bidi")&&
(c=m("dijit.form.MultiSelect",c,{addSelected:function(c){c.getSelected().forEach(function(b){b.text=this.enforceTextDirWithUcc(this.restoreOriginalText(b),b.text)},this);this.inherited(arguments)},_setTextDirAttr:function(c){this.textDir==c&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",c),f("option",this.containerNode).forEach(function(b){this._created||b.value!==b.text||(b.value=b.text);b.text=this.enforceTextDirWithUcc(b,b.originalText||b.text)},this))}}));return c})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser require".split(" "),
function(l,m,k,h,f,c,e,b){e.isDebug&&k(["./_firebug/firebug"]);return l})},"tm1web/celledit/_Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/topic dojo/dom dojo/on dojo/aspect dojo/Deferred dojo/keys dijit/Destroyable ../mobile/on/doubletap ../utility/dom ../utility/event ../share/TM1Utility ./_CellValueMixin ./TextBox ./TextArea ./DatePicker".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x){return l([n,s],{dataGrid:null,objectId:null,
allowConsolidatedCellChanges:!0,_service:null,_PickList:null,_TextBox:t,_TextArea:u,_DatePicker:x,constructor:function(a){this.objectId=a.objectId;this.dataGrid=a.dataGrid;this.allowConsolidatedCellChanges=a.allowConsolidatedCellChanges;this._handles=[];this._attachEvents()},_attachEvents:function(){var a=this.dataGrid.Panel;this._on(this.dataGrid.Grid,g,"_onDblClick");this._on(a,"keydown","_onKeyDown");this._on(a,"keypress","_onKeyPress");this.own(f.subscribe(this.objectId+"-CellsSelected",m.hitch(this,
"_onCellSelection")))},_onCellSelection:function(a){c.isDescendant(a.StartCell,this.dataGrid.Grid)?this._showDropDownButton():this.hide()},_onDblClick:function(a){(a=a.target)&&"TD"==a.nodeName&&this._show({cell:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!0,allowKeyNavigation:!1})},_onKeyPress:function(a){var b=a.charCode;if(!(this._activeWidget&&(!this._isDropDownActive()||this._activeWidget.hasOpened())||q.isModifierKeyDown(a,!0)||!b||32>b)){var b=String.fromCharCode(b),g=this.dataGrid.SelectedArea.StartCell;
b&&(this._show({cell:g,value:b,highlight:!1,openDropDown:!0,allowKeyNavigation:!0}),this._activeWidget&&h.stop(a))}},_onKeyDown:function(b){var g=b.keyCode,d=this._getActiveCell();if(!this._activeWidget||this._isDropDownActive()&&!this._activeWidget.hasOpened())switch(g){case a.BACKSPACE:this._show({cell:d,value:"",openDropDown:!0,allowKeyNavigation:!0});b.preventDefault();break;case a.F2:this._show({cell:d,value:this._getCurrentValue(d),highlight:!0,openDropDown:!0,focusDropDown:!0,allowKeyNavigation:!1});
break;case a.DELETE:this._delete()}g===a.DOWN_ARROW&&b.altKey&&this._hasDropDown(d)&&(!this._activeWidget||this._isDropDownActive())&&this._show({cell:d,value:this._getCurrentValue(d),highlight:!0,openDropDown:!0,focusDropDown:!0,allowKeyNavigation:!1})},_getActiveCell:function(){return this.dataGrid.SelectedArea?this.dataGrid.SelectedArea.StartCell:null},_hasDropDown:function(a){return a&&(a.cellInfo.hasPickList||this._isDateCell(a))},_isDropDownActive:function(){return this._activeWidget&&this._activeWidget.hasDropDown},
_showDropDownButton:function(){this.hide().then(m.hitch(this,function(){var a=this._getActiveCell();if(!this._isReadOnly(a))if(a&&a.cellInfo.hasPickList){var b=this._activeWidget=this._getPickList(),a={cell:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!1};b.show(a)}else a&&this._isDateCell(a)&&(b=this._activeWidget=this._getDatePicker(a),a={cell:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!1},b.show(a))}))},_getPickList:function(){this._pickList||(this._pickList=(new this._PickList({objectId:this.objectId,
dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel));return this._pickList},_getDatePicker:function(a){this._datePicker||(this._datePicker=(new this._DatePicker({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel));return this._datePicker},_show:function(a){this.hide().then(m.hitch(this,function(){if(!a.cell||this._isReadOnly(a.cell))this._activeWidget=
null;else{var b=a.cell,g=a.cell.cellInfo,d=null;g.hasPickList?d=this._getPickList():"STR"===g.cellType?(this._textArea||(this._textArea=(new this._TextArea({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(document.body)),d=this._textArea):this._isDateCell(b)?d=this._getDatePicker(b):(this._textBox||(this._textBox=(new this._TextBox({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel)),
d=this._textBox);d.show(a);this._activeWidget=d}}))},_isReadOnly:function(a){return!a||a.cellInfo.readOnly||a.cellInfo.isConsolidated&&!this.allowConsolidatedCellChanges},_isDateCell:function(a){return!1},_delete:function(){},_publishUpdateGrid:function(a){f.publish(this.objectId+"-UpdateGrid",a)},hide:function(){this._widgetHideDeferred=new d;return this._activeWidget?(this._activeWidget.hide(),this._widgetHideDeferred.promise):this._widgetHideDeferred.resolve()},_onWidgetHide:function(){this._activeWidget=
null;this._widgetHideDeferred.resolve()},_on:function(a,b,g){this.own(e(a,b,m.hitch(this,g)))},destroy:function(){this.inherited(arguments);this._pickList&&this._pickList.destroy();this._textBox&&this._textBox.destroy();this._textArea&&this._textArea.destroy();this._datePicker&&this._datePicker.destroy()}})})},"tm1web/widgets/WarningOptionsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred ./ConfirmDialog ../utility/message-localizer dojo/dom-class dojox/html/entities".split(" "),
function(l,m,k,h,f,c,e,b){var d=l("tm1web.widgets.WarningDialog",f,{buildRendering:function(){this.inherited(arguments);e.add(this.cancelButton.domNode,"tm1webBtnSecondary");this.containerNode.setAttribute("aria-label",c.get("ARIA_IMG_WARNING_STR"))}});d.show=function(a){var b=new h;a.className="tm1webWarningDialog tm1webMessageDialog";warningDialog=new d(a);var g=k.after(warningDialog,"onCancel",function(){g.remove();c.remove();b.reject(!1)}),c=k.after(warningDialog,"_onSubmit",function(){g.remove();
c.remove();b.resolve(!0)});warningDialog.show(a);return b.promise};return d})},"tm1web/websheet/spreading/RelativeSpreadDialogBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-construct dojo/aspect dijit/Dialog dijit/registry dijit/form/Button ../../utility/message-localizer ./SpreadDialogCommon".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){return l(n,{constructor:function(){this.selectButton=this._ApplyPageContainer=this._SelectPageContainer=this._ApplyPageButtonContainer=
this._SelectPageButtonContainer=this._RefCellVal=this._Dialog=null;this._InitializeRelativeSpreadDialogBase()},_InitializeRelativeSpreadDialogBase:function(){},Initialize:function(){this._CreateDialog()},_CreateDialog:function(a){this._Dialog=new e({title:this._Title},null);this.own(c.after(this._Dialog,"onHide",m.hitch(this._Dialog,"destroyRecursive")));h.add(this._Dialog.domNode,a);h.add(this._Dialog.domNode,"tm1webFormDialog");this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){},
_CreateBaseLayout:function(){this._SelectPageButtonContainer=this.CreatePanel("","tm1webDataRelativeSpread_selectButtonContainer tm1webDialogButtons");this._ApplyPageButtonContainer=this.CreatePanel("","tm1webDataRelativeSpread_applyButtonContainer tm1webDialogButtons");f.place(this._SelectPageButtonContainer,this._Dialog.containerNode);f.place(this._ApplyPageButtonContainer,this._Dialog.containerNode);h.remove(this._SelectPageButtonContainer,"tm1webHidden");h.add(this._ApplyPageButtonContainer,"tm1webHidden");
this._CreateSelectPageButtonContent(this._SelectPageButtonContainer);this._CreateApplyPageButtonContent(this._ApplyPageButtonContainer)},_CreateSelectPageButtonContent:function(b){this.selectButton=this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_SELECT"),this._OnSelect,b,"tm1WebBtnPrimary");this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_CANCEL"),this._OnCancel,b,"tm1webBtnSecondary")},_CreateApplyPageButtonContent:function(b){this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_GO_BACK"),this._OnBack,
b,"tm1webBtnSecondary");this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_APPLY"),this._OnApply,b,"tm1WebBtnPrimary");this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_CANCEL"),this._OnCancel,b,"tm1webBtnSecondary")},_CreateButton:function(a,b,c,n){a=new d({label:a,onClick:m.hitch(this,b)});h.add(a.domNode,n);f.place(a.domNode,c);return a},_OnSelect:function(){alert("have to be overriden")},_OnBack:function(){h.add(this._ApplyPageButtonContainer,"tm1webHidden");h.add(this._ApplyPageContainer,"tm1webHidden");
h.remove(this._SelectPageButtonContainer,"tm1webHidden");h.remove(this._SelectPageContainer,"tm1webHidden")},_OnCancel:function(){this.Destroy()},_OnApply:function(){},_OnSpread:function(a){k.publish(this._ObjectId+"-SetSheetsNeedRefresh",!0);k.publish(this._ObjectId+"-UpdateGrid",a)},Show:function(){this._Dialog.show()},Destroy:function(){this._Dialog.hide()}})})},"tm1web/share/service-loader":function(){define("dojo/_base/lang dojo/request/script dojo/sniff dojo/on dojo/aspect dojo/topic dojo/dom-construct dojo/dom-class ../utility/url ../utility/message-localizer ./DialogUnderlayEx dojo/domReady!".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n){var g=null,p={},q={},r=d.toUrl("tm1web")+"/../../",s=d.isXDomainUrl(r),r=r+(s?"dwrx":"dwr");s&&(window.pathToDwrServlet=r);var t=m.get(r+"/engine.js").then(function(){window.pathToDwrServlet=void 0;g=window.dwr.engine;v();s&&A();if(""in p){for(var a=p[""],b=a.length,d=0;d<b;d++)a[d](1);delete p[""]}g.setOverrideContextPath("/");q[""]=1;t=void 0}),u=!0,x=null,w=!0,v=function(){g.setErrorHandler(function(b,g){z(b,g)?(!0===u&&(K.disableSessionTimeoutAlerts(750),alert(a.get("SESSION_TIMEOUT_STR")),
K.disableSessionTimeoutAlerts(750)),K.onSessionTimeout()):alert(null==b||""==b?a.get("SRV_ERR_STR"):b)})},z=function(a,b){return"com.ibm.cognos.tm1.web.session.SessionNotFoundException"===b.javaClassName},A=function(){f.around(g.batch,"constructRequest",function(a){return function(b){var d=a.apply(this,arguments);if(b.transport===g.transport.scriptTag){var c=d.url,c=c+((0>c.indexOf("?")?"?":"\x26")+"tm1webOrigin\x3d"+encodeURIComponent("origin"in location?location.origin:location.protocol+"//"+location.host));
d.url=c}else b.transport===g.transport.xhr&&(c=b.req)&&"withCredentials"in c&&(c.withCredentials=!0);return d}})},y=function(a){m.get(r+"/interface/"+a+".js").then(function(){var b=window[a];b._path=r;N(a);q[a]=b;for(var g=p[a],d=g.length,c=0;c<d;c++)g[c](b);delete p[a]})},B=0,E=null,G=null,I={CubeViewService:"Toggle dataSpread1 dataSpread2 Pivot SwapRowsAndColumns hold SuppressZerosBoth SuppressZerosRows SuppressZerosCols ChangeDisplayMode ChartTypeChanged Hide ShowAllHidden Sort ExpandToLevel SortTopBottom changeCellValue Navigate NavigateToPage saveData recalculate Paste deleteRange LoadData refreshMetadata saveView".split(" "),
TM1PlanningService:"TakeOwnership RejectNode SubmitNode ResetViews ResetView CommitSandbox ResetSandbox submitLeafChildren SwitchSandbox Redo Undo saveViewDataChanges".split(" "),SandboxService:["redo","undo"],TM1Service:["deleteNavigationTreeNode"],WebSheetService:"switchSheet dataSpread1 getHyperlinkWorkbookObjectId changeCellValue recalculate rebuildCurrentSheet rebuildCurrentWorkbook setCheckBoxChecked setComboBoxSelectedIndex selectRange setListBoxSelectedIndices setOptionButtonChecked getValidation toggle scrollWebSheet executeActionButton getActionButtonConfirmMessage loadWebSheet getCssFilePath pasteIntoSelectedArea deleteFromSelectedArea".split(" "),
SubsetService:"createCubeViewSubsetSession createWebSheetSubsetSession loadSubset submit copyElements moveElements setNamedSubset setAlias setExpandAbove saveSubset saveSubsetAs cut copy paste pasteAbove pasteBelow sort subsetAll reloadSubset keepSelectedElements deleteSelectedElements filterByLevel filterByAttribute filterByExpression getAttributeNames getAttributeValues expandSelectedConsolidations expandAll collapseSelectedConsolidations collapseAll insertParentsOfSelectedElements createConsolidationFromSubset createConsolidationFromSelectedElements".split(" "),
WorkbookService:"open recalculate rebuildWorksheet rebuildWorkbook refresh setCheckBoxChecked setOptionButtonChecked setTextBoxChecked setListBoxSelectedIndices setComboBoxSelectedIndex setComboBoxSelectedValue getActionButtonProcessConfirmation executeActionButton addCellAnnotation toggle paste spread relativeSpread hold copy paste autoFitColumns".split(" ")},N=function(a){var g=window[a],d=a in I,c;for(c in g)if("function"===typeof g[c]&&g.hasOwnProperty(c)){var e=d&&0<=I[a].indexOf(c);f.around(g,
c,l.partial(function(a,g){return function(){var d=arguments,c=d[d.length-1],e=null;!c||"object"!==typeof c||"function"!==typeof c.callback&&"function"!==typeof c.errorHandler&&"function"!==typeof c.exceptionHandler||(e=c);e?(c=H({requiresOverlay:a,callbackScope:e.callbackScope||e.scope||this,errorHandlerScope:e.exceptionScope||e.scope||this,callback:e.callback,errorHandler:e.exceptionHandler||e.errorHandler}),d[d.length-1].callback=c.callback,d[d.length-1].errorHandler=c.errorHandler,delete d[d.length-
1].exceptionHandler):Array.prototype.push.call(d,H({requiresOverlay:a}));a&&(w&&(E||(E=new n({tabindex:"-1"}),b.add(E.domNode,"tm1webAjaxCover")),E.domNode.style.cursor="wait",E.show(),0>=B&&(G=document.activeElement,E.domNode.focus())),B++);g.apply(this,arguments)}},e))}},O=function(){if(B&&(B--,0==B&&E)){E.domNode.style.cursor="";if(document.activeElement==E.domNode)if(G)try{G.focus()}catch(a){E.domNode.blur()}else E.domNode.blur();E.hide()}},H=function(a){return{callback:function(){a.requiresOverlay&&
O();var b=a.callback;"function"===typeof b&&b.apply(a.callbackScope,arguments)},errorHandler:function(b,d){a.requiresOverlay&&O();var c=a.errorHandler;"function"!==typeof c||z(b,d)?g._errorHandler(b,d):c.apply(a.errorHandlerScope,arguments)}}},K={load:function(a,b,g){a in q?g(q[a]):a in p?p[a].push(g):(p[a]=[g],t?""!==a&&t.then(function(){y(a,g)}):y(a,g))},normalize:function(a,b){return b(a)},onSessionTimeout:function(){c.publish("TM1Web-SessionTimeout")},disableSessionTimeoutAlerts:function(a){x&&
clearTimeout(x);"undefined"!==typeof a&&(x=setTimeout(function(){u=!0;x=null},Math.max(0,a)));u=!1},disableOverlay:function(){w=!1},getEngine:function(){return g}};return K})},"dojox/grid/_Layout":function(){define("dojo/_base/kernel ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-geometry ./cells ./_RowSelector".split(" "),function(l,m,k,h,f,c,e){return k("dojox.grid._Layout",null,{constructor:function(b){this.grid=b},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(b,
d,a,c,g){var e=this.structure[b].cells[0],f=this.structure[d].cells[0],r=null,k=r=0;b=0;for(var l;l=e[b];b++)if(l.index==a){r=b;break}r=e.splice(r,1)[0];r.view=this.grid.views.views[d];b=0;for(l=null;l=f[b];b++)if(l.index==c){k=b;break}g||(k+=1);f.splice(k,0,r);if(a=this.grid.getCell(this.grid.getSortIndex()))a._currentlySorted=this.grid.getSortAsc();this.cells=[];for(b=a=0;d=this.structure[b];b++)for(c=0;g=d.cells[c];c++)for(e=0;l=g[e];e++)l.index=a,this.cells.push(l),"_currentlySorted"in l&&(f=
a+1,f*=l._currentlySorted?1:-1,this.grid.sortInfo=f,delete l._currentlySorted),a++;h.forEach(this.cells,function(a){var b=a.markup[2].split(" ");parseInt(b[1].substring(5))!=a.index&&(b[1]='idx\x3d"'+a.index+'"',a.markup[2]=b.join(" "))});this.grid.setupHeaderMenu()},setColumnVisibility:function(b,d){var a=this.cells[b];if(a.hidden==d){a.hidden=!d;var n=a.view,g=n.viewWidth;g&&"auto"!=g&&(n._togglingColumn=c.getMarginBox(a.getHeaderNode()).w||0);n.update();return!0}return!1},addCellDef:function(b,
d,a){var c=this,g=function(a){var b=0;1<a.colSpan?b=0:(b=a.width||c._defaultCellProps.width||c.defaultWidth,isNaN(b)||(b+="em"));return b};b={grid:this.grid,subrow:b,layoutIndex:d,index:this.cells.length};if(a&&a instanceof e)return d=f.clone(a),b.unitWidth=g(d._props),d=f.mixin(d,this._defaultCellProps,a._props,b);d=a.type||a.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||e.Cell;f.isString(d)&&(d=f.getObject(d));b.unitWidth=g(a);return new d(f.mixin({},this._defaultCellProps,
a,b))},addRowDef:function(b,d){for(var a=[],c=0,g=0,e=!0,f=0,r;r=d[f];f++)r=this.addCellDef(b,f,r),a.push(r),this.cells.push(r),e&&r.relWidth?c+=r.relWidth:r.width&&(r=r.width,"string"==typeof r&&"%"==r.slice(-1)?g+=window.parseInt(r,10):"auto"==r&&(e=!1));c&&e&&h.forEach(a,function(a){a.relWidth&&(a.width=a.unitWidth=a.relWidth/c*(100-g)+"%")});return a},addRowsDef:function(b){var d=[];if(f.isArray(b))if(f.isArray(b[0]))for(var a=0,c;b&&(c=b[a]);a++)d.push(this.addRowDef(a,c));else d.push(this.addRowDef(0,
b));return d},addViewDef:function(b){this._defaultCellProps=b.defaultCell||{};b.width&&"auto"==b.width&&delete b.width;return f.mixin({},b,{cells:this.addRowsDef(b.rows||b.cells)})},setStructure:function(b){this.fieldIndex=0;this.cells=[];var d=this.structure=[];if(this.grid.rowSelector){var a={type:m._scopeName+".grid._RowSelector"};if(f.isString(this.grid.rowSelector)){var c=this.grid.rowSelector;"false"==c?a=null:"true"!=c&&(a.width=c)}else this.grid.rowSelector||(a=null);a&&d.push(this.addViewDef(a))}var g=
function(a){return"name"in a||"field"in a||"get"in a},a=function(a){return f.isArray(a)&&(f.isArray(a[0])||g(a[0]))?!0:!1},c=function(a){return null!==a&&f.isObject(a)&&("cells"in a||"rows"in a||"type"in a&&!g(a))};if(f.isArray(b)){for(var e=!1,h=0,r;r=b[h];h++)if(c(r)){e=!0;break}if(e)for(h=0;r=b[h];h++)a(r)?d.push(this.addViewDef({cells:r})):c(r)&&d.push(this.addViewDef(r));else d.push(this.addViewDef({cells:b}))}else c(b)&&d.push(this.addViewDef(b));this.cellCount=this.cells.length;this.grid.setupHeaderMenu()}})})},
"dojo/data/util/filter":function(){define(["../../_base/kernel","../../_base/lang"],function(l,m){var k={};m.setObject("data.util.filter",k,l);k.patternToRegExp=function(h,f){for(var c="^",e=null,b=0;b<h.length;b++)switch(e=h.charAt(b),e){case "\\":c+=e;b++;c+=h.charAt(b);break;case "*":c+=".*";break;case "?":c+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":c+="\\";default:c+=e}c+="$";return f?new RegExp(c,"mi"):new RegExp(c,
"m")};return k})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(l,m,k,h){var f=k.getObject("dnd",!0,m);f.getCopyKeyState=function(c){return c[l("mac")?"metaKey":"ctrlKey"]};f._uniqueId=0;f.getUniqueId=function(){var c;do c=m._scopeName+"Unique"+ ++f._uniqueId;while(h.byId(c));return c};f._empty={};f.isFormElement=function(c){c=c.target;3==c.nodeType&&(c=c.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+
" ")};return f})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(l,m){return function(k,h,f,c){var e=k&&"function"===typeof k.then,b=e&&k instanceof m;if(!e)return 1<arguments.length?h?h(k):k:(new l).resolve(k);b||(e=new l(k.cancel),k.then(e.resolve,e.reject,e.progress),k=e.promise);return h||f||c?k.then(h,f,c):k}})},"tm1web/websheet/SheetSelectionPanel":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style ../share/Base".split(" "),
function(l,m,k,h,f,c,e,b){return l(b,{constructor:function(b){this._parent=b;this._bottomBorder=this._rightBorder=this._leftBorder=this._topBorder=this._bottomPanel=this._topPanel=this._rightPanel=this._leftPanel=null;this._borderOffset=2},_createInnerPanel:function(b){b=c.create("DIV",{"class":"tm1webSelection_overlay tm1webMulti_selection_overlay"},this._parent);h(b,"mousemove",m.hitch(this,"onmousemove"));h(b,"mousedown",m.hitch(this,"onmousedown"));h(b,"dblclick",m.hitch(this,"ondblclick"));h(b,
"mouseup",m.hitch(this,"onmouseup"));return b},refresh:function(b,a){null==this._topBorder&&(this._topBorder=this._createBorder("top"),this._leftBorder=this._createBorder("left"),this._rightBorder=this._createBorder("right"),this._bottomBorder=this._createBorder("bottom"),this._leftPanel=this._createInnerPanel(),this._rightPanel=this._createInnerPanel(),this._topPanel=this._createInnerPanel(),this._bottomPanel=this._createInnerPanel());null==a&&(a={l:0,t:0,w:3,h:3});this._refreshTopBorder(b);this._refreshLeftBorder(b);
this._refreshRightBorder(b);this._refreshBottomBorder(b);this._refreshLeftPanel(b,a);this._refreshTopPanel(b,a);this._refreshBottomPanel(b,a);this._refreshRightPanel(b,a)},_createBorder:function(b){b=c.create("div",{className:"tm1webSelection_overlay tm1webCell_selection_border tm1webCell_selection_border_"+b},this._parent);h(b,"mousemove",m.hitch(this,"onmousemove"));h(b,"mousedown",m.hitch(this,"onmousedown"));h(b,"dblclick",m.hitch(this,"ondblclick"));h(b,"mouseup",m.hitch(this,"onmouseup"));return b},
onmouseup:function(b){},onmousemove:function(b){},onmousedown:function(b){},ondblclick:function(b){},_refreshTopBorder:function(b){this._styleNode(this._topBorder,this._getBorderLeft(b),this._getBorderTop(b),this._getBorderWidth(b),-1)},_refreshLeftBorder:function(b){this._styleNode(this._leftBorder,this._getBorderLeft(b),this._getBorderTop(b),-1,this._getBorderHeight(b))},_refreshRightBorder:function(b){this._styleNode(this._rightBorder,this._getBorderRight(b),this._getBorderTop(b),-1,this._getBorderHeight(b))},
_refreshBottomBorder:function(b){this._styleNode(this._bottomBorder,this._getBorderLeft(b),this._getBorderBottom(b),this._getBorderWidth(b),-1)},_refreshLeftPanel:function(b,a){this._styleNode(this._leftPanel,b.l,b.t,a.l-b.l,b.h)},_refreshTopPanel:function(b,a){this._styleNode(this._topPanel,a.l,b.t,a.w,a.t-b.t)},_refreshBottomPanel:function(b,a){this._styleNode(this._bottomPanel,a.l,a.t+a.h,a.w,b.h-(a.t-b.t+a.h))},_refreshRightPanel:function(b,a){this._styleNode(this._rightPanel,a.l+a.w,b.t,b.w-
(a.l-b.l+a.w),b.h)},_styleNode:function(b,a,c,g,p){a={left:a+"px",top:c+"px"};0<=g&&(a.width=g+"px");0<=p&&(a.height=p+"px");e.set(b,a)},hide:function(){f.add(this._topBorder,"tm1webHidden");f.add(this._leftBorder,"tm1webHidden");f.add(this._rightBorder,"tm1webHidden");f.add(this._bottomBorder,"tm1webHidden");f.add(this._leftPanel,"tm1webHidden");f.add(this._rightPanel,"tm1webHidden");f.add(this._topPanel,"tm1webHidden");f.add(this._bottomPanel,"tm1webHidden")},unhide:function(){f.remove(this._topBorder,
"tm1webHidden");f.remove(this._leftBorder,"tm1webHidden");f.remove(this._rightBorder,"tm1webHidden");f.remove(this._bottomBorder,"tm1webHidden");f.remove(this._leftPanel,"tm1webHidden");f.remove(this._rightPanel,"tm1webHidden");f.remove(this._topPanel,"tm1webHidden");f.remove(this._bottomPanel,"tm1webHidden")},_getBorderWidth:function(b){return b.w+this._borderOffset+1},_getBorderHeight:function(b){return b.h+this._borderOffset+1},_getBorderTop:function(b){return b.t-this._borderOffset},_getBorderLeft:function(b){return b.l-
this._borderOffset},_getBorderRight:function(b){return b.l+b.w-this._borderOffset},_getBorderBottom:function(b){return b.t+b.h-this._borderOffset}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(l,m,k,h,f){return m("dijit.tree.ForestStoreModel",f,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(c){this.root={store:this,root:!0,id:c.rootId,label:c.rootLabel,children:c.rootChildren}},
mayHaveChildren:function(c){return c===this.root||this.inherited(arguments)},getChildren:function(c,e,b){c===this.root?this.root.children?e(this.root.children):this.store.fetch({query:this.query,onComplete:h.hitch(this,function(b){this.root.children=b;e(b)}),onError:b}):this.inherited(arguments)},isItem:function(c){return c===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(c){if(c.identity==this.root.id){var e=c.scope||k.global;c.onItem&&c.onItem.call(e,this.root)}else this.inherited(arguments)},
getIdentity:function(c){return c===this.root?this.root.id:this.inherited(arguments)},getLabel:function(c){return c===this.root?this.root.label:this.inherited(arguments)},newItem:function(c,e,b){return e===this.root?(this.onNewRootItem(c),this.store.newItem(c)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(c,e,b,d,a){if(e===this.root&&!d)this.onLeaveRoot(c);this.inherited(arguments,[c,e===this.root?null:e,b===this.root?null:b,d,a]);if(b===this.root)this.onAddToRoot(c)},onAddToRoot:function(c){},
onLeaveRoot:function(c){},_requeryTop:function(){var c=this.root.children||[];this.store.fetch({query:this.query,onComplete:h.hitch(this,function(e){this.root.children=e;if(c.length!=e.length||l.some(c,function(b,d){return e[d]!=b}))this.onChildrenChange(this.root,e)})})},onNewItem:function(c,e){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(c){-1!=l.indexOf(this.root.children,c)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(c,e,b,d){this._requeryTop();this.inherited(arguments)}})})},
"dijit/layout/_ScrollingTabControllerButtonMixin":function(){define(["dojo/_base/declare","dojo/text!./templates/_ScrollingTabControllerButton.html"],function(l,m){return l("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:m,tabIndex:"",isFocusable:function(){return!1}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){return k("dijit.Menu",r,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):m.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return p.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||
null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(c){c=h.byId(c,this.ownerDocument);var n;if("iframe"==c.tagName.toLowerCase()){var e=c;n=this._iframeContentWindow(e);n=g.body(n.document)}else n=c==g.body(this.ownerDocument)?this.ownerDocument.documentElement:c;var p={node:c,iframe:e};f.set(c,"_dijitMenu"+this.id,this._bindings.push(p));var q=d.hitch(this,
function(g){var d=this.selector,c=d?function(b){return a.selector(d,b)}:function(a){return a},n=this;return[a(g,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||n._scheduleOpen(this,e,{x:a.pageX,y:a.pageY},a.target)}),a(g,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==b.F10||this.leftClickToOpen&&a.keyCode==b.SPACE)a.stopPropagation(),a.preventDefault(),n._scheduleOpen(this,e,null,a.target),
this._lastKeyDown=(new Date).getTime()})]});p.connects=n?q(n):[];e&&(p.onloadHandler=d.hitch(this,function(){var a=this._iframeContentWindow(e),a=g.body(a.document);p.connects=q(a)}),e.addEventListener?e.addEventListener("load",p.onloadHandler,!1):e.attachEvent("onload",p.onloadHandler))},unBindDomNode:function(a){var b;try{b=h.byId(a,this.ownerDocument)}catch(g){return}a="_dijitMenu"+this.id;if(b&&f.has(b,a)){for(var d=f.get(b,a)-1,c=this._bindings[d],n;n=c.connects.pop();)n.remove();(n=c.iframe)&&
(n.removeEventListener?n.removeEventListener("load",c.onloadHandler,!1):n.detachEvent("onload",c.onloadHandler));f.remove(b,a);delete this._bindings[d]}},_scheduleOpen:function(a,b,g,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:d,delegatedTarget:a,iframe:b,coords:g})},1))},_openMyself:function(a){function b(){l.refocus&&m&&m.focus();q.close(l)}var g=a.target,d=a.iframe,p=a.coords,f=!p;this.currentTarget=a.delegatedTarget;if(p){if(d){a=
c.position(d,!0);var g=this._iframeContentWindow(d),g=c.docScroll(g.document),r=e.getComputedStyle(d),k=e.toPixelValue,s=(n("ie")&&n("quirks")?0:k(d,r.paddingLeft))+(n("ie")&&n("quirks")?k(d,r.borderLeftWidth):0),d=(n("ie")&&n("quirks")?0:k(d,r.paddingTop))+(n("ie")&&n("quirks")?k(d,r.borderTopWidth):0);p.x+=a.x+s-g.x;p.y+=a.y+d-g.y}}else p=c.position(g,!0),p.x+=10,p.y+=10;var l=this,d=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var m=!a||h.isDescendant(a,this.domNode)?
d:a;q.open({popup:this,x:p.x,y:p.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();f||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);q.close(this)}},destroy:function(){m.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(l,m,k,h,f,c){function e(a,b){var g=
a.getAttributeNode&&a.getAttributeNode(b);return!!g&&g.specified}var b={innerHTML:1,textContent:1,className:1,htmlFor:m("ie"),value:1},d={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};l.has=function(a,n){var g=n.toLowerCase();return b[c.names[g]||n]||e(h.byId(a),d[g]||n)};l.get=function(a,n){a=h.byId(a);var g=n.toLowerCase(),p=c.names[g]||n,f=a[p];if(b[p]&&"undefined"!=typeof f)return f;if("textContent"==p)return c.get(a,p);if("href"!=p&&("boolean"==typeof f||k.isFunction(f)))return f;
g=d[g]||n;return e(a,g)?a.getAttribute(g):null};l.set=function(a,n,g){a=h.byId(a);if(2==arguments.length){for(var e in n)l.set(a,e,n[e]);return a}e=n.toLowerCase();var q=c.names[e]||n,r=b[q];if("style"==q&&"string"!=typeof g)return f.set(a,g),a;if(r||"boolean"==typeof g||k.isFunction(g))return c.set(a,n,g);a.setAttribute(d[e]||n,g);return a};l.remove=function(a,b){h.byId(a).removeAttribute(d[b.toLowerCase()]||b)};l.getNodeProp=function(a,b){a=h.byId(a);var g=b.toLowerCase(),p=c.names[g]||b;if(p in
a&&"href"!=p)return a[p];g=d[g]||b;return e(a,g)?a.getAttribute(g):null}})},"tm1web/utility/url":function(){define(["dojo/_base/lang","dojo/io-query","dojox/validate/regexp","./string"],function(l,m,k,h){var f=k.url({scheme:!0,allowLocal:!0,allowNamed:!0}),c=k.url({allowLocal:!0,allowNamed:!0});k=k.host({allowLocal:!0,allowNamed:!0});f=f.replace("(?:\\?[^?#\\s/]*)?","(?:\\?[^?#\\s]*)?");c=c.replace("(?:\\?[^?#\\s/]*)?","(?:\\?[^?#\\s]*)?");k=f.substring(0,f.indexOf(k)+k.length);k=k.replace("|^[^-][a-zA-Z0-9_-]*",
"|[^-][a-zA-Z0-9_-]*");var e=new RegExp("^("+f+")$","i"),b=new RegExp("^("+c+")$","i"),d=new RegExp("^("+k+")","i");return{isXDomainUrl:function(a){return(a.startsWith?a.startsWith("."):0==a.indexOf("."))?!1:(a=a.match(/^([^\/\:]+\:)\/\/([^\/]+)/))&&(a[1]!=location.protocol||a[2]!=location.host)},toUrl:function(a,b){b||(b=require);var g=b.toUrl(a);!h.endsWith(a,"main")&&h.endsWith(g,"/main")&&(g=g.substring(0,g.length-5));return g},isUrl:function(a,d){var g=!1;(g=d||null==d?e.test(a):b.test(a))||
(g=/^((https?):\/\/)/.test(a));return g},compact:function(a){var b="",g=a,c=a.match(d);c&&(b=c[0],g=g.substring(b.length));var g=g.split("/"),c=[],e=g.length&&!g[0];!b&&e&&(e=!1,b="/");for(var f=0;f<g.length;f++){var h=g[f];if(h&&"."!==h){if(".."===h&&!c.length&&b)throw Error("The specified URL was invalid: "+a);".."===h&&c.length&&".."!==c[c.length-1]?c.pop():c.push(h)}}return b+(e&&c.length?"/":"")+c.join("/")},getQueryString:function(){var a=location.search;a&&(a=a.substring(1));return a},getQueryObject:function(){return m.queryToObject(this.getQueryString())},
setQueryString:function(a){var b=m.objectToQuery(a);location.search=b?"?"+m.objectToQuery(a):""},appendToQueryString:function(a){this.setQueryString(l.mixin(this.getQueryObject(),a))}}})},"dijit/ConfirmDialog":function(){define(["../dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(l,m,k){return l("dijit/ConfirmDialog",[m,k],{})})},"tm1web/share/SpreadSyntaxValidator":function(){define(["dojo/_base/declare","./NumberType","../utility/number"],function(l,m,k){var h={NullFunction:0,Repeat:1,
EqualSpread:2,ProportionalSpread:3,PercentChange:4,Clear:5,Hold:6,HoldConsolidation:7,Release:8,ReleaseConsolidate:9,ReleaseAll:10,PercentGrowth:11,StraightLine:12,RelativeProportionalSpread:13,RelativePercentAdjustement:14,RepeatLeaves:15,EqualSpreadLeaves:16,ClearLeaves:17,WeightedLeaves:18,WeightedLeavesDefault:19};return l(null,{isValid:function(f){var c,e,b;b=f.length;if(1>b)return!1;for(var d=0,a=1;d<b;){for(;d<b&&" "==f.charAt(d);)d++;if(d>=b)break;switch(a){case 0:return!1;case 1:e=this._getSpreadType(f);
if(e==h.NullFunction)return!1;e==h.Repeat||e==h.EqualSpread||e==h.ProportionalSpread||e==h.Clear||e==h.Hold?d++:d+=2;if(d>=b&&(e==h.Clear||e==h.ClearLeaves||e==h.Hold||e==h.HoldConsolidation||e==h.Release||e==h.ReleaseConsolidate||e==h.ReleaseAll)){a=0;break}a=2;break;case 2:c=f.charAt(d);"+"!=c&&"~"!=c||d++;a=3;break;case 3:if(e==h.Repeat||e==h.EqualSpread||e==h.ProportionalSpread||e==h.PercentChange||e==h.Clear||e==h.Hold||e==h.HoldConsolidation||e==h.Release||e==h.ReleaseConsolidate||e==h.PercentGrowth||
e==h.StraightLine){for(a=0;4>a;a++)switch(c=f.charAt(d),c){case "\x3e":case "|":case "\x3c":case "^":d++}a=e==h.Clear||e==h.Hold||e==h.HoldConsolidation||e==h.Release||e==h.ReleaseConsolidate?0:4}else if(e==h.RelativeProportionalSpread||e==h.RelativePercentAdjustment)a=4;else if(e==h.RepeatLeaves||e==h.EqualSpreadLeaves||e==h.WeightedLeaves||e==h.WeightedLeavesDefault||e==h.ClearLeaves)c=f.charAt(d),"*"==c&&d++,a=e==h.ClearLeaves?0:4;else if(e==h.ReleaseAll){c=f.charAt(d);if(" "!=c)return!1;d++}break;
case 4:c=f.substr(d);b=c.indexOf(":");if(0<b){if(e!=h.PercentGrowth&&e!=h.StraightLine)return!1;f=f.substr(d,b);e=c.substr(b+1);return k.canParse(f,m.DECIMAL)&&k.canParse(e,m.DECIMAL)}return e==h.PercentGrowth||e==h.StraightLine?!1:k.canParse(c,m.DECIMAL);case 5:a=0}}return 0==a},_getSpreadType:function(f){var c,e=0;c=f.length;if(0>=c)return h.NullFunction;for(e=0;e<c;)switch(c=this._upperCaseCharAt(f,e),c){case "R":switch(c=this._upperCaseCharAt(f,++e),c){case "H":return h.Release;case "C":return h.ReleaseConsolidate;
case "A":return h.ReleaseAll;case "P":return h.RelativeProportionalSpread;case "%":return h.RelativePercentAdjustment;default:return h.Repeat}case "S":switch(c=this._upperCaseCharAt(f,++e),c){case "L":return h.StraightLine;default:return h.EqualSpread}case "P":switch(c=this._upperCaseCharAt(f,++e),c){case "%":return h.PercentChange;default:return h.ProportionalSpread}case "G":switch(c=this._upperCaseCharAt(f,++e),c){case "R":return h.PercentGrowth;default:return h.NullFunction}case "C":return h.Clear;
case "H":switch(c=this._upperCaseCharAt(f,++e),c){case "C":return h.HoldConsolidation;default:return h.Hold}case "L":switch(c=this._upperCaseCharAt(f,++e),c){case "R":return h.RepeatLeaves;case "S":return h.EqualSpreadLeaves;case "C":return h.ClearLeaves}case "W":switch(c=this._upperCaseCharAt(f,++e),c){case "X":return h.WeightedLeaves;case "D":return h.WeightedLeavesDefault}default:return h.NullFunction}return h.NullFunction},_upperCaseCharAt:function(f,c){return f.charAt(c).toUpperCase()}})})},
"tm1web/celledit/spread-syntax-validator":function(){define(["../share/SpreadSyntaxValidator"],function(l){return new l})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){function g(a,b){a.canDelete&&t._remove(a.id,b.options.frameDoc,!0)}function p(a){A&&A.length&&(f.forEach(A,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),A=[]);return a.options.jsonp?
!a.data:!0}function q(a){return!!this.scriptLoaded}function r(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function s(a,b){if(this.canDelete){var g=this.response.options;A.push({id:this.id,frameDoc:g.ioArgs?g.ioArgs.frameDoc:g.frameDoc});g.ioArgs&&(g.ioArgs.frameDoc=null);g.frameDoc=null}b?this.reject(b):this.resolve(a)}function t(a,b,d){var n=k.parseArgs(a,k.deepCopy({},b));a=n.url;b=n.options;var f=k.deferred(n,g,p,b.jsonp?null:b.checkString?r:q,s);c.mixin(f,{id:u+
x++,canDelete:!1});b.jsonp&&((new RegExp("[?\x26]"+b.jsonp+"\x3d")).test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+u+"_callbacks."+f.id),f.canDelete=!0,z[f.id]=function(a){n.data=a;f.handleResponse(n)});k.notify&&k.notify.emit("send",n,f.promise.cancel);if(!b.canAttach||b.canAttach(f)){var h=t._attach(f.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var l=e(h,w,function(a){if("load"===a.type||v.test(h.readyState))l.remove(),f.scriptLoaded=a})}m(f);return d?f:f.promise}
a.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=l.id.replace(/[\/\.\-]/g,"_"),x=0,w=a("script-readystatechange")?"readystatechange":"load",v=/complete|loaded/,z=h.global[u+"_callbacks"]={},A=[];t.get=t;t._attach=function(a,b,g){g=g||n.doc;var d=g.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return g.getElementsByTagName("head")[0].appendChild(d)};
t._remove=function(a,g,c){d.destroy(b.byId(a,g));z[a]&&(c?z[a]=function(){delete z[a]}:delete z[a])};t._callbacksProperty=u+"_callbacks";return t})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(l,m,k,h){return l("dijit.form.MappedTextBox",h,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(f){return f.toString?f.toString():""},toString:function(){var f=
this.filter(this.get("value"));return null!=f?"string"==typeof f?f:this.serialize(f,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=k.place("\x3cinput type\x3d'hidden'"+(this.name&&!m("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"tm1web/celledit/_PickListStore":function(){define(["dojo/_base/declare",
"../cubeview/ViewCellType","../utility/number","./_CellListStore"],function(l,m,k,h){return l(h,{_method:"getPickList",_cellInfoProperty:"pickListItems",_getDisplayValue:function(f){var c=this.inherited(arguments);if(this.cellInfo.cellType==m.NUM&&""!=c.trim())try{return k.format(c)}catch(e){}return c}})})},"tm1web/widgets/_StopPropagationMixin":function(){define(["dojo/_base/declare","dojo/on"],function(l,m){return l(null,{_stopPropagationEvents:null,postCreate:function(){this.inherited(arguments);
this.own(m(this.domNode,this._stopPropagationEvents,function(k){k.stopPropagation()}))}})})},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(l,m,k){var h=m.getObject("grid.util",!0,l);h.na="...";h.rowIndexTag="gridRowIndex";h.gridViewTag="gridView";h.fire=function(f,c,e){var b=f&&c&&f[c];return b&&(e?b.apply(f,e):f[c]())};h.setStyleHeightPx=function(f,c){if(0<=c){var e=f.style,b=c+"px";f&&e.height!=b&&(e.height=b)}};h.mouseEvents="mouseover mouseout mousedown mouseup click dblclick contextmenu".split(" ");
h.keyEvents=["keyup","keydown","keypress"];h.funnelEvents=function(f,c,e,b){b=b?b:h.mouseEvents.concat(h.keyEvents);for(var d=0,a=b.length;d<a;d++)c.connect(f,"on"+b[d],e)};h.removeNode=function(f){(f=k.byId(f))&&f.parentNode&&f.parentNode.removeChild(f);return f};h.arrayCompare=function(f,c){for(var e=0,b=f.length;e<b;e++)if(f[e]!=c[e])return!1;return f.length==c.length};h.arrayInsert=function(f,c,e){f.length<=c?f[c]=e:f.splice(c,0,e)};h.arrayRemove=function(f,c){f.splice(c,1)};h.arraySwap=function(f,
c,e){var b=f[c];f[c]=f[e];f[e]=b};return h})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(l,m,k,h,f){return f("dojox.layout.ContentPane",k,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,executeScripts:!0,scriptHasHooks:!1,ioMethod:m.get,ioArgs:{},onExecError:function(c){},_setContent:function(c){var e=this._contentSetter;e&&e instanceof h._ContentSetter||(e=this._contentSetter=new h._ContentSetter({node:this.containerNode,
_onError:l.hitch(this,this._onError),onContentError:l.hitch(this,function(b){b=this.onContentError(b);try{this.containerNode.innerHTML=b}catch(d){console.error("Fatal "+this.id+" could not change content due to "+d.message,d)}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+
this.id+"')"};this.inherited("_setContent",arguments)},destroy:function(){var c=this._contentSetter;c&&c.tearDown();this.inherited(arguments)}})})},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(l,m,k){return l("dojox.grid._RowManager",null,{constructor:function(h){this.grid=h},linesToEms:2,overRow:-2,prepareStylingRow:function(h,f){return{index:h,node:f,odd:Boolean(h&1),selected:!!this.grid.selection.isSelected(h),over:this.isOver(h),
customStyles:"",customClasses:"dojoxGridRow"}},styleRowNode:function(h,f){var c=this.prepareStylingRow(h,f);this.grid.onStyleRow(c);this.applyStyles(c)},applyStyles:function(h){h.node.className=h.customClasses;var f=h.node.style.height,c=h.node,e=h.customStyles+";"+(h.node._style||"");void 0==c.style.cssText?c.setAttribute("style",e):c.style.cssText=e;h.node.style.height=f},updateStyles:function(h){this.grid.updateRowStyles(h)},setOverRow:function(h){var f=this.overRow;this.overRow=h;f!=this.overRow&&
(m.isString(f)||0<=f)&&this.updateStyles(f);this.updateStyles(this.overRow)},isOver:function(h){return this.overRow==h&&!k.contains(this.grid.domNode,"dojoxGridColumnResizing")}})})},"tm1web/config-settings":function(){define(["dojo/_base/Deferred","dojo/sniff","./share/http-session-initializer","./share/service-loader!TM1Service"],function(l,m,k,h){var f=new l,c=null;k.init().then(function(){h.getTM1WebConfigSettings({callback:function(e){c=e;f.resolve();f=null}})});return{load:function(c,b,d){f&&
!f.isFulfilled()?f.then(function(){d(1)}):d(1)},getAdminHost:function(){return c.adminHostName},getTM1Server:function(){return c.tm1ServerName},getMaxExportSheetCount:function(){return c.maxExportSheetCount},getCubeviewerStringWrapCellWidth:function(){return c.cubeviewerStringWrapCellWidth},recalculateOnPicklistChange:function(){return c.recalculateOnPicklistChange},recalculateOnValidationListChange:function(){return c.recalculateOnValidationListChange},isLegacyUrlApiSessionDiscoveryEnabled:function(){return c.legacyUrlApiSessionDiscoveryEnabled},
isRecalcOnActivateEnabled:function(){return c.recalcOnActivateEnabled},getWebSheetBackgroundRecalculationMode:function(){return c.webSheetBackgroundRecalculationMode},getTM1WebSSOUrl:function(){return c.tm1WebSSOUrl},getTm1ServerSecurityMode:function(){return c.tm1ServerSecurityMode},isNativeWebsheetScrollingEnabled:function(){return c.nativeWebsheetScrollingInIEEnabled||!m("trident")},getCustomCamLogoutUrl:function(){return c.customCAMLogoutURL},isCamLoginApiRedirectEnabled:function(){return c.camLoginApiRedirectEnabled},
isCellListSearchCharacterRemovalEnabled:function(){return c.cellListSearchCharacterRemovalEnabled},getTM1DatabaseLabel:function(){return c.TM1DatabaseLabel},isCubeViewerHiddenDimensionsEnabled:function(){return c.cubeViewerHiddenDimensionsEnabled},isNpsEnabled:function(){return c.npsEnabled},isNpsDev:function(){return c.npsDev},npsTenantRequiredAge:function(){return c.npsTenantRequiredAge},npsUserRequiredAge:function(){return c.npsUserRequiredAge},getNpsEmbedScript:function(){return c.npsEmbedScript}}})},
"tm1web/share/_LoadingOverlayMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dijit/focus dijit/registry dojo/domReady!".split(" "),function(l,m,k,h,f){return l(null,{_loadingOverlayNode:null,_loadingCount:0,_createLoadingOverlay:function(){this._loadingOverlayNode=m.create("div",{tabIndex:"-1",className:"tm1webLoadingOverlay",style:{display:"none"}},function(c){for(var e;c;)e=c,c=f.getEnclosingWidget(c.domNode.parentNode);return e.containerNode||e.domNode}(this))},_setLoadingAttr:function(c){this._loadingOverlayNode||
this._createLoadingOverlay();var e=this._loadingOverlayNode;c?(0===this._loadingCount&&(this._refocusNode=h.curNode,k.set(e,"display",""),h.focus(e)),this._loadingCount++):(1===this._loadingCount&&((c=this._refocusNode)&&(0<c.offsetWidth||0<c.offsetHeight)&&h.focus(c),delete this._refocusNode,k.set(e,"display","none")),this._loadingCount=Math.max(0,this._loadingCount-1))},_getLoadingAttr:function(){return 0<this._loadingCount},destroy:function(){this.inherited(arguments);this._loadingOverlayNode&&
m.destroy(this._loadingOverlayNode)}})})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){return m("dojo.dnd.Moveable",[c],{handle:"",delay:0,skip:!1,constructor:function(a,b){this.node=h.byId(a);b||(b={});this.handle=b.handle?h.byId(b.handle):null;this.handle||(this.handle=this.node);this.delay=0<b.delay?b.delay:0;this.skip=b.skip;
this.mover=b.mover?b.mover:n;this.events=[e(this.handle,d.press,k.hitch(this,"onMouseDown")),e(this.handle,"dragstart",k.hitch(this,"onSelectStart")),e(this.handle,"selectstart",k.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,g){return new g(b,a)},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||!a.isFormElement(b)){if(this.delay)this.events.push(e(this.handle,d.move,k.hitch(this,"onMouseMove")),
e(this.handle,d.release,k.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);b.stopPropagation();b.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(b){this.skip&&a.isFormElement(b)||
(b.stopPropagation(),b.preventDefault())},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){b.publish("/dnd/move/start",a);f.add(g.body(),"dojoMove");f.add(this.node,"dojoMoveItem")},onMoveStop:function(a){b.publish("/dnd/move/stop",a);f.remove(g.body(),"dojoMove");f.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var g=a.node.style;g.left=b.l+"px";g.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},
"dojo/store/util/QueryResults":function(){define(["../../_base/kernel","../../_base/array","../../_base/lang","../../when"],function(l,m,k,h){var f=function(c){function e(d){c[d]=function(){var a=arguments,n=h(c,function(b){Array.prototype.unshift.call(a,b);return f(m[d].apply(m,a))});if("forEach"!==d||b)return n}}if(!c)return c;var b=!!c.then;b&&(c=k.delegate(c));e("forEach");e("filter");e("map");null==c.total&&(c.total=h(c,function(b){return b.length}));return c};k.setObject("store.util.QueryResults",
f,l);return f})},"tm1web/websheet/controls/TextBoxControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-construct dojo/dom-geometry dojo/dom-style ./LinkedControlBase ../../utility/dom ../../share/service-loader!WebSheetService".split(" "),function(l,m,k,h,f,c,e,b,d){return l(e,{constructor:function(a,b,g){},create:function(){var a=this.inherited(arguments);c.set(a,{resize:"none"});this.own(k(a,"change",m.hitch(this,"_setText")),k(a,"keydown, keyup, keypress",m.hitch(this,
"_stopBubbling")));return a},newControl:function(){var a=h.create("textarea");b.setTextContent(a,this.controlInfo.text);this._value=a.value;return a},_setText:function(){var a=this.controlNode.value;a!==this._value&&(this._value=a,d.setTextBoxText(this.objectId,this.controlInfo.id,a,{callback:this.recalculate,scope:this}))},_stopBubbling:function(a){a.stopPropagation()},setControlPosition:function(){f.setMarginBox(this.controlNode,this.getPositionProperties())}})})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),
function(l,m,k,h,f,c,e,b,d){return m("dijit.form.CheckBox",[e,b],{templateString:d,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&f("label[for\x3d'"+
this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&f("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/nls/common":function(){define({root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,
ca:!0,bg:!0,az:!0,ar:!0})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(l,m,k,h){return l("dijit.form.Textarea",[h,k],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);m.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),
function(l,m,k,h,f,c,e,b,d){return l("dijit.form.DropDownButton",[c,e,b],{baseClass:"dijitDropDownButton",templateString:d,_fillContent:function(){if(this.srcNodeRef){var a=k("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=k("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=h.byNode(a));delete this.dropDownContainer}this.dropDown&&f.hide(this.dropDown);this.inherited(arguments)}},
isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,g=b.on("load",m.hitch(this,function(){g.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,m){var k={};l.regexp=k;k.escapeString=function(h,f){return h.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(c){return f&&-1!=f.indexOf(c)?c:"\\"+c})};k.buildGroupRE=
function(h,f,c){if(!(h instanceof Array))return f(h);for(var e=[],b=0;b<h.length;b++)e.push(f(h[b]));return k.group(e.join("|"),c)};k.group=function(h,f){return"("+(f?"?:":"")+h+")"};return k})},"dojo/_base/config":function(){define(["../has","require"],function(l,m){var k={},h=m.rawConfig,f;for(f in h)k[f]=h[f];var h={gfxRenderer:"canvas,svg,vml,silverlight",defaultDuration:100,parseOnLoad:0,async:1,noGlobals:1},c;for(c in h)!h.hasOwnProperty(c)||c in k||(k[c]=h[c]);if(!k.locale){var e;"undefined"!==
typeof navigator&&navigator.languages&&navigator.languages[0]?e=navigator.languages[0]:"undefined"!==typeof document&&(document.documentElement.lang||"").trim()?e=document.documentElement.lang:"undefined"!==typeof requirejs&&requirejs.s.contexts._.config&&requirejs.s.contexts._.config.locale?e=requirejs.s.contexts._.config.locale:"undefined"!=typeof navigator&&(e=navigator.language||navigator.userLanguage);e&&(k.locale=e.toLowerCase())}return k})},"dojox/grid/_FocusManager":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/event dojo/_base/sniff dojo/query ./util dojo/_base/html".split(" "),
function(l,m,k,h,f,c,e,b,d){return k("dojox.grid._FocusManager",null,{constructor:function(a){this.grid=a;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(h.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(h.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(h.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(h.connect(this.grid.domNode,"mouseup",
this,"_mouseUp"));this._connects.push(h.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(h.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(h.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(h.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(h.connect(this.grid,"postrender",this,"_delayedHeaderFocus"))},destroy:function(){l.forEach(this._connects,h.disconnect);
l.forEach(this._headerConnects,h.disconnect);delete this.grid;delete this.cell},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:!1,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders()},isFocusCell:function(a,b){return this.cell==a&&this.rowIndex==b},isLastFocusCell:function(){return this.cell?this.rowIndex==this.grid.rowCount-1&&
this.cell.index==this.grid.layout.cellCount-1:!1},isFirstFocusCell:function(){return this.cell?0===this.rowIndex&&0===this.cell.index:!1},isNoFocusCell:function(){return 0>this.rowIndex||!this.cell},isNavHeader:function(){return!!this._colHeadNode},getHeaderIndex:function(){return this._colHeadNode?l.indexOf(this._findHeaderCells(),this._colHeadNode):-1},_focusifyCellNode:function(a){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n&&(d.toggleClass(n,this.focusClass,a),a)){a=this.scrollIntoView();
try{if(c("webkit")||!this.grid.edit.isEditing())b.fire(n,"focus"),a&&(this.cell.view.scrollboxNode.scrollLeft=a)}catch(g){}}},_delayedCellFocus:function(){if(!this.isNavHeader()&&this.grid.focused){var a=this.cell&&this.cell.getNode(this.rowIndex);if(a)try{this.grid.edit.isEditing()||(d.toggleClass(a,this.focusClass,!0),this._colHeadNode&&this.blurHeader(),b.fire(a,"focus"))}catch(c){}}},_delayedHeaderFocus:function(){this.isNavHeader()&&this.focusHeader()},_initColumnHeaders:function(){l.forEach(this._headerConnects,
h.disconnect);this._headerConnects=[];for(var a=this._findHeaderCells(),b=0;b<a.length;b++)this._headerConnects.push(h.connect(a[b],"onfocus",this,"doColHeaderFocus")),this._headerConnects.push(h.connect(a[b],"onblur",this,"doColHeaderBlur"))},_findHeaderCells:function(){for(var a=e("th",this.grid.viewsHeaderNode),b=[],g=0;g<a.length;g++){var c=a[g],f=d.hasAttr(c,"tabIndex"),h=d.attr(c,"tabIndex");f&&0>h&&b.push(c)}return b},_setActiveColHeader:function(a,b,g){this.grid.domNode.setAttribute("aria-activedescendant",
a.id);null!=g&&0<=g&&g!=b&&d.toggleClass(this._findHeaderCells()[g],this.focusClass,!1);d.toggleClass(a,this.focusClass,!0);this._colHeadNode=a;this._colHeadFocusIdx=b;this._scrollHeader(this._colHeadFocusIdx)},scrollIntoView:function(){var a=this.cell?this._scrollInfo(this.cell):null;if(!a||!a.s)return null;var b=this.grid.scroller.findScrollTop(this.rowIndex);a.n&&a.sr&&(a.n.offsetLeft+a.n.offsetWidth>a.sr.l+a.sr.w?a.s.scrollLeft=a.n.offsetLeft+a.n.offsetWidth-a.sr.w:a.n.offsetLeft<a.sr.l&&(a.s.scrollLeft=
a.n.offsetLeft));a.r&&a.sr&&(b+a.r.offsetHeight>a.sr.t+a.sr.h?this.grid.setScrollTop(b+a.r.offsetHeight-a.sr.h):b<a.sr.t&&this.grid.setScrollTop(b));return a.s.scrollLeft},_scrollInfo:function(a,b){if(a){var g=a.view.scrollboxNode,d={w:g.clientWidth,l:g.scrollLeft,t:g.scrollTop,h:g.clientHeight},c=a.view.getRowNode(this.rowIndex);return{c:a,s:g,sr:d,n:b?b:a.getNode(this.rowIndex),r:c}}return null},_scrollHeader:function(a){var b=null;if(this._colHeadNode){var g=this.grid.getCell(a);if(!g)return;b=
this._scrollInfo(g,g.getNode(0))}b&&b.s&&b.sr&&b.n&&(b.n.offsetLeft+b.n.offsetWidth>b.sr.l+b.sr.w?b.s.scrollLeft=b.n.offsetLeft+b.n.offsetWidth-b.sr.w:b.n.offsetLeft<b.sr.l?b.s.scrollLeft=b.n.offsetLeft:7>=c("ie")&&g&&g.view.headerNode&&(g.view.headerNode.scrollLeft=b.s.scrollLeft))},_isHeaderHidden:function(){var a=this.focusView;if(!a)for(var b=0,g;g=this.grid.views.views[b];b++)if(g.headerNode){a=g;break}return a&&"none"==d.getComputedStyle(a.headerNode).display},colSizeAdjust:function(a,b,g){var d=
this._findHeaderCells(),c=this.focusView;if(!c||!c.header.tableMap.map)for(var e=0,f;f=this.grid.views.views[e];e++)if(f.header.tableMap.map){c=f;break}e=d[b];!c||b==d.length-1&&0===b||(c.content.baseDecorateEvent(a),a.cellNode=e,a.cellIndex=c.content.getCellNodeIndex(a.cellNode),a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null,c.header.canResize(a)&&(b={l:g},a=c.header.colResizeSetup(a,!1),c.header.doResizeColumn(a,null,b),c.update()))},styleRow:function(a){},setFocusIndex:function(a,b){this.setFocusCell(this.grid.getCell(b),
a)},setFocusCell:function(a,b){a&&!this.isFocusCell(a,b)&&(this.tabbingOut=!1,this._colHeadNode&&this.blurHeader(),this._colHeadNode=this._colHeadFocusIdx=null,this.focusGridView(),this._focusifyCellNode(!1),this.cell=a,this.rowIndex=b,this._focusifyCellNode(!0));if(c("opera"))setTimeout(m.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);else this.grid.onCellFocus(this.cell,this.rowIndex)},next:function(){if(this.cell){var a=this.rowIndex,b=this.cell.index+1,g=this.grid.layout.cellCount-
1,d=this.grid.rowCount-1;b>g&&(b=0,a++);a>d&&(b=g,a=d);if(this.grid.edit.isEditing()&&(g=this.grid.getCell(b),!this.isLastFocusCell()&&(!g.editable||this.grid.canEdit&&!this.grid.canEdit(g,a)))){this.cell=g;this.rowIndex=a;this.next();return}this.setFocusIndex(a,b)}},previous:function(){if(this.cell){var a=this.rowIndex||0,b=(this.cell.index||0)-1;0>b&&(b=this.grid.layout.cellCount-1,a--);0>a&&(b=a=0);if(this.grid.edit.isEditing()){var g=this.grid.getCell(b);if(!this.isFirstFocusCell()&&!g.editable){this.cell=
g;this.rowIndex=a;this.previous();return}}this.setFocusIndex(a,b)}},move:function(a,b){var g=0>b?-1:1;if(this.isNavHeader()){var c=this._findHeaderCells(),e=currentIdx=l.indexOf(c,this._colHeadNode);for(currentIdx+=b;0<=currentIdx&&currentIdx<c.length&&"none"==c[currentIdx].style.display;)currentIdx+=g;0<=currentIdx&&currentIdx<c.length&&this._setActiveColHeader(c[currentIdx],currentIdx,e)}else if(this.cell){var f=this.grid.scroller,c=this.rowIndex,e=this.grid.rowCount-1,h=Math.min(e,Math.max(0,c+
a));a&&(0<a?h>f.getLastPageRow(f.page)&&this.grid.setScrollTop(this.grid.scrollTop+f.findScrollTop(h)-f.findScrollTop(c)):0>a&&h<=f.getPageRow(f.page)&&this.grid.setScrollTop(this.grid.scrollTop-f.findScrollTop(c)-f.findScrollTop(h)));for(var f=this.grid.layout.cellCount-1,k=this.cell.index,m=Math.min(f,Math.max(0,k+b)),x=this.grid.getCell(m);0<=m&&m<f&&x&&!0===x.hidden;)m+=g,x=this.grid.getCell(m);x&&!0!==x.hidden||(m=k);g=x.getNode(h);!g&&a?0<=h+a&&h+a<=e&&this.move(0<a?++a:--a,b):g&&"none"!==d.style(g,
"display")||!b?(this.setFocusIndex(h,m),a&&this.grid.updateRow(c)):0<=m+b&&m+b<=f&&this.move(a,0<b?++b:--b)}},previousKey:function(a){this.grid.edit.isEditing()?(f.stop(a),this.previous()):this.isNavHeader()||this._isHeaderHidden()?(this.tabOut(this.grid.domNode),null!=this._colHeadFocusIdx&&(d.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,!1),this._colHeadFocusIdx=null),this._focusifyCellNode(!1)):(this.grid.domNode.focus(),f.stop(a))},nextKey:function(a){a.target===
this.grid.domNode&&null==this._colHeadFocusIdx?(this.focusHeader(),f.stop(a)):this.isNavHeader()?(this.blurHeader(),this.findAndFocusGridCell()||this.tabOut(this.grid.lastFocusNode),this._colHeadNode=this._colHeadFocusIdx=null):this.grid.edit.isEditing()?(f.stop(a),this.next()):this.tabOut(this.grid.lastFocusNode)},tabOut:function(a){this.tabbingOut=!0;a.focus()},focusGridView:function(){b.fire(this.focusView,"focus")},focusGrid:function(a){this.focusGridView();this._focusifyCellNode(!0)},findAndFocusGridCell:function(){var a=
!0,b=0===this.grid.rowCount;this.isNoFocusCell()&&!b?(b=0,this.grid.getCell(b).hidden&&(b=this.isNavHeader()?this._colHeadFocusIdx:0),this.setFocusIndex(0,b)):this.cell&&!b?(this.focusView&&!this.focusView.rowNodes[this.rowIndex]&&this.grid.scrollToRow(this.rowIndex),this.focusGrid()):a=!1;this._colHeadNode=this._colHeadFocusIdx=null;return a},focusHeader:function(){var a=this._findHeaderCells(),b=this._colHeadFocusIdx;this._isHeaderHidden()?this.findAndFocusGridCell():this._colHeadFocusIdx||(this.isNoFocusCell()?
this._colHeadFocusIdx=0:this._colHeadFocusIdx=this.cell.index);for(this._colHeadNode=a[this._colHeadFocusIdx];this._colHeadNode&&0<=this._colHeadFocusIdx&&this._colHeadFocusIdx<a.length&&"none"==this._colHeadNode.style.display;)this._colHeadFocusIdx++,this._colHeadNode=a[this._colHeadFocusIdx];this._colHeadNode&&"none"!=this._colHeadNode.style.display?(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode&&(this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode),this.headerMenu.bindDomNode(this.grid.domNode),
this._contextMenuBindNode=this.grid.domNode),this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,b),this._scrollHeader(this._colHeadFocusIdx),this._focusifyCellNode(!1)):this.findAndFocusGridCell()},blurHeader:function(){d.removeClass(this._colHeadNode,this.focusClass);d.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var a=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(a);
this._contextMenuBindNode=a}},doFocus:function(a){a&&a.target!=a.currentTarget?f.stop(a):this._clickFocus||(this.tabbingOut||this.focusHeader(),this.tabbingOut=!1,f.stop(a))},doBlur:function(a){f.stop(a)},doContextMenu:function(a){this.headerMenu||f.stop(a)},doLastNodeFocus:function(a){this.tabbingOut?this._focusifyCellNode(!1):0<this.grid.rowCount?(this.isNoFocusCell()&&this.setFocusIndex(0,0),this._focusifyCellNode(!0)):this.focusHeader();this.tabbingOut=!1;f.stop(a)},doLastNodeBlur:function(a){f.stop(a)},
doColHeaderFocus:function(a){this._setActiveColHeader(a.target,d.attr(a.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());f.stop(a)},doColHeaderBlur:function(a){d.toggleClass(a.target,this.focusClass,!1)},_mouseDown:function(a){this._clickFocus=l.some(this.grid.views.views,function(b){return b.scrollboxNode===a.target})},_mouseUp:function(a){this._clickFocus=!1}})})},"tm1web/share/Label":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(l,m,k,h,f,c){return l([f,c],{baseClass:"tm1webLabel",templateString:"\x3clabel class\x3d${baseClass}\x3e${content}\x3c/label\x3e",content:"",selectable:!0,_setContentAttr:function(c){this.content=c;this.destroyDescendants();h.empty(this.domNode);var b=c;m.isObject(c)&&c.domNode?b=c.domNode:m.isString(c)&&(b=h.toDom(c));h.place(b,this.domNode)},_setSelectableAttr:function(c){this.selectable=c;k.setSelectable(this.domNode,c)}})})},"tm1web/websheet/controls/ActionControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojox/html/entities ./ControlBase ../../widgets/ConfirmDialog ../../share/TM1MessageDialog ../../widgets/ErrorAlert ../../share/service-loader!WebSheetService ../../utility/message-localizer".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){return l(n,{constructor:function(a,b,g){this.controlInfo=a;this._objectId=b;this._initializeActionControl()},_initializeActionControl:function(){},create:function(){var a=this.inherited(arguments);d.set(a,{resize:"none"});a.disabled=this.controlInfo.disabled;this.own(f(a,"click",m.hitch(this,"_onClick")));return a},newControl:function(){btn=e.create("input",{type:"button",value:this.controlInfo.name});c.add(btn,"tm1webActionButtonControl");c.add(btn,this.controlInfo.styleId);
return btn},_onClick:function(a){this.controlInfo.showConfirmMessage?this._getTIActionConfirmMessage():this._executeTIAction()},_showConfirmDialog:function(a){g.show({message:a.message,duration:1,okButtonLabel:s.get("CONTINUE_STR"),cancelButtonLabel:s.get("CANCEL_STR")}).then(m.hitch(this,"_executeTIAction"),m.hitch(this,function(){"None"!=this.controlInfo.preCalculationType&&(k.publish(this._objectId+"-SetSheetsNeedRefresh",!0),k.publish(this._objectId+"-UpdateSheetSize",a.sheetSize),k.publish(this._objectId+
"-UnsavedDataStateChanged",!1),this.refreshPage())}))},_getTIActionConfirmMessage:function(){r.getActionButtonConfirmMessage(this._objectId,this.controlInfo.objectId,{callback:this._showConfirmDialog,scope:this})},_executeTIAction:function(){r.executeActionButton(this._objectId,this.controlInfo.objectId,{callback:this._onExecuteTIAction,scope:this})},_onExecuteTIAction:function(a){if(a){a.message&&(new p({content:a.message,title:""},"tm1webAlertDialog",s.get("OK_STR"))).Show();if(a.objectId)a.oldObjectId=
this._objectId,(a.preRefreshPage||a.preRefreshBuildedPage)&&k.publish(this._objectId+"-SetSheetsNeedRefresh",!0),k.publish(this._objectId+"-WebSheetNavigate",a);else if(a.sheetSize)k.publish(this._objectId+"-SetSheetsNeedRefresh",!0),k.publish(this._objectId+"-UpdateSheetSize",a.sheetSize),k.publish(this._objectId+"-UnsavedDataStateChanged",!1);else if(a.preRefreshPage||a.preRefreshBuildedPage||a.postRefreshPage||a.postRefreshBuildedPage)k.publish(this._objectId+"-SetSheetsNeedRefresh",!0),this.refreshPage(),
k.publish(this._objectId+"-UnsavedDataStateChanged",!1);k.publish(this._objectId+"-ActionButtonExecuted",a);-1==a.sheetIndex&&q.show({message:s.get("ACTION_BUTTON_NAVIGATION_ERROR_ARG_STR",a.resourceUri),title:s.get("WORKBOOK_FAILED_TITLE_STR")})}},setBackgroundSize:function(a){},refreshPage:function(){k.publish(this._objectId+"-UpdateGrid")},setControlPosition:function(){b.setMarginBox(this.controlNode,this.getPositionProperties())},isOverflowVisible:function(){return 1==this.controlInfo.resizeButtonToCaption},
getPositionProperties:function(){if(1==this.controlInfo.resizeButtonToCaption){var a=this.controlInfo.offsetTop,b=this.controlInfo.offsetLeft;return{t:0<a?0:a,l:0<b?0:b}}return this.inherited(arguments)}})})},"dijit/layout/_ScrollingTabControllerMenuButton":function(){define("dojo/_base/declare dojo/_base/array ../registry ../Menu ../MenuItem ../form/Button ../_HasDropDown ./_ScrollingTabControllerButtonMixin".split(" "),function(l,m,k,h,f,c,e,b){return l("dijit.layout._ScrollingTabControllerMenuButton",
[c,e,b],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(b){this.dropDown=new h({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var a=k.byId(this.containerId);m.forEach(a.getChildren(),function(b){var g=new f({id:b.id+"_stcMi",label:b.title,iconClass:b.iconClass,disabled:b.disabled,ownerDocument:this.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir||a.textDir,onClick:function(){a.selectChild(b)}});
this.dropDown.addChild(g)},this);b()},closeDropDown:function(b){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}})})},"tm1web/websheet/celledit/PickList":function(){define(["dojo/_base/declare","../../celledit/_PickList","./PickListStore","./PickListValueSaver","./_EditMixin"],function(l,m,k,h,f){return l("tm1web.websheet.celledit.PickList",[m,f],{_Store:k,_ValueSaver:h})})},"dojo/Evented":function(){define(["./aspect",
"./on"],function(l,m){function k(){}var h=l.after;k.prototype={on:function(f,c){return m.parse(this,f,c,function(e,b){return h(e,"on"+b,c,!0)})},emit:function(f,c){var e=[this];e.push.apply(e,arguments);return m.emit.apply(m,e)}};return k})},"dojo/debounce":function(){define([],function(){return function(l,m){var k;return function(){k&&clearTimeout(k);var h=this,f=arguments;k=setTimeout(function(){l.apply(h,f)},m)}}})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(l,m,k,h,f,c,e,b){return l("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=c.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),a=this.manager.source,n,g=c.create("tbody",null,b),f=c.create("tr",null,g),q=c.create("td",null,f),r=Math.min(5,this.manager.nodes.length),k=0;e("highcontrast")&&c.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},q);c.create("span",{innerHTML:a.generateText?
this._generateText():""},q);for(h.set(f,{"class":"dojoDndAvatarHeader",style:{opacity:.9}});k<r;++k)a.creator?n=a._normalizedCreator(a.getItem(this.manager.nodes[k].id).data,"avatar").node:(n=this.manager.nodes[k].cloneNode(!0),"tr"==n.tagName.toLowerCase()&&(f=c.create("table"),c.create("tbody",null,f).appendChild(n),n=f)),n.id="",f=c.create("tr",null,g),q=c.create("td",null,f),q.appendChild(n),h.set(f,{"class":"dojoDndAvatarItem",style:{opacity:(9-k)/10}});this.node=b},destroy:function(){c.destroy(this.node);
this.node=!1},update:function(){f.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(e("highcontrast")){var d=k.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="\x3c ":this.manager.canDropFlag||this.manager.copy?this.manager.canDropFlag||(a="x"):a="o";d.innerHTML=a}b("tr.dojoDndAvatarHeader td span"+(e("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(l,m){var k=/[&<>'"\/]/g,h={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},f={};l.string=f;f.escape=function(c){return c?c.replace(k,function(c){return h[c]}):""};f.rep=function(c,e){if(0>=e||!c)return"";for(var b=[];;){e&1&&b.push(c);if(!(e>>=1))break;c+=c}return b.join("")};f.pad=function(c,e,b,d){b||(b="0");c=String(c);e=f.rep(b,Math.ceil((e-c.length)/b.length));return d?
c+e:e+c};f.substitute=function(c,e,b,d){d=d||l.global;b=b?m.hitch(d,b):function(a){return a};return c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,c,g){a=m.getObject(c,!1,e);g&&(a=m.getObject(g,!1,d).call(d,a,c));return b(a,c).toString()})};f.trim=String.prototype.trim?m.trim:function(c){c=c.replace(/^\s+/,"");for(var e=c.length-1;0<=e;e--)if(/\S/.test(c.charAt(e))){c=c.substring(0,e+1);break}return c};return f})},"tm1web/mobile/ScrollHandler":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","dijit/Destroyable","./_ScrollHandlerMixin"],function(l,m,k,h,f){return l([h,f],{dataGrid:null,constructor:function(c){this.dataGrid=c;this._attachEvents()},_attachEvents:function(){this.own(k(this.dataGrid.Panel,"touchstart",m.hitch(this,"_onTouchStart")),k(this.dataGrid.Panel,"touchmove",m.hitch(this,"_onTouchMove")),k(this.dataGrid.Panel,"touchend",m.hitch(this,"_onTouchEnd")))},_scroll:function(c,e){var b=this.dataGrid.Panel;b.scrollLeft+=c;b.scrollTop+=e}})})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(l,m){return l("dijit._Contained",null,{_getSibling:function(k){var h=this.domNode;do h=h[k+"Sibling"];while(h&&1!=h.nodeType);return h&&m.byNode(h)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var k=this.getParent();return k&&k.getIndexOfChild?k.getIndexOfChild(this):-1}})})},"dojox/grid/_Builder":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/window dojo/_base/event dojo/_base/sniff dojo/_base/connect dojo/dnd/Moveable dojox/html/metrics ./util dojo/_base/html dojo/dom-geometry".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g){var p=l.grid,q=function(a){return 0<=a.rowIndex?a.rowIndex:m.indexOf(a.parentNode.childNodes,a)},r=function(a,b){return a&&((a.rows||0)[b]||a.childNodes[b])},s=function(a){for(;a&&"TABLE"!=a.tagName;a=a.parentNode);return a},t=function(a){var b=a.toUpperCase();return function(a){return a.tagName!=b}},u=a.rowIndexTag,x=a.gridViewTag,w=p._Builder=k.extend(function(a){a&&(this.view=a,this.grid=a.grid)},{view:null,_table:'\x3ctable class\x3d"dojoxGridRowTable" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"',
getTableArray:function(){var a=[this._table];this.view.viewWidth&&a.push([' style\x3d"width:',this.view.viewWidth,';"'].join(""));a.push("\x3e");return a},generateCellMarkup:function(a,b,g,c){var d=[],n;c?(n=a.index!=a.grid.getSortIndex()?"":0<a.grid.sortInfo?'aria-sort\x3d"ascending"':'aria-sort\x3d"descending"',a.id||(a.id=this.grid.id+"Hdr"+a.index),n=['\x3cth tabIndex\x3d"-1" aria-readonly\x3d"true" role\x3d"columnheader"',n,' id\x3d"',a.id,'"']):n=['\x3ctd tabIndex\x3d"-1" role\x3d"gridcell"',
this.grid.editable&&!a.editable?'aria-readonly\x3d"true"':""];a.colSpan&&n.push(' colspan\x3d"',a.colSpan,'"');a.rowSpan&&n.push(' rowspan\x3d"',a.rowSpan,'"');n.push(' class\x3d"dojoxGridCell ');a.classes&&n.push(a.classes," ");g&&n.push(g," ");d.push(n.join(""));d.push("");n=['" idx\x3d"',a.index,'" style\x3d"'];b&&";"!=b[b.length-1]&&(b+=";");n.push(a.styles,b||"",a.hidden?"display:none;":"");a.unitWidth&&n.push("width:",a.unitWidth,";");d.push(n.join(""));d.push("");n=['"'];a.attrs&&n.push(" ",
a.attrs);n.push("\x3e");d.push(n.join(""));d.push("");d.push(c?"\x3c/th\x3e":"\x3c/td\x3e");return d},isCellNode:function(a){return Boolean(a&&a!=h.doc&&n.attr(a,"idx"))},getCellNodeIndex:function(a){return a?Number(n.attr(a,"idx")):-1},getCellNode:function(a,b){for(var g=0,d;(d=r(a.firstChild,g))&&d.cells;g++)for(var c=0,n;n=d.cells[c];c++)if(this.getCellNodeIndex(n)==b)return n;return null},findCellTarget:function(a,b){for(var g=a;g&&(!this.isCellNode(g)||g.offsetParent&&x in g.offsetParent.parentNode&&
g.offsetParent.parentNode[x]!=this.view.id)&&g!=b;)g=g.parentNode;return g!=b?g:null},baseDecorateEvent:function(a){a.dispatch="do"+a.type;a.grid=this.grid;a.sourceView=this.view;a.cellNode=this.findCellTarget(a.target,a.rowNode);a.cellIndex=this.getCellNodeIndex(a.cellNode);a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null},findTarget:function(a,b){for(var g=a;g&&g!=this.domNode&&(!(b in g)||x in g&&g[x]!=this.view.id);)g=g.parentNode;return g!=this.domNode?g:null},findRowTarget:function(a){return this.findTarget(a,
u)},isIntraNodeEvent:function(a){try{return a.cellNode&&a.relatedTarget&&n.isDescendant(a.relatedTarget,a.cellNode)}catch(b){return!1}},isIntraRowEvent:function(a){try{var b=a.relatedTarget&&this.findRowTarget(a.relatedTarget);return!b&&-1==a.rowIndex||b&&a.rowIndex==b.gridRowIndex}catch(g){return!1}},dispatchEvent:function(a){return a.dispatch in this?this[a.dispatch](a):!1},domouseover:function(a){a.cellNode&&a.cellNode!=this.lastOverCellNode&&(this.lastOverCellNode=a.cellNode,this.grid.onMouseOver(a));
this.grid.onMouseOverRow(a)},domouseout:function(a){if(a.cellNode&&a.cellNode==this.lastOverCellNode&&!this.isIntraNodeEvent(a,this.lastOverCellNode)&&(this.lastOverCellNode=null,this.grid.onMouseOut(a),!this.isIntraRowEvent(a)))this.grid.onMouseOutRow(a)},domousedown:function(a){if(a.cellNode)this.grid.onMouseDown(a);this.grid.onMouseDownRow(a)},_getTextDirStyle:function(a,b,g){return""}});l=p._ContentBuilder=k.extend(function(a){w.call(this,a)},w.prototype,{update:function(){this.prepareHtml()},
prepareHtml:function(){for(var a=this.grid.get,b=this.view.structure.cells,g=0,d;d=b[g];g++)for(var c=0,n;n=d[c];c++)n.get=n.get||void 0==n.value&&a,n.markup=this.generateCellMarkup(n,n.cellStyles,n.cellClasses,!1),!this.grid.editable&&n.editable&&(this.grid.editable=!0)},generateHtml:function(b,g){var d=this.getTableArray(),c,n=this.view.structure.cells,e=this.grid.getItem(g);a.fire(this.view,"onBeforeRow",[g,n]);for(var f=0,p;p=n[f];f++)if(!p.hidden&&!p.header){d.push(p.invisible?'\x3ctr class\x3d"dojoxGridInvisible"\x3e':
"\x3ctr\x3e");for(var h=0,q,r,k;q=p[h];h++)r=q.markup,c=q.customClasses=[],k=q.customStyles=[],r[5]=q.format(g,e),r[1]=c.join(" "),r[3]=k.join(";"),(c=q.textDir||this.grid.textDir)&&(r[3]+=this._getTextDirStyle(c,q,g)),d.push.apply(d,r);d.push("\x3c/tr\x3e")}d.push("\x3c/table\x3e");return d.join("")},decorateEvent:function(a){a.rowNode=this.findRowTarget(a.target);if(!a.rowNode)return!1;a.rowIndex=a.rowNode[u];this.baseDecorateEvent(a);a.cell=this.grid.getCell(a.cellIndex);return!0}});var v=p._HeaderBuilder=
k.extend(function(a){this.moveable=null;w.call(this,a)},w.prototype,{_skipBogusClicks:!1,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap?this.tableMap.mapRows(this.view.structure.cells):this.tableMap=new p._TableMap(this.view.structure.cells)},generateHtml:function(b,g){var d,c=this.getTableArray(),n=this.view.structure.cells;a.fire(this.view,"onBeforeRow",[-1,n]);for(var e=0,f;f=n[e];e++)if(!f.hidden){c.push(f.invisible?'\x3ctr class\x3d"dojoxGridInvisible"\x3e':"\x3ctr\x3e");for(var p=
0,h,q;h=f[p];p++)h.customClasses=[],h.customStyles=[],this.view.simpleStructure&&(h.draggable&&(h.headerClasses?-1==h.headerClasses.indexOf("dojoDndItem")&&(h.headerClasses+=" dojoDndItem"):h.headerClasses="dojoDndItem"),h.attrs?-1==h.attrs.indexOf("dndType\x3d'gridColumn_")&&(h.attrs+=" dndType\x3d'gridColumn_"+this.grid.id+"'"):h.attrs="dndType\x3d'gridColumn_"+this.grid.id+"'"),q=this.generateCellMarkup(h,h.headerStyles,h.headerClasses,!0),q[5]=void 0!=g?g:b(h),q[3]=h.customStyles.join(";"),(d=
h.textDir||this.grid.textDir)&&(q[3]+=this._getTextDirStyle(d,h,g)),q[1]=h.customClasses.join(" "),c.push(q.join(""));c.push("\x3c/tr\x3e")}c.push("\x3c/table\x3e");return c.join("")},getCellX:function(a){var b;b=t("th");for(var d=a.target;d&&b(d);d=d.parentNode);(b=d)?(b=g.position(b),a=a.clientX-b.x):a=a.layerX;return a},decorateEvent:function(a){this.baseDecorateEvent(a);a.rowIndex=-1;a.cellX=this.getCellX(a);return!0},prepareResize:function(a,b){do{var g=a.cellIndex;a.cellNode=g?a.cellNode.parentNode.cells[g+
b]:null;a.cellIndex=a.cellNode?this.getCellNodeIndex(a.cellNode):-1}while(a.cellNode&&"none"==a.cellNode.style.display);return Boolean(a.cellNode)},canResize:function(a){if(!a.cellNode||1<a.cellNode.colSpan)return!1;a=this.grid.getCell(a.cellIndex);return!a.noresize&&a.canResize()},overLeftResizeArea:function(a){if(n.hasClass(h.body(),"dojoDndMove"))return!1;if(c("ie")){var b=a.target;if(n.hasClass(b,"dojoxGridArrowButtonNode")||n.hasClass(b,"dojoxGridArrowButtonChar")||n.hasClass(b,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?
0<a.cellIndex&&0<a.cellX&&a.cellX<this.overResizeWidth&&this.prepareResize(a,-1):a.cellNode&&0<a.cellX&&a.cellX<this.overResizeWidth},overRightResizeArea:function(a){if(n.hasClass(h.body(),"dojoDndMove"))return!1;if(c("ie")){var b=a.target;if(n.hasClass(b,"dojoxGridArrowButtonNode")||n.hasClass(b,"dojoxGridArrowButtonChar")||n.hasClass(b,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?a.cellNode&&a.cellX>=a.cellNode.offsetWidth-this.overResizeWidth:0<a.cellIndex&&a.cellX>=a.cellNode.offsetWidth-
this.overResizeWidth&&this.prepareResize(a,-1)},domousemove:function(a){if(!this.moveable){var b=this.overRightResizeArea(a)?"dojoxGridColResize":this.overLeftResizeArea(a)?"dojoxGridColResize":"";b&&!this.canResize(a)&&(b="dojoxGridColNoResize");n.toggleClass(a.sourceView.headerNode,"dojoxGridColNoResize","dojoxGridColNoResize"==b);n.toggleClass(a.sourceView.headerNode,"dojoxGridColResize","dojoxGridColResize"==b);b&&f.stop(a)}},domousedown:function(a){this.moveable||((this.overRightResizeArea(a)||
this.overLeftResizeArea(a))&&this.canResize(a)?this.beginColumnResize(a):(this.grid.onMouseDown(a),this.grid.onMouseOverRow(a)))},doclick:function(a){return this._skipBogusClicks?(f.stop(a),!0):!1},colResizeSetup:function(a,b){var g=n.contentBox(a.sourceView.headerNode);if(b){this.lineDiv=document.createElement("div");var e=n.position(a.sourceView.headerNode,!0),f=n.contentBox(a.sourceView.domNode),p=a.pageX;!this.grid.isLeftToRight()&&8>c("ie")&&(p-=d.getScrollbar().w);n.style(this.lineDiv,{top:e.y+
"px",left:p+"px",height:f.h+g.h+"px"});n.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=p;h.body().appendChild(this.lineDiv)}for(var e=[],f=this.tableMap.findOverlappingNodes(a.cellNode),p=0,q;q=f[p];p++)e.push({node:q,index:this.getCellNodeIndex(q),width:q.offsetWidth});f=a.sourceView;q=this.grid.isLeftToRight()?1:-1;for(var r=a.grid.views.views,p=[],k=f.idx+q,s;s=r[k];k+=q)p.push({node:s.headerNode,left:window.parseInt(s.headerNode.style.left)});q=f.headerContentNode.firstChild;
return{scrollLeft:a.sourceView.headerNode.scrollLeft,view:f,node:a.cellNode,index:a.cellIndex,w:n.contentBox(a.cellNode).w,vw:g.w,table:q,tw:n.contentBox(q).w,spanners:e,followers:p}},beginColumnResize:function(a){this.moverDiv=document.createElement("div");n.style(this.moverDiv,{position:"absolute",left:0});h.body().appendChild(this.moverDiv);n.addClass(this.grid.domNode,"dojoxGridColumnResizing");var g=this.moveable=new b(this.moverDiv),d=this.colResizeSetup(a,!0);g.onMove=k.hitch(this,"doResizeColumn",
d);e.connect(g,"onMoveStop",k.hitch(this,function(){this.endResizeColumn(d);d.node.releaseCapture&&d.node.releaseCapture();this.moveable.destroy();delete this.moveable;this.moveable=null;n.removeClass(this.grid.domNode,"dojoxGridColumnResizing")}));a.cellNode.setCapture&&a.cellNode.setCapture();g.onMouseDown(a)},doResizeColumn:function(a,b,g){var d=g.l,d={deltaX:d,w:a.w+(this.grid.isLeftToRight()?d:-d),vw:a.vw+d,tw:a.tw+d};this.dragRecord={inDrag:a,mover:b,leftTop:g};d.w>=this.minColWidth&&(b?n.style(this.lineDiv,
"left",this.lineDiv._origLeft+d.deltaX+"px"):this.doResizeNow(a,d))},endResizeColumn:function(a){if(this.dragRecord){var b=this.dragRecord.leftTop,b=this.grid.isLeftToRight()?b.l:-b.l,b=b+(Math.max(a.w+b,this.minColWidth)-(a.w+b));c("webkit")&&a.spanners.length&&(b+=n._getPadBorderExtents(a.spanners[0].node).w);this.doResizeNow(a,{deltaX:b,w:a.w+b,vw:a.vw+b,tw:a.tw+b});delete this.dragRecord}n.destroy(this.lineDiv);n.destroy(this.moverDiv);n.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=
!0;a.view.update();this._skipBogusClicks=!1;this.grid.onResizeColumn(a.index)},doResizeNow:function(a,b){a.view.convertColPctToFixed();if(a.view.flexCells&&!a.view.testFlexCells()){var g=s(a.node);g&&(g.style.width="")}for(var d,n,g=0;d=a.spanners[g];g++)n=d.width+b.deltaX,0<n&&(d.node.style.width=n+"px",a.view.setColWidth(d.index,n));if(this.grid.isLeftToRight()||!c("ie"))for(g=0;d=a.followers[g];g++)n=d.left+b.deltaX,d.node.style.left=n+"px";a.node.style.width=b.w+"px";a.view.setColWidth(a.index,
b.w);a.view.headerNode.style.width=b.vw+"px";a.view.setColumnsWidth(b.tw);this.grid.isLeftToRight()||(a.view.headerNode.scrollLeft=a.scrollLeft+b.deltaX)}});p._TableMap=k.extend(function(a){this.mapRows(a)},{map:null,mapRows:function(a){if(a.length){this.map=[];var b;for(b=0;a[b];b++)this.map[b]=[];for(var g=0;b=a[g];g++)for(var d=0,c=0,n,e;n=b[d];d++){for(;this.map[g][c];)c++;this.map[g][c]={c:d,r:g};e=n.rowSpan||1;n=n.colSpan||1;for(var f=0;f<e;f++)for(var p=0;p<n;p++)this.map[g+f][c+p]=this.map[g][c];
c+=n}}},dumpMap:function(){for(var a=0,b;b=this.map[a];a++)for(var g=0;b[g];g++);},getMapCoords:function(a,b){for(var g=0,d;d=this.map[g];g++)for(var c=0,n;n=d[c];c++)if(n.c==b&&n.r==a)return{j:g,i:c};return{j:-1,i:-1}},getNode:function(a,b,g){return(a=a&&a.rows[b])&&a.cells[g]},_findOverlappingNodes:function(a,b,g){var d=[];b=this.getMapCoords(b,g);g=0;for(var c;c=this.map[g];g++)g!=b.j&&(c=(c=c[b.i])?this.getNode(a,c.r,c.c):null)&&d.push(c);return d},findOverlappingNodes:function(a){return this._findOverlappingNodes(s(a),
q(a.parentNode),0<=a.cellIndex?a.cellIndex:m.indexOf(a.parentNode.cells,a))}});return{_Builder:w,_HeaderBuilder:v,_ContentBuilder:l}})},"tm1web/cubeview/ViewCellType":function(){define({NUM:"NUM",STR:"STR",ERR:"ERR"})},"tm1web/websheet/celledit/ValidationListStore":function(){define(["dojo/_base/declare","../../share/service-loader!WebSheetService","../../celledit/_CellListStore"],function(l,m,k){return l(k,{_service:m,_method:"getValidationList",_cellInfoProperty:"validationListItems"})})},"dijit/_Container":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(l,m,k,h){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(f,c){var e=this.containerNode;if(0<c){for(e=e.firstChild;0<c;)1==e.nodeType&&c--,e=e.nextSibling;e?c="before":(e=this.containerNode,c="last")}k.place(f.domNode,e,c);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==typeof f&&(f=this.getChildren()[f]);
f&&(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(f,c){h.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var e=this.getChildren(),b=l.indexOf(e,f);return e[b+c]},getIndexOfChild:function(f){return l.indexOf(this.getChildren(),f)}})})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){var t=k("dijit.layout._Splitter",[p,q],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",b=c.getMarginBox(this.child.domNode)[a],g=l.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],
a=c.getContentBox(g.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(b){this.cover||(this.cover=f.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));h.add(this.cover,"dijitSplitterCoverActive");this.fake&&f.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),h.add(this.domNode,"dijitSplitterShadow"),f.place(this.fake,this.domNode,"after"));h.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&h.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var g=this._factor,p=this.horizontal,q=p?"pageY":"pageX",r=b[q],k=this.domNode.style,p=p?"h":"w",s=e.getComputedStyle(this.child.domNode),l=c.getMarginBox(this.child.domNode,s)[p],m=this._computeMaxSize(),t=Math.max(this.child.minSize,c.getPadBorderExtents(this.child.domNode,s)[p]+10),p=this.region,u="top"==p||"bottom"==p?"top":"left",O=parseInt(k[u],10),H=this._resize,
K=d.hitch(this.container,"_layoutChildren",this.child.id),p=this.ownerDocument;this._handlers=this._handlers.concat([a(p,n.move,this._drag=function(a,b){var d=a[q]-r,c=g*d+l,n=Math.max(Math.min(c,m),t);(H||b)&&K(n);k[u]=d+O+g*(n-c)+"px"}),a(p,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),a(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();a.preventDefault()}),a(p,n.release,d.hitch(this,"_stopDrag"))]);b.stopPropagation();b.preventDefault()},_onMouse:function(a){a=
"mouseover"==a.type||"mouseenter"==a.type;h.toggle(this.domNode,"dijitSplitterHover",a);h.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&h.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&f.destroy(this.fake),h.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
m(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var g=this.horizontal,d=1;switch(a.keyCode){case g?b.UP_ARROW:b.LEFT_ARROW:d*=-1;case g?b.DOWN_ARROW:b.RIGHT_ARROW:break;default:return}g=c.getMarginSize(this.child.domNode)[g?"h":"w"]+this._factor*d;this.container._layoutChildren(this.child.id,Math.max(Math.min(g,this._computeMaxSize()),this.child.minSize));
a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),u=k("dijit.layout._Gutter",[p,q],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});k=k("dijit.layout.BorderContainer",r,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:t,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var b=a.region,g=a.isLeftToRight();"leading"==b&&(b=g?"left":"right");"trailing"==b&&(b=g?"right":"left");b&&"center"!=b&&(a.splitter||this.gutters)&&!a._splitterWidget&&(g=a.splitter?this._splitterClass:u,d.isString(g)&&
(g=d.getObject(g)),g=new g({id:a.id+"_splitter",container:this,child:a,region:b,live:this.liveSplitters}),g.isSplitter=!0,a._splitterWidget=g,b="bottom"==b||b==(this.isLeftToRight()?"right":"left"),f.place(g.domNode,a.domNode,b?"before":"after"),g.startup())},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);this.inherited(arguments)},getChildren:function(){return l.filter(this.inherited(arguments),function(a){return!a.isSplitter})},
getSplitter:function(a){return l.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var g=this.domNode;this.cs=e.getComputedStyle(g);this.pe=c.getPadExtents(g,this.cs);this.pe.r=e.toPixelValue(g,this.cs.paddingRight);this.pe.b=e.toPixelValue(g,this.cs.paddingBottom);e.set(g,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var g=[];l.forEach(this._getOrderedChildren(),
function(a){g.push(a);a._splitterWidget&&g.push(a._splitterWidget)});s.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},g,a,b)}},destroyRecursive:function(){l.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});k.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};d.mixin(k.ChildWidgetProperties,r.ChildWidgetProperties);d.extend(g,k.ChildWidgetProperties);
k._Splitter=t;k._Gutter=u;return k})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p){return m("dojo.dnd.Mover",[d],{constructor:function(b,g,d){function e(a){a.preventDefault();a.stopPropagation()}this.node=c.byId(b);this.marginBox={l:g.pageX,t:g.pageY};this.mouseButton=g.button;g=this.host=d;b=b.ownerDocument;
this.events=[a(b,n.move,k.hitch(this,"onFirstMove")),a(b,n.move,k.hitch(this,"onMouseMove")),a(b,n.release,k.hitch(this,"onMouseUp")),a(b,"dragstart",e),a(b.body,"selectstart",e)];p.autoScrollStart(b);if(g&&g.onMoveStart)g.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(h("webkit")&&h("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&
this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var g=this.node.style,d,c=this.host;switch(g.position){case "relative":case "absolute":d=Math.round(parseFloat(g.left))||0;g=Math.round(parseFloat(g.top))||0;break;default:g.position="absolute";g=e.getMarginBox(this.node);d=f.doc.body;var n=b.getComputedStyle(d),p=e.getMarginBox(d,n),n=e.getContentBox(d,n);d=g.l-(n.l-p.l);g=g.t-(n.t-p.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=g-this.marginBox.t;if(c&&c.onFirstMove)c.onFirstMove(this,
a);this.events.shift().remove()},destroy:function(){l.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"tm1web/websheet/controls/ImageControl":function(){define(["dojo/_base/declare","dojo/dom-construct","./ControlBase","../../share/TM1Utility"],function(l,m,k,h){return l(k,{constructor:function(f,c,e){this._initializeImageControl()},_initializeImageControl:function(){},newControl:function(){return m.create("img",
{src:h.tm1WebRoot+"excelsheet/"+encodeURI(this.controlInfo.fileName)},null)}})})},"tm1web/mobile/_ScrollHandlerMixin":function(){define(["dojo/_base/declare","./_ScrollDeltaMixin"],function(l,m){return l(m,{_retainStartCoordinates:!1,_onTouchMove:function(k){!k.touches||1<k.touches.length||(k.preventDefault(),this.inherited(arguments))},_handleTouchMove:function(k,h){this._scroll(k,h)},_scroll:function(k,h){}})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(l,m,k,h,f,c){function e(){for(var c=+new Date,g=0,e;g<a.length&&(e=a[g]);g++){var f=e.response,h=f.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(f)?(a.splice(g--,1),b._onAction&&b._onAction()):e.isReady&&e.isReady(f)?(a.splice(g--,1),e.handleResponse(f),b._onAction&&b._onAction()):e.startTime&&e.startTime+(h.timeout||0)<c&&(a.splice(g--,1),e.cancel(new m("Timeout exceeded",f)),b._onAction&&b._onAction())}b._onInFlight&&b._onInFlight(e);a.length||(clearInterval(d),d=null)}function b(b){b.response.options.timeout&&
(b.startTime=+new Date);b.isFulfilled()||(a.push(b),d||(d=setInterval(e,50)),b.response.options.sync&&e())}var d=null,a=[];b.cancelAll=function(){try{h.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(b){}})}catch(b){}};f&&c&&f.doc.attachEvent&&c(f.global,"unload",function(){b.cancelAll()});return b})},"tm1web/websheet/CopyPasteManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on ../cubeview/CopyPasteManager ../widgets/ErrorAlert ../utility/message-localizer".split(" "),
function(l,m,k,h,f,c,e,b){return l(c,{_AttachEvents:function(){f(this._DataGrid.Panel,"keydown",m.hitch(this,"_OnKeyDown"));k.subscribe(this._DataGrid.id+"-Copy",m.hitch(this,"Copy"));k.subscribe(this._DataGrid.id+"-Paste",m.hitch(this,"Paste"))},_OnPaste:function(d){d.invalidValues&&e.show({message:b.get("PASTE_FAILURES"),title:b.get("PASTE_FAILURES_TITLE_STR")});var a=d.cells;a?k.publish(this.ObjectId+"-UpdateCells",a):(k.publish(this.ObjectId+"-SetSheetsNeedRefresh",!0),this.inherited(arguments))}})})},
"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(l,m,k,h,f,c,e,b,d){return l("dijit.form.ComboBoxMixin",[b,c],{dropDownClass:e,hasDownArrow:!0,templateString:d,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",
a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||h.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var d=new m(function(){c.abort&&c.abort()});d.total=new m;var c=this.fetch(h.mixin({query:a,onBegin:function(a){d.total.resolve(a)},onComplete:function(a){d.resolve(a)},
onError:function(a){d.reject(a)}},b));return f(d)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var b=this.declaredClass;h.mixin(this.store,{getValue:function(a,d){k.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[d]},getLabel:function(a){k.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly",
"","2.0");return a.name},fetch:function(a){k.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],h.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w){function v(a){return function(g){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(b.hitch(this,a,g))}}var z=m("dijit.form._SelectMenu",p,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,g=this.parentWidget.value;
b.isArray(g)&&(g=g[g.length-1]);g&&l.forEach(this.parentWidget._getChildren(),function(b){b.option&&g===b.option.value&&(a=!0,this.focusChild(b,!1))},this);a||this.inherited(arguments)}});f=m("dijit.form.Select"+(a("dojo-bidi")?"_NoBidi":""),[n,g,t],{baseClass:"dijitSelect dijitValidationTextBox",templateString:x,_buttonInputDisabled:a("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new z({id:this.id+"_menu",parentWidget:this});h.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(a.value||a.label){var g=b.hitch(this,"_setValueAttr",a);a=new q({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,
onClick:g,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a}return new r({ownerDocument:this.ownerDocument})},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",
a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=u.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,g,d){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{l.forEach(this._getChildren(),function(a){a.destroyRecursive()});
var b=new q({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);k.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",
_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=("text"===this.labelType?(a||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,
"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?s.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):s.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);
s.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=(c.getLocalization("dijit.form","validate",this.lang)||w).missingMessage},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var a=this._keyNavCodes;delete a[e.LEFT_ARROW];delete a[e.RIGHT_ARROW]},_setStyleAttr:function(a){this.inherited(arguments);
h.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);s.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){s.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
a("dojo-bidi")&&(f=m("dijit.form.Select",f,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));f._Menu=z;f.prototype._onContainerKeydown=v("_onContainerKeydown");f.prototype._onContainerKeypress=v("_onContainerKeypress");return f})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t){var u=h("dijit.Calendar",[p,q,r],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){b.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new u._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(n(this.domNode,"keydown",a.hitch(this,"_onKeyDown")),n(this.dateRowsNode,"mouseover",a.hitch(this,"_onDayMouseOver")),n(this.dateRowsNode,"mouseout",a.hitch(this,"_onDayMouseOut")),n(this.dateRowsNode,"mousedown",a.hitch(this,"_onDayMouseDown")),n(this.dateRowsNode,"mouseup",a.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=
new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var g=this.currentFocus.getDate();b.setDate(Math.min(g,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){(a=c.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(c.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||
a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",c.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),c.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")&&(c.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&c.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var b=-1,g,c=this.currentFocus;switch(a.keyCode){case d.RIGHT_ARROW:b=1;case d.LEFT_ARROW:g="day";this.isLeftToRight()||(b*=-1);break;case d.DOWN_ARROW:b=1;case d.UP_ARROW:g="week";break;case d.PAGE_DOWN:b=1;case d.PAGE_UP:g=a.ctrlKey||a.altKey?"year":"month";break;case d.END:c=this.dateModule.add(c,"month",1),g="day";case d.HOME:c=new this.dateClassObj(c);c.setDate(1);break;default:return!0}g&&(c=this.dateModule.add(c,g,b));this._setCurrentFocusAttr(c);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});u._MonthDropDownButton=h("dijit.Calendar._MonthDropDownButton",t,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new u._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
b);this.containerNode.innerHTML=(6==g("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});u._MonthDropDown=h("dijit.Calendar._MonthDropDown",[q,s,r],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";l.forEach(a,function(a,b){e.create("div",{className:"dijitCalendarMonthLabel",month:b,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(f.get(a.target,"month"))},onChange:function(){}});return u})},"tm1web/mobile/on/tap":function(){define(["dojox/gesture/tap","../sniff"],function(l,m){return m("mobile-device")?l:"click"})},"dojo/topic":function(){define(["./Evented"],function(l){var m=new l;return{publish:function(k,h){return m.emit.apply(m,
arguments)},subscribe:function(k,h){return m.on.apply(m,arguments)}}})},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(l,m,k){var h=l.getObject("validate.regexp",!0,k);return h=k.validate.regexp={ipAddress:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowDottedDecimal&&(f.allowDottedDecimal=!0);"boolean"!=typeof f.allowDottedHex&&(f.allowDottedHex=!0);"boolean"!=typeof f.allowDottedOctal&&(f.allowDottedOctal=!0);"boolean"!=typeof f.allowDecimal&&
(f.allowDecimal=!0);"boolean"!=typeof f.allowHex&&(f.allowHex=!0);"boolean"!=typeof f.allowIPv6&&(f.allowIPv6=!0);"boolean"!=typeof f.allowHybrid&&(f.allowHybrid=!0);var c=[];f.allowDottedDecimal&&c.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");f.allowDottedHex&&c.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");f.allowDottedOctal&&c.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");f.allowDecimal&&c.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
f.allowHex&&c.push("0[xX]0*[\\da-fA-F]{1,8}");f.allowIPv6&&c.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");f.allowHybrid&&c.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");f="";0<c.length&&(f="("+c.join("|")+")");return f},host:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowIP&&(f.allowIP=!0);"boolean"!=typeof f.allowLocal&&(f.allowLocal=!1);"boolean"!=typeof f.allowPort&&(f.allowPort=!0);"boolean"!=typeof f.allowNamed&&
(f.allowNamed=!1);var c=f.allowPort?"(\\:\\d+)?":"",e="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";f.allowIP&&(e+="|"+h.ipAddress(f));f.allowLocal&&(e+="|localhost");f.allowNamed&&(e+="|^[^-][a-zA-Z0-9_-]*");return"("+e+")"+c},url:function(f){f="object"==typeof f?f:{};"scheme"in f||(f.scheme=[!0,!1]);return m.buildGroupRE(f.scheme,function(c){return c?"(https?|ftps?)\\://":""})+h.host(f)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowCruft&&(f.allowCruft=!1);f.allowPort=!1;var c="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+h.host(f);f.allowCruft&&(c="\x3c?(mailto\\:)?"+c+"\x3e?");return c},emailAddressList:function(f){f="object"==typeof f?f:{};"string"!=typeof f.listSeparator&&(f.listSeparator="\\s;,");var c=h.emailAddress(f);return"("+c+"\\s*["+f.listSeparator+"]\\s*)*"+c+"\\s*["+f.listSeparator+"]?\\s*"},numberFormat:function(f){f=
"object"==typeof f?f:{};"undefined"==typeof f.format&&(f.format="###-###-####");return m.buildGroupRE(f.format,function(c){return m.escapeString(c,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowTerritories&&(f.allowTerritories=!0);"boolean"!=typeof f.allowMilitary&&(f.allowMilitary=!0);
var c="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";f.allowTerritories&&(c+="|AS|FM|GU|MH|MP|PW|PR|VI");f.allowMilitary&&(c+="|AA|AE|AP");return"("+c+")"}}}})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,m,k,h,f){var c={};l.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(e){c[e]=h[e]});k.mixin(c,{defaultDuration:m.defaultDuration||200});k.mixin(f,c);return f})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),function(l,m,k,h,f,c,e,b,d){k=k("dojo.data.ItemFileReadStore",[c],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=
a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return d.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==a.urlPreventCache&&(this.urlPreventCache=a.urlPreventCache?
!0:!1);void 0!==a.hierarchical&&(this.hierarchical=a.hierarchical?!0:!1);a.clearOnClose&&(this.clearOnClose=!0);"failOk"in a&&(this.failOk=a.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,
b,g){a=this.getValues(a,b);return 0<a.length?a[0]:g},getValues:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return(a[b]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var b=[],g;for(g in a)g!==this._storeRefPropName&&g!==this._itemNumPropName&&g!==this._rootItemPropName&&g!==this._reverseRefMap&&b.push(g);return b},hasAttribute:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return b in a},containsValue:function(a,b,g){var d=void 0;"string"===typeof g&&
(d=e.patternToRegExp(g,!1));return this._containsValue(a,b,g,d)},_containsValue:function(a,b,g,d){return h.some(this.getValues(a,b),function(a){if(null!==a&&!m.isObject(a)&&d){if(a.toString().match(d))return!0}else if(g===a)return!0})},isItem:function(a){return a&&a[this._storeRefPropName]===this&&this._arrayOfAllItems[a[this._itemNumPropName]]===a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},
getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},getLabelAttributes:function(a){return this._labelAttr?[this._labelAttr]:null},filter:function(a,b,g){var d=[],c,f;if(a.query){var h;c=a.queryOptions?a.queryOptions.ignoreCase:!1;var k={};for(f in a.query)h=a.query[f],"string"===typeof h?k[f]=e.patternToRegExp(h,c):h instanceof RegExp&&(k[f]=h);for(c=0;c<b.length;++c){var l=!0,m=b[c];if(null===m)l=!1;else for(f in a.query)h=a.query[f],this._containsValue(m,
f,h,k[f])||(l=!1);l&&d.push(m)}}else for(c=0;c<b.length;++c)f=b[c],null!==f&&d.push(f);g(d,a)},_fetchItems:function(a,b,g){var d=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),b);else if(this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=
this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:m.hitch(d,"filter"),findCallback:m.hitch(d,b)});else{this._loadInProgress=!0;var c=f.get({url:d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});c.addCallback(function(c){try{d._getItemsFromLoadedData(c),d._loadFinished=!0,d._loadInProgress=!1,d.filter(a,d._getItemsArray(a.queryOptions),b),d._handleQueuedFetches()}catch(e){d._loadFinished=
!0,d._loadInProgress=!1,g(e,a)}});c.addErrback(function(b){d._loadInProgress=!1;g(b,a)});var e=null;a.abort&&(e=a.abort);a.abort=function(){c&&-1===c.fired&&c.cancel();e&&e.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,d.filter(a,this._getItemsArray(a.queryOptions),b)}catch(h){g(h,a)}else g(Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),a)},_handleQueuedFetches:function(){if(0<
this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var b=this._queuedFetches[a],g=b.args,d=b.filter,b=b.findCallback;d?d(g,this._getItemsArray(g.queryOptions),b):this.fetchItemByIdentity(g)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(a){this.clearOnClose&&this._loadFinished&&!this._loadInProgress&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=
null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(a){function b(a){return null!==a&&"object"===typeof a&&(!m.isArray(a)||d)&&!m.isFunction(a)&&(a.constructor==Object||m.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===typeof a._type&&"undefined"===typeof a._value&&c.hierarchical}function g(a){c._arrayOfAllItems.push(a);for(var d in a){var e=a[d];if(e)if(m.isArray(e))for(var f=0;f<e.length;++f){var p=e[f];b(p)&&g(p)}else b(e)&&g(e)}}var d=!1,c=this;
this._labelAttr=a.label;var e,f;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(e=0;e<this._arrayOfTopLevelItems.length;++e)f=this._arrayOfTopLevelItems[e],m.isArray(f)&&(d=!0),g(f),f[this._rootItemPropName]=!0;var h={},k;for(e=0;e<this._arrayOfAllItems.length;++e)for(k in f=this._arrayOfAllItems[e],f){if(k!==this._rootItemPropName){var l=f[k];null!==l?m.isArray(l)||(f[k]=[l]):f[k]=[null]}h[k]=k}for(;h[this._storeRefPropName];)this._storeRefPropName+="_";for(;h[this._itemNumPropName];)this._itemNumPropName+=
"_";for(;h[this._reverseRefMap];)this._reverseRefMap+="_";if(h=a.identifier)for(this._itemsByIdentity={},this._features["dojo.data.api.Identity"]=h,e=0;e<this._arrayOfAllItems.length;++e)if(f=this._arrayOfAllItems[e],a=f[h],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+
":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=f;else this._features["dojo.data.api.Identity"]=Number;for(e=0;e<this._arrayOfAllItems.length;++e)f=this._arrayOfAllItems[e],f[this._storeRefPropName]=this,f[this._itemNumPropName]=e;for(e=0;e<this._arrayOfAllItems.length;++e)for(k in f=this._arrayOfAllItems[e],f)for(a=f[k],h=0;h<a.length;++h)if(l=a[h],null!==l&&"object"==typeof l){if("_type"in
l&&"_value"in l){var w=l._type,v=this._datatypeMap[w];if(v)if(m.isFunction(v))a[h]=new v(l._value);else if(m.isFunction(v.deserialize))a[h]=v.deserialize(l._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+w+"'");}if(l._reference){l=l._reference;if(m.isObject(l))for(w=
0;w<this._arrayOfAllItems.length;++w){var v=this._arrayOfAllItems[w],z=!0,A;for(A in l)v[A]!=l[A]&&(z=!1);z&&(a[h]=v)}else a[h]=this._getItemByIdentity(l);this.referenceIntegrity&&(l=a[h],this.isItem(l)&&this._addReferenceToMap(l,f,k))}else this.isItem(l)&&this.referenceIntegrity&&this._addReferenceToMap(l,f,k)}},_addReferenceToMap:function(a,b,g){},getIdentity:function(a){var b=this._features["dojo.data.api.Identity"];return b===Number?a[this._itemNumPropName]:(a=a[b])?a[0]:null},fetchItemByIdentity:function(a){var b,
g;if(this._loadFinished)b=this._getItemByIdentity(a.identity),a.onItem&&(g=a.scope?a.scope:l.global,a.onItem.call(g,b));else{var d=this;this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=
null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,g=f.get({url:d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),g.addCallback(function(g){var c=a.scope?a.scope:l.global;try{d._getItemsFromLoadedData(g),d._loadFinished=!0,d._loadInProgress=!1,b=d._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(c,b),d._handleQueuedFetches()}catch(e){d._loadInProgress=!1,a.onError&&a.onError.call(c,e)}}),
g.addErrback(function(b){d._loadInProgress=!1;a.onError&&a.onError.call(a.scope?a.scope:l.global,b)})):this._jsonData&&(d._getItemsFromLoadedData(d._jsonData),d._jsonData=null,d._loadFinished=!0,b=d._getItemByIdentity(a.identity),a.onItem&&(g=a.scope?a.scope:l.global,a.onItem.call(g,b)))}},_getItemByIdentity:function(a){var b=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(b=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,a)&&(b=this._arrayOfAllItems[a]);
void 0===b&&(b=null);return b},getIdentityAttributes:function(a){a=this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=this.data&&(this._jsonData=this.data,
this.data=null);if(this._jsonFileUrl){var b=f.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});b.addCallback(function(b){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(b),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(d){throw d;}});b.addErrback(function(a){throw a;})}else this._jsonData&&
(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0)}});m.extend(k,b);return k})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(l,m,k,h,f){return l("dijit.form.ComboButton",h,{templateString:f,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",
titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(c){c.keyCode==m[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(k.focus(this._popupStateNode),c.stopPropagation(),c.preventDefault())},_onArrowKeyDown:function(c){c.keyCode==m[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(k.focus(this.titleNode),c.stopPropagation(),c.preventDefault())},focus:function(c){this.disabled||k.focus("start"==c?this.titleNode:this._popupStateNode)}})})},
"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(l,m,k,h){return l("dijit.form.RangeBoundTextBox",k,{rangeMessage:"",rangeCheck:function(f,c){return("min"in c?0<=this.compare(f,c.min):!0)&&("max"in c?0>=this.compare(f,c.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var f=this.get("value");if(null==f)return!1;var c=!1;"min"in this.constraints&&
(c=this.constraints.min,c=0>this.compare(f,"number"==typeof c&&0<=c&&0!=f?0:c));!c&&"max"in this.constraints&&(c=this.constraints.max,c=0<this.compare(f,"number"!=typeof c||0<c?c:0));return c},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(f){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(f))},getErrorMessage:function(f){var c=this.get("value");return null==c||""===c||"number"==typeof c&&
isNaN(c)||this.isInRange(f)?this.inherited(arguments):this.rangeMessage},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=m.getLocalization("dijit.form","validate",this.lang)||h,this.rangeMessage=this.messages.rangeMessage)}})})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,m,k){function h(b){if("string"==typeof b||b instanceof String){if(b&&!c.test(b))return e[0]=b,e;b=b.split(c);b.length&&!b[0]&&b.shift();b.length&&
!b[b.length-1]&&b.pop();return b}return b?m.filter(b,function(a){return a}):[]}var f,c=/\s+/,e=[""],b={};return f={contains:function(b,a){return 0<=(" "+k.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=k.byId(b);a=h(a);var c=b.className,g,c=c?" "+c+" ":" ";g=c.length;for(var e=0,f=a.length,r;e<f;++e)(r=a[e])&&0>c.indexOf(" "+r+" ")&&(c+=r+" ");g<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){b=k.byId(b);var c;if(void 0!==a){a=h(a);c=" "+b.className+" ";for(var g=
0,e=a.length;g<e;++g)c=c.replace(" "+a[g]+" "," ");c=l.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(c,a,e){c=k.byId(c);b.className=c.className;f.remove(b,e);f.add(b,a);c.className!==b.className&&(c.className=b.className)},toggle:function(b,a,c){b=k.byId(b);if(void 0===c){a=h(a);for(var g=0,e=a.length,q;g<e;++g)q=a[g],f[f.contains(b,q)?"remove":"add"](b,q)}else f[c?"add":"remove"](b,a);return c}}})},"dojox/html/entities":function(){define(["../main","dojo/_base/lang"],function(l,
m){var k=m.getObject("html.entities",!0,l),h=function(c,e){var b,d;if(e._encCache&&e._encCache.regexp&&e._encCache.mapper&&e.length==e._encCache.length)b=e._encCache.mapper,d=e._encCache.regexp;else{b={};d=["["];var a;for(a=0;a<e.length;a++)b[e[a][0]]="\x26"+e[a][1]+";",d.push(e[a][0]);d.push("]");d=new RegExp(d.join(""),"g");e._encCache={mapper:b,regexp:d,length:e.length}}return c=c.replace(d,function(a){return b[a]})},f=function(c,e){var b,d;if(e._decCache&&e._decCache.regexp&&e._decCache.mapper&&
e.length==e._decCache.length)b=e._decCache.mapper,d=e._decCache.regexp;else{b={};d=["("];var a;for(a=0;a<e.length;a++){var n="\x26"+e[a][1]+";";a&&d.push("|");b[n]=e[a][0];d.push(n)}d.push(")");d=new RegExp(d.join(""),"g");e._decCache={mapper:b,regexp:d,length:e.length}}return c=c.replace(d,function(a){return b[a]})};k.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];k.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],
["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0",
"Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da",
"Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4",
"ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f",
"Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3",
"sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0",
"lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245",
"cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],
["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];k.encode=function(c,e){c&&(e?
c=h(c,e):(c=h(c,k.html),c=h(c,k.latin)));return c};k.decode=function(c,e){c&&(e?c=f(c,e):(c=f(c,k.html),c=f(c,k.latin)));return c};return k})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(l,m,k,h,f,c,e,b,d,a){function n(a,b,g){return r&&g?function(a,b){return c(a,g,b)}:t?function(g,d){var e=c(g,b,function(a){d.call(this,a);G=(new Date).getTime()}),n=c(g,a,function(a){(!G||(new Date).getTime()>
G+1E3)&&d.call(this,a)});return{remove:function(){e.remove();n.remove()}}}:function(b,g){return c(b,a,g)}}function g(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function p(d,e,n){if(!b.isRight(d)){var f=g(d.target);if(x=!d.target.disabled&&f&&f.dojoClick)if(v=(w="useTarget"==x)?f:d.target,w&&d.preventDefault(),z=d.changedTouches?d.changedTouches[0].pageX-a.global.pageXOffset:d.clientX,A=d.changedTouches?d.changedTouches[0].pageY-a.global.pageYOffset:d.clientY,y=("object"==typeof x?
x.x:"number"==typeof x?x:0)||4,B=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,!u){d=function(b){a.doc.addEventListener(b,function(a){x&&!a._dojo_click&&(new Date).getTime()<=E+1E3&&("INPUT"!=a.target.tagName||!h.contains(a.target,"dijitOffScreen"))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"!=b||"INPUT"==a.target.tagName&&"radio"!=a.target.type&&"checkbox"!=a.target.type||"TEXTAREA"==a.target.tagName||"AUDIO"==a.target.tagName||"VIDEO"==a.target.tagName||
a.preventDefault())},!0)};var p=function(b){x=w?k.isDescendant(a.doc.elementFromPoint(b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX,b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY),v):x&&(b.changedTouches?b.changedTouches[0].target:b.target)==v&&Math.abs((b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX)-z)<=y&&Math.abs((b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY)-A)<=B};u=!0;a.doc.addEventListener(e,
function(a){b.isRight(a)||(p(a),w&&a.preventDefault())},!0);a.doc.addEventListener(n,function(a){if(!b.isRight(a)&&(p(a),x)){var g=function(b){var g=document.createEvent("MouseEvents");g._dojo_click=!0;g.initMouseEvent(b,!0,!0,a.view,a.detail,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return g};E=(new Date).getTime();var d=w?v:a.target;"LABEL"===d.tagName&&(d=k.byId(d.getAttribute("for"))||d);var e=a.changedTouches?a.changedTouches[0]:a,n=g("mousedown"),
f=g("mouseup"),h=g("click");setTimeout(function(){c.emit(d,"mousedown",n);c.emit(d,"mouseup",f);c.emit(d,"click",h);E=(new Date).getTime()},0)}},!0);d("click");d("mousedown");d("mouseup")}}}var q=5>e("ios"),r=e("pointer-events")||e("MSPointer"),s=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=e("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),t=e("touch-events"),u,x,w=!1,v,z,A,y,B,E,G,I;e("touch")&&(r?d(function(){a.doc.addEventListener(s.down,
function(a){p(a,s.move,s.up)},!0)}):d(function(){function b(a){var g=f.delegate(a,{bubbles:!0});6<=e("ios")&&(g.touches=a.touches,g.altKey=a.altKey,g.changedTouches=a.changedTouches,g.ctrlKey=a.ctrlKey,g.metaKey=a.metaKey,g.shiftKey=a.shiftKey,g.targetTouches=a.targetTouches);return g}I=a.body();a.doc.addEventListener("touchstart",function(a){G=(new Date).getTime();var b=I;I=a.target;c.emit(b,"dojotouchout",{relatedTarget:I,bubbles:!0});c.emit(I,"dojotouchover",{relatedTarget:b,bubbles:!0});p(a,"touchmove",
"touchend")},!0);c(a.doc,"touchmove",function(g){G=(new Date).getTime();var d=a.doc.elementFromPoint(g.pageX-(q?0:a.global.pageXOffset),g.pageY-(q?0:a.global.pageYOffset));d&&(I!==d&&(c.emit(I,"dojotouchout",{relatedTarget:d,bubbles:!0}),c.emit(d,"dojotouchover",{relatedTarget:I,bubbles:!0}),I=d),c.emit(d,"dojotouchmove",b(g))||g.preventDefault())});c(a.doc,"touchend",function(g){G=(new Date).getTime();var d=a.doc.elementFromPoint(g.pageX-(q?0:a.global.pageXOffset),g.pageY-(q?0:a.global.pageYOffset))||
a.body();c.emit(d,"dojotouchend",b(g))})}));m={press:n("mousedown","touchstart",s.down),move:n("mousemove","dojotouchmove",s.move),release:n("mouseup","dojotouchend",s.up),cancel:n(b.leave,"touchcancel",r?s.cancel:null),over:n("mouseover","dojotouchover",s.over),out:n("mouseout","dojotouchout",s.out),enter:b._eventHandler(n("mouseover","dojotouchover",s.over)),leave:b._eventHandler(n("mouseout","dojotouchout",s.out))};return l.touch=m})},"dojo/cache":function(){define(["./_base/kernel","./text"],
function(l){return l.cache})},"tm1web/subseteditor/TreeNode":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/Deferred dojo/dom-class dojo/dom-construct dojo/fx dijit/_base/manager dijit/Tree dijit/_Container".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){function g(a){return m.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}return l(a._TreeNode,{buildRendering:function(){this.inherited(arguments);c.add(this.domNode,
"tm1webSubsetEditorTreeNode")},expand:function(){this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);if(this._expandDeferred)return g(this._expandDeferred);this._wipeOut&&this._wipeOut.stop();this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role","group");c.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);
this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");this.containerNode.style.display="";var a=new f;a.resolve();return g(a)},collapse:function(){if(this._collapseDeferred)return g(this._collapseDeferred);this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this._wipeIn&&this._wipeIn.stop();this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded",
"false");c.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this.containerNode.style.display="none";var a=new f;a.resolve();return g(a)},setChildItems:function(a){var b=this.tree,d=b.model,c=[],e=b.focusedChild,f=this.getChildren();k.forEach(f,function(a){n.prototype.removeChild.call(this,a)},this);this.defer(function(){k.forEach(f,function(a){if(!a._destroyed&&!a.getParent()){var g=function(a){var c=d.getIdentity(a.item),e=b._itemNodesMap[c];
1==e.length?delete b._itemNodesMap[c]:(c=k.indexOf(e,a),-1!=c&&e.splice(c,1));k.forEach(a.getChildren(),g)};b.dndController.removeTreeNode(a);g(a);if(b.persist){var c=k.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),n;for(n in b._openedNodes)n.substr(0,c.length)==c&&delete b._openedNodes[n];b._saveExpandedNodes()}b.lastFocusedChild&&!dom.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;e&&!dom.isDescendant(e,b.domNode)&&b.focus();a.destroyRecursive()}})});
this.state="Loaded";a&&d.mayHaveChildren(this.item)?(this.isExpandable=!0,k.forEach(a,function(a){var g=d.getIdentity(a),e=b._itemNodesMap[g],n;if(e)for(var f=0;f<e.length;f++)if(e[f]&&!e[f].getParent()){n=e[f];n.set("indent",this.indent+1);break}n||(n=this.tree._createTreeNode({item:a,tree:b,isExpandable:d.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+
1}),e?e.push(n):b._itemNodesMap[g]=[n]);this.addChild(n);(this.tree.autoExpand&&d.isItemLoaded(a)||this.tree._state(n))&&c.push(b._expandNode(n))},this),k.forEach(this.getChildren(),function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=h(c);this.tree._startPaint(a);return g(a)},setFound:function(a,b){var g=this.label.substring(0,a),d=this.label.substring(a,b),c=this.label.substring(b);this.labelNode.innerHTML=g+"\x3cspan class\x3d'tm1webTreeNodeLabelFound'\x3e"+
d+"\x3c/span\x3e"+c},clearFound:function(){this.set("label",this.label)},_setIndentAttr:function(a){"indent"in this.item&&(arguments[0]=this.item.indent);this.inherited(arguments)}})})},"tm1web/subseteditor/FilterByLevelDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByLevelDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/MultiSelect ../utility/message-localizer ../widgets/_StopPropagationMixin dojo/query".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p){return l([f,b,d,g],{templateString:e,_levelsCombo:null,_levelsComboNode:null,_submitButton:null,_cancelButton:null,title:n.get("FILTER_BY_LEVEL_TITLE_STR"),_selectLevelsLabel:n.get("SELECT_LEVELS_STR"),_submitButtonLabel:n.get("OK_STR"),_cancelButtonLabel:n.get("CANCEL_STR"),_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._addLevels()},_addLevels:function(){this._levelsCombo=new a({className:"tm1webMultiSelect"},this._levelsComboNode);
this.own(this._levelsCombo.on("change",k.hitch(this,"_onChange")));p(".tm1webFilterByLevelLabel",this.domNode).attr("for",this._levelsCombo.id);for(var b=0;b<this.levelsCount;b++)h.create("option",{innerHTML:n.get("SUBSET_LEVEL",b),value:b},this._levelsCombo.domNode)},_onChange:function(a){this._submitButton.set("disabled",0>=a.length)},_submit:function(){var a=this._levelsCombo.get("value");this.model.filterByLevel(a,k.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){l._xhrObj=r._create;var t=l.config;l.objectToQuery=h.objectToQuery;l.queryToObject=h.queryToObject;l.fieldToObject=c.fieldToObject;l.formToObject=c.toObject;l.formToQuery=c.toQuery;l.formToJson=c.toJson;l._blockAsync=!1;var u=l._contentHandlers=l.contentHandlers={text:function(a){return a.responseText},json:function(a){return d.fromJson(a.responseText||null)},"json-comment-filtered":function(a){b.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var g=a.indexOf("/*"),c=a.lastIndexOf("*/");if(-1==g||-1==c)throw Error("JSON was not comment filtered");return d.fromJson(a.substring(g+2,c))},javascript:function(a){return l.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var g=function(a){return"MSXML"+a+".DOMDocument"},g=["Microsoft.XMLDOM",g(6),g(4),g(3),
g(2)];n.some(g,function(g){try{var d=new ActiveXObject(g);d.async=!1;d.loadXML(a.responseText);b=d}catch(c){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};l._ioSetArgs=function(b,g,d,n){var p={args:b,url:b.url},q=null;if(b.form){var q=f.byId(b.form),k=q.getAttributeNode("action");p.url=p.url||(k?k.value:null);q=c.toObject(q)}k=[{}];q&&k.push(q);b.content&&k.push(b.content);b.preventCache&&
k.push({"dojo.preventCache":(new Date).valueOf()});p.query=h.objectToQuery(a.mixin.apply(null,k));p.handleAs=b.handleAs||"text";var r=new e(function(a){a.canceled=!0;g&&g(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});r.addCallback(d);var s=b.load;s&&a.isFunction(s)&&r.addCallback(function(a){return s.call(b,a,p)});var m=b.error;m&&a.isFunction(m)&&r.addErrback(function(a){return m.call(b,a,p)});var u=b.handle;u&&a.isFunction(u)&&r.addBoth(function(a){return u.call(b,
a,p)});r.addErrback(function(a){return n(a,r)});t.ioPublish&&l.publish&&!1!==p.args.ioPublish&&(r.addCallbacks(function(a){l.publish("/dojo/io/load",[r,a]);return a},function(a){l.publish("/dojo/io/error",[r,a]);return a}),r.addBoth(function(a){l.publish("/dojo/io/done",[r,a]);return a}));r.ioArgs=p;return r};var x=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},v=function(a){0>=z&&(z=0,t.ioPublish&&l.publish&&
(!a||a&&!1!==a.ioArgs.args.ioPublish)&&l.publish("/dojo/io/stop"))},z=0;p.after(q,"_onAction",function(){--z});p.after(q,"_onInFlight",v);l._ioCancelAll=q.cancelAll;l._ioNotifyStart=function(a){t.ioPublish&&l.publish&&!1!==a.ioArgs.args.ioPublish&&(z||l.publish("/dojo/io/start"),z+=1,l.publish("/dojo/io/send",[a]))};l._ioWatch=function(b,g,d,c){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return g(b)},isReady:function(a){return d(b)},handleResponse:function(a){return c(b)}});
q(b);v(b)};l._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};l.xhr=function(a,b,g){var d,c=l._ioSetArgs(b,function(a){d&&d.cancel()},x,w),e=c.ioArgs;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(2<arguments.length&&!g||-1==="POST|PUT".indexOf(a.toUpperCase()))&&l._ioAddQueryToUrl(e);var n={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:e};"undefined"!==
typeof b.headers&&(n.headers=b.headers);"undefined"!==typeof b.contentType&&(n.headers||(n.headers={}),n.headers["Content-Type"]=b.contentType);"undefined"!==typeof e.query&&(n.data=e.query);"undefined"!==typeof b.sync&&(n.sync=b.sync);l._ioNotifyStart(c);try{d=r(e.url,n,!0)}catch(f){return c.cancel(),c}c.ioArgs.xhr=d.response.xhr;d.then(function(){c.resolve(c)}).otherwise(function(a){e.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);c.reject(a)});
return c};l.xhrGet=function(a){return l.xhr("GET",a)};l.rawXhrPost=l.xhrPost=function(a){return l.xhr("POST",a,!0)};l.rawXhrPut=l.xhrPut=function(a){return l.xhr("PUT",a,!0)};l.xhrDelete=function(a){return l.xhr("DELETE",a)};l._isDocumentOk=function(a){return s.checkStatus(a.status)};l._getText=function(a){var b;l.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(l.xhr,{_xhrObj:l._xhrObj,fieldToObject:c.fieldToObject,formToObject:c.toObject,objectToQuery:h.objectToQuery,formToQuery:c.toQuery,
formToJson:c.toJson,queryToObject:h.queryToObject,contentHandlers:u,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g){var p=l("dijit.DialogUnderlay",[b,d],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){h.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(c(this.domNode,"keydown",m.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var g=e.getBox(this.ownerDocument);b.top=g.t+"px";b.left=g.l+"px";a.width=g.w+"px";a.height=g.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var b=e.get(this.ownerDocument);this._modalConnects=[n.on("resize",m.hitch(this,"layout")),c(b,"scroll",
m.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});p.show=function(a,b){var d=p._singleton;!d||d._destroyed?d=g._underlay=p._singleton=new p(a):a&&d.set(a);f.set(d.domNode,"zIndex",b);d.open||d.show()};p.hide=function(){var a=
p._singleton;a&&!a._destroyed&&a.hide()};return p})},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday",
"dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E",eraNarrow:["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM",
"dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z",
"field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday",
"dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday",
"quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],eraAbbr:["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}",
"field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"field-zone":"Zone","months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})",
"dayPeriods-format-abbr-pm":"PM","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),eraNames:["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":"SMTWTFS".split(""),"field-month":"Month","days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})",
"dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}",
"dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},aa:!0,af:!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,
"ar-iq":!0,"ar-jo":!0,"ar-lb":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-sy":!0,"ar-tn":!0,as:!0,asa:!0,ast:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,byn:!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-bw":!0,"en-bz":!0,"en-ca":!0,"en-gb":!0,"en-hk":!0,"en-ie":!0,"en-in":!0,"en-mt":!0,"en-nz":!0,"en-pk":!0,"en-sg":!0,"en-za":!0,
"en-zw":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,"es-cl":!0,"es-co":!0,"es-gt":!0,"es-hn":!0,"es-mx":!0,"es-pa":!0,"es-pe":!0,"es-pr":!0,"es-us":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ca":!0,"fr-ch":!0,fur:!0,fy:!0,ga:!0,gd:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,
ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,ksh:!0,"ku-tr":!0,kw:!0,ky:!0,lag:!0,lg:!0,lkt:!0,ln:!0,lo:!0,lt:!0,lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,"ne-in":!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nus:!0,nyn:!0,om:!0,or:!0,os:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,"ru-ua":!0,rw:!0,rwk:!0,sah:!0,saq:!0,sbp:!0,se:!0,seh:!0,ses:!0,sg:!0,
sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-cyrl-ba":!0,"sr-latn":!0,"sr-latn-me":!0,ssy:!0,sv:!0,"sv-fi":!0,sw:!0,swc:!0,ta:!0,te:!0,teo:!0,th:!0,ti:!0,"ti-er":!0,to:!0,tr:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,vi:!0,vo:!0,vun:!0,wae:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hant-mo":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,
zu:!0})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(k){var h=this.checked;this._set("checked",!h);var f=this.inherited(arguments);this.set("checked",f?this.checked:h);return f},_setCheckedAttr:function(k,h){this._set("checked",k);var f=this.focusNode||this.domNode;this._created&&m.get(f,"checked")!=!!k&&m.set(f,"checked",!!k);f.setAttribute(this._aria_attr,
String(k));this._handleOnChange(k,h)},postCreate:function(){this.inherited(arguments);var k=this.focusNode||this.domNode;this.checked&&k.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"tm1web/celledit/TextBox":function(){define(["dojo/_base/declare","dijit/form/TextBox","./_EditMixin"],function(l,m,k){return l("tm1web.celledit.TextBox",[m,
k])})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(l){return function(m,k){function h(c){c=l.filter(c,m);var e=k&&k.sort;e&&c.sort("function"==typeof e?e:function(b,a){for(var c,g=0;c=e[g];g++){var f=b[c.attribute],h=a[c.attribute],f=null!=f?f.valueOf():f,h=null!=h?h.valueOf():h;if(f!=h)return!!c.descending==(null==f||f>h)?-1:1}return 0});if(k&&(k.start||k.count)){var b=c.length;c=c.slice(k.start||0,(k.start||0)+(k.count||Infinity));c.total=b}return c}switch(typeof m){default:throw Error("Can not query with a "+
typeof m);case "object":case "undefined":var f=m;m=function(c){for(var e in f){var b=f[e];if(b&&b.test){if(!b.test(c[e],c))return!1}else if(b!=c[e])return!1}return!0};break;case "string":if(!this[m])throw Error("No filter function "+m+" was found in store");m=this[m];case "function":}h.matches=m;return h}})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(l,m,k,h,f,c,e,b){var d=
m("dijit._TemplatedMixin",b,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,g=this;return e.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=h.getObject(d.substr(1),!1,g));if("undefined"==typeof a)throw Error(b+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",
'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=l(this.templatePath,{sanitize:!0}));var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(h.isString(a)){if(b=k.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=
!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});d._templateCache={};d.getCachedTemplate=function(a,b,g){var c=d._templateCache,f=a,h=c[f];if(h){try{if(!h.ownerDocument||h.ownerDocument==(g||document))return h}catch(l){}k.destroy(h)}a=e.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return c[f]=a;b=k.toDom(a,g);if(1!=b.nodeType)throw Error("Invalid template: "+a);return c[f]=b};c("ie")&&f(window,"unload",function(){var a=d._templateCache,
b;for(b in a){var g=a[b];"object"==typeof g&&k.destroy(g);delete a[b]}});return d})},"tm1web/subseteditor/TopToolbar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/aspect dojo/when dojo/dom-class dijit/registry dijit/focus dijit/Toolbar dijit/Dialog ../utility/clipboard ../utility/message-localizer ../share/SkeletonMixin ./_TreePaneFocusMixin ./SaveAsDialog ./SortType ./FilterByLevelDialog ./FilterByAttributeDialog ./FilterByExpressionDialog ./CreateConsolidationDialog ../widgets/WarningOptionsDialog dojo/query".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A){return l([a,q,r],{_toolbarState:null,_subsetTreeClipboardEmpty:null,_subsetTreeHasAttributes:!1,_dimensionTreeClipboardEmpty:null,_dimensionTreeHasAttributes:!1,_allowUserDefinedCalculations:!0,postCreate:function(){this.inherited(arguments);this._allowUserDefinedCalculations=this.model.getIsAllowedUserDefinedCalculations();this._addSkeletonChildren();this._attachEventListeners();this.subsetTree.get("model").getMetaData(m.hitch(this,function(a){this._setSubsetTreeClipboardEmpty(a);
this._setSubsetTreeHasAttributes(a)}));this.dimensionTree.get("model").getMetaData(m.hitch(this,function(a){this._setDimensionTreeClipboardEmpty(a);this._setDimensionTreeHasAttributes(a)}));this._onSubsetTreeFocus();this._onSubsetTreeSelect();e.add(this.domNode,"tm1webToolbar")},_setSubsetTreeClipboardEmpty:function(a){this._subsetTreeClipboardEmpty=a.clipboardEmpty},_setDimensionTreeClipboardEmpty:function(a){this._dimensionTreeClipboardEmpty=a.clipboardEmpty},_setSubsetTreeHasAttributes:function(a){this._subsetTreeHasAttributes=
a.hasAttributes},_setDimensionTreeHasAttributes:function(a){this._dimensionTreeHasAttributes=a.hasAttributes},_attachEventListeners:function(){this.own(f.after(this.subsetTree.get("model"),"onMetaDataChange",m.hitch(this,"_onSubsetTreeMetaDataChange"),!0));this.own(this.subsetTree.on("focus",m.hitch(this,"_onSubsetTreeFocus")));this.own(this.subsetTree.on("select",m.hitch(this,"_onSubsetTreeSelect")));this.own(f.after(this.dimensionTree.get("model"),"onMetaDataChange",m.hitch(this,"_onDimensionTreeMetaDataChange"),
!0));this.own(this.dimensionTree.on("focus",m.hitch(this,"_onDimensionTreeFocus")));this.own(this.dimensionTree.on("select",m.hitch(this,"_onDimensionTreeSelect")))},_onSubsetTreeMetaDataChange:function(a){this._setSubsetTreeClipboardEmpty(a);this._activeTree===this.subsetTree&&this._onSubsetTreeFocus()},_onSubsetTreeFocus:function(){this.inherited(arguments);var a=this.subsetTree.get("model").hasSelectedItems();this._toolbarState=a?3:2;this._customizeToolbarForSubsetTree(a)},_onSubsetTreeSelect:function(){var a=
this._toolbarState,b=this.subsetTree.get("model").hasSelectedItems();this._toolbarState=b?3:2;a!==this._toolbarState&&this._customizeToolbarForSubsetTree(b)},_customizeToolbarForSubsetTree:function(a){var b=this._skeletonChildren;this._customizeToolbar(a);k.forEach([b.saveButton,b.saveAsButton,b.reloadButton],function(a){a.set("disabled",!1)});b.customConsolidationButton.set("disabled",!this._allowUserDefinedCalculations);b.pasteButton.set("disabled",this._subsetTreeClipboardEmpty&&this._dimensionTreeClipboardEmpty);
b.filterByAttributeItem.set("disabled",!this._subsetTreeHasAttributes);k.forEach([b.cutButton,b.pasteAboveItem,b.pasteBelowItem,b.createConsolidationFromSelectedElementsItem],function(b){b.set("disabled",!a)})},_onDimensionTreeMetaDataChange:function(a){this._setDimensionTreeClipboardEmpty(a);this._activeTree===this.dimensionTree&&this._onDimensionTreeFocus()},_onDimensionTreeFocus:function(){this.inherited(arguments);var a=this.dimensionTree.get("model").hasSelectedItems();this._toolbarState=a?1:
0;this._customizeToolbarForDimensionTree(a)},_onDimensionTreeSelect:function(){var a=this._toolbarState,b=this.dimensionTree.get("model").hasSelectedItems();this._toolbarState=b?1:0;a!==this._toolbarState&&this._customizeToolbarForDimensionTree(b)},_customizeToolbarForDimensionTree:function(a){var b=this._skeletonChildren;this._customizeToolbar(a);k.forEach([b.saveButton,b.saveAsButton,b.reloadButton,b.cutButton,b.pasteButton,b.customConsolidationButton],function(a){a.set("disabled",!0)});b.copyButton.set("disabled",
!a);b.filterByAttributeItem.set("disabled",!this._dimensionTreeHasAttributes)},_customizeToolbar:function(a){var b=this._skeletonChildren;k.forEach([b.subsetAllButton,b.filterButton,b.sortButton,b.treeExpandButton,b.expandSelectedConsolidationsItem],function(a){a.set("disabled",!1)});k.forEach([b.copyButton,b.keepButton,b.deleteButton,b.drillDownSelectedConsolidationsItem,b.expandSelectedConsolidationsItem,b.collapseSelectedConsolidationsItem,b.insertParentsOfSelectedElementButton],function(b){b.set("disabled",
!a)})},_createSkeletonChildren:function(){var a=this._skeletonChildren;a.saveButton=this._newButton(p.get("SAVE_SUBSET_STR"),"tm1webSubsetEditorIconSaveSubset","SaveSubsetButton",m.hitch(this,"_saveSubset"));a.saveAsButton=this._newButton(p.get("SAVE_SUBSET_AS_STR"),"tm1webSubsetEditorIconSaveSubsetAs","SaveSubsetAsButton",m.hitch(this,"_saveSubsetAs"));a.reloadButton=this._newButton(p.get("RELOAD_SUBSET_STR"),"tm1webSubsetEditorIconReloadSubset","ReloadSubsetButton",m.hitch(this,"_reloadSubset"));
a.subsetAllButton=this._newButton(p.get("SUBSET_ALL_STR"),"tm1webSubsetEditorIconSubsetAll ","SubsetAllButton",m.hitch(this,"_subsetAll"));a.cutButton=this._newButton(p.get("CUT_STR"),"tm1webSubsetEditorIconCut","tm1webSubsetEditorIconCut",m.hitch(this,"cut"));a.copyButton=this._newButton(p.get("COPY_STR"),"tm1webSubsetEditorIconCopy","tm1webSubsetEditorIconCopy",m.hitch(this,"copy"));a.pasteItem=this._newMenuItem(p.get("PASTE_STR"),"","tm1webSubsetEditorIconPaste",m.hitch(this,"paste"));a.pasteAboveItem=
this._newMenuItem(p.get("PASTE_ABOVE_STR"),"","tm1webSubsetEditorIconPasteAbove",m.hitch(this,"pasteAbove"));a.pasteBelowItem=this._newMenuItem(p.get("PASTE_BELOW_STR"),"","tm1webSubsetEditorIconPasteBelow",m.hitch(this,"pasteBelow"));var b=this._newMenu(this._generatePasteMenuSkeleton());a.pasteButton=this._newDropDownButton(p.get("PASTE_STR"),"tm1webSubsetEditorIconPaste",b,"tm1webSubsetEditorIconPaste");a.keepButton=this._newButton(p.get("KEEP_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconKeepSelectedElements",
"KeepSelectedElementsButton",m.hitch(this,"_keepSelectedElements"));a.deleteButton=this._newButton(p.get("DELETE_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconDeleteSelected","deleteSelectedElementsButton",m.hitch(this,"_deleteSelectedElements"));a.filterByLevelItem=this._newMenuItem(p.get("FILTER_BY_LEVEL_STR"),"tm1webSubsetEditorIconFilterSubsetByLevel","FilterByLevelItem",m.hitch(this,"_filterByLevel"));a.filterByAttributeItem=this._newMenuItem(p.get("FILTER_BY_ATTRIBUTE_STR"),"tm1webSubsetEditorIconFilterSubsetByAttribute",
"FilterByAttributeItem",m.hitch(this,"_filterByAttribute"));a.filterByExpressionItem=this._newMenuItem(p.get("FILTER_BY_EXPRESSION_STR"),"tm1webSubsetEditorIconFilterSubsetByExpression","FilterByExpressionItem",m.hitch(this,"_filterByExpression"));b=this._newMenu(this._generateFilterMenuSkeleton());a.filterButton=this._newDropDownButton(p.get("FILTER_SUBSET_STR"),"tm1webSubsetEditorIconFilterSubset",b,"FilterSubsetDropDownButton");a.sortAscendingItem=this._newMenuItem(p.get("SORT_ASCENDING_STR"),
"tm1webSubsetEditorIconSortSubsetAscending","SortAscendingItem",m.hitch(this,"_sort",t.Ascending));a.sortDescendingItem=this._newMenuItem(p.get("SORT_DESCENDING_STR"),"tm1webSubsetEditorIconSortSubsetDescending","SortDescendingItem",m.hitch(this,"_sort",t.Descending));a.sortHierarchicallyItem=this._newMenuItem(p.get("SORT_HIERARCHICALLY_STR"),"tm1webSubsetEditorIconSortSubsetHierarchically","SortHierarchicallyItem",m.hitch(this,"_sort",t.Hierarchically));a.sortByIndexAscendingItem=this._newMenuItem(p.get("SORT_BY_INDEX_ASCENDING_STR"),
"tm1webSubsetEditorIconSortSubsetIndexAscending","SortByIndexAscendingItem",m.hitch(this,"_sort",t.IndexAscending));a.sortByIndexDescendingItem=this._newMenuItem(p.get("SORT_BY_INDEX_DESCENDING_STR"),"tm1webSubsetEditorIconSortSubsetIndexDescending","SortByIndexDescendingItem",m.hitch(this,"_sort",t.IndexDescending));b=this._newMenu(this._generateSortMenuSkeleton());a.sortButton=this._newDropDownButton(p.get("SORT_SUBSET_STR"),"tm1webSubsetEditorIconSortSubset",b,"SortSubsetDropDownButton");a.drillDownSelectedConsolidationsItem=
this._newMenuItem(p.get("DRILL_DOWN_SELECTED_CONSOLIDATIONS_STR"),"","DrillDownSelectedConsolidationsItem",m.hitch(this,"_expandSelectedConsolidations",!1));a.expandSelectedConsolidationsItem=this._newMenuItem(p.get("EXPAND_SELECTED_CONSOLIDATIONS_STR"),"","ExpandSelectedConsolidationsItem",m.hitch(this,"_expandSelectedConsolidations",!0));a.expandTreeFullyItem=this._newMenuItem(p.get("EXPAND_TREE_FULLY_STR"),"","ExpandTreeFullyItem",m.hitch(this,"_expandTreeFully"));b=this._newMenu(this._generateTreeExpandMenuSkeleton());
a.treeExpandButton=this._newDropDownButton(p.get("TREE_EXPAND_STR"),"tm1webSubsetEditorIconExpandTree",b,"TreeExpandDropDownButton");a.collapseSelectedConsolidationsItem=this._newMenuItem(p.get("COLLAPSE_SELECTED_CONSOLIDATIONS_STR"),"","CollapseSelectedConsolidationsItem",m.hitch(this,"_collapseSelectedConsolidations"));a.collapseTreeFullyItem=this._newMenuItem(p.get("COLLAPSE_TREE_FULLY_STR"),"","CollapseTreeFullyItem",m.hitch(this,"_collapseTreeFully"));b=this._newMenu(this._generateTreeCollapseMenuSkeleton());
a.treeCollapseButton=this._newDropDownButton(p.get("TREE_COLLAPSE_STR"),"tm1webSubsetEditorIconCollapseTree",b,"TreeCollapseDropDownButton");a.insertParentsOfSelectedElementButton=this._newButton(p.get("INSERT_PARENTS_OF_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconInsertParentsOfSelectedElement","InsertParentsOfSelectedElementButton",m.hitch(this,"_insertParentsOfSelectedElements"));a.createConsolidationFromSubsetItem=this._newMenuItem(p.get("CREATE_CONSOLIDATION_FROM_SUBSET_STR"),"","CreateConsolidationFromSubsetItem",
m.hitch(this,"_createConsolidationFromSubset"));a.createConsolidationFromSelectedElementsItem=this._newMenuItem(p.get("CREATE_CONSOLIDATION_FROM_SELECTED_ELEMENTS_STR"),"","CreateConsolidationFromSelectedElementsItem",m.hitch(this,"_createConsolidationFromSelectedElements"));b=this._newMenu(this._generateCustomConsolidationMenuSkeleton());a.customConsolidationButton=this._newDropDownButton(p.get("CREATE_CUSTOM_CONSOLIDATION_STR"),"tm1webSubsetEditorIconCustomConsolidation",b,"CustomConsolidationDropDownButton")},
_generateSkeleton:function(){var a=this._newSkeleton();a.add(this._generateSaveLoadGroup());a.add(this._generateCopyPasteGroup());a.add(this._generateKeepDeleteGroup());a.add(this._generateFilterMenuGroup());a.add(this._generateSortMenuGroup());a.add(this._generateTreeGroup());a.add(this._generateCustomConsolidationMenuGroup());return a},_generatePasteMenuSkeleton:function(){var a=this._newSkeleton(),b=this._newGroup(),g=this._skeletonChildren;b.add(g.pasteItem);b.add(g.pasteAboveItem);b.add(g.pasteBelowItem);
a.add(b);return a},_generateSaveLoadGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.saveButton);a.add(b.saveAsButton);a.add(b.reloadButton);a.add(b.subsetAllButton);return a},_generateCopyPasteGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.cutButton);a.add(b.copyButton);a.add(b.pasteButton);return a},_generateKeepDeleteGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.keepButton);a.add(b.deleteButton);return a},_generateFilterMenuSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateFilterGroup());return a},_generateFilterGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.filterByLevelItem);a.add(b.filterByAttributeItem);a.add(b.filterByExpressionItem);return a},_generateFilterMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.filterButton);return a},_generateSortMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateSortGroup());return a},_generateSortGroup:function(){var a=this._newGroup(),
b=this._skeletonChildren;a.add(b.sortAscendingItem);a.add(b.sortDescendingItem);a.add(b.sortHierarchicallyItem);a.add(b.sortByIndexAscendingItem);a.add(b.sortByIndexDescendingItem);return a},_generateSortMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.sortButton);return a},_generateTreeExpandMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateTreeExpandGroup());return a},_generateTreeExpandGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;
a.add(b.drillDownSelectedConsolidationsItem);a.add(b.expandSelectedConsolidationsItem);a.add(b.expandTreeFullyItem);return a},_generateTreeCollapseMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateTreeCollapseGroup());return a},_generateTreeCollapseGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.collapseSelectedConsolidationsItem);a.add(b.collapseTreeFullyItem);return a},_generateTreeGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.treeExpandButton);
a.add(b.treeCollapseButton);a.add(b.insertParentsOfSelectedElementButton);return a},_generateCustomConsolidationMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateCustomConsolidationGroup());return a},_generateCustomConsolidationGroup:function(){var a=this._newGroup(),b=this._skeletonChildren;a.add(b.createConsolidationFromSubsetItem);a.add(b.createConsolidationFromSelectedElementsItem);return a},_generateCustomConsolidationMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.customConsolidationButton);
return a},_getItemIdPrefix:function(){return"tm1web_subseteditor_SubsetEditorMainToolbar_"},_saveSubset:function(){this.model.getMetaData().then(m.hitch(this,function(a){if(a.selectedSubset.name){var b=m.hitch(this,function(){this.model.saveSubset()});this.subsetTree.get("model").getMetaData(function(g){a.selectedSubset.dynamic&&g.modified?z.show({message:p.get("SUBSET_BY_EXPRESSION")+"\n"+p.get("SAVING_DYNAMIC_SUBSET"),okButtonLabel:p.get("SUBSET_EXPRESSION_WARNING_OK_STR"),cancelButtonLabel:p.get("CANCEL_STR"),
title:p.get("SUBSET_EXPRESSION_WARNING_TITLE_STR"),onExecute:function(){b()}}):b()})}else this._saveSubsetAs()}))},_saveSubsetAs:function(){var a=new s({model:this.model,subsetModel:this.subsetTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_reloadSubset:function(){this._activeTree.get("model").reloadSubset()},_subsetAll:function(){this._activeTree.get("model").subsetAll()},_cut:function(){this._activeTree.get("model").cut()},cut:function(){g.set(" ");this._cut()},_copy:function(){this._activeTree.get("model").copy()},
copy:function(){g.set(" ");this._copy()},_paste:function(a){this._activeTree.get("model").paste(a)},paste:function(){c(g.get(!0),m.hitch(this,"_paste"))},_pasteAbove:function(a){this._activeTree.get("model").pasteAbove(a)},pasteAbove:function(){c(g.get(!0),m.hitch(this,"_pasteAbove"))},_pasteBelow:function(a){this._activeTree.get("model").pasteBelow(a)},pasteBelow:function(){c(g.get(!0),m.hitch(this,"_pasteBelow"))},_keepSelectedElements:function(){this._activeTree.get("model").keepSelectedElements()},
_deleteSelectedElements:function(){this._activeTree.get("model").deleteSelectedElements()},_filterByLevel:function(){this._activeTree.get("model").getMetaData(m.hitch(this,function(a){var b=new u({levelsCount:a.levelsCount,model:this._activeTree.get("model"),onHide:function(){b.destroyRecursive();b=null}});b.show()}))},_filterByAttribute:function(){var a=new x({model:this._activeTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_filterByExpression:function(){var a=new w({model:this._activeTree.get("model"),
onHide:function(){a.destroyRecursive();a=null}});A(".tm1webFilterByExpressionLabel",a.id).attr("for",a._textBox.id);a.show()},_sort:function(a){this._activeTree.get("model").sort(a)},_drillDownSelectedConsolidations:function(){},_expandSelectedConsolidations:function(a){this._activeTree.get("model").expandSelectedConsolidations(a)},_expandTreeFully:function(){this._activeTree.get("model").expandAll()},_collapseSelectedConsolidations:function(){this._activeTree.get("model").collapseSelectedConsolidations()},
_collapseTreeFully:function(){this._activeTree.get("model").collapseAll()},_insertParentsOfSelectedElements:function(){this._activeTree.get("model").insertParentsOfSelectedElements()},_createConsolidationFromSubset:function(){var a=new v({model:this.model,subsetModel:this._activeTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_createConsolidationFromSelectedElements:function(){this._activeTree.get("model").createConsolidationFromSelectedElements()}})})},"tm1web/utility/string":function(){define({regexEscape:function(l){return l.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,
"\\$1")},equalsIgnoreCase:function(l,m,k){null==k&&(k=!1);return"string"===typeof l&&"string"===typeof m?l.match(new RegExp("^("+this.regexEscape(m)+")$","i")):k?l===m:l==m},endsWith:function(l,m){var k=l.length-m.length,h=l.indexOf(m,k);return 0<=h&&k===h},addPreSuffix:function(l,m,k){return(m?m:"")+l+(k?k:"")},removePreSuffix:function(l,m,k){var h=l.indexOf(m),f=l.lastIndexOf(k);return 0===h&&-1!=f&&f===l.length-k.length?l.substring(m.length,f):null}})},"tm1web/subseteditor/ExpandAboveTreeNode":function(){define(["dojo/_base/declare",
"dojo/text!./templates/ExpandAboveTreeNode.html","./TreeNode"],function(l,m,k){return l(k,{templateString:m})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),function(l,
m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v){var z=m("dijit.form._SliderMover",n,{onMouseMove:function(a){var g=this.widget,d=g._abspos;d||(d=g._abspos=f.position(g.sliderBarContainer,!0),g._setPixelValue_=b.hitch(g,"_setPixelValue"),g._isReversed_=g._isReversed());a=a[g._mousePixelCoord]-d[g._startingPixelCoord];g._setPixelValue_(g._isReversed_?d[g._pixelCount]-a:a,d[g._pixelCount],!1)},destroy:function(a){n.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});k=m("dijit.form.HorizontalSlider",[x,w],{templateString:v,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:r.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey||this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!(this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey)){switch(a.keyCode){case e.HOME:this._setValueAttr(this.minimum,!1);break;case e.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?e.RIGHT_ARROW:e.LEFT_ARROW:case !1===this._descending?e.DOWN_ARROW:e.UP_ARROW:case !1===this._descending?e.PAGE_DOWN:e.PAGE_UP:this.increment(a);
break;case this._descending||this.isLeftToRight()?e.LEFT_ARROW:e.RIGHT_ARROW:case !1===this._descending?e.UP_ARROW:e.DOWN_ARROW:case !1===this._descending?e.PAGE_UP:e.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){this.disabled||this.readOnly||(d("ie")||s.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&!this.readOnly&&
this.clickSelect){s.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var b=f.position(this.sliderBarContainer,!0),g=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._setPixelValue(this._isReversed()?b[this._pixelCount]-g:g,b[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,g){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(1>=d||Infinity==d)d=b;d--;a=Math.round(a/(b/d));this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*
a/d+this.minimum,this.maximum),this.minimum),g)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var g=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,d=!1===this._descending?this.remainingBar:this.progressBar,c=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(b&&0<this.slideDuration&&
d.style[this._progressPixelSize]){var e=this,n={},f=parseFloat(d.style[this._progressPixelSize]),p=this.slideDuration*(g-f/100);0!=p&&(0>p&&(p=0-p),n[this._progressPixelSize]={start:f,end:100*g,units:"%"},this._inProgressAnim=h.animateProperty({node:d,duration:p,onAnimate:function(a){c.style[e._progressPixelSize]=100-parseFloat(a[e._progressPixelSize])+"%"},onEnd:function(){delete e._inProgressAnim},properties:n}),this._inProgressAnim.play())}else d.style[this._progressPixelSize]=100*g+"%",c.style[this._progressPixelSize]=
100*(1-g)+"%"},_bumpValue:function(a,b){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var g=c.getComputedStyle(this.sliderBarContainer),d=f.getContentBox(this.sliderBarContainer,g),g=this.discreteValues;if(1>=g||Infinity==g)g=d[this._pixelCount];g--;d=(this.value-this.minimum)*g/(this.maximum-this.minimum)+a;0>d&&(d=0);d>g&&(d=g);d=d*(this.maximum-this.minimum)/g+this.minimum;this._setValueAttr(d,b)}},_onClkBumper:function(a){this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(a,
!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==e.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||
(l.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,g){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](g)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=g('label[for\x3d"'+
this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(t.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),t.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(q(this.domNode,p.wheel,b.hitch(this,
"_mouseWheeled")));var g=m(z,{widget:this});this._movable=new a(this.sliderHandle,{mover:g});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});k._Mover=z;return k})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){var r=m("dojo.dnd.Manager",[c],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:e("touch")?0:16,OFFSET_Y:e("touch")?-64:16,overSource:function(b){this.avatar&&(this.target=b&&"Disabled"!=b.targetState?b:null,this.canDropFlag=Boolean(this.target),this.avatar.update());a.publish("/dnd/source/over",b)},outSource:function(b){this.avatar?this.target==b&&(this.target=null,this.canDropFlag=
!1,this.avatar.update(),a.publish("/dnd/source/over",null)):a.publish("/dnd/source/over",null)},startDrag:function(b,g,c){function e(a){a.preventDefault();a.stopPropagation()}p.autoScrollStart(h.doc);this.source=b;this.nodes=g;this.copy=Boolean(c);this.avatar=this.makeAvatar();h.body().appendChild(this.avatar.node);a.publish("/dnd/start",b,g,this.copy);this.events=[d(h.doc,n.move,k.hitch(this,"onMouseMove")),d(h.doc,n.release,k.hitch(this,"onMouseUp")),d(h.doc,"keydown",k.hitch(this,"onKeyDown")),
d(h.doc,"keyup",k.hitch(this,"onKeyUp")),d(h.doc,"dragstart",e),d(h.body(),"selectstart",e)];b="dojoDnd"+(c?"Copy":"Move");f.add(h.body(),b)},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){f.remove(h.body(),["dojoDndCopy","dojoDndMove"]);l.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new q(this)},
updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;b&&(p.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(g.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));e("touch")&&a.preventDefault()},onMouseUp:function(b){if(this.avatar){if(this.target&&this.canDropFlag){var d=Boolean(this.source.copyState(g.getCopyKeyState(b)));a.publish("/dnd/drop/before",this.source,this.nodes,
d,this.target,b);a.publish("/dnd/drop",this.source,this.nodes,d,this.target,b)}else a.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(g){if(this.avatar)switch(g.keyCode){case b.CTRL:g=Boolean(this.source.copyState(!0));this.copy!=g&&this._setCopyStatus(g);break;case b.ESCAPE:a.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==b.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);
this.updateAvatar();f.replace(h.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});g._manager=null;r.manager=g.manager=function(){g._manager||(g._manager=new r);return g._manager};return r})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(l){function m(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(k,h,f){m()},cancel:function(k,h){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},
isCanceled:function(){m()},always:function(k){return this.then(k,k)},otherwise:function(k){return this.then(null,k)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"tm1web/websheet/SheetTopRightPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ../config-settings ./SheetDataGrid ./Utility ../config-settings!".split(" "),function(l,m,
k,h,f,c,e,b,d,a){return l(e,{constructor:function(a,b,d,c,e){this.Panel=null;this._index=d;this.DataGrid=null;this._objectId=a;this._leftScrollPane=c;this._topScrollPane=e;this._initializeSheetTopRightPane(b)},_initializeSheetTopRightPane:function(b){this.createContainer(b);this.own(k.subscribe(a.createTopicId(this._objectId,this._index,"SCROLLLING"),m.hitch(this,"_onScroll")));this.own(k.subscribe(a.createTopicId(this._objectId,this._index,"TOPSCROLLLING"),m.hitch(this,"_onTopScroll")))},_onScroll:function(a){var b=
this.DataGrid.Panel,d=b.parentNode;this._columnsFullyLoaded?(b.style.left&&(b.style.left=""),d.scrollLeft=a):(d.scrollLeft=0,c.set(b,{left:-a+"px"}))},_onTopScroll:function(a){var g=this.DataGrid.Panel,d=g.parentNode;this._rowsFullyLoaded&&b.isNativeWebsheetScrollingEnabled()?(g.style.top&&(g.style.top=""),d.scrollTop=a):(d.scrollTop=0,c.set(g,{top:-a+"px"}))},createContainer:function(a){this.Panel=this.CreatePanel();this.resize(a);h.add(this.Panel,"tm1webTopRightSheetPanel tm1webInlineLayout tm1webNoOutline")},
resize:function(a){c.set(this.Panel,{width:a.mainWidth+"px",height:a.topPanelHeight+"px"})},create:function(a){this._rowsFullyLoaded=a.rowsFullyLoaded;this._columnsFullyLoaded=a.columnsFullyLoaded;this.DataGrid=new d(this._objectId,this._index,this._leftScrollPane,this._topScrollPane,a.allowSpreading,a.allowConsolidateSpreading);a=this.DataGrid.create(a.topPane);h.add(a,"tm1webTopRightSheetDataPanel");f.place(a,this.Panel);return this.Panel},refresh:function(a){this._rowsFullyLoaded=a.rowsFullyLoaded;
this._columnsFullyLoaded=a.columnsFullyLoaded;this.DataGrid.refresh(a.topPane)},destroy:function(){this.inherited(arguments);this.DataGrid.destroy()}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(l,m,k,h,f,c,e,b){return m("dijit._KeyNavMixin",b,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);k.set(this.domNode,"tabIndex",this.tabIndex);
if(!this._keyNavCodes){var b=this._keyNavCodes={};b[h.HOME]=f.hitch(this,"focusFirstChild");b[h.END]=f.hitch(this,"focusLastChild");b[this.isLeftToRight()?h.LEFT_ARROW:h.RIGHT_ARROW]=f.hitch(this,"_onLeftArrow");b[this.isLeftToRight()?h.RIGHT_ARROW:h.LEFT_ARROW]=f.hitch(this,"_onRightArrow");b[h.UP_ARROW]=f.hitch(this,"_onUpArrow");b[h.DOWN_ARROW]=f.hitch(this,"_onDownArrow")}var a=this,b="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(c(this.domNode,
"keypress",f.hitch(this,"_onContainerKeypress")),c(this.domNode,"keydown",f.hitch(this,"_onContainerKeydown")),c(this.domNode,"focus",f.hitch(this,"_onContainerFocus")),c(this.containerNode,c.selector(b,"focusin"),function(b){a._onChildFocus(e.getEnclosingWidget(this),b)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,
-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),b.set("tabIndex",this.tabIndex),b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){k.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){k.set(this.domNode,
"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,c,g){b&&this.focusChild(b)},
_keyboardSearchCompare:function(b,a){var c=b.domNode,c=(b.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&c==a?-1:0},_onContainerKeydown:function(b){var a=this._keyNavCodes[b.keyCode];a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),this._searchString=""):b.keyCode!=h.SPACE||!this._searchTimer||b.ctrlKey||b.altKey||b.metaKey||(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b,
" "))},_onContainerKeypress:function(b){b.charCode<=h.SPACE||b.ctrlKey||b.altKey||b.metaKey||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(b,a){var c=null,g,e=0;f.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;g=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=
null;this._searchString=""},this.multiCharSearchDuration);var d=this.focusedChild||null;if(1==b||!d)if(d=this._getNextFocusableChild(d,1),!d)return;b=d;do{var f=this._keyboardSearchCompare(d,g);f&&0==e++&&(c=d);if(-1==f){e=-1;break}d=this._getNextFocusableChild(d,1)}while(d!=b)})();this.onKeyboardSearch(c,b,g,e)},_onChildBlur:function(){},_getNextFocusableChild:function(b,a){var c=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=c&&b.isFocusable())return b}while(b!=
c);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var c=e.byNode(b);if(c)return c}return null}})})},"dojox/collections/Set":function(){define(["./_base","./ArrayList"],function(l,m){l.Set=new function(){function k(h){return h.constructor==Array?new m(h):h}this.union=function(h,f){h=k(h);f=k(f);for(var c=new m(h.toArray()),e=f.getIterator();!e.atEnd();){var b=
e.get();c.contains(b)||c.add(b)}return c};this.intersection=function(h,f){h=k(h);f=k(f);for(var c=new m,e=f.getIterator();!e.atEnd();){var b=e.get();h.contains(b)&&c.add(b)}return c};this.difference=function(h,f){h=k(h);f=k(f);for(var c=new m,e=h.getIterator();!e.atEnd();){var b=e.get();f.contains(b)||c.add(b)}return c};this.isSubSet=function(h,f){h=k(h);f=k(f);for(var c=h.getIterator();!c.atEnd();)if(!f.contains(c.get()))return!1;return!0};this.isSuperSet=function(h,f){h=k(h);f=k(f);for(var c=f.getIterator();!c.atEnd();)if(!h.contains(c.get()))return!1;
return!0}};return l.Set})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(l,m,k){return l("dojox.grid.DataSelection",k,{constructor:function(h){h.keepSelection&&(this.preserver=new m(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var h=k.prototype.getFirstSelected.call(this);return-1==h?null:this.grid.getItem(h)},getNextSelected:function(h){h=this.grid.getItemIndex(h);h=k.prototype.getNextSelected.call(this,
h);return-1==h?null:this.grid.getItem(h)},getSelected:function(){for(var h=[],f=0,c=this.selected.length;f<c;f++)this.selected[f]&&h.push(this.grid.getItem(f));return h},addToSelection:function(h){if("none"!=this.mode){var f=null,f="number"==typeof h||"string"==typeof h?h:this.grid.getItemIndex(h);k.prototype.addToSelection.call(this,f)}},deselect:function(h){if("none"!=this.mode){var f=null,f="number"==typeof h||"string"==typeof h?h:this.grid.getItemIndex(h);k.prototype.deselect.call(this,f)}},deselectAll:function(h){var f=
null;h||"number"==typeof h?(f="number"==typeof h||"string"==typeof h?h:this.grid.getItemIndex(h),k.prototype.deselectAll.call(this,f)):this.inherited(arguments)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(l,m,k,h,f,c,e,b){var d=m("dijit.form._TextBoxMixin"+(h("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",
_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,g){var c;void 0!==a&&(c=this.filter(a),"string"!=typeof g&&(g=null===c||"number"==typeof c&&isNaN(c)?"":this.filter(this.format(c,this.constraints)),0!=this.compare(c,this.filter(this.parse(g,this.constraints)))&&(g=null)));null==g||"number"==typeof g&&isNaN(g)||this.textbox.value==g||(this.textbox.value=g,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,
[c,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);
this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(e(this.textbox,"keydown, keypress, paste, cut, input, compositionend",c.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case f.SHIFT:case f.ALT:case f.CTRL:case f.META:case f.CAPS_LOCK:case f.NUM_LOCK:case f.SCROLL_LOCK:return}if(!a.ctrlKey&&
!a.metaKey&&!a.altKey){switch(b){case f.NUMPAD_0:case f.NUMPAD_1:case f.NUMPAD_2:case f.NUMPAD_3:case f.NUMPAD_4:case f.NUMPAD_5:case f.NUMPAD_6:case f.NUMPAD_7:case f.NUMPAD_8:case f.NUMPAD_9:case f.NUMPAD_MULTIPLY:case f.NUMPAD_PLUS:case f.NUMPAD_ENTER:case f.NUMPAD_MINUS:case f.NUMPAD_PERIOD:case f.NUMPAD_DIVIDE:return}if(65<=b&&90>=b||48<=b&&57>=b||b==f.SPACE)return;b=!1;for(var g in f)if(f[g]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||
(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==f.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=!1;return}}else this.__skipInputEvent=!0;var d={faux:!0},e;for(e in a)/^(layer[XY]|returnValue|keyLocation)$/.test(e)||(g=a[e],"function"!=typeof g&&
"undefined"!=typeof g&&(d[e]=g));c.mixin(d,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){d._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(d)&&(d.preventDefault(),d.stopPropagation());d._wasConsumed||this.defer(function(){this._onInput(d)})})),e(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=c.trim(a));this.uppercase&&
(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=
e.once(this.domNode,"mouseup, touchend",c.hitch(this,function(a){this._isTextSelected()||d.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});h("dojo-bidi")&&(d=m("dijit.form._TextBoxMixin",d,{_setValueAttr:function(){this.inherited(arguments);
this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));d._setSelectionRange=b._setSelectionRange=function(a,b,g){a.setSelectionRange&&a.setSelectionRange(b,g)};d.selectInputText=b.selectInputText=function(a,b,g){a=k.byId(a);isNaN(b)&&(b=0);isNaN(g)&&(g=a.value?a.value.length:0);try{a.focus(),d._setSelectionRange(a,b,g)}catch(c){}};return d})},
"tm1web/share/sandbox/TM1WebSandboxDeleteDialog":function(){define(["dojo/_base/declare","./SandboxDeleteDialog","../service-loader!SandboxService"],function(l,m,k){return l(m,{constructor:function(h,f){this._tm1Widget=h;this._objectId=f},executeGetSandboxesServiceCall:function(h){this._tm1Widget.getSandboxes().then(h)},executeDeleteSandboxesServiceCall:function(h,f){k.deleteSandboxes(this._objectId,h,f)},disableDefaultSandbox:function(h,f){(f.baseSandbox||f.defaultSandbox)&&h.disableCheckBox(!0)},
destroy:function(){this.inherited(arguments);delete this._tm1Widget;delete this._objectId}})})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(l,m,k,h,f,c,e){var b={_isElementShown:function(b){var a=h.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=k.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return k.has(b,"href");
case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var c=b.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;a=c.body}catch(g){try{a=b.contentWindow.document.body}catch(e){return!1}}return a&&("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}},effectiveTabIndex:function(c){return k.get(c,"disabled")?void 0:k.has(c,"tabIndex")?+k.get(c,"tabIndex"):b.hasDefaultTabStop(c)?
0:void 0},isTabNavigable:function(c){return 0<=b.effectiveTabIndex(c)},isFocusable:function(c){return-1<=b.effectiveTabIndex(c)},_getTabNavigable:function(d){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}function e(b){return u[a(b)]||b}var g,f,h,r,l,m,u={},x=b._isElementShown,w=b.effectiveTabIndex,v=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=c("ie")&&"HTML"!==b.scopeName)&&x(b)){var d=w(b);
if(0<=d){if(0==d)g||(g=b),f=b;else if(0<d){if(!h||d<r)r=d,h=b;if(!l||d>=m)m=d,l=b}d=a(b);k.get(b,"checked")&&d&&(u[d]=b)}"SELECT"!=b.nodeName.toUpperCase()&&v(b)}};x(d)&&v(d);return{first:e(g),last:e(f),lowest:e(h),highest:e(l)}},getFirstInTabbingOrder:function(c,a){var e=b._getTabNavigable(m.byId(c,a));return e.lowest?e.lowest:e.first},getLastInTabbingOrder:function(c,a){var e=b._getTabNavigable(m.byId(c,a));return e.last?e.last:e.highest}};f.mixin(e,b);return b})},"tm1web/share/sandbox/SandboxDeleteDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/query dojo/Deferred dojo/aspect dijit/Dialog dojox/html/entities ../../utility/message-localizer ../CheckRow ../TM1Utility ./SandboxDialog".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){return l(q,{constructor:function(){this.checkedItems=new c.NodeList;this.onDeleteDeferred=new e},createSandboxDialog:function(){this.popup=new d({title:n.get("SANDBOX_DELETE_STR")});f.add(this.popup.domNode,"tm1webSandboxDeleteDialog tm1webFormDialog");this._contentContainer=h.create("div");h.place(this._contentContainer,this.popup.containerNode);f.add(this._contentContainer,"tm1webSandboxDialogContent")},createSandboxTopInput:function(){},_onCreateSandboxDialog:function(a){if(a){var g=
this;g._sandboxContainerLabel.innerHTML=n.get("SELECT_SANDBOXES_TO_DELETE_STR");k.forEach(a.sandboxes,function(a){a.baseSandbox||a.defaultSandbox||(a=g.createSandboxItemRow(a),h.place(a,g._sandboxContainer))})}this.own(b.after(this.popup,"onHide",m.hitch(this,"destroy")));this.popup.show()},createSandboxItemRow:function(b){b=new g(b.name,a.encode(b.name));var c=m.hitch(this,"_onCheckBox");return b.createCheckItemRow(!1,c)},disableDefaultSandbox:function(a,b){},_onCheckBox:function(a){a.checked?this.checkedItems.push(a):
(a=p.indexOf(this.checkedItems,a),-1<a&&this.checkedItems.splice(a,1));this._updateButtonsState()},getOkButtonText:function(){return n.get("DELETE_STR")},onOk:function(){var a=this._getAllCheckedSandboxes(),b=m.hitch(this,"onDeleteSandboxes"),g=this.onDeleteDeferred;g.then(b);this.executeDeleteSandboxesServiceCall(a,{callback:g.resolve,scope:this})},_updateButtonsState:function(){0<this.checkedItems.length?(this._primaryButton.disabled=!1,f.remove(this._primaryButton.domNode,"tm1webButtonDisabled")):
(this._primaryButton.disabled=!0,f.add(this._primaryButton.domNode,"tm1webButtonDisabled"))},executeDeleteSandboxesServiceCall:function(a,b){},_getAllCheckedSandboxes:function(){var a=[];k.forEach(this.checkedItems,function(b){a.push(b.identifier)});return a},onDeleteSandboxes:function(a){a||ErrorAlert.show({message:n.get("SOME_SANDBOX_DELETE_FAILED_STR"),title:n.get("SANDBOX_DELETE_STR")});this.destroy()},destroy:function(){this.inherited(arguments);this.checkedItems;this.onDeleteDeferred}})})},
"tm1web/websheet/controls/CheckBoxControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dijit/registry dojox/html/entities ./LinkedControlBase ../../share/service-loader!WebSheetService".split(" "),function(l,m,k,h,f,c,e,b,d,a){return l(d,{constructor:function(a,b,c){},create:function(){var a=this.controlNode,g=this.domNode=f.create("table");h.add(g,"tm1webCheckableControlTable");var d=g.insertRow(-1),e=d.insertCell(-1);h.add(e,
"tm1webCheckableControlCell");f.place(a,e);e=(this.controlInfo.alignment||this.controlAlignment.Right)===this.controlAlignment.Left?d.insertCell(0):d.insertCell(-1);f.create("label",{innerHTML:b.encode(this.controlInfo.label),"for":a.id},e);this.controlInfo.styleId&&h.add(g,this.controlInfo.styleId);this.parentNode&&f.place(g,this.parentNode);c.setMarginBox(g,{h:this.controlInfo.height,w:this.controlInfo.width});this._attachEventHandlers();this.setControlPosition();this.setBackgroundSize(g);return g},
newControl:function(){var a=f.create("input",{type:"checkbox",disabled:this.controlInfo.enabled?!this.controlInfo.enabled:!1}),b=this.controlInfo.state;"Mixed"==b?(a.indeterminate=!0,a.onclick=m.hitch(this,"_indeterminateChanged"),a.onchange=m.hitch(this,"_uncheckCheckBox")):("Checked"==b&&(a.checked=!0),this.own(k(a,"change",m.hitch(this,"_setChecked"))));a.id=e.getUniqueId("CheckBox");return a},_indeterminateChanged:function(){this.controlNode.checked=!1;this._setChecked()},_uncheckCheckBox:function(){this.controlNode.checked=
!1},_setChecked:function(){a.setCheckBoxChecked(this.objectId,this.controlInfo.id,this.controlNode.checked,{callback:this.recalculate,scope:this})},isOverflowVisible:function(){return!0},getPositionProperties:function(){return{t:0<this.controlInfo.offsetTop?0:this.controlInfo.offsetTop,l:0<this.controlInfo.offsetLeft?0:this.controlInfo.offsetLeft}}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n){b=l("dijit.form.TextBox"+(e("dojo-bidi")?"_NoBidi":""),[b,d],{templateString:a,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=k.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=m.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(c(this._phspan,"mousedown",function(a){a.preventDefault()}),c(this._phspan,"touchend, pointerup, MSPointerUp",f.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){h.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){h.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});9>e("ie")&&(b.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},n._setSelectionRange=d._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});e("dojo-bidi")&&(b=l("dijit.form.TextBox",b,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return b})},"tm1web/celledit/_CellListValueSaver":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./ValueSaver"],function(l,m,k,h){return l(h,{listItemSelected:!1,store:null,_isRecalcOnChangeRequired:function(){return null},
_changeCellValue:function(f,c,e){this.listItemSelected?this._checkInputString(f,c,e):c&&k(this.store.contains(c),m.hitch(this,function(b){b?this._checkInputString(f,c,e):setTimeout(m.hitch(this,"_handleInvalidUserInput",f,c,e),0)}))},_isPercentValue:function(){return!1},_checkInputString:function(f,c,e){var b=this.getInherited(arguments),d=arguments,a=this;setTimeout(function(){b.apply(a,d)},0)},_handleInvalidUserInput:function(f,c,e){},_onChangeCellValue:function(f){var c=this._isRecalcOnChangeRequired();
null!=c&&(this._needsRecalc=c?!0:!1);this.inherited(arguments)}})})},"tm1web/websheet/SheetTopPane":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ./SheetTopRightPane ./SheetTopLeftPane".split(" "),function(l,m,k,h,f,c,e){return l(f,{constructor:function(b,c,a,e,g,f){this.Panel=null;this._index=a;this.TopRightPane=this.TopLeftPane=null;this._size=c;this._objectId=b;this._leftScrollPane=e;this._topScrollPane=g;this._mainScrollPane=f;
this._initializeSheetTopRightPane()},_initializeSheetTopRightPane:function(){this.createContainer()},createContainer:function(){this.Panel=this.CreatePanel();this._setSize(this._size);m.add(this.Panel,"tm1webTopSheetPanel")},resize:function(b){this._size=b;this._setSize(b);this.TopLeftPane&&this.TopLeftPane.resize(b);this.TopRightPane&&this.TopRightPane.resize(b)},_setSize:function(b){h.set(this.Panel,{width:b.leftPanelWidth+b.mainWidth+"px",height:b.topPanelHeight+"px"})},create:function(b){if(b.cornerPane){this.TopLeftPane=
new e(this._objectId,this._size,this._index,this._leftScrollPane,this._topScrollPane);var d=this.TopLeftPane.create(b);k.place(d,this.Panel)}b.topPane&&(this.TopRightPane=new c(this._objectId,this._size,this._index,this._mainScrollPane,this._topScrollPane),d=this.TopRightPane.create(b),k.place(d,this.Panel));return this.Panel},refresh:function(b){b.cornerPane&&this.TopLeftPane.refresh(b);b.topPane&&this.TopRightPane.refresh(b)},destroy:function(){this.inherited(arguments);this.TopLeftPane&&this.TopLeftPane.destroy();
this.TopRightPane&&this.TopRightPane.destroy()}})})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(l,m,k,h,f,c,e,b){new Date("X");return h("dijit.form._DateTimeTextBox",[c,e],{templateString:b,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:m.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(b,a){var c=this._isInvalidDate(b),g=this._isInvalidDate(a);if(c||g)return c&&g?0:c?-1:1;var c=this.format(b,this._unboundedConstraints),g=this.format(a,this._unboundedConstraints),e=this.parse(c,this._unboundedConstraints),f=this.parse(g,this._unboundedConstraints);return c==g?0:l.compare(e,f,this._selector)},autoWidth:!0,format:function(b,a){return b?this.dateLocaleModule.format(b,a):""},parse:function(b,a){return this.dateLocaleModule.parse(b,a)||(this._isEmpty(b)?
null:void 0)},serialize:function(b,a){b.toGregorian&&(b=b.toGregorian());return k.toISOString(b,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(b){b=b||{};this.dateModule=b.datePackage?f.getObject(b.datePackage,!1):l;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?f.getObject(b.datePackage+".locale",!1):m;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},
buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(b){b.selector=this._selector;b.fullYear=!0;var a=k.fromISOString;"string"==typeof b.min&&(b.min=a(b.min));"string"==typeof b.max&&(b.max=a(b.max));this.inherited(arguments);this._unboundedConstraints=f.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(b){return!b||
isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,a,c){void 0!==b&&("string"==typeof b&&(b=k.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));this.inherited(arguments);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,a){var c=this._get("value");"value"==b&&c instanceof Date&&0==this.compare(a,c)||this.inherited(arguments)},
_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this._set("dropDownDefaultValue",b)},openDropDown:function(b){this.dropDown&&this.dropDown.destroy();var a=f.isString(this.popupClass)?f.getObject(this.popupClass,!1):this.popupClass,c=this,g=this.get("value");this.dropDown=new a({onChange:function(a){c.set("value",a,!0)},id:this.id+"_popup",dir:c.dir,lang:c.lang,value:g,textDir:c.textDir,currentFocus:this._isInvalidDate(g)?this.dropDownDefaultValue:g,constraints:c.constraints,
filterString:c.filterString,datePackage:c.datePackage,isDisabledDate:function(a){return!c.rangeCheck(a,c.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,a){this._setValueAttr(this.parse(b,this.constraints),a,b)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){k=k("dijit.layout.StackContainer",q,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"keydown",e.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var b=this.getChildren();l.forEach(b,this._setupChild,this);this.persist?this.selectedChildWidget=g.byId(m(this.id+"_selectedChild")):
l.some(b,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var c=this.selectedChildWidget;!c&&b[0]&&(c=this.selectedChildWidget=b[0],c.selected=!0);a.publish(this.id+"-startup",{children:b,selected:c,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var b=a.domNode,g=f.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+
this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),c=a["aria-label"]||a.title||a.label;c&&g.setAttribute("aria-label",c);f.place(b,g);a._wrapper=g;this.inherited(arguments);"none"==b.style.display&&(b.style.display="block");a.domNode.removeAttribute("title")},addChild:function(b,g){this.inherited(arguments);this._started&&(a.publish(this.id+"-addChild",b,g),this.layout(),this.selectedChildWidget||this.selectChild(b))},removeChild:function(b){var g=l.indexOf(this.getChildren(),b);
this.inherited(arguments);f.destroy(b._wrapper);delete b._wrapper;this._started&&a.publish(this.id+"-removeChild",b);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===b&&(this.selectedChildWidget=void 0,this._started)){var c=this.getChildren();c.length&&this.selectChild(c[Math.max(g-1,0)])}this._started&&this.layout()}},selectChild:function(b,c){var d;b=g.byId(b);this.selectedChildWidget!=b&&(d=this._transition(b,this.selectedChildWidget,c),this._set("selectedChildWidget",b),a.publish(this.id+
"-selectChild",b),this.persist&&m(this.id+"_selectedChild",this.selectedChildWidget.id));return n(d||!0)},_transition:function(a,b){b&&this._hideChild(b);var g=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return g},_adjacent:function(a){var b=this.getChildren(),g=l.indexOf(b,this.selectedChildWidget),g=g+(a?1:b.length-1);return b[g%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),
!0)},_onKeyDown:function(b){a.publish(this.id+"-containerKeyDown",{e:b,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&h.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&
h.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;l.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});k.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};e.extend(p,
k.ChildWidgetProperties);return k})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(l,m,k,h,f,c){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var e=[];f("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(h.hitch(this,function(b){b.name==this.name&&b.form==this.focusNode.form&&(b=c.getEnclosingWidget(b))&&e.push(b)}));
return e},_setCheckedAttr:function(c){this.inherited(arguments);this._created&&c&&l.forEach(this._getRelatedWidgets(),h.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(c){return null==c?"on":c},_onClick:function(c){return this.checked||this.disabled?(c.stopPropagation(),c.preventDefault(),!1):this.readOnly?(c.stopPropagation(),c.preventDefault(),l.forEach(this._getRelatedWidgets(),h.hitch(this,function(b){k.set(this.focusNode||this.domNode,"checked",b.checked)})),
!1):this.inherited(arguments)}})})},"tm1web/websheet/controls/OptionButtonControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dijit/registry dojox/html/entities ./LinkedControlBase ../../share/service-loader!WebSheetService".split(" "),function(l,m,k,h,f,c,e,b,d,a){return l(d,{constructor:function(a,b,c){},create:function(){var a=this.controlNode,g=this.domNode=f.create("table");h.add(g,"tm1webCheckableControlTable");c.setMarginBox(g,
{h:this.controlInfo.height,w:this.controlInfo.width});var d=g.insertRow(-1),e=d.insertCell(-1);h.add(e,"tm1webCheckableControlCell");f.place(a,e);e=(this.controlInfo.alignment||this.controlAlignment.Right)===this.controlAlignment.Left?d.insertCell(0):d.insertCell(-1);f.create("label",{innerHTML:b.encode(this.controlInfo.label),"for":a.id},e);this.controlInfo.styleId&&h.add(g,this.controlInfo.styleId);this.parentNode&&f.place(g,this.parentNode);this.own(k(a,"change",m.hitch(this,"_setChecked")));this._attachEventHandlers();
this.setControlPosition();this.setBackgroundSize(g);return g},newControl:function(){var a=f.create("input",{type:"radio",name:this.controlInfo.groupName});a.checked=this.controlInfo.checked;a.id=e.getUniqueId("OptionButton");a.disabled=this.controlInfo.enabled?!this.controlInfo.enabled:!1;return a},_setChecked:function(){this.controlNode.checked&&a.setOptionButtonChecked(this.objectId,this.controlInfo.id,{callback:this.recalculate,scope:this})},isOverflowVisible:function(){return!0},getPositionProperties:function(){return{t:0<
this.controlInfo.offsetTop?0:this.controlInfo.offsetTop,l:0<this.controlInfo.offsetLeft?0:this.controlInfo.offsetLeft}}})})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(l,m,k){var h={global:l.global,doc:l.global.document||null,body:function(f){f=f||l.doc;return f.body||f.getElementsByTagName("body")[0]},setContext:function(f,c){l.global=h.global=f;l.doc=h.doc=c},withGlobal:function(f,c,e,b){var d=l.global;try{return l.global=h.global=f,h.withDoc.call(null,f.document,
c,e,b)}finally{l.global=h.global=d}},withDoc:function(f,c,e,b){var d=h.doc,a=k("quirks"),n=k("ie"),g,p,q;try{return l.doc=h.doc=f,l.isQuirks=k.add("quirks","BackCompat"==l.doc.compatMode,!0,!0),k("ie")&&(q=f.parentWindow)&&q.navigator&&(g=parseFloat(q.navigator.appVersion.split("MSIE ")[1])||void 0,(p=f.documentMode)&&5!=p&&Math.floor(g)!=p&&(g=p),l.isIE=k.add("ie",g,!0,!0)),e&&"string"==typeof c&&(c=e[c]),c.apply(e,b||[])}finally{l.doc=h.doc=d,l.isQuirks=k.add("quirks",a,!0,!0),l.isIE=k.add("ie",
n,!0,!0)}}};m.mixin(l,h);return h})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,m){l.fromJson=function(k){return eval("("+k+")")};l._escapeString=m.stringify;l.toJsonIndentStr="\t";l.toJson=function(k,h){return m.stringify(k,function(f,c){if(c){var e=c.__json__||c.json;if("function"==typeof e)return e.call(c)}return c},h&&l.toJsonIndentStr)};return l})},"tm1web/celledit/AsyncSimpleQueryEngine":function(){define(["dojo/_base/lang","dojo/store/util/SimpleQueryEngine","dojo/when"],
function(l,m,k){return function(h,f){var c=m(h,f);return function(e){e=k(e,c);e.then&&(e=l.delegate(e),e.total=e.then(function(b){return b.total}));return e}}})},"tm1web/websheet/SheetSizer":function(){define(["dojo/_base/declare","../cubeview/CubeViewBase"],function(l,m){return l(m,{constructor:function(k){this._sheet=k;this._resizeTimeId=null;this._initializeSheetSizer()},_initializeSheetSizer:function(){},resize:function(){this._onResize(!1)},_onResize:function(k){clearTimeout(this._resizeTimeId);
this._resizeTimeId=setTimeout(this.AddrOf(this._resize,k),10)},_resize:function(k){var h=this._sheet;h.BottomPane&&this._validateResize()&&(h.onBeginResize(),h.modifySize(h.Size),h.TopScrollingPane.resize(h.Size,h.Panel.offsetWidth),h.LeftScrollingPane.resize(h.Size,h.Panel.offsetHeight),h.ScrollingPane.resize(h.Size,h.Panel.offsetWidth,h.Panel.offsetHeight),h.updateSizeAfterRender(h.Size),h.FreezeLines.resize(h.Size),h.TopPane&&h.TopPane.resize(h.Size),h.BottomPane.resize(h.Size),this._sendPageSize(k),
h.onEndResize())},resizeBoth:function(){this._onResize(!0)},_validateResize:function(){return 0<this._sheet.Panel.offsetWidth&&0<this._sheet.Panel.offsetHeight},_sendPageSize:function(k){this._sheet.sendPageSize({callback:this._onSendPageSize,arg:k,scope:this})},_onSendPageSize:function(k,h){h?this._sheet.ScrollingCoordinator.resizeAll():this._sheet.ScrollingCoordinator.resize()}})})},"tm1web/subseteditor/ElementSelector":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/when dojo/dom-geometry dojo/dom-style dojo/text!./templates/ElementSelector.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/TooltipDialog ../utility/message-localizer ./dndSelector ./Model ./TreePane ./SubsetEditor ./FindBar ../widgets/WarningOptionsDialog".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t){return l("tm1web.subseteditor.ElementSelector",[a,b,d],{openSubsetEditorButtonVisible:!0,openSubsetEditorButtonDisabled:!1,readOnly:!1,baseClass:"tm1webElementSelector",templateString:e,_treeNode:null,_findBarNode:null,_findBar:null,_buttonContainerNode:null,_openSubsetEditorButton:null,_subsetEditorOpened:!1,_buttonLabel:n.get("OPEN_SUBSET_EDITOR_STR"),_model:null,constructor:function(a){this._model=a._model?a._model:new p({objectId:a.objectId,sheetIndex:a.sheetIndex,
dimension:a.dimension,rowIndex:a.rowIndex,columnIndex:a.columnIndex,element:a.element,readOnly:a.readOnly})},postCreate:function(){this.inherited(arguments);this._load()},_load:function(){var a=this;this._model.getSubsetStoreModel().then(function(b){var c=a._tree=new q({model:b,dndController:g,onChange:m.hitch(a,"_layoutChildren"),onLoad:m.hitch(a,"onLoad")},a._treeNode);c.on("select",function(g){var c=function(){var c=a._submitDeferred=new k;a._model.submit().then(function(){a.onSubmit(g.get("label"),
b.getElementIndex(g.get("item")),a._lastSelectedSubset,a._lastSelectedAlias);c.resolve();a._submitDeferred=null})};a._model.getMetaData().then(function(g){b.getMetaData(function(b){a._lastSelectedSubset=g.selectedSubset.name;a._lastSelectedAlias=g.selectedAlias;g.selectedSubset.dynamic&&b.modified?(a._pendingDialogDeferred=new k,t.show({message:n.get("DYNAMIC_SUBSET_MODIFIED")+"\n"+n.get("USE_STATIC_SUBSET"),okButtonLabel:n.get("SUBSET_WARNING_OK_STR"),cancelButtonLabel:n.get("CANCEL_STR"),title:n.get("SUBSET_WARNING_TITLE_STR"),
onExecute:function(){c()}}).always(function(){a._pendingDialogDeferred.resolve()})):c()})})});a._findBar=(new s({subsetTree:c})).placeAt(a._findBarNode);a._findBar.startup()})},onSubmit:function(a,b){},onOpen:function(a){this.inherited(arguments);this._best=a;this._originalConnectorRight=this._getConnectorRightPixels();this._tree.set("maxHeight",this._computeMaxTreeHeight());this._tree.set("maxWidth",this._computeMaxTreeWidth());this._layoutChildren();this._findBar._textBox.focus()},_computeMaxTreeHeight:function(){return this._computeMaxTreeSize("h")},
_computeMaxTreeWidth:function(){return this._computeMaxTreeSize("w")},_computeMaxTreeSize:function(a){var b=this._best.spaceAvailable[a],g=f.getMarginBox(this.domNode)[a];a=f.getContentBox(this._treeNode)[a];return b-(g-a)},_layoutChildren:function(){var a;this._requiresAdjustment()&&(a=f.getMarginBox(this._popupWrapper));this._tree.resize();this._findBar.resize();this._adjustPosition(a)},_isConnectorRightAligned:function(){return this._best&&0<=this._best.corner.indexOf("R")},_isOpenedAbove:function(){return this._best&&
0<=this._best.aroundCorner.indexOf("T")},_requiresAdjustment:function(){return this._isConnectorRightAligned()||this._isOpenedAbove()},_adjustPosition:function(a){if(a){var b=f.getMarginBox(this._popupWrapper);if(this._isConnectorRightAligned()){var g=b.w-a.w,c=this._getConnectorRightPixels();this._connectorNode.style.right=Math.max(this._originalConnectorRight,c+g)+"px"}this._isOpenedAbove()&&(a=b.t-(b.h-a.h),0>a&&(b=this._tree.get("maxHeight"),this._tree.set("maxHeight",b+a),a=0),f.setMarginBox(this._popupWrapper,
{t:a}))}},_getConnectorRightPixels:function(){var a=c.getComputedStyle(this._connectorNode);return c.toPixelValue(this._connectorNode,a.right)},_openSubsetEditor:function(){this._subsetEditorOpened=!0;var a=new r({model:this._model,readOnly:this.readOnly,onHide:function(){a.destroyRecursive();a=null},onSubmit:this.onSubmit});a.show()},_setOpenSubsetEditorButtonDisabledAttr:function(a){this._openSubsetEditorButton.set("disabled",a)},_setOpenSubsetEditorButtonVisibleAttr:function(a){this._buttonContainerNode.style.display=
a?"":"none"},destroy:function(){var a=this.getInherited(arguments),b=arguments;h(this._pendingDialogDeferred,m.hitch(this,function(){h(this._submitDeferred,m.hitch(this,function(){this._subsetEditorOpened||this._model.destroy();a.apply(this,b)}))}))}})})},"dojo/cldr/nls/number":function(){define({root:{scientificFormat:"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]",infinity:"\u221e",superscriptingExponent:"\u00d7",list:";",percentSign:"%",minusSign:"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]",
"decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"\u00a0",nan:"NaN",plusSign:"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]",currencyFormat:"\u00a4\u00a0#,##0.00",perMille:"\u2030",group:",",percentFormat:"#,##0%","decimalFormat-long":"000T",decimalFormat:"#,##0.###",decimal:".","currencySpacing-beforeCurrency-insertBetween":"\u00a0",exponential:"E"},af:!0,"af-na":!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,
"ar-eg":!0,"ar-lb":!0,"ar-ly":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-qa":!0,"ar-sa":!0,"ar-sy":!0,"ar-tn":!0,"ar-ye":!0,as:!0,asa:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,"de-ch":!0,"de-li":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,"el-cy":!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-in":!0,"en-us-posix":!0,"en-za":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,
"es-bo":!0,"es-cl":!0,"es-co":!0,"es-cr":!0,"es-ec":!0,"es-gq":!0,"es-mx":!0,"es-py":!0,"es-uy":!0,"es-ve":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ch":!0,"fr-lu":!0,ga:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,"ku-tr":!0,kw:!0,ky:!0,
lg:!0,ln:!0,lo:!0,lt:!0,lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nr:!0,nso:!0,nus:!0,nyn:!0,om:!0,or:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,rw:!0,rwk:!0,saq:!0,sbp:!0,seh:!0,ses:!0,sg:!0,sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-latn":!0,ss:!0,st:!0,sv:!0,sw:!0,
swc:!0,ta:!0,"ta-my":!0,"ta-sg":!0,te:!0,teo:!0,th:!0,ti:!0,tn:!0,to:!0,tr:!0,ts:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,ve:!0,vi:!0,vun:!0,xh:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,zu:!0})},"tm1web/subseteditor/Model":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/when ./SubsetStore ./SubsetStoreModel".split(" "),
function(l,m,k,h,f,c){return l(null,{objectId:null,dimension:null,rowIndex:null,columnIndex:null,element:null,readOnly:!1,lazyLoadDimensionSubset:!0,_sessionId:null,_subsetId:null,_dimensionId:null,_subsetStoreModel:null,_dimensionStoreModel:null,_onLoadDeferred:null,_sessionInfo:null,constructor:function(c){m.mixin(this,c);this._assertParamsValid();this._load()},_assertParamsValid:function(){if(!this.objectId)throw"No objectId was specified";if(null!=this.rowIndex){if(null==this.columnIndex)throw"A column index must be specified in addition to a row index";
if(isNaN(this.rowIndex))throw"rowIndex must be a numeric type.";}if(null!=this.columnIndex){if(null==this.rowIndex)throw"A row index must be specified in addition to a column index";if(isNaN(this.columnIndex))throw"columnIndex must be a numeric type.";}if(null==this.rowIndex&&null==this.columnIndex&&!this.dimension)throw"Either dimension or (rowIndex and columnIndex) must be specified";},_load:function(){var c=this._onLoadDeferred=new k,b=this;null!=this.rowIndex?SubsetService.createWebSheetSubsetSession(this.objectId,
null==this.sheetIndex?-1:this.sheetIndex,this.rowIndex,this.columnIndex,!this.lazyLoadDimensionSubet,{callback:function(d){b._sessionInfo=d;c.resolve();delete b._onLoadDeferred},scope:this,errorHandler:function(d){c.reject(d);delete b._onLoadDeferred}}):null!=this.element?SubsetService.createSpreadSubsetSession(this.objectId,this.dimension,this.element,!this.lazyLoadDimensionSubset,{callback:function(d){b._sessionInfo=d;c.resolve();delete b._onLoadDeferred},scope:this,errorHandler:function(d){c.reject(d);
delete b._onLoadDeferred}}):SubsetService.createCubeViewSubsetSession(this.objectId,this.dimension,!this.lazyLoadDimensionSubset,{callback:function(d){b._sessionInfo=d;c.resolve();delete b._onLoadDeferred},scope:this,errorHandler:function(d){c.reject(d);delete b._onLoadDeferred}})},_getSessionId:function(){return this._sessionInfo.sessionId},getIsAllowedUserDefinedCalculations:function(){return this._sessionInfo.allowUserDefinedCalculations},getServerName:function(){return this._sessionInfo.serverName},
getSubsetStoreModel:function(){this._assertNotDestroyed();var e=new k;this._subsetStoreModel?e.resolve(this._subsetStoreModel):h(this._onLoadDeferred,m.hitch(this,function(){this._subsetStoreModel=new c({store:new f({sessionId:this._getSessionId(),subsetId:this._sessionInfo.subsetId,_subsetInfo:this._sessionInfo.subsetInfo,sheetIndex:this.sheetIndex,objectId:this.objectId})});e.resolve(this._subsetStoreModel)}));return e.promise},getDimensionStoreModel:function(){this._assertNotDestroyed();var e=
new k;this._dimensionStoreModel?e.resolve(this._dimensionStoreModel):h(this._onLoadDeferred,m.hitch(this,function(){this._dimensionStoreModel=new c({store:new f({sessionId:this._getSessionId(),subsetId:this._sessionInfo.dimensionId,_subsetInfo:this._sessionInfo.dimensionInfo})});e.resolve(this._dimensionStoreModel)}));return e.promise},submit:function(){this._assertNotDestroyed();var c=new k,b=this;this.getSubsetStoreModel().then(function(d){h(d.store.setSelectedPromise,m.hitch(b,function(){this.readOnly?
c.resolve():SubsetService.submit(this._getSessionId(),{callback:function(){c.resolve()},scope:this,errorHandler:function(a,b){c.reject(a,b)}})}))});return c.promise},setAlias:function(c){this._assertNotDestroyed();var b=new k,d=this;h(this._onLoadDeferred,function(){SubsetService.setAlias(d._getSessionId(),c,{callback:function(a){d._sessionInfo=a;d._onChange();b.resolve()},scope:this,errorHandler:function(a,c){b.reject(a,c)}})});return b.promise},setSubset:function(c){this._assertNotDestroyed();var b=
new k,d=this;h(this._onLoadDeferred,function(){SubsetService.setNamedSubset(d._getSessionId(),c,{callback:function(a){d._sessionInfo=a;d._onChange();b.resolve()},scope:this,errorHandler:function(a,c){b.reject(a,c)}})});return b.promise},setExpandAbove:function(c){this._assertNotDestroyed();var b=new k,d=this;h(this._onLoadDeferred,function(){SubsetService.setExpandAbove(d._getSessionId(),!!c,{callback:function(a){d._sessionInfo=a;d._onChange();b.resolve()},scope:this,errorHandler:function(a,c){b.reject(a,
c)}})});return b.promise},_onChange:function(){this._subsetStoreModel&&this._sessionInfo.subsetInfo&&this._updateStoreModel(this._subsetStoreModel,this._sessionInfo.subsetInfo);this._dimensionStoreModel&&this._sessionInfo.dimensionInfo&&this._updateStoreModel(this._dimensionStoreModel,this._sessionInfo.dimensionInfo);this.onMetaDataChange(this._sessionInfo.metaData)},_updateStoreModel:function(c,b){c.store._update(b);c.store._onChange()},getMetaData:function(){this._assertNotDestroyed();var c=new k;
h(this._onLoadDeferred,m.hitch(this,function(){c.resolve(this._sessionInfo.metaData)}));return c.promise},onMetaDataChange:function(c){},saveSubset:function(){this._assertNotDestroyed();var c=new k,b=this;h(this._onLoadDeferred,function(){SubsetService.saveSubset(b._sessionInfo.sessionId,b._sessionInfo.subsetId,{callback:function(d){b._sessionInfo=d;b._onChange();c.resolve()},scope:this,errorHandler:function(b,a){alert(b);c.reject(b,a)}})});return c.promise},saveSubsetAs:function(c,b,d){this._assertNotDestroyed();
var a=new k,f=this;h(this._onLoadDeferred,function(){SubsetService.saveSubsetAs(f._sessionInfo.sessionId,f._sessionInfo.subsetId,c,b,d,{callback:function(b){f._sessionInfo=b;f._onChange();a.resolve()},scope:this,errorHandler:function(b,c){a.reject(b,c)}})});return a.promise},getLevelsCount:function(){this._assertNotDestroyed();var c=new k;h(this._onLoadDeferred,m.hitch(this,function(){c.resolve(this._sessionInfo.levelsCount)}));return c.promise},_assertNotDestroyed:function(){if(this._destroyed)throw"Model has already been destroyed.";
},destroy:function(){var c=new k;this._subsetStoreModel&&this._subsetStoreModel.destroy();this._dimensionStoreModel&&this._dimensionStoreModel.destroy();h(this._onLoadDeferred,m.hitch(this,function(){SubsetService.destroy(this.objectId,this._getSessionId(),{callback:function(){c.resolve()},scope:this,errorHandler:function(){c.cancel()}})}));this._destroyed=!0;return c.promise}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(l,m,k,h,f,c,e,b,d,a){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(c){this._set("disabled",c);k.set(this.focusNode,"disabled",c);this.valueNode&&k.set(this.valueNode,"disabled",c);this.focusNode.setAttribute("aria-disabled",c?"true":"false");c?(this._set("hovering",!1),this._set("active",
!1),c="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(f.isArray(c)?c:[c],function(g){g=this[g];b("webkit")||a.hasDefaultTabStop(g)?g.setAttribute("tabIndex","-1"):g.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var g=this.own(e(this.focusNode,"focus",function(){h.remove();g.remove()}))[0],c=b("pointer-events")?"pointerup":
b("MSPointer")?"MSPointerUp":b("touch-events")?"touchend, mouseup":"mouseup",h=this.own(e(this.ownerDocumentBody,c,f.hitch(this,function(a){h.remove();g.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){d.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=h.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){void 0!=this._lastValueReported||null!==b&&this._onChangeActive||(this._resetValue=this._lastValueReported=a);this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);(this.intermediateChanges||b||void 0===b)&&this._pendingOnChange&&(this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dojo/json":function(){define(["./has"],function(l){var m="undefined"!=typeof JSON;l.add("json-parse",
m);l.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(h,f){return f||1}));if(l("json-stringify"))return JSON;var k=function(h){return('"'+h.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:l("json-parse")?JSON.parse:function(h,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(h))throw new SyntaxError("Invalid characters in JSON");
return eval("("+h+")")},stringify:function(h,f,c){function e(d,a,n){f&&(d=f(n,d));var g;g=typeof d;if("number"==g)return isFinite(d)?d+"":"null";if("boolean"==g)return d+"";if(null===d)return"null";if("string"==typeof d)return k(d);if("function"==g||"undefined"==g)return b;if("function"==typeof d.toJSON)return e(d.toJSON(n),a,n);if(d instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,g){a=d["getUTC"+b]()+(g?1:0);return 10>a?"0"+
a:a});if(d.valueOf()!==d)return e(d.valueOf(),a,n);var h=c?a+c:"",q=c?" ":"",l=c?"\n":"";if(d instanceof Array){var q=d.length,m=[];for(n=0;n<q;n++)g=e(d[n],h,n),"string"!=typeof g&&(g="null"),m.push(l+h+g);return"["+m.join(",")+l+a+"]"}m=[];for(n in d){var t;if(d.hasOwnProperty(n)){if("number"==typeof n)t='"'+n+'"';else if("string"==typeof n)t=k(n);else continue;g=e(d[n],h,n);"string"==typeof g&&m.push(l+h+t+":"+q+g)}}return"{"+m.join(",")+l+a+"}"}var b;"string"==typeof f&&(c=f,f=null);return e(h,
"","")}}})},"dojox/uuid/generateRandomUuid":function(){define(["../main","./_base"],function(l){l.uuid.generateRandomUuid=function(){function l(){for(var c=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>c.length;)c="0"+c;return c}var k=l(),h=l(),h=h.substring(0,4)+"-4"+h.substring(5,8),f=l(),f="8"+f.substring(1,4)+"-"+f.substring(4,8),c=l();return k=(k+"-"+h+"-"+f+c).toLowerCase()};return l.uuid.generateRandomUuid})},"tm1web/websheet/controls/LinkedControlBase":function(){define(["dojo/_base/declare",
"dojo/topic","./ControlBase"],function(l,m,k){return l(k,{recalculate:function(h){null!=h?m.publish(this.objectId+"-UpdateCells",h):(m.publish(this.objectId+"-SetSheetsNeedRefresh",!0),m.publish(this.objectId+"-UpdateGrid",h))},controlAlignment:{Left:"LEFT",Right:"RIGHT"}})})},"tm1web/share/ChartContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on ../cubeview/ContextMenu ../widgets/ErrorAlert ../utility/message-localizer".split(" "),function(l,m,k,h,f,
c,e,b){return l(c,{constructor:function(b,a,c,g){this._panel=b;this.ObjectId=a;this._service=c;this._drillMap=g;this._InitializeContextMenu()},_InitializeContextMenu:function(){this.own(f(this._panel,"mouseup",m.hitch(this,"_ShowContextMenu")));this._InitializeMenuLabels()},_InitializeMenuLabels:function(){this.MenuLabels.DRILL=b.get("DRILL_STR")},_ShowContextMenu:function(b){if(2==b.button&&(b=b.target,null!=b)){var a=!1;"AREA"==b.nodeName?(this._currentArea=b,a=!0):"rect"!=b.nodeName&&"circle"!=
b.nodeName&&"path"!=b.nodeName||null==this._drillMap||(this._currentArea=this._drillMap[b.id],a=!0);a&&this._currentArea&&(this.ContextMenu=this._GenerateContextMenu(),this.ContextMenu.bindDomNode(b),this.ContextMenu.onClose=m.hitch(this,"_OnContextMenuClose"))}},_GenerateContextMenu:function(){var b=this._currentArea.drillInfo?this._currentArea.drillInfo.drillList:null,b=null==b||""==b,b=[{label:this.MenuLabels.DRILL,disabled:b,iconClass:"tm1webContextmenu_icon_drill",data:"Drill",subMenu:b?null:
this._generateDrillSubMenu()}];return this._CreateMenu(b)},_generateDrillSubMenu:function(){for(var b=this._currentArea.drillInfo.drillList.split(","),a=[],c=0;c<b.length;c++)a[c]={label:b[c],iconClass:"",data:b[c]};this._BatchAddHandler(a,this._doDrill);return this._CreateMenu(a)},_doDrill:function(b){this._service.getDrillView(this.ObjectId,this._currentArea.drillInfo.cellRow,this._currentArea.drillInfo.cellCol,b.Data,{callback:this._onDoDrill,arg:b.Data,scope:this})},_onDoDrill:function(c,a){c?
c.objectId?c.relational?k.publish(this.ObjectId+"-RelationalDrillThrough",a,c.colNames,c.gridData,c.objectId):k.publish(this.ObjectId+"-TM1WidgetIdentityCreated",{objectId:c.objectId},c.viewName):e.show({message:b.get("response"),title:b.get("DRILL_ERROR_TITLE_STR")}):e.show({message:b.get("DRILL_ERROR"),title:b.get("DRILL_ERROR_TITLE_STR")})}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(l){return l.dojox})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g){var p=m("dojo.dnd.Selector",g,{constructor:function(b,g){g||(g={});this.singular=g.singular;this.autoSync=g.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(d(this.node,a.press,h.hitch(this,"onMouseDown")),d(this.node,a.release,h.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new b,g=n._empty,c;for(c in this.selection)c in g||a.push(f.byId(c));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,b){this._addItemClass(f.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=n._empty,b;for(b in this.selection)if(!(b in a)){var g=f.byId(b);this.delItem(b);c.destroy(g)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||k.global;var g=this.selection,c=n._empty,d;for(d in g)d in c||a.call(b,this.getItem(d),d,this)},sync:function(){p.superclass.sync.call(this);
this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=n._empty,g;for(g in this.selection)g in b||this.getItem(g)||a.push(g);l.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,g,c){var d=this._normalizedCreator;this._normalizedCreator=function(b,g){var c=d.call(this,b,g);a?(this.anchor?this.anchor!=c.node&&(this._removeItemClass(c.node,"Anchor"),this._addItemClass(c.node,"Selected")):(this.anchor=c.node,this._removeItemClass(c.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[c.node.id]=1):(this._removeItemClass(c.node,"Selected"),this._removeItemClass(c.node,"Anchor"));return c};p.superclass.insertNodes.call(this,b,g,c);this._normalizedCreator=d;return this},destroy:function(){p.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!n.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,e.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){n.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var g=0,c;g<b.length&&(c=b[g],c!=this.anchor&&c!=this.current);++g);for(++g;g<b.length;++g){c=b[g];if(c==this.anchor||c==this.current)break;this._addItemClass(c,"Selected");this.selection[c.id]=
1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?n.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):n.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):
(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&
(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=d(this.node,a.move,h.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=n._empty,b;for(b in this.selection)if(!(b in a)){var g=f.byId(b);g&&this._removeItemClass(g,"Selected")}this.selection=
{};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return p})},"tm1web/websheet/SheetLeftPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ./SheetDataGrid ./Utility".split(" "),function(l,m,k,h,f,c,e,b,d){return l(e,{constructor:function(a,b,g,c,d){this.Panel=null;this._index=g;this.DataGrid=null;this._objectId=a;this._leftScrollPane=
c;this._topScrollPane=d;this._initializeSheetLeftPane(b)},_initializeSheetLeftPane:function(a){this.createContainer(a);this.own(k.subscribe(d.createTopicId(this._objectId,this._index,"LEFTSCROLLLING"),m.hitch(this,"_onLeftScroll")))},_onLeftScroll:function(a){var b=this.DataGrid.Panel,g=b.parentNode;this._columnsFullyLoaded?(b.style.left&&(b.style.left=""),g.scrollLeft=a):(g.scrollLeft=0,c.set(this.DataGrid.Panel,{left:-a+"px"}))},createContainer:function(a){this.Panel=this.CreatePanel();this.resize(a);
h.add(this.Panel,"tm1webLeftSheetPanel tm1webInlineLayout")},create:function(a){this._columnsFullyLoaded=a.columnsFullyLoaded;this.DataGrid=new b(this._objectId,this._index,this._leftScrollPane,this._topScrollPane,a.allowSpreading,a.allowConsolidateSpreading);a=this.DataGrid.create(a.leftPane);h.add(a,"tm1webLeftSheetDataPanel");f.place(a,this.Panel);return this.Panel},resize:function(a){c.set(this.Panel,{width:a.leftPanelWidth+"px"})},refresh:function(a){this._columnsFullyLoaded=a.columnsFullyLoaded;
this.DataGrid.refresh(a.leftPane)},attach:function(a){this._columnsFullyLoaded=a.columnsFullyLoaded;return this.DataGrid.attach(a.leftPane)},adjust:function(a){this.DataGrid.deleteRows(a)},destroy:function(){this.inherited(arguments);this.DataGrid.destroy()}})})},"tm1web/celledit/_CellDropDownMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/dom-class dojo/dom dojo/keys dojo/on dijit/focus ./_EditMixin".split(" "),function(l,m,k,h,f,c,e,b,d){return l("tm1web.celledit._CellDropDownMixin",
[d],{hasDropDown:!0,buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"tm1webCellDropDown");this.domNode.style.display="none"},show:function(a){var b=!!a.openDropDown,g=b&&a.focusDropDown;this.inherited(arguments);b&&(this.loadAndOpenDropDown(),g&&this._openAndHighlightDropDown())},_show:function(a){var b=!!a.openDropDown;h.toggle(this.domNode,"tm1webCellDropDownClosed",!b);h.toggle(this.domNode,"tm1webCellDropDownOpen",b);this._openDropDown=b;this.inherited(arguments);this._openDropDown=
!1;b&&(this._hasDropDownOpened=!0)},_shouldLeftAlignButton:function(){return this._activeCell.offsetParent.offsetWidth<=this._activeCell.offsetLeft+this._activeCell.offsetWidth+this._buttonNode.offsetWidth},_adjustPosition:function(){h.toggle(this._buttonNode,"tm1webCellDropDownButtonNodeLeft",this._shouldLeftAlignButton());this.inherited(arguments);var a=k.getPadBorderExtents(this.domNode).h;k.setMarginBox(this._buttonNode,{h:this._activeCell.offsetHeight-a})},_calculateWidth:function(){if(this._openDropDown){var a=
k.getPadBorderExtents(this.domNode).w;return this._activeCell.offsetWidth+this._buttonNode.offsetWidth+a-1}},_calculateOffsetLeft:function(){var a=this._activeCell,b=this.inherited(arguments);return h.contains(this._buttonNode,"tm1webCellDropDownButtonNodeLeft")?(a=k.getPadBorderExtents(this.domNode).w,b-this._buttonNode.offsetWidth-a):b+(this._openDropDown?0:a.offsetWidth-1)},onInput:function(a){switch(a.charOrCode){case c.DOWN_ARROW:if(a.altKey)return this._openAndHighlightDropDown(),this._keyNavigationDisabled=
!0,!1;case c.UP_ARROW:case c.LEFT_ARROW:case c.RIGHT_ARROW:if(this._allowKeyNavigation&&!this._keyNavigationDisabled){var b=this._activeCell;this.hide();e.emit(b,"keydown",m.mixin({},a));return!1}break;case c.ESCAPE:if(this._opened)return this._keyNavigationDisabled=!1,this.closeDropDown(),!1}return this.inherited(arguments)},_openAndHighlightDropDown:function(){},hasOpened:function(){return this._hasDropDownOpened},hide:function(){this._visible&&(this.inherited(arguments),this._hasDropDownOpened=
!1,this.closeDropDown())},toggleDropDown:function(){this._hasDropDownOpened?this._opened&&(this._keyNavigationDisabled=!1):this._show({openDropDown:!0});this.inherited(arguments)},_analyzeValue:function(){},_isPercentCell:function(){return!1}})})},"dojox/grid/_Scroller":function(){define("dijit/registry dojo/_base/declare dojo/_base/lang dojo/_base/array ./util dojo/_base/html".split(" "),function(l,m,k,h,f,c){var e=function(b){b&&h.forEach(l.toArray(),function(a){a.domNode&&c.isDescendant(a.domNode,
b,!0)&&a.destroy()})},b=function(b,a){for(var e=[],g=0,f;f=b.childNodes[g];){g++;var h=c.byId(f);(h&&h.tagName?h.tagName.toLowerCase():"")==a&&e.push(f)}return e};return m("dojox.grid._Scroller",null,{constructor:function(b){this.setContentNodes(b);this.pageHeights=[];this.pageNodes=[];this.stack=[]},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,
pageTop:0,init:function(b,a,c){switch(arguments.length){case 3:this.rowsPerPage=c;case 2:this.keepRows=a;case 1:this.rowCount=b}this.defaultPageHeight=(0<this.grid.rowHeight?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();this.scrollboxNode&&(this.scrollboxNode.scrollTop=0,this.scroll(0),this.scrollboxNode.onscroll=k.hitch(this,"onscroll"))},_getPageCount:function(b,a){return b?
Math.ceil(b/a)||1:0},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode},setKeepInfo:function(b){this.keepPages=(this.keepRows=b)?Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2):this.keepPages},setContentNodes:function(b){this.colCount=(this.contentNodes=b)?this.contentNodes.length:0;this.pageNodes=[];for(b=0;b<this.colCount;b++)this.pageNodes[b]=[]},getDefaultNodes:function(){return this.pageNodes[0]||[]},invalidate:function(){this._invalidating=
!0;this.invalidateNodes();this.pageHeights=[];this.height=this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0;this.resize();this._invalidating=!1},updateRowCount:function(b){this.invalidateNodes();this.rowCount=b;b=this.pageCount;0===b&&(this.height=1);this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<b)for(--b;b>=this.pageCount;b--)this.height-=this.getPageHeight(b),delete this.pageHeights[b];else this.pageCount>b&&(this.height+=
this.defaultPageHeight*(this.pageCount-b-1)+this.calcLastPageHeight());this.resize()},pageExists:function(b){return Boolean(this.getDefaultPageNode(b))},measurePage:function(b){return this.grid.rowHeight?((b+1)*this.rowsPerPage>this.rowCount?this.rowCount-b*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight:(b=this.getDefaultPageNode(b))&&b.innerHTML?b.offsetHeight:void 0},positionPage:function(b,a){for(var c=0;c<this.colCount;c++)this.pageNodes[c][b].style.top=a+"px"},repositionPages:function(b){for(var a=
this.getDefaultNodes(),c=0,g=0;g<this.stack.length;g++)c=Math.max(this.stack[g],c);var e=(g=a[b])?this.getPageNodePosition(g)+this.getPageHeight(b):0;for(b+=1;b<=c;b++){if(g=a[b]){if(this.getPageNodePosition(g)==e)break;this.positionPage(b,e)}e+=this.getPageHeight(b)}},installPage:function(b){for(var a=0;a<this.colCount;a++)this.contentNodes[a].appendChild(this.pageNodes[a][b])},preparePage:function(b,a){for(var c=a?this.popPage():null,g=0;g<this.colCount;g++){var e=this.pageNodes[g],f=null===c?this.createPageNode():
this.invalidatePageNode(c,e);f.pageIndex=b;e[b]=f}},renderPage:function(b){var a=[],c;for(c=0;c<this.colCount;c++)a[c]=this.pageNodes[c][b];c=0;for(b*=this.rowsPerPage;c<this.rowsPerPage&&b<this.rowCount;c++,b++)this.renderRow(b,a)},removePage:function(b){var a=0;for(b*=this.rowsPerPage;a<this.rowsPerPage;a++,b++)this.removeRow(b)},destroyPage:function(b){for(var a=0;a<this.colCount;a++){var e=this.invalidatePageNode(b,this.pageNodes[a]);e&&c.destroy(e)}},pacify:function(b){},pacifying:!1,pacifyTicks:200,
setPacifying:function(b){this.pacifying!=b&&(this.pacifying=b,this.pacify(this.pacifying))},startPacify:function(){this.startPacifyTicks=(new Date).getTime()},doPacify:function(){var b=(new Date).getTime()-this.startPacifyTicks>this.pacifyTicks;this.setPacifying(!0);this.startPacify();return b},endPacify:function(){this.setPacifying(!1)},resize:function(){this.scrollboxNode&&(this.windowHeight=this.scrollboxNode.clientHeight);for(var b=0;b<this.colCount;b++)f.setStyleHeightPx(this.contentNodes[b],
Math.max(1,this.height));b=!this._invalidating;if(!b){var a=this.grid.get("autoHeight");"number"==typeof a&&a<=Math.min(this.rowsPerPage,this.rowCount)&&(b=!0)}b&&this.needPage(this.page,this.pageTop);b=this.page<this.pageCount-1?this.rowsPerPage:this.rowCount%this.rowsPerPage||this.rowsPerPage;a=this.getPageHeight(this.page);this.averageRowHeight=0<a&&0<b?a/b:0},calcLastPageHeight:function(){if(!this.pageCount)return 0;var b=(this.rowCount%this.rowsPerPage||this.rowsPerPage)*this.defaultRowHeight;
return this.pageHeights[this.pageCount-1]=b},updateContentHeight:function(b){this.height+=b;this.resize()},updatePageHeight:function(b,a,c){if(this.pageExists(b)){var g=this.getPageHeight(b),e=this.measurePage(b);void 0===e&&(e=g);this.pageHeights[b]=e;if(g!=e){this.updateContentHeight(e-g);var f=this.grid.get("autoHeight");"number"==typeof f&&f>this.rowCount||!0===f&&!a?c?(a=this.grid.viewsNode.style,a.height=parseInt(a.height)+e-g+"px",this.repositionPages(b)):this.grid.sizeChange():this.repositionPages(b)}return e}return 0},
rowHeightChanged:function(b,a){this.updatePageHeight(Math.floor(b/this.rowsPerPage),!1,a)},invalidateNodes:function(){for(;this.stack.length;)this.destroyPage(this.popPage())},createPageNode:function(){var b=document.createElement("div");c.attr(b,"role","presentation");b.style.position="absolute";b.style[this.grid.isLeftToRight()?"left":"right"]="0";return b},getPageHeight:function(b){b=this.pageHeights[b];return void 0!==b?b:this.defaultPageHeight},pushPage:function(b){return this.stack.push(b)},
popPage:function(){return this.stack.shift()},findPage:function(b){for(var a=0,c=0,g=0;a<this.pageCount&&!(g=this.getPageHeight(a),c+g>=b);a++,c+=g);this.page=a;this.pageTop=c},buildPage:function(b,a,c){this.preparePage(b,a);this.positionPage(b,c);this.installPage(b);this.renderPage(b);this.pushPage(b)},needPage:function(b,a){var c=this.getPageHeight(b);this.pageExists(b)?this.positionPage(b,a):(this.buildPage(b,!this.grid._autoHeight&&this.keepPages&&this.stack.length>=this.keepPages,a),c=this.updatePageHeight(b,
!0));return c},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop)},scroll:function(b){this.grid.scrollTop=b;if(this.colCount){this.startPacify();this.findPage(b);for(var a=this.height,c=this.getScrollBottom(b),g=this.page,e=this.pageTop;g<this.pageCount&&(0>c||e<c);g++)e+=this.needPage(g,e);this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,b);this.lastVisibleRow=this.getLastVisibleRow(g-1,e,c);a!=this.height&&this.repositionPages(g-1);this.endPacify()}},getScrollBottom:function(b){return 0<=
this.windowHeight?b+this.windowHeight:-1},processNodeEvent:function(b,a){for(var c=b.target;c&&c!=a&&c.parentNode&&c.parentNode.parentNode!=a;)c=c.parentNode;if(!c||!c.parentNode||c.parentNode.parentNode!=a)return!1;b.topRowIndex=c.parentNode.pageIndex*this.rowsPerPage;var g=b.topRowIndex,e;a:{e=0;for(var f,h=c.parentNode;f=h.childNodes[e++];)if(f==c){--e;break a}e=-1}b.rowIndex=g+e;b.rowTarget=c;return!0},processEvent:function(b){return this.processNodeEvent(b,this.contentNode)},renderRow:function(b,
a){},removeRow:function(b){},getDefaultPageNode:function(b){return this.getDefaultNodes()[b]},positionPageNode:function(b,a){},getPageNodePosition:function(b){return b.offsetTop},invalidatePageNode:function(b,a){var c=a[b];c&&(delete a[b],this.removePage(b,c),e(c),c.innerHTML="");return c},getPageRow:function(b){return b*this.rowsPerPage},getLastPageRow:function(b){return Math.min(this.rowCount,this.getPageRow(b+1))-1},getFirstVisibleRow:function(c,a,e){if(!this.pageExists(c))return 0;var g=this.getPageRow(c),
f=this.getDefaultNodes();c=b(f[c],"div");for(var f=0,h=c.length;f<h&&a<e;f++,g++)a+=c[f].offsetHeight;return g?g-1:g},getLastVisibleRow:function(c,a,e){if(!this.pageExists(c))return 0;var g=this.getDefaultNodes(),f=this.getLastPageRow(c);c=b(g[c],"div");for(g=c.length-1;0<=g&&a>e;g--,f--)a-=c[g].offsetHeight;return f+1},findTopRow:function(c){for(var a=this.getDefaultNodes(),a=b(a[this.page],"div"),e=0,g=a.length,f=this.pageTop,h;e<g;e++)if(h=a[e].offsetHeight,f+=h,f>=c)return this.offset=h-(f-c),
e+this.page*this.rowsPerPage;return-1},findScrollTop:function(c){var a=Math.floor(c/this.rowsPerPage),e=0,g;for(g=0;g<a;g++)e+=this.getPageHeight(g);this.pageTop=e;this.page=a;this.needPage(a,this.pageTop);g=this.getDefaultNodes();var f=b(g[a],"div"),a=c-this.rowsPerPage*a;g=0;for(c=f.length;g<c&&g<a;g++)e+=f[g].offsetHeight;return e},dummy:0})})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(l,m,k,h){var f=l.Color=function(c){c&&this.setColor(c)};f.named=
{black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:h.transparentColor||[0,0,0,0]};m.extend(f,{r:255,g:255,b:255,a:1,_set:function(c,e,b,d){this.r=c;this.g=e;this.b=b;this.a=d},setColor:function(c){m.isString(c)?f.fromString(c,this):m.isArray(c)?f.fromArray(c,this):
(this._set(c.r,c.g,c.b,c.a),c instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(c){c=this[c].toString(16);return 2>c.length?"0"+c:c},this).join("")},toCss:function(c){var e=this.r+", "+this.g+", "+this.b;return(c?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=l.blendColors=
function(c,e,b,d){var a=d||new f;k.forEach(["r","g","b","a"],function(d){a[d]=c[d]+(e[d]-c[d])*b;"a"!=d&&(a[d]=Math.round(a[d]))});return a.sanitize()};f.fromRgb=l.colorFromRgb=function(c,e){var b=c.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return b&&f.fromArray(b[1].split(/\s*,\s*/),e)};f.fromHex=l.colorFromHex=function(c,e){var b=e||new f,d=4==c.length?4:8,a=(1<<d)-1;c=Number("0x"+c.substr(1));if(isNaN(c))return null;k.forEach(["b","g","r"],function(e){var g=c&a;c>>=d;b[e]=4==d?17*g:g});b.a=
1;return b};f.fromArray=l.colorFromArray=function(c,e){var b=e||new f;b._set(Number(c[0]),Number(c[1]),Number(c[2]),Number(c[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};f.fromString=l.colorFromString=function(c,e){var b=f.named[c];return b&&f.fromArray(b,e)||f.fromRgb(c,e)||f.fromHex(c,e)};return f})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){k.isAsync||
a(0,function(){n(["./fx/Toggler"])});k=k.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var g=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;h.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};g.prototype=new m;l.extend(g,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();
this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=f.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0),this._onEndCtx=f.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=f.after(this._current,"beforeBegin",
l.hitch(this,function(){this._fire("beforeBegin")}),!0),g=f.after(this._current,"onBegin",l.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),d=f.after(this._current,"onPlay",l.hitch(this,function(a){this._fire("onPlay",arguments);c.remove();g.remove();d.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=f.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=f.after(this._current,"onEnd",l.hitch(this,
"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=f.after(this._current,"onPause",l.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;h.some(this._animations,function(a,b){if(c<=a.duration)return this._current=a,this._index=b,!0;c-=a.duration;return!1},this);this._current&&this._current.gotoPercent(c/
this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=f.after(this._current,"onStop",l.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&
this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});l.extend(g,a);k.chain=function(a){return new g(a)};var p=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;h.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(f.after(a,"onEnd",l.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var b=this;h.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),
function(a){b._connects.push(f.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};l.extend(p,{_doAction:function(a,b){h.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",
arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;h.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();h.forEach(this._connects,function(a){a.remove()})}});l.extend(p,a);k.combine=function(a){return new p(a)};
k.wipeIn=function(a){var g=a.node=e.byId(a.node),d=g.style,h;a=c.animateProperty(l.mixin({properties:{height:{start:function(){h=d.overflow;d.overflow="hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var a=b.get(g,"height");return Math.max(a,1)},end:function(){return g.scrollHeight}}}},a));var n=function(){d.height="auto";d.overflow=h};f.after(a,"onStop",n,!0);f.after(a,"onEnd",n,!0);return a};k.wipeOut=function(a){var b=(a.node=e.byId(a.node)).style,
g;a=c.animateProperty(l.mixin({properties:{height:{end:1}}},a));f.after(a,"beforeBegin",function(){g=b.overflow;b.overflow="hidden";b.display=""},!0);var d=function(){b.overflow=g;b.height="auto";b.display="none"};f.after(a,"onStop",d,!0);f.after(a,"onEnd",d,!0);return a};k.slideTo=function(a){var g=null,h=null,n=function(a){return function(){var c=b.getComputedStyle(a),e=c.position;g="absolute"==e?a.offsetTop:parseInt(c.top)||0;h="absolute"==e?a.offsetLeft:parseInt(c.left)||0;"absolute"!=e&&"relative"!=
e&&(c=d.position(a,!0),g=c.y,h=c.x,a.style.position="absolute",a.style.top=g+"px",a.style.left=h+"px")}}(a.node=e.byId(a.node));n();a=c.animateProperty(l.mixin({properties:{top:a.top||0,left:a.left||0}},a));f.after(a,"beforeBegin",n,!0);return a};return k})},"tm1web/subseteditor/SubsetEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/array dojo/promise/all dojo/Deferred dojo/sniff dojo/dom-construct dojo/dom-geometry dojo/dom-class dojo/dom dojo/on dojo/aspect dojo/keys dijit/registry dijit/focus dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dojo/text!./templates/SubsetEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojox/html/entities dojox/layout/ResizeHandle dojox/layout/ToggleSplitter ../utility/message-localizer ../utility/dom ../widgets/_MaximizeableDialogMixin ./TopToolbar ./BottomToolbar ./Model ./TreePane ./SubsetTree ./DimensionTree ./TreePaneHeader ../widgets/WarningOptionsDialog".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A,y,B,E,G,I,N,O,H,K,P,D,C,F,S){return l("tm1web.subseteditor.SubsetEditor",[t,z,A,N],{model:null,baseClass:"tm1webSubsetEditor",templateString:v,_lastSelected:"",_topToolbar:null,_topToolbarNode:null,_bottomToolbar:null,_bottomToolbarNode:null,_treeContainer:null,_submitButton:null,_cancelButton:null,_submitButtonLabel:G.get("OK_STR"),_cancelButtonLabel:G.get("CANCEL_STR"),_elasticScroll:!1,constructor:function(a){a.model||(this.model=new K({objectId:a.objectId,
dimension:a.dimension,rowIndex:a.rowIndex,columnIndex:a.columnIndex,element:a.element,readOnly:a.readOnly,lazyLoadDimensionSubset:!1}));this._loadDeferred=new c},buildRendering:function(){this.inherited(arguments);this._treeContainer.set("_splitterClass",E)},postCreate:function(){this.inherited(arguments);this._resizeHandle=(new B({targetId:this.id,activeResize:!0,minWidth:400,minHeight:185})).placeAt(this.domNode);var a=this,b=this.model,g=this._treeContainer,d=this._loadDeferred;b.getDimensionStoreModel().then(function(e){b.getSubsetStoreModel().then(function(h){var n=
new c,p=new c;f([n,p]).then(function(){d.resolve()});var k=a._dimensionTree=new P({region:"left",splitter:!0,style:{width:"49%"},Tree:C,model:e,onLoad:function(){n.resolve()}}),l=new F({model:b,getLabel:function(a){return G.get("AVAILABLE_ELEMENTS_HEADER",b.dimension)}});k.addChild(l);var l=a._subsetTree=new P({region:"center",model:h,dimensionTree:k.get("tree"),onLoad:function(){p.resolve()}}),q=new F({model:b,subsetModel:h,getLabel:function(a){a=a.selectedSubset;var c=a.name;c?a.isPublic||(c=G.get("SUBSET_PRIVATE_STR",
c)):c=G.get("UNNAMED_PARENS");return G.get("SUBSET_HEADER",b.dimension,c)+(this.get("subsetModified")?" *":"")},onMetaDataChange:function(b){this.inherited("onMetaDataChange",arguments);a.set("title",a._getTitleText(b))}});l.addChild(q);l.on("select",function(b){a._lastSelected=b.get("label");a._lastSelectedIndex=h.getElementIndex(b.get("item"))});a._addContents();g.addChild(k);g.addChild(l);a._attachEventListeners()})})},_getTitleText:function(a){var b=a.selectedSubset;a=(a=b.name)?b.isPublic?G.get("SUBSET_PUBLIC_STR",
a):G.get("SUBSET_PRIVATE_STR",a):G.get("UNNAMED_PARENS");b=y.encode(G.get("SUBSET_EDITOR_TITLE"));a=y.encode(G.get("SUBSET_EDITOR_SUBTITLE",this.model.getServerName(),this.model.dimension,a));return b+"\x3cspan class\x3d'tm1webSubsetEditorTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webSubsetEditorSubtitle'\x3e"+a+"\x3c/span\x3e"},_addContents:function(){this._topToolbar=new O({model:this.model,subsetTree:this._subsetTree,dimensionTree:this._dimensionTree},this._topToolbarNode);this._bottomToolbar=
new H({model:this.model,subsetTree:this._subsetTree,dimensionTree:this._dimensionTree},this._bottomToolbarNode)},_attachEventListeners:function(){this.own(g(document.documentElement,"keydown",m.hitch(this,"_onKeyDown")));var a=this;this.own(p.around(this._bottomToolbar,"_toggleFind",function(b){return function(){var c=a._bottomToolbar.findBar.domNode,g=c.offsetHeight,d=a._treeContainer,e=d.domNode,e={w:e.offsetWidth,h:e.offsetHeight};b.apply(this,arguments);e.h+=g-c.offsetHeight;d.resize(e)}}));this.own(p.after(this._dimensionTree,
"onFocus",m.hitch(this,"_setDimensionTreeActive")));this.own(p.after(this._subsetTree,"onFocus",m.hitch(this,"_setSubsetTreeActive")))},_onKeyDown:function(a){function b(a,g){return g&&n.isDescendant(a,c._dimensionTree.domNode)||n.isDescendant(a,c._subsetTree.domNode)?!0:!1}var c=this;e("mac")&&a.metaKey||!e("mac")&&a.ctrlKey?"F"===String.fromCharCode(a.keyCode)?(this._bottomToolbar.toggleFind(),k.stop(a)):"C"===String.fromCharCode(a.keyCode)&&b(a.target,!0)?(this._topToolbar.copy(),k.stop(a)):"V"===
String.fromCharCode(a.keyCode)&&b(a.target)&&(this._topToolbar.paste(),k.stop(a)):a.keyCode===q.DELETE&&b(a.target,!0)&&(this._topToolbar._deleteSelectedElements(),k.stop(a))},_setDimensionTreeActive:function(){a.remove(this._dimensionTree.domNode,"tm1webTreePaneInactive");a.add(this._subsetTree.domNode,"tm1webTreePaneInactive");this._subsetTree.get("tree").clearFound()},_setSubsetTreeActive:function(){a.remove(this._subsetTree.domNode,"tm1webTreePaneInactive");a.add(this._dimensionTree.domNode,"tm1webTreePaneInactive");
this._dimensionTree.get("tree").clearFound()},show:function(){var a=this.getInherited(arguments),b=arguments,g=this,d=new c;this._loadDeferred.then(function(){a.apply(g,b).then(function(){s.focus(g._subsetTree.domNode);d.resolve()})});return d},_layoutChildren:function(){this.inherited(arguments);if(!this._isElasticScroll()){var a=this._treeContainer,b=this.containerNode,c=I.getContentBox(b);h.forEach(b.children,function(b){b!==a.domNode&&(c.h-=d.getMarginBox(b).h)});a.resize(c)}},_isElasticScroll:function(){if(e("mobile-device")){if(0!=
d.docScroll().y)return this._elasticScroll=!0;if(1==this._elasticScroll)return this._elasticScroll=!1,!0}return!1},execute:function(){if(this.readOnly){var a=new c;a.resolve();return a.promise}return this.model.submit()},_onSubmit:function(){var a=this,b=function(){a.execute().then(function(){a.onExecute();a.onSubmit(a._lastSelected,a._lastSelectedIndex,a._lastSelectedSubset,a._lastSelectedAlias)})};this.model.getMetaData().then(function(c){a._subsetTree.get("model").getMetaData(function(g){a._lastSelectedSubset=
c.selectedSubset.name;a._lastSelectedAlias=c.selectedAlias;c.selectedSubset.dynamic&&g.modified?S.show({message:G.get("DYNAMIC_SUBSET_MODIFIED")+"\n"+G.get("USE_STATIC_SUBSET"),okButtonLabel:G.get("SUBSET_WARNING_OK_STR"),cancelButtonLabel:G.get("CANCEL_STR"),title:G.get("SUBSET_WARNING_TITLE_STR"),onExecute:function(){b()}}):b()})})},onSubmit:function(){},destroy:function(){this.inherited(arguments);this.model.destroy();this._resizeHandle.destroyRecursive()}})})},"tm1web/on/mousewheel":function(){define(["dojo/sniff",
"dojo/on"],function(l,m){var k=function(){return l("mozilla")?"DOMMouseScroll":"mousewheel"};return{call:function(h,f,c){return m(f,k(),c)},toString:k}})},"tm1web/websheet/celledit/ValueSaver":function(){define(["dojo/_base/declare","../../celledit/ValueSaver","./_ValueSaverMixin"],function(l,m,k){return l([m,k])})},"tm1web/utility/clipboard":function(){define(["dojo/sniff","dojo/Deferred","dojo/on","../widgets/InfoAlert","./message-localizer"],function(l,m,k,h,f){var c=!1,e=null;return{get:function(b){if(window.clipboardData&&
!c){var d=window.clipboardData.getData("Text");if(null!=d&&window.clipboardData.setData("Text",d))return d;if(null===d)return null}if(l("chrome")||l("ff")){var a=new m,d=new CustomEvent("tm1webPaste",{bubbles:!1,cancelable:!0});if(!document.documentElement.dispatchEvent(d)){var n=k(document.documentElement,"tm1webPasteResponse"+d.timeStamp,function(b){n.remove();a.resolve(b.detail.value)});return a.promise}}b&&!c&&(b=f.get("PASTE_CLIPBOARD_OFF_STR")+"\n"+f.get("LOCAL_DATA_USED_STR"),h.show({message:b,
title:f.get("PASTE_CLIPBOARD_OFF_TITLE_STR")}),c=!0);return e},set:function(b){if(!window.clipboardData||!window.clipboardData.setData("Text",b)){if(l("chrome")||l("ff")){var d=new CustomEvent("tm1webCopy",{bubbles:!1,cancelable:!0,detail:{value:b}});if(!document.documentElement.dispatchEvent(d))return!0}c||(d=f.get("COPY_CLIPBOARD_OFF_STR")+"\n"+f.get("LOCAL_DATA_USED_STR"),h.show({message:d,title:f.get("COPY_CLIPBOARD_OFF_TITLE_STR")}),c=!0);e=b;return!0}}}})},"dojo/Deferred":function(){define(["./has",
"./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(l,m,k,h,f){var c=Object.freeze||function(){},e=function(a,c,d,e,f){2===c&&n.instrumentRejected&&0===a.length&&n.instrumentRejected(d,!1,e,f);for(f=0;f<a.length;f++)b(a[f],c,d,e)},b=function(b,c,e,f){var h=b[c],k=b.deferred;if(h)try{var l=h(e);if(0===c)"undefined"!==typeof l&&a(k,c,l);else{if(l&&"function"===typeof l.then){b.cancel=l.cancel;l.then(d(k,1),d(k,2),d(k,0));return}a(k,1,l)}}catch(m){a(k,2,m)}else a(k,
c,e);2===c&&n.instrumentRejected&&n.instrumentRejected(e,!!h,f,k.promise)},d=function(b,c){return function(d){a(b,c,d)}},a=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},n=function(a){var d=this.promise=new h,f=this,l,m,t,u=!1,x=[];Error.captureStackTrace&&(Error.captureStackTrace(f,n),Error.captureStackTrace(d,n));this.isResolved=d.isResolved=function(){return 1===l};this.isRejected=d.isRejected=function(){return 2===l};this.isFulfilled=
d.isFulfilled=function(){return!!l};this.isCanceled=d.isCanceled=function(){return u};this.progress=function(a,b){if(l){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}e(x,0,a,null,f);return d};this.resolve=function(a,b){if(l){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}e(x,l=1,m=a,null,f);x=null;return d};var w=this.reject=function(a,b){if(l){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}Error.captureStackTrace&&
Error.captureStackTrace(t={},w);e(x,l=2,m=a,t,f);x=null;return d};this.then=d.then=function(a,c,g){var e=[g,a,c];e.cancel=d.cancel;e.deferred=new n(function(a){return e.cancel&&e.cancel(a)});l&&!x?b(e,l,m,t):x.push(e);return e.deferred.promise};this.cancel=d.cancel=function(b,c){if(!l){if(a){var d=a(b);b="undefined"===typeof d?b:d}u=!0;if(!l)return"undefined"===typeof b&&(b=new k),w(b),b;if(2===l&&m===b)return b}else if(!0===c)throw Error("This deferred has already been fulfilled.");};c(d)};n.prototype.toString=
function(){return"[object Deferred]"};f&&f(n);return n})},"tm1web/share/AddAnnotationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/dom-class dojo/dom-construct dijit/Dialog dijit/form/Button dijit/form/SimpleTextarea ../utility/message-localizer ../widgets/AlertDialog ./Base ./service-loader!TM1PlanningService".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p){return l(g,{constructor:function(a,b,c,g){this._objectId=a;this._cell=b;this._dataGrid=c;this._service=
g;this._textArea=this._dialog=null;this._initializeAddAnnoationDialog()},_initializeAddAnnoationDialog:function(){this._dialog=new e({title:a.get("ADD_COMMENT_TITLE_STR")});f.add(this._dialog.domNode,"tm1webAddAnnotationDialog tm1webFormDialog");this._addContent();this._addEvents()},_addContent:function(){this._textArea=new d({intermediateChanges:!0});c.place(this._textArea.domNode,this._dialog.domNode);f.add(this._textArea.domNode,"tm1webAddAnnotationDialogTextArea");this._addButtons();h.after(this._textArea,
"onChange",m.hitch(this,function(){this._okButton.set("disabled",0==this._textArea.displayedValue.trim().length)}),!0)},_addButtons:function(){var b=document.createElement("div");c.place(b,this._dialog.domNode);f.add(b,"tm1webDialogButtons");this._okButton=this._createButton(a.get("OK_STR"),b,this._onOk,"tm1WebBtnPrimary");this._okButton.set("disabled",!0);f.add(this._okButton,"tm1WebBtnPrimary");this._cancelButton=this._createButton(a.get("CANCEL_STR"),b,this.close,"tm1webBtnSecondary");f.add(this._cancelButton,
"tm1webBtnSecondary")},_createButton:function(a,g,d,e){a=new b({label:a,onClick:m.hitch(this,d)});f.add(a.domNode,"tm1webButton "+e);c.place(a.domNode,g);return a},_addEvents:function(){this.own(h.after(this._dialog,"onHide",m.hitch(this,"destroy")))},_onOk:function(){var b=this._textArea.displayedValue.trim(),c=this._cell.cellInfo;window.appId?p.addCellAnnotation(appId,nodeId,nodeViewIndex,this._objectId,c.rowIndex,c.colIndex,b,{callback:this._onAddAnnotation,scope:this}):this._dataGrid.model?this._dataGrid.model.addCellAnnotation(c.rowIndex,
c.colIndex,b).otherwise(function(b){n.show({message:a.get("SRV_ERR_STR")})}):this._service.addCellAnnotation(this._objectId,c.rowIndex,c.colIndex,b,{callback:this._onAddAnnotation,scope:this});this.close()},_onAddAnnotation:function(a){a?this._dataGrid.model?this._dataGrid.model.recalculate():this._service.recalculate(this._objectId,{callback:this._onRecalculate,scope:this}):delete this._objectId;delete this._service},_onRecalculate:function(a){k.publish(this._objectId+"-UnsavedDataStateChanged",
!1);k.publish(this._objectId+"-SetSheetsNeedRefresh",!0);k.publish(this._objectId+"-UpdateGrid",a);delete this._objectId},show:function(){this._dialog.show()},close:function(){this._dialog.hide()},destroy:function(){this.inherited(arguments);this._dialog.destroyRecursive();delete this._cell;delete this._dialog;delete this._textArea}})})},"tm1web/subseteditor/SubsetStoreModel":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/aspect dijit/tree/ForestStoreModel ./ElementType".split(" "),
function(l,m,k,h,f,c){return l(f,{query:"root",childrenAttrs:["children"],deferItemLoadingUntilExpand:!0,constructor:function(){this.root.id||(this.root.id=this.rootId);this.root.label||(this.root.label=this.rootLabel);this.connects.push(h.after(this.store,"onFetch",k.hitch(this,"onFetch"),!0));this.connects.push(h.after(this.store,"onMetaDataChange",k.hitch(this,"onMetaDataChange"),!0));this.connects.push(h.after(this.store,"onFind",k.hitch(this,"onFind"),!0))},areEqual:function(c,b){return this.getIdentity(c)===
this.getIdentity(b)&&c.name===b.name},mayHaveChildren:function(e){return e.root||e.type===c.Consolidated},removeChildren:function(c,b,d){this.store.isItemLoaded(c)?this.store.unloadItem({item:c,onItem:b,onError:d}):b(c.children)},setCurrentPage:function(c,b,d){this.store.setCurrentPage({page:c,onComplete:b,onError:d})},isItemLoaded:function(c){return this.store.isItemLoaded(c)},isSelected:function(c){return this.store.isSelected(c)},getSelected:function(){return this.store.getSelected()},setSelected:function(c,
b){c&&this.store.setSelected(c,b)},newItem:function(c,b,d){this.newItems([c],b,d)},newItems:function(c,b,d){var a=b;this.getIdentity(b)==this.getIdentity(this.root)&&(a={id:-1});this.store.newItems(c,{parent:a,insertIndex:null!=d?d:-1})},pasteItem:function(c,b,d,a,f){this.pasteItems([c],b,d,a,f)},pasteItems:function(c,b,d,a,f){b=d;this.getIdentity(d)==this.getIdentity(this.root)&&(b={id:-1});this.store.pasteItems({items:c,copy:a},{parent:b,insertIndex:null!=f?f:-1})},getMetaData:function(c){this.store.getMetaData({onComplete:c})},
getAttributeNames:function(c,b){this.store.getAttributeNames({onComplete:c,onError:b})},getAttributeValues:function(c,b,d){this.store.getAttributeValues({attribute:c,onComplete:b,onError:d})},_find:function(c,b,d){this.store.find({pattern:c,startIndex:b,direction:d})},find:function(c,b){this._find(c,b,"current")},findNext:function(c,b){this._find(c,b,"next")},findPrevious:function(c,b){this._find(c,b,"prev")},sort:function(c){this.store.sort(c)},expandSelectedConsolidations:function(c){this.store.expandSelectedConsolidations(c)},
expandAll:function(){this.store.expandAll()},collapseSelectedConsolidations:function(){this.store.collapseSelectedConsolidations()},collapseAll:function(){this.store.collapseAll()},onFetch:function(c){this.root.children=c},onMetaDataChange:function(c){},onFind:function(c,b,d,a){},hasSelectedItems:function(){return this.store.hasSelectedItems()},reloadSubset:function(){this.store.reloadSubset()},subsetAll:function(){this.store.subsetAll()},cut:function(){this.store.cut()},copy:function(){this.store.copy()},
paste:function(c){this.store.paste(c)},pasteAbove:function(c){this.store.pasteAbove(c)},pasteBelow:function(c){this.store.pasteBelow(c)},filterByLevel:function(c,b,d){this.store.filterByLevel({levels:c,onComplete:b,onError:d})},filterByAttribute:function(c,b,d,a){this.store.filterByAttribute({attributeName:c,attributeValue:b,onComplete:d,onError:a})},filterByExpression:function(c,b,d){this.store.filterByExpression({expression:c,onComplete:b,onError:d})},keepSelectedElements:function(){this.store.keepSelectedElements()},
deleteSelectedElements:function(){this.store.deleteSelectedElements()},insertParentsOfSelectedElements:function(){this.store.insertParentsOfSelectedElements()},createConsolidationFromSubset:function(c,b,d){this.store.createConsolidationFromSubset({namedSubsetId:c,onComplete:b,onError:d})},createConsolidationFromSelectedElements:function(c,b){this.store.createConsolidationFromSelectedElements({onComplete:c,onError:b})},getElementIndex:function(c){return this.store.getElementIndex(c)}})})},"dojo/data/util/sorter":function(){define(["../../_base/kernel",
"../../_base/lang"],function(l,m){var k={};m.setObject("data.util.sorter",k,l);k.basicComparator=function(h,f){var c=-1;null===h&&(h=void 0);null===f&&(f=void 0);if(h==f)c=0;else if(h>f||null==h)c=1;return c};k.createSortFunction=function(h,f){function c(a,b,c,g){return function(d,e){var f=g.getValue(d,a),h=g.getValue(e,a);return b*c(f,h)}}for(var e=[],b,d=f.comparatorMap,a=k.basicComparator,n=0;n<h.length;n++){b=h[n];var g=b.attribute;if(g){b=b.descending?-1:1;var p=a;d&&("string"!==typeof g&&"toString"in
g&&(g=g.toString()),p=d[g]||a);e.push(c(g,b,p,f))}}return function(a,b){for(var c=0;c<e.length;){var g=e[c++](a,b);if(0!==g)return g}return 0}};return k})},"tm1web/utility/event":function(){define(["dojo/sniff"],function(l){return{isCopyKeyDown:function(m){return m.altKey||m.shiftKey?!1:l("mac")?m.metaKey&&!m.ctrlKey:m.ctrlKey&&!m.metaKey},isModifierKeyDown:function(l,k){return l.ctrlKey||l.metaKey||l.altKey||l.shiftKey&&!k}}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(l,
m){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var h={};l("ie")?h.byId=function(c,e){if("string"!=typeof c)return c;var b=e||m.doc,d=c&&b.getElementById(c);if(!d||d.attributes.id.value!=c&&d.id!=c){b=b.all[c];if(!b||b.nodeName)b=[b];for(var a=0;d=b[a++];)if(d.attributes&&d.attributes.id&&d.attributes.id.value==c||d.id==c)return d}else return d}:h.byId=function(c,e){return("string"==typeof c?(e||m.doc).getElementById(c):c)||null};h.isDescendant=function(c,e){try{for(c=
h.byId(c),e=h.byId(e);c;){if(c==e)return!0;c=c.parentNode}}catch(b){}return!1};l.add("css-user-select",function(c,e,b){if(!b)return!1;c=b.style;e=["Khtml","O","Moz","Webkit"];b=e.length;var d="userSelect";do if("undefined"!==typeof c[d])return d;while(b--&&(d=e[b]+"UserSelect"));return!1});var f=l("css-user-select");h.setSelectable=f?function(c,e){h.byId(c).style[f]=e?"":"none"}:function(c,e){c=h.byId(c);var b=c.getElementsByTagName("*"),d=b.length;if(e)for(c.removeAttribute("unselectable");d--;)b[d].removeAttribute("unselectable");
else for(c.setAttribute("unselectable","on");d--;)b[d].setAttribute("unselectable","on")};return h})},"dojo/window":function(){define("./_base/kernel ./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(l,m,k,h,f,c,e,b){k.add("rtl-adjust-position-for-verticalScrollBar",function(a,d){var g=h.body(d),e=b.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",
height:"64px"}},g,"last"),f=b.create("div",{style:{overflow:"hidden",direction:"ltr"}},e,"last"),k=0!=c.position(f).x;e.removeChild(f);g.removeChild(e);return k});k.add("position-fixed-support",function(a,d){var g=h.body(d),e=b.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},g,"last"),f=b.create("span",{style:{position:"fixed",left:"0",top:"0"}},e,"last"),k=c.position(f).x!=c.position(e).x;e.removeChild(f);g.removeChild(e);return k});var d={getBox:function(a){a=a||
h.doc;var b="BackCompat"==a.compatMode?h.body(a):a.documentElement,g=c.docScroll(a);if(k("touch")){var e=d.get(a);a=e.innerWidth||b.clientWidth;b=e.innerHeight||b.clientHeight}else a=b.clientWidth,b=b.clientHeight;return{l:g.x,t:g.y,w:a,h:b}},get:function(a){if(k("ie")&&d!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(a,b){try{a=
f.byId(a);var g=a.ownerDocument||h.doc,d=h.body(g),l=g.documentElement||d.parentNode,m=k("ie"),s=k("webkit");if(a!=d&&a!=l)if(!(k("mozilla")||m||s||k("opera")||k("trident"))&&"scrollIntoView"in a)a.scrollIntoView(!1);else{var t="BackCompat"==g.compatMode,u=Math.min(d.clientWidth||l.clientWidth,l.clientWidth||d.clientWidth),x=Math.min(d.clientHeight||l.clientHeight,l.clientHeight||d.clientHeight),g=s||t?d:l,w=b||c.position(a),v=a.parentNode,s=function(a){return 6>=m||7==m&&t?!1:k("position-fixed-support")&&
"fixed"==e.get(a,"position").toLowerCase()},z=this,A=function(a,b,c){"BODY"==a.tagName||"HTML"==a.tagName?z.get(a.ownerDocument).scrollBy(b,c):(b&&(a.scrollLeft+=b),c&&(a.scrollTop+=c))};if(!s(a))for(;v;){v==d&&(v=g);var y=c.position(v),B=s(v),E="rtl"==e.getComputedStyle(v).direction.toLowerCase();if(v==g){y.w=u;y.h=x;g==l&&(m||k("trident"))&&E&&(y.x+=g.offsetWidth-y.w);if(0>y.x||!m||9<=m||k("trident"))y.x=0;if(0>y.y||!m||9<=m||k("trident"))y.y=0}else{var G=c.getPadBorderExtents(v);y.w-=G.w;y.h-=
G.h;y.x+=G.l;y.y+=G.t;var I=v.clientWidth,N=y.w-I;0<I&&0<N&&(E&&k("rtl-adjust-position-for-verticalScrollBar")&&(y.x+=N),y.w=I);I=v.clientHeight;N=y.h-I;0<I&&0<N&&(y.h=I)}B&&(0>y.y&&(y.h+=y.y,y.y=0),0>y.x&&(y.w+=y.x,y.x=0),y.y+y.h>x&&(y.h=x-y.y),y.x+y.w>u&&(y.w=u-y.x));var O=w.x-y.x,H=w.y-y.y,K=O+w.w-y.w,P=H+w.h-y.h,D,C;0<K*O&&(v.scrollLeft||v==g||v.scrollWidth>v.offsetHeight)&&(D=Math[0>O?"max":"min"](O,K),E&&(8==m&&!t||9<=m||k("trident"))&&(D=-D),C=v.scrollLeft,A(v,D,0),D=v.scrollLeft-C,w.x-=D);
0<P*H&&(v.scrollTop||v==g||v.scrollHeight>v.offsetHeight)&&(D=Math.ceil(Math[0>H?"max":"min"](H,P)),C=v.scrollTop,A(v,0,D),D=v.scrollTop-C,w.y-=D);v=v!=g&&!B&&v.parentNode}}}catch(F){console.error("scrollIntoView: "+F),a.scrollIntoView(!1)}}};return l.window=d})},"tm1web/subseteditor/_Tree":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojo/aspect dojo/window dijit/Tree ../share/_LoadingOverlayMixin ./TreeUpdateSynchronizer ./TreeNode ./ExpandAboveTreeNode ./ElementType ./dndSource".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){function r(a){return m.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}return l("tm1web.subseteditor._Tree",[b,d],{dndController:q,showRoot:!1,autoExpand:!0,_collapseDeferred:null,_updateSynchronizer:null,expandAbove:!1,constructor:function(){this._updateSynchronizer=new a(this)},postCreate:function(){this.dndParams=this.dndParams.concat(["model"]);this.inherited(arguments);this.own(c.after(this.model,"onFetch",
m.hitch(this,"_onFetch"),!0),c.after(this.model,"onFind",m.hitch(this,"_onFind"),!0),c.after(this.model,"onMetaDataChange",m.hitch(this,"_onMetaDataChange"),!0),c.after(this.dndController,"userSelect",m.hitch(this,function(a){this.onSelect(a)}),!0))},getIconClass:function(a,b){switch(a.type){case p.Consolidated:return"tm1webSubsetEditorIconConsolidation";case p.Simple:return"tm1webSubsetEditorIconNumericLeaf";case p.String:return"tm1webSubsetEditorIconStringLeaf"}},getLabelClass:function(a,b){return a.type==
p.Consolidated?"tm1webSubsetEditorTreeLabelBold":this.inherited(arguments)},_keyboardSearch:function(){},_onFind:function(a,b,c,g){this.clearFound();null!=a&&(a=a in this._itemNodesMap?this._itemNodesMap[a][0]:null)&&(a.setFound(b,c),this._foundNode=a,!1===g&&e.scrollIntoView(a.rowNode))},clearFound:function(){this._foundNode&&(this._foundNode._destroyed||this._foundNode.clearFound(),delete this._foundNode)},onSelect:function(a){},_setExpandAboveAttr:function(a){a!=this.expandAbove&&(this.expandAbove=
!!a,this._setRootChildren())},_onKeyPress:function(a){a.target!==this.domNode&&this.inherited(arguments)},_setRootChildren:function(a){var b=this.rootNode,c=this,g=this.model,d=this.domNode.parentNode.scrollTop,e=this.lastFocused?this.lastFocused.item:null;this.set("loading",!0);this._destroyDescendants(b);b._expandNodeDeferred&&delete b._expandNodeDeferred;var f=function(a){var f=new h;b.setChildItems(a).then(function(){c._expandNode(b).then(function(){c.domNode.parentNode.scrollTop=d;c.set("selectedItems",
g.getSelected());f.resolve();c.set("loading",!1);if(null!==e){var a;a=g.getIdentity(e);a in c._itemNodesMap&&(a=c._itemNodesMap[a][0],g.areEqual(e,a.item)&&c.focusNode(a))}c.defer("onChange")})});return r(f)};if(a)return f(a);var n=new h;this.model.getChildren(this.model.root,function(a){f(a).then(function(){n.resolve()})});return r(n)},_collapseNode:function(a){if(a._collapseNodeDeferred)return a._collapseNodeDeferred;this.set("loading",!0);var b=this.model,c=a.item,g=this,d=a._collapseNodeDeferred=
new h;f(a._expandNodeDeferred,function(){a._expandNodeDeferred&&delete a._expandNodeDeferred;a.markProcessing();b.removeChildren(c,function(){a.unmarkProcessing();var b=a.collapse();b.then(function(){g._destroyDescendants(a);a.state="NotLoaded";c.children=null;a.makeExpandable();g.set("loading",!1);d.resolve()});g._startPaint(b)},function(a){g.set("loading",!1);console.error(g,": error moving children: ",a)})});return r(d)},_destroyDescendants:function(a){k.forEach(a.getChildren(),function(a){this.dndController.removeTreeNode(a);
var b=a.getParent();b&&b.removeChild(a);this._removeMappedNode(a);this._destroyDescendants(a);a.destroy()},this)},_removeMappedNode:function(a){var b=this.model.getIdentity(a.item);if(b in this._itemNodesMap){var c=k.filter(this._itemNodesMap[b],function(b){return a!==b});0<c.length?this._itemNodesMap[b]=c:delete this._itemNodesMap[b]}},_load:function(){var a=this.getInherited(arguments),b=arguments;this.pendingCommandsPromise.then(m.hitch(this,function(){this.set("selectedItems",this.model.getSelected())}));
setTimeout(m.hitch(this,function(){a.apply(this,b)}),0)},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,c=a.item,g=this;a._loadDeferred||(this.set("loading",!0),f(a._collapseNodeDeferred,function(){a._collapseNodeDeferred&&delete a._collapseNodeDeferred;a.markProcessing();a._loadDeferred=new h;b.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b);g.set("loading",!1)});c.children=b},function(b){g.set("loading",
!1);console.error(_this,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)})}));var d=a._loadDeferred.then(m.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(d);return d},_createTreeNode:function(a){return this.expandAbove?new g(a):new n(a)},_onFetch:function(a){return this._setRootChildren(a)},_onMetaDataChange:function(a){a.expandAbove!=this.expandAbove&&(this.expandAbove=a.expandAbove)},onChange:function(){},destroy:function(){this.inherited(arguments);
this._updateSynchronizer.destroy()}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(l,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var k=m("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],h=k.length,f=function(a,b,c){c||(c=a[0]&&l.scopeMap[a[0]]?l.scopeMap[a.shift()][1]:l.global);try{for(var d=0;d<a.length;d++){var e=a[d];if(!(e in
c))if(b)c[e]={};else return;c=c[e]}return c}catch(f){}},c=Object.prototype.toString,e=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},b=/\{([^\}]+)\}/g,d={_extraNames:k,_mixin:function(a,b,c){var d,e,f,l={};for(d in b)e=b[d],d in a&&(a[d]===e||d in l&&l[d]===e)||(a[d]=c?c(e):e);if(m("bug-for-in-skips-shadowed")&&b)for(f=0;f<h;++f)d=k[f],e=b[d],d in a&&(a[d]===e||d in l&&l[d]===e)||(a[d]=c?c(e):e);return a},mixin:function(a,b){a||(a={});for(var c=1,e=arguments.length;c<e;c++)d._mixin(a,
arguments[c]);return a},setObject:function(a,b,c){var d=a.split(".");a=d.pop();return(c=f(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return f(a?a.split("."):[],b,c)},exists:function(a,b){return void 0!==d.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===c.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||
d.isArray(a)||d.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!d.isString(a)&&!d.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(d.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!d.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var c=1,e=arguments.length;c<e;c++)d._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,b){var c=d._toArray(arguments,2),e=d.isString(b);return function(){var f=d._toArray(arguments),
h=e?(a||l.global)[b]:b;return h&&h.apply(a||this,c.concat(f))}},hitch:function(a,b){if(2<arguments.length)return d._hitchArgs.apply(l,arguments);b||(b=a,a=null);if(d.isString(b)){a=a||l.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return a?function(){return b.apply(a,arguments||[])}:b},delegate:function(){function a(){}return function(b,c){a.prototype=b;var e=new a;a.prototype=null;c&&d._mixin(e,c);return e}}(),
_toArray:m("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(b){return(b.item?a:e).apply(this,arguments)}}():e,partial:function(a){return d.hitch.apply(l,[null].concat(d._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||d.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var b,c,e;if(d.isArray(a))for(b=[],
c=0,e=a.length;c<e;++c)c in a&&b.push(d.clone(a[c]));else b=a.constructor?new a.constructor:{};return d._mixin(b,a,d.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,c,g){return a.replace(g||b,d.isFunction(c)?c:function(a,b){return d.getObject(b,!1,c)})}};d.mixin(l,d);return d})},"tm1web/websheet/CellType":function(){define({String:"String",Number:"Number",Boolean:"Boolean",DateTime:"DateTime",Error:"Error",
Empty:"Empty"})},"dojo/sniff":function(){define(["./has"],function(l){var m=navigator,k=m.userAgent,m=m.appVersion,h=parseFloat(m);l.add("air",0<=k.indexOf("AdobeAIR"));l.add("wp",parseFloat(k.split("Windows Phone")[1])||void 0);l.add("msapp",parseFloat(k.split("MSAppHost/")[1])||void 0);l.add("khtml",0<=m.indexOf("Konqueror")?h:void 0);l.add("edge",parseFloat(k.split("Edge/")[1])||void 0);l.add("opr",parseFloat(k.split("OPR/")[1])||void 0);l.add("webkit",!l("wp")&&!l("edge")&&parseFloat(k.split("WebKit/")[1])||
void 0);l.add("chrome",!l("edge")&&!l("opr")&&parseFloat(k.split("Chrome/")[1])||void 0);l.add("android",!l("wp")&&parseFloat(k.split("Android ")[1])||void 0);l.add("safari",!(0<=m.indexOf("Safari"))||l("wp")||l("chrome")||l("android")||l("edge")||l("opr")?void 0:parseFloat(m.split("Version/")[1]));l.add("mac",0<=m.indexOf("Macintosh"));l.add("quirks","BackCompat"==document.compatMode);if(!l("wp")&&k.match(/(iPhone|iPod|iPad)/)){var f=RegExp.$1.replace(/P/,"p"),c=k.match(/OS ([\d_]+)/)?RegExp.$1:
"1",c=parseFloat(c.replace(/_/,".").replace(/_/g,""));l.add(f,c);l.add("ios",c)}l.add("bb",(0<=k.indexOf("BlackBerry")||0<=k.indexOf("BB10"))&&parseFloat(k.split("Version/")[1])||void 0);l.add("trident",parseFloat(m.split("Trident/")[1])||void 0);l.add("svg","undefined"!==typeof SVGAngle);l("webkit")||(0<=k.indexOf("Opera")&&l.add("opera",9.8<=h?parseFloat(k.split("Version/")[1])||h:h),!(0<=k.indexOf("Gecko"))||l("wp")||l("khtml")||l("trident")||l("edge")||l.add("mozilla",h),l("mozilla")&&l.add("ff",
parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),document.all&&!l("opera")&&(k=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=m&&Math.floor(k)!=m&&(k=m),l.add("ie",k)),l.add("wii","undefined"!=typeof opera&&opera.wiiremote));return l})},"tm1web/share/_ContextMenuBase":function(){define("dojo/_base/declare dojo/on dijit/MenuSeparator ../mobile/on/longpress ../widgets/ContextMenu ./Base ./SkeletonMixin".split(" "),function(l,m,k,h,f,c,e){return l([f,c,e],
{objectId:null,_Separator:k,startup:function(){this._generateContextMenu();this.inherited(arguments)},_openMyself:function(b){var c=!b.coords;c&&(b.coords=this._getCoords());this._validate(b,c)&&(this._adjustContextMenu(),this.inherited(arguments))},_generateContextMenu:function(){this._addSkeletonChildren()},_getCoords:function(){return null},_validate:function(b,c){return!1},_adjustContextMenu:function(){}})})},"tm1web/subseteditor/dndSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-geometry dojo/dnd/Manager dojo/dnd/common dijit/tree/dndSource dijit/tree/_dndSelector dijit/registry ./_dndMixin ../mobile/sniff".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n){return l([e,a],{itemCreator:function(a,b,c){return k.map(a,function(a){return(a=d.byNode(a))&&a.item?m.clone(a.item):{}})},onMouseDown:function(a){n("mobile-device")||a.target!==this.tree.domNode&&this.inherited(arguments)},onDndDrop:function(a,b,c){if("Over"==this.containerState){var d=this.tree,e=d.model,f=this.targetAnchor;this.isDragging=!1;var h;"Before"==this.dropPosition||"After"==this.dropPosition?(d=f.getParent()&&f.getParent().item||d.item,h=f.getIndexInParent(),
"After"==this.dropPosition&&(h=f.getIndexInParent()+1)):d=f&&f.item||d.item;b=this.itemCreator(b,f.rowNode,c);a==this?e.pasteItems(b,null,d,c,h):e.newItems(b,d,h)}this.onDndCancel()},_onDragMouse:function(a){function b(a){var c=a.getChildren();return 0<c.length?b(c[c.length-1]):a}function c(a){var b=a.getChildren();return 0<b.length?c(b[0]):a}var d=f.manager(),e=this.targetAnchor,n=this.current,k=this.dropPosition,l="Over";n&&0<this.betweenThreshold&&(this.targetBox&&e==n||(this.targetBox=h.position(n.rowNode,
!0)),a.pageY-this.targetBox.y<=this.betweenThreshold?l="Before":a.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(l="After"));0==this.tree.rootNode.getChildren().length?n=this.tree.rootNode:n||(1==this.tree.expandAbove?(n=c(this.tree.rootNode),l="Before"):(n=b(this.tree.rootNode),l="After"));if(n!=e||l!=k){e&&this._removeItemClass(e.rowNode,k);n&&this._addItemClass(n.rowNode,l);if(n)if(n==this.tree.rootNode&&"Over"!=l)d.canDrop(!1);else{a=!1;if(d.source==this)for(var m in this.selection)if(this.selection[m].item===
n.item){a=!0;break}a?d.canDrop(!1):this.checkItemAcceptance(n.rowNode,d.source,l.toLowerCase())&&!this._isParentChildDrop(d.source,n.rowNode)?setTimeout(function(){d.canDrop(!0)},0):d.canDrop(!1)}else d.canDrop(!1);this.targetAnchor=n;this.dropPosition=l}},onMouseMove:function(a){if(!this.isDragging||"Disabled"!=this.targetState){b.prototype.onMouseMove.apply(this,arguments);var d=f.manager();if(this.isDragging)this._onDragMouse(a);else if(this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>=
this.dragThreshold||Math.abs(a.pageY-this._lastY)>=this.dragThreshold)){var e=this.getSelectedTreeNodes();e.length&&(e=e.slice().sort(function(a,b){return a.item.id-b.item.id}),e=k.map(e,function(a){return a.domNode}),d.startDrag(this,e,this.copyState(c.getCopyKeyState(a))),this._onDragMouse(a,!0))}}}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(l,m,k){var h={},f={},c={length:0,add:function(c){if(f[c.id])throw Error("Tried to register widget with id\x3d\x3d"+
c.id+" but that id is already registered");f[c.id]=c;this.length++},remove:function(c){f[c]&&(delete f[c],this.length--)},byId:function(c){return"string"==typeof c?f[c]:c},byNode:function(c){return f[c.getAttribute("widgetId")]},toArray:function(){var c=[],b;for(b in f)c.push(f[b]);return c},getUniqueId:function(c){var b;do b=c+"_"+(c in h?++h[c]:h[c]=0);while(f[b]);return"dijit"==k._scopeName?b:k._scopeName+"_"+b},findWidgets:function(c,b){function d(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==
c.nodeType){var g=c.getAttribute("widgetId");g?(g=f[g])&&a.push(g):c!==b&&d(c)}}var a=[];d(c);return a},_destroyAll:function(){k._curFocus=null;k._prevFocus=null;k._activeStack=[];l.forEach(c.findWidgets(m.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var b=1==c.nodeType&&c.getAttribute("widgetId");if(b)return f[b];c=c.parentNode}return null},_hash:f};return k.registry=c})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(l,m,k,h,f,c){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(c){var b=[];l.forEach(c||this.getChildren(),function(c){"value"in c?b.push(c):b=b.concat(this._getDescendantFormWidgets(c.getChildren()))},this);return b},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(c){c.reset&&c.reset()})},validate:function(){var e=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var d=b.disabled||!b.validate||
b.validate();d||e||(c.scrollIntoView(b.containerNode||b.domNode),b.focus(),e=!0);return d}),function(b){return b})},setValues:function(c){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",c)},_setValueAttr:function(c){var b={};l.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(b[a.name]||(b[a.name]=[])).push(a)});for(var d in b)if(b.hasOwnProperty(d)){var a=b[d],f=h.getObject(d,!1,c);void 0!==f&&(f=[].concat(f),
"boolean"==typeof a[0].checked?l.forEach(a,function(a){a.set("value",-1!=l.indexOf(f,a._get("value")))}):a[0].multiple?a[0].set("value",f):l.forEach(a,function(a,b){a.set("value",f[b])}))}},getValues:function(){k.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var c={};l.forEach(this._getDescendantFormWidgets(),function(b){var d=b.name;if(d&&!b.disabled){var a=b.get("value");"boolean"==typeof b.checked?
/Radio/.test(b.declaredClass)?!1!==a?h.setObject(d,a,c):(a=h.getObject(d,!1,c),void 0===a&&h.setObject(d,null,c)):(b=h.getObject(d,!1,c),b||(b=[],h.setObject(d,b,c)),!1!==a&&b.push(a)):(b=h.getObject(d,!1,c),"undefined"!=typeof b?h.isArray(b)?b.push(a):h.setObject(d,[b,a],c):h.setObject(d,a,c))}});return c},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var c=l.map(this._descendants,function(b){return b.get("state")||""});return 0<=l.indexOf(c,"Error")?
"Error":0<=l.indexOf(c,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(c){this._descendants=this._getDescendantFormWidgets();l.forEach(this._descendants,function(b){b._started||b.startup()});c||this._onChildChange()},_onChildChange:function(c){c&&"state"!=c&&"disabled"!=c||this._set("state",this._getState());c&&"value"!=c&&"disabled"!=c&&"checked"!=c||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var c=this;this.own(f(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=c.domNode&&c._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(b,c,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},
"tm1web/mobile/on/_Tap":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/gesture/tap"],function(l,m,k){return l(k.Tap,{_overriddenEvent:"",subEvents:[],fire:function(h,f){f.type===this._overriddenEvent&&(m.mixin(f,this._touchStartEvent),f.type=this.defaultEvent,this._touchStartEvent=null);this.inherited(arguments)},press:function(h,f){this.inherited(arguments);h.context&&(this._touchStartEvent=f)}})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
function(l,m,k,h,f,c,e,b){b.add("config-bgIframe",b("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||b("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var d=new function(){var a=[];this.pop=function(){var c;a.length?(c=a.pop(),c.style.display=""):(9>b("ie")?(c="\x3ciframe src\x3d'"+(k.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",
c=document.createElement(c)):(c=h.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),f.set(c,"opacity",.1)),c.tabIndex=-1);return c};this.push=function(b){b.style.display="none";a.push(b)}};m.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(b("config-bgIframe")){var h=this.iframe=d.pop();a.appendChild(h);7>b("ie")||b("quirks")?(this.resize(a),this._conn=e(a,"resize",c.hitch(this,"resize",a))):f.set(h,{width:"100%",height:"100%"})}};
c.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p){g=l("dijit.layout._TabButton"+(f("dojo-bidi")?"_NoBidi":""),b.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:g,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",
a);h.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=c.getLocalization("dijit","common")||p,this.closeNode&&k.set(this.closeNode,"title",a.itemClose))},_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)k.remove(this.closeNode,"title");else{var b=c.getLocalization("dijit","common")||p;k.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||this.params.title||(this.iconNode.alt=
e.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});f("dojo-bidi")&&(g=l("dijit.layout._TabButton",g,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt)}}));l=l("dijit.layout.TabController",b,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:g,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);
var b=new a({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return h.contains(a,"dijitClosable")&&!h.contains(a,"dijitTabDisabled")}});this.own(b);var g=c.getLocalization("dijit","common")||p,e=this;b.addChild(new n({label:g.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=d.byNode(this.getParent().currentTarget);e.onCloseButtonClick(a.page)}}))}});
l.TabButton=g;return l})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r){return m("dijit._MenuBase",[g,r,q,p],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),
a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){f.toggle(this.domNode,"dijitMenuActive",a);f.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(a){var b=n.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var g=this,d="string"==typeof this.childSelector?this.childSelector:c.hitch(this,"childSelector");this.own(b(this.containerNode,
b.selector(d,e.enter),function(){g.onItemHover(n.byNode(this))}),b(this.containerNode,b.selector(d,e.leave),function(){g.onItemUnhover(n.byNode(this))}),b(this.containerNode,b.selector(d,a),function(a){g.onItemClick(n.byNode(this),a);a.stopPropagation()}),b(this.containerNode,b.selector(d,"focusin"),function(){g._onItemFocus(n.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,g){this.inherited(arguments);if(a&&(-1==g||a.popup&&1==g))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,
b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),!a.popup||
a.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=
this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=
this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,g){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());
this._stopPopupTimer();var d=a.popup;d.parentMenu=this;this.own(this._mouseoverHandle=b.once(d.domNode,"mouseover",c.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){g&&e.focusChild(a);e._cleanUp()},onExecute:c.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},g);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",
!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(h.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);
this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"tm1web/subseteditor/_dndMixin":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/tree/_dndSelector"],function(l,m){return l(null,{model:null,userSelect:function(k,h,f){this._userSelect=!0;this._multiSelect=h;this.inherited(arguments);this._multiSelect=this._userSelect=!1},setSelection:function(k){if(this._userSelect){var h=
[];m.forEach(k,function(f){h.push(f.item)});this.model.setSelected(h,this._multiSelect)}this.inherited(arguments)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff dojo/text!./templates/ScrollingTabController.html ./TabController ./utils ../_WidgetsInTemplateMixin dojo/NodeList-dom ../a11yclick ./_ScrollingTabControllerButton ./_ScrollingTabControllerMenuButton".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){return m("dijit.layout.ScrollingTabController",[g,q],{baseClass:"dijitTabController dijitScrollingTabController",templateString:n,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,
"")+"None",k.add(a,"tabStrip-disabled"));k.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);f.set(this.domNode,"visibility","");this._postStartup=!0;this.own(b(this.containerNode,"attrmodified-label, attrmodified-iconclass",e.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);f.set(this.containerNode,"width",f.get(this.containerNode,"width")+200+"px")},onRemoveChild:function(a,b){var c=this.pane2button(a.id);
this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=d("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=h.getMarginSize(a).w,!0;f.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();if(a.length){var b=a[this.isLeftToRight()?0:a.length-
1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||f.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=p.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;h.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);this._buttons.style("display",b?"":"none");
this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());this._postResize=!0;return{h:this._contentBox.h,
w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit")?this.scrollNode.scrollLeft:f.get(this.containerNode,"width")-f.get(this.scrollNode,"width")+(8<=a("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(b){if(this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit"))return b;var c=f.get(this.containerNode,"width")-f.get(this.scrollNode,"width");return(8<=a("ie")?-1:1)*(b-c)},onSelectChild:function(a){var b=this.pane2button(a.id);
if(b){b=b.domNode;if(b!=this._selectedTab&&(this._selectedTab=b,this._postResize)){var c=this._getScroll();(c>b.offsetLeft||c+f.get(this.scrollNode,"width")<b.offsetLeft+f.get(b,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=f.get(this.scrollNode,"width"),c=f.get(this.containerNode,"width")-b,g=this._getTabsWidth();if(a.length&&g>b)return{min:this.isLeftToRight()?0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?
a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:c};a=this.isLeftToRight()?0:c;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=f.get(this.scrollNode,"width"),c=this._getScrollBounds(),a=a.offsetLeft+f.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,c.min),c.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=this._getScrollForSelectedTab();this._anim&&"playing"==
this._anim.status()&&this._anim.stop();var g=this,d=this.scrollNode,e=new c.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=d.scrollLeft,f=g._convertToScrollLeft(a);e.curve=new c._Line(b,f)},onAnimate:function(a){d.scrollLeft=a}});this._anim=e;this._setButtonClass(a);return e},_getBtnNode:function(a){for(a=a.target;a&&!k.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},doSlideLeft:function(a){this.doSlide(-1,
this._getBtnNode(a))},doSlide:function(a,b){if(!b||!k.contains(b,"dijitTabDisabled")){var c=.75*f.get(this.scrollNode,"width")*a,c=this._getScroll()+c;this._setButtonClass(c);this.createSmoothScroll(c).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(l,m,k,h){return l("dijit.form._ListMouseMixin",
h,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(f,c){this._setSelectedAttr(c,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(c)})},_onMouseDown:function(f,
c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(c,!1)},_onMouseUp:function(f,c){this._isDragging=!1;var e=this.selected,b=this._hoveredNode;e&&c==e?this.defer(function(){this._onClick(f,e)}):b&&this.defer(function(){this._onClick(f,b)})},_onMouseOut:function(f,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(f,
c){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=c;this.onHover(c);this._isDragging&&this._setSelectedAttr(c,!1)}})})},"tm1web/planning/PlanningBase":function(){define(["dojo/_base/declare","../share/Base"],function(l,m){return l(m,{constructor:function(){}})})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var m={};return{objectToQuery:function(k){var h=encodeURIComponent,f=[],c;for(c in k){var e=k[c];if(e!=
m[c]){var b=h(c)+"\x3d";if(l.isArray(e))for(var d=0,a=e.length;d<a;++d)f.push(b+h(e[d]));else f.push(b+h(e))}}return f.join("\x26")},queryToObject:function(k){var h=decodeURIComponent;k=k.split("\x26");for(var f={},c,e,b=0,d=k.length;b<d;++b)if(e=k[b],e.length){var a=e.indexOf("\x3d");0>a?(c=h(e),e=""):(c=h(e.slice(0,a)),e=h(e.slice(a+1)));"string"==typeof f[c]&&(f[c]=[f[c]]);l.isArray(f[c])?f[c].push(e):f[c]=e}return f}}})},"tm1web/share/sandbox/SandboxDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dijit/form/Button dijit/registry ../../utility/message-localizer ../Base".split(" "),
function(l,m,k,h,f,c,e,b,d){return l(d,{constructor:function(){this._secondaryButton=this._primaryButton=this._buttonsContainer=this._sandboxContainerLabel=this._sandboxContainer=this._contentContainer=this.popup=null;this._initializeSandboxDialog()},_initializeSandboxDialog:function(){this.createSandboxDialog()},createSandboxDialog:function(){},show:function(){this.createSandboxTopInput();this._createSandboxContainer();this._createSandboxButtons();var a=m.hitch(this,"_onCreateSandboxDialog");this.executeGetSandboxesServiceCall(a)},
executeGetSandboxesServiceCall:function(a){},_onCreateSandboxDialog:function(a){this.popup.show()},createSandboxItemRow:function(a){},_createSandboxContainer:function(){var a=e.getUniqueId("tm1webSandboxSetContainer"),b=h.create("label",{id:a});h.place(b,this._contentContainer);a=h.create("div",{className:"tm1webTreeDiv","aria-labelledby":a,role:"group"});h.place(a,this._contentContainer);this._sandboxContainerLabel=b;this._sandboxContainer=a},createSandboxTopInput:function(){},_createSandboxButtons:function(){var a=
h.create("div",{className:"tm1webSandboxButtonContainer tm1webDialogButtons"});h.place(a,this._sandboxContainer,"after");this._buttonsContainer=a;this._primaryButton=this._createButton(this.getOkButtonText(),this.onOk,"tm1webButton tm1WebBtnPrimary");this._secondaryButton=this._createButton(b.get("CANCEL_STR"),this._onCancel,"tm1webButton tm1webBtnSecondary");this._updateButtonsState()},_updateButtonsState:function(){},getOkButtonText:function(){},_createButton:function(a,b,g){a=new c({label:a,onClick:m.hitch(this,
b)});f.add(a.domNode,g);h.place(a.domNode,this._buttonsContainer);return a},onOk:function(){},_onCancel:function(){this.destroy()},destroy:function(){this.inherited(arguments);this.popup.destroyRecursive();delete this.popup;delete this._contentContainer;delete this._sandboxContainer;delete this._buttonsContainer}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n){return m("dijit.tree._dndSelector",n,{constructor:function(){this.selection={};this.anchor=null;this.events.push(b(this.tree.domNode,d.press,h.hitch(this,"onMouseDown")),b(this.tree.domNode,d.release,h.hitch(this,"onMouseUp")),b(this.tree.domNode,d.move,h.hitch(this,"onMouseMove")),b(this.tree.domNode,a.press,h.hitch(this,"onClickPress")),b(this.tree.domNode,a.release,h.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,
c;for(c in b)a.push(b[c]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(a){var b=l.filter(this.getSelectedTreeNodes(),function(b){return!c.isDescendant(b.domNode,a.domNode)});this.setSelection(b);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},
setSelection:function(a){var b=this.getSelectedTreeNodes();l.forEach(this._setDifference(b,a),h.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));l.forEach(this._setDifference(a,b),h.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){l.forEach(b,function(a){a.__exclude__=!0});var c=l.filter(a,function(a){return!a.__exclude__});l.forEach(b,function(a){delete a.__exclude__});
return c},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),b=[],c=[];l.forEach(a,function(a){var g=a.getTreePath();c.push(a);b.push(g)},this);a=l.map(c,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",c);this.tree._set("selectedNode",c[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(a.target,
this.current))){"mousedown"==a.type&&e.isLeft(a)&&a.preventDefault();var b="keydown"==a.type?this.tree.focusedChild:this.current;if(b){var c=f.getCopyKeyState(a),d=b.id;this.singular||a.shiftKey||!this.selection[d]?(this._doDeselect=!1,this.userSelect(b,c,a.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,f.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=
!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var c=doc.createRange();c.setStartBefore(a);var d=doc.createRange();d.setStartBefore(b);return c.compareBoundaryPoints(c.END_TO_END,d)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
},userSelect:function(a,b,c){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(c&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);c=this.anchor;0>b?b=c:(b=a,a=c);for(c=[];b!=a;)c.push(b),b=this.tree._getNext(b);c.push(a);this.setSelection(c)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
b){b=b||k.global;for(var c in this.selection)a.call(b,this.getItem(c),c,this)}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(l,m,k,h,f,c){l=h("dijit._OnDijitClickMixin",null,{connect:function(e,b,d){return this.inherited(arguments,[e,"ondijitclick"==b?c:b,d])}});l.a11yclick=c;return l})},"tm1web/subseteditor/FilterByExpressionDialog":function(){define("dojo/_base/declare dojo/_base/lang dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByExpressionDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin".split(" "),
function(l,m,k,h,f,c,e,b,d){return l([k,c,e,d],{templateString:f,_textBox:null,_submitButton:null,_cancelButton:null,title:b.get("FILTER_BY_EXPRESSION_TITLE_STR"),_enterExpressionLabel:b.get("ENTER_EXPRESSION_STR"),_expressionExampleLabel:b.get("EXPRESSION_EXAMPLE_STR"),_submitButtonLabel:b.get("OK_STR"),_cancelButtonLabel:b.get("CANCEL_STR"),_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._textBox.watch("state",m.hitch(this,"_onValidStateChange"));this._textBox.validator=
function(a){return!this._isEmpty(a)}},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._textBox.get("value");this.model.filterByExpression(a,m.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"tm1web/mobile/sniff":function(){define(["dojo/sniff"],function(l){l.add("mobile-device",l("ios")||l("android")||l("bb"));return l})},"tm1web/widgets/ContextMenu":function(){define(["dojo/_base/declare","dojo/on","dijit/Menu","../mobile/on/longpress",
"../mobile/sniff"],function(l,m,k,h,f){return l(k,{bindDomNode:function(c){this.inherited(arguments);if(f("mobile-device")){var e=this._bindings[this._bindings.length-1],b=this;e.connects.push(m(e.node,h,function(c){b._scheduleOpen(this,e.iframe,{x:c.pageX,y:c.pageY},c.target)}))}}})})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){h=m("dijit.layout._StackButton",q,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});m=m("dijit.layout.StackController",[n,g,p],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:h,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(b){return a.byId(this.id+
"_"+b)},postCreate:function(){this.inherited(arguments);this.own(b.subscribe(this.containerId+"-startup",c.hitch(this,"onStartup")),b.subscribe(this.containerId+"-addChild",c.hitch(this,"onAddChild")),b.subscribe(this.containerId+"-removeChild",c.hitch(this,"onRemoveChild")),b.subscribe(this.containerId+"-selectChild",c.hitch(this,"onSelectChild")),b.subscribe(this.containerId+"-containerKeyDown",c.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(e(this.containerNode,"click",
c.hitch(this,function(b){var c=a.getEnclosingWidget(b.target);if(c!=this.containerNode&&!c.disabled&&c.page)for(b=b.target;b!==this.containerNode;b=b.parentNode)if(k.contains(b,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);break}else if(b==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(b){this.textDir=b.textDir;l.forEach(b.children,this.onAddChild,this);if(b.selected)this.onSelectChild(b.selected);var g=a.byId(this.containerId).containerNode,d=c.hitch(this,"pane2button");
b={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var f=function(a,b){return e(g,"attrmodified-"+a,function(a){var c=d(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},h;for(h in b)this.own(f(h,b[h]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var g=new (c.isString(this.buttonWidget)?c.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(g,b);a.controlButton=g;if(!this._currentChild)this.onSelectChild(a);g=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+g.id:g.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
g)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(b){if(b){if(this._currentChild){var c=this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(b.id);c.set("checked",!0);this._currentChild=b;c.focusNode.setAttribute("tabIndex","0");a.byId(this.containerId)}},onButtonClick:function(b){var c=this.pane2button(b.id);
d.focus(c.focusNode);this._currentChild&&this._currentChild.id===b.id&&c.set("checked",!0);a.byId(this.containerId).selectChild(b)},onCloseButtonClick:function(b){a.byId(this.containerId).closeChild(b);this._currentChild&&(b=this.pane2button(this._currentChild.id))&&d.focus(b.focusNode||b.domNode)},adjacent:function(a){this.isLeftToRight()||this.tabPosition&&!/top|bottom/.test(this.tabPosition)||(a=!a);var b=this.getChildren(),c=l.indexOf(b,this.pane2button(this._currentChild.id)),g=b[c],d;do c=(c+
(a?1:b.length-1))%b.length,d=b[c];while(d.disabled&&d!=g);return d},onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var c=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case f.LEFT_ARROW:case f.UP_ARROW:a._djpage||(c=!1);break;case f.PAGE_UP:a.ctrlKey&&(c=!1);break;case f.RIGHT_ARROW:case f.DOWN_ARROW:a._djpage||(c=!0);break;case f.PAGE_DOWN:a.ctrlKey&&(c=!0);break;case f.HOME:for(var g=this.getChildren(),d=0;d<g.length;d++){var e=g[d];if(!e.disabled){this.onButtonClick(e.page);break}}a.stopPropagation();
a.preventDefault();break;case f.END:g=this.getChildren();for(d=g.length-1;0<=d;d--)if(e=g[d],!e.disabled){this.onButtonClick(e.page);break}a.stopPropagation();a.preventDefault();break;case f.DELETE:case 87:this._currentChild.closable&&(a.keyCode==f.DELETE||a.ctrlKey)&&(this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault());break;case f.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==c&&(this.onButtonClick(this.adjacent(c).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});m.StackButton=h;return m})},"tm1web/subseteditor/CreateConsolidationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/store/Memory dojo/text!./templates/CreateConsolidationDialog.html dijit/Dialog dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin".split(" "),function(l,m,k,h,f,c,e,b,d,a){return l([c,
e,b,a],{templateString:f,title:d.get("CREATE_CONSOLIDATION_FROM_SUBSET_TITLE_STR"),_selectLabel:d.get("SELECT_SUBSET"),_submitButtonLabel:d.get("OK_STR"),_cancelButtonLabel:d.get("CANCEL_STR"),model:null,subsetModel:null,_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._subsetSelect.watch("state",m.hitch(this,"_onValidStateChange"));var a=this._subsetSelect;this.model.getMetaData().then(function(b){b=k.map(b.subsets,function(a){var b=a.name;a.isPublic||(b=d.get("SUBSET_PRIVATE_STR",
b));return{name:b,id:a.id}});a.set("store",new h({data:b}))})},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._subsetSelect.get("value");this.subsetModel.createConsolidationFromSubset(a,m.hitch(this,function(){this._onSubmit()}),function(a,b){alert(d.get("SRV_ERR_STR"))})}})})},"tm1web/share/ElementDisplayType":function(){define({DisplayNone:"DisplayNone",DisplayPlus:"DisplayPlus",DisplayMinus:"DisplayMinus"})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare",
"../Calendar","./_DateTimeTextBox"],function(l,m,k){return l("dijit.form.DateTextBox",k,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:m,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(l,m,k,h){function f(a,b,c,d,e,f){f=f||"px";a=a.style;isNaN(b)||(a.left=b+f);isNaN(c)||(a.top=c+f);0<=d&&(a.width=d+f);0<=e&&(a.height=e+f)}function c(a){return"button"==a.tagName.toLowerCase()||
"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function e(a){return"border-box"==b.boxModel||"table"==a.tagName.toLowerCase()||c(a)}var b={boxModel:"content-box"};l("ie")&&(b.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");b.getPadExtents=function(a,b){a=k.byId(a);var c=b||h.getComputedStyle(a),d=h.toPixelValue,e=d(a,c.paddingLeft),f=d(a,c.paddingTop),l=d(a,c.paddingRight),c=d(a,c.paddingBottom);return{l:e,t:f,r:l,b:c,w:e+l,h:f+c}};b.getBorderExtents=
function(a,b){a=k.byId(a);var c=h.toPixelValue,d=b||h.getComputedStyle(a),e="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0,f="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,l="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0,c="none"!=d.borderBottomStyle?c(a,d.borderBottomWidth):0;return{l:e,t:f,r:l,b:c,w:e+l,h:f+c}};b.getPadBorderExtents=function(a,c){a=k.byId(a);var g=c||h.getComputedStyle(a),d=b.getPadExtents(a,g),g=b.getBorderExtents(a,g);return{l:d.l+g.l,t:d.t+g.t,r:d.r+g.r,b:d.b+g.b,
w:d.w+g.w,h:d.h+g.h}};b.getMarginExtents=function(a,b){a=k.byId(a);var c=b||h.getComputedStyle(a),d=h.toPixelValue,e=d(a,c.marginLeft),f=d(a,c.marginTop),l=d(a,c.marginRight),c=d(a,c.marginBottom);return{l:e,t:f,r:l,b:c,w:e+l,h:f+c}};b.getMarginBox=function(a,c){a=k.byId(a);var g=c||h.getComputedStyle(a),d=b.getMarginExtents(a,g),e=a.offsetLeft-d.l,f=a.offsetTop-d.t,m=a.parentNode,t=h.toPixelValue;if(l("mozilla")){var u=parseFloat(g.left),g=parseFloat(g.top);isNaN(u)||isNaN(g)?m&&m.style&&(m=h.getComputedStyle(m),
"visible"!=m.overflow&&(e+="none"!=m.borderLeftStyle?t(a,m.borderLeftWidth):0,f+="none"!=m.borderTopStyle?t(a,m.borderTopWidth):0)):(e=u,f=g)}else(l("opera")||8==l("ie")&&!l("quirks"))&&m&&(m=h.getComputedStyle(m),e-="none"!=m.borderLeftStyle?t(a,m.borderLeftWidth):0,f-="none"!=m.borderTopStyle?t(a,m.borderTopWidth):0);return{l:e,t:f,w:a.offsetWidth+d.w,h:a.offsetHeight+d.h}};b.getContentBox=function(a,c){a=k.byId(a);var g=c||h.getComputedStyle(a),d=a.clientWidth,e=b.getPadExtents(a,g),f=b.getBorderExtents(a,
g);d?(g=a.clientHeight,f.w=f.h=0):(d=a.offsetWidth,g=a.offsetHeight);l("opera")&&(e.l+=f.l,e.t+=f.t);return{l:e.l,t:e.t,w:d-e.w-f.w,h:g-e.h-f.h}};b.setContentSize=function(a,c,g){a=k.byId(a);var d=c.w;c=c.h;e(a)&&(g=b.getPadBorderExtents(a,g),0<=d&&(d+=g.w),0<=c&&(c+=g.h));f(a,NaN,NaN,d,c)};var d={l:0,t:0,w:0,h:0};b.setMarginBox=function(a,n,g){a=k.byId(a);var p=g||h.getComputedStyle(a);g=n.w;var m=n.h,r=e(a)?d:b.getPadBorderExtents(a,p),p=b.getMarginExtents(a,p);if(l("webkit")&&c(a)){var s=a.style;
0<=g&&!s.width&&(s.width="4px");0<=m&&!s.height&&(s.height="4px")}0<=g&&(g=Math.max(g-r.w-p.w,0));0<=m&&(m=Math.max(m-r.h-p.h,0));f(a,n.l,n.t,g,m)};b.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};b.docScroll=function(a){a=a||m.doc;var c=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in c?{x:c.pageXOffset,y:c.pageYOffset}:(c=l("quirks")?m.body(a):a.documentElement)&&{x:b.fixIeBiDiScrollLeft(c.scrollLeft||0,a),y:c.scrollTop||0}};
l("ie")&&(b.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>l("ie")){var b=a.getBoundingClientRect(),c=b.left,b=b.top;7>l("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}});b.fixIeBiDiScrollLeft=function(a,c){c=c||m.doc;var g=l("ie");if(g&&!b.isBodyLtr(c)){var d=l("quirks"),e=d?m.body(c):c.documentElement,f=m.global;6==g&&!d&&f.frameElement&&e.scrollHeight>e.clientHeight&&(a+=e.clientLeft);return 8>g||d?a+e.clientWidth-e.scrollWidth:-a}return a};
b.position=function(a,c){a=k.byId(a);var g=m.body(a.ownerDocument),d=a.getBoundingClientRect(),d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};if(9>l("ie")){var e=b.getIeDocumentElementOffset(a.ownerDocument);d.x-=e.x+(l("quirks")?g.clientLeft+g.offsetLeft:0);d.y-=e.y+(l("quirks")?g.clientTop+g.offsetTop:0)}c&&(g=b.docScroll(a.ownerDocument),d.x+=g.x,d.y+=g.y);return d};b.getMarginSize=function(a,c){a=k.byId(a);var g=b.getMarginExtents(a,c||h.getComputedStyle(a)),d=a.getBoundingClientRect();
return{w:d.right-d.left+g.w,h:d.bottom-d.top+g.h}};b.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!l("dom-addeventlistener")){var c=a.target,c=c&&c.ownerDocument||document,g=l("quirks")?c.body:c.documentElement,d=b.getIeDocumentElementOffset(c);a.pageX=a.clientX+b.fixIeBiDiScrollLeft(g.scrollLeft||0,c)-d.x;a.pageY=a.clientY+(g.scrollTop||0)-d.y}};return b})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),
function(l,m,k,h,f,c){return l("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(c){m.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(c,b){this._handleOnChange(c,b)},_handleOnChange:function(c,b){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=
!1;this._setValueAttr(this._resetValue,!0)}})})},"tm1web/websheet/controls/ControlBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/mouse ../HyperlinkType ../../share/Base ../../share/service-loader!WebSheetService".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){return l(n,{constructor:function(a,b,c){this.controlInfo=a;this.objectId=b;this.controlNode=this.newControl();this.parentNode=c},create:function(){var a=
this.domNode=this.controlNode;this.controlInfo.styleId&&(this.controlWidget?f.add(this.parentNode,this.controlInfo.styleId):f.add(a,this.controlInfo.styleId));this.parentNode&&c.place(a,this.parentNode);this._attachEventHandlers();this.setControlPosition();this.setBackgroundSize(a);this._addLink(a);return a},_attachEventHandlers:function(){this.own(h(this.controlNode,"scroll",m.hitch(this,"_setScrollPosition")),h(this.domNode,"mousedown, touchstart, touchend, click, dblclick, selectstart",function(a){a.stopPropagation()}))},
newControl:function(){},recalculate:function(){k.publish(this.objectId+"-Recalculate")},isOverflowVisible:function(){return!1},_setScrollPosition:function(){this._scrollPositionUpdating?this._pendingScrollPositionUpdate=!0:(this._pendingScrollPositionUpdate=!1,this._scrollPositionUpdating=!0,g.setControlScrollPosition(this.objectId,this.controlInfo.id,this.controlNode.scrollTop,{callback:this._onSetScrollPosition,scope:this}))},_onSetScrollPosition:function(){this._scrollPositionUpdating=!1;this._pendingScrollPositionUpdate&&
this._setScrollPosition()},setBackgroundSize:function(a){b.set(a,{backgroundSize:a.offsetWidth+"px "+a.offsetHeight+"px"})},setControlPosition:function(){var a=this.getPositionProperties();e.setContentSize(this.controlNode,a);null!=a.t&&null!=a.l&&b.set(this.controlNode,{top:a.t+"px",left:a.l+"px"})},getPositionProperties:function(){return{w:this.controlInfo.width,h:this.controlInfo.height,t:0<this.controlInfo.offsetTop?0:this.controlInfo.offsetTop,l:0<this.controlInfo.offsetLeft?0:this.controlInfo.offsetLeft}},
_addLink:function(a){var c=this.controlInfo.hyperlink;c&&(b.set(a,{cursor:"pointer"}),a.onclick=this.AddrOf(this._handleHyperlinkClick,a),c.screenTip&&(a.title=c.screenTip))},_handleHyperlinkClick:function(b){var c=this.controlInfo.hyperlink;if(d.isLeft(b)&&c)switch(c.type){case a.External:window.open(c.location,"_blank");break;case a.SheetReference:c.sheetName&&k.publish(this.objectId+"-NavigateToSheet",c.sheetName);c.bookmark&&this._selectRange(this.objectId,c.bookmark);break;case a.Workbook:g.getHyperlinkWorkbookObjectId(this.objectId,
c.location,c.sheetName,{callback:this._onGetHyperlinkWorkbookObjectId,arg:{title:c.screenTip,hyperlink:c},scope:this})}},_selectRange:function(a,b){k.publish(a+"-SelectRange",b)},_onGetHyperlinkWorkbookObjectId:function(a,b){if(a&&(k.publish("WebSheetNavigate",{objectId:a,title:b.title}),b.hyperlink.bookmark))var c=k.subscribe(a+"-WebSheetFetchDataCompleted",m.hitch(this,function(){c.remove();this._selectRange(a,b.hyperlink.bookmark)}))},destroy:function(){this.inherited(arguments);c.destroy(this.domNode)}})})},
"tm1web/websheet/celledit/ValidationListValueSaver":function(){define("dojo/_base/declare ../../share/AlertType ../../widgets/ErrorAlert ../../widgets/InfoAlert ../../widgets/WarningAlert ../../config-settings ../../utility/message-localizer ../../celledit/_CellListValueSaver ./_ValueSaverMixin ../../config-settings!".split(" "),function(l,m,k,h,f,c,e,b,d){return l([b,d],{_isRecalcOnChangeRequired:function(){return c.recalculateOnValidationListChange()},_handleInvalidUserInput:function(a,b,c){var d=
c.cellInfo.rowIndex,e=c.cellInfo.colIndex;this._commitPending=!0;this.service.getValidation(a,d,e,{callback:this._onValidationList,arg:{objectId:a,cellValue:b,editCell:c},scope:this})},_onValidationList:function(a,b){this._commitPending=!1;if(null!=a){var c=a.errorTitle,d=a.errorMessage,l=a.getAlertType;null==c&&(c="");if(null==d||""==d)d=[],d[0]=e.get("INVALID_VALUE"),d[1]=e.get("INVALID_LIST");l=l==m.WARNING?e.get("WARNING_STR"):l==m.INFORMATION?e.get("INFORMATION_STR"):l==m.STOP?e.get("STOP_STR"):
"WARNING";c=""!=c?l+": "+c:l;l==m.WARNING?f.show({message:d,title:c}):l==m.INFORMATION?h.show({message:d,title:c}):k.show({message:d,title:c})}this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})})},"dojo/date/stamp":function(){define(["../_base/kernel","../_base/lang","../_base/array"],function(l,m,k){var h={};m.setObject("date.stamp",h,l);h.fromISOString=function(f,c){h._isoRegExp||(h._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var e=h._isoRegExp.exec(f),b=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);c&&(c=new Date(c),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return c["get"+a]()}),function(a,b){e[b]=e[b]||a}));b=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&b.setFullYear(e[0]||1970);var d=0,a=e[7]&&e[7].charAt(0);"Z"!=a&&(d=60*(e[8]||0)+(Number(e[9])||0),"-"!=a&&(d*=-1));a&&(d-=b.getTimezoneOffset());d&&b.setTime(b.getTime()+6E4*
d)}return b};h.toISOString=function(f,c){var e=function(a){return 10>a?"0"+a:a};c=c||{};var b=[],d=c.zulu?"getUTC":"get",a="";"time"!=c.selector&&(a=f[d+"FullYear"](),a=["0000".substr((a+"").length)+a,e(f[d+"Month"]()+1),e(f[d+"Date"]())].join("-"));b.push(a);if("date"!=c.selector){a=[e(f[d+"Hours"]()),e(f[d+"Minutes"]()),e(f[d+"Seconds"]())].join(":");d=f[d+"Milliseconds"]();c.milliseconds&&(a+="."+(100>d?"0":"")+e(d));if(c.zulu)a+="Z";else if("time"!=c.selector)var d=f.getTimezoneOffset(),h=Math.abs(d),
a=a+((0<d?"-":"+")+e(Math.floor(h/60))+":"+e(h%60));b.push(a)}return b.join("T")};return h})},"tm1web/websheet/spreading/SpreadDialogCommon":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/form/Button dijit/form/CheckBox dijit/form/RadioButton ../../utility/message-localizer ../../utility/number ../../cubeview/CubeViewBase ../../cubeview/TitlePanel dijit/registry".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){return l(a,{constructor:function(a){m.mixin(this,
a);this._InitializeSpreadDialogCommon()},_InitializeSpreadDialogCommon:function(){},_convertFloat:function(a){if(void 0==a||null==a||""==a)return a;"string"==typeof a&&(a=d.parse(a));return d.format(a)},_CreateValueContent:function(a,b,c,d,e){var f=this.CreatePanel("","tm1webDataSpread_valueContainer");h.place(f,a);a=g.getUniqueId("tm1webDataSpread_valueContainer");this.CreateA11yLabel(f,b,c,a);return this.CreateTextBox(f,this._convertFloat(d),e,a)},_CreatePercentageValueContent:function(a,b,c,d,
e,f,n,k,l){var m=this.CreatePanel("","tm1webRelativeSpreadControl_valueContainer");h.place(m,a);a=g.getUniqueId(c);this.CreateA11yLabel(m,b,c,a);b=this.CreateTextBox(m,d,e,a);c=g.getUniqueId(n);this.CreateA11yLabel(m,f,n,c);f=this.CreateTextBox(m,this._convertFloat(k),l,c);f.disabled=!0;return{valueTextbox:b,refCellTextbox:f}},_CreateExtendContent:function(a){a=(new n(b.get("SPREAD_SECTION_EXTEND"),null,null,"")).Create(this._Dialog.containerNode);this._CreateCheckBoxList(a);return a},_CreateCheckBoxList:function(a){this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_LEFT"),
!1,1,a);this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_RIGHT"),!1,2,a);this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_UP"),!1,4,a);this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_DOWN"),!1,8,a)},_CreateDirectionChoiceCheckbox:function(a,b,g,d){_this=this;d=this._CreateCheckBoxLabelDiv(d);var e=new c({name:"DirectionChoice",value:g});e.setChecked(b);e.onClick=function(){_this._OnCheckBoxClick(e.checked,g)};h.place(e.domNode,d);this._CreateCheckBoxLabel(a,d,e.id);return e},
_OnCheckBoxClick:function(a){alert("has to be overriden")},_CreateCheckBoxLabelDiv:function(a){var b=document.createElement("Div");k.add(b,"tm1webRelativeSpreadControlDiv");h.place(b,a);return b},_CreateCheckBoxLabel:function(a,b,c){var g=document.createElement("label");g.innerHTML=a;g.setAttribute("for",c);h.place(g,b)},_CreateActionContent:function(a){a=(new n(b.get("SPREAD_SECTION_UPDATE"),null,null,"")).Create(a);this._CreateRadioButtonList(a);return a},_CreateRadioButtonList:function(a){this._CreateActionChoiceRadioButton(b.get("SPREAD_LABEL_REPLACE"),
!0,"",a);this._CreateActionChoiceRadioButton(b.get("SPREAD_LABEL_ADD"),!1,"+",a);this._CreateActionChoiceRadioButton(b.get("SPREAD_LABEL_SUBTRACT"),!1,"~",a)},_CreateActionChoiceRadioButton:function(a,b,c,g){_this=this;g=this._CreateCheckBoxLabelDiv(g);var d=new e({name:"ActionChoice",value:c});d.setChecked(b);d.onClick=function(){_this._OnRadioButtonClick(d.checked,c)};h.place(d.domNode,g);this._CreateCheckBoxLabel(a,g,d.id);return d},_OnRadioButtonClick:function(a,b){alert("has to be overriden")},
_CreateButtonContent:function(a,c){var g=this.CreatePanel();h.place(g,a);k.add(g,c);this._CreateButton(b.get("SPREAD_BUTTON_APPLY"),this._OnApply,g,"tm1WebBtnPrimary");this._CreateButton(b.get("SPREAD_BUTTON_CANCEL"),this._OnCancel,g,"tm1webBtnSecondary");return g},_CreateButton:function(a,b,c,g){a=new f({label:a,onClick:m.hitch(this,b)});k.add(a.domNode,"tm1webDataSpread_button");k.add(a.domNode,g);h.place(a.domNode,c)},_OnCancel:function(){alert("has to be overriden")},_OnApply:function(){alert("has to be overriden")}})})},
"tm1web/share/SkeletonMixin":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/store/Memory dijit/Menu dijit/MenuItem dijit/PopupMenuItem dijit/ToolbarSeparator dijit/MenuSeparator dijit/form/Button dijit/form/DropDownButton dijit/form/ToggleButton dijit/form/ComboButton dijit/form/ComboBox dijit/form/Select dijit/form/FilteringSelect dijit/registry dojox/collections/ArrayList ../planning/TM1CheckedMenuItem".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x){return l(null,
{_skeletonChildren:null,_Separator:b,constructor:function(){this._skeletonChildren={}},_addSkeletonChildren:function(){this._createSkeletonChildren();this._generateSkeleton().forEach(function(a){this._addGroup(a)},this)},_createSkeletonChildren:function(){},_generateSkeleton:function(){},_newGroup:function(){return new u},_newSkeleton:function(){return new u},_addMenuGroup:function(a,b){this._addSubGroup(a,b,d)},_addGroup:function(a){this._addSubGroup(this,a,this._Separator)},_addSubGroup:function(a,
b,c){0!=b.count&&(0<a.getChildren().length&&a.addChild(new c),b.forEach(function(b){a.addChild(b)}))},_newButton:function(b,c,g,d){return this._newSpecifiedButton(a,b,c,g,d)},_newToggleButton:function(a,b,c,d){return this._newSpecifiedButton(g,a,b,c,d)},_newComboButton:function(a,b,c,g){return this._newSpecifiedButton(p,a,b,c,g)},_newDropDownButton:function(a,b,c,g,d){a=this._newSpecifiedButton(n,a,b,g,d);a.set("dropDown",c);return a},_newSpecifiedButton:function(a,b,c,g,d){b={label:b,iconClass:c,
showLabel:!1,id:this._generateItemId(g)};d&&(b.onClick=d);return new a(b)},_newMenu:function(a){var b=new f;a.forEach(function(a){this._addMenuGroup(b,a)},this);return b},_newMenuItem:function(a,b,g,d){return this._newSpecifiedMenuItem(c,a,b,g,d)},_newPopupMenuItem:function(a,b,c,g,d){a=this._newSpecifiedMenuItem(e,a,b,g,d);a.set("popup",c);return a},_newCheckedMenuItem:function(a,b,c,g){return this._newSpecifiedMenuItem(x,a,b,c,g)},_newSpecifiedMenuItem:function(a,b,c,g,d){b={label:b,iconClass:c,
id:this._generateItemId(g)};d&&(b.onClick=d);return new a(b)},_newComboBox:function(a,b){return this._newSpecificSelect(q,a,b)},_newSelect:function(a,b){return new r({title:a,search:"name",id:this._generateItemId(b)})},_newFilteringSelect:function(a,b){return this._newSpecificSelect(s,a,b)},_newSpecificSelect:function(a,b,c){return new a({title:b,store:new h,search:"name",id:this._generateItemId(c)})},_getItemIdPrefix:function(){},_generateItemId:function(a){return t.getUniqueId(this._getItemIdPrefix()+
(a||"Item"))}})})},"tm1web/share/_CellContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/when ./_CellContextMenuBase ../widgets/ErrorAlert ../utility/clipboard ../utility/message-localizer ../cubeview/ViewCellType ./AddAnnotationDialog ./BrowseAnnotationsDialog".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){return l(f,{Service:null,SpreadDialogProportional:null,SpreadDialogEqualLeaves:null,SpreadDialogStraightLine:null,SpreadDialogClear:null,RelativeSpreadDialog:null,
_dataSpreadMenu:null,_holdsMenu:null,_drillMenu:null,_getCurrentCell:function(){return this._selectedArea?this._selectedArea.StartCell:null},_adjustContextMenu:function(){var a=this._currentCell.cellInfo,b=a&&void 0!=a.isPrimaryKey;h(e.get(!1),m.hitch(this,function(c){c=null==c||-1<c.indexOf("window.clipboardData,getData")||a.readOnly||b;this._skeletonChildren.paste.set("disabled",c)}));var c=(a.cellType!=d.NUM||null==a.hold)&&this._isSingleCellSelected()||void 0!=this.allowSpreading&&!this.allowSpreading||
b,f=!a.isConsolidated&&this._isSingleCellSelected()||!this._isSingleCellSelected(),n=a.isFlexView||f,k=a.drillList,k=null==k||""==k||!this._isSingleCellSelected()||a.isFlexView,l=void 0!=this._currentCell.cellInfo.isTM1Cell&&!this._currentCell.cellInfo.isTM1Cell||a.isFlexView||!this._currentCell.cellInfo.annotated||!this._isSingleCellSelected(),x=!this._isSingleCellSelected()||void 0!=this._currentCell.cellInfo.isTM1Cell&&!this._currentCell.cellInfo.isTM1Cell||a.isFlexView;this._skeletonChildren.addComment.set("disabled",
x);this._skeletonChildren.browseComments.set("disabled",l);this._skeletonChildren.dataSpread.set("disabled",c);this._skeletonChildren.holds.set("disabled",c);this._skeletonChildren.drill.set("disabled",k);this._skeletonChildren.relativeProportionalSpread.set("disabled",n);this._skeletonChildren.relativePercentAjustmentSpread.set("disabled",n);this._skeletonChildren.repeatLeavesSpread.set("disabled",f);this._skeletonChildren.equalLeavesSpread.set("disabled",f);k||(this._drillMenu=this._newMenu(this._generateDrillMenuSkeleton()),
this._skeletonChildren.drill.set("popup",this._drillMenu));this._currentCell.cellInfo.readOnly&&(this._skeletonChildren.dataSpread.set("disabled",!0),this._skeletonChildren.holds.set("disabled",!0))},_createCopyPasteSkeletonChildren:function(){this._skeletonChildren.copy=this._newMenuItem(b.get("COPY_STR"),"tm1webContextmenu_icon_copy","Copy",m.hitch(this,this._copy,this._getCopyPasteId()));this._skeletonChildren.paste=this._newMenuItem(b.get("PASTE_STR"),"tm1webContextmenu_icon_paste","Paste",m.hitch(this,
this._paste,this._getCopyPasteId()))},_createDataSpreadSkeletonChildren:function(){this._skeletonChildren.proportionalSpread=this._newMenuItem(b.get("PROPORTIONAL_SPREAD_STR"),"tm1webContextmenu_icon_spread_proportion","proportionalSpread",m.hitch(this,this._showSpreadDialogProportionalType,b.get("SPREAD_TITLE_PROPORTIONAL_SPREAD"),b.get("SPREAD_LABEL_VALUE"),"P"));this._skeletonChildren.equalSpread=this._newMenuItem(b.get("EQUAL_SPREAD_STR"),"tm1webContextmenu_icon_spread_equal","equalSpread",m.hitch(this,
this._showSpreadDialogProportionalType,b.get("SPREAD_TITLE_EQUAL_SPREAD"),b.get("SPREAD_LABEL_VALUE"),"S"));this._skeletonChildren.repeatSpread=this._newMenuItem(b.get("REPEAT_SPREAD_STR"),"tm1webContextmenu_icon_spread_repeat","repeatSpread",m.hitch(this,this._showSpreadDialogProportionalType,b.get("SPREAD_TITLE_REPEAT"),b.get("SPREAD_LABEL_VALUE"),"R"));this._skeletonChildren.clearSpread=this._newMenuItem(b.get("CLEAR_SPREAD_STR"),"tm1webContextmenu_icon_spread_clear","clearSpread",m.hitch(this,
this._showSpreadDialogClearType,b.get("SPREAD_TITLE_CLEAR")));this._skeletonChildren.percentChangeSpread=this._newMenuItem(b.get("PC_SPREAD_STR"),"tm1webContextmenu_icon_spread_percent_chg","percentChangeSpread",m.hitch(this,this._showSpreadDialogProportionalType,b.get("SPREAD_TITLE_PERCENT_CHANGE"),b.get("SPREAD_LABEL_CHANGE"),"P%"));this._skeletonChildren.straightLineSpread=this._newMenuItem(b.get("SL_SPREAD_STR"),"tm1webContextmenu_icon_spread_straightline","straightLineSpread",m.hitch(this,this._showSpreadDialogStraightLineType,
b.get("SPREAD_TITLE_STRAIGHT_LINE"),"SL",b.get("SPREAD_LABEL_START"),b.get("SPREAD_LABEL_END")));this._skeletonChildren.growthPercentSpread=this._newMenuItem(b.get("GP_SPREAD_STR"),"tm1webContextmenu_icon_spread_growth","growthPercentSpread",m.hitch(this,this._showSpreadDialogStraightLineType,b.get("SPREAD_TITLE_GROWTH"),"GR",b.get("SPREAD_LABEL_START"),b.get("SPREAD_LABEL_GROWTH")));this._skeletonChildren.relativeProportionalSpread=this._newMenuItem(b.get("RP_SPREAD_STR"),"tm1webContextmenu_icon_spread_proportion_reltv",
"relativeProportionalSpread",m.hitch(this,this._showRelativeSpreadDialogType,b.get("SPREAD_TITLE_RELATIVE_PROPORTIONAL"),!1));this._skeletonChildren.relativePercentAjustmentSpread=this._newMenuItem(b.get("RP_ADJ_SPREAD_STR"),"tm1webContextmenu_icon_spread_percnt_chg_reltv","relativePercentAjustmentSpread",m.hitch(this,this._showRelativeSpreadDialogType,b.get("SPREAD_TITLE_RELATIVE_PERCENT"),!0));this._skeletonChildren.repeatLeavesSpread=this._newMenuItem(b.get("RL_SPREAD_STR"),"tm1webContextmenu_icon_spread_repeat_leaves",
"repeatLeavesSpread",m.hitch(this,this._showSpreadDialogEqualLeaveType,b.get("SPREAD_TITLE_REPEAT_LEAVES"),"LR"));this._skeletonChildren.equalLeavesSpread=this._newMenuItem(b.get("EL_SPREAD_STR"),"tm1webContextmenu_icon_spread_equal_leaves","equalLeavesSpread",m.hitch(this,this._showSpreadDialogEqualLeaveType,b.get("SPREAD_TITLE_EQUAL_SPREAD_LEAVES"),"LS"))},_createHoldsSkeletonChildren:function(){this._skeletonChildren.leavesHold=this._newMenuItem(b.get("HL_SPREAD_STR"),"tm1webContextmenu_icon_hold_holdleaf",
"leavesHold",m.hitch(this,this._hold,"H"));this._skeletonChildren.consolidateHold=this._newMenuItem(b.get("HC_SPREAD_STR"),"tm1webContextmenu_icon_hold_holdcon","consolidateHold",m.hitch(this,this._hold,"HC"));this._skeletonChildren.releaseLeafHolds=this._newMenuItem(b.get("RLH_SPREAD_STR"),"tm1webContextmenu_icon_hold_releaseleaf","releaseLeafHolds",m.hitch(this,this._hold,"RH"));this._skeletonChildren.releaseConsolidateHolds=this._newMenuItem(b.get("RC_SPREAD_STR"),"tm1webContextmenu_icon_hold_release_con",
"releaseConsolidateHolds",m.hitch(this,this._hold,"RC"));this._skeletonChildren.releaseAllHolds=this._newMenuItem(b.get("RA_SPREAD_STR"),"tm1webContextmenu_icon_hold_release_all","releaseAllHolds",m.hitch(this,this._hold,"RA"))},_createSubMenuSkeletonChildren:function(){this._dataSpreadMenu=this._newMenu(this._generateDataSpreadMenuSkeleton());this._holdsMenu=this._newMenu(this._generateHoldsMenuSkeleton());this._drillMenu=this._newMenu(this._generateDrillMenuSkeleton());this._skeletonChildren.dataSpread=
this._newPopupMenuItem(b.get("DATA_SPREAD_STR"),"tm1webContextmenu_icon_spread",this._dataSpreadMenu,"dataSpread");this._skeletonChildren.holds=this._newPopupMenuItem(b.get("HOLDS_STR"),"tm1webContextmenu_icon_hold",this._holdsMenu,"holds");this._skeletonChildren.drill=this._newPopupMenuItem(b.get("DRILL_STR"),"tm1webContextmenu_icon_drill",this._drillMenu,"drill")},_createSkeletonChildren:function(){this._createCopyPasteSkeletonChildren();this._createDataSpreadSkeletonChildren();this._createHoldsSkeletonChildren();
this._createSubMenuSkeletonChildren();this._createCommentSkeletonChildren()},_generateSkeleton:function(){var a=this._newSkeleton();a.add(this._generateCopyPasteGroup());a.add(this._generateFunctionGroup());a.add(this._generateCommentGroup());return a},_generateDataSpreadMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateDataSpreadGroup());return a},_generateHoldsMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateHoldsGroup());return a},_generateDrillMenuSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateDrillGroup());return a},_generateCopyPasteGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.copy);a.add(this._skeletonChildren.paste);return a},_generateFunctionGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.dataSpread);a.add(this._skeletonChildren.holds);a.add(this._skeletonChildren.drill);return a},_generateDataSpreadGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.proportionalSpread);a.add(this._skeletonChildren.equalSpread);
a.add(this._skeletonChildren.repeatSpread);a.add(this._skeletonChildren.clearSpread);a.add(this._skeletonChildren.percentChangeSpread);a.add(this._skeletonChildren.straightLineSpread);a.add(this._skeletonChildren.growthPercentSpread);a.add(this._skeletonChildren.relativeProportionalSpread);a.add(this._skeletonChildren.relativePercentAjustmentSpread);a.add(this._skeletonChildren.repeatLeavesSpread);a.add(this._skeletonChildren.equalLeavesSpread);return a},_generateHoldsGroup:function(){var a=this._newGroup();
a.add(this._skeletonChildren.leavesHold);a.add(this._skeletonChildren.consolidateHold);a.add(this._skeletonChildren.releaseLeafHolds);a.add(this._skeletonChildren.releaseConsolidateHolds);a.add(this._skeletonChildren.releaseAllHolds);return a},_generateDrillGroup:function(){var a=this._newGroup();if(this._currentCell&&this._currentCell.cellInfo&&this._currentCell.cellInfo.drillList)for(var b=this._currentCell.cellInfo.drillList.split(","),c=0;c<b.length;c++)a.add(this._newMenuItem(b[c],"","drill"+
c,m.hitch(this,this._drill,b[c])));return a},_copy:function(a){k.publish(a+"-Copy")},_paste:function(a){k.publish(a+"-Paste")},_showSpreadDialogProportionalType:function(a,b,c){a=new this.SpreadDialogProportional({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:c,_ValueTitle:b,Service:this.Service});a.Initialize();a.Show()},_showSpreadDialogEqualLeaveType:function(a,b){var c=new this.SpreadDialogEqualLeaves({_Title:a,
_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:b,_ValueTitle:"",Service:this.Service});c.Initialize();c.Show()},_showSpreadDialogStraightLineType:function(a,b,c,d){a=new this.SpreadDialogStraightLine({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:b,_StartValueTitle:c,_EndValueTitle:d,Service:this.Service});a.Initialize();
a.Show()},_showSpreadDialogClearType:function(a){a=new this.SpreadDialogClear({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),Service:this.Service});a.Initialize();a.Show()},_showRelativeSpreadDialogType:function(a,b){var c=new this.RelativeSpreadDialog({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_IsPercentage:b,Service:this.Service});
c.Initialize();c.Show()},_hold:function(a){},_drill:function(a){this.Service.getDrillView(this.objectId,this._currentCell.cellInfo.rowIndex,this._currentCell.cellInfo.colIndex,a,{callback:this._onDrill,arg:a,scope:this})},_onDrill:function(a,d){if(a)if(a.objectId){if(a.relational?k.publish(this.objectId+"-RelationalDrillThrough",d,a.colNames,a.gridData,a.objectId,this.Service):k.publish(this.objectId+"-TM1WidgetIdentityCreated",{objectId:a.objectId,drilledView:!0},a.viewName),this.dataGrid.onDrillThrough&&
"function"===typeof this.dataGrid.onDrillThrough)this.dataGrid.onDrillThrough({drillThroughScript:d,drillThroughCubeName:a.orignCubeName,drillThroughCellCoord:a.cellCoord,isRelational:!0===a.relational})}else c.show({message:b.get(a),title:b.get("DRILL_ERROR_TITLE_STR")});else c.show({message:b.get("DRILL_ERROR"),title:b.get("DRILL_ERROR_TITLE_STR")})},_getCopyPasteId:function(){return null},_isSingleCellSelect:function(){return!1},_onHold:function(a){},_createCommentSkeletonChildren:function(){this._skeletonChildren.addComment=
this._newMenuItem(b.get("ADD_COMMENT_STR"),"tm1webContextmenuIconComment","AddComment",m.hitch(this,"_addComment"));this._skeletonChildren.browseComments=this._newMenuItem(b.get("BROWSE_COMMENTS_STR"),"tm1webContextmenuIconBrowseComments","BrowseComments",m.hitch(this,"_browseComments"))},_generateCommentGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.addComment);a.add(this._skeletonChildren.browseComments);return a},_addComment:function(){(new a(this.objectId,this._currentCell,
this.dataGrid,this.Service)).show()},_browseComments:function(){(new n(this.objectId,this._currentCell,this.dataGrid,this.Service)).show()}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){m=m("dijit.form._AutoCompleterMixin",n,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",
maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var c=0;if("number"==typeof a.selectionStart)c=a.selectionStart;else if(b("ie")){var d=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();d.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",d),c=String(a.text).replace(/\r/g,"").length}catch(e){}}return c},_setCaretPos:function(b,c){c=parseInt(c);a.selectInputText(b,c,c)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",
a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(b!=h.ALT&&b!=h.CTRL&&b!=h.META&&b!=h.SHIFT){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!(a.altKey||a.ctrlKey||a.metaKey))switch(this._opened&&(d=c.getHighlightedOption()),b){case h.PAGE_DOWN:case h.DOWN_ARROW:case h.PAGE_UP:case h.UP_ARROW:this._opened&&this._announceOption(d);a.stopPropagation();a.preventDefault();break;case h.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);
a.stopPropagation();a.preventDefault();break}else if(d==c.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case h.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case h.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(b){var c=
this.focusNode;a.selectInputText(c,c.value.length);var d=this.ignoreCase?"toLowerCase":"substr";0==b[d](0).indexOf(this.focusNode.value[d](0))?(d=this.autoComplete?this._getCaretPos(c):c.value.length,d+1>c.value.length&&(c.value=b,a.selectInputText(c,d))):(c.value=b,a.selectInputText(c))},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();a.length||0!=c.start?(this._nextSearch=this.dropDown.onPage=f.hitch(this,function(b){a.nextPage(-1!==b);
this.focus()}),this.dropDown.createOptions(a,c,f.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(b[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)):this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;!b||a!=b._messages.previousMessage&&a!=b._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=
this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0);this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",k.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (f.isString(this.dropDownClass)?f.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:f.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},
_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new d({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=c('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",
a[0].id));this.inherited(arguments);l.after(this,"onSearch",f.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=e.escapeString(b);return this._escapeHtml(a.replace(new RegExp((0==
d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},
_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}});b("dojo-bidi")&&m.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return m})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){m=
m("dojo.dnd.Container",d,{skipForm:!1,allowNested:!1,constructor:function(a,b){this.node=c.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=b.skipForm;this.parent=b.dropParent&&c.byId(b.dropParent);this.map={};this.current=null;this.containerState="";e.add(this.node,"dojoDndContainer");b&&b._skipStartup||this.startup();this.events=[n(this.node,p.over,h.hitch(this,"onMouseOver")),n(this.node,p.out,h.hitch(this,"onMouseOut")),n(this.node,"dragstart",h.hitch(this,"onSelectStart")),n(this.node,
"selectstart",h.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||k.global;var c=this.map,d=q._empty,g;for(g in c)g in d||a.call(b,c[g],g,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return g((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=
this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=q.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<
a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=q._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){this.skipForm&&q.isFormElement(a)||(a.stopPropagation(),a.preventDefault())},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";e.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){e.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){e.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=
a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&e.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var c=(this.creator||this.defaultCreator).call(this,a,b);h.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=q.getUniqueId());e.add(c.node,"dojoDndItem");return c}});q._createNode=function(a){return a?function(c){return b.create(a,{innerHTML:c})}:q._createSpan};q._createTrTd=function(a){var c=b.create("tr");b.create("td",
{innerHTML:a},c);return c};q._createSpan=function(a){return b.create("span",{innerHTML:a})};q._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};q._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?q._createTrTd:q._createNode(q._defaultCreatorNodes[a]);return function(a,c){var d=a&&h.isObject(a),g,e;d&&a.tagName&&a.nodeType&&a.getAttribute?(g=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],e=a):(g=d&&a.data?a.data:
a,d=d&&a.type?a.type:["text"],e=("avatar"==c?q._createSpan:b)(String(g)));e.id||(e.id=q.getUniqueId());return{node:e,data:g,type:d}}};return m})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(l,m,k,h){function f(b){var c=a[b.options.handleAs];b.data=c?c(b):b.data||b.text;return b}h.add("activex","undefined"!==typeof ActiveXObject);h.add("dom-parser",function(a){return"DOMParser"in a});var c;if(h("activex")){var e=["Msxml2.DOMDocument.6.0",
"Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],b;c=function(a){function c(a){try{var g=new ActiveXObject(a);g.async=!1;g.loadXML(f);d=g;b=a}catch(e){return!1}return!0}var d=a.data,f=a.text;d&&h("dom-qsa2.1")&&!d.querySelectorAll&&h("dom-parser")&&(d=(new DOMParser).parseFromString(f,"application/xml"));d&&d.documentElement||b&&c(b)||k.some(e,c);return d}}var d=function(a){return h("native-xhr2-blob")||"blob"!==a.options.handleAs||"undefined"===typeof Blob?a.xhr.response:new Blob([a.xhr.response],
{type:a.xhr.getResponseHeader("Content-Type")})},a={javascript:function(a){return m.eval(a.text||"")},json:function(a){return l.parse(a.text||null)},xml:c,blob:d,arraybuffer:d,document:d};f.register=function(b,c){a[b]=c};return f})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(l,m,k,h,f,c,e){function b(a,b,d,e){var h=c.getEffectiveBox(a.ownerDocument);a.parentNode&&"body"==String(a.parentNode.tagName).toLowerCase()||
f.body(a.ownerDocument).appendChild(a);var r=null;l.some(b,function(b){var c=b.corner,f=b.pos,n=0,k={w:{L:h.l+h.w-f.x,R:f.x-h.l,M:h.w}[c.charAt(1)],h:{T:h.t+h.h-f.y,B:f.y-h.t,M:h.h}[c.charAt(0)]},l=a.style;l.left=l.right="auto";d&&(n=d(a,b.aroundCorner,c,k,e),n="undefined"==typeof n?0:n);var s=a.style,t=s.display,E=s.visibility;"none"==s.display&&(s.visibility="hidden",s.display="");l=m.position(a);s.display=t;s.visibility=E;t={L:f.x,R:f.x-l.w,M:Math.max(h.l,Math.min(h.l+h.w,f.x+(l.w>>1))-l.w)}[c.charAt(1)];
E={T:f.y,B:f.y-l.h,M:Math.max(h.t,Math.min(h.t+h.h,f.y+(l.h>>1))-l.h)}[c.charAt(0)];f=Math.max(h.l,t);s=Math.max(h.t,E);t=Math.min(h.l+h.w,t+l.w);E=Math.min(h.t+h.h,E+l.h);t-=f;E-=s;n+=l.w-t+(l.h-E);if(null==r||n<r.overflow)r={corner:c,aroundCorner:b.aroundCorner,x:f,y:s,w:t,h:E,overflow:n,spaceAvailable:k};return!n});r.overflow&&d&&d(a,r.aroundCorner,r.corner,r.spaceAvailable,e);b=r.y;var s=r.x,t=f.body(a.ownerDocument);/relative|absolute/.test(k.get(t,"position"))&&(b-=k.get(t,"marginTop"),s-=k.get(t,
"marginLeft"));t=a.style;t.top=b+"px";t.left=s+"px";t.right="auto";return r}var d={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return e.place={at:function(a,c,g,e,f){g=l.map(g,function(a){var b={corner:a,aroundCorner:d[a],pos:{x:c.x,y:c.y}};e&&(b.pos.x+="L"==a.charAt(1)?e.x:-e.x,b.pos.y+="T"==a.charAt(0)?e.y:-e.y);return b});return b(a,g,f)},around:function(a,c,d,e,f){function r(a,b){E.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+y,M:z+(y>>1)}[a.charAt(1)],y:{T:A,B:A+B,M:A+(B>>1)}[a.charAt(0)]}})}var s;if("string"==
typeof c||"offsetWidth"in c||"ownerSVGElement"in c){if(s=m.position(c,!0),/^(above|below)/.test(d[0])){var t=m.getBorderExtents(c),u=c.firstChild?m.getBorderExtents(c.firstChild):{t:0,l:0,b:0,r:0},x=m.getBorderExtents(a),w=a.firstChild?m.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};s.y+=Math.min(t.t+u.t,x.t+w.t);s.h-=Math.min(t.t+u.t,x.t+w.t)+Math.min(t.b+u.b,x.b+w.b)}}else s=c;if(c.parentNode)for(t="absolute"==k.getComputedStyle(c).position,c=c.parentNode;c&&1==c.nodeType&&"BODY"!=c.nodeName;){u=
m.position(c,!0);x=k.getComputedStyle(c);/relative|absolute/.test(x.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(x.overflow)){var w=Math.min(s.y+s.h,u.y+u.h),v=Math.min(s.x+s.w,u.x+u.w);s.x=Math.max(s.x,u.x);s.y=Math.max(s.y,u.y);s.h=w-s.y;s.w=v-s.x}"absolute"==x.position&&(t=!0);c=c.parentNode}var z=s.x,A=s.y,y="w"in s?s.w:s.w=s.width,B="h"in s?s.h:(h.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+A+", height:"+s.height+", width:"+y+" } has been deprecated.  Please use { x:"+
z+", y:"+A+", h:"+s.height+", w:"+y+" }","","2.0"),s.h=s.height),E=[];l.forEach(d,function(a){var b=e;switch(a){case "above-centered":r("TM","BM");break;case "below-centered":r("BM","TM");break;case "after-centered":b=!b;case "before-centered":r(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":r(b?"TL":"TR",b?"TR":"TL");r(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":r(b?"BL":"BR",b?"TL":"TR");r(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":r(b?
"TL":"TR",b?"BL":"BR");r(b?"TR":"TL",b?"BR":"BL");break;default:r(a.aroundCorner,a.corner)}});a=b(a,E,f,{w:y,h:B});a.aroundNodePos=s;return a}}})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(l,m,k){return l("dijit.form.ComboBox",[m,k],{})})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(l,m,k,h,f,c,e,b,d){return c("dijit.layout._LayoutWidget",[m,k,h],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();a&&a.isLayoutContainer||(this.resize(),this.own(f.on("resize",l.hitch(this,"resize"))))}},resize:function(a,c){var g=this.domNode;a&&b.setMarginBox(g,a);var e=c||
{};l.mixin(e,a||{});"h"in e&&"w"in e||(e=l.mixin(b.getMarginBox(g),e));var f=d.getComputedStyle(g),h=b.getMarginExtents(g,f),k=b.getBorderExtents(g,f),e=this._borderBox={w:e.w-(h.w+k.w),h:e.h-(h.h+k.h)},h=b.getPadExtents(g,f);this._contentBox={l:d.toPixelValue(g,f.paddingLeft),t:d.toPixelValue(g,f.paddingTop),w:e.w-h.w,h:e.h-h.h};this.layout()},layout:function(){},_setupChild:function(a){e.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,
b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){e.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"tm1web/share/NumberType":function(){define({DECIMAL:"decimal",PERCENT:"percent"})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(l,m,k,h){var f={};l.colors=f;var c=function(b,c,a){0>a&&++a;1<a&&--a;var e=6*a;return 1>e?b+(c-
b)*e:1>2*a?c:2>3*a?b+(c-b)*(2/3-a)*6:b};l.colorFromRgb=k.fromRgb=function(b,d){var a=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var e=a[2].split(/\s*,\s*/),g=e.length,a=a[1];if("rgb"==a&&3==g||"rgba"==a&&4==g)return a=e[0],"%"==a.charAt(a.length-1)?(a=h.map(e,function(a){return 2.56*parseFloat(a)}),4==g&&(a[3]=e[3]),k.fromArray(a,d)):k.fromArray(e,d);if("hsl"==a&&3==g||"hsla"==a&&4==g){var a=(parseFloat(e[0])%360+360)%360/360,f=parseFloat(e[1])/100,l=parseFloat(e[2])/100,f=
.5>=l?l*(f+1):l+f-l*f,l=2*l-f,a=[256*c(l,f,a+1/3),256*c(l,f,a),256*c(l,f,a-1/3),1];4==g&&(a[3]=e[3]);return k.fromArray(a,d)}}return null};var e=function(b,c,a){b=Number(b);return isNaN(b)?a:b<c?c:b>a?a:b};k.prototype.sanitize=function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,255));this.a=e(this.a,0,1);return this};f.makeGrey=k.makeGrey=function(b,c){return k.fromArray([b,b,b,c])};m.mixin(k.named,{aliceblue:[240,248,255],antiquewhite:[250,
235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,
183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,
220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,
211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,
209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],
rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,
205,50]});return k})},"dojox/grid/cells/_base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dijit/_Widget ../util".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){var p=m("dojox.grid._DeferredTextWidget",n,{deferred:null,_destroyOnRemove:!0,postCreate:function(){this.deferred&&this.deferred.addBoth(k.hitch(this,function(a){this.domNode&&(this.domNode.innerHTML=a)}))}}),
q=function(){setTimeout(k.hitch.apply(l,arguments),0)},r=m("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:!1,alwaysEditing:!1,formatter:null,defaultValue:"...",value:null,hidden:!1,noresize:!1,draggable:!0,_valueProp:"value",_formatPending:!1,constructor:function(a){this._props=a||{};k.mixin(this,a);void 0===this.draggable&&(this.draggable=!0)},_defaultFormat:function(b,c){var d=this.grid.formatterScope||this,g=this.formatter;g&&d&&"string"==typeof g&&(g=this.formatter=d[g]);d=b!=this.defaultValue&&
g?g.apply(d,c):b;if("undefined"==typeof d)return this.defaultValue;d&&d.addBoth&&(d=new p({deferred:d},a.create("span",{innerHTML:this.defaultValue})));return d&&d.declaredClass&&d.startup?"\x3cdiv class\x3d'dojoxGridStubNode' linkWidget\x3d'"+d.id+"' cellIdx\x3d'"+this.index+"'\x3e"+this.defaultValue+"\x3c/div\x3e":d},format:function(a,b){var c=this.grid.edit.info,d=this.get?this.get(a,b):this.value||this.defaultValue,d=d&&d.replace&&this.grid.escapeHTMLInData?d.replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;"):d;return this.editable&&(this.alwaysEditing||c.rowIndex==a&&c.cell==this)?this.formatEditing(c.value?c.value:d,a):this._defaultFormat(d,[d,a,this])},formatEditing:function(a,b){},getNode:function(a){return this.view.getCellNode(a,this.index)},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index)},getEditNode:function(a){return(this.getNode(a)||0).firstChild||0},canResize:function(){var a=this.unitWidth;return a&&"auto"!==a},isFlex:function(){var a=this.unitWidth;return a&&
k.isString(a)&&("auto"==a||"%"==a.slice(-1))},applyEdit:function(a,b){this.getNode(b)&&this.grid.edit.applyCellEdit(a,this,b)},cancelEdit:function(a){this.grid.doCancelEdit(a)},_onEditBlur:function(a){this.grid.edit.isEditCell(a,this.index)&&this.grid.edit.apply()},registerOnBlur:function(a,b){this.commitOnBlur&&f.connect(a,"onblur",function(a){setTimeout(k.hitch(this,"_onEditBlur",b),250)})},needFormatNode:function(a,b){this._formatPending=!0;q(this,"_formatNode",a,b)},cancelFormatNode:function(){this._formatPending=
!1},_formatNode:function(a,c){this._formatPending&&(this._formatPending=!1,e("ie")||b.setSelectable(this.grid.domNode,!0),this.formatNode(this.getEditNode(c),a,c))},formatNode:function(a,b,c){e("ie")?q(this,"focus",c,a):this.focus(c,a)},dispatchEvent:function(a,b){if(a in this)return this[a](b)},getValue:function(a){return this.getEditNode(a)[this._valueProp]},setValue:function(a,b){var c=this.getEditNode(a);c&&(c[this._valueProp]=b)},focus:function(a,b){var c=b||this.getEditNode(a);try{g.fire(c,
"focus"),g.fire(c,"select")}catch(d){}},save:function(a){this.value=this.value||this.getValue(a)},restore:function(a){this.setValue(a,this.value)},_finish:function(a){b.setSelectable(this.grid.domNode,!1);this.cancelFormatNode()},apply:function(a){this.applyEdit(this.getValue(a),a);this._finish(a)},cancel:function(a){this.cancelEdit(a);this._finish(a)}});r.markupFactory=function(a,b){var c=k.trim(d.get(a,"formatter")||"");c&&(b.formatter=k.getObject(c)||c);if(c=k.trim(d.get(a,"get")||""))b.get=k.getObject(c);
c=function(b,c,g){var e=k.trim(d.get(a,b)||"");e&&(c[g||b]="false"!=e.toLowerCase())};c("sortDesc",b);c("editable",b);c("alwaysEditing",b);c("noresize",b);c("draggable",b);if(c=k.trim(d.get(a,"loadingText")||d.get(a,"defaultValue")||""))b.defaultValue=c;c=function(b,c,g){var e=k.trim(d.get(a,b)||"")||void 0;e&&(c[g||b]=e)};c("styles",b);c("headerStyles",b);c("cellStyles",b);c("classes",b);c("headerClasses",b);c("cellClasses",b)};var s=r.Cell=m("dojox.grid.cells.Cell",r,{constructor:function(){this.keyFilter=
this.keyFilter},keyFilter:null,formatEditing:function(a,b){this.needFormatNode(a,b);a&&a.replace&&(a=a.replace(/"/g,"\x26quot;"));return'\x3cinput class\x3d"dojoxGridInput" type\x3d"text" value\x3d"'+a+'"\x3e'},formatNode:function(a,b,c){this.inherited(arguments);this.registerOnBlur(a,c)},doKey:function(a){this.keyFilter&&-1==String.fromCharCode(a.charCode).search(this.keyFilter)&&h.stop(a)},_finish:function(a){this.inherited(arguments);var b=this.getEditNode(a);try{g.fire(b,"blur")}catch(c){}}});
s.markupFactory=function(a,b){r.markupFactory(a,b);var c=k.trim(d.get(a,"keyFilter")||"");c&&(b.keyFilter=new RegExp(c))};(r.RowIndex=m("dojox.grid.cells.RowIndex",s,{name:"Row",postscript:function(){this.editable=!1},get:function(a){return a+1}})).markupFactory=function(a,b){s.markupFactory(a,b)};(r.Select=m("dojox.grid.cells.Select",s,{options:null,values:null,returnIndex:-1,constructor:function(a){this.values=this.values||this.options},formatEditing:function(a,b){this.needFormatNode(a,b);for(var c=
['\x3cselect class\x3d"dojoxGridSelect"\x3e'],d=0,g,e;void 0!==(g=this.options[d])&&void 0!==(e=this.values[d]);d++)e=e.replace?e.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):e,g=g.replace?g.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):g,c.push("\x3coption",a==e?" selected":"",' value\x3d"'+e+'"',"\x3e",g,"\x3c/option\x3e");c.push("\x3c/select\x3e");return c.join("")},_defaultFormat:function(a,b){var d=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var g=c.indexOf(this.values,
d);0<=g&&(d=this.options[g])}return d},getValue:function(a){var b=this.getEditNode(a);if(b)return a=b.selectedIndex,b=b.options[a],-1<this.returnIndex?a:b.value||b.innerHTML}})).markupFactory=function(a,b){s.markupFactory(a,b);var c=k.trim(d.get(a,"options")||"");if(c){var g=c.split(",");g[0]!=c&&(b.options=g)}if(c=k.trim(d.get(a,"values")||""))g=c.split(","),g[0]!=c&&(b.values=g)};var t=r.AlwaysEdit=m("dojox.grid.cells.AlwaysEdit",s,{alwaysEditing:!0,_formatNode:function(a,b){this.formatNode(this.getEditNode(b),
a,b)},applyStaticValue:function(a){var b=this.grid.edit;b.applyCellEdit(this.getValue(a),this,a);b.start(this,a,!0)}});t.markupFactory=function(a,b){s.markupFactory(a,b)};(r.Bool=m("dojox.grid.cells.Bool",t,{_valueProp:"checked",formatEditing:function(a,b){return'\x3cinput class\x3d"dojoxGridInput" type\x3d"checkbox"'+(a?' checked\x3d"checked"':"")+' style\x3d"width: auto" /\x3e'},doclick:function(a){"INPUT"==a.target.tagName&&this.applyStaticValue(a.rowIndex)}})).markupFactory=function(a,b){t.markupFactory(a,
b)};return r})},"dojo/cldr/supplemental":function(){define(["../_base/kernel","../_base/lang","../i18n"],function(l,m,k){var h={};m.setObject("cldr.supplemental",h,l);h.getFirstDayOfWeek=function(f){f={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,
pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[h._region(f)];return void 0===f?1:f};h._region=function(f){f=k.normalizeLocale(f);f=f.split("-");var c=f[1];c?4==c.length&&(c=f[2]):c={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",
es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",
mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",
ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",
cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",
kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",
nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",
tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[f[0]];return c};h.getWeekend=function(f){var c=h._region(f);f={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[c];c={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,
bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[c];void 0===f&&(f=6);void 0===c&&(c=0);return{start:f,end:c}};return h})},"dojo/number":function(){define("./_base/kernel ./_base/lang ./i18n ./i18n!./cldr/nls/number ./string ./regexp".split(" "),function(l,m,k,h,f,c){var e={};l.number=e;e.format=function(b,a){a=m.mixin({},a||{});var c=k.normalizeLocale(a.locale),c=k.getLocalization("dojo.cldr","number",c)||h;a.customs=c;c=a.pattern||c[(a.type||"decimal")+"Format"];return isNaN(b)||Infinity==
Math.abs(b)?null:e._applyPattern(b,c,a)};e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;e._applyPattern=function(b,a,c){c=c||{};var g=c.customs.group,f=c.customs.decimal;a=a.split(";");var h=a[0];a=a[0>b?1:0]||"-"+h;if(-1!=a.indexOf("%"))b*=100;else if(-1!=a.indexOf("\u2030"))b*=1E3;else if(-1!=a.indexOf("\u00a4"))g=c.customs.currencyGroup||g,f=c.customs.currencyDecimal||f,a=a.replace(/\u00a4{1,3}/,function(a){return c[["symbol","currency","displayName"][a.length-1]]||c.currency||""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");
var k=e._numberPatternRE,h=h.match(k);if(!h)throw Error("unable to find a number expression in pattern: "+a);!1===c.fractional&&(c.places=0);return a.replace(k,e._formatAbsolute(b,h[0],{decimal:f,group:g,places:c.places,round:c.round}))};e.round=function(b,a,c){c=10/(c||10);return(c*+b).toFixed(a)/c};if(0==(.9).toFixed()){var b=e.round;e.round=function(c,a,e){var g=Math.pow(10,-a||0),f=Math.abs(c);if(!c||f>=g)g=0;else if(f/=g,.5>f||.95<=f)g=0;return b(c,a,e)+(0<c?g:-g)}}e._formatAbsolute=function(b,
a,c){c=c||{};!0===c.places&&(c.places=0);Infinity===c.places&&(c.places=6);a=a.split(".");var g="string"==typeof c.places&&c.places.indexOf(","),h=c.places;g?h=c.places.substring(g+1):0<=h||(h=(a[1]||[]).length);0>c.round||(b=e.round(b,h,c.round));b=String(Math.abs(b)).split(".");var k=b[1]||"";a[1]||c.places?(g&&(c.places=c.places.substring(0,g)),g=void 0!==c.places?c.places:a[1]&&a[1].lastIndexOf("0")+1,g>k.length&&(b[1]=f.pad(k,g,"0",!0)),h<k.length&&(b[1]=k.substr(0,h))):b[1]&&b.pop();h=a[0].replace(",",
"");g=h.indexOf("0");-1!=g&&(g=h.length-g,g>b[0].length&&(b[0]=f.pad(b[0],g)),-1==h.indexOf("#")&&(b[0]=b[0].substr(b[0].length-g)));var h=a[0].lastIndexOf(","),l,m;-1!=h&&(l=a[0].length-h-1,a=a[0].substr(0,h),h=a.lastIndexOf(","),-1!=h&&(m=a.length-h-1));a=[];for(h=b[0];h;)g=h.length-l,a.push(0<g?h.substr(g):h),h=0<g?h.slice(0,g):"",m&&(l=m,delete m);b[0]=a.reverse().join(c.group||",");return b.join(c.decimal||".")};e.regexp=function(b){return e._parseInfo(b).regexp};e._parseInfo=function(b){b=b||
{};var a=k.normalizeLocale(b.locale),a=k.getLocalization("dojo.cldr","number",a)||h,f=b.pattern||a[(b.type||"decimal")+"Format"],g=a.group,l=a.decimal,m=1;if(-1!=f.indexOf("%"))m/=100;else if(-1!=f.indexOf("\u2030"))m/=1E3;else{var r=-1!=f.indexOf("\u00a4");r&&(g=a.currencyGroup||g,l=a.currencyDecimal||l)}a=f.split(";");1==a.length&&a.push("-"+a[0]);a=c.buildGroupRE(a,function(a){a="(?:"+c.escapeString(a,".")+")";return a.replace(e._numberPatternRE,function(a){var c={signed:!1,separator:b.strict?
g:[g,""],fractional:b.fractional,decimal:l,exponent:!1};a=a.split(".");var f=b.places;1==a.length&&1!=m&&(a[1]="###");1==a.length||0===f?c.fractional=!1:(void 0===f&&(f=b.pattern?a[1].lastIndexOf("0")+1:Infinity),f&&void 0==b.fractional&&(c.fractional=!0),!b.places&&f<a[1].length&&(f+=","+a[1].length),c.places=f);a=a[0].split(",");1<a.length&&(c.groupSize=a.pop().length,1<a.length&&(c.groupSize2=a.pop().length));return"("+e._realNumberRegexp(c)+")"})},!0);r&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,
function(a,g,e,f){a=c.escapeString(b[["symbol","currency","displayName"][e.length-1]]||b.currency||"");g=g?"[\\s\\xa0]":"";f=f?"[\\s\\xa0]":"";return b.strict?g+a+f:(g&&(g+="*"),f&&(f+="*"),"(?:"+g+a+f+")?")}));return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:g,decimal:l,factor:m}};e.parse=function(b,a){var c=e._parseInfo(a),g=(new RegExp("^"+c.regexp+"$")).exec(b);if(!g)return NaN;var f=g[1];if(!g[1]){if(!g[2])return NaN;f=g[2];c.factor*=-1}f=f.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),
"").replace(c.decimal,".");return f*c.factor};e._realNumberRegexp=function(b){b=b||{};"places"in b||(b.places=Infinity);"string"!=typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(b.places)||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var a=e._integerRegexp(b),f=c.buildGroupRE(b.fractional,function(a){var c="";a&&0!==b.places&&(c="\\"+b.decimal,c=Infinity==b.places?"(?:"+c+"\\d+)?":c+("\\d{"+b.places+"}"));return c},!0),g=c.buildGroupRE(b.exponent,
function(a){return a?"([eE]"+e._integerRegexp({signed:b.eSigned})+")":""}),a=a+f;f&&(a="(?:(?:"+a+")|(?:"+f+"))");return a+g};e._integerRegexp=function(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var a=c.buildGroupRE(b.signed,function(a){return a?"[-+]":""},!0),e=c.buildGroupRE(b.separator,function(a){if(!a)return"(?:\\d+)";a=c.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var e=b.groupSize,f=b.groupSize2;return f?(a="(?:0|[1-9]\\d{0,"+
(f-1)+"}(?:["+a+"]\\d{"+f+"})*["+a+"]\\d{"+e+"})",0<e-f?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+a+"]\\d{"+e+"})*)"},!0);return a+e};return e})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(l,m,k,h,f,c,e,b,d,a){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,
startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(d.on("resize",c.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],c=!1;e("\x3e *",this.containerNode).some(function(d){var e=b.byNode(d);e&&e.resize?a.push(e):!/script|link|style/i.test(d.nodeName)&&d.offsetHeight&&(c=!0)});
this._singleChild=1!=a.length||c?null:a[0];k.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,g){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();b&&h.setMarginBox(this.domNode,b);var d=this.containerNode;if(d===this.domNode){var e=g||{};
c.mixin(e,b||{});"h"in e&&"w"in e||(e=c.mixin(h.getMarginBox(d),e));this._contentBox=a.marginBox2contentBox(d,e)}else this._contentBox=h.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||h.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&
"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!k.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"tm1web/subseteditor/TreePaneHeader":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-class",
"dijit/layout/ContentPane"],function(l,m,k,h,f){return l(f,{model:null,subsetModel:null,region:"top",_subsetModified:!1,postCreate:function(){this.inherited(arguments);k.setSelectable(this.containerNode,!1);h.add(this.domNode,"tm1webTreePaneHeader");if(this.subsetModel){var c=m.hitch(this,"_onSubsetMetaDataChange");this.subsetModel.getMetaData(c);this.connect(this.subsetModel,"onMetaDataChange",c)}c=m.hitch(this,"onMetaDataChange");this.model.getMetaData().then(c);this.connect(this.model,"onMetaDataChange",
c)},_onSubsetMetaDataChange:function(c){this._subsetModified=c.modified;this.model.getMetaData().then(m.hitch(this,function(){this.model.getMetaData().then(m.hitch(this,"onMetaDataChange"))}))},_getSubsetModifiedAttr:function(){return this._subsetModified},onMetaDataChange:function(c){this.set("content",this.getLabel(c))},getLabel:function(c){}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(l,m,k,h){var f=l("dijit.form._ButtonMixin"+
(k("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(c){c.stopPropagation();c.preventDefault();this.disabled||this.valueNode.click(c);return!1},_onClick:function(c){if(this.disabled)return c.stopPropagation(),c.preventDefault(),!1;!1===this.onClick(c)&&c.preventDefault();var e=c.defaultPrevented;if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var b=this.domNode;b.parentNode;b=b.parentNode){var d=h.byNode(b);if(d&&"function"==typeof d._onSubmit){d._onSubmit(c);
c.preventDefault();e=!0;break}}return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",c);(this.containerNode||this.focusNode).innerHTML=c}});k("dojo-bidi")&&(f=l("dijit.form._ButtonMixin",f,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return f})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],
function(l,m,k){function h(e){setTimeout(function(){c.apply(f,e)},0)}var f=new k,c=f.emit;f.emit=null;m.prototype.trace=function(){var c=l._toArray(arguments);this.then(function(b){h(["resolved",b].concat(c))},function(b){h(["rejected",b].concat(c))},function(b){h(["progress",b].concat(c))});return this};m.prototype.traceRejected=function(){var c=l._toArray(arguments);this.otherwise(function(b){h(["rejected",b].concat(c))});return this};return f})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(l,m,k,h){return k("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(f){h.mixin(this,f);this.connects=[];f=this.store;if(!f.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");f.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([m.after(f,
"onNew",h.hitch(this,"onNewItem"),!0),m.after(f,"onDelete",h.hitch(this,"onDeleteItem"),!0),m.after(f,"onSet",h.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var f;f=this.connects.pop();)f.remove()},getRoot:function(f,c){this.root?f(this.root):this.store.fetch({query:this.query,onComplete:h.hitch(this,function(c){if(1!=c.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+c.length+" items, but must return exactly one");this.root=c[0];f(this.root)}),onError:c})},mayHaveChildren:function(f){return l.some(this.childrenAttrs,
function(c){return this.store.hasAttribute(f,c)},this)},getChildren:function(f,c,e){var b=this.store;if(b.isItemLoaded(f)){for(var d=[],a=0;a<this.childrenAttrs.length;a++)var n=b.getValues(f,this.childrenAttrs[a]),d=d.concat(n);var g=0;this.deferItemLoadingUntilExpand||l.forEach(d,function(a){b.isItemLoaded(a)||g++});0==g?c(d):l.forEach(d,function(a,f){b.isItemLoaded(a)||b.loadItem({item:a,onItem:function(a){d[f]=a;0==--g&&c(d)},onError:e})})}else{var k=h.hitch(this,arguments.callee);b.loadItem({item:f,
onItem:function(a){k(a,c,e)},onError:e})}},isItem:function(f){return this.store.isItem(f)},fetchItemByIdentity:function(f){this.store.fetchItemByIdentity(f)},getIdentity:function(f){return this.store.getIdentity(f)},getLabel:function(f){return this.labelAttr?this.store.getValue(f,this.labelAttr):this.store.getLabel(f)},newItem:function(f,c,e){var b={parent:c,attribute:this.childrenAttrs[0]},d;this.newItemIdAttr&&f[this.newItemIdAttr]?this.fetchItemByIdentity({identity:f[this.newItemIdAttr],scope:this,
onItem:function(a){a?this.pasteItem(a,null,c,!0,e):(d=this.store.newItem(f,b))&&void 0!=e&&this.pasteItem(d,c,c,!1,e)}}):(d=this.store.newItem(f,b))&&void 0!=e&&this.pasteItem(d,c,c,!1,e)},pasteItem:function(f,c,e,b,d){var a=this.store,h=this.childrenAttrs[0];c&&l.forEach(this.childrenAttrs,function(g){if(a.containsValue(c,g,f)){if(!b){var d=l.filter(a.getValues(c,g),function(a){return a!=f});a.setValues(c,g,d)}h=g}});if(e)if("number"==typeof d){var g=a.getValues(e,h).slice();g.splice(d,0,f);a.setValues(e,
h,g)}else a.setValues(e,h,a.getValues(e,h).concat(f))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(f,c){c&&this.getChildren(c.item,h.hitch(this,function(e){this.onChildrenChange(c.item,e)}))},onDeleteItem:function(f){this.onDelete(f)},onSetItem:function(f,c){if(-1!=l.indexOf(this.childrenAttrs,c))this.getChildren(f,h.hitch(this,function(c){this.onChildrenChange(f,c)}));else this.onChange(f)}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare",
"./Moveable"],function(l,m){var k=m.prototype.onMove;return l("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(h,f){f||(f={});f.timeout&&"number"==typeof f.timeout&&0<=f.timeout&&(this.timeout=f.timeout)},onMoveStop:function(h){h._timer&&(clearTimeout(h._timer),k.call(this,h,h._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(h,f){h._leftTop=f;if(!h._timer){var c=this;h._timer=setTimeout(function(){h._timer=null;k.call(c,h,h._leftTop)},this.timeout)}}})})},"tm1web/subseteditor/FilterByAttributeDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByAttributeDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory dijit/form/FilteringSelect ../utility/message-localizer ../widgets/_StopPropagationMixin dojo/query".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){return l([f,b,d,p],{templateString:e,_attributeNamesSelect:null,_attributeValuesSelect:null,_submitButton:null,_cancelButton:null,title:g.get("FILTER_BY_ATTRIBUTE_TITLE_STR"),_selectAttributeLabel:g.get("SELECT_ATTRIBUTE_STR"),_selectValueLabel:g.get("SELECT_VALUE_TO_MATCH_STR"),_submitButtonLabel:g.get("OK_STR"),_cancelButtonLabel:g.get("CANCEL_STR"),_invalidMessage:g.get("VALUE_REQUIRED_STR"),_stopPropagationEvents:"keydown",constructor:function(){this._loadDeferred=
new h},postCreate:function(){this.inherited(arguments);this.model.getAttributeNames(k.hitch(this,"_populateAttributeNamesSelect"));this._attributeValuesSelect.set("store",new a);this.own(this._attributeNamesSelect.on("change",k.hitch(this,"_onChange")));this._attributeValuesSelect.watch("state",k.hitch(this,"_onValidStateChange"));q(".tm1webFilterByAttributeLabel",this.domNode).attr("for",this._attributeNamesSelect.id);q(".tm1webFilterByAttributeMatchedValueLabel",this.domNode).attr("for",this._attributeValuesSelect.id)},
_populateAttributeNamesSelect:function(b){this._attributeNamesSelect.set("store",new a({data:m.map(b,function(a){return{id:a,name:a}})}));this._loadDeferred.resolve();delete this._loadDeferred},_populateAttributeValuesSelect:function(a){a=m.map(a,function(a){return{id:a,name:a}});var b=this._attributeValuesSelect;b.get("store").setData(a);0<a.length&&(b.set("value",a[0].id),this._submitButton.set("disabled",!1));b.set("required",!0)},_onChange:function(){var a=this._attributeValuesSelect,b=this._attributeNamesSelect;
a.get("store").setData([]);a.set("value",null);b.isValid()&&(a.set("required",!1),this._submitButton.set("disabled",!0),this.model.getAttributeValues(b.get("value"),k.hitch(this,"_populateAttributeValuesSelect")))},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._attributeNamesSelect.get("value"),b=this._attributeValuesSelect.get("value");this.model.filterByAttribute(a,b,k.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})},show:function(){var a=
this.getInherited(arguments),b=arguments,c=this,g=new h;this._loadDeferred.then(function(){a.apply(c,b).then(function(){g.resolve()})});return g}})})},"tm1web/websheet/FreezeLines":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","../cubeview/CubeViewBase"],function(l,m,k,h,f){return l(f,{constructor:function(c){this._horizontalLine=this._verticalLine=null;this._size=c;this._initializeFreezeLines()},_initializeFreezeLines:function(){},create:function(){var c=
document.createDocumentFragment();0<this._size.leftPanelWidth&&(this._verticalLine=this.CreatePanel(),m.add(this._verticalLine,"tm1webVerticalLine"),k.place(this._verticalLine,c));0<this._size.topPanelHeight&&(this._horizontalLine=this.CreatePanel(),m.add(this._horizontalLine,"tm1webHorizontalLine"),k.place(this._horizontalLine,c));this._setSize(this._size);return c},resize:function(c){this._size=c;this._setSize(c)},_setSize:function(c){if(this._verticalLine){var e=c.topPanelHeight+c.mainHeight;c.height<
c.mainHeight&&(e=c.topPanelHeight+c.height);h.set(this._verticalLine,{left:c.leftPanelWidth+"px",height:e+"px"})}this._horizontalLine&&(e=c.leftPanelWidth+c.mainWidth,c.width<c.mainWidth&&(e=c.leftPanelWidth+c.width),h.set(this._horizontalLine,{top:c.topPanelHeight+"px",width:e+"px"}))}})})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(l,m,k,h){function f(b){if((b.keyCode===l.ENTER||b.keyCode===l.SPACE)&&!/input|button|textarea/i.test(b.target.nodeName))for(b=
b.target;b;b=b.parentNode)if(b.dojoClick)return!0}var c;k(document,"keydown",function(b){f(b)?(c=b.target,b.preventDefault()):c=null});k(document,"keyup",function(b){f(b)&&b.target==c&&(c=null,k.emit(b.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,metaKey:b.metaKey,altKey:b.altKey,_origType:b.type}))});var e=function(b,c){b.dojoClick=!0;return k(b,"click",c)};e.click=e;e.press=function(b,c){var a=k(b,h.press,function(a){("mousedown"!=a.type||m.isLeft(a))&&c(a)}),e=
k(b,"keydown",function(a){a.keyCode!==l.ENTER&&a.keyCode!==l.SPACE||c(a)});return{remove:function(){a.remove();e.remove()}}};e.release=function(b,c){var a=k(b,h.release,function(a){("mouseup"!=a.type||m.isLeft(a))&&c(a)}),e=k(b,"keyup",function(a){a.keyCode!==l.ENTER&&a.keyCode!==l.SPACE||c(a)});return{remove:function(){a.remove();e.remove()}}};e.move=h.move;return e})},"tm1web/celledit/_CellListStore":function(){define("dojo/_base/declare dojo/store/util/QueryResults dojo/Deferred dojo/when dojo/string dojo/regexp ./AsyncSimpleQueryEngine".split(" "),
function(l,m,k,h,f,c,e){return l(null,{objectId:null,cellInfo:null,_service:null,_method:null,_cellInfoProperty:null,constructor:function(b){l.safeMixin(this,b)},_getData:function(){if(this.cellInfo[this._cellInfoProperty])return this.cellInfo[this._cellInfoProperty];if(this._loadPromise)return this._loadPromise;var b=new k;this._loadPromise=b.promise;this._service[this._method](this.objectId,this._getRowIndex(),this._getColumnIndex(),{callback:function(c){for(var a=this.cellInfo[this._cellInfoProperty]=
Array(c?c.length:0),e=0;e<c.length;e++)a[e]={id:e,value:this._getDisplayValue(c[e])};this._loadPromise=null;b.resolve(a)},errorHandler:function(c){this.cellInfo.pickListItems=[];this._loadPromise=null;b.resolve(data)},scope:this});return this._loadPromise},_getDisplayValue:function(b){return f.trim(b)},_getRowIndex:function(){return this.cellInfo.rowIndex},_getColumnIndex:function(){return this.cellInfo.colIndex},get:function(b){return h(this._getData(),function(c){return c[b]})},contains:function(b){b=
{value:new RegExp("^"+c.escapeString(b)+"$","mi")};return h(this.query(b),function(b){return 0<b.total})},getIdentity:function(b){return b.id},query:function(b,c){return m(e(b,c)(this._getData()))}})})},"tm1web/common/nls/CommonMessages":function(){define({root:{ABOUT_TM1WEB:'Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2007, 2019. IBM, the IBM logo, ibm.com, Cognos and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. A current list of IBM trademarks is available on the Web at www.ibm.com/legal/copytrade.shtml. Other product and service names might be trademarks of IBM or other companies. This Program is licensed under the terms of the license agreement accompanying the Program. This license agreement may be either located in a Program directory folder or library identified as "License" or "Non_IBM_License", if applicable, or provided as a printed license agreement. Please read the agreement carefully before using the Program. By using the Program you agree to these terms. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.',
ABOUT_PRODUCT_NAME:"About IBM\u00ae Planning Analytics 2.0",CONTRIBUTOR_COPYRIGHT:'Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2011, 2019. IBM, the IBM logo, ibm.com, Cognos, and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. A current list of IBM trademarks is available on the Web at www.ibm.com/legal/copytrade.shtml. Other product and service names might be trademarks of IBM or other companies. This Program is licensed under the terms of the license agreement accompanying the Program. This license agreement may be either located in a Program directory folder or library identified as "License" or "Non_IBM_License", if applicable, or provided as a printed license agreement. Please read this agreement carefully before using the Program. By using the Program, licensee agrees to these terms.  If you are using the Program on behalf of licensee, you represent and warrant either that licensee has accepted these terms or that you have full authority to bind licensee to these terms. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.',
CONTRIBUTOR_VERSION:"Version 11.0",LICENSED_MATERIALS_STR:"Licensed Materials - Property of IBM Corp.",COPYRIGHT_STR:"Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2007, 2019. IBM, the IBM logo, ibm.com, Cognos and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. Other product and service names might be trademarks of IBM or other companies.",TOP_STR:"Top",TOP_TOOLTIP_STR:"Top page of this column",
BOTTOM_STR:"Bottom",BOTTOM_TOOLTIP_STR:"Bottom page of this column",PAGE_UP_STR:"Page Up",PAGE_UP_TOOLTIP_STR:"1 page up",PAGE_DOWN_STR:"Page down",PAGE_DOWN_TOOLTIP_STR:"1 page down",PREVIOUS_PAGE_TOOLTIP_STR:"Previous page",NEXT_PAGE_TOOLTIP_STR:"Next page",DISPLAY_PAGES_TOOLTIP_STR:"Display pages",PAGE_STR:"Display pages",DIMENSION_DROP_PANEL_DRAG_THIS:"Drag to move dimension '{0}' to another location.",DIMENSION_DROP_PANEL_DIM_STR:"Dimension {0}",DIMENSION_DROP_PANEL_OPEN_SUBSET_EDITOR_STR:"Open subset editor",
HIDDEN_DIMENSION_DROP_PANEL_STR:"Hidden",HIDDEN_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Hidden dimensions drop area",COLUMN_DIMENSION_DROP_PANEL_STR:"Columns",COLUMN_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Column dimensions drop area",ROW_DIMENSION_DROP_PANEL_STR:"Rows",ROW_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Row dimensions drop area",TITLE_DIMENSION_DROP_PANEL_STR:"Context",TITLE_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Context dimensions drop area",EXPAND_TOOLTIP_STR:"Expand",COLLAPSE_TOOLTIP_STR:"Collapse",NO_TOP_OR_BOTTOM_STR:"No top or bottom",
CUSTOM_STR:"Custom...",TOP_OR_BOTTOM_STR:"Top or bottom",NUMBER_OF_ITEMS_STR:"Number of items",EXPORT_ROWS_CURRENT_PAGE:"Export rows in current page",EXPORT_ROWS_BEGINNING:"Export rows from beginning to current page",EXPORT_ROWS_VIEW:"Export all rows in the view",EXPORT_PAGES_LABEL:"Number of rows to export",EXPORT_DIMENSIONS_LABEL:"Title dimensions to export",EXPORT_AUTO_FIT_LABEL:"Autofit row height",EXPORT_AUTO_FIT_ROW_HEIGHT_LABEL:"Autofit",MAX_EXPORT_SHEET_NUM_EXCEEDED:"The number of exported sheets exceeds the allowed maximum of {0} sheets. Try changing selections which can reduce the number of sheets.",
TOTAL_SHEETS_LABEL:"Number of sheets to export",EXPORT_TITLE_LABEL:"Export",CANCEL_EXPORT:"Cancel export",METRIC_DIAGRAM_POOR:"Poor",METRIC_DIAGRAM_AVERAGE:"Average",METRIC_DIAGRAM_EXCELLENT:"Excellent",METRIC_DIAGRAM_METRICS:"Metrics",METRIC_DIAGRAM_NOT_LIVE:"Metrics not live",METRIC_DIAGRAM_WORSE:"Worse",METRIC_DIAGRAM_NO_CHANGE:"No change",METRIC_DIAGRAM_BETTER:"Better",METRIC_DIAGRAM_EVEN:"Even",METRIC_DIAGRAM_INCOMPLETE:"Incomplete",ABOUT_HELP_STR:"About TM1\u00ae Application Web",m_cultureCode:"en",
OPEN_STR:"Open",CLOSE_STR:"Close",CLOSE_ALL_STR:"Close all",CLOSE_OTHERS_STR:"Close others",COPY_STR:"Copy",PASTE_STR:"Paste",DATA_SPREAD_STR:"Data spread",HOLDS_STR:"Holds",DRILL_STR:"Drill",PROPORTIONAL_SPREAD_STR:"Proportional spread...",EQUAL_SPREAD_STR:"Equal spread...",REPEAT_SPREAD_STR:"Repeat...",CLEAR_SPREAD_STR:"Clear...",PC_SPREAD_STR:"Percent change...",SL_SPREAD_STR:"Straight line...",GP_SPREAD_STR:"Growth percent...",RP_SPREAD_STR:"Relative proportional spread...",RP_ADJ_SPREAD_STR:"Relative percent adjustment...",
RL_SPREAD_STR:"Repeat leaves...",EL_SPREAD_STR:"Equal spread leaves...",HL_SPREAD_STR:"Hold leaves",HC_SPREAD_STR:"Hold consolidate",RLH_SPREAD_STR:"Release leaf holds",RC_SPREAD_STR:"Release consolidate",RA_SPREAD_STR:"Release all holds",SPREAD_DESC_PROP_STR:"Distributes a specified value among cells proportional to existing cell values.",SPREAD_DESC_EQ_STR:"Distributes a specified value equally across the cells in a view.",SPREAD_DESC_EQ_LEAVES_STR:"Distributes a specified value equally across all leaves of a consolidated cell. You can choose to distribute the value to all leaves of the consolidation or only to those leaves that already contain non-zero values.",
SPREAD_DESC_RPT_STR:"Repeats a specified value across cells in a view.",SPREAD_DESC_RPT_LEAVES_STR:"Copies a specified value to the leaves of a consolidation. You can either copy the value to all leaves of the consolidation, or copy the value only to those leaves that already contain non-zero values.",SPREAD_DESC_PCT_CHANGE_STR:"Multiplies the current cell values by a specified percentage. The product of that multiplication can then replace, be added to, or be subtracted from the existing cell values.",
SPREAD_DESC_STR_LINE_STR:"Populates cube cells by linear interpolation between two specified endpoints. For example, if you have a start value of 100 and an end value of 200, the midpoint value would be 150.",SPREAD_DESC_REL_PROP_STR:"Spreads values to the leaves of a consolidation proportional to the leaves of a reference cell. The reference cell can be in the cube from which you initiate spreading or in a different cube.",SPREAD_DESC_REL_PCT_ADJ_STR:"Spreads values to the leaves of a consolidation by applying a percentage adjustment to the leaves of a reference cell.",
SPREAD_DESC_STRT_LINE_STR:"Distributes a specified value among cells proportional to existing cell values.",SPREAD_DESC_PCT_GROWTH_STR:"Takes an initial value as a starting point, and sequentially increments all values in a selected range of cells by the specified percentage.",SPREAD_DESC_CLEAR_STR:"Clears values from cells in a view. When you apply the Clear method to a parent cell, all children of the parent are set to zero.",SLICE_TO_EXCEL_STR:"Slice to Excel",SNAP_TO_EXCEL_STR:"Snapshot to Excel",
EXPORT_TO_PDF_STR:"Export to PDF",LOGOUT_CHECK:"Navigating away will end your TM1 Web session.",DELETE_VIEW_STR:"Delete...",DELETE_VIEW_TITLE_STR:"Delete node",CONFIRM_DELETE_NAV_TREE_NODE:"Are you sure you want to delete '{0}'?",ASCENDING_STR:"Ascending",DESCENDING_STR:"Descending",DONT_SORT_STR:"Don't sort",TOP_3_STR:"Top 3",TOP_5_STR:"Top 5",TOP_10_STR:"Top 10",BOTTOM_3_STR:"Bottom 3",BOTTOM_5_STR:"Bottom 5",BOTTOM_10_STR:"Bottom 10",CHART_TYPE_STR:"Chart type",CHART_PROP_STR:"Chart properties",
SUP_ZERO_ROW_COL_STR:"Suppress zeros on rows and columns",SUP_ZERO_ROW_STR:"Suppress zeros on rows",SUP_ZERO_COL_STR:"Suppress zeros on columns",YES_STR:"Yes",NO_STR:"No",CANCEL_STR:"Cancel",JANUARY_STR:"January",FEBRUARY_STR:"February",MARCH_STR:"March",APRIL_STR:"April",MAY_STR:"May",JUNE_STR:"June",JULY_STR:"July",AUGUST_STR:"August",SEPTEMBER_STR:"September",OCTOBER_STR:"October",NOVEMBER_STR:"November",DECEMBER_STR:"December",DECIMAL_THOUSAND_SEP_STR:"Use '{0}' as the decimal separator and '{1}' as the thousand separator.",
UNDO_STR:"Undo",REDO_STR:"Redo",WARN_UNSAVED_DATA_STR:"Changes you made to '{0}' have not been saved.{1} Press OK to continue, or Cancel to stay on the current object.",CREATE_SANDBOX_STR:"Create sandbox...",DELETE_SANDBOX_STR:"Delete sandbox...",COPY_CLIPBOARD_OFF_TITLE_STR:"Copying to clipboard",COPY_CLIPBOARD_OFF_STR:"Copying to the clipboard is currently turned off by your browser.",PASTE_CLIPBOARD_OFF_TITLE_STR:"Pasting from clipboard",PASTE_CLIPBOARD_OFF_STR:"Pasting from clipboard is currently turned off by your browser.",
LOCAL_DATA_USED_STR:"Local data will be used.",SPREAD_TITLE_PROPORTIONAL_SPREAD:"Proportional spread",SPREAD_TITLE_EQUAL_SPREAD:"Equal spread",SPREAD_TITLE_REPEAT:"Repeat",SPREAD_TITLE_CLEAR:"Clear",SPREAD_TITLE_PERCENT_CHANGE:"Percent change",SPREAD_TITLE_STRAIGHT_LINE:"Straight line",SPREAD_TITLE_GROWTH:"Growth percent",SPREAD_TITLE_RELATIVE_PROPORTIONAL:"Relative proportional spread",SPREAD_TITLE_RELATIVE_PERCENT:"Relative percent adjustment",REFERENCE_CELL_VALUE:"Reference cell value",PERCENT_ADJUSTMENT:"% adjustment",
SPREAD_TITLE_REPEAT_LEAVES:"Repeat leaves",SPREAD_TITLE_EQUAL_SPREAD_LEAVES:"Equal spread leaves",SPREAD_LABEL_VALUE:"Value",SPREAD_LABEL_START:"Start value",SPREAD_LABEL_END:"End value",SPREAD_LABEL_GROWTH:"% growth",SPREAD_LABEL_CHANGE:"% change",SPREAD_SECTION_EXTEND:"Extend",SPREAD_LABEL_LEFT:"Left",SPREAD_LABEL_RIGHT:"Right",SPREAD_LABEL_UP:"Up",SPREAD_LABEL_DOWN:"Down",SPREAD_LABEL_HORIZONTAL:"Horizontal",SPREAD_LABEL_VERTICAL:"Vertical",SPREAD_LABEL_REPLACE:"Replace",SPREAD_SECTION_UPDATE:"Update action",
SPREAD_LABEL_ADD:"Add",SPREAD_LABEL_SUBTRACT:"Subtract",SPREAD_SECTION_APPLY:"Apply to",SPREAD_LABEL_POPULATED:"Populated leaf cells",SPREAD_LABEL_ALL:"All leaf cells",SPREAD_BUTTON_APPLY:"Apply",SPREAD_BUTTON_CANCEL:"Cancel",SPREAD_LABEL_RELATIVE_CUBE:"Cube",SPREAD_LABEL_RELATIVE_VALUE:"Value",SPREAD_BUTTON_RELATIVE_CANCEL:"Cancel",SPREAD_BUTTON_RELATIVE_SUBMIT:"Submit",SPREAD_BUTTON_RELATIVE_GO_BACK:"Back",SPREAD_BUTTON_RELATIVE_SELECT:"Select",SPREAD_BUTTON_RELATIVE_APPLY:"Apply",SPREAD_TBL_HDR_RELATIVE_DIMENSIONS:"Dimensions",
SPREAD_TBL_HDR_RELATIVE_ELMT_NAME:"Element name",RESET_ALL_VIEW_TAB_STR:"Reset both views and tabs",RESET_CUR_VIEW_STR:"Reset current view",RESET_RESET_VIEW_STR:"Reset view",RESET_TABS_STR:"Reset tabs",RESET_ALL_VIEWS_STR:"Reset all views",TAKEOWNERSHIP_TOOLTIP_STR:"Take ownership",SUBMIT_TOOLTIP_STR:"Submit",SUBMITLEAVES_TOOLTIP_STR:"Submit leaves",REJECT_TOOLTIP_STR:"Reject",APP_HELP_STR:"TM1\u00ae Application Web help",TAB_HELP_STR:"View help",ABOUT_STR:"About",COMMIT_TOOLTIP_STR:"Commit",WORKFLOW_OWNERSHIP_STR:"Take ownership",
WORKFLOW_SUBMIT_STR:"Submit",WORKFLOW_REJECT_STR:"Reject",SAVE_VIEW_TOOLTIP_STR:"Save view",METRIC_STRATEGY_DIAGRAMS_STR:"Strategy diagrams",RESET_DATA_STR:"Reset data",ACTION_MENU_TOOLTIP_STR:"Actions menu",EXPORT_TOOLTIP_STR:"Export",RESET_TOOLTIP_STR:"Reset",UNDO_TOOLTIP_STR:"Undo",REDO_TOOLTIP_STR:"Redo",SWAP_ROWS_COLS_TOOLTIP_STR:"Swap rows and columns",RECALC_TOOLTIP_STR:"Recalculate",SAVE_AS_MENU_STR:"Save as...",SAVE_AS_TITLE_STR:"Save as",SAVE_DATA_CHANGES_MENU_STR:"Save data changes",REVIEW_DATA_CHANGES_TOOLTIP_STR:"Review data changes",
RECALCULATE_TOOLTIP_STR:"Recalculate",AUTO_RECALCULATE_ON_TOOLTIP_STR:"Automatic recalculation currently on",AUTO_RECALCULATE_OFF_TOOLTIP_STR:"Automatic recalculation currently off",VIEW_CHART_TOOLTIP_STR:"View chart",VIEW_CHARTGRID_TOOLTIP_STR:"View chart and grid",VIEW_GRID_TOOLTIP_STR:"View grid",CHART_PROP_TOOLTIP_STR:"Chart properties",CHART_TYPE2_STR:"Type",SANDBOX_TOOLTIP_STR:"Sandbox",CLOSE_VIEW_TOOLTIP_STR:"Close View",SELECT_SANDBOX_TOOLTIP_STR:"Select sandbox",SUPPRESS_ZEROES_MENU_STR:"Suppress zero values",
HELP_TOOLTIP_STR:"Help",REBUILD_ACTIVE_FORMS_TOOLTIP_STR:"Rebuild current sheet",REBUILD_WORKBOOK_TOOLTIP_STR:"Rebuild current book",AUTO_FIT_COLUMNS_TOOLTIP_STR:"Autofit selected column width",POINT_CHART_STR:"Point",BUBBLE_CHART_STR:"Bubble",LINE_CHART_STR:"Line",SPLINE_CHART_STR:"Spline",STEP_LINE_CHART_STR:"Step line",BAR_CHART_STR:"Bar",STACKED_BAR_CHART_STR:"Stacked bar",COLUMN_CHART_STR:"Column",STACKED_COL_CHART_STR:"Stacked column",AREA_CHART_STR:"Area",SPLINE_AREA_CHART_STR:"Spline area",
STACKED_AREA_CHART_STR:"Stacked area",PIE_CHART_STR:"Pie",DOUGHNUT_CHART_STR:"Doughnut",RANGE_CHART_STR:"Range",SPLINE_RANGE_CHART_STR:"Spline range",RANGE_COLUMN_CHART_STR:"Range column",WORKFLOW_SUBMIT_SURE_STR:"Are you sure you would like to submit this node?",WORKFLOW_SUBMIT_SURE_LEAVES_STR:"Are you sure you would like to submit all leaves?",WORKFLOW_REJECT_SURE_STR:"Are you sure you want to reject '{0}'?",OK_STR:"OK",SANDBOX_CREATE_FROM_STR:"Create sandbox from",SANDBOX_COPY_STR:"Sandbox copy",
SELECT_SANDBOX_COPY_STR:"Select sandboxes to copy",SANDBOX_NAME_STR:"Sandbox name",SANDBOX_NEW_STR:"Create new",SANDBOX_COPY2_STR:"Copy from existing sandbox",CREATE_STR:"Create",NO_SANDBOX_SELECTED_STR:"No sandbox is selected",SANDBOX_CREATION_STR:"Create sandbox",ENTER_NAME_FOR_SANDBOX_STR:"Enter a name for sandbox.",SANDBOX_CREATION_FAILED_STR:"Sandbox failed to be created.",SANDBOX_DELETE_STR:"Delete sandbox",SELECT_SANDBOXES_TO_DELETE_STR:"Select sandboxes to delete",DELETE_STR:"Delete",SOME_SANDBOX_DELETE_FAILED_STR:"Some checked sandboxes failed to be deleted.",
CURRENT_OWNER_STR:"Current owner",CURRENT_OWNERSHIPNODE_STR:"Current ownership node",AVAILABLE_STR:"Available",RESERVED_STR:"Reserved",WORK_IN_PROGRESS_STR:"Work in progress",READY_STR:"Ready",INCOMPLETE_STR:"Incomplete",LOCKED_STR:"Locked",NONE_STR:"None",SANDBOX_COPY_FAILED_STR:"Failed to copy sandbox.",SWITCHING_SANDBOX_FAILED_STR:"Switching sandbox failed.",SESSION_TIMEOUT_STR:"Session timed out.",CUBE_NO_PERMISSION_FOR_ANY:"You don't have permission to access any cube.",NODE_OWNER_ACTIVE_WARNING_MESSAGE:"One or more users are currently working with data for Nodes represented by this Take Ownership action.  Continuing with this action will revoke their ownership, and may impact their in-progress work.",
NODE_OWNER_INACTIVE_WARNING_MESSAGE:"Taking ownership for this Node will revoke ownership from owner(s) who are not actively working with their Node data.  Impacted user(s) can reacquire ownership through a subsequent Take Ownership action.",NODE_BOUNCE_OWNER_ACTIVE_WARNING_MESSAGE:"The node you are about to reject is a descendant of a node actively being worked on by another user.  Continuing with the rejection will revoke their ownership and may impact their in-progress work.",NODE_BOUNCE_OWNER_INACTIVE_WARNING_MESSAGE:"The node you are about to reject is a descendant of a node owned by another non-active user.  Continuing with the rejection will revoke their ownership, however they can reacquire ownership through a subsequent Take Ownership action.",
APPLICATION_INACTIVE_WARNING_MESSAGE:"This application is not active.",TM1_WEB_APPLICATION_STR:"IBM\u00ae Cognos\u00ae TM1\u00ae Application Web",WARNING:"Warning",CONTINUE_STR:"Continue",SORT_STR:"Sort",SORT_BY_VALUE_STR:"Sort by value",SORT_BY_LABEL_STR:"Sort by label",HIDE_STR:"Hide",SHOW_ALL_HIDDEN_STR:"Show all hidden",EXPAND_TO_LEVEL_STR:"Expand to level",LEVEL_STR:"Level",SELECT_A_PAGE_AND_PRESS_GOTO_PAGE:"Select a page and click to go to the page",ADD_COMMENT_STR:"Add comment...",ADD_COMMENT_TITLE_STR:"Add comment",
BROWSE_COMMENTS_STR:"Browse comments...",BROWSE_COMMENTS_TITLE_STR:"Browse comments",COMMENT_STR:"Comment",USER_STR:"User",DATE_STR:"Date",LOGIN_STR:"Login",REFRESH_STR:"Refresh",ADMIN_HOST_STR:"Admin host",TM1_SERVER_STR:"TM1 server",USER_NAME_STR:"User name",PASSWORD_STR:"Password",CHANGE_PASSWORD_STR:"Change password",NEW_PASSWORD_STR:"New password",CONFIRM_NEW_PASSWORD_STR:"Confirm new password",NATIVE_AUTHENTICATION:"Native authentication",WINDOWS_AUTHENTICATION:"Windows authentication",PASSWORD_UPDATE_TITLE_STR:"Password update",
PASSWORD_CHANGED_STR:"Password has been changed.",PASSWORD_NOT_CHANGED_STR:"Password was not changed.",LOGIN_FAILED_STR:"Login failed",PASSWORD_WARNING_STR:"Passwords did not match.",OPEN_SUBSET_EDITOR_STR:"Open subset editor",INVALID_DATE_VALUE:"Enter a date in the short date format corresponding to your locale.",INVALID_LIST:"A user has restricted values that can be entered into this cell.",IF_ENTER_NUMERIC:"If you are trying to enter a numeric value:",IF_ENTER_DATE:"If you are trying to enter a DateTime value:",
SAVE_VIEW_MENU_STR:"Save view",SAVE_VIEW_TITLE_STR:"Save view as",CURRENT_VIEWS_STR:"Current views",PRIVATE_VIEW_STR:"Private",VIEW_TYPE_STR:"View type",DEFAULT_VIEW_STR:"Default",VIEW_NAME_STR:"View name",STOP_STR:"STOP",INFORMATION_STR:"INFORMATION",WARNING_STR:"WARNING",EXPORTING_PAGE_STR:"Exporting Page {0} of {1}",CURRENTLY_PUBLISHING_STR:"Currently publishing...",INVALID_REFERENCE_STR:"Reference is not valid.",VIEW_FILTER_LABEL_STR:"Limit the results to the top or bottom items of a selected set.",
FILTER_TITLE_CUSTOM_STR:"Custom",PRODUCT_NAME:"IBM\u00ae Cognos\u00ae TM1\u00ae Web",METRIC_IMPACT_DIAGRAM_STR:"Impact diagram",METRIC_DIAGRAM_STR:"Metric diagram",WELCOME_STR:"Welcome",LOG_OUT_STR:"Log Out",HOME_STR:"Home",REFRESH_NAV_TREE_STR:"Refresh navigation tree",COLLAPSE_ALL_NODES_STR:"Collapse all nodes",EXPAND_ALL_NODES_STR:"Expand all nodes",ADD_DIMENSION_HERE_STR:"Add a dimension here",RECALC_NEEDED_FOR_CHART_DATA_STR:'No data available. Click "Recalculate" to update the chart.',CANNOT_FIND_STR:"Cannot find '{0}'.",
CANNOT_DELETE_CONTROL_OBJECT_STR:"You can't delete a control object.",NO_DELETE_PERMISSION_STR:"You do not have permission to delete '{0}'.",CANNOT_DELETE_STR:"Cannot delete '{0}'.",APPLICATION_STR:"Applications",VIEW_STR:"Views",JUST_PAGE_STR:"Page",JUST_OF_STR:"of",JUST_ROWS_STR:"of",INSERT_ROW_STR:"Insert a row",DELETE_ROW_STR:"Delete row",INSERT_ROW_MSG_STR:"Enter the values for the new row:",DELETE_ROW_MSG_STR:"Are you sure you would like to delete this row?",NON_ADMIN_SAVE_VIEW_STR:"You do not have administrative privileges on this server, and therefore can't save a public view.",
APP_WILL_CLOSE_STR:"None of the views were able to open. The application will now close.",VIEW_ERROR_NAME_STR:"Unable to open view '{0}'.",VIEW_NOT_FOUND_ERROR_NAME_STR:"View '{0}' can't be found.",SAVE_SUBSET_STR:"Save subset",SAVE_SUBSET_AS_STR:"Save subset as...",RELOAD_SUBSET_STR:"Reload subset",SUBSET_ALL_STR:"Subset all",CUT_STR:"Cut",KEEP_SELECTED_ELEMENTS_STR:"Keep selected element(s)",DELETE_SELECTED_ELEMENTS_STR:"Delete selected element(s)",NAV_A11Y_APPLICATIONS:"Applications",NAV_A11Y_FOLDER:"Folder",
NAV_A11Y_FOLDER_PRIVATE:"Private folder",NAV_A11Y_WEBSHEET:"Websheet",NAV_A11Y_WEBSHEET_PRIVATE:"Private websheet",NAV_A11Y_WEBSHEET_EXTERNAL:"External websheet",NAV_A11Y_WEBSHEET_EXTERNAL_PRIVATE:"Private external websheet",NAV_A11Y_CUBE:"Cube",NAV_A11Y_VIEW_PRIVATE:"Private view",NAV_A11Y_REF_PRIVATE:"Private reference",NAV_A11Y_VIEW_REF_PRIVATE:"Private view and private reference",NAV_A11Y_VIEWS:"Views",NAV_A11Y_CUBE_VIEW:"Cube view",NAV_A11Y_ADMIN_FOLDER:"Admin folder",NAV_A11Y_ADMIN_CLIENT:"Admin client",
NAV_A11Y_ADMIN_CUBE:"Admin cube",NAV_A11Y_ADMIN_DIMS:"Admin dimensions",NAV_A11Y_ADMIN_PASSWORD:"Admin password",NAV_A11Y_PROCESS:"Process",NAV_A11Y_CHORES:"Chores",NAV_A11Y_CUBE_PRIVATE:"Private cube",NAV_A11Y_PDF:"PDF file",NAV_A11Y_PDF_PRIVATE:"Private PDF file",NAV_A11Y_TXT:"Text file",NAV_A11Y_TXT_PRIVATE:"Private text file",NAV_A11Y_PPT:"Powerpoint file",NAV_A11Y_PPT_PRIVATE:"Private Powerpoint file",NAV_A11Y_WRD:"Word file",NAV_A11Y_WRD_PRIVATE:"Private Word file",NAV_A11Y_XLS:"Excel file",
NAV_A11Y_XLS_PRIVATE:"Private Excel file",NAV_A11Y_ZIP:"ZIP file",NAV_A11Y_ZIP_PRIVATE:"Private ZIP file",NAV_A11Y_IMG:"Image file",NAV_A11Y_IMG_PRIVATE:"Private image file",NAV_A11Y_URL:"Hyperlink file",NAV_A11Y_URL_PRIVATE:"Private hyperlink file",NAV_A11Y_ACCESS:"Access file",NAV_A11Y_ACCESS_PRIVATE:"Private Access file",NAV_A11Y_EMAIL:"Email file",NAV_A11Y_EMAIL_PRIVATE:"Private email file",NAV_A11Y_MPP:"Project file",NAV_A11Y_MPP_PRIVATE:"Private project file",NAV_A11Y_BIN:"Binary file",NAV_A11Y_BIN_PRIVATE:"Private binary file",
ARIA_IMG_ERROR_STR:"Error",ARIA_IMG_WARNING_STR:"Warning",ARIA_IMG_INFO_STR:"Information",APP_ID_TITLE_STR:"Application ID error",SAVE_ERROR_TITLE_STR:"Save error",SRV_ERR_TITLE_STR:"Server error",SRV_ERR_STR:"An error has occurred.",CUBEVIEW_LOAD_ERROR_TITLE_STR:"Cubeview loading error",VIEW_NOT_FOUND_ERROR:"View can't be found.",MEMORY_EXCEEDED:"Maximum memory for action exceeded.",VIEW_ERROR:"Unable to open view.",DRILL_ERROR_TITLE_STR:"Drill error",DRILL_ERROR:"Drill Process returned an error. The element or other information might be empty.",
ACTION_BUTTON_NAVIGATION_ERROR_ARG_STR:"Failed to open the target workbook '{0}' as the file does not exist.",ACTION_BUTTON_NAVIGATION_ERROR:"Failed to open the target workbook. The file does not exist.",ACTION_BUTTON_HTTP_502_PROXY_ERROR:"The request timed out. The process is still running. Please check the server logs to confirm completion of the process.",WORKBOOK_OPEN_FAILED_TITLE_STR:"Workbook error",WORKBOOK_OPEN_FAILED_STR:"Failed to open the target workbook. Make sure that the file has not been renamed or deleted.",
PASTE_FAILURES_TITLE_STR:"Paste error",PASTE_FAILURES:"At least one value was invalid and therefore could not be pasted.",SPREADING_NO_UPDATABLE_CELL_TITLE_STR:"Data spread error",SPREADING_NO_UPDATABLE_CELL_STR:"Spreading failed because the contents of the cells can't be modified.",SPREADING_FAILED_STR:"Data spread failed.",LOGON_TO_SERVER_FAILED_TITLE_STR:"Authentication error",LOGON_TO_SERVER_FAILED_STR:"Logging on to the server failed.",SANDBOX_NAME_MISSING_STR:"New name for copied sandbox is not specified.",
SANDBOX_WARNING_TITLE_STR:"Create Sandbox",SUBSET_EXPRESSION_WARNING_TITLE_STR:"Loss of expression",SUBSET_BY_EXPRESSION:"This subset was created using an expression.",SAVING_DYNAMIC_SUBSET:"Saving the modified subset will delete the expression and convert the subset into a static subset.",SUBSET_EXPRESSION_WARNING_OK_STR:"Create static subset",INVALID_NUMERIC_STR:"A numeric value is required.",EDITING_ERROR_TITLE_STR:"Edit error",INVALID_VALUE:"The value you entered is not the expected format.",
SUBSET_WARNING_TITLE_STR:"Static copy required",DYNAMIC_SUBSET_MODIFIED:"This dynamic subset has been modified.",USE_STATIC_SUBSET:"A static copy of the subset will be used.",SUBSET_WARNING_OK_STR:"Create static copy",FILTER_SUBSET_STR:"Filter subset",FILTER_BY_LEVEL_STR:"Filter by level...",FILTER_BY_ATTRIBUTE_STR:"Filter by attribute...",FILTER_BY_EXPRESSION_STR:"Filter by expression...",FILTER_BY_LEVEL_TITLE_STR:"Filter by level",FILTER_BY_ATTRIBUTE_TITLE_STR:"Filter by attribute",FILTER_BY_EXPRESSION_TITLE_STR:"Filter by expression",
SORT_SUBSET_STR:"Sort subset",SORT_ASCENDING_STR:"Sort ascending",SORT_DESCENDING_STR:"Sort descending",SORT_HIERARCHICALLY_STR:"Sort hierarchically",SORT_BY_INDEX_ASCENDING_STR:"Sort by ascending index",SORT_BY_INDEX_DESCENDING_STR:"Sort by descending index",TREE_EXPAND_STR:"Tree expand",DRILL_DOWN_SELECTED_CONSOLIDATIONS_STR:"Drill down selected consolidations",EXPAND_SELECTED_CONSOLIDATIONS_STR:"Expand selected consolidations",EXPAND_TREE_FULLY_STR:"Expand tree fully",TREE_COLLAPSE_STR:"Tree collapse",
COLLAPSE_SELECTED_CONSOLIDATIONS_STR:"Collapse selected consolidations",COLLAPSE_TREE_FULLY_STR:"Collapse tree fully",INSERT_PARENTS_OF_SELECTED_ELEMENTS_STR:"Insert parents of selected elements",CREATE_CUSTOM_CONSOLIDATION_STR:"Create custom consolidation",CREATE_CONSOLIDATION_FROM_SUBSET_STR:"Create consolidation from subset...",CREATE_CONSOLIDATION_FROM_SUBSET_TITLE_STR:"Create consolidation from subset",CREATE_CONSOLIDATION_FROM_SELECTED_ELEMENTS_STR:"Create consolidation from selected elements",
FIND_IN_SUBSET_STR:"Find in subset",EXPAND_ABOVE_STR:"Expand above",FIND_NEXT_STR:"Find next",FIND_PREVIOUS_STR:"Find previous",FIND_IN_SUBSET_PLACEHOLDER_STR:"Find in subset...",PASTE_ABOVE_STR:"Paste above",PASTE_BELOW_STR:"Paste below",UNNAMED_PARENS:"(unnamed)",SUBSET_PRIVATE_STR:"{0} (Private)",SUBSET_PUBLIC_STR:"{0} (Public)",SUBSET_EDITOR_TITLE:"Subset editor",SUBSET_EDITOR_SUBTITLE:"{0} \x3e {1} \x3e {2}",NO_ALIAS_SELECTED_PARENS:"(no alias selected)",SUBSET_LABEL_STR:"Subset",ALIAS_LABEL_STR:"Alias",
SUBSET_NAME_STR:"Subset name",SAVE_PUBLIC_STR:"Save public",OVERWRITE_EXISTING_SUBSET_STR:"Overwrite existing subset",SUBSET_PAGE_STATUS:"Page: {0} of {1}",AVAILABLE_ELEMENTS_HEADER:"Available elements: {0}",SUBSET_HEADER:"Subset: {0} \x3e {1}",PUBLIC_SUBSET_EXISTS:"This public subset already exists.",PRIVATE_SUBSET_EXISTS:"This private subset already exists.",SELECT_LEVELS_STR:"Select level(s)",SUBSET_LEVEL:"Level {0}",SELECT_ATTRIBUTE_STR:"Select attribute",SELECT_VALUE_TO_MATCH_STR:"Select value to match",
ENTER_EXPRESSION_STR:"Expression",EXPRESSION_EXAMPLE_STR:"Example: A* will match all elements starting with the letter A.",SELECT_SUBSET:"Subset",VALUE_REQUIRED_STR:"This value is required.",UNSUPPORTED_OBJECT_TYPE:"The specified object type is unsupported.",WORKBOOK_FAILED_TITLE_STR:"Workbook error",BUILD:"Build ",PA_VERSION:"IBM\u00ae Planning Analytics 2.0",EXPORT_NUM_ROWS:"rows",CELL_COUNT_EXCEEDED:"The Websheet export is too large.  Reduce the size of your export by selecting fewer dimensions or reducing the number of rows or columns from the report.",
CELL_COUNT_EXCEEDED_CV:"The Cubeview export is too large.  Reduce the size of your export by selecting fewer dimensions on rows or columns, or smaller subsets of data.",EXPORT_PREVENTED_ERR:"Export prevented",LIMITS_EXCEEDED_ERROR_TITLE:"Limits exceeded",LIMITS_EXCEEDED_ERROR:"The action has been terminated because it exceeds the configured maximum memory limit."},cs:!0,da:!0,de:!0,es:!0,fi:!0,fr:!0,hr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nl:!0,no:!0,nb:!0,pl:!0,pt:!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,
tr:!0,"zh-cn":!0,"zh-hans":!0,"zh-tw":!0,"zh-hant":!0})},"tm1web/websheet/Comment":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dijit/Tooltip"],function(l,m,k,h){return l(h,{constructor:function(f){this._width=f.width;this._height=f.height;this._sytleId=f.styleId},onShow:function(){m.add(h._masterTT.domNode,"tm1webSheetTooltip "+this._sytleId);k.set(h._masterTT.domNode,{});k.set(h._masterTT.containerNode,{width:this._width+"pt",height:this._height+"pt"});return this.inherited(arguments)},
onHide:function(){setTimeout(function(){k.set(h._masterTT.containerNode,{width:"",height:""});m.remove(h._masterTT.domNode,"tm1webSheetTooltip "+this._sytleId)},150);return this.inherited(arguments)}})})},"tm1web/websheet/spreading/SpreadDialogBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/dom-class dijit/Dialog ./SpreadDialogCommon ../../utility/message-localizer ../../widgets/ErrorAlert".split(" "),function(l,m,k,h,f,c,e,b,d){return l(e,{constructor:function(){this._Dialog=
null;this._InitializeSpreadDialogBase()},_InitializeSpreadDialogBase:function(){this._DirectionValue=0;this._ActionValue="";this._DataValue=null},Initialize:function(){this._CreateDialog()},_CreateDialog:function(){this._Dialog=new c({title:this._Title},null);this.own(h.after(this._Dialog,"onHide",m.hitch(this._Dialog,"destroyRecursive")));f.add(this._Dialog.domNode,"tm1webDataSpreadDialog tm1webFormDialog");this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){this._CreateContent()},
_CreateContent:function(){this._DataValue=this._CreateValueContent(this._Dialog.containerNode,this._ValueTitle,"tm1webDataSpread_valueLabel",this._cellInfo.numericValue,"tm1webDataSpread_value");this._CreateExtendContent(this._Dialog.containerNode);this._CreateActionContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},_OnRadioButtonClick:function(a,b){a&&(this._ActionValue=b)},_OnCheckBoxClick:function(a,
b){a&&(this._DirectionValue|=b)},_OnCancel:function(){this.Destroy()},_OnApply:function(){var a=function(a,c){"SpreadFailed_NoUpdatableCell"==a?d.show({message:b.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:b.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):d.show({message:c.localizedMessage,title:b.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})};this._dataGrid.model?this._dataGrid.model.spread(this._GetControlString()).otherwise(function(b){a(b[0],b[1])}):this.Service.dataSpread1(this._ObjectId,-1,
-1,this._GetControlString(),{callback:this._OnSpread,scope:this,errorHandler:a});this.Destroy()},_OnSpread:function(a){k.publish(this._ObjectId+"-SetSheetsNeedRefresh",!0);k.publish(this._ObjectId+"-UpdateGrid",a);k.publish("RecalcActivePanels",this._ObjectId)},_GetControlString:function(){var a;a=""+this._ActionValue;0<(this._DirectionValue&1)&&(a+="\x3c");0<(this._DirectionValue&2)&&(a+="\x3e");0<(this._DirectionValue&4)&&(a+="^");0<(this._DirectionValue&8)&&(a+="|");a+=m.trim(this._DataValue.value);
return a=this._CommandString+a},Show:function(){this._Dialog.show()},Destroy:function(){this._Dialog.hide()}})})},"tm1web/websheet/controls/ListBoxControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-construct dojox/html/entities ./ComboBoxControl ../../share/service-loader!WebSheetService".split(" "),function(l,m,k,h,f,c,e,b){return l(e,{constructor:function(b,a,c){this._pendingScrollPositionUpdate=this._scrollPositionUpdating=!1},newControl:function(){var b=
this.controlInfo,a={size:2};b.multiSelect&&(a.multiple="multiple");var e=f.create("select",a);e.disabled=this.controlInfo.enabled?!this.controlInfo.enabled:!1;var g=0;k.forEach(b.values,function(a,h){var k=f.create("option",{innerHTML:c.encode(a)},e);b.selectedIndices[g]==h&&(k.selected=!0,g++)});this.own(h(e,"change",m.hitch(this,"_setSelectedIndices")));return e},_setSelectedIndices:function(){var c=[];k.forEach(this.controlNode.options,function(a,b){a.selected&&c.push(b)});b.setListBoxSelectedIndices(this.objectId,
this.controlInfo.id,c,{callback:this.recalculate,scope:this})}})})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(l,m,k,h){k(function(){m("highcontrast")&&l.add(h.body(),"dijit_a11y")});return m})},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/dom-attr"],function(l,m,k,h,f){return l("dojox.grid.Selection",null,{constructor:function(c){this.grid=c;this.selected=
[];this.setMode(c.selectionMode)},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(c){this.selected.length&&this.deselectAll();this.mode="extended"!=c&&"multiple"!=c&&"single"!=c&&"none"!=c?"extended":c},onCanSelect:function(c){return this.grid.onCanSelect(c)},onCanDeselect:function(c){return this.grid.onCanDeselect(c)},onSelected:function(c){},onDeselected:function(c){},onChanging:function(){},onChanged:function(){},isSelected:function(c){return"none"==
this.mode?!1:this.selected[c]},getFirstSelected:function(){if(!this.selected.length||"none"==this.mode)return-1;for(var c=0,e=this.selected.length;c<e;c++)if(this.selected[c])return c;return-1},getNextSelected:function(c){if("none"==this.mode)return-1;c+=1;for(var e=this.selected.length;c<e;c++)if(this.selected[c])return c;return-1},getSelected:function(){for(var c=[],e=0,b=this.selected.length;e<b;e++)this.selected[e]&&c.push(e);return c},getSelectedCount:function(){for(var c=0,e=0;e<this.selected.length;e++)this.selected[e]&&
c++;return c},_beginUpdate:function(){if(0===this.updating)this.onChanging();this.updating++},_endUpdate:function(){this.updating--;if(0===this.updating)this.onChanged()},select:function(c){"none"!=this.mode&&("multiple"!=this.mode?(this.deselectAll(c),this.addToSelection(c)):this.toggleSelect(c))},addToSelection:function(c){if("none"!=this.mode)if(k.isArray(c))m.forEach(c,this.addToSelection,this);else if(c=Number(c),this.selected[c])this.selectedIndex=c;else if(!1!==this.onCanSelect(c)){this.selectedIndex=
c;var e=this.grid.getRowNode(c);e&&f.set(e,"aria-selected","true");this._beginUpdate();this.selected[c]=!0;this.onSelected(c);this._endUpdate()}},deselect:function(c){if("none"!=this.mode)if(k.isArray(c))m.forEach(c,this.deselect,this);else if(c=Number(c),this.selectedIndex==c&&(this.selectedIndex=-1),this.selected[c]&&!1!==this.onCanDeselect(c)){var e=this.grid.getRowNode(c);e&&f.set(e,"aria-selected","false");this._beginUpdate();delete this.selected[c];this.onDeselected(c);this._endUpdate()}},setSelected:function(c,
e){this[e?"addToSelection":"deselect"](c)},toggleSelect:function(c){k.isArray(c)?m.forEach(c,this.toggleSelect,this):this.setSelected(c,!this.selected[c])},_range:function(c,e,b){var d=0<=c?c:e;c=e;d>c&&(c=d,d=e);for(e=d;e<=c;e++)b(e)},selectRange:function(c,e){this._range(c,e,k.hitch(this,"addToSelection"))},deselectRange:function(c,e){this._range(c,e,k.hitch(this,"deselect"))},insert:function(c){this.selected.splice(c,0,!1);this.selectedIndex>=c&&this.selectedIndex++},remove:function(c){this.selected.splice(c,
1);this.selectedIndex>=c&&this.selectedIndex--},deselectAll:function(c){for(var e in this.selected)e!=c&&!0===this.selected[e]&&this.deselect(e)},clickSelect:function(c,e,b){if("none"!=this.mode){this._beginUpdate();if("extended"!=this.mode)this.select(c);else{if(!b||0>this.rangeStartIndex)this.rangeStartIndex=c;e||this.deselectAll(c);b?this.selectRange(this.rangeStartIndex,c):e?this.toggleSelect(c):this.addToSelection(c)}this._endUpdate()}},clickSelectEvent:function(c){this.clickSelect(c.rowIndex,
h.isCopyKey(c),c.shiftKey)},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate()}})})},"tm1web/share/TM1Utility":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/xhr dojo/dom dojo/dom-construct dojo/dom-style dojo/sniff ../utility/url dojox/uuid/generateRandomUuid ./Base dojo/domReady!".split(" "),function(l,m,k,h,f,c,e,b,d,a){return new (m(a,{constructor:function(){this._scrollBarSize=this.tm1WebRoot=this.tm1WebPath=null;this._InitializeTM1Utility()},_InitializeTM1Utility:function(){this._setTM1WebPath();
this._setTM1WebRoot()},_setTM1WebPath:function(){this.tm1WebPath=b.toUrl("tm1web")+"/"},_setTM1WebRoot:function(){this.tm1WebRoot=this.tm1WebPath+"../../"},download:function(a,b){var e=h.byId(b);null==e&&(e=f.create("iframe",{id:b||d()}),c.set(e,{display:"none"}),document.body.appendChild(e));e.src=a},getSelectAreaCoordinates:function(a){if(!a)return null;var b=a.SelectedArea;if(b){var c=a.GetCoordinate(b.StartCell),b=a.GetCoordinate(b.EndCell);a=this._swap(c.rowIndex,b.rowIndex);c=this._swap(c.colIndex,
b.colIndex);return{rowStart:a.low,rowEnd:a.high,colStart:c.low,colEnd:c.high}}return null},_swap:function(a,b){var c=a;a>b&&(a=b,b=c);return{low:a,high:b}},replaceAll:function(a,b,c){return a.split(b).join(c)},escapeString:function(a){if(null==a||""==a)return a;a=a.replace("\\","\\\\");a=a.replace('"',"\x26quot;");a=a.replace("'","\\'");a=a.replace("\r","\\r");a=a.replace("\n","\\n");return a=a.replace("\t","\\t")},insertCharacterAtCaret:function(a,b){if(e("ie")){b.focus();var c=document.selection.createRange();
c.text=a;c.select()}else{var c=b.selectionStart,d=b.selectionEnd,f=b.scrollTop;b.value=b.value.substring(0,c)+a+b.value.substring(d,b.value.length);b.focus();b.selectionStart=c+a.length;b.selectionEnd=c+a.length;b.scrollTop=f}},indexOf:function(a,b){return a.indexOf?a.indexOf(b):l.indexOf(a,b)}}))})},"tm1web/websheet/celledit/validation-checker":function(){define(["../../workbook/celledit/validation-checker"],function(l){return l})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){function t(){this._popupWrapper&&(c.destroy(this._popupWrapper),delete this._popupWrapper)}k=k(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=e.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a)for(this._firstAroundPosition=b,b=0;b<this._stack.length;b++){var d=this._stack[b].wrapper.style;d.top=parseFloat(d.top)+a+"px";"auto"==d.right?d.left=parseFloat(d.left)+c+
"px":d.right=parseFloat(d.right)-c+"px"}this._aroundMoveListener=setTimeout(n.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,d=a.domNode;b||(b=c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",a._popupWrapper=b,m.after(a,"destroy",t,!0),"ontouchend"in document&&g(b,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}));return b},moveOffScreen:function(a){var c=this._createWrapper(a);a=e.isBodyLtr(a.ownerDocument);var d={visibility:"hidden",top:"-9999px",display:""};d[a?"left":"right"]="-9999px";d[a?"right":"left"]="auto";b.set(c,d);return c},hide:function(a){var c=this._createWrapper(a);b.set(c,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=
this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(c){for(var k=this._stack,l=c.popup,m=l.domNode,s=c.orient||["below","below-alt","above","above-alt"],t=c.parent?c.parent.isLeftToRight():e.isBodyLtr(l.ownerDocument),y=c.around,B=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;k.length&&(!c.parent||!h.isDescendant(c.parent.domNode,k[k.length-1].widget.domNode));)this.close(k[k.length-1].widget);var E=this.moveOffScreen(l);l.startup&&!l._started&&
l.startup();var G,I=e.position(m);if("maxHeight"in c&&-1!=c.maxHeight)G=c.maxHeight||Infinity;else{G=r.getEffectiveBox(this.ownerDocument);var N=y?e.position(y,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};G=Math.floor(Math.max(N.y,G.h-(N.y+N.h)))}I.h>G&&(I=b.getComputedStyle(m),b.set(E,{overflowY:"scroll",height:G+"px",border:I.borderLeftWidth+" "+I.borderLeftStyle+" "+I.borderLeftColor}),m._originalStyle=m.style.cssText,m.style.border="none");f.set(E,{id:B,style:{zIndex:this._beginZIndex+k.length},
"class":"dijitPopup "+(l.baseClass||l["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==k.length&&y&&(this._firstAroundNode=y,this._firstAroundPosition=e.position(y,!0),this._aroundMoveListener=setTimeout(n.hitch(this,"_repositionAll"),50));d("config-bgIframe")&&!l.bgIframe&&(l.bgIframe=new q(E));B=l.orient?n.hitch(l,"orient"):null;s=y?p.around(E,y,s,t,B):p.at(E,c,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding,B);E.style.visibility="visible";m.style.visibility=
"visible";m=[];m.push(g(E,"keydown",n.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&c.onCancel)b.stopPropagation(),b.preventDefault(),c.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));l.onCancel&&c.onCancel&&m.push(l.on("cancel",c.onCancel));m.push(l.on(l.onExecute?"execute":"change",n.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));k.push({widget:l,wrapper:E,parent:c.parent,onExecute:c.onExecute,
onCancel:c.onCancel,onClose:c.onClose,handlers:m});if(l.onOpen)l.onOpen(s);return s},close:function(a){for(var b=this._stack;a&&l.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,g=c.onClose;d.bgIframe&&(d.bgIframe.destroy(),delete d.bgIframe);if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);g&&g()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=
this._aroundMoveListener=null)}});return s.popup=new k})},"tm1web/celledit/_CellValueMixin":function(){define("dojo/_base/declare ../cubeview/ViewCellType ../websheet/CellType ../share/NumberType ../utility/date ../utility/dom ../utility/number ../utility/date!".split(" "),function(l,m,k,h,f,c,e){return l(null,{_getCurrentValue:function(b){var d=b.cellInfo;if(d.changed&&null!=d.newValue)return this._isPercentCell(b)?(b=e.convert(d.newValue,h.PERCENT,!0),null==b?d.newValue:b):d.cellType==m.NUM&&f.canParse(c.getTextContent(b),
d.format)?c.getTextContent(b):d.newValue;if(d.cellType==m.NUM){if(d.type==k.DateTime||f.canParse(d.value,d.format)||""==d.value.trim())return d.value;if(e.isNaN(d.numericValue))return"";d=e.format(d.numericValue,!0);return this._isPercentCell(b)?(b=e.convert(d,h.PERCENT,!0),null==b?d:b):d}return null!=d.value?d.value:""},_isPercentCell:function(b){if(b.cellInfo.percent)return!0;var c=this._isPercentValue(b,b.cellInfo.value);c&&(b.cellInfo.percent=!0);return c},_isPercentValue:function(b,c){return b.cellInfo.cellType===
m.NUM&&e.canParse(c,h.PERCENT)}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(l,m,k,h,f){return m("dijit.layout.TabContainer",k,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(c){var e=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?l.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+
"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":e,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},c)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget="top"!=this.tabPosition&&"bottom"!=this.tabPosition||this.nested?h:f)}})})},
"tm1web/websheet/celledit/_ValueSaverMixin":function(){define("dojo/_base/declare dojo/topic ../../widgets/ErrorAlert ../../utility/message-localizer ../../utility/number ./validation-checker".split(" "),function(l,m,k,h,f,c){return l(null,{_checkInputString:function(c,b,d){if(-1<d.cellInfo.validationIndex){if(this._isPercentValue(d,b)){var a=f.convert(b);b=null==a?b:a}this.service.getValidation(c,d.cellInfo.rowIndex,d.cellInfo.colIndex,{callback:this._onValidation,arg:{objectId:c,cellValue:b,editCell:d},
scope:this})}else this.inherited(arguments)},_onValidation:function(e,b){if(c.check(b.cellValue,e,b.editCell)){var d=this.cellCheck(b.editCell,b.cellValue);if(null!=d){var a=this._getCoordinate(b.editCell);this.service.changeCellValue(b.objectId,a.rowIndex,a.colIndex,d,{callback:this._onChangeCellValue,errorHandler:this._onChangeCellValueError,arg:b.editCell,scope:this})}else this._handleInvalidFormat()}},_spread:function(c,b,d,a,f,g){this.service.dataSpread1(c,b,d,g,{callback:this._publishUpdateGrid,
scope:this,errorHandler:function(a,b){"SpreadFailed_NoUpdatableCell"==a?k.show({message:h.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:h.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):k.show({message:b.localizedMessage,title:h.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})}})},_publishUpdateGrid:function(){m.publish(this.objectId+"-UnsavedDataStateChanged",!1);m.publish(this.objectId+"-SetSheetsNeedRefresh",!0);this.inherited(arguments)}})})},"tm1web/widgets/InfoAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),
function(l,m,k,h,f,c){var e=l("tm1web.widgets.InfoAlert",c,{buildRendering:function(){this.inherited(arguments);h.add(this.cancelButton.domNode,"dijitHidden");h.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",f.get("ARIA_IMG_INFO_STR"))}});e.show=function(b){var c=new k;b.className="tm1webInfoDialog tm1webMessageDialog";alertDialog=new e(b);var a=m.after(alertDialog,"onHide",function(){a.remove();c.resolve()});alertDialog.show();return c.promise};return e})},"tm1web/websheet/WebSheet":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/Deferred dojo/dom-construct dijit/layout/ContentPane ./Utility ./TopScrollingPane ./SheetTopPane ./SheetSizer ./SheetBottomPane ./ScrollingPane ./ScrollingCoordinator ./LeftScrollingPane ./FreezeLines ../utility/message-localizer ../cubeview/CubeViewBase ../share/WaitingOverlay ../widgets/ErrorAlert ../share/service-loader!WebSheetService ../share/service-loader".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z){return l([e,u],{constructor:function(a,b,c,d){this._index=d;this._objectId=c;this.Panel=null;this.loaded=!1;this.SheetSizer=this.ScrollingCoordinator=this._previousSize=this.FreezeLines=this.BottomPane=this.TopPane=this.Size=this.TopScrollingPane=this.LeftScrollingPane=this.ScrollingPane=null;this._initializeWebSheet()},_initializeWebSheet:function(){h.after(this,"postCreate",m.hitch(this,"_onPostCreate"),!0);this.own(k.subscribe(this._objectId+
"-WebSheetFetchDataCompleted",m.hitch(this,"_updateSheetSizeAfterDataFetch")));this.own(k.subscribe(this._objectId+"-SetSheetsNeedRefresh",m.hitch(this,"setNeedsRefresh")))},_onPostCreate:function(){this.createContainer();this._createSheetSizer()},createContainer:function(){this.Panel=this.CreatePanel("","tm1webFullScreen tm1webWebSheetPanel");c.place(this.Panel,this.domNode)},_createSheetSizer:function(){this.SheetSizer=new n(this)},_createLeftScrollingPanel:function(a){this.LeftScrollingPane=new r(this._objectId,
this._index);a=this.LeftScrollingPane.create(a,this.Panel.offsetHeight);c.place(a,this.Panel)},_createTopScrollingPanel:function(a){this.TopScrollingPane=new d(this._objectId,this._index);a=this.TopScrollingPane.create(a,this.Panel.offsetWidth);c.place(a,this.Panel)},_createScrollingPanel:function(a){this.ScrollingPane=new p(this._objectId);a=this.ScrollingPane.create(a,this.Panel.offsetWidth,this.Panel.offsetHeight);c.place(a,this.Panel);this.ScrollingPane.reset()},updateSizeAfterRender:function(a){var b=
this.ScrollingPane.Panel,c=this.TopScrollingPane.Panel,d=this.LeftScrollingPane.Panel;a.mainHeight=0==a.leftWidth?b.clientHeight:b.clientHeight>d.clientHeight?d.clientHeight:b.clientHeight;a.mainWidth=0==a.topHeight?b.clientWidth:b.clientWidth>c.clientWidth?c.clientWidth:b.clientWidth},_createFreezeLines:function(){this.FreezeLines=new s(this.Size);var a=this.FreezeLines.create();c.place(a,this.Panel)},_getGridSize:function(a){v.getGridSize(this._objectId,this.Panel.offsetWidth*b.RatePixelToPoint,
this.Panel.offsetHeight*b.RatePixelToPoint,a)},_onGetGridSize:function(a){this.Size=this._serverSizeToClientSize(a);this.modifySize(this.Size);this._createLeftScrollingPanel(this.Size);this._createTopScrollingPanel(this.Size);this._createScrollingPanel(this.Size);this.updateSizeAfterRender(this.Size);this._createFreezeLines();this._sendPageSize()},_serverSizeToClientSize:function(a){var c={};c.width=a.width/b.RatePixelToPoint+1;c.height=a.height/b.RatePixelToPoint+1;c.topHeight=a.topHeight/b.RatePixelToPoint;
c.leftWidth=a.leftWidth/b.RatePixelToPoint;return c},_sendPageSize:function(a){this.sendPageSize({callback:this._onSendPageSize,scope:this})},sendPageSize:function(a){if(!this._destroyed){var c=this.Size.mainWidth*b.RatePixelToPoint,d=this.Size.mainHeight*b.RatePixelToPoint;this._hasMainSizeChanged()?v.sendPageSize(this._objectId,c,d,a):a.callback.apply(a.scope,[null,!0])}},_hasMainSizeChanged:function(){var a=this._previousSize,b=this.Size;return null==a?null==b?!1:!0:a.mainWidth!==b.mainWidth||
a.mainHeight!==b.mainHeight},updateSize:function(a){this._previousSize=this.Size;this.Size=this._serverSizeToClientSize(a);this.SheetSizer.resizeBoth()},_onSendPageSize:function(a){this.loadWebSheet()},onLoadWebSheet:function(a){v.backgroundRecalculate(this._objectId,0,0);this._autoRecalc=a.autoRecalc;(a.cornerPane||a.topPane)&&this._createTopPane(a);null==a.leftPane&&null==a.mainPane||this._createBottomPane(a);this.ScrollingCoordinator=new q(this.TopPane,this.BottomPane,this.ScrollingPane,this._objectId,
this._index);this.ScrollingCoordinator.rowsFullyLoaded=a.rowsFullyLoaded;this.ScrollingCoordinator.columnsFullyLoaded=a.columnsFullyLoaded;this.ScrollingCoordinator.monitor();k.publish(this._objectId+"-WebSheetFetchDataCompleted",a.sheetSize)},_updateSheetSizeAfterDataFetch:function(a){if(a&&this.selected){var b=this._serverSizeToClientSize(a);this.Size&&b.height===this.Size.height&&b.width===this.Size.width||(this._previousSize=this.Size,this.Size=this._serverSizeToClientSize(a),this.SheetSizer.resize())}},
loadWebSheet:function(){v.loadWebSheet(this._objectId,0,0,{callback:this.onLoadWebSheet,scope:this,errorHandler:function(a,b){k.publish(this._objectId+"-WebSheetLoadFailed",a,b);z.getEngine()._errorHandler(a,b)}});k.publish(this._objectId+"-WebSheetFetchDataBegin")},_refresh:function(){this.ScrollingCoordinator&&(this.ScrollingCoordinator.refreshPage(),this.setNeedsRefresh(!1))},modifySize:function(a){var c=this.Panel.offsetWidth,d=this.Panel.offsetHeight,g=2*c/3,e=2*d/3;a.leftPanelWidth=a.leftWidth;
a.topPanelHeight=a.topHeight;c<a.leftWidth+a.width?d<a.topHeight+a.height+b.ScrollBarSize.horizontal?(c-a.width-b.ScrollBarSize.vertical>g?a.leftPanelWidth=c-a.width-b.ScrollBarSize.vertical:g<a.leftWidth&&(a.leftPanelWidth=g),d-a.height-b.ScrollBarSize.horizontal>e?a.topPanelHeight=d-a.height-b.ScrollBarSize.horizontal:e<a.topHeight&&(a.topPanelHeight=e)):c-a.width>g?a.leftPanelWidth=c-a.width:g<a.leftWidth&&(a.leftPanelWidth=g):d<a.topHeight+a.height&&(c<a.leftWidth+a.width+b.ScrollBarSize.vertical?
(d-a.height-b.ScrollBarSize.horizontal>e?a.topPanelHeight=d-a.height-b.ScrollBarSize.horizontal:e<a.topHeight&&(a.topPanelHeight=e),c-a.width-b.ScrollBarSize.vertical>g?a.leftPanelWidth=c-a.width-b.ScrollBarSize.vertical:g<a.leftWidth&&(a.leftPanelWidth=g)):d-a.height>e?a.topPanelHeight=d-a.height:e<a.topHeight&&(a.topPanelHeight=e))},_createTopPane:function(b){this.TopPane=new a(this._objectId,this.Size,this._index,this.LeftScrollingPane,this.TopScrollingPane,this.ScrollingPane);b=this.TopPane.create(b);
c.place(b,this.Panel)},_createBottomPane:function(a){this.BottomPane=new g(this._objectId,this.Size,this._index,this.LeftScrollingPane,this.ScrollingPane);a=this.BottomPane.create(a);c.place(a,this.Panel)},select:function(){this.loaded?this._isVisible()&&(this._needsResize?this.resizeEx():this.ScrollingCoordinator&&this.ScrollingCoordinator.applyLastScrollPosition(),this._needsRefresh&&this._refresh()):(this._getGridSize({callback:this._onGetGridSize,scope:this}),this.loaded=!0)},_isVisible:function(){return 0<
this.domNode.offsetWidth&&0<this.domNode.offsetHeight},onBeginResize:function(){},onEndResize:function(){},resizeEx:function(){this._isVisible()?(this.SheetSizer.resize(),this._needsResize=!1):this._needsResize=!0},autoFitSelectedColumns:function(){var a=null,b=null,c=null,d=null,g=null,e=null,f=null;this.TopPane&&(a=this._getDataGrid(this.TopPane.TopLeftPane),b=this._getDataGrid(this.TopPane.TopRightPane));this.BottomPane&&(c=this._getDataGrid(this.BottomPane.LeftPane),d=this._getDataGrid(this.BottomPane.MainPane));
if(d||b)if(f=this._getSelectedColumnRange(b,d))g=b,e=d;!f&&(a||c)&&(f=this._getSelectedColumnRange(a,c))&&(g=a,e=c);f&&this._autoFitColumns(f.startIndex,f.endIndex,g,e)},_autoFitColumns:function(a,c,d,g){x.show();for(var e=c-a+1,f=0,h=function(){f++;f>=e&&(x.hide(),this._getGridSize({callback:this.updateSize,scope:this}))};a<=c;a++){var k=-1,l=null;g&&(k=g.getRequiredColumnWidth(a),l=g.getCellInfoFetcher().getColumnInfo(a));d&&(k=Math.max(k,d.getRequiredColumnWidth(a)),l||(l=d.getCellInfoFetcher().getColumnInfo(a)));
var n=b.convertPixelToPoint(k);null==l||0>k||n==l.width?e--:v.setColumnWidth(this._objectId,l.index,n,{callback:h,scope:this})}0>=e&&x.hide()},_getSelectedColumnRange:function(a,b){var c,d;if(a&&a.SelectedArea)c=a.SelectedArea,d=a;else if(b&&b.SelectedArea)c=b.SelectedArea,d=b;else return null;var g=d.getCell(c.leftTop.x,c.leftTop.y);c=d.getCell(c.bottomRight.x,c.bottomRight.y);return{startIndex:g.cellInfo.clientColumnIndex,endIndex:c.cellInfo.clientColumnIndex}},_getDataGrid:function(a){return a?
a.DataGrid:null},_getDataGrids:function(){var a={};this.TopPane&&(a.topLeft=this._getDataGrid(this.TopPane.TopLeftPane),a.topRight=this._getDataGrid(this.TopPane.TopRightPane));this.BottomPane&&(a.bottomLeft=this._getDataGrid(this.BottomPane.LeftPane),a.main=this._getDataGrid(this.BottomPane.MainPane));return a},getActiveDataGrid:function(){var a=this._getDataGrids(),b;for(b in a){var c=a[b];if(c&&c.SelectedArea)return c}return null},hasUnsavedDataChanges:function(){var a=this._getDataGrids(),b;for(b in a){var c=
a[b];if(c&&c.unsavedDataChanges)return!0}return!1},setUnsavedDataChanges:function(a){var b=this._getDataGrids(),c;for(c in b){var d=b[c];d&&(d.unsavedDataChanges=a)}},getCellMetadata:function(){var a=this.BottomPane.MainPane.DataGrid;if(!a.SelectedArea)return null;var b=a.SelectedArea.StartCell;if(!b)return null;a=a.GetCoordinate(b);b=new f;v.getCellMetadata(this._objectId,a.rowIndex,a.colIndex,{callback:this._onGetCellCall,arg:b,scope:this});return b.promise},getCellValue:function(a,b,c){var d=new f;
v.getCellValue(this._objectId,a,b,c,{callback:this._onGetCellCall,arg:d,scope:this});return d.promise},_onGetCellCall:function(a,b){null!=a?b.resolve(a):b.cancel()},_destroy:function(a){a&&a.destroy()},destroy:function(){this.inherited(arguments);this._destroyed=!0;this._destroy(this.ScrollingPane);this._destroy(this.LeftScrollingPane);this._destroy(this.TopScrollingPane);this._destroy(this.TopPane);this._destroy(this.BottomPane);this._destroy(this.ScrollingCoordinator);this._destroy(this.FreezeLines)},
getSelection:function(){var a=new f;v.getSelection(this._objectId,{callback:function(b){a.resolve(b)},errorHandler:function(b,c){a.reject(b,c)},scope:this});return a.promise},setSelection:function(a){var b=this.getActiveDataGrid(),c=new f,d=this;v.setSelection(this._objectId,a,{callback:function(g){b&&b.sheetCellSelector._unSelectCells();if(a&&g.sheetSelectArea&&"None"!=g.paneType){g.sheetSelectArea.startCell||(g.sheetSelectArea.startCell=g.sheetSelectArea.leftTop);var e=null;switch(g.paneType){case "TopLeft":d.TopPane&&
(e=d.TopPane.TopLeftPane);break;case "TopRight":d.TopPane&&(e=d.TopPane.TopRightPane);break;case "BottomLeft":d.BottomPane&&(e=d.BottomPane.LeftPane);break;case "BottomRight":d.BottomPane&&(e=d.BottomPane.MainPane)}e=e.DataGrid;try{e.sheetCellSelector.selectCells(g.sheetSelectArea)}catch(f){e.sheetCellSelector._unSelectCells();c.reject("Set selection area failed!",f);return}}c.resolve(!0)},errorHandler:function(a,d){b&&b.sheetCellSelector._unSelectCells();c.reject(a,d)},scope:this});return c.promise},
refreshSelection:function(){this.getSelection().then(m.hitch(this,"setSelection"))},onTitleElementChange:function(a){this._autoRecalc||this.hasUnsavedDataChanges()?(k.publish(this._objectId+"-UnsavedDataStateChanged",!1),k.publish(this._objectId+"-SetSheetsNeedRefresh",!0),this.select()):v.getCellInfo(this._objectId,a.cellInfo.rowIndex,a.cellInfo.colIndex,{callback:function(b){this.updateCell(a,b)},scope:this})},updateCells:function(a){for(var b=this._getDataGrids(),c=a.length,d=0;d<c;d++){var g=
a[d],e;for(e in b){var f=b[e];if(f){var h=f.cellContainer.get(g.rowIndex,g.colIndex);if(h){f.UpdateCell(h,g);break}}}}},updateCell:function(a,b){var c=this._getDataGrids(),d=a.offsetParent,g;for(g in c){var e=c[g];if(e&&e.Grid===d){e.UpdateCell(a,b);break}}},setNeedsRefresh:function(a){this._needsRefresh=a}})})},"tm1web/celledit/PickListValueSaver":function(){define("dojo/_base/declare ../widgets/ErrorAlert ../cubeview/ViewCellType ../config-settings ../utility/message-localizer ./_CellListValueSaver ../config-settings!".split(" "),
function(l,m,k,h,f,c){return l(c,{_isRecalcOnChangeRequired:function(){return h.recalculateOnPicklistChange()},_checkInputString:function(c,b,d){""===b&&d.cellInfo.cellType===k.NUM?this.inherited(arguments,[c,"0",d]):this.inherited(arguments)},_handleInvalidUserInput:function(c,b,d){c=f.get("EDITING_ERROR_TITLE_STR");b=f.get("INVALID_VALUE");m.show({message:b,title:c});this._saveDeferred.resolve(!1,!1)}})})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget",
"./_FormValueMixin"],function(l,m,k,h){return l("dijit.form._FormValueWidget",[k,h],{_layoutHackIE7:function(){if(7==m("ie"))for(var f=this.domNode,c=f.parentNode,e=f.firstChild||f,b=e.style.filter,d=this;c&&0==c.clientHeight;)(function(){var a=d.connect(c,"onscroll",function(){d.disconnect(a);e.style.filter=(new Date).getMilliseconds();d.defer(function(){e.style.filter=b})})})(),c=c.parentNode}})})},"tm1web/websheet/Utility":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-style dojo/query dojo/NodeList-traverse dojo/domReady!".split(" "),
function(l,m,k,h,f,c){return new (l(null,{constructor:function(){this.RatePixelToPoint=this.ScrollBarSize=null;this._initializeUtility()},_initializeUtility:function(){this._computeRatioPixelToPoint();this._computeScrollBarSize()},_computeRatioPixelToPoint:function(){var c=h.create("div");f.set(c,{width:"1px",height:"1px",overflow:"hidden"});var b=h.create("div");f.set(b,{width:"1px",height:"127500pt"});h.place(b,c);h.place(c,k.doc.body);this.RatePixelToPoint=127500/b.offsetHeight;h.destroy(c)},_computeScrollBarSize:function(){var c=
h.create("div");f.set(c,{width:"1px",height:"1px",overflow:"hidden"});var b=h.create("div",null,c);f.set(b,{width:"100px",height:"100px",overflow:"auto"});var d=h.create("div",null,b);f.set(d,{width:"120px",height:"120px"});h.place(c,k.doc.body);this.ScrollBarSize={horizontal:b.offsetWidth-b.clientWidth,vertical:b.offsetHeight-b.clientHeight};h.destroy(c)},checkScrollBarAvailability:function(c){var b=!1,d=!1;c.clientWidth==c.offsetWidth?c.clientHeight<c.offsetHeight&&(d=!0):c.clientHeight<c.offsetHeight?
d=b=!0:b=!0;return{verticalScroll:b,horizontalScroll:d}},createTopicId:function(c,b,d){return c+"-"+b+"-"+d},convertPointToPixel:function(c){return c/this.RatePixelToPoint},convertPixelToPoint:function(c){return c*this.RatePixelToPoint},getClosestAncestorNode:function(e,b){if(e){var d=c(e).closest(b);if(0<d.length)return d[0]}return null}}))})},"dojo/errors/RequestError":function(){define(["./create"],function(l){return l("RequestError",function(l,k){this.response=k})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),
function(l,m,k,h,f,c){return m("dijit.tree._dndContainer",null,{constructor:function(e,b){this.tree=e;this.node=e.domNode;h.mixin(this,b);this.containerState="";k.add(this.node,"dojoDndContainer");this.events=[f(this.node,c.enter,h.hitch(this,"onOverEvent")),f(this.node,c.leave,h.hitch(this,"onOutEvent")),l.after(this.tree,"_onNodeMouseEnter",h.hitch(this,"onMouseOver"),!0),l.after(this.tree,"_onNodeMouseLeave",h.hitch(this,"onMouseOut"),!0),f(this.node,"dragstart, selectstart",function(b){b.preventDefault()})]},
destroy:function(){for(var c;c=this.events.pop();)c.remove();this.node=this.parent=null},onMouseOver:function(c){this.current=c},onMouseOut:function(){this.current=null},_changeState:function(c,b){var d="dojoDnd"+c,a=c.toLowerCase()+"State";k.replace(this.node,d+b,d+this[a]);this[a]=b},_addItemClass:function(c,b){k.add(c,"dojoDndItem"+b)},_removeItemClass:function(c,b){k.remove(c,"dojoDndItem"+b)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container",
"")}})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t){var u,x,w=new (m([g,e],{curNode:null,activeStack:[],constructor:function(){var a=b.hitch(this,function(a){k.isDescendant(this.curNode,a)&&this.set("curNode",null);k.isDescendant(this.prevNode,
a)&&this.set("prevNode",null)});l.before(c,"empty",a);l.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,g=a.document&&a.document.body;if(g){var e=n("pointer-events")?"pointerdown":n("MSPointer")?"MSPointerDown":n("touch-events")?"mousedown, touchstart":"mousedown",f=d(a.document,e,function(a){a&&a.target&&null==a.target.parentNode||c._onTouchNode(b||a.target,"mouse")}),h=d(g,"focusin",function(a){if(a.target.tagName){var d=
a.target.tagName.toLowerCase();"#document"!=d&&"body"!=d&&(r.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),k=d(g,"focusout",function(a){c._onBlurNode(b||a.target)});return{remove:function(){f.remove();h.remove();k.remove();g=f=h=k=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(b.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",
null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(b.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,b){x=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);f.contains(a,"dijitPopup")&&(a=a.firstChild);var c=[];try{for(;a;){var d=h.get(a,"dijitPopupParent");if(d)a=s.byId(d).domNode;
else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===p.body())break;a=q.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),e=g&&s.byId(g);!e||"mouse"==b&&e.get("disabled")||c.unshift(g);a=a.parentNode}}}catch(k){}this._setStack(c,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),
this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,g=a.length-1;if(a[g]!=c[d]){this.set("activeStack",a);var e;for(e=d;0<=e&&c[e]!=a[e];e--)if(d=s.byId(c[e]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),this.emit("widget-blur",d,b);for(e++;e<=g;e++)if(d=s.byId(a[e]))d.set("focused",!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));a(function(){var a=w.registerWin(q.get(document));
n("ie")&&d(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){w.focus(a)};for(var v in w)/^_/.test(v)||(t.focus[v]="function"==typeof w[v]?b.hitch(w,v):w[v]);w.watch(function(a,b,c){t.focus[a]=c});return w})},"dojo/_base/declare":function(){define(["./kernel","./config","../has","./lang"],function(l,m,k,h){function f(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function c(a,b,c){var d,g,e,h,k,l,n,m=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=b,b=c);c=
0;h=a.callee;(d=d||h.nom)||f("can't deduce a name to call inherited()",this.declaredClass);k=this.constructor._meta;e=k.bases;n=m.p;if("constructor"!=d){if(m.c!==h&&(n=0,l=e[0],k=l._meta,k.hidden[d]!==h)){(g=k.chains)&&"string"==typeof g[d]&&f("calling chained method with inherited: "+d,this.declaredClass);do if(k=l._meta,g=l.prototype,k&&(g[d]===h&&g.hasOwnProperty(d)||k.hidden[d]===h))break;while(l=e[++n]);n=l?n:-1}if(l=e[++n])if(g=l.prototype,l._meta&&g.hasOwnProperty(d))c=g[d];else{h=v[d];do if(g=
l.prototype,(c=g[d])&&(l._meta?g.hasOwnProperty(d):c!==h))break;while(l=e[++n])}c=l&&c||v[d]}else{if(m.c!==h&&(n=0,(k=e[0]._meta)&&k.ctor!==h)){for((g=k.chains)&&"manual"===g.constructor||f("calling chained constructor with inherited",this.declaredClass);(l=e[++n])&&(!(k=l._meta)||k.ctor!==h););n=l?n:-1}for(;(l=e[++n])&&!(c=(k=l._meta)?k.ctor:l););c=l&&c}m.c=c;m.p=n;if(c)return!0===b?c:c.apply(this,b||a)}function e(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function b(a,
b,c){var d=this.getInherited(a,b);if(d)return d.apply(this,c||b||a)}function d(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function a(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c]);if(k("bug-for-in-skips-shadowed"))for(var d=h._extraNames,g=d.length;g;)c=d[--g],"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function n(a){x.safeMixin(this.prototype,a);return this}function g(a,b){a instanceof Array||"function"==
typeof a||(b=a,a=void 0);b=b||{};a=a||[];return x([this].concat(a),b)}function p(a,b){return function(){var c=arguments,d=c,g=c[0],e,f;f=a.length;var h;if(!(this instanceof c.callee))return u(c);if(b&&(g&&g.preamble||this.preamble))for(h=Array(a.length),h[0]=c,e=0;;){(g=c[0])&&(g=g.preamble)&&(c=g.apply(this,c)||c);g=a[e].prototype;(g=g.hasOwnProperty("preamble")&&g.preamble)&&(c=g.apply(this,c)||c);if(++e==f)break;h[e]=c}for(e=f-1;0<=e;--e)g=a[e],(g=(f=g._meta)?f.ctor:g)&&g.apply(this,h?h[e]:c);
(g=this.postscript)&&g.apply(this,d)}}function q(a,b){return function(){var c=arguments,d=c,g=c[0];if(!(this instanceof c.callee))return u(c);b&&(g&&(g=g.preamble)&&(d=g.apply(this,d)||d),(g=this.preamble)&&g.apply(this,d));a&&a.apply(this,c);(g=this.postscript)&&g.apply(this,c)}}function r(a){return function(){var b=arguments,c=0,d,g;if(!(this instanceof b.callee))return u(b);for(;d=a[c];++c)if(d=(g=d._meta)?g.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function s(a,b,c){return function(){var d,
g,e=0,f=1;c&&(e=b.length-1,f=-1);for(;d=b[e];e+=f)g=d._meta,(d=(g?g.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function t(a){A.prototype=a.prototype;a=new A;A.prototype=null;return a}function u(a){var b=a.callee,c=t(b);b.apply(c,a);return c}function x(b,k,l){"string"!=typeof b&&(l=k,k=b,b="");l=l||{};var u,A,H,K,P,D,C,F=1,S=k;if("[object Array]"==z.call(k)){F=b;A=[];H=[{cls:0,refs:[]}];K={};D=1;for(var Q=k.length,L=0,J,T,M,R;L<Q;++L){(J=k[L])?"[object Function]"!=z.call(J)&&f("mixin #"+L+" is not a callable constructor.",
F):f("mixin #"+L+" is unknown. Did you use dojo.require to pull it in?",F);T=J._meta?J._meta.bases:[J];M=0;for(J=T.length-1;0<=J;--J)R=T[J].prototype,R.hasOwnProperty("declaredClass")||(R.declaredClass="uniqName_"+y++),R=R.declaredClass,K.hasOwnProperty(R)||(K[R]={count:0,refs:[],cls:T[J]},++D),R=K[R],M&&M!==R&&(R.refs.push(M),++M.count),M=R;++M.count;H[0].refs.push(M)}for(;H.length;){M=H.pop();A.push(M.cls);for(--D;u=M.refs,1==u.length;){M=u[0];if(!M||--M.count){M=0;break}A.push(M.cls);--D}if(M)for(L=
0,Q=u.length;L<Q;++L)M=u[L],--M.count||H.push(M)}D&&f("can't build consistent linearization",F);J=k[0];A[0]=J?J._meta&&J===A[A.length-J._meta.bases.length]?J._meta.bases.length:1:0;D=A;H=D[0];F=D.length-H;k=D[F]}else D=[0],k?"[object Function]"==z.call(k)?(H=k._meta,D=D.concat(H?H.bases:k)):f("base class is not a callable constructor.",b):null!==k&&f("unknown base class. Did you use dojo.require to pull it in?",b);if(k)for(A=F-1;;--A){u=t(k);if(!A)break;H=D[A];(H._meta?a:w)(u,H.prototype);K=new Function;
K.superclass=k;K.prototype=u;k=u.constructor=K}else u={};x.safeMixin(u,l);H=l.constructor;H!==v.constructor&&(H.nom="constructor",u.constructor=H);for(A=F-1;A;--A)(H=D[A]._meta)&&H.chains&&(C=w(C||{},H.chains));u["-chains-"]&&(C=w(C||{},u["-chains-"]));H=!C||!C.hasOwnProperty("constructor");D[0]=K=C&&"manual"===C.constructor?r(D):1==D.length?q(l.constructor,H):p(D,H);K._meta={bases:D,hidden:l,chains:C,parents:S,ctor:l.constructor};K.superclass=k&&k.prototype;K.extend=n;K.createSubclass=g;K.prototype=
u;u.constructor=K;u.getInherited=e;u.isInstanceOf=d;u.inherited=B;u.__inherited=c;b&&(u.declaredClass=b,m.noGlobals||h.setObject(b,K));if(C)for(P in C)u[P]&&"string"==typeof C[P]&&"constructor"!=P&&(H=u[P]=s(P,D,"after"===C[P]),H.nom=P);return K}var w=h.mixin,v=Object.prototype,z=v.toString,A=new Function,y=0,B=l.config.isDebug?b:c;l.safeMixin=x.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===v[c]&&c in v||"constructor"==c||("[object Function]"==z.call(d)&&(d.nom=c),a[c]=d);if(k("bug-for-in-skips-shadowed"))for(var g=
h._extraNames,e=g.length;e;)c=g[--e],d=b[c],d===v[c]&&c in v||"constructor"==c||("[object Function]"==z.call(d)&&(d.nom=c),a[c]=d);return a};return l.declare=x})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(l,m,k,h,f){function c(a,b){var c=a.xhr;a.status=a.xhr.status;try{a.text=c.responseText}catch(d){}"xml"===a.options.handleAs&&(a.data=c.responseXML);if(!b)try{k(a)}catch(g){b=g}b?this.reject(b):h.checkStatus(c.status)?this.resolve(a):
(b=new l("Unable to load "+a.url+" status: "+c.status,a),this.reject(b))}function e(a){return this.xhr.getResponseHeader(a)}function b(k,s,t){var v=f("native-formdata")&&s&&s.data&&s.data instanceof FormData,z=h.parseArgs(k,h.deepCreate(r,s),v);k=z.url;s=z.options;var A,y=h.deferred(z,p,a,n,c,function(){A&&A()}),B=z.xhr=b._create();if(!B)return y.cancel(new l("XHR was not created")),t?y:y.promise;z.getHeader=e;g&&(A=g(B,y,z));var E=s.data,G=!s.sync,I=s.method;try{B.open(I,k,G,s.user||q,s.password||
q);s.withCredentials&&(B.withCredentials=s.withCredentials);f("native-response-type")&&s.handleAs in d&&(B.responseType=d[s.handleAs]);var N=s.headers;k=v?!1:"application/x-www-form-urlencoded";if(N)for(var O in N)"content-type"===O.toLowerCase()?k=N[O]:N[O]&&B.setRequestHeader(O,N[O]);k&&!1!==k&&B.setRequestHeader("Content-Type",k);N&&"X-Requested-With"in N||B.setRequestHeader("X-Requested-With","XMLHttpRequest");h.notify&&h.notify.emit("send",z,y.promise.cancel);B.send(E)}catch(H){y.reject(H)}m(y);
B=null;return t?y:y.promise}f.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});f.add("dojo-force-activex-xhr",function(){return f("activex")&&!document.addEventListener&&"file:"===window.location.protocol});f.add("native-xhr2",function(){if(f("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});f.add("native-formdata",function(){return"undefined"!==typeof FormData});f.add("native-response-type",
function(){return f("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});f.add("native-xhr2-blob",function(){if(f("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===b}});var d={blob:f("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},a,n,g,p;f("native-xhr2")?(a=function(a){return!this.isFulfilled()},p=function(a,b){b.xhr.abort()},g=function(a,b,c){function d(a){b.handleResponse(c)}
function g(a){a=new l("Unable to load "+c.url+" status: "+a.target.status,c);b.handleResponse(c,a)}function e(a){a.lengthComputable?(c.loaded=a.loaded,c.total=a.total,b.progress(c)):3===c.xhr.readyState&&(c.loaded=a.position,b.progress(c))}a.addEventListener("load",d,!1);a.addEventListener("error",g,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",e,!1);a=null}}):(a=function(a){return a.xhr.readyState},
n=function(a){return 4===a.xhr.readyState},p=function(a,b){var c=b.xhr,d=typeof c.abort;"function"!==d&&"object"!==d&&"unknown"!==d||c.abort()});var q,r={data:null,query:null,sync:!1,method:"GET"};b._create=function(){throw Error("XMLHTTP not available");};if(f("native-xhr")&&!f("dojo-force-activex-xhr"))b._create=function(){return new XMLHttpRequest};else if(f("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),b._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(s){try{new ActiveXObject("Microsoft.XMLHTTP"),
b._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}h.addCommonMethods(b);return b})},"tm1web/celledit/ValueSaver":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/topic ../cubeview/ViewCellType ../share/service-loader ../widgets/ErrorAlert ../share/NumberType ../utility/date ../utility/message-localizer ../utility/number ./spread-syntax-validator ./shortcut-parser ./_CellValueMixin ../utility/date!".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,
q){return l(q,{value:null,dataGrid:null,activeCell:null,objectId:null,service:null,constructor:function(a){m.mixin(this,a)},save:function(){this._saveDeferred=new k;this._isCommitRequired()?this._commitCellEdit():this._saveDeferred.resolve(this._getSaveResult(!1,!1));return this._saveDeferred.promise},_getSaveResult:function(a,b){return{valueChanged:a,recalculated:b}},_getCoordinate:function(a){return this.dataGrid.GetCoordinate(a)},_isCommitRequired:function(){if(!this.activeCell)return!1;var a=
this.value,b=this._getCurrentValue(this.activeCell);return a!=b||this._needsRecalc&&this.activeCell.cellInfo.changed},_commitCellEdit:function(){if(this.activeCell){var a=this.value,b=this._getCurrentValue(this.activeCell);this.activeCell.cellInfo.cellType==f.NUM&&(0<a.trim().length&&(a=a.trim()),a=p.resolveShortcuts(a,b,this.activeCell.cellInfo));b=this.objectId;if(this.activeCell.cellInfo.cellType==f.NUM&&g.isValid(a)){var c=this._getCoordinate(this.activeCell);this._needsRecalc=!1;this._spread(b,
c.rowIndex,c.colIndex,c.rowIndex,c.colIndex,a)}else this._changeCellValue(b,a,this.activeCell)}else this._saveDeferred.resolve(this._getSaveResult(!1,!1))},_spread:function(b,c,d,g,f,h){this.service.dataSpread1(b,c,d,g,f,h,{callback:this._publishUpdateGrid,scope:this,errorHandler:function(b,c){"SpreadFailed_NoUpdatableCell"==b?e.show({message:a.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:a.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):e.show({message:c.localizedMessage,title:a.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")});
this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})},_changeCellValue:function(a,b,c){this._checkInputString(a,b,c)},_checkInputString:function(a,c,d){if(this._isPercentValue(d,c)){var g=n.convert(c,b.PERCENT,!0);c=null==g?c:g}c=this.cellCheck(d,c);null!=c?(g=this._getCoordinate(d),this.service.changeCellValue(a,g.rowIndex,g.colIndex,c,{callback:this._onChangeCellValue,errorHandler:this._onChangeCellValueError,arg:d,scope:this})):this._handleInvalidFormat()},_onChangeCellValueError:function(b,
d){"java.lang.IllegalArgumentException"===d.javaClassName?e.show({message:a.get("INVALID_VALUE"),title:a.get("EDITING_ERROR_TITLE_STR")}):"java.lang.NumberFormatException"===d.javaClassName?e.show({message:a.get("INVALID_NUMERIC_STR"),title:a.get("EDITING_ERROR_TITLE_STR")}):c.getEngine()._errorHandler(b,d);this._saveDeferred.resolve(this._getSaveResult(!1,!1))},_publishUpdateGrid:function(a){h.publish(this.objectId+"-UpdateGrid",a);this._saveDeferred.resolve(this._getSaveResult(!0,!0))},_onChangeCellValue:function(a,
b){a&&(this.dataGrid.UpdateCell(b,a),h.publish(this.objectId+"-CellValueChanged"));this._needsRecalc||b.cellInfo.isConsolidated?this._recalculate():this._saveDeferred.resolve(this._getSaveResult(!0,!1))},_recalculate:function(){this._needsRecalc=!1;this.service.recalculate(this.objectId,{callback:this._publishUpdateGrid,scope:this})},cellCheck:function(a,b){if(a.cellInfo.cellType!=f.NUM||n.canParse(b)||!b)return b;var c=d.parseToSerial(b,a.cellInfo.format);return null!=c?(a.cellInfo.editDateTime=
b,n.format(c,!0)):null},_handleInvalidFormat:function(){var b=a.get("EDITING_ERROR_TITLE_STR"),c=[a.get("INVALID_VALUE"),a.get("IF_ENTER_NUMERIC"),a.get("DECIMAL_THOUSAND_SEP_STR",n.decimal,n.group),a.get("IF_ENTER_DATE"),a.get("INVALID_DATE_VALUE")];e.show({message:c,title:b});this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})})},"dojo/domReady":function(){define(["./has"],function(l){function m(a){d.push(a);b&&k()}function k(){if(!a){for(a=!0;d.length;)try{d.shift()(f)}catch(b){console.error(b,
"in domReady callback",b.stack)}a=!1;m._onQEmpty()}}var h=function(){return this}(),f=document,c={loaded:1,complete:1},e="string"!=typeof f.readyState,b=!!c[f.readyState],d=[],a;m.load=function(a,b,c){m(c)};m._Q=d;m._onQEmpty=function(){};e&&(f.readyState="loading");if(!b){var n=[],g=function(a){a=a||h.event;b||"readystatechange"==a.type&&!c[f.readyState]||(e&&(f.readyState="complete"),b=1,k())},p=function(a,b){a.addEventListener(b,g,!1);d.push(function(){a.removeEventListener(b,g,!1)})};if(!l("dom-addeventlistener")){var p=
function(a,b){b="on"+b;a.attachEvent(b,g);d.push(function(){a.detachEvent(b,g)})},q=f.createElement("div");try{q.doScroll&&null===h.frameElement&&n.push(function(){try{return q.doScroll("left"),1}catch(a){}})}catch(r){}}p(f,"DOMContentLoaded");p(h,"load");"onreadystatechange"in f?p(f,"readystatechange"):e||n.push(function(){return c[f.readyState]});if(n.length){var s=function(){if(!b){for(var a=n.length;a--;)if(n[a]()){g("poller");return}setTimeout(s,30)}};s()}}return m})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./request"],function(l,m,k,h){var f;"undefined"!==typeof dojo&&dojo.version&&(f=1===dojo.version.major&&7===dojo.version.minor);var c;c=function(a,b,c){h(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(c)};var e={},b=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},d={},a={};l.cache=function(a,d,f){var h;"string"==typeof a?/\//.test(a)?(h=a,f=d):
h=m.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")):(h=a+"",f=d);a=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof a)return e[h]=a,f?b(a):a;if(null===a)return delete e[h],null;h in e||c(h,!0,function(a){e[h]=a});return f?b(e[h]):e[h]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?b(d):d)+(c[1]?"!"+c[1]:"")},load:function(h,g,k){h=h.split("!");var m=1<h.length,r=h[0],s=g.toUrl(h[0]);h="url:"+s;var t=d,u=function(a){k(m?b(a):a)},x=void 0!==
typeof requirejs?l.global.require.cache:g.cache;r in e?t=e[r]:x&&h in x?t=x[h]:f&&x&&s in x?t=x[s]:s in e&&(t=e[s]);if(t===d)if(a[s])a[s].push(u);else{var w=a[s]=[u];c(s,!g.async,function(b){e[r]=e[s]=b;for(var c=0;c<w.length;)w[c++](b);delete a[s]})}else u(t)}}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(l,m,k,h,f,c,e,b,d){k.add("dojo-preload-i18n-Api",1);e=l.i18n={};var a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,
n=function(a,b,c,d){var g=[c+d];b=b.split("-");for(var e="",f=0;f<b.length;f++)if(e+=(e?"-":"")+b[f],!a||a[e])g.push(c+e+"/"+d),g.specificity=e;return g},g={},p=function(a,b,c){c=c?c.toLowerCase():l.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},q=l.getL10nName=function(a,b,c){return d.id+"!"+p(a,b,c)},r=function(a,b,d,e,f,h){a([b],function(k){var l=c.clone(k.root||k.ROOT),m=n(!k._v1x&&k,f,d,e);a(m,function(){for(var a=1;a<m.length;a++)l=
c.mixin(c.clone(l),arguments[a]);g[b+"/"+f]=l;l.$locale=m.specificity;h()})})},s=function(a){var b=f.extraLocale||[],b=c.isArray(b)?b:[b];b.push(a);return b},t=function(d,e,f){if(k("dojo-preload-i18n-Api")){var n=d.split("*"),m="preload"==n[1];m&&(g[d]||(g[d]=1,z(n[2],b.parse(n[3]),1,e)),f(1));(n=m)||(w&&v.push([d,e,f]),n=w);if(n)return}d=a.exec(d);var p=d[1]+"/",q=d[5]||d[4],t=p+q,n=(d=d[5]&&d[4])||l.locale||"",x=t+"/"+n;d=d?[n]:s(n);var u=d.length,y=function(){--u||f(c.delegate(g[x]))};h.forEach(d,
function(a){var b=t+"/"+a;k("dojo-preload-i18n-Api")&&A(b);g[b]?y():r(e,t,p,q,a,y)})};if(k("dojo-unit-tests"))var u=e.unitTests=[];k("dojo-preload-i18n-Api");var x=e.normalizeLocale=function(a){a=a?a.toLowerCase():l.locale;return"root"==a?"ROOT":a},w=0,v=[],z=e._preloadLocalizations=function(a,b,d,e){function f(a,b){e([a],b)}function k(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function n(){for(--w;!w&&v.length;)t.apply(null,v.shift())}function p(d){d=x(d);k(d,
function(l){if(0<=h.indexOf(b,l)){var p=a.replace(/\./g,"/")+"_"+l;w++;f(p,function(a){for(var b in a){var f=a[b],h=b.match(/(.+)\/([^\/]+)$/),p;if(h){p=h[2];h=h[1]+"/";f._localized=f._localized||{};var q;if("ROOT"===l){var s=q=f._localized;delete f._localized;s.root=f;g[m.toAbsMid(b)]=s}else q=f._localized,g[m.toAbsMid(h+p+"/"+l)]=f;l!==d&&function(a,b,f,h){var l=[],p=[];k(d,function(c){h[c]&&(l.push(m.toAbsMid(a+c+"/"+b)),p.push(m.toAbsMid(a+b+"/"+c)))});l.length?(w++,e(l,function(){for(var e=0;e<
l.length;e++)f=c.mixin(c.clone(f),arguments[e]),g[p[e]]=f;g[m.toAbsMid(a+b+"/"+d)]=c.clone(f);n()})):g[m.toAbsMid(a+b+"/"+d)]=f}(h,p,f,q)}}n()});return!0}return!1})}e=e||m;p();h.forEach(l.config.extraLocale,p)},A=function(){},y={},B=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
A=function(a){for(var b,c=a.split("/"),d=l.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(g[a]=b));return b};e.getLocalization=function(a,b,c){var d;a=p(a,b,c);t(a,m,function(a){d=a});return d};k("dojo-unit-tests")&&u.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=B("{prop:1}",A,"nonsense",y);a.is({prop:1},b);a.is(void 0,b[1]);b=B("({prop:1})",A,"nonsense",y);a.is({prop:1},b);a.is(void 0,b[1]);b=B("{'prop-x':1}",A,"nonsense",y);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("({'prop-x':1})",A,"nonsense",y);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("define({'prop-x':1})",A,"nonsense",y);a.is(y,b);a.is({"prop-x":1},y.result);b=B("define('some/module', {'prop-x':1})",A,"nonsense",y);a.is(y,b);a.is({"prop-x":1},y.result);b=B("this is total nonsense and should throw an error",A,"nonsense",y);a.is(b instanceof Error,!0)})});return c.mixin(e,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:g,getL10nName:q})})},
"tm1web/websheet/spreading/SpreadDialogProportional":function(){define(["dojo/_base/declare","./SpreadDialogBase"],function(l,m){return l(m,{constructor:function(){this._InitializeSpreadDialogProportional()},_InitializeSpreadDialogProportional:function(){},_CreateContent:function(){this.inherited(arguments);"P%"==this._CommandString&&(this._DataValue.value="")}})})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(l,m,k){var h={};l.setObject("data.util.simpleFetch",
h,m);h.errorHandler=function(f,c){c.onError&&c.onError.call(c.scope||m.global,f,c)};h.fetchHandler=function(f,c){var e=c.abort||null,b=!1,d=c.start?c.start:0,a=c.count&&Infinity!==c.count?d+c.count:f.length;c.abort=function(){b=!0;e&&e.call(c)};var h=c.scope||m.global;c.store||(c.store=this);c.onBegin&&c.onBegin.call(h,f.length,c);c.sort&&f.sort(k.createSortFunction(c.sort,this));if(c.onItem)for(var g=d;g<f.length&&g<a;++g){var l=f[g];b||c.onItem.call(h,l,c)}c.onComplete&&!b&&(g=null,c.onItem||(g=
f.slice(d,a)),c.onComplete.call(h,g,c))};h.fetch=function(f){f=f||{};f.store||(f.store=this);this._fetchItems(f,l.hitch(this,"fetchHandler"),l.hitch(this,"errorHandler"));return f};return h})},"tm1web/websheet/LeftScrollingPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on dojo/sniff dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ./Utility".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){return l(a,{constructor:function(a,b){this.Panel=
null;this._index=b;this._objectId=a;this._simulatingPanel=null;this._initializeLeftScrollingPane()},_initializeLeftScrollingPane:function(){this.createContainer();this._attachEvent()},_attachEvent:function(){f(this.Panel,"scroll",m.hitch(this,"_onScroll"))},_onScroll:function(a){this._onScrollEx(a)},_onScrollEx:function(a){k.publish(n.createTopicId(this._objectId,this._index,"LEFTSCROLLLING"),this.Panel.scrollLeft)},createContainer:function(){this.Panel=this.CreatePanel()},create:function(a,b){this.resize(a,
b);e.add(this.Panel,"tm1webLeftScrollingPanel");this._createSimulatingPanel(1,a.leftWidth);return this.Panel},resize:function(a,b){d.set(this.Panel,{width:a.leftPanelWidth+"px",height:b-a.topPanelHeight+"px"});c("ie")&&this._onScrollEx(null)},_createSimulatingPanel:function(a,c){var e=this.CreatePanel();d.set(e,{width:c+"px",height:a+"px"});b.place(e,this.Panel);this._simulatingPanel=e}})})},"tm1web/subseteditor/SubsetStore":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojox/collections/ArrayList dojox/collections/Set ../share/service-loader!SubsetService ./ElementType".split(" "),
function(l,m,k,h,f,c,e,b,d){return l(null,{sessionId:null,subsetId:null,_metaData:null,_elements:null,_selected:null,constructor:function(a){this.sessionId=a.sessionId;this.subsetId=a.subsetId;a._subsetInfo?(this._update(a._subsetInfo),this._selected=this._getSelected()):this._loadDeferred=new h},getFeatures:function(){return{"dojo.data.api.Identity":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Read":!0,"dojo.data.api.Write":!0}},getValue:function(a,b,c){return a[b]||("undefined"!==typeof c?
c:a[b])},getValues:function(a,b){var c=this.getValue(a,b);return m.isArray(c)?c:c?[c]:[]},getAttributes:function(a){var b=[];for(key in a)a.hasOwnProperty(key)&&b.push(key);return b},hasAttribute:function(a,b){return null!=a[b]},containsValue:function(a,b,c){throw Error("Unimplemented API: dojo.data.api.Read.containsValue");},isSelected:function(a){return a.selected},isItem:function(a){return a.subsetId===this.subsetId&&a.sessionId===this.sessionId},isItemLoaded:function(a){return a.children||a.type!==
d.Consolidated},loadItem:function(a){var c=a.item,d=a.onItem;a=a.onError;b.expandElement(this.sessionId,this.subsetId,this.getIdentity(c),{callback:function(a){this._update(a);c.children=[];d(c);this._onChange()},scope:this,errorHandler:a})},fetch:function(a){var c=a.onComplete;a=a.onError;this._elements?this._onChange(c):b.loadSubset(this.sessionId,this.subsetId,{callback:function(a){this._update(a);a=this._loadDeferred;delete this._loadDeferred;a.resolve();this._onChange(c)},scope:this,errorHandler:a})},
close:function(a){},getLabel:function(a){return a.alias},getLabelAttributes:function(a){return["alias"]},getMetaData:function(a){var b=a.onComplete;this._loadDeferred?this._loadDeferred.then(m.hitch(this,function(){b(this._metaData)})):b(this._metaData)},getIdentity:function(a){return a.id},getIdentityAttributes:function(a){return["id"]},fetchItemByIdentity:function(a){a.onItem.call(a.scope,this._find(a.identity))},_find:function(a){if(!this._elements)return null;var b=this,c=null;k.some(this._elements,
function q(d){if(b.getIdentity(d)===a)return c=d,!0;if(d.children)return k.some(d.children,q)});return c},_getSource:function(a){if(!a||0>=a.length)throw"No items specified";for(var b=a[0].subsetId,c=1;c<a.length;c++)if(b!==a[c].subsetId)throw"Specified items do no share the same source";return b},newItems:function(a,c){var d=this._getInsertIndex(this.getIdentity(c.parent),c.insertIndex);b.copyElements(this.sessionId,this._getSource(a),this.subsetId,this.getIdentities(a),d,{callback:function(a){this._update(a);
this._onChange()},scope:this})},pasteItems:function(a,c){var d=a.items;if(a.copy)this.newItems(d,c);else{var e=this._getInsertIndex(this.getIdentity(c.parent),c.insertIndex);b.moveElements(this.sessionId,this._getSource(d),this.subsetId,this.getIdentities(d),e,{callback:function(a){this._update(a);this._onChange()},scope:this})}},_getInsertIndex:function(a,b){function c(a){var b=a.children;return b&&0<b.length?c(b[0]):a}var d=this;return function(a,b){var e=a.children;if(d._metaData.expandAbove)return 0==
e.length?0:b>=e.length?e[b-1].id+1:c(e[b]).id;if(0===b||0>=e.length)return a.id+1;for(var f=e[b-1],e=f.children;e&&0<e.length;)f=e[e.length-1],e=f.children;return f.id+1}(0>a?{id:-1,children:this._elements||[]}:this._find(a),b)},deleteItems:function(a){},setValue:function(a,b,c){},unloadItem:function(a){var c=a.onItem,d=a.onError;b.collapseElement(this.sessionId,this.subsetId,this.getIdentity(a.item),{callback:function(a){this._update(a);c();this._onChange()},scope:this,errorHandler:d})},deleteItem:function(a){var c=
a.item,d=a.onItem;a=a.onError;b.collapseElement(this.sessionId,c.subsetId,this.getIdentity(c),{callback:function(a){this._update(a);d();this._onChange()},scope:this,errorHandler:a})},setValues:function(a,b,c){k.forEach(c,m.hitch(this,function(c){this.setValue(a,b,c)}))},unsetAttribute:function(a,b){"children"===b&&this.setValue(a,b,null)},save:function(a){a.onComplete()},revert:function(){},isDirty:function(a){return!1},onSet:function(a,b,c,d){},onNew:function(a,b){},onDelete:function(a){},onFetch:function(a){},
onMetaDataChange:function(a){},_onFind:function(a){this.onFind(a.id,a.startIndex,a.endIndex,a.looped)},onFind:function(a,b,c,d){},_onChange:function(a){this._selected=this._getSelected();this.onMetaDataChange(this._metaData);if(a)a(this._elements);else this.onFetch(this._elements);this._onFind(this._metaData.findInfo)},_update:function(a){this._elements=a.elements;this._metaData=a.metaData;this._addSessionInfo(this._elements)},_addSessionInfo:function(a){function b(a){k.forEach(a||[],function(a){a.sessionId=
c.sessionId;a.subsetId=c.subsetId;b(a.children)})}var c=this;b(a)},setCurrentPage:function(a){var c=a.onComplete,d=this;b.setCurrentPage(this.sessionId,this.subsetId,a.page,{callback:function(a){d._update(a);c();d._onChange()},scope:this,errorHandler:a.onError})},setSelected:function(a,d){var g=this._selected;this._selected=a;var k=e.difference(g,a);this._setSelected(k,!1);d?(g=e.intersection(g,a),a=e.difference(a,g),this._setSelected(a,!0),a=e.union(a,k).toArray()):this._setSelected(new c(a),!0);
var l=this.getIdentities(a),r=new h,k=this.setSelectedPromise;this.setSelectedPromise=r.promise;f(k,m.hitch(this,function(){b.setSelectedElements(this.sessionId,this.subsetId,l,!!d,{callback:function(){this._metaData.modified||(this._metaData.modified=!0,this.onMetaDataChange(this._metaData));r.resolve()},scope:this})}))},getSelected:function(){return this._selected},_setSelected:function(a,b){a.forEach(function(a){a.selected=b})},_getSelected:function(){function a(c){k.forEach(c,function(c){c.selected&&
b.push(c);c.children&&a(c.children)},this)}var b=[];a(this._elements);return b},getIdentities:function(a){return k.map(a,m.hitch(this,function(a){return this.getIdentity(a)}))},hasSelectedItems:function(){return 0<this._getSelected().length},getAttributeNames:function(a){b.getAttributeNames(this.sessionId,this.subsetId,{callback:a.onComplete,scope:this,errorHandler:a.onError})},getAttributeValues:function(a){b.getAttributeValues(this.sessionId,this.subsetId,a.attribute,{callback:a.onComplete,scope:this,
errorHandler:a.onError})},reloadSubset:function(){b.reloadSubset(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},subsetAll:function(){b.subsetAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},cut:function(){b.cut(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},
copy:function(){b.copy(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},paste:function(a){b.paste(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},pasteAbove:function(a){b.pasteAbove(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},pasteBelow:function(a){b.pasteBelow(this.sessionId,
this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},filterByLevel:function(a){var c=a.onComplete;b.filterByLevel(this.sessionId,this.subsetId,a.levels,{callback:function(a){this._update(a);c();this._onChange()},scope:this,errorHandler:a.onError})},filterByAttribute:function(a){var c=a.onComplete;b.filterByAttribute(this.sessionId,this.subsetId,a.attributeName,a.attributeValue,{callback:function(a){this._update(a);c();this._onChange()},
scope:this,errorHandler:a.onError})},filterByExpression:function(a){var c=a.onComplete;b.filterByExpression(this.sessionId,this.subsetId,a.expression,{callback:function(a){this._update(a);c();this._onChange()},scope:this,errorHandler:a.onError})},keepSelectedElements:function(){b.keepSelectedElements(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},deleteSelectedElements:function(){b.deleteSelectedElements(this.sessionId,
this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},find:function(a){b.find(this.sessionId,this.subsetId,a.pattern,a.startIndex,a.direction,{callback:function(a){a.subsetInfo&&(this._update(a.subsetInfo),this._onChange());this._onFind(a)},scope:this})},sort:function(a){b.sort(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this})},expandSelectedConsolidations:function(a){b.expandSelectedConsolidations(this.sessionId,
this.subsetId,!!a,{callback:function(a){this._update(a);this._onChange()},scope:this})},expandAll:function(){b.expandAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},collapseSelectedConsolidations:function(){b.collapseSelectedConsolidations(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},collapseAll:function(){b.collapseAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},
scope:this})},insertParentsOfSelectedElements:function(){b.insertParentsOfSelectedElements(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},createConsolidationFromSubset:function(a){var c=a.onComplete;b.createConsolidationFromSubset(this.sessionId,this.subsetId,a.namedSubsetId,{callback:function(a){this._update(a);c&&c();this._onChange()},scope:this,errorHandler:a.onError})},createConsolidationFromSelectedElements:function(a){var c=a.onComplete;b.createConsolidationFromSelectedElements(this.sessionId,
this.subsetId,{callback:function(a){this._update(a);c&&c();this._onChange()},scope:this,errorHandler:a.onError})},getElementIndex:function(a){return parseInt(this.getIdentity(a))+1}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){m=m("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,c.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(l.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};l.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete d[a]});l.forEach(b,function(a){d[a]=!0});var g=
[],e;for(e in d)g.push(e);c.className=g.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function d(c){h.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":h.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":h.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);
break;case "focus":case "focusin":h.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":h.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});b(function(){function b(a,c,d){if(!d||!k.isDescendant(d,c))for(;c&&c!=d;c=c.parentNode)if(c._cssState){var e=g.getEnclosingWidget(c);e&&(c==e.domNode?e._cssMouseEvent(a):e._subnodeCssMouseEvent(c,c._cssState,a))}}var c=a.body(),f;e(c,d.over,function(a){b(a,a.target,a.relatedTarget)});e(c,d.out,function(a){b(a,a.target,a.relatedTarget)});
e(c,n.press,function(a){f=a.target;b(a,f)});e(c,n.release,function(a){b(a,f);f=null});e(c,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=g.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return m})},"tm1web/utility/number":function(){define("dojo/i18n!dojo/cldr/nls/number dojo/number dojo/sniff dojo/string ./string ./percent ../share/NumberType".split(" "),function(l,m,k,h,f,c,e){function b(a){return a!==a||"number"!==typeof a}
function d(a,d,g){var h={type:e.DECIMAL,negative:!1,rawValue:null,num:NaN};if(0==a.length)return h;d?h.type=d:-1!=a.indexOf(l.percentSign)&&(h.type=e.PERCENT);if(h.type!=e.DECIMAL&&h.type!=e.PERCENT)return h;"("==a.charAt(0)&&")"==a.charAt(a.length-1)&&(h.negative=!h.negative,a=a.substring(1,a.length-1));c.formatUsesPrefixedPercent()&&(a=c.removePlusSignBeforePercent(a));var k=d="";if(h.type==e.PERCENT){var q=c.getRange(a);if(null==q)return h;d=a.substring(0,q.start);k=a.substring(q.end);a=a.substring(q.start,
q.end)}q=a.split(/[eE]/);if(2<q.length)return h;a=q[0];if(a.charAt(0)==l.plusSign||a.charAt(0)==l.minusSign)if(a.charAt(0)==l.minusSign&&(h.negative=!h.negative),a=a.substring(1),a.charAt(0)==l.minusSign||a.charAt(0)==l.plusSign)return h;if(a.charAt(a.length-1)==l.decimal&&(a=a.substring(0,a.length-1),-1!=a.indexOf(l.decimal)))return h;if(1!=q.length&&(!g||0!=q[1].length&&q[1]!=l.minusSign&&q[1]!=l.plusSign)){q=q[1];if(-1!=q.indexOf(l.decimal)||q.charAt(0)==l.plusSign&&(q=q.substring(1),q.charAt(0)==
l.minusSign||q.charAt(0)==l.plusSign)||0==q.length)return h;a=m.parse(a);if(b(a))return h;q=m.parse(q);if(b(q))return h;a=n(a+"e"+q)}g&&(0==a.length&&(a="0"),-1!=a.indexOf(l.group)?a=a.replace(p,""):r&&(a=a.replace(/\s/g,"")));h.rawValue=a;a=h.type==e.DECIMAL?a:f.addPreSuffix(a,d,k);h.num=m.parse(a,{type:h.type});return h}function a(a,b){var c=a.toString().split(/[eE]/),d=c[0].indexOf("."),d=-1==d?0:c[0].length-d-1;1<c.length&&(d-=Number(c[1]));b==e.PERCENT&&(d-=2);k("trident")&&20<d&&(d=20);return 0>
d?0:d}function n(a,b){var c=a.toString().split(/[eE]/);a=c[0];b=(b?b:0)+(1<c.length?Number(c[1]):0);(c="-"==a.charAt(0))&&(a=a.substring(1));var d=a.indexOf(".");a=a.replace(".","");0==d?(a="0"+a,d=1):-1==d&&(d=a.length);d+=b;if(0<=b&&d>a.length){for(var d=h.pad(a,d,"0",!0),g=0,e=0;e<d.length;e++){var f=d.charAt(e);if("0"!=f){g=e;"."==f&&g--;break}else e==d.length-1&&(g=e)}a=0<g?d.substring(g):d}else 0>=d&&(a=h.pad(a,a.length-d+1),d=1),d!=a.length&&(a=a.substring(0,d)+l.decimal+a.substring(d,a.length));
return(c?l.minusSign:"")+a}function g(a,b){return b==e.DECIMAL?n(a):c.addFormat(n(a,2))}var p=new RegExp(f.regexEscape(l.group),"g"),q=String.fromCharCode(160),r=-1!=l.group.indexOf(q);return{group:l.group,decimal:l.decimal,isNaN:b,parse:function(a){a=d(a);if(b(a.num))return NaN;a.negative&&(a.num=-a.num);if(Infinity==Math.abs(a.num)||1E-100>Math.abs(a.num))return a.num;var c=a.type==e.PERCENT?2:0,g=a.rawValue.indexOf(l.decimal);-1!=g&&(c+=a.rawValue.length-g-1);return(k("chrome")||k("ie")||k("trident"))&&
20<c?a.num:Number(a.num.toFixed(c))},canParse:function(a,c,g){a=d(a,c,g);return!b(a.num)},format:function(d,f,h){if("string"===typeof d&&b(Number(d))||Infinity===Math.abs(d))throw Error("Value specified should be in the invariant number format.");h=h?h:e.DECIMAL;if(h!=e.DECIMAL&&h!=e.PERCENT)throw Error("Format type should be decimal or percent.");var k=Math.abs(d);if(0!=k&&(1E-6>k||1E16<=k))return g(d,h);k=m.format(d,{type:h,places:a(d,h)});return 1<k.split(/[eE]/).length?g(d,h):f?h==e.PERCENT?c.addFormat(c.removeFormat(k).replace(p,
"")):k.replace(p,""):k},convert:function(a,c,d){a=this.parse(a);return b(a)?null:this.format(a,d,c)}}})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){k.isAsync||b(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var p=m("dojo.dnd.Source",n,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,
skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){h.mixin(this,h.mixin({},b));var c=this.accept;if(c.length){this.accept={};for(var g=0;g<c.length;++g)this.accept[c[g]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&f.add(this.node,"dojoDndSource");this.targetState="";this.accept&&f.add(this.node,"dojoDndTarget");this.horizontal&&f.add(this.node,
"dojoDndHorizontal");this.topics=[d.subscribe("/dnd/source/over",h.hitch(this,"onDndSourceOver")),d.subscribe("/dnd/start",h.hitch(this,"onDndStart")),d.subscribe("/dnd/drop",h.hitch(this,"onDndDrop")),d.subscribe("/dnd/cancel",h.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,g=!1,e=0;e<d.length;++e)if(d[e]in this.accept){g=!0;break}if(!g)return!1}return!0},copyState:function(a,
b){if(a)return!0;2>arguments.length&&(b=this==g.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){p.superclass.destroy.call(this);l.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(b){if(!this.isDragging||"Disabled"!=this.targetState){p.superclass.onMouseMove.call(this,b);var d=g.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-
this._lastY)>this.delay)){var e=this.getSelectedNodes();e.length&&d.startDrag(this,e,this.copyState(a.getCopyKeyState(b),!0))}this.isDragging&&(e=!1,this.current&&(this.targetBox&&this.targetAnchor==this.current||(this.targetBox=c.position(this.current,!0)),e=this.horizontal?b.pageX-this.targetBox.x<this.targetBox.w/2==c.isBodyLtr(this.current.ownerDocument):b.pageY-this.targetBox.y<this.targetBox.h/2),this.current!=this.targetAnchor||e!=this.before)&&(this._markTargetAnchor(e),d.canDrop(!this.current||
d.source!=this||!(this.current.id in this.selection)))}},onMouseDown:function(b){this.mouseDown||!this._legalMouseDown(b)||this.skipForm&&a.isFormElement(b)||(this.mouseDown=!0,this._lastX=b.pageX,this._lastY=b.pageY,p.superclass.onMouseDown.call(this,b))},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,p.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=g.manager(),a.canDrop("Disabled"!=
this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&g.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),
this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(b,c,d){var g=this._normalizedCreator;this._normalizedCreator=this.creator?function(a,c){return g.call(this,b.getItem(a.id).data,c)}:d?function(c){var d=b.getItem(c.id);c=c.cloneNode(!0);c.id=a.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(a){var c=
b.getItem(a.id);b.delItem(a.id);return{node:a,data:c.data,type:c.type}};this.selectNone();d||this.creator||b.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&b.deleteSelectedNodes();this._normalizedCreator=g},onDropInternal:function(b,c){var d=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,b){return d.call(this,this.getItem(a.id).data,b)}:function(b){var c=this.getItem(b.id);b=b.cloneNode(!0);
b.id=a.getUniqueId();return{node:b,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,b,this.before,this.current);this._normalizedCreator=d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){p.superclass.onOverEvent.call(this);g.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},
onOutEvent:function(){p.superclass.onOutEvent.call(this);g.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(this.current!=this.targetAnchor||this.before!=a)this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){this.targetAnchor&&
(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!e.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(f.contains(a,"dojoDndHandle"))return!0;if(f.contains(a,"dojoDndItem")||f.contains(a,"dojoDndIgnore"))break}return!1}});return p})},"dojo/errors/RequestTimeoutError":function(){define(["./create",
"./RequestError"],function(l,m){return l("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"tm1web/share/TM1Widget":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/topic ./Base ./TM1Utility ./service-loader!SubsetService".split(" "),function(l,m,k,h,f,c,e){return l(f,{_widgetState:null,constructor:function(b,c){this.parent=b;this.identity=c;this.sandboxController=null;this.own(h.subscribe("tm1web/share/TM1Widget:redoUndoStateChange",m.hitch(this,"_onRedoUndoStateChange")))},
create:function(){this.onCreateDeferred=new k;this.onCreateDeferred.then(m.hitch(this,function(){delete this.onCreateDeferred}));return this.onCreateDeferred},recalculate:function(){},copy:function(){h.publish(this.identity.objectId+"-Copy")},paste:function(){h.publish(this.identity.objectId+"-Paste")},redo:function(){return this.sandboxController.redo()},undo:function(){return this.sandboxController.undo()},getSandboxes:function(){return this.sandboxController.getSandboxes()},setActiveSandbox:function(b){return this.sandboxController.setActiveSandbox(b)},
deleteSandboxes:function(){return this.sandboxController.deleteSandboxes()},createSandbox:function(){return this.sandboxController.createSandbox()},commitSandbox:function(){return this.sandboxController.commitSandbox()},getRedoUndoStatus:function(){return this.sandboxController.getRedoUndoStatus()},resetData:function(){var b=new k;b.then(m.hitch(this,"onResetData"));this.getService().resetData(this.identity.objectId,{callback:b.resolve,scope:this});return b},onResetData:function(){this.recalculate()},
saveData:function(){var b=new k;b.then(m.hitch(this,"recalculate"));this.getService().saveData(this.identity.objectId,{callback:b.resolve,scope:this});return b},reviewDataChanges:function(){var b=new k;b.then(function(){alert("This function has not been implemented yet.")});setTimeout(b.resolve,10);return b},getState:function(){var b=new k;this.getService().getState(this.identity.objectId,{callback:function(c){this._widgetState=c;b.resolve(c)},scope:this});return b.promise},subscribeToStateChangeUpdates:function(b){return this.own(h.subscribe(this.identity.objectId+
"-TM1WidgetStateUpdate",b))[0]},unsubscribeFromStateChangeUpdates:function(b){b.remove()},publishUpdate:function(){var b=m.hitch(this,function(a){h.publish(this.identity.objectId+"-TM1WidgetStateUpdate",a);this._publishRedoUndoStateChange(a)}),c=this.getState();c.then(b);return c},_publishRedoUndoStateChange:function(b){h.publish("tm1web/share/TM1Widget:redoUndoStateChange",{sessionToken:this.identity.sessionToken,objectId:this.identity.objectId,sandbox:b.sandboxes.currentSandbox},b.redoUndoStatus)},
_onRedoUndoStateChange:function(b,c){var a=this._widgetState;a&&b.sessionToken===this.identity.sessionToken&&b.objectId!==this.identity.objectId&&b.sandbox===a.sandboxes.currentSandbox&&(a.redoUndoStatus=c)},subscribeToTM1WidgetCreationNotifications:function(b){return this.own(h.subscribe(this.identity.objectId+"-TM1WidgetIdentityCreated",b))[0]},unsubscribeFromTM1WidgetCreationNotifications:function(b){b.remove()},subscribeToRelationalDrillThroughNotifications:function(b){return this.own(h.subscribe(this.identity.objectId+
"-RelationalDrillThrough",b))[0]},unsubscribeFromRelationalDrillThroughNotifications:function(b){b.remove()},filterElement:function(b){this.identity.objectId&&e.filterElement(this.identity.objectId,b,{callback:this.recalculate,scope:this})},getDimensionNames:function(){if(this.identity.objectId){var b=new k;this.getService().getDimensionNames(this.identity.objectId,{callback:b.resolve,scope:this});return b}},getElementNames:function(b){if(this.identity.objectId){var c=new k;e.getElements(this.identity.objectId,
b,{callback:c.resolve,scope:this});return c}},getTitleDimensionInfo:function(b){if(this.identity.objectId){var c=new k;b=!0===b?!0:!1;this.getService().getTitleDimensionInfo(this.identity.objectId,b,{scope:this,callback:function(a){c.resolve(a)},errorHandler:function(a){c.reject(a)}});return c.promise}},displayExportOptions:function(b){},getService:function(){},destroy:function(){this.identity.objectId&&this.getService().dispose(this.identity.objectId);this.inherited(arguments)},hasUnsavedDataChanges:function(){},
subscribeToDataChangeNofications:function(b){return this.own(h.subscribe(this.identity.objectId+"-UnsavedDataStateChanged",b))[0]},unsubscribe:function(b){b.remove()},getSelection:function(){},setSelection:function(b){},_validateSelectionInfo:function(b){if(b){var c=/^\d+$/;if(!(b.startCell&&b.endCell&&"y"in b.startCell&&"x"in b.startCell&&"y"in b.endCell&&"x"in b.endCell&&c.test(b.startCell.y)&&c.test(b.startCell.x)&&c.test(b.endCell.y)&&c.test(b.endCell.x)))return!1;b.startCell.y=Number(b.startCell.y);
b.startCell.x=Number(b.startCell.x);b.endCell.y=Number(b.endCell.y);b.endCell.x=Number(b.endCell.x)}return!0}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(l,m,k,h,f,c,e,b,d){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var n=function(a){return 1==a.length&&"string"==typeof a[0]},g=function(a){var b=
a.parentNode;b&&b.removeChild(a)},p=m.NodeList,q=p._adaptWithCondition,r=p._adaptAsForEach,s=p._adaptAsMap;h.extend(p,{_normalize:function(a,b){var d=!0===a.parse;if("string"==typeof a.template){var g=a.templateFunc||l.string&&l.string.substitute;a=g?g(a.template,a):a}g=typeof a;"string"==g||"number"==g?(a=c.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?h._toArray(a.childNodes):[a]):h.isArrayLike(a)?h.isArray(a)||(a=h._toArray(a)):a=[a];d&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},
_place:function(a,b,d,g){if(1==b.nodeType||"only"!=d)for(var e,f=a.length,h=f-1;0<=h;h--){var k=g?this._cloneNode(a[h]):a[h];if(a._runParse&&l.parser&&l.parser.parse)for(e||(e=b.ownerDocument.createElement("div")),e.appendChild(k),l.parser.parse(e),k=e.firstChild;e.firstChild;)e.removeChild(e.firstChild);h==f-1?c.place(k,b,d):b.parentNode.insertBefore(k,b);b=k}},position:s(e.position),attr:q(a(b),n),style:q(a(d),n),addClass:r(f.add),removeClass:r(f.remove),toggleClass:r(f.toggle),replaceClass:r(f.replace),
empty:r(c.empty),removeAttr:r(b.remove),marginBox:s(e.getMarginBox),place:function(a,b){var d=m(a)[0];return this.forEach(function(a){c.place(a,d,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(g)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new p;this.map(function(c){m(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=
m._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(k.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var d=0,g;g=this[d];d++)a.length?this._place(a,g,b,0<d):c.empty(g);return this}});return p})},"tm1web/websheet/spreading/RelativeSpreadDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct ../../utility/message-localizer ../../widgets/ErrorAlert ./ReferenceSelectControl ./RelativeSpreadControl ./RelativeSpreadDialogBase".split(" "),
function(l,m,k,h,f,c,e,b,d){return l(d,{constructor:function(){this._RefCellVal=null;this._InitializeRelativeSpreadDialog()},_InitializeRelativeSpreadDialog:function(){this._SelectPage=new e({_ObjectId:this._ObjectId,_dataGrid:this._dataGrid,_coord:this._coord,Service:this.Service});this._ApplyPage=new b({_dataGrid:this._dataGrid,_IsPercentage:this._IsPercentage})},_CreateLayout:function(){this._CreateContent();this._CreateBaseLayout();this._SelectPage.setSelectButton(this.selectButton)},_CreateContent:function(){this._SelectPageContainer=
this._SelectPage.GetContentContainer();this._ApplyPageContainer=this._ApplyPage.GetContentContainer();h.place(this._SelectPageContainer,this._Dialog.containerNode);h.place(this._ApplyPageContainer,this._Dialog.containerNode);k.remove(this._SelectPageContainer,"tm1webHidden");k.add(this._ApplyPageContainer,"tm1webHidden")},_OnSelect:function(){var a=this._SelectPage.BuildReferenceString();this._ApplyPage.SetRefStr(a);var a=this._SelectPage.GetSelectedDimNames(),b=this._SelectPage.GetSelectedElemNames();
this._dataGrid.model?this._dataGrid.model.getRefCellValue(this._SelectPage.getCubeName(),a,b,this._coord).then(m.hitch(this,this._onGetRefCellValue)).otherwise(function(a){c.show({message:f.get("SRV_ERR_STR"),title:f.get("SRV_ERR_TITLE_STR")})}):this.Service.getRefCellValue(this._ObjectId,this._SelectPage.getCubeName(),a,b,this._coord.rowIndex,this._coord.colIndex,{callback:this._onGetRefCellValue,scope:this})},_onGetRefCellValue:function(a){this._ApplyPage.SetRefCellVal(this._convertFloat(a));k.add(this._SelectPageButtonContainer,
"tm1webHidden");k.add(this._SelectPageContainer,"tm1webHidden");k.remove(this._ApplyPageButtonContainer,"tm1webHidden");k.remove(this._ApplyPageContainer,"tm1webHidden")},_OnApply:function(){var a=this._SelectPage.buildReferenceArray(),b=this._ApplyPage.GetControlString();if(null!=b){var d=function(a,b){"SpreadFailed_NoUpdatableCell"==a?c.show({message:f.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:f.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):c.show({message:b.localizedMessage,title:f.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})};
this._dataGrid.model?this._dataGrid.model.relativeSpread(b,this._coord,a).otherwise(function(a){d(a[0],a[1])}):this.Service.dataSpread2(this._ObjectId,a,b,{callback:this._OnSpread,scope:this,errorHandler:d})}this.Destroy()}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(l,m,k,h,f){return l("dijit.form.FilteringSelect",[h,f],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},
isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(c,e,b,d){e&&e[this.searchAttr]!==this._lastQuery||!e&&c.length&&this.store.getIdentity(c[0])!=this._lastQuery||(c.length?this.set("item",c[0],d):this.set("value","",d||void 0===d&&!this.focused,this.textbox.value,null))},_openResultList:function(c,e,b){e[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),
void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(c,e,b,d){this._onChangeActive||(e=null);if(void 0===d){if(null===c||""===c)if(c="",!m.isString(b)){this._setDisplayedValueAttr(b||"",e);return}var a=this;this._lastQuery=c;k(this.store.get(c),function(b){a._callbackSetLabel(b?[b]:[],void 0,void 0,e)})}else this.valueNode.value=c,this.inherited(arguments,[c,e,b,d])},_setItemAttr:function(c,e,
b){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(c){return c.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(c,e){null==c&&(c="");if(!this._created){if(!("displayedValue"in this.params))return;e=!1}if(this.store){this.closeDropDown();var b=m.clone(this.query),d=this._getDisplayQueryString(c),a;this.store._oldAPI?a=d:(a=this._patternToRegExp(d),a.toString=function(){return d});this._lastQuery=b[this.searchAttr]=a;this._lastDisplayedValue=
this.textbox.value=c;this._set("displayedValue",c);var f=this,g={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};m.mixin(g,this.fetchProperties);this._fetchHandle=this.store.query(b,g);k(this._fetchHandle,function(a){f._fetchHandle=null;f._callbackSetLabel(a||[],b,g,e)},function(a){f._fetchHandle=null;f._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A){function y(a){return function(c){b[c?"set":"remove"](this.domNode,a,c);this._set(a,c)}}p.add("dojo-bidi",!1);var B={};l=c("dijit._WidgetBase",[u,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:y("lang"),dir:"",_setDirAttr:y("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:h.blankGif||l.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},d;for(d in b.attributeMap)c.push(d);for(d in b)/^on/.test(d)&&(a[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,d.length-9),b.attributeMap&&d in b.attributeMap||c.push(d))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();
this.srcNodeRef=e.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,r.mixin(this,a));this.postMixInProperties();this.id||(this.id=A.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);A.add(this);this.buildRendering();
var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);m.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},
buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));d.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,m.forEach(this.getChildren(),function(a){a._started||a._destroyed||!r.isFunction(a.startup)||(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=
!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,r.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(A.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);A.remove(this.id);this._destroyed=!0},destroyRendering:function(c){this.bgIframe&&(this.bgIframe.destroy(c),delete this.bgIframe);
this.domNode&&(c?b.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(c||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;r.isObject(a)?g.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,g){g=3<=
arguments.length?g:this.attributeMap[a];m.forEach(r.isArray(g)?g:[g],function(g){var e=this[g.node||g||"domNode"];switch(g.type||"attribute"){case "attribute":r.isFunction(c)&&(c=r.hitch(this,c));g=g.attribute?g.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?b.set(e,g,c):e.set(g,c);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(c));break;case "innerHTML":e.innerHTML=c;break;case "class":d.replace(e,c,this[a])}},this)},get:function(a){var b=
this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(r.isFunction(d))var g=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!r.isFunction(this.focusNode)?"focusNode":"domNode",e=this[d]&&this[d].tagName,f;if((f=e)&&!(f=B[e])){f=this[d];var h={},k;for(k in f)h[k.toLowerCase()]=!0;f=B[e]=h}k=f;c=a in this.attributeMap?this.attributeMap[a]:
c.s in this?this[c.s]:k&&c.l in k&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return g||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;!this._created||c===b||c!==c&&b!==b||(this._watchCallbacks&&
this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,g=this["on"+a];g&&(d=g.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?k.after(this,c,b,!0):this.own(s(this.domNode,
a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?A.findWidgets(this.containerNode):[]},getParent:function(){return A.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(f.connect(a,
b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,r.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:n.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=g.get(this.domNode,"display")},placeAt:function(b,c){var d=!b.tagName&&A.byId(b);!d||!d.addChild||c&&"number"!==typeof c?(d=d&&"domNode"in d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:
d.domNode:e.byId(b,this.ownerDocument),a.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup()):d.addChild(this,c);return this},defer:function(a,b){var c=setTimeout(r.hitch(this,function(){c&&(c=null,this._destroyed||r.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});p("dojo-bidi")&&l.extend(z);return l})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(l,m){l.cookie=function(k,h,f){var c=document.cookie,
e;if(1==arguments.length)e=(e=c.match(new RegExp("(?:^|; )"+m.escapeString(k)+"\x3d([^;]*)")))?decodeURIComponent(e[1]):void 0;else{f=f||{};c=f.expires;if("number"==typeof c){var b=new Date;b.setTime(b.getTime()+864E5*c);c=f.expires=b}c&&c.toUTCString&&(f.expires=c.toUTCString());h=encodeURIComponent(h);var c=k+"\x3d"+h,d;for(d in f)c+="; "+d,b=f[d],!0!==b&&(c+="\x3d"+b);document.cookie=c}return e};l.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return l.cookie})},"tm1web/share/CheckRow":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","../utility/dom","dijit/form/CheckBox"],function(l,m,k,h,f){return l(null,{constructor:function(c,e){this.identifier=c;this.label=e;this.checked=!1;this.checkBox=this.row=null},createCheckItemRow:function(c,e){var b=
m.create("div");k.add(b,"tm1webCheckRow");this.row=b;var d=this,a=new f({name:"ActionChoice",value:this.identifier,type:"checkbox",className:"tm1webNodeCheck"});a.setChecked(this.checked);m.place(a.domNode,b);this._createLabel(this.label,b,a.id);a.onChange=function(a){d.checked=a;e(d)};b.onclick=function(){d.onClick(d)};return b},disableCheckBox:function(c){this.checkBox.disabled=c},highlightItem:function(c){k.toggle(this.row,"tm1webHighlight",c)},_createCheckBox:function(){var c={type:"checkbox",
className:"tm1webNodeCheck",id:this.identifier.replace(" ","_")};return m.create("input",c)},_createLabel:function(c,e,b){c=m.create("label",{innerHTML:c});c.setAttribute("for",b);m.place(c,e)},onClick:function(c){}})})},"tm1web/websheet/celledit/_EditMixin":function(){define(["dojo/_base/declare","./ValueSaver"],function(l,m){return l(null,{_ValueSaver:m})})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","../main","dojo/_base/lang"],function(l,m){l.getObject("uuid",!0,m);m.uuid.NIL_UUID=
"00000000-0000-0000-0000-000000000000";m.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};m.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};m.uuid.assert=function(k,h){if(!k)throw h||(h="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(h);};m.uuid.generateNilUuid=function(){return m.uuid.NIL_UUID};m.uuid.isValid=function(k){k=k.toString();var h=l.isString(k)&&36==k.length&&k==k.toLowerCase();
if(h){k=k.split("-");var h=5==k.length&&8==k[0].length&&4==k[1].length&&4==k[2].length&&4==k[3].length&&12==k[4].length,f;for(f in k)var c=parseInt(k[f],16),h=h&&isFinite(c)}return h};m.uuid.getVariant=function(k){if(!m.uuid._ourVariantLookupTable){var h=m.uuid.variant,f=[];f[0]=h.NCS;f[1]=h.NCS;f[2]=h.NCS;f[3]=h.NCS;f[4]=h.NCS;f[5]=h.NCS;f[6]=h.NCS;f[7]=h.NCS;f[8]=h.DCE;f[9]=h.DCE;f[10]=h.DCE;f[11]=h.DCE;f[12]=h.MICROSOFT;f[13]=h.MICROSOFT;f[14]=h.UNKNOWN;f[15]=h.UNKNOWN;m.uuid._ourVariantLookupTable=
f}k=k.toString();k=k.charAt(19);k=parseInt(k,16);m.uuid.assert(0<=k&&16>=k);return m.uuid._ourVariantLookupTable[k]};m.uuid.getVersion=function(k){m.uuid.assert(m.uuid.getVariant(k)==m.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");k=k.toString();k=k.charAt(14);return parseInt(k,16)};m.uuid.getNode=function(k){m.uuid.assert(m.uuid.getVersion(k)==m.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");k=k.toString();return k.split("-")[4]};
m.uuid.getTimestamp=function(k,h){m.uuid.assert(m.uuid.getVersion(k)==m.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");k=k.toString();h||(h=null);switch(h){case "string":case String:return m.uuid.getTimestamp(k,Date).toUTCString();case "hex":var f=k.split("-"),c=f[0],e=f[1],f=f[2],f=f.slice(1),c=f+e+c;m.uuid.assert(15==c.length);return c;case null:case "date":case Date:return f=k.split("-"),c=parseInt(f[0],16),e=parseInt(f[1],16),f=parseInt(f[2],16)&4095,f=
(f<<16)+e,f*=4294967296,f+=c,new Date(f/1E4-122192928E5);default:m.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+h)}};return m.uuid})},"tm1web/subseteditor/SortType":function(){define({Ascending:"Ascending",Descending:"Descending",Hierarchically:"Hierarchically",IndexAscending:"IndexAscending",IndexDescending:"IndexDescending"})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(l,
m,k,h,f,c,e,b,d){var a=k.mixin,n={},g=n._Line=function(a,b){this.start=a;this.end=b};g.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var p=n.Animation=function(b){a(this,b);k.isArray(this.curve)&&(this.curve=new g(this.curve[0],this.curve[1]))};p.prototype=new h;k.extend(p,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=k.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=
(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var q=0,r=null,s={run:function(){}};k.extend(p,{_startTimer:function(){this._timer||(this._timer=c.after(s,"run",k.hitch(this,"_cycle"),!0),q++);r||(r=setInterval(k.hitch(s,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,q--);0>=q&&(clearInterval(r),r=null,q=0)}});var t=e("ie")?function(a){var b=a.style;b.width.length||"auto"!=d.get(a,"width")||(b.width="auto")}:function(){};
n._fade=function(g){g.node=b.byId(g.node);var e=a({properties:{}},g);g=e.properties.opacity={};g.start="start"in e?e.start:function(){return+d.get(e.node,"opacity")||0};g.end=e.end;g=n.animateProperty(e);c.after(g,"beforeBegin",k.partial(t,e.node),!0);return g};n.fadeIn=function(b){return n._fade(a({end:1},b))};n.fadeOut=function(b){return n._fade(a({end:0},b))};n._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var c=a[b];c.start instanceof
f&&(c.tempColor=new f)}};u.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=this._properties[c],g=d.start;g instanceof f?b[c]=f.blendColors(g,d.end,a,d.tempColor).toCss():k.isArray(g)||(b[c]=(d.end-g)*a+g+("opacity"!=c?d.units||"px":0))}return b};n.animateProperty=function(g){var e=g.node=b.byId(g.node);g.easing||(g.easing=l._defaultEasing);g=new p(g);c.after(g,"beforeBegin",k.hitch(g,function(){var b={},c;for(c in this.properties){var g=function(a,b){var c={height:a.offsetHeight,
width:a.offsetWidth}[b];if(void 0!==c)return c;c=d.get(a,b);return"opacity"==b?+c:l?c:parseFloat(c)};if("width"==c||"height"==c)this.node.display="block";var h=this.properties[c];k.isFunction(h)&&(h=h(e));h=b[c]=a({},k.isObject(h)?h:{end:h});k.isFunction(h.start)&&(h.start=h.start(e));k.isFunction(h.end)&&(h.end=h.end(e));var l=0<=c.toLowerCase().indexOf("color");"end"in h?"start"in h||(h.start=g(e,c)):h.end=g(e,c);l?(h.start=new f(h.start),h.end=new f(h.end)):h.start="opacity"==c?+h.start:parseFloat(h.start)}this.curve=
new u(b)}),!0);c.after(g,"onAnimate",k.hitch(d,"set",g.node),!0);return g};n.anim=function(a,b,c,d,g,e){return n.animateProperty({node:a,duration:c||p.prototype.duration,properties:b,easing:d,onEnd:g}).play(e||0)};a(l,n);l._Animation=p;return n})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin dojo/_base/declare".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){l.experimental("dojox.layout.ResizeHandle");var t=s("dojox.layout._ResizeHelper",q,{show:function(){g.set(this.domNode,"display","")},hide:function(){g.set(this.domNode,"display","none")},resize:function(a){n.setMarginBox(this.domNode,a)}});return s("dojox.layout.ResizeHandle",[q,r],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=p.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new t({id:"dojoxGlobalResizeHelper"})).placeAt(e.body()),
a.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var b=m.partial(a.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;b("dojoxResizeNW");break;case "x":this._resizeX=!0;b("dojoxResizeW");break;case "y":this._resizeY=!0,b("dojoxResizeN")}},_beginSizing:function(a){if(!this._isSizing&&
(k.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=p.byId(this.targetId))?this.targetWidget.domNode:d.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var b=n.position(this.targetDomNode,!0);this._resizeHelper.resize({l:b.x,t:b.y,w:b.w,h:b.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:b.x,t:b.y})}this._isSizing=!0;this.startPoint={x:a.clientX,y:a.clientY};
var b=g.getComputedStyle(this.targetDomNode),c="border-model"===n.boxModel?{w:0,h:0}:n.getPadBorderExtents(this.targetDomNode,b),h=n.getMarginExtents(this.targetDomNode,b);this.startSize={w:g.get(this.targetDomNode,"width",b),h:g.get(this.targetDomNode,"height",b),pbw:c.w,pbh:c.h,mw:h.w,mh:h.h};this.isLeftToRight()||"absolute"!=g.get(this.targetDomNode,"position")||(b=n.position(this.targetDomNode,!0),this.startPosition={l:b.x,t:b.y});this._pconnects=[k.connect(e.doc,"onmousemove",this,"_updateSizing"),
k.connect(e.doc,"onmouseup",this,"_endSizing")];f.stop(a)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(d){return!1}this._activeResizeLastEvent=a;var g=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),e=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
g:0);e=this._checkConstraints(a,this.startSize.h-(this._resizeY?e:0));(c=c||this.startPosition)&&this._resizeX&&(e.l=c.l+g,e.w!=a&&(e.l+=a-e.w),e.t=c.t);switch(b){case "margin":e.w+=this.startSize.mw,e.h+=this.startSize.mh;case "border":e.w+=this.startSize.pbw,e.h+=this.startSize.pbh}return e},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=this.startSize.w,
d=this.startSize.h,g=c*b-d*a;0>g?a=b*c/d:0<g&&(b=a*d/c)}return{w:a,h:b}},_changeSizing:function(a){var d=this.targetWidget&&m.isFunction(this.targetWidget.resize),e=this._getNewCoords(a,d&&"margin");if(!1!==e&&(d?this.targetWidget.resize(e):this.animateSizing?b[this.animateMethod]([c.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:e.w}},duration:this.animateDuration}),c.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:e.h}},
duration:this.animateDuration})]).play():g.set(this.targetDomNode,{width:e.w+"px",height:e.h+"px"}),this.intermediateChanges))this.onResize(a)},_endSizing:function(a){h.forEach(this._pconnects,k.disconnect);var b=m.partial(k.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(a){}})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady",
"./sniff","./_base/window"],function(l,m,k,h,f){var c=f.doc.documentElement;f=h("ie");var e=h("opera"),b=Math.floor,d=h("ff"),a=l.boxModel.replace(/-/,""),e={dj_quirks:h("quirks"),dj_opera:e,dj_khtml:h("khtml"),dj_webkit:h("webkit"),dj_safari:h("safari"),dj_chrome:h("chrome"),dj_gecko:h("mozilla"),dj_ios:h("ios"),dj_android:h("android")};f&&(e.dj_ie=!0,e["dj_ie"+b(f)]=!0,e.dj_iequirks=h("quirks"));d&&(e["dj_ff"+b(d)]=!0);e["dj_"+a]=!0;var n="",g;for(g in e)e[g]&&(n+=g+" ");c.className=m.trim(c.className+
" "+n);k(function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+n.replace(/ /g,"-rtl ");c.className=m.trim(c.className+" "+a+"dj_rtl dijitRtl "+n.replace(/ /g,"-rtl "))}});return h})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(l,m,k){m=m.NodeList;var h=m.prototype;h.connect=m._adaptAsForEach(function(){return l.connect.apply(this,arguments)});h.coords=m._adaptAsMap(l.coords);m.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
k.forEach(m.events,function(f){var c="on"+f;h[c]=function(e,b){return this.connect(c,e,b)}});return l.NodeList=m})},"tm1web/websheet/CellContainer":function(){define(["dojo/_base/declare"],function(l){return l(null,{constructor:function(){this._map={}},add:function(l){var k=l.cellInfo;if(!k)throw Error("Cell has not been initialized with cellInfo");var h=k.rowIndex,k=k.colIndex,f=this._map[h];f||(f=this._map[h]={});f[k]=l},get:function(l,k){var h=this._map[l];return h?h[k]||null:null},remove:function(l){var k=
l.cellInfo;if(!k)return!1;l=k.columnIndex;k=this._map[k.rowIndex];if(!k||!k[l])return!1;k[l]=null;return!0},clear:function(){this._map={}}})})},"dijit/form/nls/validate":function(){define({root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,
de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"tm1web/subseteditor/PagingSlider":function(){define("require dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/text!./templates/PagingSlider.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/HorizontalSlider ../utility/message-localizer ../share/_LoadingOverlayMixin ../share/Label".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){return m([c,e,b,n],{contextRequire:l,baseClass:"tm1webPagingSlider",templateString:f,
model:null,_slider:null,_label:null,_lastValue:1,postCreate:function(){this.inherited(arguments);this.connect(this.model,"onMetaDataChange","_onMetaDataChange");this.model.getMetaData(k.hitch(this,"_onMetaDataChange"))},_onMetaDataChange:function(b){var c=b.currentPageIndex+1;b=b.pageCount;this._slider.set("maximum",b);this._slider.set("discreteValues",b);c!==this._slider.get("value")&&this._slider.set("value",c);this._lastValue=c;this._label.set("content",a.get("SUBSET_PAGE_STATUS",c,b));this.layout()},
layout:function(){var a=this.domNode.clientWidth;if(!(0>=a)){this._slider.set("style",{display:""});var b=h.getMarginBox(this._label.domNode).w;this._slider.set("style",{width:a-b-1+"px"})}},onChange:function(a){if(!this.get("loading")&&this._lastValue!==a){this.set("loading",!0);var b=this,c=this.model;c.setCurrentPage(a-1,function(){b.set("loading",!1)},function(){c.getMetaData(function(a){b._onMetaDataChange(a);b.set("loading",!1)})})}},destroyRecursive:function(){this.destroy()}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),
function(l,m,k,h,f,c,e,b){return l("dijit.form._FormWidget",[f,e,c,b],{setDisabled:function(b){k.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){k.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){k.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},
postMixInProperties:function(){this.nameAttrSetting=this.name&&!m("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"tm1web/share/AlertType":function(){define({INFORMATION:"INFORMATION",STOP:"STOP",WARNING:"WARNING"})},"tm1web/celledit/TextArea":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-geometry dojo/window dojo/on dojo/keys dijit/form/Textarea ../share/TM1Utility ../utility/dom ../on/mousewheel ./_EditMixin".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g){return l("tm1web.celledit.TextArea",[b,g],{buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,n,function(a){var b=m.mixin({},a);this.defer(function(){c.emit(this.dataGrid.Panel,n,b)})})},_onKeyDown:function(a){switch(a.keyCode){case e.DOWN_ARROW:case e.UP_ARROW:case e.LEFT_ARROW:case e.RIGHT_ARROW:if(this._allowKeyNavigation){var b=m.mixin({},a);this.defer(function(){c.emit(this.dataGrid.Panel,"keydown",b)});k.stop(a)}}},onInput:function(a){switch(a.keyCode){case e.ENTER:if(a.altKey)return k.stop(a),
d.insertCharacterAtCaret("\n",this.textbox),this.resize(),!1;case e.TAB:var b=m.mixin({},a);this.defer(function(){c.emit(this.dataGrid.Panel,"keydown",b)});this.inherited(arguments);return!1}return this.inherited(arguments)},resize:function(){this._resizeHorizontal();this.inherited(arguments)},_resizeHorizontal:function(){if(!this.busyResizing&&this._activeCell){this.busyResizing=!0;var b=this.domNode,c=b.wrap;a.setStyle(b,{whiteSpace:"pre",wordWrap:"normal",width:"1px"});b.wrap="off";b.style.width=
b.scrollWidth+h.getPadExtents(b).w+"px";b.style.removeProperty("white-space");b.style.removeProperty("word-wrap");b.wrap=c;this.busyResizing=!1}},_adjustPosition:function(){var a=this._activeCell,b=this.domNode.style,c=a.offsetWidth,d=this._getMaxWidth(),g=this._getMaxHeight(),e=Math.min(d,c),f=Math.min(g,a.offsetHeight);b.minWidth=e+"px";b.maxWidth=(a.cellInfo.wrapped?e:d)+"px";b.minHeight=f+"px";b.maxHeight=g+"px";this._cellPosition=h.position(a);this.inherited(arguments);this._cellPosition=null;
this.domNode.style.width=c+"px"},_calculateOffsetTop:function(){return this._cellPosition.y},_calculateOffsetLeft:function(){return this._cellPosition.x},_calculateWidth:function(){},_getMaxWidth:function(){return this._getMaxDimension("w","x")},_getMaxHeight:function(){return this._getMaxDimension("h","y")},_getMaxDimension:function(a,b){if(!this._activeCell)return 0;var c=f.getBox(),d=h.position(this._activeCell,!1);return Math.max(c[a]-d[b],0)}})})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(l,m,k,h,f,c,e,b){function d(a,b){var c=function(c,d){if("string"==typeof d&&(d=k.byId(d),!d))return new b([]);var g="string"==typeof c?a(c,d):c?c.end&&c.on?c:[c]:[];return g.end&&g.on?g:new b(g)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<f.indexOf(a,b)})};if("function"!=typeof a){var d=a.search;a=function(a,b){return d(b||document,a)}}return c}m.add("array-extensible",function(){return 1==
c.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,n=a.slice,g=a.concat,p=f.forEach,q=function(a,b,c){b=[0].concat(n.call(b,0));c=c||l.global;return function(d){b[0]=d;return a.apply(c,b)}},r=function(a){var b=this instanceof s&&m("array-extensible");"number"==typeof a&&(a=Array(a));var d=a&&"length"in a?a:arguments;if(b||!d.sort){for(var g=b?this:[],e=g.length=d.length,f=0;f<e;f++)g[f]=d[f];if(b)return g;d=g}c._mixin(d,t);d._NodeListCtor=function(a){return s(a)};
return d},s=r,t=s.prototype=m("array-extensible")?[]:{};s._wrap=t._wrap=function(a,b,c){a=new (c||this._NodeListCtor||s)(a);return b?a._stash(b):a};s._adaptAsMap=function(a,b){return function(){return this.map(q(a,arguments,b))}};s._adaptAsForEach=function(a,b){return function(){this.forEach(q(a,arguments,b));return this}};s._adaptAsFilter=function(a,b){return function(){return this.filter(q(a,arguments,b))}};s._adaptWithCondition=function(a,b,c){return function(){var d=arguments,g=q(a,d,c);if(b.call(c||
l.global,d))return this.map(g);this.forEach(g);return this}};p(["slice","splice"],function(b){var c=a[b];t[b]=function(){return this._wrap(c.apply(this,arguments),"slice"==b?this:null)}});p(["indexOf","lastIndexOf","every","some"],function(a){var b=f[a];t[a]=function(){return b.apply(l,[this].concat(n.call(arguments,0)))}});c.extend(r,{constructor:s,_NodeListCtor:s,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return h(c,
a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=n.call(this,0),c=f.map(arguments,function(a){return n.call(a,0)});return this._wrap(g.apply(b,c),this)},map:function(a,b){return this._wrap(f.map(this,a,b),this)},forEach:function(a,b){p(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=u._filterResult(this,b[0]);if(1==b.length)return c._stash(this);
d=1}return this._wrap(f.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var d=c.isFunction(a)?a:c.getObject(a);b=b||{};return this.forEach(function(a){new d(b,a)})},at:function(){var a=new this._NodeListCtor(0);p(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var u=d(b,r);l.query=d(b,function(a){return r(a)});u.load=function(a,b,c){e.load(a,b,function(a){c(d(a,r))})};l._filterQueryResult=u._filterResult=function(a,b,c){return new r(u.filter(a,
b,c))};l.NodeList=u.NodeList=r;return u})},"tm1web/share/Base":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/on dijit/Destroyable".split(" "),function(l,m,k,h,f,c){return l(c,{constructor:function(){this.subscribers=[];this.connections=[]},AddrOf:function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);var a=this;return function(){for(var d=[],g=0;g<arguments.length;g++)d.push(arguments[g]);return c.apply(a,d.concat(b))}},DestroyHandlers:function(){this._destroyHandlerHelper(this.connections);
this._destroyHandlerHelper(this.subscribers);this.subscribers=[];this.connections=[]},_destroyHandlerHelper:function(c){k.forEach(c,function(b){b.remove()})},destroy:function(){this.inherited(arguments);this.DestroyHandlers();this.connections=this.subscribers=null}})})},"tm1web/websheet/SheetBottomPane":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ./SheetMainPane ./SheetLeftPane".split(" "),function(l,m,k,h,f,c,e){return l(f,{constructor:function(b,
c,a,e,g){this.Panel=null;this._index=a;this.ScrollablePanel=null;this._size=c;this._objectId=b;this.MainPane=this.LeftPane=null;this._leftScrollPane=e;this._mainScrollPane=g;this._initializeSheetBottomPane()},_initializeSheetBottomPane:function(){this.createContainer();this._createScrollableContainer()},createContainer:function(){this.Panel=this.CreatePanel();this._setSize(this._size);m.add(this.Panel,"tm1webBottomSheetPanel")},_createScrollableContainer:function(){this.ScrollablePanel=this.CreatePanel();
m.add(this.ScrollablePanel,"tm1webBottomScrollablePanel");k.place(this.ScrollablePanel,this.Panel)},create:function(b){if(b.leftPane){this.LeftPane=new e(this._objectId,this._size,this._index,this._leftScrollPane,this._mainScrollPane);var d=this.LeftPane.create(b);k.place(d,this.ScrollablePanel)}b.mainPane&&(this.MainPane=new c(this._objectId,this._size,this._index,this._mainScrollPane),d=this.MainPane.create(b),k.place(d,this.ScrollablePanel));return this.Panel},resize:function(b){this._size=b;this._setSize(b);
this.LeftPane&&this.LeftPane.resize(b);this.MainPane&&this.MainPane.resize(b)},_setSize:function(b){h.set(this.Panel,{width:b.leftPanelWidth+b.mainWidth+"px",height:b.mainHeight+"px"})},refresh:function(b){b.leftPane&&this.LeftPane.refresh(b);b.mainPane&&(this.MainPane.refresh(b),this.LeftPane&&(b=b.mainPane.rows,this.LeftPane.adjust(null!=b?b.length:0)))},attach:function(b){var c=!1;b.leftPane&&(c=this.LeftPane.attach(b));b.mainPane&&(c=this.MainPane.attach(b)||c);return c},getRowSize:function(){return this.MainPane?
this.MainPane.getRowSize():0},destroy:function(){this.inherited(arguments);this.LeftPane&&this.LeftPane.destroy();this.MainPane&&this.MainPane.destroy()}})})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(l,m,k,h,f,c,e,b){function d(a){return n(a)}function a(a){return a.data||a.text}l.deepCopy=function(a,b){for(var c in b){var d=a[c],e=b[c];d!==e&&(d&&"object"===
typeof d&&e&&"object"===typeof e?l.deepCopy(d,e):a[c]=e)}return a};l.deepCreate=function(a,b){b=b||{};var c=e.delegate(a),d,f;for(d in a)(f=a[d])&&"object"===typeof f&&(c[d]=l.deepCreate(f,b[d]));return l.deepCopy(c,b)};var n=Object.freeze||function(a){return a};l.deferred=function(c,f,q,r,s,t){var u=new h(function(a){f&&f(u,c);return a&&(a instanceof m||a instanceof k)?a:new k("Request canceled",c)});u.response=c;u.isValid=q;u.isReady=r;u.handleResponse=s;q=u.then(d).otherwise(function(a){a.response=
c;throw a;});l.notify&&q.then(e.hitch(l.notify,"emit","load"),e.hitch(l.notify,"emit","error"));r=q.then(a);s=new b;for(var x in r)r.hasOwnProperty(x)&&(s[x]=r[x]);s.response=q;n(s);t&&u.then(function(a){t.call(u,a)},function(a){t.call(u,c,a)});u.promise=s;u.then=s.then;return u};l.addCommonMethods=function(a,b){c.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,d){d=e.delegate(d||{});d.method=b;return a(c,d)}})};l.parseArgs=function(a,b,c){var d=
b.data,e=b.query;d&&!c&&"object"===typeof d&&(b.data=f.objectToQuery(d));e?("object"===typeof e&&(e=f.objectToQuery(e)),b.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(e="request.preventCache\x3d"+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"\x26":"?")+e);return{url:a,options:b,getHeader:function(a){return null}}};l.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"tm1web/websheet/CellInfoFetcher":function(){define(["dojo/_base/declare",
"dojo/_base/array","./Utility"],function(l,m,k){return l(null,{constructor:function(h,f,c){this._gridRows=h;this._rowInfos=f||[];this._columnInfos=c||[]},setRows:function(h,f){this._gridRows=h;this._rowInfos=f||[]},setGridRows:function(h){this._gridRows=h},addRowInfos:function(h){var f=this._rowInfos.length,c=this;m.forEach(h,function(e){m.forEach(e.cells,function(b){b.clientRowIndex=f});c._rowInfos.push(e);f++})},updateRowInfo:function(h){if(h)for(var f=0;f<h.length;f++){var c=h[f].cells;if(c)for(var e=
0;e<c.length;e++)this.updateCellInfo(c[e])}},updateCellInfo:function(h,f,c){if(h&&(f=null==f?h.clientRowIndex:f,c=null==c?h.clientColumnIndex:c,!(0>f||0>c))){var e=this.getCellInfo(f,c);e&&(h.colSpan=e.colSpan,h.clientColumnIndex=e.clientColumnIndex,h.clientRowIndex=e.clientRowIndex,h.dynamicallyMerged=e.dynamicallyMerged,h.startColumnIndex=e.startColumnIndex);this._rowInfos[f].cells[c]=h}},removeCellInfo:function(h,f){var c=this.getRowInfo(h);return c?c.cells.splice(f)[0]||null:null},_getGridRow:function(h){return this._gridRows[h]},
getPreviousCellInfo:function(h,f){for(var c=f-1;0<=c;c--){var e=this.getCellInfo(h,c);if(e&&!e.isMergedCell)return e}return null},getNextCellInfo:function(h,f){var c=this.getRowInfo(h);if(!c||!c.cells)return null;for(var c=c.cells.length,e=f+1;e<c;e++){var b=this.getCellInfo(h,e);if(b&&!b.isMergedCell)return b}return null},getTableCell:function(h,f){var c=this._getGridRow(h);if(!c||!c.cells)return null;var e=f,b=c.cells[e];!b&&0<c.cells.length&&(e=c.cells.length-1,b=c.cells[e]);if(!b||b.cellInfo.clientColumnIndex<
f)return null;if(b.cellInfo.clientColumnIndex>f){e=this._binarySearch(function(b){return(b=c.cells[b])?b.cellInfo.clientColumnIndex-f:1},0,e);if(0>e)return null;b=c.cells[e]}return b},getCellInfo:function(h,f){var c=this.getRowInfo(h);return c?c.cells[f]:null},getRowInfo:function(h){return this._rowInfos[h]},getCellWidth:function(h){if(!h)return 0;var f=h.colSpan;h=this.getStartColumnIndex(h);for(var c=0,e=h;e<h+f;e++){var b=this._columnInfos[e];b&&(c+=b.width)}return k.convertPointToPixel(c)},getStartColumnIndex:function(h){return null!=
h.startColumnIndex?h.startColumnIndex:h.clientColumnIndex},setStartColumnIndex:function(h,f){h.startColumnIndex=f},setDynamicallyMerged:function(h,f){h.dynamicallyMerged=f},isDynamicallyMerged:function(h){return 1==h.dynamicallyMerged},_binarySearch:function(h,f,c){for(;c>=f;){var e=Math.floor((c+f)/2),b=h(e);if(0>b)f=e+1;else if(0<b)c=e-1;else return e}return-1},getColumnInfo:function(h){return this._columnInfos[h]},getRowCount:function(){return this._rowInfos.length},getColumnCount:function(){return this._columnInfos.length}})})},
"tm1web/websheet/celledit/TextBox":function(){define(["dojo/_base/declare","../../celledit/TextBox","./_EditMixin"],function(l,m,k){return l("tm1web.websheet.celledit.TextBox",[m,k])})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){e=l("dijit.MenuItem"+(c("dojo-bidi")?
"_NoBidi":""),[b,d,a,n],{templateString:g,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",
disabled:!1,_fillContent:function(a){!a||"label"in this.params||this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);k.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&k.set(this.accelKeyNode,"id",this.id+"_accel");m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==c("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){h.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,k.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});c("dojo-bidi")&&
(e=l("dijit.MenuItem",e,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return e})},"tm1web/utility/dom":function(){define("dojo/has dojo/on dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/dom-prop dojo/domReady! dojo/dom".split(" "),function(l,m,k,h,f,c){var e,b;(function(){var a=k.create("div");h.set(a,{width:"1px",height:"1px",overflow:"hidden"});var c=k.create("div",null,a);h.set(c,{width:"100px",height:"100px",overflow:"auto"});
var d=k.create("div",null,c);h.set(d,{width:"120px",height:"120px"});k.place(a,document.body);e=c.offsetWidth-c.clientWidth;b=c.offsetHeight-c.clientHeight;k.destroy(a)})();var d={setTextContent:function(a,b){c.set(a,"textContent",b)},getTextContent:function(a){return c.get(a,"textContent")},getHorizontalScrollbarHeight:function(a){return a&&a.scrollWidth<=a.clientWidth?0:b},getVerticalScrollbarWidth:function(a){return a&&a.scrollHeight<=a.clientHeight?0:e},setStyle:function(a,b){for(var c in b)a.style[c]=
b[c]},isNode:function(a){return"undefined"!==typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},getGutters:function(a,b){b||(b=h.getComputedStyle(a));var c=f.getMarginExtents(a,b),d=f.getPadBorderExtents(a,b);return{t:c.t+d.t,b:c.b+d.b,l:c.l+d.l,r:c.r+d.r,h:c.h+d.h,w:c.w+d.w}},getContentBox:function(a,b){b||(b=h.getComputedStyle(a));var c=f.getMarginBox(a,b),e=d.getGutters(a,b);return{h:c.h-e.h,w:c.w-e.w}},isVisible:function(a){return 0<
a.offsetWidth&&0<a.offsetHeight},disableSelection:function(a){var b,c=l("css-user-select");c?a.style[c]="none":b=m(a,"selectstart",function(a){a.preventDefault()});return{remove:function(){a&&(b?b.remove():a.style[c]="",a=null)}}}};return d})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(l,m,k,h,f,c,e,b,d){var a=f.delegate(b,{mouseenter:c.enter,mouseleave:c.leave,
keypress:k._keypress}),n;k=h("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=
b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var d=!0,e=this.attachScope||this,h=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(h)for(var k=h.split(/\s*,\s*/);h=k.shift();)f.isArray(e[h])?e[h].push(a):e[h]=a,d="containerNode"!=h,this._attachPoints.push(h);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event"))for(h=b.split(/\s*,\s*/),k=f.trim;b=h.shift();)if(b){var l=null;-1!=b.indexOf(":")?(l=b.split(":"),b=k(l[0]),l=k(l[1])):b=k(b);l||(l=b);this._attachEvents.push(c(a,
b,f.hitch(e,l)))}return d},_attach:function(b,c,d){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?n||(n=l("./a11yclick")):a[c]||c;return e(b,c,d)},_detachTemplateNodes:function(){var a=this.attachScope||this;m.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];m.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});f.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""});
return k})},"tm1web/websheet/celledit/PickListValueSaver":function(){define(["dojo/_base/declare","../../celledit/PickListValueSaver","./_ValueSaverMixin"],function(l,m,k){return l([m,k])})},"tm1web/cubeview/TitlePanel":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dijit/registry","./CubeViewBase"],function(l,m,k,h,f){return l(f,{constructor:function(c,e,b,d){this._Title=c;this._Height=e;this._Width=b;this._StyleClass=d;this._DivContainer=this._DivTitle=this._DivContent=
null;this._InitializeTitlePanel()},_InitializeTitlePanel:function(){this._DivContent=this.CreatePanel("","tm1webTitlePanelDivContent");this._DivTitle=this.CreatePanel("","tm1webTitlePanelDivTitle");this._DivTitle.innerHTML=this._Title;this._DivContainer=this.CreatePanel("","tm1webTitlePanelDivContainer "+this._StyleClass);m.place(this._DivContent,this._DivContainer);m.place(this._DivTitle,this._DivContainer);this._makeSectionAccessible()},Create:function(c){k.set(this._DivContent,{width:this._Width+
"px",height:this._Height+"px"});m.place(this._DivContainer,c);return this._DivContent},getDivContainer:function(){return this._DivContainer},getDivTitle:function(){return this._DivTitle},_makeSectionAccessible:function(){var c=this.getDivContainer(),e=h.getUniqueId("tm1web_titleContainer");c.setAttribute("aria-labelledby",e);c.setAttribute("role","group");this.getDivTitle().id=e}})})},"tm1web/share/ExportOptionsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/query dojo/ready dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Button dojox/layout/ContentPane ../cubeview/CubeViewBase ./TM1ExportCommand ../config-settings ../utility/message-localizer ../utility/url ../widgets/ErrorAlert ./service-loader!ExportService ../config-settings!".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w){var v=l(q,{constructor:function(a,d,g){this.ObjectId=a;this.Command=d;this._sourceType=g;this._warningMsg=this._dimValue=this._dimLabel=this._okButton=this.ExportRowsDescSpan=this.LoopingDimensions=this.RowOptionsTBody=this.RowOptionsTable=this.Dialog=null;this._dimList=[];this._exportSheetCount=1;this._statusBar=this._uuid=this._exportButton=this._exportStatus=this._statusLabel=this._exportStatusHandle=null;this._topParent=b.byId(c(".topParent")[0].id);
this._downloadParent=b.byId(c(".downloadParent")[0].id);this._originalSheetCount=1;this._dialogClose=this._rowRadioButtons=this._dimCheckBoxes=null;this._displaySubNMs=!0;this._maxCustomSheetNum=0;this._autoFitRowHeight=null;this._maxCellLimit=-1;this._cubeviewColumnCount=this._cellCount=0},Show:function(){"CubeView"==this._sourceType?w.getCubeViewExportInfo(this.ObjectId,{callback:this._InitializeDialog,scope:this}):w.getWebSheetExportInfo(this.ObjectId,{callback:this._InitializeDialog,scope:this})},
_InitializeDialog:function(a){null!=a&&(this._originalSheetCount=a.sheetCount,this._maxCustomSheetNum=a.maxCustomSheetNum,"CubeView"==this._sourceType?(this._cubeviewColumnCount=a.cellCount/a.totalRows,this.Dialog=new d({id:"ExportDialog","class":"tm1webFormDialog",title:t.get("EXPORT_TITLE_LABEL")+"\x3cspan class\x3d'tm1webExportDialogTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webExportDialogSubtitle'\x3e"+a.viewName+"\x3c/span\x3e"},null),this._createRowGroupNumToExp(),this._createPagesLabel(),
this._InitializeRowsOptionTable(a)):this.Dialog=new d({id:"ExportDialog","class":"tm1webFormDialog",title:t.get("EXPORT_TITLE_LABEL")+"\x3cspan class\x3d'tm1webExportDialogTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webExportDialogSubtitle'\x3e"+a.workbookName+"\x3c/span\x3e"},null),"WebSheet"==this._sourceType&&(this._displaySubNMs=a.displaySubNMs),this._maxCellLimit=a.maxCellLimit,this._cellCount=a.cellCount,this._displaySubNMs&&(this._createDimensionsToExport(),this._createDimensionsLabel(),
this._createLoopingDimensionsTable(a)),"WebSheet"==this._sourceType&&this._createAutoFitRowHeightOption(),this._createDimLabel(),this._createWarningMsg(),this._CreateButtonTable(),"CubeView"==this._sourceType?this._validateTotalSheetCount(1):this._calculateAndValidateSheetCount(),this._dialogClose=this.own(k.after(this.Dialog,"hide",m.hitch(this,function(a){this.Dialog.destroyRecursive();this.destroy()}),!0)),this.Dialog.show())},_getMaxExportSheetCount:function(){var a=0;return a="CubeView"==this._sourceType?
s.getMaxExportSheetCount():this._maxCustomSheetNum},_onCancel:function(a){this._closeDialog()},_InitializeRowsOptionTable:function(a){this._CreateRowsOptionTable(a)},_createLoopingDimensionsTable:function(a){this._dimList=null==a.titleSubsetInfo?[]:a.titleSubsetInfo;this._createLoopOption(this.RowGroupExpDims,"LoopcountOptions","1","",this._dimList)},_createLoopOption:function(c,d,g,e,k){this._dimCheckBoxes=[];for(g=0;g<k.length;g++){var l=b.getUniqueId(d),n=f.create("div");h.add(n,"tm1webCheckRow");
c.appendChild(n);var p=new a({id:l,value:g+1,onChange:m.hitch(this,"_calculateAndValidateSheetCount")});""!=e&&p.setAttribute("checked",e);f.place(p.domNode,n);this._dimCheckBoxes[g]=p;p=f.create("label");p.setAttribute("for",l);this.SetTextContent(p,k[g].dimensionName);n.appendChild(p)}},_createAutoFitRowHeightOption:function(c){var d=f.create("label"),g=b.getUniqueId("tm1webExportDialogAutofitGroup");this.SetTextContent(d,t.get("EXPORT_AUTO_FIT_LABEL"));h.add(d,"tm1webLabelPaddedTop");d.setAttribute("id",
g);var e=f.create("div"),k=f.create("label"),l=new a({id:b.getUniqueId("tm1webAutoFitRowHeightOption"),value:"autoFitRowHeight"});c&&""!=c&&l.setAttribute("checked",c);k.htmlFor=l.id;this.SetTextContent(k,t.get("EXPORT_AUTO_FIT_ROW_HEIGHT_LABEL"));f.place(d,e);f.place(l.domNode,e);f.place(k,e);f.place(e,this.Dialog.containerNode);h.add(e,"tm1webExportDialogOptionWrapper");e.setAttribute("aria-labelledby",g);e.setAttribute("role","group");this._autoFitRowHeight=l},_calculateAndValidateSheetCount:function(a){this._exportSheetCount=
this._getDimInfo().exportSheetCount;this._validateTotalSheetCount(this._exportSheetCount)},_validateTotalSheetCount:function(a){var b=this._getMaxExportSheetCount();this._dimValue.setAttribute("value",a);a>b?(a=!0,h.remove(this._warningMsg,"tm1webHidden"),this._warningMsg.setAttribute("role","alert")):(a=!1,h.add(this._warningMsg,"tm1webHidden"),this._warningMsg.removeAttribute("role","alert"));this._disableExport(a)},_disableExport:function(a){this._okButton.set("disabled",a)},_getDimInfo:function(){for(var a=
1,b="",c=null,c="",d=0;d<this._dimList.length;d++)c=this._dimCheckBoxes[d],1==c.checked&&(a*=this._dimList[d].numElements,c=this._dimList[d].dimensionName,-1!=this._dimList[d].rowIndex&&-1!=this._dimList[d].colIndex&&(c=c+":"+this._dimList[d].rowIndex+":"+this._dimList[d].colIndex),b=b+c+",");b=""!=b&&0<b.length?b.substr(0,b.length-1):null;d={};d.exportSheetCount=a*this._originalSheetCount;d.dimString=b;return d},_createDimLabel:function(){this._dimLabel=f.create("label");this._dimValue=f.create("input");
this._dimValue.setAttribute("id",b.getUniqueId("tm1webDimLabel"));this._dimLabel.setAttribute("for",this._dimValue.getAttribute("id"));h.add(this._dimLabel,"tm1webExportDimLabel, tm1webLabelPaddedTop");f.place(this._dimLabel,this.Dialog.containerNode);h.add(this._dimValue,"tm1webExportDimValue");f.place(this._dimValue,this.Dialog.containerNode);this.SetTextContent(this._dimLabel,t.get("TOTAL_SHEETS_LABEL"))},_createWarningMsg:function(){this._warningMsg=f.create("div");h.add(this._warningMsg,"tm1webPageNumWarning tm1webHidden");
f.place(this._warningMsg,this.Dialog.containerNode);this.SetTextContent(this._warningMsg,t.get("MAX_EXPORT_SHEET_NUM_EXCEEDED",this._getMaxExportSheetCount()))},_createPagesLabel:function(){this.ExportRowDescSpan=f.create("label");h.add(this.ExportRowDescSpan,"");this.ExportRowDescSpan.setAttribute("id","tm1webNumberOfRowsGroup");this.SetTextContent(this.ExportRowDescSpan,t.get("EXPORT_PAGES_LABEL"));f.place(this.ExportRowDescSpan,this.RowGroupNumToExp)},_createRowGroupNumToExp:function(){this.RowGroupNumToExp=
f.create("div",{role:"group","aria-labelledby":"tm1webNumberOfRowsGroup"});f.place(this.RowGroupNumToExp,this.Dialog.containerNode)},_createDimensionsToExport:function(){this.RowGroupExpDims=f.create("div",{role:"group","aria-labelledby":"tm1webDimensionsToExport"});f.place(this.RowGroupExpDims,this.Dialog.containerNode)},_createDimensionsLabel:function(){var a=f.create("label");h.add(a,"");a.setAttribute("id","tm1webDimensionsToExport");this.SetTextContent(a,t.get("EXPORT_DIMENSIONS_LABEL"));f.place(a,
this.RowGroupExpDims)},_CreateRowsOptionTable:function(a){this._rowRadioButtons=[];this.RowOptionsTable=f.create("div");h.add(this.RowOptionsTable,"tm1webNumRows");this._CreateRowsOption(t.get("EXPORT_ROWS_CURRENT_PAGE"),a.rowsInCurPage,"RowcountOptions","1","1");this._CreateRowsOption(t.get("EXPORT_ROWS_BEGINNING"),a.topToCurrentRows,"RowcountOptions","2","");this._CreateRowsOption(t.get("EXPORT_ROWS_VIEW"),a.totalRows,"RowcountOptions","3","");f.place(this.RowOptionsTable,this.RowGroupNumToExp)},
_CreateRowsOption:function(a,c,d,g,e){var k=f.create("div");this.RowOptionsTable.appendChild(k);h.add(k,"tm1webCheckRow");d=b.getUniqueId(d);var l=new n({id:d,name:"NumberRows",value:g,onChange:m.hitch(this,function(a){a&&this._calculateCellCount(c)})});""!=e&&l.set("checked",!0);f.place(l.domNode,k);this._rowRadioButtons[g-1]=l;g=f.create("label");g.setAttribute("for",d);d=t.get("EXPORT_NUM_ROWS");this.SetTextContent(g,a+" ("+c+") "+d);k.appendChild(g)},_calculateCellCount:function(a){this._cellCount=
a*this._cubeviewColumnCount},_CreateButtonTable:function(){var a=f.create("div");a.setAttribute("id","buttontable");h.add(a,"tm1webDialogButtons");var b=this._CreateButton("OK");this._okButton=b;f.place(b.domNode,a);b=this._CreateButton("Cancel");f.place(b.domNode,a);f.place(a,this.Dialog.containerNode)},_CreateButton:function(a){a="OK"==a?new g({id:b.getUniqueId("OK"),onClick:m.hitch(this,"_OnOK"),label:t.get("OK_STR"),name:"OK","class":"tm1WebBtnPrimary"}):new g({id:b.getUniqueId("Cancel"),onClick:m.hitch(this,
"_OnCancel"),label:t.get("CANCEL_STR"),name:"Cancel","class":"tm1webBtnSecondary"});a.style.width="80px";return a},_OnOK:function(){if(0<=this._maxCellLimit&&this._exportSheetCount/this._originalSheetCount*this._cellCount>this._maxCellLimit){var a="",a="WebSheet"==this._sourceType?t.get("CELL_COUNT_EXCEEDED"):t.get("CELL_COUNT_EXCEEDED_CV");x.show({title:t.get("EXPORT_PREVENTED_ERR"),message:a})}else{var b=null;this._displaySubNMs&&(b=this._getDimInfo().dimString);switch(this.Command){case "SLICE":a=
r.Slice;break;case "SNAPSHOT":a=r.Snapshot;break;case "PRINTTOPDF":a=r.PDF;break;default:a=r.Snapshot}var c;if("CubeView"==this._sourceType){c="AllPages";var d=this._rowRadioButtons[0];1==d.checked&&(c="CurrentPage");d=this._rowRadioButtons[1];1==d.checked&&(c="BeginningToCurrentPage");d=this._rowRadioButtons[2];1==d.checked&&(c="AllPages")}else c=null;this._closeDialog();"CubeView"==this._sourceType?w.doCubeViewExport(this.ObjectId,a,b,c,{callback:this._OnExport,scope:this}):(d=this._autoFitRowHeight&&
this._autoFitRowHeight.get("checked"),w.doWebSheetExport(this.ObjectId,a,b,c,d,{callback:this._OnExport,scope:this}))}},_OnExport:function(a){this._uuid=a;this._queueGetExportStatus()},_queueGetExportStatus:function(){this._exportStatusHandle=setTimeout(m.hitch(this,"_getExportStatus"),2E3)},_getExportStatus:function(){w.getExportStatus(this._uuid,{callback:this._onExportStatus,scope:this})},_onExportStatus:function(a){null!=a?(0==v._statusBar.getChildren().length&&(v._statusBar.region="bottom",this._topParent.addChild(v._statusBar)),
null==this._statusLabel&&(this._statusLabel=f.create("div",{className:"tm1webExportStatus"}),this._exportStatus=f.create("span"),this._exportButton=new g({id:b.getUniqueId("cancelExport"),onClick:m.hitch(this,"_cancelExport"),label:t.get("CANCEL_EXPORT"),name:"OK"}),f.place(this._exportButton.domNode,this._statusLabel),f.place(this._exportStatus,this._statusLabel,"first"),f.place(this._statusLabel,v._statusBar.domNode,"first")),this._queueGetExportStatus(),"done"==a?(this._finishExport(),a="ExportServlet?uuid\x3d"+
this._uuid,this._downloadParent.download(u.toUrl("tm1web")+"/../../"+a,"hiddenFrame"+this._uuid)):"publishing"==a?this.SetTextContent(this._exportStatus,t.get("CURRENTLY_PUBLISHING_STR")):"maxSheetCountExceeded"==a?this._finishExport():this.SetTextContent(this._exportStatus,t.get("EXPORTING_PAGE_STR",a,this._exportSheetCount))):this._finishExport()},_cancelExport:function(){w.cancelExport(this._uuid,{callback:this._finishExport,scope:this})},_finishExport:function(){null!=this._exportStatusHandle&&
(clearTimeout(this._exportStatusHandle),this._exportStatusHandle=null);null!=this._statusLabel&&(v._statusBar.domNode.removeChild(this._statusLabel),this._statusLabel=null,this._exportButton.destroyRecursive());0==v._statusBar.getChildren().length&&this._topParent.removeChild(v._statusBar)},_OnCancel:function(){this.Dialog.destroyRecursive()},_closeDialog:function(){this.Dialog.destroyRecursive();this.destroy()}});e(function(){v._statusBar=new p;h.add(v._statusBar.domNode,"tm1webExportDiv")});return v})},
"tm1web/websheet/SheetMainPane":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style ../cubeview/CubeViewBase ./SheetDataGrid".split(" "),function(l,m,k,h,f,c){return l(f,{constructor:function(c,b,d,a){this.Panel=null;this._index=d;this.DataGrid=null;this._objectId=c;this._scrollPane=a;this._initializeSheeMainPane(b)},_initializeSheeMainPane:function(c){this.createContainer(c)},createContainer:function(c){this.Panel=this.CreatePanel();this.resize(c);m.add(this.Panel,
"tm1webMainSheetPanel tm1webInlineLayout tm1webNoOutline");this.Panel.tabIndex=1},create:function(e){this.DataGrid=new c(this._objectId,this._index,this._scrollPane,this._scrollPane,e.allowSpreading,e.allowConsolidateSpreading);e=this.DataGrid.create(e.mainPane);m.add(e,"tm1webMainSheetDataPanel tm1webNoOutline");k.place(e,this.Panel);return this.Panel},resize:function(c){h.set(this.Panel,{width:c.mainWidth+"px"})},refresh:function(c){this.DataGrid.refresh(c.mainPane)},attach:function(c){return this.DataGrid.attach(c.mainPane)},
getRowSize:function(){return this.DataGrid.getRowSize()},destroy:function(){this.inherited(arguments);this.DataGrid.destroy()}})})},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(l,m,k){return l("dojox.grid._ViewManager",null,{constructor:function(h){this.grid=h},defaultWidth:200,views:[],resize:function(){this.onEach("resize")},render:function(){this.onEach("render")},addView:function(h){h.idx=this.views.length;this.views.push(h)},
destroyViews:function(){for(var h=0,f;f=this.views[h];h++)f.destroy();this.views=[]},getContentNodes:function(){for(var h=[],f=0,c;c=this.views[f];f++)h.push(c.contentNode);return h},forEach:function(h){for(var f=0,c;c=this.views[f];f++)h(c,f)},onEach:function(h,f){f=f||[];for(var c=0,e;e=this.views[c];c++)h in e&&e[h].apply(e,f)},normalizeHeaderNodeHeight:function(){for(var h=[],f=0,c;c=this.views[f];f++)c.headerContentNode.firstChild&&h.push(c.headerContentNode);this.normalizeRowNodeHeights(h)},
normalizeRowNodeHeights:function(h){var f=0,c=[];if(this.grid.rowHeight)f=this.grid.rowHeight;else{if(1>=h.length)return;for(var e=0,b;b=h[e];e++)k.contains(b,"dojoxGridNonNormalizedCell")||(c[e]=b.firstChild.offsetHeight,f=Math.max(f,c[e]));f=0<=f?f:0;(m("mozilla")||8<m("ie"))&&f&&f++}for(e=0;b=h[e];e++)c[e]!=f&&(b.firstChild.style.height=f+"px")},resetHeaderNodeHeight:function(){for(var h=0,f;f=this.views[h];h++)if(f=f.headerContentNode.firstChild)f.style.height=""},renormalizeRow:function(h){for(var f=
[],c=0,e,b;(e=this.views[c])&&(b=e.getRowNode(h));c++)b.firstChild.style.height="",f.push(b);this.normalizeRowNodeHeights(f)},getViewWidth:function(h){return this.views[h].getWidth()||this.defaultWidth},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(f){f.headerContentNode.style.height=""});var h=0;this.forEach(function(f){h=Math.max(f.headerNode.offsetHeight,h)});return h},measureContent:function(){var h=0;this.forEach(function(f){h=Math.max(f.domNode.offsetHeight,h)});
return h},findClient:function(h){h=this.grid.elasticView||-1;if(0>h)for(var f=1,c;c=this.views[f];f++)if(c.viewWidth){for(f=1;c=this.views[f];f++)if(!c.viewWidth){h=f;break}break}0>h&&(h=Math.floor(this.views.length/2));return h},arrange:function(h,f){var c,e,b,d=this.views.length,a=this,k=0>=f?d:this.findClient(),g=function(b,c){var d=b.domNode.style,g=b.headerNode.style;a.grid.isLeftToRight()?(d.left=c+"px",g.left=c+"px"):(d.right=c+"px",4>m("ff")?g.right=c+b.getScrollbarWidth()+"px":g.right=c+
"px",m("webkit")||"auto"==g.width||(g.width=parseInt(g.width,10)-b.getScrollbarWidth()+"px"));d.top="0px";g.top=0};for(c=0;(e=this.views[c])&&c<k;c++)b=this.getViewWidth(c),e.setSize(b,0),g(e,h),b=e.headerContentNode&&e.headerContentNode.firstChild?e.getColumnsWidth()+e.getScrollbarWidth():e.domNode.offsetWidth,h+=b;c++;for(var l=f,q=d-1;(e=this.views[q])&&c<=q;q--)b=this.getViewWidth(q),e.setSize(b,0),b=e.domNode.offsetWidth,l-=b,g(e,l);k<d&&(e=this.views[k],b=Math.max(1,l-h),e.setSize(b+"px",0),
g(e,h));return h},renderRow:function(h,f,c){for(var e=[],b=0,d,a;(d=this.views[b])&&(a=f[b]);b++)d=d.renderRow(h),a.appendChild(d),e.push(d);c||this.normalizeRowNodeHeights(e)},rowRemoved:function(h){this.onEach("rowRemoved",[h])},updateRow:function(h,f){for(var c=0,e;e=this.views[c];c++)e.updateRow(h);f||this.renormalizeRow(h)},updateRowStyles:function(h){this.onEach("updateRowStyles",[h])},setScrollTop:function(h){for(var f=h,c=0,e;e=this.views[c];c++)f=e.setScrollTop(h),m("ie")&&e.headerNode&&
e.scrollboxNode&&(e.headerNode.scrollLeft=e.scrollboxNode.scrollLeft);return f},getFirstScrollingView:function(){for(var h=0,f;f=this.views[h];h++)if(f.hasHScrollbar()||f.hasVScrollbar())return f;return null}})})},"dojox/grid/_EditManager":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/connect dojo/_base/sniff ./util".split(" "),function(l,m,k,h,f,c){return k("dojox.grid._EditManager",null,{constructor:function(c){this.grid=c;this.connections=f("ie")?[h.connect(document.body,
"onfocus",l.hitch(this,"_boomerangFocus"))]:[];this.connections.push(h.connect(this.grid,"onBlur",this,"apply"));this.connections.push(h.connect(this.grid,"prerender",this,"_onPreRender"))},info:{},destroy:function(){m.forEach(this.connections,h.disconnect)},cellFocus:function(c,b){this.grid.singleClickEdit||this.isEditRow(b)?this.setEditCell(c,b):this.apply();(this.isEditing()||c&&c.editable&&c.alwaysEditing)&&this._focusEditor(c,b)},rowClick:function(c){this.isEditing()&&!this.isEditRow(c.rowIndex)&&
this.apply()},styleRow:function(c){c.index==this.info.rowIndex&&(c.customClasses+=" dojoxGridRowEditing")},dispatchEvent:function(c){var b=c.cell;return(b=b&&b.editable?b:0)&&b.dispatchEvent(c.dispatch,c)},isEditing:function(){return void 0!==this.info.rowIndex},isEditCell:function(c,b){return this.info.rowIndex===c&&this.info.cell.index==b},isEditRow:function(c){return this.info.rowIndex===c},setEditCell:function(c,b){!this.isEditCell(b,c.index)&&this.grid.canEdit&&this.grid.canEdit(c,b)&&this.start(c,
b,this.isEditRow(b)||c.editable)},_focusEditor:function(e,b){c.fire(e,"focus",[b])},focusEditor:function(){this.isEditing()&&this._focusEditor(this.info.cell,this.info.rowIndex)},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>(new Date).getTime()},_boomerangFocus:function(){this._shouldCatchBoomerang()&&(this.grid.focus.focusGrid(),this.focusEditor(),this._catchBoomerang=0)},_doCatchBoomerang:function(){f("ie")&&(this._catchBoomerang=(new Date).getTime()+this._boomerangWindow)},
start:function(c,b,d){this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.isEditing()&&!this.isEditRow(b)&&(this.applyRowEdit(),this.grid.updateRow(b)),d?(this.info={cell:c,rowIndex:b},this.grid.doStartEdit(c,b),this.grid.updateRow(b)):this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._focusEditor(c,b),this._doCatchBoomerang())},_editorDo:function(c){var b=this.info.cell;if(b&&b.editable)b[c](this.info.rowIndex)},editorApply:function(){this._editorDo("apply")},
editorCancel:function(){this._editorDo("cancel")},applyCellEdit:function(c,b,d){this.grid.canEdit(b,d)&&this.grid.doApplyCellEdit(c,d,b.field)},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field)},apply:function(){this.isEditing()&&this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.applyRowEdit(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},cancel:function(){this.isEditing()&&(this.grid.beginUpdate(),
this.editorCancel(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},save:function(c,b){var d=this.info.cell;!this.isEditRow(c)||b&&d.view!=b||!d.editable||d.save(d,this.info.rowIndex)},restore:function(c,b){var d=this.info.cell;this.isEditRow(b)&&d.view==c&&d.editable&&d.restore(this.info.rowIndex)},_isValidInput:function(){var c=(this.info.cell||{}).widget;if(!c||!c.isValid)return!0;c.focused=!0;return c.isValid(!0)},_onPreRender:function(){this.isEditing()&&
(this.info.value=this.info.cell.getValue())}})})},"tm1web/websheet/spreading/ReferenceSelectControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dijit/popup ../../widgets/AlertDialog ../../utility/message-localizer ../../subseteditor/ElementSelector ./SpreadDialogCommon dijit/registry".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){return l("WebSheetReferenceSelectControl",a,{constructor:function(){this._CubeSelect=this._CellRefArr=this._RefCellDimData=
this._CurrentSelectedElemCell=this._cubeNames=this._colDimCount=this._rowDimCount=this._titleDimCount=this._DimensionsCount=this._dimensionsDataMap=this._DimensionTable=this._TableContainer=this._ContentContainer=null;this._InitializeReferenceSelectControl();this._selectButton=null},GetContentContainer:function(){return this._ContentContainer},_InitializeReferenceSelectControl:function(){this._DoCreate()},_DoCreate:function(){this._ContentContainer=this.CreatePanel("","tm1webRelativeSpreadCubeSelectContainer");
this._TableContainer=this.CreatePanel("","tm1webReferenceSelect_tableContainer");this._CubeContainer=this.CreatePanel("","tm1webReferenceSelect_cubeContainer");h.place(this._CubeContainer,this._ContentContainer);h.place(this._TableContainer,this._ContentContainer);this._CreateDimensionTable(null)},_CreateCubeContent:function(){var a=n.getUniqueId("tm1webReferenceSelect_cubeLabel");this.CreateA11yLabel(this._CubeContainer,b.get("SPREAD_LABEL_RELATIVE_CUBE"),"tm1webReferenceSelect_cubeLabel",a);this._CreateCubeSelect(this._CubeContainer,
"tm1webRelativeSpreadCubeSelect",a)},_CreateCubeSelect:function(a,c,d){this._CubeSelect=document.createElement("select");k.add(this._CubeSelect,c);this._CubeSelect.setAttribute("id",d);h.place(this._CubeSelect,a);this.own(f(this._CubeSelect,"change",m.hitch(this,"_onSelectionChanged")));this._dataGrid.model?this._dataGrid.model.getCubes(this._coord,this.GetSelectedDimNames()).then(m.hitch(this,this._onGetCubeNames)).otherwise(function(a){e.show({message:b.get("SRV_ERR_STR")})}):this.Service.getCubeNames(this._ObjectId,
this._coord.rowIndex,this._coord.colIndex,this.GetSelectedDimNames(),{callback:this._onGetCubeNames,scope:this})},_onSelectionChanged:function(){this._CreateDimensionTable(this.getCubeName())},_onGetCubeNames:function(a){if(a){this._cubeNames=a.cubes;for(var b=0;b<this._cubeNames.length;b++)h.create("option",{value:this._cubeNames[b],innerHTML:this._cubeNames[b],selected:this._cubeNames[b]==a.currentCube},this._CubeSelect)}},_CreateDimensionTable:function(a){var c=this.CreateTable(!0);this._Table&&
h.destroy(this._Table);k.add(c,"tm1webRelativeSpreadDimensionTable");this._Table=c;this._dataGrid.model?this._dataGrid.model.getRefCellDimensionData(this._coord,a).then(m.hitch(this,this._onGetRefCellDimensionData)).otherwise(function(a){e.show({message:b.get("SRV_ERR_STR")})}):this.Service.getRefCellDimensionData(this._ObjectId,a,this._coord.rowIndex,this._coord.colIndex,{callback:this._onGetRefCellDimensionData,scope:this})},_onGetRefCellDimensionData:function(a){this._RetrieveRefCellDimElemNames(a);
this._OnCreateDimensionTable();this._CubeSelect||this._CreateCubeContent()},_RetrieveRefCellDimElemNames:function(a){this._RefCellDimData=a;this._buildRefCellDimensionDataMap(this._RefCellDimData);this._DimensionsCount=this._RefCellDimData.length;this._checkElementsFilled()},_buildRefCellDimensionDataMap:function(a){this._dimensionsDataMap={};for(var b=0;b<a.length;b++){var c=a[b],d=c?c.dimensionName:null;d&&(this._dimensionsDataMap[d]=c)}},_OnCreateDimensionTable:function(){var a=this._Table.insertRow(-1);
this._CreateHeaderCell(b.get("SPREAD_TBL_HDR_RELATIVE_DIMENSIONS"),"tm1webRelativeSpreadHeaderCell",a);this._CreateHeaderCell(b.get("SPREAD_TBL_HDR_RELATIVE_ELMT_NAME"),"tm1webRelativeSpreadHeaderCell",a);for(a=0;a<this._DimensionsCount;a++){var c=this._Table.insertRow(-1);this._CreateCell(c,this._RefCellDimData[a])}h.place(this._Table,this._TableContainer)},_CreateHeaderCell:function(a,b,c){cell=document.createElement("th");c.appendChild(cell);this.SetTextContent(cell,a);k.add(cell,b);return cell},
_CreateCell:function(a,b){for(var c=0;2>c;c++){var d=a.insertCell(-1);0==c?this._CreateDimensionCell(d,b.dimensionName,b.consolidated):this._CreateElementCell(d,b.dimensionElementName)}},_CreateDimensionCell:function(a,b,c){var d=h.create("div"),e=document.createElement("input");e.type="Button";if(c)k.add(e,"tm1webSpreadConsolidated");else{var l=m.hitch(this,"_SetSelectedElementInfo",b);f(e,"click",m.hitch(this,function(c){this._CurrentSelectedElemCell=a.nextSibling;this._LaunchSubsetEditor(d,this._ObjectId,
b,l)}))}e.value=b;k.add(a,"tm1webRelativeSpreadHolderCell");k.add(d,"tm1webRelativeSpreadDimensionCellButtonContainer");k.add(e,"tm1webRelativeSpreadDimensionCellButton");h.place(e,d);h.place(d,a)},_CreateElementCell:function(a,b){null==b?this.SetTextContent(a,""):this.SetTextContent(a,b);k.add(a,"tm1webRefrenceSelectDataCell")},_LaunchSubsetEditor:function(a,b,e,f){var h=this._dimensionsDataMap[e].dimensionElementName;null==h&&(h="");var k=new d({objectId:b,dimension:e,element:h,readOnly:!0,onClose:function(){k.destroyRecursive();
k=null},onSubmit:function(a){f(a);c.close(k)},onBlur:function(){c.close(k)},onCancel:function(){c.close(k)},onLoad:function(){c.open({popup:k,around:a})}})},_SetSelectedElementInfo:function(a,b){null==b?this.SetTextContent(this._CurrentSelectedElemCell,""):this.SetTextContent(this._CurrentSelectedElemCell,b);this._dimensionsDataMap[a].dimensionElementName=b;this._checkElementsFilled()},_checkElementsFilled:function(){if(this._RefCellDimData&&this._selectButton){for(var a=this.GetSelectedElemNames(),
b=!0,c=0;c<a.length;c++)if(!a[c]||""==a[c]){b=!1;break}b?this._selectButton.set("disabled",!1):this._selectButton.set("disabled",!0)}},GetSelectedDimNames:function(){for(var a=Array(this._DimensionsCount),b=0;b<this._DimensionsCount;b++)a[b]=this._RefCellDimData[b]?this._RefCellDimData[b].dimensionName:null;return a},GetSelectedElemNames:function(){for(var a=Array(this._DimensionsCount),b=0;b<this._DimensionsCount;b++)a[b]=this._RefCellDimData[b]?this._RefCellDimData[b].dimensionElementName:null;
return a},BuildReferenceString:function(){this._CellRefArr=Array(this._DimensionsCount+1);this._CellRefArr[0]=this.getCubeName();var a="["+this.getCubeName(),b;for(b=0;b<this._DimensionsCount;b++){var c=this._RefCellDimData[b].dimensionName+":"+this._RefCellDimData[b].dimensionElementName;this._CellRefArr[b+1]=c;a+=","+c}return a+"]"},buildReferenceArray:function(){var a=Array(this._DimensionsCount+1);a[0]=this.getCubeName();for(var b=0;b<this._DimensionsCount;b++)a[b+1]=this._RefCellDimData[b].dimensionName+
":"+this._RefCellDimData[b].dimensionElementName;return a},getCubeName:function(){return this._CubeSelect.value},setSelectButton:function(a){this._selectButton=a}})})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(l,m,k,h,f){var c=0,e=[],b=0;m=function(){c=1;l._postLoad=l.config.afterOnLoad=!0;d()};var d=function(){if(!b){for(b=1;c&&(!h||0==h._Q.length)&&(k.idle?k.idle():1)&&e.length;){var a=e.shift();try{a()}catch(d){if(d.info=d.message,
k.signal)k.signal("error",d);else throw d;}}b=0}};k.on&&k.on("idle",d);h&&(h._onQEmpty=d);var a=l.ready=l.addOnLoad=function(a,b,c){var h=f._toArray(arguments);"number"!=typeof a?(c=b,b=a,a=1E3):h.shift();c=c?f.hitch.apply(l,h):function(){b()};c.priority=a;for(h=0;h<e.length&&a>=e[h].priority;h++);e.splice(h,0,c);d()},n=l.config.addOnLoad;if(n)a[f.isArray(n)?"apply":"call"](l,n);h?h(m):m();return a})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html",
"./_MenuBase"],function(l,m,k,h){return l("dijit.DropDownMenu",h,{templateString:k,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(f){this._moveToPopup(f);f.stopPropagation();f.preventDefault()},_onLeftArrow:function(f){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else f.stopPropagation(),f.preventDefault()}})})},"dojo/mouse":function(){define(["./_base/kernel","./on",
"./has","./dom","./_base/window"],function(l,m,k,h,f){function c(e,b){var d=function(a,c){return m(a,e,function(d){if(b)return b(d,c);if(!h.isDescendant(d.relatedTarget,a))return c.call(this,d)})};d.bubble=function(a){return c(e,function(b,c){var d=a(b.target),e=b.relatedTarget;if(d&&d!=(e&&1==e.nodeType&&a(e)))return c.call(d,b)})};return d}k.add("dom-quirks",f.doc&&"BackCompat"==f.doc.compatMode);k.add("events-mouseenter",f.doc&&"onmouseenter"in f.doc.createElement("div"));k.add("events-mousewheel",
f.doc&&"onmousewheel"in f.doc);f=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,b){return c.button&b},isLeft:function(c){return c.button&1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,b){return c.button==b},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};l.mouseButtons=f;l=k("events-mousewheel")?
"mousewheel":function(c,b){return m(c,"DOMMouseScroll",function(c){c.wheelDelta=-c.detail;b.call(this,c)})};return{_eventHandler:c,enter:c("mouseover"),leave:c("mouseout"),wheel:l,isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}})},"tm1web/websheet/controls/LabelControl":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojox/html/entities","./ControlBase"],function(l,m,k,h,f){return l(f,{constructor:function(c,e,b){},newControl:function(){var c=k.create("div",{innerHTML:h.encode(this.controlInfo.text)});
m.add(c,"tm1webLabelControl");return c}})})},"tm1web/websheet/HyperlinkType":function(){define({Invalid:"Invalid",External:"External",Workbook:"Workbook",SheetReference:"SheetReference"})},"dojo/aspect":function(){define([],function(){function l(b,c,a,e){var g=b[c],f="around"==c,k;if(f){var l=a(function(){return g.advice(this,arguments)});k={remove:function(){l&&(l=b=a=null)},advice:function(a,b){return l?l.apply(a,b):g.advice(a,b)}}}else k={remove:function(){if(k.advice){var g=k.previous,e=k.next;
e||g?(g?g.next=e:b[c]=e,e&&(e.previous=g)):delete b[c];b=a=k.advice=null}},id:h++,advice:a,receiveArguments:e};if(g&&!f)if("after"==c){for(;g.next&&(g=g.next););g.next=k;k.previous=g}else"before"==c&&(b[c]=k,k.next=g,g.previous=k);else b[c]=k;return k}function m(b){return function(c,a,e,g){var f=c[a],m;f&&f.target==c||(c[a]=m=function(){for(var a=h,b=arguments,c=m.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(m.around)var d=m.around.advice(this,b);for(c=m.after;c&&c.id<a;){if(c.receiveArguments)var g=
c.advice.apply(this,b),d=g===k?d:g;else d=c.advice.call(this,d,b);c=c.next}return d},f&&(m.around={advice:function(a,b){return f.apply(a,b)}}),m.target=c);c=l(m||f,b,e,g);e=null;return c}}var k,h=0,f=m("after"),c=m("before"),e=m("around");return{before:c,around:e,after:f}})},"tm1web/widgets/ConfirmDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/Deferred dojo/dom-class dijit/ConfirmDialog dojox/html/entities".split(" "),function(l,m,k,h,f,c,e,b){var d=
l("tm1web.widgets.ConfirmDialog",e,{title:"",message:"",okButtonLabel:"",cancelButtonLabel:"",focusOkButton:!0,postCreate:function(){this.inherited(arguments);this.own(h.after(this,"onHide",m.hitch(this,"destroy")))},buildRendering:function(){this.inherited(arguments);this.okButtonLabel&&(this.buttonOk=this.okButtonLabel);this.cancelButtonLabel&&(this.buttonCancel=this.cancelButtonLabel)},_getFocusItems:function(){this.inherited(arguments);if(!this.focusOkButton&&this._fadeInDeferred){var a=this._firstFocusItem;
this._firstFocusItem=this._lastFocusItem;this._lastFocusItem=a}},_setMessageAttr:function(a){if(Array.isArray(a))for(var d=0;d<a.length;d++){var g=document.createElement("div");c.add(g,"tm1webDialogMessageInternalParagraph");g.textContent=a[d];this.containerNode.appendChild(g)}else this._set("message",a),this.set("content",b.encode(a))}});d.show=function(a){var b=new f;a=new d(a);var c=h.after(a,"onCancel",function(){c.remove();e.remove();b.reject(!1)}),e=h.after(a,"_onSubmit",function(){c.remove();
e.remove();b.resolve(!0)});a.show();return b.promise};return d})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(l,m,k){l._name="browser";m.mixin(l,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});return k})},"tm1web/websheet/CellContextMenu":function(){define("dojo/_base/declare dojo/topic dojo/dom-class ../share/_CellContextMenu ../share/service-loader!WebSheetService ./spreading/SpreadDialogProportional ./spreading/SpreadDialogEqualLeaves ./spreading/SpreadDialogStraightLine ./spreading/SpreadDialogClear ./spreading/RelativeSpreadDialog ./Utility".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n){return l(h,{Service:f,SpreadDialogProportional:c,SpreadDialogEqualLeaves:e,SpreadDialogStraightLine:b,SpreadDialogClear:d,RelativeSpreadDialog:a,_getSelectedArea:function(){return this.dataGrid.SelectedArea},_validate:function(a,b){var c=a.target;return b?!0:n.getClosestAncestorNode(c,"TD")||c&&"DIV"==c.tagName&&k.contains(c,"tm1webSelection_overlay")},_getItemIdPrefix:function(){return"tm1web_websheet_cellcontextmenu_"},_getCopyPasteId:function(){return this.dataGrid.id},
_isSingleCellSelected:function(){return this._selectedArea.bottomRight.x===this._selectedArea.leftTop.x&&this._selectedArea.bottomRight.y===this._selectedArea.leftTop.y},_hold:function(a){this.Service.hold(this.objectId,a,{callback:this._onHold,scope:this})},_onHold:function(a){m.publish(this.objectId+"-SetSheetsNeedRefresh",!0);m.publish(this.objectId+"-UpdateGrid",a)}})})},"dojox/grid/_Grid":function(){define("dojo/_base/kernel ../main dojo/_base/declare ./_Events ./_Scroller ./_Layout ./_View ./_ViewManager ./_RowManager ./_FocusManager ./_EditManager ./Selection ./_RowSelector ./cells ./util dijit/_Widget dijit/_TemplatedMixin dijit/CheckedMenuItem dojo/text!./resources/_Grid.html dojo/string dojo/_base/array dojo/_base/lang dojo/_base/sniff dojox/html/metrics dojo/_base/html dojo/query dojo/dnd/common dojo/i18n!dijit/nls/loading".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A,y,B,E){l.isCopyKey||(l.isCopyKey=l.dnd.getCopyKeyState);m=k("dojox.grid._Grid",[s,t,h],{templateString:x,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:!1,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:!0,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:!1,selectionMode:"extended",rowSelector:"",columnReordering:!1,headerMenu:null,placeholderLabel:"GridColumns",selectable:!1,_click:null,
loadingMessage:"\x3cspan class\x3d'dojoxGridLoading'\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dojoxGridError'\x3e${errorState}\x3c/span\x3e",noDataMessage:"",escapeHTMLInData:!0,formatterScope:null,editable:!1,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:c,buildRendering:function(){this.inherited(arguments);this.domNode.getAttribute("tabIndex")||(this.domNode.tabIndex="0");this.createScroller();this.createLayout();this.createViews();this.createManagers();
this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");y.initOnFontResize();this.connect(y,"onFontResize","textSizeChanged");r.funnelEvents(this.domNode,this,"doKeyEvent",r.keyEvents);"none"!=this.selectionMode&&this.domNode.setAttribute("aria-multiselectable","single"==this.selectionMode?"false":"true");B.addClass(this.domNode,this.classTag);this.isLeftToRight()||
B.addClass(this.domNode,this.classTag+"Rtl");0<this.rowHeight&&B.addClass(this.viewsNode,this.classTag+"FixedRowHeight")},postMixInProperties:function(){this.inherited(arguments);var a=l.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=w.substitute(this.loadingMessage,a);this.errorMessage=w.substitute(this.errorMessage,a);this.srcNodeRef&&this.srcNodeRef.style.height&&(this.height=this.srcNodeRef.style.height);this._setAutoHeightAttr(this.autoHeight,!0);this.lastScrollTop=this.scrollTop=
0},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);this.domNode&&this.autoWidth&&this.initialWidth&&(this.domNode.style.width=this.initialWidth);this.domNode&&!this.editable&&B.attr(this.domNode,"aria-readonly","true")},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.scroller&&(this.scroller.destroy(),delete this.scroller);this.edit.destroy();
delete this.edit;this.views.destroyViews();this.focus&&(this.focus.destroy(),delete this.focus);this.headerMenu&&this._placeholders.length&&(v.forEach(this._placeholders,function(a){a.unReplace(!0)}),this.headerMenu.unBindDomNode(this.viewsHeaderNode));this.inherited(arguments)},_setAutoHeightAttr:function(a,b){"string"==typeof a&&(a=a&&"false"!=a?"true"==a?!0:window.parseInt(a,10):!1);"number"==typeof a&&(isNaN(a)&&(a=!1),0>a?a=!0:0===a&&(a=!1));this.autoHeight=a;this._autoHeight="boolean"==typeof a?
a:"number"==typeof a?a>=this.get("rowCount"):!1;this._started&&!b&&this.render()},_getRowCountAttr:function(){return this.updating&&this.invalidated&&void 0!=this.invalidated.rowCount?this.invalidated.rowCount:this.rowCount},textSizeChanged:function(){this.render()},sizeChange:function(){this.update()},createManagers:function(){this.rows=new d(this);this.focus=new a(this);this.edit=new n(this)},createSelection:function(){this.selection=new g(this)},createScroller:function(){this.scroller=new f;this.scroller.grid=
this;this.scroller.renderRow=z.hitch(this,"renderRow");this.scroller.removeRow=z.hitch(this,"rowRemoved")},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn")},onMoveColumn:function(){this.update()},onResizeColumn:function(a){},createViews:function(){this.views=new b(this);this.views.createView=z.hitch(this,"createView")},createView:function(a,b){var c=new ("string"===typeof a?z.getObject(a):a)({grid:this,index:b});this.viewsNode.appendChild(c.domNode);
this.viewsHeaderNode.appendChild(c.headerNode);this.views.addView(c);B.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return c},buildViews:function(){for(var a=0,b;b=this.layout.structure[a];a++)this.createView(b.type||e,a).setStructure(b);this.scroller.setContentNodes(this.views.getContentNodes())},_setStructureAttr:function(a){a&&z.isString(a)&&(l.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0"),a=z.getObject(a));
this.structure=a;if(!a)if(this.layout.structure)a=this.layout.structure;else return;this.views.destroyViews();this.focus.focusView=null;a!==this.layout.structure&&this.layout.setStructure(a);this._structureChanged()},setStructure:function(a){l.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(a)},getColumnTogglingItems:function(){var a,b=[];a=v.map(this.layout.cells,function(a){a.menuItems||(a.menuItems=[]);var c=this,
d=new u({label:a.name,checked:!a.hidden,_gridCell:a,onChange:function(a){if(c.layout.setColumnVisibility(this._gridCell.index,a)){var b=this._gridCell.menuItems;1<b.length&&v.forEach(b,function(b){b!==this&&b.setAttribute("checked",a)},this);a=v.filter(c.layout.cells,function(a){1<a.menuItems.length?v.forEach(a.menuItems,"item.set('disabled', false);"):a.menuItems[0].set("disabled",!1);return!a.hidden});1==a.length&&v.forEach(a[0].menuItems,"item.set('disabled', true);")}},destroy:function(){var a=
v.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(a,1);delete this._gridCell;u.prototype.destroy.apply(this,arguments)}});a.menuItems.push(d);a.hidden||b.push(d);return d},this);1==b.length&&b[0].set("disabled",!0);return a},_setHeaderMenuAttr:function(a){this._placeholders&&this._placeholders.length&&(v.forEach(this._placeholders,function(a){a.unReplace(!0)}),this._placeholders=[]);this.headerMenu&&this.headerMenu.unBindDomNode(this.viewsHeaderNode);if(this.headerMenu=a)this.headerMenu.bindDomNode(this.viewsHeaderNode),
this.headerMenu.getPlaceholders&&(this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel))},setHeaderMenu:function(a){l.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(a)},setupHeaderMenu:function(){this._placeholders&&this._placeholders.length&&v.forEach(this._placeholders,function(a){a._replaced&&a.unReplace(!0);a.replace(this.getColumnTogglingItems())},this)},_fetch:function(a){this.setScrollTop(0)},
getItem:function(a){return null},showMessage:function(a){a?(this.messagesNode.innerHTML=a,this.messagesNode.style.display=""):(this.messagesNode.innerHTML="",this.messagesNode.style.display="none")},_structureChanged:function(){this.buildViews();this.autoRender&&this._started&&this.render()},hasLayout:function(){return this.layout.cells.length},resize:function(a,b){this._pendingChangeSize=a;this._pendingResultSize=b;this.sizeChange()},_getPadBorder:function(){return this._padBorder=this._padBorder||
B._getPadBorderExtents(this.domNode)},_getHeaderHeight:function(){var a=this.viewsHeaderNode.style,b="none"==a.display?0:this.views.measureHeader();a.height=b+"px";this.views.normalizeHeaderNodeHeight();return b},_resize:function(a,b){a=a||this._pendingChangeSize;b=b||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(this.domNode){var c=this.domNode.parentNode;if(c&&1==c.nodeType&&this.hasLayout()&&"hidden"!=c.style.visibility&&"none"!=c.style.display){var d=
this._getPadBorder(),g=void 0,e;this._autoHeight?this.domNode.style.height="auto":"number"==typeof this.autoHeight?(e=g=this._getHeaderHeight(),e+=this.scroller.averageRowHeight*this.autoHeight,this.domNode.style.height=e+"px"):this.domNode.clientHeight<=d.h&&(c==document.body?this.domNode.style.height=this.defaultHeight:this.height?this.domNode.style.height=this.height:this.fitTo="parent");b&&(a=b);!this._autoHeight&&a?(B.marginBox(this.domNode,a),this.height=this.domNode.style.height,delete this.fitTo):
"parent"==this.fitTo&&(e=this._parentContentBoxHeight=0<this._parentContentBoxHeight?this._parentContentBoxHeight:B._getContentBox(c).h,this.domNode.style.height=Math.max(0,e)+"px");c=v.some(this.views.views,function(a){return a.flexCells});this._autoHeight||0!==(e||B._getContentBox(this.domNode).h)?(this.viewsHeaderNode.style.display="block",c||void 0!==g||(g=this._getHeaderHeight())):this.viewsHeaderNode.style.display="none";c&&(g=void 0);this.adaptWidth();this.adaptHeight(g);this.postresize()}}},
adaptWidth:function(){var a=!this.initialWidth&&this.autoWidth,b=a?0:this.domNode.clientWidth||this.domNode.offsetWidth-this._getPadBorder().w,b=this.views.arrange(1,b);this.views.onEach("adaptWidth");a&&(this.domNode.style.width=b+"px")},adaptHeight:function(a){a=void 0===a?this._getHeaderHeight():a;var b=this._autoHeight?-1:Math.max(this.domNode.clientHeight-a,0)||0;this.views.onEach("setSize",[0,b]);this.views.onEach("adaptHeight");if(!this._autoHeight){var c=0,d=0,g=v.filter(this.views.views,
function(a){(a=a.hasHScrollbar())?c++:d++;return!a});0<c&&0<d&&v.forEach(g,function(a){a.adaptHeight(!0)})}!0===this.autoHeight||-1!=b||"number"==typeof this.autoHeight&&this.autoHeight>=this.get("rowCount")?this.scroller.windowHeight=b:this.scroller.windowHeight=Math.max(this.domNode.clientHeight-a,0)},startup:function(){this._started||(this.inherited(arguments),this.autoRender&&this.render())},render:function(){this.domNode&&this._started&&(this.hasLayout()?(this.update=this.defaultUpdate,this._render()):
this.scroller.init(0,this.keepRows,this.rowsPerPage))},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender()},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize()},postrender:function(){this.postresize();this.focus.initFocusView();B.setSelectable(this.domNode,this.selectable)},postresize:function(){if(this._autoHeight){var a=
Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=a}},renderRow:function(a,b){this.views.renderRow(a,b,this._skipRowRenormalize)},rowRemoved:function(a){this.views.rowRemoved(a)},invalidated:null,updating:!1,beginUpdate:function(){this.invalidated=[];this.updating=!0},endUpdate:function(){this.updating=!1;var a=this.invalidated,b;if(a.all)this.update();else if(void 0!=a.rowCount)this.updateRowCount(a.rowCount);else for(b in a)this.updateRow(Number(b));this.invalidated=[]},defaultUpdate:function(){this.domNode&&
(this.updating?this.invalidated.all=!0:(this.lastScrollTop=this.scrollTop,this.prerender(),this.scroller.invalidateNodes(),this.setScrollTop(this.lastScrollTop),this.postrender()))},update:function(){this.render()},updateRow:function(a){a=Number(a);this.updating?this.invalidated[a]=!0:(this.views.updateRow(a),this.scroller.rowHeightChanged(a))},updateRows:function(a,b){a=Number(a);b=Number(b);var c;if(this.updating)for(c=0;c<b;c++)this.invalidated[c+a]=!0;else{for(c=0;c<b;c++)this.views.updateRow(c+
a,this._skipRowRenormalize);this.scroller.rowHeightChanged(a)}},updateRowCount:function(a){this.updating?this.invalidated.rowCount=a:(this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this.layout.cells.length&&this.scroller.updateRowCount(a),this._resize(),this.layout.cells.length&&this.setScrollTop(this.scrollTop))},updateRowStyles:function(a){this.views.updateRowStyles(a)},getRowNode:function(a){if(!this.focus.focusView||this.focus.focusView instanceof p)for(var b=0,c;c=this.views.views[b];b++){if(!(c instanceof
p))return c.rowNodes[a]}else return this.focus.focusView.rowNodes[a];return null},rowHeightChanged:function(a){this.views.renormalizeRow(a);this.scroller.rowHeightChanged(a)},fastScroll:!0,delayScroll:!1,scrollRedrawThreshold:A("ie")?100:50,scrollTo:function(a){if(this.fastScroll){var b=Math.abs(this.lastScrollTop-a);this.lastScrollTop=a;if(b>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=!0;this.scrollTop=a;this.views.setScrollTop(a);this._pendingScroll&&window.clearTimeout(this._pendingScroll);
var c=this;this._pendingScroll=window.setTimeout(function(){delete c._pendingScroll;c.finishScrollJob()},200)}else this.setScrollTop(a)}else this.setScrollTop(a)},finishScrollJob:function(){this.delayScroll=!1;this.setScrollTop(this.scrollTop)},setScrollTop:function(a){this.scroller.scroll(this.views.setScrollTop(a))},scrollToRow:function(a){this.setScrollTop(this.scroller.findScrollTop(a)+1)},styleRowNode:function(a,b){b&&this.rows.styleRowNode(a,b)},_mouseOut:function(a){this.rows.setOverRow(-2)},
getCell:function(a){return this.layout.cells[a]},setCellWidth:function(a,b){this.getCell(a).unitWidth=b},getCellName:function(a){return"Cell "+a.index},canSort:function(a){},sort:function(){},getSortAsc:function(a){a=void 0==a?this.sortInfo:a;return Boolean(0<a)},getSortIndex:function(a){a=void 0==a?this.sortInfo:a;return Math.abs(a)-1},setSortIndex:function(a,b){var c=a+1;void 0!=b?c*=b?1:-1:this.getSortIndex()==a&&(c=-this.sortInfo);this.setSortInfo(c)},setSortInfo:function(a){this.canSort(a)&&
(this.sortInfo=a,this.sort(),this.update())},doKeyEvent:function(a){a.dispatch="do"+a.type;this.onKeyEvent(a)},_dispatch:function(a,b){return a in this?this[a](b):!1},dispatchKeyEvent:function(a){this._dispatch(a.dispatch,a)},dispatchContentEvent:function(a){this.edit.dispatchEvent(a)||a.sourceView.dispatchContentEvent(a)||this._dispatch(a.dispatch,a)},dispatchHeaderEvent:function(a){a.sourceView.dispatchHeaderEvent(a)||this._dispatch("doheader"+a.type,a)},dokeydown:function(a){this.onKeyDown(a)},
doclick:function(a){if(a.cellNode)this.onCellClick(a);else this.onRowClick(a)},dodblclick:function(a){if(a.cellNode)this.onCellDblClick(a);else this.onRowDblClick(a)},docontextmenu:function(a){if(a.cellNode)this.onCellContextMenu(a);else this.onRowContextMenu(a)},doheaderclick:function(a){if(a.cellNode)this.onHeaderCellClick(a);else this.onHeaderClick(a)},doheaderdblclick:function(a){if(a.cellNode)this.onHeaderCellDblClick(a);else this.onHeaderDblClick(a)},doheadercontextmenu:function(a){if(a.cellNode)this.onHeaderCellContextMenu(a);
else this.onHeaderContextMenu(a)},doStartEdit:function(a,b){this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,c){this.onApplyCellEdit(a,b,c)},doCancelEdit:function(a){this.onCancelEdit(a)},doApplyEdit:function(a){this.onApplyEdit(a)},addRow:function(){this.updateRowCount(this.get("rowCount")+1)},removeSelectedRows:function(){this.allItemsSelected?this.updateRowCount(0):this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));this.selection.clear()}});m.markupFactory=
function(a,b,c,d){var g=function(a){a=B.attr(a,"width")||"auto";"auto"!=a&&"em"!=a.slice(-2)&&"%"!=a.slice(-1)&&(a=parseInt(a,10)+"px");return a};a.structure||"table"!=b.nodeName.toLowerCase()||(a.structure=E("\x3e colgroup",b).map(function(a){var b=B.attr(a,"span"),b={noscroll:"true"==B.attr(a,"noscroll")?!0:!1,__span:b?parseInt(b,10):1,cells:[]};B.hasAttr(a,"width")&&(b.width=g(a));return b}),a.structure.length||a.structure.push({__span:Infinity,cells:[]}),E("thead \x3e tr",b).forEach(function(b,
c){var e=0,f=0,h,k=null;E("\x3e th",b).map(function(b){k?e>=h+k.__span&&(f++,h+=k.__span,k=a.structure[f]):(h=0,k=a.structure[0]);var l={name:z.trim(B.attr(b,"name")||b.innerHTML),colSpan:parseInt(B.attr(b,"colspan")||1,10),type:z.trim(B.attr(b,"cellType")||""),id:z.trim(B.attr(b,"id")||"")};e+=l.colSpan;var m=B.attr(b,"rowspan");m&&(l.rowSpan=m);B.hasAttr(b,"width")&&(l.width=g(b));B.hasAttr(b,"relWidth")&&(l.relWidth=window.parseInt(B.attr(b,"relWidth"),10));B.hasAttr(b,"hidden")&&(l.hidden="true"==
B.attr(b,"hidden")||!0===B.attr(b,"hidden"));d&&d(b,l);l.type=l.type?z.getObject(l.type):q.Cell;l.type&&l.type.markupFactory&&l.type.markupFactory(b,l);k.cells[c]||(k.cells[c]=[]);k.cells[c].push(l)})}));return new c(a,b)};return m})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(l,m,k){return l("dojo.store.Memory",null,{constructor:function(h){for(var f in h)this[f]=h[f];this.setData(this.data||[])},data:null,idProperty:"id",
index:null,queryEngine:k,get:function(h){return this.data[this.index[h]]},getIdentity:function(h){return h[this.idProperty]},put:function(h,f){var c=this.data,e=this.index,b=this.idProperty,b=h[b]=f&&"id"in f?f.id:b in h?h[b]:Math.random();if(b in e){if(f&&!1===f.overwrite)throw Error("Object already exists");c[e[b]]=h}else e[b]=c.push(h)-1;return b},add:function(h,f){(f=f||{}).overwrite=!1;return this.put(h,f)},remove:function(h){var f=this.index,c=this.data;if(h in f)return c.splice(f[h],1),this.setData(c),
!0},query:function(h,f){return m(this.queryEngine(h,f)(this.data))},setData:function(h){h.items?(this.idProperty=h.identifier||this.idProperty,h=this.data=h.items):this.data=h;this.index={};for(var f=0,c=h.length;f<c;f++)this.index[h[f][this.idProperty]]=f}})})},"tm1web/websheet/celledit/TextArea":function(){define(["dojo/_base/declare","../../celledit/TextArea","./_EditMixin"],function(l,m,k){return l("tm1web.websheet.celledit.TextArea",[m,k])})},"tm1web/websheet/celledit/Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic ../../celledit/_Controller ../../share/service-loader!WebSheetService ../../utility/date ../CellType ./PickList ./ValidationList ./TextBox ./TextArea ./DatePicker ../../utility/date!".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g){return l(h,{_PickList:b,_TextBox:a,_TextArea:n,_DatePicker:g,_service:f,_show:function(a){if(!a.cell||this._isReadOnly(a.cell))return null;var b=a.cell.cellInfo;return!b.hasPickList&&b.hasValidationList?(b=this._getValidationList(),b.show(a),b):this.inherited(arguments)},_showDropDownButton:function(){var a=this._getActiveCell();if(a&&a.cellInfo.hasValidationList&&!this._isReadOnly(a)){var b=this._activeWidget=this._getValidationList(),a={cell:a,value:this._getCurrentValue(a),
highlight:!0,openDropDown:!1};b.show(a);return b}return this.inherited(arguments)},_hasDropDown:function(a){return a&&(a.cellInfo.hasValidationList||this.inherited(arguments))},_getValidationList:function(){this._validationList||(this._validationList=(new d({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel));return this._validationList},_isDateCell:function(a){a=a.cellInfo;if(a.type==e.DateTime||a.type==e.Empty){if(!a.value)return c.isDateFormat(a.format);
var b={format:null};if(c.canParse(a.value,a.format,b))return c.isDateFormat(b.format)}return!1},_delete:function(){this._service.deleteFromSelectedArea(this.objectId,{callback:this._onDelete,scope:this})},_onDelete:function(a){a?this.dataGrid.updateCells(a):this._publishUpdateGrid()},_publishUpdateGrid:function(){k.publish(this.objectId+"-UnsavedDataStateChanged",!1);k.publish(this.objectId+"-SetSheetsNeedRefresh",!0);this.inherited(arguments)}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),
function(l,m,k,h,f,c,e){f.add("highcontrast",function(){var b=e.doc.createElement("div");b.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(m.blankGif||l.toUrl("./resources/blank.gif"))+'");';e.body().appendChild(b);var c=h.getComputedStyle(b),a=c.backgroundImage,c=c.borderTopColor==c.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=f("ie")?b.outerHTML="":e.body().removeChild(b);return c});c(function(){f("highcontrast")&&
k.add(e.body(),"dj_a11y")});return f})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(l,m,k){function h(a,c,e,f,h){if(f=c.match(/(.*):(.*)/))return c=f[2],f=f[1],b.selector(f,c).call(h,a,e);k("touch")&&(d.test(c)&&(e=A(e)),k("event-orientationchange")||"orientationchange"!=c||(c="resize",a=window,e=A(e)));q&&(e=q(e));if(a.addEventListener){var l=c in g,m=l?g[c]:c;a.addEventListener(m,e,l);return{remove:function(){a.removeEventListener(m,e,
l)}}}if(u&&a.attachEvent)return u(a,"on"+c,e);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function c(){this.bubbles=!1}var e=window.ScriptEngineMajorVersion;k.add("jscript",e&&e()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);k.add("event-focusin",function(a,b,c){return"onfocusin"in
c});k("touch")&&k.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});var b=function(a,c,d,g){return"function"!=typeof a.on||"function"==typeof c||a.nodeType?b.parse(a,c,d,h,g,this):a.on(c,d)};b.pausable=function(a,c,d,g){var e;a=b(a,c,function(){if(!e)return d.apply(this,arguments)},g);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};b.once=function(a,
c,d,g){var e=b(a,c,function(){e.remove();return d.apply(this,arguments)});return e};b.parse=function(a,c,d,g,e,f){if(c.call)return c.call(f,a,d);if(c instanceof Array)h=c;else if(-1<c.indexOf(","))var h=c.split(/\s*,\s*/);if(h){var k=[];c=0;for(var l;l=h[c++];)k.push(b.parse(a,l,d,g,e,f));k.remove=function(){for(var a=0;a<k.length;a++)k[a].remove()};return k}return g(a,c,d,e,f)};var d=/^touch/;b.matches=function(a,b,c,d,g){g=g&&g.matches?g:m.query;d=!1!==d;1!=a.nodeType&&(a=a.parentNode);for(;!g.matches(a,
b,c);)if(a==c||!1===d||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};b.selector=function(a,c,d){return function(g,e){function f(c){return b.matches(c,a,g,d,h)}var h="function"==typeof a?{matches:a}:this,k=c.bubble;return k?b(g,k(f),e):b(g,c,function(a){var b=f(a.target);if(b)return e.call(b,a)})}};var a=[].slice,n=b.emit=function(b,d,g){var e=a.call(arguments,2),h="on"+d;if("parentNode"in b){var k=e[0]={},l;for(l in g)k[l]=g[l];k.preventDefault=f;k.stopPropagation=c;k.target=b;k.type=d;g=k}do b[h]&&
b[h].apply(b,e);while(g&&g.bubbles&&(b=b.parentNode));return g&&g.cancelable&&g},g=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var p=function(){this.modified=this.immediatelyStopped=!0},q=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=p,a.apply(this,arguments)}};if(k("dom-addeventlistener"))b.emit=function(a,c,d){if(a.dispatchEvent&&document.createEvent){var g=(a.ownerDocument||document).createEvent("HTMLEvents");
g.initEvent(c,!!d.bubbles,!!d.cancelable);for(var e in d)e in g||(g[e]=d[e]);return a.dispatchEvent(g)&&g}return n.apply(b,arguments)};else{b._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{r&&a.type==r.type&&a.srcElement==r.target&&(a=r)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||
(a.stopPropagation=x,a.preventDefault=w),a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}return a};var r,s=function(a){this.handle=a};s.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(a){return function(c){c=b._fixEvent(c,this);var d=a.call(this,c);c.modified&&(r||setTimeout(function(){r=
null}),r=c);return d}},u=function(a,b,c){c=t(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[b];if(!d||!d.listeners){var g=d,d=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");d.listeners=
[];a[b]=d;d.global=this;g&&d.listeners.push(_dojoIEListeners_.push(g)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(c)-1);return new s(a)}return l.after(a,b,c,!0)},x=function(){this.cancelBubble=!0},w=b._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(k("touch"))var v=function(){},z=window.orientation,A=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;
try{delete b.type}catch(g){}if(b.type){if(k("touch-can-modify-event-delegate"))v.prototype=b,c=new v;else{var c={},e;for(e in b)c[e]=b[e]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(z==window.orientation)return null;z=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var d=c.changedTouches[0],f;for(f in d)delete c[f],c[f]=d[f]}return a.call(this,
c)}};return b})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(m,k,h,f){h=h||Error;var c=function(e){if(h===Error){Error.captureStackTrace&&Error.captureStackTrace(this,c);var b=Error.call(this,e),d;for(d in b)b.hasOwnProperty(d)&&(this[d]=b[d]);this.message=e;this.stack=b.stack}else h.apply(this,arguments);k&&k.apply(this,arguments)};c.prototype=l.delegate(h.prototype,f);c.prototype.name=m;return c.prototype.constructor=c}})},"dojox/grid/_Events":function(){define(["dojo/keys",
"dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(l,m,k,h,f){return k("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(c){this.dispatchKeyEvent(c)},onContentEvent:function(c){this.dispatchContentEvent(c)},onHeaderEvent:function(c){this.dispatchHeaderEvent(c)},onStyleRow:function(c){c.customClasses+=(c.odd?" dojoxGridRowOdd":"")+(c.selected?" dojoxGridRowSelected":"")+(c.over?" dojoxGridRowOver":"");this.focus.styleRow(c);this.edit.styleRow(c)},
onKeyDown:function(c){if(!c.altKey&&!c.metaKey){var e;switch(c.keyCode){case l.ESCAPE:this.edit.cancel();break;case l.ENTER:if(!this.edit.isEditing()){e=this.focus.getHeaderIndex();if(0<=e){this.setSortIndex(e);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);h.stop(c)}c.shiftKey||(e=this.edit.isEditing(),this.edit.apply(),e||this.edit.setEditCell(this.focus.cell,this.focus.rowIndex));this.edit.isEditing()||((this.focus.focusView||this.views.views[0]).content.decorateEvent(c),
this.onRowClick(c),h.stop(c));break;case l.SPACE:if(!this.edit.isEditing()){e=this.focus.getHeaderIndex();if(0<=e){this.setSortIndex(e);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);h.stop(c)}break;case l.TAB:this.focus[c.shiftKey?"previousKey":"nextKey"](c);break;case l.LEFT_ARROW:case l.RIGHT_ARROW:if(!this.edit.isEditing()){var b=c.keyCode;h.stop(c);e=this.focus.getHeaderIndex();0<=e&&c.shiftKey&&c.ctrlKey?this.focus.colSizeAdjust(c,e,5*(b==l.LEFT_ARROW?
-1:1)):(c=b==l.LEFT_ARROW?1:-1,this.isLeftToRight()&&(c*=-1),this.focus.move(0,c))}break;case l.UP_ARROW:this.edit.isEditing()||0===this.focus.rowIndex||(h.stop(c),this.focus.move(-1,0));break;case l.DOWN_ARROW:this.edit.isEditing()||this.focus.rowIndex+1==this.rowCount||(h.stop(c),this.focus.move(1,0));break;case l.PAGE_UP:this.edit.isEditing()||0===this.focus.rowIndex||(h.stop(c),this.focus.rowIndex!=this.scroller.firstVisibleRow+1?this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,
0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1)),this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0)));break;case l.PAGE_DOWN:this.edit.isEditing()||this.focus.rowIndex+1==this.rowCount||(h.stop(c),this.focus.rowIndex!=this.scroller.lastVisibleRow-1?this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1)),this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-
1,0)))}}},onMouseOver:function(c){-1==c.rowIndex?this.onHeaderCellMouseOver(c):this.onCellMouseOver(c)},onMouseOut:function(c){-1==c.rowIndex?this.onHeaderCellMouseOut(c):this.onCellMouseOut(c)},onMouseDown:function(c){-1==c.rowIndex?this.onHeaderCellMouseDown(c):this.onCellMouseDown(c)},onMouseOverRow:function(c){this.rows.isOver(c.rowIndex)||(this.rows.setOverRow(c.rowIndex),-1==c.rowIndex?this.onHeaderMouseOver(c):this.onRowMouseOver(c))},onMouseOutRow:function(c){if(this.rows.isOver(-1))this.onHeaderMouseOut(c);
else this.rows.isOver(-2)||(this.rows.setOverRow(-2),this.onRowMouseOut(c))},onMouseDownRow:function(c){if(-1!=c.rowIndex)this.onRowMouseDown(c)},onCellMouseOver:function(c){c.cellNode&&m.add(c.cellNode,this.cellOverClass)},onCellMouseOut:function(c){c.cellNode&&m.remove(c.cellNode,this.cellOverClass)},onCellMouseDown:function(c){},onCellClick:function(c){this._click[0]=this._click[1];this._click[1]=c;this.edit.isEditCell(c.rowIndex,c.cellIndex)||this.focus.setFocusCell(c.cell,c.rowIndex);1<this._click.length&&
null==this._click[0]&&this._click.shift();this.onRowClick(c)},onCellDblClick:function(c){var e;e=1<this._click.length&&f("ie")?this._click[1]:1<this._click.length&&this._click[0].rowIndex!=this._click[1].rowIndex?this._click[0]:c;this.focus.setFocusCell(e.cell,e.rowIndex);this.edit.setEditCell(e.cell,e.rowIndex);this.onRowDblClick(c)},onCellContextMenu:function(c){this.onRowContextMenu(c)},onCellFocus:function(c,e){this.edit.cellFocus(c,e)},onRowClick:function(c){this.edit.rowClick(c);this.selection.clickSelectEvent(c)},
onRowDblClick:function(c){},onRowMouseOver:function(c){},onRowMouseOut:function(c){},onRowMouseDown:function(c){},onRowContextMenu:function(c){h.stop(c)},onHeaderMouseOver:function(c){},onHeaderMouseOut:function(c){},onHeaderCellMouseOver:function(c){c.cellNode&&m.add(c.cellNode,this.cellOverClass)},onHeaderCellMouseOut:function(c){c.cellNode&&m.remove(c.cellNode,this.cellOverClass)},onHeaderCellMouseDown:function(c){},onHeaderClick:function(c){},onHeaderCellClick:function(c){this.setSortIndex(c.cell.index);
this.onHeaderClick(c)},onHeaderDblClick:function(c){},onHeaderCellDblClick:function(c){this.onHeaderDblClick(c)},onHeaderCellContextMenu:function(c){this.onHeaderContextMenu(c)},onHeaderContextMenu:function(c){this.headerMenu||h.stop(c)},onStartEdit:function(c,e){},onApplyCellEdit:function(c,e,b){},onCancelEdit:function(c){},onApplyEdit:function(c){},onCanSelect:function(c){return!0},onCanDeselect:function(c){return!0},onSelected:function(c){this.updateRowStyles(c)},onDeselected:function(c){this.updateRowStyles(c)},
onSelectionChanged:function(){}})})},"tm1web/share/WaitingOverlay":function(){define(["dojo/_base/declare","./DialogUnderlayEx","dojo/dom-class","dojo/domReady!"],function(l,m,k){return new (l(m,{postCreate:function(){this.inherited(arguments);k.add(this.domNode,"tm1webAjaxBusy")}}))})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(l,m,k){return l("dijit.form._ListBase",null,{selected:null,_listConnect:function(h,f){var c=this;return c.own(m(c.containerNode,
m.selector(function(c,b,d){return c.parentNode==d},h),function(e){c[f](e,this)}))},selectFirstNode:function(){for(var h=this.containerNode.firstChild;h&&"none"==h.style.display;)h=h.nextSibling;this._setSelectedAttr(h,!0)},selectLastNode:function(){for(var h=this.containerNode.lastChild;h&&"none"==h.style.display;)h=h.previousSibling;this._setSelectedAttr(h,!0)},selectNextNode:function(){var h=this.selected;if(h){for(h=h.nextSibling;h&&"none"==h.style.display;)h=h.nextSibling;h?this._setSelectedAttr(h,
!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var h=this.selected;if(h){for(h=h.previousSibling;h&&"none"==h.style.display;)h=h.previousSibling;h?this._setSelectedAttr(h,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(h,f){if(this.selected!=h){var c=this.selected;if(c)this.onDeselect(c);h&&(f&&k.scrollIntoView(h),this.onSelect(h));this._set("selected",h)}else if(h)this.onSelect(h)}})})},"tm1web/cubeview/CopyPasteManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/topic dojo/when dojo/on ../share/TM1Utility ../widgets/ErrorAlert ../utility/clipboard ../utility/event ../utility/message-localizer ../utility/number ./CubeViewBase ./ViewCellType".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){return l(p,{constructor:function(a,b,c){this.ObjectId=c;this._DataGrid=a;this.InitializeCopyPasteManager();this._service=b},InitializeCopyPasteManager:function(){this._AttachEvents()},_AttachEvents:function(){this.own(c(this._DataGrid.Panel,"keydown",m.hitch(this,"_OnKeyDown")),h.subscribe(this.ObjectId+"-Copy",m.hitch(this,"Copy")),h.subscribe(this.ObjectId+"-Paste",m.hitch(this,"Paste")))},_OnKeyDown:function(b){a.isCopyKeyDown(b)&&(67==b.keyCode?(this.Copy(),
k.stop(b)):86==b.keyCode&&(this.Paste(),k.stop(b)))},Copy:function(){var a;this._service.copyFromSelectedArea?this._service.copyFromSelectedArea(this.ObjectId,{callback:d.set,scope:this}):(a=this._GetTextFromSelectedArea())&&d.set(a)},_GetTextFromSelectedArea:function(){var a=null,b=e.getSelectAreaCoordinates(this._DataGrid);if(b)for(var a="",c=b.rowStart;c<=b.rowEnd;c++){for(var d=this._DataGrid.Grid.rows[c],g=b.colStart;g<=b.colEnd;g++)a+=this._getCellValue(d.childNodes[g]),g!=b.colEnd&&(a+="\t");
c!=b.rowEnd&&(a+="\n")}return a},_getCellValue:function(a){var b=a.cellInfo;return b.changed?b.newValue:b.cellType==q.NUM?g.format(b.numericValue,!0):a.cellInfo.value||""},_isReadOnly:function(){var a=this._DataGrid.SelectedArea,b=null,c=!1;if(null!=a.bottomLeft&&null!=a.topRight&&a.bottomLeft===a.topRight||null!=a.bottomRight&&null!=a.leftTop&&a.bottomRight===a.leftTop)b=a.StartCell;null!=b&&(1==b.cellInfo.readOnly||b.cellInfo.isConsolidated&&this._DataGrid.isSpreadingReadonly())&&(c=!0);return c},
Paste:function(){if(!this._isReadOnly()){var a=d.get(!0);f(a,m.hitch(this,function(a){if(a){a=a.split(/\r?\n/);var b=a.length;1<b&&""===a[b-1]&&a.pop();this._DataGrid.Grid.parentNode.focus();this._service.pasteIntoSelectedArea?this._service.pasteIntoSelectedArea(this.ObjectId,a,{callback:this._OnPaste,scope:this}):(b=e.getSelectAreaCoordinates(this._DataGrid))&&this._service.Paste(this.ObjectId,a,b.rowStart,b.colStart,b.rowEnd,b.colEnd,{callback:this._OnPaste,scope:this})}}))}},_OnPaste:function(a){a.invalidValues&&
b.show({message:n.get("PASTE_FAILURES"),title:n.get("PASTE_FAILURES_TITLE_STR")});this._DataGrid.Update(a.cubeViewUpdatedData)}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(l,m,k,h,f,c){var e=c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:
Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(k.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,c,a,e,g,f,h,l){if(g!=this._obj){this.stop();this._initialDelay=h||500;this._subsequentDelay=f||.9;this._minDelay=l||10;this._obj=g;this._node=a;this._count=this._currentTimeout=-1;this._callback=k.hitch(c,e);this._evt={faux:!0};for(var m in b)"layerX"!=m&&"layerY"!=m&&(c=b[m],"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[m]=
c));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,c,a,f,g,p,q){var r="keyCode"in c?"keyCode":"charCode"in c?"charCode":"charOrCode",s=[h(b,"keyCode"in c?"keydown":"charCode"in c?"keypress":m._keypress,k.hitch(this,function(h){h[r]!=c[r]||void 0!==c.ctrlKey&&c.ctrlKey!=h.ctrlKey||void 0!==c.altKey&&c.altKey!=h.altKey||void 0!==c.metaKey&&c.metaKey!=
(h.metaKey||!1)||void 0!==c.shiftKey&&c.shiftKey!=h.shiftKey?e._obj==c&&e.stop():(h.stopPropagation(),h.preventDefault(),e.trigger(h,a,b,f,c,g,p,q))})),h(b,"keyup",k.hitch(this,function(){e._obj==c&&e.stop()}))];return{remove:function(){l.forEach(s,function(a){a.remove()})}}},addMouseListener:function(b,c,a,m,g,p){var q=[h(b,"mousedown",k.hitch(this,function(f){f.preventDefault();e.trigger(f,c,b,a,b,m,g,p)})),h(b,"mouseup",k.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),h(b,"mouseout",
k.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),h(b,"dblclick",k.hitch(this,function(h){h.preventDefault();9>f("ie")&&(e.trigger(h,c,b,a,b,m,g,p),setTimeout(k.hitch(this,e.stop),50))}))];return{remove:function(){l.forEach(q,function(a){a.remove()})}}},addListener:function(b,c,a,e,g,f,h,k){var m=[this.addKeyListener(c,a,e,g,f,h,k),this.addMouseListener(b,e,g,f,h,k)];return{remove:function(){l.forEach(m,function(a){a.remove()})}}}};return e})},"tm1web/subseteditor/SubsetTree":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dijit/registry","./_Tree"],function(l,m,k,h){return l("tm1web.subseteditor.SubsetTree",h,{betweenThreshold:5,dimensionTree:null,postCreate:function(){this.inherited(arguments)},checkAcceptance:function(){return!0},checkItemAcceptance:function(f,c,e){if(f!=this.tree.rootNode.rowNode&&"over"===e)return!1;if(k.getEnclosingWidget(f).hasChildren())if(this.tree.get("expandAbove")){if("before"==e)return!1}else if("after"==e)return!1;return c.tree===this.tree||this.tree.dimensionTree&&
c.tree===this.tree.dimensionTree},selectFound:function(){this._foundNode&&!this.dimensionTree&&this.dndController.userSelect(this._foundNode,!1,!1)}})})},"tm1web/cubeview/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dijit/Menu dijit/PopupMenuItem dijit/MenuSeparator ../planning/TM1MenuItem ./CubeViewBase".split(" "),function(l,m,k,h,f,c,e,b,d){return l(d,{constructor:function(){this.ContextMenu=this.Grid=this._CurrentCell=null;this.MenuLabels={};
this._handles=[]},_OnContextMenuClose:function(){this.ContextMenu.unBindDomNode(this._CurrentCell);setTimeout(m.hitch(this,"_destroy"),0)},_destroy:function(){this.ContextMenu&&this.ContextMenu.destroyRecursive();k.forEach(this._handles,function(a){a.remove()});this._handlers=[]},_BatchAddHandler:function(a,b){k.forEach(a,function(a){a.handler=m.hitch(this,b)},this)},_CreateMenu:function(a){var b=new f;k.forEach(a,m.hitch(this,function(a){this._AddMenuItem(b,a)}));return b},_AddMenuItem:function(a,
d){var g=null;d.subMenu&&null!=d.subMenu?(g=new c({label:d.label,iconClass:d.iconClass,popup:d.subMenu}),g.startup()):null==d.label?g=new e:(g=new b({label:d.label,disabled:d.disabled,iconClass:d.iconClass},null,d.data),this._handles.push(h.after(g,"OnItemClick",d.handler,!0)));a.addChild(g)},destroy:function(){this.inherited(arguments);this._destroy()}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(l,m,k,h,f,
c){h=l("dojo.dnd.move.constrainedMoveable",c,{constraints:function(){},within:!1,constructor:function(c,b){b||(b={});this.constraints=b.constraints;this.within=b.within},onFirstMove:function(c){var b=this.constraintBox=this.constraints.call(this,c);b.r=b.l+b.w;b.b=b.t+b.h;this.within&&(c=m.getMarginSize(c.node),b.r-=c.w,b.b-=c.h)},onMove:function(c,b){var d=this.constraintBox,a=c.node.style;this.onMoving(c,b);b.l=b.l<d.l?d.l:d.r<b.l?d.r:b.l;b.t=b.t<d.t?d.t:d.b<b.t?d.b:b.t;a.left=b.l+"px";a.top=b.t+
"px";this.onMoved(c,b)}});f=l("dojo.dnd.move.boxConstrainedMoveable",h,{box:{},constructor:function(c,b){var d=b&&b.box;this.constraints=function(){return d}}});l=l("dojo.dnd.move.parentConstrainedMoveable",h,{area:"content",constructor:function(c,b){var d=b&&b.area;this.constraints=function(){var a=this.node.parentNode,b=k.getComputedStyle(a),c=m.getMarginBox(a,b);if("margin"==d)return c;var e=m.getMarginExtents(a,b);c.l+=e.l;c.t+=e.t;c.w-=e.w;c.h-=e.h;if("border"==d)return c;e=m.getBorderExtents(a,
b);c.l+=e.l;c.t+=e.t;c.w-=e.w;c.h-=e.h;if("padding"==d)return c;e=m.getPadExtents(a,b);c.l+=e.l;c.t+=e.t;c.w-=e.w;c.h-=e.h;return c}}});return{constrainedMoveable:h,boxConstrainedMoveable:f,parentConstrainedMoveable:l}})},"tm1web/cubeview/CubeViewBase":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/window dojo/dom-construct dojo/sniff ../share/Base ../utility/dom".split(" "),function(l,m,k,h,f,c,e){return l(c,{constructor:function(){this.NBSP=this.IsIE=null;this.InitializeCubeViewBase()},
App:null,InitializeCubeViewBase:function(){this.IsIE=document.all?!0:!1;this.NBSP="\u00a0"},RemoveChildren:function(b){h.empty(b)},CreateTR:function(b){var c=h.create("TR");0<arguments.length&&b.appendChild(c);return c},CreateTd:function(b){var c=h.create("TD");0<arguments.length&&b.appendChild(c);return c},RemoveNodeSelf:function(b){if(null!=b){var c=b.parentNode;null!=c&&c.removeChild(b)}},GetEvent:function(b){window.event&&(b=window.event);return b},CreateTextBox:function(b,c,a,e){var g=h.create("input");
g.value=c;g.setAttribute("type","text");this.AddClass(g,a);g.setAttribute("id",e);b.appendChild(g);return g},CreateLabel:function(b,c,a){var e=h.create("label");this.SetTextContent(e,c);this.AddClass(e,a);b.appendChild(e);return e},CreateA11yLabel:function(b,c,a,e){var g=h.create("label");this.SetTextContent(g,c);this.AddClass(g,a);g.setAttribute("for",e);b.appendChild(g);return g},AddClass:function(b,c){var a=b.className;""!=a?a==c||(new RegExp(c+"$")).test(a)||(a=this._RemoveClass(b,c),b.className=
""!=a?a+" "+c:c):b.className=c},RemoveClass:function(b,c){""!=b.className&&(b.className=this._RemoveClass(b,c))},AssignClass:function(b,c){var a=b.className;""==a?b.className=c:a!=c&&(-1!=a.search("\\btm1webCell_selected\\b")?c+=" tm1webCell_selected":-1!=a.search("\\btm1webCell_selected_within_block_rc\\b")&&(c+=" tm1webCell_selected_within_block_rc"),b.className=c)},_RemoveClass:function(b,c){return b.className.replace(new RegExp("(^"+c+"$)|(^"+c+" )|( "+c+" )|( "+c+"$)")," ").replace(/  +/," ")},
CreateTable:function(b){var c=h.create("TABLE");f("ie");c.className="tm1webCollapse";c.cellSpacing=0;c.cellPadding=0;1==arguments.length&&b&&(c.rules="all",c.border=1);return c},CreatePanel:function(b,c){var a=h.create("DIV");0<arguments.length&&(a.id=b,this.AddClass(a,c));return a},SetTextContent:function(b,c){e.setTextContent(b,c)},GetTextContent:function(b){return e.getTextContent(b)},GetCoordinate:function(b){return{rowIndex:b.cellInfo.rowIndex,colIndex:b.cellInfo.colIndex}}})})},"dojo/promise/instrumentation":function(){define(["./tracer",
"../has","../_base/lang","../_base/array"],function(l,m,k,h){function f(a,b,c){var d="";a&&a.stack&&(d+=a.stack);b&&b.stack&&(d+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);console.error(a,d)}function c(a,b,c,d){b||f(a,c,d)}function e(c,e,f,k){h.some(d,function(a){if(a.error===c)return e&&(a.handled=!0),!0})||d.push({error:c,rejection:f,handled:e,
deferred:k,timestamp:(new Date).getTime()});a||(a=setTimeout(b,n))}function b(){var c=(new Date).getTime(),e=c-n;d=h.filter(d,function(a){return a.timestamp<e?(a.handled||f(a.error,a.rejection,a.deferred),!1):!0});a=d.length?setTimeout(b,d[0].timestamp+n-c):!1}m.add("config-useDeferredInstrumentation","report-unhandled-rejections");var d=[],a=!1,n=1E3;return function(a){var b=m("config-useDeferredInstrumentation");if(b){l.on("resolved",k.hitch(console,"log","resolved"));l.on("rejected",k.hitch(console,
"log","rejected"));l.on("progress",k.hitch(console,"log","progress"));var d=[];"string"===typeof b&&(d=b.split(","),b=d.shift());if("report-rejections"===b)a.instrumentRejected=c;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=e,n=parseInt(d[0],10)||n;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"tm1web/websheet/celledit/DatePicker":function(){define(["dojo/_base/declare","../../celledit/DatePicker","./_EditMixin"],function(l,m,k){return l("tm1web.websheet.celledit.DatePicker",
[m,k])})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(l,m,k,h,f,c,e,b){function d(a,d,e,g,f){g=b.hitch(e,g);if(!a||!a.addEventListener&&!a.attachEvent)return h.after(a||l.global,d,g,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));a||(a=l.global);if(!f)switch(d){case "keypress":d=q;break;case "mouseenter":d=c.enter;break;case "mouseleave":d=c.leave}return m(a,d,g,f)}function a(a){a.keyChar=
a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}e.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!e("opera")});var n={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},g=e("mac")?"metaKey":"ctrlKey",p=function(c,d){var e=b.mixin({},c,d);a(e);e.preventDefault=
function(){c.preventDefault()};e.stopPropagation=function(){c.stopPropagation()};return e},q;q=e("events-keypress-typed")?function(a,b){var c=m(a,"keydown",function(a){var c=a.keyCode,d=13!=c&&32!=c&&(27!=c||!e("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(d||a.ctrlKey){d=d?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);d=95<d&&106>d?d-48:!a.shiftKey&&65<=d&&90>=d?d+32:n[d]||d}c=p(a,{type:"keypress",faux:!0,charCode:d});b.call(a.currentTarget,c);
if(e("ie"))try{a.keyCode=c.keyCode}catch(g){}}}),d=m(a,"keypress",function(a){var c=a.charCode;a=p(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,a)});return{remove:function(){c.remove();d.remove()}}}:e("opera")?function(a,b){return m(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&!a.shiftKey&&65<=c&&90>=c&&(c+=32);return b.call(this,p(a,{charCode:c}))})}:function(b,c){return m(b,"keypress",function(b){a(b);return c.call(this,b)})};var r={_keypress:q,connect:function(a,
b,c,e,g){var f=arguments,h=[],k=0;h.push("string"==typeof f[0]?null:f[k++],f[k++]);var l=f[k+1];h.push("string"==typeof l||"function"==typeof l?f[k++]:null,f[k++]);for(l=f.length;k<l;k++)h.push(f[k]);return d.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,c,d){return k.subscribe(a,b.hitch(c,d))},publish:function(a,b){return k.publish.apply(k,[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){r.publish(a,arguments)};return c?r.connect(b,c,d):r.connect(b,d)},
isCopyKey:function(a){return a[g]}};r.unsubscribe=r.disconnect;b.mixin(l,r);return r})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p){return f("dijit.form._FormSelectWidget",p,{multiple:!1,options:null,store:null,_setStoreAttr:function(a){this._created&&
this._deprecatedSetStore(a)},query:null,_setQueryAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:a})},queryOptions:null,_setQueryOptionsAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:a})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(d.isArray(a))return l.map(a,"return this.getOptions(item);",this);
d.isString(a)&&(a={value:a});d.isObject(a)&&(l.some(b,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<b.length?b[a]:null},addOption:function(a){l.forEach(d.isArray(a)?a:[a],function(a){a&&d.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(d.isArray(a)?a:[a]);l.forEach(a,function(a){a&&(this.options=l.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},
this);this._loadChildren()},updateOption:function(a){l.forEach(d.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,c,d){b.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.","","2.0");this._deprecatedSetStore(a,c,d)},_deprecatedSetStore:function(a,
b,c){var e=this.store;c=c||{};if(e!==a){for(var f;f=this._notifyConnections.pop();)f.remove();a.get||(d.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new m(function(){e.abort&&e.abort()});c.total=new m;var e=this.fetch(d.mixin({query:a,onBegin:function(a){c.total.resolve(a)},onComplete:function(a){c.resolve(a)},onError:function(a){c.reject(a)}},b));
return new g(c)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[k.after(a,"onNew",d.hitch(this,"_onNewItem"),!0),k.after(a,"onDelete",d.hitch(this,"_onDeleteItem"),!0),k.after(a,"onSet",d.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);
c.query&&this._set("query",c.query);c.queryOptions&&this._set("queryOptions",c.queryOptions);a&&a.query&&(this._loadingStore=!0,this.onLoadDeferred=new m,this._queryRes=a.query(this.query,this.queryOptions),n(this._queryRes,d.hitch(this,function(e){if(this.sortByLabel&&!c.sort&&e.length)if(a.getValue)e.sort(h.createSortFunction([{attribute:a.getLabelAttributes(e[0])[0]}],a));else{var g=this.labelAttr;e.sort(function(a,b){return a[g]>b[g]?1:b[g]>a[g]?-1:0})}c.onFetch&&(e=c.onFetch.call(this,e,c));
l.forEach(e,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(d.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(e):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+
a.toString());this.onLoadDeferred.reject(a)}));return e},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=d.isArray(a)?l.map(a,function(a){return d.isObject(a)?a:{value:a}}):d.isObject(a)?[a]:[{value:a}];a=l.filter(this.getOptions(a),function(a){return a&&a.value});var c=this.getOptions()||[];this.multiple||a[0]&&a[0].value||!c.length||(a[0]=c[0]);l.forEach(c,function(b){b.selected=l.some(a,function(a){return a.value===b.value})});
c=l.map(a,function(a){return a.value});if("undefined"!=typeof c&&"undefined"!=typeof c[0]){var e=l.map(a,function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?c:c[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=l.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==
typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(l.forEach(this._getChildren(),function(a){a.destroyRecursive()}),l.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;l.forEach(this._getChildren(),function(c){var d=l.some(a,function(a){return c.option&&a===c.option.value});d&&!b.multiple&&(b.focusedChild=c);e.toggle(c.domNode,
this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);c.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=l.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?l.map(l.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){b&&b.parent||this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},
_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||
null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);c.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?a("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+b._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||
!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);k.after(this,"onChange",d.hitch(this,"_updateSelection"));var a=this.store;a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(a,this._oValue,{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();
this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},
onSetStore:function(){}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(l,m,k,h,f,c,e,b){return l("dijit.form._ComboBoxMenu",[f,c,b,e],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(m.add(this.previousButton,"dijitMenuItemRtl"),m.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){m.add(b,"dijitMenuItemHover")},onUnhover:function(b){m.remove(b,
"dijitMenuItemHover")},onSelect:function(b){m.add(b,"dijitMenuItemSelected")},onDeselect:function(b){m.remove(b,"dijitMenuItemSelected")},_page:function(b){var a=0,c=this.domNode.scrollTop,e=k.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<e;){var f=this.getHighlightedOption();if(b){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=
this.domNode.scrollTop;a+=(f-c)*(b?-1:1);c=f}},handleKey:function(b){switch(b.keyCode){case h.DOWN_ARROW:return this.selectNextNode(),!1;case h.PAGE_DOWN:return this._page(!1),!1;case h.UP_ARROW:return this.selectPreviousNode(),!1;case h.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../registry ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),
function(l,m,k,h,f,c,e,b,d){return l("dijit.layout._TabContainerBase",[f,b],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:d,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&h.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||
m.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(m.add(this.domNode,"dijitTabContainerNested"),m.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),m.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),m.add(this.containerNode,"dijitTabPaneWrapperNested")):m.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){m.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=this.selectedChildWidget;if(this.doLayout){var b=this.tabPosition.replace(/-h/,"");this.tablist.region=b;b=[this.tablist,{domNode:this.tablistSpacer,region:b},{domNode:this.containerNode,region:"center"}];c.layoutChildren(this.domNode,this._contentBox,b);this._containerContentBox=c.marginBox2contentBox(this.containerNode,b[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){b=this.tablist.domNode.style;
b.width="0";var d=k.getContentBox(this.domNode).w;b.width="";this.tablist.resize({w:d})}a&&a.resize&&a.resize()}}},destroy:function(a){this.tablist&&this.tablist.destroy(a);this.inherited(arguments)},selectChild:function(a,b){this._focused&&(a=e.byId(a),this.tablist.pane2button(a.id).focus());return this.inherited(arguments)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(l,m,k,h,f,c,e,b,d,a){return m("dijit._KeyNavContainer",[d,a,b],{connectKeyNavHandlers:function(a,b){var d=this._keyNavCodes={},e=c.hitch(this,"focusPrev"),h=c.hitch(this,"focusNext");l.forEach(a,function(a){d[a]=e});l.forEach(b,function(a){d[a]=h});d[f.HOME]=c.hitch(this,"focusFirstChild");d[f.END]=c.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){h.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);l.forEach(this.getChildren(),
c.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
e.byNode(a))&&a.getParent()==this}})})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(l,m,k,h,f,c){function e(b){return{id:b.value,value:b.value,name:k.trim(b.innerText||b.textContent||"")}}return l("dijit.form.DataList",f,{constructor:function(b,d){this.domNode=m.byId(d);k.mixin(this,b);this.id&&c.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:h("option",this.domNode).map(e)}])},
destroy:function(){c.remove(this.id)},fetchSelectedItem:function(){var b=h("\x3e option[selected]",this.domNode)[0]||h("\x3e option",this.domNode)[0];return b&&e(b)}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(l,m,k,h,
f,c,e,b,d,a,n,g,p,q,r,s,t,u){function x(){}var w=m("dijit._MasterTooltip",[q,r],{duration:g.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new s(this.domNode);this.fadeIn=k.fadeIn({node:this.domNode,duration:this.duration,onEnd:b.hitch(this,"_onShow")});this.fadeOut=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:b.hitch(this,"_onHide")})},show:function(a,c,d,g,f,h,k){if(!this.aroundNode||this.aroundNode!==c||this.containerNode.innerHTML!=
a)if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;f&&this.set("textDir",f);this.containerNode.align=g?"right":"left";var l=p.around(this.domNode,c,d&&d.length?d:v.defaultPosition,!g,b.hitch(this,"orient")),m=l.aroundNodePos;"M"==l.corner.charAt(0)&&"M"==l.aroundCorner.charAt(0)?(this.connectorNode.style.top=m.y+(m.h-this.connectorNode.offsetHeight>>1)-l.y+"px",this.connectorNode.style.left=""):"M"==l.corner.charAt(1)&&"M"==l.aroundCorner.charAt(1)?this.connectorNode.style.left=
m.x+(m.w-this.connectorNode.offsetWidth>>1)-l.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=c;this.onMouseEnter=h||x;this.onMouseLeave=k||x}},orient:function(a,b,d,e,g){this.connectorNode.style.top="";var f=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+d];this.domNode.style.width="auto";var h=c.position(this.domNode);if(n("ie")||n("trident"))h.w+=2;var k=Math.min(Math.max(e,1),h.w);c.setMarginBox(this.domNode,{w:k});"B"==d.charAt(0)&&"B"==b.charAt(0)?(a=c.position(a),b=this.connectorNode.offsetHeight,a.h>f?(this.connectorNode.style.top=f-(g.h+
b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(g.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,h.w-e)},_onShow:function(){n("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=
this.onMouseLeave=x},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});n("dojo-bidi")&&w.extend({_setAutoTextDir:function(a){this.applyTextDir(a);l.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});u.showTooltip=function(a,b,c,d,e,g,f){c&&(c=l.map(c,
function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));v._masterTT||(u._masterTT=v._masterTT=new w);return v._masterTT.show(a,b,c,d,e,g,f)};u.hideTooltip=function(a){return v._masterTT&&v._masterTT.hide(a)};var v=m("dijit.Tooltip",q,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(c){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(b.isArrayLike(c)?c:c?[c]:[],
function(a){return h.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(c){c=h.byId(c,this.ownerDocument);var e=this.selector,g=e?function(b){return a.selector(e,b)}:function(a){return a},f=this;return[a(c,g(d.enter),function(){f._onHover(this)}),a(c,g("focusin"),function(){f._onHover(this)}),a(c,g(d.leave),b.hitch(f,"_onUnHover")),a(c,g("focusout"),b.hitch(f,"set","state","DORMANT"))]},this);this._set("connectId",c)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,
a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(b.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==
a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(v.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var c=this.getContent(this._connectNode);
if(!c){this.set("state","DORMANT");return}v.show(c,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,b.hitch(this,"set","state","SHOWING"),b.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},
_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});v._MasterTooltip=w;v.show=u.showTooltip;v.hide=u.hideTooltip;v.defaultPosition=["after-centered","before-centered"];
return v})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),function(l,m,k,h,f,c,e){return l("dijit.PopupMenuItem",e,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var b=h("*",this.srcNodeRef);this.inherited(arguments,[b[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(b,c){var a=this.popup;f.open(k.delegate(b,{popup:this.popup,around:this.domNode}));
c&&a.focus&&a.focus()},_closePopup:function(){f.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var b=h("[widgetId]",this.dropDownContainer)[0];this.popup=c.byNode(b)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&m.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup",
"true")}},destroyDescendants:function(b){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(b),delete this.popup);this.inherited(arguments)}})})},"tm1web/subseteditor/TreePane":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/query dojo/dom-geometry dijit/layout/BorderContainer ../utility/dom ./SubsetTree ./PagingSlider ./dndSelector".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){return l("tm1web.subseteditor.TreePane",b,{Tree:a,
sessionId:null,dimensionTree:null,model:null,gutters:!1,_slider:null,_sliderLabel:null,_tree:null,_sliderVisible:!0,constructor:function(a){this.dimensionTree=a.tree},_attachListeners:function(){this.connect(this.model,"onMetaDataChange","_onMetaDataChange")},postCreate:function(){this.inherited(arguments);h.add(this.domNode,"tm1webTreePane");this._attachListeners();var a=this.model,b={region:"center",model:a,dimensionTree:this.dimensionTree,onChange:m.hitch(this,"onChange")};this.dndController&&
(b.dndController=this.dndController);this._tree=new this.Tree(b);this.own(this._tree.on("select",m.hitch(this,"onSelect")));this.own(this._tree.on("focus",m.hitch(this,"onFocus")));var c=this._tree.on("load",m.hitch(this,function(){c.remove();setTimeout(m.hitch(this,"onLoad"),0)}));this.addChild(this._tree);this._slider=new n({region:"bottom",model:this.model});this.addChild(this._slider);a.getMetaData(m.hitch(this,"_onMetaDataChange"))},_getTreeAttr:function(){return this._tree},resize:function(a,
b){if(!a){var c=d.getGutters(this.domNode);this._tree.domNode.style.width="auto";this._tree.domNode.style.height="auto";a={w:e.getMarginBox(this._tree.domNode).w+d.getVerticalScrollbarWidth(this._tree.domNode)+c.w,h:this._getChildrenHeight()+c.h}}this.inherited(arguments,[a,b])},layout:function(){this.inherited(arguments);this._slider.layout()},_setMaxHeightAttr:function(a){if(null!=a){this._maxHeight=a;this.domNode.style.maxHeight=a+"px";var b=this._getChildrenHeight(!0);this._tree.domNode.style.maxHeight=
a-b+"px"}},_getMaxHeightAttr:function(){return this._maxHeight},_setMaxWidthAttr:function(a){if(null!=a){this._maxWidth=a;var b=f.set(this.domNode,{maxWidth:a+"px"}),b=d.getGutters(this.domNode,b);this._tree.domNode.style.maxWidth=a-b.w+"px"}},_getChildrenHeight:function(a){var b=this._tree,c=0;k.forEach(this.getChildren(),function(d){a&&d===b||(c+=e.getMarginBox(d.domNode).h)});return c},_onMetaDataChange:function(a){a=a.pageCount;1<a&&!this._sliderVisible?(this.addChild(this._slider),this._sliderVisible=
!0,this._slider.layout(),this.set("maxHeight",this._maxHeight)):1>=a&&this._sliderVisible&&(this.removeChild(this._slider),this._sliderVisible=!1,this.set("maxHeight",this._maxHeight))},onChange:function(){},onSelect:function(a){},onFocus:function(a){a=c(".tm1webTreeNodeLabelFound",a).parent();0<a.length&&a[0].focus()}})})},"dijit/main":function(){define(["dojo/_base/kernel"],function(l){return l.dijit})},"dojox/gesture/Base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/on dojo/touch dojo/has ../main".split(" "),
function(l,m,k,h,f,c,e,b,d){l.experimental("dojox.gesture.Base");h.getObject("gesture",!0,d);return m(null,{defaultEvent:" ",subEvents:[],touchOnly:!1,_elements:null,constructor:function(a){h.mixin(this,a);this.init()},init:function(){this._elements=[];if(!b("touch")&&this.touchOnly)console.warn("Gestures:[",this.defaultEvent,"] is only supported on touch devices!");else{var a=this.defaultEvent;this.call=this._handle(a);this._events=[a];k.forEach(this.subEvents,function(b){this[b]=this._handle(a+
"."+b);this._events.push(a+"."+b)},this)}},_handle:function(a){var b=this;return function(d,e){var f=arguments;2<f.length&&(d=f[1],e=f[2]);if(d&&(d.nodeType||d.attachEvent||d.addEventListener)){var h=b._add(d,a,e);return{remove:function(){h.remove();b._remove(d,a)}}}return c(d,a,e)}},_add:function(a,b,d){var f=this._getGestureElement(a);if(!f){var f={target:a,data:{},handles:{}},k=h.hitch(this,"_process",f,"press"),l=h.hitch(this,"_process",f,"move"),m=h.hitch(this,"_process",f,"release"),t=h.hitch(this,
"_process",f,"cancel"),u=f.handles;this.touchOnly?(u.press=c(a,"touchstart",k),u.move=c(a,"touchmove",l),u.release=c(a,"touchend",m),u.cancel=c(a,"touchcancel",t)):(u.press=e.press(a,k),u.move=e.move(a,l),u.release=e.release(a,m),u.cancel=e.cancel(a,t));this._elements.push(f)}f.handles[b]=f.handles[b]?++f.handles[b]:1;return c(a,b,d)},_getGestureElement:function(a){for(var b=0,c;b<this._elements.length;b++)if(c=this._elements[b],c.target===a)return c},_process:function(a,b,c){c._locking=c._locking||
{};c._locking[this.defaultEvent]||this.isLocked(c.currentTarget)||("INPUT"==c.target.tagName&&"radio"!=c.target.type&&"checkbox"!=c.target.type||"TEXTAREA"==c.target.tagName||c.preventDefault(),c._locking[this.defaultEvent]=!0,this[b](a.data,c))},press:function(a,b){},move:function(a,b){},release:function(a,b){},cancel:function(a,b){},fire:function(a,b){a&&b&&(b.bubbles=!0,b.cancelable=!0,c.emit(a,b.type,b))},_remove:function(a,b){var c=this._getGestureElement(a);if(c&&c.handles){c.handles[b]--;var d=
c.handles;k.some(this._events,function(a){return 0<d[a]})||(this._cleanHandles(d),c=k.indexOf(this._elements,c),0<=c&&this._elements.splice(c,1))}},_cleanHandles:function(a){for(var b in a)a[b].remove&&a[b].remove(),delete a[b]},lock:function(a){this._lock=a},unLock:function(){this._lock=null},isLocked:function(a){return this._lock&&a?this._lock!==a&&f.isDescendant(a,this._lock):!1},destroy:function(){k.forEach(this._elements,function(a){this._cleanHandles(a.handles)},this);this._elements=null}})})},
"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t){return a("dijit.layout.ContentPane",[k,h,f],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:l._scopeName,preventCache:!1,
preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&
d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if(!(a&&a.template||!b||"href"in a||"content"in a)){b=g.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=s.getLocalization("dijit","loading",this.lang)||
b;this.loadingMessage=c.substitute(this.loadingMessage,a);this.errorMessage=c.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&d.forEach(this._contentSetter.parseResults,function(a){a._started||a._destroyed||!m.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},_startChildren:function(){d.forEach(this.getChildren(),
function(a){a._started||a._destroyed||!m.isFunction(a.startup)||(a.startup(),a._started=!0)});this._contentSetter&&d.forEach(this._contentSetter.parseResults,function(a){a._started||a._destroyed||!m.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},setHref:function(a){l.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new n(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,
"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){l.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new n(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=
!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},
refresh:function(){this.cancel();this.onLoadDeferred=new n(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||r.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",
c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+
a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;d.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(d.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||q.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();
var c=this._contentSetter;c&&c instanceof e._ContentSetter||(c=this._contentSetter=new e._ContentSetter({node:this.containerNode,_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));var d=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,
startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(m.isObject(a)&&a.domNode?a.domNode:a,d),g=this;return t(d&&d.then?d:c.parseDeferred,function(){delete g._contentSetterParams;b||(g._started&&(g._startChildren(),g._scheduleLayout()),g._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},
onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"tm1web/share/sandbox/SandboxController":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred ../Base ./TM1WebSandboxCreateDialog ./TM1WebSandboxDeleteDialog ../service-loader!SandboxService".split(" "),function(l,m,k,h,f,c,e){return l(h,{constructor:function(b,c){this._tm1Widget=b;this.objectId=c},_recalculate:function(){return this._tm1Widget.recalculate()},redo:function(){return this._do("redo")},
undo:function(){return this._do("undo")},_do:function(b){var c=new k;e[b](this.objectId,{callback:m.hitch(this,"_onDo",c),errorHandler:function(a,b){c.reject(a,b)}});return c.promise},_onDo:function(b,c){c.success?this._recalculate().then(function(){b.resolve(!0)},function(a,c){b.reject(a,c)}):b.resolve(!1)},getSandboxes:function(){var b=new k;e.getSandboxes(this.objectId,{callback:b.resolve,scope:this});return b},setActiveSandbox:function(b){var c=new k;e.setActiveSandbox(this.objectId,b,{callback:this._onSetActiveSandbox,
arg:c,errorHandler:function(a,b){c.reject(a,b)},scope:this});return c.promise},_onSetActiveSandbox:function(b,c){b?this._recalculate().then(function(){c.resolve(!0)},function(a,b){c.reject(a,b)}):c.resolve(!1)},deleteSandboxes:function(){var b=new c(this._tm1Widget,this.objectId);b.show();b=b.onDeleteDeferred;b.then(m.hitch(this,"_onDeleteSandboxes"));return b},_onDeleteSandboxes:function(b){b&&this._recalculate()},createSandbox:function(){var b=new f(this._tm1Widget,this.objectId);b.show();b=b.onCreateDeferred;
b.then(m.hitch(this,"_onCreateSandbox"));return b},_onCreateSandbox:function(b){b&&this._recalculate()},commitSandbox:function(){var b=new k;e.commitSandbox(this.objectId,{callback:this._onCommitSandbox,arg:b,errorHandler:function(c,a){b.reject(c,a)},scope:this});return b.promise},_onCommitSandbox:function(b,c){b?this._recalculate().then(function(){c.resolve(!0)},function(a,b){c.reject(a,b)}):c.resolve(!1)},resetSandbox:function(){var b=new k;b.then(m.hitch(this,"_onResetSandbox"));e.resetSandbox(this.objectId,
{callback:b.resolve,scope:this});return b},_onResetSandbox:function(b){b&&this._recalculate()},getRedoUndoStatus:function(){var b=new k;e.getRedoUndoStatus(this.objectId,{callback:b.resolve,scope:this});return b}})})},"tm1web/subseteditor/SaveAsDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/Dialog dojo/text!./templates/SaveAsDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin ../widgets/WarningOptionsDialog".split(" "),
function(l,m,k,h,f,c,e,b,d,a){return l([h,c,e,d],{templateString:f,model:null,subsetModel:null,_textBox:null,_savePublicCheckBox:null,_overwriteExistingCheckBox:null,_submitButton:null,_cancelButton:null,title:b.get("SAVE_AS_TITLE_STR"),_textBoxLabel:b.get("SUBSET_NAME_STR"),_savePublicCheckBoxLabel:b.get("SAVE_PUBLIC_STR"),_overwriteExistingCheckBoxLabel:b.get("OVERWRITE_EXISTING_SUBSET_STR"),_submitButtonLabel:b.get("OK_STR"),_cancelButtonLabel:b.get("CANCEL_STR"),_privateSubsetExistsMessage:b.get("PRIVATE_SUBSET_EXISTS"),
_publicSubsetExistsMessage:b.get("PUBLIC_SUBSET_EXISTS"),_subsets:null,_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._textBox.watch("state",k.hitch(this,"_onValidStateChange"));var a=this;this._textBox.validator=function(b){if(this._isEmpty(b))return!1;for(var c=a._savePublicCheckBox.get("checked"),d=a._overwriteExistingCheckBox.get("checked"),e=0;e<a._subsets.length;e++){var f=a._subsets[e];if(b.toLowerCase()==f.name.toLowerCase()&&f.isPublic==c&&!d)return!1}return!0};
this.model.getMetaData().then(k.hitch(this,function(a){this._subsets=a.subsets.slice();this._savePublicCheckBox.set("disabled",!a.dimensionAdminAccess)}))},_onSavePublicCheckBoxChanged:function(a){this._textBox.set("invalidMessage",a?this._publicSubsetExistsMessage:this._privateSubsetExistsMessage);this._textBox.validate()},_onCheckBoxChanged:function(){this._textBox.validate()},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},onHide:function(){this.destroyRecursive()},
_onOk:function(){var c=this._textBox.get("value"),d=this._savePublicCheckBox.get("checked"),e=this._overwriteExistingCheckBox.get("checked"),f=k.hitch(this,"_save",c,d,e);this.model.getMetaData().then(k.hitch(this,function(c){this.subsetModel.getMetaData(function(d){c.selectedSubset.dynamic&&d.modified?a.show({message:b.get("SUBSET_BY_EXPRESSION")+"\n"+b.get("SAVING_DYNAMIC_SUBSET"),okButtonLabel:b.get("SUBSET_EXPRESSION_WARNING_OK_STR"),cancelButtonLabel:b.get("CANCEL_STR"),title:b.get("SUBSET_EXPRESSION_WARNING_TITLE_STR"),
onExecute:function(){f()}}):f()})}))},_save:function(a,b,c){this.model.saveSubsetAs(a,b,c).then(k.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(l,m,k,h){return l("dojox.grid._SelectionPreserver",null,{constructor:function(f){this.selection=f;var c=this.grid=f.grid;this.reset();this._connects=[m.connect(c,"_setStore",this,"reset"),m.connect(c,
"_addItem",this,"_reSelectById"),m.connect(f,"onSelected",k.hitch(this,"_selectById",!0)),m.connect(f,"onDeselected",k.hitch(this,"_selectById",!1)),m.connect(f,"deselectAll",this,"reset")]},destroy:function(){this.reset();h.forEach(this._connects,m.disconnect);delete this._connects},reset:function(){this._selectedById={}},_reSelectById:function(f,c){f&&this.grid._hasIdentity&&(this.selection.selected[c]=this._selectedById[this.grid.store.getIdentity(f)])},_selectById:function(f,c){if("none"!=this.selection.mode&&
this.grid._hasIdentity){var e=c,b=this.grid;if("number"==typeof c||"string"==typeof c)e=(e=b._by_idx[c])&&e.item;e&&(this._selectedById[b.store.getIdentity(e)]=!!f);return e}}})})},"tm1web/subseteditor/DimensionTree":function(){define(["dojo/_base/declare","./_Tree"],function(l,m){return l("tm1web.subseteditor.DimensionTree",m,{checkAcceptance:function(){return!1}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],
function(l,m,k,h,f){return k("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);f.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(h.hitch(this,function(c){this._startupWidgets=
c;for(var b=0;b<c.length;b++)this._processTemplateNode(c[b],function(b,a){return b[a]},function(b,a,c){return a in b?b.connect(b,a,c):b.on(a,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(c,
e,b){return e(c,"dojoType")||e(c,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){l.forEach(this._startupWidgets,function(c){c&&!c._started&&c.startup&&c.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"tm1web/share/RadioRow":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","../utility/dom","dijit/form/RadioButton"],function(l,m,k,h,f){return l(null,{constructor:function(c,e){this.identifier=c;this.label=e;this.checked=!1;this.checkBox=
this.row=null},createSandboxRadioButton:function(c){c=m.create("div");k.add(c,"tm1webCheckRow");this.row=c;var e=this,b=new f({name:"ActionChoice",value:this.identifier});b.setChecked(this.checked);m.place(b.domNode,c);this._createLabel(this.label,c,b.id);b.onclick=function(){e.checked=this.checked};c.onclick=function(){e.onClick(e)};return c},_createLabel:function(c,e,b){c=m.create("label",{innerHTML:c});c.setAttribute("for",b);m.place(c,e)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){return l("dijit._HasDropDown",s,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){this.disabled||this.readOnly||("MSPointerDown"!=b.type&&"pointerdown"!=b.type&&b.preventDefault(),this.own(n.once(this.ownerDocument,g.release,a.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(a){var b=
this.dropDown,d=!1;if(a&&this._opened){var e=c.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w&&a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)f.contains(e,"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(b.onItemClick){for(var g;e&&!(g=p.byNode(e));)e=e.parentNode;if(g&&g.onClick&&g.getParent)g.getParent().onItemClick(g,a)}return}}}this._opened?b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){b.focus();
delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||
this.dropDownPosition[0]||"Down";f.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(n(this._buttonNode,g.press,a.hitch(this,"_onDropDownMouseDown")),n(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),n(b,"keydown",a.hitch(this,"_onKey")),n(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;b&&this._opened&&b.handleKey&&!1===b.handleKey(a)?(a.stopPropagation(),a.preventDefault()):b&&this._opened&&a.keyCode==d.ESCAPE?(this.closeDropDown(),a.stopPropagation(),a.preventDefault()):!this._opened&&(a.keyCode==d.DOWN_ARROW||(a.keyCode==d.ENTER||a.keyCode==d.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||
c.type&&"text"!==c.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new m,c=a.hitch(this,function(){this.openDropDown();b.resolve(this.dropDown)});
this.isLoaded()?c():this.loadDropDown(c);return b},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var b=this.dropDown,d=b.domNode,e=this._aroundNode||this.domNode,g=this,k=r.open({parent:this,popup:b,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){g.closeDropDown(!0)},onCancel:function(){g.closeDropDown(!0)},onClose:function(){h.set(g._popupStateNode,"popupActive",
!1);f.remove(g._popupStateNode,"dijitHasDropDownOpen");g._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>b._popupWrapper.offsetWidth){var e=e.offsetWidth-b._popupWrapper.offsetWidth,l={w:b.domNode.offsetWidth+e};a.isFunction(b.resize)?b.resize(l):c.setMarginBox(d,l);"R"==k.corner[1]&&(b._popupWrapper.style.left=b._popupWrapper.style.left.replace("px","")-e+"px")}h.set(this._popupStateNode,"popupActive","true");f.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",
!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",b.id);"presentation"===d.getAttribute("role")||d.getAttribute("aria-labelledby")||d.setAttribute("aria-labelledby",this.id);return k},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),r.close(this.dropDown),this._opened=!1)}})})},
"tm1web/websheet/ScrollingPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dojo/topic ../cubeview/CubeViewBase ./ScrollBarExtension ./Utility".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){return l(d,{constructor:function(a){this._size=this._scrollTopRatio=this._scrollLeftRatio=this._ScrollBarExtension=this._simulatingPanel=this.Panel=null;this._objectId=a;this._initializeScrollingPane()},_initializeScrollingPane:function(){this.createContainer();
this._attachEvent()},createContainer:function(){this.Panel=this.CreatePanel()},reset:function(){this.Panel.scrollTop=0;this.Panel.scrollLeft=0},getScrollLeft:function(){return this._computeScrollLeft()},setScrollLeft:function(a){this.Panel.scrollLeft=a},increaseScrollLeft:function(a){this.Panel.scrollLeft+=a},increaseScrollTop:function(a){this.Panel.scrollTop+=a},getScrollTop:function(){return this._computeScrollTop()},setScrollTop:function(a){this.Panel.scrollTop=a},getScrollWidth:function(){return this.Panel.scrollWidth},
getScrollHeight:function(){return this.Panel.scrollHeight},getClientHeight:function(){return this.Panel.clientHeight},getClientWidth:function(){return this.Panel.clientWidth},_attachEvent:function(){var a=null,c=this;h(this.Panel,"scroll",function(d){clearTimeout(a);var e=c._objectId;a=setTimeout(function(){b.publish(e+"-SCROLLLINGSTOPPED");a=null},250);c._onScroll(d)})},_onScroll:function(a){this.onScroll(a)},onScroll:function(a){},create:function(a,b,c){this.resize(a,b,c);f.add(this.Panel,"tm1webScrollingPanel");
this._createSimulatingPanel(a.height,a.width);return this.Panel},resize:function(a,b,c){e.set(this.Panel,{width:Math.round(b-a.leftPanelWidth)+"px",height:Math.round(c-a.topPanelHeight)+"px"});var d=this;this._size=a;this._simulatingPanel&&e.set(this._simulatingPanel,{width:a.width+"px",height:a.height+"px"});setTimeout(function(){d._onResizing(a)},0)},_createSimulatingPanel:function(a,b){var d=this.CreatePanel();e.set(d,{width:b+"px",height:a+"px"});c.place(d,this.Panel);this._simulatingPanel=d},
_createScrollBarExtension:function(b){this._ScrollBarExtension=new a(this);b=this._ScrollBarExtension.create(b);c.place(b,this.Panel.parentNode)},_onResizing:function(a){this._adjustPanelSize(a);this._ScrollBarExtension?this._ScrollBarExtension.resize(a):this._createScrollBarExtension(a)},_adjustPanelSize:function(a){var b=this.Panel,c=n.checkScrollBarAvailability(b),d=c.verticalScroll,c=c.horizontalScroll,f=0,h=0;c&&!d&&a.topHeight>a.topPanelHeight?f=n.ScrollBarSize.vertical:!c&&d&&a.leftWidth>a.leftPanelWidth&&
(h=n.ScrollBarSize.horizontal);!d&&a.leftWidth>a.leftPanelWidth&&a.height>a.mainHeight&&(h=n.ScrollBarSize.horizontal);!c&&a.topHeight>a.topPanelHeight&&a.width>a.mainWidth&&(f=n.ScrollBarSize.vertical);e.set(b,{height:b.offsetHeight-h+"px",width:b.offsetWidth-f+"px"});this._computeScrollRatio(f&&h)},_computeScrollRatio:function(a){var b=this.Panel;a?(a=b.scrollWidth-b.clientWidth,this._scrollLeftRatio=(this._size.width-this._size.mainWidth)/a,a=b.scrollHeight-b.clientHeight,this._scrollTopRatio=
(this._size.height-this._size.mainHeight)/a):this._scrollTopRatio=this._scrollLeftRatio=null},_computeScrollLeft:function(){var a=this.Panel.scrollLeft;return this._scrollLeftRatio?a*this._scrollLeftRatio:a},_computeScrollTop:function(){var a=this.Panel.scrollTop;return this._scrollTopRatio?a*this._scrollTopRatio:a}})})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(l,m,k,h){if(m._fixEvent){var f=m._fixEvent;m._fixEvent=function(c,b){(c=f(c,b))&&h.normalizeEvent(c);
return c}}var c={fix:function(c,b){return m._fixEvent?m._fixEvent(c,b):c},stop:function(c){k("dom-addeventlistener")||c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,m._preventDefault.call(c))}};l.fixEvent=c.fix;l.stopEvent=c.stop;return c})},"tm1web/mobile/on/doubletap":function(){define(["dojo/_base/declare","dojo/on","../sniff","./_Tap"],function(l,m,k,h){return new (l(h,{defaultEvent:"doubletap",doubleTapTimeout:500,_overriddenEvent:"tap.doubletap",
_handle:function(f){return k("mobile-device")?this.inherited(arguments):function(c,e){var b=arguments;2<b.length&&(c=b[1],e=b[2]);return m(c,"dblclick",e)}}}))})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(l,m,k,h,f,c,e,b){l.byId=m.byId;l.isDescendant=m.isDescendant;l.setSelectable=m.setSelectable;l.getAttr=h.get;l.setAttr=h.set;l.hasAttr=h.has;l.removeAttr=h.remove;l.getNodeProp=h.getNodeProp;
l.attr=function(b,a,c){return 2==arguments.length?h["string"==typeof a?"get":"set"](b,a):h.set(b,a,c)};l.hasClass=c.contains;l.addClass=c.add;l.removeClass=c.remove;l.toggleClass=c.toggle;l.replaceClass=c.replace;l._toDom=l.toDom=e.toDom;l.place=e.place;l.create=e.create;l.empty=function(b){e.empty(b)};l._destroyElement=l.destroy=function(b){e.destroy(b)};l._getPadExtents=l.getPadExtents=b.getPadExtents;l._getBorderExtents=l.getBorderExtents=b.getBorderExtents;l._getPadBorderExtents=l.getPadBorderExtents=
b.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=b.getMarginExtents;l._getMarginSize=l.getMarginSize=b.getMarginSize;l._getMarginBox=l.getMarginBox=b.getMarginBox;l.setMarginBox=b.setMarginBox;l._getContentBox=l.getContentBox=b.getContentBox;l.setContentSize=b.setContentSize;l._isBodyLtr=l.isBodyLtr=b.isBodyLtr;l._docScroll=l.docScroll=b.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=b.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=l.fixIeBiDiScrollLeft=b.fixIeBiDiScrollLeft;
l.position=b.position;l.marginBox=function(c,a){return a?b.setMarginBox(c,a):b.getMarginBox(c)};l.contentBox=function(c,a){return a?b.setContentSize(c,a):b.getContentBox(c)};l.coords=function(c,a){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");c=m.byId(c);var e=k.getComputedStyle(c),e=b.getMarginBox(c,e),f=b.position(c,a);e.x=f.x;e.y=f.y;return e};l.getProp=f.get;l.setProp=f.set;l.prop=function(b,a,c){return 2==arguments.length?f["string"==typeof a?"get":"set"](b,a):f.set(b,
a,c)};l.getStyle=k.get;l.setStyle=k.set;l.getComputedStyle=k.getComputedStyle;l.__toPixelValue=l.toPixelValue=k.toPixelValue;l.style=function(b,a,c){switch(arguments.length){case 1:return k.get(b);case 2:return k["string"==typeof a?"get":"set"](b,a)}return k.set(b,a,c)};return l})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(l,m,k,h){var f,c=function(){return this}(),e={},b={},d={config:m,global:c,dijit:e,dojox:b},e={dojo:["dojo",d],dijit:["dijit",e],dojox:["dojox",
b]};h=k.map&&k.map[h.id.match(/[^\/]+/)[0]]||k.packs&&k.packs[h.id.match(/[^\/]+/)[0]].packageMap;for(f in h)e[f]?e[f][0]=h[f]:e[f]=[h[f],{}];for(f in e)h=e[f],h[1]._scopeName=h[0],m.noGlobals||(c[h[0]]=h[1]);d.scopeMap=e;d.baseUrl=d.config.baseUrl=k.baseUrl;d.isAsync=!l("dojo-loader")||k.async;d.locale=m.locale;l="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);d.version={major:1,minor:10,patch:2,flag:"",revision:l?l[0]:NaN,toString:function(){var a=d.version;return a.major+"."+a.minor+"."+a.patch+a.flag+
" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(d);d.exit=function(){};"undefined"!=typeof console||(console={});m="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var a;for(l=0;a=m[l++];)console[a]||function(){var b=a+"";console[b]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(b+":");console.log(a.join(" "))}:
function(){};console[b]._fake=!0}();d.deprecated=d.experimental=function(){};d._hasResource={};return d})},"tm1web/subseteditor/dndSelector":function(){define(["dojo/_base/declare","dijit/tree/_dndSelector","../mobile/sniff","../mobile/_ScrollDeltaMixin","./_dndMixin"],function(l,m,k,h,f){return l([m,f,h],{singular:!0,onClickPress:function(c){this.current&&this.current.isExpandable&&this.tree.isExpandoNode(c.target,this.current)||(k("mobile-device")&&this.singular?(this._doSelect=!0,this._onTouchStart(c)):
this.inherited(arguments))},onMouseMove:function(c){this._doSelect&&this._onTouchMove(c);this.inherited(arguments)},onClickRelease:function(c){this._doSelect&&(this._doDeselect=!0,this._doSelect=!1,this._onTouchEnd(c));this.inherited(arguments)},_handleTouchMove:function(c,e){if(5<Math.abs(c)||5<Math.abs(e))this._doSelect=!1}})})},"dijit/tree/dndSource":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/common dojo/dom-class dojo/dom-geometry dojo/_base/lang dojo/on dojo/touch dojo/topic dojo/dnd/Manager ./_dndSelector".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n){return m("dijit.tree.dndSource",n,{isSource:!0,accept:["text","treeNode"],copyOnly:!1,dragThreshold:5,betweenThreshold:0,generateText:!0,constructor:function(a,b){b||(b={});c.mixin(this,b);var e=b.accept instanceof Array?b.accept:["text","treeNode"];this.accept=null;if(e.length){this.accept={};for(var f=0;f<e.length;++f)this.accept[e[f]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.dropPosition="";this._lastY=this._lastX=0;this.sourceState=
"";this.isSource&&h.add(this.node,"dojoDndSource");this.targetState="";this.accept&&h.add(this.node,"dojoDndTarget");this.topics=[d.subscribe("/dnd/source/over",c.hitch(this,"onDndSourceOver")),d.subscribe("/dnd/start",c.hitch(this,"onDndStart")),d.subscribe("/dnd/drop",c.hitch(this,"onDndDrop")),d.subscribe("/dnd/cancel",c.hitch(this,"onDndCancel"))]},checkAcceptance:function(){return!0},copyState:function(a){return this.copyOnly||a},destroy:function(){this.inherited(arguments);for(var a;a=this.topics.pop();)a.remove();
this.targetAnchor=null},_onDragMouse:function(b,c){var d=a.manager(),e=this.targetAnchor,h=this.current,k=this.dropPosition,l="Over";h&&0<this.betweenThreshold&&(this.targetBox&&e==h||(this.targetBox=f.position(h.rowNode,!0)),b.pageY-this.targetBox.y<=this.betweenThreshold?l="Before":b.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(l="After"));if(c||h!=e||l!=k){e&&this._removeItemClass(e.rowNode,k);h&&this._addItemClass(h.rowNode,l);if(h)if(h==this.tree.rootNode&&"Over"!=l)d.canDrop(!1);
else{k=e=!1;if(d.source==this){var k="Over"===l,m;for(m in this.selection){var n=this.selection[m];if(n.item===h.item){e=!0;break}n.getParent().id!==h.id&&(k=!1)}}d.canDrop(!e&&!k&&!this._isParentChildDrop(d.source,h.rowNode)&&this.checkItemAcceptance(h.rowNode,d.source,l.toLowerCase()))}else d.canDrop(!1);this.targetAnchor=h;this.dropPosition=l}},onMouseMove:function(b){if(!this.isDragging||"Disabled"!=this.targetState){this.inherited(arguments);var c=a.manager();if(this.isDragging)this._onDragMouse(b);
else if(this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>=this.dragThreshold||Math.abs(b.pageY-this._lastY)>=this.dragThreshold)){var d=this.getSelectedTreeNodes();if(d.length){if(1<d.length){var e=this.selection,f=0,h=[],m,n;a:for(;m=d[f++];){for(n=m.getParent();n&&n!==this.tree;n=n.getParent())if(e[n.id])continue a;h.push(m)}d=h}d=l.map(d,function(a){return a.domNode});c.startDrag(this,d,this.copyState(k.getCopyKeyState(b)));this._onDragMouse(b,!0)}}}},onMouseDown:function(a){this.mouseDown=
!0;this.mouseButton=a.button;this._lastX=a.pageX;this._lastY=a.pageY;this.inherited(arguments)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,this.inherited(arguments))},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor()},checkItemAcceptance:function(){return!0},onDndSourceOver:function(b){this!=b?(this.mouseDown=!1,this._unmarkTargetAnchor()):this.isDragging&&a.manager().canDrop(!1)},onDndStart:function(b,c,d){this.isSource&&this._changeState("Source",this==b?d?
"Copied":"Moved":"");c=this.checkAcceptance(b,c);this._changeState("Target",c?"":"Disabled");this==b&&a.manager().overSource(this);this.isDragging=!0},itemCreator:function(a){return l.map(a,function(a){return{id:a.id,name:a.textContent||a.innerText||""}})},onDndDrop:function(a,b,c){if("Over"==this.containerState){var d=this.tree,e=d.model,f=this.targetAnchor;this.isDragging=!1;var h,k,m;h=f&&f.item||d.item;"Before"==this.dropPosition||"After"==this.dropPosition?(h=f.getParent()&&f.getParent().item||
d.item,k=f.getIndexInParent(),"After"==this.dropPosition?(k=f.getIndexInParent()+1,m=f.getNextSibling()&&f.getNextSibling().item):m=f.item):h=f&&f.item||d.item;var n;l.forEach(b,function(d,r){var y=a.getItem(d.id);if(-1!=l.indexOf(y.type,"treeNode"))var B=y.data,E=B.item,G=B.getParent().item;a==this?("number"==typeof k&&h==G&&B.getIndexInParent()<k&&--k,e.pasteItem(E,G,h,c,k,m)):e.isItem(E)?e.pasteItem(E,G,h,c,k,m):(n||(n=this.itemCreator(b,f.rowNode,a)),e.newItem(n[r],h,k,m))},this);this.tree._expandNode(f)}this.onDndCancel()},
onDndCancel:function(){this._unmarkTargetAnchor();this.mouseDown=this.isDragging=!1;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","")},onOverEvent:function(){this.inherited(arguments);a.manager().overSource(this)},onOutEvent:function(){this._unmarkTargetAnchor();var b=a.manager();this.isDragging&&b.canDrop(!1);b.outSource(this);this.inherited(arguments)},_isParentChildDrop:function(a,b){if(!a.tree||a.tree!=this.tree)return!1;for(var c=a.tree.domNode,d=a.selection,
e=b.parentNode;e!=c&&!d[e.id];)e=e.parentNode;return e.id&&d[e.id]},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition),this.dropPosition=this.targetBox=this.targetAnchor=null)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")}})})},"tm1web/celledit/_EditMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-class dojo/dom-geometry dojo/keys dijit/form/_TextBoxMixin ../utility/dom ../utility/event ../utility/number ../utility/percent ../share/_RefocusMixin ../share/NumberType ../share/TM1Utility ../on/mousewheel ./_CellValueMixin ../mobile/sniff ./ValueSaver".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u){return l([s,g],{objectId:null,dataGrid:null,service:null,_visible:!1,_store:null,_Store:null,_ValueSaver:u,buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"tm1webCellEditor");this.connect(this.domNode,r,"hide");this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.textbox,"onmousedown",function(){this._allowKeyNavigation=!1})},_onKeyDown:function(b){switch(b.keyCode){case c.DOWN_ARROW:case c.UP_ARROW:case c.LEFT_ARROW:case c.RIGHT_ARROW:if(this._allowKeyNavigation)this.hide();
else{b.stopPropagation();return}break;case c.NUMPAD_PERIOD:k.stop(b),q.insertCharacterAtCaret(a.decimal,this.textbox)}d.isCopyKeyDown(b)&&"V"===String.fromCharCode(b.keyCode)&&b.stopPropagation();this.inherited(arguments)},show:function(a){this.startup();this._activeCell=a.cell;this.textbox.value=a.value;this._selectText=null!=a.highlight?a.highlight:!0;this._allowKeyNavigation=!!a.allowKeyNavigation;this._show(a)},_show:function(a){this._saveFocus();b.setStyle(this.domNode,{visibility:"hidden",display:""});
this._adjustPosition();this.domNode.style.visibility="";this._visible=!0;var c=this.textbox,d=this._computeSelectionIndices();t("mobile-device")?e.selectInputText(c,d.start,d.end):this.defer(function(){e.selectInputText(c,d.start,d.end)},1)},_saveFocus:function(){this.inherited(arguments);this._savedFocusedNode||(this._savedFocusedNode=this.dataGrid.Panel)},_computeSelectionIndices:function(){var a=this._activeCell,b=this.textbox.value,c=b.length,d=this._selectText?0:c;if(this._selectText&&this._isPercentValue(a,
b))return this._percentAppended=!0,n.formatUsesPrefixedPercent()&&(this.textbox.value=n.pushMinusSignBehindPercent(b),b=this.textbox.value),n.getRange(b);this._selectText||!this._isPercentCell(a)||isNaN(b)||(this.textbox.value=n.addFormat(this.textbox.value),this._percentAppended=!0,n.formatUsesPrefixedPercent()&&(d=c=this.textbox.value.length));return{start:d,end:c}},hide:function(){this._visible&&(this._percentAppended=this._allowKeyNavigation=this._selectText=this._visible=!1,this._restoreFocus(),
this._activeCell=null,this.domNode.style.display="none",this.onHide())},onInput:function(a){if(!d.isModifierKeyDown(a,!0))switch(a.keyCode){case c.ENTER:case c.TAB:return this.hide(),!0;case c.ESCAPE:return this.textbox.value=this._getCurrentValue(this._activeCell),this.hide(),!0}"keypress"===a.type&&this.defer("_analyzeValue");return this.inherited(arguments)},onHide:function(){},_adjustPosition:function(){f.setMarginBox(this.domNode,{t:this._calculateOffsetTop(),l:this._calculateOffsetLeft(),w:this._calculateWidth(),
h:this._calculateHeight()})},_calculateWidth:function(){return this._activeCell.offsetWidth},_calculateHeight:function(){return this._activeCell.offsetHeight},_calculateOffsetTop:function(){for(var a=this.domNode.offsetParent,b=this._activeCell.offsetTop,c=this._activeCell.offsetParent,d=this._activeCell.parentNode;a!==c;)b-=d.scrollTop,c===d&&(b+=c.offsetTop),c=d.offsetParent,d=d.parentNode;return b},_calculateOffsetLeft:function(){for(var a=this.domNode.offsetParent,b=this._activeCell.offsetLeft,
c=this._activeCell.offsetParent,d=this._activeCell.parentNode;a!==c;)b-=d.scrollLeft,c===d&&(b+=c.offsetLeft),c=d.offsetParent,d=d.parentNode;return b},_handleOnChange:function(a,b){this.inherited(arguments);b&&(this._saveEdit(),this._restoreFocus(),this.hide())},_saveEdit:function(){var a=new this._ValueSaver(this._getValueSaverParams());this.defer(function(){a.save()},0)},_getValueSaverParams:function(){return{objectId:this.objectId,dataGrid:this.dataGrid,value:this.textbox.value,activeCell:this._activeCell,
service:this.service}},_analyzeValue:function(){var b=this.textbox.value,c=n.removeFormat(b);!this._percentAppended||null==c||a.canParse(b,p.PERCENT,!0)||a.canParse(c,p.DECIMAL,!0)||(this.textbox.value=c,this._percentAppended=!1);this._isPercentCell(this._activeCell)&&null==c&&a.canParse(b,p.DECIMAL,!0)&&(this.textbox.value=n.addFormat(b),b=n.getRange(this.textbox.value),e.selectInputText(this.textbox,b.end,b.end),this._percentAppended=!0)}})})},"tm1web/websheet/celledit/PickListStore":function(){define(["dojo/_base/declare",
"../../share/service-loader!WebSheetService","../../celledit/_PickListStore"],function(l,m,k){return l(k,{_service:m})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(k){this._set("readOnly",k);m.set(this.focusNode,"readOnly",k)},_setLabelAttr:void 0,_getSubmitValue:function(k){return null==k||""===k?"on":k},_setValueAttr:function(k){k=
this._getSubmitValue(k);this._set("value",k);m.set(this.focusNode,"value",k)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(k){return this.readOnly?(k.stopPropagation(),k.preventDefault(),!1):this.inherited(arguments)}})})},"tm1web/celledit/_PickList":function(){define(["dojo/_base/declare","./_CellList","./PickListValueSaver"],function(l,m,k){return l("tm1web.celledit._PickList",m,
{_ValueSaver:k})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(l,m,k,h,f,c,e){var b=0,d={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:c.empty,_setNodeContent:function(a,b){c.empty(a);if(b)if("string"==typeof b&&(b=c.toDom(b,a.ownerDocument)),!b.nodeType&&m.isArrayLike(b))for(var d=b.length,e=0;e<b.length;e=d==b.length?e+1:
0)c.place(b[e],a,"last");else c.place(b,a,"last");return a},_ContentSetter:h("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:l._scopeName,startup:!0,constructor:function(a,c){m.mixin(this,a||{});c=this.node=f.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",b++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:
this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=d._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&
(k.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);c.empty(this.node)},onBegin:function(){var a=this.content;if(m.isString(a)&&(this.cleanContent&&(a=d._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;
delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};k.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=e.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},
function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&d._setNodeContent(this.node,a,!0)}}),set:function(a,b,c){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),b="");return c?(new d._ContentSetter(m.mixin(c,{content:b,node:a}))).set():d._setNodeContent(a,b,!0)}};return l.html=
d})},"tm1web/planning/TM1CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./TM1MenuItem"],function(l,m,k,h){return l(h,{constructor:function(f,c,e){this.Checked=!1;this._CheckedIcon=null},postCreate:function(){this.inherited(arguments);m.add(this.iconNode,"tm1webMenuItemInlineBlock");this._CreateCheckMarkPlaceHolder()},_CreateCheckMarkPlaceHolder:function(){this._CheckedIcon=document.createElement("div");k.place(this._CheckedIcon,this.iconNode,"before");
m.add(this._CheckedIcon,"tm1webMenuItemInlineBlock")},onClick:function(f){this.inherited(arguments);this.SetChecked(!this.Checked)},SetChecked:function(f){this.Checked=f;m.toggle(this._CheckedIcon,"tm1webCheckMarkIcon",f)}})})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(l,m){function k(b,d,e){d=d.toLowerCase();if(l("ie")||l("trident")){if("auto"==e){if("height"==d)return b.offsetHeight;if("width"==d)return b.offsetWidth}if("fontweight"==d)switch(e){case 700:return"bold";default:return"normal"}}d in
a||(a[d]=n.test(d));return a[d]?c(b,e):e}var h,f={};h=l("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=c.getComputedStyle(a,null))}return b||{}}:l("ie")&&(9>l("ie")||l("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};f.getComputedStyle=h;var c;c=l("ie")?function(a,b){if(!b)return 0;if("medium"==
b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,e=c.left,f=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(g){b=0}c.left=e;d.left=f;return b}:function(a,b){return parseFloat(b)||0};f.toPixelValue=c;var e=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},b=9>l("ie")||10>l("ie")&&l("quirks")?function(a){try{return e(a).Opacity/100}catch(b){return 1}}:function(a){return h(a).opacity},
d=9>l("ie")||10>l("ie")&&l("quirks")?function(a,b){""===b&&(b=1);var c=100*b;1===b?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&d(c,b);return b}:function(a,b){return a.style.opacity=b},a=
{left:!0,top:!0},n=/margin|padding|width|height|max|min|offset/,g={cssFloat:1,styleFloat:1,"float":1};f.get=function(a,c){var d=m.byId(a),e=arguments.length;if(2==e&&"opacity"==c)return b(d);c=g[c]?"cssFloat"in d.style?"cssFloat":"styleFloat":c;var h=f.getComputedStyle(d);return 1==e?h:k(d,c,h[c]||d.style[c])};f.set=function(a,b,c){var e=m.byId(a),h=arguments.length,k="opacity"==b;b=g[b]?"cssFloat"in e.style?"cssFloat":"styleFloat":b;if(3==h)return k?d(e,c):e.style[b]=c;for(var l in b)f.set(a,l,b[l]);
return f.getComputedStyle(e)};return f})},"dojox/layout/ToggleSplitter":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/event dojo/keys dojo/dom-class dojo/dom-style dijit/layout/BorderContainer dijit/_Widget".split(" "),function(l,m,k,h,f,c,e,b,d,a){m.experimental("dojox.layout.ToggleSplitter");l=l("dojox.layout.ToggleSplitter",d._Splitter,{container:null,child:null,region:null,state:"full",_closedSize:"0",baseClass:"dojoxToggleSplitter",templateString:'\x3cdiv class\x3d"dijitSplitter dojoxToggleSplitter" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse"\x3e\x3cdiv dojoAttachPoint\x3d"toggleNode" class\x3d"dijitSplitterThumb dojoxToggleSplitterIcon" tabIndex\x3d"0" role\x3d"separator" dojoAttachEvent\x3d"onmousedown:_onToggleNodeMouseDown,onclick:_toggle,onmouseenter:_onToggleNodeMouseMove,onmouseleave:_onToggleNodeMouseMove,onfocus:_onToggleNodeMouseMove,onblur:_onToggleNodeMouseMove"\x3e\x3cspan class\x3d"dojoxToggleSplitterA11y" dojoAttachPoint\x3d"a11yText"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
postCreate:function(){this.inherited(arguments);var a=this.region;e.add(this.domNode,this.baseClass+a.charAt(0).toUpperCase()+a.substring(1))},startup:function(){this.inherited(arguments);var a=this.child.domNode,c=b.set(a,this.horizontal?"height":"width");this.domNode.setAttribute("aria-controls",a.id);h.forEach(["toggleSplitterState","toggleSplitterFullSize","toggleSplitterCollapsedSize"],function(a){var b=a.substring(14),b=b.charAt(0).toLowerCase()+b.substring(1);a in this.child&&(this[b]=this.child[a])},
this);this.fullSize||(this.fullSize="full"==this.state?c+"px":"75px");this._openStyleProps=this._getStyleProps(a,"full");this._started=!0;this.set("state",this.state);return this},_onKeyPress:function(a){"full"==this.state&&this.inherited(arguments);if(a.charCode==c.SPACE||a.keyCode==c.ENTER)this._toggle(a),f.stop(a)},_onToggleNodeMouseDown:function(a){f.stop(a);this.toggleNode.focus()},_startDrag:function(a){"full"==this.state&&this.inherited(arguments)},_stopDrag:function(a){this.inherited(arguments);
this.toggleNode.blur()},_toggle:function(a){switch(this.state){case "full":a=this.collapsedSize?"collapsed":"closed";break;case "collapsed":a="closed";break;default:a="full"}this.set("state",a)},_onToggleNodeMouseMove:function(a){var b=this.baseClass,c=this.toggleNode,d="full"==this.state||"collapsed"==this.state;a="mouseout"==a.type||"blur"==a.type;e.toggle(c,b+"IconOpen",a&&d);e.toggle(c,b+"IconOpenHover",!a&&d);e.toggle(c,b+"IconClosed",a&&!d);e.toggle(c,b+"IconClosedHover",!a&&!d)},_handleOnChange:function(a){a=
this.child.domNode;var c,d,e=this.horizontal?"height":"width";"full"==this.state?(d=k.mixin({display:"block",overflow:"auto",visibility:"visible"},this._openStyleProps),d[e]=this._openStyleProps&&this._openStyleProps[e]?this._openStyleProps[e]:this.fullSize,b.set(this.domNode,"cursor",""),b.set(a,d)):"collapsed"==this.state?(d=b.getComputedStyle(a),this._openStyleProps=c=this._getStyleProps(a,"full",d),b.set(this.domNode,"cursor","auto"),b.set(a,e,this.collapsedSize)):(this.collapsedSize||(d=b.getComputedStyle(a),
this._openStyleProps=c=this._getStyleProps(a,"full",d)),d=this._getStyleProps(a,"closed",d),b.set(this.domNode,"cursor","auto"),b.set(a,d));this._setStateClass();this.container._started&&this.container._layoutChildren(this.region)},_getStyleProps:function(a,c,d){d||(d=b.getComputedStyle(a));var e={},f=this.horizontal?"height":"width";e.overflow="closed"!=c?d.overflow:"hidden";e.visibility="closed"!=c?d.visibility:"hidden";e[f]="closed"!=c?a.style[f]||d[f]:this._closedSize;var k=["Top","Right","Bottom",
"Left"];h.forEach(["padding","margin","border"],function(a){for(var b=0;b<k.length;b++){var f=a+k[b];"border"==a&&(f+="Width");void 0!==d[f]&&(e[f]="closed"!=c?d[f]:0)}});return e},_setStateClass:function(){var a="\x26#9652",b=this.region.toLowerCase(),c=this.baseClass,d=this.toggleNode,f="full"==this.state||"collapsed"==this.state,h=this.focused;e.toggle(d,c+"IconOpen",f&&!h);e.toggle(d,c+"IconClosed",!f&&!h);e.toggle(d,c+"IconOpenHover",f&&h);e.toggle(d,c+"IconClosedHover",!f&&h);if("top"==b&&f||
"bottom"==b&&!f)a="\x26#9650";else if("top"==b&&!f||"bottom"==b&&f)a="\x26#9660";else if("right"==b&&f||"left"==b&&!f)a="\x26#9654";else if("right"==b&&!f||"left"==b&&f)a="\x26#9664";this.a11yText.innerHTML=a},_setStateAttr:function(a){if(this._started){var b=this.state;this.state=a;this._handleOnChange(b);switch(a){case "full":this.domNode.setAttribute("aria-expanded",!0);a="onOpen";break;case "collapsed":this.domNode.setAttribute("aria-expanded",!0);a="onCollapsed";break;default:this.domNode.setAttribute("aria-expanded",
!1),a="onClosed"}this[a](this.child)}},onOpen:function(a){},onCollapsed:function(a){},onClosed:function(a){}});k.extend(a,{toggleSplitterState:"full",toggleSplitterFullSize:"",toggleSplitterCollapsedSize:""});return l})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,m,k,h){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var c=this._attrPairNames;return c[f]?c[f]:c[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&
this.set(f)},_get:function(f,c){return"function"===typeof this[c.g]?this[c.g]():this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,c){if("object"===typeof f){for(var e in f)f.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,f[e]);return this}e=this._getAttrNames(f);var b=this._get(f,e);e=this[e.s];var d;"function"===typeof e?d=e.apply(this,Array.prototype.slice.call(arguments,1)):this[f]=c;if(this._watchCallbacks){var a=this;h(d,function(){a._watchCallbacks(f,b,
c)})}return this},_changeAttrValue:function(f,c){var e=this.get(f);this[f]=c;this._watchCallbacks&&this._watchCallbacks(f,e,c);return this},watch:function(f,c){var e=this._watchCallbacks;if(!e)var b=this,e=this._watchCallbacks=function(a,c,d,f){var h=function(e){if(e){e=e.slice();for(var f=0,h=e.length;f<h;f++)e[f].call(b,a,c,d)}};h(e["_"+a]);f||h(e["*"])};c||"function"!==typeof f?f="_"+f:(c=f,f="*");var d=e[f];"object"!==typeof d&&(d=e[f]=[]);d.push(c);var a={};a.unwatch=a.remove=function(){var a=
k.indexOf(d,c);-1<a&&d.splice(a,1)};return a}})})},"dojox/gesture/tap":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","./Base","../main"],function(l,m,k,h,f){l.experimental("dojox.gesture.tap");l=m(h,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,press:function(c,e){if(e.touches&&2<=e.touches.length)clearTimeout(c.tapTimeOut),delete c.context;else{var b=e.target;this._initTap(c,e);c.tapTimeOut=setTimeout(k.hitch(this,
function(){this._isTap(c,e)&&this.fire(b,{type:"tap.hold"});delete c.context}),this.holdThreshold)}},release:function(c,e){if(c.context&&this._isTap(c,e))switch(c.context.c){case 1:this.fire(e.target,{type:"tap"});break;case 2:this.fire(e.target,{type:"tap.doubletap"})}clearTimeout(c.tapTimeOut)},_initTap:function(c,e){c.context||(c.context={x:0,y:0,t:0,c:0});var b=(new Date).getTime();b-c.context.t<=this.doubleTapTimeout?c.context.c++:(c.context.c=1,c.context.x=e.screenX,c.context.y=e.screenY);c.context.t=
b},_isTap:function(c,e){var b=Math.abs(c.context.x-e.screenX),d=Math.abs(c.context.y-e.screenY);return b<=this.tapRadius&&d<=this.tapRadius}});f.gesture.tap=new l;f.gesture.tap.Tap=l;return f.gesture.tap})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(l,m){var k=document.createElement("div"),h=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,f=k.querySelectorAll,c=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;
l.add("dom-matches-selector",!!h);l.add("dom-qsa",!!f);var e=function(c,g){if(a&&-1<c.indexOf(","))return a(c,g);var h=g?g.ownerDocument||g:m.doc||document,k=(f?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(c);g=g||h;if(k){if(k[2]){var l=m.byId?m.byId(k[2],h):h.getElementById(k[2]);if(!l||k[1]&&k[1]!=l.tagName.toLowerCase())return[];if(g!=h)for(h=l;h!=g;)if(h=h.parentNode,!h)return[];return k[3]?e(k[3],l):[l]}if(k[3]&&g.getElementsByClassName)return g.getElementsByClassName(k[4]);
if(k[5])if(l=g.getElementsByTagName(k[5]),k[4]||k[6])c=(k[4]||"")+k[6];else return l}if(f)return 1===g.nodeType&&"object"!==g.nodeName.toLowerCase()?b(g,c,g.querySelectorAll):g.querySelectorAll(c);l||(l=g.getElementsByTagName("*"));for(var k=[],h=0,s=l.length;h<s;h++){var t=l[h];1==t.nodeType&&d(t,c,g)&&k.push(t)}return k},b=function(a,b,d){var e=a,f=a.getAttribute("id"),h=f||"__dojo__",k=a.parentNode,l=/^\s*[+~]/.test(b);if(l&&!k)return[];f?h=h.replace(/'/g,"\\$\x26"):a.setAttribute("id",h);l&&k&&
(a=a.parentNode);b=b.match(c);for(k=0;k<b.length;k++)b[k]="[id\x3d'"+h+"'] "+b[k];b=b.join(",");try{return d.call(a,b)}finally{f||e.removeAttribute("id")}};if(!l("dom-matches-selector"))var d=function(){function a(b,c,d){var e=c.charAt(0);if('"'==e||"'"==e)c=c.slice(1,-1);c=c.replace(/\\/g,"");var f=h[d||""];return function(a){return(a=a.getAttribute(b))&&f(a,c)}}function b(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function c(a){return function(b,c){b=b.parentNode;return a?
b!=c&&a(b,c):b==c}}function d(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var e="div"==k.tagName?"toLowerCase":"toUpperCase",f={"":function(a){a=a[e]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},h={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-
b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},l={};return function(e,h,k){var m=l[h];if(!m){if(h.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(e,h,k,l,r,t,u){l?m=d(m,f[k||""](l.replace(/\\/g,""))):h?m=(" "==h?b:c)(m):r&&(m=d(m,a(r,u,t)));return""}))throw Error("Syntax error in query");
if(!m)return!0;l[h]=m}return m(e,k)}}();if(!l("dom-qsa"))var a=function(a,b){for(var d=a.match(c),f=[],h=0;h<d.length;h++){a=new String(d[h].replace(/\s*$/,""));a.indexOf=escape;for(var k=e(a,b),l=0,m=k.length;l<m;l++){var x=k[l];f[x.sourceIndex]=x}}d=[];for(h in f)d.push(f[h]);return d};e.match=h?function(a,c,d){return d&&9!=d.nodeType?b(d,c,function(b){return h.call(a,b)}):h.call(a,c)}:d;return e})},"tm1web/websheet/SheetDataGrid":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-style dojo/sniff dojo/json dojo/topic dojo/on dojo/aspect dijit/registry dijit/popup dijit/focus dojox/html/entities ./controls/SheetControlBuilder ../cubeview/CubeViewBase ../subseteditor/ElementSelector ./SheetCellSelector ./CellType ./CellContextMenu ../share/ChartContextMenu ./CellInfoFetcher ./CopyPasteManager ./HyperlinkType ./Comment ../share/TM1Utility ../share/NumberType ../utility/message-localizer ../share/ElementDisplayType ../share/service-loader!WebSheetService ../utility/dom ../utility/html ../utility/number ./celledit/Controller ./Utility ./CellContainer ../mobile/on/tap".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A,y,B,E,G,I,N,O,H,K,P,D,C,F,S,Q,L,J,T){return l(w,{constructor:function(a,b,c,d,e,f){this.ObjectId=a;this._allowSpreading=e;this._allowConsolidateSpreading=f;this.index=b;this.sheetCellSelector=this.dataGridEditCellMgr=this._sheetControl=this.Panel=this.Grid=null;this.leftScrollPane=c;this.topScrollPane=d;this.SelectedArea=null;this.ExpandTooltip=K.get("EXPAND_TOOLTIP_STR");this.CollapseTooltip=K.get("COLLAPSE_TOOLTIP_STR");this.id=r.getUniqueId("tm1web_websheet_SheetDataGrid");
this._cellInfoFetcher=this._cellSizingColumn=this._cellSizingRow=this._cellSizingTable=null;this.unsavedDataChanges=!1;this.cellContainer=new J;this._eventHandlers=[];this._initializeSheetDataGrid()},_initializeSheetDataGrid:function(){this.createContainer();this._avoidScrollChangesOnFocusInIE();this._createCellSizingTable();this._cellContextMenu=new y({dataGrid:this,objectId:this.ObjectId});this._cellContextMenu.startup();this._cellContextMenu.bindDomNode(this.Panel);this._chartContextMenu=new B(this.Panel,
this.ObjectId,D,null);this.sheetCellSelector=new z(this);this.cellEditController=new Q({dataGrid:this,objectId:this.ObjectId,allowConsolidatedCellChanges:!this.isSpreadingReadonly()});this._copyPasteManager=new G(this,D,this.ObjectId);g.subscribe(this.ObjectId+"-SCROLLLINGSTOPPED",h.hitch(this,"_onStopScrolling"));this._cellContextMenu.allowSpreading=this._allowSpreading;a("ie")||(this.Panel.tabIndex=1E3)},_avoidScrollChangesOnFocusInIE:function(){if(a("ie")){var b=this;this.connections.push(q.around(this.Panel,
"focus",function(a){return function(){if(!c.isDescendant(document.activeElement,b.Panel)){var d=b.Panel.parentNode,e=d.parentNode.parentNode,f=e.scrollTop,g=d.scrollLeft;a.call(this);e.scrollTop!==f&&(e.scrollTop=f);d.scrollLeft!==g&&(d.scrollLeft=g)}}}))}},isSpreadingReadonly:function(){return!this._allowSpreading||!this._allowConsolidateSpreading},createContainer:function(){this.Panel=this.CreatePanel();e.add(this.Panel,"tm1webInlineLayout");this._sheetControl=new x(this.Panel,this.ObjectId);var a=
this.CreateTable(!0);e.add(a,"tm1webSheetGrid");this.own(C.disableSelection(a));b.place(a,this.Panel);this.Grid=a},update:function(a){var b=a.gridData.dataRows;this._cellInfoFetcher.updateRowsInfo(b);var c=this;m.forEach(b,function(b){c._updateRow(c.Grid.rows[b.rowNum],b,a)});this._fitCellContents(this.Grid.rows)},Update:function(a){g.publish(this.ObjectId+"-UpdateGrid",a)},create:function(a){var c=this.createColGroup(a);b.place(c,this.Grid);c=document.createElement("TBODY");this._cellInfoFetcher=
new E(c.children,a.rows,a.columns);b.place(c,this.Grid);this._cellInfoFetcher.setGridRows(c.children);this.createRows(a,c);this._fitCellContents(c.children);var d=this;setTimeout(function(){d._attachCellEvents(d.Grid);d.sheetCellSelector.selectCells(a.selectArea);d._sheetControl.create(a.controls);a.selectArea&&d.focus()},0);return this.Panel},createRows:function(a,c){function d(a){var b="",c;for(c in a.style){var e=a.style[c];if(null!=e){for(var f=c.length,g=0;g<f;g++)var h=c.charAt(g),b=h===h.toUpperCase()?
b+("-"+h.toLowerCase()):b+h;b+=":"+e+";"}}return b}var e=a.rows,f=e?e.length:0;if(0!=f){for(var g=Array(f),h=0;h<f;h++){var k=e[h],l={style:{},className:"",cells:Array(k.cells.length)};l.realRowIndex=k.index;0<k.height&&(l.style.height=k.height+"pt");for(var m=k.cells?k.cells.length:0,p=0;p<m;p++){var q=k.cells[p];if(!q.isMergedCell){var r={style:{},className:"",innerHTML:""};this._initCell(r,q);l.cells[p]=r}}g[h]=l}h="";for(k=0;k<f;k++)if(l=g[k]){h+="\x3ctr style\x3d'height:"+l.style.height+"'\x3e";
for(p=0;p<l.cells.length;p++)(r=l.cells[p])&&(h+="\x3ctd class\x3d'"+F.encodeAttribute(r.className)+"' style\x3d'"+F.encodeAttribute(d(r))+"' "+(1<r.colSpan?"colspan\x3d'"+r.colSpan+"' ":"")+(1<r.rowSpan?"rowspan\x3d'"+r.rowSpan+"' ":"")+"\x3e"+r.innerHTML+"\x3c/td\x3e");h+="\x3c/tr\x3e"}b.place(h,c);this.cellContainer.clear();g=c.rows;f=g.length;for(h=0;h<f;h++){l=g[h];k=e[h];l.realRowIndex=k.index;for(var m=k.cells?k.cells.length:0,t=p=0;t<m;t++)if(q=k.cells[t],!q.isMergedCell){r=l.cells[p];if(q.conditionalStyle){var s=
n.parse(q.conditionalStyle);if(s.borderTop){if(0<h){var A=g[h-1];A&&t<A.cells.length&&(A=A.childNodes[t],"hidden"!=s.borderTop&&A.cellInfo.parsedConditionalStyle&&A.cellInfo.parsedConditionalStyle.borderBottom&&"hidden"!=A.cellInfo.parsedConditionalStyle.borderBottom&&(C.setStyle(A,{borderBottom:s.borderTop}),s.borderTop=null))}0<p&&(A=l.cells[p-1],"hidden"==s.borderLeft&&C.setStyle(A,{borderRight:"hidden"}))}q.parsedConditionalStyle=s;C.setStyle(r,s)}0<h&&(A=g[h-1])&&p<A.cells.length&&(A=A.childNodes[p],
A.cellInfo&&A.cellInfo.conditionalStyle&&"hidden"==A.style.borderBottom&&C.setStyle(r,{borderTop:"hidden"}));0<p&&(A=l.cells[p-1],A.cellInfo&&A.cellInfo.conditionalStyle&&"hidden"==A.style.borderRight&&C.setStyle(r,{borderLeft:"hidden"}));r.cellInfo=q;this.cellContainer.add(r);p++}}return null!=e&&0<e.length}},_attachCellEvents:function(a){a=a.rows;for(var b=a.length,c=0;c<b;c++)for(var d=a[c].cells,e=d.length,f=0;f<e;f++){var g=d[f],k=g.cellInfo;this._createComment(g,k);k.isSubNMCell?this._attachSubNMCellEvents(g):
this._isTogglable(g)?this._eventHandlers.push(p(g.children[0],T,h.hitch(this,"_toggle",k))):this._hasHyperlink(k)&&g.children[0]&&this._eventHandlers.push(p(g.children[0],T,h.hitch(this,"_handleHyperlinkClick",g)))}},_isTogglable:function(a){var b=a.cellInfo;return b.allowExpandCollapse&&b.displayType!==P.DisplayNone&&a.children[0]},_attachSubNMCellEvents:function(a){var b=a.cellInfo,c=b.subsetDimension,d=this.index,e=b.rowIndex,f=b.colIndex,h=this.ObjectId;this._eventHandlers.push(p(a,T,function(){var b=
new v({objectId:h,dimension:c,rowIndex:e,columnIndex:f,onClose:function(){b.destroyRecursive();b=null},onSubmit:function(k,l){s.close(b);g.publish(h+"-TitleElementChange",{dimension:c,sheetIndex:d,rowIndex:e,columnIndex:f,element:k,elementIndex:l},a);g.publish("RecalcActivePanels",h)},onBlur:function(){s.close(b)},onCancel:function(){s.close(b)},onLoad:function(){s.open({popup:b,around:a.children[0]})}})}))},deleteRows:function(a){var c=this.Grid.lastChild.childNodes;if(null!=c)for(var d=c.length-
1;d>=a;d--)b.destroy(c[d])},getRowSize:function(){var a=this.Grid.lastChild.childNodes;return null!=a?a.length:0},attach:function(a){var c=document.createDocumentFragment(),d=this.createRows(a,c);d&&(this._cellInfoFetcher.addRowInfos(a.rows),this._fitCellContents(c.childNodes));var e=c.firstChild,f=this.Grid.lastChild;b.place(c,f);d&&(this._cellInfoFetcher.setGridRows(f.children),this._sheetControl.attach(a.controls,e),this.sheetCellSelector.selectCells(a.selectArea));return d},createColGroup:function(a){a=
a.columns;var c=b.create("COLGROUP");m.forEach(a,function(a){var d=b.create("COL");d.style.width=a.width+"pt";d.style.minWidth=a.width+"pt";b.place(d,c)});return c},refresh:function(a){this._removeHandlers();var d=c.isDescendant(document.activeElement,this.Grid);this.Grid.style.display="none";var e=this.Grid.lastChild,f=this.Grid.firstChild,g=b.create("tbody");this._cellInfoFetcher=new E(g.children,a.rows,a.columns);this.createRows(a,g);this._cellInfoFetcher.setGridRows(g.children);this._fitCellContents(g.children);
b.place(g,e,"replace");b.destroy(e);e=this.createColGroup(a);b.place(e,f,"replace");b.destroy(f);this.Grid.style.display="";this._attachCellEvents(this.Grid);this._sheetControl.refresh(a.controls);this.sheetCellSelector.selectCells(a.selectArea);d&&this.focus()},_getCoordinate:function(a){return{rowIndex:a.parentNode.rowIndex,colIndex:a.cellIndex}},_updateRow:function(a,b,c){var d=this;m.forEach(b.cells,function(b){b.visible&&d._initCell(a.cells[b.colIndex],b)})},_updateSubNameCell:function(a,c,d){if(C.isNode(a)){e.add(a,
"tm1webSubNameIcon");a.innerHTML&&b.empty(a);var f=b.create("div",{style:"position: relative; padding-right: 11px; overflow: hidden;"},a);this._hasHyperlink(c)?this._createLink(f,c,d):(a=b.create("span",{},f),(c=this._getValue(c,d))?this.SetTextContent(a,c):a.innerHTML="\x26nbsp;")}else f="\x3cdiv style\x3d'"+F.encodeAttribute("position: relative; padding-right: 11px; overflow: hidden;")+"' class\x3d'"+F.encodeAttribute("tm1webSubNameIcon")+"'\x3e",this._hasHyperlink(c)?this._createLink(f,c,d):(f+=
"\x3cspan\x3e",f=(c=this._getValue(c,d))?f+u.encode(c):f+"\x26nbsp;",f+="\x3c/span\x3e"),a.innerHTML=f+"\x3c/div\x3e"},_hasHyperlink:function(a){return a.hyperlink&&a.hyperlink.type!=I.Invalid},_updateCellEx:function(a,b,c){b.hyperlink&&b.hyperlink.type!=I.Invalid?this._createLink(a,b,c):(c=this._getValue(b,c),this.SetTextContent(a,c));this._setSparklineChart(a,b);this._setIconSet(a,b)},_getValue:function(a,b){var c=a.value;if(b&&a.type==A.Number&&b.requiredWidth>b.actualWidth)c=c.replace(/./g,"#");
else if(a.percent&&a.changed)var d=S.convert(c,H.PERCENT),c=null==d?c:d;else b&&(c=b.displayText);return c},_createLink:function(a,c,d){var e=c.hyperlink,f="";c.value&&(f=this._getValue(c,d));C.isNode(a)?(d=b.create("span",{style:{cursor:"pointer"}}),c.value&&this.SetTextContent(d,f),e.screenTip&&(d.title=e.screenTip),a.appendChild(d)):(d="\x3cspan style\x3d'cursor:pointer;'",e.bookmark&&(d+=" link\x3d'"+F.encodeAttribute(e.bookmark)+"'",d+=" title\x3d'"+F.encodeAttribute(e.screenTip)+"'"),d+="\x3e"+
u.encode(f)+"\x3c/span\x3e",a.innerHTML+=d)},_handleHyperlinkClick:function(b,c){if(0==c.button||a("mobile-device")){var d=b.cellInfo,e=d.hyperlink;if(e)switch(e.type){case I.External:window.open(e.location,"_blank");break;case I.SheetReference:e.sheetName&&g.publish(this.ObjectId+"-NavigateToSheet",e.sheetName);e.bookmark&&this._selectRange(this.ObjectId,e.bookmark);break;case I.Workbook:D.getHyperlinkWorkbookObjectId(this.ObjectId,e.location,e.sheetName,{callback:this._onGetHyperlinkWorkbookObjectId,
arg:{title:d.value||e.screenTip,hyperlink:e},scope:this})}}},_selectRange:function(a,b){g.publish(a+"-SelectRange",b)},_onGetHyperlinkWorkbookObjectId:function(a,b){if(a&&(g.publish(this.ObjectId+"-WebSheetNavigate",{objectId:a,title:b.title,bookmark:null}),b.hyperlink.bookmark))var c=g.subscribe(a+"-WebSheetFetchDataCompleted",h.hitch(this,function(){c.remove();this._selectRange(a,b.hyperlink.bookmark)}))},_setCellStyle:function(a,b){var c=this._getCellClassName(b);b.isConsolidated&&(c+=" tm1webSheetCell_consolidated");
if(b.readOnly||b.isConsolidated&&this.isSpreadingReadonly())c+=" tm1webSheetCell_readonly";b.hold&&(c+=" tm1webCell_hold");b.changed?c+=" tm1webCell_changed":b.isSandboxValueChanged&&(c+=" tm1webSandbox_changed");null!=b.comment&&(c+=" tm1webCellComment");""!=c&&(C.isNode(a)?e.add(a,c):a.className+=" "+c);b.formatColor&&(a.style.color=b.formatColor);b.annotated&&(C.isNode(a)?e.add(a,"tm1webCellAnnotation"):a.className+=" tm1webCellAnnotation")},_initCell:function(a,b){this.UpdateCell(a,b,!0)},updateCells:function(a){for(var b=
a.length,c=0;c<b;c++){var d=a[c];(d=this.cellContainer.get(d.rowIndex,d.colIndex))&&this.UpdateCell(d,a[c])}},UpdateCell:function(a,b,c){var d=null,e=null;a&&a.cellInfo&&(d=a.cellInfo.clientRowIndex,e=a.cellInfo.clientColumnIndex,b.percent=a.cellInfo.percent);b.changed&&a.cellInfo&&a.cellInfo.editDateTime&&(b.value=a.cellInfo.editDateTime,a.cellInfo.editDateTime=void 0);this._cellInfoFetcher.updateCellInfo(b,d,e);a.cellInfo=b;this.RemoveChildren(a);1<b.rowSpan&&(a.rowSpan=b.rowSpan);1<b.colSpan&&
(a.colSpan=b.colSpan);this._setCellStyle(a,b);var f;c||(f=this._getCellProperties(b));this._updateCell(a,b,f);b.changed&&(this.unsavedDataChanges=!0,g.publish(this.ObjectId+"-UnsavedDataStateChanged",!0))},_fitCellContents:function(a){for(var b=a.length-1,c=this._cellInfoFetcher.getColumnCount()-1,d=0;d<=b;d++)for(var e=a[d],f=0;f<e.cells.length;f++){var g=e.cells[f],h=g.cellInfo;if(h.clientColumnIndex>c)break;if(h.valueMayOverflow||h.value&&!(0>h.value.indexOf("\n"))){var k=h.colSpan,l=this._getCellProperties(h);
if(this._willOverflowCellBoundary(h,l)&&!this._isMergedCell(h)){var m=0,n=0;"left"==l.textAlign?m=this._mergeCellsRight(l,h):"right"==l.textAlign?n=m=this._mergeCellsLeft(l,h):"center"==l.textAlign&&(n=this._mergeCellsCenter(l,h),m=n.mergeCount,n=n.leftMergeCount);if(0<m)this._cellInfoFetcher.setDynamicallyMerged(h,!0);else continue;k+=m;f-=n}1<k&&(g.colSpan=k);h.colSpan=k;h.value!=this._getValue(h,l)&&this._updateCell(g,h,l)}}},_createComment:function(a,b){if(null!=b.comment){var c=b.comment;new N({connectId:[a],
label:F.encodeNewLines(c.note),width:c.width,height:c.height,styleId:c.styleId})}},_updateCell:function(a,b,c){b.isSubNMCell?this._updateSubNameCell(a,b,c):b.displayType?this.UpdateActiveHeadCell(a,b,c):this._updateCellEx(a,b,c);a.innerHTML?a.style.lineHeight="":(a.style.lineHeight=0,a.style.padding="0")},UpdateActiveHeadCell:function(a,c,d){a.innerHTML&&b.empty(a);a.elementIndex=c.elementIndex;var e=c.wrapped?"tm1webHeaderLabel tm1webAFHeaderLabelWrapped":"tm1webHeaderLabel",f=c.level,g=c.indent;
switch(c.displayType){case P.DisplayMinus:c.allowExpandCollapse&&this.CreateDislayImage(a,c,"tm1webCellMinusIcon",this.CollapseTooltip);break;case P.DisplayPlus:c.allowExpandCollapse&&this.CreateDislayImage(a,c,"tm1webCellPlusIcon",this.ExpandTooltip);break;default:c.allowExpandCollapse&&this.CreateStillImage(a,"tm1webCellBlankIcon")}this._AdjustHorizontalLeftPadding(a,f,g);C.setStyle(a,{whiteSpace:"nowrap",wordWrap:"normal"});if(c.isFirstCellOfGroup||this.ConditionalFormatChangeFontColor(c))c=this._getValue(c,
d),this.CreateLabel(a,c,e)},_AdjustHorizontalLeftPadding:function(a,b,c){a.style.paddingLeft=11*b*c+3+"px"},ConditionalFormatChangeFontColor:function(a){if(null==a.conditionalStyle)return!1;a=a.conditionalStyle.substring(1).split(/[:,]+/);return-1!=O.indexOf(a,'"color"')?!0:!1},CreateLabel:function(a,c,d){c=u.encode(c);if(C.isNode(a))return b.create("SPAN",{innerHTML:c,"class":d},a);a.innerHTML+="\x3cspan class\x3d'"+F.encodeAttribute(d)+"'\x3e"+c+"\x3c/span\x3e"},CreateDislayImage:function(a,b,c,
d){C.isNode(a)?(b=document.createElement("span"),b.alt=d,b.title=d,e.add(b,"tm1webPlusMinusSheetIcon tm1webActiveFormHeaderIcon"),e.add(c),a.appendChild(b)):(c="\x3cspan class\x3d'tm1webPlusMinusSheetIcon tm1webActiveFormHeaderIcon "+c+"' alt\x3d'"+F.encodeAttribute(d)+"' title\x3d'"+F.encodeAttribute(d)+"'\x3e\x3c/span\x3e",a.innerHTML+=c)},CreateStillImage:function(a,b){if(C.isNode(a)){var c=document.createElement("span");e.add(c,"tm1webActiveFormHeaderIcon");a.appendChild(c)}else a.innerHTML+=
"\x3cspan class\x3d'tm1webActiveFormHeaderIcon "+b+"'/\x3e"},_toggle:function(a){D.toggle(this.ObjectId,a.activeFormId,a.subsetIndex,a.elementIndex,a.displayType,{callback:this._onToggle,scope:this})},_onToggle:function(a){a&&(g.publish(this.ObjectId+"-SetSheetsNeedRefresh",!0),g.publish(this.ObjectId+"-UpdateSheetSize",a))},_mergeCellsRight:function(a,b){return this._mergeCells(a,b,h.hitch(this._cellInfoFetcher,this._cellInfoFetcher.getNextCellInfo))},_mergeCellsLeft:function(a,b){var c=this._mergeCells(a,
b,h.hitch(this._cellInfoFetcher,this._cellInfoFetcher.getPreviousCellInfo)),d=this._cellInfoFetcher.getStartColumnIndex(b);this._cellInfoFetcher.setStartColumnIndex(b,d-c);return c},_mergeCells:function(a,b,c){for(var d=0,e=0,f=[b.colIndex],g=c(b.clientRowIndex,b.clientColumnIndex);this._canDynamicallyMerge(g);){this._mergeCell(g);f.push(g.colIndex);e+=this._cellInfoFetcher.getCellWidth(g);d+=g.colSpan;if(a.actualWidth+e>=a.requiredWidth)break;g=c(g.clientRowIndex,g.clientColumnIndex)}0<d&&D.setCellsDynamicallyMerged(this.ObjectId,
b.rowIndex,f);return d},_mergeCell:function(a){a.isMergedCell=!0;if(a=this._cellInfoFetcher.getTableCell(a.clientRowIndex,a.clientColumnIndex))this.cellContainer.remove(a),b.destroy(a)},_mergeCellsCenter:function(a,b){for(var c=b,d=b,e=0,f=0,g=!0,h=!0,k=0,l=0,m=[b.colIndex];(g||h)&&!(g&&(d=this._cellInfoFetcher.getPreviousCellInfo(d.clientRowIndex,d.clientColumnIndex),this._canDynamicallyMerge(d)?(this._mergeCell(d),m.push(d.colIndex),f+=this._cellInfoFetcher.getCellWidth(d),e+=d.colSpan,k++):g=!1),
h&&(c=this._cellInfoFetcher.getNextCellInfo(c.clientRowIndex,c.clientColumnIndex),this._canDynamicallyMerge(c)?(this._mergeCell(c),m.push(c.colIndex),f+=this._cellInfoFetcher.getCellWidth(c),e+=c.colSpan,l++):h=!1),a.actualWidth+f>=a.requiredWidth););c=this._cellInfoFetcher.getStartColumnIndex(b);this._cellInfoFetcher.setStartColumnIndex(b,c-k);0<e&&D.setCellsDynamicallyMerged(this.ObjectId,b.rowIndex,m);return{mergeCount:e,leftMergeCount:k,rightMergeCount:l}},_canDynamicallyMerge:function(a){return!a||
a.value||this._isMergedCell(a)||a.comment||a.hasPickList||a.hasValidationList||a.hasInputMessage||a.containsFormula?!1:!0},_isMergedCell:function(a){return 1>=a.rowSpan&&1>=a.colSpan||this._cellInfoFetcher.isDynamicallyMerged(a)?!1:!0},_willOverflowCellBoundary:function(a,b){return a.type==A.Number||b.wraps||b.requiredWidth-4<=b.actualWidth?!1:!0},_setSparklineChart:function(a,b){b.sparklineChart&&(a.style.backgroundImage="url('"+O.tm1WebRoot+"CellImageServlet?objectId\x3d"+this.ObjectId+"\x26"+b.sparklineChart+
"\x26type\x3dsparkline\x26tm1web.preventCache\x3d"+(new Date).valueOf()+"')",a.style.backgroundRepeat="no-repeat")},_setIconSet:function(a,c){if(c.iconSet){var d="tm1webIconSetIcon"+(c.value?"":" tm1webIconSetIconNoValue");if(C.isNode(a)){var f=document.createElement("IMG");f.src=O.tm1WebRoot+"excelsheet/"+c.iconSet;e.add(f,d);b.place(f,a,"first")}else d="\x3cimg src\x3d'"+F.encodeAttribute(O.tm1WebRoot+"excelsheet/"+c.iconSet)+"' class\x3d'"+d+"'/\x3e",a.innerHTML=d+a.innerHTML}},SetTextContent:function(a,
b){null!=b&&(C.isNode(a)?this.inherited(arguments):a.innerHTML=u.encode(b))},GetCellPosition:function(a){a=k.coords(a);a.l=a.x;a.t=a.y;return a},GetCoordinate:function(a){return{rowIndex:a.parentNode.realRowIndex,colIndex:a.cellInfo.colIndex}},_getCellProperties:function(c,g){function h(){p.parentNode.removeChild(p);b.place(p,f.doc.body)}function k(){if(a("ff"))return q.offsetWidth;var b=r.clientWidth;return b+(r.offsetWidth-b)/2}var l=c.value||"",m=this._cellInfoFetcher.getCellWidth(c),p=this._cellSizingTable,
q=this._cellSizingColumn;if(!l&&!g)return{requiredWidth:0,actualWidth:m,displayText:c.value};b.empty(this._cellSizingRow);var r=this._cellSizingRow.insertCell(-1);e.add(r,this._getCellClassName(c));c.parsedConditionalStyle?d.set(r,c.parsedConditionalStyle):c.conditionalStyle&&d.set(r,n.parse(c.conditionalStyle));var t=d.getComputedStyle(r),l=c.wrapped,s=t.textAlign,y=c.value.replace(/\r\n/g,"\n"),u=y;if(c.type===A.String||c.type===A.Empty)u=y.replace(/[\n]+/g," "),l||(y=u);this._updateCell(r,c,{displayText:u});
l&&(r.lastElementChild&&e.contains(r.lastElementChild,"tm1webAFHeaderLabelWrapped")?e.replace(r.lastElementChild,"tm1webAFHeaderLabelWrapped","tm1webAFHeaderLabelWrappedPlaceHolder"):r.style.whiteSpace="pre");h();var w=this._cellSizingRow.offsetHeight,L=this._getCellHeight(c)+4;if(L<w)w=0,y="";else if(l){d.set(this._cellSizingColumn,{width:"",minWidth:""});var w=parseInt(t.paddingLeft)+parseInt(t.paddingRight),v=parseInt(t.paddingTop)+parseInt(t.paddingBottom),J=r.clientWidth-w,B=r.clientHeight,t=
parseFloat(t.lineHeight);S.isNaN(t)&&(t=B-v);t=parseInt((L-(r.offsetHeight-B)-v)/t);w=Math.ceil(J/t+w+(r.offsetWidth-r.clientWidth));r.lastElementChild&&e.contains(r.lastElementChild,"tm1webAFHeaderLabelWrappedPlaceHolder")?e.replace(r.lastElementChild,"tm1webAFHeaderLabelWrappedPlaceHolder","tm1webAFHeaderLabelWrapped"):r.style.whiteSpace="pre-wrap";this._cellSizingTable.style.width="1px";w=Math.max(w,Math.ceil(k()));this._cellSizingTable.style.width="0";t=w+"px";this._cellSizingColumn.style.width=
t;this._cellSizingColumn.style.minWidth=t;h();for(J=this._cellSizingRow;J.offsetHeight>L;)w=Math.ceil(1.05*w),t=w+"px",this._cellSizingColumn.style.width=t,this._cellSizingColumn.style.minWidth=t;this._cellSizingColumn.style.width=m+"px";this._cellSizingColumn.style.minWidth=m+"px";y!==u&&this.SetTextContent(r,y);h();if(c.type===A.String&&J.offsetHeight>L){var u=function(a){for(var b="",c=0;c<a;c++)b+=E[c]+x[c];return b},x=y.split(/\s+/),E=y.split(/\S+/),y=0,t=x.length,v=r;c.displayType&&r.lastElementChild&&
e.contains(r.lastElementChild,"tm1webAFHeaderLabelWrapped")&&(v=r.lastElementChild);for(;1<t-y;){var B=Math.floor((y+t)/2),G=u(B);this.SetTextContent(v,G);J.offsetHeight>L?t=B:y=B}y=u(y)}this._cellSizingTable.style.width="auto";d.set(this._cellSizingColumn,{width:"auto",minWidth:""})}else w=Math.floor(k());return{requiredWidth:w,actualWidth:m,wraps:l,displayText:y,textAlign:s}},_getCellHeight:function(a){var b=0,c=a.clientRowIndex;for(a=c+a.rowSpan;c<a;c++){var d=this._cellInfoFetcher.getRowInfo(c);
if(!d)break;b+=d.height}return L.convertPointToPixel(b)},_getCellClassName:function(a){var b="";if(null!=a.styleIds)for(var c=a.styleIds.length,d=0;d<c;d++)b+=a.styleIds[d],d<c+1&&(b+=" ");return b},_createCellSizingTable:function(){this._cellSizingTable=b.create("table",{className:"tm1webSheetGrid",style:{position:"absolute",top:"-1000px",left:"-1000px",width:"auto"}});var a=b.create("colgroup",{},this._cellSizingTable);this._cellSizingColumn=b.create("col",{},a);this._cellSizingRow=this._cellSizingTable.insertRow(-1);
b.place(this._cellSizingTable,f.doc.body)},getRequiredColumnWidth:function(a){for(var b=-1,c=this._cellInfoFetcher.getRowCount(),d=0;d<c;d++){var e=this._cellInfoFetcher.getCellInfo(d,a);!e||!e.value||1<e.colSpan&&!this._cellInfoFetcher.isDynamicallyMerged(e)||(e=this._getCellProperties(e,!0),b=Math.max(b,e.requiredWidth||-1))}return b},getCell:function(a,b){return this.Grid.rows[a].cells[b]},getCellInfoFetcher:function(){return this._cellInfoFetcher},_removeHandlers:function(){m.forEach(this._eventHandlers,
function(a){a.remove()});this._eventHandlers=[]},_onStopScrolling:function(){this.SelectedArea&&this.focus()},focus:function(){this.Panel.focus()},destroy:function(){this.inherited(arguments);this._removeHandlers();this.cellEditController.destroy();this.sheetCellSelector.destroy();this._copyPasteManager.destroy();this._sheetControl.destroy();this._chartContextMenu.destroy();this._cellContextMenu.destroyRecursive();b.destroy(this._cellSizingTable)}})})},"tm1web/widgets/_MaximizeableDialogMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/window","dojo/on"],function(l,m,k,h){return l(null,{buildRendering:function(){this.inherited(arguments);this._connects.push(h(this.titleBar,"dblclick",m.hitch(this,"maximize")))},maximize:function(){this.resize(k.getBox())}})})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(l,m,k,h,f,c,e,b){m=m("dijit.layout.LayoutContainer",e,{design:"headline",
baseClass:"dijitLayoutContainer",startup:function(){this._started||(l.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){this.inherited(arguments);b.region&&k.add(b.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var b=l.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);b.sort(function(a,b){for(var c=a.weight,
d=b.weight,e=0;e<c.length;e++)if(c[e]!=d[e])return c[e]-d[e];return 0});return l.map(b,function(a){return a.pane})},layout:function(){b.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(b,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(b){this.inherited(arguments);this._started&&this.layout();k.remove(b.domNode,this.baseClass+"Pane");h.set(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});h.set(b.domNode,
/top|bottom/.test(b.region)?"width":"height","auto")}});m.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};f.extend(c,m.ChildWidgetProperties);return m})},"dojo/dnd/autoscroll":function(){define("../_base/kernel ../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(l,m,k,h,f,c,e){var b={};m.setObject("dnd.autoscroll",b,l);b.getViewport=e.getBox;b.V_TRIGGER_AUTOSCROLL=32;b.H_TRIGGER_AUTOSCROLL=32;b.V_AUTOSCROLL_VALUE=16;b.H_AUTOSCROLL_VALUE=
16;var d,a=h.doc,n=Infinity,g=Infinity;b.autoScrollStart=function(b){a=b;d=e.getBox(a);b=h.body(a).parentNode;n=Math.max(b.scrollHeight-d.h,0);g=Math.max(b.scrollWidth-d.w,0)};b.autoScroll=function(c){var f=d||e.getBox(a),k=h.body(a).parentNode,l=0,m=0;c.clientX<b.H_TRIGGER_AUTOSCROLL?l=-b.H_AUTOSCROLL_VALUE:c.clientX>f.w-b.H_TRIGGER_AUTOSCROLL&&(l=Math.min(b.H_AUTOSCROLL_VALUE,g-k.scrollLeft));c.clientY<b.V_TRIGGER_AUTOSCROLL?m=-b.V_AUTOSCROLL_VALUE:c.clientY>f.h-b.V_TRIGGER_AUTOSCROLL&&(m=Math.min(b.V_AUTOSCROLL_VALUE,
n-k.scrollTop));window.scrollBy(l,m)};b._validNodes={div:1,p:1,td:1};b._validOverflow={auto:1,scroll:1};b.autoScrollNodes=function(a){for(var d,e,g,l,m,n,w=0,v=0,z=a.target;z;){if(1==z.nodeType&&z.tagName.toLowerCase()in b._validNodes){g=c.getComputedStyle(z);l=g.overflow.toLowerCase()in b._validOverflow;m=g.overflowX.toLowerCase()in b._validOverflow;n=g.overflowY.toLowerCase()in b._validOverflow;if(l||m||n)d=f.getContentBox(z,g),e=f.position(z,!0);if(l||m){g=Math.min(b.H_TRIGGER_AUTOSCROLL,d.w/2);
m=a.pageX-e.x;if(k("webkit")||k("opera"))m+=h.body().scrollLeft;w=0;0<m&&m<d.w&&(m<g?w=-g:m>d.w-g&&(w=g),z.scrollLeft+=w)}if(l||n){l=Math.min(b.V_TRIGGER_AUTOSCROLL,d.h/2);n=a.pageY-e.y;if(k("webkit")||k("opera"))n+=h.body().scrollTop;v=0;0<n&&n<d.h&&(n<l?v=-l:n>d.h-l&&(v=l),z.scrollTop+=v)}if(w||v)return}try{z=z.parentNode}catch(A){z=null}}b.autoScroll(a)};return b})},"tm1web/planning/TM1MenuItem":function(){define(["dojo/_base/declare","dijit/MenuItem","./PlanningBase"],function(l,m,k){return l([m,
k],{constructor:function(h,f,c){this.Data=c;this.checked=!1},onClick:function(h){this.inherited(arguments);this.OnItemClick(this)},OnItemClick:function(h){},Disable:function(h){this.setDisabled(h)}})})},"tm1web/websheet/MobileScrollHandler":function(){define(["dojo/_base/declare","../mobile/ScrollHandler"],function(l,m){return l(m,{_scroll:function(k,h){var f=this.dataGrid.leftScrollPane,c=this.dataGrid.topScrollPane;f.increaseScrollLeft?f.increaseScrollLeft(k):f.Panel.scrollLeft+=k;c.increaseScrollTop?
c.increaseScrollTop(h):c.Panel.scrollTop+=h}})})},"tm1web/share/BrowseAnnotationsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/data/ItemFileReadStore dojo/date/stamp dojox/grid/DataGrid dijit/Dialog dijit/form/Button ../utility/message-localizer ../widgets/AlertDialog ./Base ./service-loader!TM1PlanningService".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q){return l(p,{constructor:function(a,b,c,d){this._objectId=a;this._cell=b;
this._dataGrid=c;this._service=d;this._gridContainer=this._grid=this._dialog=null;this._initializeAddAnnoationDialog()},_initializeAddAnnoationDialog:function(){this._dialog=new d({title:n.get("BROWSE_COMMENTS_TITLE_STR")});h.add(this._dialog.domNode,"tm1WebBrowseAnnotationsDialog");this._addContent();this._addEvents()},_addContent:function(){this._gridContainer=f.create("div",{className:"tm1WebAnotationGridContainer"});f.place(this._gridContainer,this._dialog.containerNode);this._addButtons()},_addButtons:function(){var a=
document.createElement("div");f.place(a,this._dialog.containerNode);h.add(a,"tm1webDialogButtons");this._createButton(n.get("CANCEL_STR"),a,this.close)},_createButton:function(b,c,d){b=new a({label:b,onClick:m.hitch(this,d)});h.add(b.domNode,"tm1webButton");f.place(b.domNode,c);return b},_addEvents:function(){this.own(k.after(this._dialog,"onHide",m.hitch(this,"destroy")))},show:function(){var a=this._cell.cellInfo;window.appId&&window.nodeId?q.getCellAnnotations(appId,nodeId,nodeViewIndex,this._objectId,
a.rowIndex,a.colIndex,{callback:this._onGetAnnotations,scope:this}):this._dataGrid.model?this._dataGrid.model.getCellAnnotations(a.rowIndex,a.colIndex).then(m.hitch(this,this._onGetAnnotations)).otherwise(function(a){g.show({message:n.get("SRV_ERR_STR")})}):this._service.getCellAnnotations(this._objectId,a.rowIndex,a.colIndex,{callback:this._onGetAnnotations,scope:this})},_onGetAnnotations:function(a){this._grid=this._createDataGrid(a);this._dialog.show().then(m.hitch(this,this._grid.startup))},_createDataStore:function(a){for(var b=
a.length,d=Array(b),f=0;f<b;f++){var g=a[f],h=e.fromISOString(g.created).toLocaleString();d[f]={comment:this._escapeComment(g.comment),creator:g.creator,created:h}}return new c({data:{items:d}})},_escapeComment:function(a){return a.replace(/\\n/g,"\n")},_createDataGrid:function(a){var c=n.get("COMMENT_STR"),d=n.get("USER_STR"),e=n.get("DATE_STR"),c=[{field:"comment",name:c,width:"300px"},{field:"creator",name:d,width:"200px"},{field:"created",name:e,width:"auto"}];a=this._createDataStore(a);a=new b({structure:c,
clientSort:!0,query:{comment:"*",creator:"*",created:"*"},store:a,selectionMode:"none"});h.add(a.domNode,"tm1webAnnotationGrid");f.place(a.domNode,this._gridContainer);return a},close:function(){this._dialog.hide()},destroy:function(){this.inherited(arguments);this._grid.destroyRecursive();this._dialog.destroyRecursive();delete this._cell;delete this._dialog;delete this._gridContainer;delete this._objectId}})})},"tm1web/websheet/controls/ActiveXComboBoxControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/aspect dojo/dom-construct dojo/dom-class dojo/dom-style dojo/store/Memory dijit/form/ComboBox ./LinkedControlBase ../../share/service-loader!WebSheetService".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g){return l(n,{constructor:function(a,b,c){},newControl:function(){var b=[];k.forEach(this.controlInfo.values,function(a,c){b[c]={id:a,name:a}});var c=new d({data:b});this.controlWidget=new a({value:this.controlInfo.selectedValue,store:c,onChange:m.hitch(this,"_selectNewValue")});this.controlWidget.startup();this._applyStyles();this.own(h(this.controlWidget,"keydown, keyup, keypress",function(a){a.stopPropagation()}));this.controlWidget._setDisabledAttr(!this.controlInfo.enabled);
return this.controlWidget.domNode},_applyStyles:function(){var a=m.hitch(this,function(){e.add(this.controlWidget.dropDown.domNode,this.controlInfo.styleId+" tm1webActiveXComboBox")});f.after(this.controlWidget,"loadDropDown",a,!0);f.after(this.controlWidget,"_startSearchFromInput",a,!0);this.controlInfo.styleId&&(e.add(this.controlWidget.domNode,this.controlInfo.styleId),e.add(this.controlWidget.textbox.parentNode,this.controlInfo.styleId),e.add(this.controlWidget.textbox,"tm1webTextBox"));b.set(this.controlWidget._buttonNode,
{height:"100%"});b.set(this.controlWidget.textbox,{height:"100%"})},_selectNewValue:function(){var a=this.controlWidget.getValue();g.setComboBoxSelectedValue(this.objectId,this.controlInfo.id,a,{callback:this.recalculate,scope:this})}})})},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(l,m){return m})},"dijit/layout/utils":function(){define("dojo/_base/array dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang ../main".split(" "),function(l,m,k,h,f,c){function e(a){return a.substring(0,
1).toUpperCase()+a.substring(1)}function b(a,b){var c=a.resize?a.resize(b):k.setMarginBox(a.domNode,b);c?f.mixin(a,c):(f.mixin(a,k.getMarginBox(a.domNode)),f.mixin(a,b))}var d={marginBox2contentBox:function(a,b){var c=h.getComputedStyle(a),d=k.getMarginExtents(a,c),e=k.getPadBorderExtents(a,c);return{l:h.toPixelValue(a,c.paddingLeft),t:h.toPixelValue(a,c.paddingTop),w:b.w-(d.w+e.w),h:b.h-(d.h+e.h)}},layoutChildren:function(a,c,d,h,k){c=f.mixin({},c);m.add(a,"dijitLayoutContainer");d=l.filter(d,function(a){return"center"!=
a.region&&"client"!=a.layoutAlign}).concat(l.filter(d,function(a){return"center"==a.region||"client"==a.layoutAlign}));l.forEach(d,function(a){var d=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+a.id);var g=d.style;g.left=c.l+"px";g.top=c.t+"px";g.position="absolute";m.add(d,"dijitAlign"+e(f));d={};h&&h==a.id&&(d["top"==a.region||"bottom"==a.region?"h":"w"]=k);"leading"==f&&(f=a.isLeftToRight()?"left":"right");"trailing"==f&&(f=a.isLeftToRight()?"right":"left");"top"==
f||"bottom"==f?(d.w=c.w,b(a,d),c.h-=a.h,"top"==f?c.t+=a.h:g.top=c.t+c.h+"px"):"left"==f||"right"==f?(d.h=c.h,b(a,d),c.w-=a.w,"left"==f?c.l+=a.w:g.left=c.l+c.w+"px"):"client"!=f&&"center"!=f||b(a,c)})}};f.setObject("layout.utils",d,c);return d})},"dojo/has":function(){define(["require","module"],function(l,m){var k=l.has||function(){};if(!k("dojo-has-api")){var h="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,
f=function(){return this}(),c=h&&document,e=c&&c.createElement("DiV"),b=m.config&&m.config()||{},k=function(d){return"function"==typeof b[d]?b[d]=b[d](f,c,e):b[d]};k.cache=b;k.add=function(c,a,e,f){("undefined"==typeof b[c]||f)&&(b[c]=a);return e&&k(c)}}k.add("dom-addeventlistener",!!document.addEventListener);k.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);k.add("touch-events","ontouchstart"in document);k.add("pointer-events",
"onpointerdown"in document);k.add("MSPointer","msMaxTouchPoints"in navigator);k.add("device-width",screen.availWidth||innerWidth);h=document.createElement("form");k.add("dom-attributes-explicit",0==h.attributes.length);k.add("dom-attributes-specified-flag",0<h.attributes.length&&40>h.attributes.length);k.clearElement=function(b){b.innerHTML="";return b};k.normalize=function(b,a){var c=b.match(/[\?:]|[^:\?]*/g),e=0,f=function(a){var b=c[e++];if(":"==b)return 0;if("?"==c[e++]){if(!a&&k(b))return f();
f(!0);return f(a)}return b||0};return(b=f())&&a(b)};k.load=function(b,a,c){b?a([b],c):c()};return k})},"dijit/form/nls/ComboBox":function(){define({root:{previousMessage:"Previous choices",nextMessage:"More choices"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dijit/layout/_ScrollingTabControllerButton":function(){define(["dojo/_base/declare",
"../form/Button","./_ScrollingTabControllerButtonMixin"],function(l,m,k){return l("dijit.layout._ScrollingTabControllerButton",[m,k])})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(l,m,k,h){h.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return k("dijit._FocusMixin",null,{_focusManager:l})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(l,m,k,h,f,c,e,b){var d;return d=l("dijit.form.ValidationTextBox",f,{templateString:e,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=d.prototype[a]&&(m.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",
a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return(new RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$")).test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:a;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b=
"",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),e=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&e,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=
!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?c.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):c.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=k.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&
this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+=
"(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=h.getLocalization("dijit.form","validate",this.lang)||b;this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",
a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){c.hide(this.domNode);this.inherited(arguments)}})})},"dojo/errors/CancelError":function(){define(["./create"],function(l){return l("CancelError",null,null,{dojoType:"cancel"})})},"tm1web/workbook/celledit/validation-checker":function(){define("../../share/AlertType ../../widgets/ErrorAlert ../../widgets/InfoAlert ../../widgets/WarningAlert ../../utility/date ../../utility/message-localizer ../../utility/number ../../utility/date!".split(" "),
function(l,m,k,h,f,c,e){return{check:function(b,d,a){var n=d.alertType,g=d.errorTitle,p=d.errorMessage,q=d.validationType,r=d.operatorType,s,t,u;null==g&&(g="");if(null==p||""==p)p=c.get("INVALID_VALUE");n=n==l.WARNING?c.get("WARNING_STR"):n==l.INFORMATION?c.get("INFORMATION_STR"):n==l.STOP?c.get("STOP_STR"):"";g=""!=g?n+": "+g:n;null!=d.firstValues&&0<d.firstValues.length&&(s=d.firstValues[0],t=d.firstValues[0]);null!=d.secondValues&&0<d.secondValues.length&&(u=d.secondValues[0]);if(null==q||"ANY_VALUE"==
q||"CUSTOM"==q||"LIST"==q)return!0;if("WHOLE_NUMBER"==q&&null!=r){if(b=e.parse(b),!e.isNaN(b)&&(t=parseFloat(t),u=parseFloat(u),s=parseFloat(s),q=parseInt(b,10),q==b&&this._evaluateValue(s,u,t,q,r)))return!0}else if("DECIMAL"==q&&void 0!=r&&null!=r){if(b=e.parse(b),!e.isNaN(b)&&(u=parseFloat(u),t=parseFloat(t),s=parseFloat(s),this._evaluateValue(s,u,t,b,r)))return!0}else if(("DATE"==q||"TIME"==q)&&void 0!=r&&null!=r){if(b=f.parseToSerial(b,a.cellInfo.format),null!=b&&(e.isNaN(parseFloat(t))&&(t=this._extractDate(t),
t=f.getExcelSerialFromJSDate(t)),e.isNaN(parseFloat(u))&&(u=this._extractDate(u),u=f.getExcelSerialFromJSDate(u)),e.isNaN(parseFloat(s))&&(s=this._extractDate(s),s=f.getExcelSerialFromJSDate(s)),this._evaluateValue(s,u,t,b,r,q)))return!0}else if("TEXT_LENGTH"==q&&void 0!=r&&null!=r&&(len=b.length,u=parseInt(u,10),t=parseInt(t,10),s=parseInt(s,10),this._evaluateValue(s,u,t,len,r)))return!0;n==l.WARNING?h.show({message:p,title:g}):n==l.INFORMATION?k.show({message:p,title:g}):m.show({message:p,title:g});
return!1},_evaluateValue:function(b,c,a,e,f){if("BETWEEN"==f){if(null!=a&&a<=e&&e<=c)return!0}else if("NOT_BETWEEN"==f){if(null!=a&&(e>c||e<a))return!0}else if("EQUAL"==f){if(null!=b&&e==b)return!0}else if("NOT_EQUAL"==f){if(null!=b&&e!=b)return!0}else if("GREATER_THAN"==f){if(null!=b&&e>b)return!0}else if("LESS_THAN"==f){if(null!=b&&e<b)return!0}else if("GREATER_OR_EQUAL"==f){if(null!=b&&e>=b)return!0}else if("LESS_OR_EQUAL"==f&&null!=b&&e<=b)return!0;return!1},_extractDate:function(b){b instanceof
Date||(null!=b?(b=b.split(" "),b=8==b.length&&"$TM1Date"==b[0]?new Date(b[1],b[2]-1,b[3],b[4],b[5],b[6],b[7]):new Date):b=new Date);return b}}})},"tm1web/websheet/CssLoader":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/sniff dojo/Deferred dojo/dom-construct ../utility/message-localizer ../utility/css-loader ../cubeview/CubeViewBase ../share/TM1Utility ../widgets/ErrorAlert ../share/service-loader!WebSheetService".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g){return l(d,
{constructor:function(a){this._objectId=a},_getCssFilePath:function(a){g.getCssFilePath(this._objectId,{callback:this._onGetCssFilePath,errorHandler:function(b,c){n.show({message:e.get("WORKBOOK_OPEN_FAILED_STR"),title:e.get("WORKBOOK_FAILED_TITLE_STR")});a.cancel()},arg:a,scope:this})},_onGetCssFilePath:function(b,c){if(null!=b){if(h("trident")||h("edge")){var d=b.split("/"),f=d[d.length-1].split(".");f[0]+="_ie";f=f.join(".");d[d.length-1]=f;b=d.join("/")}this._loadStyleSheet(a.tm1WebRoot+"excelsheet/"+
b+"?tm1web.preventCache\x3d"+(new Date).valueOf(),c)}else n.show({message:e.get("ACTION_BUTTON_NAVIGATION_ERROR"),title:e.get("WORKBOOK_FAILED_TITLE_STR")}),c.cancel()},load:function(){var a=new f;this._getCssFilePath(a);return a.promise},_loadStyleSheet:function(a,c){b.load(a).then(m.hitch(this,function(a){this.own(a);c.resolve()})).otherwise(function(a){c.reject(a)})}})})},"dojo/_base/url":function(){define(["./kernel"],function(l){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,h=function(){for(var f=arguments,c=[f[0]],e=1;e<f.length;e++)if(f[e]){var b=new h(f[e]+""),c=new h(c[0]+"");if(""==b.path&&!b.scheme&&!b.authority&&!b.query)null!=b.fragment&&(c.fragment=b.fragment),b=c;else if(!b.scheme&&(b.scheme=c.scheme,!b.authority&&(b.authority=c.authority,"/"!=b.path.charAt(0)))){for(var c=(c.path.substring(0,c.path.lastIndexOf("/")+1)+b.path).split("/"),d=0;d<c.length;d++)"."==c[d]?d==c.length-1?c[d]="":(c.splice(d,
1),d--):0<d&&(1!=d||""!=c[0])&&".."==c[d]&&".."!=c[d-1]&&(d==c.length-1?(c.splice(d,1),c[d-1]=""):(c.splice(d-1,2),d-=2));b.path=c.join("/")}c=[];b.scheme&&c.push(b.scheme,":");b.authority&&c.push("//",b.authority);c.push(b.path);b.query&&c.push("?",b.query);b.fragment&&c.push("#",b.fragment)}this.uri=c.join("");f=this.uri.match(m);this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);null!=this.authority&&
(f=this.authority.match(k),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null)};h.prototype.toString=function(){return this.uri};return l._Url=h})},"tm1web/utility/html":function(){define(["dojox/html/entities"],function(l){var m=[["'","#39"]];return{encodeAttribute:function(k){k=l.encode(k);return l.encode(k,m)},encodeNewLines:function(k){return k.replace(/\r?\n/g,"\x3cbr/\x3e")}}})},"dojox/collections/_base":function(){define(["../main","dojo/_base/kernel","dojo/_base/lang",
"dojo/_base/array"],function(l,m,k,h){l=k.getObject("collections",!0,l);l.DictionaryEntry=function(f,c){this.key=f;this.value=c;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};l.Iterator=function(f){var c=0;this.element=f[c]||null;this.atEnd=function(){return c>=f.length};this.get=function(){return this.atEnd()?null:this.element=f[c++]};this.map=function(c,b){return h.map(f,c,b)};this.reset=function(){c=0;this.element=f[c]}};l.DictionaryIterator=function(f){var c=
[],e={},b;for(b in f)e[b]||c.push(f[b]);var d=0;this.element=c[d]||null;this.atEnd=function(){return d>=c.length};this.get=function(){return this.atEnd()?null:this.element=c[d++]};this.map=function(a,b){return h.map(c,a,b)};this.reset=function(){d=0;this.element=c[d]}};return l})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(l,m,k,h,f,c){var e=m("dijit.form._ComboBoxMenuMixin"+
(h("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=f.getLocalization("dijit.form","ComboBox",this.lang)||c},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(b){this._set("value",b);this.onChange(b)},onClick:function(b){if(b==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);
else if(b==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(b)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(b,c){var a=this._createMenuItem(),e=c(b);e.html?a.innerHTML=e.label:a.appendChild(a.ownerDocument.createTextNode(e.label));""==a.innerHTML&&(a.innerHTML="\x26#160;");return a},createOptions:function(b,c,a){this.items=b;this.previousButton.style.display=0==c.start?"none":"";k.set(this.previousButton,
"id",this.id+"_prev");l.forEach(b,function(b,c){var d=this._createOption(b,a);d.setAttribute("item",c);k.set(d,"id",this.id+c);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var e=!1;b.total&&!b.total.then&&-1!=b.total?c.start+c.count<b.total?e=!0:c.start+c.count>b.total&&c.count==b.length&&(e=!0):c.count==b.length&&(e=!0);this.nextButton.style.display=e?"":"none";k.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var b=this.containerNode;2<b.childNodes.length;)b.removeChild(b.childNodes[b.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});h("dojo-bidi")&&(e=m("dijit.form._ComboBoxMenuMixin",
e,{_createOption:function(){var b=this.inherited(arguments);this.applyTextDir(b);return b}}));return e})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w,v,z,A,y,B,E,G,I,N,O,H,K,P,D,C){function F(a){return s.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var S=h("dijit._TreeNode",[B,E,G,I,N],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:H,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(b){var c=Math.max(b,0)*this.tree._nodePixelIndent+"px";a.set(this.domNode,"backgroundPosition",c+" 0px");a.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",c);l.forEach(this.getChildren(),function(a){a.set("indent",b+1)});this._set("indent",b)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,c=b.model;b._v10Compat&&a===c.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(c,d,e){var f="_"+d+"Class";d+="Node";var g=this[f];this[f]=this.tree["get"+e+"Class"](c,this.isExpanded);b.replace(this[d],this[f]||"",g||"");a.set(this[d],this.tree["get"+e+"Style"](c,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;b.toggle(this.domNode,"dijitTreeIsRoot",a);b.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var c=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;b.replace(this.expandoNode,c[a],c);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return F(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");b.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=g.wipeIn({node:this.containerNode,duration:y.defaultDuration}),c=this._expandDeferred=new f(function(){a.stop()});m.after(a,"onEnd",function(){c.resolve(!0)},!0);a.play();return F(c)},collapse:function(){if(this._collapseDeferred)return F(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");b.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=g.wipeOut({node:this.containerNode,duration:y.defaultDuration}),c=this._collapseDeferred=new f(function(){a.stop()});m.after(a,"onEnd",function(){c.resolve(!0)},
!0);a.play();return F(c)},indent:0,setChildItems:function(a){var b=this.tree,d=b.model,f=[],g=b.focusedChild,h=this.getChildren();l.forEach(h,function(a){G.prototype.removeChild.call(this,a)},this);this.defer(function(){l.forEach(h,function(a){if(!a._destroyed&&!a.getParent()){var c=function(a){var e=d.getIdentity(a.item),f=b._itemNodesMap[e];1==f.length?delete b._itemNodesMap[e]:(e=l.indexOf(f,a),-1!=e&&f.splice(e,1));l.forEach(a.getChildren(),c)};b.dndController.removeTreeNode(a);c(a);if(b.persist){var f=
l.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),h;for(h in b._openedNodes)h.substr(0,f.length)==f&&delete b._openedNodes[h];b._saveExpandedNodes()}b.lastFocusedChild&&!e.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;g&&!e.isDescendant(g,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,l.forEach(a,function(a){var c=d.getIdentity(a),e=b._itemNodesMap[c],g;if(e)for(var h=0;h<e.length;h++)if(e[h]&&
!e[h].getParent()){g=e[h];g.set("indent",this.indent+1);break}g||(g=this.tree._createTreeNode({item:a,tree:b,isExpandable:d.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),e?e.push(g):b._itemNodesMap[c]=[g]);this.addChild(g);(this.tree.autoExpand||this.tree._state(g))&&f.push(b._expandNode(g))},this),l.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=c(f);this.tree._startPaint(a);return F(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,this.collapse());l.forEach(b,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");b.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){z.focus(this.focusNode)}});p("dojo-bidi")&&S.extend({_setTextDirAttr:function(a){!a||this.textDir==a&&this._created||(this._set("textDir",a),this.applyTextDir(this.labelNode),l.forEach(this.getChildren(),function(b){b.set("textDir",a)},this))}});var Q=h("dijit.Tree",[B,O,E,N],{baseClass:"dijitTree",
store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:K,persist:!1,autoExpand:!1,dndController:C,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,
b){u.publish(this.id,s.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new f;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(t(this.containerNode,t.selector(".dijitTreeNode",x.enter),function(b){a._onNodeMouseEnter(A.byNode(this),
b)}),t(this.containerNode,t.selector(".dijitTreeNode",x.leave),function(b){a._onNodeMouseLeave(A.byNode(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow",v.press),function(b){a._onNodePress(A.getEnclosingWidget(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow",v),function(b){a._onClick(A.getEnclosingWidget(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(A.getEnclosingWidget(this),b)}));this.model||this._store2model();this.own(m.after(this.model,
"onChange",s.hitch(this,"_onItemChange"),!0),m.after(this.model,"onChildrenChange",s.hitch(this,"_onItemChildrenChange"),!0),m.after(this.model,"onDelete",s.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){s.isString(this.dndController)&&(this.dndController=s.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);this.dndController=new this.dndController(this,b)}this._load();
this.onLoadDeferred=F(this.pendingCommandsPromise);this.onLoadDeferred.then(s.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;q.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=s.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=s.hitch(this,function(a,b,c){this.getItemChildren(this._v10Compat&&
a===this.model.root?null:a,b,c)}));this.model=new D(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(s.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display=
"none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),b.labelNode.setAttribute("role","presentation"),
b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(s.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),
s.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=s.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(s.hitch(this,function(){var c=l.map(a,function(a){return!a||s.isString(a)?a:b.model.getIdentity(a)}),d=[];l.forEach(c,function(a){d=
d.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",d)}))},_setPathAttr:function(a){return a.length?F(this.set("paths",[a]).then(function(a){return a[0]})):F(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,c){var e=a.shift(),f=l.filter(c,function(a){return a.getIdentity()==e})[0];if(f)return a.length?d._expandNode(f).then(function(){return b(a,f.getChildren())}):f;throw new Q.PathError("Could not expand path at "+e);}var d=this;return F(this.pendingCommandsPromise=
this.pendingCommandsPromise.always(function(){return c(l.map(a,function(a){a=l.map(a,function(a){return s.isString(a)?a:d.model.getIdentity(a)});if(a.length)return b(a,[d.rootNode]);throw new Q.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(d){return b._expandNode(d).then(function(){var b=l.filter(d.getChildren()||
[],function(a){return a.isExpandable});return c(l.map(b,a))})}var b=this;return F(a(this.rootNode))},collapseAll:function(){function a(d){var e=l.filter(d.getChildren()||[],function(a){return a.isExpandable}),e=c(l.map(e,a));return!d.isExpanded||d==b.rootNode&&!b.showRoot?e:e.then(function(){return b._collapseNode(d)})}var b=this;return F(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||
this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var c=this._getNext(b);c&&c.isTreeNode&&this.focusNode(c)},_onUpArrow:function(a,b){var c=b.getPreviousSibling();if(c)for(b=c;b.isExpandable&&b.isExpanded&&b.hasChildren();)c=b.getChildren(),b=c[c.length-1];else if(c=b.getParent(),
this.showRoot||c!==this.rootNode)b=c;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var c=b.getParent();c&&c.isTreeNode&&(this.showRoot||c!==this.rootNode)&&this.focusNode(c)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?
this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return e.isDescendant(a,b.expandoNode)||e.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,
b){this.focusNode(a)},__click:function(a,b,c,d){var e=this.isExpandoNode(b.target,a);a.isExpandable&&(c||e)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[d](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):
this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){q.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){q.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;
if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,c=a.item,d=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new f,b.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(d,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));
b=a._loadDeferred.then(s.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var c=this.getLabel(a),d=this.getTooltip(a);l.forEach(b,function(b){b.set({item:a,label:c,tooltip:d});b._updateItemClasses(a)})}},
_onItemChildrenChange:function(a,b){var c=this.model.getIdentity(a);(c=this._itemNodesMap[c])&&l.forEach(c,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(l.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!e.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!e.isDescendant(this.focusedChild,this.domNode)&&
this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=k(this.cookieName);a&&l.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var c=l.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[c];b?this._openedNodes[c]=!0:delete this._openedNodes[c];this._saveExpandedNodes()},
_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);k(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!s.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&d.setMarginBox(this.domNode,
a);this._nodePixelIndent=d.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(s.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=s.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&!this._adjustWidthsTimer&&
this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});w(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new S(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});p("dojo-bidi")&&Q.extend({_setTextDirAttr:function(a){a&&
this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});Q.PathError=n("TreePathError");Q._TreeNode=S;return Q})},"dojo/selector/_loader":function(){define(["../has","require"],function(l,m){var k=document.createElement("div");l.add("dom-qsa2.1",!!k.querySelectorAll);l.add("dom-qsa3",function(){try{return k.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==k.querySelectorAll(".TEST:empty").length}catch(f){}});var h;return{load:function(f,c,e,b){b=m;f="default"==f?l("config-selectorEngine")||
"css3":f;f="css2"==f||"lite"==f?"./lite":"css2.1"==f?l("dom-qsa2.1")?"./lite":"./acme":"css3"==f?l("dom-qsa3")?"./lite":"./acme":"acme"==f?"./acme":(b=c)&&f;if("?"==f.charAt(f.length-1)){f=f.substring(0,f.length-1);var d=!0}if(d&&(l("dom-compliant-qsa")||h))return e(h);b([f],function(a){"./lite"!=f&&(h=a);e(a)})}}})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),
function(l,m,k,h,f,c,e,b,d,a){l=m("dijit.form.Button"+(h("dojo-bidi")?"_NoBidi":""),[b,d],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){!a||this.params&&"label"in this.params||!(a=c.trim(a.innerHTML))||(this.label=a)},_setShowLabelAttr:function(a){this.containerNode&&k.toggle(this.containerNode,
"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=c.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});h("dojo-bidi")&&(l=m("dijit.form.Button",l,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,
this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return l})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(l,m,k){var h=window,f={addOnWindowUnload:function(c,e){l.windowUnloaded||k(h,"unload",l.windowUnloaded=function(){});k(h,"unload",m.hitch(c,e))},addOnUnload:function(c,e){k(h,"beforeunload",m.hitch(c,e))}};l.addOnWindowUnload=f.addOnWindowUnload;l.addOnUnload=f.addOnUnload;
return f})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(l,m,k,h,f,c,e){k.add("textarea-needs-help-shrinking",function(){var b=c.body(),d=m.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",
WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},b,"last"),a=d.scrollHeight>=d.clientHeight;b.removeChild(d);return a});return l("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;b.style.overflowY="hidden";this.own(f(b,"focus, resize",h.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(e.on("resize",h.hitch(this,"_resizeLater")));this._resizeLater()},
_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.rows=(b.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function b(){var a=!1;""===c.value&&(c.value=" ",a=!0);var b=c.scrollHeight;a&&(c.value="");return b}var c=this.textbox;"hidden"==c.style.overflowY&&(c.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(b()||c.offsetHeight){var a=b()+Math.max(c.offsetHeight-c.clientHeight,0),
e=a+"px";e!=c.style.height&&(c.style.height=e,c.rows=1);if(k("textarea-needs-help-shrinking")){var f=b(),h=c.style.minHeight,l=4,m=c.scrollTop;c.style.minHeight=e;for(c.style.height="auto";0<a;){c.style.minHeight=Math.max(a-l,4)+"px";e=b();f-=e;a-=f;if(f<l)break;f=e;l<<=1}c.style.height=a+"px";c.style.minHeight=h;c.scrollTop=m}c.style.overflowY=b()>c.clientHeight?"auto":"hidden";"hidden"==c.style.overflowY&&(c.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"tm1web/websheet/controls/ComboBoxControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-construct ./LinkedControlBase ../../share/service-loader!WebSheetService".split(" "),
function(l,m,k,h,f,c,e){return l(c,{constructor:function(b,c,a){},newControl:function(){var b=this.controlInfo,c=f.create("select");k.forEach(this.controlInfo.values,function(a,e){var h=f.create("option",{innerHTML:a},c);e==b.selectedIndex&&(h.selected=!0)});if(-1==this.controlInfo.selectedIndex){var a=f.create("option",{disabled:!0,selected:!0,hidden:!0,innerHTML:""});c.insertBefore(a,c.firstChild)}this.own(h(c,"change",m.hitch(this,"_selectNewIndex")));return c},_selectNewIndex:function(){var b=
this.controlNode.selectedIndex;this.domNode.length>this.controlInfo.values.length&&b--;e.setComboBoxSelectedIndex(this.objectId,this.controlInfo.id,b,{callback:this.recalculate,scope:this})}})})},"tm1web/websheet/TopScrollingPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dojo/sniff ../cubeview/CubeViewBase ./Utility".split(" "),function(l,m,k,h,f,c,e,b,d,a,n){return l(a,{constructor:function(a,b){this._objectId=
a;this._index=b;this._simulatingPanel=this.Panel=null;this._initializeTopScrollingPane()},_initializeTopScrollingPane:function(){this.createContainer();this._attachEvent()},_attachEvent:function(){f(this.Panel,"scroll",m.hitch(this,"_onScroll"))},_onScroll:function(a){this._onScrollEx(a)},_onScrollEx:function(a){k.publish(n.createTopicId(this._objectId,this._index,"TOPSCROLLLING"),this.Panel.scrollTop)},createContainer:function(){this.Panel=this.CreatePanel()},create:function(a,b){this.resize(a,b);
c.add(this.Panel,"tm1webTopScrollingPanel");this._createSimulatingPanel(a.topHeight,1);return this.Panel},resize:function(a,c){b.set(this.Panel,{width:c-a.leftPanelWidth+"px",height:a.topPanelHeight+"px"});d("ie")&&this._onScrollEx(null)},_createSimulatingPanel:function(a,c){var d=this.CreatePanel();b.set(d,{width:c+"px",height:a+"px"});e.place(d,this.Panel);this._simulatingPanel=d}})})},"tm1web/websheet/spreading/RelativeSpreadControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/string ../../utility/message-localizer ./SpreadDialogCommon".split(" "),
function(l,m,k,h,f,c,e){return l(e,{constructor:function(){this._RefCellValueTextBox=this._CellValueTextBox=this._RefCellTextArea=this._ReferenceCellContainer=this._ActionContainer=this._ButtonContainer=this._ContentContainer=null;this._ActionValue="";this._InitializeRelativeSpreadControl()},_InitializeRelativeSpreadControl:function(){this._DoCreate()},GetContentContainer:function(){return this._ContentContainer},SetRefCellVal:function(b){this._IsPercentage?this._RefCellValueTextBox.value=b:this._CellValueTextBox.value=
b},SetRefStr:function(b){this._RefCellTextArea.value=b},_DoCreate:function(){this._ContentContainer=this.CreatePanel("","tm1webRelativeSpreadControl_container");this._ValueContainer=this.CreatePanel("","tm1webRelativeSpreadControl_valueContainer");this._ActionContainer=this.CreatePanel("","tm1webRelativeSpreadControl_actionContainer");this._ReferenceCellContainer=this.CreatePanel("","tm1webRelativeSpreadControl_referenceCellContainer");this._CreateLayout()},_CreateLayout:function(){if(this._IsPercentage){var b=
this._CreatePercentageValueContent(this._ContentContainer,"% Adjustment","tm1webRelativeSpreadControl_percentageValueLabel","","tm1webRelativeSpreadControl_percentageValue","Reference Cell Value","tm1webRelativeSpreadControl_percentageCellValueLabel","","tm1webRelativeSpreadControl_percentageCellValue");this._RefCellValueTextBox=b.refCellTextbox;this._CellValueTextBox=b.valueTextbox}else this._CellValueTextBox=this._CreateValueContent(this._ContentContainer,c.get("SPREAD_LABEL_RELATIVE_VALUE"),"tm1webRelativeSpreadControl_valueLabel",
this._CellValue,"tm1webRelativeSpreadControl_value");this._CreateActionContent(this._ActionContainer);h.place(this._ReferenceCellContainer,this._ContentContainer);h.place(this._ActionContainer,this._ContentContainer);this._CreateReferenceCellContent()},_CreateReferenceCellContent:function(){this._RefCellTextArea=h.create("TEXTAREA");this._RefCellTextArea.value="";k.add(this._RefCellTextArea,"tm1webRelativeSpreadControlTextarea");this._RefCellTextArea.setAttribute("readonly","true");h.place(this._RefCellTextArea,
this._ReferenceCellContainer)},_OnRadioButtonClick:function(b,c){b&&(this._ActionValue=c)},GetControlString:function(){var b="",b=this._IsPercentage?"R%":"RP",b=b+this._ActionValue,c=this._CellValueTextBox.value;return null==c||""==f.trim(c)?null:b+=m.trim(c)}})})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r){var s=m("dijit.CalendarLite",[p,q],{templateString:r,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',
weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);
b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=c.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),
a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),e=new this.dateClassObj,f=k.getFirstDayOfWeek(this.lang);f>b&&(f-=7);if(!this.summary){var g=this.dateLocaleModule.getNames("months",
"wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",g[a.getMonth()])}this._date2cell={};l.forEach(this.dateCells,function(g,h){var k=h+f,l=new this.dateClassObj(a),m="dijitCalendar",n=0;k<b?(k=d-b+k+1,n=-1,m+="Previous"):k>=b+c?(k=k-b-c+1,n=1,m+="Next"):(k=k-b+1,m+="Current");n&&(l=this.dateModule.add(l,"month",n));l.setDate(k);this.dateModule.compare(l,e,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(l,this.lang)?(m="dijitCalendarDisabledDate "+m,g.setAttribute("aria-disabled",
"true")):(m="dijitCalendarEnabledDate "+m,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(n=this.getClassForDate(l,this.lang))&&(m=n+" "+m);g.className=m+"Month dijitCalendarDateTemplate";m=l.valueOf();this._date2cell[m]=g;g.dijitDateValue=m;this._setText(this.dateLabels[h],l.getDateLocalized?l.getDateLocalized(this.lang):l.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=
a.getFullYear()-1,c=new this.dateClassObj;l.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?d.getObject(a.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?d.getObject(a.datePackage+".locale",!1):f},_createMonthWidget:function(){return s._MonthWidget({id:this.id+
"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=k.getFirstDayOfWeek(this.lang);this.dayCellsHtml=g.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=g.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);
e.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var b=d.hitch(this,function(b,c,e){this[b].dojoClick=!0;return a(this[b],"click",d.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,e))}))});this.own(b("incrementMonth","month",1),b("decrementMonth","month",-1),
b("nextYearLabelNode","year",1),b("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,d=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==this.dateModule.difference(c,a,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();d&&d!=c&&(n("webkit")?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex"))},
focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!b.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function c(a,d){b.toggle(d,"dijitCalendarSelectedDate",a);d.setAttribute("aria-selected",a?"true":
"false")}l.forEach(this._selectedCells||[],d.partial(c,!1));this._selectedCells=l.filter(l.map(a,this._getNodeByDate,this),function(a){return a});l.forEach(this._selectedCells,d.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});s._MonthWidget=m("dijit.CalendarLite._MonthWidget",p,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==n("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+l.map(b,function(a){return"\x3cdiv\x3e"+
a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});return s})},"tm1web/websheet/controls/SheetControlBuilder":function(){define("dojo/_base/declare dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojox/uuid/generateRandomUuid ../../share/Base ./ImageControl ./ActionControl ./ComboBoxControl ./ActiveXComboBoxControl ./CheckBoxControl ./TextBoxControl ./LabelControl ./ListBoxControl ./OptionButtonControl ../Utility".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x){return l(d,{constructor:function(a,b){this._panel=a;this._objectId=b;this._controls=[];this._initializeSheetControl()},_initializeSheetControl:function(){},create:function(a){this._createEx(a,function(){})},_createEx:function(a,c){if(a&&0<a.length){var d=this,g=this._panel.offsetWidth,l=this._panel.offsetHeight;m.forEach(a,function(a){d._convertControlMeasure(a);c(a);var m=b(),n=f.create("div",{"class":"tm1webSheetControlContainer"},d._panel),p=d._createImageMap(a,
m),q=d._generateControl(a,n);if(q){var r=q.create();d._controls.push({container:n,control:a,widget:q});h.add(r,"tm1webSheetControl");q.isOverflowVisible()&&(n.style.overflow="visible");null!=p&&(k.set(r,"usemap","#chartMap"+m),h.add(p,"tm1webSheetControl"),f.place(p,n));d._restoreControlScrollPosition(q,a);p=m=0;0<a.offsetTop&&(p=a.offsetTop);0<a.offsetLeft&&(m=a.offsetLeft);e.set(n,{top:p+"px",left:m+"px",zIndex:a.ZIndex+10});d._setContainerSize(n,a,g,l)}})}},_restoreControlScrollPosition:function(a,
b){b.scrollTop&&(a.controlNode.scrollTop=b.scrollTop)},_createImageMap:function(a,b){if(a.imageMap){var c=a.imageMap,d=null;if("Column"==c.type||"Bar"==c.type||"Waterfall"==c.type)d="rect";else if("Point"==c.type||"Radar"==c.type||"Area"==c.type)d="circle";else return null;map=f.create("map",{id:"chartMap",name:"chartMap"+b},null);for(var e=0;e<c.dataPoints.length;e++){var g=c.dataPoints[e],h=null;"rect"==d?h=g.left+","+g.top+","+g.right+","+g.bottom:"circle"==d&&(h=g.left+","+g.top+","+g.radius);
h=f.create("area",{id:"",coords:h,shape:d,title:g.value},map);null!=g.drillString&&(h.drillInfo={drillList:g.drillString,cellRow:g.cellRow,cellCol:g.cellCol})}return map}return null},_generateControl:function(b,c){var d;switch(b.type){case "Image":d=a;break;case "ActionButton":d=n;break;case "ComboBox":d=g;break;case "ActiveXComboBox":d=p;break;case "CheckBox":d=q;break;case "TextBox":d=r;break;case "Label":d=s;break;case "ListBox":d=t;break;case "OptionButton":d=u;break;default:return null}return new d(b,
this._objectId,c)},_deleteControls:function(){m.forEach(this._controls,function(a){a.widget.destroy();f.destroy(a.container)});this._controls=[]},refresh:function(a){this._deleteControls();this.create(a)},attach:function(a,b){this._resize();if(a&&0<a.length){var d=c.getMarginBox(b),e=this;this._createEx(a,function(a){e._adjustOffsetForControl(a,d)})}},_resize:function(){var a=this;if(0<this._controls.length){var b=this._panel.firstChild.offsetWidth,c=this._panel.firstChild.offsetHeight;m.forEach(this._controls,
function(d){a._setContainerSize(d.container,d.control,b,c);d.container.display="none"})}},_adjustOffsetForControl:function(a,b){a.offsetTop+=b.t;a.offsetLeft+=b.l},_convertControlMeasure:function(a){a.width/=x.RatePixelToPoint;a.height/=x.RatePixelToPoint;a.offsetTop/=x.RatePixelToPoint;a.offsetLeft/=x.RatePixelToPoint},_setContainerSize:function(a,b,c,d){this._setContainerHeight(a,b,d);this._setContainerWidth(a,b,c)},_setContainerHeight:function(a,b,c){var d=c,f=b.offsetTop+b.height;0>b.offsetTop?
f<c&&(d=f):d=f<c?b.height:c-b.offsetTop;e.set(a,{height:d+"px"})},_setContainerWidth:function(a,b,c){var d=c,f=b.offsetLeft+b.width;0>b.offsetLeft?f<c&&(d=f):d=f<c?b.width:c-b.offsetLeft;e.set(a,{width:d+"px"})}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s){function t(a){return eval("("+
a+")")}function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<w){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=w}return b}function x(a,b){var c=a.join();if(!v[c]){for(var d=[],e=0,f=a.length;e<f;e++){var g=a[e];d[d.length]=v[g]=v[g]||k.getObject(g)||~g.indexOf("/")&&(b?b(g):l(g))}e=d.shift();v[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return v[c]}new Date("X");var w=0;d.after(k,"extend",function(){w++},!0);var v=
{},z={_clearCache:function(){w++;v={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&f.length&&h.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){b=b||{};c=c||{};var d=(c.scope||m._scopeName)+"Type",e="data-"+(c.scope||m._scopeName)+"-",f=e+"type",g=e+"mixins",k=[];h.forEach(a,function(a){var c=d in b?b[d]:
a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(g),c=e?[c].concat(e.split(/\s*,\s*/)):[c];k.push({node:a,types:c})}});return this._instantiate(k,b,c)},_instantiate:function(b,c,d,e){function f(a){c._started||d.noStart||h.forEach(a,function(a){"function"!==typeof a.startup||a._started||a.startup()});return a}b=h.map(b,function(a){var b=a.ctor||x(a.types,d.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,c,d,
a.scripts,a.inherited)},this);return e?a(b).then(f):f(b)},construct:function(a,c,e,f,g,l){function s(a){S&&k.setObject(S,a);for(C=0;C<M.length;C++)d[M[C].advice||"after"](a,M[C].method,k.hitch(a,M[C].func),!0);for(C=0;C<R.length;C++)R[C].call(a);for(C=0;C<U.length;C++)a.watch(U[C].prop,U[C].func);for(C=0;C<V.length;C++)r(a,V[C].event,V[C].func);return a}var w=a&&a.prototype;f=f||{};var v={};f.defaults&&k.mixin(v,f.defaults);l&&k.mixin(v,l);var x;p("dom-attributes-explicit")?x=c.attributes:p("dom-attributes-specified-flag")?
x=h.filter(c.attributes,function(a){return a.specified}):(l=(/^input$|^img$/i.test(c.nodeName)?c:c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),x=h.map(l.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==c.nodeName&&"value"==a||"enctype"==b?c.getAttribute(b):c.getAttributeNode(b).value}}));var z=f.scope||m._scopeName;l="data-"+z+"-";var D={};"dojo"!==z&&(D[l+"props"]="data-dojo-props",D[l+"type"]=
"data-dojo-type",D[l+"mixins"]="data-dojo-mixins",D[z+"type"]="dojoType",D[l+"id"]="data-dojo-id");for(var C=0,F,z=[],S,Q;F=x[C++];){var L=F.name,J=L.toLowerCase();F=F.value;switch(D[J]||J){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":Q=F;break;case "data-dojo-id":case "jsid":S=F;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=F;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=F;break;case "class":v["class"]=
c.className;break;case "style":v.style=c.style&&c.style.cssText;break;default:if(L in w||(L=u(a)[J]||L),L in w)switch(typeof w[L]){case "string":v[L]=F;break;case "number":v[L]=F.length?Number(F):NaN;break;case "boolean":v[L]="false"!=F.toLowerCase();break;case "function":""===F||-1!=F.search(/[^\w\.]+/i)?v[L]=new Function(F):v[L]=k.getObject(F,!1)||new Function(F);z.push(L);break;default:J=w[L],v[L]=J&&"length"in J?F?F.split(/\s*,\s*/):[]:J instanceof Date?""==F?new Date(""):"now"==F?new Date:n.fromISOString(F):
J instanceof b?m.baseUrl+F:t(F)}else v[L]=F}}for(x=0;x<z.length;x++)D=z[x].toLowerCase(),c.removeAttribute(D),c[D]=null;if(Q)try{Q=t.call(f.propsThis,"{"+Q+"}"),k.mixin(v,Q)}catch(T){throw Error(T.toString()+" in data-dojo-props\x3d'"+Q+"'");}k.mixin(v,e);g||(g=a&&(a._noScript||w._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",c));var M=[],R=[],U=[],V=[];if(g)for(C=0;C<g.length;C++)D=g[C],c.removeChild(D),e=D.getAttribute(l+"event")||D.getAttribute("event"),f=D.getAttribute(l+"prop"),Q=D.getAttribute(l+
"method"),z=D.getAttribute(l+"advice"),x=D.getAttribute("type"),D=this._functionFromScript(D,l),e?"dojo/connect"==x?M.push({method:e,func:D}):"dojo/on"==x?V.push({event:e,func:D}):v[e]=D:"dojo/aspect"==x?M.push({method:Q,advice:z,func:D}):"dojo/watch"==x?U.push({prop:f,func:D}):R.push(D);a=(g=a.markupFactory||w.markupFactory)?g(v,c,a):new a(v,c);return a.then?a.then(s):s(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,
lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(q)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],e=[],f={},k=(b.scope||m._scopeName)+"Type",n="data-"+(b.scope||m._scopeName)+"-",p=n+"type",q=n+"textdir",n=n+"mixins",r=a.firstChild,s=b.inherited;if(!s){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},s={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,q)},u;for(u in s)s[u]||delete s[u]}for(var s={inherited:s},w,
v;;)if(r)if(1!=r.nodeType)r=r.nextSibling;else if(w&&"script"==r.nodeName.toLowerCase())(z=r.getAttribute("type"))&&/^dojo\/\w/i.test(z)&&w.push(r),r=r.nextSibling;else if(v)r=r.nextSibling;else{var z=r.getAttribute(p)||r.getAttribute(k);u=r.firstChild;if(z||u&&(3!=u.nodeType||u.nextSibling)){v=null;if(z){var J=r.getAttribute(n);w=J?[z].concat(J.split(/\s*,\s*/)):[z];try{v=x(w,b.contextRequire)}catch(T){}v||h.forEach(w,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,e[e.length]=a)});J=v&&!v.prototype._noScript?
[]:null;s={types:w,ctor:v,parent:s,node:r,scripts:J};s.inherited=c(s);d.push(s)}else s={node:r,scripts:w,parent:s};w=J;v=r.stopParser||v&&v.prototype.stopParser&&!b.template;r=u}else r=r.nextSibling}else{if(!s||!s.node)break;r=s.node.nextSibling;v=!1;s=s.parent;w=s.scripts}var M=new g;e.length?(b.contextRequire||l)(e,function(){M.resolve(h.filter(d,function(a){if(!a.ctor)try{a.ctor=x(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=
!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):M.resolve(d);return M.promise},_require:function(a,b){var c=t("{"+a.innerHTML+"}"),d=[],e=[],f=new g,h=b&&b.contextRequire||l,m;for(m in c)d.push(m),e.push(c[m]);h(e,function(){for(var a=0;a<d.length;a++)k.setObject(d[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var c=new g,d=c.promise;c.resolve(!0);var e=this;q("script[type\x3d'dojo/require']",a).forEach(function(a){d=
d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,b){var d;!b&&a&&a.rootNode?(b=a,d=b.rootNode):!a||!k.isObject(a)||"nodeType"in a?d=a:b=a;d=d?c.byId(d):e.body();b=b||{};var f=b.template?{template:!0}:{},g=[],h=this,l=this._scanAmd(d,b).then(function(){return h.scan(d,b)}).then(function(a){return h._instantiate(a,f,b,!0)}).then(function(a){return g=g.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});k.mixin(g,
l);return g}};m.parser=z;f.parseOnLoad&&s(100,z,"parse");return z})},"tm1web/share/_RefocusMixin":function(){define(["dojo/_base/declare","dojo/dom","dijit/focus"],function(l,m,k){return l(null,{_saveFocus:function(){var h=document.activeElement;h&&!m.isDescendant(h,this.domNode)&&(this._savedFocusedNode=h)},_restoreFocus:function(){var h=document.activeElement;!this._savedFocusedNode||h&&!m.isDescendant(h,this.domNode)||k.focus(this._savedFocusedNode);this._savedFocusedNode=null}})})},"tm1web/share/TM1ExportCommand":function(){define({Slice:"Slice",
Snapshot:"Snapshot",PDF:"PDF"})},"dijit/Toolbar":function(){define("require dojo/_base/declare dojo/has dojo/keys dojo/ready ./_Widget ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(l,m,k,h,f,c,e,b){return m("dijit.Toolbar",[c,b,e],{templateString:'\x3cdiv class\x3d"dijit" role\x3d"toolbar" tabIndex\x3d"${tabIndex}" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()}})})},
"tm1web/subseteditor/FindBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/fx dojo/text!./templates/FindBar.html dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/keys dojo/colors dojo/debounce dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/form/_TextBoxMixin ../utility/message-localizer ./_TreePaneFocusMixin".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t){return l([q,g,p,t],{templateString:f,_textBox:null,_findNextButton:null,
_findPreviousButton:null,_textBoxPlaceHolderLabel:s.get("FIND_IN_SUBSET_PLACEHOLDER_STR"),_findNextLabel:s.get("FIND_NEXT_STR"),_findPreviousLabel:s.get("FIND_PREVIOUS_STR"),postCreate:function(){this.inherited(arguments);this._attachEventListeners();l.safeMixin(this._textBox,{_getDisplayedValueAttr:function(){return this._destroyed?null:this.inherited(arguments)}});this._textBox.setAttribute("aria-label",this._textBoxPlaceHolderLabel)},_attachEventListeners:function(){this.dimensionTree&&this.connect(this.dimensionTree.model,
"onFind","_onFind");this.connect(this.subsetTree.model,"onFind","_onFind");this.connect(this._textBox,"onChange",n(m.hitch(this,"_find"),800));this.connect(this._textBox,"onKeyPress",m.hitch(this,"_onKeyPress",!0));this.connect(document.documentElement,"onkeypress",m.hitch(this,"_onKeyPress",!1))},_onKeyPress:function(a,b){if(this._isVisible()){var c=b.keyCode;if(!b.charCode){var e=!1;switch(c){case d.ENTER:if(!a)break;else if(!this.dimensionTree&&this._activeTree===this.subsetTree){this.subsetTree.get("tree").selectFound();
break}case d.F3:b.shiftKey?this._findPrevious():this._findNext();break;default:e=!0}e||k.stop(b)}}},focus:function(){r.selectInputText(this._textBox.textbox)},resize:function(){if(this._isVisible()){this._textBox.domNode.style.width="auto";var a=this._findNextButton.domNode.offsetWidth+this._findPreviousButton.domNode.offsetWidth,b=e.getComputedStyle(this.containerNode),a=c.getContentBox(this.containerNode,b).w-1-a;c.setMarginBox(this._textBox.domNode,{w:a})}},_find:function(){var a=this._textBox.get("value");
this._activeTree.model.find(a,this._getTreeFocusIdentity())},_findNext:function(){var a=this._textBox.get("value");this._activeTree.model.findNext(a,this._getTreeFocusIdentity())},_findPrevious:function(){var a=this._textBox.get("value");this._activeTree.model.findPrevious(a,this._getTreeFocusIdentity())},_onFind:function(c,d,f,g){if(g){c=function(){m[0]+=n[0];m[1]+=n[1];m[2]+=n[2];p++;e.set(h,{backgroundColor:new a(m)});5<=p&&(b.remove(h,"tm1webPatternNotFound"),e.set(h,{transitionDuration:k,WebkitTransitionDuration:l,
backgroundColor:""}),clearInterval(q),q=null)};var h=this._textBox.domNode,k=h.style.transitionDuration,l=h.style.WebkitTransitionDuration;e.set(h,{transitionDuration:"0s",WebkitTransitionDuration:"0s"});d=e.get(h,"backgroundColor");d=(new a(d)).toRgb();b.add(h,"tm1webPatternNotFound");var m=(new a(e.get(h,"backgroundColor"))).toRgb(),n=function(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push((b[e]-a[e])/c);return d}(m,d,5),p=1,q=null,q=setInterval(c,20);c()}},_getTreeFocusIdentity:function(){var a=
this._activeTree.get("tree").get("selected");return a?this._activeTree.model.getIdentity(a.item):-1},_isVisible:function(){return 0<this.domNode.offsetWidth||0<this.domNode.offsetHeight}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(l,m,k){var h=l.some;return function(f){var c,e;f instanceof Array?e=f:f&&"object"===typeof f&&(c=f);var b,d=[];if(c){e=[];for(var a in c)Object.hasOwnProperty.call(c,a)&&(d.push(a),e.push(c[a]));b={}}else e&&(b=[]);if(!e||
!e.length)return(new m).resolve(b);var l=new m;l.promise.always(function(){b=d=null});var g=e.length;h(e,function(a,e){c||d.push(e);k(a,function(a){l.isFulfilled()||(b[d[e]]=a,0===--g&&l.resolve(b))},l.reject);return l.isFulfilled()});return l.promise}})},"dijit/nls/loading":function(){define({root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,
hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dojox/grid/_View":function(){define("dojo dijit/registry ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/_base/sniff dojo/query dojo/_base/window dojo/text!./resources/View.html dojo/dnd/Source dijit/_Widget dijit/_TemplatedMixin dojox/html/metrics ./util dojo/_base/html ./_Builder dojo/dnd/Avatar dojo/dnd/Manager".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x,w){n=h("dojox.grid._View",
[p,q],{defaultWidth:"18em",viewWidth:"",templateString:n,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:u._HeaderBuilder,_contentBuilderClass:u._ContentBuilder,postMixInProperties:function(){this.rowNodes={}},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");s.funnelEvents(this.contentNode,this,"doContentEvent","mouseover mouseout click dblclick contextmenu mousedown".split(" "));s.funnelEvents(this.headerNode,this,"doHeaderEvent","dblclick mouseover mouseout mousemove mousedown click contextmenu".split(" "));
this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);this.grid.isLeftToRight()||(this.headerNodeContainer.style.width="")},destroy:function(){t.destroy(this.headerNode);delete this.headerNode;for(var a in this.rowNodes)this._cleanupRowWidgets(this.rowNodes[a]),t.destroy(this.rowNodes[a]);this.rowNodes={};this.source&&this.source.destroy();this.inherited(arguments)},focus:function(){b("ie")||b("webkit")||b("opera")?this.hiddenFocusNode.focus():this.scrollboxNode.focus()},
setStructure:function(a){a=this.structure=a;a.width&&!isNaN(a.width)?this.viewWidth=a.width+"em":this.viewWidth=a.width||(a.noscroll?"auto":this.viewWidth);this._onBeforeRow=a.onBeforeRow||function(){};this._onAfterRow=a.onAfterRow||function(){};if(this.noscroll=a.noscroll)this.scrollboxNode.style.overflow="hidden";this.simpleStructure=Boolean(1==a.cells.length);this.testFlexCells();this.updateStructure()},_cleanupRowWidgets:function(a){a&&f.forEach(d("[widgetId]",a).map(m.byNode),function(a){a._destroyOnRemove?
(a.destroy(),delete a):a.domNode&&a.domNode.parentNode&&a.domNode.parentNode.removeChild(a.domNode)})},onBeforeRow:function(a,b){this._onBeforeRow(a,b);0<=a&&this._cleanupRowWidgets(this.getRowNode(a))},onAfterRow:function(a,b,c){this._onAfterRow(a,b,c);var e=this.grid;f.forEach(d(".dojoxGridStubNode",c),function(a){if(a&&a.parentNode){var b=a.getAttribute("linkWidget"),c=window.parseInt(t.attr(a,"cellIdx"),10);e.getCell(c);(b=m.byId(b))?(a.parentNode.replaceChild(b.domNode,a),b._started||b.startup(),
l.destroy(a)):a.innerHTML=""}},this)},testFlexCells:function(){this.flexCells=!1;for(var a=0,b;b=this.structure.cells[a];a++)for(var c=0,d;d=b[c];c++)d.view=this,this.flexCells=this.flexCells||d.isFlex();return this.flexCells},updateStructure:function(){this.header.update();this.content.update()},getScrollbarWidth:function(){var a=this.hasVScrollbar(),b=t.style(this.scrollboxNode,"overflow");this.noscroll||!b||"hidden"==b?a=!1:"scroll"==b&&(a=!0);return a?r.getScrollbar().w:0},getColumnsWidth:function(){var a=
this.headerContentNode;return a&&a.firstChild?a.firstChild.offsetWidth||t.style(a.firstChild,"width"):0},setColumnsWidth:function(a){this.headerContentNode.firstChild.style.width=a+"px";this.viewWidth&&(this.viewWidth=a+"px")},getWidth:function(){return this.viewWidth||this.getColumnsWidth()+this.getScrollbarWidth()+"px"},getContentWidth:function(){return Math.max(0,t._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px"},render:function(){this.scrollboxNode.style.height="";this.renderHeader();
0<=this._togglingColumn&&(this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn),this._togglingColumn=-1);var d=this.grid.layout.cells,f=c.hitch(this,function(a,b){!this.grid.isLeftToRight()&&(b=!b);for(var c=b?-1:1,e=this.header.getCellNodeIndex(a)+c,f=d[e];f&&f.getHeaderNode()&&"none"==f.getHeaderNode().style.display;)e+=c,f=d[e];return f?f.getHeaderNode():null});if(this.grid.columnReordering&&this.simpleStructure){this.source&&this.source.destroy();this.bottomMarker&&t.destroy(this.bottomMarker);
this.bottomMarker=t.byId("dojoxGrid_bottomMarker");this.topMarker&&t.destroy(this.topMarker);this.topMarker=t.byId("dojoxGrid_topMarker");this.bottomMarker||(this.bottomMarker=t.create("div",{id:"dojoxGrid_bottomMarker","class":"dojoxGridColPlaceBottom"},a.body()),this._hide(this.bottomMarker),this.topMarker=t.create("div",{id:"dojoxGrid_topMarker","class":"dojoxGridColPlaceTop"},a.body()),this._hide(this.topMarker));this.arrowDim=t.contentBox(this.bottomMarker);var h=t.contentBox(this.headerContentNode.firstChild.rows[0]).h;
this.source=new g(this.headerContentNode.firstChild.rows[0],{horizontal:!0,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:!1,onMouseDown:c.hitch(this,function(a){this.header.decorateEvent(a);if((this.header.overRightResizeArea(a)||this.header.overLeftResizeArea(a))&&this.header.canResize(a)&&!this.header.moveable)this.header.beginColumnResize(a);else{if(this.grid.headerMenu)this.grid.headerMenu.onCancel(!0);a.button===(9>b("ie")?1:0)&&g.prototype.onMouseDown.call(this.source,
a)}}),onMouseOver:c.hitch(this,function(a){var b=this.source;b._getChildByEvent(a)&&g.prototype.onMouseOver.apply(b,arguments)}),_markTargetAnchor:c.hitch(this,function(a){var b=this.source;if(b.current!=b.targetAnchor||b.before!=a){b.targetAnchor&&f(b.targetAnchor,b.before)&&b._removeItemClass(f(b.targetAnchor,b.before),b.before?"After":"Before");g.prototype._markTargetAnchor.call(b,a);var c=a?b.targetAnchor:f(b.targetAnchor,b.before);a=0;c||(c=b.targetAnchor,a=t.contentBox(c).w+this.arrowDim.w/
2+2);c=t.position(c,!0);a=Math.floor(c.x-this.arrowDim.w/2+a);t.style(this.bottomMarker,"visibility","visible");t.style(this.topMarker,"visibility","visible");t.style(this.bottomMarker,{left:a+"px",top:h+c.y+"px"});t.style(this.topMarker,{left:a+"px",top:c.y-this.arrowDim.h+"px"});b.targetAnchor&&f(b.targetAnchor,b.before)&&b._addItemClass(f(b.targetAnchor,b.before),b.before?"After":"Before")}}),_unmarkTargetAnchor:c.hitch(this,function(){var a=this.source;a.targetAnchor&&(a.targetAnchor&&f(a.targetAnchor,
a.before)&&a._removeItemClass(f(a.targetAnchor,a.before),a.before?"After":"Before"),this._hide(this.bottomMarker),this._hide(this.topMarker),g.prototype._unmarkTargetAnchor.call(a))}),destroy:c.hitch(this,function(){e.disconnect(this._source_conn);e.unsubscribe(this._source_sub);g.prototype.destroy.call(this.source);this.bottomMarker&&(t.destroy(this.bottomMarker),delete this.bottomMarker);this.topMarker&&(t.destroy(this.topMarker),delete this.topMarker)}),onDndCancel:c.hitch(this,function(){g.prototype.onDndCancel.call(this.source);
this._hide(this.bottomMarker);this._hide(this.topMarker)})});this._source_conn=e.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=e.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup()}},_hide:function(a){t.style(a,{top:"-10000px",visibility:"hidden"})},_onDndDropBefore:function(a,b,c){w.manager().target===this.source&&(this.source._targetNode=this.source.targetAnchor,this.source._beforeTarget=this.source.before,b=this.grid.views.views,a=b[a.viewIndex],b=
b[this.index],b!=a&&(a.convertColPctToFixed(),b.convertColPctToFixed()))},_onDndDrop:function(a,b,c){if(w.manager().target!==this.source)w.manager().source===this.source&&(this._removingColumn=!0);else{this._hide(this.bottomMarker);this._hide(this.topMarker);c=function(a){return a?t.attr(a,"idx"):null};var d=t.marginBox(b[0]).w;if(a.viewIndex!==this.index){var e=this.grid.views.views,f=e[a.viewIndex],e=e[this.index];f.viewWidth&&"auto"!=f.viewWidth&&f.setColumnsWidth(f.getColumnsWidth()-d);e.viewWidth&&
"auto"!=e.viewWidth&&e.setColumnsWidth(e.getColumnsWidth())}d=this.source._targetNode;f=this.source._beforeTarget;!this.grid.isLeftToRight()&&(f=!f);var e=this.grid.layout,g=this.index;delete this.source._targetNode;delete this.source._beforeTarget;e.moveColumn(a.viewIndex,g,c(b[0]),c(d),f)}},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=
this.contentWidth);s.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode])},_getHeaderContent:function(a){var b=a.name||a.grid.getCellName(a);/^\s+$/.test(b)&&(b="\x26nbsp;");var c=['\x3cdiv class\x3d"dojoxGridSortNode'];a.index!=a.grid.getSortIndex()?c.push('"\x3e'):c=c.concat([" ",0<a.grid.sortInfo?"dojoxGridSortUp":"dojoxGridSortDown",'"\x3e\x3cdiv class\x3d"dojoxGridArrowButtonChar"\x3e',0<a.grid.sortInfo?"\x26#9650;":"\x26#9660;",'\x3c/div\x3e\x3cdiv class\x3d"dojoxGridArrowButtonNode" role\x3d"presentation"\x3e\x3c/div\x3e',
'\x3cdiv class\x3d"dojoxGridColCaption"\x3e']);c=c.concat([b,"\x3c/div\x3e\x3c/div\x3e"]);return c.join("")},resize:function(){this.adaptHeight();this.adaptWidth()},hasHScrollbar:function(a){var b=this._hasHScroll||!1;if(void 0==this._hasHScroll||a)this.noscroll?this._hasHScroll=!1:(a=t.style(this.scrollboxNode,"overflow"),this._hasHScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);b!==this._hasHScroll&&this.grid.update();return this._hasHScroll},
hasVScrollbar:function(a){var b=this._hasVScroll||!1;if(void 0==this._hasVScroll||a)this.noscroll?this._hasVScroll=!1:(a=t.style(this.scrollboxNode,"overflow"),this._hasVScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);b!==this._hasVScroll&&this.grid.update();return this._hasVScroll},convertColPctToFixed:function(){var a=!1;this.grid.initialWidth="";var b=d("th",this.headerContentNode),c=f.map(b,function(b,c){var d=b.style.width;t.attr(b,"vIdx",
c);if(d&&"%"==d.slice(-1))a=!0;else if(d&&"px"==d.slice(-2))return window.parseInt(d,10);return t.contentBox(b).w});return a?(f.forEach(this.grid.layout.cells,function(a,b){if(a.view==this){var d=a.view.getHeaderCellNode(a.index);if(d&&t.hasAttr(d,"vIdx")){var e=window.parseInt(t.attr(d,"vIdx"));this.setColWidth(b,c[e]);t.removeAttr(d,"vIdx")}}},this),!0):!1},adaptHeight:function(a){if(!this.grid._autoHeight){var b=this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10)||
this.domNode.clientHeight;if(!a&&(a=this.noscroll))a:{for(var c=0;c<this.grid.views.views.length;++c)if(a=this.grid.views.views[c],a!==this&&a.hasHScrollbar()){a=!0;break a}a=!1}a&&(b-=r.getScrollbar().h);s.setStyleHeightPx(this.scrollboxNode,b)}this.hasVScrollbar(!0)},adaptWidth:function(){this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);var a=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();this._removingColumn?(a=
Math.min(a,this.getColumnsWidth())+"px",this._removingColumn=!1):a=Math.max(a,this.getColumnsWidth())+"px";this.contentNode.style.width=a;this.hasHScrollbar(!0)},setSize:function(a,b){var c=this.domNode.style,d=this.headerNode.style;a&&(c.width=a,d.width=a);c.height=0<=b?b+"px":""},renderRow:function(a){var b=this.createRowNode(a);this.buildRow(a,b);return b},createRowNode:function(a){var b=document.createElement("div");b.className=this.classTag+"Row";this instanceof k.grid._RowSelector?t.attr(b,
"role","presentation"):(t.attr(b,"role","row"),"none"!=this.grid.selectionMode&&b.setAttribute("aria-selected","false"));b[s.gridViewTag]=this.id;b[s.rowIndexTag]=a;return this.rowNodes[a]=b},buildRow:function(a,b){this.buildRowContent(a,b);this.styleRow(a,b)},buildRowContent:function(a,b){b.innerHTML=this.content.generateHtml(a,a);this.flexCells&&this.contentWidth&&(b.firstChild.style.width=this.contentWidth);s.fire(this,"onAfterRow",[a,this.structure.cells,b])},rowRemoved:function(a){0<=a&&this._cleanupRowWidgets(this.getRowNode(a));
this.grid.edit.save(this,a);delete this.rowNodes[a]},getRowNode:function(a){return this.rowNodes[a]},getCellNode:function(a,b){var c=this.getRowNode(a);if(c)return this.content.getCellNode(c,b)},getHeaderCellNode:function(a){if(this.headerContentNode)return this.header.getCellNode(this.headerContentNode,a)},styleRow:function(a,b){var c;c=void 0==b.style.cssText?b.getAttribute("style"):b.style.cssText;b._style=c;this.styleRowNode(a,b)},styleRowNode:function(a,b){b&&this.doStyleRowNode(a,b)},doStyleRowNode:function(a,
b){this.grid.styleRowNode(a,b)},updateRow:function(a){var b=this.getRowNode(a);b&&(b.style.height="",this.buildRow(a,b));return b},updateRowStyles:function(a){this.styleRowNode(a,this.getRowNode(a))},lastTop:0,firstScroll:0,_nativeScroll:!1,doscroll:function(a){if(13<=b("ff")||b("chrome"))this._nativeScroll=!0;a=this.grid.isLeftToRight();if(2>this.firstScroll){if(!a&&1==this.firstScroll||a&&0===this.firstScroll){var c=t.marginBox(this.headerNodeContainer);b("ie")?this.headerNodeContainer.style.width=
c.w+this.getScrollbarWidth()+"px":b("mozilla")&&(this.headerNodeContainer.style.width=c.w-this.getScrollbarWidth()+"px",this.scrollboxNode.scrollLeft=a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth)}this.firstScroll++}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;a=this.scrollboxNode.scrollTop;a!==this.lastTop&&this.grid.scrollTo(a);this._nativeScroll=!1},setScrollTop:function(a){this.lastTop=a;this._nativeScroll||
(this.scrollboxNode.scrollTop=a);return this.scrollboxNode.scrollTop},doContentEvent:function(a){if(this.content.decorateEvent(a))this.grid.onContentEvent(a)},doHeaderEvent:function(a){if(this.header.decorateEvent(a))this.grid.onHeaderEvent(a)},dispatchContentEvent:function(a){return this.content.dispatchEvent(a)},dispatchHeaderEvent:function(a){return this.header.dispatchEvent(a)},setColWidth:function(a,b){this.grid.setCellWidth(a,b+"px")},update:function(){if(this.domNode){this.content.update();
this.grid.update();var a=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=a;this.headerNode.scrollLeft=a}}});var v=h("dojox.grid._GridAvatar",x,{construct:function(){var b=a.doc,c=b.createElement("table");c.cellPadding=c.cellSpacing="0";c.className="dojoxGridDndAvatar";c.style.position="absolute";c.style.zIndex=1999;c.style.margin="0px";var d=b.createElement("tbody"),e=b.createElement("tr"),f=b.createElement("td"),g=b.createElement("td");e.className="dojoxGridDndAvatarItem";g.className=
"dojoxGridDndAvatarItemImage";g.style.width="16px";var h=this.manager.source;if(h.creator)h=h._normalizedCreator(h.getItem(this.manager.nodes[0].id).data,"avatar").node;else{var h=this.manager.nodes[0].cloneNode(!0),k,l;"tr"==h.tagName.toLowerCase()?(k=b.createElement("table"),l=b.createElement("tbody"),l.appendChild(h),k.appendChild(l),h=k):"th"==h.tagName.toLowerCase()&&(k=b.createElement("table"),l=b.createElement("tbody"),b=b.createElement("tr"),k.cellPadding=k.cellSpacing="0",b.appendChild(h),
l.appendChild(b),k.appendChild(l),h=k)}h.id="";f.appendChild(h);e.appendChild(g);e.appendChild(f);t.style(e,"opacity",.9);d.appendChild(e);c.appendChild(d);this.node=c;c=w.manager();this.oldOffsetY=c.OFFSET_Y;c.OFFSET_Y=1},destroy:function(){w.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments)}}),z=w.manager().makeAvatar;w.manager().makeAvatar=function(){return void 0===this.source.viewIndex||t.hasClass(a.body(),"dijit_a11y")?z.call(w.manager()):new v(this)};return n})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(l,m,k,h,f,c,e,b,d,a,n,g,p){l=l("dijit.TooltipDialog",[b,n,a,d],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:g,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",f.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];m.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();
e.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==
h.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==h.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(e.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey?a.stopPropagation():(e.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}}});k("dojo-bidi")&&l.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){this._created&&this.textDir==a||(this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}});return l})},"tm1web/widgets/ErrorAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(l,m,k,h,f,c){var e=l("tm1web.widgets.ErrorAlert",
c,{buildRendering:function(){this.inherited(arguments);h.add(this.cancelButton.domNode,"dijitHidden");h.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",f.get("ARIA_IMG_ERROR_STR"))}});e.show=function(b){var c=new k;b.className="tm1webErrorDialog tm1webMessageDialog";b=new e(b);var a=m.after(b,"onHide",function(){a.remove();c.resolve()});b.show();return c.promise};return e})},"url:tm1web/subseteditor/templates/PagingSlider.html":'\x3cdiv class\x3d"tm1webPagingSlider" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/form/HorizontalSlider" style\x3d"display:none;" data-dojo-attach-point\x3d"_slider"\r\n\t\tdata-dojo-attach-event\x3d"onChange:onChange" data-dojo-props\x3d"minimum:1, value:1"\x3e\x3c/div\x3e\r\n\t\x3cspan data-dojo-type\x3d"../share/Label" data-dojo-attach-point\x3d"_label"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:dojox/grid/resources/View.html":'\x3cdiv class\x3d"dojoxGridView" role\x3d"presentation"\x3e\r\n\t\x3cdiv class\x3d"dojoxGridHeader" dojoAttachPoint\x3d"headerNode" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"headerNodeContainer" style\x3d"width:9000em" role\x3d"presentation"\x3e\r\n\t\t\t\x3cdiv dojoAttachPoint\x3d"headerContentNode" role\x3d"row"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" dojoAttachPoint\x3d"hiddenFocusNode" role\x3d"presentation" /\x3e\r\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" role\x3d"presentation" /\x3e\r\n\t\x3cdiv class\x3d"dojoxGridScrollbox" dojoAttachPoint\x3d"scrollboxNode" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dojoxGridContent" dojoAttachPoint\x3d"contentNode" hidefocus\x3d"hidefocus" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/subseteditor/templates/FilterByLevelDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFilterByLevelDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByLevelLabel"\x3e${_selectLevelsLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"tm1webSubsetEditorComboBox" data-dojo-attach-point\x3d"_levelsComboNode"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" disabled\x3d"disabled"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/ElementSelector.html":'\x3cdiv class\x3d"tm1webElementSelector" role\x3d"presentation" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode" role\x3d"dialog"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"_findBarNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"_treeNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3dtm1webElementSelectorButtonContainer data-dojo-attach-point\x3d"_buttonContainerNode"\x3e\r\n\t\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_openSubsetEditor"\r\n\t\t\t\t\t\tdata-dojo-props\x3d"iconClass:\'tm1webSubsetEditorIconOpenSubsetEditor\', showLabel:false"\x3e\r\n\t\t\t\t    ${_buttonLabel}\r\n\t\t\t\t\x3c/button\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"_connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/SaveAsDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e \r\n        \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \r\n            \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n            \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n            \x3cdiv id\x3d"${id}_subsetNameTextBox"\x3e\r\n            \x3clabel\x3e${_textBoxLabel}\x3c/label\x3e \r\n            \x3cinput type\x3d"text"\r\n                data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                data-dojo-attach-point\x3d"_textBox"\r\n                data-dojo-props\x3d"intermediateChanges:true, tooltipPosition:[\'below\'], required:true, invalidMessage:\'${_privateSubsetExistsMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorCheckboxArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput id\x3d"${id}_savePublicCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                        data-dojo-attach-point\x3d"_savePublicCheckBox"\r\n                        data-dojo-attach-event\x3d"onChange:_onSavePublicCheckBoxChanged" /\x3e \r\n                    \x3clabel for\x3d"${id}_savePublicCheckBox"\x3e${_savePublicCheckBoxLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput id\x3d"${id}_overwriteExistingCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                        data-dojo-attach-point\x3d"_overwriteExistingCheckBox"\r\n                        data-dojo-attach-event\x3d"onChange:_onCheckBoxChanged" /\x3e \r\n                    \x3clabel for\x3d"${id}_overwriteExistingCheckBox"\x3e${_overwriteExistingCheckBoxLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                class\x3d"tm1WebBtnPrimary"\r\n                data-dojo-attach-point\x3d"_submitButton"\r\n                data-dojo-attach-event\x3d"onClick:_onOk" disabled\x3d"disabled"\x3e\r\n                ${_submitButtonLabel}\x3c/button\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                class\x3d"tm1webBtnSecondary"\r\n                data-dojo-attach-point\x3d"_cancelButton"\r\n                data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                ${_cancelButtonLabel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n",
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\r\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\x3cthead\x3e\r\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t${!dayCellsHtml}\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/thead\x3e\r\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t${!dateRowsHtml}\r\n\t\x3c/tbody\x3e\r\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\r\n\t\t\x3ctr\x3e\r\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/td\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/tfoot\x3e\r\n\x3c/table\x3e\r\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\r\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\r\n\t\t\ttitle\x3d"${optionsTitle}"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\r\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\r\n\t\t\t\tclass\x3d"dijitOffScreen"\r\n\t\t\t\trole\x3d"presentation" aria-hidden\x3d"true"\r\n\t\t\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:tm1web/subseteditor/templates/FilterByExpressionDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByExpressionLabel"\x3e${_enterExpressionLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput type\x3d"text" class\x3d"tm1webSubsetEditorTextBox"\r\n                        data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                        data-dojo-attach-point\x3d"_textBox"\r\n                        data-dojo-props\x3d"intermediateChanges:true, tooltipPosition:[\'below\'], required:true" /\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cdiv class\x3d"tm1webDescription"\x3e${_expressionExampleLabel}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit" disabled\x3d"disabled"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:tm1web/subseteditor/templates/ExpandAboveTreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/grid/resources/_Grid.html":'\x3cdiv hidefocus\x3d"hidefocus" role\x3d"grid" dojoAttachEvent\x3d"onmouseout:_mouseOut"\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterHeader" dojoAttachPoint\x3d"viewsHeaderNode" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterView" dojoAttachPoint\x3d"viewsNode" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterMessages" style\x3d"display: none;" dojoAttachPoint\x3d"messagesNode"\x3e\x3c/div\x3e\r\n\t\x3cspan dojoAttachPoint\x3d"lastFocusNode" tabindex\x3d"0"\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cinput\r\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\r\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point\x3d"focusNode"\r\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}"\r\n\trole\x3d"combobox"\r\n\taria-haspopup\x3d"true"\r\n\tdata-dojo-attach-point\x3d"_popupStateNode"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\t\t\t${!actionBarTemplate}\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\r\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'dijitTabLabel\'\x3e\x3c/span\x3e\r\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\r\n\t\t  role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\r\n\t\t\t\t\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:tm1web/subseteditor/templates/CreateConsolidationDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webCreateConsolidationDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel\x3e${_selectLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y" data-dojo-attach-point\x3d"_subsetSelect" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" disabled\x3d"disabled"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/FilterByAttributeDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n            class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n            id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByAttributeLabel"\x3e${_selectAttributeLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y"\r\n                        data-dojo-attach-point\x3d"_attributeNamesSelect"\r\n                        data-dojo-props\x3d"tooltipPosition:[\'below\'], invalidMessage:\'${_invalidMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByAttributeMatchedValueLabel"\x3e${_selectValueLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y"\r\n                        data-dojo-attach-point\x3d"_attributeValuesSelect"\r\n                        data-dojo-props\x3d"tooltipPosition:[\'below\'], invalidMessage:\'${_invalidMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit" disabled\x3d"disabled"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/layout/_ScrollingTabControllerMenuButton"\r\n\t\t class\x3d"tabStripButton-${tabPosition}"\r\n\t\t id\x3d"${id}_menuBtn"\r\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\r\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\r\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/layout/_ScrollingTabControllerButton"\r\n\t\t class\x3d"tabStripButton-${tabPosition}"\r\n\t\t id\x3d"${id}_leftBtn"\r\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\r\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/layout/_ScrollingTabControllerButton"\r\n\t\t class\x3d"tabStripButton-${tabPosition}"\r\n\t\t id\x3d"${id}_rightBtn"\r\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\r\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\r\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\r\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\r\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\r\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\r\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:tm1web/subseteditor/templates/FindBar.html":'\x3cdiv class\x3d"tm1webFindBar" role\x3d"toolbar" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_textBox"\r\n            class\x3d"tm1webSubsetEditorFindBarInput"\r\n            data-dojo-props\x3d"intermediateChanges:true, placeHolder:\'${_textBoxPlaceHolderLabel}\'"/\x3e\r\n    \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"tm1webFindPreviousButton"\r\n            data-dojo-attach-point\x3d"_findPreviousButton"\r\n            data-dojo-attach-event\x3d"onClick:_findPrevious"\r\n            data-dojo-props\x3d"showLabel:false, iconClass:\'tm1webIconFindButton tm1webIconFindPreviousButton\'"\x3e\r\n        ${_findPreviousLabel}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"tm1webFindNextButton"\r\n    data-dojo-attach-point\x3d"_findNextButton"\r\n             data-dojo-attach-event\x3d"onClick:_findNext"\r\n             data-dojo-props\x3d"showLabel:false, iconClass:\'tm1webIconFindButton tm1webIconFindNextButton\'"\x3e\r\n        ${_findNextLabel}\r\n    \x3c/button\x3e\r\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\r\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\r\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:tm1web/subseteditor/templates/SubsetEditor.html":'\x3cdiv class\x3d"dijitDialog tm1webSubsetEditor" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n\t\t\ttitle\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent" id\x3d"${id}_container"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webSubsetEditorTitleBar" id\x3d"${id}_titlebar"\x3e\r\n\t\t\t\x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"_topToolbarNode"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"_bottomToolbarNode"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-attach-point\x3d"_treeContainer" class\x3d"tm1webSubsetEditorTreeContainer"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\tclass\x3d"tm1WebBtnPrimary"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onSubmit"\x3e\r\n\t\t\t    ${_submitButtonLabel}\r\n\t\t\t\x3c/button\x3e\r\n\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\tclass\x3d"tm1webBtnSecondary"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n\t\t\t    ${_cancelButtonLabel}\r\n\t\t\t\x3c/button\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/Deferred dojo/cookie dojo/dom-class dojo/dom-construct dojo/dom-style ../share/Base ./_Workbook ../share/service-loader!WebSheetService ./CssLoader ../share/TM1Widget ../share/sandbox/SandboxController ../share/ExportOptionsDialog ../share/http-session-initializer ../share/service-loader!TM1Service ../utility/message-localizer".split(" "),function(l,m,k,h,f,c,e,b,d,a,n,g,p,q,r,s,t,u,x){return l(q,{constructor:function(a,b){this._cssLoader=
this._workbook=null;this.inIWidget=!1;this._onInitializeDeferred=new f;this._initializeWorkbooker()},_initializeWorkbooker:function(){this._createWorkbook();var a=this._onInitializeDeferred;delete this._onInitializeDeferred;a.resolve()},_createWorkbook:function(){this.identity.objectId&&(this._workbook=new n(this.parent,this.identity.objectId),this._cssLoader=new p(this.identity.objectId),this.sandboxController=new r(this,this.identity.objectId),this._attachEvents(),e.add(this.parent,"tm1webWidget"))},
_login:function(){var a=new f,b=this.identity;if(null==b.userName||0==b.userName.length){var d=c("cam_passport");d&&0<d.length&&(b.password=d)}t.init().then(m.hitch(this,function(){u.loginWebSheetWidget(b.host,b.userName,b.password,b.serverName,b.webSheet,{callback:this._onLogin,arg:a,scope:this})}));return a},_onLogin:function(a,b){a?(this.identity.sessionToken=a.sessionToken,this.identity.objectId=a.objectId,this._createWorkbook(),b.resolve()):(alert(x.get("LOGON_TO_SERVER_FAILED_STR")),b.cancel())},
_attachEvents:function(){this.own(k.subscribe(this.identity.objectId+"-TitleElementChange",m.hitch(this,"_onTitleElementChange")));this.own(k.subscribe(this.identity.objectId+"-Recalculate",m.hitch(this,"recalculate")));this.own(k.subscribe(this.identity.objectId+"-UpdateSheetSize",m.hitch(this,"_updateSheetSize")));this.own(k.subscribe(this.identity.objectId+"-WebSheetNavigate",m.hitch(this,"_navigateWebSheet")));this.own(k.subscribe(this.identity.objectId+"-ActionButtonExecuted",m.hitch(this,"onActionButtonExecution")));
this.own(k.subscribe(this.identity.objectId+"-Recalculate",m.hitch(this,"publishUpdate")));this.own(k.subscribe(this.identity.objectId+"-CellValueChanged",m.hitch(this,"publishUpdate")));this.own(k.subscribe(this.identity.objectId+"-WebSheetFetchDataCompleted",m.hitch(this,"publishUpdate")))},_onTitleElementChange:function(a,b){this._workbook.onTitleElementChange(b)},rebuildActiveForms:function(a){var b=new f;this._workbook.rebuildActiveForms(a);var c=k.subscribe(this.identity.objectId+"-WebSheetFetchDataCompleted",
function(){c.remove();b.resolve()});return b.promise},_navigateWebSheet:function(a){this.navigateWebSheet(a)},onActionButtonExecution:function(a){},navigateWebSheet:function(a){a.objectId==this._workbook._objectId?((a.postRefreshPage||a.postRefreshBuildedPage)&&k.publish(a.objectId+"-SetSheetsNeedRefresh",!0),this.selectChild(a.sheetIndex)):(this.replace(a.objectId),this.create().then(m.hitch(this,this.resize)))},selectChild:function(a){this._workbook.selectChild(a)},replace:function(a){g.dispose(this.identity.objectId);
this._workbook.destroy();this._cssLoader.destroy();this.identity={objectId:a};this.sandboxController.objectId=a;this._createWorkbook()},destroy:function(){this._workbook.destroy();this._cssLoader.destroy();this.inherited(arguments)},create:function(){var a=this.inherited(arguments);this._onInitializeDeferred?this._onInitializeDeferred.then(m.hitch(this,this._load,a)):this._load(a);return a},_load:function(a){var b=m.hitch(this,function(){this._loadCss(a);var b=k.subscribe(this.identity.objectId+"-WebSheetFetchDataCompleted",
function(){b.remove();a.resolve()}),c=k.subscribe(this.identity.objectId+"-WebSheetLoadFailed",function(b,d){c.remove();a.reject(b,d)})});this.identity.objectId?b():this._login().then(b)},_loadCss:function(a){this._cssLoader.load().then(m.hitch(this,"_create"),a.cancel)},_create:function(a,b){this._workbook.create(b)},resize:function(){this._workbook&&this._workbook.resize()},recalculate:function(){var a=new f;this._workbook.recalculate();var b=k.subscribe(this.identity.objectId+"-WebSheetFetchDataCompleted",
function(){b.remove();a.resolve()});return a.promise},_updateSheetSize:function(a){this._workbook.updateSheetSize(a)},autoFitSelectedColumns:function(){var a=this._workbook.getActiveSheet();a&&a.autoFitSelectedColumns()},displayExportOptions:function(a){var c=b.create("DIV");d.set(c,"overflow","hidden");(new s(this.identity.objectId,a,"WebSheet")).Show()},subscribeToActiveSheetChangedNotifications:function(a){return this.own(h.after(this._workbook,"_onSwitchSheet",a,!0))},unsubscribeFromActiveSheetChangedNotifications:function(a){a.remove()},
getService:function(){return g},_getActiveDataGrid:function(){var a=this._workbook.getActiveSheet();if(a)return a.getActiveDataGrid()},copy:function(){var a=this._getActiveDataGrid();a&&k.publish(a.id+"-Copy")},paste:function(){var a=this._getActiveDataGrid();a&&k.publish(a.id+"-Paste")},hasUnsavedDataChanges:function(){return this._workbook.hasUnsavedDataChanges()},getCellMetadata:function(){return this._workbook.getCellMetadata()},getCellValue:function(a,b,c){return this._workbook.getCellValue(a,
b,c)},getSelection:function(){if(this._workbook&&this._workbook.getActiveSheet()&&this._workbook.getActiveSheet().getActiveDataGrid())return this._workbook.getActiveSheet().getSelection();var a=new f;a.resolve(null);return a.promise},setSelection:function(a){if(this._workbook&&this._workbook.getActiveSheet()&&this._validateSelectionInfo(a))return this._workbook.getActiveSheet().setSelection(a);a=new f;a.resolve(!1);return a.promise},focusActiveDataGrid:function(){var a=this._workbook.getActiveSheet();
a&&(a=a.getActiveDataGrid())&&a.focus()}})});
//# sourceMappingURL=Workbooker.js.map