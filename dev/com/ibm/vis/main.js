/****************************************************************
**Licensed Materials - Property of IBM
**
**IBM Cognos Products: tm1web
**
**(C) Copyright IBM Corp. 2007-2013
**
**US Government Users Restricted Rights - Use, duplication or disclosure
**restricted by GSA ADP Schedule Contract with IBM Corp.
*****************************************************************///>>built
require({cache:{"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(q,C,w,z){function p(f,h,m,r,l,x){x=x||"px";f=f.style;isNaN(h)||(f.left=h+x);isNaN(m)||(f.top=m+x);0<=r&&(f.width=r+x);0<=l&&(f.height=l+x)}function f(f){return"button"==f.tagName.toLowerCase()||"input"==f.tagName.toLowerCase()&&"button"==(f.getAttribute("type")||"").toLowerCase()}function l(t){return"border-box"==x.boxModel||"table"==t.tagName.toLowerCase()||f(t)}var x={boxModel:"content-box"};
q("ie")&&(x.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");x.getPadExtents=function(f,h){f=w.byId(f);var m=h||z.getComputedStyle(f),r=z.toPixelValue,l=r(f,m.paddingLeft),x=r(f,m.paddingTop),y=r(f,m.paddingRight),m=r(f,m.paddingBottom);return{l:l,t:x,r:y,b:m,w:l+y,h:x+m}};x.getBorderExtents=function(f,h){f=w.byId(f);var m=z.toPixelValue,r=h||z.getComputedStyle(f),l="none"!=r.borderLeftStyle?m(f,r.borderLeftWidth):0,x="none"!=r.borderTopStyle?m(f,r.borderTopWidth):0,y="none"!=
r.borderRightStyle?m(f,r.borderRightWidth):0,m="none"!=r.borderBottomStyle?m(f,r.borderBottomWidth):0;return{l:l,t:x,r:y,b:m,w:l+y,h:x+m}};x.getPadBorderExtents=function(f,h){f=w.byId(f);var m=h||z.getComputedStyle(f),r=x.getPadExtents(f,m),m=x.getBorderExtents(f,m);return{l:r.l+m.l,t:r.t+m.t,r:r.r+m.r,b:r.b+m.b,w:r.w+m.w,h:r.h+m.h}};x.getMarginExtents=function(f,h){f=w.byId(f);var m=h||z.getComputedStyle(f),r=z.toPixelValue,l=r(f,m.marginLeft),x=r(f,m.marginTop),y=r(f,m.marginRight),m=r(f,m.marginBottom);
return{l:l,t:x,r:y,b:m,w:l+y,h:x+m}};x.getMarginBox=function(f,h){f=w.byId(f);var m=h||z.getComputedStyle(f),r=x.getMarginExtents(f,m),l=f.offsetLeft-r.l,y=f.offsetTop-r.t,p=f.parentNode,F=z.toPixelValue;if(q("mozilla")){var M=parseFloat(m.left),m=parseFloat(m.top);isNaN(M)||isNaN(m)?p&&p.style&&(p=z.getComputedStyle(p),"visible"!=p.overflow&&(l+="none"!=p.borderLeftStyle?F(f,p.borderLeftWidth):0,y+="none"!=p.borderTopStyle?F(f,p.borderTopWidth):0)):(l=M,y=m)}else(q("opera")||8==q("ie")&&!q("quirks"))&&
p&&(p=z.getComputedStyle(p),l-="none"!=p.borderLeftStyle?F(f,p.borderLeftWidth):0,y-="none"!=p.borderTopStyle?F(f,p.borderTopWidth):0);return{l:l,t:y,w:f.offsetWidth+r.w,h:f.offsetHeight+r.h}};x.getContentBox=function(f,h){f=w.byId(f);var m=h||z.getComputedStyle(f),r=f.clientWidth,l=x.getPadExtents(f,m),y=x.getBorderExtents(f,m);r?(m=f.clientHeight,y.w=y.h=0):(r=f.offsetWidth,m=f.offsetHeight);q("opera")&&(l.l+=y.l,l.t+=y.t);return{l:l.l,t:l.t,w:r-l.w-y.w,h:m-l.h-y.h}};x.setContentSize=function(f,
h,m){f=w.byId(f);var r=h.w;h=h.h;l(f)&&(m=x.getPadBorderExtents(f,m),0<=r&&(r+=m.w),0<=h&&(h+=m.h));p(f,NaN,NaN,r,h)};var y={l:0,t:0,w:0,h:0};x.setMarginBox=function(t,h,m){t=w.byId(t);var r=m||z.getComputedStyle(t);m=h.w;var H=h.h,K=l(t)?y:x.getPadBorderExtents(t,r),r=x.getMarginExtents(t,r);if(q("webkit")&&f(t)){var E=t.style;0<=m&&!E.width&&(E.width="4px");0<=H&&!E.height&&(E.height="4px")}0<=m&&(m=Math.max(m-K.w-r.w,0));0<=H&&(H=Math.max(H-K.h-r.h,0));p(t,h.l,h.t,m,H)};x.isBodyLtr=function(f){f=
f||C.doc;return"ltr"==(C.body(f).dir||f.documentElement.dir||"ltr").toLowerCase()};x.docScroll=function(f){f=f||C.doc;var h=C.doc.parentWindow||C.doc.defaultView;return"pageXOffset"in h?{x:h.pageXOffset,y:h.pageYOffset}:(h=q("quirks")?C.body(f):f.documentElement)&&{x:x.fixIeBiDiScrollLeft(h.scrollLeft||0,f),y:h.scrollTop||0}};q("ie")&&(x.getIeDocumentElementOffset=function(f){f=f||C.doc;f=f.documentElement;if(8>q("ie")){var h=f.getBoundingClientRect(),m=h.left,h=h.top;7>q("ie")&&(m+=f.clientLeft,
h+=f.clientTop);return{x:0>m?0:m,y:0>h?0:h}}return{x:0,y:0}});x.fixIeBiDiScrollLeft=function(f,h){h=h||C.doc;var m=q("ie");if(m&&!x.isBodyLtr(h)){var r=q("quirks"),l=r?C.body(h):h.documentElement,y=C.global;6==m&&!r&&y.frameElement&&l.scrollHeight>l.clientHeight&&(f+=l.clientLeft);return 8>m||r?f+l.clientWidth-l.scrollWidth:-f}return f};x.position=function(f,h){f=w.byId(f);var m=C.body(f.ownerDocument),r=f.getBoundingClientRect(),r={x:r.left,y:r.top,w:r.right-r.left,h:r.bottom-r.top};if(9>q("ie")){var l=
x.getIeDocumentElementOffset(f.ownerDocument);r.x-=l.x+(q("quirks")?m.clientLeft+m.offsetLeft:0);r.y-=l.y+(q("quirks")?m.clientTop+m.offsetTop:0)}h&&(m=x.docScroll(f.ownerDocument),r.x+=m.x,r.y+=m.y);return r};x.getMarginSize=function(f,h){f=w.byId(f);var m=x.getMarginExtents(f,h||z.getComputedStyle(f)),r=f.getBoundingClientRect();return{w:r.right-r.left+m.w,h:r.bottom-r.top+m.h}};x.normalizeEvent=function(f){"layerX"in f||(f.layerX=f.offsetX,f.layerY=f.offsetY);if(!q("dom-addeventlistener")){var h=
f.target,h=h&&h.ownerDocument||document,m=q("quirks")?h.body:h.documentElement,r=x.getIeDocumentElementOffset(h);f.pageX=f.clientX+x.fixIeBiDiScrollLeft(m.scrollLeft||0,h)-r.x;f.pageY=f.clientY+(m.scrollTop||0)-r.y}};return x})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(q,C,w,z,p,f,l,x){q.byId=C.byId;q.isDescendant=C.isDescendant;q.setSelectable=C.setSelectable;q.getAttr=z.get;q.setAttr=
z.set;q.hasAttr=z.has;q.removeAttr=z.remove;q.getNodeProp=z.getNodeProp;q.attr=function(f,t,h){return 2==arguments.length?z["string"==typeof t?"get":"set"](f,t):z.set(f,t,h)};q.hasClass=f.contains;q.addClass=f.add;q.removeClass=f.remove;q.toggleClass=f.toggle;q.replaceClass=f.replace;q._toDom=q.toDom=l.toDom;q.place=l.place;q.create=l.create;q.empty=function(f){l.empty(f)};q._destroyElement=q.destroy=function(f){l.destroy(f)};q._getPadExtents=q.getPadExtents=x.getPadExtents;q._getBorderExtents=q.getBorderExtents=
x.getBorderExtents;q._getPadBorderExtents=q.getPadBorderExtents=x.getPadBorderExtents;q._getMarginExtents=q.getMarginExtents=x.getMarginExtents;q._getMarginSize=q.getMarginSize=x.getMarginSize;q._getMarginBox=q.getMarginBox=x.getMarginBox;q.setMarginBox=x.setMarginBox;q._getContentBox=q.getContentBox=x.getContentBox;q.setContentSize=x.setContentSize;q._isBodyLtr=q.isBodyLtr=x.isBodyLtr;q._docScroll=q.docScroll=x.docScroll;q._getIeDocumentElementOffset=q.getIeDocumentElementOffset=x.getIeDocumentElementOffset;
q._fixIeBiDiScrollLeft=q.fixIeBiDiScrollLeft=x.fixIeBiDiScrollLeft;q.position=x.position;q.marginBox=function(f,t){return t?x.setMarginBox(f,t):x.getMarginBox(f)};q.contentBox=function(f,t){return t?x.setContentSize(f,t):x.getContentBox(f)};q.coords=function(f,t){q.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");f=C.byId(f);var h=w.getComputedStyle(f),h=x.getMarginBox(f,h),m=x.position(f,t);h.x=m.x;h.y=m.y;return h};q.getProp=p.get;q.setProp=p.set;q.prop=function(f,t,h){return 2==
arguments.length?p["string"==typeof t?"get":"set"](f,t):p.set(f,t,h)};q.getStyle=w.get;q.setStyle=w.set;q.getComputedStyle=w.getComputedStyle;q.__toPixelValue=q.toPixelValue=w.toPixelValue;q.style=function(f,t,h){switch(arguments.length){case 1:return w.get(f);case 2:return w["string"==typeof t?"get":"set"](f,t)}return w.set(f,t,h)};return q})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(q,C,w){function z(f){return l[f]=new Function("item","index","array",f)}function p(f){var h=
!f;return function(m,r,x){var y=0,p=m&&m.length||0,q;p&&"string"==typeof m&&(m=m.split(""));"string"==typeof r&&(r=l[r]||z(r));if(x)for(;y<p;++y){if(q=!r.call(x,m[y],y,m),f^q)return!q}else for(;y<p;++y)if(q=!r(m[y],y,m),f^q)return!q;return h}}function f(f){var h=1,m=0,r=0;f||(h=m=r=-1);return function(l,p,q,w){if(w&&0<h)return y.lastIndexOf(l,p,q);w=l&&l.length||0;var z=f?w+r:m;q===x?q=f?m:w+r:0>q?(q=w+q,0>q&&(q=m)):q=q>=w?w+r:q;for(w&&"string"==typeof l&&(l=l.split(""));q!=z;q+=h)if(l[q]==p)return q;
return-1}}var l={},x,y={every:p(!1),some:p(!0),indexOf:f(!0),lastIndexOf:f(!1),forEach:function(f,h,m){var r=0,x=f&&f.length||0;x&&"string"==typeof f&&(f=f.split(""));"string"==typeof h&&(h=l[h]||z(h));if(m)for(;r<x;++r)h.call(m,f[r],r,f);else for(;r<x;++r)h(f[r],r,f)},map:function(f,h,m,r){var x=0,y=f&&f.length||0;r=new (r||Array)(y);y&&"string"==typeof f&&(f=f.split(""));"string"==typeof h&&(h=l[h]||z(h));if(m)for(;x<y;++x)r[x]=h.call(m,f[x],x,f);else for(;x<y;++x)r[x]=h(f[x],x,f);return r},filter:function(f,
h,m){var r=0,x=f&&f.length||0,y=[],p;x&&"string"==typeof f&&(f=f.split(""));"string"==typeof h&&(h=l[h]||z(h));if(m)for(;r<x;++r)p=f[r],h.call(m,p,r,f)&&y.push(p);else for(;r<x;++r)p=f[r],h(p,r,f)&&y.push(p);return y},clearCache:function(){l={}}};w.mixin(q,y);return y})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(q,C,w,z,p,f,l){var x=function(){},y=Object.freeze||function(){},t=q.Deferred=function(h){function m(f){if(q)throw Error("This deferred has already been resolved");
l=f;q=!0;r()}function r(){for(var m;!m&&L;){var r=L;L=L.next;if(m=r.progress==x)q=!1;var h=M?r.error:r.resolved;p("config-useDeferredInstrumentation")&&M&&C.instrumentRejected&&C.instrumentRejected(l,!!h);if(h)try{var t=h(l);t&&"function"===typeof t.then?t.then(f.hitch(r.deferred,"resolve"),f.hitch(r.deferred,"reject"),f.hitch(r.deferred,"progress")):(h=m&&void 0===t,m&&!h&&(M=t instanceof Error),r.deferred[h&&M?"reject":"resolve"](h?l:t))}catch(y){r.deferred.reject(y)}else M?r.deferred.reject(l):
r.deferred.resolve(l)}}var l,q,E,F,M,Q,L,J=this.promise=new w;this.isResolved=J.isResolved=function(){return 0==F};this.isRejected=J.isRejected=function(){return 1==F};this.isFulfilled=J.isFulfilled=function(){return 0<=F};this.isCanceled=J.isCanceled=function(){return E};this.resolve=this.callback=function(f){this.fired=F=0;this.results=[f,null];m(f)};this.reject=this.errback=function(f){M=!0;this.fired=F=1;p("config-useDeferredInstrumentation")&&C.instrumentRejected&&C.instrumentRejected(f,!!L);
m(f);this.results=[null,f]};this.progress=function(f){for(var r=L;r;){var m=r.progress;m&&m(f);r=r.next}};this.addCallbacks=function(f,r){this.then(f,r,x);return this};J.then=this.then=function(f,m,h){var l=h==x?this:new t(J.cancel);f={resolved:f,error:m,progress:h,deferred:l};L?Q=Q.next=f:L=Q=f;q&&r();return l.promise};var P=this;J.cancel=this.cancel=function(){if(!q){var f=h&&h(P);q||(f instanceof Error||(f=new z(f)),f.log=!1,P.reject(f))}E=!0};y(J)};f.extend(t,{addCallback:function(h){return this.addCallbacks(f.hitch.apply(q,
arguments))},addErrback:function(h){return this.addCallbacks(null,f.hitch.apply(q,arguments))},addBoth:function(h){var m=f.hitch.apply(q,arguments);return this.addCallbacks(m,m)},fired:-1});t.when=q.when=l;return t})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(q,C,w,z,p,f){function l(){for(var f=+new Date,m=0,r;m<t.length&&(r=t[m]);m++){var l=
r.response,p=l.options;r.isCanceled&&r.isCanceled()||r.isValid&&!r.isValid(l)?(t.splice(m--,1),x._onAction&&x._onAction()):r.isReady&&r.isReady(l)?(t.splice(m--,1),r.handleResponse(l),x._onAction&&x._onAction()):r.startTime&&r.startTime+(p.timeout||0)<f&&(t.splice(m--,1),r.cancel(new C("Timeout exceeded",l)),x._onAction&&x._onAction())}x._onInFlight&&x._onInFlight(r);t.length||(clearInterval(y),y=null)}function x(f){f.response.options.timeout&&(f.startTime=+new Date);f.isFulfilled()||(t.push(f),y||
(y=setInterval(l,50)),f.response.options.sync&&l())}var y=null,t=[];x.cancelAll=function(){try{z.forEach(t,function(f){try{f.cancel(new w("All requests canceled."))}catch(r){}})}catch(f){}};p&&f&&p.doc.attachEvent&&f(p.global,"unload",function(){x.cancelAll()});return x})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(q,C,w,z,p){var f=p.doc.documentElement;p=z("ie");var l=z("opera"),x=Math.floor,y=z("ff"),t=q.boxModel.replace(/-/,
""),l={dj_quirks:z("quirks"),dj_opera:l,dj_khtml:z("khtml"),dj_webkit:z("webkit"),dj_safari:z("safari"),dj_chrome:z("chrome"),dj_gecko:z("mozilla"),dj_ios:z("ios"),dj_android:z("android")};p&&(l.dj_ie=!0,l["dj_ie"+x(p)]=!0,l.dj_iequirks=z("quirks"));y&&(l["dj_ff"+x(y)]=!0);l["dj_"+t]=!0;var h="",m;for(m in l)l[m]&&(h+=m+" ");f.className=C.trim(f.className+" "+h);w(function(){if(!q.isBodyLtr()){var r="dj_rtl dijitRtl "+h.replace(/ /g,"-rtl ");f.className=C.trim(f.className+" "+r+"dj_rtl dijitRtl "+
h.replace(/ /g,"-rtl "))}});return z})},"dojox/gfx/_gfxBidiSupport":function(){define("../main ./_base dojo/_base/lang dojo/_base/sniff dojo/dom dojo/_base/html dojo/_base/array ./utils ./shape ./path dojox/string/BidiEngine".split(" "),function(q,C,w,z,p,f,l,x,y,t,h){function m(f,m){var h=r(m);h&&C.utils.forEach(f,function(f){if(f instanceof C.Surface||f instanceof C.Group)f.textDir=h;f instanceof C.Text&&f.setShape({textDir:h});f instanceof C.TextPath&&f.setText({textDir:h})},f);return f}function r(f){var r=
["ltr","rtl","auto"];return f&&(f=f.toLowerCase(),0>l.indexOf(r,f))?null:f}w.getObject("gfx._gfxBidiSupport",!0,q);switch(C.renderer){case "vml":C.isVml=!0;break;case "svg":C.isSvg=!0;C.svg.useSvgWeb&&(C.isSvgWeb=!0);break;case "silverlight":C.isSilverlight=!0;break;case "canvas":case "canvasWithEvents":C.isCanvas=!0}var H=new h;w.extend(C.shape.Surface,{textDir:"",setTextDir:function(f){m(this,f)},getTextDir:function(){return this.textDir}});w.extend(C.Group,{textDir:"",setTextDir:function(f){m(this,
f)},getTextDir:function(){return this.textDir}});w.extend(C.Text,{textDir:"",formatText:function(f,r){if(r&&f&&1<f.length){var m="ltr",h=r;if("auto"==h){if(C.isVml)return f;h=H.checkContextual(f)}if(C.isVml)return m=H.checkContextual(f),h!=m?"rtl"==h?H.hasBidiChar(f)?"\u200f\u200f"+f:H.bidiTransform(f,"IRNNN","ILNNN"):"\u200e"+f:f;if(C.isSvgWeb)return"rtl"==h?H.bidiTransform(f,"IRNNN","ILNNN"):f;if(C.isSilverlight)return"rtl"==h?H.bidiTransform(f,"IRNNN","VLYNN"):H.bidiTransform(f,"ILNNN","VLYNN");
if(C.isCanvas)return"rtl"==h?"\u202b"+f+"\u202c":"\u202a"+f+"\u202c";if(C.isSvg)return 4>z("ff")?"rtl"==h?H.bidiTransform(f,"IRYNN","VLNNN"):H.bidiTransform(f,"ILYNN","VLNNN"):"\u200e"+("rtl"==h?"\u202b":"\u202a")+f+"\u202c"}return f},bidiPreprocess:function(f){return f}});w.extend(C.TextPath,{textDir:"",formatText:function(f,r){if(r&&f&&1<f.length){var m="ltr",h=r;if("auto"==h){if(C.isVml)return f;h=H.checkContextual(f)}if(C.isVml)return m=H.checkContextual(f),h!=m?"rtl"==h?H.hasBidiChar(f)?"\u200f\u200f"+
f:H.bidiTransform(f,"IRNNN","ILNNN"):"\u200e"+f:f;if(C.isSvgWeb)return"rtl"==h?H.bidiTransform(f,"IRNNN","ILNNN"):f;C.isSvg&&(f=z("opera")||4<=z("ff")?"\u200e"+("rtl"==h?"\u202b":"\u202a")+f+"\u202c":"rtl"==h?H.bidiTransform(f,"IRYNN","VLNNN"):H.bidiTransform(f,"ILYNN","VLNNN"))}return f},bidiPreprocess:function(f){f&&"string"==typeof f&&(this.origText=f,f=this.formatText(f,this.textDir));return f}});q=function(f,r,m,h){var l=f.prototype[r];f.prototype[r]=function(){var f;m&&(f=m.apply(this,arguments));
f=l.call(this,f);h&&(f=h.call(this,f,arguments));return f}};x=function(f){f&&(f.textDir&&(f.textDir=r(f.textDir)),f.text&&f.text instanceof Array&&(f.text=f.text.join(",")));!f||void 0==f.text&&!f.textDir||this.textDir==f.textDir&&f.text==this.origText||(this.origText=void 0!=f.text?f.text:this.origText,f.textDir&&(this.textDir=f.textDir),f.text=this.formatText(this.origText,this.textDir));return this.bidiPreprocess(f)};q(C.Text,"setShape",x,null);q(C.TextPath,"setText",x,null);x=function(f){(f=w.clone(f))&&
this.origText&&(f.text=this.origText);return f};q(C.Text,"getShape",null,x);q(C.TextPath,"getText",null,x);x=function(f,m){var h;m&&m[0]&&(h=r(m[0]));f.setTextDir(h?h:this.textDir);return f};q(C.Surface,"createGroup",null,x);q(C.Group,"createGroup",null,x);x=function(f){if(f){var m=f.textDir?r(f.textDir):this.textDir;m&&(f.textDir=m)}return f};q(C.Surface,"createText",x,null);q(C.Surface,"createTextPath",x,null);q(C.Group,"createText",x,null);q(C.Group,"createTextPath",x,null);C.createSurface=function(m,
h,l,t){h=C[C.renderer].createSurface(m,h,l);t=r(t);if(C.isSvgWeb)return h.textDir=t?t:f.style(p.byId(m),"direction"),h;if(C.isVml||C.isSvg||C.isCanvas)h.textDir=t?t:f.style(h.rawNode,"direction");C.isSilverlight&&(h.textDir=t?t:f.style(h._nodes[1],"direction"));return h};return C})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(q,C){if(7>=q("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(w){}var z={};q("ie")?z.byId=function(f,l){if("string"!=typeof f)return f;
var x=l||C.doc,y=f&&x.getElementById(f);if(!y||y.attributes.id.value!=f&&y.id!=f){x=x.all[f];if(!x||x.nodeName)x=[x];for(var t=0;y=x[t++];)if(y.attributes&&y.attributes.id&&y.attributes.id.value==f||y.id==f)return y}else return y}:z.byId=function(f,l){return("string"==typeof f?(l||C.doc).getElementById(f):f)||null};z.isDescendant=function(f,l){try{for(f=z.byId(f),l=z.byId(l);f;){if(f==l)return!0;f=f.parentNode}}catch(x){}return!1};q.add("css-user-select",function(f,l,x){if(!x)return!1;f=x.style;l=
["Khtml","O","Moz","Webkit"];x=l.length;var y="userSelect";do if("undefined"!==typeof f[y])return y;while(x--&&(y=l[x]+"UserSelect"));return!1});var p=q("css-user-select");z.setSelectable=p?function(f,l){z.byId(f).style[p]=l?"":"none"}:function(f,l){f=z.byId(f);var x=f.getElementsByTagName("*"),y=x.length;if(l)for(f.removeAttribute("unselectable");y--;)x[y].removeAttribute("unselectable");else for(f.setAttribute("unselectable","on");y--;)x[y].setAttribute("unselectable","on")};return z})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),
function(q,C,w,z,p,f){z=q("dojo.dnd.move.constrainedMoveable",f,{constraints:function(){},within:!1,constructor:function(f,x){x||(x={});this.constraints=x.constraints;this.within=x.within},onFirstMove:function(f){var x=this.constraintBox=this.constraints.call(this,f);x.r=x.l+x.w;x.b=x.t+x.h;this.within&&(f=C.getMarginSize(f.node),x.r-=f.w,x.b-=f.h)},onMove:function(f,x){var y=this.constraintBox,t=f.node.style;this.onMoving(f,x);x.l=x.l<y.l?y.l:y.r<x.l?y.r:x.l;x.t=x.t<y.t?y.t:y.b<x.t?y.b:x.t;t.left=
x.l+"px";t.top=x.t+"px";this.onMoved(f,x)}});p=q("dojo.dnd.move.boxConstrainedMoveable",z,{box:{},constructor:function(f,x){var y=x&&x.box;this.constraints=function(){return y}}});q=q("dojo.dnd.move.parentConstrainedMoveable",z,{area:"content",constructor:function(f,x){var y=x&&x.area;this.constraints=function(){var f=this.node.parentNode,h=w.getComputedStyle(f),m=C.getMarginBox(f,h);if("margin"==y)return m;var r=C.getMarginExtents(f,h);m.l+=r.l;m.t+=r.t;m.w-=r.w;m.h-=r.h;if("border"==y)return m;
r=C.getBorderExtents(f,h);m.l+=r.l;m.t+=r.t;m.w-=r.w;m.h-=r.h;if("padding"==y)return m;r=C.getPadExtents(f,h);m.l+=r.l;m.t+=r.t;m.w-=r.w;m.h-=r.h;return m}}});return{constrainedMoveable:z,boxConstrainedMoveable:p,parentConstrainedMoveable:q}})},"dojo/cldr/nls/number":function(){define({root:{scientificFormat:"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]",infinity:"\u221e",superscriptingExponent:"\u00d7",list:";",percentSign:"%",minusSign:"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]",
"decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"\u00a0",nan:"NaN",plusSign:"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]",currencyFormat:"\u00a4\u00a0#,##0.00",perMille:"\u2030",group:",",percentFormat:"#,##0%","decimalFormat-long":"000T",decimalFormat:"#,##0.###",decimal:".","currencySpacing-beforeCurrency-insertBetween":"\u00a0",exponential:"E"},af:!0,"af-na":!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,
"ar-eg":!0,"ar-lb":!0,"ar-ly":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-qa":!0,"ar-sa":!0,"ar-sy":!0,"ar-tn":!0,"ar-ye":!0,as:!0,asa:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,"de-ch":!0,"de-li":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,"el-cy":!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-in":!0,"en-us-posix":!0,"en-za":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,
"es-bo":!0,"es-cl":!0,"es-co":!0,"es-cr":!0,"es-ec":!0,"es-gq":!0,"es-mx":!0,"es-py":!0,"es-uy":!0,"es-ve":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ch":!0,"fr-lu":!0,ga:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,"ku-tr":!0,kw:!0,ky:!0,
lg:!0,ln:!0,lo:!0,lt:!0,lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nr:!0,nso:!0,nus:!0,nyn:!0,om:!0,or:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,rw:!0,rwk:!0,saq:!0,sbp:!0,seh:!0,ses:!0,sg:!0,sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-latn":!0,ss:!0,st:!0,sv:!0,sw:!0,
swc:!0,ta:!0,"ta-my":!0,"ta-sg":!0,te:!0,teo:!0,th:!0,ti:!0,tn:!0,to:!0,tr:!0,ts:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,ve:!0,vi:!0,vun:!0,xh:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,zu:!0})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(q,C,w,z){var p;"undefined"!==typeof dojo&&
dojo.version&&(p=1===dojo.version.major&&7===dojo.version.minor);var f;f=function(f,m,r){z(f,{sync:!!m,headers:{"X-Requested-With":null}}).then(r)};var l={},x=function(f){if(f){f=f.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var m=f.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);m&&(f=m[1])}else f="";return f},y={},t={};q.cache=function(h,m,r){var t;"string"==typeof h?/\//.test(h)?(t=h,r=m):t=C.toUrl(h.replace(/\./g,"/")+(m?"/"+m:"")):(t=h+"",r=m);h=void 0!=r&&"string"!=
typeof r?r.value:r;r=r&&r.sanitize;if("string"==typeof h)return l[t]=h,r?x(h):h;if(null===h)return delete l[t],null;t in l||f(t,!0,function(f){l[t]=f});return r?x(l[t]):l[t]};return{dynamic:!0,normalize:function(f,m){var r=f.split("!"),t=r[0];return(/^\./.test(t)?m(t):t)+(r[1]?"!"+r[1]:"")},load:function(h,m,r){h=h.split("!");var H=1<h.length,w=h[0],E=m.toUrl(h[0]);h="url:"+E;var F=y,z=function(f){r(H?x(f):f)},Q=void 0!==typeof requirejs?q.global.require.cache:m.cache;w in l?F=l[w]:Q&&h in Q?F=Q[h]:
p&&Q&&E in Q?F=Q[E]:E in l&&(F=l[E]);if(F===y)if(t[E])t[E].push(z);else{var C=t[E]=[z];f(E,!m.async,function(f){l[w]=l[E]=f;for(var m=0;m<C.length;)C[m++](f);delete t[E]})}else z(F)}}})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(q,C){function w(m,l,x){l=l.toLowerCase();if(q("ie")||q("trident")){if("auto"==x){if("height"==l)return m.offsetHeight;if("width"==l)return m.offsetWidth}if("fontweight"==l)switch(x){case 700:return"bold";default:return"normal"}}l in t||(t[l]=h.test(l));
return t[l]?f(m,x):x}var z,p={};z=q("webkit")?function(f){var m;if(1==f.nodeType){var h=f.ownerDocument.defaultView;m=h.getComputedStyle(f,null);!m&&f.style&&(f.style.display="",m=h.getComputedStyle(f,null))}return m||{}}:q("ie")&&(9>q("ie")||q("quirks"))?function(f){return 1==f.nodeType&&f.currentStyle?f.currentStyle:{}}:function(f){return 1==f.nodeType?f.ownerDocument.defaultView.getComputedStyle(f,null):{}};p.getComputedStyle=z;var f;f=q("ie")?function(f,m){if(!m)return 0;if("medium"==m)return 4;
if(m.slice&&"px"==m.slice(-2))return parseFloat(m);var h=f.style,t=f.runtimeStyle,l=h.left,x=t.left;t.left=f.currentStyle.left;try{h.left=m,m=h.pixelLeft}catch(y){m=0}h.left=l;t.left=x;return m}:function(f,m){return parseFloat(m)||0};p.toPixelValue=f;var l=function(f,m){try{return f.filters.item("DXImageTransform.Microsoft.Alpha")}catch(h){return m?{}:null}},x=9>q("ie")||10>q("ie")&&q("quirks")?function(f){try{return l(f).Opacity/100}catch(m){return 1}}:function(f){return z(f).opacity},y=9>q("ie")||
10>q("ie")&&q("quirks")?function(f,m){""===m&&(m=1);var h=100*m;1===m?(f.style.zoom="",l(f)&&(f.style.filter=f.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(f.style.zoom=1,l(f)?l(f,1).Opacity=h:f.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+h+")",l(f,1).Enabled=!0);if("tr"==f.tagName.toLowerCase())for(h=f.firstChild;h;h=h.nextSibling)"td"==h.tagName.toLowerCase()&&y(h,m);return m}:function(f,m){return f.style.opacity=m},t={left:!0,top:!0},
h=/margin|padding|width|height|max|min|offset/,m={cssFloat:1,styleFloat:1,"float":1};p.get=function(f,h){var t=C.byId(f),l=arguments.length;if(2==l&&"opacity"==h)return x(t);h=m[h]?"cssFloat"in t.style?"cssFloat":"styleFloat":h;var y=p.getComputedStyle(t);return 1==l?y:w(t,h,y[h]||t.style[h])};p.set=function(f,h,t){var l=C.byId(f),x=arguments.length,q="opacity"==h;h=m[h]?"cssFloat"in l.style?"cssFloat":"styleFloat":h;if(3==x)return q?y(l,t):l.style[h]=t;for(var w in h)p.set(f,w,h[w]);return p.getComputedStyle(l)};
return p})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(q,C,w,z){w(function(){C("highcontrast")&&q.add(z.body(),"dijit_a11y")});return C})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(q,C){return q("dijit._Contained",null,{_getSibling:function(q){var z=this.domNode;do z=z[q+"Sibling"];while(z&&1!=z.nodeType);return z&&C.byNode(z)},getPreviousSibling:function(){return this._getSibling("previous")},
getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var q=this.getParent();return q&&q.getIndexOfChild?q.getIndexOfChild(this):-1}})})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(q,C,w,z){var p={fieldToObject:function(f){var l=null;if(f=C.byId(f)){var x=f.name,y=(f.type||"").toLowerCase();if(x&&y&&!f.disabled)if("radio"==y||"checkbox"==y)f.checked&&(l=f.value);else if(f.multiple)for(l=[],f=[f.firstChild];f.length;)for(x=
f.pop();x;x=x.nextSibling)if(1==x.nodeType&&"option"==x.tagName.toLowerCase())x.selected&&l.push(x.value);else{x.nextSibling&&f.push(x.nextSibling);x.firstChild&&f.push(x.firstChild);break}else l=f.value}return l},toObject:function(f){var l={};f=C.byId(f).elements;for(var x=0,y=f.length;x<y;++x){var t=f[x],h=t.name,m=(t.type||"").toLowerCase();if(h&&m&&0>"file|submit|image|reset|button".indexOf(m)&&!t.disabled){var r=l,w=h,t=p.fieldToObject(t);if(null!==t){var z=r[w];"string"==typeof z?r[w]=[z,t]:
q.isArray(z)?z.push(t):r[w]=t}"image"==m&&(l[h+".x"]=l[h+".y"]=l[h].x=l[h].y=0)}}return l},toQuery:function(f){return w.objectToQuery(p.toObject(f))},toJson:function(f,l){return z.stringify(p.toObject(f),null,l?4:0)}};return p})},"dojo/request/default":function(){define(["exports","require","../has"],function(q,C,w){var z=w("config-requestProvider");z||(z="./xhr");q.getPlatformDefaultId=function(){return"./xhr"};q.load=function(p,f,l,x){C(["platform"==p?"./xhr":z],function(f){l(f)})}})},"dojox/gfx/matrix":function(){define(["./_base",
"dojo/_base/lang"],function(q,C){var w=q.matrix={},z={};w._degToRad=function(p){return z[p]||(z[p]=Math.PI*p/180)};w._radToDeg=function(p){return p/Math.PI*180};w.Matrix2D=function(p){if(p)if("number"==typeof p)this.xx=this.yy=p;else if(p instanceof Array){if(0<p.length){for(var f=w.normalize(p[0]),l=1;l<p.length;++l){var x=f,y=w.normalize(p[l]),f=new w.Matrix2D;f.xx=x.xx*y.xx+x.xy*y.yx;f.xy=x.xx*y.xy+x.xy*y.yy;f.yx=x.yx*y.xx+x.yy*y.yx;f.yy=x.yx*y.xy+x.yy*y.yy;f.dx=x.xx*y.dx+x.xy*y.dy+x.dx;f.dy=x.yx*
y.dx+x.yy*y.dy+x.dy}C.mixin(this,f)}}else C.mixin(this,p)};C.extend(w.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});C.mixin(w,{identity:new w.Matrix2D,flipX:new w.Matrix2D({xx:-1}),flipY:new w.Matrix2D({yy:-1}),flipXY:new w.Matrix2D({xx:-1,yy:-1}),translate:function(p,f){return 1<arguments.length?new w.Matrix2D({dx:p,dy:f}):new w.Matrix2D({dx:p.x,dy:p.y})},scale:function(p,f){return 1<arguments.length?new w.Matrix2D({xx:p,yy:f}):"number"==typeof p?new w.Matrix2D({xx:p,yy:p}):new w.Matrix2D({xx:p.x,yy:p.y})},
rotate:function(p){var f=Math.cos(p);p=Math.sin(p);return new w.Matrix2D({xx:f,xy:-p,yx:p,yy:f})},rotateg:function(p){return w.rotate(w._degToRad(p))},skewX:function(p){return new w.Matrix2D({xy:Math.tan(p)})},skewXg:function(p){return w.skewX(w._degToRad(p))},skewY:function(p){return new w.Matrix2D({yx:Math.tan(p)})},skewYg:function(p){return w.skewY(w._degToRad(p))},reflect:function(p,f){1==arguments.length&&(f=p.y,p=p.x);var l=p*p,x=f*f,y=l+x,t=2*p*f/y;return new w.Matrix2D({xx:2*l/y-1,xy:t,yx:t,
yy:2*x/y-1})},project:function(p,f){1==arguments.length&&(f=p.y,p=p.x);var l=p*p,x=f*f,y=l+x,t=p*f/y;return new w.Matrix2D({xx:l/y,xy:t,yx:t,yy:x/y})},normalize:function(p){return p instanceof w.Matrix2D?p:new w.Matrix2D(p)},isIdentity:function(p){return 1==p.xx&&0==p.xy&&0==p.yx&&1==p.yy&&0==p.dx&&0==p.dy},clone:function(p){var f=new w.Matrix2D,l;for(l in p)"number"==typeof p[l]&&"number"==typeof f[l]&&f[l]!=p[l]&&(f[l]=p[l]);return f},invert:function(p){p=w.normalize(p);var f=p.xx*p.yy-p.xy*p.yx;
return p=new w.Matrix2D({xx:p.yy/f,xy:-p.xy/f,yx:-p.yx/f,yy:p.xx/f,dx:(p.xy*p.dy-p.yy*p.dx)/f,dy:(p.yx*p.dx-p.xx*p.dy)/f})},_multiplyPoint:function(p,f,l){return{x:p.xx*f+p.xy*l+p.dx,y:p.yx*f+p.yy*l+p.dy}},multiplyPoint:function(p,f,l){p=w.normalize(p);return"number"==typeof f&&"number"==typeof l?w._multiplyPoint(p,f,l):w._multiplyPoint(p,f.x,f.y)},multiplyRectangle:function(p,f){var l=w.normalize(p);f=f||{x:0,y:0,width:0,height:0};if(w.isIdentity(l))return{x:f.x,y:f.y,width:f.width,height:f.height};
var x=w.multiplyPoint(l,f.x,f.y),y=w.multiplyPoint(l,f.x,f.y+f.height),t=w.multiplyPoint(l,f.x+f.width,f.y),h=w.multiplyPoint(l,f.x+f.width,f.y+f.height),l=Math.min(x.x,y.x,t.x,h.x),m=Math.min(x.y,y.y,t.y,h.y),r=Math.max(x.x,y.x,t.x,h.x),x=Math.max(x.y,y.y,t.y,h.y);return{x:l,y:m,width:r-l,height:x-m}},multiply:function(p){for(var f=w.normalize(p),l=1;l<arguments.length;++l){var x=f,y=w.normalize(arguments[l]),f=new w.Matrix2D;f.xx=x.xx*y.xx+x.xy*y.yx;f.xy=x.xx*y.xy+x.xy*y.yy;f.yx=x.yx*y.xx+x.yy*
y.yx;f.yy=x.yx*y.xy+x.yy*y.yy;f.dx=x.xx*y.dx+x.xy*y.dy+x.dx;f.dy=x.yx*y.dx+x.yy*y.dy+x.dy}return f},_sandwich:function(p,f,l){return w.multiply(w.translate(f,l),p,w.translate(-f,-l))},scaleAt:function(p,f,l,x){switch(arguments.length){case 4:return w._sandwich(w.scale(p,f),l,x);case 3:return"number"==typeof l?w._sandwich(w.scale(p),f,l):w._sandwich(w.scale(p,f),l.x,l.y)}return w._sandwich(w.scale(p),f.x,f.y)},rotateAt:function(p,f,l){return 2<arguments.length?w._sandwich(w.rotate(p),f,l):w._sandwich(w.rotate(p),
f.x,f.y)},rotategAt:function(p,f,l){return 2<arguments.length?w._sandwich(w.rotateg(p),f,l):w._sandwich(w.rotateg(p),f.x,f.y)},skewXAt:function(p,f,l){return 2<arguments.length?w._sandwich(w.skewX(p),f,l):w._sandwich(w.skewX(p),f.x,f.y)},skewXgAt:function(p,f,l){return 2<arguments.length?w._sandwich(w.skewXg(p),f,l):w._sandwich(w.skewXg(p),f.x,f.y)},skewYAt:function(p,f,l){return 2<arguments.length?w._sandwich(w.skewY(p),f,l):w._sandwich(w.skewY(p),f.x,f.y)},skewYgAt:function(p,f,l){return 2<arguments.length?
w._sandwich(w.skewYg(p),f,l):w._sandwich(w.skewYg(p),f.x,f.y)}});q.Matrix2D=w.Matrix2D;return w})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(q,C,w,z,p){var f=new q,l;w(function(){var x=p.getBox();f._rlh=C(window,"resize",function(){var t=p.getBox();if(x.h!=t.h||x.w!=t.w)x=t,f.emit("resize")});if(8==z("ie")){var y=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=y&&(y=screen.deviceXDPI,f.emit("resize"))},500)}z("ios")&&
(C(document,"focusin",function(f){l=f.target}),C(document,"focusout",function(f){l=null}))});f.getEffectiveBox=function(f){f=p.getBox(f);var y=l&&l.tagName&&l.tagName.toLowerCase();z("ios")&&l&&!l.readOnly&&("textarea"==y||"input"==y&&/^(color|email|number|password|search|tel|text|url)$/.test(l.type))&&(f.h*=0==orientation||180==orientation?.66:.4,y=l.getBoundingClientRect(),f.h=Math.max(f.h,y.top+y.height));return f};return f})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(q,C,w,z,p,f,l,x,y,t,h,m,r,H,K,E){function F(f){return eval("("+f+")")}function M(f){var m=f._nameCaseMap,r=f.prototype;if(!m||m._extendCnt<L){var m=f._nameCaseMap={},h;for(h in r)"_"!==h.charAt(0)&&(m[h.toLowerCase()]=h);m._extendCnt=L}return m}function Q(f,m){var r=f.join();if(!J[r]){for(var h=[],t=0,l=f.length;t<l;t++){var x=f[t];h[h.length]=J[x]=J[x]||w.getObject(x)||~x.indexOf("/")&&(m?m(x):q(x))}t=h.shift();J[r]=h.length?t.createSubclass?t.createSubclass(h):t.extend.apply(t,h):t}return J[r]}
new Date("X");var L=0;y.after(w,"extend",function(){L++},!0);var J={},P={_clearCache:function(){L++;J={}},_functionFromScript:function(f,m){var h="",r="",t=f.getAttribute(m+"args")||f.getAttribute("args"),l=f.getAttribute("with"),t=(t||"").split(/\s*,\s*/);l&&l.length&&z.forEach(l.split(/\s*,\s*/),function(f){h+="with("+f+"){";r+="}"});return new Function(t,h+f.innerHTML+r)},instantiate:function(f,m,h){m=m||{};h=h||{};var r=(h.scope||C._scopeName)+"Type",t="data-"+(h.scope||C._scopeName)+"-",l=t+
"type",x=t+"mixins",y=[];z.forEach(f,function(f){var h=r in m?m[r]:f.getAttribute(l)||f.getAttribute(r);if(h){var t=f.getAttribute(x),h=t?[h].concat(t.split(/\s*,\s*/)):[h];y.push({node:f,types:h})}});return this._instantiate(y,m,h)},_instantiate:function(f,m,h,r){function l(f){m._started||h.noStart||z.forEach(f,function(f){"function"!==typeof f.startup||f._started||f.startup()});return f}f=z.map(f,function(f){var r=f.ctor||Q(f.types,h.contextRequire);if(!r)throw Error("Unable to resolve constructor for: '"+
f.types.join()+"'");return this.construct(r,f.node,m,h,f.scripts,f.inherited)},this);return r?t(f).then(l):l(f)},construct:function(f,m,t,l,p,q){function E(b){na&&w.setObject(na,b);for(X=0;X<$.length;X++)y[$[X].advice||"after"](b,$[X].method,w.hitch(b,$[X].func),!0);for(X=0;X<ia.length;X++)ia[X].call(b);for(X=0;X<ga.length;X++)b.watch(ga[X].prop,ga[X].func);for(X=0;X<ca.length;X++)K(b,ca[X].event,ca[X].func);return b}var Q=f&&f.prototype;l=l||{};var L={};l.defaults&&w.mixin(L,l.defaults);q&&w.mixin(L,
q);var J;r("dom-attributes-explicit")?J=m.attributes:r("dom-attributes-specified-flag")?J=z.filter(m.attributes,function(b){return b.specified}):(q=(/^input$|^img$/i.test(m.nodeName)?m:m.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),J=z.map(q.split(/\s+/),function(b){var a=b.toLowerCase();return{name:b,value:"LI"==m.nodeName&&"value"==b||"enctype"==a?m.getAttribute(a):m.getAttributeNode(a).value}}));var P=l.scope||C._scopeName;
q="data-"+P+"-";var U={};"dojo"!==P&&(U[q+"props"]="data-dojo-props",U[q+"type"]="data-dojo-type",U[q+"mixins"]="data-dojo-mixins",U[P+"type"]="dojoType",U[q+"id"]="data-dojo-id");for(var X=0,S,P=[],na,ja;S=J[X++];){var da=S.name,b=da.toLowerCase();S=S.value;switch(U[b]||b){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":ja=S;break;case "data-dojo-id":case "jsid":na=S;break;case "data-dojo-attach-point":case "dojoattachpoint":L.dojoAttachPoint=S;break;case "data-dojo-attach-event":case "dojoattachevent":L.dojoAttachEvent=
S;break;case "class":L["class"]=m.className;break;case "style":L.style=m.style&&m.style.cssText;break;default:if(da in Q||(da=M(f)[b]||da),da in Q)switch(typeof Q[da]){case "string":L[da]=S;break;case "number":L[da]=S.length?Number(S):NaN;break;case "boolean":L[da]="false"!=S.toLowerCase();break;case "function":""===S||-1!=S.search(/[^\w\.]+/i)?L[da]=new Function(S):L[da]=w.getObject(S,!1)||new Function(S);P.push(da);break;default:b=Q[da],L[da]=b&&"length"in b?S?S.split(/\s*,\s*/):[]:b instanceof
Date?""==S?new Date(""):"now"==S?new Date:h.fromISOString(S):b instanceof x?C.baseUrl+S:F(S)}else L[da]=S}}for(J=0;J<P.length;J++)U=P[J].toLowerCase(),m.removeAttribute(U),m[U]=null;if(ja)try{ja=F.call(l.propsThis,"{"+ja+"}"),w.mixin(L,ja)}catch(ka){throw Error(ka.toString()+" in data-dojo-props\x3d'"+ja+"'");}w.mixin(L,t);p||(p=f&&(f._noScript||Q._noScript)?[]:H("\x3e script[type^\x3d'dojo/']",m));var $=[],ia=[],ga=[],ca=[];if(p)for(X=0;X<p.length;X++)U=p[X],m.removeChild(U),t=U.getAttribute(q+"event")||
U.getAttribute("event"),l=U.getAttribute(q+"prop"),ja=U.getAttribute(q+"method"),P=U.getAttribute(q+"advice"),J=U.getAttribute("type"),U=this._functionFromScript(U,q),t?"dojo/connect"==J?$.push({method:t,func:U}):"dojo/on"==J?ca.push({event:t,func:U}):L[t]=U:"dojo/aspect"==J?$.push({method:ja,advice:P,func:U}):"dojo/watch"==J?ga.push({prop:l,func:U}):ia.push(U);f=(p=f.markupFactory||Q.markupFactory)?p(L,m,f):new f(L,m);return f.then?f.then(E):E(f)},scan:function(f,h){function r(b){if(!b.inherited){b.inherited=
{};var f=b.node,m=r(b.parent),f={dir:f.getAttribute("dir")||m.dir,lang:f.getAttribute("lang")||m.lang,textDir:f.getAttribute(H)||m.textDir},h;for(h in f)f[h]&&(b.inherited[h]=f[h])}return b.inherited}var t=[],l=[],x={},y=(h.scope||C._scopeName)+"Type",p="data-"+(h.scope||C._scopeName)+"-",w=p+"type",H=p+"textdir",p=p+"mixins",E=f.firstChild,F=h.inherited;if(!F){var K=function(b,f){return b.getAttribute&&b.getAttribute(f)||b.parentNode&&K(b.parentNode,f)},F={dir:K(f,"dir"),lang:K(f,"lang"),textDir:K(f,
H)},M;for(M in F)F[M]||delete F[M]}for(var F={inherited:F},L,J;;)if(E)if(1!=E.nodeType)E=E.nextSibling;else if(L&&"script"==E.nodeName.toLowerCase())(P=E.getAttribute("type"))&&/^dojo\/\w/i.test(P)&&L.push(E),E=E.nextSibling;else if(J)E=E.nextSibling;else{var P=E.getAttribute(w)||E.getAttribute(y);M=E.firstChild;if(P||M&&(3!=M.nodeType||M.nextSibling)){J=null;if(P){var b=E.getAttribute(p);L=b?[P].concat(b.split(/\s*,\s*/)):[P];try{J=Q(L,h.contextRequire)}catch(ka){}J||z.forEach(L,function(b){~b.indexOf("/")&&
!x[b]&&(x[b]=!0,l[l.length]=b)});b=J&&!J.prototype._noScript?[]:null;F={types:L,ctor:J,parent:F,node:E,scripts:b};F.inherited=r(F);t.push(F)}else F={node:E,scripts:L,parent:F};L=b;J=E.stopParser||J&&J.prototype.stopParser&&!h.template;E=M}else E=E.nextSibling}else{if(!F||!F.node)break;E=F.node.nextSibling;J=!1;F=F.parent;L=F.scripts}var $=new m;l.length?(h.contextRequire||q)(l,function(){$.resolve(z.filter(t,function(b){if(!b.ctor)try{b.ctor=Q(b.types,h.contextRequire)}catch(f){}for(var m=b.parent;m&&
!m.types;)m=m.parent;var r=b.ctor&&b.ctor.prototype;b.instantiateChildren=!(r&&r.stopParser&&!h.template);b.instantiate=!m||m.instantiate&&m.instantiateChildren;return b.instantiate}))}):$.resolve(t);return $.promise},_require:function(f,h){var r=F("{"+f.innerHTML+"}"),t=[],l=[],x=new m,y=h&&h.contextRequire||q,p;for(p in r)t.push(p),l.push(r[p]);y(l,function(){for(var f=0;f<t.length;f++)w.setObject(t[f],arguments[f]);x.resolve(arguments)});return x.promise},_scanAmd:function(f,h){var r=new m,t=r.promise;
r.resolve(!0);var l=this;H("script[type\x3d'dojo/require']",f).forEach(function(f){t=t.then(function(){return l._require(f,h)});f.parentNode.removeChild(f)});return t},parse:function(m,h){var r;!h&&m&&m.rootNode?(h=m,r=h.rootNode):!m||!w.isObject(m)||"nodeType"in m?r=m:h=m;r=r?f.byId(r):l.body();h=h||{};var t=h.template?{template:!0}:{},x=[],y=this,p=this._scanAmd(r,h).then(function(){return y.scan(r,h)}).then(function(f){return y._instantiate(f,t,h,!0)}).then(function(f){return x=x.concat(f)}).otherwise(function(f){console.error("dojo/parser::parse() error",
f);throw f;});w.mixin(x,p);return x}};C.parser=P;p.parseOnLoad&&E(100,P,"parse");return P})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(q){function C(){throw new TypeError("abstract");}return q.extend(function(){},{then:function(q,z,p){C()},cancel:function(q,z){C()},isResolved:function(){C()},isRejected:function(){C()},isFulfilled:function(){C()},isCanceled:function(){C()},always:function(q){return this.then(q,q)},otherwise:function(q){return this.then(null,q)},trace:function(){return this},
traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(q,C,w,z){function p(f){var m=t[f.options.handleAs];f.data=m?m(f):f.data||f.text;return f}z.add("activex","undefined"!==typeof ActiveXObject);z.add("dom-parser",function(f){return"DOMParser"in f});var f;if(z("activex")){var l=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0",
"MSXML.DOMDocument"],x;f=function(f){function m(f){try{var m=new ActiveXObject(f);m.async=!1;m.loadXML(t);r=m;x=f}catch(h){return!1}return!0}var r=f.data,t=f.text;r&&z("dom-qsa2.1")&&!r.querySelectorAll&&z("dom-parser")&&(r=(new DOMParser).parseFromString(t,"application/xml"));r&&r.documentElement||x&&m(x)||w.some(l,m);return r}}var y=function(f){return z("native-xhr2-blob")||"blob"!==f.options.handleAs||"undefined"===typeof Blob?f.xhr.response:new Blob([f.xhr.response],{type:f.xhr.getResponseHeader("Content-Type")})},
t={javascript:function(f){return C.eval(f.text||"")},json:function(f){return q.parse(f.text||null)},xml:f,blob:y,arraybuffer:y,document:y};p.register=function(f,m){t[f]=m};return p})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(q,C,w,z){return C("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(p,f){var l=this.containerNode;
if(0<f){for(l=l.firstChild;0<f;)1==l.nodeType&&f--,l=l.nextSibling;l?f="before":(l=this.containerNode,f="last")}w.place(p.domNode,l,f);this._started&&!p._started&&p.startup()},removeChild:function(p){"number"==typeof p&&(p=this.getChildren()[p]);p&&(p=p.domNode)&&p.parentNode&&p.parentNode.removeChild(p)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(p,f){z.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.",
"","2.0");var l=this.getChildren(),x=q.indexOf(l,p);return l[x+f]},getIndexOfChild:function(p){return q.indexOf(this.getChildren(),p)}})})},"dojo/aspect":function(){define([],function(){function q(f,l,t,h){var m=f[l],r="around"==l,p;if(r){var q=t(function(){return m.advice(this,arguments)});p={remove:function(){q&&(q=f=t=null)},advice:function(f,r){return q?q.apply(f,r):m.advice(f,r)}}}else p={remove:function(){if(p.advice){var m=p.previous,r=p.next;r||m?(m?m.next=r:f[l]=r,r&&(r.previous=m)):delete f[l];
f=t=p.advice=null}},id:z++,advice:t,receiveArguments:h};if(m&&!r)if("after"==l){for(;m.next&&(m=m.next););m.next=p;p.previous=m}else"before"==l&&(f[l]=p,p.next=m,m.previous=p);else f[l]=p;return p}function C(f){return function(l,t,h,m){var r=l[t],p;r&&r.target==l||(l[t]=p=function(){for(var f=z,m=arguments,r=p.before;r;)m=r.advice.apply(this,m)||m,r=r.next;if(p.around)var h=p.around.advice(this,m);for(r=p.after;r&&r.id<f;){if(r.receiveArguments)var t=r.advice.apply(this,m),h=t===w?h:t;else h=r.advice.call(this,
h,m);r=r.next}return h},r&&(p.around={advice:function(f,m){return r.apply(f,m)}}),p.target=l);l=q(p||r,f,h,m);h=null;return l}}var w,z=0,p=C("after"),f=C("before"),l=C("around");return{before:f,around:l,after:p}})},"dojo/cldr/supplemental":function(){define(["../_base/kernel","../_base/lang","../i18n"],function(q,C,w){var z={};C.setObject("cldr.supplemental",z,q);z.getFirstDayOfWeek=function(p){p={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,
ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[z._region(p)];return void 0===p?1:p};z._region=function(p){p=w.normalizeLocale(p);p=p.split("-");var f=p[1];f?4==f.length&&(f=p[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",
az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",
ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",
si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",
bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",
hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",
mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",
sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[p[0]];
return f};z.getWeekend=function(p){var f=z._region(p);p={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f];f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===p&&(p=6);void 0===f&&(f=0);return{start:p,end:f}};return z})},"dojo/errors/CancelError":function(){define(["./create"],function(q){return q("CancelError",null,null,{dojoType:"cancel"})})},"dijit/a11yclick":function(){define(["dojo/keys",
"dojo/mouse","dojo/on","dojo/touch"],function(q,C,w,z){function p(f){if((f.keyCode===q.ENTER||f.keyCode===q.SPACE)&&!/input|button|textarea/i.test(f.target.nodeName))for(f=f.target;f;f=f.parentNode)if(f.dojoClick)return!0}var f;w(document,"keydown",function(l){p(l)?(f=l.target,l.preventDefault()):f=null});w(document,"keyup",function(l){p(l)&&l.target==f&&(f=null,w.emit(l.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:l.ctrlKey,shiftKey:l.shiftKey,metaKey:l.metaKey,altKey:l.altKey,_origType:l.type}))});
var l=function(f,l){f.dojoClick=!0;return w(f,"click",l)};l.click=l;l.press=function(f,l){var t=w(f,z.press,function(f){("mousedown"!=f.type||C.isLeft(f))&&l(f)}),h=w(f,"keydown",function(f){f.keyCode!==q.ENTER&&f.keyCode!==q.SPACE||l(f)});return{remove:function(){t.remove();h.remove()}}};l.release=function(f,l){var t=w(f,z.release,function(f){("mouseup"!=f.type||C.isLeft(f))&&l(f)}),h=w(f,"keyup",function(f){f.keyCode!==q.ENTER&&f.keyCode!==q.SPACE||l(f)});return{remove:function(){t.remove();h.remove()}}};
l.move=z.move;return l})},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E",
"dateFormatItem-MMMEd":"MMM d, E",eraNarrow:["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday",
"dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}",
"field-hour":"Hour","months-format-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),
"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],eraAbbr:["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod",
"days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),
"field-zone":"Zone","months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),eraNames:["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d",
"days-format-narrow":"SMTWTFS".split(""),"field-month":"Month","days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday",
"dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week",
"field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},aa:!0,af:!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,"ar-iq":!0,"ar-jo":!0,"ar-lb":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-sy":!0,"ar-tn":!0,as:!0,asa:!0,ast:!0,
az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,byn:!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-bw":!0,"en-bz":!0,"en-ca":!0,"en-gb":!0,"en-hk":!0,"en-ie":!0,"en-in":!0,"en-mt":!0,"en-nz":!0,"en-pk":!0,"en-sg":!0,"en-za":!0,"en-zw":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,"es-cl":!0,"es-co":!0,"es-gt":!0,"es-hn":!0,"es-mx":!0,
"es-pa":!0,"es-pe":!0,"es-pr":!0,"es-us":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ca":!0,"fr-ch":!0,fur:!0,fy:!0,ga:!0,gd:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,ksh:!0,"ku-tr":!0,kw:!0,ky:!0,lag:!0,lg:!0,lkt:!0,ln:!0,lo:!0,lt:!0,
lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,"ne-in":!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nus:!0,nyn:!0,om:!0,or:!0,os:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,"ru-ua":!0,rw:!0,rwk:!0,sah:!0,saq:!0,sbp:!0,se:!0,seh:!0,ses:!0,sg:!0,sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-cyrl-ba":!0,"sr-latn":!0,
"sr-latn-me":!0,ssy:!0,sv:!0,"sv-fi":!0,sw:!0,swc:!0,ta:!0,te:!0,teo:!0,th:!0,ti:!0,"ti-er":!0,to:!0,tr:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,vi:!0,vo:!0,vun:!0,wae:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hant-mo":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,zu:!0})},"dojo/topic":function(){define(["./Evented"],function(q){var C=new q;return{publish:function(q,
z){return C.emit.apply(C,arguments)},subscribe:function(q,z){return C.on.apply(C,arguments)}}})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(q,C,w,z,p,f,l,x,y){return f("dijit.layout._LayoutWidget",[C,w,z],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,
"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var f=this.getParent&&this.getParent();f&&f.isLayoutContainer||(this.resize(),this.own(p.on("resize",q.hitch(this,"resize"))))}},resize:function(f,h){var m=this.domNode;f&&x.setMarginBox(m,f);var r=h||{};q.mixin(r,f||{});"h"in r&&"w"in r||(r=q.mixin(x.getMarginBox(m),r));var l=y.getComputedStyle(m),p=x.getMarginExtents(m,l),w=x.getBorderExtents(m,l),r=this._borderBox={w:r.w-(p.w+w.w),h:r.h-(p.h+w.h)},p=x.getPadExtents(m,
l);this._contentBox={l:y.toPixelValue(m,l.paddingLeft),t:y.toPixelValue(m,l.paddingTop),w:r.w-p.w,h:r.h-p.h};this.layout()},layout:function(){},_setupChild:function(f){l.add(f.domNode,this.baseClass+"-child "+(f.baseClass?this.baseClass+"-"+f.baseClass:""))},addChild:function(f,h){this.inherited(arguments);this._started&&this._setupChild(f)},removeChild:function(f){l.remove(f.domNode,this.baseClass+"-child"+(f.baseClass?" "+this.baseClass+"-"+f.baseClass:""));this.inherited(arguments)}})})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(q,C,w,z,p,f,l,x){function y(m,r,h,l,t){l=x.hitch(h,l);if(!m||!m.addEventListener&&!m.attachEvent)return z.after(m||q.global,r,l,!0);"string"==typeof r&&"on"==r.substring(0,2)&&(r=r.substring(2));m||(m=q.global);if(!t)switch(r){case "keypress":r=H;break;case "mouseenter":r=f.enter;break;case "mouseleave":r=f.leave}return C(m,r,l,t)}function t(f){f.keyChar=f.charCode?String.fromCharCode(f.charCode):"";f.charOrCode=f.keyChar||f.keyCode}l.add("events-keypress-typed",function(){var f={charCode:0};
try{f=document.createEvent("KeyboardEvent"),(f.initKeyboardEvent||f.initKeyEvent).call(f,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(m){}return 0==f.charCode&&!l("opera")});var h={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},m=l("mac")?"metaKey":"ctrlKey",r=function(f,m){var r=x.mixin({},f,m);t(r);r.preventDefault=function(){f.preventDefault()};r.stopPropagation=function(){f.stopPropagation()};return r},H;H=l("events-keypress-typed")?function(f,
m){var t=C(f,"keydown",function(f){var t=f.keyCode,p=13!=t&&32!=t&&(27!=t||!l("ie"))&&(48>t||90<t)&&(96>t||111<t)&&(186>t||192<t)&&(219>t||222<t)&&229!=t;if(p||f.ctrlKey){p=p?0:t;if(f.ctrlKey){if(3==t||13==t)return m.call(f.currentTarget,f);p=95<p&&106>p?p-48:!f.shiftKey&&65<=p&&90>=p?p+32:h[p]||p}t=r(f,{type:"keypress",faux:!0,charCode:p});m.call(f.currentTarget,t);if(l("ie"))try{f.keyCode=t.keyCode}catch(x){}}}),p=C(f,"keypress",function(f){var h=f.charCode;f=r(f,{charCode:32<=h?h:0,faux:!0});return m.call(this,
f)});return{remove:function(){t.remove();p.remove()}}}:l("opera")?function(f,m){return C(f,"keypress",function(f){var h=f.which;3==h&&(h=99);h=32>h&&!f.shiftKey?0:h;f.ctrlKey&&!f.shiftKey&&65<=h&&90>=h&&(h+=32);return m.call(this,r(f,{charCode:h}))})}:function(f,m){return C(f,"keypress",function(f){t(f);return m.call(this,f)})};var K={_keypress:H,connect:function(f,m,r,h,l){var t=arguments,p=[],x=0;p.push("string"==typeof t[0]?null:t[x++],t[x++]);var q=t[x+1];p.push("string"==typeof q||"function"==
typeof q?t[x++]:null,t[x++]);for(q=t.length;x<q;x++)p.push(t[x]);return y.apply(this,p)},disconnect:function(f){f&&f.remove()},subscribe:function(f,m,r){return w.subscribe(f,x.hitch(m,r))},publish:function(f,m){return w.publish.apply(w,[f].concat(m))},connectPublisher:function(f,m,r){var h=function(){K.publish(f,arguments)};return r?K.connect(m,r,h):K.connect(m,h)},isCopyKey:function(f){return f[m]}};K.unsubscribe=K.disconnect;x.mixin(q,K);return K})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(q,C,w,z,p,f,l,x,y){var t=w.mixin,h={},m=h._Line=function(f,m){this.start=f;this.end=m};m.prototype.getValue=function(f){return(this.end-this.start)*f+this.start};var r=h.Animation=function(f){t(this,f);w.isArray(this.curve)&&(this.curve=new m(this.curve[0],this.curve[1]))};r.prototype=new z;w.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var f=this._percent,m=this.easing;return m?m(f):f},_fire:function(f,m){var r=m||[];if(this[f])if(C.debugAtAllCosts)this[f].apply(this,
r);else try{this[f].apply(this,r)}catch(h){console.error("exception in animation handler for:",f),console.error(h)}return this},play:function(f,m){this._delayTimer&&this._clearTimer();if(m)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var r=f||this.delay,h=w.hitch(this,"_play",m);if(0<r)return this._delayTimer=setTimeout(h,r),this;h();return this},_play:function(f){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;f=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[f]));this._fire("onPlay",[f]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(f,m){this._stopTimer();this._active=this._paused=!0;this._percent=f;m&&this.play();return this},stop:function(f){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();f&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var f=
(new Date).valueOf(),f=0===this.duration?1:(f-this._startTime)/this.duration;1<=f&&(f=1);this._percent=f;this.easing&&(f=this.easing(f));this._fire("onAnimate",[this.curve.getValue(f)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var H=0,K=null,E={run:function(){}};w.extend(r,{_startTimer:function(){this._timer||(this._timer=f.after(E,"run",w.hitch(this,"_cycle"),!0),H++);K||(K=setInterval(w.hitch(E,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,H--);0>=H&&(clearInterval(K),K=null,H=0)}});var F=l("ie")?function(f){var m=f.style;m.width.length||"auto"!=y.get(f,"width")||(m.width="auto")}:function(){};
h._fade=function(m){m.node=x.byId(m.node);var r=t({properties:{}},m);m=r.properties.opacity={};m.start="start"in r?r.start:function(){return+y.get(r.node,"opacity")||0};m.end=r.end;m=h.animateProperty(r);f.after(m,"beforeBegin",w.partial(F,r.node),!0);return m};h.fadeIn=function(f){return h._fade(t({end:1},f))};h.fadeOut=function(f){return h._fade(t({end:0},f))};h._defaultEasing=function(f){return.5+Math.sin((f+1.5)*Math.PI)/2};var M=function(f){this._properties=f;for(var m in f){var r=f[m];r.start instanceof
p&&(r.tempColor=new p)}};M.prototype.getValue=function(f){var m={},r;for(r in this._properties){var h=this._properties[r],l=h.start;l instanceof p?m[r]=p.blendColors(l,h.end,f,h.tempColor).toCss():w.isArray(l)||(m[r]=(h.end-l)*f+l+("opacity"!=r?h.units||"px":0))}return m};h.animateProperty=function(m){var h=m.node=x.byId(m.node);m.easing||(m.easing=q._defaultEasing);m=new r(m);f.after(m,"beforeBegin",w.hitch(m,function(){var f={},m;for(m in this.properties){var r=function(f,m){var r={height:f.offsetHeight,
width:f.offsetWidth}[m];if(void 0!==r)return r;r=y.get(f,m);return"opacity"==m?+r:x?r:parseFloat(r)};if("width"==m||"height"==m)this.node.display="block";var l=this.properties[m];w.isFunction(l)&&(l=l(h));l=f[m]=t({},w.isObject(l)?l:{end:l});w.isFunction(l.start)&&(l.start=l.start(h));w.isFunction(l.end)&&(l.end=l.end(h));var x=0<=m.toLowerCase().indexOf("color");"end"in l?"start"in l||(l.start=r(h,m)):l.end=r(h,m);x?(l.start=new p(l.start),l.end=new p(l.end)):l.start="opacity"==m?+l.start:parseFloat(l.start)}this.curve=
new M(f)}),!0);f.after(m,"onAnimate",w.hitch(y,"set",m.node),!0);return m};h.anim=function(f,m,l,t,p,x){return h.animateProperty({node:f,duration:l||r.prototype.duration,properties:m,easing:t,onEnd:p}).play(x||0)};t(q,h);q._Animation=r;return h})},"dojo/_base/config":function(){define(["../has","require"],function(q,C){var w={},z=C.rawConfig,p;for(p in z)w[p]=z[p];var z={gfxRenderer:"canvas,svg,vml,silverlight",defaultDuration:100,parseOnLoad:0,async:1,noGlobals:1},f;for(f in z)!z.hasOwnProperty(f)||
f in w||(w[f]=z[f]);if(!w.locale){var l;"undefined"!==typeof navigator&&navigator.languages&&navigator.languages[0]?l=navigator.languages[0]:"undefined"!==typeof document&&(document.documentElement.lang||"").trim()?l=document.documentElement.lang:"undefined"!==typeof requirejs&&requirejs.s.contexts._.config&&requirejs.s.contexts._.config.locale?l=requirejs.s.contexts._.config.locale:"undefined"!=typeof navigator&&(l=navigator.language||navigator.userLanguage);l&&(w.locale=l.toLowerCase())}return w})},
"dojo/selector/_loader":function(){define(["../has","require"],function(q,C){var w=document.createElement("div");q.add("dom-qsa2.1",!!w.querySelectorAll);q.add("dom-qsa3",function(){try{return w.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==w.querySelectorAll(".TEST:empty").length}catch(p){}});var z;return{load:function(p,f,l,x){x=C;p="default"==p?q("config-selectorEngine")||"css3":p;p="css2"==p||"lite"==p?"./lite":"css2.1"==p?q("dom-qsa2.1")?"./lite":"./acme":"css3"==p?q("dom-qsa3")?"./lite":
"./acme":"acme"==p?"./acme":(x=f)&&p;if("?"==p.charAt(p.length-1)){p=p.substring(0,p.length-1);var y=!0}if(y&&(q("dom-compliant-qsa")||z))return l(z);x([p],function(f){"./lite"!=p&&(z=f);l(f)})}}})},"dojo/_base/declare":function(){define(["./kernel","./config","../has","./lang"],function(q,C,w,z){function p(f,m){throw Error("declare"+(m?" "+m:"")+": "+f);}function f(f,m,r){var h,l,t,x,y,q,w,N=this._inherited=this._inherited||{};"string"==typeof f&&(h=f,f=m,m=r);r=0;x=f.callee;(h=h||x.nom)||p("can't deduce a name to call inherited()",
this.declaredClass);y=this.constructor._meta;t=y.bases;w=N.p;if("constructor"!=h){if(N.c!==x&&(w=0,q=t[0],y=q._meta,y.hidden[h]!==x)){(l=y.chains)&&"string"==typeof l[h]&&p("calling chained method with inherited: "+h,this.declaredClass);do if(y=q._meta,l=q.prototype,y&&(l[h]===x&&l.hasOwnProperty(h)||y.hidden[h]===x))break;while(q=t[++w]);w=q?w:-1}if(q=t[++w])if(l=q.prototype,q._meta&&l.hasOwnProperty(h))r=l[h];else{x=J[h];do if(l=q.prototype,(r=l[h])&&(q._meta?l.hasOwnProperty(h):r!==x))break;while(q=
t[++w])}r=q&&r||J[h]}else{if(N.c!==x&&(w=0,(y=t[0]._meta)&&y.ctor!==x)){for((l=y.chains)&&"manual"===l.constructor||p("calling chained constructor with inherited",this.declaredClass);(q=t[++w])&&(!(y=q._meta)||y.ctor!==x););w=q?w:-1}for(;(q=t[++w])&&!(r=(y=q._meta)?y.ctor:q););r=q&&r}N.c=r;N.p=w;if(r)return!0===m?r:r.apply(this,m||f)}function l(f,m){return"string"==typeof f?this.__inherited(f,m,!0):this.__inherited(f,!0)}function x(f,m,r){var h=this.getInherited(f,m);if(h)return h.apply(this,r||m||
f)}function y(f){for(var m=this.constructor._meta.bases,r=0,h=m.length;r<h;++r)if(m[r]===f)return!0;return this instanceof f}function t(f,m){for(var r in m)"constructor"!=r&&m.hasOwnProperty(r)&&(f[r]=m[r]);if(w("bug-for-in-skips-shadowed"))for(var h=z._extraNames,l=h.length;l;)r=h[--l],"constructor"!=r&&m.hasOwnProperty(r)&&(f[r]=m[r])}function h(f){Q.safeMixin(this.prototype,f);return this}function m(f,m){f instanceof Array||"function"==typeof f||(m=f,f=void 0);m=m||{};f=f||[];return Q([this].concat(f),
m)}function r(f,m){return function(){var r=arguments,h=r,l=r[0],t,p;p=f.length;var x;if(!(this instanceof r.callee))return M(r);if(m&&(l&&l.preamble||this.preamble))for(x=Array(f.length),x[0]=r,t=0;;){(l=r[0])&&(l=l.preamble)&&(r=l.apply(this,r)||r);l=f[t].prototype;(l=l.hasOwnProperty("preamble")&&l.preamble)&&(r=l.apply(this,r)||r);if(++t==p)break;x[t]=r}for(t=p-1;0<=t;--t)l=f[t],(l=(p=l._meta)?p.ctor:l)&&l.apply(this,x?x[t]:r);(l=this.postscript)&&l.apply(this,h)}}function H(f,m){return function(){var r=
arguments,h=r,l=r[0];if(!(this instanceof r.callee))return M(r);m&&(l&&(l=l.preamble)&&(h=l.apply(this,h)||h),(l=this.preamble)&&l.apply(this,h));f&&f.apply(this,r);(l=this.postscript)&&l.apply(this,r)}}function K(f){return function(){var m=arguments,r=0,h,l;if(!(this instanceof m.callee))return M(m);for(;h=f[r];++r)if(h=(l=h._meta)?l.ctor:h){h.apply(this,m);break}(h=this.postscript)&&h.apply(this,m)}}function E(f,m,r){return function(){var h,l,t=0,p=1;r&&(t=m.length-1,p=-1);for(;h=m[t];t+=p)l=h._meta,
(h=(l?l.hidden:h.prototype)[f])&&h.apply(this,arguments)}}function F(f){R.prototype=f.prototype;f=new R;R.prototype=null;return f}function M(f){var m=f.callee,r=F(m);m.apply(r,f);return r}function Q(x,q,w){"string"!=typeof x&&(w=q,q=x,x="");w=w||{};var M,R,W,ea,ha,U,X,S=1,na=q;if("[object Array]"==P.call(q)){S=x;R=[];W=[{cls:0,refs:[]}];ea={};U=1;for(var ja=q.length,da=0,b,ka,$,ia;da<ja;++da){(b=q[da])?"[object Function]"!=P.call(b)&&p("mixin #"+da+" is not a callable constructor.",S):p("mixin #"+
da+" is unknown. Did you use dojo.require to pull it in?",S);ka=b._meta?b._meta.bases:[b];$=0;for(b=ka.length-1;0<=b;--b)ia=ka[b].prototype,ia.hasOwnProperty("declaredClass")||(ia.declaredClass="uniqName_"+N++),ia=ia.declaredClass,ea.hasOwnProperty(ia)||(ea[ia]={count:0,refs:[],cls:ka[b]},++U),ia=ea[ia],$&&$!==ia&&(ia.refs.push($),++$.count),$=ia;++$.count;W[0].refs.push($)}for(;W.length;){$=W.pop();R.push($.cls);for(--U;M=$.refs,1==M.length;){$=M[0];if(!$||--$.count){$=0;break}R.push($.cls);--U}if($)for(da=
0,ja=M.length;da<ja;++da)$=M[da],--$.count||W.push($)}U&&p("can't build consistent linearization",S);b=q[0];R[0]=b?b._meta&&b===R[R.length-b._meta.bases.length]?b._meta.bases.length:1:0;U=R;W=U[0];S=U.length-W;q=U[S]}else U=[0],q?"[object Function]"==P.call(q)?(W=q._meta,U=U.concat(W?W.bases:q)):p("base class is not a callable constructor.",x):null!==q&&p("unknown base class. Did you use dojo.require to pull it in?",x);if(q)for(R=S-1;;--R){M=F(q);if(!R)break;W=U[R];(W._meta?t:L)(M,W.prototype);ea=
new Function;ea.superclass=q;ea.prototype=M;q=M.constructor=ea}else M={};Q.safeMixin(M,w);W=w.constructor;W!==J.constructor&&(W.nom="constructor",M.constructor=W);for(R=S-1;R;--R)(W=U[R]._meta)&&W.chains&&(X=L(X||{},W.chains));M["-chains-"]&&(X=L(X||{},M["-chains-"]));W=!X||!X.hasOwnProperty("constructor");U[0]=ea=X&&"manual"===X.constructor?K(U):1==U.length?H(w.constructor,W):r(U,W);ea._meta={bases:U,hidden:w,chains:X,parents:na,ctor:w.constructor};ea.superclass=q&&q.prototype;ea.extend=h;ea.createSubclass=
m;ea.prototype=M;M.constructor=ea;M.getInherited=l;M.isInstanceOf=y;M.inherited=aa;M.__inherited=f;x&&(M.declaredClass=x,C.noGlobals||z.setObject(x,ea));if(X)for(ha in X)M[ha]&&"string"==typeof X[ha]&&"constructor"!=ha&&(W=M[ha]=E(ha,U,"after"===X[ha]),W.nom=ha);return ea}var L=z.mixin,J=Object.prototype,P=J.toString,R=new Function,N=0,aa=q.config.isDebug?x:f;q.safeMixin=Q.safeMixin=function(f,m){var r,h;for(r in m)h=m[r],h===J[r]&&r in J||"constructor"==r||("[object Function]"==P.call(h)&&(h.nom=
r),f[r]=h);if(w("bug-for-in-skips-shadowed"))for(var l=z._extraNames,t=l.length;t;)r=l[--t],h=m[r],h===J[r]&&r in J||"constructor"==r||("[object Function]"==P.call(h)&&(h.nom=r),f[r]=h);return f};return q.declare=Q})},"dojo/date/locale":function(){define("../_base/kernel ../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(q,C,w,z,p,f,l,x,y,t){function h(f,m,r,h){return h.replace(/([a-z])\1*/ig,function(l){var t,
y,q=l.charAt(0);l=l.length;var w=["abbr","wide","narrow"];switch(q){case "G":t=m[4>l?"eraAbbr":"eraNames"][0>f.getFullYear()?0:1];break;case "y":t=f.getFullYear();switch(l){case 1:break;case 2:if(!r.fullYear){t=String(t);t=t.substr(t.length-2);break}default:y=!0}break;case "Q":case "q":t=Math.ceil((f.getMonth()+1)/3);y=!0;break;case "M":case "L":t=f.getMonth();3>l?(t+=1,y=!0):(q=["months","L"==q?"standAlone":"format",w[l-3]].join("-"),t=m[q][t]);break;case "w":t=H._getWeekOfYear(f,0);y=!0;break;case "d":t=
f.getDate();y=!0;break;case "D":t=H._getDayOfYear(f);y=!0;break;case "e":case "c":if(t=f.getDay(),2>l){t=(t-p.getFirstDayOfWeek(r.locale)+8)%7;break}case "E":t=f.getDay();3>l?(t+=1,y=!0):(q=["days","c"==q?"standAlone":"format",w[l-3]].join("-"),t=m[q][t]);break;case "a":q=12>f.getHours()?"am":"pm";t=r[q]||m["dayPeriods-format-wide-"+q];break;case "h":case "H":case "K":case "k":y=f.getHours();switch(q){case "h":t=y%12||12;break;case "H":t=y;break;case "K":t=y%12;break;case "k":t=y||24}y=!0;break;case "m":t=
f.getMinutes();y=!0;break;case "s":t=f.getSeconds();y=!0;break;case "S":t=Math.round(f.getMilliseconds()*Math.pow(10,l-3));y=!0;break;case "v":case "z":if(t=H._getZone(f,!0,r))break;l=4;case "Z":q=H._getZone(f,!1,r);q=[0>=q?"+":"-",x.pad(Math.floor(Math.abs(q)/60),2),x.pad(Math.abs(q)%60,2)];4==l&&(q.splice(0,0,"GMT"),q.splice(3,0,":"));t=q.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+h);}y&&(t=x.pad(t,l));return t})}function m(f,m,r,h){var l=function(f){return f};
m=m||l;r=r||l;h=h||l;var t=f.match(/(''|[^'])+/g),p="'"==f.charAt(0);w.forEach(t,function(f,h){f?(t[h]=(p?r:m)(f.replace(/''/g,"'")),p=!p):t[h]=""});return h(t.join(""))}function r(f,m,r,h){h=l.escapeString(h);r.strict||(h=h.replace(" a"," ?a"));return h.replace(/([a-z])\1*/ig,function(h){var l;l=h.charAt(0);var t=h.length,p="",x="";r.strict?(1<t&&(p="0{"+(t-1)+"}"),2<t&&(x="0{"+(t-2)+"}")):(p="0?",x="0{0,2}");switch(l){case "y":l="\\d{2,4}";break;case "M":case "L":l=2<t?"\\S+?":"1[0-2]|"+p+"[1-9]";
break;case "D":l="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p+"[1-9][0-9]|"+x+"[1-9]";break;case "d":l="3[01]|[12]\\d|"+p+"[1-9]";break;case "w":l="[1-4][0-9]|5[0-3]|"+p+"[1-9]";break;case "E":case "e":case "c":l=".+?";break;case "h":l="1[0-2]|"+p+"[1-9]";break;case "k":l="1[01]|"+p+"\\d";break;case "H":l="1\\d|2[0-3]|"+p+"\\d";break;case "K":l="1\\d|2[0-4]|"+p+"[1-9]";break;case "m":case "s":l="[0-5]\\d";break;case "S":l="\\d{"+t+"}";break;case "a":t=r.am||m["dayPeriods-format-wide-am"];p=r.pm||m["dayPeriods-format-wide-pm"];
l=t+"|"+p;r.strict||(t!=t.toLowerCase()&&(l+="|"+t.toLowerCase()),p!=p.toLowerCase()&&(l+="|"+p.toLowerCase()),-1!=l.indexOf(".")&&(l+="|"+l.replace(/\./g,"")));l=l.replace(/\./g,"\\.");break;default:l=".*"}f&&f.push(h);return"("+l+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var H={};C.setObject("date.locale",H,q);H._getZone=function(f,m,r){return m?z.getTimezoneName(f):f.getTimezoneOffset()};H.format=function(r,l){l=l||{};var t=f.normalizeLocale(l.locale),p=l.formatLength||"short",t=H._getGregorianBundle(t),
x=[],y=C.hitch(this,h,r,t,l);if("year"==l.selector)return m(t["dateFormatItem-yyyy"]||"yyyy",y);var q;"date"!=l.selector&&(q=l.timePattern||t["timeFormat-"+p])&&x.push(m(q,y));"time"!=l.selector&&(q=l.datePattern||t["dateFormat-"+p])&&x.push(m(q,y));return 1==x.length?x[0]:t["dateTimeFormat-"+p].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(f,m){return x[m]})};H.regexp=function(f){return H._parseInfo(f).regexp};H._parseInfo=function(h){h=h||{};var l=f.normalizeLocale(h.locale),l=H._getGregorianBundle(l),
t=h.formatLength||"short",p=h.datePattern||l["dateFormat-"+t],x=h.timePattern||l["timeFormat-"+t],t="date"==h.selector?p:"time"==h.selector?x:l["dateTimeFormat-"+t].replace(/\{(\d+)\}/g,function(f,m){return[x,p][m]}),y=[];return{regexp:m(t,C.hitch(this,r,y,l,h)),tokens:y,bundle:l}};H.parse=function(f,m){var r=/[\u200E\u200F\u202A\u202E]/g,h=H._parseInfo(m),l=h.tokens,t=h.bundle,r=(new RegExp("^"+h.regexp.replace(r,"")+"$",h.strict?"":"i")).exec(f&&f.replace(r,""));if(!r)return null;var p=["abbr",
"wide","narrow"],x=[1970,0,1,0,0,0,0],y="",r=w.every(r,function(f,r){if(!r)return!0;var h=l[r-1],q=h.length,h=h.charAt(0);switch(h){case "y":if(2!=q&&m.strict)x[0]=f;else if(100>f)f=Number(f),h=""+(new Date).getFullYear(),q=100*h.substring(0,2),h=Math.min(Number(h.substring(2,4))+20,99),x[0]=f<h?q+f:q-100+f;else{if(m.strict)return!1;x[0]=f}break;case "M":case "L":if(2<q){if(q=t["months-"+("L"==h?"standAlone":"format")+"-"+p[q-3]].concat(),m.strict||(f=f.replace(".","").toLowerCase(),q=w.map(q,function(f){return f.replace(".",
"").toLowerCase()})),f=w.indexOf(q,f),-1==f)return!1}else f--;x[1]=f;break;case "E":case "e":case "c":q=t["days-"+("c"==h?"standAlone":"format")+"-"+p[q-3]].concat();m.strict||(f=f.toLowerCase(),q=w.map(q,function(f){return f.toLowerCase()}));f=w.indexOf(q,f);if(-1==f)return!1;break;case "D":x[1]=0;case "d":x[2]=f;break;case "a":q=m.am||t["dayPeriods-format-wide-am"];h=m.pm||t["dayPeriods-format-wide-pm"];if(!m.strict){var ba=/\./g;f=f.replace(ba,"").toLowerCase();q=q.replace(ba,"").toLowerCase();
h=h.replace(ba,"").toLowerCase()}if(m.strict&&f!=q&&f!=h)return!1;y=f==h?"p":f==q?"a":"";break;case "K":24==f&&(f=0);case "h":case "H":case "k":if(23<f)return!1;x[3]=f;break;case "m":x[4]=f;break;case "s":x[5]=f;break;case "S":x[6]=f}return!0}),h=+x[3];"p"===y&&12>h?x[3]=h+12:"a"===y&&12==h&&(x[3]=0);h=new Date(x[0],x[1],x[2],x[3],x[4],x[5],x[6]);m.strict&&h.setFullYear(x[0]);var q=l.join(""),ba=-1!=q.indexOf("d"),q=-1!=q.indexOf("M");if(!r||q&&h.getMonth()>x[1]||ba&&h.getDate()>x[2])return null;
if(q&&h.getMonth()<x[1]||ba&&h.getDate()<x[2])h=z.add(h,"hour",1);return h};var K=[];H.addCustomFormats=function(f,m){K.push({pkg:f,name:m})};H._getGregorianBundle=function(m){var r={};w.forEach(K,function(h){h=f.getLocalization(h.pkg,h.name,m)||r;r=C.mixin(r,h)},this);return r};H.addCustomFormats(t.id.replace(/\/date\/locale$/,".cldr"),"gregorian");H.getNames=function(f,m,r,h){var l;h=H._getGregorianBundle(h);f=[f,r,m];"standAlone"==r&&(r=f.join("-"),l=h[r],1==l[0]&&(l=void 0));f[1]="format";return(l||
h[f.join("-")]).concat()};H.isWeekend=function(f,m){var r=p.getWeekend(m),h=(f||new Date).getDay();r.end<r.start&&(r.end+=7,h<r.start&&(h+=7));return h>=r.start&&h<=r.end};H._getDayOfYear=function(f){return z.difference(new Date(f.getFullYear(),0,1,f.getHours()),f)+1};H._getWeekOfYear=function(f,m){1==arguments.length&&(m=0);var r=(new Date(f.getFullYear(),0,1)).getDay(),h=(r-m+7)%7,h=Math.floor((H._getDayOfYear(f)+h-1)/7);r==m&&h++;return h};return H})},"dojo/errors/RequestTimeoutError":function(){define(["./create",
"./RequestError"],function(q,C){return q("RequestTimeoutError",null,C,{dojoType:"timeout"})})},"dojo/json":function(){define(["./has"],function(q){var C="undefined"!=typeof JSON;q.add("json-parse",C);q.add("json-stringify",C&&'{"a":1}'==JSON.stringify({a:0},function(q,p){return p||1}));if(q("json-stringify"))return JSON;var w=function(q){return('"'+q.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};
return{parse:q("json-parse")?JSON.parse:function(q,p){if(p&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(q))throw new SyntaxError("Invalid characters in JSON");return eval("("+q+")")},stringify:function(q,p,f){function l(q,t,h){p&&(q=p(h,q));var m;m=typeof q;if("number"==m)return isFinite(q)?q+"":"null";if("boolean"==m)return q+"";if(null===q)return"null";if("string"==typeof q)return w(q);if("function"==m||"undefined"==m)return x;if("function"==
typeof q.toJSON)return l(q.toJSON(h),t,h);if(q instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(f,m,r){f=q["getUTC"+m]()+(r?1:0);return 10>f?"0"+f:f});if(q.valueOf()!==q)return l(q.valueOf(),t,h);var r=f?t+f:"",H=f?" ":"",z=f?"\n":"";if(q instanceof Array){var H=q.length,E=[];for(h=0;h<H;h++)m=l(q[h],r,h),"string"!=typeof m&&(m="null"),E.push(z+r+m);return"["+E.join(",")+z+t+"]"}E=[];for(h in q){var C;if(q.hasOwnProperty(h)){if("number"==
typeof h)C='"'+h+'"';else if("string"==typeof h)C=w(h);else continue;m=l(q[h],r,h);"string"==typeof m&&E.push(z+r+C+":"+H+m)}}return"{"+E.join(",")+z+t+"}"}var x;"string"==typeof p&&(f=p,p=null);return l(q,"","")}}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(q,C){q.fromJson=function(q){return eval("("+q+")")};q._escapeString=C.stringify;q.toJsonIndentStr="\t";q.toJson=function(w,z){return C.stringify(w,function(p,f){if(f){var l=f.__json__||f.json;if("function"==typeof l)return l.call(f)}return f},
z&&q.toJsonIndentStr)};return q})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(q,C,w,z,p,f,l,x,y,t){return C("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(f){this._set("disabled",
f);w.set(this.focusNode,"disabled",f);this.valueNode&&w.set(this.valueNode,"disabled",f);this.focusNode.setAttribute("aria-disabled",f?"true":"false");f?(this._set("hovering",!1),this._set("active",!1),f="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",q.forEach(p.isArray(f)?f:[f],function(f){f=this[f];x("webkit")||t.hasDefaultTabStop(f)?f.setAttribute("tabIndex","-1"):f.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",
this.tabIndex)},_onFocus:function(f){if("mouse"==f&&this.isFocusable())var m=this.own(l(this.focusNode,"focus",function(){t.remove();m.remove()}))[0],r=x("pointer-events")?"pointerup":x("MSPointer")?"MSPointerUp":x("touch-events")?"touchend, mouseup":"mouseup",t=this.own(l(this.ownerDocumentBody,r,p.hitch(this,function(f){t.remove();m.remove();this.focused&&("touchend"==f.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){y.scrollIntoView(this.domNode)});this.inherited(arguments)},
isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=z.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(f){}},compare:function(f,m){return"number"==typeof f&&"number"==typeof m?isNaN(f)&&isNaN(m)?0:f-m:f>m?1:f<m?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(f,m){void 0!=this._lastValueReported||null!==m&&this._onChangeActive||(this._resetValue=this._lastValueReported=f);this._pendingOnChange=
this._pendingOnChange||typeof f!=typeof this._lastValueReported||0!=this.compare(f,this._lastValueReported);(this.intermediateChanges||m||void 0===m)&&this._pendingOnChange&&(this._lastValueReported=f,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(f)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&
(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(q,C,w,z,p,f,l,x,y){w.add("dojo-preload-i18n-Api",1);l=q.i18n={};var t=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,h=function(f,m,r,h){var l=[r+h];m=m.split("-");for(var t="",p=0;p<m.length;p++)if(t+=(t?"-":"")+m[p],!f||f[t])l.push(r+t+"/"+h),l.specificity=
t;return l},m={},r=function(f,m,r){r=r?r.toLowerCase():q.locale;f=f.replace(/\./g,"/");m=m.replace(/\./g,"/");return/root/i.test(r)?f+"/nls/"+m:f+"/nls/"+r+"/"+m},H=q.getL10nName=function(f,m,h){return y.id+"!"+r(f,m,h)},K=function(r,l,t,p,x,q){r([l],function(y){var w=f.clone(y.root||y.ROOT),N=h(!y._v1x&&y,x,t,p);r(N,function(){for(var r=1;r<N.length;r++)w=f.mixin(f.clone(w),arguments[r]);m[l+"/"+x]=w;w.$locale=N.specificity;q()})})},E=function(m){var r=p.extraLocale||[],r=f.isArray(r)?r:[r];r.push(m);
return r},F=function(r,h,l){if(w("dojo-preload-i18n-Api")){var p=r.split("*"),y="preload"==p[1];y&&(m[r]||(m[r]=1,P(p[2],x.parse(p[3]),1,h)),l(1));(p=y)||(L&&J.push([r,h,l]),p=L);if(p)return}r=t.exec(r);var N=r[1]+"/",H=r[5]||r[4],C=N+H,p=(r=r[5]&&r[4])||q.locale||"",F=C+"/"+p;r=r?[p]:E(p);var Q=r.length,M=function(){--Q||l(f.delegate(m[F]))};z.forEach(r,function(f){var r=C+"/"+f;w("dojo-preload-i18n-Api")&&R(r);m[r]?M():K(h,C,N,H,f,M)})};if(w("dojo-unit-tests"))var M=l.unitTests=[];w("dojo-preload-i18n-Api");
var Q=l.normalizeLocale=function(f){f=f?f.toLowerCase():q.locale;return"root"==f?"ROOT":f},L=0,J=[],P=l._preloadLocalizations=function(r,h,l,t){function p(f,m){t([f],m)}function x(f,m){for(var r=f.split("-");r.length;){if(m(r.join("-")))return;r.pop()}m("ROOT")}function y(){for(--L;!L&&J.length;)F.apply(null,J.shift())}function w(l){l=Q(l);x(l,function(q){if(0<=z.indexOf(h,q)){var w=r.replace(/\./g,"/")+"_"+q;L++;p(w,function(r){for(var h in r){var p=r[h],b=h.match(/(.+)\/([^\/]+)$/),w;if(b){w=b[2];
b=b[1]+"/";p._localized=p._localized||{};var ba;if("ROOT"===q){var N=ba=p._localized;delete p._localized;N.root=p;m[C.toAbsMid(h)]=N}else ba=p._localized,m[C.toAbsMid(b+w+"/"+q)]=p;q!==l&&function(b,r,h,a){var d=[],c=[];x(l,function(e){a[e]&&(d.push(C.toAbsMid(b+e+"/"+r)),c.push(C.toAbsMid(b+r+"/"+e)))});d.length?(L++,t(d,function(){for(var a=0;a<d.length;a++)h=f.mixin(f.clone(h),arguments[a]),m[c[a]]=h;m[C.toAbsMid(b+r+"/"+l)]=f.clone(h);y()})):m[C.toAbsMid(b+r+"/"+l)]=h}(b,w,p,ba)}}y()});return!0}return!1})}
t=t||C;w();z.forEach(q.config.extraLocale,w)},R=function(){},N={},aa=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
R=function(f){for(var r,h=f.split("/"),l=q.global[h[0]],t=1;l&&t<h.length-1;l=l[h[t++]]);l&&((r=l[h[t]])||(r=l[h[t].replace(/-/g,"_")]),r&&(m[f]=r));return r};l.getLocalization=function(f,m,h){var l;f=r(f,m,h);F(f,C,function(f){l=f});return l};w("dojo-unit-tests")&&M.push(function(f){f.register("tests.i18n.unit",function(f){var m;m=aa("{prop:1}",R,"nonsense",N);f.is({prop:1},m);f.is(void 0,m[1]);m=aa("({prop:1})",R,"nonsense",N);f.is({prop:1},m);f.is(void 0,m[1]);m=aa("{'prop-x':1}",R,"nonsense",
N);f.is({"prop-x":1},m);f.is(void 0,m[1]);m=aa("({'prop-x':1})",R,"nonsense",N);f.is({"prop-x":1},m);f.is(void 0,m[1]);m=aa("define({'prop-x':1})",R,"nonsense",N);f.is(N,m);f.is({"prop-x":1},N.result);m=aa("define('some/module', {'prop-x':1})",R,"nonsense",N);f.is(N,m);f.is({"prop-x":1},N.result);m=aa("this is total nonsense and should throw an error",R,"nonsense",N);f.is(m instanceof Error,!0)})});return f.mixin(l,{dynamic:!0,normalize:function(f,m){return/^\./.test(f)?m(f):f},load:F,cache:m,getL10nName:H})})},
"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(q,C,w,z,p,f){function l(f,m){var r=m.parentNode;r&&r.insertBefore(f,m)}function x(f){if("innerHTML"in f)try{f.innerHTML="";return}catch(m){}for(var r;r=f.lastChild;)f.removeChild(r)}var y={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],
col:["table","colgroup"],li:["ul"]},t=/<\s*([\w\:]+)/,h={},m=0,r="__"+C._scopeName+"ToDomId",H;for(H in y)y.hasOwnProperty(H)&&(C=y[H],C.pre="option"==H?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+C.join("\x3e\x3c")+"\x3e",C.post="\x3c/"+C.reverse().join("\x3e\x3c/")+"\x3e");var K;8>=w("ie")&&(K=function(f){f.__dojo_html5_tested="yes";var m=E("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},f.body);1!==m.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(m){f.createElement(m)});F(m)});q.toDom=function(f,l){l=l||z.doc;var p=l[r];p||(l[r]=p=++m+"",h[p]=l.createElement("div"));8>=w("ie")&&!l.__dojo_html5_tested&&l.body&&K(l);f+="";var x=f.match(t),q=x?x[1].toLowerCase():"",p=h[p];if(x&&y[q])for(x=y[q],p.innerHTML=x.pre+f+x.post,x=x.length;x;--x)p=p.firstChild;else p.innerHTML=f;if(1==p.childNodes.length)return p.removeChild(p.firstChild);for(q=l.createDocumentFragment();x=p.firstChild;)q.appendChild(x);return q};q.place=function(f,m,r){m=p.byId(m);
"string"==typeof f&&(f=/^\s*</.test(f)?q.toDom(f,m.ownerDocument):p.byId(f));if("number"==typeof r){var h=m.childNodes;!h.length||h.length<=r?m.appendChild(f):l(f,h[0>r?0:r])}else switch(r){case "before":l(f,m);break;case "after":r=f;(h=m.parentNode)&&(h.lastChild==m?h.appendChild(r):h.insertBefore(r,m.nextSibling));break;case "replace":m.parentNode.replaceChild(f,m);break;case "only":q.empty(m);m.appendChild(f);break;case "first":if(m.firstChild){l(f,m.firstChild);break}default:m.appendChild(f)}return f};
var E=q.create=function(m,r,h,l){var t=z.doc;h&&(h=p.byId(h),t=h.ownerDocument);"string"==typeof m&&(m=t.createElement(m));r&&f.set(m,r);h&&q.place(m,h,l);return m};q.empty=function(f){x(p.byId(f))};var F=q.destroy=function(f){if(f=p.byId(f)){var m=f;f=f.parentNode;m.firstChild&&x(m);f&&(w("ie")&&f.canHaveChildren&&"removeNode"in m?m.removeNode(!1):f.removeChild(m))}}})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],
function(q,C,w,z,p){return w("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var f=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);p.parse(f,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(z.hitch(this,function(f){this._startupWidgets=
f;for(var p=0;p<f.length;p++)this._processTemplateNode(f[p],function(f,l){return f[l]},function(f,l,h){return l in f?f.connect(f,l,h):f.on(l,h,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(f,
l,p){return l(f,"dojoType")||l(f,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){q.forEach(this._startupWidgets,function(f){f&&!f._started&&f.startup&&f.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(q,C,w,z,p,f){return q("dijit.form._FormValueMixin",f,{readOnly:!1,_setReadOnlyAttr:function(f){C.set(this.focusNode,
"readOnly",f);this._set("readOnly",f)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(f,p){this._handleOnChange(f,p)},_handleOnChange:function(f,p){this._set("value",f);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dojo/sniff":function(){define(["./has"],function(q){var C=
navigator,w=C.userAgent,C=C.appVersion,z=parseFloat(C);q.add("air",0<=w.indexOf("AdobeAIR"));q.add("wp",parseFloat(w.split("Windows Phone")[1])||void 0);q.add("msapp",parseFloat(w.split("MSAppHost/")[1])||void 0);q.add("khtml",0<=C.indexOf("Konqueror")?z:void 0);q.add("edge",parseFloat(w.split("Edge/")[1])||void 0);q.add("opr",parseFloat(w.split("OPR/")[1])||void 0);q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(w.split("WebKit/")[1])||void 0);q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(w.split("Chrome/")[1])||
void 0);q.add("android",!q("wp")&&parseFloat(w.split("Android ")[1])||void 0);q.add("safari",!(0<=C.indexOf("Safari"))||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(C.split("Version/")[1]));q.add("mac",0<=C.indexOf("Macintosh"));q.add("quirks","BackCompat"==document.compatMode);if(!q("wp")&&w.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p"),f=w.match(/OS ([\d_]+)/)?RegExp.$1:"1",f=parseFloat(f.replace(/_/,".").replace(/_/g,""));q.add(p,f);q.add("ios",f)}q.add("bb",
(0<=w.indexOf("BlackBerry")||0<=w.indexOf("BB10"))&&parseFloat(w.split("Version/")[1])||void 0);q.add("trident",parseFloat(C.split("Trident/")[1])||void 0);q.add("svg","undefined"!==typeof SVGAngle);q("webkit")||(0<=w.indexOf("Opera")&&q.add("opera",9.8<=z?parseFloat(w.split("Version/")[1])||z:z),!(0<=w.indexOf("Gecko"))||q("wp")||q("khtml")||q("trident")||q("edge")||q.add("mozilla",z),q("mozilla")&&q.add("ff",parseFloat(w.split("Firefox/")[1]||w.split("Minefield/")[1])||void 0),document.all&&!q("opera")&&
(w=parseFloat(C.split("MSIE ")[1])||void 0,(C=document.documentMode)&&5!=C&&Math.floor(w)!=C&&(w=C),q.add("ie",w)),q.add("wii","undefined"!=typeof opera&&opera.wiiremote));return q})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(q,C,w,z){if(C._fixEvent){var p=C._fixEvent;C._fixEvent=function(f,x){(f=p(f,x))&&z.normalizeEvent(f);return f}}var f={fix:function(f,p){return C._fixEvent?C._fixEvent(f,p):f},stop:function(f){w("dom-addeventlistener")||f&&f.preventDefault?
(f.preventDefault(),f.stopPropagation()):(f=f||window.event,f.cancelBubble=!0,C._preventDefault.call(f))}};q.fixEvent=f.fix;q.stopEvent=f.stop;return f})},"dojox/main":function(){define(["dojo/_base/kernel"],function(q){return q.dojox})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(q,C,w,z,p,f,l,x,y,t,h,m,r){return C("dojo.dnd.Mover",
[y],{constructor:function(m,l,p){function x(f){f.preventDefault();f.stopPropagation()}this.node=f.byId(m);this.marginBox={l:l.pageX,t:l.pageY};this.mouseButton=l.button;l=this.host=p;m=m.ownerDocument;this.events=[t(m,h.move,w.hitch(this,"onFirstMove")),t(m,h.move,w.hitch(this,"onMouseMove")),t(m,h.release,w.hitch(this,"onMouseUp")),t(m,"dragstart",x),t(m.body,"selectstart",x)];r.autoScrollStart(m);if(l&&l.onMoveStart)l.onMoveStart(this)},onMouseMove:function(f){r.autoScroll(f);var m=this.marginBox;
this.host.onMove(this,{l:m.l+f.pageX,t:m.t+f.pageY},f);f.preventDefault();f.stopPropagation()},onMouseUp:function(f){(z("webkit")&&z("mac")&&2==this.mouseButton?0==f.button:this.mouseButton==f.button)&&this.destroy();f.preventDefault();f.stopPropagation()},onFirstMove:function(f){var m=this.node.style,r,h=this.host;switch(m.position){case "relative":case "absolute":r=Math.round(parseFloat(m.left))||0;m=Math.round(parseFloat(m.top))||0;break;default:m.position="absolute";m=l.getMarginBox(this.node);
r=p.doc.body;var t=x.getComputedStyle(r),q=l.getMarginBox(r,t),t=l.getContentBox(r,t);r=m.l-(t.l-q.l);m=m.t-(t.t-q.t)}this.marginBox.l=r-this.marginBox.l;this.marginBox.t=m-this.marginBox.t;if(h&&h.onFirstMove)h.onFirstMove(this,f);this.events.shift().remove()},destroy:function(){q.forEach(this.events,function(f){f.remove()});var f=this.host;if(f&&f.onMoveStop)f.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array",
"./when"],function(q,C,w,z){return q("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(p){var f=this._attrPairNames;return f[p]?f[p]:f[p]={s:"_"+p+"Setter",g:"_"+p+"Getter"}},postscript:function(p){p&&this.set(p)},_get:function(p,f){return"function"===typeof this[f.g]?this[f.g]():this[p]},get:function(p){return this._get(p,this._getAttrNames(p))},set:function(p,f){if("object"===typeof p){for(var l in p)p.hasOwnProperty(l)&&"_watchCallbacks"!=l&&this.set(l,p[l]);return this}l=this._getAttrNames(p);
var x=this._get(p,l);l=this[l.s];var q;"function"===typeof l?q=l.apply(this,Array.prototype.slice.call(arguments,1)):this[p]=f;if(this._watchCallbacks){var t=this;z(q,function(){t._watchCallbacks(p,x,f)})}return this},_changeAttrValue:function(p,f){var l=this.get(p);this[p]=f;this._watchCallbacks&&this._watchCallbacks(p,l,f);return this},watch:function(p,f){var l=this._watchCallbacks;if(!l)var x=this,l=this._watchCallbacks=function(f,m,r,t){var p=function(l){if(l){l=l.slice();for(var t=0,p=l.length;t<
p;t++)l[t].call(x,f,m,r)}};p(l["_"+f]);t||p(l["*"])};f||"function"!==typeof p?p="_"+p:(f=p,p="*");var q=l[p];"object"!==typeof q&&(q=l[p]=[]);q.push(f);var t={};t.unwatch=t.remove=function(){var h=w.indexOf(q,f);-1<h&&q.splice(h,1)};return t}})})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(q,C,w,z,p,f,l,x,y,t){function h(m,r,h){return K&&h?function(m,r){return f(m,h,r)}:F?function(h,l){var t=
f(h,r,function(f){l.call(this,f);ma=(new Date).getTime()}),p=f(h,m,function(f){(!ma||(new Date).getTime()>ma+1E3)&&l.call(this,f)});return{remove:function(){t.remove();p.remove()}}}:function(r,h){return f(r,m,h)}}function m(f){do if(void 0!==f.dojoClick)return f;while(f=f.parentNode)}function r(r,h,l){if(!x.isRight(r)){var p=m(r.target);if(Q=!r.target.disabled&&p&&p.dojoClick)if(J=(L="useTarget"==Q)?p:r.target,L&&r.preventDefault(),P=r.changedTouches?r.changedTouches[0].pageX-t.global.pageXOffset:
r.clientX,R=r.changedTouches?r.changedTouches[0].pageY-t.global.pageYOffset:r.clientY,N=("object"==typeof Q?Q.x:"number"==typeof Q?Q:0)||4,aa=("object"==typeof Q?Q.y:"number"==typeof Q?Q:0)||4,!M){r=function(f){t.doc.addEventListener(f,function(m){Q&&!m._dojo_click&&(new Date).getTime()<=ba+1E3&&("INPUT"!=m.target.tagName||!z.contains(m.target,"dijitOffScreen"))&&(m.stopPropagation(),m.stopImmediatePropagation&&m.stopImmediatePropagation(),"click"!=f||"INPUT"==m.target.tagName&&"radio"!=m.target.type&&
"checkbox"!=m.target.type||"TEXTAREA"==m.target.tagName||"AUDIO"==m.target.tagName||"VIDEO"==m.target.tagName||m.preventDefault())},!0)};var q=function(f){Q=L?w.isDescendant(t.doc.elementFromPoint(f.changedTouches?f.changedTouches[0].pageX-t.global.pageXOffset:f.clientX,f.changedTouches?f.changedTouches[0].pageY-t.global.pageYOffset:f.clientY),J):Q&&(f.changedTouches?f.changedTouches[0].target:f.target)==J&&Math.abs((f.changedTouches?f.changedTouches[0].pageX-t.global.pageXOffset:f.clientX)-P)<=N&&
Math.abs((f.changedTouches?f.changedTouches[0].pageY-t.global.pageYOffset:f.clientY)-R)<=aa};M=!0;t.doc.addEventListener(h,function(f){x.isRight(f)||(q(f),L&&f.preventDefault())},!0);t.doc.addEventListener(l,function(m){if(!x.isRight(m)&&(q(m),Q)){var r=function(b){var f=document.createEvent("MouseEvents");f._dojo_click=!0;f.initMouseEvent(b,!0,!0,m.view,m.detail,l.screenX,l.screenY,l.clientX,l.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,0,null);return f};ba=(new Date).getTime();var h=L?J:m.target;
"LABEL"===h.tagName&&(h=w.byId(h.getAttribute("for"))||h);var l=m.changedTouches?m.changedTouches[0]:m,t=r("mousedown"),p=r("mouseup"),b=r("click");setTimeout(function(){f.emit(h,"mousedown",t);f.emit(h,"mouseup",p);f.emit(h,"click",b);ba=(new Date).getTime()},0)}},!0);r("click");r("mousedown");r("mouseup")}}}var H=5>l("ios"),K=l("pointer-events")||l("MSPointer"),E=function(){var f={},m;for(m in{down:1,move:1,up:1,cancel:1,over:1,out:1})f[m]=l("MSPointer")?"MSPointer"+m.charAt(0).toUpperCase()+m.slice(1):
"pointer"+m;return f}(),F=l("touch-events"),M,Q,L=!1,J,P,R,N,aa,ba,ma,fa;l("touch")&&(K?y(function(){t.doc.addEventListener(E.down,function(f){r(f,E.move,E.up)},!0)}):y(function(){function m(f){var r=p.delegate(f,{bubbles:!0});6<=l("ios")&&(r.touches=f.touches,r.altKey=f.altKey,r.changedTouches=f.changedTouches,r.ctrlKey=f.ctrlKey,r.metaKey=f.metaKey,r.shiftKey=f.shiftKey,r.targetTouches=f.targetTouches);return r}fa=t.body();t.doc.addEventListener("touchstart",function(m){ma=(new Date).getTime();
var h=fa;fa=m.target;f.emit(h,"dojotouchout",{relatedTarget:fa,bubbles:!0});f.emit(fa,"dojotouchover",{relatedTarget:h,bubbles:!0});r(m,"touchmove","touchend")},!0);f(t.doc,"touchmove",function(r){ma=(new Date).getTime();var h=t.doc.elementFromPoint(r.pageX-(H?0:t.global.pageXOffset),r.pageY-(H?0:t.global.pageYOffset));h&&(fa!==h&&(f.emit(fa,"dojotouchout",{relatedTarget:h,bubbles:!0}),f.emit(h,"dojotouchover",{relatedTarget:fa,bubbles:!0}),fa=h),f.emit(h,"dojotouchmove",m(r))||r.preventDefault())});
f(t.doc,"touchend",function(r){ma=(new Date).getTime();var h=t.doc.elementFromPoint(r.pageX-(H?0:t.global.pageXOffset),r.pageY-(H?0:t.global.pageYOffset))||t.body();f.emit(h,"dojotouchend",m(r))})}));C={press:h("mousedown","touchstart",E.down),move:h("mousemove","dojotouchmove",E.move),release:h("mouseup","dojotouchend",E.up),cancel:h(x.leave,"touchcancel",K?E.cancel:null),over:h("mouseover","dojotouchover",E.over),out:h("mouseout","dojotouchout",E.out),enter:x._eventHandler(h("mouseover","dojotouchover",
E.over)),leave:x._eventHandler(h("mouseout","dojotouchout",E.out))};return q.touch=C})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(q,C,w,z,p){var f=Object.freeze||function(){},l=function(f,r,l,t,p){2===r&&h.instrumentRejected&&0===f.length&&h.instrumentRejected(l,!1,t,p);for(p=0;p<f.length;p++)x(f[p],r,l,t)},x=function(f,r,l,p){var q=f[r],x=f.deferred;if(q)try{var w=q(l);if(0===r)"undefined"!==typeof w&&
t(x,r,w);else{if(w&&"function"===typeof w.then){f.cancel=w.cancel;w.then(y(x,1),y(x,2),y(x,0));return}t(x,1,w)}}catch(z){t(x,2,z)}else t(x,r,l);2===r&&h.instrumentRejected&&h.instrumentRejected(l,!!q,p,x.promise)},y=function(f,r){return function(h){t(f,r,h)}},t=function(f,r,h){if(!f.isCanceled())switch(r){case 0:f.progress(h);break;case 1:f.resolve(h);break;case 2:f.reject(h)}},h=function(m){var r=this.promise=new z,t=this,p,q,y,C=!1,Q=[];Error.captureStackTrace&&(Error.captureStackTrace(t,h),Error.captureStackTrace(r,
h));this.isResolved=r.isResolved=function(){return 1===p};this.isRejected=r.isRejected=function(){return 2===p};this.isFulfilled=r.isFulfilled=function(){return!!p};this.isCanceled=r.isCanceled=function(){return C};this.progress=function(f,m){if(p){if(!0===m)throw Error("This deferred has already been fulfilled.");return r}l(Q,0,f,null,t);return r};this.resolve=function(f,m){if(p){if(!0===m)throw Error("This deferred has already been fulfilled.");return r}l(Q,p=1,q=f,null,t);Q=null;return r};var L=
this.reject=function(f,m){if(p){if(!0===m)throw Error("This deferred has already been fulfilled.");return r}Error.captureStackTrace&&Error.captureStackTrace(y={},L);l(Q,p=2,q=f,y,t);Q=null;return r};this.then=r.then=function(f,m,l){var t=[l,f,m];t.cancel=r.cancel;t.deferred=new h(function(f){return t.cancel&&t.cancel(f)});p&&!Q?x(t,p,q,y):Q.push(t);return t.deferred.promise};this.cancel=r.cancel=function(f,r){if(!p){if(m){var h=m(f);f="undefined"===typeof h?f:h}C=!0;if(!p)return"undefined"===typeof f&&
(f=new w),L(f),f;if(2===p&&q===f)return f}else if(!0===r)throw Error("This deferred has already been fulfilled.");};f(r)};h.prototype.toString=function(){return"[object Deferred]"};p&&p(h);return h})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(q,C,w,z,p,f,l,x,y,t,h,m){C=C("dijit._CssStateMixin",[],{hovering:!1,active:!1,
_applyAttributes:function(){this.inherited(arguments);q.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(m){this.watch(m,f.hitch(this,"_setStateClass"))},this);for(var m in this.cssStateNodes||{})this._trackMouseState(this[m],this.cssStateNodes[m]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(f){if(!this.disabled)switch(f.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function f(r){m=m.concat(q.map(m,function(f){return f+r}),"dijit"+r)}var m=this.baseClass.split(" ");
this.isLeftToRight()||f("Rtl");var h="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&f(h);this.state&&f(this.state);this.selected&&f("Selected");this._opened&&f("Opened");this.disabled?f("Disabled"):this.readOnly?f("ReadOnly"):this.active?f("Active"):this.hovering&&f("Hover");this.focused&&f("Focused");var h=this.stateNode||this.domNode,l={};q.forEach(h.className.split(" "),function(f){l[f]=!0});"_stateClasses"in this&&q.forEach(this._stateClasses,function(f){delete l[f]});q.forEach(m,
function(f){l[f]=!0});var t=[],p;for(p in l)t.push(p);h.className=t.join(" ");this._stateClasses=m},_subnodeCssMouseEvent:function(f,m,h){function l(h){z.toggle(f,m+"Active",h)}if(!this.disabled&&!this.readOnly)switch(h.type){case "mouseover":case "MSPointerOver":case "pointerover":z.toggle(f,m+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":z.toggle(f,m+"Hover",!1);l(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":l(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":l(!1);break;case "focus":case "focusin":z.toggle(f,m+"Focused",!0);break;case "blur":case "focusout":z.toggle(f,m+"Focused",!1)}},_trackMouseState:function(f,m){f._cssState=m}});x(function(){function f(r,h,l){if(!l||!w.isDescendant(l,h))for(;h&&h!=l;h=h.parentNode)if(h._cssState){var t=m.getEnclosingWidget(h);t&&(h==t.domNode?t._cssMouseEvent(r):t._subnodeCssMouseEvent(h,h._cssState,r))}}var p=t.body(),q;l(p,
y.over,function(m){f(m,m.target,m.relatedTarget)});l(p,y.out,function(m){f(m,m.target,m.relatedTarget)});l(p,h.press,function(m){q=m.target;f(m,q)});l(p,h.release,function(m){f(m,q);q=null});l(p,"focusin, focusout",function(f){var r=f.target;if(r._cssState&&!r.getAttribute("widgetId")){var h=m.getEnclosingWidget(r);h&&h._subnodeCssMouseEvent(r,r._cssState,f)}})});return C})},"dojo/_base/url":function(){define(["./kernel"],function(q){var C=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
w=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,z=function(){for(var p=arguments,f=[p[0]],l=1;l<p.length;l++)if(p[l]){var q=new z(p[l]+""),f=new z(f[0]+"");if(""==q.path&&!q.scheme&&!q.authority&&!q.query)null!=q.fragment&&(f.fragment=q.fragment),q=f;else if(!q.scheme&&(q.scheme=f.scheme,!q.authority&&(q.authority=f.authority,"/"!=q.path.charAt(0)))){for(var f=(f.path.substring(0,f.path.lastIndexOf("/")+1)+q.path).split("/"),y=0;y<f.length;y++)"."==f[y]?y==f.length-1?f[y]="":(f.splice(y,
1),y--):0<y&&(1!=y||""!=f[0])&&".."==f[y]&&".."!=f[y-1]&&(y==f.length-1?(f.splice(y,1),f[y-1]=""):(f.splice(y-1,2),y-=2));q.path=f.join("/")}f=[];q.scheme&&f.push(q.scheme,":");q.authority&&f.push("//",q.authority);f.push(q.path);q.query&&f.push("?",q.query);q.fragment&&f.push("#",q.fragment)}this.uri=f.join("");p=this.uri.match(C);this.scheme=p[2]||(p[1]?"":null);this.authority=p[4]||(p[3]?"":null);this.path=p[5];this.query=p[7]||(p[6]?"":null);this.fragment=p[9]||(p[8]?"":null);null!=this.authority&&
(p=this.authority.match(w),this.user=p[3]||null,this.password=p[4]||null,this.host=p[6]||p[7],this.port=p[9]||null)};z.prototype.toString=function(){return this.uri};return q._Url=z})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(q,C,w,z,p,f,l){p.add("highcontrast",function(){var f=l.doc.createElement("div");f.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(C.blankGif||q.toUrl("./resources/blank.gif"))+'");';l.body().appendChild(f);var y=z.getComputedStyle(f),t=y.backgroundImage,y=y.borderTopColor==y.borderRightColor||t&&("none"==t||"url(invalid-url:)"==t);8>=p("ie")?f.outerHTML="":l.body().removeChild(f);return y});f(function(){p("highcontrast")&&w.add(l.body(),"dj_a11y")});return p})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(q,C,w,z){return q("dijit.form._FormValueWidget",
[w,z],{_layoutHackIE7:function(){if(7==C("ie"))for(var p=this.domNode,f=p.parentNode,l=p.firstChild||p,q=l.style.filter,y=this;f&&0==f.clientHeight;)(function(){var t=y.connect(f,"onscroll",function(){y.disconnect(t);l.style.filter=(new Date).getMilliseconds();y.defer(function(){l.style.filter=q})})})(),f=f.parentNode}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(q,C){var w=/[&<>'"\/]/g,z={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;",
"/":"\x26#x2F;"},p={};q.string=p;p.escape=function(f){return f?f.replace(w,function(f){return z[f]}):""};p.rep=function(f,l){if(0>=l||!f)return"";for(var p=[];;){l&1&&p.push(f);if(!(l>>=1))break;f+=f}return p.join("")};p.pad=function(f,l,q,y){q||(q="0");f=String(f);l=p.rep(q,Math.ceil((l-f.length)/q.length));return y?f+l:l+f};p.substitute=function(f,l,p,y){y=y||q.global;p=p?C.hitch(y,p):function(f){return f};return f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(f,h,m){f=C.getObject(h,
!1,l);m&&(f=C.getObject(m,!1,y).call(y,f,h));return p(f,h).toString()})};p.trim=String.prototype.trim?C.trim:function(f){f=f.replace(/^\s+/,"");for(var l=f.length-1;0<=l;l--)if(/\S/.test(f.charAt(l))){f=f.substring(0,l+1);break}return f};return p})},"dojo/domReady":function(){define(["./has"],function(q){function C(f){y.push(f);x&&w()}function w(){if(!t){for(t=!0;y.length;)try{y.shift()(p)}catch(f){console.error(f,"in domReady callback",f.stack)}t=!1;C._onQEmpty()}}var z=function(){return this}(),
p=document,f={loaded:1,complete:1},l="string"!=typeof p.readyState,x=!!f[p.readyState],y=[],t;C.load=function(f,m,r){C(r)};C._Q=y;C._onQEmpty=function(){};l&&(p.readyState="loading");if(!x){var h=[],m=function(m){m=m||z.event;x||"readystatechange"==m.type&&!f[p.readyState]||(l&&(p.readyState="complete"),x=1,w())},r=function(f,r){f.addEventListener(r,m,!1);y.push(function(){f.removeEventListener(r,m,!1)})};if(!q("dom-addeventlistener")){var r=function(f,r){r="on"+r;f.attachEvent(r,m);y.push(function(){f.detachEvent(r,
m)})},H=p.createElement("div");try{H.doScroll&&null===z.frameElement&&h.push(function(){try{return H.doScroll("left"),1}catch(f){}})}catch(K){}}r(p,"DOMContentLoaded");r(z,"load");"onreadystatechange"in p?r(p,"readystatechange"):l||h.push(function(){return f[p.readyState]});if(h.length){var E=function(){if(!x){for(var f=h.length;f--;)if(h[f]()){m("poller");return}setTimeout(E,30)}};E()}}return C})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),
function(q,C,w,z,p,f,l,x){function y(f){var m="";f=f.childNodes;for(var h=0,l;l=f[h];h++)8!=l.nodeType&&(m=1==l.nodeType?m+y(l):m+l.nodeValue);return m}var t={},h=0,m=C._scopeName+"attrid";w.add("dom-textContent",function(f,m,h){return"textContent"in h});q.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};q.get=function(f,m){f=p.byId(f);var h=m.toLowerCase(),
h=q.names[h]||m;return"textContent"!=h||w("dom-textContent")?f[h]:y(f)};q.set=function(r,y,C){r=p.byId(r);if(2==arguments.length&&"string"!=typeof y){for(var E in y)q.set(r,E,y[E]);return r}E=y.toLowerCase();E=q.names[E]||y;if("style"==E&&"string"!=typeof C)return f.set(r,C),r;if("innerHTML"==E)return w("ie")&&r.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(l.empty(r),r.appendChild(l.toDom(C,r.ownerDocument))):r[E]=C,r;if("textContent"==E&&!w("dom-textContent"))return l.empty(r),
r.appendChild(r.ownerDocument.createTextNode(C)),r;if(z.isFunction(C)){var F=r[m];F||(F=h++,r[m]=F);t[F]||(t[F]={});var M=t[F][E];if(M)x.disconnect(M);else try{delete r[E]}catch(Q){}C?t[F][E]=x.connect(r,E,C):r[E]=null;return r}r[E]=C;return r}})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(q,C,w,z,p,f,l,x,y,t){q=
C("dijit.form.Button"+(z("dojo-bidi")?"_NoBidi":""),[x,y],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:t,_setValueAttr:"valueNode",_setNameAttr:function(f){this.valueNode&&this.valueNode.setAttribute("name",f)},_fillContent:function(h){!h||this.params&&"label"in this.params||(h=f.trim(h.innerHTML))&&(this.label=h)},_setShowLabelAttr:function(f){this.containerNode&&w.toggle(this.containerNode,"dijitDisplayNone",!f);this._set("showLabel",
f)},setLabel:function(f){p.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",f)},_setLabelAttr:function(h){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=f.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});z("dojo-bidi")&&(q=C("dijit.form.Button",q,{_setLabelAttr:function(f){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},
_setTextDirAttr:function(f){this._created&&this.textDir!=f&&(this._set("textDir",f),this._setLabelAttr(this.label))}}));return q})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(q,C,w,z,p,f,l,x,y){var t=p.delegate(x,{mouseenter:f.enter,mouseleave:f.leave,keypress:w._keypress}),h;w=z("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=
[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(f){for(var r=f;;)if(1==r.nodeType&&(this._processTemplateNode(r,function(f,m){return f.getAttribute(m)},this._attach)||this.searchContainerNode)&&r.firstChild)r=r.firstChild;else{if(r==f)break;for(;!r.nextSibling;)if(r=r.parentNode,r==f)return;r=r.nextSibling}},_processTemplateNode:function(f,r,h){var l=!0,t=this.attachScope||
this,q=r(f,"dojoAttachPoint")||r(f,"data-dojo-attach-point");if(q)for(var x=q.split(/\s*,\s*/);q=x.shift();)p.isArray(t[q])?t[q].push(f):t[q]=f,l="containerNode"!=q,this._attachPoints.push(q);if(r=r(f,"dojoAttachEvent")||r(f,"data-dojo-attach-event"))for(q=r.split(/\s*,\s*/),x=p.trim;r=q.shift();)if(r){var y=null;-1!=r.indexOf(":")?(y=r.split(":"),r=x(y[0]),y=x(y[1])):r=x(r);y||(y=r);this._attachEvents.push(h(f,r,p.hitch(t,y)))}return l},_attach:function(f,r,p){r=r.replace(/^on/,"").toLowerCase();
r="dijitclick"==r?h||(h=q("./a11yclick")):t[r]||r;return l(f,r,p)},_detachTemplateNodes:function(){var f=this.attachScope||this;C.forEach(this._attachPoints,function(r){delete f[r]});this._attachPoints=[];C.forEach(this._attachEvents,function(f){f.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});p.extend(y,{dojoAttachEvent:"",dojoAttachPoint:""});return w})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(q,
C){return q.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:C("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:C("mac")&&!C("air")?C("safari")?91:224:17}})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(q,C){C.add("bug-for-in-skips-shadowed",function(){for(var f in{toString:1})return 0;return 1});var w=C("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):
[],z=w.length,p=function(f,h,m){m||(m=f[0]&&q.scopeMap[f[0]]?q.scopeMap[f.shift()][1]:q.global);try{for(var r=0;r<f.length;r++){var l=f[r];if(!(l in m))if(h)m[l]={};else return;m=m[l]}return m}catch(p){}},f=Object.prototype.toString,l=function(f,h,m){return(m||[]).concat(Array.prototype.slice.call(f,h||0))},x=/\{([^\}]+)\}/g,y={_extraNames:w,_mixin:function(f,h,m){var r,l,p,q={};for(r in h)l=h[r],r in f&&(f[r]===l||r in q&&q[r]===l)||(f[r]=m?m(l):l);if(C("bug-for-in-skips-shadowed")&&h)for(p=0;p<
z;++p)r=w[p],l=h[r],r in f&&(f[r]===l||r in q&&q[r]===l)||(f[r]=m?m(l):l);return f},mixin:function(f,h){f||(f={});for(var m=1,r=arguments.length;m<r;m++)y._mixin(f,arguments[m]);return f},setObject:function(f,h,m){var r=f.split(".");f=r.pop();return(m=p(r,!0,m))&&f?m[f]=h:void 0},getObject:function(f,h,m){return p(f?f.split("."):[],h,m)},exists:function(f,h){return void 0!==y.getObject(f,!1,h)},isString:function(f){return"string"==typeof f||f instanceof String},isArray:function(f){return f&&(f instanceof
Array||"array"==typeof f)},isFunction:function(l){return"[object Function]"===f.call(l)},isObject:function(f){return void 0!==f&&(null===f||"object"==typeof f||y.isArray(f)||y.isFunction(f))},isArrayLike:function(f){return f&&void 0!==f&&!y.isString(f)&&!y.isFunction(f)&&!(f.tagName&&"form"==f.tagName.toLowerCase())&&(y.isArray(f)||isFinite(f.length))},isAlien:function(f){return f&&!y.isFunction(f)&&/\{\s*\[native code\]\s*\}/.test(String(f))},extend:function(f,h){for(var m=1,r=arguments.length;m<
r;m++)y._mixin(f.prototype,arguments[m]);return f},_hitchArgs:function(f,h){var m=y._toArray(arguments,2),r=y.isString(h);return function(){var l=y._toArray(arguments),p=r?(f||q.global)[h]:h;return p&&p.apply(f||this,m.concat(l))}},hitch:function(f,h){if(2<arguments.length)return y._hitchArgs.apply(q,arguments);h||(h=f,f=null);if(y.isString(h)){f=f||q.global;if(!f[h])throw['lang.hitch: scope["',h,'"] is null (scope\x3d"',f,'")'].join("");return function(){return f[h].apply(f,arguments||[])}}return f?
function(){return h.apply(f,arguments||[])}:h},delegate:function(){function f(){}return function(h,m){f.prototype=h;var r=new f;f.prototype=null;m&&y._mixin(r,m);return r}}(),_toArray:C("ie")?function(){function f(h,m,r){r=r||[];for(m=m||0;m<h.length;m++)r.push(h[m]);return r}return function(h){return(h.item?f:l).apply(this,arguments)}}():l,partial:function(f){return y.hitch.apply(q,[null].concat(y._toArray(arguments)))},clone:function(f){if(!f||"object"!=typeof f||y.isFunction(f))return f;if(f.nodeType&&
"cloneNode"in f)return f.cloneNode(!0);if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp)return new RegExp(f);var h,m,r;if(y.isArray(f))for(h=[],m=0,r=f.length;m<r;++m)m in f&&h.push(y.clone(f[m]));else h=f.constructor?new f.constructor:{};return y._mixin(h,f,y.clone)},trim:String.prototype.trim?function(f){return f.trim()}:function(f){return f.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(f,h,m){return f.replace(m||x,y.isFunction(h)?h:function(f,m){return y.getObject(m,
!1,h)})}};y.mixin(q,y);return y})},"dojo/dnd/autoscroll":function(){define("../_base/kernel ../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(q,C,w,z,p,f,l){var x={};C.setObject("dnd.autoscroll",x,q);x.getViewport=l.getBox;x.V_TRIGGER_AUTOSCROLL=32;x.H_TRIGGER_AUTOSCROLL=32;x.V_AUTOSCROLL_VALUE=16;x.H_AUTOSCROLL_VALUE=16;var y,t=z.doc,h=Infinity,m=Infinity;x.autoScrollStart=function(f){t=f;y=l.getBox(t);f=z.body(t).parentNode;h=Math.max(f.scrollHeight-
y.h,0);m=Math.max(f.scrollWidth-y.w,0)};x.autoScroll=function(f){var p=y||l.getBox(t),q=z.body(t).parentNode,w=0,C=0;f.clientX<x.H_TRIGGER_AUTOSCROLL?w=-x.H_AUTOSCROLL_VALUE:f.clientX>p.w-x.H_TRIGGER_AUTOSCROLL&&(w=Math.min(x.H_AUTOSCROLL_VALUE,m-q.scrollLeft));f.clientY<x.V_TRIGGER_AUTOSCROLL?C=-x.V_AUTOSCROLL_VALUE:f.clientY>p.h-x.V_TRIGGER_AUTOSCROLL&&(C=Math.min(x.V_AUTOSCROLL_VALUE,h-q.scrollTop));window.scrollBy(w,C)};x._validNodes={div:1,p:1,td:1};x._validOverflow={auto:1,scroll:1};x.autoScrollNodes=
function(m){for(var h,l,t,q,y,C,L=0,J=0,P=m.target;P;){if(1==P.nodeType&&P.tagName.toLowerCase()in x._validNodes){t=f.getComputedStyle(P);q=t.overflow.toLowerCase()in x._validOverflow;y=t.overflowX.toLowerCase()in x._validOverflow;C=t.overflowY.toLowerCase()in x._validOverflow;if(q||y||C)h=p.getContentBox(P,t),l=p.position(P,!0);if(q||y){t=Math.min(x.H_TRIGGER_AUTOSCROLL,h.w/2);y=m.pageX-l.x;if(w("webkit")||w("opera"))y+=z.body().scrollLeft;L=0;0<y&&y<h.w&&(y<t?L=-t:y>h.w-t&&(L=t),P.scrollLeft+=L)}if(q||
C){q=Math.min(x.V_TRIGGER_AUTOSCROLL,h.h/2);C=m.pageY-l.y;if(w("webkit")||w("opera"))C+=z.body().scrollTop;J=0;0<C&&C<h.h&&(C<q?J=-q:C>h.h-q&&(J=q),P.scrollTop+=J)}if(L||J)return}try{P=P.parentNode}catch(R){P=null}}x.autoScroll(m)};return x})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(q,C,w){var z={},p={},f={length:0,add:function(f){if(p[f.id])throw Error("Tried to register widget with id\x3d\x3d"+f.id+" but that id is already registered");p[f.id]=
f;this.length++},remove:function(f){p[f]&&(delete p[f],this.length--)},byId:function(f){return"string"==typeof f?p[f]:f},byNode:function(f){return p[f.getAttribute("widgetId")]},toArray:function(){var f=[],q;for(q in p)f.push(p[q]);return f},getUniqueId:function(f){var q;do q=f+"_"+(f in z?++z[f]:z[f]=0);while(p[q]);return"dijit"==w._scopeName?q:w._scopeName+"_"+q},findWidgets:function(f,q){function y(f){for(f=f.firstChild;f;f=f.nextSibling)if(1==f.nodeType){var m=f.getAttribute("widgetId");m?(m=
p[m])&&t.push(m):f!==q&&y(f)}}var t=[];y(f);return t},_destroyAll:function(){w._curFocus=null;w._prevFocus=null;w._activeStack=[];q.forEach(f.findWidgets(C.body()),function(f){f._destroyed||(f.destroyRecursive?f.destroyRecursive():f.destroy&&f.destroy())})},getEnclosingWidget:function(f){for(;f;){var q=1==f.nodeType&&f.getAttribute("widgetId");if(q)return p[q];f=f.parentNode}return null},_hash:p};return w.registry=f})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],
function(q,C,w){return w("dijit.Destroyable",null,{destroy:function(q){this._destroyed=!0},own:function(){var w=["destroyRecursive","destroy","remove"];q.forEach(arguments,function(p){function f(){x.remove();q.forEach(y,function(f){f.remove()})}var l,x=C.before(this,"destroy",function(f){p[l](f)}),y=[];p.then?(l="cancel",p.then(f,f)):q.forEach(w,function(t){"function"===typeof p[t]&&(l||(l=t),y.push(C.after(p,t,f,!0)))})},this);return arguments}})})},"dijit/_base/manager":function(){define(["dojo/_base/array",
"dojo/_base/config","dojo/_base/lang","../registry","../main"],function(q,C,w,z,p){var f={};q.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(l){f[l]=z[l]});w.mixin(f,{defaultDuration:C.defaultDuration||200});w.mixin(p,f);return p})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(q,C,w,z){var p=q.Color=function(f){f&&this.setColor(f)};p.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,
255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:z.transparentColor||[0,0,0,0]};C.extend(p,{r:255,g:255,b:255,a:1,_set:function(f,l,p,q){this.r=f;this.g=l;this.b=p;this.a=q},setColor:function(f){C.isString(f)?p.fromString(f,this):C.isArray(f)?p.fromArray(f,this):(this._set(f.r,f.g,f.b,f.a),f instanceof p||this.sanitize());return this},
sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+w.map(["r","g","b"],function(f){f=this[f].toString(16);return 2>f.length?"0"+f:f},this).join("")},toCss:function(f){var l=this.r+", "+this.g+", "+this.b;return(f?"rgba("+l+", "+this.a:"rgb("+l)+")"},toString:function(){return this.toCss(!0)}});p.blendColors=q.blendColors=function(f,l,q,y){var t=y||new p;w.forEach(["r","g","b","a"],function(h){t[h]=
f[h]+(l[h]-f[h])*q;"a"!=h&&(t[h]=Math.round(t[h]))});return t.sanitize()};p.fromRgb=q.colorFromRgb=function(f,l){var q=f.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return q&&p.fromArray(q[1].split(/\s*,\s*/),l)};p.fromHex=q.colorFromHex=function(f,l){var q=l||new p,y=4==f.length?4:8,t=(1<<y)-1;f=Number("0x"+f.substr(1));if(isNaN(f))return null;w.forEach(["b","g","r"],function(h){var m=f&t;f>>=y;q[h]=4==y?17*m:m});q.a=1;return q};p.fromArray=q.colorFromArray=function(f,l){var q=l||new p;q._set(Number(f[0]),
Number(f[1]),Number(f[2]),Number(f[3]));isNaN(q.a)&&(q.a=1);return q.sanitize()};p.fromString=q.colorFromString=function(f,l){var q=p.named[f];return q&&p.fromArray(q,l)||p.fromRgb(f,l)||p.fromHex(f,l)};return p})},"dojox/date/timezone":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/date dojo/date/locale dojo/request dojo/request/handlers dojox/main".split(" "),function(q,C,w,z,p,f,l,x,y,t,h){function m(m){m=m||{};N=f.mixin(N,
m.zones||{});ba=f.mixin(ba,m.rules||{})}function r(f){R[f]=!0;y.get(q.toUrl((w.timezoneFileBasePath||"dojox/date/zoneinfo")+"/"+f),{handleAs:"olson_zoneinfo",sync:!0}).then(m,function(f){console.error("Error loading zone file:",f);throw f;})}function H(f){throw Error('Timezone "'+f+'" is either incorrect, or not loaded in the timezone registry.');}function K(f){var m=W[f];if(!m&&(m=f.split("/")[0],m=la[m],!m)){var h=N[f];if("string"==typeof h)return K(h);if(R.backward)H(f);else return r("backward"),
K(f)}return m}function E(f){f=f.match(/(\d+)(?::0*(\d*))?(?::0*(\d*))?([su])?$/);if(!f)return null;f[1]=parseInt(f[1],10);f[2]=f[2]?parseInt(f[2],10):0;f[3]=f[3]?parseInt(f[3],10):0;return f}function F(f,m,r,h,l,b,p){return Date.UTC(f,m,r,h,l,b)+6E4*(p||0)}function M(f){var m=E(f);if(null===m)return 0;m=1E3*(0===f.indexOf("-")?-1:1)*(60*(60*m[1]+m[2])+m[3]);return-m/60/1E3}function Q(f,m,r){var h=fa[f[3].substr(0,3).toLowerCase()],p=f[4],b=E(f[5]);"u"==b[4]&&(r=0);if(isNaN(p)){if("last"==p.substr(0,
4))return p=Z[p.substr(4,3).toLowerCase()],f=new Date(F(m,h+1,1,b[1]-24,b[2],b[3],r)),r=l.add(f,"minute",-r).getUTCDay(),p=p>r?p-r-7:p-r,0!==p&&(f=l.add(f,"hour",24*p)),f;p=Z[p.substr(0,3).toLowerCase()];if("undefined"!=p){if("\x3e\x3d"==f[4].substr(3,2))return f=new Date(F(m,h,parseInt(f[4].substr(5),10),b[1],b[2],b[3],r)),r=l.add(f,"minute",-r).getUTCDay(),p=p<r?p-r+7:p-r,0!==p&&(f=l.add(f,"hour",24*p)),f;if("\x3c\x3d"==p.substr(3,2))return f=new Date(F(m,h,parseInt(f[4].substr(5),10),b[1],b[2],
b[3],r)),r=l.add(f,"minute",-r).getUTCDay(),p=p>r?p-r-7:p-r,0!==p&&(f=l.add(f,"hour",24*p)),f}}else return f=new Date(F(m,h,parseInt(p,10),b[1],b[2],b[3],r));return null}function L(f,m){var r=[];C.forEach(ba[f[1]]||[],function(h){for(var l=0;2>l;l++)switch(h[l]){case "min":h[l]=1835;break;case "max":h[l]=2038;break;case "only":break;default:if(h[l]=parseInt(h[l],10),isNaN(h[l]))throw Error("Invalid year found on rule");}"string"==typeof h[6]&&(h[6]=M(h[6]));(h[0]<=m&&h[1]>=m||h[0]==m&&"only"==h[1])&&
r.push({r:h,d:Q(h,m,f[0])})});return r}function J(f,m){for(var r=aa[f]=[],h=0;h<m.length;h++){var p=m[h],b=r[h]=[],q=null,t=null,x=[];"string"==typeof p[0]&&(p[0]=M(p[0]));0===h?b[0]=Date.UTC(1835,0,1,0,0,0,0):(b[0]=r[h-1][1],q=m[h-1],t=r[h-1],x=t[2]);for(var y=(new Date(b[0])).getUTCFullYear(),w=p[3]?parseInt(p[3],10):2038,ba=[];y<=w;y++)ba=ba.concat(L(p,y));ba.sort(function(a,d){return l.compare(a.d,d.d)});var a,y=0;for(a;a=ba[y];y++)w=0<y?ba[y-1]:null,0>a.r[5].indexOf("u")&&0>a.r[5].indexOf("s")&&
(0===y&&0<h?x.length?a.d=l.add(a.d,"minute",x[x.length-1].r[6]):0===l.compare(new Date(t[1]),a.d,"date")?a.d=new Date(t[1]):a.d=l.add(a.d,"minute",M(q[1])):0<y&&(a.d=l.add(a.d,"minute",w.r[6])));b[2]=ba;if(p[3]){var t=parseInt(p[3],10),x=fa[(p[4]||"Jan").substr(0,3).toLowerCase()],w=parseInt(p[5]||"1",10),q=E(p[6]||"0"),d=b[1]=F(t,x,w,q[1],q[2],q[3],"u"==q[4]?0:p[0]);isNaN(d)&&(d=b[1]=Q([0,0,0,p[4],p[5],p[6]||"0"],t,"u"==q[4]?0:p[0]).getTime());t=C.filter(ba,function(a,b){var g=0<b?6E4*ba[b-1].r[6]:
0;return a.d.getTime()<d+g});"u"!=q[4]&&"s"!=q[4]&&(b[1]=t.length?b[1]+6E4*t[t.length-1].r[6]:b[1]+6E4*M(p[1]))}else b[1]=Date.UTC(2038,11,31,23,59,59,999)}}function P(f,m){for(var h=m,l=N[h];"string"==typeof l;)h=l,l=N[h];if(!l){if(!R.backward)return r("backward",!0),P(f,m);H(h)}aa[m]||J(m,l);for(var h=aa[m],p=f.getTime(),b=0,q;q=h[b];b++)if(p>=q[0]&&p<q[1])return{zone:l[b],range:h[b],idx:b};throw Error('No Zone found for "'+m+'" on '+f);}p.experimental("dojox.date.timezone");z="africa antarctica asia australasia backward etcetera europe northamerica pacificnew southamerica".split(" ");
var R={},N={},aa={},ba={},ma=w.timezoneLoadingScheme||"preloadAll";z=w.defaultZoneFile||("preloadAll"==ma?z:"northamerica");t.register("olson_zoneinfo",function(f){f=f.text.split("\n");for(var m=[],r="",h=null,r=null,l={zones:{},rules:{}},b=0;b<f.length;b++)if(m=f[b],m.match(/^\s/)&&(m="Zone "+h+m),m=m.split("#")[0],3<m.length)switch(m=m.split(/\s+/),r=m.shift(),r){case "Zone":h=m.shift();m[0]&&(l.zones[h]||(l.zones[h]=[]),l.zones[h].push(m));break;case "Rule":r=m.shift();l.rules[r]||(l.rules[r]=
[]);l.rules[r].push(m);break;case "Link":if(l.zones[m[1]])throw Error("Error with Link "+m[1]);l.zones[m[1]]=m[0]}return l});var fa={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},Z={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},la={EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:"northamerica",Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",
Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},W={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe",
"Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/Cordoba":"southamerica","America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica",
"America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica","America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica","America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica",
"America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica","America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica","America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica",
"America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica","America/Montevideo":"southamerica","America/Caracas":"southamerica"},ea={US:"S",Chatham:"S",NZ:"S",NT_YK:"S",Edm:"S",Salv:"S",Canada:"S",StJohns:"S",TC:"S",Guat:"S",Mexico:"S",Haiti:"S",Barb:"S",Belize:"S",CR:"S",Moncton:"S",Swift:"S",Hond:"S",Thule:"S",NZAQ:"S",
Zion:"S",ROK:"S",PRC:"S",Taiwan:"S",Ghana:"GMT",SL:"WAT",Chicago:"S",Detroit:"S",Vanc:"S",Denver:"S",Halifax:"S",Cuba:"S",Indianapolis:"S",Starke:"S",Marengo:"S",Pike:"S",Perry:"S",Vincennes:"S",Pulaski:"S",Louisville:"S",CA:"S",Nic:"S",Menominee:"S",Mont:"S",Bahamas:"S",NYC:"S",Regina:"S",Resolute:"ES",DR:"S",Toronto:"S",Winn:"S"};f.setObject("date.timezone",{getTzInfo:function(f,m){if("lazyLoad"==ma){var h=K(m);if(h)R[h]||r(h);else throw Error("Not a valid timezone ID.");}var l=P(f,m),h=l.zone[0],
p;var b=-1;p=l.range[2]||[];for(var q=f.getTime(),t=0,x;x=p[t];t++)q>=x.d.getTime()&&(b=t);p=0<=b?p[b].r:null;h=p?h+p[6]:ba[l.zone[1]]&&0<l.idx?h+M(N[m][l.idx-1][1]):h+M(l.zone[1]);q=l.zone;b=q[2];-1<b.indexOf("%s")?(p?(l=p[7],"-"==l&&(l="")):q[1]in ea?l=ea[q[1]]:0<l.idx?(l=N[m][l.idx-1][2],l=0>l.indexOf("%s")?b.replace("%s","S")==l?"S":"":""):l="",l=b.replace("%s",l)):-1<b.indexOf("/")?(l=b.split("/"),l=p?l[0===p[6]?0:1]:l[0]):l=b;return{tzOffset:h,tzAbbr:l}},loadZoneData:function(f){m(f)},getAllZones:function(){var f=
[],m;for(m in N)f.push(m);f.sort();return f}},h);"string"==typeof z&&z&&(z=[z]);z instanceof Array&&C.forEach(z,r);var ha=x.format,U=x._getZone;x.format=function(f,m){m=m||{};m.timezone&&!m._tzInfo&&(m._tzInfo=h.date.timezone.getTzInfo(f,m.timezone));if(m._tzInfo){var r=f.getTimezoneOffset()-m._tzInfo.tzOffset;f=new Date(f.getTime()+6E4*r)}return ha.call(this,f,m)};x._getZone=function(f,m,r){return r._tzInfo?m?r._tzInfo.tzAbbr:r._tzInfo.tzOffset:U.call(this,f,m,r)};return h.date.timezone})},"dojo/request":function(){define(["./request/default!"],
function(q){return q})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(q,C,w,z,p){function f(l,p){var q=function(f,h){return C(f,l,function(m){if(p)return p(m,h);if(!z.isDescendant(m.relatedTarget,f))return h.call(this,m)})};q.bubble=function(p){return f(l,function(f,m){var r=p(f.target),l=f.relatedTarget;if(r&&r!=(l&&1==l.nodeType&&p(l)))return m.call(r,f)})};return q}w.add("dom-quirks",p.doc&&"BackCompat"==p.doc.compatMode);w.add("events-mouseenter",
p.doc&&"onmouseenter"in p.doc.createElement("div"));w.add("events-mousewheel",p.doc&&"onmousewheel"in p.doc);p=w("dom-quirks")&&w("ie")||!w("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(f,p){return f.button&p},isLeft:function(f){return f.button&1},isMiddle:function(f){return f.button&4},isRight:function(f){return f.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(f,p){return f.button==p},isLeft:function(f){return 0==f.button},isMiddle:function(f){return 1==f.button},isRight:function(f){return 2==
f.button}};q.mouseButtons=p;q=w("events-mousewheel")?"mousewheel":function(f,p){return C(f,"DOMMouseScroll",function(f){f.wheelDelta=-f.detail;p.call(this,f)})};return{_eventHandler:f,enter:f("mouseover"),leave:f("mouseout"),wheel:q,isLeft:p.isLeft,isMiddle:p.isMiddle,isRight:p.isRight}})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(q,C,w,z,p,f,l){var x={_isElementShown:function(f){var l=z.get(f);return"hidden"!=
l.visibility&&"collapsed"!=l.visibility&&"none"!=l.display&&"hidden"!=w.get(f,"type")},hasDefaultTabStop:function(f){switch(f.nodeName.toLowerCase()){case "a":return w.has(f,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var l;try{var h=f.contentDocument;if("designMode"in h&&"on"==h.designMode)return!0;l=h.body}catch(m){try{l=f.contentWindow.document.body}catch(r){return!1}}return l&&("true"==l.contentEditable||l.firstChild&&"true"==
l.firstChild.contentEditable);default:return"true"==f.contentEditable}},effectiveTabIndex:function(f){return w.get(f,"disabled")?void 0:w.has(f,"tabIndex")?+w.get(f,"tabIndex"):x.hasDefaultTabStop(f)?0:void 0},isTabNavigable:function(f){return 0<=x.effectiveTabIndex(f)},isFocusable:function(f){return-1<=x.effectiveTabIndex(f)},_getTabNavigable:function(l){function p(f){return f&&"input"==f.tagName.toLowerCase()&&f.type&&"radio"==f.type.toLowerCase()&&f.name&&f.name.toLowerCase()}function h(f){return M[p(f)]||
f}var m,r,q,z,C,F,M={},Q=x._isElementShown,L=x.effectiveTabIndex,J=function(h){for(h=h.firstChild;h;h=h.nextSibling)if(!(1!=h.nodeType||9>=f("ie")&&"HTML"!==h.scopeName)&&Q(h)){var l=L(h);if(0<=l){if(0==l)m||(m=h),r=h;else if(0<l){if(!q||l<z)z=l,q=h;if(!C||l>=F)F=l,C=h}l=p(h);w.get(h,"checked")&&l&&(M[l]=h)}"SELECT"!=h.nodeName.toUpperCase()&&J(h)}};Q(l)&&J(l);return{first:h(m),last:h(r),lowest:h(q),highest:h(C)}},getFirstInTabbingOrder:function(f,l){var h=x._getTabNavigable(C.byId(f,l));return h.lowest?
h.lowest:h.first},getLastInTabbingOrder:function(f,l){var h=x._getTabNavigable(C.byId(f,l));return h.last?h.last:h.highest}};p.mixin(l,x);return x})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(q,C,w,z){function p(f,r,h){var l="";f&&f.stack&&(l+=f.stack);r&&r.stack&&(l+="\n    ----------------------------------------\n    rejected"+r.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));h&&h.stack&&(l+="\n    ----------------------------------------\n"+
h.stack);console.error(f,l)}function f(f,r,h,l){r||p(f,h,l)}function l(f,r,l,p){z.some(y,function(h){if(h.error===f)return r&&(h.handled=!0),!0})||y.push({error:f,rejection:l,handled:r,deferred:p,timestamp:(new Date).getTime()});t||(t=setTimeout(x,h))}function x(){var f=(new Date).getTime(),r=f-h;y=z.filter(y,function(f){return f.timestamp<r?(f.handled||p(f.error,f.rejection,f.deferred),!1):!0});t=y.length?setTimeout(x,y[0].timestamp+h-f):!1}C.add("config-useDeferredInstrumentation","report-unhandled-rejections");
var y=[],t=!1,h=1E3;return function(m){var r=C("config-useDeferredInstrumentation");if(r){q.on("resolved",w.hitch(console,"log","resolved"));q.on("rejected",w.hitch(console,"log","rejected"));q.on("progress",w.hitch(console,"log","progress"));var p=[];"string"===typeof r&&(p=r.split(","),r=p.shift());if("report-rejections"===r)m.instrumentRejected=f;else if("report-unhandled-rejections"===r||!0===r||1===r)m.instrumentRejected=l,h=parseInt(p[0],10)||h;else throw Error("Unsupported instrumentation usage \x3c"+
r+"\x3e");}}})},"dojox/gfx/utils":function(){define("dojo/_base/kernel dojo/_base/lang ./_base dojo/_base/html dojo/_base/array dojo/_base/window dojo/_base/json dojo/_base/Deferred dojo/_base/sniff require dojo/_base/config".split(" "),function(q,C,w,z,p,f,l,x,y,t,h){var m=w.utils={};C.mixin(m,{forEach:function(f,h,l){l=l||q.global;h.call(l,f);(f instanceof w.Surface||f instanceof w.Group)&&p.forEach(f.children,function(f){m.forEach(f,h,l)})},serialize:function(f){var h={},l;if((l=f instanceof w.Surface)||
f instanceof w.Group){if(h.children=p.map(f.children,m.serialize),l)return h.children}else h.shape=f.getShape();f.getTransform&&(l=f.getTransform())&&(h.transform=l);f.getStroke&&(l=f.getStroke())&&(h.stroke=l);f.getFill&&(l=f.getFill())&&(h.fill=l);f.getFont&&(l=f.getFont())&&(h.font=l);return h},toJson:function(f,h){return l.toJson(m.serialize(f),h)},deserialize:function(f,h){if(h instanceof Array)return p.map(h,C.hitch(null,m.deserialize,f));var l="shape"in h?f.createShape(h.shape):f.createGroup();
"transform"in h&&l.setTransform(h.transform);"stroke"in h&&l.setStroke(h.stroke);"fill"in h&&l.setFill(h.fill);"font"in h&&l.setFont(h.font);"children"in h&&p.forEach(h.children,C.hitch(null,m.deserialize,l));return l},fromJson:function(f,h){return m.deserialize(f,l.fromJson(h))},toSvg:function(h){var l=new x;if("svg"===w.renderer)try{var p=m._cleanSvg(m._innerXML(h.rawNode));l.callback(p)}catch(q){l.errback(q)}else{m._initSvgSerializerDeferred||m._initSvgSerializer();var t=m.toJson(h),p=function(){try{var p=
h.getDimensions(),q=p.width,x=p.height,y=m._gfxSvgProxy.document.createElement("div");m._gfxSvgProxy.document.body.appendChild(y);f.withDoc(m._gfxSvgProxy.document,function(){z.style(y,"width",q);z.style(y,"height",x)},this);m._gfxSvgProxy[dojox._scopeName].gfx.createSurface(y,q,x).whenLoaded(null,function(f){try{m._gfxSvgProxy[dojox._scopeName].gfx.utils.fromJson(f,t);var h=m._cleanSvg(y.innerHTML);f.clear();f.destroy();m._gfxSvgProxy.document.body.removeChild(y);l.callback(h)}catch(r){l.errback(r)}})}catch(w){l.errback(w)}};
0<m._initSvgSerializerDeferred.fired?p():m._initSvgSerializerDeferred.addCallback(p)}return l},_gfxSvgProxy:null,_initSvgSerializerDeferred:null,_svgSerializerInitialized:function(){m._initSvgSerializerDeferred.callback(!0)},_initSvgSerializer:function(){if(!m._initSvgSerializerDeferred){m._initSvgSerializerDeferred=new x;var r=f.doc.createElement("iframe");z.style(r,{display:"none",position:"absolute",width:"1em",height:"1em",top:"-10000px"});var l;y("ie")?r.onreadystatechange=function(){"complete"==
r.contentWindow.document.readyState&&(r.onreadystatechange=function(){},l=setInterval(function(){r.contentWindow[q.scopeMap.dojo[1]._scopeName]&&r.contentWindow[q.scopeMap.dojox[1]._scopeName].gfx&&r.contentWindow[q.scopeMap.dojox[1]._scopeName].gfx.utils&&(clearInterval(l),r.contentWindow.parent[q.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=r.contentWindow,r.contentWindow.parent[q.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized())},50))}:r.onload=function(){r.onload=function(){};
l=setInterval(function(){r.contentWindow[q.scopeMap.dojo[1]._scopeName]&&r.contentWindow[q.scopeMap.dojox[1]._scopeName].gfx&&r.contentWindow[q.scopeMap.dojox[1]._scopeName].gfx.utils&&(clearInterval(l),r.contentWindow.parent[q.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=r.contentWindow,r.contentWindow.parent[q.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized())},50)};var p=h.dojoxGfxSvgProxyFrameUrl||t.toUrl("dojox/gfx/resources/gfxSvgProxyFrame.html");r.setAttribute("src",
p.toString());f.body().appendChild(r)}},_innerXML:function(f){return f.innerXML?f.innerXML:f.xml?f.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(f):null},_cleanSvg:function(f){f&&(-1==f.indexOf('xmlns\x3d"http://www.w3.org/2000/svg"')&&(f=f.substring(4,f.length),f='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg"'+f),-1==f.indexOf('xmlns:xlink\x3d"http://www.w3.org/1999/xlink"')&&(f=f.substring(4,f.length),f='\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink"'+f),-1===
f.indexOf("xlink:href")&&(f=f.replace(/href\s*=/g,"xlink:href\x3d")),f=f.replace(/<img\b([^>]*)>/gi,"\x3cimage $1 /\x3e"),f=f.replace(/\bdojoGfx\w*\s*=\s*(['"])\w*\1/g,""),f=f.replace(/\b__gfxObject__\s*=\s*(['"])\w*\1/g,""),f=f.replace(/[=]([^"']+?)(\s|>)/g,'\x3d"$1"$2'),f=f.replace(/\bstroke-opacity\w*\s*=\s*(['"])undefined\1/g,""));return f}});return m})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(q,C,
w,z,p,f){var l=f.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(w.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(f,l,p,h,m,r,q,z){if(m!=this._obj){this.stop();this._initialDelay=q||500;this._subsequentDelay=
r||.9;this._minDelay=z||10;this._obj=m;this._node=p;this._count=this._currentTimeout=-1;this._callback=w.hitch(l,h);this._evt={faux:!0};for(var C in f)"layerX"!=C&&"layerY"!=C&&(l=f[C],"function"!=typeof l&&"undefined"!=typeof l&&(this._evt[C]=l));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(f,p,t,h,m,r,H){var K="keyCode"in p?"keyCode":"charCode"in
p?"charCode":"charOrCode",E=[z(f,"keyCode"in p?"keydown":"charCode"in p?"keypress":C._keypress,w.hitch(this,function(q){q[K]!=p[K]||void 0!==p.ctrlKey&&p.ctrlKey!=q.ctrlKey||void 0!==p.altKey&&p.altKey!=q.altKey||void 0!==p.metaKey&&p.metaKey!=(q.metaKey||!1)||void 0!==p.shiftKey&&p.shiftKey!=q.shiftKey?l._obj==p&&l.stop():(q.stopPropagation(),q.preventDefault(),l.trigger(q,t,f,h,p,m,r,H))})),z(f,"keyup",w.hitch(this,function(){l._obj==p&&l.stop()}))];return{remove:function(){q.forEach(E,function(f){f.remove()})}}},
addMouseListener:function(f,y,t,h,m,r){var C=[z(f,"mousedown",w.hitch(this,function(p){p.preventDefault();l.trigger(p,y,f,t,f,h,m,r)})),z(f,"mouseup",w.hitch(this,function(f){this._obj&&f.preventDefault();l.stop()})),z(f,"mouseout",w.hitch(this,function(f){this._obj&&f.preventDefault();l.stop()})),z(f,"dblclick",w.hitch(this,function(q){q.preventDefault();9>p("ie")&&(l.trigger(q,y,f,t,f,h,m,r),setTimeout(w.hitch(this,l.stop),50))}))];return{remove:function(){q.forEach(C,function(f){f.remove()})}}},
addListener:function(f,l,p,h,m,r,w,z){var C=[this.addKeyListener(l,p,h,m,r,w,z),this.addMouseListener(f,h,m,r,w,z)];return{remove:function(){q.forEach(C,function(f){f.remove()})}}}};return l})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(q,C,w,z,p){function f(f,m){var h=f.xhr;f.status=f.xhr.status;try{f.text=h.responseText}catch(l){}"xml"===f.options.handleAs&&(f.data=h.responseXML);if(!m)try{w(f)}catch(r){m=r}m?this.reject(m):
z.checkStatus(h.status)?this.resolve(f):(m=new q("Unable to load "+f.url+" status: "+h.status,f),this.reject(m))}function l(f){return this.xhr.getResponseHeader(f)}function x(w,E,F){var J=p("native-formdata")&&E&&E.data&&E.data instanceof FormData,P=z.parseArgs(w,z.deepCreate(K,E),J);w=P.url;E=P.options;var R,N=z.deferred(P,r,t,h,f,function(){R&&R()}),aa=P.xhr=x._create();if(!aa)return N.cancel(new q("XHR was not created")),F?N:N.promise;P.getHeader=l;m&&(R=m(aa,N,P));var ba=E.data,ma=!E.sync,fa=
E.method;try{aa.open(fa,w,ma,E.user||H,E.password||H);E.withCredentials&&(aa.withCredentials=E.withCredentials);p("native-response-type")&&E.handleAs in y&&(aa.responseType=y[E.handleAs]);var Z=E.headers;w=J?!1:"application/x-www-form-urlencoded";if(Z)for(var la in Z)"content-type"===la.toLowerCase()?w=Z[la]:Z[la]&&aa.setRequestHeader(la,Z[la]);w&&!1!==w&&aa.setRequestHeader("Content-Type",w);Z&&"X-Requested-With"in Z||aa.setRequestHeader("X-Requested-With","XMLHttpRequest");z.notify&&z.notify.emit("send",
P,N.promise.cancel);aa.send(ba)}catch(W){N.reject(W)}C(N);aa=null;return F?N:N.promise}p.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});p.add("dojo-force-activex-xhr",function(){return p("activex")&&!document.addEventListener&&"file:"===window.location.protocol});p.add("native-xhr2",function(){if(p("native-xhr")){var f=new XMLHttpRequest;return"undefined"!==typeof f.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof f.upload)}});p.add("native-formdata",function(){return"undefined"!==
typeof FormData});p.add("native-response-type",function(){return p("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});p.add("native-xhr2-blob",function(){if(p("native-response-type")){var f=new XMLHttpRequest;f.open("GET","/",!0);f.responseType="blob";var m=f.responseType;f.abort();return"blob"===m}});var y={blob:p("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},t,h,m,r;p("native-xhr2")?(t=function(f){return!this.isFulfilled()},r=function(f,
m){m.xhr.abort()},m=function(f,m,h){function l(f){m.handleResponse(h)}function r(f){f=new q("Unable to load "+h.url+" status: "+f.target.status,h);m.handleResponse(h,f)}function p(f){f.lengthComputable?(h.loaded=f.loaded,h.total=f.total,m.progress(h)):3===h.xhr.readyState&&(h.loaded=f.position,m.progress(h))}f.addEventListener("load",l,!1);f.addEventListener("error",r,!1);f.addEventListener("progress",p,!1);return function(){f.removeEventListener("load",l,!1);f.removeEventListener("error",r,!1);f.removeEventListener("progress",
p,!1);f=null}}):(t=function(f){return f.xhr.readyState},h=function(f){return 4===f.xhr.readyState},r=function(f,m){var h=m.xhr,l=typeof h.abort;"function"!==l&&"object"!==l&&"unknown"!==l||h.abort()});var H,K={data:null,query:null,sync:!1,method:"GET"};x._create=function(){throw Error("XMLHTTP not available");};if(p("native-xhr")&&!p("dojo-force-activex-xhr"))x._create=function(){return new XMLHttpRequest};else if(p("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),x._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(E){try{new ActiveXObject("Microsoft.XMLHTTP"),
x._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(F){}}z.addCommonMethods(x);return x})},"dijit/form/VerticalSlider":function(){define(["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(q,C,w){return q("dijit.form.VerticalSlider",C,{templateString:w,_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})})},
"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(q,C,w,z,p,f,l,x,y,t,h,m){function r(f,m){return w.doc.createElementNS?w.doc.createElementNS(f,m):w.doc.createElement(m)}function H(f,m,h,l){return f.setAttributeNS?f.setAttributeNS(m,h,l):f.setAttribute(h,l)}function K(f){return E.useSvgWeb?w.doc.createTextNode(f,!0):w.doc.createTextNode(f)}
var E=t.svg={};E.useSvgWeb="undefined"!=typeof window.svgweb;var F=navigator.userAgent,M=C("ios"),Q=C("android"),L=C("chrome")||Q&&4<=Q?"auto":"optimizeLegibility";E.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};E.getRef=function(f){return f&&"none"!=f?f.match(/^url\(#.+\)$/)?z.byId(f.slice(5,-1)):f.match(/^#dojoUnique\d+$/)?z.byId(f.slice(1)):null:null};E.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,
3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var J=0;E.Shape=p("dojox.gfx.svg.Shape",h.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var f=this.rawNode.getAttribute("fill");(f=E.getRef(f))&&f.parentNode.removeChild(f)}this.clip&&(f=this.rawNode.getAttribute("clip-path"))&&(f=z.byId(f.match(/gfx_clip[\d]+/)[0]))&&f.parentNode.removeChild(f);h.Shape.prototype.destroy.apply(this,arguments)},setFill:function(m){if(!m)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var h,l=function(f){this.setAttribute(f,h[f].toFixed(8))};if("object"==typeof m&&"type"in m){switch(m.type){case "linear":h=t.makeParameters(t.defaultLinearGradient,m);m=this._setFillObject(h,"linearGradient");f.forEach(["x1","y1","x2","y2"],l,m);break;case "radial":h=t.makeParameters(t.defaultRadialGradient,m);m=this._setFillObject(h,"radialGradient");f.forEach(["cx","cy","r"],l,m);break;case "pattern":h=
t.makeParameters(t.defaultPattern,m),m=this._setFillObject(h,"pattern"),f.forEach(["x","y","width","height"],l,m)}this.fillStyle=h;return this}this.fillStyle=h=t.normalizeColor(m);this.rawNode.setAttribute("fill",h.toCss());this.rawNode.setAttribute("fill-opacity",h.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(f){var m=this.rawNode;if(!f)return this.strokeStyle=null,m.setAttribute("stroke","none"),m.setAttribute("stroke-opacity",0),this;if("string"==typeof f||
q.isArray(f)||f instanceof y)f={color:f};f=this.strokeStyle=t.makeParameters(t.defaultStroke,f);f.color=t.normalizeColor(f.color);if(f){m.setAttribute("stroke",f.color.toCss());m.setAttribute("stroke-opacity",f.color.a);m.setAttribute("stroke-width",f.width);m.setAttribute("stroke-linecap",f.cap);"number"==typeof f.join?(m.setAttribute("stroke-linejoin","miter"),m.setAttribute("stroke-miterlimit",f.join)):m.setAttribute("stroke-linejoin",f.join);var h=f.style.toLowerCase();h in E.dasharray&&(h=E.dasharray[h]);
if(h instanceof Array){var h=q._toArray(h),l;for(l=0;l<h.length;++l)h[l]*=f.width;if("butt"!=f.cap){for(l=0;l<h.length;l+=2)h[l]-=f.width,1>h[l]&&(h[l]=1);for(l=1;l<h.length;l+=2)h[l]+=f.width}h=h.join(",")}m.setAttribute("stroke-dasharray",h);m.setAttribute("dojoGfxStrokeStyle",f.style)}return this},_getParentSurface:function(){for(var f=this.parent;f&&!(f instanceof t.Surface);f=f.parent);return f},_setFillObject:function(f,m){var h=E.xmlns.svg;this.fillStyle=f;var l=this._getParentSurface().defNode,
p=this.rawNode.getAttribute("fill");if(p=E.getRef(p))if(p.tagName.toLowerCase()!=m.toLowerCase()){var q=p.id;p.parentNode.removeChild(p);p=r(h,m);p.setAttribute("id",q);l.appendChild(p)}else for(;p.childNodes.length;)p.removeChild(p.lastChild);else p=r(h,m),p.setAttribute("id",t._base._getUniqueId()),l.appendChild(p);if("pattern"==m)p.setAttribute("patternUnits","userSpaceOnUse"),h=r(h,"image"),h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("width",f.width.toFixed(8)),h.setAttribute("height",
f.height.toFixed(8)),H(h,E.xmlns.xlink,"xlink:href",f.src),p.appendChild(h);else for(p.setAttribute("gradientUnits","userSpaceOnUse"),l=0;l<f.colors.length;++l){var q=f.colors[l],x=r(h,"stop"),y=q.color=t.normalizeColor(q.color);x.setAttribute("offset",q.offset.toFixed(8));x.setAttribute("stop-color",y.toCss());x.setAttribute("stop-opacity",y.a);p.appendChild(x)}this.rawNode.setAttribute("fill","url(#"+p.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return p},_applyTransform:function(){if(this.matrix){var f=this.matrix;this.rawNode.setAttribute("transform","matrix("+f.xx.toFixed(8)+","+f.yx.toFixed(8)+","+f.xy.toFixed(8)+","+f.yy.toFixed(8)+","+f.dx.toFixed(8)+","+f.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(f){f=this.rawNode=f;"image"!=this.shape.type&&f.setAttribute("fill","none");f.setAttribute("fill-opacity",0);f.setAttribute("stroke","none");f.setAttribute("stroke-opacity",
0);f.setAttribute("stroke-width",1);f.setAttribute("stroke-linecap","butt");f.setAttribute("stroke-linejoin","miter");f.setAttribute("stroke-miterlimit",4);f.__gfxObject__=this},setShape:function(f){this.shape=t.makeParameters(this.shape,f);for(var m in this.shape)"type"!=m&&this.rawNode.setAttribute(m,this.shape[m]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(f){this.inherited(arguments);var m=f?"width"in f?"rect":"cx"in f?"ellipse":"points"in f?"polyline":"d"in f?"path":null:null;if(f&&!m)return this;"polyline"===m&&(f=q.clone(f),f.points=f.points.join(","));var h,l=x.get(this.rawNode,"clip-path");l&&(h=z.byId(l.match(/gfx_clip[\d]+/)[0]))&&h.removeChild(h.childNodes[0]);f?(h?(m=r(E.xmlns.svg,m),h.appendChild(m)):(l="gfx_clip"+ ++J,this.rawNode.setAttribute("clip-path","url(#"+l+")"),h=
r(E.xmlns.svg,"clipPath"),m=r(E.xmlns.svg,m),h.appendChild(m),this.rawNode.parentNode.insertBefore(h,this.rawNode),x.set(h,"id",l)),x.set(m,f)):(this.rawNode.removeAttribute("clip-path"),h&&h.parentNode.removeChild(h));return this},_removeClipNode:function(){var f,m=x.get(this.rawNode,"clip-path");m&&(f=z.byId(m.match(/gfx_clip[\d]+/)[0]))&&f.parentNode.removeChild(f);return f}});E.Group=p("dojox.gfx.svg.Group",E.Shape,{constructor:function(){h.Container._init.call(this)},setRawNode:function(f){this.rawNode=
f;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);E.Shape.prototype.destroy.apply(this,arguments)}});E.Group.nodeType="g";E.Rect=p("dojox.gfx.svg.Rect",[E.Shape,h.Rect],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;for(var m in this.shape)"type"!=m&&"r"!=m&&this.rawNode.setAttribute(m,this.shape[m]);null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});E.Rect.nodeType="rect";
E.Ellipse=p("dojox.gfx.svg.Ellipse",[E.Shape,h.Ellipse],{});E.Ellipse.nodeType="ellipse";E.Circle=p("dojox.gfx.svg.Circle",[E.Shape,h.Circle],{});E.Circle.nodeType="circle";E.Line=p("dojox.gfx.svg.Line",[E.Shape,h.Line],{});E.Line.nodeType="line";E.Polyline=p("dojox.gfx.svg.Polyline",[E.Shape,h.Polyline],{setShape:function(f,m){f&&f instanceof Array?(this.shape=t.makeParameters(this.shape,{points:f}),m&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=t.makeParameters(this.shape,
f);this.bbox=null;this._normalizePoints();for(var h=[],l=this.shape.points,r=0;r<l.length;++r)h.push(l[r].x.toFixed(8),l[r].y.toFixed(8));this.rawNode.setAttribute("points",h.join(" "));return this}});E.Polyline.nodeType="polyline";E.Image=p("dojox.gfx.svg.Image",[E.Shape,h.Image],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;for(var m in this.shape)"type"!=m&&"src"!=m&&f.setAttribute(m,this.shape[m]);f.setAttribute("preserveAspectRatio","none");H(f,
E.xmlns.xlink,"xlink:href",this.shape.src);f.__gfxObject__=this;return this}});E.Image.nodeType="image";E.Text=p("dojox.gfx.svg.Text",[E.Shape,h.Text],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var m=this.shape;f.setAttribute("x",m.x);f.setAttribute("y",m.y);f.setAttribute("text-anchor",m.align);f.setAttribute("text-decoration",m.decoration);f.setAttribute("rotate",m.rotated?90:0);f.setAttribute("kerning",m.kerning?"auto":0);f.setAttribute("text-rendering",
L);f.firstChild?f.firstChild.nodeValue=m.text:f.appendChild(K(m.text));return this},getTextWidth:function(){var f=this.rawNode,m=f.parentNode,f=f.cloneNode(!0);f.style.visibility="hidden";var h=0,l=f.firstChild.nodeValue;m.appendChild(f);if(""!=l)for(;!h;)h=f.getBBox?parseInt(f.getBBox().width):68;m.removeChild(f);return h},getBoundingBox:function(){var f=null;if(this.getShape().text)try{f=this.rawNode.getBBox()}catch(m){f={x:0,y:0,width:0,height:0}}return f}});E.Text.nodeType="text";E.Path=p("dojox.gfx.svg.Path",
[E.Shape,m.Path],{_updateWithSegment:function(f){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(f){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});E.Path.nodeType="path";E.TextPath=p("dojox.gfx.svg.TextPath",[E.Shape,m.TextPath],{_updateWithSegment:function(f){this.inherited(arguments);this._setTextPath()},setShape:function(f){this.inherited(arguments);
this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var f=this.rawNode;if(!f.firstChild){var m=r(E.xmlns.svg,"textPath"),h=K("");m.appendChild(h);f.appendChild(m)}m=(m=f.firstChild.getAttributeNS(E.xmlns.xlink,"href"))&&E.getRef(m);if(!m&&(h=this._getParentSurface())){var h=h.defNode,m=r(E.xmlns.svg,"path"),l=t._base._getUniqueId();m.setAttribute("id",l);h.appendChild(m);H(f.firstChild,E.xmlns.xlink,"xlink:href","#"+l)}m&&m.setAttribute("d",this.shape.path)}},
_setText:function(){var f=this.rawNode;if(!f.firstChild){var m=r(E.xmlns.svg,"textPath"),h=K("");m.appendChild(h);f.appendChild(m)}f=f.firstChild;m=this.text;f.setAttribute("alignment-baseline","middle");switch(m.align){case "middle":f.setAttribute("text-anchor","middle");f.setAttribute("startOffset","50%");break;case "end":f.setAttribute("text-anchor","end");f.setAttribute("startOffset","100%");break;default:f.setAttribute("text-anchor","start"),f.setAttribute("startOffset","0%")}f.setAttribute("baseline-shift",
"0.5ex");f.setAttribute("text-decoration",m.decoration);f.setAttribute("rotate",m.rotated?90:0);f.setAttribute("kerning",m.kerning?"auto":0);f.firstChild.data=m.text}});E.TextPath.nodeType="text";var P=534<function(){var f=/WebKit\/(\d*)/.exec(F);return f?f[1]:0}();E.Surface=p("dojox.gfx.svg.Surface",h.Surface,{constructor:function(){h.Container._init.call(this)},destroy:function(){h.Container.clear.call(this,!0);this.defNode=null;this.inherited(arguments)},setDimensions:function(f,m){if(!this.rawNode)return this;
this.rawNode.setAttribute("width",f);this.rawNode.setAttribute("height",m);P&&(this.rawNode.style.width=f,this.rawNode.style.height=m);return this},getDimensions:function(){return this.rawNode?{width:t.normalizedLength(this.rawNode.getAttribute("width")),height:t.normalizedLength(this.rawNode.getAttribute("height"))}:null}});E.createSurface=function(f,m,h){var l=new E.Surface;l.rawNode=r(E.xmlns.svg,"svg");l.rawNode.setAttribute("overflow","hidden");m&&l.rawNode.setAttribute("width",m);h&&l.rawNode.setAttribute("height",
h);m=r(E.xmlns.svg,"defs");l.rawNode.appendChild(m);l.defNode=m;l._parent=z.byId(f);l._parent.appendChild(l.rawNode);t._base._fixMsTouchAction(l);return l};C={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family)}};var R=h.Container;p=E.Container={openBatch:function(){if(!this._batch){var f;
f=E.useSvgWeb?w.doc.createDocumentFragment(!0):w.doc.createDocumentFragment();this.fragment=f}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(f){this!=f.getParent()&&(this.fragment?this.fragment.appendChild(f.rawNode):this.rawNode.appendChild(f.rawNode),R.add.apply(this,arguments),f.setClip(f.clip));return this},remove:function(f,m){this==
f.getParent()&&(this.rawNode==f.rawNode.parentNode&&this.rawNode.removeChild(f.rawNode),this.fragment&&this.fragment==f.rawNode.parentNode&&this.fragment.removeChild(f.rawNode),f._removeClipNode(),R.remove.apply(this,arguments));return this},clear:function(){for(var f=this.rawNode;f.lastChild;)f.removeChild(f.lastChild);var m=this.defNode;if(m){for(;m.lastChild;)m.removeChild(m.lastChild);f.appendChild(m)}return R.clear.apply(this,arguments)},getBoundingBox:R.getBoundingBox,_moveChildToFront:R._moveChildToFront,
_moveChildToBack:R._moveChildToBack};m=E.Creator={createObject:function(f,m){if(!this.rawNode)return null;var h=new f,l=r(E.xmlns.svg,f.nodeType);h.setRawNode(l);h.setShape(m);this.add(h);return h}};q.extend(E.Text,C);q.extend(E.TextPath,C);q.extend(E.Group,p);q.extend(E.Group,h.Creator);q.extend(E.Group,m);q.extend(E.Surface,p);q.extend(E.Surface,h.Creator);q.extend(E.Surface,m);E.fixTarget=function(f,m){f.gfxTarget||(f.gfxTarget=M&&f.target.wholeText?f.target.parentElement.__gfxObject__:f.target.__gfxObject__);
return!0};E.useSvgWeb&&(E.createSurface=function(f,m,h){var p=new E.Surface;if(!m||!h){var q=l.position(f);m=m||q.w;h=h||q.h}f=z.byId(f);var q=f.id?f.id+"_svgweb":t._base._getUniqueId(),x=r(E.xmlns.svg,"svg");x.id=q;x.setAttribute("width",m);x.setAttribute("height",h);svgweb.appendChild(x,f);x.addEventListener("SVGLoad",function(){p.rawNode=this;p.isLoaded=!0;var f=r(E.xmlns.svg,"defs");p.rawNode.appendChild(f);p.defNode=f;if(p.onLoad)p.onLoad(p)},!1);p.isLoaded=!1;return p},E.Surface.extend({destroy:function(){var f=
this.rawNode;svgweb.removeChild(f,f.parentNode)}}),C={connect:function(f,m,h){"on"===f.substring(0,2)&&(f=f.substring(2));h=2==arguments.length?m:q.hitch(m,h);this.getEventSource().addEventListener(f,h,!1);return[this,f,h]},disconnect:function(f){this.getEventSource().removeEventListener(f[1],f[2],!1);delete f[0]}},q.extend(E.Shape,C),q.extend(E.Surface,C));return E})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(q,C){var w={};q.regexp=w;w.escapeString=function(q,p){return q.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(f){return p&&-1!=p.indexOf(f)?f:"\\"+f})};w.buildGroupRE=function(q,p,f){if(!(q instanceof Array))return p(q);for(var l=[],x=0;x<q.length;x++)l.push(p(q[x]));return w.group(l.join("|"),f)};w.group=function(q,p){return"("+(p?"?:":"")+q+")"};return w})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(q,C,w,z){var p=w.getObject("dnd",!0,C);p.getCopyKeyState=function(f){return f[q("mac")?"metaKey":"ctrlKey"]};p._uniqueId=0;p.getUniqueId=function(){var f;
do f=C._scopeName+"Unique"+ ++p._uniqueId;while(z.byId(f));return f};p._empty={};p.isFormElement=function(f){f=f.target;3==f.nodeType&&(f=f.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+f.tagName.toLowerCase()+" ")};return p})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(q,C,w,z){var p,f=function(){return this}(),l={},x={},y={config:C,global:f,dijit:l,dojox:x},l={dojo:["dojo",y],dijit:["dijit",l],dojox:["dojox",x]};z=w.map&&
w.map[z.id.match(/[^\/]+/)[0]]||w.packs&&w.packs[z.id.match(/[^\/]+/)[0]].packageMap;for(p in z)l[p]?l[p][0]=z[p]:l[p]=[z[p],{}];for(p in l)z=l[p],z[1]._scopeName=z[0],C.noGlobals||(f[z[0]]=z[1]);y.scopeMap=l;y.baseUrl=y.config.baseUrl=w.baseUrl;y.isAsync=!q("dojo-loader")||w.async;y.locale=C.locale;q="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);y.version={major:1,minor:10,patch:2,flag:"",revision:q?q[0]:NaN,toString:function(){var f=y.version;return f.major+"."+f.minor+"."+f.patch+f.flag+" ("+f.revision+
")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(y);y.exit=function(){};"undefined"!=typeof console||(console={});C="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var t;for(q=0;t=C[q++];)console[t]||function(){var f=t+"";console[f]="log"in console?function(){var m=Array.prototype.slice.call(arguments);m.unshift(f+":");console.log(m.join(" "))}:function(){};console[f]._fake=
!0}();y.deprecated=y.experimental=function(){};y._hasResource={};return y})},"dojo/date":function(){define(["./_base/kernel","./has","./_base/lang"],function(q,C,w){var z={getDaysInMonth:function(p){var f=p.getMonth();return 1==f&&z.isLeapYear(p)?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]},isLeapYear:function(p){p=p.getFullYear();return!(p%400)||!(p%4)&&!!(p%100)},getTimezoneName:function(p){var f=p.toString(),l="",q=f.indexOf("(");if(-1<q)l=f.substring(++q,f.indexOf(")"));else if(q=/([A-Z\/]+) \d{4}$/,
f=f.match(q))l=f[1];else if(f=p.toLocaleString(),q=/ ([A-Z\/]+)$/,f=f.match(q))l=f[1];return"AM"==l||"PM"==l?"":l},compare:function(p,f,l){p=new Date(+p);f=new Date(+(f||new Date));"date"==l?(p.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==l&&(p.setFullYear(0,0,0),f.setFullYear(0,0,0));return p>f?1:p<f?-1:0},add:function(p,f,l){var q=new Date(+p),y=!1,t="Date";switch(f){case "day":break;case "weekday":var h;(f=l%5)?h=parseInt(l/5):(f=0<l?5:-5,h=0<l?(l-5)/5:(l+5)/5);var m=p.getDay(),r=0;6==m&&0<l?
r=1:0==m&&0>l&&(r=-1);m+=f;if(0==m||6==m)r=0<l?2:-2;l=7*h+f+r;break;case "year":t="FullYear";y=!0;break;case "week":l*=7;break;case "quarter":l*=3;case "month":y=!0;t="Month";break;default:t="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+"s"}if(t)q["set"+t](q["get"+t]()+l);y&&q.getDate()<p.getDate()&&q.setDate(0);return q},difference:function(p,f,l){f=f||new Date;l=l||"day";var q=f.getFullYear()-p.getFullYear(),y=1;switch(l){case "quarter":p=p.getMonth();f=f.getMonth();p=Math.floor(p/3)+1;f=Math.floor(f/
3)+1;y=f+4*q-p;break;case "weekday":q=Math.round(z.difference(p,f,"day"));l=parseInt(z.difference(p,f,"week"));y=q%7;if(0==y)q=5*l;else{var t=0,h=p.getDay();f=f.getDay();l=parseInt(q/7);y=q%7;p=new Date(p);p.setDate(p.getDate()+7*l);p=p.getDay();if(0<q)switch(!0){case 6==h:t=-1;break;case 0==h:t=0;break;case 6==f:t=-1;break;case 0==f:t=-2;break;case 5<p+y:t=-2}else if(0>q)switch(!0){case 6==h:t=0;break;case 0==h:t=1;break;case 6==f:t=2;break;case 0==f:t=1;break;case 0>p+y:t=2}q=q+t-2*l}y=q;break;
case "year":y=q;break;case "month":y=f.getMonth()-p.getMonth()+12*q;break;case "week":y=parseInt(z.difference(p,f,"day")/7);break;case "day":y/=24;case "hour":y/=60;case "minute":y/=60;case "second":y/=1E3;case "millisecond":y*=f.getTime()-p.getTime()}return Math.round(y)}};w.mixin(w.getObject("date",!0,q),z);return z})},"dojo/errors/create":function(){define(["../_base/lang"],function(q){return function(C,w,z,p){z=z||Error;var f=function(l){if(z===Error){Error.captureStackTrace&&Error.captureStackTrace(this,
f);var p=Error.call(this,l),q;for(q in p)p.hasOwnProperty(q)&&(this[q]=p[q]);this.message=l;this.stack=p.stack}else z.apply(this,arguments);w&&w.apply(this,arguments)};f.prototype=q.delegate(z.prototype,p);f.prototype.name=C;return f.prototype.constructor=f}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(q,C,w){function z(f,h,l,r,p){if(r=h.match(/(.*):(.*)/))return h=r[2],r=r[1],x.selector(r,h).call(p,f,l);w("touch")&&(y.test(h)&&(l=R(l)),
w("event-orientationchange")||"orientationchange"!=h||(h="resize",f=window,l=R(l)));H&&(l=H(l));if(f.addEventListener){var q=h in m,t=q?m[h]:h;f.addEventListener(t,l,q);return{remove:function(){f.removeEventListener(t,l,q)}}}if(M&&f.attachEvent)return M(f,"on"+h,l);throw Error("Target must be an event emitter");}function p(){this.cancelable=!1;this.defaultPrevented=!0}function f(){this.bubbles=!1}var l=window.ScriptEngineMajorVersion;w.add("jscript",l&&l()+ScriptEngineMinorVersion()/10);w.add("event-orientationchange",
w("touch")&&!w("android"));w.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);w.add("event-focusin",function(f,m,h){return"onfocusin"in h});w("touch")&&w.add("touch-can-modify-event-delegate",function(){var f=function(){};f.prototype=document.createEvent("MouseEvents");try{var m=new f;m.target=null;return null===m.target}catch(h){return!1}});var x=function(f,m,h,l){return"function"!=typeof f.on||"function"==typeof m||f.nodeType?
x.parse(f,m,h,z,l,this):f.on(m,h)};x.pausable=function(f,m,h,l){var r;f=x(f,m,function(){if(!r)return h.apply(this,arguments)},l);f.pause=function(){r=!0};f.resume=function(){r=!1};return f};x.once=function(f,m,h,l){var r=x(f,m,function(){r.remove();return h.apply(this,arguments)});return r};x.parse=function(f,m,h,l,r,p){if(m.call)return m.call(p,f,h);if(m instanceof Array)q=m;else if(-1<m.indexOf(","))var q=m.split(/\s*,\s*/);if(q){var t=[];m=0;for(var y;y=q[m++];)t.push(x.parse(f,y,h,l,r,p));t.remove=
function(){for(var f=0;f<t.length;f++)t[f].remove()};return t}return l(f,m,h,r,p)};var y=/^touch/;x.matches=function(f,m,h,l,r){r=r&&r.matches?r:C.query;l=!1!==l;1!=f.nodeType&&(f=f.parentNode);for(;!r.matches(f,m,h);)if(f==h||!1===l||!(f=f.parentNode)||1!=f.nodeType)return!1;return f};x.selector=function(f,m,h){return function(l,r){function p(m){return x.matches(m,f,l,h,q)}var q="function"==typeof f?{matches:f}:this,t=m.bubble;return t?x(l,t(p),r):x(l,m,function(f){var m=p(f.target);if(m)return r.call(m,
f)})}};var t=[].slice,h=x.emit=function(m,h,l){var r=t.call(arguments,2),q="on"+h;if("parentNode"in m){var x=r[0]={},y;for(y in l)x[y]=l[y];x.preventDefault=p;x.stopPropagation=f;x.target=m;x.type=h;l=x}do m[q]&&m[q].apply(m,r);while(l&&l.bubbles&&(m=m.parentNode));return l&&l.cancelable&&l},m=w("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!w("event-stopimmediatepropagation"))var r=function(){this.modified=this.immediatelyStopped=!0},H=function(f){return function(m){if(!m.immediatelyStopped)return m.stopImmediatePropagation=
r,f.apply(this,arguments)}};if(w("dom-addeventlistener"))x.emit=function(f,m,l){if(f.dispatchEvent&&document.createEvent){var r=(f.ownerDocument||document).createEvent("HTMLEvents");r.initEvent(m,!!l.bubbles,!!l.cancelable);for(var p in l)p in r||(r[p]=l[p]);return f.dispatchEvent(r)&&r}return h.apply(x,arguments)};else{x._fixEvent=function(f,m){f||(f=(m&&(m.ownerDocument||m.document||m).parentWindow||window).event);if(!f)return f;try{K&&f.type==K.type&&f.srcElement==K.target&&(f=K)}catch(h){}if(!f.target)switch(f.target=
f.srcElement,f.currentTarget=m||f.srcElement,"mouseover"==f.type&&(f.relatedTarget=f.fromElement),"mouseout"==f.type&&(f.relatedTarget=f.toElement),f.stopPropagation||(f.stopPropagation=Q,f.preventDefault=L),f.type){case "keypress":var l="charCode"in f?f.charCode:f.keyCode;10==l?(l=0,f.keyCode=13):13==l||27==l?l=0:3==l&&(l=99);f.charCode=l;l=f;l.keyChar=l.charCode?String.fromCharCode(l.charCode):"";l.charOrCode=l.keyChar||l.keyCode}return f};var K,E=function(f){this.handle=f};E.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var F=function(f){return function(m){m=x._fixEvent(m,this);var h=f.call(this,m);m.modified&&(K||setTimeout(function(){K=null}),K=m);return h}},M=function(f,m,h){h=F(h);if(((f.ownerDocument?f.ownerDocument.parentWindow:f.parentWindow||f.window||window)!=top||5.8>w("jscript"))&&!w("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var l=f[m];if(!l||!l.listeners){var r=l,l=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
l.listeners=[];f[m]=l;l.global=this;r&&l.listeners.push(_dojoIEListeners_.push(r)-1)}l.listeners.push(f=l.global._dojoIEListeners_.push(h)-1);return new E(f)}return q.after(f,m,h,!0)},Q=function(){this.cancelBubble=!0},L=x._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(f){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(w("touch"))var J=function(){},P=window.orientation,R=function(f){return function(m){var h=m.corrected;if(!h){var l=
m.type;try{delete m.type}catch(r){}if(m.type){if(w("touch-can-modify-event-delegate"))J.prototype=m,h=new J;else{var h={},p;for(p in m)h[p]=m[p]}h.preventDefault=function(){m.preventDefault()};h.stopPropagation=function(){m.stopPropagation()}}else h=m,h.type=l;m.corrected=h;if("resize"==l){if(P==window.orientation)return null;P=window.orientation;h.type="orientationchange";return f.call(this,h)}"rotation"in h||(h.rotation=0,h.scale=1);var l=h.changedTouches[0],q;for(q in l)delete h[q],h[q]=l[q]}return f.call(this,
h)}};return x})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(q,C,w,z,p,f,l,x,y,t,h,m,r){function H(){}function K(f){return function(m,h,r,p){return m&&"string"==typeof h&&m[h]==H?m.on(h.substring(2).toLowerCase(),l.hitch(r,p)):f.apply(w,arguments)}}q.around(w,"connect",K);f.connect&&
q.around(f,"connect",K);return z("dijit._Widget",[h,m,r],{onClick:H,onDblClick:H,onKeyDown:H,onKeyPress:H,onKeyUp:H,onMouseDown:H,onMouseMove:H,onMouseOut:H,onMouseOver:H,onMouseLeave:H,onMouseEnter:H,onMouseUp:H,constructor:function(f){this._toConnect={};for(var m in f)this[m]===H&&(this._toConnect[m.replace(/^on/,"").toLowerCase()]=f[m],delete f[m])},postCreate:function(){this.inherited(arguments);for(var f in this._toConnect)this.on(f,this._toConnect[f]);delete this._toConnect},on:function(f,m){return this[this._onMap(f)]===
H?w.connect(this.domNode,f.toLowerCase(),this,m):this.inherited(arguments)},_setFocusedAttr:function(f){this._focused=f;this._set("focused",f)},setAttribute:function(m,h){f.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(m,h)},attr:function(f,m){return 2<=arguments.length||"object"===typeof f?this.set.apply(this,arguments):this.get(f)},getDescendants:function(){f.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?x("[widgetId]",this.containerNode).map(t.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(q,C,w,z,p,f){q=z("dijit._OnDijitClickMixin",null,{connect:function(l,p,q){return this.inherited(arguments,[l,"ondijitclick"==p?f:p,q])}});q.a11yclick=f;return q})},
"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(q,C,w,z){z.extend(C,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return w("dijit._FocusMixin",null,{_focusManager:q})})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(q){return q.cache})},"dojox/gfx/_base":function(){define("../main dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),
function(q,C,w,z,p,f,l,x,y,t){var h=w.getObject("gfx",!0,q),m=h._base={};h._hasClass=function(f,m){var h=f.getAttribute("className");return h&&0<=(" "+h+" ").indexOf(" "+m+" ")};h._addClass=function(f,m){var h=f.getAttribute("className")||"";(!h||0>(" "+h+" ").indexOf(" "+m+" "))&&f.setAttribute("className",h+(h?" ":"")+m)};h._removeClass=function(f,m){var h=f.getAttribute("className");h&&f.setAttribute("className",h.replace(new RegExp("(^|\\s+)"+m+"(\\s+|$)"),"$1$2"))};m._getFontMeasurements=function(){var m=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},h,l;p("ie")&&(l=f.doc.documentElement.style.fontSize||"",l||(f.doc.documentElement.style.fontSize="100%"));var r=y.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},f.body());for(h in m)r.style.fontSize=h,m[h]=16*Math.round(12*r.offsetHeight/16)/12/1E3;
p("ie")&&(f.doc.documentElement.style.fontSize=l);f.body().removeChild(r);return m};var r=null;m._getCachedFontMeasurements=function(f){if(f||!r)r=m._getFontMeasurements();return r};var H=null,K={};m._getTextBox=function(m,h,l){var r,p,q=arguments.length,x;H||(H=y.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},f.body()));r=H;r.className="";p=r.style;p.borderWidth="0";p.margin="0";p.padding="0";p.outline="0";if(1<q&&h)for(x in h)x in K||(p[x]=h[x]);2<q&&l&&(r.className=
l);r.innerHTML=m;r.getBoundingClientRect?(p=r.getBoundingClientRect(),p={l:p.left,t:p.top,w:p.width||p.right-p.left,h:p.height||p.bottom-p.top}):p=t.getMarginBox(r);r.innerHTML="";return p};m._computeTextLocation=function(f,m,h,l){var r={};switch(f.align){case "end":r.x=f.x-m;break;case "middle":r.x=f.x-m/2;break;default:r.x=f.x}r.y=f.y-h*(l?.75:1);return r};m._computeTextBoundingBox=function(f){if(!h._base._isRendered(f))return{x:0,y:0,width:0,height:0};var l;l=f.getShape();var r=f.getFont()||h.defaultFont;
f=f.getTextWidth();r=h.normalizedLength(r.size);l=m._computeTextLocation(l,f,r,!0);return{x:l.x,y:l.y,width:f,height:r}};m._isRendered=function(f){for(f=f.parent;f&&f.getParent;)f=f.parent;return null!==f};var E=0;m._getUniqueId=function(){var f;do f=C._scopeName+"xUnique"+ ++E;while(x.byId(f));return f};m._fixMsTouchAction=function(f){f=f.rawNode;"undefined"!=typeof f.style.msTouchAction&&(f.style.msTouchAction="none")};w.mixin(h,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",
points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",
color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var f={};return function(m){var l=
f[m];if(l)return new l;l=f[m]=new Function;l.prototype=h["default"+m];return new l}}(),normalizeColor:function(f){return f instanceof z?f:new z(f)},normalizeParameters:function(f,m){var h;if(m){var l={};for(h in f)h in m&&!(h in l)&&(f[h]=m[h])}return f},makeParameters:function(f,m){var h=null;if(!m)return w.delegate(f);var l={};for(h in f)h in l||(l[h]=w.clone(h in m?m[h]:f[h]));return l},formatNumber:function(f,m){var h=f.toString();if(0<=h.indexOf("e"))h=f.toFixed(4);else{var l=h.indexOf(".");
0<=l&&5<h.length-l&&(h=f.toFixed(4))}return 0>f?h:m?" "+h:h},makeFontString:function(f){return f.style+" "+f.variant+" "+f.weight+" "+f.size+" "+f.family},splitFontString:function(f){var m=h.getDefault("Font");f=f.split(/\s+/);if(!(5>f.length)){m.style=f[0];m.variant=f[1];m.weight=f[2];var l=f[3].indexOf("/");m.size=0>l?f[3]:f[3].substring(0,l);var r=4;0>l&&("/"==f[4]?r=6:"/"==f[4].charAt(0)&&(r=5));r<f.length&&(m.family=f.slice(r).join(" "))}return m},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return h._base._getCachedFontMeasurements()["12pt"]/
12},pt2px:function(f){return f*h.px_in_pt()},px2pt:function(f){return f/h.px_in_pt()},normalizedLength:function(f){if(0===f.length)return 0;if(2<f.length){var m=h.px_in_pt(),l=parseFloat(f);switch(f.slice(-2)){case "px":return l;case "pt":return l*m;case "in":return 72*l*m;case "pc":return 12*l*m;case "mm":return l*h.mm_in_pt*m;case "cm":return l*h.cm_in_pt*m}}return parseFloat(f)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,
equalSources:function(f,m){return f&&m&&f===m},switchTo:function(f){var m="string"==typeof f?h[f]:f;m&&(l.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),function(f){h[f]=m[f]}),"string"==typeof f?h.renderer=f:l.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(f){return h.renderer=h[f]&&h[f].Surface===h.Surface?f:null}))}});return h})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(q,C,w,z,p,f,l,x){function y(f,m){var h=function(h,l){if("string"==typeof l&&(l=w.byId(l),!l))return new m([]);var r="string"==typeof h?f(h,l):h?h.end&&h.on?h:[h]:[];return r.end&&r.on?r:new m(r)};h.matches=f.match||function(f,m,l){return 0<h.filter([f],m,l).length};h.filter=f.filter||function(f,m,l){return h(m,l).filter(function(m){return-1<p.indexOf(f,m)})};if("function"!=typeof f){var l=f.search;f=function(f,m){return l(m||document,f)}}return h}C.add("array-extensible",function(){return 1==
f.delegate([],{length:1}).length&&!C("bug-for-in-skips-shadowed")});var t=Array.prototype,h=t.slice,m=t.concat,r=p.forEach,H=function(f,m,l){m=[0].concat(h.call(m,0));l=l||q.global;return function(h){m[0]=h;return f.apply(l,m)}},K=function(m){var h=this instanceof E&&C("array-extensible");"number"==typeof m&&(m=Array(m));var l=m&&"length"in m?m:arguments;if(h||!l.sort){for(var r=h?this:[],p=r.length=l.length,q=0;q<p;q++)r[q]=l[q];if(h)return r;l=r}f._mixin(l,F);l._NodeListCtor=function(f){return E(f)};
return l},E=K,F=E.prototype=C("array-extensible")?[]:{};E._wrap=F._wrap=function(f,m,h){f=new (h||this._NodeListCtor||E)(f);return m?f._stash(m):f};E._adaptAsMap=function(f,m){return function(){return this.map(H(f,arguments,m))}};E._adaptAsForEach=function(f,m){return function(){this.forEach(H(f,arguments,m));return this}};E._adaptAsFilter=function(f,m){return function(){return this.filter(H(f,arguments,m))}};E._adaptWithCondition=function(f,m,h){return function(){var l=arguments,r=H(f,l,h);if(m.call(h||
q.global,l))return this.map(r);this.forEach(r);return this}};r(["slice","splice"],function(f){var m=t[f];F[f]=function(){return this._wrap(m.apply(this,arguments),"slice"==f?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(f){var m=p[f];F[f]=function(){return m.apply(q,[this].concat(h.call(arguments,0)))}});f.extend(K,{constructor:E,_NodeListCtor:E,toString:function(){return this.join(",")},_stash:function(f){this._parent=f;return this},on:function(f,m){var h=this.map(function(h){return z(h,
f,m)});h.remove=function(){for(var f=0;f<h.length;f++)h[f].remove()};return h},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(f){var l=h.call(this,0),r=p.map(arguments,function(f){return h.call(f,0)});return this._wrap(m.apply(l,r),this)},map:function(f,m){return this._wrap(p.map(this,f,m),this)},forEach:function(f,m){r(this,f,m);return this},filter:function(f){var m=arguments,h=this,l=0;if("string"==typeof f){h=M._filterResult(this,m[0]);if(1==m.length)return h._stash(this);
l=1}return this._wrap(p.filter(h,m[l],m[l+1]),this)},instantiate:function(m,h){var l=f.isFunction(m)?m:f.getObject(m);h=h||{};return this.forEach(function(f){new l(h,f)})},at:function(){var f=new this._NodeListCtor(0);r(arguments,function(m){0>m&&(m=this.length+m);this[m]&&f.push(this[m])},this);return f._stash(this)}});var M=y(x,K);q.query=y(x,function(f){return K(f)});M.load=function(f,m,h){l.load(f,m,function(f){h(y(f,K))})};q._filterQueryResult=M._filterResult=function(f,m,h){return new K(M.filter(f,
m,h))};q.NodeList=M.NodeList=K;return M})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(q,C,w){function z(p){if("string"==typeof p||p instanceof String){if(p&&!f.test(p))return l[0]=p,l;p=p.split(f);p.length&&!p[0]&&p.shift();p.length&&!p[p.length-1]&&p.pop();return p}return p?C.filter(p,function(f){return f}):[]}var p,f=/\s+/,l=[""],x={};return p={contains:function(f,l){return 0<=(" "+w.byId(f).className+" ").indexOf(" "+l+" ")},add:function(f,l){f=w.byId(f);
l=z(l);var h=f.className,m,h=h?" "+h+" ":" ";m=h.length;for(var r=0,p=l.length,q;r<p;++r)(q=l[r])&&0>h.indexOf(" "+q+" ")&&(h+=q+" ");m<h.length&&(f.className=h.substr(1,h.length-2))},remove:function(f,l){f=w.byId(f);var h;if(void 0!==l){l=z(l);h=" "+f.className+" ";for(var m=0,r=l.length;m<r;++m)h=h.replace(" "+l[m]+" "," ");h=q.trim(h)}else h="";f.className!=h&&(f.className=h)},replace:function(f,l,h){f=w.byId(f);x.className=f.className;p.remove(x,h);p.add(x,l);f.className!==x.className&&(f.className=
x.className)},toggle:function(f,l,h){f=w.byId(f);if(void 0===h){l=z(l);for(var m=0,r=l.length,q;m<r;++m)q=l[m],p[p.contains(f,q)?"remove":"add"](f,q)}else p[h?"add":"remove"](f,l);return h}}})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(q,C,w,z,p,f,l,x,y,t,h,m,r,H,K,E,F){var M,
Q,L=new (C([m,l],{curNode:null,activeStack:[],constructor:function(){var m=x.hitch(this,function(f){w.isDescendant(this.curNode,f)&&this.set("curNode",null);w.isDescendant(this.prevNode,f)&&this.set("prevNode",null)});q.before(f,"empty",m);q.before(f,"destroy",m)},registerIframe:function(f){return this.registerWin(f.contentWindow,f)},registerWin:function(f,m){var l=this,r=f.document&&f.document.body;if(r){var p=h("pointer-events")?"pointerdown":h("MSPointer")?"MSPointerDown":h("touch-events")?"mousedown, touchstart":
"mousedown",q=y(f.document,p,function(f){f&&f.target&&null==f.target.parentNode||l._onTouchNode(m||f.target,"mouse")}),t=y(r,"focusin",function(f){if(f.target.tagName){var h=f.target.tagName.toLowerCase();"#document"!=h&&"body"!=h&&(K.isFocusable(f.target)?l._onFocusNode(m||f.target):l._onTouchNode(m||f.target))}}),x=y(r,"focusout",function(f){l._onBlurNode(m||f.target)});return{remove:function(){q.remove();t.remove();x.remove();r=q=t=x=null}}}},_onBlurNode:function(f){f=(new Date).getTime();f<M+
100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(x.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),f<Q+100||(this._clearActiveWidgetsTimer=setTimeout(x.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(f,m){Q=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer);p.contains(f,"dijitPopup")&&(f=f.firstChild);var h=[];try{for(;f;){var l=z.get(f,"dijitPopupParent");if(l)f=E.byId(l).domNode;else if(f.tagName&&"body"==f.tagName.toLowerCase()){if(f===r.body())break;f=H.get(f.ownerDocument).frameElement}else{var q=f.getAttribute&&f.getAttribute("widgetId"),t=q&&E.byId(q);!t||"mouse"==m&&t.get("disabled")||h.unshift(q);f=f.parentNode}}}catch(x){}this._setStack(h,m)},_onFocusNode:function(f){f&&9!=f.nodeType&&(M=(new Date).getTime(),
this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(f),f!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",f)))},_setStack:function(f,m){var h=this.activeStack,l=h.length-1,r=f.length-1;if(f[r]!=h[l]){this.set("activeStack",f);var p;for(p=l;0<=p&&h[p]!=f[p];p--)if(l=E.byId(h[p]))l._hasBeenBlurred=!0,l.set("focused",!1),l._focusManager==this&&l._onBlur(m),this.emit("widget-blur",l,m);for(p++;p<=r;p++)if(l=E.byId(f[p]))l.set("focused",
!0),l._focusManager==this&&l._onFocus(m),this.emit("widget-focus",l,m)}},focus:function(f){if(f)try{f.focus()}catch(m){}}}));t(function(){var f=L.registerWin(H.get(document));h("ie")&&y(window,"unload",function(){f&&(f.remove(),f=null)})});F.focus=function(f){L.focus(f)};for(var J in L)/^_/.test(J)||(F.focus[J]="function"==typeof L[J]?x.hitch(L,J):L[J]);L.watch(function(f,m,h){F.focus[f]=h});return L})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(q,C,w,z,p,f){function l(f,h){var m=f.getAttributeNode&&f.getAttributeNode(h);return!!m&&m.specified}var x={innerHTML:1,textContent:1,className:1,htmlFor:C("ie"),value:1},y={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};q.has=function(p,h){var m=h.toLowerCase();return x[f.names[m]||h]||l(z.byId(p),y[m]||h)};q.get=function(p,h){p=z.byId(p);var m=h.toLowerCase(),r=f.names[m]||h,q=p[r];if(x[r]&&"undefined"!=typeof q)return q;if("textContent"==r)return f.get(p,r);if("href"!=
r&&("boolean"==typeof q||w.isFunction(q)))return q;m=y[m]||h;return l(p,m)?p.getAttribute(m):null};q.set=function(l,h,m){l=z.byId(l);if(2==arguments.length){for(var r in h)q.set(l,r,h[r]);return l}r=h.toLowerCase();var C=f.names[r]||h,K=x[C];if("style"==C&&"string"!=typeof m)return p.set(l,m),l;if(K||"boolean"==typeof m||w.isFunction(m))return f.set(l,h,m);l.setAttribute(y[r]||h,m);return l};q.remove=function(f,h){z.byId(f).removeAttribute(y[h.toLowerCase()]||h)};q.getNodeProp=function(p,h){p=z.byId(p);
var m=h.toLowerCase(),r=f.names[m]||h;if(r in p&&"href"!=r)return p[r];m=y[m]||h;return l(p,m)?p.getAttribute(m):null}})},"dojox/gfx/registry":function(){define(["dojo/has","./shape"],function(q,C){q.add("gfxRegistry",1);var w={},z={},p={};w.register=C.register=function(f){var l=f.declaredClass.split(".").pop(),q=l in z?++z[l]:z[l]=0,l=l+q;p[l]=f;return l};w.byId=C.byId=function(f){return p[f]};w.dispose=C.dispose=function(f,l){if(l&&f.children)for(var q=0;q<f.children.length;++q)w.dispose(f.children[q],
!0);q=f.getUID();p[q]=null;delete p[q]};return w})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(q,C,w,z,p){var f=z.trim,l=w.forEach,x="BackCompat"==p.doc.compatMode,y=!1,t=function(){return!0},h=function(a){a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var d=function(d,b){return f(a.slice(d,b))},b=[],k=-1,s=-1,v=-1,u=-1,I=-1,m=-1,h=-1,l,r="",p="",q,t=0,x=a.length,w=null,z=null,A=function(){0<=m&&(w.id=d(m,t).replace(/\\/g,
""),m=-1);if(0<=h){var a=h==t?null:d(h,t);w[0>"\x3e~+".indexOf(a)?"tag":"oper"]=a;h=-1}0<=I&&(w.classes.push(d(I+1,t).replace(/\\/g,"")),I=-1)};r=p,p=a.charAt(t),t<x;t++)"\\"!=r&&(w||(q=t,w={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return y?this.otag:this.tag}},h=t),l?p==l&&(l=null):"'"==p||'"'==p?l=p:0<=k?"]"==p?(z.attr?z.matchFor=d(v||k+1,t):z.attr=d(k+1,t),!(k=z.matchFor)||'"'!=k.charAt(0)&&"'"!=k.charAt(0)||(z.matchFor=k.slice(1,-1)),z.matchFor&&(z.matchFor=
z.matchFor.replace(/\\/g,"")),w.attrs.push(z),z=null,k=v=-1):"\x3d"==p&&(v=0<="|~^$*".indexOf(r)?r:"",z.type=v+p,z.attr=d(k+1,t-v.length),v=t+1):0<=s?")"==p&&(0<=u&&(z.value=d(s+1,t)),u=s=-1):"#"==p?(A(),m=t+1):"."==p?(A(),I=t):":"==p?(A(),u=t):"["==p?(A(),k=t,z={}):"("==p?(0<=u&&(z={name:d(u+1,t),value:null},w.pseudos.push(z)),s=t):" "==p&&r!=p&&(A(),0<=u&&w.pseudos.push({name:d(u+1,t)}),w.loops=w.pseudos.length||w.attrs.length||w.classes.length,w.oquery=w.query=d(q,t),w.otag=w.tag=w.oper?null:w.tag||
"*",w.tag&&(w.tag=w.tag.toUpperCase()),b.length&&b[b.length-1].oper&&(w.infixOper=b.pop(),w.query=w.infixOper.query+" "+w.query),b.push(w),w=null));return b},m=function(a,d){return a?d?function(){return a.apply(window,arguments)&&d.apply(window,arguments)}:a:d},r=function(a,d){var b=d||[];a&&b.push(a);return b},H=function(a){return 1==a.nodeType},K=function(a,d){return a?"class"==d?a.className||"":"for"==d?a.htmlFor||"":"style"==d?a.style.cssText||"":(y?a.getAttribute(d):a.getAttribute(d,2))||"":
""},E={"*\x3d":function(a,d){return function(b){return 0<=K(b,a).indexOf(d)}},"^\x3d":function(a,d){return function(b){return 0==K(b,a).indexOf(d)}},"$\x3d":function(a,d){return function(b){b=" "+K(b,a);var k=b.lastIndexOf(d);return-1<k&&k==b.length-d.length}},"~\x3d":function(a,d){var b=" "+d+" ";return function(d){return 0<=(" "+K(d,a)+" ").indexOf(b)}},"|\x3d":function(a,d){var b=d+"-";return function(k){k=K(k,a);return k==d||0==k.indexOf(b)}},"\x3d":function(a,d){return function(b){return K(b,
a)==d}}},F="undefined"==typeof p.doc.firstChild.nextElementSibling,M=F?"nextSibling":"nextElementSibling",Q=F?"previousSibling":"previousElementSibling",L=F?H:t,J=function(a){for(;a=a[Q];)if(L(a))return!1;return!0},P=function(a){for(;a=a[M];)if(L(a))return!1;return!0},R=function(a){var d=a.parentNode,d=7!=d.nodeType?d:d.nextSibling,b=0,k=d.children||d.childNodes,s=a._i||a.getAttribute("_i")||-1,v=d._l||("undefined"!==typeof d.getAttribute?d.getAttribute("_l"):-1);if(!k)return-1;k=k.length;if(v==k&&
0<=s&&0<=v)return s;C("ie")&&"undefined"!==typeof d.setAttribute?d.setAttribute("_l",k):d._l=k;s=-1;for(d=d.firstElementChild||d.firstChild;d;d=d[M])L(d)&&(C("ie")?d.setAttribute("_i",++b):d._i=++b,a===d&&(s=b));return s},N=function(a){return!(R(a)%2)},aa=function(a){return R(a)%2},ba={checked:function(a,d){return function(a){return!("checked"in a?!a.checked:!a.selected)}},disabled:function(a,d){return function(a){return a.disabled}},enabled:function(a,d){return function(a){return!a.disabled}},"first-child":function(){return J},
"last-child":function(){return P},"only-child":function(a,d){return function(a){return J(a)&&P(a)}},empty:function(a,d){return function(a){var d=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var b=d[a].nodeType;if(1===b||3==b)return!1}return!0}},contains:function(a,d){var b=d.charAt(0);if('"'==b||"'"==b)d=d.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(d)}},not:function(a,d){var b=h(d)[0],k={el:1};"*"!=b.tag&&(k.tag=1);b.classes.length||(k.classes=1);var s=fa(b,k);return function(a){return!s(a)}},
"nth-child":function(a,d){var b=parseInt;if("odd"==d)return aa;if("even"==d)return N;if(-1!=d.indexOf("n")){var k=d.split("n",2),s=k[0]?"-"==k[0]?-1:b(k[0]):1,v=k[1]?b(k[1]):0,f=0,I=-1;0<s?0>v?v=v%s&&s+v%s:0<v&&(v>=s&&(f=v-v%s),v%=s):0>s&&(s*=-1,0<v&&(I=v,v%=s));if(0<s)return function(a){a=R(a);return a>=f&&(0>I||a<=I)&&a%s==v};d=v}var m=b(d);return function(a){return R(a)==m}}},ma=9>C("ie")||9==C("ie")&&C("quirks")?function(a){var d=a.toLowerCase();"class"==d&&(a="className");return function(b){return y?
b.getAttribute(a):b[a]||b[d]}}:function(a){return function(d){return d&&d.getAttribute&&d.hasAttribute(a)}},fa=function(a,d){if(!a)return t;d=d||{};var b=null;"el"in d||(b=m(b,H));"tag"in d||"*"!=a.tag&&(b=m(b,function(d){return d&&(y?d.tagName:d.tagName.toUpperCase())==a.getTag()}));"classes"in d||l(a.classes,function(a,d,c){var e=new RegExp("(?:^|\\s)"+a+"(?:\\s|$)");b=m(b,function(a){return e.test(a.className)});b.count=d});"pseudos"in d||l(a.pseudos,function(a){var d=a.name;ba[d]&&(b=m(b,ba[d](d,
a.value)))});"attrs"in d||l(a.attrs,function(a){var d,c=a.attr;a.type&&E[a.type]?d=E[a.type](c,a.matchFor):c.length&&(d=ma(c));d&&(b=m(b,d))});"id"in d||a.id&&(b=m(b,function(d){return!!d&&d.id==a.id}));b||"default"in d||(b=t);return b},Z=function(a){return function(d,b,k){for(;d=d[M];)if(!F||H(d)){k&&!ra(d,k)||!a(d)||b.push(d);break}return b}},la=function(a){return function(d,b,k){for(d=d[M];d;){if(L(d)){if(k&&!ra(d,k))break;a(d)&&b.push(d)}d=d[M]}return b}},W=function(a){a=a||t;return function(d,
b,k){for(var s=0,v=d.children||d.childNodes;d=v[s++];)L(d)&&(!k||ra(d,k))&&a(d,s)&&b.push(d);return b}},ea={},ha=function(a){var d=ea[a.query];if(d)return d;var b=a.infixOper,b=b?b.oper:"",k=fa(a,{el:1}),s="*"==a.tag,v=p.doc.getElementsByClassName;if(b)v={el:1},s&&(v.tag=1),k=fa(a,v),"+"==b?d=Z(k):"~"==b?d=la(k):"\x3e"==b&&(d=W(k));else if(a.id)k=!a.loops&&s?t:fa(a,{el:1,id:1}),d=function(d,b){var e=q.byId(a.id,d.ownerDocument||d);if(e&&k(e)){if(9==d.nodeType)return r(e,b);for(var g=e.parentNode;g&&
g!=d;)g=g.parentNode;if(g)return r(e,b)}};else if(v&&/\{\s*\[native code\]\s*\}/.test(String(v))&&a.classes.length&&!x)var k=fa(a,{el:1,classes:1,id:1}),f=a.classes.join(" "),d=function(a,d,b){d=r(0,d);for(var c,e=0,g=a.getElementsByClassName(f);c=g[e++];)k(c,a)&&ra(c,b)&&d.push(c);return d};else s||a.loops?(k=fa(a,{el:1,tag:1,id:1}),d=function(d,b,e){b=r(0,b);for(var g,s=0,v=(g=a.getTag())?d.getElementsByTagName(g):[];g=v[s++];)k(g,d)&&ra(g,e)&&b.push(g);return b}):d=function(d,b,e){b=r(0,b);for(var g=
0,k=a.getTag(),k=k?d.getElementsByTagName(k):[];d=k[g++];)ra(d,e)&&b.push(d);return b};return ea[a.query]=d},U={},X={},S=function(a){var d=h(f(a));if(1==d.length){var b=ha(d[0]);return function(a){if(a=b(a,[]))a.nozip=!0;return a}}return function(a){a=r(a);for(var b,c,g=d.length,f,m,h=0;h<g;h++){m=[];b=d[h];c=a.length-1;0<c&&(f={},m.nozip=!0);c=ha(b);for(var l=0;b=a[l];l++)c(b,m,f);if(!m.length)break;a=m}return m}},na=C("ie")?"commentStrip":"nozip",ja=!!p.doc.querySelectorAll,da=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,
b=function(a,d,b,k){return b?(d?d+" ":"")+b+(k?" "+k:""):a},ka=/([^[]*)([^\]]*])?/g,$=function(a,d,g){return d.replace(da,b)+(g||"")},ia=function(a,d){a=a.replace(ka,$);if(ja){var b=X[a];if(b&&!d)return b}if(b=U[a])return b;var b=a.charAt(0),k=-1==a.indexOf(" ");0<=a.indexOf("#")&&k&&(d=!0);if(!ja||d||-1!="\x3e~+".indexOf(b)||C("ie")&&-1!=a.indexOf(":")||x&&0<=a.indexOf(".")||-1!=a.indexOf(":contains")||-1!=a.indexOf(":checked")||-1!=a.indexOf("|\x3d")){var s=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);
return U[a]=2>s.length?S(a):function(a){for(var d=0,b=[],c;c=s[d++];)b=b.concat(S(c)(a));return b}}var v=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return X[a]=function(d){try{if(9!=d.nodeType&&!k)throw"";var b=d.querySelectorAll(v);b[na]=!0;return b}catch(e){return ia(a,!0)(d)}}},ga=0,ca=C("ie")?function(a){return y?a.getAttribute("_uid")||a.setAttribute("_uid",++ga)||ga:a.uniqueID}:function(a){return a._uid||(a._uid=++ga)},ra=function(a,d){if(!d)return 1;var b=ca(a);return d[b]?0:d[b]=1},
a=function(a){if(a&&a.nozip)return a;if(!a||!a.length)return[];if(2>a.length)return[a[0]];var d=[];ga++;var b,k;if(C("ie")&&y){var s=ga+"";for(b=0;b<a.length;b++)(k=a[b])&&k.getAttribute("_zipIdx")!=s&&(d.push(k),k.setAttribute("_zipIdx",s))}else if(C("ie")&&a.commentStrip)try{for(b=0;b<a.length;b++)(k=a[b])&&H(k)&&d.push(k)}catch(v){}else for(b=0;b<a.length;b++)(k=a[b])&&k._zipIdx!=ga&&(d.push(k),k._zipIdx=ga);return d},d=function(d,b){b=b||p.doc;y="div"===(b.ownerDocument||b).createElement("div").tagName;
var g=ia(d)(b);return g&&g.nozip?g:a(g)};d.filter=function(a,b,g){for(var k=[],s=h(b),s=1!=s.length||/[^\w#\.]/.test(b)?function(a){return-1!=w.indexOf(d(b,q.byId(g)),a)}:fa(s[0]),v=0,f;f=a[v];v++)s(f)&&k.push(f);return k};return d})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(q,C,w){function z(l){setTimeout(function(){f.apply(p,l)},0)}var p=new w,f=p.emit;p.emit=null;C.prototype.trace=function(){var f=q._toArray(arguments);this.then(function(p){z(["resolved",
p].concat(f))},function(p){z(["rejected",p].concat(f))},function(p){z(["progress",p].concat(f))});return this};C.prototype.traceRejected=function(){var f=q._toArray(arguments);this.otherwise(function(p){z(["rejected",p].concat(f))});return this};return p})},"dijit/main":function(){define(["dojo/_base/kernel"],function(q){return q.dijit})},"dojo/date/stamp":function(){define(["../_base/kernel","../_base/lang","../_base/array"],function(q,C,w){var z={};C.setObject("date.stamp",z,q);z.fromISOString=
function(p,f){z._isoRegExp||(z._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var l=z._isoRegExp.exec(p),q=null;if(l){l.shift();l[1]&&l[1]--;l[6]&&(l[6]*=1E3);f&&(f=new Date(f),w.forEach(w.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(h){return f["get"+h]()}),function(f,m){l[m]=l[m]||f}));q=new Date(l[0]||1970,l[1]||0,l[2]||1,l[3]||0,l[4]||0,l[5]||0,l[6]||0);100>l[0]&&q.setFullYear(l[0]||
1970);var y=0,t=l[7]&&l[7].charAt(0);"Z"!=t&&(y=60*(l[8]||0)+(Number(l[9])||0),"-"!=t&&(y*=-1));t&&(y-=q.getTimezoneOffset());y&&q.setTime(q.getTime()+6E4*y)}return q};z.toISOString=function(p,f){var l=function(f){return 10>f?"0"+f:f};f=f||{};var q=[],y=f.zulu?"getUTC":"get",t="";"time"!=f.selector&&(t=p[y+"FullYear"](),t=["0000".substr((t+"").length)+t,l(p[y+"Month"]()+1),l(p[y+"Date"]())].join("-"));q.push(t);if("date"!=f.selector){t=[l(p[y+"Hours"]()),l(p[y+"Minutes"]()),l(p[y+"Seconds"]())].join(":");
y=p[y+"Milliseconds"]();f.milliseconds&&(t+="."+(100>y?"0":"")+l(y));if(f.zulu)t+="Z";else if("time"!=f.selector)var y=p.getTimezoneOffset(),h=Math.abs(y),t=t+((0<y?"-":"+")+l(Math.floor(h/60))+":"+l(h%60));q.push(t)}return q.join("T")};return z})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(q,C){var w=document.createElement("div"),z=w.matches||w.webkitMatchesSelector||w.mozMatchesSelector||w.msMatchesSelector||w.oMatchesSelector,p=w.querySelectorAll,f=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;
q.add("dom-matches-selector",!!z);q.add("dom-qsa",!!p);var l=function(f,m){if(t&&-1<f.indexOf(","))return t(f,m);var r=m?m.ownerDocument||m:C.doc||document,q=(p?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(f);m=m||r;if(q){if(q[2]){var w=C.byId?C.byId(q[2],r):r.getElementById(q[2]);if(!w||q[1]&&q[1]!=w.tagName.toLowerCase())return[];if(m!=r)for(r=w;r!=m;)if(r=r.parentNode,!r)return[];return q[3]?l(q[3],w):[w]}if(q[3]&&m.getElementsByClassName)return m.getElementsByClassName(q[4]);
if(q[5])if(w=m.getElementsByTagName(q[5]),q[4]||q[6])f=(q[4]||"")+q[6];else return w}if(p)return 1===m.nodeType&&"object"!==m.nodeName.toLowerCase()?x(m,f,m.querySelectorAll):m.querySelectorAll(f);w||(w=m.getElementsByTagName("*"));for(var q=[],r=0,z=w.length;r<z;r++){var F=w[r];1==F.nodeType&&y(F,f,m)&&q.push(F)}return q},x=function(h,m,l){var p=h,q=h.getAttribute("id"),t=q||"__dojo__",x=h.parentNode,w=/^\s*[+~]/.test(m);if(w&&!x)return[];q?t=t.replace(/'/g,"\\$\x26"):h.setAttribute("id",t);w&&x&&
(h=h.parentNode);m=m.match(f);for(x=0;x<m.length;x++)m[x]="[id\x3d'"+t+"'] "+m[x];m=m.join(",");try{return l.call(h,m)}finally{q||p.removeAttribute("id")}};if(!q("dom-matches-selector"))var y=function(){function f(m,h,l){var r=h.charAt(0);if('"'==r||"'"==r)h=h.slice(1,-1);h=h.replace(/\\/g,"");var p=x[l||""];return function(f){return(f=f.getAttribute(m))&&p(f,h)}}function m(f){return function(m,h){for(;(m=m.parentNode)!=h;)if(f(m,h))return!0}}function l(f){return function(m,h){m=m.parentNode;return f?
m!=h&&f(m,h):m==h}}function p(f,m){return f?function(h,l){return m(h)&&f(h,l)}:m}var q="div"==w.tagName?"toLowerCase":"toUpperCase",t={"":function(f){f=f[q]();return function(m){return m.tagName==f}},".":function(f){var m=" "+f+" ";return function(h){return-1<h.className.indexOf(f)&&-1<(" "+h.className+" ").indexOf(m)}},"#":function(f){return function(m){return m.id==f}}},x={"^\x3d":function(f,m){return 0==f.indexOf(m)},"*\x3d":function(f,m){return-1<f.indexOf(m)},"$\x3d":function(f,m){return f.substring(f.length-
m.length,f.length)==m},"~\x3d":function(f,m){return-1<(" "+f+" ").indexOf(" "+m+" ")},"|\x3d":function(f,m){return 0==(f+"-").indexOf(m+"-")},"\x3d":function(f,m){return f==m},"":function(f,m){return!0}},y={};return function(q,x,w){var z=y[x];if(!z){if(x.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(q,x,w,y,C,fa,K){y?z=p(z,t[w||""](y.replace(/\\/g,""))):x?z=(" "==x?m:l)(z):C&&(z=p(z,f(C,K,fa)));return""}))throw Error("Syntax error in query");
if(!z)return!0;y[x]=z}return z(q,w)}}();if(!q("dom-qsa"))var t=function(h,m){for(var r=h.match(f),p=[],q=0;q<r.length;q++){h=new String(r[q].replace(/\s*$/,""));h.indexOf=escape;for(var t=l(h,m),x=0,w=t.length;x<w;x++){var y=t[x];p[y.sourceIndex]=y}}r=[];for(q in p)r.push(p[q]);return r};l.match=z?function(f,m,l){return l&&9!=l.nodeType?x(l,m,function(m){return z.call(f,m)}):z.call(f,m)}:y;return l})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(q,C,w){C.switchTo(w);
return C})},"dojo/number":function(){define("./_base/kernel ./_base/lang ./i18n ./i18n!./cldr/nls/number ./string ./regexp".split(" "),function(q,C,w,z,p,f){var l={};q.number=l;l.format=function(f,p){p=C.mixin({},p||{});var h=w.normalizeLocale(p.locale),h=w.getLocalization("dojo.cldr","number",h)||z;p.customs=h;h=p.pattern||h[(p.type||"decimal")+"Format"];return isNaN(f)||Infinity==Math.abs(f)?null:l._applyPattern(f,h,p)};l._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;l._applyPattern=function(f,p,h){h=
h||{};var m=h.customs.group,r=h.customs.decimal;p=p.split(";");var q=p[0];p=p[0>f?1:0]||"-"+q;if(-1!=p.indexOf("%"))f*=100;else if(-1!=p.indexOf("\u2030"))f*=1E3;else if(-1!=p.indexOf("\u00a4"))m=h.customs.currencyGroup||m,r=h.customs.currencyDecimal||r,p=p.replace(/\u00a4{1,3}/,function(f){return h[["symbol","currency","displayName"][f.length-1]]||h.currency||""});else if(-1!=p.indexOf("E"))throw Error("exponential notation not supported");var x=l._numberPatternRE,q=q.match(x);if(!q)throw Error("unable to find a number expression in pattern: "+
p);!1===h.fractional&&(h.places=0);return p.replace(x,l._formatAbsolute(f,q[0],{decimal:r,group:m,places:h.places,round:h.round}))};l.round=function(f,l,h){h=10/(h||10);return(h*+f).toFixed(l)/h};if(0==(.9).toFixed()){var x=l.round;l.round=function(f,l,h){var m=Math.pow(10,-l||0),r=Math.abs(f);if(!f||r>=m)m=0;else if(r/=m,.5>r||.95<=r)m=0;return x(f,l,h)+(0<f?m:-m)}}l._formatAbsolute=function(f,q,h){h=h||{};!0===h.places&&(h.places=0);Infinity===h.places&&(h.places=6);q=q.split(".");var m="string"==
typeof h.places&&h.places.indexOf(","),r=h.places;m?r=h.places.substring(m+1):0<=r||(r=(q[1]||[]).length);0>h.round||(f=l.round(f,r,h.round));f=String(Math.abs(f)).split(".");var x=f[1]||"";q[1]||h.places?(m&&(h.places=h.places.substring(0,m)),m=void 0!==h.places?h.places:q[1]&&q[1].lastIndexOf("0")+1,m>x.length&&(f[1]=p.pad(x,m,"0",!0)),r<x.length&&(f[1]=x.substr(0,r))):f[1]&&f.pop();r=q[0].replace(",","");m=r.indexOf("0");-1!=m&&(m=r.length-m,m>f[0].length&&(f[0]=p.pad(f[0],m)),-1==r.indexOf("#")&&
(f[0]=f[0].substr(f[0].length-m)));var r=q[0].lastIndexOf(","),w,z;-1!=r&&(w=q[0].length-r-1,q=q[0].substr(0,r),r=q.lastIndexOf(","),-1!=r&&(z=q.length-r-1));q=[];for(r=f[0];r;)m=r.length-w,q.push(0<m?r.substr(m):r),r=0<m?r.slice(0,m):"",z&&(w=z,delete z);f[0]=q.reverse().join(h.group||",");return f.join(h.decimal||".")};l.regexp=function(f){return l._parseInfo(f).regexp};l._parseInfo=function(p){p=p||{};var q=w.normalizeLocale(p.locale),q=w.getLocalization("dojo.cldr","number",q)||z,h=p.pattern||
q[(p.type||"decimal")+"Format"],m=q.group,r=q.decimal,x=1;if(-1!=h.indexOf("%"))x/=100;else if(-1!=h.indexOf("\u2030"))x/=1E3;else{var C=-1!=h.indexOf("\u00a4");C&&(m=q.currencyGroup||m,r=q.currencyDecimal||r)}q=h.split(";");1==q.length&&q.push("-"+q[0]);q=f.buildGroupRE(q,function(h){h="(?:"+f.escapeString(h,".")+")";return h.replace(l._numberPatternRE,function(f){var h={signed:!1,separator:p.strict?m:[m,""],fractional:p.fractional,decimal:r,exponent:!1};f=f.split(".");var q=p.places;1==f.length&&
1!=x&&(f[1]="###");1==f.length||0===q?h.fractional=!1:(void 0===q&&(q=p.pattern?f[1].lastIndexOf("0")+1:Infinity),q&&void 0==p.fractional&&(h.fractional=!0),!p.places&&q<f[1].length&&(q+=","+f[1].length),h.places=q);f=f[0].split(",");1<f.length&&(h.groupSize=f.pop().length,1<f.length&&(h.groupSize2=f.pop().length));return"("+l._realNumberRegexp(h)+")"})},!0);C&&(q=q.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(m,h,l,r){m=f.escapeString(p[["symbol","currency","displayName"][l.length-1]]||
p.currency||"");h=h?"[\\s\\xa0]":"";r=r?"[\\s\\xa0]":"";return p.strict?h+m+r:(h&&(h+="*"),r&&(r+="*"),"(?:"+h+m+r+")?")}));return{regexp:q.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:m,decimal:r,factor:x}};l.parse=function(f,p){var h=l._parseInfo(p),m=(new RegExp("^"+h.regexp+"$")).exec(f);if(!m)return NaN;var r=m[1];if(!m[1]){if(!m[2])return NaN;r=m[2];h.factor*=-1}r=r.replace(new RegExp("["+h.group+"\\s\\xa0]","g"),"").replace(h.decimal,".");return r*h.factor};l._realNumberRegexp=function(p){p=p||{};
"places"in p||(p.places=Infinity);"string"!=typeof p.decimal&&(p.decimal=".");"fractional"in p&&!/^0/.test(p.places)||(p.fractional=[!0,!1]);"exponent"in p||(p.exponent=[!0,!1]);"eSigned"in p||(p.eSigned=[!0,!1]);var q=l._integerRegexp(p),h=f.buildGroupRE(p.fractional,function(f){var m="";f&&0!==p.places&&(m="\\"+p.decimal,m=Infinity==p.places?"(?:"+m+"\\d+)?":m+("\\d{"+p.places+"}"));return m},!0),m=f.buildGroupRE(p.exponent,function(f){return f?"([eE]"+l._integerRegexp({signed:p.eSigned})+")":""}),
q=q+h;h&&(q="(?:(?:"+q+")|(?:"+h+"))");return q+m};l._integerRegexp=function(l){l=l||{};"signed"in l||(l.signed=[!0,!1]);"separator"in l?"groupSize"in l||(l.groupSize=3):l.separator="";var p=f.buildGroupRE(l.signed,function(f){return f?"[-+]":""},!0),h=f.buildGroupRE(l.separator,function(m){if(!m)return"(?:\\d+)";m=f.escapeString(m);" "==m?m="\\s":"\u00a0"==m&&(m="\\s\\xa0");var h=l.groupSize,p=l.groupSize2;return p?(m="(?:0|[1-9]\\d{0,"+(p-1)+"}(?:["+m+"]\\d{"+p+"})*["+m+"]\\d{"+h+"})",0<h-p?"(?:"+
m+"|(?:0|[1-9]\\d{0,"+(h-1)+"}))":m):"(?:0|[1-9]\\d{0,"+(h-1)+"}(?:["+m+"]\\d{"+h+"})*)"},!0);return p+h};return l})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(q,C,w,z,p,f,l,x,y,t){var h=q.shape={};h.Shape=w("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=
this.shape=this.rawNode=null;if(p("gfxRegistry")){var f=h.register(this);this.getUID=function(){return f}}},destroy:function(){p("gfxRegistry")&&h.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},
getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var f=this.getBoundingBox();if(!f)return null;var h=this._getRealMatrix();return[t.multiplyPoint(h,f.x,f.y),t.multiplyPoint(h,f.x+f.width,f.y),t.multiplyPoint(h,f.x+f.width,f.y+f.height),t.multiplyPoint(h,f.x,f.y+f.height)]},getEventSource:function(){return this.rawNode},setClip:function(f){this.clip=f},getClip:function(){return this.clip},setShape:function(f){this.shape=q.makeParameters(this.shape,f);this.bbox=null;
return this},setFill:function(f){if(!f)return this.fillStyle=null,this;var h=null;if("object"==typeof f&&"type"in f)switch(f.type){case "linear":h=q.makeParameters(q.defaultLinearGradient,f);break;case "radial":h=q.makeParameters(q.defaultRadialGradient,f);break;case "pattern":h=q.makeParameters(q.defaultPattern,f)}else h=q.normalizeColor(f);this.fillStyle=h;return this},setStroke:function(f){if(!f)return this.strokeStyle=null,this;if("string"==typeof f||C.isArray(f)||f instanceof y)f={color:f};f=
this.strokeStyle=q.makeParameters(q.defaultStroke,f);f.color=q.normalizeColor(f.color);return this},setTransform:function(f){this.matrix=t.clone(f?t.normalize(f):t.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var f=this.getParent();f&&(f._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var f=this.getParent();f&&(f._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},
applyRightTransform:function(f){return f?this.setTransform([this.matrix,f]):this},applyLeftTransform:function(f){return f?this.setTransform([f,this.matrix]):this},applyTransform:function(f){return f?this.setTransform([this.matrix,f]):this},removeShape:function(f){this.parent&&this.parent.remove(this,f);return this},_setParent:function(f,h){this.parent=f;return this._updateParentMatrix(h)},_updateParentMatrix:function(f){this.parentMatrix=f?t.clone(f):null;return this._applyTransform()},_getRealMatrix:function(){for(var f=
this.matrix,h=this.parent;h;)h.matrix&&(f=t.multiply(h.matrix,f)),h=h.parent;return f}});h._eventsProcessing={on:function(m,l){return f(this.getEventSource(),m,h.fixCallback(this,q.fixTarget,l))},connect:function(f,h,l){"on"==f.substring(0,2)&&(f=f.substring(2));return this.on(f,l?C.hitch(h,l):h)},disconnect:function(f){return f.remove()}};h.fixCallback=function(f,h,l,p){p||(p=l,l=null);if(C.isString(p)){l=l||z.global;if(!l[p])throw['dojox.gfx.shape.fixCallback: scope["',p,'"] is null (scope\x3d"',
l,'")'].join("");return function(q){return h(q,f)?l[p].apply(l,arguments||[]):void 0}}return l?function(q){return h(q,f)?p.apply(l,arguments||[]):void 0}:function(q){return h(q,f)?p.apply(l,arguments):void 0}};C.extend(h.Shape,h._eventsProcessing);h.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(f){var h=f.getParent();h&&h.remove(f,!0);this.children.push(f);return f._setParent(this,this._getRealMatrix())},
remove:function(f,h){for(var l=0;l<this.children.length;++l)if(this.children[l]==f){h||(f.parent=null,f.parentMatrix=null);this.children.splice(l,1);break}return this},clear:function(f){for(var h,l=0;l<this.children.length;++l)h=this.children[l],h.parent=null,h.parentMatrix=null,f&&h.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var f=null;l.forEach(this.children,function(h){var l=h.getBoundingBox();l&&((h=h.getTransform())&&(l=t.multiplyRectangle(h,l)),f?(f.x=
Math.min(f.x,l.x),f.y=Math.min(f.y,l.y),f.endX=Math.max(f.endX,l.x+l.width),f.endY=Math.max(f.endY,l.y+l.height)):f={x:l.x,y:l.y,endX:l.x+l.width,endY:l.y+l.height})});f&&(f.width=f.endX-f.x,f.height=f.endY-f.y);return f}return null},_moveChildToFront:function(f){for(var h=0;h<this.children.length;++h)if(this.children[h]==f){this.children.splice(h,1);this.children.push(f);break}return this},_moveChildToBack:function(f){for(var h=0;h<this.children.length;++h)if(this.children[h]==f){this.children.splice(h,
1);this.children.unshift(f);break}return this}};h.Surface=w("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){l.forEach(this._nodes,x.destroy);this._nodes=[];l.forEach(this._events,function(f){f&&f.remove()});this._events=[];this.rawNode=null;if(p("ie"))for(;this._parent.lastChild;)x.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(f){},whenLoaded:function(m,h){var l=C.hitch(m,h);if(this.isLoaded)l(this);else f.once(this,"load",function(f){l(f)})}});C.extend(h.Surface,h._eventsProcessing);h.Rect=w("dojox.gfx.shape.Rect",h.Shape,{constructor:function(f){this.shape=q.getDefault("Rect");this.rawNode=f},getBoundingBox:function(){return this.shape}});h.Ellipse=w("dojox.gfx.shape.Ellipse",h.Shape,{constructor:function(f){this.shape=q.getDefault("Ellipse");this.rawNode=
f},getBoundingBox:function(){if(!this.bbox){var f=this.shape;this.bbox={x:f.cx-f.rx,y:f.cy-f.ry,width:2*f.rx,height:2*f.ry}}return this.bbox}});h.Circle=w("dojox.gfx.shape.Circle",h.Shape,{constructor:function(f){this.shape=q.getDefault("Circle");this.rawNode=f},getBoundingBox:function(){if(!this.bbox){var f=this.shape;this.bbox={x:f.cx-f.r,y:f.cy-f.r,width:2*f.r,height:2*f.r}}return this.bbox}});h.Line=w("dojox.gfx.shape.Line",h.Shape,{constructor:function(f){this.shape=q.getDefault("Line");this.rawNode=
f},getBoundingBox:function(){if(!this.bbox){var f=this.shape;this.bbox={x:Math.min(f.x1,f.x2),y:Math.min(f.y1,f.y2),width:Math.abs(f.x2-f.x1),height:Math.abs(f.y2-f.y1)}}return this.bbox}});h.Polyline=w("dojox.gfx.shape.Polyline",h.Shape,{constructor:function(f){this.shape=q.getDefault("Polyline");this.rawNode=f},setShape:function(f,h){f&&f instanceof Array?(this.inherited(arguments,[{points:f}]),h&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[f]);
return this},_normalizePoints:function(){var f=this.shape.points,h=f&&f.length;if(h&&"number"==typeof f[0]){for(var l=[],p=0;p<h;p+=2)l.push({x:f[p],y:f[p+1]});this.shape.points=l}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var f=this.shape.points,h=f.length,l=f[0],p={l:l.x,t:l.y,r:l.x,b:l.y},q=1;q<h;++q)l=f[q],p.l>l.x&&(p.l=l.x),p.r<l.x&&(p.r=l.x),p.t>l.y&&(p.t=l.y),p.b<l.y&&(p.b=l.y);this.bbox={x:p.l,y:p.t,width:p.r-p.l,height:p.b-p.t}}return this.bbox}});h.Image=w("dojox.gfx.shape.Image",
h.Shape,{constructor:function(f){this.shape=q.getDefault("Image");this.rawNode=f},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});h.Text=w(h.Shape,{constructor:function(f){this.fontStyle=null;this.shape=q.getDefault("Text");this.rawNode=f},getFont:function(){return this.fontStyle},setFont:function(f){this.fontStyle="string"==typeof f?q.splitFontString(f):q.makeParameters(q.defaultFont,f);this._setFont();return this},getBoundingBox:function(){var f=
null;this.getShape().text&&(f=q._base._computeTextBoundingBox(this));return f}});h.Creator={createShape:function(f){switch(f.type){case q.defaultPath.type:return this.createPath(f);case q.defaultRect.type:return this.createRect(f);case q.defaultCircle.type:return this.createCircle(f);case q.defaultEllipse.type:return this.createEllipse(f);case q.defaultLine.type:return this.createLine(f);case q.defaultPolyline.type:return this.createPolyline(f);case q.defaultImage.type:return this.createImage(f);
case q.defaultText.type:return this.createText(f);case q.defaultTextPath.type:return this.createTextPath(f)}return null},createGroup:function(){return this.createObject(q.Group)},createRect:function(f){return this.createObject(q.Rect,f)},createEllipse:function(f){return this.createObject(q.Ellipse,f)},createCircle:function(f){return this.createObject(q.Circle,f)},createLine:function(f){return this.createObject(q.Line,f)},createPolyline:function(f){return this.createObject(q.Polyline,f)},createImage:function(f){return this.createObject(q.Image,
f)},createText:function(f){return this.createObject(q.Text,f)},createPath:function(f){return this.createObject(q.Path,f)},createTextPath:function(f){return this.createObject(q.TextPath,{}).setText(f)},createObject:function(f,h){return null}};return h})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(q,C,w,z){var p=q("dijit.form._ButtonMixin"+(w("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(f){f.stopPropagation();
f.preventDefault();this.disabled||this.valueNode.click(f);return!1},_onClick:function(f){if(this.disabled)return f.stopPropagation(),f.preventDefault(),!1;!1===this.onClick(f)&&f.preventDefault();var l=f.defaultPrevented;if(!l&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var p=this.domNode;p.parentNode;p=p.parentNode){var q=z.byNode(p);if(q&&"function"==typeof q._onSubmit){q._onSubmit(f);f.preventDefault();l=!0;break}}return!l},postCreate:function(){this.inherited(arguments);C.setSelectable(this.focusNode,
!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",f);(this.containerNode||this.focusNode).innerHTML=f}});w("dojo-bidi")&&(p=q("dijit.form._ButtonMixin",p,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return p})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(q,C,w,
z,p,f,l,x){return q("dijit.form._FormWidget",[p,l,f,x],{setDisabled:function(f){w.deprecated("setDisabled("+f+") is deprecated. Use set('disabled',"+f+") instead.","","2.0");this.set("disabled",f)},setValue:function(f){w.deprecated("dijit.form._FormWidget:setValue("+f+") is deprecated.  Use set('value',"+f+") instead.","","2.0");this.set("value",f)},getValue:function(){w.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name&&!C("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","../main"],function(q,C,w){function z(a,d,b,c){void 0==d&&(d=F.defInFormat);void 0==b&&(b=F.defOutFormat);void 0==c&&(c=F.defSwap);if(d==b)return a;var e,g=d.substring(0,1),k=d.substring(1,4),s=b.substring(0,1),v=b.substring(1,4);"C"==k.charAt(0)&&(e=p(a),k="ltr"==e||"rtl"==e?e.toUpperCase():"L"==d.charAt(2)?
"LTR":"RTL",d=g+k);if("C"==v.charAt(0)){e=p(a);if("rtl"==e)v="RTL";else if("ltr"==e){a:{b=a;e=null;for(v=b.length-1;0<=v;v--){e=l(b.charAt(v));if(e==ja||e==ga){e="rtl";break a}if(e==na){e="ltr";break a}if(e==$)break}e=""}v=e.toUpperCase()}else v="L"==b.charAt(2)?"LTR":"RTL";b=s+v}if(d==b)return a;F.inFormat=d;F.outFormat=b;F.swap=c;if("L"==g&&"VLTR"==b){if("LTR"==k)return F.dir=L,f(a);if("RTL"==k)return F.dir=J,f(a)}if("V"==g&&"V"==s)return x(a);if("L"==g&&"VRTL"==b)return F.dir="LTR"==k?L:J,a=f(a),
x(a);if("VLTR"==d&&"LLTR"==b)return F.dir=L,f(a);if("V"==g&&"L"==s&&k!=v)return a=x(a),"RTL"==k?z(a,"LLTR","VLTR",c):z(a,"LRTL","VRTL",c);if("VRTL"==d&&"LRTL"==b)return z(a,"LRTL","VRTL",c);if("L"==g&&"L"==s)return d=F.swap,F.swap=d.substr(0,1)+"N","RTL"==k?(F.dir=J,a=f(a),F.swap="N"+d.substr(1,2),F.dir=L,a=f(a)):(F.dir=L,a=f(a),F.swap="N"+d.substr(1,2),a=z(a,"VLTR","LRTL",F.swap)),a}function p(a){for(var d=null,b=d=null,c=0;c<a.length;c++){d=a.charAt(c).charCodeAt(0);b=wa[d>>8];d=b<I?b:xa[b-I][d&
255];if(d==ja||d==ga)return"rtl";if(d==na)return"ltr";if(d==$)break}return""}function f(a){a=a.split("");var d=[],b=a.length,c=F.dir?S:X,e=null,g=null,e=null,g=0,k=null,k=null,s=-1,v=k=null,f=[],u=[];F.hiLevel=F.dir;F.lastArabic=!1;F.hasUBAT_AL=!1;F.hasUBAT_B=!1;F.hasUBAT_S=!1;for(k=0;k<b;k++)f[k]=l(a[k]);for(v=0;v<b;v++){e=g;u[v]=g=m(a,f,u,v);g=c[e][g];k=g&240;g&=15;d[v]=e=c[g][M];if(0<k){if(16==k)for(k=s;k<v;k++)d[k]=1;s=-1}if(k=c[g][Q])-1==s&&(s=v);else if(-1<s){for(k=s;k<v;k++)d[k]=e;s=-1}f[v]==
$&&(d[v]=0);F.hiLevel|=e}if(F.hasUBAT_S)for(k=0;k<b;k++)if(f[k]==ia)for(d[k]=F.dir,c=k-1;0<=c;c--)if(f[c]==ca)d[c]=F.dir;else break;if(0!=F.hiLevel&&F.swap.substr(0,1)!=F.swap.substr(1,2))for(b=0;b<a.length;b++)if(1==d[b]){f=b;b:for(c=a[b],s=void 0,v=0,u=P.length-1;v<=u;)if(s=Math.floor((v+u)/2),c<P[s][0])u=s-1;else if(c>P[s][0])v=s+1;else{c=P[s][1];break b}a[f]=c}h(2,a,d);h(1,a,d);return a.join("")}function l(a){a=a.charCodeAt(0);var d=wa[a>>8];return d<I?d:xa[d-I][a&255]}function x(a){a=a.split("");
a.reverse();return a.join("")}function y(a){for(var d=0;d<ha.length;d++)if(a>=ha[d]&&a<=U[d])return!0;return!1}function t(a,d,b,c){for(;d*b<c&&H(a[d]);)d+=b;return d*b<c&&y(a[d])?!0:!1}function h(a,d,b){if(!(F.hiLevel<a))if(1!=a||F.dir!=J||F.hasUBAT_B)for(var c=d.length,e=0,g,k,s;e<c;){if(b[e]>=a){for(g=e+1;g<c&&b[g]>=a;)g++;for(k=g-1;e<k;e++,k--)s=d[e],d[e]=d[k],d[k]=s;e=g}e++}else d.reverse()}function m(f,I,ta,h){var m=I[h],l,p;switch(m){case na:case ja:F.lastArabic=!1;case ka:case b:return m;case da:return F.lastArabic?
b:da;case ga:return F.lastArabic=!0,F.hasUBAT_AL=!0,ja;case ca:return ka;case ra:if(1>h||h+1>=I.length||(l=ta[h-1])!=da&&l!=b||(p=I[h+1])!=da&&p!=b)return ka;F.lastArabic&&(p=b);return p==l?p:ka;case a:return l=0<h?ta[h-1]:$,l==da&&h+1<I.length&&I[h+1]==da?da:ka;case d:if(0<h&&ta[h-1]==da)return da;if(F.lastArabic)return ka;l=h+1;for(m=I.length;l<m&&I[l]==d;)l++;return l<m&&I[l]==da?da:ka;case c:if("VLTR"==F.inFormat){m=I.length;for(l=h+1;l<m&&I[l]==c;)l++;if(l<m&&(f=f[h],l=I[l],(1425<=f&&2303>=f||
64286==f)&&(l==ja||l==ga)))return ja}return 1>h||I[h-1]==$?ka:ta[h-1];case $:return lastArabic=!1,F.hasUBAT_B=!0,F.dir;case ia:return F.hasUBAT_S=!0,ka;case e:case g:case s:case v:case k:lastArabic=!1;case u:return ka}}function r(a,d){for(var b=0;b<ba.length;b++)if(a==ba[b])return d[b];return a}function H(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function K(a){if("L"==a)return"LTR";if("R"==a)return"RTL";if("C"==a)return"CLR";if("D"==a)return"CRL"}function E(a,d){for(var b=0;b<R.length;b++)if(a==R[b])return d[b];
return a}q.getObject("string",!0,w);q=C("dojox.string.BidiEngine",null,{bidiTransform:function(a,d,b){if(!a)return"";if(!d&&!b)return a;var c=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/;if(!c.test(d)||!c.test(b))throw Error("dojox.string.BidiEngine: the bidi layout string is wrong!");if(d==b)return a;var c=K(d.charAt(1)),e=K(b.charAt(1)),g="I"==d.charAt(0)?"L":d.charAt(0),k="I"==b.charAt(0)?"L":b.charAt(0),s=g+c,v=k+e,f=d.charAt(2)+b.charAt(2);s&&(F.defInFormat=s);v&&(F.defOutFormat=v);f&&(F.defSwap=
f);c=z(a,g+c,k+e,d.charAt(2)+b.charAt(2));a=!1;if("R"==b.charAt(1))a=!0;else if("C"==b.charAt(1)||"D"==b.charAt(1))a=this.checkContextual(c);if(d.charAt(3)==b.charAt(3))return c;if("S"==b.charAt(3)){b=c;d=!0;if(0==b.length)d=void 0;else{void 0==a&&(a=!0);void 0==d&&(d=!0);b=new String(b);b=b.split("");k=0;c=1;e=b.length;a||(k=b.length-1,c=-1,e=1);s=0;a=[];for(g=0;k*c<e;k+=c)if(y(b[k])||H(b[k])){if(v="\u0644"==b[k])b:{for(var f=b,u=k+c,I=c,ta=e;u*I<ta&&H(f[u]);)u+=I;v=" ";if(u*I<ta)for(v=f[u],f=0;f<
R.length;f++)if(R[f]==v){v=!0;break b}v=!1}if(v){b[k]=0==s?E(b[k+c],N):E(b[k+c],aa);k+=c;s=b;v=k;f=c;for(u=e;v*f<u&&H(s[v]);)v+=f;v*f<u&&(s[v]=" ");d&&(a[g]=k,g++);s=0}else{v=b[k];if(1==s){f=k;if(t(b,k+c,c,e))b:for(u=b[k],I=0;I<ba.length;I++){if(u==ba[I]){u=Z[I];break b}}else u=r(b[k],fa);b[f]=u}else 1==t(b,k+c,c,e)?b[k]=r(b[k],la):b[k]=r(b[k],ma);H(v)||(s=1);b:{for(f=0;f<W.length;f++)if(W[f]==v){v=!0;break b}v=!1}1==v&&(s=0)}}else s=0;c="";for(idx=0;idx<b.length;idx++){if(e=d){b:{for(e=0;e<a.length;e++)if(a[e]==
idx)break b;e=-1}e=-1<e}e||(c+=b[idx])}d=c}return d}if("N"==b.charAt(3)){d=a;g=!0;if(0==c.length)d=void 0;else{void 0==g&&(g=!0);void 0==d&&(d=!0);c=new String(c);b="";e=[];a="";if(g)for(e=0;e<c.length;e++){if(" "==c.charAt(e))if(d){if(0<e&&"\ufef5"<=c.charAt(e-1)&&"\ufefc">=c.charAt(e-1))continue}else if(e+1<c.length&&"\ufef5"<=c.charAt(e+1)&&"\ufefc">=c.charAt(e+1))continue;a+=c.charAt(e)}else a=new String(c);e=a.split("");for(c=0;c<a.length;c++)"\ufe70"<=e[c]&&"\ufeff">e[c]?(g=a.charCodeAt(c),
"\ufef5"<=e[c]&&"\ufefc">=e[c]?d?(b+="\u0644",b+=R[parseInt((g-65269)/2)]):(b+=R[parseInt((g-65269)/2)],b+="\u0644"):b+=ea[g-65136]):b+=e[c];d=b}return d}},checkContextual:function(a){a=p(a);"ltr"!=a&&"rtl"!=a&&(a=document.dir.toLowerCase(),"ltr"!=a&&"rtl"!=a&&(a="ltr"));return a},hasBidiChar:function(a){for(var d=null,b=d=null,c=0;c<a.length;c++){d=a.charAt(c).charCodeAt(0);b=wa[d>>8];d=b<I?b:xa[b-I][d&255];if(d==ja||d==ga)return!0;if(d==$)break}return!1}});var F={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",
defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUBAT_AL:!1,hasBlockSep:!1,hasSegSep:!1},M=5,Q=6,L=0,J=1,P=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a",
"\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],R=["\u0622","\u0623","\u0625","\u0627"],N=["\ufef5","\ufef7","\ufef9","\ufefb"],aa=["\ufef6","\ufef8","\ufefa","\ufefc"],ba="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0621".split(""),
ma="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),fa="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),
Z="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80".split(""),la="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),
W="\u0621\u0627\u062f\u0630\u0631\u0632\u0648\u0622\u0629\u0626\u0624\u0625\u0675\u0623".split(""),ea="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
ha=["\u0621","\u0641"],U=["\u063a","\u064a"],X=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],na=0,ja=1,da=2,b=3,ka=4,$=5,ia=6,ga=7,ca=8,ra=9,a=10,d=11,c=12,e=13,g=14,k=15,s=16,v=17,u=18,I=100;C=I+0;w=I+1;var ta=I+2,ya=I+3,za=I+4,Aa=I+5,Ba=I+6,Ca=I+7,D=na,O=ja,Y=da,oa=b,A=ka,ua=$,va=ia,B=ga,pa=ca,qa=ra,sa=a,V=d,G=c,Da=e,Ea=g,Fa=k,Ga=s,Ha=v,T=u,wa=[C,D,D,D,D,w,ta,ya,O,D,D,D,D,
D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,za,A,A,A,D,A,D,A,D,A,A,A,D,D,A,A,D,D,D,D,D,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,D,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,D,A,A,D,D,A,A,D,D,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,D,D,Aa,B,B,Ba,Ca];delete C;delete w;
delete ta;delete ya;delete za;delete Aa;delete Ba;delete Ca;var xa=[[T,T,T,T,T,T,T,T,T,va,ua,va,pa,ua,T,T,T,T,T,T,T,T,T,T,T,T,T,T,ua,ua,ua,va,pa,A,A,V,V,V,A,A,A,A,A,sa,qa,sa,qa,qa,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,qa,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,A,T,T,T,T,T,T,ua,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,qa,A,V,V,V,V,A,A,A,A,D,A,A,T,A,A,V,V,Y,Y,A,D,A,A,A,Y,D,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,
D,D,D,D,D,D,D,D,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,D,D,D,D,D,D,D,D],[D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,D,D,D,D,D,D,D,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,D,A,A,A,A,A,A,A,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,O,G,O,G,G,O,G,G,O,G,A,
A,A,A,A,A,A,A,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,A,A,A,A,A,O,O,O,O,O,A,A,A,A,A,A,A,A,A,A,A],[oa,oa,oa,oa,A,A,A,A,B,V,V,B,qa,B,A,A,G,G,G,G,G,G,G,G,G,G,G,B,A,A,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,oa,oa,oa,oa,oa,oa,oa,oa,oa,oa,V,oa,oa,B,B,B,G,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,
B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,G,G,G,G,G,G,G,oa,A,G,G,G,G,G,G,B,B,G,G,A,G,G,G,G,B,B,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,B,B,B,B,B,B],[B,B,B,B,B,B,B,B,B,B,B,B,B,B,A,B,B,G,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,A,A,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,G,G,G,G,G,G,G,G,G,G,G,B,A,
A,A,A,A,A,A,A,A,A,A,A,A,A,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,G,G,G,G,G,G,G,G,G,O,O,A,A,A,A,O,A,A,A,A,A],[pa,pa,pa,pa,pa,pa,pa,pa,pa,pa,pa,T,T,T,D,O,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,pa,ua,Da,Ea,Fa,Ga,Ha,qa,V,V,V,V,V,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,qa,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,pa,T,T,T,T,T,A,A,A,A,A,T,T,T,T,T,T,Y,D,A,A,Y,Y,Y,Y,Y,Y,sa,sa,A,A,A,D,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,sa,sa,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,
V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[D,D,D,D,D,D,D,A,A,A,A,A,A,A,A,A,A,A,A,D,D,D,D,D,A,A,A,A,A,O,G,O,O,O,O,O,O,O,O,O,O,sa,O,O,O,O,O,O,O,O,O,O,O,O,O,A,O,O,O,O,O,A,O,A,O,O,A,O,O,A,O,O,O,O,O,O,O,O,O,O,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,
B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,G,G,G,G,G,G,G,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,qa,A,qa,A,A,qa,A,A,A,A,A,A,A,A,A,V,A,A,sa,sa,A,A,A,A,A,V,V,A,A,A,A,A,B,B,B,B,B,A,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,
B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,A,A,T],[A,A,A,V,V,V,A,A,A,A,A,sa,qa,sa,qa,qa,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,qa,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,A,A,A,A,A,A,A,A,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,
D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,A,A,A,D,D,D,D,D,D,A,A,D,D,D,D,D,D,A,A,D,D,D,D,D,D,A,A,D,D,D,A,A,A,V,V,A,A,A,V,V,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A]];delete D;delete O;delete Y;delete oa;delete A;delete ua;delete va;delete B;delete pa;delete qa;delete sa;delete V;delete G;delete Da;delete Ea;delete Fa;delete Ga;delete Ha;delete T;return q})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(q,C,w,z,p,f,l,x){function y(f){return h(f)}function t(f){return f.data||f.text}q.deepCopy=function(f,h){for(var l in h){var p=f[l],t=h[l];p!==t&&(p&&"object"===typeof p&&t&&"object"===typeof t?q.deepCopy(p,t):f[l]=t)}return f};q.deepCreate=function(f,h){h=h||{};var p=l.delegate(f),t,x;for(t in f)(x=f[t])&&"object"===typeof x&&(p[t]=q.deepCreate(x,h[t]));return q.deepCopy(p,h)};var h=Object.freeze||function(f){return f};q.deferred=function(f,p,H,K,E,F){var M=new z(function(h){p&&p(M,f);return h&&
(h instanceof C||h instanceof w)?h:new w("Request canceled",f)});M.response=f;M.isValid=H;M.isReady=K;M.handleResponse=E;H=M.then(y).otherwise(function(h){h.response=f;throw h;});q.notify&&H.then(l.hitch(q.notify,"emit","load"),l.hitch(q.notify,"emit","error"));K=H.then(t);E=new x;for(var Q in K)K.hasOwnProperty(Q)&&(E[Q]=K[Q]);E.response=H;h(E);F&&M.then(function(f){F.call(M,f)},function(h){F.call(M,f,h)});M.promise=E;M.then=E.then;return M};q.addCommonMethods=function(h,p){f.forEach(p||["GET","POST",
"PUT","DELETE"],function(f){h[("DELETE"===f?"DEL":f).toLowerCase()]=function(p,r){r=l.delegate(r||{});r.method=f;return h(p,r)}})};q.parseArgs=function(f,h,l){var q=h.data,t=h.query;q&&!l&&"object"===typeof q&&(h.data=p.objectToQuery(q));t?("object"===typeof t&&(t=p.objectToQuery(t)),h.preventCache&&(t+=(t?"\x26":"")+"request.preventCache\x3d"+ +new Date)):h.preventCache&&(t="request.preventCache\x3d"+ +new Date);f&&t&&(f+=(~f.indexOf("?")?"\x26":"?")+t);return{url:f,options:h,getHeader:function(f){return null}}};
q.checkStatus=function(f){f=f||0;return 200<=f&&300>f||304===f||1223===f||!f}})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(q,C,w,z,p){var f=null;w.add("vml",function(f,p,q){q.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';f="adj"in q.firstChild;q.innerHTML="";return f});return{load:function(l,x,y){function t(){x(["dojox/gfx/"+h],function(m){q.renderer=h;f=m;y(m)})}if(f&&"force"!=l)y(f);else{var h=p.forceGfxRenderer;
l=!h&&(C.isString(p.gfxRenderer)?p.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var m,r;!h&&l.length;)switch(l.shift()){case "svg":"SVGAngle"in z.global&&(h="svg");break;case "vml":w("vml")&&(h="vml");break;case "silverlight":try{w("ie")?(m=new ActiveXObject("AgControl.AgControl"))&&m.IsVersionSupported("1.0")&&(r=!0):navigator.plugins["Silverlight Plug-In"]&&(r=!0)}catch(H){r=!1}finally{m=null}r&&(h="silverlight");break;case "canvas":z.global.CanvasRenderingContext2D&&(h="canvas")}"canvas"===
h&&!1!==p.canvasEvents&&(h="canvasWithEvents");"svg"==h&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(t):t()}}}})},"dojo/io-query":function(){define(["./_base/lang"],function(q){var C={};return{objectToQuery:function(w){var z=encodeURIComponent,p=[],f;for(f in w){var l=w[f];if(l!=C[f]){var x=z(f)+"\x3d";if(q.isArray(l))for(var y=0,t=l.length;y<t;++y)p.push(x+z(l[y]));else p.push(x+z(l))}}return p.join("\x26")},queryToObject:function(w){var z=decodeURIComponent;w=w.split("\x26");for(var p=
{},f,l,x=0,y=w.length;x<y;++x)if(l=w[x],l.length){var t=l.indexOf("\x3d");0>t?(f=z(l),l=""):(f=z(l.slice(0,t)),l=z(l.slice(t+1)));"string"==typeof p[f]&&(p[f]=[p[f]]);q.isArray(p[f])?p[f].push(l):p[f]=l}return p}}})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(q,C,w,z,p){p=w("dojox.gfx.path.Path",p.Shape,{constructor:function(f){this.shape=C.clone(q.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=
f;this.segmented=!1},setAbsoluteMode:function(f){this._confirmSegmented();this.absolute="string"==typeof f?"absolute"==f:f;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var f=this.bbox,l=this._getRealMatrix();
this.bbox=null;for(var p=0,q=this.segments.length;p<q;++p)this._updateWithSegment(this.segments[p],l);l=this.bbox;this.bbox=f;return this.tbbox=l?[{x:l.l,y:l.t},{x:l.r,y:l.t},{x:l.r,y:l.b},{x:l.l,y:l.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(f,l,p){p&&(l=z.multiplyPoint(p,f,l),f=l.x,l=l.y);this.bbox&&"l"in this.bbox?(this.bbox.l>f&&(this.bbox.l=
f),this.bbox.r<f&&(this.bbox.r=f),this.bbox.t>l&&(this.bbox.t=l),this.bbox.b<l&&(this.bbox.b=l)):this.bbox={l:f,b:l,r:f,t:l}},_updateWithSegment:function(f,l){var p=f.args,w=p.length,t;switch(f.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(t=0;t<w;t+=2)this._updateBBox(p[t],p[t+1],l);this.last.x=p[w-2];this.last.y=p[w-1];this.absolute=!0;break;case "H":for(t=0;t<w;++t)this._updateBBox(p[t],this.last.y,l);this.last.x=p[w-1];this.absolute=!0;break;case "V":for(t=0;t<w;++t)this._updateBBox(this.last.x,
p[t],l);this.last.y=p[w-1];this.absolute=!0;break;case "m":t=0;"x"in this.last||(this._updateBBox(this.last.x=p[0],this.last.y=p[1],l),t=2);for(;t<w;t+=2)this._updateBBox(this.last.x+=p[t],this.last.y+=p[t+1],l);this.absolute=!1;break;case "l":case "t":for(t=0;t<w;t+=2)this._updateBBox(this.last.x+=p[t],this.last.y+=p[t+1],l);this.absolute=!1;break;case "h":for(t=0;t<w;++t)this._updateBBox(this.last.x+=p[t],this.last.y,l);this.absolute=!1;break;case "v":for(t=0;t<w;++t)this._updateBBox(this.last.x,
this.last.y+=p[t],l);this.absolute=!1;break;case "c":for(t=0;t<w;t+=6)this._updateBBox(this.last.x+p[t],this.last.y+p[t+1],l),this._updateBBox(this.last.x+p[t+2],this.last.y+p[t+3],l),this._updateBBox(this.last.x+=p[t+4],this.last.y+=p[t+5],l);this.absolute=!1;break;case "s":case "q":for(t=0;t<w;t+=4)this._updateBBox(this.last.x+p[t],this.last.y+p[t+1],l),this._updateBBox(this.last.x+=p[t+2],this.last.y+=p[t+3],l);this.absolute=!1;break;case "A":for(t=0;t<w;t+=7)this._updateBBox(p[t+5],p[t+6],l);
this.last.x=p[w-2];this.last.y=p[w-1];this.absolute=!0;break;case "a":for(t=0;t<w;t+=7)this._updateBBox(this.last.x+=p[t+5],this.last.y+=p[t+6],l);this.absolute=!1}var h=[f.action];for(t=0;t<w;++t)h.push(q.formatNumber(p[t],!0));if("string"==typeof this.shape.path)this.shape.path+=h.join("");else for(t=0,w=h.length;t<w;++t)this.shape.path.push(h[t])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(f,l){this.tbbox=null;var p=this._validSegments[f.toLowerCase()];"number"==
typeof p&&(p?l.length>=p&&(p={action:f,args:l.slice(0,l.length-l.length%p)},this.segments.push(p),this._updateWithSegment(p)):(p={action:f,args:[]},this.segments.push(p),this._updateWithSegment(p)))},_collectArgs:function(f,l){for(var p=0;p<l.length;++p){var q=l[p];"boolean"==typeof q?f.push(q?1:0):"number"==typeof q?f.push(q):q instanceof Array?this._collectArgs(f,q):"x"in q&&"y"in q&&f.push(q.x,q.y)}},moveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?
"M":"m",f);return this},lineTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"L":"l",f);return this},hLineTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"H":"h",f);return this},vLineTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"V":"v",f);return this},curveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,
arguments);this._pushSegment(this.absolute?"C":"c",f);return this},smoothCurveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"S":"s",f);return this},qCurveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"Q":"q",f);return this},qSmoothCurveTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"T":"t",f);return this},
arcTo:function(){this._confirmSegmented();var f=[];this._collectArgs(f,arguments);this._pushSegment(this.absolute?"A":"a",f);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var f=this.shape.path;this.shape.path=[];this._setPath(f);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(f){f=C.isArray(f)?f:f.match(q.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};
this.last={};if(f){for(var l="",p=[],w=f.length,t=0;t<w;++t){var h=f[t],m=parseFloat(h);isNaN(m)?(l&&this._pushSegment(l,p),p=[],l=h):p.push(m)}this._pushSegment(l,p)}},setShape:function(f){this.inherited(arguments,["string"==typeof f?{path:f}:f]);this.segmented=!1;this.segments=[];q.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});w=w("dojox.gfx.path.TextPath",p,{constructor:function(f){"text"in this||(this.text=C.clone(q.defaultTextPath));"fontStyle"in this||(this.fontStyle=
C.clone(q.defaultFont))},getText:function(){return this.text},setText:function(f){this.text=q.makeParameters(this.text,"string"==typeof f?{text:f}:f);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(f){this.fontStyle="string"==typeof f?q.splitFontString(f):q.makeParameters(q.defaultFont,f);this._setFont();return this}});return q.path={Path:p,TextPath:w}})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(q,C,w){var z=q.some;
return function(p){var f,l;p instanceof Array?l=p:p&&"object"===typeof p&&(f=p);var q,y=[];if(f){l=[];for(var t in f)Object.hasOwnProperty.call(f,t)&&(y.push(t),l.push(f[t]));q={}}else l&&(q=[]);if(!l||!l.length)return(new C).resolve(q);var h=new C;h.promise.always(function(){q=y=null});var m=l.length;z(l,function(l,p){f||y.push(p);w(l,function(f){h.isFulfilled()||(q[y[p]]=f,0===--m&&h.resolve(q))},h.reject);return h.isFulfilled()});return h.promise}})},"dojo/ready":function(){define(["./_base/kernel",
"./has","require","./domReady","./_base/lang"],function(q,C,w,z,p){var f=0,l=[],x=0;C=function(){f=1;q._postLoad=q.config.afterOnLoad=!0;y()};var y=function(){if(!x){for(x=1;f&&(!z||0==z._Q.length)&&(w.idle?w.idle():1)&&l.length;){var h=l.shift();try{h()}catch(p){if(p.info=p.message,w.signal)w.signal("error",p);else throw p;}}x=0}};w.on&&w.on("idle",y);z&&(z._onQEmpty=y);var t=q.ready=q.addOnLoad=function(f,h,t){var w=p._toArray(arguments);"number"!=typeof f?(t=h,h=f,f=1E3):w.shift();t=t?p.hitch.apply(q,
w):function(){h()};t.priority=f;for(w=0;w<l.length&&f>=l[w].priority;w++);l.splice(w,0,t);y()},h=q.config.addOnLoad;if(h)t[p.isArray(h)?"apply":"call"](q,h);z?z(C):C();return t})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(q,C,w,z,p,f,l,x){var y=C("dijit._TemplatedMixin",x,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(f){var h=
this.declaredClass,m=this;return l.substitute(f,this,function(f,l){"!"==l.charAt(0)&&(f=z.getObject(l.substr(1),!1,m));if("undefined"==typeof f)throw Error(h+" template:"+l);return null==f?"":"!"==l.charAt(0)?f:this._escapeValue(""+f)},this)},_escapeValue:function(f){return f.replace(/["'<>&]/g,function(f){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[f]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=q(this.templatePath,
{sanitize:!0}));var f=y.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),h;if(z.isString(f)){if(h=w.toDom(this._stringRepl(f),this.ownerDocument),1!=h.nodeType)throw Error("Invalid template: "+f);}else h=f.cloneNode(!0);this.domNode=h}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(f){var h=this.containerNode;if(f&&h)for(;f.hasChildNodes();)h.appendChild(f.firstChild)}});y._templateCache={};y.getCachedTemplate=
function(f,h,m){var p=y._templateCache,q=f,x=p[q];if(x){try{if(!x.ownerDocument||x.ownerDocument==(m||document))return x}catch(z){}w.destroy(x)}f=l.trim(f);if(h||f.match(/\$\{([^\}]+)\}/g))return p[q]=f;h=w.toDom(f,m);if(1!=h.nodeType)throw Error("Invalid template: "+f);return p[q]=h};f("ie")&&p(window,"unload",function(){var f=y._templateCache,h;for(h in f){var l=f[h];"object"==typeof l&&w.destroy(l);delete f[h]}});return y})},"dojo/Evented":function(){define(["./aspect","./on"],function(q,C){function w(){}
var z=q.after;w.prototype={on:function(p,f){return C.parse(this,p,f,function(l,p){return z(l,"on"+p,f,!0)})},emit:function(p,f){var l=[this];l.push.apply(l,arguments);return C.emit.apply(C,l)}};return w})},"dojo/window":function(){define("./_base/kernel ./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(q,C,w,z,p,f,l,x){w.add("rtl-adjust-position-for-verticalScrollBar",function(l,h){var m=z.body(h),p=x.create("div",{style:{overflow:"scroll",overflowX:"visible",
direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},m,"last"),q=x.create("div",{style:{overflow:"hidden",direction:"ltr"}},p,"last"),w=0!=f.position(q).x;p.removeChild(q);m.removeChild(p);return w});w.add("position-fixed-support",function(l,h){var m=z.body(h),p=x.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},m,"last"),q=x.create("span",{style:{position:"fixed",left:"0",top:"0"}},p,"last"),w=f.position(q).x!=f.position(p).x;
p.removeChild(q);m.removeChild(p);return w});var y={getBox:function(l){l=l||z.doc;var h="BackCompat"==l.compatMode?z.body(l):l.documentElement,m=f.docScroll(l);if(w("touch")){var p=y.get(l);l=p.innerWidth||h.clientWidth;h=p.innerHeight||h.clientHeight}else l=h.clientWidth,h=h.clientHeight;return{l:m.x,t:m.y,w:l,h:h}},get:function(f){if(w("ie")&&y!==document.parentWindow){f.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var h=f._parentWindow;f._parentWindow=null;return h}return f.parentWindow||
f.defaultView},scrollIntoView:function(q,h){try{q=p.byId(q);var m=q.ownerDocument||z.doc,r=z.body(m),x=m.documentElement||r.parentNode,y=w("ie"),C=w("webkit");if(q!=r&&q!=x)if(!(w("mozilla")||y||C||w("opera")||w("trident"))&&"scrollIntoView"in q)q.scrollIntoView(!1);else{var F="BackCompat"==m.compatMode,M=Math.min(r.clientWidth||x.clientWidth,x.clientWidth||r.clientWidth),Q=Math.min(r.clientHeight||x.clientHeight,x.clientHeight||r.clientHeight),m=C||F?r:x,L=h||f.position(q),J=q.parentNode,C=function(f){return 6>=
y||7==y&&F?!1:w("position-fixed-support")&&"fixed"==l.get(f,"position").toLowerCase()},P=this,R=function(f,h,l){"BODY"==f.tagName||"HTML"==f.tagName?P.get(f.ownerDocument).scrollBy(h,l):(h&&(f.scrollLeft+=h),l&&(f.scrollTop+=l))};if(!C(q))for(;J;){J==r&&(J=m);var N=f.position(J),aa=C(J),ba="rtl"==l.getComputedStyle(J).direction.toLowerCase();if(J==m){N.w=M;N.h=Q;m==x&&(y||w("trident"))&&ba&&(N.x+=m.offsetWidth-N.w);if(0>N.x||!y||9<=y||w("trident"))N.x=0;if(0>N.y||!y||9<=y||w("trident"))N.y=0}else{var ma=
f.getPadBorderExtents(J);N.w-=ma.w;N.h-=ma.h;N.x+=ma.l;N.y+=ma.t;var fa=J.clientWidth,Z=N.w-fa;0<fa&&0<Z&&(ba&&w("rtl-adjust-position-for-verticalScrollBar")&&(N.x+=Z),N.w=fa);fa=J.clientHeight;Z=N.h-fa;0<fa&&0<Z&&(N.h=fa)}aa&&(0>N.y&&(N.h+=N.y,N.y=0),0>N.x&&(N.w+=N.x,N.x=0),N.y+N.h>Q&&(N.h=Q-N.y),N.x+N.w>M&&(N.w=M-N.x));var la=L.x-N.x,W=L.y-N.y,ea=la+L.w-N.w,ha=W+L.h-N.h,U,X;0<ea*la&&(J.scrollLeft||J==m||J.scrollWidth>J.offsetHeight)&&(U=Math[0>la?"max":"min"](la,ea),ba&&(8==y&&!F||9<=y||w("trident"))&&
(U=-U),X=J.scrollLeft,R(J,U,0),U=J.scrollLeft-X,L.x-=U);0<ha*W&&(J.scrollTop||J==m||J.scrollHeight>J.offsetHeight)&&(U=Math.ceil(Math[0>W?"max":"min"](W,ha)),X=J.scrollTop,R(J,0,U),U=J.scrollTop-X,L.y-=U);J=J!=m&&!aa&&J.parentNode}}}catch(S){console.error("scrollIntoView: "+S),q.scrollIntoView(!1)}}};return q.window=y})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(q,C,w,z,p,f,l,x,y,t,h,m,r,H,K,E){q._xhrObj=K._create;var F=q.config;q.objectToQuery=z.objectToQuery;q.queryToObject=z.queryToObject;q.fieldToObject=f.fieldToObject;q.formToObject=f.toObject;q.formToQuery=f.toQuery;q.formToJson=f.toJson;q._blockAsync=!1;var M=q._contentHandlers=q.contentHandlers={text:function(f){return f.responseText},json:function(f){return y.fromJson(f.responseText||null)},"json-comment-filtered":function(f){x.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
f=f.responseText;var h=f.indexOf("/*"),l=f.lastIndexOf("*/");if(-1==h||-1==l)throw Error("JSON was not comment filtered");return y.fromJson(f.substring(h+2,l))},javascript:function(f){return q.eval(f.responseText)},xml:function(f){var l=f.responseXML;l&&C("dom-qsa2.1")&&!l.querySelectorAll&&C("dom-parser")&&(l=(new DOMParser).parseFromString(f.responseText,"application/xml"));if(C("ie")&&(!l||!l.documentElement)){var m=function(f){return"MSXML"+f+".DOMDocument"},m=["Microsoft.XMLDOM",m(6),m(4),m(3),
m(2)];h.some(m,function(h){try{var m=new ActiveXObject(h);m.async=!1;m.loadXML(f.responseText);l=m}catch(p){return!1}return!0})}return l},"json-comment-optional":function(f){return f.responseText&&/^[^{\[]*\/\*/.test(f.responseText)?M["json-comment-filtered"](f):M.json(f)}};q._ioSetArgs=function(h,m,r,w){var x={args:h,url:h.url},y=null;if(h.form){var y=p.byId(h.form),C=y.getAttributeNode("action");x.url=x.url||(C?C.value:null);y=f.toObject(y)}C=[{}];y&&C.push(y);h.content&&C.push(h.content);h.preventCache&&
C.push({"dojo.preventCache":(new Date).valueOf()});x.query=z.objectToQuery(t.mixin.apply(null,C));x.handleAs=h.handleAs||"text";var E=new l(function(f){f.canceled=!0;m&&m(f);var h=f.ioArgs.error;h||(h=Error("request cancelled"),h.dojoType="cancel",f.ioArgs.error=h);return h});E.addCallback(r);var H=h.load;H&&t.isFunction(H)&&E.addCallback(function(f){return H.call(h,f,x)});var J=h.error;J&&t.isFunction(J)&&E.addErrback(function(f){return J.call(h,f,x)});var K=h.handle;K&&t.isFunction(K)&&E.addBoth(function(f){return K.call(h,
f,x)});E.addErrback(function(f){return w(f,E)});F.ioPublish&&q.publish&&!1!==x.args.ioPublish&&(E.addCallbacks(function(f){q.publish("/dojo/io/load",[E,f]);return f},function(f){q.publish("/dojo/io/error",[E,f]);return f}),E.addBoth(function(f){q.publish("/dojo/io/done",[E,f]);return f}));E.ioArgs=x;return E};var Q=function(f){f=M[f.ioArgs.handleAs](f.ioArgs.xhr);return void 0===f?null:f},L=function(f,h){h.ioArgs.args.failOk||console.error(f);return f},J=function(f){0>=P&&(P=0,F.ioPublish&&q.publish&&
(!f||f&&!1!==f.ioArgs.args.ioPublish)&&q.publish("/dojo/io/stop"))},P=0;r.after(H,"_onAction",function(){--P});r.after(H,"_onInFlight",J);q._ioCancelAll=H.cancelAll;q._ioNotifyStart=function(f){F.ioPublish&&q.publish&&!1!==f.ioArgs.args.ioPublish&&(P||q.publish("/dojo/io/start"),P+=1,q.publish("/dojo/io/send",[f]))};q._ioWatch=function(f,h,l,m){f.ioArgs.options=f.ioArgs.args;t.mixin(f,{response:f.ioArgs,isValid:function(l){return h(f)},isReady:function(h){return l(f)},handleResponse:function(h){return m(f)}});
H(f);J(f)};q._ioAddQueryToUrl=function(f){f.query.length&&(f.url+=(-1==f.url.indexOf("?")?"?":"\x26")+f.query,f.query=null)};q.xhr=function(f,h,l){var m,p=q._ioSetArgs(h,function(f){m&&m.cancel()},Q,L),r=p.ioArgs;"postData"in h?r.query=h.postData:"putData"in h?r.query=h.putData:"rawBody"in h?r.query=h.rawBody:(2<arguments.length&&!l||-1==="POST|PUT".indexOf(f.toUpperCase()))&&q._ioAddQueryToUrl(r);var t={method:f,handleAs:"text",timeout:h.timeout,withCredentials:h.withCredentials,ioArgs:r};"undefined"!==
typeof h.headers&&(t.headers=h.headers);"undefined"!==typeof h.contentType&&(t.headers||(t.headers={}),t.headers["Content-Type"]=h.contentType);"undefined"!==typeof r.query&&(t.data=r.query);"undefined"!==typeof h.sync&&(t.sync=h.sync);q._ioNotifyStart(p);try{m=K(r.url,t,!0)}catch(w){return p.cancel(),p}p.ioArgs.xhr=m.response.xhr;m.then(function(){p.resolve(p)}).otherwise(function(f){r.error=f;f.response&&(f.status=f.response.status,f.responseText=f.response.text,f.xhr=f.response.xhr);p.reject(f)});
return p};q.xhrGet=function(f){return q.xhr("GET",f)};q.rawXhrPost=q.xhrPost=function(f){return q.xhr("POST",f,!0)};q.rawXhrPut=q.xhrPut=function(f){return q.xhr("PUT",f,!0)};q.xhrDelete=function(f){return q.xhr("DELETE",f)};q._isDocumentOk=function(f){return E.checkStatus(f.status)};q._getText=function(f){var h;q.xhrGet({url:f,sync:!0,load:function(f){h=f}});return h};t.mixin(q.xhr,{_xhrObj:q._xhrObj,fieldToObject:f.fieldToObject,formToObject:f.toObject,objectToQuery:z.objectToQuery,formToQuery:f.toQuery,
formToJson:f.toJson,queryToObject:z.queryToObject,contentHandlers:M,_ioSetArgs:q._ioSetArgs,_ioCancelAll:q._ioCancelAll,_ioNotifyStart:q._ioNotifyStart,_ioWatch:q._ioWatch,_ioAddQueryToUrl:q._ioAddQueryToUrl,_isDocumentOk:q._isDocumentOk,_getText:q._getText,get:q.xhrGet,post:q.xhrPost,put:q.xhrPut,del:q.xhrDelete});return q.xhr})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(q,C,w,z,p,f,l,x,y,t,h,m,r,H,K,E,F,M,Q,L,J){var P=C("dijit.form._SliderMover",h,{onMouseMove:function(f){var h=this.widget,l=h._abspos;l||(l=h._abspos=p.position(h.sliderBarContainer,!0),h._setPixelValue_=x.hitch(h,"_setPixelValue"),h._isReversed_=h._isReversed());f=f[h._mousePixelCoord]-l[h._startingPixelCoord];h._setPixelValue_(h._isReversed_?l[h._pixelCount]-f:f,l[h._pixelCount],!1)},destroy:function(f){h.prototype.destroy.apply(this,arguments);var l=this.widget;l._abspos=null;l._setValueAttr(l.value,
!0)}});w=C("dijit.form.HorizontalSlider",[Q,L],{templateString:J,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:K.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(f){this.disabled||this.readOnly||f.altKey||f.ctrlKey||f.metaKey||this._setValueAttr(this.value,!0)},_onKeyDown:function(f){if(!(this.disabled||this.readOnly||f.altKey||f.ctrlKey||f.metaKey)){switch(f.keyCode){case l.HOME:this._setValueAttr(this.minimum,!1);break;case l.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?l.RIGHT_ARROW:l.LEFT_ARROW:case !1===this._descending?l.DOWN_ARROW:l.UP_ARROW:case !1===this._descending?l.PAGE_DOWN:l.PAGE_UP:this.increment(f);
break;case this._descending||this.isLeftToRight()?l.LEFT_ARROW:l.RIGHT_ARROW:case !1===this._descending?l.UP_ARROW:l.DOWN_ARROW:case !1===this._descending?l.PAGE_UP:l.PAGE_DOWN:this.decrement(f);break;default:return}f.stopPropagation();f.preventDefault()}},_onHandleClick:function(f){this.disabled||this.readOnly||(y("ie")||E.focus(this.sliderHandle),f.stopPropagation(),f.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(f){if(!this.disabled&&!this.readOnly&&
this.clickSelect){E.focus(this.sliderHandle);f.stopPropagation();f.preventDefault();var h=p.position(this.sliderBarContainer,!0),l=f[this._mousePixelCoord]-h[this._startingPixelCoord];this._setPixelValue(this._isReversed()?h[this._pixelCount]-l:l,h[this._pixelCount],!0);this._movable.onMouseDown(f)}},_setPixelValue:function(f,h,l){if(!this.disabled&&!this.readOnly){var m=this.discreteValues;if(1>=m||Infinity==m)m=h;m--;f=Math.round(f/(h/m));this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*
f/m+this.minimum,this.maximum),this.minimum),l)}},_setValueAttr:function(f,h){this._set("value",f);this.valueNode.value=f;this.focusNode.setAttribute("aria-valuenow",f);this.inherited(arguments);var l=this.maximum>this.minimum?(f-this.minimum)/(this.maximum-this.minimum):0,m=!1===this._descending?this.remainingBar:this.progressBar,p=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(h&&0<this.slideDuration&&
m.style[this._progressPixelSize]){var q=this,r={},t=parseFloat(m.style[this._progressPixelSize]),w=this.slideDuration*(l-t/100);0!=w&&(0>w&&(w=0-w),r[this._progressPixelSize]={start:t,end:100*l,units:"%"},this._inProgressAnim=z.animateProperty({node:m,duration:w,onAnimate:function(f){p.style[q._progressPixelSize]=100-parseFloat(f[q._progressPixelSize])+"%"},onEnd:function(){delete q._inProgressAnim},properties:r}),this._inProgressAnim.play())}else m.style[this._progressPixelSize]=100*l+"%",p.style[this._progressPixelSize]=
100*(1-l)+"%"},_bumpValue:function(h,l){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var m=f.getComputedStyle(this.sliderBarContainer),q=p.getContentBox(this.sliderBarContainer,m),m=this.discreteValues;if(1>=m||Infinity==m)m=q[this._pixelCount];m--;q=(this.value-this.minimum)*m/(this.maximum-this.minimum)+h;0>q&&(q=0);q>m&&(q=m);q=q*(this.maximum-this.minimum)/m+this.minimum;this._setValueAttr(q,l)}},_onClkBumper:function(f){this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(f,
!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(f){this._bumpValue(f.keyCode==l.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(f){this._bumpValue(f.keyCode==l.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(f){f.stopPropagation();f.preventDefault();this._bumpValue(0>f.wheelDelta?-1:1,!0)},startup:function(){this._started||
(q.forEach(this.getChildren(),function(f){this[f.container]!=this.containerNode&&this[f.container].appendChild(f.domNode)},this),this.inherited(arguments))},_typematicCallback:function(f,h,l){if(-1==f)this._setValueAttr(this.value,!0);else this[h==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](l)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var f=m('label[for\x3d"'+
this.id+'"]');f.length&&(f[0].id||(f[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",f[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(F.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),F.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(H(this.domNode,r.wheel,x.hitch(this,
"_mouseWheeled")));var f=C(P,{widget:this});this._movable=new t(this.sliderHandle,{mover:f});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});w._Mover=P;return w})},"dojo/has":function(){define(["require","module"],function(q,C){var w=q.has||function(){};if(!w("dojo-has-api")){var z="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&
window.location==location&&window.document==document,p=function(){return this}(),f=z&&document,l=f&&f.createElement("DiV"),x=C.config&&C.config()||{},w=function(q){return"function"==typeof x[q]?x[q]=x[q](p,f,l):x[q]};w.cache=x;w.add=function(f,l,h,m){("undefined"==typeof x[f]||m)&&(x[f]=l);return h&&w(f)}}w.add("dom-addeventlistener",!!document.addEventListener);w.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);w.add("touch-events",
"ontouchstart"in document);w.add("pointer-events","onpointerdown"in document);w.add("MSPointer","msMaxTouchPoints"in navigator);w.add("device-width",screen.availWidth||innerWidth);z=document.createElement("form");w.add("dom-attributes-explicit",0==z.attributes.length);w.add("dom-attributes-specified-flag",0<z.attributes.length&&40>z.attributes.length);w.clearElement=function(f){f.innerHTML="";return f};w.normalize=function(f,l){var h=f.match(/[\?:]|[^:\?]*/g),m=0,p=function(f){var l=h[m++];if(":"==
l)return 0;if("?"==h[m++]){if(!f&&w(l))return p();p(!0);return p(f)}return l||0};return(f=p())&&l(f)};w.load=function(f,l,h){f?l([f],h):h()};return w})},"dojox/gfx/silverlight":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/declare dojo/_base/Color dojo/on dojo/_base/array dojo/dom-geometry dojo/dom dojo/_base/sniff ./_base ./shape ./path ./registry".split(" "),function(q,C,w,z,p,f,l,x,y,t,h,m){function r(f){var h=t.normalizeColor(f);f=h.toHex();h=Math.round(255*h.a);h=(0>h?0:255<
h?255:h).toString(16);return"#"+(2>h.length?"0"+h:h)+f.slice(1)}function H(f,m){var p={target:f,currentTarget:f,preventDefault:function(){},stopPropagation:function(){}};try{m.source&&(p.target=m.source,p.gfxTarget=h.byId(p.target.tag))}catch(q){}if(m)try{p.ctrlKey=m.ctrl;p.shiftKey=m.shift;var r=m.getPosition(null);p.x=p.offsetX=p.layerX=r.x;p.y=p.offsetY=p.layerY=r.y;var t=P[f.getHost().content.root.name],w=l.position(t);p.clientX=w.x+r.x;p.clientY=w.y+r.y}catch(x){}return p}function K(f,l){var m=
{keyCode:l.platformKeyCode,ctrlKey:l.ctrl,shiftKey:l.shift};try{l.source&&(m.target=l.source,m.gfxTarget=h.byId(m.target.tag))}catch(p){}return m}var E=t.silverlight={};q.experimental("dojox.gfx.silverlight");var F={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},M={normal:400,bold:700},Q={butt:"Flat",round:"Round",square:"Square"},L={bevel:"Bevel",
round:"Round"},J={serif:"Times New Roman",times:"Times New Roman","sans-serif":"Arial",helvetica:"Arial",monotone:"Courier New",courier:"Courier New"};E.Shape=w("dojox.gfx.silverlight.Shape",h.Shape,{destroy:function(){y("gfxRegistry")&&h.dispose(this);this.rawNode=null},setFill:function(h){var l=this.rawNode.getHost().content;if(!h)return this.fillStyle=null,this._setFillAttr(null),this;if("object"==typeof h&&"type"in h){switch(h.type){case "linear":this.fillStyle=h=t.makeParameters(t.defaultLinearGradient,
h);var m=l.createFromXaml("\x3cLinearGradientBrush/\x3e");m.mappingMode="Absolute";m.startPoint=h.x1+","+h.y1;m.endPoint=h.x2+","+h.y2;f.forEach(h.colors,function(f){var h=l.createFromXaml("\x3cGradientStop/\x3e");h.offset=f.offset;h.color=r(f.color);m.gradientStops.add(h)});this._setFillAttr(m);break;case "radial":this.fillStyle=h=t.makeParameters(t.defaultRadialGradient,h);var p=l.createFromXaml("\x3cRadialGradientBrush/\x3e"),q=t.matrix.multiplyPoint(t.matrix.invert(this._getAdjustedMatrix()),
h.cx,h.cy),q=q.x+","+q.y;p.mappingMode="Absolute";p.gradientOrigin=q;p.center=q;p.radiusX=p.radiusY=h.r;f.forEach(h.colors,function(f){var h=l.createFromXaml("\x3cGradientStop/\x3e");h.offset=f.offset;h.color=r(f.color);p.gradientStops.add(h)});this._setFillAttr(p);break;case "pattern":this.fillStyle=null,this._setFillAttr(null)}return this}this.fillStyle=h=t.normalizeColor(h);q=l.createFromXaml("\x3cSolidColorBrush/\x3e");q.color=h.toHex();q.opacity=h.a;this._setFillAttr(q);return this},_setFillAttr:function(f){this.rawNode.fill=
f},setStroke:function(f){var h=this.rawNode.getHost().content,l=this.rawNode;if(!f)return this.strokeStyle=null,l.stroke=null,this;if("string"==typeof f||C.isArray(f)||f instanceof z)f={color:f};f=this.strokeStyle=t.makeParameters(t.defaultStroke,f);f.color=t.normalizeColor(f.color);if(f)if(h=h.createFromXaml("\x3cSolidColorBrush/\x3e"),h.color=f.color.toHex(),h.opacity=f.color.a,l.stroke=h,l.strokeThickness=f.width,l.strokeStartLineCap=l.strokeEndLineCap=l.strokeDashCap=Q[f.cap],"number"==typeof f.join?
(l.strokeLineJoin="Miter",l.strokeMiterLimit=f.join):l.strokeLineJoin=L[f.join],h=f.style.toLowerCase(),h in F&&(h=F[h]),h instanceof Array){h=C.clone(h);if("butt"!=f.cap){for(f=0;f<h.length;f+=2)--h[f],1>h[f]&&(h[f]=1);for(f=1;f<h.length;f+=2)++h[f]}l.strokeDashArray=h.join(",")}else l.strokeDashArray=null;return this},_getParentSurface:function(){for(var f=this.parent;f&&!(f instanceof t.Surface);f=f.parent);return f},_applyTransform:function(){var f=this._getAdjustedMatrix(),h=this.rawNode;if(f){var l=
this.rawNode.getHost().content,m=l.createFromXaml("\x3cMatrixTransform/\x3e"),l=l.createFromXaml("\x3cMatrix/\x3e");l.m11=f.xx;l.m21=f.xy;l.m12=f.yx;l.m22=f.yy;l.offsetX=f.dx;l.offsetY=f.dy;m.matrix=l;h.renderTransform=m}else h.renderTransform=null;return this},setRawNode:function(f){f.fill=null;f.stroke=null;this.rawNode=f;this.rawNode.tag=this.getUID()},_moveToFront:function(){var f=this.parent.rawNode.children,h=this.rawNode;f.remove(h);f.add(h);return this},_moveToBack:function(){var f=this.parent.rawNode.children,
h=this.rawNode;f.remove(h);f.insert(0,h);return this},_getAdjustedMatrix:function(){return this.matrix},setClip:function(f){this.inherited(arguments);var h=this.rawNode;if(f){var l=f?"width"in f?"rect":"cx"in f?"ellipse":"points"in f?"polyline":"d"in f?"path":null:null;if(f&&!l)return this;var m=this.getBoundingBox()||{x:0,y:0,width:0,height:0},p="1,0,0,1,"+-m.x+","+-m.y;switch(l){case "rect":h.clip=h.getHost().content.createFromXaml("\x3cRectangleGeometry/\x3e");h.clip.rect=f.x+","+f.y+","+f.width+
","+f.height;h.clip.transform=p;break;case "ellipse":h.clip=h.getHost().content.createFromXaml("\x3cEllipseGeometry/\x3e");h.clip.center=f.cx+","+f.cy;h.clip.radiusX=f.rx;h.clip.radiusY=f.ry;h.clip.transform="1,0,0,1,"+-m.x+","+-m.y;break;case "polyline":if(2<f.points.length){var p=h.getHost().content.createFromXaml("\x3cPathGeometry/\x3e"),q=h.getHost().content.createFromXaml("\x3cPathFigure/\x3e");q.StartPoint=f.points[0]+","+f.points[1];for(var r=2;r<=f.points.length-2;r+=2)l=h.getHost().content.createFromXaml("\x3cLineSegment/\x3e"),
l.Point=f.points[r]+","+f.points[r+1],q.segments.add(l);p.figures.add(q);p.transform="1,0,0,1,"+-m.x+","+-m.y;h.clip=p}}}else h.clip=null;return this}});E.Group=w("dojox.gfx.silverlight.Group",E.Shape,{constructor:function(){h.Container._init.call(this)},setRawNode:function(f){this.rawNode=f;this.rawNode.tag=this.getUID()},destroy:function(){this.clear(!0);E.Shape.prototype.destroy.apply(this,arguments)}});E.Group.nodeType="Canvas";E.Rect=w("dojox.gfx.silverlight.Rect",[E.Shape,h.Rect],{setShape:function(f){this.shape=
t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var h=this.shape;f.width=h.width;f.height=h.height;f.radiusX=f.radiusY=h.r;return this._applyTransform()},_getAdjustedMatrix:function(){var f=this.matrix,h=this.shape,h={dx:h.x,dy:h.y};return new t.Matrix2D(f?[f,h]:h)}});E.Rect.nodeType="Rectangle";E.Ellipse=w("dojox.gfx.silverlight.Ellipse",[E.Shape,h.Ellipse],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var h=this.shape;f.width=2*h.rx;f.height=
2*h.ry;return this._applyTransform()},_getAdjustedMatrix:function(){var f=this.matrix,h=this.shape,h={dx:h.cx-h.rx,dy:h.cy-h.ry};return new t.Matrix2D(f?[f,h]:h)}});E.Ellipse.nodeType="Ellipse";E.Circle=w("dojox.gfx.silverlight.Circle",[E.Shape,h.Circle],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;f.width=f.height=2*this.shape.r;return this._applyTransform()},_getAdjustedMatrix:function(){var f=this.matrix,h=this.shape,h={dx:h.cx-h.r,dy:h.cy-h.r};
return new t.Matrix2D(f?[f,h]:h)}});E.Circle.nodeType="Ellipse";E.Line=w("dojox.gfx.silverlight.Line",[E.Shape,h.Line],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var h=this.shape;f.x1=h.x1;f.y1=h.y1;f.x2=h.x2;f.y2=h.y2;return this}});E.Line.nodeType="Line";E.Polyline=w("dojox.gfx.silverlight.Polyline",[E.Shape,h.Polyline],{setShape:function(f,h){f&&f instanceof Array?(this.shape=t.makeParameters(this.shape,{points:f}),h&&this.shape.points.length&&
this.shape.points.push(this.shape.points[0])):this.shape=t.makeParameters(this.shape,f);this.bbox=null;this._normalizePoints();for(var l=this.shape.points,m=[],p=0;p<l.length;++p)m.push(l[p].x,l[p].y);this.rawNode.points=m.join(",");return this}});E.Polyline.nodeType="Polyline";E.Image=w("dojox.gfx.silverlight.Image",[E.Shape,h.Image],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var h=this.shape;f.width=h.width;f.height=h.height;f.source=h.src;return this._applyTransform()},
_getAdjustedMatrix:function(){var f=this.matrix,h=this.shape,h={dx:h.x,dy:h.y};return new t.Matrix2D(f?[f,h]:h)},setRawNode:function(f){this.rawNode=f;this.rawNode.tag=this.getUID()}});E.Image.nodeType="Image";E.Text=w("dojox.gfx.silverlight.Text",[E.Shape,h.Text],{setShape:function(f){this.shape=t.makeParameters(this.shape,f);this.bbox=null;f=this.rawNode;var h=this.shape;f.text=""+h.text;f.textDecorations="underline"===h.decoration?"Underline":"None";f["Canvas.Left"]=-1E4;f["Canvas.Top"]=-1E4;this._delay||
(this._delay=window.setTimeout(C.hitch(this,"_delayAlignment"),10));return this},_delayAlignment:function(){var f=this.rawNode,h=this.shape,l,m;try{l=f.actualWidth,m=f.actualHeight}catch(p){return}var q=h.x;m=h.y-.75*m;switch(h.align){case "middle":q-=l/2;break;case "end":q-=l}this._delta={dx:q,dy:m};f["Canvas.Left"]=0;f["Canvas.Top"]=0;this._applyTransform();delete this._delay},_getAdjustedMatrix:function(){var f=this.matrix,h=this._delta;return new t.Matrix2D(f?h?[f,h]:f:h?h:{})},setStroke:function(){return this},
_setFillAttr:function(f){this.rawNode.foreground=f},setRawNode:function(f){this.rawNode=f;this.rawNode.tag=this.getUID()},getTextWidth:function(){return this.rawNode.actualWidth},getBoundingBox:function(){var f=null,h=this.getShape().text,l=this.rawNode,m=0,p=0;if(!t._base._isRendered(this))return{x:0,y:0,width:0,height:0};if(h){try{m=l.actualWidth,p=l.actualHeight}catch(q){return null}f=t._base._computeTextLocation(this.getShape(),m,p,!0);f={x:f.x,y:f.y,width:m,height:p}}return f}});E.Text.nodeType=
"TextBlock";E.Path=w("dojox.gfx.silverlight.Path",[E.Shape,m.Path],{_updateWithSegment:function(f){this.inherited(arguments);var h=this.shape.path;"string"==typeof h&&(this.rawNode.data=h?h:null)},setShape:function(f){this.inherited(arguments);var h=this.shape.path;this.rawNode.data=h?h:null;return this}});E.Path.nodeType="Path";E.TextPath=w("dojox.gfx.silverlight.TextPath",[E.Shape,m.TextPath],{_updateWithSegment:function(f){},setShape:function(f){},_setText:function(){}});E.TextPath.nodeType="text";
var P={},R=new Function;E.Surface=w("dojox.gfx.silverlight.Surface",h.Surface,{constructor:function(){h.Container._init.call(this)},destroy:function(){this.clear(!0);window[this._onLoadName]=R;delete P[this._nodeName];this.inherited(arguments)},setDimensions:function(f,h){this.width=t.normalizedLength(f);this.height=t.normalizedLength(h);var l=this.rawNode&&this.rawNode.getHost();l&&(l.width=f,l.height=h);return this},getDimensions:function(){var f=this.rawNode&&this.rawNode.getHost(),f=f?{width:f.content.actualWidth,
height:f.content.actualHeight}:null;0>=f.width&&(f.width=this.width);0>=f.height&&(f.height=this.height);return f}});E.createSurface=function(f,h,m){if(!h&&!m){var p=l.position(f);h=h||p.w;m=m||p.h}"number"==typeof h&&(h+="px");"number"==typeof m&&(m+="px");var q=new E.Surface;f=x.byId(f);q._parent=f;q._nodeName=t._base._getUniqueId();p=f.ownerDocument.createElement("script");p.type="text/xaml";p.id=t._base._getUniqueId();p.text="\x3c?xml version\x3d'1.0'?\x3e\x3cCanvas xmlns\x3d'http://schemas.microsoft.com/client/2007' Name\x3d'"+
q._nodeName+"'/\x3e";f.parentNode.insertBefore(p,f);q._nodes.push(p);var r=t._base._getUniqueId(),w="__"+t._base._getUniqueId()+"_onLoad";q._onLoadName=w;window[w]=function(h){q.rawNode||(q.rawNode=x.byId(r,f.ownerDocument).content.root,P[q._nodeName]=f,q.onLoad(q))};p=y("safari")?"\x3cembed type\x3d'application/x-silverlight' id\x3d'"+r+"' width\x3d'"+h+"' height\x3d'"+m+" background\x3d'transparent' source\x3d'#"+p.id+"' windowless\x3d'true' maxFramerate\x3d'60' onLoad\x3d'"+w+"' onError\x3d'__dojoSilverlightError' /\x3e\x3ciframe style\x3d'visibility:hidden;height:0;width:0'/\x3e":
"\x3cobject type\x3d'application/x-silverlight' data\x3d'data:application/x-silverlight,' id\x3d'"+r+"' width\x3d'"+h+"' height\x3d'"+m+"'\x3e\x3cparam name\x3d'background' value\x3d'transparent' /\x3e\x3cparam name\x3d'source' value\x3d'#"+p.id+"' /\x3e\x3cparam name\x3d'windowless' value\x3d'true' /\x3e\x3cparam name\x3d'maxFramerate' value\x3d'60' /\x3e\x3cparam name\x3d'onLoad' value\x3d'"+w+"' /\x3e\x3cparam name\x3d'onError' value\x3d'__dojoSilverlightError' /\x3e\x3c/object\x3e";f.innerHTML=
p;p=x.byId(r,f.ownerDocument);p.content&&p.content.root?(q.rawNode=p.content.root,P[q._nodeName]=f):(q.rawNode=null,q.isLoaded=!1);q._nodes.push(p);q.width=t.normalizedLength(h);q.height=t.normalizedLength(m);return q};__dojoSilverlightError=function(f,h){};var N=h.Container;q={add:function(f){this!=f.getParent()&&(N.add.apply(this,arguments),this.rawNode.children.add(f.rawNode));return this},remove:function(f,h){if(this==f.getParent()){var l=f.rawNode.getParent();l&&l.children.remove(f.rawNode);
N.remove.apply(this,arguments)}return this},clear:function(){this.rawNode.children.clear();return N.clear.apply(this,arguments)},getBoundingBox:N.getBoundingBox,_moveChildToFront:N._moveChildToFront,_moveChildToBack:N._moveChildToBack};w={createObject:function(f,h){if(!this.rawNode)return null;var l=new f,m=this.rawNode.getHost().content.createFromXaml("\x3c"+f.nodeType+"/\x3e");l.setRawNode(m);l.setShape(h);this.add(l);return l}};C.extend(E.Text,{_setFont:function(){var f=this.fontStyle,h=this.rawNode,
l=f.family.toLowerCase();h.fontStyle="italic"==f.style?"Italic":"Normal";h.fontWeight=f.weight in M?M[f.weight]:f.weight;h.fontSize=t.normalizedLength(f.size);h.fontFamily=l in J?J[l]:f.family;this._delay||(this._delay=window.setTimeout(C.hitch(this,"_delayAlignment"),10))}});C.extend(E.Group,q);C.extend(E.Group,h.Creator);C.extend(E.Group,w);C.extend(E.Surface,q);C.extend(E.Surface,h.Creator);C.extend(E.Surface,w);var aa={onclick:{name:"MouseLeftButtonUp",fix:H},onmouseenter:{name:"MouseEnter",fix:H},
onmouseleave:{name:"MouseLeave",fix:H},onmouseover:{name:"MouseEnter",fix:H},onmouseout:{name:"MouseLeave",fix:H},onmousedown:{name:"MouseLeftButtonDown",fix:H},onmouseup:{name:"MouseLeftButtonUp",fix:H},onmousemove:{name:"MouseMove",fix:H},onkeydown:{name:"KeyDown",fix:K},onkeyup:{name:"KeyUp",fix:K}};q={connect:function(f,h,l){return this.on(f,l?C.hitch(h,l):h)},on:function(f,h){if("string"===typeof f){0===f.indexOf("mouse")&&(f="on"+f);var l,m=f in aa?aa[f]:{name:f,fix:function(){return{}}};l=
this.getEventSource().addEventListener(m.name,function(f,l){h(m.fix(f,l))});return{name:m.name,token:l,remove:C.hitch(this,function(){this.getEventSource().removeEventListener(m.name,l)})}}return p(this,f,h)},disconnect:function(f){return f.remove()}};C.extend(E.Shape,q);C.extend(E.Surface,q);t.equalSources=function(f,h){return f&&h&&f.equals(h)};return E})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(q,C,w){q._name="browser";C.mixin(q,{isBrowser:!0,isFF:w("ff"),
isIE:w("ie"),isKhtml:w("khtml"),isWebKit:w("webkit"),isMozilla:w("mozilla"),isMoz:w("mozilla"),isOpera:w("opera"),isSafari:w("safari"),isChrome:w("chrome"),isMac:w("mac"),isIos:w("ios"),isAndroid:w("android"),isWii:w("wii"),isQuirks:w("quirks"),isAir:w("air")});return w})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(q,C,w){var z={global:q.global,doc:q.global.document||null,body:function(p){p=p||q.doc;return p.body||p.getElementsByTagName("body")[0]},setContext:function(p,
f){q.global=z.global=p;q.doc=z.doc=f},withGlobal:function(p,f,l,w){var y=q.global;try{return q.global=z.global=p,z.withDoc.call(null,p.document,f,l,w)}finally{q.global=z.global=y}},withDoc:function(p,f,l,x){var y=z.doc,t=w("quirks"),h=w("ie"),m,r,C;try{return q.doc=z.doc=p,q.isQuirks=w.add("quirks","BackCompat"==q.doc.compatMode,!0,!0),w("ie")&&(C=p.parentWindow)&&C.navigator&&(m=parseFloat(C.navigator.appVersion.split("MSIE ")[1])||void 0,(r=p.documentMode)&&5!=r&&Math.floor(m)!=r&&(m=r),q.isIE=
w.add("ie",m,!0,!0)),l&&"string"==typeof f&&(f=l[f]),f.apply(l,x||[])}finally{q.doc=z.doc=y,q.isQuirks=w.add("quirks",t,!0,!0),q.isIE=w.add("ie",h,!0,!0)}}};C.mixin(q,z);return z})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(q,C){return function(w,z,p,f){var l=w&&"function"===typeof w.then,x=l&&w instanceof C;if(!l)return 1<arguments.length?z?z(w):w:(new q).resolve(w);x||(l=new q(w.cancel),w.then(l.resolve,l.reject,l.progress),w=l.promise);return z||p||f?w.then(z,p,
f):w}})},"dojo/errors/RequestError":function(){define(["./create"],function(q){return q("RequestError",function(q,w){this.response=w})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(q,C,w,z,p,f,l,x,y,t,h,m,r,H,K,E,F,M,Q,L,J,P,R){function N(f){return function(h){x[h?"set":"remove"](this.domNode,f,h);this._set(f,h)}}r.add("dojo-bidi",!1);var aa={};q=f("dijit._WidgetBase",[M,J],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:N("lang"),dir:"",_setDirAttr:N("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(f){this._set("ownerDocument",
f)},attributeMap:{},_blankGif:z.blankGif||q.toUrl("dojo/resources/blank.gif"),_introspect:function(){var f=this.constructor;if(!f._setterAttrs){var h=f.prototype,l=f._setterAttrs=[],f=f._onMap={},m;for(m in h.attributeMap)l.push(m);for(m in h)/^on/.test(m)&&(f[m.substring(2).toLowerCase()]=m),/^_set[A-Z](.*)Attr$/.test(m)&&(m=m.charAt(4).toLowerCase()+m.substr(5,m.length-9),h.attributeMap&&m in h.attributeMap||l.push(m))}},postscript:function(f,h){this.create(f,h)},create:function(f,h){this._introspect();
this.srcNodeRef=l.byId(h);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);f&&(this.params=f,K.mixin(this,f));this.postMixInProperties();this.id||(this.id=R.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=L.body(this.ownerDocument);R.add(this);this.buildRendering();
var m;if(this.domNode){this._applyAttributes();var p=this.srcNodeRef;p&&p.parentNode&&this.domNode!==p&&(p.parentNode.replaceChild(this.domNode,p),m=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();m&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var f={},h;for(h in this.params||{})f[h]=this._get(h);C.forEach(this.constructor._setterAttrs,function(h){if(!(h in f)){var l=this._get(h);l&&this.set(h,l)}},this);for(h in f)this.set(h,f[h])},postMixInProperties:function(){},
buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var f=this.baseClass.split(" ");this.isLeftToRight()||(f=f.concat(C.map(f,function(f){return f+"Rtl"})));y.add(this.domNode,f)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,C.forEach(this.getChildren(),function(f){f._started||f._destroyed||!K.isFunction(f.startup)||(f.startup(),f._started=!0)}))},destroyRecursive:function(f){this._beingDestroyed=
!0;this.destroyDescendants(f);this.destroy(f)},destroy:function(f){function h(l){l.destroyRecursive?l.destroyRecursive(f):l.destroy&&l.destroy(f)}this._beingDestroyed=!0;this.uninitialize();C.forEach(this._connects,K.hitch(this,"disconnect"));C.forEach(this._supportingWidgets,h);this.domNode&&C.forEach(R.findWidgets(this.domNode,this.containerNode),h);this.destroyRendering(f);R.remove(this.id);this._destroyed=!0},destroyRendering:function(f){this.bgIframe&&(this.bgIframe.destroy(f),delete this.bgIframe);
this.domNode&&(f?x.remove(this.domNode,"widgetId"):t.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(f||t.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(f){C.forEach(this.getChildren(),function(h){h.destroyRecursive&&h.destroyRecursive(f)})},uninitialize:function(){return!1},_setStyleAttr:function(f){var h=this.domNode;K.isObject(f)?m.set(h,f):h.style.cssText=h.style.cssText?h.style.cssText+("; "+f):f;this._set("style",f)},_attrToDom:function(f,h,l){l=3<=
arguments.length?l:this.attributeMap[f];C.forEach(K.isArray(l)?l:[l],function(l){var m=this[l.node||l||"domNode"];switch(l.type||"attribute"){case "attribute":K.isFunction(h)&&(h=K.hitch(this,h));l=l.attribute?l.attribute:/^on[A-Z][a-zA-Z]*$/.test(f)?f.toLowerCase():f;m.tagName?x.set(m,l,h):m.set(l,h);break;case "innerText":m.innerHTML="";m.appendChild(this.ownerDocument.createTextNode(h));break;case "innerHTML":m.innerHTML=h;break;case "class":y.replace(m,h,this[f])}},this)},get:function(f){var h=
this._getAttrNames(f);return this[h.g]?this[h.g]():this._get(f)},set:function(f,h){if("object"===typeof f){for(var l in f)this.set(l,f[l]);return this}l=this._getAttrNames(f);var m=this[l.s];if(K.isFunction(m))var p=m.apply(this,Array.prototype.slice.call(arguments,1));else{var m=this.focusNode&&!K.isFunction(this.focusNode)?"focusNode":"domNode",q=this[m]&&this[m].tagName,r;if((r=q)&&!(r=aa[q])){r=this[m];var t={},w;for(w in r)t[w.toLowerCase()]=!0;r=aa[q]=t}w=r;l=f in this.attributeMap?this.attributeMap[f]:
l.s in this?this[l.s]:w&&l.l in w&&"function"!=typeof h||/^aria-|^data-|^role$/.test(f)?m:null;null!=l&&this._attrToDom(f,h,l);this._set(f,h)}return p||this},_attrPairNames:{},_getAttrNames:function(f){var h=this._attrPairNames;if(h[f])return h[f];var l=f.replace(/^[a-z]|-[a-zA-Z]/g,function(f){return f.charAt(f.length-1).toUpperCase()});return h[f]={n:f+"Node",s:"_set"+l+"Attr",g:"_get"+l+"Attr",l:l.toLowerCase()}},_set:function(f,h){var l=this[f];this[f]=h;!this._created||l===h||l!==l&&h!==h||(this._watchCallbacks&&
this._watchCallbacks(f,l,h),this.emit("attrmodified-"+f,{detail:{prevValue:l,newValue:h}}))},_get:function(f){return this[f]},emit:function(f,h,l){h=h||{};void 0===h.bubbles&&(h.bubbles=!0);void 0===h.cancelable&&(h.cancelable=!0);h.detail||(h.detail={});h.detail.widget=this;var m,p=this["on"+f];p&&(m=p.apply(this,l?l:[h]));this._started&&!this._beingDestroyed&&E.emit(this.domNode,f.toLowerCase(),h);return m},on:function(f,h){var l=this._onMap(f);return l?w.after(this,l,h,!0):this.own(E(this.domNode,
f,h))[0]},_onMap:function(f){var h=this.constructor,l=h._onMap;if(!l){var l=h._onMap={},m;for(m in h.prototype)/^on/.test(m)&&(l[m.replace(/^on/,"").toLowerCase()]=m)}return l["string"==typeof f&&f.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?R.findWidgets(this.containerNode):[]},getParent:function(){return R.getEnclosingWidget(this.domNode.parentNode)},connect:function(f,h,l){return this.own(p.connect(f,
h,this,l))[0]},disconnect:function(f){f.remove()},subscribe:function(f,h){return this.own(Q.subscribe(f,K.hitch(this,h)))[0]},unsubscribe:function(f){f.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:h.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=m.get(this.domNode,"display")},placeAt:function(f,h){var m=!f.tagName&&R.byId(f);!m||!m.addChild||h&&"number"!==typeof h?(m=m&&"domNode"in m?m.containerNode&&!/after|before|replace/.test(h||"")?m.containerNode:
m.domNode:l.byId(f,this.ownerDocument),t.place(this.domNode,m,h),!this._started&&(this.getParent()||{})._started&&this.startup()):m.addChild(this,h);return this},defer:function(f,h){var l=setTimeout(K.hitch(this,function(){l&&(l=null,this._destroyed||K.hitch(this,f)())}),h||0);return{remove:function(){l&&(clearTimeout(l),l=null);return null}}}});r("dojo-bidi")&&q.extend(P);return q})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(q,C,w,z,p,f,l,x,y,t,h,m){return C("dojo.dnd.Moveable",[f],{handle:"",delay:0,skip:!1,constructor:function(f,m){this.node=z.byId(f);m||(m={});this.handle=m.handle?z.byId(m.handle):null;this.handle||(this.handle=this.node);this.delay=0<m.delay?m.delay:0;this.skip=m.skip;this.mover=m.mover?m.mover:h;this.events=[l(this.handle,y.press,w.hitch(this,"onMouseDown")),l(this.handle,"dragstart",w.hitch(this,"onSelectStart")),l(this.handle,"selectstart",w.hitch(this,"onSelectStart"))]},markupFactory:function(f,
h,l){return new l(h,f)},destroy:function(){q.forEach(this.events,function(f){f.remove()});this.events=this.node=this.handle=null},onMouseDown:function(f){if(!this.skip||!t.isFormElement(f)){if(this.delay)this.events.push(l(this.handle,y.move,w.hitch(this,"onMouseMove")),l(this.handle,y.release,w.hitch(this,"onMouseUp"))),this._lastX=f.pageX,this._lastY=f.pageY;else this.onDragDetected(f);f.stopPropagation();f.preventDefault()}},onMouseMove:function(f){if(Math.abs(f.pageX-this._lastX)>this.delay||
Math.abs(f.pageY-this._lastY)>this.delay)this.onMouseUp(f),this.onDragDetected(f);f.stopPropagation();f.preventDefault()},onMouseUp:function(f){for(var h=0;2>h;++h)this.events.pop().remove();f.stopPropagation();f.preventDefault()},onSelectStart:function(f){this.skip&&t.isFormElement(f)||(f.stopPropagation(),f.preventDefault())},onDragDetected:function(f){new this.mover(this.node,f,this)},onMoveStart:function(f){x.publish("/dnd/move/start",f);p.add(m.body(),"dojoMove");p.add(this.node,"dojoMoveItem")},
onMoveStop:function(f){x.publish("/dnd/move/stop",f);p.remove(m.body(),"dojoMove");p.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(f,h){this.onMoving(f,h);var l=f.node.style;l.left=h.l+"px";l.top=h.t+"px";this.onMoved(f,h)},onMoving:function(){},onMoved:function(){}})})},"url:dijit/form/templates/VerticalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderV" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"leftDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationL dijitSliderDecorationV"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderDecorationC" style\x3d"height:100%;"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3ccenter class\x3d"dijitReset dijitSliderBarContainerV" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c!--#5629--\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableV" style\x3d"vertical-align:top;"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleV" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,rightDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationR dijitSliderDecorationV"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3ccenter\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\x3e\x3c/center\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconV" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n'}});
define("tm1webRave/amdcompatibility",["require"],function(q){function C(w){var z,p;(function(){var f=define;q("dojo/dnd/Moveable dojo/on dojo/i18n dojo/dom-geometry dojo/_base/event dijit/registry dojo/dom-attr dijit/_WidgetsInTemplateMixin dojo/dnd/Mover dojo/number dojo/dom-style dijit/layout/_LayoutWidget dojox/string/BidiEngine dojo/_base/Color dijit/form/VerticalSlider dojo/_base/config dojo/_base/Deferred dojo/date/locale dojo/has dojo/_base/kernel dijit/_TemplatedMixin dijit/_WidgetBase dojo/keys dojo/_base/sniff dojo/_base/window dojo/dom-construct dojo/date dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/json dojo/dnd/move dojo/dom".split(" "),
function(l,x,y,t,h,m,r,C,K,E,F,M,Q,L,J,P,R,N,aa,ba,ma,fa,Z,la,W,ea,ha,U,X,S,na,ja,da){var b={};b.com_ibm_rave_codegenerator_lang_Object=function(){var a=function(){var a=0;return function(d){if(d instanceof String||"string"==typeof d){for(var b=0,c=d.length,e=0;e<c;e++)b=31*b+d.charCodeAt(e);return b}return d instanceof Number||"Number"==typeof d?17*d.valueOf()|0:null==d||"undefined"==typeof d?0:31*++a|0}}(),d=function(a){return this==a},b=function(a){return this==a?!0:null==a?!1:"function"===typeof a.valueOf&&
"function"===typeof this.valueOf?this.valueOf()==a.valueOf():!1},e=function(){var d=a(this);this.hashCode=function(){return d};return d};(function(){function a(d,b,c){g?d[b]=c:Object.defineProperty(d,b,{value:c,enumerable:!1,writable:!0})}var g=9>function(){var a;if(document.all){a=parseFloat(navigator.appVersion.split("MSIE ")[1])||void 0;var d=document.documentMode;d&&5!=d&&Math.floor(a)!=d&&(a=d)}return a}()||"function"!==typeof Object.defineProperty;a(Number.prototype,"equals",b);a(String.prototype,
"equals",d);a(Boolean.prototype,"equals",d);a(Number.prototype,"hashCode",e);a(String.prototype,"hashCode",e);a(Boolean.prototype,"hashCode",e)})();var g=function(){};g.prototype.equals=d;g.prototype.hashCode=e;g.hookEquals=function(a){null==a.equals&&(a.equals=g.hitch(a,d));return a};g.hookHashCode=function(a){null==a.hashCode&&(a.hashCode=g.hitch(a,e));return a};g.hook=function(a){g.hookEquals(a);g.hookHashCode(a);return a};g.isInstanceOf=function(a,d){if(a){if(a instanceof d)return!0;if("function"===
typeof a.isInstanceOf)return a.isInstanceOf(d)}return!1};g.hitch=function(a,d){return function(){return d.apply(a,arguments||[])}};var k={},s="hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "),v=!0,f;for(f in{toString:1})v=!1;g.mixin=function(a,d){for(var b in d){var c=d[b];b in a&&(a[b]===c||b in k&&k[b]===c)||(a[b]=c)}if(v&&d)for(var e=0;e<s.length;++e)b=s[e],c=d[b],b in a&&(a[b]===c||b in k&&k[b]===c)||(a[b]=c)};g.delegate=function(){function a(){}
return function(d,b){a.prototype=d;var c=new a;a.prototype=null;b&&g.mixin(c,b);return c}}();g.getPrototypeOf=Object.getPrototypeOf;"function"!==typeof Object.getPrototypeOf&&(g.getPrototypeOf="object"===typeof"".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});return g}();b.com_ibm_rave_codegenerator_lang_Array=function(){var a=function(d,b,e,g){var k=b[g],s=Array(k);if(g==d)for(var v=0;v<k;++v)s[v]=e;else for(v=0;v<k;++v)s[v]=a(d,b,e,g+1);return s};return{create:function(d,
b){return null==d?[]:1==d.length&&null==b?Array(d[0]):a(d.length-1,d,b,0)},indexOf:function(a,b){for(var e=0;e<a.length;e++)if(a[e]==b)return e;return-1}}}();b.com_ibm_init_statics={add:function(a){this._initializers||(this._initializers=[]);this._initializers.push(a)},initialize:function(){var a=this._initializers;if(a){for(var d=0,b=a.length;d<b;d++)a[d]();this._initializers=null}}};b.com_ibm_rave_codegenerator_lang_Character={digit:function(a,d){return parseInt(a,d)}};Error.prototype.getMessage=
function(){return this.message};(function(){var a=String.prototype;a.indexOfCharCode=function(a,b){return this.indexOf(String.fromCharCode(a),b)};a.toCharArray=function(){for(var a=[],b=0,e=this.length;b<e;b++)a.push(this.charCodeAt(b));return a};a.lastIndexOfCharCode=function(a,b){return this.lastIndexOf(String.fromCharCode(a),b)};a.CPVisEngineLength=function(){return this.length};a.CPVisEngineIsEmpty=function(){return 0===this.length};a.CPVISEngineEndsWith=function(a){return-1!==this.indexOf(a,
this.length-a.length)};a.CPVISEngineContains=function(a){return 0<=this.indexOf(a)};a.CPVISEngineStartsWith=function(a){return this.slice(0,a.length)==a};a.CPVISEngineTrim=a.trim?a.trim:function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};a.CPVisEngineReplace=function(a,b){var e=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26");return this.replace(new RegExp(e,"g"),b)};a.CPVisEngineReplaceAll=function(a,b){return this.replace(new RegExp(a,"g"),b)};String.CPVisEngineValueOf=function(a){return null==
a?new String(a):a.toString()};String.copyValueOf=function(a,b,e){1==arguments.length&&(b=0,e=a.length);if(0<=b&&0<=e&&e<=a.length-b){for(var g="",k=b+e,s=b;s<k;++s)g+=String.fromCharCode(a[s]);return g}throw Error("StringIndexOutOfBounds");}})();b.com_ibm_rave_codegenerator_lang_Double={valueOf:function(a){a=Number(a);if(isNaN(a))throw Error("NumberFormatException: "+a);return a},parseDouble:function(a){return b.com_ibm_rave_codegenerator_lang_Double.valueOf(a)},isNaN:function(a){return a!=a},isInfinite:function(a){return a==
Number.NEGATIVE_INFINITY||a==Number.POSITIVE_INFINITY},NaN:Number.NaN,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY,MAX_VALUE:Number.MAX_VALUE,MIN_VALUE:Number.MIN_VALUE};b.com_ibm_rave_codegenerator_lang_Integer={toString:function(a){return a.toString()},parseInt:function(a){return parseInt(a,10)}};(function(){var a=Number.prototype;a.notEquals=function(a){return!this.equals(a)};a.lessThan=function(a){return this.valueOf()<a.valueOf()};a.greaterThan=function(a){return this.valueOf()>
a.valueOf()};a.lessThanOrEqual=function(a){return this.valueOf()<=a.valueOf()};a.greaterThanOrEqual=function(a){return this.valueOf()>=a.valueOf()};a.add=function(a){return this.valueOf()+a.valueOf()};a.subtract=function(a){return this.valueOf()-a.valueOf()};a.multiply=function(a){return this.valueOf()*a.valueOf()};a.div=function(a){return this.valueOf()/a.valueOf()};a.modulo=function(a){return this.valueOf()%a.valueOf()};a.and=function(a){return this.valueOf()&a.valueOf()};a.or=function(a){return this.valueOf()|
a.valueOf()};a.xor=function(a){return this.valueOf()^a.valueOf()};a.increment=function(){return this.valueOf()+1};a.decrement=function(){return this.valueOf()-1};a.postIncrement=function(){return this.valueOf()};a.postDecrement=function(){return this.valueOf()};a.not=function(){return~this.valueOf()};a.negate=function(){return-this.valueOf()};a.shiftLeft=function(a){return this.valueOf()<<a};a.shiftRight=function(a){return this.valueOf()>>a};a.shiftRightUnsigned=function(a){return this.valueOf()>>>
a};a.intValue=function(){return this.valueOf()|0};a.doubleValue=function(){return this.valueOf()};Number.valueOf=function(a){return null==a?null:a.valueOf()}})();Math.hypot=function(a,d){return Math.sqrt(a*a+d*d)};b.com_ibm_init_ready=function(a){setTimeout(a,0)};b.com_ibm_rave_codegenerator_util_Arrays={sort:function(a,d){0<a.length&&(d?a.sort(function(a,b){return d.compare(a,b)}):"function"===typeof a[0].compareTo?a.sort(function(a,d){return a.compareTo(d)}):a.sort())},sortNumber:function(a){0<
a.length&&a.sort(function(a,b){return a-b})},copyOf:function(a,d){if(0<=d)return b.com_ibm_rave_codegenerator_util_Arrays.copyOfRange(a,0,d);throw Error("NegativeArraySizeException");},copyOfRange:function(a,d,b){if(d<=b){if(a.length>=d&&0<=d){d=a.slice(d,b);if(b>a.length){var e=null;"boolean"==typeof d[0]?e=!1:"number"==typeof d[0]&&(e=0);for(a=a.length;a<b;a++)d.push(e)}return d}throw Error("ArrayIndexOutOfBoundsException");}throw Error("IllegalArgumentException");}};b.com_ibm_init_xhr=function(){function a(a,
e){var g=d();if(g)try{var k=function(){if(4==g.readyState&&!I)if(I=!0,200<=g.status&&300>g.status||304===g.status||1223===g.status||!g.status)try{var d,e=b.com_ibm_init_xhr.handlers[a.handleAs||"text"];d=e?e(g,a.url):g;a.load&&a.load(d)}catch(k){a.error&&a.error(g,k)}else a.error&&a.error(g)},s=a.sync;g.open(e,a.url,!s,a.user||void 0,a.password||void 0);var v=a.headers;if(v)for(var f in v)v.hasOwnProperty(f)&&g.setRequestHeader(f,v[f]);a.postData&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var I=!1;"undefined"!=typeof g.onload?g.onload=k:g.onreadystatechange=k;a.error&&"undefined"!=typeof g.onerror&&(g.onerror=function(){a.error(g)});g.send(a.postData);s&&k()}catch(h){a.error&&a.error(g,h)}}var d=function(){for(var a=aa("dojo-force-activex-xhr"),b=[function(){return a?null:new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],g=0;g<b.length;g++)try{d=
b[g];var k=d();if(null!=k)return k}catch(s){}};return{get:function(d){a(d,"GET")},post:function(d,b){b&&(d.postData=b);a(d,"POST")},put:function(d){a(d,"PUT")},del:function(d){a(d,"DELETE")},handlers:{text:function(a){return a.responseText},json:function(a){return JSON.parse(a.responseText)},xml:function(a){return a.responseXML},javascript:function(a,d){var b=a.responseText;b&&(window.execScript||function(a){window.eval.call(window,a)})(b+("\r\n////@ sourceURL\x3d"+d))},xhr:function(a){return a}}}}();
b.com_ibm_init_resolver=function(){function a(a){var b,g,k;for(k in d)if(d.hasOwnProperty(k)&&0==a.indexOf(k)){var s=d[k];if(!b||s.length>g.length)b=k,g=s}return baseUrl+g+a.substring(b.length)}var d;return{setPaths:function(c){d=c;b.com_ibm_init_resolver.toUrl=a},toUrl:q?q.toUrl:function(a){return a},baseUrl:""}}();b.com_ibm_vis_widget_Environment=function(){function a(){return null!=navigator.userAgent.match(/iPad/i)}function d(){return"iPhone"==navigator.platform?!0:!1}function b(){var a=navigator.userAgent;
if(a){if(-1!=navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident/)){var d=a.indexOf("MSIE");return parseFloat(a.substring(d+5))}if(-1==navigator.userAgent.indexOf("MSIE")&&navigator.userAgent.match(/Trident\/7.0/))return 11}return-1}return{_checkIpad:a,_checkIphone:d,_checkAppleDevice:function(){return navigator.userAgent&&-1!=navigator.userAgent.toLowerCase().indexOf("mac os x")?!0:!1},checkBrowserSupportedConfiguration:function(){if(a()||d())return 0;var e;e=navigator.userAgent&&
-1!=navigator.userAgent.indexOf("Chrome")?!0:!1;if(e)return 0;e=window.opera?!0:!1;if(e)return 4;e=b();var g,k=-1;if(e&&-1!=e)try{g=new ActiveXObject("AgControl.AgControl"),k=g.isVersionSupported("5.0")?5:g.isVersionSupported("4.0")?4:g.isVersionSupported("3.0")?3:g.isVersionSupported("2.0")?2:1}catch(s){}else try{var v=navigator.plugins["Silverlight Plug-In"];v&&(k=v.description)}catch(f){}g=k;v="CSS1Compat"===document.compatMode?"Standards":"Quirks";if(7<=e&&8>=e)return 5<=g?0:1;if(9==e)return"Quirks"==
v&&5>g?5:0;if(10==e)return e=document.compatMode,g=document.documentMode,e="BackCompat"==e&&5==g?"IE5Quirks":"BackCompat"==e&&10==g?"IE10Quirks":null,null!=e&&"IE5Quirks"==e?6:0;if(11==e)return 0;if(-1!=e)return 2;a:{if(navigator.userAgent&&(e=navigator.userAgent.toLowerCase(),-1!=e.indexOf("safari")&&!(-1<e.indexOf("chrome")))){e=!0;break a}e=!1}if(e)return 0;navigator.userAgent&&-1!=navigator.userAgent.indexOf("Firefox")?(e=navigator.userAgent.indexOf("Firefox"),e=-1==e?-1:parseFloat(navigator.userAgent.substring(e+
8))):e=-1;if(-1==e||3.6>=e)return 3;if(3.6<e)return 0}}}();b.com_ibm_vis_engine_internal_nativeImpl_render_SilverlightAsynchAlwaysPatch=function(){if("silverlight"==z.renderer&&!P.dontPatchSLCreateSurface){var a=function(a,d){var b={keyCode:d.platformKeyCode,ctrlKey:d.ctrl,shiftKey:d.shift};try{d.source&&(b.target=d.source)}catch(c){}return b},d=function(a,d){var b={target:a,currentTarget:a,preventDefault:function(){},stopPropagation:function(){}};try{d.source&&(b.target=d.source)}catch(c){}if(d)try{b.ctrlKey=
d.ctrl;b.shiftKey=d.shift;var e=d.getPosition(null);b.x=b.offsetX=b.layerX=e.x;b.y=b.offsetY=b.layerY=e.y;var k=g[a.getHost().content.root.name],s=t.position(k);b.clientX=s.x+e.x;b.clientY=s.y+e.y}catch(f){}return b},b=z.shape,e=z.silverlight,g={},k=new Function;e.Surface.extend({destroy:function(){window[this._onLoadName]=k;delete g[this._nodeName];b.Surface.prototype.destroy.apply(this,arguments)}});z.createSurface=e.createSurface=function(a,d,b){try{if(!d&&!b){var c=t.position(a);d=d||c.w;b=b||
c.h}"number"==typeof d&&(d+="px");"number"==typeof b&&(b+="px");var k=new e.Surface;a=da.byId(a);k._parent=a;k._nodeName=z._base._getUniqueId();var s=a.ownerDocument.createElement("script");s.type="text/xaml";s.id=z._base._getUniqueId();s.text="\x3c?xml version\x3d'1.0'?\x3e\x3cCanvas xmlns\x3d'http://schemas.microsoft.com/client/2007' Name\x3d'"+k._nodeName+"'/\x3e";a.parentNode.insertBefore(s,a);k._nodes.push(s);var f,h=z._base._getUniqueId(),l="__"+z._base._getUniqueId()+"_onLoad";k._onLoadName=
l;window[l]=function(d){k.rawNode||(k.rawNode=da.byId(h,a.ownerDocument).content.root,g[k._nodeName]=a,k.onLoad(k))};f=la("safari")?"\x3cembed type\x3d'application/x-silverlight' id\x3d'"+h+"' width\x3d'"+d+"' height\x3d'"+b+" background\x3d'transparent' source\x3d'#"+s.id+"' windowless\x3d'true' maxFramerate\x3d'60' onLoad\x3d'"+l+"' onError\x3d'__dojoSilverlightError' /\x3e\x3ciframe style\x3d'visibility:hidden;height:0;width:0'/\x3e":"\x3cobject type\x3d'application/x-silverlight' data\x3d'data:application/x-silverlight,'  onactivate\x3d'this.parentNode.setActive()' id\x3d'"+
h+"' width\x3d'"+d+"' height\x3d'"+b+"'\x3e\x3cparam name\x3d'background' value\x3d'transparent' /\x3e\x3cparam name\x3d'source' value\x3d'#"+s.id+"' /\x3e\x3cparam name\x3d'windowless' value\x3d'true' /\x3e\x3cparam name\x3d'maxFramerate' value\x3d'60' /\x3e\x3cparam name\x3d'onLoad' value\x3d'"+l+"' /\x3e\x3cparam name\x3d'onError' value\x3d'__dojoSilverlightError' /\x3e\x3c/object\x3e";a.innerHTML=f;var m=da.byId(h,a.ownerDocument);k.rawNode=null;k.isLoaded=!1;k._nodes.push(m);k.width=z.normalizedLength(d);
k.height=z.normalizedLength(b);return k}catch(p){throw p;}};__dojoSilverlightError=function(a,d){};var s={onclick:{name:"MouseLeftButtonUp",fix:d},onmouseenter:{name:"MouseEnter",fix:d},onmouseleave:{name:"MouseLeave",fix:d},onmouseover:{name:"MouseEnter",fix:d},onmouseout:{name:"MouseLeave",fix:d},onmousedown:{name:"MouseLeftButtonDown",fix:d},onmouseup:{name:"MouseLeftButtonUp",fix:d},onmousemove:{name:"MouseMove",fix:d},onkeydown:{name:"KeyDown",fix:a},onkeyup:{name:"KeyUp",fix:a}},a={connect:function(a,
d,b){var c,e=a in s?s[a]:{name:a,fix:function(){return{}}};c=2<arguments.length?this.getEventSource().addEventListener(e.name,function(a,c){S.hitch(d,b)(e.fix(a,c))}):this.getEventSource().addEventListener(e.name,function(a,b){d(e.fix(a,b))});return{name:e.name,token:c}},disconnect:function(a){try{this.getEventSource().removeEventListener(a.name,a.token)}catch(d){}}};S.extend(e.Shape,a);S.extend(e.Surface,a)}};b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil={parseInt:function(a,d){var b;b=16==
d?Number("0x"+a):parseInt(a,d);isNaN(b)&&(b=null);return b}};b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff=function(){var a={},d=window.requirejs,b;b=d?d.s.contexts._.config:P;for(var e=(b.forceGfxRenderer?b.forceGfxRenderer:b.gfxRenderer?b.gfxRenderer:"canvas,silverlight,svg").split(","),g,k;!a.type&&e.length;)switch(b=e.shift()){case "svg":"SVGAngle"in window&&(a.type=b,a.isSvg=!0);break;case "silverlight":try{la("ie")?(g=new ActiveXObject("AgControl.AgControl"))&&g.IsVersionSupported("1.0")&&
(k=!0):navigator.plugins["Silverlight Plug-In"]&&(k=!0)}catch(s){k=!1}finally{g=null}k&&(a.type=b,a.isSilverlight=!0);break;case "canvas":window.CanvasRenderingContext2D&&(a.type=b,a.isCanvas=!0)}a.type&&d&&(P.forceGfxRenderer=a.type);return a}();b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil=function(){function a(a){upgradedString="iw"===a||"iw_IL"===a?"he":a;return upgradedString?upgradedString.CPVisEngineReplace("_","-").toLowerCase():null}function d(a,d){if(!b)return null;var g;switch(a){case "number":case "gregorian":g=
"dojo.cldr";break;case "raveA11y":g="com.ibm.vis.engine.internal.nativeImpl"}if(g=y.getLocalization(g,a,d))e[d]||(e[d]={}),e[d][a]=g;return g}var b=define.amd&&define.amd.vendor&&"dojotoolkit.org"==define.amd.vendor,e={},g="zh th ko iw he uk tr sq sk pt pl nl ms mk lv lt kk is hr gu ga fr es cs ca es_PR en_HK pt_PT es_PY ar_YE hu_HU in_ID en_IE hi_IN te_IN ta_IN pa_IN or_IN mr_IN ml_IN kn_IN en_IN ja_JP_JP en_ZA ar_IQ sq_AL it_IT es_AR de_AT_PREEURO sr_RS_Cyrl nl_BE fr_BE en_BE_PREEURO ar_JO ja_JP es_BO pt_BR sv_SE_PREEURO zh_SG sl_SI_PREEURO sk_SK fr_CA es_SV fr_CH es_CL zh_CN ar_KW es_CO es_CR no_NO_NY th_TH ar_LB el_CY_PREEURO mt_MT_EURO cs_CZ tr_TR de_DE_PREEURO zh_TW sk_SK_EURO lt_LT_PREEURO fr_LU_PREEURO de_LU lv_LV_PREEURO es_DO uk_UA ar_LY ar_MA sr_ME es_US es_EC et_EE_PREEURO es_UY mt_MT en_MT cs_CZ_EURO es_ES ca_ES es_VE nl_NL_PREEURO no_NO fi_FI_PREEURO fr_FR en_NZ hu_HU_EURO ar_OM el_GR_PREEURO es_GT en_PH pl_PL_PREEURO vi ja ar te ta sv sr sl sh ru ro pa no mt mr kn it in hu fi et en el de da bg be zh_HK pt_PT_PREEURO es_HN hr_HR en_GB_EURO hu_HU_PREEURO ar_QA ga_IE en_IE_PREEURO iw_IL ar_AE gu_IN bn_IN is_IS it_IT_PREEURO pl_PL_EURO de_AT th_TH_TH en_AU ro_RO sr_BA sr_RS ru_RU nl_BE_PREEURO fr_BE_PREEURO en_BE bg_BG ar_BH ar_SA ar_SD sv_SE en_SG sl_SI da_DK_EURO be_BY sk_SK_PREEURO lt_LT_EURO lv_LV_EURO en_CA it_CH de_CH ar_SY ko_KR kk_KZ sr_CS sh_CS et_EE_EURO el_CY cs_CZ_PREEURO ar_TN de_DE sv_SE_EURO da_DK lt_LT fr_LU de_LU_PREEURO lv_LV ar_DZ mk_MK en_US et_EE ar_EG el_CY_EURO mt_MT_PREEURO es_MX ms_MY es_ES_PREEURO ca_ES_PREEURO sr_RS_Latn vi_VN es_NI nl_NL nb_NO fi_FI fr_FR_PREEURO en_GB el_GR es_PA es_PE pl_PL".split(" ");
return{preloadRootLocale:function(a){this.preloadLocale(null,a)},preloadLocale:function(d,g){var v=a(d);if(b||e[v?v:"ROOT"])g&&g();else{var f=v?v+"/":"";q(["dojo/i18n!com/ibm/vis/engine/internal/nativeImpl/nls/"+f+"raveA11y","dojo/i18n!dojo/cldr/nls/"+f+"number","dojo/i18n!dojo/cldr/nls/"+f+"gregorian"],function(a,d,b){e[v?v:"ROOT"]={raveA11y:a,number:d,gregorian:b};g&&g()})}},getBundle:function(b,c){var g,f=a(c),I=f?e[f]:null;I||(g=d(b,f))||(I=e.ROOT);!g&&I&&((g=I[b])||(g=d(b,f)));return g},getDefaultLocale:function(){return"en-us"},
getLocaleStringFromSpec:function(d){return d&&d.locale?a(d.locale):null},getExponentSeparator:function(a){if(null==a)return"E";a=this.getBundle("number",a);return null!=a&&a.exponential?a.exponential:"E"},isValid:function(d){d=a(d);for(var b=0;b<g.length;b++)if(a(g[b])==d)return!0;return!1}}}();b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_BezierUtils=function(){var a={tAtLength:function(a,d){var g=0,f=6==a.length,h=0,l=0,m=f?e:k,p=function(e,k){for(var q=0,r=0;r<e.length-2;r+=2)q+=b(e[r],
e[r+1],e[r+2],e[r+3]);r=f?b(a[0],a[1],a[4],a[5]):b(a[0],a[1],a[6],a[7]);q-r>k||h+q>d+k?(++l,q=m(e,.5),p(q[0],k),Math.abs(h-d)<=k||p(q[1],k)):(h+=q,g+=1/(1<<l))};d&&p(a,.5);return g}},d=a.computeLength=function(a){for(var k=6==a.length,f=0,I=0;I<a.length-2;I+=2)f+=b(a[I],a[I+1],a[I+2],a[I+3]);I=k?b(a[0],a[1],a[4],a[5]):b(a[0],a[1],a[6],a[7]);.1<f-I&&(a=k?e(a,.5):g(a,.5),f=d(a[0],k),f+=d(a[1],k));return f},b=a.distance=function(a,d,b,c){return Math.sqrt((b-a)*(b-a)+(c-d)*(c-d))},e=function(a,d){var b=
1-d,c=b*b,e=d*d,g=a[0],k=a[1],f=a[2],h=a[3],l=a[4],m=a[5],p=c*g+2*b*d*f+e*l,c=c*k+2*b*d*h+e*m;return[[g,k,b*g+d*f,b*k+d*h,p,c],[p,c,b*f+d*l,b*h+d*m,l,m]]},g=function(a,d){var b=1-d,c=b*b,e=c*b,g=d*d,k=g*d,f=a[0],h=a[1],l=a[2],m=a[3],p=a[4],q=a[5],r=a[6],t=a[7],w=e*f+3*c*d*l+3*b*g*p+k*r,e=e*h+3*c*d*m+3*b*g*q+k*t;return[[f,h,b*f+d*l,b*h+d*m,c*f+2*b*d*l+g*p,c*h+2*b*d*m+g*q,w,e],[w,e,c*l+2*b*d*p+g*r,c*m+2*b*d*q+g*t,b*p+d*r,b*q+d*t,r,t]]},k=a.splitBezierAtT=function(a,d){return 6==a.length?e(a,d):g(a,
d)};return a}();b.com_ibm_vis_engine_internal_nativeImpl_BidiProcess={bidiProcess:function(a,d){var c=new Q,e=[{cache:{},count:0},{cache:{},count:0},{cache:{},count:0}][d],g=e.cache[a];if(g)return g;g=d;g==b.com_ibm_vis_internal_renderer_RenderContext.BASE_TEXT_DIRECTION_DEFAULT&&(g=c.checkContextual(a));g=("rtl"==g||g==b.com_ibm_vis_internal_renderer_RenderContext.BASE_TEXT_DIRECTION_RTL?"\u202b":"\u202a")+a+"\u202c";1E3<e.count&&(e.cache={},e.count=0);e.cache[a]=g;e.count++;return g}};b.com_ibm_rave_codegenerator_lang_System=
{arraycopy:function(a,d,b,e,g){if(d<e)for(var k=g-1;0<=k;k--)b[e+k]=a[d+k];else for(k=0;k<g;k++)b[e+k]=a[d+k]}};b.com_ibm_init_declare=function(){var a=function(){},d=function(d,e){var g,k,s;1==arguments.length&&(e=d,d=void 0);d?("array"===typeof d||d instanceof Array||(d=[d]),0==d.length?k=b.com_ibm_rave_codegenerator_lang_Object:d[0]._$isInterface?(k=b.com_ibm_rave_codegenerator_lang_Object,s=d):(k=d[0],1<d.length&&(d.shift(),s=d))):k=b.com_ibm_rave_codegenerator_lang_Object;a.prototype=k.prototype;
var f=new a;a.prototype=null;var u=e&&e.hasOwnProperty("constructor")?e.constructor:null,I=k!==b.com_ibm_rave_codegenerator_lang_Object?f.constructor:null;I&&I._$defaultConstructor&&(I=null);u?g=I?function(){I.apply(this,arguments);u.apply(this,arguments)}:u:I?g=function(){I.apply(this,arguments)}:(g=function(){},g._$defaultConstructor=!0);if(e){b.com_ibm_rave_codegenerator_lang_Object.mixin(f,e);for(var h in e)"function"===typeof e[h]&&(f[h].nom=h)}f.constructor=g;g._$superClass=k;g._$interfaces=
s&&0<s.length?s:null;g.prototype=f;return g};d.implement=function(a){1==arguments.length&&(a=void 0);!a||"array"===typeof a||a instanceof Array||(a=[a]);var d=function(){};d._$isInterface=!0;d._$interfaces=a&&0<a.length?a:null;return d};d.create=function(d,b){a.prototype=d.prototype;var g=new a;a.prototype=null;d.apply(g,b);return g};d.invokeSuper=function(){var a=function(d,b,k,s){var f;if(b=b._$superClass)f=(f=b.prototype[k])?f.apply(d,s):a(d,b,k,s);return f};return function(d,g){var k=b.com_ibm_rave_codegenerator_lang_Object.getPrototypeOf(d);
return a(d,k.constructor,g.callee.nom,g)}}();b.com_ibm_rave_codegenerator_lang_Object.prototype.isInstanceOf=function(){var a=function(d,b){var k=d._$interfaces;if(k)for(var s=0,f=k.length;s<f;s++)if(k[s]===b||a(k[s],b))return!0;return d._$superClass?a(d._$superClass,b):!1};return function(d){return this instanceof d?!0:a(this.constructor,d)}}();return d}();b.com_ibm_rave_codegenerator_io_WebEngineException=b.com_ibm_init_declare({constructor:function(a){this.message=a},getMessage:function(){return this.message}});
b.com_ibm_rave_codegenerator_util_Iterator=b.com_ibm_init_declare.implement();b.com_ibm_rave_codegenerator_util_ListIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Iterator,{_cursor:0,_lastIndex:-1,constructor:function(a,d){this._list=a;this._size=a.size();"undefined"!==typeof d&&(this._cursor=d)},add:function(a){this._list.add(this._cursor++,a);this._lastIndex=-1;this._size++},hasNext:function(){return this._cursor<this._size},hasPrevious:function(){return 0<this._cursor},next:function(){try{return this._lastIndex=
this._cursor++,this._list.get(this._lastIndex)}catch(a){throw Error("No such element for next().");}},nextIndex:function(){return this._cursor},previous:function(){try{return this._lastIndex=--this._cursor,this._list.get(this._lastIndex)}catch(a){throw Error("No such element for previous().");}},previousIndex:function(){return this._cursor-1},remove:function(){if(0>this.lastIndex)throw Error("No element to remove.");this._list.removeAt(this._lastIndex);this._lastIndex!=this._cursor&&this._cursor--;
this._lastIndex=-1;this._size--},set:function(a){if(0>this.lastIndex)throw Error("No element to set.");this._list.set(this._lastIndex,a)}});b.com_ibm_rave_codegenerator_util_List=b.com_ibm_init_declare({constructor:function(a){this._data=null!=a&&a.toArray?a.toArray():[]},add:function(a,d){2==arguments.length?this._data.splice(a,0,d):this._data.push(a)},addAll:function(a,d){if(1==arguments.length)null!=a&&(this._data=this._data.concat(a.arrayIterator()));else if(2==arguments.length&&null!=d){var b=
this._data.slice(0,a),e=this._data.slice(a);this._data=b.concat(d.arrayIterator(),e)}},clear:function(){this._data.length=0},contains:function(a){if(null!=a&&a.equals)for(var d=0;d<this._data.length;d++){if(a.equals(this._data[d]))return!0}else for(d=0;d<this._data.length;d++)if(this._data[d]==a)return!0;return!1},get:function(a){if(0<=a&&a<this._data.length)return this._data[a];throw Error("Index out of bounds. Index: "+a+", Size: "+this._data.length);},size:function(){return this._data.length},
toArray:function(){return this._data.slice()},set:function(a,d){if(0<=a&&a<this._data.length)this._data[a]=d;else throw Error("Index out of bounds. Index: "+a+", Size: "+this._data.length);},indexOf:function(a){if(null!=a&&a.equals)for(var d=0;d<this._data.length;d++){if(a.equals(this._data[d]))return d}else for(d=0;d<this._data.length;d++)if(this._data[d]==a)return d;return-1},lastIndexOf:function(a){if(null!=a&&a.equals)for(var d=this._data.length;0<=d;d--){if(a.equals(this._data[d]))return d}else for(d=
this._data.length;0<=d;d--)if(this._data[d]==a)return d;return-1},isEmpty:function(){return 0==this._data.length},remove:function(a){a=this.indexOf(a);return 0<=a?(this._data.splice(a,1),!0):!1},removeAt:function(a){if(0<=a&&a<this._data.length){var d=this._data[a];this._data.splice(a,1);return d}throw Error("Index out of bounds. Index: "+a+", Size: "+this._data.length);},removeAll:function(a){var d=!1;a=a.arrayIterator();for(var b=0;b<a.length;b++)d=this.remove(a[b])||d;return d},trimToSize:function(){},
arrayIterator:function(){return this._data},iterator:function(){return new b.com_ibm_rave_codegenerator_util_ListIterator(this)},listIterator:function(a){return new b.com_ibm_rave_codegenerator_util_ListIterator(this,a)},equals:function(a){if(null==a||!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_rave_codegenerator_util_List))return!1;var d=this.size();if(a.size()!=d)return!1;for(var c=0;c<d;c++){var e=this.get(c),g=a.get(c);if(null==e){if(null!=g)return!1}else if("function"===
typeof e.equals){if(!e.equals(g))return!1}else if(g!=e)return!1}return!0}});b.com_ibm_rave_codegenerator_util_BasicFactory=function(){var a={parse:function(a){if("undefined"===typeof a)return null;try{return na.parse(a)}catch(c){throw new b.com_ibm_rave_codegenerator_io_WebEngineException(c.message);}},parseObjectOrArray:function(d){return a.parse(d)},createJSONArray:function(){return[]},clearJSONArray:function(a){a.splice(0,a.length)},createSizedJSONArray:function(a){return[]},addAll:function(a,
b){for(var e=0,g=b.length;e<g;e++)a.push(b[e])},add:function(a,b){a.push(b)},getArrayItem:function(a,b){return a[b]},getArrayItemByKey:function(a,b,e){if(null==a)return null;var g=a.length;if(0==g)return null;for(var k=0;k<g;k++){var s=a[k];if(null!=s&&s[b]==e)return s}return null},size:function(a){return a.length},removeFromArray:function(a,c){var e=b.com_ibm_rave_codegenerator_lang_Array.indexOf(a,c);-1<e&&a.splice(e,1)},indexOfInArray:function(a,c){return b.com_ibm_rave_codegenerator_lang_Array.indexOf(a,
c)},removeAt:function(a,b){a.splice(b,1)},addAt:function(a,b,e){a.splice(e,0,b)},setAt:function(a,b,e){a[e]=b},createJSONObject:function(){return{}},isEmpty:function(a){for(var b in a)return!1;return!0},getItem:function(a,b){return a[b]},getItemWithDefault:function(a,b,e){var g=null;null!=a&&(g=a[b]);return null!=g?g:e},getNumberWithDefault:function(a,b,e){var g=null;null!=a&&(g=a[b]);return null!=g?g:e},put:function(a,b,e){a[b]=e},remove:function(a,b){delete a[b]},containsKey:function(a,b){return"undefined"!==
typeof a[b]},deepClone:function(a){function b(a){if(a&&(a instanceof Array||"array"==typeof a)){for(var d=[],k=0,s=a.length;k<s;++k)d.push(b(a[k]));return d}if(a&&"object"===typeof a){d={};for(k in a)a.hasOwnProperty(k)&&(d[k]=b(a[k]));return d}return a}return b(a)},clone:function(a){if(a&&(a instanceof Array||"array"===typeof a)){for(var b=[],e=0,g=a.length;e<g;++e)b[e]=a[e];return b}if(a&&"object"===typeof a){b={};for(e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);return b}return a},isEqual:function(a,
b){function e(a,b){if(a===b||"number"===typeof a&&"number"===typeof b&&isNaN(a)&&isNaN(b))return!0;if(null==a||null==b)return!1;if(a instanceof Array||"array"===typeof a){if(!(b instanceof Array||"array"===typeof b)||a.length!=b.length)return!1;for(var d=0,c=a.length;d<c;++d)if(!e(a[d],b[d]))return!1;return!0}if("object"===typeof a||a instanceof Object){if("object"!==typeof b&&!(b instanceof Object))return!1;for(d in a)if(!b.hasOwnProperty(d)||!e(a[d],b[d]))return!1;for(d in b)if(!a.hasOwnProperty(d))return!1;
return!0}return!1}return null==a?null==b:e(a,b)},keySet:function(a){var b=[],e=0,g;for(g in a)a.hasOwnProperty(g)&&(b[e++]=g);return b},toArray:function(a){return a.toArray()},unformattedNumber:function(a){if(a!=a)return"NaN";if(Infinity==a)return"Infinity";if(-Infinity==a)return"-Infinity";if(-0==a)return"0";var b=Math.round(a);return a==b&&-1E15<=a&&1E15>=a?""+b:.001<=Math.abs(a)&&1E8>=Math.abs(a)?(a=Math.round(1E10*a)/1E10,""+a):a.toExponential(10)},format:function(a,b){return E.format(a,{pattern:"#.###",
fractional:!0})},isTrue:function(a,b,e){a=this.getItem(a,b);return null==a?e:a},isNumber:function(a){return null!=a&&(a instanceof Number||"number"==typeof a)},isString:function(a){return null!=a&&(a instanceof String||"string"==typeof a)},isBoolean:function(a){return null!=a&&(a instanceof Boolean||"boolean"==typeof a)},isInteger:function(a){return null!=a&&(a instanceof Number||"number"==typeof a)&&0==a.valueOf()%1},isArray:function(a){return null!=a&&(a instanceof Array||"array"==typeof a)},isObject:function(a){return null!=
a&&(a instanceof Object||"object"==typeof a)},hashString:function(a){return null==a?null:na.stringify(a)},getArrayOrListItem:function(a,b){return a.get&&"function"==typeof a.get?a.get(b):a[b]},makeSortOrder:function(a){for(var b=Array(a.length),e=0,g=b.length;e<g;e++)b[e]=e;b.sort(function(b,c){return a[b]==a[c]?b-c:a[b]-a[c]});return b},sortDataArray:function(a,b){a.sort(function(a,d){return null==a[b]&&null==d[b]?0:null==a[b]?1:null==d[b]?-1:a[b]-d[b]});return a},sortArray:function(a){1<a.length&&
!isNaN(this.parseDouble(a[0]))?a.sort(function(a,b){return a-b}):a.sort()},sortList:function(a,c){a.arrayIterator().sort(b.com_ibm_rave_codegenerator_lang_Object.hitch(c,c.compare))},asList:function(a){var c=new b.com_ibm_rave_codegenerator_util_List;c._data=a;return c},cubeRoot:function(a){return 0<a?Math.pow(a,1/3):-Math.pow(Math.abs(a),1/3)},searchSortedArray:function(a,c){return b.com_ibm_rave_codegenerator_lang_Array.indexOf(a,c)},compareTo:function(a,b){return a<b?-1:a>b?1:0},getSystemTimer:function(){return(new Date).getTime()},
getUTCTime:function(){return(new Date).getTime()},getHashMapKeysAsArray:function(a){return a.keySet().toArray()},getHashMapKeysAsDoubleArray:function(a){return a.keySet().toArray()},getHashMapKeysAsLongArray:function(a){return a.keySet().toArray()},isWhitespace:function(a){return 32==a||9==a||13==a||10==a},isWhitespaceString:function(b){for(var c=b.length,e=0;e<c;e++)if(!a.isWhitespace(b.charCodeAt(e)))return!1;return!0},isPunctuation:function(b,c){var e=b.charAt(c),e="."==e||","==e||";"==e||"!"==
e||"?"==e||":"==e,g=0==c?" ":b.charAt(c-1),k=c==b.CPVisEngineLength()-1?" ":b.charAt(c+1);return e&&!(a.isNumerical(g)&&a.isNumerical(k))},isNumerical:function(a){return"number"==typeof a?48<=a&&57>=a:"0"<=a&&"9">=a},parseDouble:function(a){if(0==a.length)return Number.NaN;a=Number(a);return isFinite(a)?a:Number.NaN},parseBoolean:function(a){return"boolean"==typeof a&&"true"==a},charCodeAt:function(a,b){return a.charCodeAt(b)},codeToString:function(a){return String.fromCharCode(a)},intDiv:function(a,
b){return Math.floor(a/b)},_toCSSHexValue:function(a){a=a.toString(16);1==a.length&&(a="0"+a);return a},makeLong:function(a){return a},toCSSHexColor:function(a,b){var e="#";b&&"undefined"!=typeof a.a&&(e+=this._toCSSHexValue(Math.round(255*a.a)));return e+=this._toCSSHexValue(a.r)+this._toCSSHexValue(a.g)+this._toCSSHexValue(a.b)},toRGBAColor:function(a){var b=a.a;"undefined"==typeof b&&(b=1);return"rgba("+a.r+","+a.g+","+a.b+","+b+")"},fromCharCode:function(a){return a},serialize:function(a){return na.stringify(a)},
getJSONArraySize:function(a){return a.length},copyAll:function(a,b){for(var e in b)b.hasOwnProperty(e)&&delete b[e];for(var g in a)a.hasOwnProperty(g)&&(b[g]=a[g])},replace:function(a,b,e){return a.replace(new RegExp(b,"g"),e)},getRegExBarString:function(){return"|"}};return a}();b.com_ibm_rave_codegenerator_util_Set=function(){var a={};return b.com_ibm_init_declare({_createBackingMap:function(){return b.com_ibm_init_declare.create(b.com_ibm_rave_codegenerator_util_Map,arguments)},constructor:function(){switch(arguments.length){case 1:if(arguments[0]instanceof
b.com_ibm_rave_codegenerator_util_Map)this._backingMap=arguments[0];else if(arguments[0].arrayIterator){var a=arguments[0].size();this._backingMap=this._createBackingMap(6>a?11:2*a);this.addAll(arguments[0])}else this._backingMap=this._createBackingMap(arguments[0]);break;case 2:this._backingMap=this._createBackingMap(arguments[0],arguments[1]);break;default:this._backingMap=this._createBackingMap()}},add:function(b){return null==this._backingMap.put(b,a)},addAll:function(a){a=a.arrayIterator();for(var b=
0;b<a.length;b++)this.add(a[b])},clear:function(){this._backingMap.clear()},contains:function(a){return this._backingMap.containsKey(a)},isEmpty:function(){return this._backingMap.isEmpty()},remove:function(a){return null!=this._backingMap.remove(a)},removeAll:function(a){var b=!1;a=a.arrayIterator();for(var e=0;e<a.length;e++)b=this.remove(a[e])||b;return b},retainAll:function(a){for(var b=!1,e=this.arrayIterator(),g=0;g<e.length;g++)a.contains(e[g])&&(b=this.remove(e[g])||b);return b},size:function(){return this._backingMap.size()},
toArray:function(){return this._backingMap._getKeysArray(!0)},arrayIterator:function(){return this.toArray()},iterator:function(){return this._backingMap.keySet().iterator()}})}();b.com_ibm_rave_codegenerator_util_HashSet=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Set,{_createBackingMap:function(){return b.com_ibm_init_declare.create(b.com_ibm_rave_codegenerator_util_HashMap,arguments)}});b.com_ibm_rave_codegenerator_util_HashMapIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Iterator,
{_position:0,constructor:function(a){this._associatedMap=a;this._futureEntry=null},hasNext:function(){if(null!=this._futureEntry)return!0;for(;this._position<this._associatedMap._elementData.length;)if(null==this._associatedMap._elementData[this._position])this._position++;else return!0;return!1},_makeNext:function(){if(!this.hasNext())throw Error("No such element for next().");null==this._futureEntry?(this._currentEntry=this._associatedMap._elementData[this._position++],this._futureEntry=this._currentEntry.next,
this._prevEntry=null):(null!=this._currentEntry&&(this._prevEntry=this._currentEntry),this._currentEntry=this._futureEntry,this._futureEntry=this._futureEntry.next)},remove:function(){if(null==this._currentEntry||!this._currentEntry)throw Error("No element to remove.");this._associatedMap.remove(this._currentEntry.key);this._currentEntry=null}});b.com_ibm_rave_codegenerator_util_HashMapEntryIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_HashMapIterator,{next:function(){this._makeNext();
return this._currentEntry}});b.com_ibm_rave_codegenerator_util_HashMapKeyIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_HashMapIterator,{next:function(){this._makeNext();return this._currentEntry.key}});b.com_ibm_rave_codegenerator_util_HashMapValueIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_HashMapIterator,{next:function(){this._makeNext();return this._currentEntry.key}});b.com_ibm_rave_codegenerator_util_MapIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Iterator,
{_position:-1,constructor:function(a){this._associatedMap=a;this._mapEntries=a.entrySet().toArray()},hasNext:function(){return this._position+1<this._mapEntries.length},_makeNext:function(){if(!this.hasNext())throw Error("No such element for next().");this._currentEntry=this._mapEntries[++this._position]},remove:function(){if(null==this._currentEntry||!this._currentEntry)throw Error("No element to remove.");this._mapEntries[this._position]=null;this._associatedMap.remove(this._currentEntry.key);this._currentEntry=
null}});b.com_ibm_rave_codegenerator_util_MapEntryIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_MapIterator,{next:function(){this._makeNext();return this._currentEntry}});b.com_ibm_rave_codegenerator_util_MapKeyIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_MapIterator,{next:function(){this._makeNext();return this._currentEntry.key}});b.com_ibm_rave_codegenerator_util_MapValueIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_MapIterator,{next:function(){this._makeNext();
return this._currentEntry.value}});b.com_ibm_rave_codegenerator_util_Map=function(){var a=b.com_ibm_init_declare({constructor:function(b){this._map={};this._elementCount=0;if(b instanceof a){b=b.entrySet().arrayIterator();for(var c=0,e=b.length;c<e;c++)this.put(b[c].key,b[c].value)}},get:function(a){return this._map[a]},put:function(a,b){var e=null;this._map.hasOwnProperty(a)?e=this._map[a]:this._elementCount++;this._map[a]=b;return e},putAll:function(a){if(!a.isEmpty()){a=a.entrySet().arrayIterator();
for(var b=0,e=a.length;b<e;b++)this.put(a[b].key,a[b].value)}},remove:function(a){var b=null;this._map.hasOwnProperty(a)&&(b=this._map[a],delete this._map[a],this._elementCount--);return b},clear:function(){this._map={};this._elementCount=0},size:function(){return this._elementCount},equals:function(b){if(b instanceof a){var c=this._getKeysArray(),e=b._getKeysArray();if(c.length!=e.length)return!1;for(var g=0;g<c.length;g++){var k=c[g];if(!a.keyInArray(k,e))return!1;var s=this._map[k],k=b._map[k];
if(!(null==s&&null==k||null!=s&&null!=k&&a.areEqualValues(s,k)))return!1}return!0}return!1},containsKey:function(a){return this._map.hasOwnProperty(a)},containsValue:function(b){for(var c=this._getKeysArray(),e=0;e<c.length;e++)if(a.areEqualValues(b,this._map[c[e]]))return!0;return!1},isEmpty:function(){return 0==this._elementCount},keySet:function(){null==this._keySetCollection&&(this._keySetCollection=this._createKeySetCollection());return this._keySetCollection},entrySet:function(){null==this._entrySetCollection&&
(this._entrySetCollection=this._createEntrySetCollection());return this._entrySetCollection},values:function(){null==this._valuesCollection&&(this._valuesCollection=this._createValuesCollection());return this._valuesCollection},_createKeySetCollection:function(){var a=new b.com_ibm_rave_codegenerator_util_Set(this),c=this;a.iterator=function(){return new b.com_ibm_rave_codegenerator_util_MapKeyIterator(c)};return a},_createEntrySetCollection:function(){var d=new b.com_ibm_rave_codegenerator_util_HashSet(this),
c=this,e=function(b,d){return null!=b&&(null==b.value?null==d.value:a.areEqualValues(b.value,d.value))};d.add=function(){throw Error("Unsupported operation.");};d.addAll=function(){throw Error("Unsupported operation.");};d.contains=function(a){if(a instanceof Object){var b=c._getEntry(a.key);return e(b,a)}return!1};d.remove=function(a){if(a instanceof Object){var b=c._getEntry(a.key);if(e(b,a))return c.remove(b.key),!0}return!1};d.toArray=function(){return c._getEntriesArray()};d.arrayIterator=function(){return this.toArray()};
d.iterator=function(){return new b.com_ibm_rave_codegenerator_util_MapEntryIterator(c)};return d},_createValuesCollection:function(){var a=this;return{contains:function(b){return a.containsValue(b)},size:function(){return a.size()},clear:function(){a.clear()},toArray:function(){return a._getValuesArray()},arrayIterator:function(){return this.toArray()},iterator:function(){return new b.com_ibm_rave_codegenerator_util_MapValueIterator(a)}}},_getKeysArray:function(a){var b;a=this._map;if(Object.keys)b=
Object.keys(a);else{var e=[];for(b in a)a.hasOwnProperty(b)&&e.push(b);b=e}return b},_getEntriesArray:function(){for(var a=Array(this._elementCount),b=this._getKeysArray(),e=0;e<b.length;e++)a[e]={key:b[e],value:this._map[b[e]]};return a},_getValuesArray:function(){for(var a=Array(this._elementCount),b=this._getKeysArray(),e=0;e<b.length;e++)a[e]=this._map[b[e]];return a},_getEntry:function(a){return this.containsKey(a)?{key:a,value:this._map[a]}:null},toString:function(){if(this.isEmpty())return"{}";
for(var a="{",b=this._getKeysArray(),e=0;e<b.length;e++){0!=e&&(a+=", ");var g=b[e],a=g!==this?a+g:a+"(this Map)",a=a+" \x3d ",g=this.get(g),a=g!==this?a+g:a+"(this Map)"}return a+"}"}});a.areEqualKeys=function(a,b){return a==b||("function"==typeof a.equals?a.equals(b):!1)};a.areEqualValues=function(a,b){return a==b||("function"==typeof a.equals?a.equals(b):!1)};a.keyInArray=function(b,c){for(var e=0;e<c.length;e++)if(a.areEqualKeys(b,c[e]))return!0;return!1};return a}();b.com_ibm_rave_codegenerator_util_HashMap=
b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Map,{constructor:function(){if(1==arguments.length&&arguments[0]instanceof b.com_ibm_rave_codegenerator_util_Map){var a=arguments[0];this._init(6>a.size()?11:2*a.size());for(var a=a.entrySet().arrayIterator(),d=0,c=a.length;d<c;d++)this.put(a[d].key,a[d].value)}else this._init(arguments[0],arguments[1])},_init:function(a,b){if(void 0!==a&&0>a)throw Error("Illegal Capacity: "+a);if(void 0!==b&&0>=b)throw Error("Illegal Load: "+b);a=this._calculateCapacity(a||
0);this._elementCount=0;this._elementData=Array(0==a?1:a);this._loadFactor=b||.75;this._computeMaxSize()},_hash:function(a){a instanceof Object||(a=Object(a));a.hashCode||b.com_ibm_rave_codegenerator_lang_Object.hookHashCode(a);return a.hashCode()},_calculateCapacity:function(a){if(1073741824<=a)return 1073741824;if(0==a)return 16;if(1==a)return 2;--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1},_computeMaxSize:function(){this._threshold=this._elementData.length*this._loadFactor},_getEntry:function(a){if(null==
a)a=this._findNullKeyEntry();else{var b=this._hash(a);a=this._findNonNullKeyEntry(a,b&this._elementData.length-1,b)}return a},_findNullKeyEntry:function(){for(var a=this._elementData[0];null!=a&&null!=a.key;)a=a.next;return a},_findNonNullKeyEntry:function(a,d,c){if(0==arguments.length){for(var e=this._elementData[0];null!=e&&null!=e.key;)e=e.next;return e}for(var e=this._elementData[d],g=c&4294967294;null!=e&&(e.storedKeyHash!=g||!b.com_ibm_rave_codegenerator_util_Map.areEqualKeys(a,e.key));)e=e.next;
return e},_rehash:function(a){void 0===a&&(a=this._elementData.length);a=this._calculateCapacity(0==a?1:a<<1);for(var b=Array(a),c=0;c<this._elementData.length;c++){var e=this._elementData[c];for(this._elementData[c]=null;null!=e;){var g=(c&1|e.storedKeyHash&4294967294)&a-1,k=e.next;e.next=b[g];b[g]=e;e=k}}this._elementData=b;this._computeMaxSize()},_createHashedEntry:function(a,b,c){a={key:a,hash:c,next:this._elementData[b],storedKeyHash:c&4294967294};return this._elementData[b]=a},get:function(a){a=
this._getEntry(a);if(null!=a)return a.value},put:function(a,b){return this._putImpl(a,b)},_putImpl:function(a,b){var c;if(null==a)c=this._findNullKeyEntry(),null==c&&(c=this._createHashedEntry(null,0,0),++this._elementCount>this._threshold&&this._rehash());else{var e=this._hash(a),g=e&this._elementData.length-1;c=this._findNonNullKeyEntry(a,g,e);null==c&&(c=this._createHashedEntry(a,g,e),++this._elementCount>this._threshold&&this._rehash())}e=c.value;c.value=b;return e},putAll:function(a){if(!a.isEmpty()){var b=
this._elementCount+a.size();b>this._threshold&&this._rehash(b);a=a.entrySet().arrayIterator();for(var b=0,c=a.length;b<c;b++)this.put(a[b].key,a[b].value)}},remove:function(a){a=this._removeEntry(a);return null!=a?a.value:null},_removeEntry:function(a){var d=null,c=0,e;if(null!=a){var g=this._hash(a),c=g&this._elementData.length-1;e=this._elementData[c];for(g&=4294967294;null!=e&&(e.storedKeyHash!=g||!b.com_ibm_rave_codegenerator_util_Map.areEqualKeys(a,e.key));)d=e,e=e.next}else for(e=this._elementData[0];null!=
e&&null!=e.key;)d=e,e=e.next;if(null==e)return null;null==d?this._elementData[c]=e.next:d.next=e.next;this._elementCount--;return e},clear:function(){if(0<this._elementCount)for(var a=this._elementCount=0;a<this._elementData.length;a++)this._elementData[a]=void 0},size:function(){return this._elementCount},containsKey:function(a){return null!=this._getEntry(a)},containsValue:function(a){if(null!=a)for(var d=this._elementData.length;0<=--d;)for(var c=this._elementData[d];null!=c;){if(b.com_ibm_rave_codegenerator_util_Map.areEqualValues(a,
c.value))return!0;c=c.next}else for(d=this._elementData.length;0<=--d;)for(c=elementData[d];null!=c;){if(null==c.value)return!0;c=c.next}return!1},isEmpty:function(){return 0==this._elementCount},_createKeySetCollection:function(){var a=new b.com_ibm_rave_codegenerator_util_HashSet(this),d=this;a.iterator=function(){return new b.com_ibm_rave_codegenerator_util_HashMapKeyIterator(d)};return a},_createEntrySetCollection:function(){var a=b.com_ibm_rave_codegenerator_util_Map.prototype._createEntrySetCollection.apply(this,
arguments),d=this;a.iterator=function(){return new b.com_ibm_rave_codegenerator_util_HashMapEntryIterator(d)};return a},_createValuesCollection:function(){var a=b.com_ibm_rave_codegenerator_util_Map.prototype._createValuesCollection.apply(this,arguments),d=this;a.iterator=function(){return new b.com_ibm_rave_codegenerator_util_HashMapValueIterator(d)};return a},_getKeysArray:function(){for(var a=0,b=Array(this._elementCount),c=this._elementData,e=0;e<c.length;e++)for(var g=c[e];null!=g;)b[a++]=g.key,
g=g.next;return b},_getEntriesArray:function(){for(var a=0,b=Array(this._elementCount),c=this._elementData,e=0;e<c.length;e++)for(var g=c[e];null!=g;)b[a++]=g,g=g.next;return b},_getValuesArray:function(){for(var a=0,b=Array(this._elementCount),c=this._elementData,e=0;e<c.length;e++)for(var g=c[e];null!=g;)b[a++]=g.value,g=g.next;return b},_getEntry:function(a){if(null==a)a=this._findNullKeyEntry();else{var b=this._hash(a);a=this._findNonNullKeyEntry(a,b&this._elementData.length-1,b)}return a}});
b.com_ibm_vis_internal_SpecClass=b.com_ibm_init_declare({constructor:function(){this.vars=new b.com_ibm_rave_codegenerator_util_List;this.fe_1=new b.com_ibm_rave_codegenerator_util_List;(function(a){this.cm_1=a}).apply(this,arguments)},addVar:function(a){this.vars.add(a);this.fe_1.add(a.name)},getVars:function(){return this.vars},getName:function(){return this.cm_1},getFieldNames:function(){return this.fe_1}});b.com_ibm_vis_internal_SpecConstants=b.com_ibm_init_declare({});b.com_ibm_vis_internal_SpecConstants.SPEC_VERSION=
"7.2";b.com_ibm_vis_internal_SpecConstants.VISJSON="visJSON";b.com_ibm_vis_internal_SpecConstants.SIZE="size";b.com_ibm_vis_internal_SpecConstants.LEGENDS="legends";b.com_ibm_vis_internal_SpecConstants.COPYRIGHT="copyright";b.com_ibm_vis_internal_SpecConstants.GRAMMAR="grammar";b.com_ibm_vis_internal_SpecConstants.PARAMETERS="parameters";b.com_ibm_vis_internal_SpecConstants.DATA="data";b.com_ibm_vis_internal_SpecConstants.PARAMETERVALUES="parameterValues";b.com_ibm_vis_internal_SpecConstants.RESOURCE=
"resource";b.com_ibm_vis_internal_SpecConstants.STYLE="style";b.com_ibm_vis_internal_SpecConstants.AUGMENT="augment";b.com_ibm_vis_internal_SpecConstants.LEGENDPOSITION="legendPosition";b.com_ibm_vis_internal_SpecConstants.LEFT="left";b.com_ibm_vis_internal_SpecConstants.RIGHT="right";b.com_ibm_vis_internal_SpecConstants.TOP="top";b.com_ibm_vis_internal_SpecConstants.BOTTOM="bottom";b.com_ibm_vis_internal_SpecConstants.VERSION="version";b.com_ibm_vis_internal_SpecConstants.LOCALIZATION="localization";
b.com_ibm_vis_internal_SpecConstants.TITLES="titles";b.com_ibm_vis_internal_SpecConstants.DESCRIPTION="description";b.com_ibm_vis_internal_SpecConstants.WIDTH="width";b.com_ibm_vis_internal_SpecConstants.HEIGHT="height";b.com_ibm_vis_internal_SpecConstants.LEGEND="legend";b.com_ibm_vis_internal_SpecConstants.METHOD="method";b.com_ibm_vis_internal_SpecConstants.SWATCH="swatch";b.com_ibm_vis_internal_SpecConstants.STAGGER="stagger";b.com_ibm_vis_internal_SpecConstants.AXIS="axis";b.com_ibm_vis_internal_SpecConstants.CONTINUOUS=
"continuous";b.com_ibm_vis_internal_SpecConstants.SIMPLE="simple";b.com_ibm_vis_internal_SpecConstants.MARKSTYLE="markStyle";b.com_ibm_vis_internal_SpecConstants.STRIPES="stripes";b.com_ibm_vis_internal_SpecConstants.AESTHETICS="aesthetics";b.com_ibm_vis_internal_SpecConstants.SCALE="scale";b.com_ibm_vis_internal_SpecConstants.LEGENDENTRYSTYLE="legendEntryStyle";b.com_ibm_vis_internal_SpecConstants.MULTILINE="multiline";b.com_ibm_vis_internal_SpecConstants.NONE="none";b.com_ibm_vis_internal_SpecConstants.CONSISTENT=
"consistent";b.com_ibm_vis_internal_SpecConstants.ORIENTATION="orientation";b.com_ibm_vis_internal_SpecConstants.TICKSTYLE="tickStyle";b.com_ibm_vis_internal_SpecConstants.LOCATION="location";b.com_ibm_vis_internal_SpecConstants.ELEMENTS="elements";b.com_ibm_vis_internal_SpecConstants.TITLE="title";b.com_ibm_vis_internal_SpecConstants.TITLESTYLE="titleStyle";b.com_ibm_vis_internal_SpecConstants.ROWS="rows";b.com_ibm_vis_internal_SpecConstants.ITEMBOXSTYLE="itemBoxStyle";b.com_ibm_vis_internal_SpecConstants.BOUNDSSTYLE=
"boundsStyle";b.com_ibm_vis_internal_SpecConstants.MINORSTYLE="minorStyle";b.com_ibm_vis_internal_SpecConstants.LABELSTYLE="labelStyle";b.com_ibm_vis_internal_SpecConstants.LINESTYLE="lineStyle";b.com_ibm_vis_internal_SpecConstants.MIRROREDLABELS="mirroredLabels";b.com_ibm_vis_internal_SpecConstants.COLUMNS="columns";b.com_ibm_vis_internal_SpecConstants.ITEMSTYLE="itemStyle";b.com_ibm_vis_internal_SpecConstants.AESTHETICREFERENCE="aestheticReference";b.com_ibm_vis_internal_SpecConstants.AESTHETIC=
"aesthetic";b.com_ibm_vis_internal_SpecConstants.AESTHETICREF="aestheticRef";b.com_ibm_vis_internal_SpecConstants.$REF="$ref";b.com_ibm_vis_internal_SpecConstants.AXISPADDING="axisPadding";b.com_ibm_vis_internal_SpecConstants.BOUNDS="bounds";b.com_ibm_vis_internal_SpecConstants.FACET="facet";b.com_ibm_vis_internal_SpecConstants.AXESOVERFLOW="axesOverflow";b.com_ibm_vis_internal_SpecConstants.COORDINATES="coordinates";b.com_ibm_vis_internal_SpecConstants.LABELCOLLISIONMETHOD="labelCollisionMethod";
b.com_ibm_vis_internal_SpecConstants.LIMITED="limited";b.com_ibm_vis_internal_SpecConstants.FULL="full";b.com_ibm_vis_internal_SpecConstants.CENTER="center";b.com_ibm_vis_internal_SpecConstants.CHARTINCHART="chartInChart";b.com_ibm_vis_internal_SpecConstants.PANEL="panel";b.com_ibm_vis_internal_SpecConstants.PANELHORIZONTAL="panelHorizontal";b.com_ibm_vis_internal_SpecConstants.TARGETPART="targetPart";b.com_ibm_vis_internal_SpecConstants.FIELDS="fields";b.com_ibm_vis_internal_SpecConstants.SHAREDAXES=
"sharedAxes";b.com_ibm_vis_internal_SpecConstants.TARGETELEMENT="targetElement";b.com_ibm_vis_internal_SpecConstants.FACETFIELD="facetField";b.com_ibm_vis_internal_SpecConstants.FIELD="field";b.com_ibm_vis_internal_SpecConstants.FIELDREF="fieldRef";b.com_ibm_vis_internal_SpecConstants.ELEMENTREF="elementRef";b.com_ibm_vis_internal_SpecConstants.TOOLTIP="tooltip";b.com_ibm_vis_internal_SpecConstants.META="meta";b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITY="accessibility";b.com_ibm_vis_internal_SpecConstants.FONT=
"font";b.com_ibm_vis_internal_SpecConstants.CLIP="clip";b.com_ibm_vis_internal_SpecConstants.ATBOUNDS="atBounds";b.com_ibm_vis_internal_SpecConstants.OVERLAP="overlap";b.com_ibm_vis_internal_SpecConstants.DASHING="dashing";b.com_ibm_vis_internal_SpecConstants.VISIBILITY="visibility";b.com_ibm_vis_internal_SpecConstants.OFFSET="offset";b.com_ibm_vis_internal_SpecConstants.COMPONENTS="components";b.com_ibm_vis_internal_SpecConstants.SYMBOL="symbol";b.com_ibm_vis_internal_SpecConstants.POSITIONING="positioning";
b.com_ibm_vis_internal_SpecConstants.SPLIT="split";b.com_ibm_vis_internal_SpecConstants.ID="id";b.com_ibm_vis_internal_SpecConstants.POSITIONMODIFIER="positionModifier";b.com_ibm_vis_internal_SpecConstants.DODGE="dodge";b.com_ibm_vis_internal_SpecConstants.STACK="stack";b.com_ibm_vis_internal_SpecConstants.PILE="pile";b.com_ibm_vis_internal_SpecConstants.STYLES="styles";b.com_ibm_vis_internal_SpecConstants.COLOR="color";b.com_ibm_vis_internal_SpecConstants.INTERPOLATION="interpolation";b.com_ibm_vis_internal_SpecConstants.SMOOTH=
"smooth";b.com_ibm_vis_internal_SpecConstants.STYLEBY="styleBy";b.com_ibm_vis_internal_SpecConstants.POSITION="position";b.com_ibm_vis_internal_SpecConstants.INTERACTIONTYPE="interactionType";b.com_ibm_vis_internal_SpecConstants.SCROLLUNIT="scrollUnit";b.com_ibm_vis_internal_SpecConstants.CUSTOMOPTIONS="customOptions";b.com_ibm_vis_internal_SpecConstants.CLIPBYSPAN="clipBySpan";b.com_ibm_vis_internal_SpecConstants.LABEL="label";b.com_ibm_vis_internal_SpecConstants.ZORDER="zOrder";b.com_ibm_vis_internal_SpecConstants.TEXTBACKGROUNDSTYLE=
"textBackgroundStyle";b.com_ibm_vis_internal_SpecConstants.SYMBOLSTYLE="symbolStyle";b.com_ibm_vis_internal_SpecConstants.CONTENT="content";b.com_ibm_vis_internal_SpecConstants.TYPE="type";b.com_ibm_vis_internal_SpecConstants.POINT="point";b.com_ibm_vis_internal_SpecConstants.INTERVAL="interval";b.com_ibm_vis_internal_SpecConstants.PATH="path";b.com_ibm_vis_internal_SpecConstants.LINE="line";b.com_ibm_vis_internal_SpecConstants.POLYGON="polygon";b.com_ibm_vis_internal_SpecConstants.AREA="area";b.com_ibm_vis_internal_SpecConstants.EDGE=
"edge";b.com_ibm_vis_internal_SpecConstants.TEXT="text";b.com_ibm_vis_internal_SpecConstants.SCHEMA="schema";b.com_ibm_vis_internal_SpecConstants.SCHEMAPIE="schema:pie";b.com_ibm_vis_internal_SpecConstants.SCHEMAPROFILE="schema:profile";b.com_ibm_vis_internal_SpecConstants.SCHEMASTAR="schema:star";b.com_ibm_vis_internal_SpecConstants.SCHEMABOXPLOT="schema:boxplot";b.com_ibm_vis_internal_SpecConstants.SCHEMAROSE="schema:rose";b.com_ibm_vis_internal_SpecConstants.CUSTOM="custom";b.com_ibm_vis_internal_SpecConstants.MODIFIES=
"modifies";b.com_ibm_vis_internal_SpecConstants.PART="part";b.com_ibm_vis_internal_SpecConstants.COMPONENT="component";b.com_ibm_vis_internal_SpecConstants.VALUE="value";b.com_ibm_vis_internal_SpecConstants.CLOSESTPOINT="closestPoint";b.com_ibm_vis_internal_SpecConstants.LAYOUT="layout";b.com_ibm_vis_internal_SpecConstants.NODEPLACEMENT="nodePlacement";b.com_ibm_vis_internal_SpecConstants.SYMMETRIC="symmetric";b.com_ibm_vis_internal_SpecConstants.MAXOVERLAP="maxOverlap";b.com_ibm_vis_internal_SpecConstants.CENTERPARENT=
"centerParent";b.com_ibm_vis_internal_SpecConstants.SPACING="spacing";b.com_ibm_vis_internal_SpecConstants.ORDER="order";b.com_ibm_vis_internal_SpecConstants.TOPTOBOTTOM="top-to-bottom";b.com_ibm_vis_internal_SpecConstants.LEFTTORIGHT="left-to-right";b.com_ibm_vis_internal_SpecConstants.BOTTOMTOTOP="bottom-to-top";b.com_ibm_vis_internal_SpecConstants.RIGHTTOLEFT="right-to-left";b.com_ibm_vis_internal_SpecConstants.PADDING="padding";b.com_ibm_vis_internal_SpecConstants.LAYER="layer";b.com_ibm_vis_internal_SpecConstants.RESPECTBUBBLESIZE=
"respectBubbleSize";b.com_ibm_vis_internal_SpecConstants.LAYERPLACEMENT="layerPlacement";b.com_ibm_vis_internal_SpecConstants.CENTERED="centered";b.com_ibm_vis_internal_SpecConstants.SPREAD="spread";b.com_ibm_vis_internal_SpecConstants.ADAPTIVE="adaptive";b.com_ibm_vis_internal_SpecConstants.LINKTYPE="linkType";b.com_ibm_vis_internal_SpecConstants.POSITIONOVERRIDE="positionOverride";b.com_ibm_vis_internal_SpecConstants.PRUNEDNODES="prunedNodes";b.com_ibm_vis_internal_SpecConstants.SWIMLANES="swimLanes";
b.com_ibm_vis_internal_SpecConstants.PACKPARAMETERS="packParameters";b.com_ibm_vis_internal_SpecConstants.FAMILY="family";b.com_ibm_vis_internal_SpecConstants.NEIGHBOURDETAILS="neighbourDetails";b.com_ibm_vis_internal_SpecConstants.LINKGROUP="linkGroup";b.com_ibm_vis_internal_SpecConstants.PARENT="parent";b.com_ibm_vis_internal_SpecConstants.LEAFONLY="leafOnly";b.com_ibm_vis_internal_SpecConstants.FROM="from";b.com_ibm_vis_internal_SpecConstants.ATTACHMENTPOINT="attachmentPoint";b.com_ibm_vis_internal_SpecConstants.DATE=
"date";b.com_ibm_vis_internal_SpecConstants.LEVELS="levels";b.com_ibm_vis_internal_SpecConstants.SPIRALPARAMETERS="spiralParameters";b.com_ibm_vis_internal_SpecConstants.COMBINECATEGORIES="combineCategories";b.com_ibm_vis_internal_SpecConstants.TO="to";b.com_ibm_vis_internal_SpecConstants.PRUNEDEDGES="prunedEdges";b.com_ibm_vis_internal_SpecConstants.INCREMENTALNETWORKLAYOUT="incrementalNetworkLayout";b.com_ibm_vis_internal_SpecConstants.NODE="node";b.com_ibm_vis_internal_SpecConstants.X="x";b.com_ibm_vis_internal_SpecConstants.Y=
"y";b.com_ibm_vis_internal_SpecConstants.SWIMLANE="swimlane";b.com_ibm_vis_internal_SpecConstants.IDEALNODECOUNTVALUE="idealNodeCountValue";b.com_ibm_vis_internal_SpecConstants.MAXROWVALUE="maxRowValue";b.com_ibm_vis_internal_SpecConstants.GRID="grid";b.com_ibm_vis_internal_SpecConstants.PACKED="packed";b.com_ibm_vis_internal_SpecConstants.ROWORDER="rowOrder";b.com_ibm_vis_internal_SpecConstants.COLUMNORDER="columnOrder";b.com_ibm_vis_internal_SpecConstants.INCLUDEELLIPSIS="includeEllipsis";b.com_ibm_vis_internal_SpecConstants.MAJOR=
"major";b.com_ibm_vis_internal_SpecConstants.ROW="row";b.com_ibm_vis_internal_SpecConstants.COLUMN="column";b.com_ibm_vis_internal_SpecConstants.ELLIPSISPOSITION="ellipsisPosition";b.com_ibm_vis_internal_SpecConstants.LAYOUTDATA="layoutData";b.com_ibm_vis_internal_SpecConstants.OUTPOINT="outPoint";b.com_ibm_vis_internal_SpecConstants.INPOINT="inPoint";b.com_ibm_vis_internal_SpecConstants.CONNECTIONPOINTSPEC="ConnectionPointSpec";b.com_ibm_vis_internal_SpecConstants.LABELCONTENT="labelContent";b.com_ibm_vis_internal_SpecConstants.FITALL=
"fitAll";b.com_ibm_vis_internal_SpecConstants.ORIENTATIONS="orientations";b.com_ibm_vis_internal_SpecConstants.ORIENTATIONSCHEME="orientationScheme";b.com_ibm_vis_internal_SpecConstants.SEQUENTIAL="sequential";b.com_ibm_vis_internal_SpecConstants.ROUNDROBIN="roundRobin";b.com_ibm_vis_internal_SpecConstants.SPIRALTYPE="spiralType";b.com_ibm_vis_internal_SpecConstants.ROUND="round";b.com_ibm_vis_internal_SpecConstants.RECTANGULAR="rectangular";b.com_ibm_vis_internal_SpecConstants.TARGET="target";b.com_ibm_vis_internal_SpecConstants.OUTLINE=
"outline";b.com_ibm_vis_internal_SpecConstants.FILL="fill";b.com_ibm_vis_internal_SpecConstants.BOTH="both";b.com_ibm_vis_internal_SpecConstants.NULLVALUE="nullValue";b.com_ibm_vis_internal_SpecConstants.PALETTE="palette";b.com_ibm_vis_internal_SpecConstants.MAPPING="mapping";b.com_ibm_vis_internal_SpecConstants.KEY="key";b.com_ibm_vis_internal_SpecConstants.DESCENDANTS="descendants";b.com_ibm_vis_internal_SpecConstants.FIELDVALUEREF="fieldValueRef";b.com_ibm_vis_internal_SpecConstants.AUTO="auto";
b.com_ibm_vis_internal_SpecConstants.RAWDATA="rawdata";b.com_ibm_vis_internal_SpecConstants.COL="col";b.com_ibm_vis_internal_SpecConstants.COUNT="count";b.com_ibm_vis_internal_SpecConstants.IMAGE="image";b.com_ibm_vis_internal_SpecConstants.FORMAT="format";b.com_ibm_vis_internal_SpecConstants.PATTERN="pattern";b.com_ibm_vis_internal_SpecConstants.STATE="state";b.com_ibm_vis_internal_SpecConstants.ATLABEL="atLabel";b.com_ibm_vis_internal_SpecConstants.VISIBLE="visible";b.com_ibm_vis_internal_SpecConstants.AT=
"at";b.com_ibm_vis_internal_SpecConstants.INCLUDEINRANGE="includeInRange";b.com_ibm_vis_internal_SpecConstants.DERIVEDVALUE="derivedValue";b.com_ibm_vis_internal_SpecConstants.SPAN="span";b.com_ibm_vis_internal_SpecConstants.FUNCTIONNAME="functionName";b.com_ibm_vis_internal_SpecConstants.VARIABLE="variable";b.com_ibm_vis_internal_SpecConstants.DATAREF="dataRef";b.com_ibm_vis_internal_SpecConstants.MINZOOM="minZoom";b.com_ibm_vis_internal_SpecConstants.MAXZOOM="maxZoom";b.com_ibm_vis_internal_SpecConstants.URI=
"uri";b.com_ibm_vis_internal_SpecConstants.TILESIZE="tileSize";b.com_ibm_vis_internal_SpecConstants.ELEMENTLABEL="elementLabel";b.com_ibm_vis_internal_SpecConstants.BACKGROUNDSTYLE="backgroundStyle";b.com_ibm_vis_internal_SpecConstants.LINEMINSIZE="lineMinSize";b.com_ibm_vis_internal_SpecConstants.ARGS="args";b.com_ibm_vis_internal_SpecConstants.TICK="tick";b.com_ibm_vis_internal_SpecConstants.STRINGVALUESPEC="StringValueSpec";b.com_ibm_vis_internal_SpecConstants.TRANSFORMS="transforms";b.com_ibm_vis_internal_SpecConstants.DIMENSIONS=
"dimensions";b.com_ibm_vis_internal_SpecConstants.TRANSFORM="transform";b.com_ibm_vis_internal_SpecConstants.INSETPARAMETERS="insetParameters";b.com_ibm_vis_internal_SpecConstants.POLARPARAMETERS="polarParameters";b.com_ibm_vis_internal_SpecConstants.PROJECTIONPARAMETERS="projectionParameters";b.com_ibm_vis_internal_SpecConstants.POLAR="polar";b.com_ibm_vis_internal_SpecConstants.TRANSPOSE="transpose";b.com_ibm_vis_internal_SpecConstants.CLUSTER="cluster";b.com_ibm_vis_internal_SpecConstants.PROJECTION=
"projection";b.com_ibm_vis_internal_SpecConstants.POLARPARAMETER="polarParameter";b.com_ibm_vis_internal_SpecConstants.STARTANGLE="startAngle";b.com_ibm_vis_internal_SpecConstants.CCW="CCW";b.com_ibm_vis_internal_SpecConstants.DIAMETER="diameter";b.com_ibm_vis_internal_SpecConstants.PROJECTIONPARAMETER="projectionParameter";b.com_ibm_vis_internal_SpecConstants.MOVE="move";b.com_ibm_vis_internal_SpecConstants.FIT="fit";b.com_ibm_vis_internal_SpecConstants.STRETCH="stretch";b.com_ibm_vis_internal_SpecConstants.STANDARDLATITUDE=
"standardLatitude";b.com_ibm_vis_internal_SpecConstants.NAME="name";b.com_ibm_vis_internal_SpecConstants.MOVEITEMS="moveItems";b.com_ibm_vis_internal_SpecConstants.DIMENSION="dimension";b.com_ibm_vis_internal_SpecConstants.HORIZONTAL="horizontal";b.com_ibm_vis_internal_SpecConstants.VERTICAL="vertical";b.com_ibm_vis_internal_SpecConstants.BETWEEN="between";b.com_ibm_vis_internal_SpecConstants.OUTSIDETICKLABELS="outsideTickLabels";b.com_ibm_vis_internal_SpecConstants.PREFERREDSIZE="preferredSize";
b.com_ibm_vis_internal_SpecConstants.ALIGNWITHOTHERAXIS="alignWithOtherAxis";b.com_ibm_vis_internal_SpecConstants.BOXSTYLE="boxStyle";b.com_ibm_vis_internal_SpecConstants.OPPOSITE="opposite";b.com_ibm_vis_internal_SpecConstants.GRIDSTYLE="gridStyle";b.com_ibm_vis_internal_SpecConstants.TICKAS="tickAs";b.com_ibm_vis_internal_SpecConstants.NORMAL="normal";b.com_ibm_vis_internal_SpecConstants.PERCENTAGE="percentage";b.com_ibm_vis_internal_SpecConstants.SEGMENTED="segmented";b.com_ibm_vis_internal_SpecConstants.GRIDBAND=
"gridBand";b.com_ibm_vis_internal_SpecConstants.PREFERRED="preferred";b.com_ibm_vis_internal_SpecConstants.MIN="min";b.com_ibm_vis_internal_SpecConstants.MAX="max";b.com_ibm_vis_internal_SpecConstants.REVERSE="reverse";b.com_ibm_vis_internal_SpecConstants.CATEGORYSTRUCTURE="categoryStructure";b.com_ibm_vis_internal_SpecConstants.SPANS="spans";b.com_ibm_vis_internal_SpecConstants.LOCAL="local";b.com_ibm_vis_internal_SpecConstants.ALIGN="align";b.com_ibm_vis_internal_SpecConstants.START="start";b.com_ibm_vis_internal_SpecConstants.MIDDLE=
"middle";b.com_ibm_vis_internal_SpecConstants.END="end";b.com_ibm_vis_internal_SpecConstants.GAP="gap";b.com_ibm_vis_internal_SpecConstants.NEST="nest";b.com_ibm_vis_internal_SpecConstants.LINEAR="linear";b.com_ibm_vis_internal_SpecConstants.LOG="log";b.com_ibm_vis_internal_SpecConstants.ORDERBYWEIGHT="orderByWeight";b.com_ibm_vis_internal_SpecConstants.MINORDIVISIONS="minorDivisions";b.com_ibm_vis_internal_SpecConstants.EXACT="exact";b.com_ibm_vis_internal_SpecConstants.NICE="nice";b.com_ibm_vis_internal_SpecConstants.UNIT=
"unit";b.com_ibm_vis_internal_SpecConstants.TICKLABEL="tickLabel";b.com_ibm_vis_internal_SpecConstants.TICKDELTA="tickDelta";b.com_ibm_vis_internal_SpecConstants.CATEGORIES="categories";b.com_ibm_vis_internal_SpecConstants.CATEGORYWEIGHTS="categoryWeights";b.com_ibm_vis_internal_SpecConstants.OUTRANGE="outRange";b.com_ibm_vis_internal_SpecConstants.WEIGHTS="weights";b.com_ibm_vis_internal_SpecConstants.PARAMETER="parameter";b.com_ibm_vis_internal_SpecConstants.DEFAULTVALUE="defaultValue";b.com_ibm_vis_internal_SpecConstants.RESOLVEORDER=
"resolveOrder";b.com_ibm_vis_internal_SpecConstants.RESOLUTIONCASES="resolutionCases";b.com_ibm_vis_internal_SpecConstants.BOOLEAN="boolean";b.com_ibm_vis_internal_SpecConstants.STRING="string";b.com_ibm_vis_internal_SpecConstants.INTEGER="integer";b.com_ibm_vis_internal_SpecConstants.DOUBLE="double";b.com_ibm_vis_internal_SpecConstants.LENGTH="length";b.com_ibm_vis_internal_SpecConstants.COLORPALETTE="colorPalette";b.com_ibm_vis_internal_SpecConstants.STYLEBYPALETTE="styleByPalette";b.com_ibm_vis_internal_SpecConstants.RESOLUTION=
"resolution";b.com_ibm_vis_internal_SpecConstants.REQUIRED="required";b.com_ibm_vis_internal_SpecConstants.RESOLUTIONCASE="resolutionCase";b.com_ibm_vis_internal_SpecConstants.SOURCEPATH="sourcePath";b.com_ibm_vis_internal_SpecConstants.SET="set";b.com_ibm_vis_internal_SpecConstants.REMOVE="remove";b.com_ibm_vis_internal_SpecConstants.CREATEORSET="createOrSet";b.com_ibm_vis_internal_SpecConstants.SOURCEVALUE="sourceValue";b.com_ibm_vis_internal_SpecConstants.SOURCEPARAMETER="sourceParameter";b.com_ibm_vis_internal_SpecConstants.OUTPUT=
"output";b.com_ibm_vis_internal_SpecConstants.PROVIDER="provider";b.com_ibm_vis_internal_SpecConstants.INPUT="input";b.com_ibm_vis_internal_SpecConstants.SOURCE="source";b.com_ibm_vis_internal_SpecConstants.GROUP="group";b.com_ibm_vis_internal_SpecConstants.DERIVEDOUTPUTFIELD="derivedOutputField";b.com_ibm_vis_internal_SpecConstants.ROLE="role";b.com_ibm_vis_internal_SpecConstants.DERIVEDPARAMETER="derivedParameter";b.com_ibm_vis_internal_SpecConstants.WINDOW="window";b.com_ibm_vis_internal_SpecConstants.ADDTOTALCATEGORY=
"addTotalCategory";b.com_ibm_vis_internal_SpecConstants.ASCENDING="ascending";b.com_ibm_vis_internal_SpecConstants.REPLICATE="replicate";b.com_ibm_vis_internal_SpecConstants.SORTCATEGORIES="sortCategories";b.com_ibm_vis_internal_SpecConstants.BINSTART="binStart";b.com_ibm_vis_internal_SpecConstants.SUMMARYFUNCTION="summaryFunction";b.com_ibm_vis_internal_SpecConstants.PROVIDERDECLARATION="providerDeclaration";b.com_ibm_vis_internal_SpecConstants.PROVIDERID="providerId";b.com_ibm_vis_internal_SpecConstants.FIELDDECLARATION=
"fieldDeclaration";b.com_ibm_vis_internal_SpecConstants.TIMEZONE="timeZone";b.com_ibm_vis_internal_SpecConstants.GRANULARITY="granularity";b.com_ibm_vis_internal_SpecConstants.NEVER="never";b.com_ibm_vis_internal_SpecConstants.ALWAYS="always";b.com_ibm_vis_internal_SpecConstants.SUFFIX="suffix";b.com_ibm_vis_internal_SpecConstants.FITMETHOD="fitMethod";b.com_ibm_vis_internal_SpecConstants.REDUCEPRECISION="reducePrecision";b.com_ibm_vis_internal_SpecConstants.PREFIX="prefix";b.com_ibm_vis_internal_SpecConstants.DATEPATTERN=
"datePattern";b.com_ibm_vis_internal_SpecConstants.NUMERICPATTERN="numericPattern";b.com_ibm_vis_internal_SpecConstants.SCIENTIFICPATTERN="scientificPattern";b.com_ibm_vis_internal_SpecConstants.SCIENTIFIC="scientific";b.com_ibm_vis_internal_SpecConstants.NOSPACEFORMAT="noSpaceFormat";b.com_ibm_vis_internal_SpecConstants.NEGATIVEFORMAT="negativeFormat";b.com_ibm_vis_internal_SpecConstants.ZEROFORMAT="zeroFormat";b.com_ibm_vis_internal_SpecConstants.LOWER="lower";b.com_ibm_vis_internal_SpecConstants.UPPER=
"upper";b.com_ibm_vis_internal_SpecConstants.NEGATIVEFORMATSPEC="NegativeFormatSpec";b.com_ibm_vis_internal_SpecConstants.ZEROFORMATSPEC="ZeroFormatSpec";b.com_ibm_vis_internal_SpecConstants.DERIVEDINPUTFIELD="derivedInputField";b.com_ibm_vis_internal_SpecConstants.DERIVEDGROUP="derivedGroup";b.com_ibm_vis_internal_SpecConstants.PARAMETERVALUE="parameterValue";b.com_ibm_vis_internal_SpecConstants.EMBEDDEDDATA="embeddedData";b.com_ibm_vis_internal_SpecConstants.URIS="URIs";b.com_ibm_vis_internal_SpecConstants.CIRCLE=
"circle";b.com_ibm_vis_internal_SpecConstants.SQUARE="square";b.com_ibm_vis_internal_SpecConstants.RECTANGLE="rectangle";b.com_ibm_vis_internal_SpecConstants.TRIANGLE="triangle";b.com_ibm_vis_internal_SpecConstants.CROSS="cross";b.com_ibm_vis_internal_SpecConstants.PLUS="plus";b.com_ibm_vis_internal_SpecConstants.POLY="poly";b.com_ibm_vis_internal_SpecConstants.STAR="star";b.com_ibm_vis_internal_SpecConstants.POLYGON3="polygon-3";b.com_ibm_vis_internal_SpecConstants.POLYGON4="polygon-4";b.com_ibm_vis_internal_SpecConstants.POLYGON5=
"polygon-5";b.com_ibm_vis_internal_SpecConstants.POLYGON6="polygon-6";b.com_ibm_vis_internal_SpecConstants.POLYGON7="polygon-7";b.com_ibm_vis_internal_SpecConstants.POLYGON8="polygon-8";b.com_ibm_vis_internal_SpecConstants.POLYGON9="polygon-9";b.com_ibm_vis_internal_SpecConstants.POLYGON10="polygon-10";b.com_ibm_vis_internal_SpecConstants.POLYGON11="polygon-11";b.com_ibm_vis_internal_SpecConstants.POLYGON12="polygon-12";b.com_ibm_vis_internal_SpecConstants.POLYGON14="polygon-14";b.com_ibm_vis_internal_SpecConstants.POLYGON15=
"polygon-15";b.com_ibm_vis_internal_SpecConstants.POLYGON16="polygon-16";b.com_ibm_vis_internal_SpecConstants.POLY3="poly-3";b.com_ibm_vis_internal_SpecConstants.POLY4="poly-4";b.com_ibm_vis_internal_SpecConstants.POLY5="poly-5";b.com_ibm_vis_internal_SpecConstants.POLY6="poly-6";b.com_ibm_vis_internal_SpecConstants.POLY7="poly-7";b.com_ibm_vis_internal_SpecConstants.POLY8="poly-8";b.com_ibm_vis_internal_SpecConstants.POLY9="poly-9";b.com_ibm_vis_internal_SpecConstants.POLY10="poly-10";b.com_ibm_vis_internal_SpecConstants.POLY11=
"poly-11";b.com_ibm_vis_internal_SpecConstants.POLY12="poly-12";b.com_ibm_vis_internal_SpecConstants.POLY13="poly-13";b.com_ibm_vis_internal_SpecConstants.POLY14="poly-14";b.com_ibm_vis_internal_SpecConstants.POLY15="poly-15";b.com_ibm_vis_internal_SpecConstants.POLY16="poly-16";b.com_ibm_vis_internal_SpecConstants.STAR3="star-3";b.com_ibm_vis_internal_SpecConstants.STAR4="star-4";b.com_ibm_vis_internal_SpecConstants.STAR5="star-5";b.com_ibm_vis_internal_SpecConstants.STAR6="star-6";b.com_ibm_vis_internal_SpecConstants.STAR7=
"star-7";b.com_ibm_vis_internal_SpecConstants.STAR8="star-8";b.com_ibm_vis_internal_SpecConstants.STAR9="star-9";b.com_ibm_vis_internal_SpecConstants.STAR10="star-10";b.com_ibm_vis_internal_SpecConstants.STAR11="star-11";b.com_ibm_vis_internal_SpecConstants.STAR12="star-12";b.com_ibm_vis_internal_SpecConstants.STAR13="star-13";b.com_ibm_vis_internal_SpecConstants.STAR14="star-14";b.com_ibm_vis_internal_SpecConstants.STAR15="star-15";b.com_ibm_vis_internal_SpecConstants.STAR16="star-16";b.com_ibm_vis_internal_SpecConstants.CURVED=
"curved";b.com_ibm_vis_internal_SpecConstants.ELBOW="elbow";b.com_ibm_vis_internal_SpecConstants.CURVEDELBOW="curvedElbow";b.com_ibm_vis_internal_SpecConstants.SEMICIRCLE="semiCircle";b.com_ibm_vis_internal_SpecConstants.STRAIGHT="straight";b.com_ibm_vis_internal_SpecConstants.IBEAM="i-beam";b.com_ibm_vis_internal_SpecConstants.TBEAM="t-beam";b.com_ibm_vis_internal_SpecConstants.RECT="rect";b.com_ibm_vis_internal_SpecConstants.LETTERA="letter-A";b.com_ibm_vis_internal_SpecConstants.LETTERB="letter-B";
b.com_ibm_vis_internal_SpecConstants.LETTERC="letter-C";b.com_ibm_vis_internal_SpecConstants.ALIGNEDGE="alignEdge";b.com_ibm_vis_internal_SpecConstants.OUTLINEMETHOD="outlineMethod";b.com_ibm_vis_internal_SpecConstants.STARTARROW="startArrow";b.com_ibm_vis_internal_SpecConstants.ARROW="arrow";b.com_ibm_vis_internal_SpecConstants.CLOSEDARROW="closedArrow";b.com_ibm_vis_internal_SpecConstants.FILLEDARROW="filledArrow";b.com_ibm_vis_internal_SpecConstants.FILLEDCIRCLE="filledCircle";b.com_ibm_vis_internal_SpecConstants.FILLEDSQUARE=
"filledSquare";b.com_ibm_vis_internal_SpecConstants.DIAMOND="diamond";b.com_ibm_vis_internal_SpecConstants.FILLEDDIAMOND="filledDiamond";b.com_ibm_vis_internal_SpecConstants.CORNERRADIUS="cornerRadius";b.com_ibm_vis_internal_SpecConstants.SNAP="snap";b.com_ibm_vis_internal_SpecConstants.ENDARROW="endArrow";b.com_ibm_vis_internal_SpecConstants.VALIGN="valign";b.com_ibm_vis_internal_SpecConstants.MIDDLEOFFIRSTLINE="middleOfFirstLine";b.com_ibm_vis_internal_SpecConstants.EFFECT="effect";b.com_ibm_vis_internal_SpecConstants.ANGLE=
"angle";b.com_ibm_vis_internal_SpecConstants.OUTSIDE="outside";b.com_ibm_vis_internal_SpecConstants.CALLOUT="callout";b.com_ibm_vis_internal_SpecConstants.INSIDE="inside";b.com_ibm_vis_internal_SpecConstants.STROKE="stroke";b.com_ibm_vis_internal_SpecConstants.A="a";b.com_ibm_vis_internal_SpecConstants.B="b";b.com_ibm_vis_internal_SpecConstants.R="r";b.com_ibm_vis_internal_SpecConstants.S="s";b.com_ibm_vis_internal_SpecConstants.DSATURATION="dSaturation";b.com_ibm_vis_internal_SpecConstants.V="v";
b.com_ibm_vis_internal_SpecConstants.G="g";b.com_ibm_vis_internal_SpecConstants.H="h";b.com_ibm_vis_internal_SpecConstants.DLIGHTNESS="dLightness";b.com_ibm_vis_internal_SpecConstants.DALPHA="dAlpha";b.com_ibm_vis_internal_SpecConstants.L="l";b.com_ibm_vis_internal_SpecConstants.DVALUE="dValue";b.com_ibm_vis_internal_SpecConstants.COLORS="colors";b.com_ibm_vis_internal_SpecConstants.GLOBAL="global";b.com_ibm_vis_internal_SpecConstants.FOCUS="focus";b.com_ibm_vis_internal_SpecConstants.RADIAL="radial";
b.com_ibm_vis_internal_SpecConstants.LINEARBYYDIMENSION="linearByYDimension";b.com_ibm_vis_internal_SpecConstants.LINEARBYXDIMENSION="linearByXDimension";b.com_ibm_vis_internal_SpecConstants.COLOROFFSET="colorOffset";b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITYSTYLE="accessibilityStyle";b.com_ibm_vis_internal_SpecConstants.IGNORE="ignore";b.com_ibm_vis_internal_SpecConstants.HINT="hint";b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITYSTATE="accessibilityState";b.com_ibm_vis_internal_SpecConstants.ITALIC=
"italic";b.com_ibm_vis_internal_SpecConstants.WEIGHT="weight";b.com_ibm_vis_internal_SpecConstants.BOLD="bold";b.com_ibm_vis_internal_SpecConstants.SHADOW="shadow";b.com_ibm_vis_internal_SpecConstants.GLOW="glow";b.com_ibm_vis_internal_SpecConstants.STDDEV="stdDev";b.com_ibm_vis_internal_SpecConstants.DX="dx";b.com_ibm_vis_internal_SpecConstants.DY="dy";b.com_ibm_vis_internal_SpecConstants.SHAPE="shape";b.com_ibm_vis_internal_SpecConstants.SCALEDIMENSIONS="scaleDimensions";b.com_ibm_vis_internal_SpecConstants.SYMBOLSHAPE=
"symbolShape";b.com_ibm_vis_internal_SpecConstants.MITER="miter";b.com_ibm_vis_internal_SpecConstants.BEVEL="bevel";b.com_ibm_vis_internal_SpecConstants.CAP="cap";b.com_ibm_vis_internal_SpecConstants.BUTT="butt";b.com_ibm_vis_internal_SpecConstants.JOIN="join";b.com_ibm_vis_internal_SpecConstants.ICON="icon";b.com_ibm_vis_internal_SpecConstants.TEXTURE="texture";b.com_ibm_vis_internal_SpecConstants.ALPHA="alpha";b.com_ibm_vis_internal_SpecConstants.INTERSECT="intersect";b.com_ibm_vis_internal_SpecConstants.INCLUDEALLSOURCE=
"includeAllSource";b.com_ibm_vis_internal_SpecConstants.SOURCEFIELDS="sourceFields";b.com_ibm_vis_internal_SpecConstants.THINNINGDISTANCEFRACTION="thinningDistanceFraction";b.com_ibm_vis_internal_SpecConstants.DATELINE="dateline";b.com_ibm_vis_internal_SpecConstants.DATAKEYS="dataKeys";b.com_ibm_vis_internal_SpecConstants.SOURCEKEYS="sourceKeys";b.com_ibm_vis_internal_SpecConstants.RESOURCEREF="resourceRef";b.com_ibm_vis_internal_SpecConstants.BASETEXTDIRECTION="baseTextDirection";b.com_ibm_vis_internal_SpecConstants.LTR=
"ltr";b.com_ibm_vis_internal_SpecConstants.RTL="rtl";b.com_ibm_vis_internal_SpecConstants.LOCALE="locale";b.com_ibm_vis_internal_SpecConstants.NATIONALSHAPING="nationalShaping";b.com_ibm_vis_internal_SpecConstants.CONTEXTUALSHAPING="contextualShaping";b.com_ibm_vis_internal_SpecConstants.MIRROR="mirror";b.com_ibm_vis_internal_SpecConstants.DIGITS="digits";b.com_ibm_vis_internal_SpecConstants.ARABIC="ARABIC";b.com_ibm_vis_internal_SpecConstants.BENGALI="BENGALI";b.com_ibm_vis_internal_SpecConstants.DEVANAGARI=
"DEVANAGARI";b.com_ibm_vis_internal_SpecConstants.EASTERN_ARABIC="EASTERN_ARABIC";b.com_ibm_vis_internal_SpecConstants.ETHIOPIC="ETHIOPIC";b.com_ibm_vis_internal_SpecConstants.EUROPEAN="EUROPEAN";b.com_ibm_vis_internal_SpecConstants.GUJARATI="GUJARATI";b.com_ibm_vis_internal_SpecConstants.GURMUKHI="GURMUKHI";b.com_ibm_vis_internal_SpecConstants.KANNADA="KANNADA";b.com_ibm_vis_internal_SpecConstants.KHMER="KHMER";b.com_ibm_vis_internal_SpecConstants.LAO="LAO";b.com_ibm_vis_internal_SpecConstants.MALAYALAM=
"MALAYALAM";b.com_ibm_vis_internal_SpecConstants.MONGOLIAN="MONGOLIAN";b.com_ibm_vis_internal_SpecConstants.MYANMAR="MYANMAR";b.com_ibm_vis_internal_SpecConstants.ORIYA="ORIYA";b.com_ibm_vis_internal_SpecConstants.TAMIL="TAMIL";b.com_ibm_vis_internal_SpecConstants.TELUGU="TELUGU";b.com_ibm_vis_internal_SpecConstants.THAI="THAI";b.com_ibm_vis_internal_SpecConstants.TIBETAN="TIBETAN";b.com_ibm_vis_internal_SpecConstants.DEFAULTCONTEXT="defaultContext";b.com_ibm_vis_internal_SpecConstants.TITLESPEC=
"TitleSpec";b.com_ibm_vis_internal_SpecConstants.SUBTITLE="subtitle";b.com_ibm_vis_internal_ObjectWithNativeCache=b.com_ibm_init_declare({setNativeCache:function(a){this.nh_1=a},getNativeCache:function(){return this.nh_1}});b.com_ibm_vis_internal_SpecVar=b.com_ibm_init_declare(b.com_ibm_vis_internal_ObjectWithNativeCache,{at_1:0,getName:function(){return this.name},getJavaType:function(){return this.jp_1},getArrayDepth:function(){return this.at_1}});b.com_ibm_vis_internal_SpecVar.createArraySpecVar=
function(a,d,c){var e=new b.com_ibm_vis_internal_SpecVar;e.name=a;e.jp_1=d;e.at_1=c;return e};b.com_ibm_vis_internal_SpecVar.createSpecVar=function(a,d){var c=new b.com_ibm_vis_internal_SpecVar;c.name=a;c.jp_1=d;return c};b.com_ibm_vis_internal_SpecClassInfo=b.com_ibm_init_declare({constructor:function(){this.se_6=new b.com_ibm_rave_codegenerator_util_Map},getSpecClass:function(a){return this.se_6.get(a)},pf$1:function(){var a,d;d="VisJSONSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"size","SizeSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"legends","LegendSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"copyright","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"grammar","GrammarSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"parameters","ParameterSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"data","DataSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.PARAMETERVALUES,"ParameterValueSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
"resource","ResourceSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"augment","AugmentSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.LEGENDPOSITION,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"version","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.LOCALIZATION,"LocalizationSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"titles",
"TitleSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DESCRIPTION,"String");this.se_6.put(d,a);d="SizeSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"width","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"height","Object");this.se_6.put(d,a);d="LegendSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"markStyle",
"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"stripes","Number");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"aesthetics","AestheticReferenceSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"scale","ScaleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.LEGENDENTRYSTYLE,"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"multiline","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ORIENTATION,"String");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"tickStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"location","Object");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"elements","ElementRefSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"title","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"titleStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"rows","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ITEMBOXSTYLE,"StyleSpec");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.BOUNDSSTYLE,"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"minorStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"labelStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"lineStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.MIRROREDLABELS,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"columns","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"itemStyle","StyleSpec");this.se_6.put(d,a);d="AestheticReferenceSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"aesthetic","AestheticRefSpec");this.se_6.put(d,a);d="AestheticRefSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"$ref","String");this.se_6.put(d,a);d="GrammarSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.AXISPADDING,
"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"bounds","BoundsSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"facet","FacetSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"elements","ElementsSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.AXESOVERFLOW,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.COORDINATES,"CoordinatesSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.LABELCOLLISIONMETHOD,"String");this.se_6.put(d,a);d="BoundsSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"top","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"center","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"width","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"height","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"left","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"bottom",
"Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"right","Object");this.se_6.put(d,a);d="FacetSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"targetPart","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"fields","FacetFieldSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"sharedAxes","Number",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.TARGETELEMENT,
"ElementRefSpec");this.se_6.put(d,a);d="FacetFieldSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"axis","AxisSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldRefSpec");this.se_6.put(d,a);d="FieldRefSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"$ref","String");this.se_6.put(d,a);d="ElementRefSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"$ref","String");
this.se_6.put(d,a);d="ElementsSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"size","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"tooltip","TooltipSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"meta","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITY,"AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"font","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"clip","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"dashing","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"visibility","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"offset","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"components","ComponentSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"symbol","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.POSITIONING,"LayoutSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
"split","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.POSITIONMODIFIER,"String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"styles","TargetedStyleSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"color","AestheticSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.INTERPOLATION,"String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"styleBy","AestheticSpec",
1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"position","PositionSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"data","DataRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.INTERACTIONTYPE,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.CUSTOMOPTIONS,"CustomOptionsSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"clipBySpan","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
"label","ElementLabelSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"zOrder","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.TEXTBACKGROUNDSTYLE,"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SYMBOLSTYLE,"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"content","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.DESCRIPTION,
"Object",1);this.se_6.put(d,a);d="TooltipSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"modifies","PartSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"content","Object",1);this.se_6.put(d,a);d="PartSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"part","String");this.se_6.put(d,a);d="ComponentSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"field","FieldValueRefSpec");this.se_6.put(d,a);d="LayoutSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"size","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.NODEPLACEMENT,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"spacing","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"order","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ORIENTATION,"String");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"padding","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"layer","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.RESPECTBUBBLESIZE,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.LAYERPLACEMENT,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"linkType","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.POSITIONOVERRIDE,
"PositionOverrideSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.PRUNEDNODES,"Number",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"swimLanes","SwimLaneSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.PACKPARAMETERS,"PackParametersSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"family",
"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.NEIGHBOURDETAILS,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"linkGroup","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"parent","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"data","LayoutDataSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"parameters","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"leafOnly","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"layout","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"from","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ATTACHMENTPOINT,"Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"date","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"levels","LevelsSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SPIRALPARAMETERS,"SpiralParametersSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.COMBINECATEGORIES,
"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"to","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.PRUNEDEDGES,"Number",2);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.INCREMENTALNETWORKLAYOUT,"Boolean");this.se_6.put(d,a);d="PositionOverrideSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"node","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"x","Number");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"y","Number");this.se_6.put(d,a);d="SwimLaneSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.IDEALNODECOUNTVALUE,"FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.MAXROWVALUE,"FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","FieldRefSpec");this.se_6.put(d,a);d="PackParametersSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"rowOrder","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.COLUMNORDER,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.INCLUDEELLIPSIS,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"major","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"rows","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.ELLIPSISPOSITION,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"columns","Number");this.se_6.put(d,a);d="LayoutDataSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldRefSpec");this.se_6.put(d,a);d="AttachmentPointsSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"outPoint","ConnectionPointSpec");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"inPoint","ConnectionPointSpec");this.se_6.put(d,a);d="ConnectionPointSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldValueRefSpec");this.se_6.put(d,a);d="LevelsSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.LABELCONTENT,"Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"field","FieldRefSpec");this.se_6.put(d,a);d="SpiralParametersSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"fitAll","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.ORIENTATIONS,"Number",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ORIENTATIONSCHEME,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"spiralType","String");this.se_6.put(d,a);d="TargetedStyleSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"target","String");this.se_6.put(d,a);d="AestheticSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"modifies","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"nullValue","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldValueRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"scale","ScaleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"palette","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"mapping","MappingSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"key","String");this.se_6.put(d,a);d="ModifiesSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"part","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DESCENDANTS,
"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");this.se_6.put(d,a);d="FieldValueRefSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"format","FormatSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"$ref","String");this.se_6.put(d,a);d="MappingSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"pattern","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"state","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"size","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"atLabel","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"visible","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"at","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"color","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"symbol","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"text","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"font","FontSpec");this.se_6.put(d,a);d="PositionSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.INCLUDEINRANGE,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DERIVEDVALUE,
"DerivedValueSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"span","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldValueRefSpec");this.se_6.put(d,a);d="DerivedValueSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"target","ElementRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.FUNCTIONNAME,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"variable","Object");this.se_6.put(d,a);d="DataRefSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"$ref","String");this.se_6.put(d,a);d="CustomOptionsSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"minZoom","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"maxZoom","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"uri","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"tileSize","Number");this.se_6.put(d,a);d="ElementLabelSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"size","AestheticSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"visibility","AestheticSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"color","AestheticSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.BACKGROUNDSTYLE,"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"modifies","ModifiesSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
"content","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"lineStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.LINEMINSIZE,"Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"font","AestheticSpec");this.se_6.put(d,a);d="ArgumentSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"args","String");this.se_6.put(d,a);d="StringValueSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","String");this.se_6.put(d,a);d="CoordinatesSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"transforms","TransformSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"dimensions","DimensionSpec",1);this.se_6.put(d,a);d="TransformSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.INSETPARAMETERS,"InsetParametersSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.POLARPARAMETERS,"PolarParametersSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.PROJECTIONPARAMETERS,"ProjectionParametersSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");this.se_6.put(d,a);d="InsetParametersSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"top","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"left","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"bottom","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"right","Object");this.se_6.put(d,a);d="PolarParametersSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"startAngle","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"CCW","Boolean");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"diameter","PreferredSizeSpec");this.se_6.put(d,a);d="ProjectionParametersSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"move","ProjectionMoveSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.STANDARDLATITUDE,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"name","String");this.se_6.put(d,a);d="ProjectionMoveSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"from","Number",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"to","Number",1);this.se_6.put(d,a);d="DimensionSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"axis","AxisSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"scale","ScaleSpec");this.se_6.put(d,a);d="AxisSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method",
"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.OUTSIDETICKLABELS,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.PREFERREDSIZE,"PreferredSizeSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"markStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ALIGNWITHOTHERAXIS,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"boxStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"opposite","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"gridStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"tickAs","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"segmented","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"visible","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"tickStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"title","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"titleStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"gridBand","GridBandSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"minorStyle","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"lineStyle","StyleSpec");this.se_6.put(d,a);d="PreferredSizeSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"preferred","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"min","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"max","Object");this.se_6.put(d,a);d="GridBandSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"fill","Object",1);this.se_6.put(d,a);d="ScaleSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"padding","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"reverse","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.CATEGORYSTRUCTURE,"CategoryStructureSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"spans","SpanSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"local","Boolean");this.se_6.put(d,a);d="CategoryStructureSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"align","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"gap","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"width","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"nest","Boolean");this.se_6.put(d,a);d="SpanSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.MINORDIVISIONS,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"fit","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"min","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"max","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"unit","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"tickLabel","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"tickDelta","Number");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"categories","Number",
1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.CATEGORYWEIGHTS,"CategoryWeightsSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"outRange","SpanOutRangeSpec");this.se_6.put(d,a);d="CategoryWeightsSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"weights","FieldValueRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"categories","FieldValueRefSpec");this.se_6.put(d,a);d="SpanOutRangeSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"min","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"max","Number");this.se_6.put(d,a);d="ParameterSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DEFAULTVALUE,"Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.RESOLVEORDER,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"label","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
b.com_ibm_vis_internal_SpecConstants.RESOLUTIONCASES,"ResolutionCasesSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"resolution","ResolutionSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DESCRIPTION,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"required","Boolean");this.se_6.put(d,a);d="ResolutionCasesSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"resolution","ResolutionSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.RESOLUTIONCASE,"Object");this.se_6.put(d,a);d="ResolutionSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"sourcePath","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"target","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SOURCEVALUE,
"Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SOURCEPARAMETER,"Object");this.se_6.put(d,a);d="DataSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"output","DerivedOutputFieldSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"provider","DataProviderSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"rows","double",2);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"fields","FieldSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
"input","DerivedInputFieldSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"source","DataRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"group","DerivedGroupSpec",1);this.se_6.put(d,a);d="DerivedOutputFieldSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"role","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldSpec");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"input","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"parameters","DerivedParameterSpec");this.se_6.put(d,a);d="DerivedParameterSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"window","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ADDTOTALCATEGORY,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"ascending","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"replicate","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SORTCATEGORIES,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"binStart","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SUMMARYFUNCTION,"String");this.se_6.put(d,a);d="DataProviderSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"providerId","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"args",
"Object");this.se_6.put(d,a);d="FieldSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"min","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"max","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"unit","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"label","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"format","FormatSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"timeZone","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"id","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"categories","String",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.GRANULARITY,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"order","Number",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"key","Boolean");this.se_6.put(d,a);d="FormatSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"suffix","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"fitMethod",
"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"prefix","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DATEPATTERN,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.NUMERICPATTERN,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SCIENTIFICPATTERN,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"scientific","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.NOSPACEFORMAT,"NoSpaceFormatSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.NEGATIVEFORMAT,"NegativeFormatSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"zeroFormat","ZeroFormatSpec");this.se_6.put(d,a);d="ScientificSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"lower","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"upper","Number");this.se_6.put(d,a);d="NoSpaceFormatSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"pattern","String");this.se_6.put(d,a);d="NegativeFormatSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.NUMERICPATTERN,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SCIENTIFICPATTERN,"String");this.se_6.put(d,a);d="ZeroFormatSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.NUMERICPATTERN,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SCIENTIFICPATTERN,"String");this.se_6.put(d,a);d="DerivedInputFieldSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"role","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"field","FieldRefSpec");this.se_6.put(d,a);d="DerivedGroupSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"output","FieldSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"input","FieldRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.GRANULARITY,"Number");this.se_6.put(d,a);d="ParameterValueSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","String");this.se_6.put(d,a);d="ResourceSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.EMBEDDEDDATA,"String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"URIs","String",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"id","String");this.se_6.put(d,a);d="StyleSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"size","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"outline","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"alignEdge","String");
b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"fill","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.OUTLINEMETHOD,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"align","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"width","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"height","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"startArrow","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.CORNERRADIUS,
"Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"snap","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITY,"AccessibilityStyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"endArrow","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"font","FontSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"valign","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"padding","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"effect",
"EffectSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"angle","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"location","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"symbol","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"stroke","StrokeSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"image","ImageSpec");this.se_6.put(d,a);d="ColorSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"a","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"b","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"r","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"s","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DSATURATION,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"v","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"g","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"h","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"dLightness","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"dAlpha","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"l","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"dValue","Number");this.se_6.put(d,a);d="FillSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"colors","ColorOffsetSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"global","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"angle","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"focus","FocusSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"type","String");this.se_6.put(d,a);d="ColorOffsetSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"offset","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"color","Object");this.se_6.put(d,a);d="FocusSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"x","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"y","Object");this.se_6.put(d,a);d="AccessibilityStyleSpec";a=new b.com_ibm_vis_internal_SpecClass(d);
b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"state","AccessibilityStateSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"ignore","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"label","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"role","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"hint","String");this.se_6.put(d,a);d="AccessibilityStateSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"value","Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"key","String");this.se_6.put(d,a);d="FontSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"size","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"family","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"weight","String");this.se_6.put(d,a);d="PaddingSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"top","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"left","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"bottom","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"right","Object");this.se_6.put(d,a);d="EffectSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"shadow","ShadowSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"glow","GlowSpec");this.se_6.put(d,a);d="ShadowSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"stdDev","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"color","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"dx","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"dy","Object");this.se_6.put(d,a);d="GlowSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"stdDev","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"color","Object");this.se_6.put(d,a);d="SymbolSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"shape","SymbolShapeSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"bounds","BoundsSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SCALEDIMENSIONS,"String");this.se_6.put(d,a);d="SymbolShapeSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"shape","SymbolShapeSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"part","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"bounds","BoundsSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"path","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.SCALEDIMENSIONS,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");this.se_6.put(d,a);d="StrokeSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"cap","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"width","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"join","Object");
this.se_6.put(d,a);d="ImageSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"align","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"source","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"alpha","Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"valign","String");this.se_6.put(d,a);d="AugmentSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
b.com_ibm_vis_internal_SpecConstants.INCLUDEINRANGE,"Boolean");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"method","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"target","DataRefSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,b.com_ibm_vis_internal_SpecConstants.SOURCEFIELDS,"FieldSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.THINNINGDISTANCEFRACTION,"Number");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"source","Object");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"transform","String");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"dataKeys","FieldRefSpec",1);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"sourceKeys","String",1);this.se_6.put(d,a);d="ResourceRefSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"$ref","String");this.se_6.put(d,a);d="LocalizationSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.BASETEXTDIRECTION,"String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,
"locale","String");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.NATIONALSHAPING,"NationalShapingSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.CONTEXTUALSHAPING,"ContextualShapingSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"mirror","Boolean");this.se_6.put(d,a);d="NationalShapingSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"digits","String");this.se_6.put(d,a);d="ContextualShapingSpec";
a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$1(a,"digits","String",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.DEFAULTCONTEXT,"String");this.se_6.put(d,a);d="TitleSpec";a=new b.com_ibm_vis_internal_SpecClass(d);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"style","StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$2(a,b.com_ibm_vis_internal_SpecConstants.BACKGROUNDSTYLE,"StyleSpec");b.com_ibm_vis_internal_SpecClassInfo.as$1(a,
"content","Object",1);b.com_ibm_vis_internal_SpecClassInfo.as$2(a,"type","String");this.se_6.put(d,a)}});b.com_ibm_vis_internal_SpecClassInfo.getInstance=function(){return b.com_ibm_vis_internal_SpecClassInfo.ic_1};b.com_ibm_vis_internal_SpecClassInfo.as$1=function(a,d,c,e){a.addVar(b.com_ibm_vis_internal_SpecVar.createArraySpecVar(d,c,e))};b.com_ibm_vis_internal_SpecClassInfo.as$2=function(a,d,c){a.addVar(b.com_ibm_vis_internal_SpecVar.createSpecVar(d,c))};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_internal_SpecClassInfo.ic_1=
new b.com_ibm_vis_internal_SpecClassInfo;b.com_ibm_vis_internal_SpecClassInfo.ic_1.pf$1()});b.com_ibm_vis_exceptions_VisException=b.com_ibm_init_declare(Error,{constructor:function(a,b){this.mg_1=a;this.ed_1=b;this.cx_2=null},constructor:function(a,b,c){this.mg_1=a;this.ed_1=b;this.cx_2=c},getMessage:function(){return null==this.mg_1?this.getErrorDescription():this.mg_1},getLocalizedMessage:function(){return this.getMessage()},getLocalizedMessageForLocale:function(a){return this.getMessage()},getErrorCode:function(){return this.ed_1},
getErrorDescription:function(){return b.com_ibm_vis_exceptions_ErrorCodeDescriptions.getDescription(this.ed_1)},getLocalizedErrorDescription:function(){return b.com_ibm_vis_exceptions_ErrorCodeDescriptions.getLocalizedDescription(this.ed_1,null)},getLocalizedErrorDescriptionForLocale:function(a){return b.com_ibm_vis_exceptions_ErrorCodeDescriptions.getLocalizedDescription(this.ed_1,a)},getContext:function(){return this.cx_2},getParameterKeys:function(){return b.com_ibm_vis_exceptions_VisException.NY_1},
getParameterValue:function(a){return null}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_exceptions_VisException.NY_1=[]});b.com_ibm_vis_exceptions_internal_SpecException=b.com_ibm_init_declare(b.com_ibm_vis_exceptions_VisException,{});b.com_ibm_rave_codegenerator_lang_Enum=function(){var a=b.com_ibm_init_declare({constructor:function(){this._name=arguments[arguments.length-1];var a=this.constructor;a.__enumLiterals||(a.__enumLiterals=[]);a.__enumLiterals.push(this);this._ordinal=a.__enumLiterals.length-
1},name:function(){return this._name},ordinal:function(){return this._ordinal},getDeclaringClass:function(){return this.constructor},compareTo:function(a){if(this.constructor!=a.constructor)throw Error("ClassCastException: "+this.declaredClass+" is not the same as "+a.declaredClass);return this._ordinal-a._ordinal},toString:function(){return this._name},hashCode:function(){return 31*this._ordinal},equals:function(a){return this===a}});a.valueOf=function(a,b){var e=a.__enumLiterals;if(e)for(var g=
0;g<e.length;++g)if(e[g].name()==b)return e[g];return null};a.values=function(a){return(a=a.__enumLiterals)?a.slice():null};return a}();b.com_ibm_vis_exceptions_ErrorCode=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW=new b.com_ibm_vis_exceptions_ErrorCode("DATA_OVERFLOW");b.com_ibm_vis_exceptions_ErrorCode.DATA_CONVERSION=new b.com_ibm_vis_exceptions_ErrorCode("DATA_CONVERSION");b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID=new b.com_ibm_vis_exceptions_ErrorCode("DATA_INVALID");
b.com_ibm_vis_exceptions_ErrorCode.ERROR_UNKNOWN=new b.com_ibm_vis_exceptions_ErrorCode("ERROR_UNKNOWN");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_LAYOUT_DOES_NOT_FIT");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_SCALE_TOO_SMALL=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_SCALE_TOO_SMALL");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_KEY_IN_GEO_AUGMENT=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_UNMATCHED_KEY_IN_GEO_AUGMENT");
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_PROPERTY_IN_GEO_AUGMENT=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_UNMATCHED_PROPERTY_IN_GEO_AUGMENT");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_EMPTY_GEO_JSON=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_EMPTY_GEO_JSON");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_MIRRORING_UNSUPPORTED_FOR_GEO_JSON=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_MIRRORING_UNSUPPORTED_FOR_GEO_JSON");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_TRANSITION_UNSUPPORTED_TARGET=
new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_TRANSITION_UNSUPPORTED_TARGET");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_TRANSITION_UNSUPPORTED_SIMULTANEOUS_EFFECT=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_TRANSITION_UNSUPPORTED_SIMULTANEOUS_EFFECT");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_COMPOSITE_EFFECT_NO_CHILD=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_COMPOSITE_EFFECT_NO_CHILD");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_TOO_MANY_FIELDS=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_FACET_TOO_MANY_FIELDS");
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_NO_FIELDS=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_FACET_NO_FIELDS");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA_SOURCE=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_FACET_INVALID_DATA_SOURCE");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_FACET_INVALID_DATA");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ROWS_CREATE_CONFLICTING_LABEL=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_ROWS_CREATE_CONFLICTING_LABEL");
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LEGENDS_ERROR=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_LEGENDS_ERROR");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LOCALIZATION_ERROR=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_LOCALIZATION_ERROR");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_ILLEGAL_ARGUMENT");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_UNSUPPORTED_OPERATION");
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LOG_INVALID_DATA=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_LOG_INVALID_DATA");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ELEMENT_COMPONENTS_INVALID=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_ELEMENT_COMPONENTS_INVALID");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_CATEGORICAL_INDEX_NOT_FOUND=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_CATEGORICAL_INDEX_NOT_FOUND");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FORMATTING_ERROR=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_FORMATTING_ERROR");
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_TRANSFORM=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_ILLEGAL_TRANSFORM");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_BAD_GEOM=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_BAD_GEOM");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UPDATE_DATA_REQUIRES_PRIOR_SPECIFICATION=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_UPDATE_DATA_REQUIRES_PRIOR_SPECIFICATION");b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_PARSE_FAIL");
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_VALUE");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_DATA_FIELD_REFERENCE=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_DATA_FIELD_REFERENCE");b.com_ibm_vis_exceptions_ErrorCode.SPEC_BAD_GUIDE_ELEMENT=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_BAD_GUIDE_ELEMENT");b.com_ibm_vis_exceptions_ErrorCode.SPEC_UNABLE_TO_LOCATE_DATA=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_UNABLE_TO_LOCATE_DATA");
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_PARAMETERS");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_LENGTH");b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_EMPTY=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_IS_EMPTY");b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_IS_NULL");b.com_ibm_vis_exceptions_ErrorCode.SPEC_DUPLICATE_ID=
new b.com_ibm_vis_exceptions_ErrorCode("SPEC_DUPLICATE_ID");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VERSION=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_VERSION");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_LEGENDS");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_NUMBER_OF_VALUES_IN_ROW=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_NUMBER_OF_VALUES_IN_ROW");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE_FOR_CATEGORICAL_FIELD=
new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_VALUE_FOR_CATEGORICAL_FIELD");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_DECIMAL_VALUE_FOR_CATEGORICAL_FIELD=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_DECIMAL_VALUE_FOR_CATEGORICAL_FIELD");b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_RESOURCE_URI=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_RESOURCE_URI");b.com_ibm_vis_exceptions_ErrorCode.SPEC_UNDEFINED_REFERENCE=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_UNDEFINED_REFERENCE");
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_REFERENCE_TYPE=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_INVALID_REFERENCE_TYPE");b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_MISSING_PARAMETER");b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISMATCHED_FIELD_REFERENCE=new b.com_ibm_vis_exceptions_ErrorCode("SPEC_MISMATCHED_FIELD_REFERENCE");b.com_ibm_vis_exceptions_ErrorCode.RENDERER_UNSUPPORTED=new b.com_ibm_vis_exceptions_ErrorCode("RENDERER_UNSUPPORTED");
b.com_ibm_vis_exceptions_ErrorCode.RENDERER_UNAVAILABLE=new b.com_ibm_vis_exceptions_ErrorCode("RENDERER_UNAVAILABLE");b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION=new b.com_ibm_vis_exceptions_ErrorCode("MIGRATION_INVALID_PATH_EXPRESSION");b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_COULD_NOT_BE_DONE=new b.com_ibm_vis_exceptions_ErrorCode("MIGRATION_COULD_NOT_BE_DONE");b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_INVALID_PATH=new b.com_ibm_vis_exceptions_ErrorCode("JSONPATH_INVALID_PATH");
b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_UNSUPPORTED_FEATURE=new b.com_ibm_vis_exceptions_ErrorCode("JSONPATH_UNSUPPORTED_FEATURE");b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_BAD_ARRAY_INDEX=new b.com_ibm_vis_exceptions_ErrorCode("JSONPATH_BAD_ARRAY_INDEX");b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_OBJECT_DOES_NOT_EXIST=new b.com_ibm_vis_exceptions_ErrorCode("JSONPATH_OBJECT_DOES_NOT_EXIST");b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_JSON=new b.com_ibm_vis_exceptions_ErrorCode("TEMPLATE_INVALID_JSON");
b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_CANNOT_BE_RESOLVED=new b.com_ibm_vis_exceptions_ErrorCode("TEMPLATE_CANNOT_BE_RESOLVED");b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT=new b.com_ibm_vis_exceptions_ErrorCode("TEMPLATE_INVALID_ARGUMENT");b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_NOT_FOUND=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_NOT_FOUND");b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_VALUE_TYPE_MISMATCH=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_VALUE_TYPE_MISMATCH");
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_ID_INVALID_TYPE=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_ID_INVALID_TYPE");b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_INVALID_VALUE");b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_VALUE_IS_EMPTY=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_VALUE_IS_EMPTY");b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_DEFAULT_VALUE_TYPE_MISMATCH=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_DEFAULT_VALUE_TYPE_MISMATCH");
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_RESOLUTION_CASE_MISMATCH=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_RESOLUTION_CASE_MISMATCH");b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_RESOLUTION_CASE=new b.com_ibm_vis_exceptions_ErrorCode("PARAMETER_INVALID_RESOLUTION_CASE");b.com_ibm_vis_exceptions_ErrorCode.SWIM_LANE_ELEMENT_ORDER=new b.com_ibm_vis_exceptions_ErrorCode("SWIM_LANE_ELEMENT_ORDER");b.com_ibm_vis_exceptions_ErrorCode.SWIM_LANE_DATA=new b.com_ibm_vis_exceptions_ErrorCode("SWIM_LANE_DATA");
b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_FAILED=new b.com_ibm_vis_exceptions_ErrorCode("DATA_PROVIDER_FAILED");b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_NOT_FOUND=new b.com_ibm_vis_exceptions_ErrorCode("DATA_PROVIDER_NOT_FOUND");b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_NOT_READY=new b.com_ibm_vis_exceptions_ErrorCode("DATA_PROVIDER_NOT_READY");b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION=new b.com_ibm_vis_exceptions_ErrorCode("DATA_PROVIDER_CONVERSION");b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION=
new b.com_ibm_vis_exceptions_ErrorCode("EXTENSION_POINT_EXCEPTION");b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_SUPPORTED=new b.com_ibm_vis_exceptions_ErrorCode("EXTENSION_NOT_SUPPORTED");b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_ALREADY_REGISTERED=new b.com_ibm_vis_exceptions_ErrorCode("EXTENSION_ALREADY_REGISTERED");b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_FOUND=new b.com_ibm_vis_exceptions_ErrorCode("EXTENSION_NOT_FOUND");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_RES_FMT_HANDLER_NOT_SET=
new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_RES_FMT_HANDLER_NOT_SET");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_RES_NATIVERES_NOT_SET=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_RES_NATIVERES_NOT_SET");b.com_ibm_vis_exceptions_ErrorCode.ENGINE_SIZE_TOO_LARGE_FOR_IPHONE=new b.com_ibm_vis_exceptions_ErrorCode("ENGINE_SIZE_TOO_LARGE_FOR_IPHONE");b.com_ibm_vis_exceptions_ErrorCode.SERIALIZE_ERROR=new b.com_ibm_vis_exceptions_ErrorCode("SERIALIZE_ERROR");b.com_ibm_vis_exceptions_ErrorCode.SCENE_TREE_FAIL=
new b.com_ibm_vis_exceptions_ErrorCode("SCENE_TREE_FAIL");b.com_ibm_vis_exceptions_ErrorCode.SET_SPEC_FAIL=new b.com_ibm_vis_exceptions_ErrorCode("SET_SPEC_FAIL");b.com_ibm_vis_exceptions_ErrorCode.INTERACTIVITY_FAIL=new b.com_ibm_vis_exceptions_ErrorCode("INTERACTIVITY_FAIL");b.com_ibm_vis_exceptions_ErrorCode.RENDER_FAIL=new b.com_ibm_vis_exceptions_ErrorCode("RENDER_FAIL");b.com_ibm_vis_exceptions_ErrorCode.EFFECTS_FAIL=new b.com_ibm_vis_exceptions_ErrorCode("EFFECTS_FAIL");b.com_ibm_vis_exceptions_ErrorCode.ASYNCH_ACTION_FAIL=
new b.com_ibm_vis_exceptions_ErrorCode("ASYNCH_ACTION_FAIL");b.com_ibm_vis_exceptions_ErrorCode.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_exceptions_ErrorCode)};b.com_ibm_vis_internal_AbstractMappedJSONObject=b.com_ibm_init_declare({getClassName:function(){return""},setCachedObject:function(a){this.ce_7=a},getCachedObject:function(){return this.ce_7},setJSON:function(a){a&&this.readJSON(a)},getSpecClassDynamicTypes:function(){return null},readJSON:function(a){if(!b.com_ibm_rave_codegenerator_util_BasicFactory.isEmpty(a))for(var d=
0,c=b.com_ibm_vis_internal_SpecClassInfo.getInstance().getSpecClass(this.getClassName()).vars.arrayIterator(),e=c.length;d<e;++d){var g=c[d],k=g.at_1,s=0<k,f=2==k,k=g.name,u=g.jp_1,g=a[k];if(null!=g)try{if("String"==u||"string"===typeof g||g instanceof String)s?this.set(k,this.toStringArray(g)):this.set(k,g);else if("Boolean"==u||"boolean"===typeof g||g instanceof Boolean)s?this.set(k,this.toBooleanArray(g)):this.set(k,g);else if("Number"==u||"number"===typeof g||g instanceof Number)s?this.set(k,
this.toNumberArray(g,f)):this.set(k,g);else if("Integer"==u||b.com_ibm_rave_codegenerator_util_BasicFactory.isInteger(g))s?this.set(k,this.toIntegerArray(g)):this.set(k,g);else if("double"==u)s?f&&this.set(k,b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.toDoubleArray(g)):this.set(k,g);else{var I=this.getDynamicType(k,g),I=null!=I?I:u;if(s)s=null,b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(g)?s=g:b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(g)&&(s=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),
s.push(g)),this.set(k,this.toObjectArray(s,I,k));else if("Object"==I)this.set(k,g);else{var h=this.createSpecInstance(I);h.setJSON(g);this.set(k,h)}}}catch(l){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(l,Error))throw new b.com_ibm_vis_exceptions_internal_SpecException("Error reading VisJSON specification property.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,this.getClass().getName()+"."+k);throw l;}}},getDynamicType:function(a,d){var c=this.getSpecClassDynamicTypes();if(!c)return null;
c=c.get(a);if(!c||0==c.length)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(d))for(var e=0,g=c.length;e<g;++e){var k=c[e];if(b.com_ibm_vis_internal_AbstractMappedJSONObject.ms$1(k,d))return k}return null},copy:function(){for(var a=this.createInstance(),d=0,c=b.com_ibm_vis_internal_SpecClassInfo.getInstance().getSpecClass(this.getClassName()).vars.arrayIterator(),e=c.length;d<e;++d){var g=c[d],k=this.getFieldValue(g);null!=k&&(k=this.cloneField(k,0<g.at_1),this.setFieldValue(g,
a,k))}return a}});b.com_ibm_vis_internal_AbstractMappedJSONObject.createSpecObjectFromType=function(a,d){var c;try{var e=b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.createSpecInstanceFromType(d);e.setJSON(a);c=e}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,Error))throw new b.com_ibm_vis_exceptions_internal_SpecException("Cannot create specification class of type "+d,b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);throw g;}return c};b.com_ibm_vis_internal_AbstractMappedJSONObject.ms$1=
function(a,d){var c=b.com_ibm_vis_internal_SpecClassInfo.getInstance().getSpecClass(a);if(c){var c=c.fe_1,e=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(d),g=e.length;if(g>c.size())return!1;for(var k=0;k<g;++k)if(!c.contains(e[k]))return!1;return!0}return!1};b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject=function(){var a={},d=b.com_ibm_init_declare(b.com_ibm_vis_internal_AbstractMappedJSONObject,{toIntegerArray:function(a){return a},toStringArray:function(a){return a},toBooleanArray:function(a){return a},
toNumberArray:function(a,b){return a},toObjectArray:function(a,b,g){for(var k="Object"==b,s=[],f=a.length,u=0;u<f;u++){var I=a[u],h=typeof I;"string"==h||"number"==h||"boolean"==h||I instanceof String||I instanceof Number||I instanceof Boolean?s.push(I):(k?(h=this.getDynamicType(g,I),h=d.createSpecInstanceFromType(h)):h=d.createSpecInstanceFromType(b),h.setJSON(I),s.push(h))}return s},getFieldValue:function(a){return this[a.getName()]},setFieldValue:function(a,b,d){b[a.getName()]=d},set:function(a,
b){this[a]=b},createInstance:function(){return new this.constructor},toJSON:function(){for(var a={},e=b.com_ibm_vis_internal_SpecClassInfo.getInstance().getSpecClass(this.getClassName()).getVars(),g=0,k=e.size();g<k;g++){var s=e.get(g);s.getArrayDepth();var s=s.getName(),f=this[s];if(null!=f)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(f)){var u=[];if(d.isObjArray(f))for(var I=0,h=f.length;I<h;I++){var l=f[I];b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(l)&&l instanceof d?
u[I]=l.toJSON():u[I]=l}else for(I=0,h=f.length;I<h;I++)u[I]=f[I];a[s]=u}else b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(f)&&f instanceof d?a[s]=f.toJSON():a[s]=f}return a},createSpecInstance:function(a){return d.createSpecInstanceFromType(a)},cloneField:function(a,d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject))return a.copy();if(d){for(var g=Array(a.length),k=0,s=a.length;k<s;++k){var f=a[k];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,
b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject)?g[k]=f.copy():g[k]=f}return g}return a}});d.isObjArray=function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a))for(var d=0,g=a.length;d<g;d++)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a[d]))return!0;return!1};d.register=function(b,d){a[b]=d};d.createSpecInstanceFromType=function(b){return"Object"==b||null==b?{}:new a[b]};d.toDoubleArray=function(a){if(a){for(var b=a.length,d=Array(b),k=0;k<b;++k){for(var s=
a[k],f=s.length,u=Array(f),I=0;I<f;++I){var h=s[I];u[I]="number"==typeof h||h instanceof Number?h:NaN}d[k]=u}return d}};return d}();b.com_ibm_vis_spec_internal_VisJSONSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{size:null,legends:null,copyright:null,grammar:null,parameters:null,data:null,parameterValues:null,resource:null,style:null,augment:null,legendPosition:"right",version:null,localization:null,titles:null,description:null,getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"VisJSONSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("VisJSONSpec",b.com_ibm_vis_spec_internal_VisJSONSpec)});b.com_ibm_vis_exceptions_ErrorCodeDescriptions=b.com_ibm_init_declare({});b.com_ibm_vis_exceptions_ErrorCodeDescriptions.getDescription=function(a){if(!a)return"NULL ERROR CODE";var d=b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.get(a);return null!=d?d:a.name()};b.com_ibm_vis_exceptions_ErrorCodeDescriptions.getLocalizedDescription=
function(a,d){return b.com_ibm_vis_exceptions_ErrorCodeDescriptions.getDescription(a)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1=new b.com_ibm_rave_codegenerator_util_HashMap;b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_NOT_READY,"DATA PROVIDER NOT READY");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_FAILED,"DATA PROVIDER SIGNALLED FAILURE");
b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_NOT_FOUND,"DATA PROVIDER NOT FOUND");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION,"DATA PROVIDER DATA CONVERSION ERROR");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION,"EXTENSION POINT EXCEPTION");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_FOUND,
"EXTENSION NOT FOUND");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SWIM_LANE_DATA,"SWIM LANE DATA DOES NOT MATCH GRAPH LAYOUT");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SWIM_LANE_ELEMENT_ORDER,"SWIM LANE WITHOUT PRECEEDING GRAPH");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW,"DATA OVERFLOW");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.DATA_CONVERSION,
"DATA CONVERSION ERROR");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ERROR_UNKNOWN,"UNKNOWN ERROR");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT,"LAYOUT DOES NOT FIT");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_KEY_IN_GEO_AUGMENT,"KEY UNMATCHED IN GEO AUGMENT SPECIFICATION");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_PROPERTY_IN_GEO_AUGMENT,
"GEO AUGMENT PROPERTY NOT FOUND");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_EMPTY_GEO_JSON,"EMPTY GEOJSON FILE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_TRANSITION_UNSUPPORTED_TARGET,"UNSUPPORTED TARGET FOR EFFECTS");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_TRANSITION_UNSUPPORTED_SIMULTANEOUS_EFFECT,"UNSUPPORTED SIMULTANEOUS EFFECTS");
b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_COMPOSITE_EFFECT_NO_CHILD,"COMPOSITE EFFECT WITHOUT CHILD");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_TOO_MANY_FIELDS,"TOO MANY FACET FIELDS");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_NO_FIELDS,"FACET WITHOUT FIELDS");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA_SOURCE,
"FACET INVALID DATA SOURCE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA,"FACET INVALID DATA");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ROWS_CREATE_CONFLICTING_LABEL,"ROWS CREATE CONFLICTING LABEL");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LEGENDS_ERROR,"LEGENDS PROCESSING ERROR");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LOCALIZATION_ERROR,
"LOCALIZATION PROCESSING ERROR");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT,"ILLEGAL ARGUMENT PASSED");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION,"OPERATION UNSUPPORTED");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LOG_INVALID_DATA,"LOG INVALID DATA");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FORMATTING_ERROR,
"FORMATTING ERROR");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,"SPECIFICATION PARSING FAILED");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE,"INVALID VALUE IN SPECIFICATION");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,"INVALID LENGTH IN SPECIFICATION");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_EMPTY,
"SPECIFICATION IS EMPTY");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL,"SPECIFICATION IS NULL");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_DUPLICATE_ID,"DUPLICATE ID IN SPECIFICATION");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VERSION,"INVALID VERSION OF SPECIFICATION");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.RENDERER_UNSUPPORTED,
"SELECTED RENDERER UNSUPPORTED");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.RENDERER_UNAVAILABLE,"SELECTED RENDERER UNAVAILABLE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION,"MIGRATION PATH IS INVALID");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_INVALID_PATH,"INVALID JSON PATH");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_UNSUPPORTED_FEATURE,
"UNSUPPORTED FEATURE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_BAD_ARRAY_INDEX,"BAD ARRAY INDEX");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_OBJECT_DOES_NOT_EXIST,"OBJECT DOES NOT EXIST");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_JSON,"TEMPLATE JSON INVALID");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_CANNOT_BE_RESOLVED,
"TEMPLATE CANNOT BE RESOLVED");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_NOT_FOUND,"PARAMETER NOT FOUND");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_DEFAULT_VALUE_TYPE_MISMATCH,"PARAMETER TYPE DEFAULT VALUE TYPE MISMATCH");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_VALUE_TYPE_MISMATCH,"PARAMETER VALUE TYPE MISMATCH");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_ID_INVALID_TYPE,
"PARAMETER ID INVALID");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SERIALIZE_ERROR,"ERROR IN SERIALIZE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SCENE_TREE_FAIL,"FAILED TO MAKE THE SCENE TREE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.SET_SPEC_FAIL,"FAILED TO SET THE SPEC");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.INTERACTIVITY_FAIL,
"INTERACTIVITY REQUEST FAILED");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.RENDER_FAIL,"ERROR MAKING IMAGE");b.com_ibm_vis_exceptions_ErrorCodeDescriptions.na_1.put(b.com_ibm_vis_exceptions_ErrorCode.EFFECTS_FAIL,"ERROR PROCESSING EFFECTS CHANGE")});b.com_ibm_vis_spec_internal_SizeSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{width:null,height:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"SizeSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SizeSpec",b.com_ibm_vis_spec_internal_SizeSpec)});b.com_ibm_vis_spec_internal_LegendSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:"simple",markStyle:null,stripes:null,aesthetics:null,scale:null,legendEntryStyle:null,multiline:"consistent",orientation:null,tickStyle:null,location:null,elements:null,title:null,titleStyle:null,rows:null,itemBoxStyle:null,
boundsStyle:null,minorStyle:null,labelStyle:null,lineStyle:null,mirroredLabels:!1,columns:null,itemStyle:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_LegendSpec.le_17},getClassName:function(){return"LegendSpec"}});b.com_ibm_vis_spec_internal_LegendSpec.ie$14=function(){b.com_ibm_vis_spec_internal_LegendSpec.le_17.put("location",["BoundsSpec"]);b.com_ibm_vis_spec_internal_LegendSpec.le_17.put("title",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_LegendSpec.le_17=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("LegendSpec",b.com_ibm_vis_spec_internal_LegendSpec);b.com_ibm_vis_spec_internal_LegendSpec.ie$14()});b.com_ibm_vis_spec_internal_AestheticReferenceSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{aesthetic:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"AestheticReferenceSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AestheticReferenceSpec",b.com_ibm_vis_spec_internal_AestheticReferenceSpec)});b.com_ibm_vis_spec_internal_AestheticRefSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{$ref:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"AestheticRefSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AestheticRefSpec",
b.com_ibm_vis_spec_internal_AestheticRefSpec)});b.com_ibm_vis_spec_internal_GrammarSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{axisPadding:!0,style:null,bounds:null,facet:null,elements:null,axesOverflow:!1,coordinates:null,labelCollisionMethod:"limited",getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"GrammarSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("GrammarSpec",
b.com_ibm_vis_spec_internal_GrammarSpec)});b.com_ibm_vis_spec_internal_BoundsSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{top:null,center:null,width:null,height:null,left:null,bottom:null,right:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"BoundsSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("BoundsSpec",b.com_ibm_vis_spec_internal_BoundsSpec)});b.com_ibm_vis_spec_internal_FacetSpec=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:null,targetPart:null,fields:null,sharedAxes:null,targetElement:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FacetSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FacetSpec",b.com_ibm_vis_spec_internal_FacetSpec)});b.com_ibm_vis_spec_internal_FacetFieldSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{axis:null,field:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FacetFieldSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FacetFieldSpec",b.com_ibm_vis_spec_internal_FacetFieldSpec)});b.com_ibm_vis_spec_internal_FieldRefSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{$ref:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FieldRefSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FieldRefSpec",b.com_ibm_vis_spec_internal_FieldRefSpec)});b.com_ibm_vis_spec_internal_ElementRefSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{$ref:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ElementRefSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ElementRefSpec",
b.com_ibm_vis_spec_internal_ElementRefSpec)});b.com_ibm_vis_spec_internal_ElementsSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{size:null,tooltip:null,meta:null,accessibility:null,font:null,clip:null,dashing:null,visibility:null,offset:null,components:null,symbol:null,positioning:null,split:null,id:null,positionModifier:null,styles:null,color:null,interpolation:null,styleBy:null,position:null,data:null,interactionType:null,customOptions:null,style:null,clipBySpan:!0,
label:null,zOrder:null,textBackgroundStyle:null,symbolStyle:null,content:null,type:"point",description:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ElementsSpec.le_11},getClassName:function(){return"ElementsSpec"}});b.com_ibm_vis_spec_internal_ElementsSpec.ie$8=function(){b.com_ibm_vis_spec_internal_ElementsSpec.le_11.put("content",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"]);b.com_ibm_vis_spec_internal_ElementsSpec.le_11.put("description",["ImageSpec",
"FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ElementsSpec.le_11=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ElementsSpec",b.com_ibm_vis_spec_internal_ElementsSpec);b.com_ibm_vis_spec_internal_ElementsSpec.ie$8()});b.com_ibm_vis_spec_internal_TooltipSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{modifies:null,content:null,
getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_TooltipSpec.le_28},getClassName:function(){return"TooltipSpec"}});b.com_ibm_vis_spec_internal_TooltipSpec.ie$25=function(){b.com_ibm_vis_spec_internal_TooltipSpec.le_28.put("content",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_TooltipSpec.le_28=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("TooltipSpec",
b.com_ibm_vis_spec_internal_TooltipSpec);b.com_ibm_vis_spec_internal_TooltipSpec.ie$25()});b.com_ibm_vis_spec_internal_PartSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{part:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"PartSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PartSpec",b.com_ibm_vis_spec_internal_PartSpec)});b.com_ibm_vis_spec_internal_ComponentSpec=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{value:null,field:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ComponentSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ComponentSpec",b.com_ibm_vis_spec_internal_ComponentSpec)});b.com_ibm_vis_spec_internal_LayoutSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{size:null,nodePlacement:"symmetric",
spacing:null,order:null,orientation:null,padding:null,layer:null,respectBubbleSize:!1,layerPlacement:"spread",linkType:null,positionOverride:null,prunedNodes:null,id:null,swimLanes:null,method:null,packParameters:null,family:null,neighbourDetails:1,linkGroup:null,parent:null,data:null,parameters:null,leafOnly:null,layout:"pivotBySize",from:null,attachmentPoint:null,date:null,levels:null,spiralParameters:null,combineCategories:!1,to:null,prunedEdges:null,incrementalNetworkLayout:!1,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_LayoutSpec.le_16},
getClassName:function(){return"LayoutSpec"}});b.com_ibm_vis_spec_internal_LayoutSpec.ie$13=function(){b.com_ibm_vis_spec_internal_LayoutSpec.le_16.put("padding",["PaddingSpec"]);b.com_ibm_vis_spec_internal_LayoutSpec.le_16.put("size",["FieldRefSpec"]);b.com_ibm_vis_spec_internal_LayoutSpec.le_16.put("attachmentPoint",["AttachmentPointsSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_LayoutSpec.le_16=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("LayoutSpec",
b.com_ibm_vis_spec_internal_LayoutSpec);b.com_ibm_vis_spec_internal_LayoutSpec.ie$13()});b.com_ibm_vis_spec_internal_LayoutDataSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{value:null,field:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"LayoutDataSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("LayoutDataSpec",b.com_ibm_vis_spec_internal_LayoutDataSpec)});
b.com_ibm_vis_spec_internal_PositionOverrideSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{node:null,x:null,y:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"PositionOverrideSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PositionOverrideSpec",b.com_ibm_vis_spec_internal_PositionOverrideSpec)});b.com_ibm_vis_spec_internal_SwimLaneSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{idealNodeCountValue:null,maxRowValue:null,id:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"SwimLaneSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SwimLaneSpec",b.com_ibm_vis_spec_internal_SwimLaneSpec)});b.com_ibm_vis_spec_internal_PackParametersSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:null,rowOrder:null,columnOrder:null,includeEllipsis:null,
major:null,rows:null,ellipsisPosition:null,columns:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"PackParametersSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PackParametersSpec",b.com_ibm_vis_spec_internal_PackParametersSpec)});b.com_ibm_vis_spec_internal_AttachmentPointsSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{outPoint:null,inPoint:null,getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"AttachmentPointsSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AttachmentPointsSpec",b.com_ibm_vis_spec_internal_AttachmentPointsSpec)});b.com_ibm_vis_spec_internal_ConnectionPointSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{value:null,field:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ConnectionPointSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ConnectionPointSpec",
b.com_ibm_vis_spec_internal_ConnectionPointSpec)});b.com_ibm_vis_spec_internal_LevelsSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{labelContent:null,field:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_LevelsSpec.le_18},getClassName:function(){return"LevelsSpec"}});b.com_ibm_vis_spec_internal_LevelsSpec.ie$15=function(){b.com_ibm_vis_spec_internal_LevelsSpec.le_18.put("labelContent",["ImageSpec","FieldValueRefSpec","ArgumentSpec",
"StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_LevelsSpec.le_18=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("LevelsSpec",b.com_ibm_vis_spec_internal_LevelsSpec);b.com_ibm_vis_spec_internal_LevelsSpec.ie$15()});b.com_ibm_vis_spec_internal_SpiralParametersSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{fitAll:null,orientations:null,orientationScheme:null,spiralType:null,
getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"SpiralParametersSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SpiralParametersSpec",b.com_ibm_vis_spec_internal_SpiralParametersSpec)});b.com_ibm_vis_spec_internal_TargetedStyleSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{style:null,target:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"TargetedStyleSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("TargetedStyleSpec",b.com_ibm_vis_spec_internal_TargetedStyleSpec)});b.com_ibm_vis_spec_internal_AestheticSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{value:null,modifies:null,nullValue:null,field:null,scale:null,id:null,palette:null,mapping:null,key:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_AestheticSpec.le_4},getClassName:function(){return"AestheticSpec"}});
b.com_ibm_vis_spec_internal_AestheticSpec.ie$1=function(){b.com_ibm_vis_spec_internal_AestheticSpec.le_4.put("modifies",["ModifiesSpec"]);b.com_ibm_vis_spec_internal_AestheticSpec.le_4.put("nullValue",["ColorSpec","StyleSpec","SymbolSpec","FontSpec"]);b.com_ibm_vis_spec_internal_AestheticSpec.le_4.put("palette",["ColorSpec","StyleSpec","SymbolSpec","FontSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_AestheticSpec.le_4=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AestheticSpec",
b.com_ibm_vis_spec_internal_AestheticSpec);b.com_ibm_vis_spec_internal_AestheticSpec.ie$1()});b.com_ibm_vis_spec_internal_ModifiesSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{part:null,descendants:null,type:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ModifiesSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ModifiesSpec",b.com_ibm_vis_spec_internal_ModifiesSpec)});
b.com_ibm_vis_spec_internal_FieldValueRefSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:null,style:null,format:null,$ref:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FieldValueRefSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FieldValueRefSpec",b.com_ibm_vis_spec_internal_FieldValueRefSpec)});b.com_ibm_vis_spec_internal_MappingSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{pattern:null,value:null,state:null,style:null,size:null,atLabel:null,visible:null,at:null,color:null,symbol:null,text:null,font:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_MappingSpec.le_19},getClassName:function(){return"MappingSpec"}});b.com_ibm_vis_spec_internal_MappingSpec.ie$16=function(){b.com_ibm_vis_spec_internal_MappingSpec.le_19.put("color",["ColorSpec"]);b.com_ibm_vis_spec_internal_MappingSpec.le_19.put("symbol",["SymbolSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_MappingSpec.le_19=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("MappingSpec",b.com_ibm_vis_spec_internal_MappingSpec);b.com_ibm_vis_spec_internal_MappingSpec.ie$16()});b.com_ibm_vis_spec_internal_PositionSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{includeInRange:!1,value:null,derivedValue:null,span:null,field:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"PositionSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PositionSpec",b.com_ibm_vis_spec_internal_PositionSpec)});b.com_ibm_vis_spec_internal_DerivedValueSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{target:null,functionName:null,variable:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_DerivedValueSpec.le_9},getClassName:function(){return"DerivedValueSpec"}});b.com_ibm_vis_spec_internal_DerivedValueSpec.ie$6=
function(){b.com_ibm_vis_spec_internal_DerivedValueSpec.le_9.put("variable",["FieldValueRefSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_DerivedValueSpec.le_9=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DerivedValueSpec",b.com_ibm_vis_spec_internal_DerivedValueSpec);b.com_ibm_vis_spec_internal_DerivedValueSpec.ie$6()});b.com_ibm_vis_spec_internal_DataRefSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{$ref:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"DataRefSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DataRefSpec",b.com_ibm_vis_spec_internal_DataRefSpec)});b.com_ibm_vis_spec_internal_CustomOptionsSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{minZoom:null,maxZoom:null,uri:null,tileSize:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"CustomOptionsSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("CustomOptionsSpec",b.com_ibm_vis_spec_internal_CustomOptionsSpec)});b.com_ibm_vis_spec_internal_ElementLabelSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{size:null,style:null,visibility:null,color:null,backgroundStyle:null,modifies:null,content:null,lineStyle:null,lineMinSize:null,font:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ElementLabelSpec.le_10},
getClassName:function(){return"ElementLabelSpec"}});b.com_ibm_vis_spec_internal_ElementLabelSpec.ie$7=function(){b.com_ibm_vis_spec_internal_ElementLabelSpec.le_10.put("content",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ElementLabelSpec.le_10=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ElementLabelSpec",b.com_ibm_vis_spec_internal_ElementLabelSpec);
b.com_ibm_vis_spec_internal_ElementLabelSpec.ie$7()});b.com_ibm_vis_spec_internal_ArgumentSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{style:null,args:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ArgumentSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ArgumentSpec",b.com_ibm_vis_spec_internal_ArgumentSpec)});b.com_ibm_vis_spec_internal_StringValueSpec=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{style:null,value:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"StringValueSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("StringValueSpec",b.com_ibm_vis_spec_internal_StringValueSpec)});b.com_ibm_vis_spec_internal_CoordinatesSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{style:null,
transforms:null,dimensions:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"CoordinatesSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("CoordinatesSpec",b.com_ibm_vis_spec_internal_CoordinatesSpec)});b.com_ibm_vis_spec_internal_TransformSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{insetParameters:null,polarParameters:null,projectionParameters:null,type:null,
getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"TransformSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("TransformSpec",b.com_ibm_vis_spec_internal_TransformSpec)});b.com_ibm_vis_spec_internal_InsetParametersSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{top:null,left:null,bottom:null,right:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"InsetParametersSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("InsetParametersSpec",b.com_ibm_vis_spec_internal_InsetParametersSpec)});b.com_ibm_vis_spec_internal_PolarParametersSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{startAngle:0,CCW:!1,diameter:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"PolarParametersSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PolarParametersSpec",
b.com_ibm_vis_spec_internal_PolarParametersSpec)});b.com_ibm_vis_spec_internal_ProjectionParametersSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{move:null,method:"fit",standardLatitude:null,name:"0",getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ProjectionParametersSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ProjectionParametersSpec",b.com_ibm_vis_spec_internal_ProjectionParametersSpec)});
b.com_ibm_vis_spec_internal_ProjectionMoveSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{from:null,to:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ProjectionMoveSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ProjectionMoveSpec",b.com_ibm_vis_spec_internal_ProjectionMoveSpec)});b.com_ibm_vis_spec_internal_DimensionSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{axis:null,scale:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"DimensionSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DimensionSpec",b.com_ibm_vis_spec_internal_DimensionSpec)});b.com_ibm_vis_spec_internal_AxisSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:"auto",outsideTickLabels:null,preferredSize:null,markStyle:null,alignWithOtherAxis:null,boxStyle:null,
opposite:null,gridStyle:null,tickAs:"normal",segmented:!0,visible:!0,tickStyle:null,title:null,titleStyle:null,gridBand:null,minorStyle:null,lineStyle:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_AxisSpec.le_6},getClassName:function(){return"AxisSpec"}});b.com_ibm_vis_spec_internal_AxisSpec.ie$3=function(){b.com_ibm_vis_spec_internal_AxisSpec.le_6.put("title",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_AxisSpec.le_6=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AxisSpec",b.com_ibm_vis_spec_internal_AxisSpec);b.com_ibm_vis_spec_internal_AxisSpec.ie$3()});b.com_ibm_vis_spec_internal_PreferredSizeSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{preferred:null,min:null,max:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"PreferredSizeSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PreferredSizeSpec",
b.com_ibm_vis_spec_internal_PreferredSizeSpec)});b.com_ibm_vis_spec_internal_GridBandSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{fill:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_GridBandSpec.le_14},getClassName:function(){return"GridBandSpec"}});b.com_ibm_vis_spec_internal_GridBandSpec.ie$11=function(){b.com_ibm_vis_spec_internal_GridBandSpec.le_14.put("fill",["FillSpec","ColorSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_GridBandSpec.le_14=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("GridBandSpec",b.com_ibm_vis_spec_internal_GridBandSpec);b.com_ibm_vis_spec_internal_GridBandSpec.ie$11()});b.com_ibm_vis_spec_internal_ScaleSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{padding:null,reverse:null,categoryStructure:null,spans:null,local:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ScaleSpec.le_23},getClassName:function(){return"ScaleSpec"}});
b.com_ibm_vis_spec_internal_ScaleSpec.ie$20=function(){b.com_ibm_vis_spec_internal_ScaleSpec.le_23.put("padding",["PaddingSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ScaleSpec.le_23=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ScaleSpec",b.com_ibm_vis_spec_internal_ScaleSpec);b.com_ibm_vis_spec_internal_ScaleSpec.ie$20()});b.com_ibm_vis_spec_internal_CategoryStructureSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{align:"start",gap:null,width:null,nest:!1,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_CategoryStructureSpec.le_7},getClassName:function(){return"CategoryStructureSpec"}});b.com_ibm_vis_spec_internal_CategoryStructureSpec.ie$4=function(){b.com_ibm_vis_spec_internal_CategoryStructureSpec.le_7.put("width",["PreferredSizeSpec"]);b.com_ibm_vis_spec_internal_CategoryStructureSpec.le_7.put("gap",["PreferredSizeSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_CategoryStructureSpec.le_7=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("CategoryStructureSpec",b.com_ibm_vis_spec_internal_CategoryStructureSpec);b.com_ibm_vis_spec_internal_CategoryStructureSpec.ie$4()});b.com_ibm_vis_spec_internal_SpanSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:"linear",minorDivisions:null,fit:null,min:null,max:null,unit:null,tickLabel:null,tickDelta:null,categories:null,categoryWeights:null,
outRange:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_SpanSpec.le_25},getClassName:function(){return"SpanSpec"}});b.com_ibm_vis_spec_internal_SpanSpec.ie$22=function(){b.com_ibm_vis_spec_internal_SpanSpec.le_25.put("tickLabel",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_SpanSpec.le_25=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SpanSpec",
b.com_ibm_vis_spec_internal_SpanSpec);b.com_ibm_vis_spec_internal_SpanSpec.ie$22()});b.com_ibm_vis_spec_internal_CategoryWeightsSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{weights:null,categories:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"CategoryWeightsSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("CategoryWeightsSpec",b.com_ibm_vis_spec_internal_CategoryWeightsSpec)});
b.com_ibm_vis_spec_internal_SpanOutRangeSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{min:0,max:1,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"SpanOutRangeSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SpanOutRangeSpec",b.com_ibm_vis_spec_internal_SpanOutRangeSpec)});b.com_ibm_vis_spec_internal_ParameterSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{defaultValue:null,resolveOrder:null,label:null,resolutionCases:null,type:null,id:null,resolution:null,description:null,required:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ParameterSpec.le_20},getClassName:function(){return"ParameterSpec"}});b.com_ibm_vis_spec_internal_ParameterSpec.ie$17=function(){b.com_ibm_vis_spec_internal_ParameterSpec.le_20.put("defaultValue",["ColorSpec","SizeSpec","FontSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ParameterSpec.le_20=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ParameterSpec",b.com_ibm_vis_spec_internal_ParameterSpec);b.com_ibm_vis_spec_internal_ParameterSpec.ie$17()});b.com_ibm_vis_spec_internal_ResolutionCasesSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{resolution:null,resolutionCase:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ResolutionCasesSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ResolutionCasesSpec",
b.com_ibm_vis_spec_internal_ResolutionCasesSpec)});b.com_ibm_vis_spec_internal_ResolutionSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{sourcePath:null,target:null,method:null,sourceValue:null,sourceParameter:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ResolutionSpec.le_22},getClassName:function(){return"ResolutionSpec"}});b.com_ibm_vis_spec_internal_ResolutionSpec.ie$19=function(){b.com_ibm_vis_spec_internal_ResolutionSpec.le_22.put("sourceValue",
["ColorSpec","SizeSpec","FontSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ResolutionSpec.le_22=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ResolutionSpec",b.com_ibm_vis_spec_internal_ResolutionSpec);b.com_ibm_vis_spec_internal_ResolutionSpec.ie$19()});b.com_ibm_vis_spec_internal_DataSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{output:null,provider:null,rows:null,
fields:null,input:null,type:null,source:null,id:null,group:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"DataSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DataSpec",b.com_ibm_vis_spec_internal_DataSpec)});b.com_ibm_vis_spec_internal_DerivedOutputFieldSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{role:null,field:null,input:null,parameters:null,getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"DerivedOutputFieldSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DerivedOutputFieldSpec",b.com_ibm_vis_spec_internal_DerivedOutputFieldSpec)});b.com_ibm_vis_spec_internal_DerivedParameterSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{window:null,addTotalCategory:null,ascending:!1,replicate:null,sortCategories:null,binStart:null,summaryFunction:null,getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"DerivedParameterSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DerivedParameterSpec",b.com_ibm_vis_spec_internal_DerivedParameterSpec)});b.com_ibm_vis_spec_internal_DataProviderSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{providerId:null,args:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"DataProviderSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DataProviderSpec",
b.com_ibm_vis_spec_internal_DataProviderSpec)});b.com_ibm_vis_spec_internal_FieldSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{min:null,max:null,unit:null,label:null,format:null,timeZone:null,id:null,categories:null,granularity:null,order:null,key:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FieldSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FieldSpec",
b.com_ibm_vis_spec_internal_FieldSpec)});b.com_ibm_vis_spec_internal_FormatSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{suffix:null,fitMethod:null,prefix:null,datePattern:null,numericPattern:null,scientificPattern:null,scientific:null,noSpaceFormat:null,negativeFormat:null,zeroFormat:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_FormatSpec.le_12},getClassName:function(){return"FormatSpec"}});b.com_ibm_vis_spec_internal_FormatSpec.ie$9=
function(){b.com_ibm_vis_spec_internal_FormatSpec.le_12.put("scientific",["ScientificSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_FormatSpec.le_12=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FormatSpec",b.com_ibm_vis_spec_internal_FormatSpec);b.com_ibm_vis_spec_internal_FormatSpec.ie$9()});b.com_ibm_vis_spec_internal_ScientificSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{lower:null,upper:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ScientificSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ScientificSpec",b.com_ibm_vis_spec_internal_ScientificSpec)});b.com_ibm_vis_spec_internal_NoSpaceFormatSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{pattern:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"NoSpaceFormatSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("NoSpaceFormatSpec",b.com_ibm_vis_spec_internal_NoSpaceFormatSpec)});b.com_ibm_vis_spec_internal_NegativeFormatSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{numericPattern:null,scientificPattern:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"NegativeFormatSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("NegativeFormatSpec",
b.com_ibm_vis_spec_internal_NegativeFormatSpec)});b.com_ibm_vis_spec_internal_ZeroFormatSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{numericPattern:null,scientificPattern:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ZeroFormatSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ZeroFormatSpec",b.com_ibm_vis_spec_internal_ZeroFormatSpec)});b.com_ibm_vis_spec_internal_DerivedInputFieldSpec=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{role:null,field:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"DerivedInputFieldSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DerivedInputFieldSpec",b.com_ibm_vis_spec_internal_DerivedInputFieldSpec)});b.com_ibm_vis_spec_internal_DerivedGroupSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{output:null,input:null,granularity:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"DerivedGroupSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("DerivedGroupSpec",b.com_ibm_vis_spec_internal_DerivedGroupSpec)});b.com_ibm_vis_spec_internal_ParameterValueSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{value:null,id:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ParameterValueSpec.le_21},
getClassName:function(){return"ParameterValueSpec"}});b.com_ibm_vis_spec_internal_ParameterValueSpec.ie$18=function(){b.com_ibm_vis_spec_internal_ParameterValueSpec.le_21.put("value",["ColorSpec","SizeSpec","FontSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ParameterValueSpec.le_21=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ParameterValueSpec",b.com_ibm_vis_spec_internal_ParameterValueSpec);b.com_ibm_vis_spec_internal_ParameterValueSpec.ie$18()});
b.com_ibm_vis_spec_internal_ResourceSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{embeddedData:null,URIs:null,type:null,id:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ResourceSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ResourceSpec",b.com_ibm_vis_spec_internal_ResourceSpec)});b.com_ibm_vis_spec_internal_StyleSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{size:null,outline:null,alignEdge:null,fill:null,outlineMethod:null,align:null,width:null,height:null,startArrow:null,cornerRadius:null,snap:null,accessibility:null,endArrow:null,font:null,valign:null,padding:null,effect:null,angle:null,location:null,symbol:null,stroke:null,image:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_StyleSpec.le_26},getClassName:function(){return"StyleSpec"}});b.com_ibm_vis_spec_internal_StyleSpec.ie$23=function(){b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("padding",
["PaddingSpec"]);b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("size",["PreferredSizeSpec"]);b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("outline",["ColorSpec"]);b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("fill",["ColorSpec","FillSpec"]);b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("width",["PreferredSizeSpec"]);b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("height",["PreferredSizeSpec"]);b.com_ibm_vis_spec_internal_StyleSpec.le_26.put("symbol",["SymbolSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_StyleSpec.le_26=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("StyleSpec",b.com_ibm_vis_spec_internal_StyleSpec);b.com_ibm_vis_spec_internal_StyleSpec.ie$23()});b.com_ibm_vis_spec_internal_ColorSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{a:null,b:null,r:null,s:null,dSaturation:null,v:null,g:null,h:null,dLightness:null,dAlpha:null,l:null,dValue:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ColorSpec"}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ColorSpec",b.com_ibm_vis_spec_internal_ColorSpec)});b.com_ibm_vis_spec_internal_FillSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{colors:null,global:!1,angle:null,focus:null,type:"linear",getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FillSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FillSpec",
b.com_ibm_vis_spec_internal_FillSpec)});b.com_ibm_vis_spec_internal_ColorOffsetSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{offset:null,color:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ColorOffsetSpec.le_8},getClassName:function(){return"ColorOffsetSpec"}});b.com_ibm_vis_spec_internal_ColorOffsetSpec.ie$5=function(){b.com_ibm_vis_spec_internal_ColorOffsetSpec.le_8.put("color",["ColorSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ColorOffsetSpec.le_8=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ColorOffsetSpec",b.com_ibm_vis_spec_internal_ColorOffsetSpec);b.com_ibm_vis_spec_internal_ColorOffsetSpec.ie$5()});b.com_ibm_vis_spec_internal_FocusSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{x:null,y:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FocusSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FocusSpec",
b.com_ibm_vis_spec_internal_FocusSpec)});b.com_ibm_vis_spec_internal_AccessibilityStyleSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{state:null,ignore:null,label:null,role:null,hint:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"AccessibilityStyleSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AccessibilityStyleSpec",b.com_ibm_vis_spec_internal_AccessibilityStyleSpec)});
b.com_ibm_vis_spec_internal_AccessibilityStateSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{value:null,key:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"AccessibilityStateSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AccessibilityStateSpec",b.com_ibm_vis_spec_internal_AccessibilityStateSpec)});b.com_ibm_vis_spec_internal_FontSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{style:null,size:null,family:"Arial,SanSerif",weight:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"FontSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("FontSpec",b.com_ibm_vis_spec_internal_FontSpec)});b.com_ibm_vis_spec_internal_PaddingSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{top:null,left:null,bottom:null,right:null,getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"PaddingSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("PaddingSpec",b.com_ibm_vis_spec_internal_PaddingSpec)});b.com_ibm_vis_spec_internal_EffectSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{shadow:null,glow:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"EffectSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("EffectSpec",
b.com_ibm_vis_spec_internal_EffectSpec)});b.com_ibm_vis_spec_internal_ShadowSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{stdDev:null,color:"{'r' : 255, 'g' : 255, 'b' : 0, 'a' : 1}",dx:2,dy:2,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ShadowSpec.le_24},getClassName:function(){return"ShadowSpec"}});b.com_ibm_vis_spec_internal_ShadowSpec.ie$21=function(){b.com_ibm_vis_spec_internal_ShadowSpec.le_24.put("color",["ColorSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ShadowSpec.le_24=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ShadowSpec",b.com_ibm_vis_spec_internal_ShadowSpec);b.com_ibm_vis_spec_internal_ShadowSpec.ie$21()});b.com_ibm_vis_spec_internal_GlowSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{stdDev:2,color:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_GlowSpec.le_13},getClassName:function(){return"GlowSpec"}});b.com_ibm_vis_spec_internal_GlowSpec.ie$10=
function(){b.com_ibm_vis_spec_internal_GlowSpec.le_13.put("color",["ColorSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_GlowSpec.le_13=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("GlowSpec",b.com_ibm_vis_spec_internal_GlowSpec);b.com_ibm_vis_spec_internal_GlowSpec.ie$10()});b.com_ibm_vis_spec_internal_SymbolSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{shape:null,bounds:null,
scaleDimensions:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"SymbolSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SymbolSpec",b.com_ibm_vis_spec_internal_SymbolSpec)});b.com_ibm_vis_spec_internal_SymbolShapeSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{shape:null,style:null,part:null,bounds:null,path:null,scaleDimensions:null,type:null,getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"SymbolShapeSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("SymbolShapeSpec",b.com_ibm_vis_spec_internal_SymbolShapeSpec)});b.com_ibm_vis_spec_internal_StrokeSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{style:null,cap:null,width:null,join:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"StrokeSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("StrokeSpec",
b.com_ibm_vis_spec_internal_StrokeSpec)});b.com_ibm_vis_spec_internal_ImageSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{method:"icon",align:"middle",source:null,alpha:1,valign:"middle",getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_ImageSpec.le_15},getClassName:function(){return"ImageSpec"}});b.com_ibm_vis_spec_internal_ImageSpec.ie$12=function(){b.com_ibm_vis_spec_internal_ImageSpec.le_15.put("source",["ResourceSpec","ResourceRefSpec"])};
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_ImageSpec.le_15=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ImageSpec",b.com_ibm_vis_spec_internal_ImageSpec);b.com_ibm_vis_spec_internal_ImageSpec.ie$12()});b.com_ibm_vis_spec_internal_AugmentSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{includeInRange:!1,method:null,target:null,sourceFields:null,thinningDistanceFraction:.001,
source:null,transform:"dateline",dataKeys:null,sourceKeys:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_AugmentSpec.le_5},getClassName:function(){return"AugmentSpec"}});b.com_ibm_vis_spec_internal_AugmentSpec.ie$2=function(){b.com_ibm_vis_spec_internal_AugmentSpec.le_5.put("source",["ResourceSpec","ResourceRefSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_AugmentSpec.le_5=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("AugmentSpec",
b.com_ibm_vis_spec_internal_AugmentSpec);b.com_ibm_vis_spec_internal_AugmentSpec.ie$2()});b.com_ibm_vis_spec_internal_ResourceRefSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{$ref:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"ResourceRefSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ResourceRefSpec",b.com_ibm_vis_spec_internal_ResourceRefSpec)});b.com_ibm_vis_spec_internal_LocalizationSpec=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{baseTextDirection:null,locale:null,nationalShaping:null,contextualShaping:null,mirror:null,getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"LocalizationSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("LocalizationSpec",b.com_ibm_vis_spec_internal_LocalizationSpec)});b.com_ibm_vis_spec_internal_NationalShapingSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,
{digits:"EUROPEAN",getSpecClassDynamicTypes:function(){return null},getClassName:function(){return"NationalShapingSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("NationalShapingSpec",b.com_ibm_vis_spec_internal_NationalShapingSpec)});b.com_ibm_vis_spec_internal_ContextualShapingSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{digits:null,defaultContext:"EUROPEAN",getSpecClassDynamicTypes:function(){return null},
getClassName:function(){return"ContextualShapingSpec"}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("ContextualShapingSpec",b.com_ibm_vis_spec_internal_ContextualShapingSpec)});b.com_ibm_vis_spec_internal_TitleSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject,{style:null,backgroundStyle:null,content:null,type:null,getSpecClassDynamicTypes:function(){return b.com_ibm_vis_spec_internal_TitleSpec.le_27},
getClassName:function(){return"TitleSpec"}});b.com_ibm_vis_spec_internal_TitleSpec.ie$24=function(){b.com_ibm_vis_spec_internal_TitleSpec.le_27.put("content",["ImageSpec","FieldValueRefSpec","ArgumentSpec","StringValueSpec"])};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_spec_internal_TitleSpec.le_27=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.register("TitleSpec",b.com_ibm_vis_spec_internal_TitleSpec);b.com_ibm_vis_spec_internal_TitleSpec.ie$24()});
b.com_ibm_rave_codegenerator_lang_Long=function(){Number.prototype.longValue=function(){return a.fromNumber(this)};var a=b.com_ibm_init_declare(Number,{low_:0,high_:0,constructor:function(a,b){this.low_=a|0;this.high_=b|0},toInt:function(){return this.low_},toNumber:function(){return this.high_*c+this.getLowBitsUnsigned()},toString:function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(a.MIN_VALUE)){var d=a.fromNumber(b),
c=this.div(d),d=c.multiply(d).subtract(this);return c.toString(b)+d.toInt().toString(b)}return"-"+this.negate().toString(b)}for(var c=a.fromNumber(Math.pow(b,6)),d=this,e="";;){var g=d.div(c),k=d.subtract(g.multiply(c)).toInt().toString(b),d=g;if(d.isZero())return k+e;for(;6>k.length;)k="0"+k;e=""+k+e}},getHighBits:function(){return this.high_},getLowBits:function(){return this.low_},getLowBitsUnsigned:function(){return 0<=this.low_?this.low_:c+this.low_},getNumBitsAbs:function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?
64:this.negate().getNumBitsAbs();for(var b=0!=this.high_?this.high_:this.low_,d=31;0<d&&0==(b&1<<d);d--);return 0!=this.high_?d+33:d+1},isZero:function(){return 0==this.high_&&0==this.low_},isNegative:function(){return 0>this.high_},isOdd:function(){return 1==(this.low_&1)},equals:function(a){if(this==a)return!0;a=k(a);return null!=a&&this.high_==a.high_&&this.low_==a.low_},notEquals:function(a){if(null==a)return!0;a=k(a);return this.high_!=a.high_||this.low_!=a.low_},lessThan:function(a){return 0>
this.compare(k(a))},lessThanOrEqual:function(a){return 0>=this.compare(k(a))},greaterThan:function(a){return 0<this.compare(k(a))},greaterThanOrEqual:function(a){return 0<=this.compare(k(a))},compare:function(a){if(this.equals(a))return 0;var b=this.isNegative(),d=a.isNegative();return b&&!d?-1:!b&&d?1:this.subtract(a).isNegative()?-1:1},negate:function(){return this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)},add:function(b){b=k(b);var d=this.high_>>>16,c=this.high_&65535,e=this.low_>>>
16,g=b.high_>>>16,f=b.high_&65535,h=b.low_>>>16,l;l=0+((this.low_&65535)+(b.low_&65535));b=0+(l>>>16);b+=e+h;e=0+(b>>>16);e+=c+f;c=0+(e>>>16);c=c+(d+g)&65535;return a.fromBits((b&65535)<<16|l&65535,c<<16|e&65535)},subtract:function(a){return this.add(k(a).negate())},multiply:function(b){b=k(b);if(this.isZero()||b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())return b.isNegative()?
this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(g)&&b.lessThan(g))return a.fromNumber(this.toNumber()*b.toNumber());var d=this.high_>>>16,c=this.high_&65535,e=this.low_>>>16,f=this.low_&65535,h=b.high_>>>16,l=b.high_&65535,m=b.low_>>>16;b=b.low_&65535;var p,q,r,t;t=0+f*b;r=0+(t>>>16);r+=e*b;q=0+(r>>>16);r=(r&65535)+f*m;q+=r>>>16;r&=65535;q+=c*b;p=0+(q>>>16);q=(q&65535)+e*m;p+=q>>>16;q&=65535;q+=f*l;
p+=q>>>16;q&=65535;p=p+(d*b+c*m+e*l+f*h)&65535;return a.fromBits(r<<16|t&65535,p<<16|q)},div:function(b){b=k(b);if(b.isZero())throw Error("division by zero");if(this.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE)){if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;if(b.equals(a.MIN_VALUE))return a.ONE;var d=this.shiftRight(1).div(b).shiftLeft(1);if(d.equals(a.ZERO))return b.isNegative()?a.ONE:a.NEG_ONE;var c=this.subtract(b.multiply(d));return d.add(c.div(b))}if(b.equals(a.MIN_VALUE))return a.ZERO;
if(this.isNegative())return b.isNegative()?this.negate().div(b.negate()):this.negate().div(b).negate();if(b.isNegative())return this.div(b.negate()).negate();for(var e=a.ZERO,c=this;c.greaterThanOrEqual(b);){for(var d=Math.max(1,Math.floor(c.toNumber()/b.toNumber())),g=Math.ceil(Math.log(d)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),f=a.fromNumber(d),h=f.multiply(b);h.isNegative()||h.greaterThan(c);)d-=g,f=a.fromNumber(d),h=f.multiply(b);f.isZero()&&(f=a.ONE);e=e.add(f);c=c.subtract(h)}return e},modulo:function(a){a=
k(a);return this.subtract(this.div(a).multiply(a))},not:function(){return a.fromBits(~this.low_,~this.high_)},and:function(b){b=k(b);return a.fromBits(this.low_&b.low_,this.high_&b.high_)},or:function(b){b=k(b);return a.fromBits(this.low_|b.low_,this.high_|b.high_)},xor:function(b){b=k(b);return a.fromBits(this.low_^b.low_,this.high_^b.high_)},shiftLeft:function(b){b&=63;if(0==b)return this;var d=this.low_;return 32>b?a.fromBits(d<<b,this.high_<<b|d>>>32-b):a.fromBits(0,d<<b-32)},shiftRight:function(b){b&=
63;if(0==b)return this;var d=this.high_;return 32>b?a.fromBits(this.low_>>>b|d<<32-b,d>>b):a.fromBits(d>>b-32,0<=d?0:-1)},shiftRightUnsigned:function(b){b&=63;if(0==b)return this;var d=this.high_;return 32>b?a.fromBits(this.low_>>>b|d<<32-b,d>>>b):32==b?a.fromBits(d,0):a.fromBits(d>>>b-32,0)},increment:function(){var b=this.add(new a(1));this.low_=b.low_;this.high_=b.high_;return this},decrement:function(){var b=this.subtract(new a(1));this.low_=b.low_;this.high_=b.high_;return this},postIncrement:function(){var b=
new a(this.low_,this.high_),d=this.add(new a(1));this.low_=d.low_;this.high_=d.high_;return b},postDecrement:function(){var b=new a(this.low_,this.high_),d=this.subtract(new a(1));this.low_=d.low_;this.high_=d.high_;return b},valueOf:function(){return this.toNumber()},intValue:function(){return this.low_},doubleValue:function(){return this.toNumber()},longValue:function(){return a.fromNumber(this)}}),d={};a.fromInt=function(b){if(-128<=b&&128>b){var c=d[b];if(c)return c}c=new a(b|0,0>b?-1:0);-128<=
b&&128>b&&(d[b]=c);return c};a.fromNumber=function(b){return null==b?null:isNaN(b)||!isFinite(b)?a.ZERO:b<=-e?a.MIN_VALUE:b+1>=e?a.MAX_VALUE:0>b?a.fromNumber(-b).negate():new a(b%c|0,b/c|0)};a.fromBits=function(b,d){return new a(b,d)};a.fromString=function(b,d){if(0==b.length)throw Error("number format error: empty string");var c=d||10;if(2>c||36<c)throw Error("radix out of range: "+c);if("-"==b.charAt(0))return a.fromString(b.substring(1),c).negate();if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character: '+
b);for(var e=a.fromNumber(Math.pow(c,8)),g=a.ZERO,k=0;k<b.length;k+=8){var f=Math.min(8,b.length-k),h=parseInt(b.substring(k,k+f),c);8>f?(f=a.fromNumber(Math.pow(c,f)),g=g.multiply(f).add(a.fromNumber(h))):(g=g.multiply(e),g=g.add(a.fromNumber(h)))}return g};a.parseLong=function(b,d){return a.fromString(b,1==arguments.length?10:d)};a.valueOf=function(b,d){return"number"==typeof b?a.fromNumber(b):a.parseLong(b,d)};a.toString=function(a){return a.toString()};var c=4294967296,e=c*c/2,g=a.fromInt(16777216);
a.ZERO=a.fromInt(0);a.ONE=a.fromInt(1);a.NEG_ONE=a.fromInt(-1);a.MAX_VALUE=a.fromBits(-1,2147483647);a.MIN_VALUE=a.fromBits(0,-2147483648);var k=function(b){return void 0===b||null===b?null:b instanceof a?b:a.fromNumber(b.valueOf())};return a}();b.com_ibm_vis_interaction_SceneItemTypes=b.com_ibm_init_declare({});b.com_ibm_vis_interaction_SceneItemTypes.TYPE_ELEMENT="element";b.com_ibm_vis_interaction_SceneItemTypes.TYPE_AXIS="axis";b.com_ibm_vis_interaction_SceneItemTypes.TYPE_COORDINATES="coordinates";
b.com_ibm_vis_interaction_SceneItemTypes.TYPE_LEGEND="legend";b.com_ibm_vis_interaction_SceneItemTypes.TYPE_TITLE="title";b.com_ibm_vis_interaction_SceneItemTypes.TYPE_FRAME="frame";b.com_ibm_vis_interaction_SceneItemTypes.TYPE_OTHER="other";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_MAIN="main";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_LABEL="label";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_TITLE="title";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_MARK="mark";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_MINOR_MARK=
"minorMark";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_LINE="line";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_GRID_LINE="gridLine";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_GRID_BAND="gridBand";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_LEGEND_ENTRY="legendEntry";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_SWATCH="swatch";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_VIS="vis";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_GRAMMAR="grammar";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_LEGEND=
"legend";b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_NONE="none";b.com_ibm_vis_interaction_internal_util_PipelineUtil=b.com_ibm_init_declare({});b.com_ibm_vis_interaction_internal_util_PipelineUtil.getSpecPathForSceneItem=function(a,d,c){if(c.equals(b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod.DATA))return b.com_ibm_vis_interaction_internal_util_PipelineUtil.gt$38(d);c=d.getType();return"element"==c?b.com_ibm_vis_interaction_internal_util_PipelineUtil.gn$36(a,d):"axis"==
c?b.com_ibm_vis_interaction_internal_util_PipelineUtil.gi$11(a,d):"legend"==c?b.com_ibm_vis_interaction_internal_util_PipelineUtil.gn$37(d):c==b.com_ibm_vis_interaction_SceneItemTypes.TYPE_COORDINATES?b.com_ibm_vis_interaction_internal_util_PipelineUtil.ge$71(d):null};b.com_ibm_vis_interaction_internal_util_PipelineUtil.gt$38=function(a){return["data",a.getDataIndex(),"rows",a.getRows()[0]]};b.com_ibm_vis_interaction_internal_util_PipelineUtil.ie$58=function(a,d){return b.com_ibm_vis_interaction_internal_util_PipelineUtil.ia$6(a,
d.grammarIndex())&&null==d.facetIndex()};b.com_ibm_vis_interaction_internal_util_PipelineUtil.ia$6=function(a,b){return a&&null!=b&&a.vis.ga_5[b].isFacetChart()};b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$27=function(a){return["grammar",a,"facet"]};b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$28=function(a){var d=["grammar",a.grammarIndex(),"elements",a.elementIndex()];"label"==a.subType()&&(d=b.com_ibm_rave_codegenerator_util_Arrays.copyOf(d,d.length+1),d[d.length-1]="label");
return d};b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$29=function(a){return["grammar",a.grammarIndex(),b.com_ibm_vis_internal_SpecConstants.COORDINATES,"dimensions",a.dimensionIndex(),"axis"]};b.com_ibm_vis_interaction_internal_util_PipelineUtil.gn$36=function(a,d){return b.com_ibm_vis_interaction_internal_util_PipelineUtil.ie$58(a,d)?b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$27(d.grammarIndex()):b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$28(d)};b.com_ibm_vis_interaction_internal_util_PipelineUtil.gi$11=
function(a,d){return b.com_ibm_vis_interaction_internal_util_PipelineUtil.ie$58(a,d)?b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$27(d.grammarIndex()):b.com_ibm_vis_interaction_internal_util_PipelineUtil.ct$29(d)};b.com_ibm_vis_interaction_internal_util_PipelineUtil.gn$37=function(a){return["legends",a.legendIndex()]};b.com_ibm_vis_interaction_internal_util_PipelineUtil.ge$71=function(a){return["grammar",a.grammarIndex(),b.com_ibm_vis_internal_SpecConstants.COORDINATES]};b.com_ibm_vis_interaction_internal_util_PipelineUtil.getSceneItemsForSpecPath=
function(a,d,c){if(c.equals(b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod.DATA))return a.getItemsForRows(b.com_ibm_vis_interaction_internal_util_PipelineUtil.rt$6(d));var e=a.getAllItems(!0),g=new b.com_ibm_rave_codegenerator_util_List,k=!1,s=b.com_ibm_vis_interaction_internal_util_PipelineUtil.gt$39(d);-1!=s&&(k=b.com_ibm_vis_interaction_internal_util_PipelineUtil.ia$6(a,s));d=b.com_ibm_vis_interaction_internal_util_PipelineUtil.st$12(d);for(s=0;s<e.length;++s){var f=e[s];b.com_ibm_vis_interaction_internal_util_PipelineUtil.it$10(a,
f,d,k,c)&&g.add(f)}return g.toArray([])};b.com_ibm_vis_interaction_internal_util_PipelineUtil.rt$6=function(a){for(var b=0;b<a.length;++b)if(a[b].equals("rows")&&a.length>b+1)return a=[a[b+1]];return a=[-1]};b.com_ibm_vis_interaction_internal_util_PipelineUtil.gt$39=function(a){for(var b=0;b<a.length;++b)if(a[b].equals("grammar")&&a.length>b+1)return a[b+1];return-1};b.com_ibm_vis_interaction_internal_util_PipelineUtil.tt$2=function(a,d){return a.length>d+2?b.com_ibm_rave_codegenerator_util_Arrays.copyOfRange(a,
0,d+2):b.com_ibm_rave_codegenerator_util_Arrays.copyOfRange(a,0,d+1)};b.com_ibm_vis_interaction_internal_util_PipelineUtil.st$12=function(a){for(var d=0;d<a.length;++d){if(a[d].equals("legends")||a[d].equals("dimensions"))return b.com_ibm_vis_interaction_internal_util_PipelineUtil.tt$2(a,d);if(a[d].equals("elements"))return a.length>d+2&&a[d+2].equals("label")?b.com_ibm_rave_codegenerator_util_Arrays.copyOfRange(a,0,d+3):b.com_ibm_vis_interaction_internal_util_PipelineUtil.tt$2(a,d)}return a};b.com_ibm_vis_interaction_internal_util_PipelineUtil.it$10=
function(a,d,c,e,g){a=b.com_ibm_vis_interaction_internal_util_PipelineUtil.getSpecPathForSceneItem(a,d,g);if(!a||a.length<c.length||e&&null==d.facetIndex())return!1;for(d=0;d<c.length;++d)if(!c[d].equals(a[d]))return!1;return!0};b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod.DECLARATION=new b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod("DECLARATION");
b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod.DATA=new b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod("DATA");b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_internal_util_PipelineUtil.MatchingMethod)};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.OBJECT=
new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("OBJECT");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.ARRAY=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_BOOLEAN_ARRAY=
new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_BOOLEAN_ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_DOUBLE_ARRAY=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_DOUBLE_ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_INTEGER_ARRAY=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_INTEGER_ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_CHAR_ARRAY=
new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_CHAR_ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_MAP=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_MAP");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.COMPOSITE=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("COMPOSITE");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.EMPTY=
new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("EMPTY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_ARRAY=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_STRING_ARRAY=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType("PRIMITIVE_STRING_ARRAY");b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.values=
function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType)};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.serialize=function(a){a=b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.bo$1(a);return b.com_ibm_rave_codegenerator_util_BasicFactory.serialize(a)};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.bo$1=
function(a){if(!a)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c=a.createSerializableComposite();a=0;for(var e=c.getNodes().arrayIterator(),g=e.length;a<g;++a)b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sc$2(e[a],d);for(var e=c.primitiveMap,g=0,k=e.keySet().arrayIterator(),s=k.length;g<s;++g)a=k[g],b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sv$1(a,e.get(a),d);c=c.pa_1;e=0;g=c.keySet().arrayIterator();for(k=g.length;e<
k;++e)a=g[e],b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sv$2(a,c.get(a),d);return d};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.ca$5=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();if(a=a.getValues())for(var c=0,e=a.length;c<e;++c){var g=b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.bo$1(a[c]);g&&d.push(g)}return d};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sc$2=function(a,
d){switch(a.getType()){case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.OBJECT:var c=b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.cc$1(a);c&&(d[a.id]=c);break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.ARRAY:d[a.id]=b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.ca$5(a);break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE:c=a.asPrimitive().getValue();b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sv$1(a.id,
c,d);break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_BOOLEAN_ARRAY:var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),e=a.getValues();if(e){for(var g=0,k=e.length;g<k;++g)c.push(e[g]);d[a.id]=c}break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_DOUBLE_ARRAY:c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();if(e=a.getValues()){g=0;for(k=e.length;g<k;++g){var s=e[g];s!=s?c.push(""):
c.push(s)}d[a.id]=c}break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_INTEGER_ARRAY:c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();if(e=a.getValues()){g=0;for(k=e.length;g<k;++g)c.push(e[g]);d[a.id]=c}break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_CHAR_ARRAY:c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();if(e=a.getValues()){g=0;for(k=e.length;g<k;++g)c.push(e[g]);d[a.id]=
c}break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_STRING_ARRAY:c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();if(e=a.getValues()){g=0;for(k=e.length;g<k;++g)c.push(e[g]);d[a.id]=c}break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_MAP:c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();if(e=a.getMap()){g=0;k=e.keySet().arrayIterator();for(s=k.length;g<s;++g){var f=k[g];c[f]=e.get(f)}d[a.id]=
c}break;case b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.COMPOSITE:c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();e=0;g=a.getNodes().arrayIterator();for(k=g.length;e<k;++e)b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sc$2(g[e],c);d[a.id]=c}};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sv$1=function(a,b,c){null!=b&&(c[a]=b)};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.sv$2=function(a,b,
c){null!=b&&(c[a]=b!=b?"":b)};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.cc$1=function(a){a=a.getValue();return b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer.bo$1(a)};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.deserialize=function(a){a=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a);return b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.dc$1(null,
a)};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.dc$1=function(a,d){for(var c=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(a),e=0,g=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(d),k=g.length;e<k;++e){var s=g[e],f=d[s];b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(f)?c.add(b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.da$1(s,f)):b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(f)?c.add(b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.dc$1(s,
f)):c.addObject(s,f)}return c};b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.da$1=function(a,d){for(var c=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(a),e=0;e<d.length;++e){var g=d[e];b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(g)?c.add(b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.da$1("",g)):b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(g)?c.add(b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer.dc$1(null,
g)):c.addObject(String.CPVisEngineValueOf(e),g)}return c};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact=b.com_ibm_init_declare({primitiveMap:null,_l_1:!1,constructor:function(){this.primitiveMap=new b.com_ibm_rave_codegenerator_util_LinkedMap;this.pa_1=new b.com_ibm_rave_codegenerator_util_LinkedMap;(function(a){this.id=a}).apply(this,arguments)},getId:function(){return this.id},setId:function(a){this.id=a},getType:function(){},getValue:function(){},asPrimitive:function(){var a=
this.getValue();return null==a?b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive.NULL_SERIALIZABLE_PRIMITIVE:new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive(this.id,a)},addString:function(a,b){this.primitiveMap.put(a,b)},addBoolean:function(a,b){this.primitiveMap.put(a,b)},addInteger:function(a,b){this.primitiveMap.put(a,b)},addDouble:function(a,b){this.pa_1.put(a,b)},addObject:function(a,b){this.primitiveMap.put(a,b)},getPrimitives:function(){return this.primitiveMap},
getDoublePrimitives:function(){return this.pa_1},getPrimitiveValueById:function(a){var b=this.primitiveMap.get(a);null==b&&(b=this.pa_1.get(a));return b},asPrimitiveArray:function(){return null},asMap:function(){return null},isNull:function(){return this._l_1},setIsNull:function(a){this._l_1=a}});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(){this.ne_3=
new b.com_ibm_rave_codegenerator_util_Map;this.nodes=new b.com_ibm_rave_codegenerator_util_List;(function(a){}).apply(this,arguments)},getNodeById:function(a){var d=this.ne_3.get(a);d||(d=this.gI$1(a));d||(d=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableEmptyComposite(a));return d},gI$1:function(a){var d=this.getPrimitiveValueById(a),c;null!=d&&(c=b.com_ibm_vis_engine_internal_nativeImpl_SerializablePrimitiveBuilder.create(a,d));return c},add:function(a){var b=a.id;null!=b&&
this.ne_3.put(b,a);this.nodes.add(a)},getNodes:function(){return this.nodes},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.COMPOSITE},getValue:function(){return null},asPrimitiveArray:function(){for(var a=Array(this.nodes.size()+this.primitiveMap.size()),d=0,c=0,e=this.nodes.arrayIterator(),g=e.length;c<g;++c){var k=e[c];a[d++]=k.asPrimitive()}c=0;e=this.primitiveMap.keySet().arrayIterator();for(g=e.length;c<g;++c)k=e[c],a[d++]=this.primitiveMap.get(k);
c=0;e=this.pa_1.keySet().arrayIterator();for(g=e.length;c<g;++c)k=e[c],a[d++]=this.pa_1.get(k);a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray(this.id,a);a._l_1=this._l_1;return a},asMap:function(){for(var a=new b.com_ibm_rave_codegenerator_util_Map,d=0,c=this.nodes.arrayIterator(),e=c.length;d<e;++d){var g=c[d];a.put(g.id,g.asPrimitive().getValue())}d=0;c=this.primitiveMap.keySet().arrayIterator();for(e=c.length;d<e;++d)g=c[d],a.put(g,this.primitiveMap.get(g));
d=0;c=this.pa_1.keySet().arrayIterator();for(e=c.length;d<e;++d)g=c[d],a.put(g,this.pa_1.get(g));a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringMap(this.id,a);a._l_1=this._l_1;return a}});b.com_ibm_rave_codegenerator_util_LinkedMap=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Map,{constructor:function(){this._keys=[]},put:function(a,d){this.containsKey(a)||this._keys.push(a);return b.com_ibm_rave_codegenerator_util_Map.prototype.put.apply(this,arguments)},
remove:function(a){var d=b.com_ibm_rave_codegenerator_util_Map.prototype.remove.apply(this,arguments);if(d){var c=b.com_ibm_rave_codegenerator_lang_Array.indexOf(this._keys,a);this._keys.splice(c,1)}return d},clear:function(){b.com_ibm_rave_codegenerator_util_Map.prototype.clear.apply(this,arguments);this._keys=[]},_getKeysArray:function(a){return a?this._keys.slice():this._keys}});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,
{constructor:function(a,b){this.pu_1=b},getValue:function(){return this.pu_1},setValue:function(a){this.pu_1=a},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE},getBooleanValue$0:function(){return this.getValue()},getBooleanValue$1:function(a){var b=this.getBooleanValue$0();null!=b&&(a=b.valueOf());return a},getNumberValue$0:function(){return this.getNumberValue$1(0)},getNumberValue$1:function(a){var b;"string"===typeof this.getValue()||this.getValue()instanceof
String?b=NaN:(b=this.getValue(),null==b&&(b=a));return b},getStringValue$0:function(){return this.getValue()},getStringValue$1:function(a){return null==this.getValue()?a:this.getValue()},asPrimitive:function(){return this},populate:function(a,b){this.id=a;this.pu_1=b;return this},getBooleanValue:function(){var a=arguments,d;0==a.length?d=this.getBooleanValue$0:1==a.length&&(d=this.getBooleanValue$1);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)},getNumberValue:function(){var a=
arguments,d;0==a.length?d=this.getNumberValue$0:1==a.length&&(d=this.getNumberValue$1);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)},getStringValue:function(){var a=arguments,d;0==a.length?d=this.getStringValue$0:1==a.length&&(d=this.getStringValue$1);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive.NULL_SERIALIZABLE_PRIMITIVE=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive("",
null)});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableEmptyComposite=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite,{constructor:function(a){this._l_1=!0},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.EMPTY},getValue:function(){return null}});b.com_ibm_vis_engine_internal_nativeImpl_SerializablePrimitiveBuilder={create:function(a,d){return b.com_ibm_vis_engine_internal_nativeImpl_SerializablePrimitiveBuilder.STATIC_PRIMITIVE.populate(a,
d)}};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_nativeImpl_SerializablePrimitiveBuilder.STATIC_PRIMITIVE=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive("",null)});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.values=b},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_ARRAY},
getValue:function(){return null},getValuesAsDouble:function(){for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.values.length],0),d=0,c=0,e=this.values,g=e.length;c<g;++c){var k=e[c];"string"===typeof k||k instanceof String?a[d++]=NaN:a[d++]=k}return a},getValuesAsInteger:function(){if(this._l_1)return null;for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.values.length],0),d=0,c=0,e=this.values,g=e.length;c<g;++c){var k=e[c];a[d++]=k}return a},getValuesAsBoolean:function(){if(this._l_1)return null;
for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.values.length],!1),d=0,c=0,e=this.values,g=e.length;c<g;++c){var k=e[c];a[d++]=k.valueOf()}return a},getValuesAsChar:function(){if(this._l_1)return null;for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.values.length],0),d=0,c=0,e=this.values,g=e.length;c<g;++c){var k=e[c];a[d++]=k}return a},getValuesAsString:function(){if(this._l_1)return null;for(var a=Array(this.values.length),b=0,c=0,e=this.values,g=e.length;c<g;++c){var k=
e[c];a[b++]=k}return a}});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringMap=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.map=b},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_MAP},getValue:function(){return this.map},asMap:function(){return this},getMap:function(){return this._l_1?null:this.map}});b.com_ibm_vis_engine_NumberFormatter=
b.com_ibm_init_declare.implement({formatNumber:function(a,b,c,e,g,k,s){}});b.com_ibm_vis_engine_LocalizedNumberFormatter=b.com_ibm_init_declare.implement({formatLocalizedNumber:function(a,b,c,e,g,k,s,f){}});b.com_ibm_vis_engine_StringFormatter=b.com_ibm_init_declare.implement({formatString:function(a,b,c,e){}});b.com_ibm_vis_engine_DateFormatter=b.com_ibm_init_declare.implement({formatDate:function(a,b,c,e,g){}});b.com_ibm_vis_engine_LocalizedDateFormatter=b.com_ibm_init_declare.implement({formatLocalizedDate:function(a,
b,c,e,g,k,s){}});b.com_ibm_vis_engine_DataFormatter=b.com_ibm_init_declare.implement([b.com_ibm_vis_engine_NumberFormatter,b.com_ibm_vis_engine_LocalizedNumberFormatter,b.com_ibm_vis_engine_StringFormatter,b.com_ibm_vis_engine_DateFormatter,b.com_ibm_vis_engine_LocalizedDateFormatter],{formatNumber:function(a,b,c,e,g,k,s){},formatString:function(a,b,c,e){},formatDate:function(a,b,c,e,g){},formatLocalizedNumber:function(a,b,c,e,g,k,s,f){},formatLocalizedDate:function(a,b,c,e,g,k,s){}});b.com_ibm_vis_engine_internal_FormatWrapper=
b.com_ibm_init_declare(b.com_ibm_vis_engine_DataFormatter,{constructor:function(){this.na_7=new b.com_ibm_rave_codegenerator_util_Map;(function(a){this.ne_23=a.formatContext.integratorNumberFormatter;this.le_45=a.formatContext.integratorLocalizedNumberFormatter;this.se_35=a.formatContext.integratorStringFormatter;this.de_22=a.formatContext.integratorDateFormatter;this.le_44=a.formatContext.integratorLocalizedDateFormatter;this.id=a.visId}).apply(this,arguments)},addMapping:function(a,b){this.na_7.put(a,
b)},formatDate:function(a,b,c,e,g){var k;this.de_22&&(b=this.na_7.get(c),null==b&&(b=c),k=this.de_22.formatDate(a,-1,b,e,this.id));return k},formatLocalizedDate:function(a,b,c,e,g,k,s){var f;this.le_44&&(b=this.na_7.get(c),null==b&&(b=c),f=this.le_44.formatLocalizedDate(a,-1,b,e,this.id,k,s));return f},formatString:function(a,b,c,e){var g;this.se_35&&(b=this.na_7.get(c),null==b&&(b=c),g=this.se_35.formatString(a,-1,b,this.id));return g},formatNumber:function(a,d,c,e,g,k,s){var f;this.ne_23&&(d=this.na_7.get(c),
null==d&&(d=c),null!=a&&b.com_ibm_rave_codegenerator_lang_Double.isNaN(a)&&(a=null),f=this.ne_23.formatNumber(a,-1,d,e,g,k,this.id));return f},formatLocalizedNumber:function(a,d,c,e,g,k,s,f){null!=a&&b.com_ibm_rave_codegenerator_lang_Double.isNaN(a)&&(a=null);var u;this.le_45&&(d=this.na_7.get(c),null==d&&(d=c),u=this.le_45.formatLocalizedNumber(a,-1,d,e,g,k,this.id,f));return u}});b.com_ibm_vis_interaction_ChangeEffects=b.com_ibm_init_declare({makeTransitionEffect:function(a){},makeGrowEffect:function(a){},
makeRevealEffect:function(a){},makeFadeInEffect:function(a){},makeFadeOutEffect:function(a){},makeFlyInEffect:function(a){},makeSimultaneous:function(a,b){},makeSimultaneousEffects:function(a){},makeSequential:function(a,b){},setChangeEffect:function(a,b){},getChangeEffect:function(a){},addEffectListener:function(a){},removeEffectListener:function(a){},getEasingFunction:function(a){}});b.com_ibm_vis_interaction_ChangeEffects.DEFAULT=0;b.com_ibm_vis_interaction_ChangeEffects.LEFT_TO_RIGHT=0;b.com_ibm_vis_interaction_ChangeEffects.RIGHT_TO_LEFT=
1;b.com_ibm_vis_interaction_ChangeEffects.TOP_TO_BOTTOM=2;b.com_ibm_vis_interaction_ChangeEffects.BOTTOM_TO_TOP=3;b.com_ibm_vis_engine_LocalizationSettings=b.com_ibm_init_declare({mo_3:!1,constructor:function(){this.ll_1=null;this.bo_3="auto";this.mo_3=!1;this.cx_1=this.ce_4=this.nd_1=null},copy:function(){var a=new b.com_ibm_vis_engine_LocalizationSettings;a.ll_1=this.ll_1;a.bo_3=this.bo_3;a.mo_3=this.mo_3;a.nd_1=this.nd_1;a.setContextualShapingDigitCodes(this.ce_4);a.cx_1=this.cx_1;return a},getLocale:function(){return this.ll_1},
setLocale:function(a){this.ll_1=a},getBaseTextDirection:function(){return this.bo_3},setBaseTextDirection:function(a){if("auto"==a||"ltr"==a||"rtl"==a)this.bo_3=a},isMirror:function(){return this.mo_3},setMirror:function(a){this.mo_3=a},getNationalDigitShapingCode:function(){return this.nd_1},setNationalDigitShapingCode:function(a){this.nd_1=a},getContextualShapingDigitCodes:function(){if(!this.ce_4)return null;for(var a=this.ce_4.length,b=Array(a),c=0;c<a;++c)b[c]=this.ce_4[c];return b},setContextualShapingDigitCodes:function(a){if(a){var b=
a.length;this.ce_4=Array(b);for(var c=0;c<b;++c)this.ce_4[c]=a[c]}else this.ce_4=null},getContextualShapingDefaultContext:function(){return this.cx_1},setContextualShapingDefaultContext:function(a){this.cx_1=a}});b.com_ibm_vis_engine_LocalizationSettings.BASE_TEXT_DIRECTION_AUTO="auto";b.com_ibm_vis_engine_LocalizationSettings.BASE_TEXT_DIRECTION_LEFT_TO_RIGHT="ltr";b.com_ibm_vis_engine_LocalizationSettings.BASE_TEXT_DIRECTION_RIGHT_TO_LEFT="rtl";b.com_ibm_vis_interaction_events_RaveEvent=b.com_ibm_init_declare({getEventGroup:function(){},
getType:function(){return null},getEventSource:function(){return null}});b.com_ibm_vis_interaction_events_EffectEndEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{constructor:function(a){this.sc_11=a},getEventGroup:function(){return b.com_ibm_vis_interaction_events_EffectEndEvent.EVENT_GROUP},getEventSource:function(){return this.sc_11}});b.com_ibm_vis_interaction_events_EffectEndEvent.EVENT_GROUP="EffectEndEvent";b.com_ibm_vis_interaction_events_EffectStartEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,
{constructor:function(a){this.sc_12=a},getEventGroup:function(){return b.com_ibm_vis_interaction_events_EffectStartEvent.EVENT_GROUP},getEventSource:function(){return this.sc_12}});b.com_ibm_vis_interaction_events_EffectStartEvent.EVENT_GROUP="EffectStartEvent";b.com_ibm_vis_interaction_events_SpecChangeEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{getEventGroup:function(){return b.com_ibm_vis_interaction_events_SpecChangeEvent.EVENT_GROUP}});b.com_ibm_vis_interaction_events_SpecChangeEvent.EVENT_GROUP=
"SpecChangeEvent";b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{getEventGroup:function(){return b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent.EVENT_GROUP}});b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent.EVENT_GROUP="VisControlBeingDestroyedEvent";b.com_ibm_vis_interaction_events_VisControlDestroyEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{getEventGroup:function(){return b.com_ibm_vis_interaction_events_VisControlDestroyEvent.EVENT_GROUP}});
b.com_ibm_vis_interaction_events_VisControlDestroyEvent.EVENT_GROUP="VisControlDestroyEvent";b.com_ibm_vis_interaction_events_VisControlStartupEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{getEventGroup:function(){return b.com_ibm_vis_interaction_events_VisControlStartupEvent.EVENT_GROUP}});b.com_ibm_vis_interaction_events_VisControlStartupEvent.EVENT_GROUP="VisControlStartupEvent";b.com_ibm_vis_interaction_events_VisualizationReadyEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,
{getEventGroup:function(){return b.com_ibm_vis_interaction_events_VisualizationReadyEvent.EVENT_GROUP}});b.com_ibm_vis_interaction_events_VisualizationReadyEvent.EVENT_GROUP="VisualizationReadyEvent";b.com_ibm_vis_interaction_events_VisualizationRenderEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{getEventGroup:function(){return b.com_ibm_vis_interaction_events_VisualizationRenderEvent.EVENT_GROUP}});b.com_ibm_vis_interaction_events_VisualizationRenderEvent.EVENT_GROUP="VisualizationRenderEvent";
b.com_ibm_vis_interaction_events_InteractivityEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{constructor:function(a){this.type=a},getEventGroup:function(){return b.com_ibm_vis_interaction_events_InteractivityEvent.EVENT_GROUP},getType:function(){return this.type}});b.com_ibm_vis_interaction_events_InteractivityEvent.EVENT_GROUP="InteractivityEvent";b.com_ibm_vis_interaction_events_RaveListener=b.com_ibm_init_declare.implement({update:function(a,b){}});b.com_ibm_vis_monitor_LogComponent=
b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_monitor_LogComponent.CommonGrammar=new b.com_ibm_vis_monitor_LogComponent("CommonGrammar");b.com_ibm_vis_monitor_LogComponent.CommonInteraction=new b.com_ibm_vis_monitor_LogComponent("CommonInteraction");b.com_ibm_vis_monitor_LogComponent.AWTEngine=new b.com_ibm_vis_monitor_LogComponent("AWTEngine");b.com_ibm_vis_monitor_LogComponent.JavaEngine=new b.com_ibm_vis_monitor_LogComponent("JavaEngine");b.com_ibm_vis_monitor_LogComponent.WebEngine=
new b.com_ibm_vis_monitor_LogComponent("WebEngine");b.com_ibm_vis_monitor_LogComponent.AppVisBoard=new b.com_ibm_vis_monitor_LogComponent("AppVisBoard");b.com_ibm_vis_monitor_LogComponent.AppOther=new b.com_ibm_vis_monitor_LogComponent("AppOther");b.com_ibm_vis_monitor_LogComponent.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_monitor_LogComponent)};b.com_ibm_vis_monitor_LogEntry=b.com_ibm_init_declare.implement({getMessage:function(){},getLevel:function(){},
getComponent:function(){},getParameterKeys:function(){},getParameterValue:function(a){}});b.com_ibm_vis_monitor_LogLevel=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_monitor_LogLevel.Error=new b.com_ibm_vis_monitor_LogLevel("Error");b.com_ibm_vis_monitor_LogLevel.GrammarError=new b.com_ibm_vis_monitor_LogLevel("GrammarError");b.com_ibm_vis_monitor_LogLevel.Warning=new b.com_ibm_vis_monitor_LogLevel("Warning");b.com_ibm_vis_monitor_LogLevel.GrammarWarning=new b.com_ibm_vis_monitor_LogLevel("GrammarWarning");
b.com_ibm_vis_monitor_LogLevel.Info=new b.com_ibm_vis_monitor_LogLevel("Info");b.com_ibm_vis_monitor_LogLevel.GrammarInfo=new b.com_ibm_vis_monitor_LogLevel("GrammarInfo");b.com_ibm_vis_monitor_LogLevel.Detail=new b.com_ibm_vis_monitor_LogLevel("Detail");b.com_ibm_vis_monitor_LogLevel.Trace=new b.com_ibm_vis_monitor_LogLevel("Trace");b.com_ibm_vis_monitor_LogLevel.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_monitor_LogLevel)};b.com_ibm_vis_monitor_LogListener=
b.com_ibm_init_declare({accept:function(a){},isTracing:function(){}});b.com_ibm_vis_monitor_Logger=b.com_ibm_init_declare.implement({addListener:function(a){},removeListener:function(a){}});b.com_ibm_vis_monitor_Logger.TIMESTAMP_KEY="timestamp";b.com_ibm_vis_engine_internal_nativeImpl_Animation=function(){var a=window,d=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||a.setInterval,c=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||
a.msCancelAnimationFrame||a.clearInterval,e=d==window.setInterval?20:0;return b.com_ibm_init_declare({constructor:function(a,b,d,c,e){this._duration=a;this._onBegin=b;this._onAnimate=d;this._onEnd=c;this._ease=e},play:function(){function a(){var u=0==f?1:((new Date).getTime()-b)/f;1<u&&(u=1);c._onAnimate&&c._onAnimate(c._getEase(u));c._running&&(1==u?c.stop():e||(c._running=d(a)))}if(!this._running){this._onBegin&&this._onBegin(this._getEase(0));var b=(new Date).getTime(),c=this,f=this._duration;
this._running=d(a,e)}},stop:function(){this._running&&(c(this._running),this._running=null,this._onEnd&&this._onEnd(this._getEase(1)))},_getEase:function(a){return this._ease?this._ease(a):a}})}();b.com_ibm_vis_engine_internal_scene_FontHeightMetrics=b.com_ibm_init_declare({an_5:0,dn_4:0,constructor:function(a,b){this.an_5=a;this.dn_4=b},getAscent:function(){return this.an_5},getHeight:function(){return this.an_5+this.dn_4},getDescent:function(){return this.dn_4}});b.com_ibm_vis_engine_internal_util_MathUtil=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_util_MathUtil.r=function(a){return 1E-6>Math.abs(a)?0:1E-6>Math.abs(a-1)?1:a};b.com_ibm_vis_engine_internal_util_MathUtil.r3=function(a){return Math.round(1E3*a)/1E3};b.com_ibm_vis_engine_internal_util_MathUtil.s4=function(a){if(1<=Math.abs(a))return b.com_ibm_vis_engine_internal_util_MathUtil.r3(a);if(0==a)return 0;var d=Math.ceil(Math.log(Math.abs(a))/Math.log(10)),d=Math.pow(10,4-d);return Math.round(a*d)/d};b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0=
function(a,b){return 1E-6>=Math.abs(a-b)?!0:!1};b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$1=function(a,b,c){return Math.abs(a-b)<=c?!0:!1};b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals=function(){var a=arguments,d;2==a.length?d=b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0:3==a.length&&(d=b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$1);return d.apply(this,a)};b.com_ibm_vis_engine_internal_util_MathUtil.DOUBLE_TOLERANCE=1E-6;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_util_MathUtil.LN10=
Math.log(10)});b.com_ibm_vis_scenetree_internal_TextJSONSerializer=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeText=function(a){if(!a||null==a.getText())return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d.type="text";d.text=a.getText();null!=a.getTextAlign()&&(d.align=a.getTextAlign());var c=a.getAnchorPoint();d.x=b.com_ibm_vis_engine_internal_util_MathUtil.r3(c.x);d.y=b.com_ibm_vis_engine_internal_util_MathUtil.r3(c.y);
a=a.getTextSize();d.width=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.wt_2);d.height=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.hh_1);return d};b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeTextFont=function(a){return a&&a.getFont()?b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeFont(a.getFont(),a.requiredPreciseAscent()):null};b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeFont=function(a,d){if(!a)return null;var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
c.family=a.getFamily();c.size=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.getSize())+"px";c.ascent=null!=d?b.com_ibm_vis_engine_internal_util_MathUtil.r3(d):b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.getAscent());null!=a.getWeight()&&(c.weight=a.getWeight());null!=a.getStyle()&&(c.style=a.getStyle());return c};b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TYPE="type";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TYPE_TEXT="text";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TEXT_TEXT=
"text";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TEXT_ALIGN="align";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TEXT_X="x";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TEXT_Y="y";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TEXT_WIDTH="width";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.TEXT_HEIGHT="height";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.FONT_FAMILY="family";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.FONT_SIZE="size";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.FONT_ASCENT=
"ascent";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.FONT_WEIGHT="weight";b.com_ibm_vis_scenetree_internal_TextJSONSerializer.FONT_STYLE="style";b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure=function(){var a={},d=null,c={},e=null;a.initHtmlMeasuringNode=function(){if(null==d){var a,b,c;c=W.doc.createElement("div");a=W.doc.createElement("div");a.appendChild(c);b=a.style;b.overflow="scroll";b.position="absolute";b.left="0px";b.top="-10000px";b.width="0px";b.height="0px";b.visibility=
"hidden";b.borderWidth="0";b.margin="0";b.padding="0";b.outline="0";W.body().appendChild(a);d=c}};a.updateStyle=function(a,b){a.className="";var d=a.style;d.borderWidth="0";d.margin="0";d.padding="0";d.outline="0";d.whiteSpace="nowrap";if(1<arguments.length&&b)for(var e in b)e in c||(d[e]=b[e]);2<arguments.length&&className&&(a.className=className)};a.getTextBox=function(b,c,e){a.updateStyle(d,c);d.innerHTML=b.replace(/ /g,"\x26nbsp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");b={w:d.offsetWidth,
h:d.offsetHeight};b.w=Math.max(0,d.parentNode.scrollWidth);return b};a.initGfxMeasuringNode=function(){null==e&&(e=new R,e.resolve());return e};a.init=function(){a.initHtmlMeasuringNode();return a.initGfxMeasuringNode()};a.getGfxWidth=function(a,b){return null};a._getHTMLFontStyle=function(a){return{fontFamily:a.getFamily(),fontSize:a.getSize()+"px",fontWeight:a.getBold()?"bold":"normal"}};a._getGFXFontStyle=function(a){return b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeFont(a,null)};
a._getTextBox=function(b,d){return a.getTextBox(d,a._getHTMLFontStyle(b))};a.getWidth=function(b,d){var c=a.getGfxWidth(b,d);null==c&&(c=this._getTextBox(b,d).w);null!=d&&0<d.length&&null!=c&&b.getMetric().getFontStats().updAvg(c/d.length);return c};a.getAscent=function(a){return.79*this.getHeight(a)};a.getHeight=function(a){return this._getTextBox(a,"Aj").h};a.getHeightForText=function(a,b){return this._getTextBox(a,b).h};a.getAccessibleMinimumFontSize=function(){var a=document.createElement("div"),
b=document.body.style.fontSize;document.body.style.fontSize="0.1px";var d={fontSize:"1em",visibility:"hidden",lineHeight:"1",position:"absolute",left:"-10000px",top:"-10000px"},c;for(c in d)a.style[c]=d[c];a.appendChild(document.createTextNode("M"));document.body.appendChild(a);d=a.offsetHeight;document.body.removeChild(a);document.body.style.fontSize=b;return d};a.getFontHeightMetrics=function(a,d){var c=document.createElement("canvas");if(!c||"undefined"===typeof c.getContext){var e=this.getAscent(a),
f=this.getHeight(a);return new b.com_ibm_vis_engine_internal_scene_FontHeightMetrics(e,f-e)}if(null==d||0==d.length)d=" ";f=this._getTextBox(a,d);e=f.w;f=f.h;c.width=e;c.height=f;var c=c.getContext("2d"),I=a.getBold()?"bold":"",h=a.getStyle()||"",l=a.getSize(),m=a.getFamily();c.font=I+" "+h+" "+l+"px "+m;c.textBaseline="alphabetic";c.fillStyle="white";c.fillText(d,0,0);c=c.getImageData(0,0,e,f).data;e*=4;for(h=I=0;h<f;h++){l=h*e;for(m=l+e;l<m;l+=4)if(0!=c[l]){I++;break}if(l==m)break}c=I-0;e=.65*f;
0<c&&(e=.8*f-c);return new b.com_ibm_vis_engine_internal_scene_FontHeightMetrics(e,c)};return a}();b.com_ibm_init_requireSync=function(){function a(a){d[a]||(e.defaultLoader(a),d[a]=1)}var d={},c={},e=function(b){if("string"==typeof b)a(b);else for(var d=0;d<b.length;++d)a(b[d])};e.defaultLoader=function(a){var d=c[a];d?d(a):b.com_ibm_init_xhr.get({url:b.com_ibm_init_resolver.toUrl(a)+".js",sync:!0,load:function(d){b.com_ibm_init_requireSync._eval(d,a)}})};e.registerLoader=function(a,b){c[a]=b};e.amd=
function(a,b,d){1==arguments.length?(b=a,a=void 0):2==arguments.length&&b.apply&&(d=b,b=a,a=void 0);var c=!1;"string"==typeof b&&(c=!0,b=[b]);"string"==typeof a&&(a=[a]);var e,f=function(){e=[].slice.call(arguments);d&&d.apply(this,e)},h=q.async,l=h?{async:0}:{};a?q(l,a,function(){q(b,f)}):q(l,b,f);h&&q({async:1},null,null);return c&&e?e[0]:e};return e}();b.com_ibm_init_requireSync._eval=eval('(evalIE8Fix \x3d function(){return eval(arguments[0]+(arguments[1]?"\\r\\n////@ sourceURL\x3d"+arguments[1]:""))})');
b.com_ibm_vis_engine_internal_nativeImpl_render_VisCustomElement=function(){return b.com_ibm_init_declare({FOREGROUND_DIV_ID:"foregroundDiv",BACKGROUND_DIV_ID:"backgroundDiv",CUSTOMELEMENT_DIV_ID:"customElementDiv",INTERACTIVE_CONTROLS_DIV_ID:"interactiveControlsDiv",constructor:function(a,b){this.parentVisControl=a;this.parentContainer=b;this._makeDivs(b)},_getMapController:function(){this.mapController||(b.com_ibm_init_requireSync("com/ibm/vis/layers/mapLayer"),this.mapController=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_MapController);
return this.mapController},renderCustomElement:function(a){var b=this._getMapController();this._makeCustomElement(this.parentVisControl._getVis(),a);b.buildControlsGUI({parentInteractivity:this.parentVisControl.getInteractivity(),controlsDiv:this[this.INTERACTIVE_CONTROLS_DIV_ID]})},getMapControlsWidget:function(){return this._getMapController().getMapControlsWidget()},_createLayer:function(a){return this[a]=ea.create("div",{id:a,style:{position:"absolute",backgroundColor:"transparent",left:0,top:0,
width:this.parentContainer.offsetWidth+"px",height:this.parentContainer.offsetHeight+"px",overflow:"hidden"}},this.parentContainer)},_makeDivs:function(){for(var a=[this.BACKGROUND_DIV_ID,this.CUSTOMELEMENT_DIV_ID,this.FOREGROUND_DIV_ID,this.INTERACTIVE_CONTROLS_DIV_ID],b=0;b<a.length;b++)this._createLayer(a[b]);this[this.FOREGROUND_DIV_ID].style.position="static";this[this.FOREGROUND_DIV_ID].setAttribute("dir","ltr");null!=this.parentVisControl&&null!=this.parentVisControl.domNode&&(this.parentVisControl.domNode.style.position=
"relative",this.parentVisControl.domNode.style.display="inline-block")},_makeCustomElement:function(a,d){this.mapLayerHandler=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_MapLayerHandler(a,d);var c=this.mapLayerHandler.getBoundsFromCoordinates();this.setCustomBounds(c);var e=d.getScaledSize();this.setDimensions(e.getWidth(),e.getHeight());this._destroy();var e=this.parentContainer.offsetWidth,g=this.parentContainer.offsetHeight;c.width>e&&(this[this.BACKGROUND_DIV_ID].style.width=e+"px",
this[this.FOREGROUND_DIV_ID].style.width=e+"px");c.height>g&&(this[this.BACKGROUND_DIV_ID].style.height=g+"px",this[this.FOREGROUND_DIV_ID].style.height=g+"px");this.customElementVisControl=this.mapLayerHandler},_renderMap:function(){this[this.CUSTOMELEMENT_DIV_ID].style.zIndex=0;var a=this.mapLayerHandler.createMap();a.render(this[this.CUSTOMELEMENT_DIV_ID]);var b=this.mapLayerHandler.getBoundsFromCoordinates(),c=this.mapLayerHandler.getTranslateX()-b.getX(),b=this.mapLayerHandler.getTranslateY()-
b.getY();a.applyTransform(c,b,this.mapLayerHandler.getScale())},_destroy:function(){for(var a=this[this.CUSTOMELEMENT_DIV_ID];a.hasChildNodes();)a.removeChild(a.lastChild);for(a=this[this.INTERACTIVE_CONTROLS_DIV_ID];a.hasChildNodes();)a.removeChild(a.lastChild)},setDimensions:function(a,b){var c=a+"px",e=b+"px";this[this.FOREGROUND_DIV_ID].style.width=c;this[this.FOREGROUND_DIV_ID].style.height=e;this[this.BACKGROUND_DIV_ID].style.width=c;this[this.BACKGROUND_DIV_ID].style.height=e;this[this.INTERACTIVE_CONTROLS_DIV_ID].style.width=
c;this[this.INTERACTIVE_CONTROLS_DIV_ID].style.height=e},setCustomBounds:function(a){this[this.CUSTOMELEMENT_DIV_ID].style.top=a.getY()+"px";this[this.CUSTOMELEMENT_DIV_ID].style.left=a.getX()+"px";this[this.CUSTOMELEMENT_DIV_ID].style.width=a.getWidth()+"px";this[this.CUSTOMELEMENT_DIV_ID].style.height=a.getHeight()+"px"}})}();b.com_ibm_vis_exceptions_internal_EngineException=b.com_ibm_init_declare(b.com_ibm_vis_exceptions_VisException,{});b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer=
b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeColor=function(a){if(!a)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a=a.getRGBA();d.r=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a[0]);d.g=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a[1]);d.b=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a[2]);.9995>a[3]&&(d.a=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a[3]));return d};b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializePaint=
function(a){if(!a)return null;if(a.so_4)return b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeColor(a.so_4);var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();1003==a.type?(d.type="radial",d.cx=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.cx),d.cy=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.cy),d.r=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.cr)):(d.type="linear",d.x1=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.x1),d.y1=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.y1),
d.x2=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.x2),d.y2=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.y2));var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),e=a.ot_1;a=a.cr_2;for(var g=0;g<e.length;++g){var k=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();k.offset=b.com_ibm_vis_engine_internal_util_MathUtil.r3(e[g]);k.color=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeColor(a[g]);c.push(k)}d.colors=c;return d};b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeStroke=
function(a){if(!a)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.wt_1);1!=c&&(d.width=c);null!=a.dn_2&&(d.style=a.dn_2);null!=a.join&&(d.join=a.join);null!=a.cap&&(d.cap=a.cap);a.co_3&&(d.color=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeColor(a.co_3));return d};b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeRenderEffects=function(a){if(!a||!a.glow&&!a.so_5)return null;
var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.sc$1(a.glow,!1);c&&(d.glow=c);(a=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.sc$1(a.so_5,!0))&&(d.shadow=a);return d};b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.sc$1=function(a,d){if(!a)return null;var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),e=a.co_2;e&&(c.color=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeColor(e));
c.stdDev=a.se_4;d&&(c.dx=a.dx,c.dy=a.dy);return c};b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable=b.com_ibm_init_declare.implement({createSerializableComposite:function(){},populateFromSerialized:function(a){}});b.com_ibm_vis_geom_Geom=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{type:function(){},isBasic:function(){},copy:function(){},getBounds:function(){},getEnclosingCircle:function(){},getCenter:function(){},asBasic:function(){},containsGeom:function(a){},
distanceToGeom:function(a){},filled:function(){},area:function(){},containsPt:function(a,b){},containsPoint:function(a){return this.containsPt(a.x,a.y)},distanceToPt:function(a,b){},distanceToPoint:function(a){return this.distanceToPt(a.x,a.y)},similar:function(a){},transform:function(a,b,c,e){},affine:function(a,b,c,e,g,k){},transpose:function(a,b){},reflect:function(a,b){},applyPointTransform:function(a){},inset:function(a){},expand:function(a){return this.inset(-a)},boundaryPoint:function(a,d){var c=
this.getEnclosingCircle();if(!this.filled())return c.boundaryPoint(a,d);for(var e=b.com_ibm_vis_geom_Point.distancePtPt(a,d,c.x,c.y),g=(a-c.x)/e,e=(d-c.y)/e,k=0,s=c.r;.001<s-k;){var f=(k+s)/2;this.containsPt(c.x+f*g,c.y+f*e)?k=f:s=f}return new b.com_ibm_vis_geom_Point(c.x+s*g,c.y+s*e)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addInteger("type",this.type());return a},populateFromSerialized:function(a){return null}});
b.com_ibm_vis_geom_Geom.PIXEL_EPSILON=.001;b.com_ibm_vis_geom_Geom.PIXEL_EPSILON_SQ=1E-6;b.com_ibm_vis_geom_BasicGeom=b.com_ibm_init_declare(b.com_ibm_vis_geom_Geom,{distanceToBasic:function(a){},containsBasic:function(a){},asPoly:function(){},containsGeom:function(a){if(1007==a.type()){a=a.pt_1;for(var b=0,c=a.length;b<c;++b)if(!this.containsGeom(a[b]))return!1;return!0}return this.containsBasic(a.asBasic())},distanceToGeom:function(a){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_geom_CompositeGeom)?a.distanceToGeom(this):this.distanceToBasic(a.asBasic())},asBasic:function(){return this},isBasic:function(){return!0}});b.com_ibm_vis_geom_Point=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{x:0,y:0,constructor:function(a,b){this.x=a;this.y=b},distanceToBasic:function(a){return a.distanceToPt(this.x,this.y)},distance:function(a){return Math.sqrt((this.x-a.x)*(this.x-a.x)+(this.y-a.y)*(this.y-a.y))},distanceToPt:function(a,
b){return Math.sqrt((this.x-a)*(this.x-a)+(this.y-b)*(this.y-b))},transform:function(a,d,c,e){return new b.com_ibm_vis_geom_Point(a*this.x+d,c*this.y+e)},similar:function(a){return.001>Math.abs(this.x-a.x)&&.001>Math.abs(this.y-a.y)},add:function(a,d){return new b.com_ibm_vis_geom_Point(this.x+a,this.y+d)},affine:function(a,b,c,e){this.x=this.x*a+b;this.y=this.y*c+e},transpose:function(a){var b=this.x/a.wt_2;this.x=a.wt_2-a.wt_2*this.y/a.hh_1;this.y=a.hh_1-a.hh_1*b},toString:function(){return"("+
this.x+", "+this.y+")"},angle:function(a){return Math.atan2(a.y-this.y,a.x-this.x)},interpolateTo:function(a,d){return new b.com_ibm_vis_geom_Point(this.x+(a.x-this.x)*d,this.y+(a.y-this.y)*d)},equals:function(a){return null==a?!1:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Point)?this.x==a.x&&this.y==a.y:!1},snapPosition:function(){this.x=Math.round(this.x);this.y=Math.round(this.y)},getX:function(){return this.x},setX:function(a){this.x=a},getY:function(){return this.y},
setY:function(a){this.y=a},copy:function(){return new b.com_ibm_vis_geom_Point(this.x,this.y)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addDouble("x",this.x);a.addDouble("y",this.y);return a},populateFromSerialized:function(a){this.x=a.getNodeById("x").asPrimitive().getNumberValue$0();this.y=a.getNodeById("y").asPrimitive().getNumberValue$0();return this},negate:function(){return new b.com_ibm_vis_geom_Point(-this.x,
-this.y)}});b.com_ibm_vis_geom_Point.distancePtPt=function(a,b,c,e){return Math.sqrt((a-c)*(a-c)+(b-e)*(b-e))};b.com_ibm_vis_geom_Point.createFromSerialized=function(a){var d=new b.com_ibm_vis_geom_Point(0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_Line=b.com_ibm_init_declare(b.com_ibm_vis_geom_BasicGeom,{x1:0,y1:0,x2:0,y2:0,constructor:function(a,b,c,e){this.x1=a;this.y1=b;this.x2=c;this.y2=e},copy:function(){return new b.com_ibm_vis_geom_Line(this.x1,this.y1,this.x2,this.y2)},type:function(){return 1E3},
getBounds:function(){return new b.com_ibm_vis_geom_Rect(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))},getEnclosingCircle:function(){return new b.com_ibm_vis_geom_Circle((this.x1+this.x2)/2,(this.y1+this.y2)/2,b.com_ibm_vis_geom_Point.distancePtPt(this.x1,this.y1,this.x2,this.y2)/2)},getCenter:function(){return new b.com_ibm_vis_geom_Point((this.x1+this.x2)/2,(this.y1+this.y2)/2)},transform:function(a,b,c,e){this.x1=this.x1*a+b;this.y1=this.y1*
c+e;this.x2=this.x2*a+b;this.y2=this.y2*c+e},filled:function(){return!1},area:function(){return 0},asPoly:function(){return new b.com_ibm_vis_geom_Poly([this.x1,this.x2],[this.y1,this.y2],!1)},containsBasic:function(a){return!1},distanceToBasic:function(a){var d=a.type();return 1E3==d?b.com_ibm_vis_geom_Line.segmentsIntersect(this.x1,this.y1,this.x2,this.y2,a.x1,a.y1,a.x2,a.y2,!1)?0:Math.min(Math.min(this.distanceToPt(a.x1,a.y1),this.distanceToPt(a.x2,a.y2)),Math.min(a.distanceToPt(this.x1,this.y1),
a.distanceToPt(this.x2,this.y2))):1001==d?(d=this.distanceToPt(a.x,a.y),Math.max(0,d-a.r)):this.asPoly().distanceToBasic(a)},containsPt:function(a,b){return!1},distanceToPt:function(a,d){var c=(this.y2-this.y1)*(this.y2-this.y1)+(this.x2-this.x1)*(this.x2-this.x1);if(1E-6>c)return b.com_ibm_vis_geom_Point.distancePtPt(a,d,this.x1,this.y1);var e=((a-this.x1)*(this.x2-this.x1)+(d-this.y1)*(this.y2-this.y1))/c;if(0>e)return b.com_ibm_vis_geom_Point.distancePtPt(a,d,this.x1,this.y1);if(1<e)return b.com_ibm_vis_geom_Point.distancePtPt(a,
d,this.x2,this.y2);c=this.x1+e*(this.x2-this.x1);e=this.y1+e*(this.y2-this.y1);return Math.sqrt((c-a)*(c-a)+(e-d)*(e-d))},similar:function(a){return a==this?!0:a.type()!=this.type()?!1:.001>Math.abs(this.x1-a.x1)&&.001>Math.abs(this.y1-a.y1)&&.001>Math.abs(this.x2-a.x2)&&.001>Math.abs(this.y2-a.y2)},applyPointTransform:function(a){if(a.preservesLines()){var b=a.transform(this.x1,this.y1);this.x1=b.x;this.y1=b.y;b=a.transform(this.x2,this.y2);this.x2=b.x;this.y2=b.y;return this}return this.asPoly().applyPointTransform(a)},
affine:function(a,b,c,e,g,k){this.x1=this.x1*a+b;this.x2=this.x2*a+b;this.y1=this.y1*a+b;this.y2=this.y2*a+b},transpose:function(a,d){var c=new b.com_ibm_vis_geom_Point(this.x1,this.y1);c.transpose(a);var e=new b.com_ibm_vis_geom_Point(this.x2,this.y2);e.transpose(a);this.x1=c.x;this.y1=c.y;this.x2=e.x;this.y2=e.y;return d},reflect:function(a,b){b?(this.y1=a.hh_1-this.y1,this.y2=a.hh_1-this.y2):(this.x1=a.wt_2-this.x1,this.x2=a.wt_2-this.x2)},inset:function(a){var d=this.getLength();if(.001>d||.001>
Math.abs(a))return this;a=Math.min(a,d/2);var c=(this.x2-this.x1)*a/d;a=(this.y2-this.y1)*a/d;return new b.com_ibm_vis_geom_Line(this.x1+c,this.y1+a,this.x2-c,this.y2-a)},getX1:function(){return this.x1},getY1:function(){return this.y1},getX2:function(){return this.x2},getY2:function(){return this.y2},getLength:function(){return Math.sqrt((this.x1-this.x2)*(this.x1-this.x2)+(this.y1-this.y2)*(this.y1-this.y2))},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);
a.addDouble("x1",this.x1);a.addDouble("x2",this.x2);a.addDouble("y1",this.y1);a.addDouble("y2",this.y2);return a},populateFromSerialized:function(a){this.x1=a.getNodeById("x1").asPrimitive().getNumberValue$0();this.x2=a.getNodeById("x2").asPrimitive().getNumberValue$0();this.y1=a.getNodeById("y1").asPrimitive().getNumberValue$0();this.y2=a.getNodeById("y2").asPrimitive().getNumberValue$0();return this},intersects:function(a){return b.com_ibm_vis_geom_Line.segmentsIntersect(this.x1,this.y1,this.x2,
this.y2,a.getMinX(),a.getMinY(),a.getMaxX(),a.getMinY(),!1)||b.com_ibm_vis_geom_Line.segmentsIntersect(this.x1,this.y1,this.x2,this.y2,a.getMinX(),a.getMinY(),a.getMinX(),a.getMaxY(),!1)||b.com_ibm_vis_geom_Line.segmentsIntersect(this.x1,this.y1,this.x2,this.y2,a.getMinX(),a.getMaxY(),a.getMaxX(),a.getMaxY(),!1)||b.com_ibm_vis_geom_Line.segmentsIntersect(this.x1,this.y1,this.x2,this.y2,a.getMaxX(),a.getMinY(),a.getMaxX(),a.getMaxY(),!1)||a.containsPt(this.x1,this.y1)?!0:!1}});b.com_ibm_vis_geom_Line.segmentPerpendicularDistanceSquared=
function(a,b,c,e,g,k){var s=(e-b)*(e-b)+(c-a)*(c-a);if(1E-6>s)return 1.7976931348623157E308;s=((g-a)*(c-a)+(k-b)*(e-b))/s;if(0>s||1<s)return 1.7976931348623157E308;a+=s*(c-a);b+=s*(e-b);return(a-g)*(a-g)+(b-k)*(b-k)};b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint=function(a,d,c,e,g,k){var s=(e-d)*(e-d)+(c-a)*(c-a);if(1E-6>s)return b.com_ibm_vis_geom_Point.distancePtPt(a,d,g,k);s=((g-a)*(c-a)+(k-d)*(e-d))/s;a+=s*(c-a);d+=s*(e-d);return Math.sqrt((a-g)*(a-g)+(d-k)*(d-k))};b.com_ibm_vis_geom_Line.segmentsIntersect=
function(a,b,c,e,g,k,s,f,u){var I=(f-k)*(c-a)-(s-g)*(e-b);if(1E-6>Math.abs(I))return!1;u=u?1E-6:-1E-6;s=((s-g)*(b-k)-(f-k)*(a-g))/I;if(s<u||s>1-u)return!1;a=((c-a)*(b-k)-(e-b)*(a-g))/I;return a>u&&a<1-u};b.com_ibm_vis_geom_Line.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_Line(0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_CompositeGeom=b.com_ibm_init_declare(b.com_ibm_vis_geom_Geom,{oe_3:!1,pe_2:!1,constructor:function(a,d){if(0==a.length)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Parts must have at least one item");
this.pt_1=Array(a.length);for(var c=0;c<a.length;++c)this.pt_1[c]=a[c].copy();this.oe_3=d;this.pe_2=b.com_ibm_vis_geom_CompositeGeom.ae$3(a)},constructor:function(a,d,c){if(0==a.length)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Parts must have at least one item");this.pt_1=Array(a.length);this.pe_3=c?Array(a.length):null;for(var e=0;e<a.length;++e)this.pt_1[e]=a[e].copy(),c&&(this.pe_3[e]=c[e]);this.oe_3=d;this.pe_2=b.com_ibm_vis_geom_CompositeGeom.ae$3(a)},copy:function(){return new b.com_ibm_vis_geom_CompositeGeom(this.pt_1,
this.oe_3,this.pe_3)},getImmutable:function(){return this},getParts:function(){return this.pt_1},getPartNames:function(){return this.pe_3},getOddEven:function(){return this.oe_3},getBounds:function(){if(!this.cd_1){this.cd_1=this.pt_1[0].getBounds().copy();for(var a=0;a<this.pt_1.length;++a)this.cd_1.extendToRect(this.pt_1[a].getBounds())}return this.cd_1},getEnclosingCircle:function(){for(var a=this.pt_1[0].getEnclosingCircle().copy(),b=0;b<this.pt_1.length;++b)a.unionWithCircle(this.pt_1[b].getEnclosingCircle());
return a},getCenter:function(){return this.getBounds().getCenter()},area:function(){return this.pe_2?this.getBounds().area():0},containsPt:function(a,b){for(var c=!1,e=0,g=this.pt_1,k=g.length;e<k;++e)if(g[e].containsPt(a,b))if(this.oe_3)c=!c;else return!0;return c},distanceToPt:function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([this.pt_1.length],0),e=0;e<this.pt_1.length;++e)if(c[e]=this.pt_1[e].distanceToPt(a,d),.001>Math.abs(c[e]))return 0;return this.pc$1(c)},containsGeom:function(a){if(!this.getBounds().containsGeom(a.getBounds()))return!1;
if(this.oe_3)return 0>this.distanceToGeom(a);for(var b=0;b<this.pt_1.length;++b)if(this.pt_1[b].containsGeom(a))return!0;return!1},distanceToGeom:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([this.pt_1.length],0),c=0;c<this.pt_1.length;++c)if(d[c]=this.pt_1[c].distanceToGeom(a),this.oe_3&&.001>Math.abs(d[c]))return 0;return this.pc$1(d)},pc$1:function(a){for(var b=1.7976931348623157E308,c=0,e=1.7976931348623157E308,g=!1,k=0;k<this.pt_1.length;++k){var s=a[k];0>s?(g=this.oe_3?
!g:!0,b=Math.min(-s,b),c=Math.max(-s,c)):e=Math.min(s,e)}return this.oe_3?(a=Math.min(b,e),g?-a:a):g?-c:e},type:function(){return 1007},transform:function(a,b,c,e){for(var g=0;g<this.pt_1.length;++g)this.pt_1[g].transform(a,b,c,e)},filled:function(){return this.pe_2},asBasic:function(){throw new b.com_ibm_vis_exceptions_internal_EngineException("A composite geom cannot be converted to a basic one",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);},isBasic:function(){return!1},similar:function(a){if(a==
this)return!0;if(a.type()!=this.type()||this.oe_3!=a.oe_3||this.pt_1.length!=a.pt_1.length)return!1;for(var b=0;b<this.pt_1.length;++b)if(!this.pt_1[b].similar(a.pt_1[b]))return!1;return!0},affine:function(a,d,c,e,g,k){throw new b.com_ibm_rave_codegenerator_io_WebEngineException("A composite geom cannot be modified through affine");},transpose:function(a,d){throw new b.com_ibm_rave_codegenerator_io_WebEngineException("A composite geom cannot be modified through transpose");},reflect:function(a,d){throw new b.com_ibm_rave_codegenerator_io_WebEngineException("A composite geom cannot be modified through reflect");
},applyPointTransform:function(a){for(var d=this.pt_1,c=0;c<d.length;++c)d[c]=this.pt_1[c].applyPointTransform(a);return new b.com_ibm_vis_geom_CompositeGeom(this.pt_1,this.pe_2)},inset:function(a){if(.001>Math.abs(a))return this;var b=this.getBounds(),c=b.inset(a);if(.001>b.area())return this;a=c.wt_3/b.wt_3;var e=c.hh_2/b.hh_2,g=c.x-b.x*a,b=c.y-b.y*e,c=this.copy();c.transform(a,g,e,b);return c},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);
a.addBoolean("oddEven",this.oe_3);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("parts",this.pt_1));return a},populateFromSerialized:function(a){this.oe_3=a.getNodeById("oddEven").asPrimitive().getBooleanValue$0().valueOf();var d=a.getNodeById("parts");a=Array(d.getNodes().size());for(var c=0,e=0,d=d.getNodes().arrayIterator(),g=d.length;e<g;++e){var k=d[e];a[c++]=b.com_ibm_vis_geom_GeomFactory.createFromSerialized(k)}return this}});b.com_ibm_vis_geom_CompositeGeom.ae$3=
function(a){for(var b=0,c=a.length;b<c;++b)if(a[b].filled())return!0;return!1};b.com_ibm_vis_geom_CompositeGeom.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_CompositeGeom([],!1);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.se_7=b},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.ARRAY},
getValues:function(){return this.se_7},getValue:function(){return null}});b.com_ibm_vis_geom_Rect=b.com_ibm_init_declare([b.com_ibm_vis_geom_BasicGeom,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{x:0,y:0,wt_3:0,hh_2:0,constructor:function(a,b,c,e){this.x=a;this.y=b;this.wt_3=c;this.hh_2=e},copy:function(){return new b.com_ibm_vis_geom_Rect(this.x,this.y,this.wt_3,this.hh_2)},type:function(){return 1002},getX:function(){return this.x},getY:function(){return this.y},getCenterX:function(){return this.x+
this.wt_3/2},getCenterY:function(){return this.y+this.hh_2/2},setX:function(a){this.x=a},setY:function(a){this.y=a},getMinX:function(){return Math.min(this.x,this.x+this.wt_3)},getMinY:function(){return Math.min(this.y,this.y+this.hh_2)},getMaxX:function(){return Math.max(this.x,this.x+this.wt_3)},getMaxY:function(){return Math.max(this.y,this.y+this.hh_2)},getWidth:function(){return this.wt_3},getHeight:function(){return this.hh_2},getExtent:function(){return new b.com_ibm_vis_geom_Dim(this.wt_3,
this.hh_2)},getBounds:function(){return this},filled:function(){return!0},area:function(){return Math.abs(this.wt_3*this.hh_2)},getEnclosingCircle:function(){var a=Math.sqrt(this.wt_3*this.wt_3+this.hh_2*this.hh_2)/2;return new b.com_ibm_vis_geom_Circle(this.x+this.wt_3/2,this.y+this.hh_2/2,a)},getCenter:function(){return new b.com_ibm_vis_geom_Point(this.x+this.wt_3/2,this.y+this.hh_2/2)},containsRect:function(a){return a.x>=this.x&&a.x+a.wt_3<=this.x+this.wt_3&&a.y>=this.y&&a.y+a.hh_2<=this.y+this.hh_2},
containsPt:function(a,b){return a>=this.x&&b>=this.y&&a<=this.x+this.wt_3&&b<=this.y+this.hh_2},intersectsRect:function(a){return this.y+this.hh_2>=a.y&&this.y<=a.y+a.hh_2&&this.x+this.wt_3>=a.x&&this.x<=a.x+a.wt_3},asPoly:function(){return new b.com_ibm_vis_geom_Poly([this.x,this.x,this.x+this.wt_3,this.x+this.wt_3],[this.y,this.y+this.hh_2,this.y+this.hh_2,this.y],!0)},inset:function(a){if(.001>Math.abs(a))return this;a=Math.min(a,Math.min(this.wt_3/2,this.hh_2/2));return new b.com_ibm_vis_geom_Rect(this.getMinX()+
a,this.getMinY()+a,this.wt_3-2*a,this.hh_2-2*a)},similar:function(a){return a==this?!0:a.type()!=this.type()?!1:.001>Math.abs(this.x-a.x)&&.001>Math.abs(this.y-a.y)&&.001>Math.abs(this.wt_3-a.wt_3)&&.001>Math.abs(this.hh_2-a.hh_2)},applyPointTransform:function(a){if(a.preservesLines()||20>this.wt_3&&20>this.hh_2){var b=a.transform(this.x,this.y);a=a.transform(this.x+this.wt_3,this.y+this.hh_2);this.x=b.x;this.y=b.y;this.wt_3=a.x-b.x;this.hh_2=a.y-b.y;return this}return this.asPoly().applyPointTransform(a)},
distanceToPt:function(a,b){return b<this.y?a<this.x?Math.sqrt((a-this.x)*(a-this.x)+(b-this.y)*(b-this.y)):a>this.x+this.wt_3?Math.sqrt((a-this.x-this.wt_3)*(a-this.x-this.wt_3)+(b-this.y)*(b-this.y)):this.y-b:b>this.y+this.hh_2?a<this.x?Math.sqrt((a-this.x)*(a-this.x)+(b-this.y-this.hh_2)*(b-this.y-this.hh_2)):a>this.x+this.wt_3?Math.sqrt((a-this.x-this.wt_3)*(a-this.x-this.wt_3)+(b-this.y-this.hh_2)*(b-this.y-this.hh_2)):b-this.y-this.hh_2:a<this.x?this.x-a:a>this.x+this.wt_3?a-this.x-this.wt_3:
-Math.min(Math.min(a-this.x,this.x+this.wt_3-a),Math.min(b-this.y,this.y+this.hh_2-b))},containsBasic:function(a){var b=a.type();if(1001==b)return a.y<this.y||a.y>this.y+this.hh_2||a.x<this.x||a.x>this.x+this.wt_3?!1:Math.min(Math.min(a.x-this.x,this.x+this.wt_3-a.x),Math.min(a.y-this.y,this.y+this.hh_2-a.y))>=a.r;if(1002==b)return this.containsRect(a);for(b=0;b<a.getPointCount();++b)if(!this.containsPt(a.x[b],a.y[b]))return!1;return!0},distanceToBasic:function(a){var b=a.type();return 1002==b?this.distance(a):
1001==b?a.distanceToGeom(this):1E3==b?a.distanceToBasic(this):this.asPoly().distanceToPoly(a)},distance:function(a){if(a.x+a.wt_3<this.x)return a.y>this.y+this.hh_2?b.com_ibm_vis_geom_Point.distancePtPt(a.x+a.wt_3,a.y,this.x,this.y+this.hh_2):a.y+a.hh_2<this.y?b.com_ibm_vis_geom_Point.distancePtPt(a.x+a.wt_3,a.y+a.hh_2,this.x,this.y):this.x-a.x-a.wt_3;if(a.x>this.x+this.wt_3)return a.y>this.y+this.hh_2?b.com_ibm_vis_geom_Point.distancePtPt(a.x,a.y,this.x+this.wt_3,this.y+this.hh_2):a.y+a.hh_2<this.y?
b.com_ibm_vis_geom_Point.distancePtPt(a.x,a.y+a.hh_2,this.x+this.wt_3,this.y):a.x-this.x-this.wt_3;if(a.y>this.y+this.hh_2)return a.y-this.y-this.hh_2;if(a.y+a.hh_2<this.y)return this.y-a.y-a.hh_2;if(this.containsRect(a)||a.containsRect(this)){var d=Math.min(Math.abs(this.x-a.x),Math.abs(this.x+this.wt_3-a.x-a.wt_3));a=Math.min(Math.abs(this.y-a.y),Math.abs(this.y+this.hh_2-a.y-a.hh_2));return-Math.min(d,a)}return 0},makeIntersection:function(a){if(!this.intersectsRect(a))return null;var d=Math.max(this.getMinX(),
a.getMinX()),c=Math.max(this.getMinY(),a.getMinY()),e=Math.min(this.getMaxX(),a.getMaxX())-d;a=Math.min(this.getMaxY(),a.getMaxY())-c;return new b.com_ibm_vis_geom_Rect(d,c,e,a)},getX2:function(){return this.x+this.wt_3},getY2:function(){return this.y+this.hh_2},extendToRect:function(a){this.extendTo$0(a.getMinX(),a.getMinY(),a.getMaxX(),a.getMaxY())},extendTo$0:function(a,b,c,e){if(a<this.getMinX()){var g=this.getMaxX();this.x=a;this.wt_3=g-this.x}c>this.getMaxX()&&(this.wt_3=c-this.x);b<this.y&&
(a=this.getMaxY(),this.y=b,this.hh_2=a-this.y);e>this.getMaxY()&&(this.hh_2=e-this.y)},extendTo$1:function(a){if(a.x<this.x){var b=this.getX2();this.x=a.x;this.wt_3=b-this.x}a.x>this.getX2()&&(this.wt_3=a.x-this.x);a.y<this.y&&(b=this.getY2(),this.y=a.y,this.hh_2=b-this.y);a.y>this.getY2()&&(this.hh_2=a.y-this.y);return this},interiorsIntersect:function(a){if(this.intersectsRect(a)){var b=Math.min(this.getMaxX(),a.getMaxX())-Math.max(this.getMinX(),a.getMinX());a=Math.min(this.getMaxY(),a.getMaxY())-
Math.max(this.getMinY(),a.getMinY());return 0<b&&0<a}return!1},normalize:function(){0>this.wt_3&&(this.x+=this.wt_3,this.wt_3=-this.wt_3);0>this.hh_2&&(this.y+=this.hh_2,this.hh_2=-this.hh_2)},makeGeometryClone:function(){return new b.com_ibm_vis_geom_Rect(this.x,this.y,this.wt_3,this.hh_2)},setWidth:function(a){this.wt_3=a},setHeight:function(a){this.hh_2=a},getTopLeft:function(){return new b.com_ibm_vis_geom_Point(this.getMinX(),this.getMinY())},extendToPoint:function(a,b){if(a<this.x){var c=this.getX2();
this.x=a;this.wt_3=c-this.x}else a>this.getX2()&&(this.wt_3=a-this.x);b<this.y?(c=this.getY2(),this.y=b,this.hh_2=c-this.y):b>this.getY2()&&(this.hh_2=b-this.y)},hasExtent:function(){return 0<this.wt_3&&0<this.hh_2},transform:function(a,b,c,e){this.x=a*this.x+b;this.y=c*this.y+e;this.wt_3*=a;this.hh_2*=c;this.normalize()},transpose:function(a,b){var c=b;if(0==b){var e=this.getCenter();e.transpose(a);this.x=e.x-this.wt_3/2;this.y=e.y-this.hh_2/2}else{var e=this.wt_3,g=this.hh_2,k=a.wt_2-a.wt_2*(this.y+
this.hh_2)/a.hh_1;this.y=a.hh_1*(1-this.x/a.wt_2);this.x=k;k=a.wt_2*this.hh_2/a.hh_1;this.hh_2=a.hh_1*this.wt_3/a.wt_2;this.wt_3=k;this.y-=this.hh_2;0==(b&2)?(this.x-=(g-this.wt_3)/2,this.wt_3=g,c=2):0==(b&1)&&(this.y-=(e-this.hh_2)/2,this.hh_2=e,c=1)}return c},reflect:function(a,b){b?this.y=a.hh_1-(this.y+this.hh_2):this.x=a.wt_2-(this.x+this.wt_3)},affine:function(a,b,c,e,g,k){g?(this.x=g.x,this.y=g.y,this.wt_3=g.wt_3,this.hh_2=g.hh_2):(this.x=this.x*a+b,0!=(k&1)?this.wt_3*=a:this.x+=(a-1)*this.wt_3/
2,this.y=this.y*c+e,0!=(k&2)?this.hh_2*=c:this.y+=(c-1)*this.hh_2/2);this.normalize()},translate:function(a,b){this.x+=a;this.y+=b},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);a.addDouble("x",this.x);a.addDouble("y",this.y);a.addDouble("width",this.wt_3);a.addDouble("height",this.hh_2);return a},populateFromSerialized:function(a){this.x=a.getNodeById("x").asPrimitive().getNumberValue$0();this.y=a.getNodeById("y").asPrimitive().getNumberValue$0();
this.wt_3=a.getNodeById("width").asPrimitive().getNumberValue$0();this.hh_2=a.getNodeById("height").asPrimitive().getNumberValue$0();return this},extendTo:function(){var a=arguments,d;1==a.length?d=this.extendTo$1:4==a.length&&(d=this.extendTo$0);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)}});b.com_ibm_vis_geom_Rect.makeRectFromDim=function(a){return new b.com_ibm_vis_geom_Rect(0,0,a.wt_2,a.hh_1)};b.com_ibm_vis_geom_Rect.createFromSerialized=function(a){if(a._l_1)return null;
var d=new b.com_ibm_vis_geom_Rect(0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_Dim=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{wt_2:0,hh_1:0,constructor:function(a,b){this.wt_2=a;this.hh_1=b},getWidth:function(){return this.wt_2},getHeight:function(){return this.hh_1},getMin:function(){return Math.min(this.wt_2,this.hh_1)},area:function(){return this.wt_2*this.hh_1},similar:function(a){return a?(a.wt_2==this.wt_2||.001>Math.abs(a.wt_2-
this.wt_2))&&(a.hh_1==this.hh_1||.001>Math.abs(a.hh_1-this.hh_1)):!1},setWidth:function(a){this.wt_2=a},setHeight:function(a){this.hh_1=a},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addDouble("width",this.wt_2);a.addDouble("height",this.hh_1);return a},populateFromSerialized:function(a){this.wt_2=a.getNodeById("width").asPrimitive().getNumberValue$1(0);this.hh_1=a.getNodeById("height").asPrimitive().getNumberValue$1(0);
return this}});b.com_ibm_vis_geom_Dim.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_Dim(0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_Circle=b.com_ibm_init_declare(b.com_ibm_vis_geom_BasicGeom,{x:0,y:0,r:0,constructor:function(a,b,c){this.x=a;this.y=b;this.r=c},copy:function(){return new b.com_ibm_vis_geom_Circle(this.x,this.y,this.r)},getBounds:function(){return new b.com_ibm_vis_geom_Rect(this.x-this.r,this.y-this.r,2*this.r,2*this.r)},getEnclosingCircle:function(){return this},
containsPt:function(a,b){return 0>(a-this.x)*(a-this.x)+(b-this.y)*(b-this.y)-this.r*this.r},distanceToPt:function(a,b){return Math.sqrt((a-this.x)*(a-this.x)+(b-this.y)*(b-this.y))-this.r},getCenter:function(){return new b.com_ibm_vis_geom_Point(this.x,this.y)},transform:function(a,b,c,e){this.x=a*this.x+b;this.y=c*this.y+e;this.r*=Math.sqrt(a*c)},affine:function(a,b,c,e,g,k){g?(this.x=g.getCenterX(),this.y=g.getCenterY(),this.r=Math.min(g.wt_3,g.hh_2)/2):(this.x=this.x*a+b,this.y=this.y*c+e,3==
k&&(this.r*=Math.min(a,c)))},filled:function(){return!0},area:function(){return 3.141592653589793*this.r*this.r},asPoly:function(){for(var a=this.gn$3(),d=this.r*Math.sqrt(6.283185307179586/a/Math.sin(6.283185307179586/a)),c=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),g=0;g<a;++g){var k=3.9269908169872414+6.283185307179586*g/a;c[g]=this.x+d*Math.cos(k);e[g]=this.y+d*Math.sin(k)}return new b.com_ibm_vis_geom_Poly(c,e,!0)},gn$3:function(){if(3.25>
this.r)return 8;var a=2*Math.acos(1-.25/this.r);return Math.round(6.283185307179586/a)},containsBasic:function(a){var b=a.type();return 1001==b?(this.x-a.x)*(this.x-a.x)+(this.y-a.y)*(this.y-a.y)<=(a.r-this.r)*(a.r-this.r):1002==b?0>=this.gc$3(a):0>=this.gl$1(a)},distanceToBasic:function(a){var b=a.type();if(1001==b)return b=Math.sqrt((this.x-a.x)*(this.x-a.x)+(this.y-a.y)*(this.y-a.y)),b>a.r+this.r?b-a.r-this.r:b<Math.abs(a.r-this.r)?b-Math.abs(a.r-this.r):0;if(1E3==b)return a.distanceToBasic(this);
b=1002==b?this.gc$3(a):this.gl$1(a);if(0>b)return b;b=a.distanceToPt(this.x,this.y);return 0>b?Math.min(b+this.r,0):Math.max(b-this.r,0)},gc$3:function(a){var b=this.distanceToPt(a.x,a.y);if(0<=b)return b;b=Math.max(b,this.distanceToPt(a.x+a.wt_3,a.y));if(0<=b)return b;b=Math.max(b,this.distanceToPt(a.x,a.y+a.hh_2));return 0<=b?b:Math.max(b,this.distanceToPt(a.x+a.wt_3,a.y+a.hh_2))},gl$1:function(a){for(var b=this.distanceToPt(a.x[0],a.y[0]),c=0;c<a.x.length&&!(0<=b);++c)b=Math.max(b,this.distanceToPt(a.x[c],
a.y[c]));return b},similar:function(a){return a==this?!0:a.type()!=this.type()?!1:.001>Math.abs(this.x-a.x)&&.001>Math.abs(this.y-a.y)&&.001>Math.abs(this.r-a.r)},unionWithCircle:function(a){var b=a.x-this.x,c=a.y-this.y,e=b*b+c*c;e<=(a.r-this.r)*(a.r-this.r)?a.r>this.r&&(this.x=a.x,this.y=a.y,this.r=a.r):(e=Math.sqrt(e),a=(this.r+a.r+e)/2,this.x+=(a-this.r)*b/e,this.y+=(a-this.r)*c/e,this.r=a)},type:function(){return 1001},getX:function(){return this.x},getY:function(){return this.y},getR:function(){return this.r},
setX:function(a){this.x=a},setY:function(a){this.y=a},setR:function(a){this.r=a},transpose:function(a,b){var c=a.wt_2-a.wt_2*this.y/a.hh_1;this.y=a.hh_1*(1-this.x/a.wt_2);this.x=c;return b},reflect:function(a,b){b?this.y=a.hh_1-this.y:this.x=a.wt_2-this.x},applyPointTransform:function(a){return a.preservesLines()?(a=a.transform(this.x,this.y),this.x=a.x,this.y=a.y,this):b.com_ibm_vis_geom_Curve.makeFromCircle(this).applyPointTransform(a)},inset:function(a){return.001>Math.abs(a)?this:new b.com_ibm_vis_geom_Circle(this.x,
this.y,Math.max(0,this.r-a))},boundaryPoint:function(a,d){var c=b.com_ibm_vis_geom_Point.distancePtPt(this.x,this.y,a,d);return new b.com_ibm_vis_geom_Point(this.x+(a-this.x)/c*this.r,this.y+(d-this.y)/c*this.r)},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);a.addDouble("x",this.x);a.addDouble("y",this.y);a.addDouble("r",this.r);return a},populateFromSerialized:function(a){this.x=a.getNodeById("x").asPrimitive().getNumberValue$1(0);
this.y=a.getNodeById("y").asPrimitive().getNumberValue$1(0);this.r=a.getNodeById("r").asPrimitive().getNumberValue$1(0);return this}});b.com_ibm_vis_geom_Circle.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_Circle(0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_Poly=b.com_ibm_init_declare(b.com_ibm_vis_geom_BasicGeom,{ce_6:!1,se_5:0,constructor:function(a,d,c){this.x=b.com_ibm_rave_codegenerator_util_Arrays.copyOf(a,a.length);this.y=b.com_ibm_rave_codegenerator_util_Arrays.copyOf(d,
d.length);this.ce_6=c;this.be$1()},copy:function(){return new b.com_ibm_vis_geom_Poly(b.com_ibm_rave_codegenerator_util_Arrays.copyOf(this.x,this.x.length),b.com_ibm_rave_codegenerator_util_Arrays.copyOf(this.y,this.y.length),this.ce_6)},type:function(){return 1003},getBounds:function(){return this.bd_1},getPointCount:function(){return this.x.length},getEnclosingCircle:function(){for(var a=10>this.x.length?this.gr$2():this.gd$1(),d=a.r*a.r,c=0;c<this.x.length;++c){var e=this.x[c]-a.x,g=this.y[c]-
a.y,k=e*e+g*g;k>d&&(d=Math.sqrt(k),k=(d-a.r)/2,a=new b.com_ibm_vis_geom_Circle(a.x+e*k/d,a.y+g*k/d,k+a.r),d=a.r*a.r)}return a},gr$2:function(){for(var a=0,d=0,c=0,e=1;e<this.x.length;++e)for(var g=0;g<e;++g){var k=(this.x[e]-this.x[g])*(this.x[e]-this.x[g])+(this.y[e]-this.y[g])*(this.y[e]-this.y[g]);k>c&&(c=k,a=e,d=g)}return new b.com_ibm_vis_geom_Circle((this.x[a]+this.x[d])/2,(this.y[a]+this.y[d])/2,Math.sqrt(c)/2)},gd$1:function(){var a,d,c,e,g=this.bd_1.copy();g.inset(.001);for(var k=0;k<this.x.length;++k)this.x[k]<=
g.x&&(a=new b.com_ibm_vis_geom_Point(this.x[k],this.y[k])),this.x[k]>=g.x+g.wt_3&&(d=new b.com_ibm_vis_geom_Point(this.x[k],this.y[k])),this.y[k]<=g.y&&(c=new b.com_ibm_vis_geom_Point(this.x[k],this.y[k])),this.y[k]>=g.y+g.hh_2&&(e=new b.com_ibm_vis_geom_Point(this.x[k],this.y[k]));g=a.distance(d);k=c.distance(e);return g>k?new b.com_ibm_vis_geom_Circle((a.x+d.x)/2,(a.y+d.y)/2,g/2):new b.com_ibm_vis_geom_Circle((c.x+e.x)/2,(c.y+e.y)/2,k/2)},be$1:function(){var a=0,d=0,c=0;if(0<this.x.length){for(var e=
this.x[0],g=this.y[0],k=this.x[0],s=this.y[0],f=this.x.length-1,u=0;u<this.x.length;++u)var I=this.x[u]*this.y[f]-this.x[f]*this.y[u],a=a+I,d=d+(this.x[u]+this.x[f])*I,c=c+(this.y[u]+this.y[f])*I,e=Math.min(e,this.x[u]),k=Math.max(k,this.x[u]),g=Math.min(g,this.y[u]),s=Math.max(s,this.y[u]),f=u;this.bd_1=new b.com_ibm_vis_geom_Rect(e,g,k-e,s-g);this.se_5=a/2;.001>Math.abs(a)?this.ce_5=new b.com_ibm_vis_geom_Point((e+k)/2,(g+s)/2):this.ce_5=new b.com_ibm_vis_geom_Point(d/a/3,c/a/3)}},getCenter:function(){return this.ce_5},
filled:function(){return this.ce_6},area:function(){return this.ce_6?Math.abs(this.se_5):0},asPoly:function(){return this},containsBasic:function(a){return this.ce_6?1001==a.type()?this.containsPt(a.x,a.y)&&this.distanceToBoundary(a.x,a.y)>=a.r:this.bd_1.containsRect(a.getBounds())?0>this.distanceToPoly(a.asPoly()):!1:!1},distanceToBasic:function(a){return 1003==a.type()?this.distanceToPoly(a):a.distanceToBasic(this)},containsPt:function(a,b){if(!this.ce_6||!this.bd_1.containsPt(a,b))return!1;for(var c=
0,e=this.x.length-1,g=0;g<this.x.length;++g){var k=(this.y[e]-this.y[g])/(this.x[e]-this.x[g]);if(k==k&&!(1E-7>Math.abs(k)))if(1E7<Math.abs(k)){var k=this.x[g],s=b;(s>this.y[g]-.001&&s<this.y[e]+.001||s>this.y[e]-.001&&s<this.y[g]+.001)&&k<a&&(.001>Math.abs(s-this.y[g])?this.y[e]>b&&c++:.001>=Math.abs(s-this.y[e])?this.y[g]>b&&c++:c++)}else k=(b-(this.y[g]-k*this.x[g]))/k,(k>this.x[g]-.001&&k<this.x[e]+.001||k>this.x[e]-.001&&k<this.x[g]+.001)&&k<a&&(.001>=Math.abs(b-this.y[g])?this.y[e]>b&&c++:0>=
Math.abs(b-this.y[e])?this.y[g]>b&&c++:c++);e=g}return 0!=c%2},distanceToPt:function(a,b){var c=this.distanceToBoundary(a,b);return this.containsPt(a,b)?-c:c},distanceToBoundsRect:function(a,b){return this.bd_1.distanceToPt(a,b)},distanceToBoundary:function(a,d){for(var c=(a-this.x[0])*(a-this.x[0])+(d-this.y[0])*(d-this.y[0]),e=1;e<this.x.length;++e)c=Math.min(c,(a-this.x[e])*(a-this.x[e])+(d-this.y[e])*(d-this.y[e]));if(1E-6>c)return 0;for(var g=this.ce_6?this.x.length-1:0,e=0;e<this.x.length;++e){g=
b.com_ibm_vis_geom_Line.segmentPerpendicularDistanceSquared(this.x[g],this.y[g],this.x[e],this.y[e],a,d);if(g<c&&(c=g,1E-6>c))return 0;g=e}return Math.sqrt(c)},similar:function(a){if(a==this)return!0;if(a.type()!=this.type()||this.x.length!=a.getPointCount()||this.ce_6!=a.ce_6)return!1;for(var b=0;b<this.x.length;++b)if(1E-6<(this.x[b]-a.x[b])*(this.x[b]-a.x[b])+(this.y[b]-a.y[b])*(this.y[b]-a.y[b]))return!1;return!0},distanceToPoly:function(a){if(this.bc$1(a))return 0;for(var b=1.7976931348623157E308,
c=0;c<a.getPointCount();++c){var e=this.bd_1.distanceToPt(a.x[c],a.y[c]);e<b&&(b=Math.min(b,this.distanceToBoundary(a.x[c],a.y[c])))}for(c=0;c<this.x.length;++c)e=a.bd_1.distanceToPt(this.x[c],this.y[c]),e<b&&(b=Math.min(b,a.distanceToBoundary(this.x[c],this.y[c])));return this.ce_6&&this.containsPt(a.x[0],a.y[0])||a.ce_6&&a.containsPt(this.x[0],this.y[0])?-b:b},bc$1:function(a){if(0<this.bd_1.distance(a.bd_1))return!1;for(var b=a.getPointCount(),c=1;c<b;++c)if(this.sr$1(a.x[c-1],a.y[c-1],a.x[c],
a.y[c]))return!0;return a.ce_6&&this.sr$1(a.x[b-1],a.y[b-1],a.x[0],a.y[0])},sr$1:function(a,d,c,e){for(var g=1;g<this.x.length;++g)if(b.com_ibm_vis_geom_Line.segmentsIntersect(a,d,c,e,this.x[g-1],this.y[g-1],this.x[g],this.y[g],!1))return!0;return this.ce_6&&b.com_ibm_vis_geom_Line.segmentsIntersect(a,d,c,e,this.x[this.x.length-1],this.y[this.x.length-1],this.x[0],this.y[0],!1)},getX:function(){return this.x},getY:function(){return this.y},isClosed:function(){return this.ce_6},asClockwise:function(){if(0>
this.se_5&&this.ce_6){for(var a=this.x.length,d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),e=0;e<a;++e)d[e]=this.x[a-1-e],c[e]=this.y[a-1-e];return new b.com_ibm_vis_geom_Poly(d,c,this.ce_6)}return this},transform:function(a,b,c,e){for(var g=0;g<this.x.length;++g)this.x[g]=this.x[g]*a+b,this.y[g]=this.y[g]*c+e;this.be$1()},transpose:function(a,b){for(var c=0;c<this.x.length;++c){var e=a.wt_2-a.wt_2*this.y[c]/a.hh_1;this.y[c]=a.hh_1*
(1-this.x[c]/a.wt_2);this.x[c]=e}this.be$1();return b},reflect:function(a,b){for(var c=0;c<this.x.length;++c)b?this.y[c]=a.hh_1-this.y[c]:this.x[c]=a.wt_2-this.x[c];this.be$1()},affine:function(a,b,c,e,g,k){var s=0,f=0;g&&(f=this.bd_1,a=g.wt_3/f.wt_3,c=g.hh_2/f.hh_2,b=g.x-f.x,e=g.y-f.y,s=f.x,f=f.y);0==(k&1)&&(a=1);0==(k&2)&&(c=1);s*=1-a;f*=1-c;for(k=0;k<this.x.length;++k)this.x[k]=this.x[k]*a+b+s,this.y[k]=this.y[k]*c+e+f;this.be$1()},applyPointTransform:function(a){var d=this.x.length;if(a.preservesLines()){for(var c=
0;c<d;++c){var e=a.transform(this.x[c],this.y[c]);this.x[c]=e.x;this.y[c]=e.y}return this}e=new b.com_ibm_rave_codegenerator_util_List;for(c=1;c<d;++c)a.addTransformedSegment(this.x[c-1],this.y[c-1],this.x[c],this.y[c],e);this.ce_6?a.addTransformedSegment(this.x[d-1],this.y[d-1],this.x[0],this.y[0],e):e.add(a.transform(this.x[d-1],this.y[d-1]));return b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.makeFromPoints(e,this.ce_6)},inset:function(a){if(.001>Math.abs(a))return this;for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length],
0),c=b.com_ibm_rave_codegenerator_lang_Array.create([this.y.length],0),e=0;e<this.x.length;++e){var g=this.ce_5.distanceToPt(this.x[e],this.y[e]),g=Math.min(a/g,1);d[e]=this.x[e]+g*(this.ce_5.x-this.x[e]);c[e]=this.y[e]+g*(this.ce_5.y-this.y[e])}return new b.com_ibm_vis_geom_Poly(d,c,this.ce_6)},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray("x",
this.x));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray("y",this.y));a.addBoolean("closed",this.ce_6);return a},populateFromSerialized:function(a){b.com_ibm_vis_geom_Geom.prototype.populateFromSerialized.apply(this,[a]);this.x=a.getNodeById("x").asPrimitiveArray().getValuesAsDouble();this.y=a.getNodeById("y").asPrimitiveArray().getValuesAsDouble();this.ce_6=a.getNodeById("closed").asPrimitive().getBooleanValue$1(!1);return this}});b.com_ibm_vis_geom_Poly.createFromSerialized=
function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_Poly(b.com_ibm_rave_codegenerator_lang_Array.create([0],0),b.com_ibm_rave_codegenerator_lang_Array.create([0],0),!1);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_Poly.SLOPE_EPSILON=1E-7;b.com_ibm_vis_geom_Poly.INVERSE_SLOPE_EPSILON=1E7;b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.getRendererGeom=function(a,b,c){b=.001<Math.abs(b)?
a.inset(b):a;if(1006==b.type()||1005==b.type())b=b.asSimple();if(c){c=b.getBounds();var e=Math.round(c.getMinX()),g=Math.round(c.getMaxX()),k=Math.round(c.getMinY()),s=Math.round(c.getMaxY()),g=.001>c.wt_3?0:(g-e)/c.wt_3,e=e-g*c.getMinX(),s=.001>c.hh_2?0:(s-k)/c.hh_2;c=k-s*c.getMinY();b==a&&(b=a.copy());b.transform(g,e,s,c)}return b};b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.makeFromPoints=function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],
0),g=0;g<c.length;++g){var k=a.get(g);c[g]=k.x;e[g]=k.y}return new b.com_ibm_vis_geom_Poly(c,e,d)};b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.coordinateTransform=function(a,d){for(var c=d.getInverse(),e=a.x,g=a.y,k=e.length,s=b.com_ibm_rave_codegenerator_lang_Array.create([k],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([k],0),u=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),I=0;I<k;++I)c.transformInto(u,e[I],g[I]),s[I]=u[0],f[I]=u[1];return new b.com_ibm_vis_geom_Poly(s,
f,a.ce_6)};b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.SCALE_NONE=0;b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.SCALE_X=1;b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.SCALE_Y=2;b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.SCALE_BOTH=3;b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.aa_3=b},
getValue:function(){return null},getValues:function(){return this.aa_3},asPrimitiveArray:function(){for(var a=Array(this.aa_3.length),d=0,c=0,e=this.aa_3,g=e.length;c<g;++c){var k=e[c];a[d++]=k}return new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray(this.id,a)},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_DOUBLE_ARRAY}});b.com_ibm_vis_geom_NonBasicGeom=b.com_ibm_init_declare(b.com_ibm_vis_geom_Geom,{simplify:function(){},
invalidate:function(){this.sl_1=null},isBasic:function(){return!1},asBasic:function(){return this.asSimple().asBasic()},asSimple:function(){this.sl_1||(this.sl_1=this.simplify());return this.sl_1},getBounds:function(){return this.asSimple().getBounds()},getEnclosingCircle:function(){return this.asSimple().getEnclosingCircle()},getCenter:function(){return this.asSimple().getCenter()},area:function(){return this.filled()?this.asSimple().area():0},containsPt:function(a,b){return this.asSimple().containsPt(a,
b)},distanceToPt:function(a,b){return this.asSimple().distanceToPt(a,b)},containsGeom:function(a){return this.asSimple().containsGeom(a)},distanceToGeom:function(a){return this.asSimple().distanceToGeom(a)},applyPointTransform:function(a){return this.asSimple().applyPointTransform(a)}});b.com_ibm_vis_geom_Curve=b.com_ibm_init_declare(b.com_ibm_vis_geom_NonBasicGeom,{constructor:function(a,d,c,e){this.base=new b.com_ibm_vis_geom_Poly(a,d,e);this.cl_2=c},sameStructure:function(a){if(this.cl_2.length!=
a.cl_2.length)return!1;for(var b=0;b<this.cl_2.length;++b)if(this.cl_2[b]!=a.cl_2[b])return!1;return!0},copy:function(){var a=this.cl_2.length;return new b.com_ibm_vis_geom_Curve(b.com_ibm_rave_codegenerator_util_Arrays.copyOf(this.base.x,a),b.com_ibm_rave_codegenerator_util_Arrays.copyOf(this.base.y,a),b.com_ibm_rave_codegenerator_util_Arrays.copyOf(this.cl_2,a),this.base.ce_6)},type:function(){return 1004},filled:function(){return this.base.ce_6},similar:function(a){return a==this?!0:a.type()!=
this.type()?!1:this.base.similar(a.base)&&this.sameStructure(a)},simplify:function(){return b.com_ibm_vis_engine_internal_geom_CurveToPoly.linearize(this)},getX:function(){return this.base.x},getY:function(){return this.base.y},getControls:function(){return this.cl_2},isClosed:function(){return this.base.ce_6},transform:function(a,b,c,e){this.base.transform(a,b,c,e);this.invalidate()},affine:function(a,b,c,e,g,k){this.base.affine(a,b,c,e,g,k);this.invalidate()},transpose:function(a,b){this.invalidate();
return this.base.transpose(a,b)},reflect:function(a,b){this.base.reflect(a,b);this.invalidate()},inset:function(a){if(.001>Math.abs(a))return this;a=this.base.inset(a);return new b.com_ibm_vis_geom_Curve(a.x,a.y,this.cl_2,this.base.ce_6)},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("base",this.base));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableBooleanArray("controls",
this.cl_2));return a},populateFromSerialized:function(a){var b=a.getNodeById("base");this.base.populateFromSerialized(b);this.cl_2=a.getNodeById("controls").asPrimitiveArray().getValuesAsBoolean();return this}});b.com_ibm_vis_geom_Curve.makeFromCircle=function(a){b.com_ibm_vis_geom_Curve.UL_1||(b.com_ibm_vis_geom_Curve.UL_1=new b.com_ibm_vis_geom_Curve([-1,-1,-.5522875,0,.5522875,1,1,1,.5522875,0,-.5522875,-1,-1],[0,.5522875,1,1,1,.5522875,0,-.5522875,-1,-1,-1,-.5522875,0],[!1,!0,!0,!1,!0,!0,!1,!0,
!0,!1,!0,!0,!1],a.filled()));var d=b.com_ibm_vis_geom_Curve.UL_1.copy();d.transform(a.r,a.x,a.r,a.y);return d};b.com_ibm_vis_geom_Curve.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_Curve(null,null,null,!1);d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_Curve.PIXEL_APPROXIMATION=.25;b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_scenetree_internal_GeomJSONSerializer=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom=
function(a){if(!a)return null;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Line))return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sn$7(a);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Rect))return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sc$5(a);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Circle))return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sl$4(a);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_geom_Poly)&&2==a.getPointCount()){var d=a.x;a=a.y;return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sn$7(new b.com_ibm_vis_geom_Line(d[0],a[0],d[1],a[1]))}d=a.getBounds();if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Poly)||b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Curve))return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$2(d,[a]);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_CompositeGeom))return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$2(d,
a.pt_1);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_NonBasicGeom))return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom(a.asSimple());throw new b.com_ibm_vis_exceptions_internal_EngineException("Unknown Geom type passed to GeomJSONSerializer#serializeGeom",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_BAD_GEOM);};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sn$7=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
d.type="line";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"x1",a.x1);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"y1",a.y1);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"x2",a.x2);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"y2",a.y2);return d};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sc$5=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d.type="rect";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,
"x",a.x);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"y",a.y);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"width",a.wt_3);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"height",a.hh_2);return d};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.sl$4=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d.type="circle";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"cx",a.x);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,
"cy",a.y);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(d,"r",a.r);return d};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$2=function(a,d){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();c.type="path";c.path=b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializePartsToSVGPath(d);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(c,"x",a.x);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(c,"y",a.y);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(c,
"width",a.wt_3);b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7(c,"height",a.hh_2);return c};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.cd$7=function(a,d,c){a[d]=c!=c?"NaN":b.com_ibm_vis_engine_internal_util_MathUtil.r3(c)};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializePartsToSVGPath=function(a){if(!a||0==a.length)return"M0,0";for(var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,c=0,e=a.length;c<e;++c)b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$3(d,
a[c]);a=d.toString();return 0==a.length?"M0,0":a};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$3=function(a,d){if(d)if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_geom_Line))b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,77,d.x1,d.y1),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,76,d.x2,d.y2);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_geom_Rect))b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,
77,d.x,d.y),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,76,d.getX2(),d.y),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,76,d.getX2(),d.getY2()),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,76,d.x,d.getY2()),a.appendChar(90);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_geom_Circle))b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$5(a,b.com_ibm_vis_geom_Curve.makeFromCircle(d));else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,
b.com_ibm_vis_geom_Poly))b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$4(a,d);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_geom_Curve))b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$5(a,d);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_geom_CompositeGeom)&&a.append(b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializePartsToSVGPath(d.pt_1)),b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_geom_NonBasicGeom))b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$3(a,
d.asSimple());else throw new b.com_ibm_vis_exceptions_internal_EngineException("Unknown Geom type passed to GeomJSONSerializer#serializeGeomToSVGPath",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_BAD_GEOM);};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$4=function(a,d){var c=d.x;if(c&&0!=c.length){var e=d.y,g=c.length;b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,77,c[0],e[0]);for(var k=1;k<g;++k)b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,76,c[k],e[k]);d.ce_6&&a.appendChar(90)}};
b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.st$5=function(a,d){var c=d.getX();if(c&&0!=c.length){var e=d.getY(),g=d.cl_2,k=c.length;b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,77,c[0],e[0]);for(var s=1;s<k;)g[s]?g[s+1]?g[s+2]||(b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,67,c[s],e[s]),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,44,c[s+1],e[s+1]),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,44,c[s+2],e[s+2]),s+=3):(b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,
81,c[s],e[s]),b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,44,c[s+1],e[s+1]),s+=2):(b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1(a,76,c[s],e[s]),s++);d.filled()&&a.appendChar(90)}};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ao$1=function(a,d,c,e){a.appendChar(d);a.append(b.com_ibm_vis_engine_internal_util_MathUtil.r3(c));a.appendChar(44);a.append(b.com_ibm_vis_engine_internal_util_MathUtil.r3(e))};b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.TYPE="type";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.TYPE_LINE=
"line";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.LINE_X1="x1";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.LINE_Y1="y1";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.LINE_X2="x2";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.LINE_Y2="y2";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.TYPE_RECT="rect";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.RECT_X="x";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.RECT_Y="y";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.RECT_WIDTH=
"width";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.RECT_HEIGHT="height";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.TYPE_CIRCLE="circle";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.CIRCLE_CX="cx";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.CIRCLE_CY="cy";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.CIRCLE_R="r";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.TYPE_PATH="path";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.PATH_PATH="path";b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.ET_2=
"M0,0";b.com_ibm_vis_engine_internal_geom_CurveToPoly=b.com_ibm_init_declare({constructor:function(a){var d=a.getX().length;this.px=new b.com_ibm_rave_codegenerator_util_List(d);this.py=new b.com_ibm_rave_codegenerator_util_List(d);for(var c=0;c<d;++c){var e=a.getX()[c],g=a.getY()[c];if(a.cl_2[c])if(a.cl_2[c+1]){var k=a.getX()[++c],s=a.getY()[c],f=a.getX()[++c],u=a.getY()[c],I=this.px.get(this.px.size()-1),h=this.py.get(this.py.size()-1);this.curveTo(I,h,f,u,e,g,k,s)}else{var f=a.getX()[++c],u=a.getY()[c],
I=this.px.get(this.px.size()-1),h=this.py.get(this.py.size()-1);this.curveTo(I,h,f,u,I/3+2*e/3,h/3+2*g/3,f/3+2*e/3,u/3+2*g/3)}else this.px.add(e),this.py.add(g)}this.rl_1=new b.com_ibm_vis_geom_Poly(this.px.toArray(),this.py.toArray(),a.filled())},curveTo:function(a,d,c,e,g,k,s,f){var u=b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint(a,d,c,e,g,k),I=b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint(a,d,c,e,s,f),u=Math.max(u,I);if(.25>=u||u!=u)this.px.add(c),this.py.add(e);else{var u=.125*a+.375*
g+.375*s+.125*c,I=.125*d+.375*k+.375*f+.125*e,h=.5*(a+g),l=.5*(d+k);g=.5*(g+s);k=.5*(k+f);s=.5*(s+c);f=.5*(f+e);var m=.5*(g+s),p=.5*(k+f);this.curveTo(a,d,u,I,h,l,.5*(h+g),.5*(l+k));this.curveTo(u,I,c,e,m,p,s,f)}}});b.com_ibm_vis_engine_internal_geom_CurveToPoly.linearize=function(a){for(var d=0;d<a.getX().length;++d)if(a.cl_2[d])return(new b.com_ibm_vis_engine_internal_geom_CurveToPoly(a)).rl_1;return new b.com_ibm_vis_geom_Poly(a.getX(),a.getY(),a.filled())};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject=
b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.sl_2=b},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.OBJECT},getValue:function(){return this.sl_2}});b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableBooleanArray=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.aa_1=b},getValue:function(){return null},
getValues:function(){return this.aa_1},asPrimitiveArray:function(){for(var a=Array(this.aa_1.length),d=0,c=0,e=this.aa_1,g=e.length;c<g;++c){var k=e[c];a[d++]=k}return new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray(this.id,a)},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_BOOLEAN_ARRAY}});b.com_ibm_vis_geom_RoundedRect=b.com_ibm_init_declare(b.com_ibm_vis_geom_NonBasicGeom,{ru_1:0,re_1:!1,constructor:function(a,
d,c,e,g){this.rect=new b.com_ibm_vis_geom_Rect(a,d,c,e);this.ru_1=g;this.setRadiusFixed(!0)},setRadiusFixed:function(a){this.re_1=a;this.invalidate()},getRadiusFixed:function(){return this.re_1},setCornerRadius:function(a){this.ru_1=a;this.invalidate()},getCornerRadius:function(){return this.re_1?this.ru_1:this.ru_1*Math.min(this.getWidth()/2,this.getHeight()/2)},getX:function(){return this.rect.x},getY:function(){return this.rect.y},getMinX:function(){return this.rect.getMinX()},getMinY:function(){return this.rect.getMinY()},
getMaxX:function(){return this.rect.getMaxX()},getMaxY:function(){return this.rect.getMaxY()},getWidth:function(){return this.rect.wt_3},getHeight:function(){return this.rect.hh_2},getTopLeft:function(){return this.rect.getTopLeft()},getExtent:function(){return this.rect.getExtent()},setX:function(a){this.rect.x=a;this.invalidate()},setY:function(a){this.rect.y=a;this.invalidate()},setWidth:function(a){this.rect.wt_3=a;this.invalidate()},setHeight:function(a){this.rect.hh_2=a;this.invalidate()},type:function(){return 1005},
copy:function(){var a=new b.com_ibm_vis_geom_RoundedRect(this.rect.x,this.rect.y,this.rect.wt_3,this.rect.hh_2,this.ru_1);a.setRadiusFixed(this.re_1);return a},simplify:function(){var a=Math.min(this.getCornerRadius(),Math.min(this.rect.wt_3/2,this.rect.hh_2/2));if(.001>a)return this.rect;var d=this.rect.x,c=this.rect.y,e=this.rect.wt_3,g=this.rect.hh_2,k=new b.com_ibm_vis_engine_internal_geom_GeomBuilder,e=d+e,g=c+g;k.moveTo(d,c+a);.001<a&&k.arcTo(d+a,c+a,a,3.141592653589793,4.71238898038469);k.lineTo(e-
a,c);.001<a&&k.arcTo(e-a,c+a,a,4.71238898038469,6.283185307179586);k.lineTo(e,g-a);.001<a&&k.arcTo(e-a,g-a,a,0,1.5707963267948966);k.lineTo(d+a,g);.001<a&&k.arcTo(d+a,g-a,a,1.5707963267948966,3.141592653589793);k.closePath();return k.getGeom()},getBounds:function(){return this.rect},getEnclosingCircle:function(){return this.rect.getEnclosingCircle()},getCenter:function(){return this.rect.getCenter()},containsGeom:function(a){return this.rect.containsGeom(a)},distanceToGeom:function(a){return this.rect.distanceToGeom(a)},
filled:function(){return this.rect.filled()},area:function(){return this.rect.area()},containsPt:function(a,b){return this.rect.containsPt(a,b)},distanceToPt:function(a,b){return this.rect.distanceToPt(a,b)},similar:function(a){return a==this?!0:a.type()!=this.type()?!1:.001>Math.abs(a.ru_1-this.ru_1)&&a.rect.similar(this.rect)},transform:function(a,b,c,e){this.rect.transform(a,b,c,e);this.invalidate()},affine:function(a,b,c,e,g,k){this.rect.affine(a,b,c,e,g,k);this.invalidate()},transpose:function(a,
b){this.invalidate();return this.rect.transpose(a,b)},reflect:function(a,b){this.rect.reflect(a,b);this.invalidate()},applyPointTransform:function(a){this.invalidate();return this.rect.applyPointTransform(a)},inset:function(a){a=this.rect.inset(a);return a==this.rect?this:new b.com_ibm_vis_geom_RoundedRect(a.x,a.y,a.wt_3,a.hh_2,this.ru_1)},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);a.addDouble("x",this.getX());a.addDouble("y",
this.getY());a.addDouble("width",this.getWidth());a.addDouble("height",this.getHeight());a.addDouble("radius",this.ru_1);a.addBoolean("radiusFixed",this.re_1);return a},populateFromSerialized:function(a){this.rect.x=a.getNodeById("x").asPrimitive().getNumberValue$0();this.rect.y=a.getNodeById("y").asPrimitive().getNumberValue$0();this.rect.wt_3=a.getNodeById("width").asPrimitive().getNumberValue$0();this.rect.hh_2=a.getNodeById("height").asPrimitive().getNumberValue$0();this.ru_1=a.getNodeById("radius").asPrimitive().getNumberValue$0();
this.re_1=a.getNodeById("radiusFixed").asPrimitive().getBooleanValue$1(!1);return this}});b.com_ibm_vis_geom_RoundedRect.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_RoundedRect(0,0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_geom_GeomBuilder=b.com_ibm_init_declare({oe_1:!1,uv_1:!1,ce_2:!1,constructor:function(){this.ph_1=new b.com_ibm_rave_codegenerator_util_List;this.oe_1=!1;this.xp=new b.com_ibm_rave_codegenerator_util_List;
this.yp=new b.com_ibm_rave_codegenerator_util_List;this.cl_1=new b.com_ibm_rave_codegenerator_util_List;this.ce_2=this.uv_1=!1},setOddEven:function(a){this.oe_1=a},getGeom:function(){this.mo$1();var a;1==this.ph_1.size()?a=this.ph_1.get(0):1<this.ph_1.size()&&(a=this.ph_1.toArray(Array(this.ph_1.size())),a=new b.com_ibm_vis_geom_CompositeGeom(a,this.oe_1));this.ph_1.clear();return a},moveTo:function(a,b){this.mo$1();this.xp.add(a);this.yp.add(b);this.cl_1.add(0)},lineTo:function(a,d){if(0==this.xp.size())throw new b.com_ibm_vis_exceptions_internal_EngineException("CurveBuilder#lineTo called without previous point",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);this.xp.add(a);this.yp.add(d);this.cl_1.add(0)},quadTo:function(a,d,c,e){if(0==this.xp.size())throw new b.com_ibm_vis_exceptions_internal_EngineException("CurveBuilder#quadTo called without previous point",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);this.xp.add(a);this.yp.add(d);this.cl_1.add(1);this.xp.add(c);this.yp.add(e);this.cl_1.add(0);this.uv_1=!0},curveTo:function(a,d,c,e,g,k){if(0==this.xp.size())throw new b.com_ibm_vis_exceptions_internal_EngineException("CurveBuilder#curveTo called without previous point",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);this.xp.add(a);this.yp.add(d);this.cl_1.add(1);this.xp.add(c);this.yp.add(e);this.cl_1.add(1);this.xp.add(g);this.yp.add(k);this.cl_1.add(0);this.uv_1=!0},closePath:function(){this.ce_2=!0;this.mo$1()},arcTo:function(a,d,c,e,g){if(0==this.xp.size())throw new b.com_ibm_vis_exceptions_internal_EngineException("CurveBuilder#arcTo called without previous point",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);var k=new b.com_ibm_vis_geom_Point(a+
c*Math.cos(e),d+c*Math.sin(e)),s=new b.com_ibm_vis_geom_Point(a+c*Math.cos(g),d+c*Math.sin(g)),f=Math.abs(g-e);if(.001>c||.01>f&&.001>k.distance(s))this.lineTo(s.x,s.y);else{k=Math.ceil((f-.01)/1.5707963267948966);1>k&&(k=1);4<k&&(k=4);g=(e-g)/(2*k);for(var f=Math.cos(g),u=Math.sin(g),f=[[(4-f)/3,(1-f)*(3-f)/(3*u)],[(4-f)/3,-(1-f)*(3-f)/(3*u)],[f,-u]],u=0;u<k;++u){var I=Math.cos(g-e),h=Math.sin(g-e),l=a+c*(I*f[0][0]+h*f[0][1]),m=d+c*(-h*f[0][0]+I*f[0][1]),p=a+c*(I*f[1][0]+h*f[1][1]),q=d+c*(-h*f[1][0]+
I*f[1][1]),r=a+c*(I*f[2][0]+h*f[2][1]),I=d+c*(-h*f[2][0]+I*f[2][1]);u==k-1&&(r=s.x,I=s.y);this.curveTo(l,m,p,q,r,I);e-=2*g}}},makeArcPath:function(a,b,c,e,g){this.mo$1();this.moveTo(a+c*Math.cos(e),b+c*Math.sin(e));this.arcTo(a,b,c,e,g);this.mo$1()},makeToroidPath:function(a,b,c,e,g,k){this.mo$1();var s=6.282185307179586<Math.abs(k-g);s&&(k=k>g?g+6.283185307179586:g-6.283185307179586);.001>c?s?this.moveTo(a+e*Math.cos(k),b+e*Math.sin(k)):(this.moveTo(a,b),this.lineTo(a+e*Math.cos(k),b+e*Math.sin(k))):
s?(this.moveTo(a+c*Math.cos(g),b+c*Math.sin(g)),this.arcTo(a,b,c,g,k),this.closePath(),this.moveTo(a+e*Math.cos(k),b+e*Math.sin(k))):(this.moveTo(a+c*Math.cos(g),b+c*Math.sin(g)),this.arcTo(a,b,c,g,k),this.lineTo(a+e*Math.cos(k),b+e*Math.sin(k)));this.arcTo(a,b,e,k,g);this.closePath()},makeInsetToroidPath:function(a,b,c,e,g,k,s){this.mo$1();if(0>=s)this.makeToroidPath(a,b,c,e,g,k);else if(c+=s,e-=s,6.282185307179586<Math.abs(k-g))this.makeToroidPath(a,b,c,e,g,k);else{var f=Math.abs(k-g)/2,u=Math.min(Math.asin(s/
c),f);s=Math.min(Math.asin(s/e),f);k<g&&(u=-u,s=-s);this.moveTo(a+c*Math.cos(g+u),b+c*Math.sin(g+u));this.arcTo(a,b,c,g+u,k-u);this.lineTo(a+e*Math.cos(k-s),b+e*Math.sin(k-s));this.arcTo(a,b,e,k-s,g+s);this.closePath()}},mo$1:function(){var a=this.xp.size();if(0<a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),e=0;e<a;++e)d[e]=this.xp.get(e),c[e]=this.yp.get(e);if(this.uv_1){for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([a],
!1),e=0;e<a;++e)g[e]=1==this.cl_1.get(e);a=new b.com_ibm_vis_geom_Curve(d,c,g,this.ce_2)}else a=new b.com_ibm_vis_geom_Poly(d,c,this.ce_2);this.ph_1.add(a)}this.xp.clear();this.yp.clear();this.cl_1.clear();this.ce_2=this.uv_1=!1}});b.com_ibm_vis_geom_Wedge=b.com_ibm_init_declare(b.com_ibm_vis_geom_NonBasicGeom,{r1:0,r2:0,a1:0,a2:0,constructor:function(a,b,c,e,g){this.oi_1=a;this.r1=b;this.r2=c;a=g-e;-6.283185307179586>a?a=-6.283185307179586:6.283185307179586<=a&&(a=6.283185307179586);e%=6.283185307179586;
0>e&&(e+=6.283185307179586);this.a1=e;this.a2=e+a},getOrigin:function(){return this.oi_1},getR1:function(){return this.r1},getR2:function(){return this.r2},getA1:function(){return this.a1},getA2:function(){return this.a2},setOrigin:function(a){this.oi_1=a;this.invalidate()},setR1:function(a){this.r1=a;this.invalidate()},setR2:function(a){this.r2=a;this.invalidate()},setA1:function(a){this.a1=a;this.invalidate()},setA2:function(a){this.a2=a;this.invalidate()},area:function(){if(this.filled()){var a=
Math.abs(this.a2-this.a1)*this.r2*this.r2/2,b=Math.abs(this.a2-this.a1)*this.r1*this.r1/2;return a-b}return 0},isCircle:function(){return 6.282185307179586<=Math.abs(this.a2-this.a1)},getCenter:function(){return this.isCircle()?this.oi_1:this.getLabelCenter()},getLabelCenter:function(){if(this.isCircle()&&(0==this.r1||0==this.r2))return this.oi_1;var a=(2*this.r1+3*this.r2)/5,d=(this.a1+this.a2)/2;a!=a&&(a=this.r2);return new b.com_ibm_vis_geom_Point(this.oi_1.x+a*Math.cos(d),this.oi_1.y+a*Math.sin(d))},
filled:function(){return this.r1==this.r1},simplify:function(){if(!this.filled()){var a=new b.com_ibm_vis_engine_internal_geom_GeomBuilder;a.makeArcPath(this.oi_1.x,this.oi_1.y,this.r2,this.a1,this.a2);return a.getGeom()}if(this.isCircle()&&.001>this.r1)return new b.com_ibm_vis_geom_Circle(this.oi_1.x,this.oi_1.y,this.r2);a=new b.com_ibm_vis_engine_internal_geom_GeomBuilder;a.makeToroidPath(this.oi_1.x,this.oi_1.y,this.r1,this.r2,this.a1,this.a2);return a.getGeom()},type:function(){return 1006},copy:function(){return new b.com_ibm_vis_geom_Wedge(this.oi_1.copy(),
this.r1,this.r2,this.a1,this.a2)},similar:function(a){return a==this?!0:a.type()!=this.type()?!1:.001>this.oi_1.distance(a.oi_1)&&.001>Math.abs(this.r1-a.r1)&&.001>Math.abs(this.r2-a.r2)&&.001>Math.abs(this.a1-a.a1)&&.001>Math.abs(this.a2-a.a2)},transform:function(a,b,c,e){this.oi_1.affine(a,b,c,e);this.r1*=Math.min(a,c);this.r2*=Math.min(a,c)},affine:function(a,b,c,e,g,k){this.transform(a,b,c,e)},transpose:function(a,d){throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Cannot transform a wedge");
},reflect:function(a,d){throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Cannot transform a wedge");},containsPt:function(a,d){if(!this.filled())return!1;var c=this.oi_1.distanceToPt(a,d);return c<this.r1||c>this.r2?!1:0==c||this.isCircle()?!0:b.com_ibm_vis_geom_Wedge.ai$1(Math.atan2(d-this.oi_1.y,a-this.oi_1.x),this.a1,this.a2)},inset:function(a){if(!this.filled()||.001>Math.abs(a))return this;var d=new b.com_ibm_vis_engine_internal_geom_GeomBuilder;d.makeInsetToroidPath(this.oi_1.x,
this.oi_1.y,this.r1,this.r2,this.a1,this.a2,a);return d.getGeom()},getOuterPoint:function(){var a=(this.a1+this.a2)/2;return new b.com_ibm_vis_geom_Point(this.oi_1.x+this.r2*Math.cos(a),this.oi_1.y+this.r2*Math.sin(a))},setOriginX:function(a){this.oi_1.x=a;this.invalidate()},setOriginY:function(a){this.oi_1.y=a;this.invalidate()},createSerializableComposite:function(){var a=b.com_ibm_vis_geom_Geom.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("origin",
this.oi_1));a.addDouble("r1",this.r1);a.addDouble("r2",this.r2);a.addDouble("a1",this.a1);a.addDouble("a2",this.a2);return a},populateFromSerialized:function(a){this.r1=a.getNodeById("r1").asPrimitive().getNumberValue$0();this.r2=a.getNodeById("r2").asPrimitive().getNumberValue$0();this.a1=a.getNodeById("a1").asPrimitive().getNumberValue$0();this.a2=a.getNodeById("a2").asPrimitive().getNumberValue$0();this.oi_1=new b.com_ibm_vis_geom_Point(0,0);this.oi_1.populateFromSerialized(a.getNodeById("origin"));
return this}});b.com_ibm_vis_geom_Wedge.ai$1=function(a,b,c){0>a&&(a+=6.283185307179586);if(b<c)return a<b&&(a+=6.283185307179586),a<=c;a>b&&(a-=6.283185307179586);return c<=a&&a<=b};b.com_ibm_vis_geom_Wedge.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_geom_Wedge(null,0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_provisional_serialize_RaveSerializationException=b.com_ibm_init_declare(b.com_ibm_vis_exceptions_VisException,{constructor:function(a,
b){}});b.com_ibm_vis_geom_GeomFactory=b.com_ibm_init_declare({});b.com_ibm_vis_geom_GeomFactory.createFromSerialized=function(a){if(a._l_1)return null;switch(a.getNodeById("type").asPrimitive().getNumberValue$0()){case 1002:a=b.com_ibm_vis_geom_Rect.createFromSerialized(a);break;case 1007:a=b.com_ibm_vis_geom_CompositeGeom.createFromSerialized(a);break;case 1004:a=b.com_ibm_vis_geom_Curve.createFromSerialized(a);break;case 1E3:a=b.com_ibm_vis_geom_Line.createFromSerialized(a);break;case 1003:a=b.com_ibm_vis_geom_Poly.createFromSerialized(a);
break;case 1001:a=b.com_ibm_vis_geom_Circle.createFromSerialized(a);break;case 1005:a=b.com_ibm_vis_geom_RoundedRect.createFromSerialized(a);break;case 1006:a=b.com_ibm_vis_geom_Wedge.createFromSerialized(a);break;default:throw new b.com_ibm_vis_scenetree_provisional_serialize_RaveSerializationException(null,b.com_ibm_vis_exceptions_ErrorCode.SERIALIZE_ERROR);}return a};b.com_ibm_rave_codegenerator_lang_StringBuilder=b.com_ibm_init_declare({constructor:function(a){this._b=a||"";this._length=0},length:function(){return this._length},
appendChar:function(a){return this.append(String.fromCharCode(a))},append:function(a){if(1<arguments.length){var b="";switch(arguments.length){case 9:b=""+arguments[8]+b;case 8:b=""+arguments[7]+b;case 7:b=""+arguments[6]+b;case 6:b=""+arguments[5]+b;case 5:b=""+arguments[4]+b;case 4:b=""+arguments[3]+b;case 3:b=""+arguments[2]+b;case 2:this._b+=""+arguments[0]+arguments[1]+b;break;default:for(var c=0;c<arguments.length;)b+=arguments[c++];this._b+=b}}else this._b+=a;this._length=this._b.length;return this},
concat:function(a){return this.append.apply(this,arguments)},appendArray:function(a){return this.append.apply(this,a)},clear:function(){this._b="";this._length=0;return this},replace:function(a,b){this._b=this._b.replace(a,b);this._length=this._b.length;return this},remove:function(a,b){void 0===b&&(b=this._b.length);if(0==b)return this;this._b=this._b.substr(0,a)+this._b.substr(a+b);this._length=this._b.length;return this},insert:function(a,b){this._b=0==a?b+this._b:this._b.slice(0,a)+b+this._b.slice(a);
this._length=this._b.length;return this},toString:function(){return this._b}});b.com_ibm_vis_engine_internal_nativeImpl_render_SurfaceCreationManager=function(){function a(a){}function d(a){a.resolve(this)}function c(a){I.put(a,!0);setTimeout(S.hitch(this,d,a),1)}function e(a){return a.conditionFn?a.conditionFn.apply(this):!0}function g(){for(var a=0,b=I.keySet().arrayIterator(),d=0;d<b.length;d++)e(b[d])&&(a+=1);return a}function k(){var b=g();if(!(1<=b)){b=1-b;a("about to fire new Tickets: "+b+
" . Queue count: "+u.size());for(var d=[],s=u.size(),f=0;d.length<b&&f<s;f++){var v=u.get(f);e(v)&&(d.push(v),c(v))}for(f=0;f<d.length;f++)u.remove(d[f]);0<d.length&&setTimeout(S.hitch(this,function(){k()}),1)}}var s={},f=!0,u=new b.com_ibm_rave_codegenerator_util_List,I=new b.com_ibm_rave_codegenerator_util_HashMap;s.isEnabled=function(){return f};s.setEnabled=function(a){f=a||!1};s.getTurn=function(a){if(!this.isEnabled())return!0;var b=new R;b.conditionFn=a||null;u.add(b);k();return b};s.done=
function(a){this.isEnabled()&&(I.remove(a),u.remove(a),k())};return s}();b.com_ibm_vis_internal_renderer_Dashing=b.com_ibm_init_declare({});b.com_ibm_vis_internal_renderer_Dashing.getDashArray=function(a){return null==a?null:b.com_ibm_vis_internal_renderer_Dashing.DE_8.get(a.toLowerCase())};b.com_ibm_vis_internal_renderer_Dashing.hasDashArray=function(a){return null==a?!1:b.com_ibm_vis_internal_renderer_Dashing.DE_8.containsKey(a.toLowerCase())};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_internal_renderer_Dashing.DE_8=
new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("dot",[1,3]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("shortdash",[4,1]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("dash",[4,3]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("longdash",[8,3]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("shortdot",[1,1]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("shortdashdot",[4,1,1,1]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("shortdashdotdot",
[4,1,1,1,1,1]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("dashdot",[4,3,1,3]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("longdashdot",[8,3,1,3]);b.com_ibm_vis_internal_renderer_Dashing.DE_8.put("longdashdotdot",[8,3,1,3,1,3])});b.com_ibm_vis_engine_internal_nativeImpl_render_SilverlightExt=function(){b.com_ibm_vis_engine_internal_nativeImpl_render_SilverlightAsynchAlwaysPatch();if("silverlight"==z.renderer){var a=function(a){var b=z.normalizeColor(a);a=b.toHex();b=Math.round(255*b.a);
b=(0>b?0:255<b?255:b).toString(16);return"#"+(2>b.length?"0"+b:b)+a.slice(1)},d=z.silverlight,c=z.silverlight.Shape.prototype.setFill,e=z.silverlight.Shape.prototype.setStroke;S.extend(z.silverlight.Shape,{setStroke:function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(this.shape);if(a.width&&1<=a.width){var c=a.width,g=c/2,k=this.shape;null!=k.width&&void 0!=k.width&&(k.width+=c);null!=k.height&&void 0!=k.height&&(k.height+=c);null!=k.x&&void 0!=k.x&&(k.x-=g);null!=k.y&&void 0!=
k.y&&(k.y-=g);"rect"!=k.type&&null!=k.r&&void 0!=k.r&&(k.r+=g);null!=k.rx&&void 0!=k.rx&&(k.rx+=g);null!=k.ry&&void 0!=k.ry&&(k.ry+=g);this.setShape(k)}e.call(this,a);a=this.rawNode;c=this.strokeStyle;(g=c.style)&&(g=b.com_ibm_vis_internal_renderer_Dashing.getDashArray(g));if(g){var g=g.slice(),k=g.length,s=1>c.width?1/c.width:1;if(1!=s)for(var f=0;f<k;++f)g[f]*=s;if("butt"!=c.cap){for(f=0;f<k;f+=2)g[f]-=s,0>g[f]&&(g[f]=0);for(f=1;f<k;f+=2)g[f]+=s}a.strokeDashArray=g.join(",")}else a.strokeDashArray=
null;this.shape=d;return this},setEffect:function(a,d){var c;if(null!=a.shadow)c=a.shadow;else if(null!=a.glow)c=a.glow;else return;var e=c.color.a;if(void 0==typeof e||null==e)e=1;var g=b.com_ibm_rave_codegenerator_util_BasicFactory.toCSSHexColor(c.color,!1);c=4*c.stdDev;var k,s;if(null!=a.shadow){k=a.shadow.dy;var f=a.shadow.dx;s=180*Math.atan2(-k,f)/Math.PI;k=Math.sqrt(f*f+k*k)}else null!=a.glow&&(k=s=0);e='\x3cDropShadowEffect ShadowDepth\x3d"'+k+'" Direction\x3d"'+s+'" Opacity\x3d"'+e+'" Color\x3d"'+
g+'" BlurRadius\x3d"'+c+'"/\x3e';this.rawNode.Effect=this.rawNode.getHost().content.CreateFromXaml(e)},setFill:function(b){var d=this.rawNode.getHost().content,e;if(!b)return this.fillStyle=null,this._setFillAttr(null),this;if("object"==typeof b&&"type"in b){switch(b.type){case "linear":this.fillStyle=e=z.makeParameters(z.defaultLinearGradient,b);b=d.createFromXaml("\x3cLinearGradientBrush/\x3e");b.spreadMethod="Pad";if("rect"==this.shape.type){var g,k,s,f;this.shape.width?(g=(e.x1-this.shape.x)/
this.shape.width,k=(e.x2-this.shape.x)/this.shape.width):(g=0,k=1);this.shape.height?(s=(e.y1-this.shape.y)/this.shape.height,f=(e.y2-this.shape.y)/this.shape.height):(s=0,f=1);b.startPoint=g+","+s;b.endPoint=k+","+f}else b.mappingMode="Absolute",b.startPoint=e.x1+","+e.y1,b.endPoint=e.x2+","+e.y2;e=e.colors;for(k=0;k<e.length;k++)g=e[k],s=d.createFromXaml("\x3cGradientStop/\x3e"),s.offset=g.offset,s.color=a(g.color),b.gradientStops.add(s);this._setFillAttr(b);break;case "radial":this.fillStyle=e=
z.makeParameters(z.defaultRadialGradient,b);b=d.createFromXaml("\x3cRadialGradientBrush/\x3e");g=z.matrix.multiplyPoint(z.matrix.invert(this._getAdjustedMatrix()),e.cx,e.cy);g=g.x+","+g.y;b.mappingMode="Absolute";b.gradientOrigin=g;b.center=g;b.radiusX=b.radiusY=e.r;e=e.colors;for(k=0;k<e.length;k++)g=e[k],s=d.createFromXaml("\x3cGradientStop/\x3e"),s.offset=g.offset,s.color=a(g.color),b.gradientStops.add(s);this._setFillAttr(b);break;default:return c.call(this,b)}return this}return c.call(this,b)}});
S.extend(z.silverlight.Surface,{clear:function(){this.rawNode&&"undefined"!=typeof this.rawNode&&this.rawNode.children&&this.rawNode.children.clear();return z.shape.Container.clear.apply(this,arguments)}});var g=ba.version;1==g.major&&9==g.minor&&S.extend(z.silverlight.Surface,{whenLoaded:function(a,b){var d=S.hitch(a,b);if(this.isLoaded)d(this);else var c=X.connect(this,"onLoad",function(a){X.disconnect(c);d(a)})}});var k=d.Surface.prototype.destroy;S.extend(z.silverlight.Surface,{destroy:function(){this._destroyed=
!0;try{k.apply(this,arguments)}catch(a){}finally{this._destroyed=!0,this.turn&&(b.com_ibm_vis_engine_internal_nativeImpl_render_SurfaceCreationManager.done(this.turn),this.turn=null)}},remove:function(a,b){if(this==a.getParent())try{var d=a.rawNode.getParent();d&&d.children.remove(a.rawNode)}catch(c){}z.shape.Container.remove.apply(this,arguments);return this},createObject:function(a,b){if(!this.rawNode)return null;try{var d=new a,c=this.rawNode.getHost().content.createFromXaml("\x3c"+a.nodeType+
"/\x3e");d.setRawNode(c);d.setShape(b);this.add(d);return d}catch(e){}return null},_copyInto:function(a){a.rawNode=this.rawNode;a._parent=this._parent;a._nodes=this._nodes;a._events=this._events;a.isLoaded=this.isLoaded;a.width=this.width;a.height=this.height;a.textDir=this.textDir;a._nodeName=this._nodeName;a._onLoadName=this._onLoadName}});if(!P.dontPatchSLCreateSurface){var s=z.createSurface;d.createSurface=z.createSurface=function(a,c,e){var g=arguments,k=new d.Surface;k.isLoaded=!1;var f=b.com_ibm_vis_engine_internal_nativeImpl_render_SurfaceCreationManager,
v=a,u=function(){return function(){return v&&(0<v.offsetWidth||0<v.offsetHeight)}}(),h=f.getTurn(u);k.turn=h;R.when(h,S.hitch(this,function(){if(k._destroyed)f.done(h);else{var a=s.apply(this,g);a.isLoaded=!1;var b=window[a._onLoadName];window[a._onLoadName]=function(d){var c=this,e=function(){k._destroyed||(a.isLoaded=!0,a.rawNode=null,b.call(c,d),a._copyInto(k),k.onLoad(k));f.done(h)};la("ie")?e.apply(this):setTimeout(e,1)}}}));return k}}var f={serif:"Times New Roman",times:"Times New Roman","sans-serif":"Arial",
helvetica:"Arial",monotone:"Courier New",courier:"Courier New"};z.silverlight.Text.extend({setShape:function(a){this.shape=z.makeParameters(this.shape,a);this.bbox=null;a=this.rawNode;var b=this.shape;a.text=b.text;a.textDecorations="underline"===b.decoration?"Underline":"None";a["Canvas.Left"]=-1E4;a["Canvas.Top"]=-1E4;this._delayAlignment();return this},_setFont:function(){var a=this.fontStyle,b=this.rawNode,d=a.family.toLowerCase();b.fontStyle="italic"==a.style?"Italic":"Normal";b.fontWeight=a.weight;
b.fontSize=z.normalizedLength(a.size);b.fontFamily=d in f?f[d]:a.family;this._delayAlignment()}});var u=z.silverlight.Image.prototype.setShape;z.silverlight.Image.extend({setShape:function(a){u.apply(this,arguments);"stretch"==a.method&&(this.rawNode.stretch="Fill");return this}})}};b.com_ibm_vis_scenetree_provisional_ColorProperty=b.com_ibm_init_declare.implement({getRGBA:function(){}});b.com_ibm_vis_engine_internal_ColorNew=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ColorProperty,
b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{ah_1:0,red:0,ge_1:0,blue:0,hue:0,so_3:0,ls_1:0,vu_1:0,dh_1:0,do_2:0,ds_1:0,du_1:0,nL_1:!1,ie_1:0,ch_2:0,constructor:function(a,d,c,e){b.com_ibm_vis_engine_internal_ColorNew.se$1(this);this.setRed(a);this.setGreen(d);this.setBlue(c);this.setAlpha(e);this.du_1=this.ds_1=this.do_2=this.dh_1=this.vu_1=this.ls_1=this.so_3=this.hue=NaN;this.cn_1=null},getColorString:function(){return this.cn_1},setColorString:function(a){this.cn_1=a},getIndex:function(){return this.ie_1},
isEmpty:function(){return this.red==this.red||this.blue==this.blue||this.ge_1==this.ge_1||this.ah_1==this.ah_1||this.ch_2==this.ch_2||this.dh_1==this.dh_1||this.ds_1==this.ds_1||this.do_2==this.do_2||this.du_1==this.du_1||this.hue==this.hue||this.ls_1==this.ls_1||this.so_3==this.so_3||this.vu_1==this.vu_1?!1:!0},getRGBA:function(){var a=this.bB$1();this.nL_1&&(a=this.pL$1(a));return a},pL$1:function(a){a=this.convertRGBToHSV(a);a=this.oe$1(a);a=this.aS$1(a);a[0]!=a[0]&&(a[1]=0,a[1]=0);this.ls_1==
this.ls_1||this.ds_1==this.ds_1?(a=this.convertHSVToHSL(a),a[2]=b.com_ibm_vis_engine_internal_ColorNew.ou$1(a[2],this.ls_1),a=this.ae$1(a),a=this.convertHSLToRGBA(a)):a=this.convertHSVToRGB(a);return a},setAlpha:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cn$1(a);this.ah_1!=a&&(this.ch_2=this.ah_1=a)},setRed:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$1(a);this.red!=a&&(this.red=a)},setGreen:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$1(a);this.ge_1!=a&&(this.ge_1=
a)},setBlue:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$1(a);this.blue!=a&&(this.blue=a)},setHue:function(a){this.hue!=a&&(this.hue=a,this.nL_1=!0)},setSaturation:function(a){this.so_3!=a&&(this.so_3=a,this.nL_1=!0)},setLightness:function(a){this.ls_1!=a&&(this.ls_1=a,this.nL_1=!0)},setValue:function(a){this.vu_1!=a&&(this.vu_1=a,this.nL_1=!0)},setdAlpha:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$2(a);this.dh_1!=a&&(this.dh_1=a)},setdSaturation:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$2(a);
this.do_2!=a&&(this.do_2=a,this.nL_1=!0)},setdLightness:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$2(a);this.ds_1!=a&&(this.ds_1=a,this.nL_1=!0)},setdValue:function(a){a=b.com_ibm_vis_engine_internal_ColorNew.cg$2(a);this.du_1!=a&&(this.du_1=a,this.nL_1=!0)},gh$1:function(){return this.ah_1},ge$1:function(){return this.red},ge$2:function(){return this.ge_1},gu$1:function(){return this.blue},gu$2:function(){return this.hue},go$1:function(){return this.so_3},gu$3:function(){return this.vu_1},
gh$2:function(){return this.dh_1},go$2:function(){return this.do_2},gu$4:function(){return this.du_1},bh$1:function(){var a=this.ch_2;this.dh_1==this.dh_1&&(a=b.com_ibm_vis_engine_internal_ColorNew.ou$1(1,this.ah_1)+b.com_ibm_vis_engine_internal_ColorNew.ou$1(0,this.dh_1),this.ch_2=a=b.com_ibm_vis_engine_internal_ColorNew.cn$1(a));a!=a&&(a=1);return a},bB$1:function(){return[this.red!=this.red?0:this.red,this.ge_1!=this.ge_1?0:this.ge_1,this.blue!=this.blue?0:this.blue,this.bh$1()]},isNeedsHSLV:function(){return this.nL_1},
convertRGBToHSV:function(a){var d=b.com_ibm_rave_codegenerator_lang_Array.create([3],0),c=a[0],e=a[1],g=a[2],k=c>e?c:e;g>k&&(k=g);var s=c<e?c:e;g<s&&(s=g);a=0!=k?(k-s)/k:0;if(0==a)c=NaN;else{var f=(k-c)/(k-s),u=(k-e)/(k-s),g=(k-g)/(k-s),c=(c==k?g-u:e==k?2+f-g:4+u-f)/6;0>c&&(c+=1)}d[0]=c;d[1]=a;d[2]=k/255;return[d[0],d[1],d[2]]},convertHSVToRGB:function(a){var b=a[0],c=a[1];a=a[2];var e=0,g=0,k=0;if(0==c)e=g=k=255*a+.5;else{var b=6*(b-Math.floor(b)),s=b-Math.floor(b),f=a*(1-c),u=a*(1-c*s),c=a*(1-c*
(1-s));0==Math.floor(b)?(e=255*a+.5,g=255*c+.5,k=255*f+.5):1==Math.floor(b)?(e=255*u+.5,g=255*a+.5,k=255*f+.5):2==Math.floor(b)?(e=255*f+.5,g=255*a+.5,k=255*c+.5):3==Math.floor(b)?(e=255*f+.5,g=255*u+.5,k=255*a+.5):4==Math.floor(b)?(e=255*c+.5,g=255*f+.5,k=255*a+.5):5==Math.floor(b)&&(e=255*a+.5,g=255*f+.5,k=255*u+.5)}c=4278190080|Math.floor(e)<<16|Math.floor(g)<<8|Math.floor(k)<<0;return[c>>16&255,c>>8&255,c>>0&255,this.bh$1()]},convertHSLToRGBA:function(a){var d=a[0],c=a[1];a=a[2];var c=.5>=a?a*
(c+1):a+c-a*c,e=2*a-c;a=Math.round(255*b.com_ibm_vis_engine_internal_ColorNew.hg$1(e,c,d+1/3));var g=Math.round(255*b.com_ibm_vis_engine_internal_ColorNew.hg$1(e,c,d)),d=Math.round(255*b.com_ibm_vis_engine_internal_ColorNew.hg$1(e,c,d-1/3));return[a,g,d,this.bh$1()]},convertHSVToHSL:function(a){var b=a[1],c=a[2],e=a[0],g=0,k=0;0!=c?(g=(2-b)*c,k=b*c,0!=k&&(k=1>=g?k/g:k/(2-g)),g/=2):k=a[1];return[e,k,g]},oe$1:function(a){var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0);d[0]=b.com_ibm_vis_engine_internal_ColorNew.ou$1(a[0],
this.hue);d[1]=b.com_ibm_vis_engine_internal_ColorNew.ou$1(a[1],this.so_3);d[2]=b.com_ibm_vis_engine_internal_ColorNew.ou$1(a[2],this.vu_1);return d},ae$1:function(a){var d=b.com_ibm_vis_engine_internal_ColorNew.ou$1(0,this.ds_1),d=b.com_ibm_vis_engine_internal_ColorNew.cn$1(a[2]+d);return[a[0],a[1],d]},aS$1:function(a){var d=b.com_ibm_vis_engine_internal_ColorNew.ou$1(0,this.do_2),c=b.com_ibm_vis_engine_internal_ColorNew.ou$1(0,this.du_1),d=b.com_ibm_vis_engine_internal_ColorNew.cn$1(a[1]+d),c=b.com_ibm_vis_engine_internal_ColorNew.cn$1(a[2]+
c);return[a[0],d,c]},cloneColor:function(){var a=new b.com_ibm_vis_engine_internal_ColorNew(this.red,this.ge_1,this.blue,this.ah_1);a.hue=this.hue;a.so_3=this.so_3;a.ls_1=this.ls_1;a.vu_1=this.vu_1;a.dh_1=this.dh_1;a.do_2=this.do_2;a.ds_1=this.ds_1;a.du_1=this.du_1;a.nL_1=this.nL_1;return a},combineWithColor:function(a){var b=this.cloneColor();if(a){var c=a.ah_1,e=a.red,g=a.ge_1,k=a.blue,s=a.hue,f=a.so_3,u=a.ls_1,I=a.vu_1,h=a.dh_1,l=a.do_2,m=a.ds_1;a=a.du_1;c==c&&b.setAlpha(c);e==e&&b.setRed(e);g==
g&&b.setGreen(g);k==k&&b.setBlue(k);s==s&&b.setHue(s);f==f&&b.setSaturation(f);u==u&&b.setLightness(u);I==I&&b.setValue(I);h==h&&b.setdAlpha(h);l==l&&b.setdSaturation(l);m==m&&b.setdLightness(m);a==a&&b.setdValue(a)}return b},interpolateWithColor:function(a,d){var c=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.red,a.red,d,!0),e=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.ge_1,a.ge_1,d,!0),g=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.blue,a.blue,d,!0),k=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.hue,
a.hue,d,!1),s=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.so_3,a.so_3,d,!1),f=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.ls_1,a.ls_1,d,!1),u=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.vu_1,a.vu_1,d,!1),I=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.dh_1,a.dh_1,d,!1),h=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.ds_1,a.ds_1,d,!1),l=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.do_2,a.do_2,d,!1),m=b.com_ibm_vis_engine_internal_ColorNew.gn$1(this.du_1,a.du_1,d,!1),p=this.ah_1,
q=a.ah_1,r=NaN;if(p==p||q==q)p!=p&&(p=1),q!=q&&(q=1),r=b.com_ibm_vis_engine_internal_ColorNew.gn$1(p,q,d,!1);c=b.com_ibm_vis_engine_internal_ColorUtil.normalize(c);e=b.com_ibm_vis_engine_internal_ColorUtil.normalize(e);g=b.com_ibm_vis_engine_internal_ColorUtil.normalize(g);r=b.com_ibm_vis_engine_internal_ColorUtil.normalize(r);c=new b.com_ibm_vis_engine_internal_ColorNew(c,e,g,r);c.setdAlpha(I);c.setdLightness(h);c.setdSaturation(l);c.setdValue(m);c.setHue(k);c.setLightness(f);c.setSaturation(s);
c.setValue(u);return c},fadeAlpha:function(a){var d=this.getRGBA();return new b.com_ibm_vis_engine_internal_ColorNew(d[0],d[1],d[2],d[3]*a)},createSerializableComposite:function(){var a=this.getRGBA(),d=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);d.addDouble("r",a[0]);d.addDouble("g",a[1]);d.addDouble("b",a[2]);d.addDouble("a",a[3]);return d},populateFromSerialized:function(a){this.setRed(a.getNodeById("r").asPrimitive().getNumberValue$1(0));this.setGreen(a.getNodeById("g").asPrimitive().getNumberValue$1(0));
this.setBlue(a.getNodeById("b").asPrimitive().getNumberValue$1(0));this.setAlpha(a.getNodeById("a").asPrimitive().getNumberValue$1(1));return this}});b.com_ibm_vis_engine_internal_ColorNew.se$1=function(a){a.ie_1=b.com_ibm_vis_engine_internal_ColorNew.ce_1++;3E4<b.com_ibm_vis_engine_internal_ColorNew.ce_1&&(b.com_ibm_vis_engine_internal_ColorNew.ce_1=101)};b.com_ibm_vis_engine_internal_ColorNew.cn$1=function(a){return 0<=a&&1>=a?a:0>a?0:1<a?1:NaN};b.com_ibm_vis_engine_internal_ColorNew.cg$1=function(a){if(0<=
a&&255>=a||a!=a)return a;throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Color parameter outside of expected range: 0\x3c\x3dRGB\x3c\x3d255");};b.com_ibm_vis_engine_internal_ColorNew.cg$2=function(a){return-1<=a&&1>=a?a:-1>a?-1:a!=a?a:1};b.com_ibm_vis_engine_internal_ColorNew.ou$1=function(a,b){return b==b?b:a};b.com_ibm_vis_engine_internal_ColorNew.hg$1=function(a,b,c){0>c&&(c+=1);1<c&&--c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a};b.com_ibm_vis_engine_internal_ColorNew.gn$1=
function(a,d,c,e){var g=0;a==a&&d==d?(g=b.com_ibm_vis_engine_internal_ColorNew.it$1(a,d,c),g=e?Math.round(g):Math.round(100*g)/100):g=a!=a?d:a;return g};b.com_ibm_vis_engine_internal_ColorNew.it$1=function(a,b,c){return a*(1-c)+b*c};b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_ColorNew(0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_ColorNew.ce_1=1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_ColorNew.RED=
"r";b.com_ibm_vis_engine_internal_ColorNew.GREEN="g";b.com_ibm_vis_engine_internal_ColorNew.BLUE="b";b.com_ibm_vis_engine_internal_ColorNew.ALPHA="a";b.com_ibm_vis_engine_internal_ColorNew.VALUE="v";b.com_ibm_vis_engine_internal_ColorNew.LIGHTNESS="l";b.com_ibm_vis_engine_internal_ColorNew.SATURATION="s";b.com_ibm_vis_engine_internal_ColorNew.HUE="h";b.com_ibm_vis_engine_internal_ColorNew.D_ALPHA="dAlpha";b.com_ibm_vis_engine_internal_ColorNew.D_LIGHTNESS="dLightness";b.com_ibm_vis_engine_internal_ColorNew.D_SATURATION=
b.com_ibm_vis_internal_SpecConstants.DSATURATION;b.com_ibm_vis_engine_internal_ColorNew.D_VALUE="dValue"});b.com_ibm_vis_engine_internal_ColorUtil=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_ColorUtil.registerDefaultColors=function(a){a.addStringColor(b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT,"transparent");for(var d=0;d<b.com_ibm_vis_engine_internal_ColorUtil.DE_1.length;++d)a.addStringColor(b.com_ibm_vis_engine_internal_ColorUtil.DR_1[d],b.com_ibm_vis_engine_internal_ColorUtil.DE_1[d])};
b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor=function(a,d,c){if(!a&&!d)return null;if(!a){var e=d.getRGBA();return new b.com_ibm_vis_engine_internal_ColorNew(e[0],e[1],e[2],b.com_ibm_vis_engine_internal_ColorUtil.normalize(b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(e[3],0,c)))}if(!d)return e=a.getRGBA(),new b.com_ibm_vis_engine_internal_ColorNew(e[0],e[1],e[2],b.com_ibm_vis_engine_internal_ColorUtil.normalize(b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(e[3],
0,c)));e=a.getRGBA();d=d.getRGBA();if(0>=e[3]&&0>=d[3])return a;a=b.com_ibm_vis_engine_internal_ColorUtil.normalize(b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(e[0],d[0],c));var g=b.com_ibm_vis_engine_internal_ColorUtil.normalize(b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(e[1],d[1],c)),k=b.com_ibm_vis_engine_internal_ColorUtil.normalize(b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(e[2],d[2],c));c=b.com_ibm_vis_engine_internal_ColorUtil.normalize(b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(e[3],
d[3],c));return new b.com_ibm_vis_engine_internal_ColorNew(a,g,k,c)};b.com_ibm_vis_engine_internal_ColorUtil.normalize=function(a){a=Math.min(a,255);return a=Math.max(a,0)};b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble=function(a,b,c){return a+c*(b-a)};b.com_ibm_vis_engine_internal_ColorUtil.createColorFromColorSpec=function(a){if(a){var d=a.getCachedObject();if(d)return d;d=new b.com_ibm_vis_engine_internal_ColorNew(b.com_ibm_vis_engine_internal_ColorUtil.cl$1(a.r),b.com_ibm_vis_engine_internal_ColorUtil.cl$1(a.g),
b.com_ibm_vis_engine_internal_ColorUtil.cl$1(a.b),b.com_ibm_vis_engine_internal_ColorUtil.cl$1(a.a));null!=a.h&&d.setHue(a.h);null!=a.s&&d.setSaturation(a.s);null!=a.l&&d.setLightness(a.l);null!=a.v&&d.setValue(a.v);null!=a.dAlpha&&d.setdAlpha(a.dAlpha);null!=a.dSaturation&&d.setdSaturation(a.dSaturation);null!=a.dValue&&d.setdValue(a.dValue);null!=a.dLightness&&d.setdLightness(a.dLightness);a.setCachedObject(d);return d}return null};b.com_ibm_vis_engine_internal_ColorUtil.createColorFromString=function(a){var d;
if(null==a)return null;var c=b.com_ibm_vis_engine_internal_ColorCache.getColorCache();d=c.getStringColor(a);d||((d=a.CPVISEngineStartsWith("#")?b.com_ibm_vis_engine_internal_ColorUtil.cd$1(a):a.toLowerCase().CPVISEngineStartsWith("rgb(")||a.toLowerCase().CPVISEngineStartsWith("rgba(")?b.com_ibm_vis_engine_internal_ColorUtil.cn$2(a):b.com_ibm_vis_engine_internal_ColorUtil.ga$1(a.toLowerCase()))?c.addStringColor(d,a):d=b.com_ibm_vis_engine_internal_ColorUtil.createDefaultColor());return d};b.com_ibm_vis_engine_internal_ColorUtil.createDefaultColor=
function(){return b.com_ibm_vis_engine_internal_ColorUtil.DO_1};b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor=function(){return b.com_ibm_vis_engine_internal_ColorUtil.DO_5};b.com_ibm_vis_engine_internal_ColorUtil.getDefaultFillColor=function(){return b.com_ibm_vis_engine_internal_ColorUtil.DO_2};b.com_ibm_vis_engine_internal_ColorUtil.getDefaultGlowColor=function(){return b.com_ibm_vis_engine_internal_ColorUtil.DO_3};b.com_ibm_vis_engine_internal_ColorUtil.getDefaultShadowColor=function(){return b.com_ibm_vis_engine_internal_ColorUtil.DO_4};
b.com_ibm_vis_engine_internal_ColorUtil.getTransparentColor=function(){return b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT};b.com_ibm_vis_engine_internal_ColorUtil.createColor=function(){return new b.com_ibm_vis_engine_internal_ColorNew(NaN,NaN,NaN,NaN)};b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGBA=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_ColorNew(a,d,c,e)};b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGB=function(a,d,c){if(a==a&&d==d&&c==c){var e=
a|d<<8|c<<16,g=b.com_ibm_vis_engine_internal_ColorCache.getColorCache(),k=g.getRGBColor(e);if(k)return k;k=b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGBA(a,d,c,NaN);g.addRGBColor(k,e);return k}return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGBA(a,d,c,NaN)};b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor=function(a,d){if(!d)return a;var c=b.com_ibm_vis_engine_internal_ColorCache.getColorCache(),e=a.ie_1<<16|d.ie_1,g=c.getCombinedColor(e);g||(g=d.combineWithColor(a),
c.addCombinedColor(g,e));return g};b.com_ibm_vis_engine_internal_ColorUtil.cl$1=function(a){return null==a?NaN:a};b.com_ibm_vis_engine_internal_ColorUtil.parseHex=function(a,d,c){a=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(a.substring(d,d+(c?1:2)),16);return null==a?-1:c?17*a:a};b.com_ibm_vis_engine_internal_ColorUtil.cd$1=function(a){var d=a.length,c=0,e=0,g=0,k=NaN;if(4==d)c=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,1,!0),e=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,
2,!0),g=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,3,!0);else if(5==d)c=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,1,!0),e=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,2,!0),g=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,3,!0),k=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,4,!0)/255;else if(7==d)c=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,1,!1),e=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,3,!1),g=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,
5,!1);else if(9==d)c=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,1,!1),e=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,3,!1),g=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,5,!1),k=b.com_ibm_vis_engine_internal_ColorUtil.parseHex(a,7,!1)/255;else return null;return 0>c||0>e||0>g||0>k?null:b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGBA(c,e,g,k)};b.com_ibm_vis_engine_internal_ColorUtil.cn$2=function(a){a=a.substring(a.indexOf("(")+1,a.indexOf(")")).split(",");if(3>a.length||
4<a.length)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a[0]),c=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a[1]),e=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a[2]),g=1;4==a.length&&(g=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a[3]));return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGBA(d,c,e,g)};b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor=function(a){var d;null!=a&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?
d=b.com_ibm_vis_engine_internal_ColorUtil.createColorFromString(a):(d=b.com_ibm_vis_engine_internal_ColorUtil.createColorFromColorSpec(a),d.isEmpty()&&(d=b.com_ibm_vis_engine_internal_ColorUtil.createDefaultColor())));return d};b.com_ibm_vis_engine_internal_ColorUtil.gr$1=function(){b.com_ibm_vis_engine_internal_ColorUtil.ci_1&&(b.com_ibm_vis_engine_internal_ColorUtil.CR_1=new b.com_ibm_rave_codegenerator_util_Map,b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("aliceblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(240,
248,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("antiquewhite",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(250,235,215)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("aqua",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,255,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("aquamarine",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(127,255,212)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("azure",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(240,255,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("beige",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(245,245,220)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("bisque",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,228,196)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("black",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,0,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("blanchedalmond",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,235,205)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("blue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,
0,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("blueviolet",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(138,43,226)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("brown",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(165,42,42)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("burlywood",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(222,184,135)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("cadetblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(95,158,160)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("chartreuse",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(127,255,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("chocolate",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(210,105,30)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("coral",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,127,80)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("cornflowerblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(100,149,237)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("cornsilk",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,
248,220)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("crimson",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(220,20,60)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("cyan",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,255,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,0,139)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkcyan",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,139,139)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkgoldenrod",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(184,134,11)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkgray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(169,169,169)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkgreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,100,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkgrey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(169,169,169)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkkhaki",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(189,
183,107)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkmagenta",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(139,0,139)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkolivegreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(85,107,47)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkorange",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,140,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkorchid",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(153,50,204)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkred",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(139,0,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darksalmon",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(233,150,122)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkseagreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(143,188,143)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkslateblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(72,61,139)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkslategray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(47,
79,79)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkslategrey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(47,79,79)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkturquoise",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,206,209)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("darkviolet",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(148,0,211)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("deeppink",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,20,147)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("deepskyblue",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,191,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("dimgray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(105,105,105)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("dimgrey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(105,105,105)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("dodgerblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(30,144,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("firebrick",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(178,
34,34)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("floralwhite",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,250,240)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("forestgreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(34,139,34)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("fuchsia",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,0,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("gainsboro",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(220,220,220)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("ghostwhite",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(248,248,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("gold",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,215,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("goldenrod",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(218,165,32)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("gray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(128,128,128)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("grey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(128,
128,128)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("green",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,128,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("greenyellow",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(173,255,47)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("honeydew",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(240,255,240)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("hotpink",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,105,180)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("indianred",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(205,92,92)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("indigo",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(75,0,130)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("ivory",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,255,240)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("khaki",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(240,230,140)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lavender",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(230,
230,250)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lavenderblush",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,240,245)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lawngreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(124,252,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lemonchiffon",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,250,205)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(173,216,230)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightcoral",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(240,128,128)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightcyan",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(224,255,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightgoldenrodyellow",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(250,250,210)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightgray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(211,211,211)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightgreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(144,
238,144)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightgrey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(211,211,211)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightpink",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,182,193)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightsalmon",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,160,122)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightseagreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(32,178,170)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightskyblue",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(135,206,250)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightslategray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(119,136,153)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightslategrey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(119,136,153)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightsteelblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(176,196,222)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lightyellow",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,
255,224)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("lime",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,255,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("limegreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(50,205,50)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("linen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(250,240,230)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("magenta",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,0,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("maroon",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(128,0,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumaquamarine",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(102,205,170)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,0,205)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumorchid",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(186,85,211)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumpurple",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(147,
112,219)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumseagreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(60,179,113)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumslateblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(123,104,238)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumspringgreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,250,154)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumturquoise",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(72,
209,204)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mediumvioletred",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(199,21,133)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("midnightblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(25,25,112)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mintcream",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(245,255,250)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("mistyrose",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,228,225)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("moccasin",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,228,181)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("navajowhite",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,222,173)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("navy",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,0,128)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("oldlace",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(253,245,230)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("olive",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(128,
128,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("olivedrab",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(107,142,35)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("orange",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,165,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("orangered",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,69,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("orchid",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(218,112,214)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("palegoldenrod",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(238,232,170)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("palegreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(152,251,152)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("paleturquoise",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(175,238,238)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("palevioletred",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(219,112,147)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("papayawhip",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,
239,213)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("peachpuff",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,218,185)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("peru",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(205,133,63)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("pink",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,192,203)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("plum",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(221,160,221)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("powderblue",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(176,224,230)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("purple",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(128,0,128)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("red",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,0,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("rosybrown",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(188,143,143)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("royalblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(65,
105,225)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("saddlebrown",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(139,69,19)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("salmon",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(250,128,114)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("sandybrown",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(244,164,96)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("seagreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(46,139,87)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("seashell",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,245,238)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("sienna",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(160,82,45)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("silver",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(192,192,192)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("skyblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(135,206,235)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("slateblue",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(106,
90,205)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("slategray",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(112,128,144)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("slategrey",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(112,128,144)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("snow",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,250,250)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("springgreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,255,127)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("steelblue",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(70,130,180)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("tan",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(210,180,140)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("teal",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(0,128,128)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("thistle",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(216,191,216)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("tomato",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,
99,71)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("turquoise",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(64,224,208)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("violet",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(238,130,238)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("wheat",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(245,222,179)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("white",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,255,255)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("whitesmoke",
b.com_ibm_vis_engine_internal_ColorUtil.cG$1(245,245,245)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("yellow",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(255,255,0)),b.com_ibm_vis_engine_internal_ColorUtil.CR_1.put("yellowgreen",b.com_ibm_vis_engine_internal_ColorUtil.cG$1(154,205,50)),b.com_ibm_vis_engine_internal_ColorUtil.ci_1=!1);return b.com_ibm_vis_engine_internal_ColorUtil.CR_1};b.com_ibm_vis_engine_internal_ColorUtil.cG$1=function(a,b,c){return a|b<<8|c<<16};b.com_ibm_vis_engine_internal_ColorUtil.getCSSColor=
function(a){var d=b.com_ibm_vis_engine_internal_ColorCache.getColorCache(),c=d.getStringColor(a);c||(c=b.com_ibm_vis_engine_internal_ColorUtil.ga$1(a),d.addStringColor(c,a));return c};b.com_ibm_vis_engine_internal_ColorUtil.ga$1=function(a){var d;"transparent"==a.toLowerCase()?d=b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT:(a=b.com_ibm_vis_engine_internal_ColorUtil.gr$1().get(a.toLowerCase()),null!=a&&(d=b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGB(a&255,(a&65280)>>8,(a&16711680)>>
16)));return d};b.com_ibm_vis_engine_internal_ColorUtil.getDefaultColors=function(){return b.com_ibm_vis_engine_internal_ColorUtil.DR_1};b.com_ibm_vis_engine_internal_ColorUtil.validateColorName=function(a){if(null==a)throw new b.com_ibm_vis_exceptions_internal_EngineException("Color name string can not be null",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);if(""!=a&&!b.com_ibm_vis_engine_internal_ColorUtil.gr$1().containsKey(a.toLowerCase()))throw new b.com_ibm_vis_exceptions_internal_EngineException("Color name string "+
a+" is not valid",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);};b.com_ibm_vis_engine_internal_ColorUtil.validateRGB=function(a,d,c){if(null!=a&&(0>a||255<a)||null!=d&&(0>d||255<d)||null!=c&&(0>c||255<c)){var e="",e=null!=a?e+a+", ":e+"null ,",e=null!=d?e+d+", ":e+"null ,";throw new b.com_ibm_vis_exceptions_internal_EngineException("Color parameter values "+(null!=c?e+c:e+"null")+" outside of expected range: 0\x3c\x3dRGB\x3c\x3d255",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);
}};b.com_ibm_vis_engine_internal_ColorUtil.validateHSL=function(a,d,c){if(null!=a&&(0>a||1<a)||null!=d&&(0>d||1<d)||null!=c&&(0>c||1<c)){var e="",e=null!=a?e+a+", ":e+"null ,",e=null!=d?e+d+", ":e+"null ,";throw new b.com_ibm_vis_exceptions_internal_EngineException("Color parameter values"+(null!=c?e+c:e+"null")+" outside of expected range: 0.0\x3c\x3dHSL\x3c\x3d1.0",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);}};b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange=function(a){if(null!=
a&&(0>a||1<a))throw new b.com_ibm_vis_exceptions_internal_EngineException("Color parameter value"+a+" outside of expected range: 0.0\x3c\x3dvalue\x3c\x3d1.0",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);};b.com_ibm_vis_engine_internal_ColorUtil.validateColorCSSString=function(a){if(null==a)throw new b.com_ibm_vis_exceptions_internal_EngineException('Color css RGB string can not be null. Valid formats are - " rgb(int r, int g, int b)", "rgba(int r, int g, int b, int a)"',b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);
if(0!=a.length){var d=a.substring(a.indexOf("(")+1,a.indexOf(")")).split(",");if(3>d.length||4<d.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Color css RGB string "+a+' is of invalid length. Valid formats are - " rgb(int r, int g, int b)", "rgba(int r, int g, int b, int a)"',b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);a=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(d[0]);var c=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(d[1]),e=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(d[2]);
b.com_ibm_vis_engine_internal_ColorUtil.validateRGB(a,c,e);4==d.length&&b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange(b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(d[3]))}};b.com_ibm_vis_engine_internal_ColorUtil.validateColorHexString=function(a){if(null==a||0<a.length&&35!=a.charCodeAt(0))throw new b.com_ibm_vis_exceptions_internal_EngineException('Color hex string can not be null and should start with #. Valid formats are - "#RRGGBBAA", "#RRGGBB", "#RGBA", "#RGB".',
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);if(0!=a.length){var d=b.com_ibm_vis_engine_internal_ColorUtil.cd$1(a);if(!d)throw new b.com_ibm_vis_exceptions_internal_EngineException("Color hex string - "+a+' is of invalid length or malformed. Valid formats are - "#RRGGBBAA", "#RRGGBB", "#RGBA", "#RGB".',b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);b.com_ibm_vis_engine_internal_ColorUtil.validateRGB(d.getRGBA()[0],d.getRGBA()[1],d.getRGBA()[2]);b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange(d.getRGBA()[3])}};
b.com_ibm_vis_engine_internal_ColorUtil.validateColorObject=function(a){if(!a)throw new b.com_ibm_vis_exceptions_internal_EngineException("Color object passed is can not be null. valid values are - 0 \x3c\x3d r,g,b values \x3d\x3c 255 0.0 \x3c\x3d h,s,l,a \x3d\x3c 1.0, \n -1.0 \x3c\x3d dValue,dSaturation,dLightness,dAlpha \x3d\x3c 1.0 ",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);var d=a.a,c=a.h,e=a.s,g=a.l,k=a.v,s=a.dAlpha,f=a[b.com_ibm_vis_engine_internal_ColorNew.D_SATURATION],
u=a.dLightness,I=a.dValue;b.com_ibm_vis_engine_internal_ColorUtil.validateRGB(a.r,a.g,a.b);b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange(d);b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange(k);b.com_ibm_vis_engine_internal_ColorUtil.validateHSL(c,e,g);b.com_ibm_vis_engine_internal_ColorUtil.validateDeltaValue(s);b.com_ibm_vis_engine_internal_ColorUtil.validateDeltaValue(f);b.com_ibm_vis_engine_internal_ColorUtil.validateDeltaValue(u);b.com_ibm_vis_engine_internal_ColorUtil.validateDeltaValue(I)};
b.com_ibm_vis_engine_internal_ColorUtil.validateColorString=function(a){if(null==a)throw new b.com_ibm_vis_exceptions_internal_EngineException("Color object passed can not be null. valid values are - 0 \x3c\x3d r,g,b values \x3d\x3c 255 0.0 \x3c\x3d a \x3d\x3c 1.0",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);a.CPVISEngineStartsWith("#")?b.com_ibm_vis_engine_internal_ColorUtil.validateColorHexString(a):a.toLowerCase().CPVISEngineStartsWith("rgb(")||a.toLowerCase().CPVISEngineStartsWith("rgba(")?
b.com_ibm_vis_engine_internal_ColorUtil.validateColorCSSString(a):b.com_ibm_vis_engine_internal_ColorUtil.validateColorName(a)};b.com_ibm_vis_engine_internal_ColorUtil.validateDeltaValue=function(a){if(null!=a&&(-1>a||1<a))throw new b.com_ibm_vis_exceptions_internal_EngineException("Color object passed"+a+" is invalid. valid values are -1.0 \x3c\x3d dValue,dSaturation,dLightness,dAlpha \x3d\x3c 1.0 ",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);};b.com_ibm_vis_engine_internal_ColorUtil.temperature=
function(a){var d=9E3*(1-a)+500;a=[[3.24071,-.969258,.0556352],[-1.53726,1.87599,-.203996],[-.498571,.0415557,1.05707]];var c,e;c=4E3>=d?27475E4/(d*d*d)-985980/(d*d)+1174.44/d+.145986:7E3>=d?-4607E6/(d*d*d)+2967800/(d*d)+99.11/d+.244063:-20064E5/(d*d*d)+1901800/(d*d)+247.48/d+.23704;e=-3*c*c+2.87*c-.275;d=c/e;c=(1-c-e)/e;e=0;for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([3],0),k=0;3>k;++k)g[k]=d*a[0][k]+1*a[1][k]+c*a[2][k],g[k]>e&&(e=g[k]);g[0]=255*Math.min(Math.max(.1,g[0]/e),.9);g[1]=
255*Math.min(Math.max(.1,g[1]/e),.9);g[2]=255*Math.min(Math.max(.1,g[2]/e),.9);return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromRGB(Math.floor(g[0]),Math.floor(g[1]),Math.floor(g[2]))};b.com_ibm_vis_engine_internal_ColorUtil.DEFAULT_FILL_COLOR_NAME="#aaa";b.com_ibm_vis_engine_internal_ColorUtil.DEFAULT_STROKE_FILL_COLOR_NAME="#000";b.com_ibm_vis_engine_internal_ColorUtil.ci_1=!0;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_ColorUtil.DE_1="#0089CE #7CBC4A #D8C625 #F79428 #D6332F #A83293 #2A58A8 #33A0DA #97C66D #E2DE59 #FAA753 #E46243 #B45DA4 #5C72B7 #69AFE0 #AFD78F #EBEC86 #FCBC7B #EA8768 #C282B8 #717CAD".split(" ");
b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT=new b.com_ibm_vis_engine_internal_ColorNew(0,0,0,0);b.com_ibm_vis_engine_internal_ColorUtil.DO_2=new b.com_ibm_vis_engine_internal_ColorNew(170,170,170,1);b.com_ibm_vis_engine_internal_ColorUtil.DO_5=new b.com_ibm_vis_engine_internal_ColorNew(0,0,0,1);b.com_ibm_vis_engine_internal_ColorUtil.DO_1=b.com_ibm_vis_engine_internal_ColorUtil.DO_5;b.com_ibm_vis_engine_internal_ColorUtil.DO_4=b.com_ibm_vis_engine_internal_ColorUtil.DO_5;b.com_ibm_vis_engine_internal_ColorUtil.DO_3=
new b.com_ibm_vis_engine_internal_ColorNew(255,255,0,1);b.com_ibm_vis_engine_internal_ColorUtil.DR_1=Array(b.com_ibm_vis_engine_internal_ColorUtil.DE_1.length);for(var a=0;a<b.com_ibm_vis_engine_internal_ColorUtil.DE_1.length;++a)b.com_ibm_vis_engine_internal_ColorUtil.DR_1[a]=b.com_ibm_vis_engine_internal_ColorUtil.cd$1(b.com_ibm_vis_engine_internal_ColorUtil.DE_1[a])});b.com_ibm_vis_engine_internal_nativeImpl_render_SVGExt=function(){var a={};if("svg"==z.renderer){var d=function(a,b){return W.doc.createElementNS?
W.doc.createElementNS(a,b):W.doc.createElement(b)},c=z.svg.xmlns.svg,e=z.svg.Shape.prototype._setFillObject;S.extend(z.svg.Shape,{_setFillObject:function(a,b){var d=e.call(this,a,b);null!=a&&"object"==typeof a&&"type"in a&&"pattern"==a.type&&1==this.unMirrorImage&&d.setAttribute("patternTransform","scale(-1,1)");return d},addRenderingOption:function(a,b){this.rawNode.setAttribute(a,b);return this},setEffect:function(d,c){var e;a:{for(e in a)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isEqual(a[e],
d))break a;e=null}if(null==e){var f=this._getParentSurface().defNode;e=this.rawNode;var u=z._base._getUniqueId(),I=this._createFilter(u,d.width,d.height);f.appendChild(I);f=[];d.shadow&&f.push(this._addDropShadow(I,d.shadow));d.glow&&f.push(this._addGlow(I,d.glow,c));f.push("SourceGraphic");f.length&&(f=this._createMerge(f),I.appendChild(f));e.setAttribute("filter","url(#"+u+")");a[u]=d}else this.rawNode.setAttribute("filter","url(#"+e+")")},_createFilter:function(a,b,e){null==b&&(b="150%");null==
e&&(e="150%");var f=d(c,"filter");f.setAttribute("id",a);f.setAttribute("width",b);f.setAttribute("height",e);return f},_createMerge:function(a){for(var b=d(c,"feMerge"),e=0;e<a.length;e++){var f=d(c,"feMergeNode");f.setAttribute("in",a[e]);b.appendChild(f)}return b},_addDropShadow:function(a,b){var e=d(c,"feGaussianBlur");e.setAttribute("in","SourceAlpha");e.setAttribute("stdDeviation",b.stdDev);a.appendChild(e);e=d(c,"feOffset");e.setAttribute("result","shadow");e.setAttribute("dx",b.dx);e.setAttribute("dy",
b.dy);a.appendChild(e);return"shadow"},_addGlow:function(a,e,s){a.setAttribute("height","150%");a.setAttribute("y","-25%");var f=e.stdDev,u=0;"circle"==s.type?u=2*s.r/2+1:"rect"==s.type?u=Math.min(s.width,s.height)/2+1:"path"==s.type&&(u=6);0<u&&(f=Math.min(f,u));e=e.color;"undefined"==typeof e&&(e=b.com_ibm_vis_engine_internal_ColorUtil.createDefaultGlowColor());e=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(e).getRGBA();s=d(c,"feFlood");s.setAttribute("flood-opacity",e[3]);s.setAttribute("flood-color",
"rgb("+e[0]+","+e[1]+","+e[2]+")");a.appendChild(s);e=d(c,"feComposite");e.setAttribute("in2","SourceAlpha");e.setAttribute("operator","in");a.appendChild(e);e=d(c,"feGaussianBlur");e.setAttribute("stdDeviation",f);a.appendChild(e);f=d(c,"feComponentTransfer");e=d(c,"feFuncA");f.setAttribute("result","transfer");e.setAttribute("type","linear");e.setAttribute("slope","2");e.setAttribute("intercept","0");f.appendChild(e);a.appendChild(f);return"transfer"}})}};b.com_ibm_vis_engine_internal_ColorCache=
b.com_ibm_init_declare({dispose:function(){this.cr$1();this.cr$2();this.ca$4();this.ca$2();this.ca$3();this.ca$1();b.com_ibm_vis_engine_internal_ColorCache.de_2=!1},getRGBColor:function(a){return b.com_ibm_vis_engine_internal_ColorCache.ra_1.get(a)},addRGBColor:function(a,d){a&&this.put(b.com_ibm_vis_engine_internal_ColorCache.ra_1,d,a)},cr$1:function(){b.com_ibm_vis_engine_internal_ColorCache.ra_1.clear()},getCombinedColor:function(a){return b.com_ibm_vis_engine_internal_ColorCache.ca_2.get(a)},
addCombinedColor:function(a,d){a&&this.put(b.com_ibm_vis_engine_internal_ColorCache.ca_2,d,a)},cr$2:function(){b.com_ibm_vis_engine_internal_ColorCache.ca_2.clear()},getFill:function(a){return b.com_ibm_vis_engine_internal_ColorCache.fa_1.get(a)},addFill:function(a,d){a&&this.put(b.com_ibm_vis_engine_internal_ColorCache.fa_1,d,a)},ca$1:function(){b.com_ibm_vis_engine_internal_ColorCache.fa_1.clear()},getGradientColor:function(a){return b.com_ibm_vis_engine_internal_ColorCache.ga_1.get(a)},addGradientColor:function(a,
d){a&&this.put(b.com_ibm_vis_engine_internal_ColorCache.ga_1,d,a)},ca$2:function(){b.com_ibm_vis_engine_internal_ColorCache.ga_1.clear()},getColorGradient:function(a){return b.com_ibm_vis_engine_internal_ColorCache.ca_1.get(a)},addColorGradient:function(a,d){a&&this.put(b.com_ibm_vis_engine_internal_ColorCache.ca_1,d,a)},ca$3:function(){b.com_ibm_vis_engine_internal_ColorCache.ca_1.clear()},getStringColor:function(a){return b.com_ibm_vis_engine_internal_ColorCache.sa_1.get(a)},addStringColor:function(a,
d){a&&null!=d&&this.put(b.com_ibm_vis_engine_internal_ColorCache.sa_1,d,a)},ca$4:function(){b.com_ibm_vis_engine_internal_ColorCache.sa_1.clear()},put:function(a,d,c){if(a.size()>b.com_ibm_vis_engine_internal_ColorCache.MZ_1){for(var e=a.keySet().iterator(),g=new b.com_ibm_rave_codegenerator_util_List,k=0;k<b.com_ibm_vis_engine_internal_ColorCache.CZ_1;++k)g.add(e.next());e=0;g=g.arrayIterator();for(k=g.length;e<k;++e)a.remove(g[e])}a.put(d,c)}});b.com_ibm_vis_engine_internal_ColorCache.getColorCache=
function(){b.com_ibm_vis_engine_internal_ColorCache.de_2||(b.com_ibm_vis_engine_internal_ColorCache.ch_1||(b.com_ibm_vis_engine_internal_ColorCache.ch_1=new b.com_ibm_vis_engine_internal_ColorCache,b.com_ibm_vis_engine_internal_ColorCache.ra_1||(b.com_ibm_vis_engine_internal_ColorCache.ra_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1)),b.com_ibm_vis_engine_internal_ColorCache.ca_2||(b.com_ibm_vis_engine_internal_ColorCache.ca_2=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1)),
b.com_ibm_vis_engine_internal_ColorCache.ga_1||(b.com_ibm_vis_engine_internal_ColorCache.ga_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1)),b.com_ibm_vis_engine_internal_ColorCache.ca_1||(b.com_ibm_vis_engine_internal_ColorCache.ca_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1)),b.com_ibm_vis_engine_internal_ColorCache.fa_1||(b.com_ibm_vis_engine_internal_ColorCache.fa_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1)),
b.com_ibm_vis_engine_internal_ColorCache.sa_1||(b.com_ibm_vis_engine_internal_ColorCache.sa_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1))),b.com_ibm_vis_engine_internal_ColorUtil.registerDefaultColors(b.com_ibm_vis_engine_internal_ColorCache.ch_1),b.com_ibm_vis_engine_internal_ColorCache.de_2=!0);return b.com_ibm_vis_engine_internal_ColorCache.ch_1};b.com_ibm_vis_engine_internal_ColorCache.MZ_1=500;b.com_ibm_vis_engine_internal_ColorCache.CZ_1=100;
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_ColorCache.ch_1=new b.com_ibm_vis_engine_internal_ColorCache;b.com_ibm_vis_engine_internal_ColorCache.de_2=!1;b.com_ibm_vis_engine_internal_ColorCache.ra_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1);b.com_ibm_vis_engine_internal_ColorCache.ca_2=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1);b.com_ibm_vis_engine_internal_ColorCache.ga_1=
new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1);b.com_ibm_vis_engine_internal_ColorCache.ca_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1);b.com_ibm_vis_engine_internal_ColorCache.fa_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1);b.com_ibm_vis_engine_internal_ColorCache.sa_1=new b.com_ibm_rave_codegenerator_util_LinkedMap(b.com_ibm_vis_engine_internal_ColorCache.MZ_1)});
b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder=b.com_ibm_init_declare({constructor:function(){this.te_9=new b.com_ibm_rave_codegenerator_util_List;this.xs_1=new b.com_ibm_rave_codegenerator_util_List;this.ys_1=new b.com_ibm_rave_codegenerator_util_List},addSegment:function(a,b,c){this.te_9.add(a);this.xs_1.add(b);this.ys_1.add(c)},toString:function(){for(var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder,d=0;d<this.te_9.size();++d){var c=this.te_9.get(d);a.appendChar(c);var c=this.xs_1.get(d),
e=this.ys_1.get(d);c==c&&a.append(b.com_ibm_vis_engine_internal_util_MathUtil.r3(c));e==e&&(a.append(","),a.append(b.com_ibm_vis_engine_internal_util_MathUtil.r3(e)))}return a.toString()},ge$11:function(){for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.te_9.size()],0),d=0,c=0,e=this.te_9.arrayIterator(),g=e.length;c<g;++c){var k=e[c];null==k&&(k=b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.CO_1);a[d]=k;d++}return a},makePolyGeom:function(){return new b.com_ibm_vis_engine_internal_struct_PolyGeom(this.xs_1.toArray(),
this.ys_1.toArray(),this.ge$11())},addPair:function(a,d){this.te_9.add(b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.CO_1);this.xs_1.add(a);this.ys_1.add(d)}});b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.makeFromPathString=function(a){for(var d=new b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder,c="",e=0,g=0;g<a.length;++g){var k=a.charCodeAt(g);b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.ia$1(k)?(0<c.length&&(b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.pn$1(e,
c,d),c=""),90==k&&d.addSegment(k,NaN,NaN),e=k):c+=String.fromCharCode(k)}0<c.length&&b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.pn$1(e,c,d);return d};b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.pn$1=function(a,d,c){d=d.split(",");for(var e=!0,g=0;g<d.length;++g){var k=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(d[g]),s=NaN;g+1<d.length&&(s=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(d[++g]));e?c.addSegment(a,k,s):c.addPair(k,s);e=!1}};b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.ia$1=
function(a){return 77==a||76==a||67==a||81==a||90==a};b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.CO_1=44;b.com_ibm_vis_engine_internal_struct_PolyGeom=b.com_ibm_init_declare({ce_19:!1,constructor:function(a,b,c){this.x=a;this.y=b;this.te_10=c;a=!1;for(b=0;b<c.length;++b)if(90==c[b]){a=!0;break}this.ce_19=a},makePath:function(){for(var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder,d=0;d<this.x.length;++d)a.appendChar(this.te_10[d]),90!=this.te_10[d]&&a.append(b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.x[d])+
","+b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.y[d]));return a.toString()},projectToLine:function(a,d,c,e){var g=this.x.length,k=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),s=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);if(a==c&&d==e)for(e=0;e<g;++e)this.x[e]!=this.x[e]||this.y[e]!=this.y[e]?(k[e]=NaN,s[e]=NaN):(k[e]=a,s[e]=d);else if(a==c)for(e=0;e<g;++e)this.x[e]!=this.x[e]||this.y[e]!=this.y[e]?(k[e]=NaN,s[e]=NaN):
(k[e]=a,s[e]=this.y[e]);else if(d==e)for(e=0;e<g;++e)this.x[e]!=this.x[e]||this.y[e]!=this.y[e]?(k[e]=NaN,s[e]=NaN):(k[e]=this.x[e],s[e]=d);else{c-=a;var u=e-d,I=c*c+u*u;for(e=0;e<g;++e)if(this.x[e]!=this.x[e]||this.y[e]!=this.y[e])k[e]=NaN,s[e]=NaN;else{var h=((this.x[e]-a)*c+(this.y[e]-d)*u)/I;k[e]=a+h*c;s[e]=d+h*u}}for(e=0;e<g;++e)f[e]=this.te_10[e];return new b.com_ibm_vis_engine_internal_struct_PolyGeom(k,s,f)},getBounds:function(){var a=this.x.length;if(0==a)return new b.com_ibm_vis_geom_Rect(0,
0,0,0);for(var d=this.x[0],c=this.y[0],e=this.x[0],g=this.y[0],k=1;k<a;++k)90!=this.te_10[k]&&(d=Math.min(d,this.x[k]),c=Math.min(c,this.y[k]),e=Math.max(e,this.x[k]),g=Math.max(g,this.y[k]));return new b.com_ibm_vis_geom_Rect(d,c,e-d,g-c)},isClosed:function(){return this.ce_19},getX:function(){return this.x},getY:function(){return this.y},getTypes:function(){return this.te_10}});b.com_ibm_vis_engine_internal_struct_PolyGeom.makeSegmented=function(a,d,c,e){for(var g=new b.com_ibm_rave_codegenerator_util_List,
k=new b.com_ibm_rave_codegenerator_util_List,s=new b.com_ibm_vis_geom_Point(a[0],d[0]),f=s,u=0;u<a.length;++u){var I=c?c[u]:0==u?77:76,h=new b.com_ibm_vis_geom_Point(a[u],d[u]);90==I&&(h=f);if(77==I)k.add(I),g.add(h),f=h;else if(67==I){var h=a[u-1],l=d[u-1],m=a[u],p=d[u],u=u+1,q=a[u],r=d[u],u=u+1,s=a[u],I=d[u],t=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_struct_PolyGeom.curveTo(h,l,s,I,m,p,q,r,t);h=b.com_ibm_vis_engine_internal_struct_PolyGeom.as$3(g,k,t)}else if(81==
I)h=a[u-1],l=d[u-1],m=a[u],p=d[u],u+=1,s=a[u],I=d[u],t=new b.com_ibm_rave_codegenerator_util_List,b.com_ibm_vis_engine_internal_struct_PolyGeom.quadTo(h,l,s,I,m,p,t),h=b.com_ibm_vis_engine_internal_struct_PolyGeom.as$3(g,k,t);else if(e)for(l=Math.ceil(h.distance(s)/25),t=1;t<l+.5;++t)m=s.interpolateTo(h,t/l),g.add(m),k.add(90==I&&t==l?90:76);else 76==I?(k.add(76),g.add(h)):90==I&&(k.add(90),h=new b.com_ibm_vis_geom_Point(NaN,NaN),g.add(h));s=h}l=g.size();a=b.com_ibm_rave_codegenerator_lang_Array.create([l],
0);d=b.com_ibm_rave_codegenerator_lang_Array.create([l],0);c=b.com_ibm_rave_codegenerator_lang_Array.create([l],0);for(u=0;u<l;++u)h=g.get(u),c[u]=k.get(u),a[u]=h.x,d[u]=h.y;return new b.com_ibm_vis_engine_internal_struct_PolyGeom(a,d,c)};b.com_ibm_vis_engine_internal_struct_PolyGeom.as$3=function(a,d,c){var e=new b.com_ibm_vis_geom_Point(NaN,NaN),g=0;c=c.arrayIterator();for(var k=c.length;g<k;++g)e=c[g],e=new b.com_ibm_vis_geom_Point(e.x[1],e.y[1]),a.add(e),d.add(76);return e};b.com_ibm_vis_engine_internal_struct_PolyGeom.makePolyGeom=
function(a){return b.com_ibm_vis_engine_internal_struct_PathSegmentBuilder.makeFromPathString(a).makePolyGeom()};b.com_ibm_vis_engine_internal_struct_PolyGeom.area=function(a,b){for(var c=0,e=1;e<=a.length;++e)c+=a[e-1]*(e<b.length?b[e]:b[0])-(e<a.length?a[e]:a[0])*b[e-1];return Math.abs(c/2)};b.com_ibm_vis_engine_internal_struct_PolyGeom.centroid=function(a,d){for(var c=0,e=0,g=0,k=0,s=0,f=1;f<=a.length;++f)var u=f<a.length?a[f]:a[0],I=f<d.length?d[f]:d[0],h=a[f-1]*I-u*d[f-1],s=s+h,c=c+(a[f-1]+u)*
h,e=e+(d[f-1]+I)*h,g=g+a[f-1],k=k+d[f-1];return 1E-8>Math.abs(s)?new b.com_ibm_vis_geom_Point(g/a.length,k/d.length):new b.com_ibm_vis_geom_Point(c/s/3,e/s/3)};b.com_ibm_vis_engine_internal_struct_PolyGeom.curveTo=function(a,d,c,e,g,k,s,f,u){var I=b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint(a,d,c,e,g,k),h=b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint(a,d,c,e,s,f);if(.5>=(I!=I||h!=h?0:Math.max(I,h)))a=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(a,d,c,e),u.add(a);else{var I=.125*
a+.375*g+.375*s+.125*c,h=.125*d+.375*k+.375*f+.125*e,l=.5*(a+g),m=.5*(d+k);g=.5*(g+s);k=.5*(k+f);s=.5*(s+c);f=.5*(f+e);var p=.5*(g+s),q=.5*(k+f);b.com_ibm_vis_engine_internal_struct_PolyGeom.curveTo(a,d,I,h,l,m,.5*(l+g),.5*(m+k),u);b.com_ibm_vis_engine_internal_struct_PolyGeom.curveTo(I,h,c,e,p,q,s,f,u)}};b.com_ibm_vis_engine_internal_struct_PolyGeom.quadTo=function(a,d,c,e,g,k,s){if(.5>=b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint(a,d,c,e,g,k))a=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(a,
d,c,e),s.add(a);else{var f=.25*a+.5*g+.25*c,u=.25*d+.5*k+.25*e,I=.5*(g+c),h=.5*(k+e);b.com_ibm_vis_engine_internal_struct_PolyGeom.quadTo(a,d,f,u,.5*(a+g),.5*(d+k),s);b.com_ibm_vis_engine_internal_struct_PolyGeom.quadTo(f,u,c,e,I,h,s)}};b.com_ibm_vis_engine_internal_struct_PolyGeom.FAKE_TYPE=44;b.com_ibm_vis_engine_internal_nativeImpl_render_ClippingMixin=function(){var a=ba.version;1==a.major&&7==a.minor&&function(){function a(b,d){return W.doc.createElementNS?W.doc.createElementNS(b,d):W.doc.createElement(d)}
if("svg"==z.renderer){var c=z.svg,e=0;S.extend(c.Shape,{setClip:function(g){var k=(this.clip=g)?"width"in g?"rect":"cx"in g?"ellipse":"points"in g?"polyline":"d"in g?"path":null:null;if(g&&!k)return this;"polyline"===k&&(g=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(g),g.points=g.points.join(","));var s,f=r.get(this.rawNode,"clip-path");f&&(s=W.doc.getElementById(f.match(/gfx_clip[\d]+/)[0],this.rawNode.parentNode),s.removeChild(s.childNodes[0]));g?(s?(k=a(c.xmlns.svg,k),s.appendChild(k)):
(f="gfx_clip"+ ++e,this.rawNode.setAttribute("clip-path","url(#"+f+")"),s=a(c.xmlns.svg,"clipPath"),k=a(c.xmlns.svg,k),s.appendChild(k),this.rawNode.parentNode.appendChild(s),r.set(s,"id",f)),r.set(k,g)):s&&(this.rawNode.removeAttribute("clip-path"),s.parentNode.removeChild(s));return this}})}}();(function(){"silverlight"==z.renderer&&S.extend(z.silverlight.Shape,{setClip:function(a){this.clip=a;var c=this.rawNode;if(a){var e=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?
"path":null:null;if(a&&!e)return this;var g=!1;null!=this.shape&&"image"==this.shape.type&&(g=!0);if(g)var k=this.getBoundingBox()||{x:0,y:0,width:0,height:0},s="1,0,0,1,"+-k.x+","+-k.y;switch(e){case "rect":c.clip=c.getHost().content.createFromXaml("\x3cRectangleGeometry/\x3e");c.clip.rect=a.x+","+a.y+","+a.width+","+a.height;g&&(c.clip.transform=s);break;case "ellipse":c.clip=c.getHost().content.createFromXaml("\x3cEllipseGeometry/\x3e");c.clip.center=a.cx+","+a.cy;c.clip.radiusX=a.rx;c.clip.radiusY=
a.ry;c.clip.transform="1,0,0,1,"+-k.x+","+-k.y;break;case "polyline":if(2<a.points.length){e=c.getHost().content.createFromXaml("\x3cPathGeometry/\x3e");g=c.getHost().content.createFromXaml("\x3cPathFigure/\x3e");g.StartPoint=a.points[0]+","+a.points[1];for(var f=2;f<=a.points.length-2;f+=2)s=c.getHost().content.createFromXaml("\x3cLineSegment/\x3e"),s.Point=a.points[f]+","+a.points[f+1],g.segments.add(s);e.figures.add(g);e.transform="1,0,0,1,"+-k.x+","+-k.y;c.clip=e}break;case "path":e=c.getHost().content.createFromXaml("\x3cPathGeometry/\x3e");
g=c.getHost().content.createFromXaml("\x3cPathFigure/\x3e");a=a.d.replace(/([a-zA-Z])\s/g,"$1").replace(/\s/g,",");a=b.com_ibm_vis_engine_internal_struct_PolyGeom.makePolyGeom(a);g.StartPoint=a.x[0]+","+a.y[0];for(f=1;f<a.x.length-1;f++)s=c.getHost().content.createFromXaml("\x3cLineSegment/\x3e"),s.Point=a.x[f]+","+a.y[f],g.segments.add(s);e.figures.add(g);e.transform="1,0,0,1,"+-k.x+","+-k.y;c.clip=e}}else c.clip=null;return this}})})()};b.com_ibm_vis_engine_internal_nativeImpl_render_SceneNodeGfxRenderer=
function(){var a=b.com_ibm_vis_widget_Environment._checkAppleDevice(),d=function(){this.isInitialized||(b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.isSilverlight?b.com_ibm_vis_engine_internal_nativeImpl_render_SilverlightExt():b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.isSvg&&b.com_ibm_vis_engine_internal_nativeImpl_render_SVGExt(),b.com_ibm_vis_engine_internal_nativeImpl_render_ClippingMixin(),p.makeParameters=function(a,d){var c=null;if(!d)return S.delegate(a);
var e={};for(c in a)e[c]=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(c in d?d[c]:a[c]);return e},S.extend(L,{_set:function(a,b,d,c){this.r=a|0;this.g=b|0;this.b=d|0;this.a=null==c?1:c},toString:function(){return"rgba("+this.r+","+this.g+","+this.b+", "+this.a+")"}}),this.isInitialized=!0)},c=function(a){return a?(a=a.getAffine())?{xx:a.m00,xy:a.m01,dx:a.m02,yx:a.m10,yy:a.m11,dy:a.m12}:null:null},e=function(a){if(a.getFont())return b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeTextFont(a)},
g={r:0,g:0,b:0,a:0};return b.com_ibm_init_declare({constructor:function(){d()},renderSceneTree:function(a,b,d,c){!b||c&&0==c.getSceneDirtyArea().getType()||(a.clear(),(c=b.getLocalization())?((c=c.baseTextDirection)?"ltr"!=c&&"rtl"!=c&&(c="auto"):c="auto",a.setTextDir(c)):a.setTextDir("auto"),c=b.getRoot(),this._checkForShadows(c)?(this._renderNode(a,c,b,d,1,0),this._renderNode(a,c,b,d,2,0)):this._renderNode(a,c,b,d,0,0))},_renderNode:function(a,d,e,g,f,h){var l=null;if(2>h&&2==f)l=a.createGroup();
else{var m=d.getRenderInfo(),p=m.getRenderBounds(),q=m.getRenderText();if(q)if(1!=f)q?(l=b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeText(q),null!=l.text&&(l=S.delegate(l,{text:l.text.replace(/ /g,"\u00a0")})),q=l):q=void 0,l=a.createShape(q),this._setGfxShapeProperties(a,l,m,f);else return null;else if(2!=f){q=(q=m.getRenderGeom())?b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom(q):null;if(q&&!this._isValidBounds(p))return null;q&&(l=a.createShape(q),this._setGfxShapeProperties(a,
l,m,f))}l||(l=a.createGroup())}(m=c(d.getTransform()))&&l.setTransform(m);m=(m=d.getClipBounds())?{x:m.getX(),y:m.getY(),width:m.getWidth(),height:m.getHeight()}:null;m&&l.setClip(m);this._renderChildrenNodes(a,l,d,e,g,f,h)},_renderChildrenNodes:function(a,b,d,c,e,g,f){a=d.getChildren().arrayIterator();var h;d=0;for(h=a.length;d<h;d++)this._renderNode(b,a[d],c,e,g,f+1)},_setGfxShapeProperties:function(d,c,f,u){this._setEffectPropertyToGfxShape(c,f,u);if(u=f.getRenderFill()){u=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializePaint(u);
var I=u.colors;if(void 0===I&&0==u.a)u=g;else if(a&&I&&u.type&&("linear"==u.type||"radial"==u.type)){var h=I.length;0<h&&.5>I[0].color.a&&(I[0].color.a=.5);1<h&&.5>I[1].color.a&&(I[1].color.a=.5)}}else u=void 0;u&&c.setFill(u);this._shouldOutlineShape(c)&&((u=f.getRenderStroke())?(u=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeStroke(u),(I=u.color)&&void 0===I.colors&&null==I.a&&(I.a=1)):u=void 0,u&&c.setStroke(u));u=f.getRenderText();c.setFont&&u&&u.getFont()&&c.setFont(e(u));
"text"!==c.type&&f.getRenderImage()&&(this._createSilverlightImageTexture(d,c,f)||this._createImageStyleData(d,f,c))},_setEffectPropertyToGfxShape:function(a,d,c){var e="text"===a.shape.type,g=d.getRenderEffects();d=g?b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeRenderEffects(g):void 0;(g=g&&g.getShadow())&&(0===c||!e&&1===c)&&d.shadow&&(g={shadow:d.shadow},a.id+="_S",a.setEffect(g,a.shape));!d||0!==c&&2!==c||(g=d,d.shadow&&2===c&&!e&&(delete d.shadow,g=d.glow),g&&a.setEffect(d,
a.shape))},_checkForShadows:function(a){var b=a.getShape();if(b&&b.getStyleInfo()&&(b=b.getStyleInfo().getEffectProperty())&&b.getShadow())return!0;a=a.getChildren().arrayIterator();var d,b=0;for(d=a.length;b<d;b++)if(this._checkForShadows(a[b]))return!0;return!1},_shouldOutlineShape:function(a){return!(a.shape&&"text"==a.shape.type)},_isValidBounds:function(a){return a&&0<=a.getHeight()&&0<=a.getWidth()},_createImageStyleData:function(a,b,d){var e=b.getRenderImage();if(e&&!(0>=e.getAlpha())){var g=
e.getImageResource().getNativeResource();if(g&&0!=g.getWidth()&&0!=g.getHeight()){var f=null,h=!1,f=e.getMethod();if("texture"==f)a=z.getDefault("pattern"),a.type="pattern",a.x=e.getX(),a.y=e.getY(),a.width=e.getWidth(),a.height=e.getHeight(),a.src=g.getPathName(),d.setFill(a),f=d;else{var l=z.getDefault("image");l.type="image";l.x=e.getX();l.y=e.getY();"stretch"==f||"fill"==f||"fit"==f?(l.width=e.getWidth(),l.height=e.getHeight()):(l.width=g.getWidth(),l.height=g.getHeight());l.src=g.getPathName();
l.method=f;f=this._clipImageShape(l,a,d,b,null);null!=f&&(h=!0,d=c(e.getTransformInfo()),null!=d&&f.setTransform(d))}e=e.getAlpha();null!=f&&null!=e&&1>e&&(f.alpha=e,"svg"==p.renderer&&f.addRenderingOption("opacity",e));return h?f:null}}},_clipImageShape:function(a,b,d,c,e){var g=!0,f=null,h=c.getRenderImage();if(h.isClipped())if(c=c.getRenderStroke(),d=d.shape,"rect"==d.type){if(f=0,c&&null!=c.getWidth()&&(f=c.getWidth()),a&&"fill"!=h.getMethod()&&(d.width<a.width+f&&(a.x=d.x+.5*f-(a.width+f-d.width)/
2),d.height<a.height+2*f&&(a.y=d.y+.5*f-(a.height+f-d.height)/2)),f={x:d.x+.5*f,y:d.y+.5*f,width:d.width-f,height:d.height-f},0>=d.width||0>=d.height||0>=f.height||0>=f.width)g=!1}else if("circle"==d.type){if(f=0,c&&null!=c.getWidth()&&(f=c.getWidth()),f={cx:d.cx,cy:d.cy,rx:d.r-.5*f,ry:d.r-.5*f},0>=d.r||0>=f.rx||0>=f.ry)g=!1}else"path"==d.type&&(f={d:d.path});g&&(null==e&&(e=b.createShape(a)),null!=f&&e.setClip(f));return e},_createSilverlightImageTexture:function(a,b,d){if(this._isTextureAndSilverlight(d)){var e=
d.getRenderImage(),g=e.getImageResource().getNativeResource(),f,h,l=e.getWidth(),m=e.getHeight(),p,q;for(p=0;p<e.getTileX();p++)for(f=e.getX()+p*l,q=0;q<e.getTileY();q++){h=e.getY()+q*m;var r=z.getDefault("image");r.type="image";r.x=f;r.y=h;r.width=l;r.height=m;r.src=g.getPathName();h=this._clipImageShape(r,a,b,d,null);null!=h&&(r=c(e.getTransformInfo()),null!=r&&h.setTransform(r),this._groupsWithNoId.push(h))}return!0}return!1},_isTextureAndSilverlight:function(a){return"silverlight"==p.renderer&&
"texture"==a.getRenderImage().getMethod()}})}();b.com_ibm_vis_scenetree_provisional_ShapeInfo=b.com_ibm_init_declare.implement({getNodeBounds:function(){},getID:function(){},getTooltip:function(){},getGeom:function(){},getStyleInfo:function(){},getElementInfo:function(){},getFieldInfo:function(){},getTextInfo:function(){},type:function(){},setGeom:function(a,b){},getKey:function(){},setKey:function(a){}});b.com_ibm_vis_engine_internal_struct_Shape=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ShapeInfo,
b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{shapeType:-1,tooltipSet:!1,ue_5:!1,_n_1:!1,type:function(){var a=this.getRenderGeom(0);return a?a.type():-1},setColorAestheticOnlyChangesOutline:function(a){this.en$4().colorAestheticOnlyChangesOutline=a},getColorAestheticOnlyChangesOutline:function(){return this.ef_2?this.ef_2.colorAestheticOnlyChangesOutline:!1},constructor:function(a){this.transform=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl;this.setAestheticGroup(0);
this.tooltipSet=!1;this.shapeType=a},createSceneNode:function(){return b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(this)},getRenderGeom:function(a){return this.geom?b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.getRendererGeom(this.getGeom(),a,this.getSnap()):null},getType:function(){return this.shapeType},isPrimaryTextType:function(){return 1009==this.getType()||1007==this.getType()},isGlyphLike:function(){return 0==this.getScaleDimensions()},setGlyphLike:function(){this.setScaleDimensions(0)},
canScaleBoth:function(){return 3==this.getScaleDimensions()},canScaleX:function(){return 0<(this.getScaleDimensions()&1)},canScaleY:function(){return 0<(this.getScaleDimensions()&2)},getScaleDimensions:function(){return this.boundsInfo?this.boundsInfo.scaleDimensions:3},setScaleDimensions:function(a){this.ef$1().scaleDimensions=a;this.invalidate()},getPosition:function(){return this.ef_2?this.ef_2.getPosition():null},getPositions:function(){return this.ef_2?this.ef_2.getPositions():null},setPosition:function(a){this.en$4().setPosition(a)},
setPositions:function(a){this.en$4().setPositions(a)},setRow:function(a){this.setRows([a])},setRows:function(a){this.en$4().rows=a},setStructuralRows:function(a){this.en$4().sw_1=a},getStructuralRows:function(){return this.en$4().sw_1},setOriginalRows:function(a){this.en$4().ow_1=a},getOriginalRows:function(){return this.en$4().getOriginalRows()},getTransformInfo:function(){return this.transform},getTransform:function(){return this.transform.getAffine()},setTransform:function(a){this.transform.setAffine(a)},
getMeta:function(a){return this.ef_2&&this.ef_2.meta?this.ef_2.meta.get(a):null},getMetaMap:function(){return this.ef_2?this.ef_2.meta:null},gt$10:function(){return this.ef_2&&this.ef_2.meta&&0!=this.ef_2.meta.size()?this.ef_2.meta:null},setMeta:function(a,b){this.en$4().setMeta(a,b)},getElementPart:function(){return this.getMeta("part")},addMeta:function(a){this!=a&&a.gt$10()&&this.en$4().setAllMeta(a.gt$10())},getA11yInfo:function(){this.a11y||(this.a11y=new b.com_ibm_vis_internal_accessibility_AccessibleInfo);
return this.a11y},reflect:function(a,b){this.geom.reflect(a,b)},transpose:function(a){this.ef$1();this.boundsInfo.scaleDimensions=this.geom.transpose(a,this.boundsInfo.scaleDimensions);this.invalidate()},isFilled:function(){return this.geom.filled()},scale:function(a,b){var c=this.getScalingAnchor();this.affine(a,c.x*(1-a),b,c.y*(1-b),!0);this.mi$1(a,b);this.invalidate()},getScalingAnchor:function(){return this.getCenter()},getCenter:function(){return this.geom.getCenter()},mi$1:function(a,b){this.ai_2&&
(this.ai_2.wt_2*=a,this.ai_2.hh_1*=b)},affine:function(a,b,c,e,g){var k=this.getScaleDimensions(),s,f;g&&(k=3);this.getContainingShape()&&this.isRelativeToParent()&&(1002==this.geom.type()&&(f=this.getMeta("type")),1003==this.geom.type()&&1001==this.getType()||1002==this.geom.type()&&null==f||(s=this.getContainingShape().getEnclosedShapeBounds(this.getBoundsSpec())));this.geom.affine(a,b,c,e,s,k);this.invalidate()},makeGeometryClone:function(){var a=new b.com_ibm_vis_engine_internal_struct_Shape(this.getType());
a.geom=this.geom.copy();a.setSnap(this.getSnap());return a},hasRenderStroke:function(){var a=this.getStroke(),b=a&&0==a.wt_1;if(b?0:a)return!0;a=this.getFill();if(this.isFilled()){if(this.getOutline()&&!b)return!0}else if(a&&!b)return!0;return!1},copyInfoFrom:function(a){this!=a&&(this.sf_2=b.com_ibm_vis_engine_internal_struct_ShapeStyle.makeCopy(a.sf_2),this.transform.setAffine(a.transform.getAffine()),this.a11y=b.com_ibm_vis_internal_accessibility_AccessibleInfo.makeCopy(a.a11y),this.setRows(a.getRows()),
this.ti_4=a.ti_4,this.fi_1=a.fi_1,this.tooltipSet=a.tooltipSet,this.setStartArrowByName(a.getStartArrowName()),this.setEndArrowByName(a.getEndArrowName()),a.gr_2&&(this.gr_2=a.gr_2),this.addMeta(a),this.setKey(a.getKey()),this.setNeedsConsistentLabels(a.getNeedsConsistentLabels()),this.setTemporaryTreeMapNodeInfo(a.getTemporaryTreeMapNodeInfo()))},setGlobalGradient:function(a){this.gr_2=a},setGlobalGradientFromRect:function(a,d,c,e){this.gr_2=new b.com_ibm_vis_geom_Rect(a,d,c,e)},setGlobalGradientFromCircle:function(a,
d,c){this.gr_2=new b.com_ibm_vis_geom_Circle(a,d,c)},getGlobalGradientGeometry:function(){return this.gr_2},getLocalGradientGeometry:function(){if(1E3==this.shapeType)return this.geom.copy();var a=this.getContainingShape(),d=this.getBounds();a&&1>=d.wt_3&&1>=d.hh_2&&(d=new b.com_ibm_vis_engine_internal_Bounds(this.getBoundsSpec(),null),a=a.getBounds(),d=d.getRectWithinParent(a));return new b.com_ibm_vis_geom_Rect(d.x,d.y,d.wt_3,d.hh_2)},getID:function(){return this.id},setID:function(a){this.id=a},
getStrokeWidth:function(){if(!this.getStroke())return this.getOutline()?1:0;var a=this.getStroke().wt_1;if(0==a)return 0;if(this.isInsideStroke()){var b=this.getBounds(),b=Math.min(b.wt_3,b.hh_2)/2;a>=b&&(a=1<a?b+1:b)}return a},getLabelShape:function(a,b,c){return this},getTangentAngle:function(a,b){return"start"==a?-1.5707963267948966:"end"==a?1.5707963267948966:0},getRows:function(){return this.ef_2?this.ef_2.rows:null},applyPointTransform:function(a){return this.geom&&(a=this.geom.applyPointTransform(a),
a!=this.geom)?a:null},getPart:function(a){var b=this.getParts();return!b||0>a||a>b.length?null:b[a]},getPartByName:function(a){if(null==a||a==this.getElementPart())return this;var b=this.getParts();if(b)for(var c=0,e=b.length;c<e;++c){var g=b[c].getPartByName(a);if(g)return g}return null},getContainingShape:function(){return this.boundsInfo?this.boundsInfo.containingShape:null},getParts:function(){return null},getOuterPoint:function(){var a=this.getCenter();if(!this.getContainingShape())return a;
var d=this.getContainingShape().getCenter();return new b.com_ibm_vis_geom_Point(d.x+2*(a.x-d.x),d.y+2*(a.y-d.y))},getFacetKey:function(){var a="";if(this.getPosition()&&this.getPosition().base&&2<this.getPosition().length())for(var a=a+this.getPosition().get(2),b=this.getPosition().length(),c=3;c<b;++c)a+="|"+this.getPosition().get(c);if(this.getPosition()&&this.getPosition().facet)for(c=0;c<this.getPosition().facet.length;++c)a+="|"+this.getPosition().facet[c];return a},getStartArrowName:function(){return this.getStartArrow()?
this.getStartArrow().getName():null},getEndArrowName:function(){return this.getEndArrow()?this.getEndArrow().getName():null},setStartArrowByName:function(a){this.setStartArrow(b.com_ibm_vis_engine_internal_struct_ArrowType.byName(a))},setEndArrowByName:function(a){this.setEndArrow(b.com_ibm_vis_engine_internal_struct_ArrowType.byName(a))},contains:function(a,b){return this.geom.containsPt(a,b)},getBounds:function(){this.cachedBounds||(this.cachedBounds=this.calculateBounds());return this.cachedBounds},
calculateBounds:function(){return this.geom.getBounds().copy()},getActualDim:function(){return this.ai_2},setActualDim:function(a){this.ai_2=a;this.invalidate()},asBasic:function(){return this.geom.asBasic()},isElement:function(){return this._n_1},setIsElement:function(a){this._n_1=a},getSnap:function(){return this.sf_2?this.sf_2.snap:!1},setSnap:function(a){if(this.sf_2||a)this.el$1().snap=a},getStroke:function(){return this.sf_2?this.sf_2.stroke:null},getOutsideStrokeWidth:function(){var a=this.getStrokeWidth();
this.isInsideStroke()&&(a=0);return a/2},setStroke:function(a){this.el$1().stroke=a;this.invalidate()},isInsideStroke:function(){return this.sf_2?this.sf_2.insideStroke:!1},setInsideStroke:function(a){this.el$1().insideStroke=a;this.invalidate()},isVisible:function(){return this.sf_2?!this.sf_2.hidden:!0},setVisible:function(a){this.el$1().hidden=!a},isRelativeToParent:function(){return this.boundsInfo?this.boundsInfo.scaleRelativeToParent:!1},setRelativeToParent:function(a){this.ef$1().scaleRelativeToParent=
a;this.invalidate()},getEnclosedShapeBounds:function(a){var d=this.getBounds();return(new b.com_ibm_vis_engine_internal_Bounds(a,null)).getRectWithinParent(d)},setDefaultStyle:function(a){this.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(a));1004!=this.shapeType||b.com_ibm_vis_engine_internal_scene_StyleBuilder.isThresholdStyleSpec(a)||(a?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(this,a):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultFillStyle(this))},
setNeedsConsistentLabels:function(a){this.en$4().needsConsistentLabels=a},getNeedsConsistentLabels:function(){return this.en$4().needsConsistentLabels},setTemporaryTreeMapNodeInfo:function(a){this.en$4().temporaryTreeMapNodeInfo=a},getTemporaryTreeMapNodeInfo:function(){return this.en$4().temporaryTreeMapNodeInfo},hasTooltip:function(){return this.tooltipSet},getDisplayTooltip:function(){return null!=this.fi_1?this.fi_1:this.ti_4},getTooltip:function(){return this.ti_4},getFormattedTooltip:function(){return this.fi_1},
setTooltip:function(a){this.tooltipSet=!0;this.ti_4=a},setFormattedTooltip:function(a){this.tooltipSet=!0;this.fi_1=a},area:function(){return this.geom.area()},getSpanClipBounds:function(){return this.ef_2?this.ef_2.spanClipBounds:null},setSpanClipBounds:function(a){this.en$4().spanClipBounds=a;this.invalidate()},getFill:function(){return this.sf_2?this.sf_2.fill:null},setFill:function(a){this.el$1().fill=a},getImage:function(){return this.sf_2?this.sf_2.image:null},setImage:function(a){this.el$1().image=
a},getOutline:function(){return this.sf_2?this.sf_2.outline:null},setOutline:function(a){this.el$1().outline=a},getEffect:function(){return this.sf_2?this.sf_2.effect:null},setEffect:function(a){this.el$1().effect=a},el$1:function(){this.sf_2||(this.sf_2=new b.com_ibm_vis_engine_internal_struct_ShapeStyle);return this.sf_2},en$4:function(){this.ef_2||(this.ef_2=new b.com_ibm_vis_engine_internal_struct_ShapeElementInfo);return this.ef_2},ef$1:function(){this.boundsInfo||(this.boundsInfo=new b.com_ibm_vis_engine_internal_struct_ShapeBoundsInfo(this.getXArray(),
this.getYArray()));return this.boundsInfo},getIndex:function(){return this.ef_2?this.ef_2.index:null},setIndex:function(a){this.en$4().index=a},getAestheticGroup:function(){return this.ef_2?this.ef_2.aestheticGroup:null},setAestheticGroup:function(a){this.en$4().aestheticGroup=a},getKey:function(){return this.ef_2?this.ef_2.key:null},setKey:function(a){this.en$4().key=a},getBoundsSpec:function(){return this.boundsInfo?this.boundsInfo.boundsSpec:null},setBoundsSpec:function(a){if(this.boundsInfo||
a)this.ef$1().boundsSpec=a,this.invalidate()},getInsets:function(){return this.boundsInfo?this.boundsInfo.insets:null},setInsets:function(a){if(this.boundsInfo||a&&a!=b.com_ibm_vis_engine_internal_struct_Insets.NONE)this.ef$1().insets=a,this.invalidate()},setContainingShape:function(a){a&&(this.ef$1().containingShape=a,this.invalidate())},getXArray:function(){return null},getYArray:function(){return null},invalidate:function(){this.cachedBounds=null;this.boundsInfo&&this.boundsInfo.containingShape&&
this.boundsInfo.containingShape.invalidate()},getCachedBounds:function(){return this.cachedBounds},setCachedBounds:function(a){this.cachedBounds=a},setReversed:function(a){this.re_8=a},getReversed:function(){return this.re_8},getGeom:function(){return this.geom},setGeom:function(a,b){this.geom=a;null!=b&&(this.shapeType=b);this.cachedBounds=null},getStyleInfo:function(){return this.sf_2},getElementInfo:function(){return this.ef_2},getTextInfo:function(){return null},getFieldInfo:function(){return this.ff_2},
getField:function(){return this.ff_2?this.ff_2.fI_1:null},getValue:function(){return this.ff_2?this.ff_2.vu_14:null},ef$2:function(){this.ff_2||(this.ff_2=new b.com_ibm_vis_scenetree_provisional_FieldInfo);return this.ff_2},setField:function(a){this.ef$2().fI_1=a},setValue:function(a){this.ef$2().vu_14=a},getNodeBounds:function(){return this.nd_4?this.nd_4:this.getBounds()},setNodeBounds:function(a){this.nd_4=a},getX:function(){return 1002==this.geom.type()||1001==this.geom.type()?this.geom.x:1005==
this.geom.type()?this.geom.getX():0},getY:function(){return 1002==this.geom.type()||1001==this.geom.type()?this.geom.y:1005==this.geom.type()?this.geom.getY():0},getR:function(){return 1001==this.geom.type()?this.geom.r:1005==this.geom.type()?this.geom.getCornerRadius():0},getWidth:function(){return 1002==this.geom.type()?this.geom.wt_3:1005==this.geom.type()?this.geom.getWidth():0},getHeight:function(){return 1002==this.geom.type()?this.geom.hh_2:1005==this.geom.type()?this.geom.getHeight():0},setX:function(a){1002==
this.geom.type()&&(this.geom.x=a);1005==this.geom.type()&&this.geom.setX(a);1001==this.geom.type()&&(this.geom.x=a);this.invalidate()},setY:function(a){1002==this.geom.type()&&(this.geom.y=a);1005==this.geom.type()&&this.geom.setY(a);1001==this.geom.type()&&(this.geom.y=a);this.invalidate()},setWidth:function(a){1002==this.geom.type()&&(this.geom.wt_3=a);1005==this.geom.type()&&this.geom.setWidth(a);this.invalidate()},setHeight:function(a){1002==this.geom.type()&&(this.geom.hh_2=a);1005==this.geom.type()&&
this.geom.setHeight(a);this.invalidate()},getSymbol:function(){return this.ef_1?this.ef_1.symbol:null},getPreferHorizontal:function(){return this.ef_1?this.ef_1.preferHorizontal:null},setSymbol:function(a){this.lf$1(a)&&(this.ef_1.symbol=a);this.invalidate()},lf$1:function(a){this.ef_1||null==a||(this.ef_1=new b.com_ibm_vis_engine_internal_struct_ShapeEdgeInfo);return this.ef_1},getStartArrow:function(){return this.ef_1?this.ef_1.startArrow:null},setStartArrow:function(a){this.lf$1(a)&&(this.ef_1.startArrow=
a)},getStartArrowGeom:function(){return this.ef_1?this.ef_1.startArrowGeom:null},setStartArrowGeom:function(a){this.lf$1(a)&&(this.ef_1.startArrowGeom=a)},getEndArrow:function(){return this.ef_1?this.ef_1.endArrow:null},setEndArrow:function(a){this.lf$1(a)&&(this.ef_1.endArrow=a)},getEndArrowGeom:function(){return this.ef_1?this.ef_1.endArrowGeom:null},setEndArrowGeom:function(a){this.lf$1(a)&&(this.ef_1.endArrowGeom=a)},setPreferHorizontal:function(a){this.lf$1(a)&&(this.ef_1.preferHorizontal=a)},
setEdgeProperties:function(a,b,c,e){this.setPreferHorizontal(a);this.setSymbol(b);this.setStartArrowByName(c);this.setEndArrowByName(e)},getOriginalX:function(){return this.boundsInfo?this.boundsInfo.originalX:null},getOriginalY:function(){return this.boundsInfo?this.boundsInfo.originalY:null},isUseBoundsForLabel:function(){return this.ue_5},setUseBoundsForLabel:function(a){this.ue_5=a},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("geom",this.geom));a.addInteger("shapeType",this.getType());a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("styleInfo",this.sf_2));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("elementInfo",this.ef_2));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("fieldInfo",this.ff_2));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("boundsInfo",
this.boundsInfo));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("a11y",this.a11y));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("transform",this.transform));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("edgeInfo",this.ef_1));a.addString("id",this.id);a.addBoolean("tooltipSet",this.tooltipSet);a.addString("tooltip",this.ti_4);a.addString("formattedTooltip",this.fi_1);a.addBoolean("useBoundsForLabel",
this.ue_5);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("globalGradientGeometry",this.gr_2));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("actualDim",this.ai_2));a.addString("reversed",this.re_8);return a},populateFromSerialized:function(a){this.id=a.getNodeById("id").asPrimitive().getStringValue$0();this.tooltipSet=a.getNodeById("tooltipSet").asPrimitive().getBooleanValue$1(!1);this.ti_4=a.getNodeById("tooltip").asPrimitive().getStringValue$0();
this.fi_1=a.getNodeById("formattedTooltip").asPrimitive().getStringValue$0();this.ue_5=a.getNodeById("useBoundsForLabel").asPrimitive().getBooleanValue$1(!1);var d=a.getNodeById("geom");this.geom=b.com_ibm_vis_geom_GeomFactory.createFromSerialized(d);this.shapeType=a.getNodeById("shapeType").asPrimitive().getNumberValue$0();this.sf_2=b.com_ibm_vis_engine_internal_struct_ShapeStyle.createFromSerialized(a.getNodeById("styleInfo"));this.ef_2=b.com_ibm_vis_engine_internal_struct_ShapeElementInfo.createFromSerialized(a.getNodeById("elementInfo"));
this.ff_2=b.com_ibm_vis_scenetree_provisional_FieldInfo.createFromSerialized(a.getNodeById("fieldInfo"));this.boundsInfo=b.com_ibm_vis_engine_internal_struct_ShapeBoundsInfo.createFromSerialized(a.getNodeById("boundsInfo"));this.a11y=b.com_ibm_vis_internal_accessibility_AccessibleInfo.createFromSerialized(a.getNodeById("a11y"));this.transform=b.com_ibm_vis_scenetree_provisional_TransformInfoImpl.createFromSerialized(a.getNodeById("transform"));this.ef_1=b.com_ibm_vis_engine_internal_struct_ShapeEdgeInfo.createFromSerialized(a.getNodeById("edgeInfo"));
this.ai_2=b.com_ibm_vis_geom_Dim.createFromSerialized(a.getNodeById("actualDim"));this.gr_2=b.com_ibm_vis_geom_GeomFactory.createFromSerialized(a.getNodeById("globalGradientGeometry"));this.re_8=a.getNodeById("reversed").asPrimitive().getStringValue$0();return this}});b.com_ibm_vis_engine_internal_struct_Shape.makeRect=function(a,d,c,e){return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom(new b.com_ibm_vis_geom_Rect(a,d,c,e))};b.com_ibm_vis_engine_internal_struct_Shape.makeCircle=
function(a,d,c){return b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom(new b.com_ibm_vis_geom_Circle(a,d,c))};b.com_ibm_vis_engine_internal_struct_Shape.toShapeRect=function(a){if(a=b.com_ibm_vis_engine_internal_struct_Shape.toRect(a)){var d=new b.com_ibm_vis_engine_internal_struct_Shape(1004);d.setGeom(a,1004);return d}return null};b.com_ibm_vis_engine_internal_struct_Shape.toRect=function(a){if(null==a)return null;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Rect))return a;
var d=a.x,c=a.y,e=a.width;a=a.height;return null==d||null==c||null==e||null==a?null:new b.com_ibm_vis_geom_Rect(d,c,e,a)};b.com_ibm_vis_engine_internal_struct_Shape.transformBounds=function(a,d){if(!a||!d)return a;var c=d.transform(a.x,a.y),e=d.transform(a.x+a.wt_3,a.y),g=d.transform(a.x,a.y+a.hh_2),k=d.transform(a.x+a.wt_3,a.y+a.hh_2),s=Math.min(Math.min(c.x,e.x),Math.min(g.x,k.x)),f=Math.min(Math.min(c.y,e.y),Math.min(g.y,k.y)),u=Math.max(Math.max(c.x,e.x),Math.max(g.x,k.x)),c=Math.max(Math.max(c.y,
e.y),Math.max(g.y,k.y));return new b.com_ibm_vis_geom_Rect(s,f,u-s,c-f)};b.com_ibm_vis_engine_internal_struct_Shape.WIDTH="width";b.com_ibm_vis_engine_internal_struct_Shape.HEIGHT="height";b.com_ibm_vis_engine_internal_struct_Shape.SHAPE="shape";b.com_ibm_vis_engine_internal_struct_Shape.STROKE="stroke";b.com_ibm_vis_engine_internal_struct_Shape.TYPE="type";b.com_ibm_vis_engine_internal_struct_Shape.BOTH="both";b.com_ibm_vis_engine_internal_struct_Shape.Y="y";b.com_ibm_vis_engine_internal_struct_Shape.X=
"x";b.com_ibm_vis_engine_internal_struct_PolyShape=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_struct_Shape,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{fe_7:!1,constructor:function(a,b,c){this.x=a;this.y=b;this.fe_7=c},createSceneNode:function(){var a=this.getStartArrow()||this.getEndArrow();if(!a&&(null==this.getSymbol()||"line"==this.getSymbol()))return b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(this);var d=this.mt$4();if(!a)return d.setSymbol(null),
d.setStartArrow(null),d.setEndArrow(null),d.setID(this.id),b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(d);var a=this.id,c=this.getKey(),e=1+(this.getStartArrow()?1:0)+(this.getEndArrow()?1:0),e=Array(e),g=0,k=d.getBounds();e[g++]=d;if(this.getStartArrow()){var s=this.getStartArrow().createArrowShape(this.getStartArrowGeom(),d);e[g++]=s;k=k.copy();k.extendToRect(s.getBounds())}this.getEndArrow()&&(s=this.getEndArrow().createArrowShape(this.getEndArrowGeom(),d),e[g++]=s,k=k.copy(),
k.extendToRect(s.getBounds()));d=new b.com_ibm_vis_engine_internal_struct_Schema(k.x,k.y,k.wt_3,k.hh_2,null,!1);d.copyInfoFrom(this);d.setParts(e);d.setID(a);d.setKey(c);return d.createSceneNode()},mt$4:function(){this.getStartArrow()||this.getEndArrow()?(this.getStartArrow()&&(this.setStartArrowGeom(new b.com_ibm_vis_engine_internal_struct_ArrowGeom(this.getStartArrow())),this.getStartArrowGeom().configForStrokeWidth(this.getStroke())),this.getEndArrow()&&(this.setEndArrowGeom(new b.com_ibm_vis_engine_internal_struct_ArrowGeom(this.getEndArrow())),
this.getEndArrowGeom().configForStrokeWidth(this.getStroke()))):(this.setStartArrowGeom(null),this.setEndArrowGeom(null));for(var a=this.x.length,d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),e=0;e<this.x.length;++e)d[e]=this.x[e],c[e]=this.y[e];var g=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);if(this.getTypes())for(var k=this.getTypes(),e=0;e<a;++e)g[e]=k[e];else for(g[0]=77,e=1;e<a;++e)g[e]=76;var e=null!=this.getSymbol()&&
0<=this.getSymbol().indexOf("urved"),s=null!=this.getSymbol()&&0<=this.getSymbol().indexOf("lbow");if(e||s){var k=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_struct_PolyShape.mn$7(d,c,g,e,s,k,f,this.getPreferHorizontal(),this.getStartArrowGeom(),this.getEndArrowGeom());a=k.size();d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);c=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);g=b.com_ibm_rave_codegenerator_lang_Array.create([a],
0);for(e=0;e<a;++e)s=k.get(e),d[e]=s.x,c[e]=s.y,g[e]=f.get(e)}b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation(this.getStartArrowGeom(),d,c,0,1);b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation(this.getEndArrowGeom(),d,c,a-1,-1);a=new b.com_ibm_vis_engine_internal_struct_Path(d,c,this.isFilled(),g);a.copyInfoFrom(this);a.setKey(this.getKey());a.setEdgeProperties(null,null,null,null);return a},isFilled:function(){return this.fe_7},applyPointTransform:function(a){return a.preservesLines()||
this.allDistancesSmall()?(this.doInPlaceTransform(a),null):(this.getTypes()?(new b.com_ibm_vis_geom_Curve(this.x,this.y,this.ca$7(this.getTypes()),this.fe_7)).asBasic().asPoly():new b.com_ibm_vis_geom_Poly(this.x,this.y,this.fe_7)).applyPointTransform(a)},ca$7:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],!1),c=0;c<a.length;++c)81==a[c]?d[c++]=!0:67==a[c]&&(d[c++]=!0,d[c++]=!0);return d},allDistancesSmall:function(){for(var a=this.getTypes(),b=1;b<this.x.length;++b)if(!a||
90!=a[b]&&77!=a[b])if(25<Math.abs(this.x[b]-this.x[b-1])||25<Math.abs(this.y[b]-this.y[b-1]))return!1;return!0},doInPlaceTransform:function(a){for(var b=0;b<this.x.length;++b){var c=a.transform(this.x[b],this.y[b]);this.x[b]=c.x;this.y[b]=c.y}},calculateBounds:function(){var a=this.getTypes(),d=0,c=0;if(0<this.x.length)for(var d=this.x[0],c=this.x[0],e=1;e<this.x.length;++e)a&&90==a[e]||this.x[e]!=this.x[e]||(d=Math.min(d,this.x[e]),c=Math.max(c,this.x[e]));var g=0,k=0;if(0<this.y.length)for(g=this.y[0],
k=this.y[0],e=1;e<this.y.length;++e)a&&90==a[e]||this.y[e]!=this.y[e]||(g=Math.min(g,this.y[e]),k=Math.max(k,this.y[e]));return new b.com_ibm_vis_geom_Rect(d,g,c-d,k-g)},affine:function(a,b,c,e,g){var k=0,s=0;this.getContainingShape()&&this.isRelativeToParent()&&1001!=this.getType()&&(e=this.getContainingShape().getEnclosedShapeBounds(this.getBoundsSpec()),s=this.getBounds(),a=e.wt_3/s.wt_3,c=e.hh_2/s.hh_2,b=e.x-s.x,e=e.y-s.y,k=s.x,s=s.y);g||(this.canScaleX()||(a=1),this.canScaleY()||(c=1));k*=1-
a;s*=1-c;for(g=0;g<this.x.length;++g)this.x[g]=this.x[g]*a+b+k,this.y[g]=this.y[g]*c+e+s;this.invalidate()},getCenter:function(){return this.getBounds().getCenter()},reflect:function(a,b){for(var c=0;c<this.x.length;++c)b?this.y[c]=a.hh_1-this.y[c]:this.x[c]=a.wt_2-this.x[c];this.invalidate()},transpose:function(a){for(var b=0;b<this.x.length;++b){var c=a.wt_2-a.wt_2*this.y[b]/a.hh_1;this.y[b]=a.hh_1*(1-this.x[b]/a.wt_2);this.x[b]=c}this.invalidate();if("semiCircle"==this.getSymbol()){a=this.getBounds();
if(0<a.area())for(b=0;b<this.x.length;++b)this.x[b]=a.x+(this.x[b]-a.x)*a.hh_2/a.wt_3/2;this.invalidate()}},getLabelShape:function(a,d,c){return this.isUseBoundsForLabel()?b.com_ibm_vis_engine_internal_struct_Shape.toShapeRect(this.getBounds()):this.isGlyphLike()?this:this.isFilled()?"outside"==c?b.com_ibm_vis_engine_internal_struct_ShapeNearShape.makeShapeOutsidePoly(this,a,d):b.com_ibm_vis_engine_internal_struct_ShapeNearShape.makeShapeInsidePoly(this):this.getLabelShapeForPath(a,c)},getLabelShapeForPath:function(a,
d){var c,e,g,k,s=this.x.length;if(1==this.x.length)c=this.x[0],e=this.y[0],k=g=1;else if(this.x[0]!=this.x[s-1]||this.y[0]!=this.y[s-1])"start"==a?(c=this.x[0],e=this.y[0],g=Math.abs(this.x[0]-this.x[1]),k=Math.abs(this.y[0]-this.y[1])):"end"==a?(c=this.x[s-1],e=this.y[s-1],g=Math.abs(this.x[s-1]-this.x[s-2]),k=Math.abs(this.y[s-1]-this.y[s-2])):(k=Math.floor((s-1)/2),s=Math.ceil(s/2),c=(this.x[k]+this.x[s])/2,e=(this.y[k]+this.y[s])/2,g=Math.abs(this.x[s]-this.x[k]),k=Math.abs(this.y[s]-this.y[k]));
else if("start"==a){for(c=k=0;c<s;++c)this.x[c]<this.x[k]&&(k=c);c=this.x[k];e=this.y[k];k==s-1?(g=Math.abs(this.x[k]-this.x[k-1]),k=Math.abs(this.y[k]-this.y[k-1])):(g=Math.abs(this.x[k]-this.x[k+1]),k=Math.abs(this.y[k]-this.y[k+1]))}else if("end"==a){for(c=k=0;c<s;++c)this.x[c]>this.x[k]&&(k=c);c=this.x[k];e=this.y[k];k==s-1?(g=Math.abs(this.x[k]-this.x[k-1]),k=Math.abs(this.y[k]-this.y[k-1])):(g=Math.abs(this.x[k]-this.x[k+1]),k=Math.abs(this.y[k]-this.y[k+1]))}else{e=this.x[0];g=this.x[0];for(c=
1;c<s-1;++c)this.x[c]<g&&(g=this.x[c]),this.x[c]>e&&(e=this.x[c]);e=(g+e)/2;k=0;for(c=1;c<s-1;++c)Math.abs(this.x[c]-e)<Math.abs(this.x[k]-e)&&(k=c);c=(k+(s-1)+1)%(s-1);g=(k+(s-1)-1)%(s-1);s=Math.abs(this.x[c]-e)<Math.abs(this.x[g]-e)?c:g;c=(this.x[k]+this.x[s])/2;e=(this.y[k]+this.y[s])/2;g=Math.abs(this.x[k]-this.x[s]);k=Math.abs(this.y[k]-this.y[s])}if("inside"==d){var f,s=0;this.getStartArrow()&&(f=new b.com_ibm_vis_engine_internal_struct_ArrowGeom(this.getStartArrow()),f.configForStrokeWidth(this.getStroke()),
s=Math.max(s,f.getLength()));this.getEndArrow()&&(f=new b.com_ibm_vis_engine_internal_struct_ArrowGeom(this.getEndArrow()),f.configForStrokeWidth(this.getStroke()),s=Math.max(s,f.getLength()));s*=2;2>k?(f=g,s<f&&(f-=s)):(2>g?(f=2*k,g=k):(f=g,g=k,s<f&&(f-=s)),s<g&&(g-=s));c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(c-f/2,e-g/2,f,g)}else c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(c,e,1);c.setSnap(this.getSnap());c.setGlyphLike();return c},length:function(){return this.x.length},
getTangentAngle:function(a,b){var c=this.x.length-1;if("start"==a)return Math.atan2(this.y[1]-this.y[0],this.x[1]-this.x[0]);if("end"==a)return Math.atan2(this.y[c]-this.y[c-1],this.x[c]-this.x[c-1]);c=Math.floor(c/2);return Math.atan2(this.y[c+1]-this.y[c],this.x[c+1]-this.x[c])},contains:function(a,d){return this.fe_7&&this.getBounds().containsPt(a,d)?b.com_ibm_vis_engine_internal_struct_PolyShape.testContains(this.x,this.y,a,d):!1},getTypes:function(){return null},area:function(){return b.com_ibm_vis_engine_internal_struct_PolyGeom.area(this.x,
this.y)},centroid:function(){return b.com_ibm_vis_engine_internal_struct_PolyGeom.centroid(this.x,this.y)},getXArray:function(){return this.x},getYArray:function(){return this.y},createSerializableComposite:function(){var a=b.com_ibm_vis_engine_internal_struct_Shape.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray("x",this.x));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray("y",
this.y));a.addBoolean("filled",this.fe_7);return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.populateFromSerialized.apply(this,[a]);this.x=a.getNodeById("x").asPrimitiveArray().getValuesAsDouble();this.y=a.getNodeById("y").asPrimitiveArray().getValuesAsDouble();this.fe_7=a.getNodeById("filled").asPrimitive().getBooleanValue$1(!1);return this}});b.com_ibm_vis_engine_internal_struct_PolyShape.mn$7=function(a,d,c,e,g,k,s,f,u,h){var l=a.length;if(u&&null!=
f)if(k.add(new b.com_ibm_vis_geom_Point(a[0],d[0])),s.add(77),c[0]=76,f.valueOf())u=Math.min(u.getLength(),Math.abs(a[1]-a[0])),a[0]+=a[1]>a[0]?u:-u;else{var m=Math.min(u.getLength(),Math.abs(d[1]-d[0]));d[0]+=d[1]>d[0]?m:-m}var p;h&&null!=f&&(p=new b.com_ibm_vis_geom_Point(a[l-1],d[l-1]),u=Math.min(h.getLength(),Math.abs(a[l-1]-a[l-2])),m=Math.min(h.getLength(),Math.abs(d[l-1]-d[l-2])),f.valueOf()||0==m?a[l-1]-=a[l-1]>a[l-2]?u:-u:d[l-1]-=d[l-1]>d[l-2]?m:-m);for(h=0;h<l;++h){var q=c[h];u=0==h?0:Math.abs(a[h]-
a[h-1]);var m=0==h?0:Math.abs(d[h]-d[h-1]),r=1>u||1>m;u=null==f?u>m:f.valueOf();!e||g||77==q||90==q||76!=q||r||(s.add(67),s.add(44),q=44,u?(k.add(new b.com_ibm_vis_geom_Point((a[h-1]+2*a[h])/3,d[h-1])),k.add(new b.com_ibm_vis_geom_Point((2*a[h-1]+a[h])/3,d[h]))):(k.add(new b.com_ibm_vis_geom_Point(a[h-1],(d[h-1]+2*d[h])/3)),k.add(new b.com_ibm_vis_geom_Point(a[h],(2*d[h-1]+d[h])/3))));k.add(new b.com_ibm_vis_geom_Point(a[h],d[h]));s.add(q)}p&&(s.add(76),k.add(p))};b.com_ibm_vis_engine_internal_struct_PolyShape.testContains=
function(a,d,c,e){for(var g=0,k=a.length-1,s=0;s<a.length;++s){var f=(d[k]-d[s])/(a[k]-a[s]);if(f==f)if(0==f||b.com_ibm_rave_codegenerator_lang_Double.isInfinite(Math.abs(f)))if(0==f){k=s;continue}else u=a[s],f=e,(f>=d[s]&&f<=d[k]||f>=d[k]&&f<=d[s])&&u<c&&(f==d[s]?d[k]>e&&g++:f==d[k]?d[s]>e&&g++:g++);else{var u=(e-(d[s]-f*a[s]))/f;(u>=a[s]&&u<=a[k]||u>=a[k]&&u<=a[s])&&u<c&&(e==d[s]?d[k]>e&&g++:e==d[k]?d[s]>e&&g++:g++)}k=s}return 0<g%2};b.com_ibm_vis_engine_internal_struct_PolyShape.makeModifiedPath=
function(a,d,c,e,g,k,s,f){var u=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List,l=a.length,m;if(c)m=c;else for(m=b.com_ibm_rave_codegenerator_lang_Array.create([l],0),m[0]=77,c=1;c<l;++c)m[c]=76;if(s&&null!=k)if(u.add(new b.com_ibm_vis_geom_Point(a[0],d[0])),h.add(77),m[0]=76,k){var p=Math.min(s.getLength(),Math.abs(a[1]-a[0]));a[0]+=a[1]>a[0]?p:-p}else{var q=Math.min(s.getLength(),Math.abs(d[1]-d[0]));d[0]+=d[1]>d[0]?q:-q}var r;f&&null!=k&&(r=new b.com_ibm_vis_geom_Point(a[l-
1],d[l-1]),p=Math.min(f.getLength(),Math.abs(a[l-1]-a[l-2])),q=Math.min(f.getLength(),Math.abs(d[l-1]-d[l-2])),k||0==q?a[l-1]-=a[l-1]>a[l-2]?p:-p:d[l-1]-=d[l-1]>d[l-2]?q:-q);for(c=0;c<l;++c){var t=m?m[c]:0==h.size()?77:76,p=0==c?0:Math.abs(a[c]-a[c-1]),q=0==c?0:Math.abs(d[c]-d[c-1]),w=1>p||1>q,p=null==k?p>q:k;!e||g||77==t||90==t||76!=t||w||(h.add(67),h.add(44),t=44,p?(u.add(new b.com_ibm_vis_geom_Point((a[c-1]+2*a[c])/3,d[c-1])),u.add(new b.com_ibm_vis_geom_Point((2*a[c-1]+a[c])/3,d[c]))):(u.add(new b.com_ibm_vis_geom_Point(a[c-
1],(d[c-1]+2*d[c])/3)),u.add(new b.com_ibm_vis_geom_Point(a[c],(2*d[c-1]+d[c])/3))));u.add(new b.com_ibm_vis_geom_Point(a[c],d[c]));h.add(t)}r&&(h.add(76),u.add(r));l=u.size();a=b.com_ibm_rave_codegenerator_lang_Array.create([l],0);d=b.com_ibm_rave_codegenerator_lang_Array.create([l],0);e=b.com_ibm_rave_codegenerator_lang_Array.create([l],0);for(c=0;c<l;++c)e[c]=h.get(c),g=u.get(c),a[c]=g.x,d[c]=g.y;return b.com_ibm_vis_engine_internal_struct_PolyShape.makeGeneralPath(a,d,e,s,f)};b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation=
function(a,d,c,e,g){if(a){var k=b.com_ibm_vis_engine_internal_struct_PolyShape.go$7(d,c,e,g);a.setAngle(k);g=Math.cos(k);var k=Math.sin(k),s=a.getTipSize();d[e]+=g*s;c[e]+=k*s;a.setPos(d[e],c[e]);a=a.getLength()-s;d[e]+=g*a;c[e]+=k*a}};b.com_ibm_vis_engine_internal_struct_PolyShape.go$7=function(a,b,c,e){return Math.atan2(b[c+e]-b[c],a[c+e]-a[c])};b.com_ibm_vis_engine_internal_struct_PolyShape.makeGeneralPath=function(a,d,c,e,g){var k=a.length,s=new b.com_ibm_rave_codegenerator_lang_StringBuilder;
b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation(e,a,d,0,1);b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation(g,a,d,k-1,-1);for(e=0;e<k;++e)c?s.appendChar(c[e]):s.append(0==e?"M":"L"),c&&90==c[e]||s.append(b.com_ibm_vis_engine_internal_util_MathUtil.r3(a[e])+","+b.com_ibm_vis_engine_internal_util_MathUtil.r3(d[e]));return s.toString()};b.com_ibm_vis_engine_internal_struct_ShapeLine=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_struct_PolyShape,{constructor:function(a,
b,c){this.shapeType=1001},getRenderGeom:function(a){a=this.x[0];var d=this.x[1],c=this.y[0],e=this.y[1];if(this.getSnap()){var g=c==e,k=a==d;if(g||k)a=Math.round(a),d=Math.round(d),c=Math.round(c),e=Math.round(e);g&&(c+=.5,e+=.5);k&&(a+=.5,d+=.5)}return new b.com_ibm_vis_geom_Line(a,c,d,e)},getType:function(){return 1001},contains:function(a,b){return!1},calculateBounds:function(){return new b.com_ibm_vis_geom_Rect(Math.min(this.x[0],this.x[1]),Math.min(this.y[0],this.y[1]),Math.abs(this.x[0]-this.x[1]),
Math.abs(this.y[0]-this.y[1]))},makeGeometryClone:function(){var a=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(this.x[0],this.y[0],this.x[1],this.y[1]);a.setSnap(this.getSnap());a.setStartArrowByName(this.getStartArrowName());a.setEndArrowByName(this.getEndArrowName());a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor()));return a},getLength:function(){return Math.sqrt((this.x[0]-this.x[1])*(this.x[0]-this.x[1])+(this.y[0]-
this.y[1])*(this.y[0]-this.y[1]))}});b.com_ibm_vis_engine_internal_struct_ShapeLine.make=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_struct_ShapeLine([a,c],[d,e],!1)};b.com_ibm_vis_scenetree_provisional_TransformInfo=b.com_ibm_init_declare.implement({getAffine:function(){}});b.com_ibm_vis_scenetree_provisional_TransformInfoImpl=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_TransformInfo,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{constructor:function(){this.an_7=
null},getAffine:function(){return this.an_7},setAffine:function(a){this.an_7=a},translate:function(a,d){this.an_7=this.an_7?this.an_7.translate(a,d):new b.com_ibm_vis_engine_internal_Affine(1,0,a,0,1,d)},intTranslate:function(a,d){this.an_7=this.an_7?this.an_7.intTranslate(a,d):new b.com_ibm_vis_engine_internal_Affine(1,0,Math.round(a),0,1,Math.round(d))},preMultiply:function(a){a&&(this.an_7=a.multiply(this.an_7))},postMultiply:function(a){this.an_7=this.an_7?this.an_7.multiply(a):a},mirror:function(){this.an_7=
this.an_7?new b.com_ibm_vis_engine_internal_Affine(-this.an_7.m00,this.an_7.m01,this.an_7.m02,-this.an_7.m10,this.an_7.m11,this.an_7.m12):new b.com_ibm_vis_engine_internal_Affine(-1,0,0,0,1,0)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("affine",this.an_7));return a},populateFromSerialized:function(a){this.an_7=b.com_ibm_vis_engine_internal_Affine.createFromSerialized(a.getNodeById("affine"));
return this}});b.com_ibm_vis_scenetree_provisional_TransformInfoImpl.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl;d.populateFromSerialized(a);return d};b.com_ibm_vis_geom_PointTransform=b.com_ibm_init_declare({transform:function(a,b){},preservesLines:function(){},addTransformedSegment:function(a,b,c,e,g){this.rd$1(a,b,this.transform(a,b),c,e,this.transform(c,e),g)},rd$1:function(a,d,c,e,g,k,s){var f=(a+e)/2,u=(d+g)/2,h=this.transform(f,
u);.25<b.com_ibm_vis_geom_Line.extendedLineDistanceToPoint(c.x,c.y,k.x,k.y,h.x,h.y)?(this.rd$1(a,d,c,f,u,h,s),this.rd$1(f,u,h,e,g,k,s)):s.add(c)}});b.com_ibm_vis_engine_internal_Affine=b.com_ibm_init_declare([b.com_ibm_vis_geom_PointTransform,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{m00:0,m01:0,m02:0,m10:0,m11:0,m12:0,translateOnly:!1,constructor:function(a,b,c,e,g,k){this.m00=-0==a?0:a;this.m01=-0==b?0:b;this.m02=-0==c?0:c;this.m10=-0==e?0:e;this.m11=-0==g?0:g;this.m12=-0==
k?0:k;this.translateOnly=1==a&&0==b&&1==g&&0==e},getInverse:function(){if(this.translateOnly)return new b.com_ibm_vis_engine_internal_Affine(1,0,-this.m02,0,1,-this.m12);var a=this.m00*this.m11-this.m01*this.m10;return new b.com_ibm_vis_engine_internal_Affine(this.m11/a,-this.m01/a,(this.m01*this.m12-this.m02*this.m11)/a,-this.m10/a,this.m00/a,(-this.m00*this.m12+this.m10*this.m02)/a)},multiply:function(a){return a?new b.com_ibm_vis_engine_internal_Affine(this.m00*a.m00+this.m01*a.m10,this.m00*a.m01+
this.m01*a.m11,this.m00*a.m02+this.m01*a.m12+this.m02,this.m10*a.m00+this.m11*a.m10,this.m10*a.m01+this.m11*a.m11,this.m10*a.m02+this.m11*a.m12+this.m12):this},translate:function(a,d){return new b.com_ibm_vis_engine_internal_Affine(this.m00,this.m01,this.m02+a,this.m10,this.m11,this.m12+d)},intTranslate:function(a,d){return new b.com_ibm_vis_engine_internal_Affine(this.m00,this.m01,Math.round(this.m02+a),this.m10,this.m11,Math.round(this.m12+d))},scale:function(a){return new b.com_ibm_vis_engine_internal_Affine(a*
this.m00,a*this.m01,this.m02,a*this.m10,a*this.m11,this.m12)},isIdentity:function(){return this==b.com_ibm_vis_engine_internal_Affine.IT_1?!0:1==this.m00&&0==this.m01&&0==this.m02&&0==this.m10&&1==this.m11&&0==this.m12},transform:function(a,d){return this.translateOnly?new b.com_ibm_vis_geom_Point(a+this.m02,d+this.m12):new b.com_ibm_vis_geom_Point(a*this.m00+d*this.m01+this.m02,a*this.m10+d*this.m11+this.m12)},transformInto:function(a,b,c){this.translateOnly?(a[0]=b+this.m02,a[1]=c+this.m12):(a[0]=
b*this.m00+c*this.m01+this.m02,a[1]=b*this.m10+c*this.m11+this.m12)},transformPoint:function(a){return this.transform(a.x,a.y)},transformBoundingBox:function(a){var d=a.x,c=a.y,e=a.getX2();a=a.getY2();var g=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);this.transformInto(g,d,c);var k=g[0],s=g[0],f=g[1],u=g[1];this.transformInto(g,d,a);g[0]<k?k=g[0]:g[0]>s&&(s=g[0]);g[1]<f?f=g[1]:g[1]>u&&(u=g[1]);this.transformInto(g,e,c);g[0]<k?k=g[0]:g[0]>s&&(s=g[0]);g[1]<f?f=g[1]:g[1]>u&&(u=g[1]);this.transformInto(g,
e,a);g[0]<k?k=g[0]:g[0]>s&&(s=g[0]);g[1]<f?f=g[1]:g[1]>u&&(u=g[1]);return new b.com_ibm_vis_geom_Rect(k,f,s-k,u-f)},preservesLines:function(){return!1},det:function(){return this.m00*this.m11-this.m10*this.m01},similar:function(a){return 1E-6<Math.abs(this.m02-a.m02)||1E-6<Math.abs(this.m12-a.m12)||1E-6<Math.abs(this.m00-a.m00)||1E-6<Math.abs(this.m11-a.m11)||1E-6<Math.abs(this.m01-a.m01)||1E-6<Math.abs(this.m10-a.m10)?!1:!0},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.addDouble("m00",this.m00);a.addDouble("m01",this.m01);a.addDouble("m02",this.m02);a.addDouble("m10",this.m10);a.addDouble("m11",this.m11);a.addDouble("m12",this.m12);return a},populateFromSerialized:function(a){this.m00=a.getNodeById("m00").asPrimitive().getNumberValue$1(0);this.m01=a.getNodeById("m01").asPrimitive().getNumberValue$1(0);this.m02=a.getNodeById("m02").asPrimitive().getNumberValue$1(0);this.m10=a.getNodeById("m10").asPrimitive().getNumberValue$1(0);this.m11=a.getNodeById("m11").asPrimitive().getNumberValue$1(0);
this.m12=a.getNodeById("m12").asPrimitive().getNumberValue$1(0);return this}});b.com_ibm_vis_engine_internal_Affine.identity=function(){return b.com_ibm_vis_engine_internal_Affine.IT_1};b.com_ibm_vis_engine_internal_Affine.makeRotation=function(a,d,c){var e=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(a));a=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(a));return new b.com_ibm_vis_engine_internal_Affine(e,-a,d-e*d+a*c,a,e,c-a*d-e*c)};b.com_ibm_vis_engine_internal_Affine.makeTransform=
function(a,d){return new b.com_ibm_vis_engine_internal_Affine(1,0,a,0,1,d)};b.com_ibm_vis_engine_internal_Affine.makeIntTransform=function(a,d){return b.com_ibm_vis_engine_internal_Affine.makeTransform(Math.round(a),Math.round(d))};b.com_ibm_vis_engine_internal_Affine.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_Affine(0,0,0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_Affine.IT_1=
new b.com_ibm_vis_engine_internal_Affine(1,0,0,0,1,0)});b.com_ibm_vis_scenetree_provisional_SceneNode=b.com_ibm_init_declare.implement({getId:function(){},getType:function(){},getClassId:function(){},getClipBounds:function(){},getTransform:function(){},isVisible:function(){},getShape:function(){},getMeta:function(a){},getField:function(){},getValue:function(){},getChildren:function(){},getZOrder:function(){},getUserData:function(){},translate:function(a,b){},intTranslate:function(a,b){},clipTo:function(a){},
getPhysicalBounds:function(){},getRenderStyleInfo:function(){}});b.com_ibm_vis_scenetree_provisional_SceneNodeClassId=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP=new b.com_ibm_vis_scenetree_provisional_SceneNodeClassId("GROUP");b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP=new b.com_ibm_vis_scenetree_provisional_SceneNodeClassId("ELEMENT_GROUP");b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE=
new b.com_ibm_vis_scenetree_provisional_SceneNodeClassId("SHAPE");b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SCHEMA_SHAPE=new b.com_ibm_vis_scenetree_provisional_SceneNodeClassId("SCHEMA_SHAPE");b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES=new b.com_ibm_vis_scenetree_provisional_SceneNodeClassId("COORDINATES");b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COMPOSITE_NODE=new b.com_ibm_vis_scenetree_provisional_SceneNodeClassId("COMPOSITE_NODE");b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.values=
function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_scenetree_provisional_SceneNodeClassId)};b.com_ibm_vis_scenetree_provisional_StyleInfo=b.com_ibm_init_declare.implement({getFillProperty:function(){},getOutlineProperty:function(){},getStrokeProperty:function(){},getImageProperty:function(){},getEffectProperty:function(){}});b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_StyleInfo,{getFillProperty:function(){return this.getRenderFill()},
getStrokeProperty:function(){return this.getRenderStroke()},getOutlineProperty:function(){var a=this.getRenderStroke();return a?a.co_3:null},getImageProperty:function(){return this.getRenderImage()},getEffectProperty:function(){return this.getRenderEffects()}});b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_ADDED_KEY=0;b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_STYLE_OVERRIDE_KEY=1;b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_GEOMETRY_KEY=2;b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_STYLE_KEY=
3;b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_TEXT_KEY=4;b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_CLIP_KEY=5;b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo.EFFECT_TRANSFORM_KEY=6;b.com_ibm_vis_scenetree_provisional_TextInfo=b.com_ibm_init_declare.implement({getNonTransformedBounds:function(){},getText:function(){},getFont:function(){},getTextAlign:function(){},getTextVAlign:function(){},getAnchorPoint:function(){},getTextSize:function(){},requiredPreciseAscent:function(){}});
b.com_ibm_vis_engine_internal_grammar_units_MeasureType=b.com_ibm_init_declare({constructor:function(a){this.name=a},toString:function(){return this.name}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_units_MeasureType.LENGTH=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("length");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.MASS=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("mass");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.COUNT=
new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("count");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.TIME=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("time");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.DATETIME=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("datetime");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.TEMPERATURE=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("temperature");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.ANGLE=
new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("angle");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.CURRENCY=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("currency");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.CATEGORY=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("category");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.ORDINAL=new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("ordinal");b.com_ibm_vis_engine_internal_grammar_units_MeasureType.NUMERIC=
new b.com_ibm_vis_engine_internal_grammar_units_MeasureType("numeric")});b.com_ibm_vis_engine_internal_grammar_units_Measure=b.com_ibm_init_declare({categorical:!1,zeroMeaningful:!1,constructor:function(a,d,c){this.type=a;this.categorical=d;this.zeroMeaningful=c;this.units=new b.com_ibm_rave_codegenerator_util_List},toString:function(){return this.type.name},isGeneric:function(){return this.type==b.com_ibm_vis_engine_internal_grammar_units_Measure.NUMERIC.type||this.type==b.com_ibm_vis_engine_internal_grammar_units_Measure.CATEGORY.type},
matches:function(a){return this.type==a.type||this.type==b.com_ibm_vis_engine_internal_grammar_units_Measure.NUMERIC.type&&!a.categorical||a.type==b.com_ibm_vis_engine_internal_grammar_units_Measure.NUMERIC.type&&!this.categorical||this.type==b.com_ibm_vis_engine_internal_grammar_units_Measure.CATEGORY.type&&a.categorical||a.type==b.com_ibm_vis_engine_internal_grammar_units_Measure.CATEGORY.type&&this.categorical?!0:!1}});b.com_ibm_vis_engine_internal_grammar_units_Measure.PT_IN=.0138888889;b.com_ibm_vis_engine_internal_grammar_units_Measure.PC_IN=
.1666666667;b.com_ibm_vis_engine_internal_grammar_units_Measure.CM_IN=.3937007874;b.com_ibm_vis_engine_internal_grammar_units_Measure.MM_IN=.0393700787;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.LENGTH,!1,!0);b.com_ibm_vis_engine_internal_grammar_units_Measure.MASS=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.MASS,
!1,!0);b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.COUNT,!1,!0);b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.TIME,!1,!1);b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.DATETIME,
!1,!1);b.com_ibm_vis_engine_internal_grammar_units_Measure.TEMPERATURE=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.TEMPERATURE,!1,!0);b.com_ibm_vis_engine_internal_grammar_units_Measure.ANGLE=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.ANGLE,!1,!1);b.com_ibm_vis_engine_internal_grammar_units_Measure.CURRENCY=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.CURRENCY,
!1,!0);b.com_ibm_vis_engine_internal_grammar_units_Measure.CATEGORY=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.CATEGORY,!0,!1);b.com_ibm_vis_engine_internal_grammar_units_Measure.ORDINAL=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.ORDINAL,!0,!1);b.com_ibm_vis_engine_internal_grammar_units_Measure.NUMERIC=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.NUMERIC,
!1,!0);b.com_ibm_vis_engine_internal_grammar_units_Measure.LOG=new b.com_ibm_vis_engine_internal_grammar_units_Measure(b.com_ibm_vis_engine_internal_grammar_units_MeasureType.NUMERIC,!1,!1)});b.com_ibm_vis_engine_internal_grammar_units_Unit=b.com_ibm_init_declare({baseConversionFactor:0,minorDivisions:0,pe_1:!1,ci_2:!1,isCustomUnit:function(){return this.ci_2},constructor:function(a,d,c,e,g,k,s,f,u){this.name=a;this.abbreviation=d;this.pe_1=c;this.measure=e;this.system=g;this.baseConversionFactor=
k;this.multipliers=s;this.minorDivisions=f;this.ci_2=u;b.com_ibm_vis_engine_internal_grammar_units_Unit.all.put(a,this);e.units.add(this)},toString:function(){return this.name},equals:function(a){return null!=a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_units_Unit)?this==a?!0:this.ci_2?a.ci_2&&this.name==a.name&&this.measure.matches(a.measure):!1:!1},hashCode:function(){return this.name.hashCode()},isPrefixAbbrev:function(){return this.pe_1},getMatchingLevel:function(a){return a&&
a.measure.matches(this.measure)?a.system!=this.system?b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.MEASURE_MATCH:a.name==this.name?b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.UNIT_MATCH:b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.SYSTEM_MATCH:b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.NO_MATCH}});b.com_ibm_vis_engine_internal_grammar_units_Unit.get=function(a,d){if(null==a)return d;var c=b.com_ibm_vis_engine_internal_grammar_units_Unit.all.get(a.toLowerCase());
return c?c:new b.com_ibm_vis_engine_internal_grammar_units_Unit(a.toLowerCase(),"",!1,d.measure,a,1,d.multipliers,d.minorDivisions,!0)};b.com_ibm_vis_engine_internal_grammar_units_Unit.isWildCard=function(a){return a==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIME?!0:!1};b.com_ibm_vis_engine_internal_grammar_units_Unit.isTime=function(a){return a==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?!0:!1};b.com_ibm_vis_engine_internal_grammar_units_Unit.FR_1=
.3048;b.com_ibm_vis_engine_internal_grammar_units_Unit.PM_1=453.59237;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_units_Unit.all=new b.com_ibm_rave_codegenerator_util_Map(30);b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1=[2,2.5,5,10];b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1=[2,5,10];b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1=[.5,2,3,6,12,24];b.com_ibm_vis_engine_internal_grammar_units_Unit.B6_1=[.5,2,3,6,12,15,30];b.com_ibm_vis_engine_internal_grammar_units_Unit.BE_1=
[.5,2,4,8,16];b.com_ibm_vis_engine_internal_grammar_units_Unit.METER=new b.com_ibm_vis_engine_internal_grammar_units_Unit("meter","m",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH,"metric",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTIMETER=new b.com_ibm_vis_engine_internal_grammar_units_Unit("centimeter","cm",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH,"metric",.01,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.KILOMETER=new b.com_ibm_vis_engine_internal_grammar_units_Unit("kilometer","km",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH,"metric",1E3,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.FOOT=new b.com_ibm_vis_engine_internal_grammar_units_Unit("foot","ft",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH,"imperial",.3048,b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.INCH=new b.com_ibm_vis_engine_internal_grammar_units_Unit("inch","in",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH,"imperial",.3048/12,b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.MILE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("mile","m",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LENGTH,"imperial",1609.344,b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.GRAM=new b.com_ibm_vis_engine_internal_grammar_units_Unit("gram","g",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.MASS,"metric",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.KILOGRAM=new b.com_ibm_vis_engine_internal_grammar_units_Unit("kilogram","kg",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.MASS,"metric",1E3,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.OUNCE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("ounce","oz",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.MASS,"imperial",28.349523125,b.com_ibm_vis_engine_internal_grammar_units_Unit.BE_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.POUND=new b.com_ibm_vis_engine_internal_grammar_units_Unit("pound","lb",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.MASS,"imperial",453.59237,b.com_ibm_vis_engine_internal_grammar_units_Unit.BE_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.TON=new b.com_ibm_vis_engine_internal_grammar_units_Unit("ton","t",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.MASS,"imperial",907184.74,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.COUNT=new b.com_ibm_vis_engine_internal_grammar_units_Unit("count","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"metric",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.KILO=new b.com_ibm_vis_engine_internal_grammar_units_Unit("thousands","k",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"metric",1E3,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.MEGA=new b.com_ibm_vis_engine_internal_grammar_units_Unit("millions","m",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"metric",1E6,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.BYTE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("byte","b",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"storage",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.KILOBYTE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("kilobyte","k",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"storage",1024,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.MEGABYTE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("megabyte","M",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"storage",1048576,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.GIGABYTE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("gigabyte","G",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"storage",1073741824,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,
4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.TERABYTE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("terabyte","T",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.COUNT,"storage",1099511627776,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("date","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME,"metric",86400,null,-1,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP=
new b.com_ibm_vis_engine_internal_grammar_units_Unit("timestamp","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME,"metric",1,null,-1,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND=new b.com_ibm_vis_engine_internal_grammar_units_Unit("second","s",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.B6_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.MINUTE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("minute",
"m",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",60,b.com_ibm_vis_engine_internal_grammar_units_Unit.B6_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.HOUR=new b.com_ibm_vis_engine_internal_grammar_units_Unit("hour","h",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",3600,b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY=new b.com_ibm_vis_engine_internal_grammar_units_Unit("day","d",
!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",86400,[2,7,14],4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.WEEK=new b.com_ibm_vis_engine_internal_grammar_units_Unit("week","wk",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",604800,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,7,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH=new b.com_ibm_vis_engine_internal_grammar_units_Unit("month","mth",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,
"metric",2629800,b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.QUARTER=new b.com_ibm_vis_engine_internal_grammar_units_Unit("quarter","q",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",7889400,b.com_ibm_vis_engine_internal_grammar_units_Unit.BE_1,3,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR=new b.com_ibm_vis_engine_internal_grammar_units_Unit("year","yr",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,
"metric",31557600,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,5,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTURY=new b.com_ibm_vis_engine_internal_grammar_units_Unit("century","C.",!0,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,"metric",315576E4,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.TIME=new b.com_ibm_vis_engine_internal_grammar_units_Unit("time","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME,
"metric",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.B1_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.KELVIN=new b.com_ibm_vis_engine_internal_grammar_units_Unit("kelvin","K",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TEMPERATURE,"kelvin",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.CELSIUS=new b.com_ibm_vis_engine_internal_grammar_units_Unit("celcius","C",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TEMPERATURE,
"celsisu",0,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.FAHRENHEIT=new b.com_ibm_vis_engine_internal_grammar_units_Unit("fahrenheit","F",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.TEMPERATURE,"fahrenheit",0,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.RADIAN=new b.com_ibm_vis_engine_internal_grammar_units_Unit("radian","r",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.ANGLE,
"metric",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.DEGREE=new b.com_ibm_vis_engine_internal_grammar_units_Unit("degree","deg",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.ANGLE,"imperial",.017453292519943295,b.com_ibm_vis_engine_internal_grammar_units_Unit.B6_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.DOLLARS=new b.com_ibm_vis_engine_internal_grammar_units_Unit("dollar","$",!0,b.com_ibm_vis_engine_internal_grammar_units_Measure.CURRENCY,
"dollar",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.EURO=new b.com_ibm_vis_engine_internal_grammar_units_Unit("euro","\u20ac",!0,b.com_ibm_vis_engine_internal_grammar_units_Measure.CURRENCY,"euro",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL=new b.com_ibm_vis_engine_internal_grammar_units_Unit("categorical","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.CATEGORY,
"none",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,0,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.ORDINAL=new b.com_ibm_vis_engine_internal_grammar_units_Unit("ordinal","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.ORDINAL,"none",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.IA_1,0,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO=new b.com_ibm_vis_engine_internal_grammar_units_Unit("numeric","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.NUMERIC,
"none",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1);b.com_ibm_vis_engine_internal_grammar_units_Unit.LOG=new b.com_ibm_vis_engine_internal_grammar_units_Unit("log","",!1,b.com_ibm_vis_engine_internal_grammar_units_Measure.LOG,"none",1,b.com_ibm_vis_engine_internal_grammar_units_Unit.MI_1,4,!1)});b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.NO_MATCH=
new b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes("NO_MATCH");b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.MEASURE_MATCH=new b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes("MEASURE_MATCH");b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.SYSTEM_MATCH=new b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes("SYSTEM_MATCH");b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.UNIT_MATCH=new b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes("UNIT_MATCH");
b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes)};b.com_ibm_vis_engine_internal_data_Range=b.com_ibm_init_declare({min:0,delta:-1,precision:-1,max:0,range:0,constructor:function(a,b){a>b?(this.min=b,this.max=a):(this.min=a,this.max=b);this.range=this.max-this.min},fromZeroOne:function(a){return this.min+this.range*a},toZeroOne:function(a){return 0==this.range?
a==this.min?.5:-1:(a-this.min)/this.range},unionValue:function(a){if(a>=this.min&&a<=this.max||a!=a)return this;var b=this.min,c=this.max;b!=b&&(b=a);c!=c&&(c=a);if(b>c)var e=b,b=c,c=e;a<b?b=a:a>c&&(c=a);return this.createTargetRange(b,c)},createTargetRange:function(a,d){return new b.com_ibm_vis_engine_internal_data_Range(a,d)},within:function(a){return this.min<a&&this.max>a},contains:function(a){return this.min<=a&&this.max>=a},containsTolerantly:function(a,b){return a>=this.min-b&&a<=this.max+
b},isEmpty:function(){return this.min!=this.min&&this.max!=this.max},complete:function(a){return this.isComplete()?this:new b.com_ibm_vis_engine_internal_data_Range(this.min!=this.min?a.min:this.min,this.max!=this.max?a.max:this.max)},isComplete:function(){return this.range==this.range},clamp:function(a){return a>this.max?this.max:a<this.min?this.min:a},expandedBy:function(a,d){return new b.com_ibm_vis_engine_internal_data_Range(this.min-a,this.max+d)},expand:function(a){return a!=a||0==a?this:0>
a&&this.range<=-2*a?(a=this.min+this.range/2,new b.com_ibm_vis_engine_internal_data_Range(a,a)):this.expandedBy(a,a)},mid:function(){return(this.min+this.max)/2},getFormattingPrecision:function(){var a=0,b=1E5<this.max||1E-5>Math.abs(this.max)?this.range/this.max:this.range;0<b&&1>b&&(a=0-Math.floor(Math.log(b)/Math.log(10))+2);return Math.round(a)},containsRange:function(a){return this.contains(a.min)&&this.contains(a.max)},overlaps:function(a){return this.max>a.min&&this.min<a.max},getOverlap:function(a){if(!this.overlaps(a))return 0;
var b=Math.max(this.min,a.min);return Math.min(this.max,a.max)-b},toString:function(){return"["+this.min+", "+this.max+"]"},hashCode:function(){return Math.round(this.min)+Math.round(this.max)},equals:function(a){if(this==a)return!0;if(null==a)return!1;try{if(this.isEmpty()&&a.isEmpty())return!0;if(this.max!=a.max||this.min!=a.min)return!1}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))return!1;throw d;}return!0},createUnion:function(a){var d;d=a.min!=a.min?this.min:this.min!=
this.min?a.min:Math.min(a.min,this.min);a=a.max!=a.max?this.max:this.max!=this.max?a.max:Math.max(a.max,this.max);return new b.com_ibm_vis_engine_internal_data_Range(d,a)},intersect:function(a){var d=a.min,c=a.max;a.contains(this.min)&&(d=this.min);a.contains(this.max)&&(c=this.max);return new b.com_ibm_vis_engine_internal_data_Range(d,c)},getMin:function(){return this.min},getMax:function(){return this.max},getRange:function(){return this.range},getDelta:function(){return this.delta},calculateDeltaAndPrecision:function(a){this.max!=
this.max&&(this.delta=-1);for(var b=0,c=0,e=this.range/a;0!=e-Math.floor(e);)e*=10,c++,b=c;this.precision=Math.round(b);this.delta=a},getPrecision:function(){return this.precision},setPrecision:function(a){this.precision=a},setMin:function(a){this.min=a;this.range=this.max-a},setMax:function(a){this.max=a;this.range=a-this.min},remap:function(a){if(!a||a==b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE)return this.copy();var d=this.range*a.range;a=a.min+d*this.min/this.range;return new b.com_ibm_vis_engine_internal_data_Range(a,
a+d)},copy:function(){return new b.com_ibm_vis_engine_internal_data_Range(this.min,this.max)}});b.com_ibm_vis_engine_internal_data_Range.makeInverse=function(a,d){var c=d-a,e=-a/c;return new b.com_ibm_vis_engine_internal_data_Range(e,e+1/c)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_data_Range.EMPTY=new b.com_ibm_vis_engine_internal_data_Range(NaN,NaN);b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE=new b.com_ibm_vis_engine_internal_data_Range(0,1);b.com_ibm_vis_engine_internal_data_Range.ZERO=
new b.com_ibm_vis_engine_internal_data_Range(0,0)});b.com_ibm_vis_engine_internal_grammar_units_UnitConverter=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert=function(a,d,c){if(d==c)return a;if(d.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME&&c.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME){if(c==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE)return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,
d,b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY);if(c==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP)return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,d,b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND)}if(c.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME&&d.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME){if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE)return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,
b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY,c);if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP)return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND,c)}if(d.measure!=c.measure)return d.measure.matches(c.measure)?a:NaN;var e=d.baseConversionFactor,g=c.baseConversionFactor;return 0==e||0==g?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ce$1(a,d,c):a*e/g};b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange=
function(a,d,c){var e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a.min,d,c);a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a.max,d,c);return new b.com_ibm_vis_engine_internal_data_Range(e,a)};b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ce$1=function(a,d,c){if(d.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.TEMPERATURE){if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.CELSIUS&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.FAHRENHEIT)return 1.8*
a+32;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.FAHRENHEIT&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.CELSIUS)return(a-32)/1.8;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.CELSIUS&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.KELVIN)return a+273.15;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.KELVIN&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.CELSIUS)return a-273.15;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.FAHRENHEIT&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.KELVIN)return(a-
32)/1.8+273.15;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.KELVIN&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.FAHRENHEIT)return 1.8*(a-273.15)+32}else if(d.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME){if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR)return a/12;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR&&c==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH)return 12*
a}return NaN};b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength=function(a,d,c){if(null==a)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return a!=a?null:a;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){var e=a.length;if(a.CPVISEngineEndsWith("%")){var g=null;return null!=d&&(g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-1),d/100),null!=g)?g:a.CPVISEngineEndsWith("%%")?null==c?null:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,
e-2),c/100):null}return a.CPVISEngineEndsWith("px")?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-2),1):a.CPVISEngineEndsWith("pt")?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-2),1.3333333344):a.CPVISEngineEndsWith("pc")?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-2),16.0000000032):a.CPVISEngineEndsWith("cm")?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-2),.3937007874*
96):a.CPVISEngineEndsWith("mm")?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-2),.0393700787*96):a.CPVISEngineEndsWith("in")?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a.substring(0,e-2),96):b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1(a,1)}e=null==a.preferred?null:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.preferred,d,c);g=null==a.max?null:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.max,
d,c);a=null==a.min?null:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.min,d,c);null==e?e=null!=g&&null!=a?(g+a)/2:null==g?a:g:(null!=g&&(e=e>g?g:e),null!=a&&(e=e<a?a:e));return e};b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.isNegativeLength=function(a){return null==a?!1:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?0>a:a.CPVISEngineStartsWith("-")};b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.ts$1=function(a,d){try{var c=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a)*
d;return c!=c?null:c}catch(e){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,Error))return null;throw e;}};b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.IN_PX=96;b.com_ibm_vis_scenetree_provisional_FillProperty=b.com_ibm_init_declare.implement({getSolid:function(){},getGradientColors:function(){}});b.com_ibm_vis_engine_internal_Fill=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_FillProperty,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{constructor:function(a,
b){this.si_1=a;this.gn_1=b},getSolid:function(){return this.si_1},getGradientColors:function(){return this.gn_1?this.gn_1.getGradientColors():null},getGradient:function(){return this.gn_1},equals:function(a){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_Fill)?this.si_1?this.si_1===a.si_1:this.gn_1?this.gn_1===a.gn_1:!a.si_1&&!a.gn_1:!1},hashCode:function(){var a=this.si_1?this.si_1.hashCode():0;return a=17*a+(this.gn_1?this.gn_1.hashCode():0)},createSerializableComposite:function(){var a=
new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("solid",this.si_1));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("gradient",this.gn_1));return a},populateFromSerialized:function(a){var d=a.getNodeById("solid");a=a.getNodeById("gradient");this.si_1=b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized(d);this.gn_1=b.com_ibm_vis_engine_internal_Gradient.createFromSerialized(a);
return this}});b.com_ibm_vis_engine_internal_Fill.createFill=function(a,d){var c=0;d&&(c|=d.getIndex()<<16);a&&(c|=a.ie_1);if(0==c)return b.com_ibm_vis_engine_internal_Fill.EL_1;var e=b.com_ibm_vis_engine_internal_ColorCache.getColorCache(),g=e.getFill(c);g||(g=new b.com_ibm_vis_engine_internal_Fill(a,d),e.addFill(g,c));return g};b.com_ibm_vis_engine_internal_Fill.getDefaultStrokeFill=function(){return b.com_ibm_vis_engine_internal_Fill.DL_2};b.com_ibm_vis_engine_internal_Fill.getDefaultFill=function(){return b.com_ibm_vis_engine_internal_Fill.DL_1};
b.com_ibm_vis_engine_internal_Fill.makeEmptyFill=function(){return b.com_ibm_vis_engine_internal_Fill.EL_1};b.com_ibm_vis_engine_internal_Fill.makeSolid=function(a){return b.com_ibm_vis_engine_internal_Fill.createFill(a,null)};b.com_ibm_vis_engine_internal_Fill.makeGradient=function(a){return b.com_ibm_vis_engine_internal_Fill.createFill(null,a)};b.com_ibm_vis_engine_internal_Fill.makeCopy=function(a){return a?b.com_ibm_vis_engine_internal_Fill.createFill(a.si_1,a.gn_1):null};b.com_ibm_vis_engine_internal_Fill.createFromSerialized=
function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_Fill(null,null);d.populateFromSerialized(a);return d};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_Fill.DL_2=b.com_ibm_vis_engine_internal_Fill.makeSolid(b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor());b.com_ibm_vis_engine_internal_Fill.DL_1=b.com_ibm_vis_engine_internal_Fill.makeSolid(b.com_ibm_vis_engine_internal_ColorUtil.getDefaultFillColor());b.com_ibm_vis_engine_internal_Fill.EL_1=
new b.com_ibm_vis_engine_internal_Fill(null,null)});b.com_ibm_vis_engine_internal_GradientPaintInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_FillProperty,{type:0,x1:0,y1:0,x2:0,y2:0,cx:0,cy:0,cr:0,constructor:function(a,d,c,e,g,k,s,f,u,h){this.type=a;this.x1=c;this.y1=e;this.x2=g;this.y2=k;this.cx=s;this.cy=f;this.cr=u;this.so_4=h;if(d&&0!=d.length){c=b.com_ibm_rave_codegenerator_lang_Array.create([d.length],0);for(a=0;a<d.length;++a)c[a]=d[a].oe_2;c=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(c);
this.ot_1=b.com_ibm_rave_codegenerator_lang_Array.create([d.length],0);this.cr_2=Array(d.length);for(a=0;a<d.length;++a)this.ot_1[a]=d[c[a]].oe_2,this.cr_2[a]=d[c[a]].co_1}else this.ot_1=b.com_ibm_vis_engine_internal_GradientPaintInfo.et_1,this.cr_2=b.com_ibm_vis_engine_internal_GradientPaintInfo.er_1},getSolid:function(){return this.so_4},getGradientColors:function(){if(this.cr_2&&0<this.cr_2.length){for(var a=Array(this.cr_2.length),b=0;b<this.cr_2.length;++b)a[b]=this.cr_2[b];return a}return null},
getType:function(){return this.type},getOffsets:function(){return this.ot_1},getColors:function(){return this.cr_2},getX1:function(){return this.x1},getY1:function(){return this.y1},getX2:function(){return this.x2},getY2:function(){return this.y2},getCx:function(){return this.cx},getCy:function(){return this.cy},getCr:function(){return this.cr},fadeAlpha:function(a){for(var d=this.so_4?this.so_4.fadeAlpha(a):null,c=Array(this.cr_2.length),e=0;e<c.length;++e)c[e]=new b.com_ibm_vis_engine_internal_GradientStop(this.cr_2[e].fadeAlpha(a),
this.ot_1[e]);return new b.com_ibm_vis_engine_internal_GradientPaintInfo(this.type,c,this.x1,this.y1,this.x2,this.y2,this.cx,this.cy,this.cr,d)},moveBy:function(a,d){for(var c=Array(this.cr_2.length),e=0;e<c.length;++e)c[e]=new b.com_ibm_vis_engine_internal_GradientStop(this.cr_2[e],this.ot_1[e]);return new b.com_ibm_vis_engine_internal_GradientPaintInfo(this.type,c,this.x1+a,this.y1+d,this.x2+a,this.y2+d,this.cx+a,this.cy+d,this.cr,this.so_4)}});b.com_ibm_vis_engine_internal_GradientPaintInfo.makeSolid=
function(a){return new b.com_ibm_vis_engine_internal_GradientPaintInfo(1E3,null,0,0,0,0,0,0,0,a)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_GradientPaintInfo.et_1=b.com_ibm_rave_codegenerator_lang_Array.create([0],0);b.com_ibm_vis_engine_internal_GradientPaintInfo.er_1=[]});b.com_ibm_vis_engine_internal_GradientStop=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{oe_2:0,constructor:function(a,b){this.co_1=a;this.oe_2=b},getOffset:function(){return this.oe_2},
getColor:function(){return this.co_1},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("color",this.co_1));a.addDouble("offset",this.oe_2);return a},populateFromSerialized:function(a){this.oe_2=a.getNodeById("offset").asPrimitive().getNumberValue$1(0);this.co_1=b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized(a.getNodeById("color"));
return this}});b.com_ibm_vis_engine_internal_GradientStop.fromSpec=function(a){if(!a)throw new b.com_ibm_vis_exceptions_internal_SpecException('Gradient fill: missing "colors"',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(0==a.length)throw new b.com_ibm_vis_exceptions_internal_SpecException('Gradient fill: empty "colors"',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);for(var d=a.length,c=Array(d),e=0;e<d;++e){var g=a[e],k;k=null==g.color?b.com_ibm_vis_engine_internal_ColorUtil.getDefaultFillColor():
b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(g.color);g=null==g.offset?1==d?0:e/(d-1):g.offset;if(0>g||1<g)throw new b.com_ibm_vis_exceptions_internal_SpecException('Gradient fill: "colors" offsets must be between 0.0 and 1.0',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);c[e]=new b.com_ibm_vis_engine_internal_GradientStop(k,g)}return c};b.com_ibm_vis_engine_internal_GradientStop.modifyGradientWithSolid=function(a,d){for(var c=Array(a.length),e=0;e<a.length;++e)c[e]=new b.com_ibm_vis_engine_internal_GradientStop(b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(d,
a[e].co_1),a[e].oe_2);return c};b.com_ibm_vis_engine_internal_GradientStop.modifySolidWithGradient=function(a,d){for(var c=Array(a.length),e=0;e<a.length;++e)c[e]=new b.com_ibm_vis_engine_internal_GradientStop(b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(a[e].co_1,d),a[e].oe_2);return c};b.com_ibm_vis_engine_internal_GradientStop.interpolateWithColor=function(a,d,c){for(var e=Array(a.length),g=0;g<a.length;++g)e[g]=new b.com_ibm_vis_engine_internal_GradientStop(b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor(a[g].co_1,
d,c),a[g].oe_2);return e};b.com_ibm_vis_engine_internal_GradientStop.interpolateStops=function(a,d,c){for(var e=Array(a.length),g=0;g<a.length;++g){var k=b.com_ibm_vis_engine_internal_ColorUtil.interpolateDouble(a[g].oe_2,d[g].oe_2,c);e[g]=new b.com_ibm_vis_engine_internal_GradientStop(b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor(a[g].co_1,d[g].co_1,c),k)}return e};b.com_ibm_vis_engine_internal_GradientStop.createFromSerialized=function(a){if(a._l_1)return null;var d=a.getNodes();a=Array(d.size());
for(var c=0,e=0,d=d.arrayIterator(),g=d.length;e<g;++e){var k=d[e],s=new b.com_ibm_vis_engine_internal_GradientStop(null,0);s.populateFromSerialized(k);a[c++]=s}return a};b.com_ibm_vis_engine_internal_GradientType=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_GradientType.getByName=function(a){return null==a||"linear"==a?1E3:b.com_ibm_vis_internal_SpecConstants.LINEARBYYDIMENSION==a?1001:b.com_ibm_vis_internal_SpecConstants.LINEARBYXDIMENSION==a?1002:"radial"==a?1003:-1};b.com_ibm_vis_engine_internal_GradientType.linear=
1E3;b.com_ibm_vis_engine_internal_GradientType.linearByYDimension=1001;b.com_ibm_vis_engine_internal_GradientType.linearByXDimension=1002;b.com_ibm_vis_engine_internal_GradientType.radial=1003;b.com_ibm_vis_engine_internal_Gradient=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{ie_2:0,type:0,ga_2:!1,al_1:0,constructor:function(a,d,c,e,g,k,s){b.com_ibm_vis_engine_internal_Gradient.se$2(this);this.type=a;this.ga_2=d;this.al_1=c;this.fs_1=e;this.fs_2=g;this.sp_1=
k;this.do_3=s},getIndex:function(){return this.ie_2},getGradientColors:function(){if(!this.sp_1||0==this.sp_1.length)return null;for(var a=Array(this.sp_1.length),b=0;b<this.sp_1.length;++b)a[b]=this.sp_1[b].co_1;return a},makePaintInfo:function(a,d){var c=a;this.ga_2&&d&&(c=d);if(!c)throw new b.com_ibm_vis_exceptions_internal_EngineException("Null local geometry provided to makePaintInfo",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);var e,g,k,s,f,u;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,
b.com_ibm_vis_geom_Rect))e=c.x,g=c.y,k=c.wt_3,s=c.hh_2,c=e+k/2,f=g+s/2,u=Math.sqrt((c-e)*(c-e)+(f-g)*(f-g));else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_geom_Circle))k=c,c=k.x,f=k.y,u=k.r,k=2*u,s=2*u;else throw new b.com_ibm_vis_exceptions_internal_EngineException("Geometry provided to makePaintInfo must be a Rect or Circle",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);var h;if(1003==this.type)1>u&&(h=this.do_3);else if(1>k||1>s)h=this.do_3;e=c;g=f;
var l=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.fs_1,2*u,2*u);null!=l&&(e=e-u+l);l=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.fs_2,2*u,2*u);null!=l&&(g=g-u+l);var m=this.al_1,l=Math.sin(m),m=Math.cos(m);k=s*Math.abs(l)/2+k*Math.abs(m)/2;return new b.com_ibm_vis_engine_internal_GradientPaintInfo(this.type,this.sp_1,c-m*k,f+l*k,c+m*k,f-l*k,e,g,u,h)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.addInteger("type",this.type);a.addBoolean("global",this.ga_2);a.addDouble("angle",this.al_1);a.addObject("focusX",this.fs_1);a.addObject("focusY",this.fs_2);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("stops",this.sp_1));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("defaultColor",this.do_3));return a},populateFromSerialized:function(a){this.type=a.getNodeById("type").asPrimitive().getNumberValue$1(-1);this.ga_2=a.getNodeById("global").asPrimitive().getBooleanValue$1(!1);
this.al_1=a.getNodeById("angle").asPrimitive().getNumberValue$1(0);this.fs_1=a.getNodeById("focusX").asPrimitive().getValue();this.fs_2=a.getNodeById("focusY").asPrimitive().getValue();this.sp_1=b.com_ibm_vis_engine_internal_GradientStop.createFromSerialized(a.getNodeById("stops"));this.do_3=b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized(a.getNodeById("defaultColor"));return this}});b.com_ibm_vis_engine_internal_Gradient.se$2=function(a){a.ie_2=b.com_ibm_vis_engine_internal_Gradient.ce_3++;
3E4<b.com_ibm_vis_engine_internal_Gradient.ce_3&&(b.com_ibm_vis_engine_internal_Gradient.ce_3=1)};b.com_ibm_vis_engine_internal_Gradient.makeFromSpec=function(a,d){var c=a.getCachedObject();if(!c){c=b.com_ibm_vis_engine_internal_GradientType.getByName(a.type);if(-1==c)throw new b.com_ibm_vis_exceptions_internal_SpecException('Invalid gradient type "'+a.type+'"',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);var e=!1;null!=a.global&&(e=a.global.valueOf());var g=0;null!=a.angle&&(g=a.angle);
var k=null,s=null;a.focus&&(k=a.focus.x,s=a.focus.y);var f=b.com_ibm_vis_engine_internal_GradientStop.fromSpec(a.colors),c=new b.com_ibm_vis_engine_internal_Gradient(c,e,3.141592653589793*g/180,k,s,f,d);a.setCachedObject(c)}return c};b.com_ibm_vis_engine_internal_Gradient.isValidGradientType=function(a){return null==a?!1:-1!=b.com_ibm_vis_engine_internal_GradientType.getByName(a)};b.com_ibm_vis_engine_internal_Gradient.modifyGradientWithSolid=function(a,d){var c=a.ie_2<<16|d.ie_1,e=b.com_ibm_vis_engine_internal_ColorCache.getColorCache(),
g=e.getGradientColor(c);g||(g=new b.com_ibm_vis_engine_internal_Gradient(a.type,a.ga_2,a.al_1,a.fs_1,a.fs_2,b.com_ibm_vis_engine_internal_GradientStop.modifyGradientWithSolid(a.sp_1,d),a.do_3),e.addGradientColor(g,c));return g};b.com_ibm_vis_engine_internal_Gradient.modifySolidWithGradient=function(a,d){var c=a.ie_2<<16|d.ie_1,e=b.com_ibm_vis_engine_internal_ColorCache.getColorCache(),g=e.getColorGradient(c);g||(g=new b.com_ibm_vis_engine_internal_Gradient(a.type,a.ga_2,a.al_1,a.fs_1,a.fs_2,b.com_ibm_vis_engine_internal_GradientStop.modifySolidWithGradient(a.sp_1,
d),a.do_3),e.addColorGradient(g,c));return g};b.com_ibm_vis_engine_internal_Gradient.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_Gradient(-1,!1,0,null,null,null,null);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_Gradient.ce_3=1;b.com_ibm_vis_scenetree_provisional_ShapeProperty=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_Stroke=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ShapeProperty,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],
{wt_1:0,constructor:function(a,b,c,e,g){this.wt_1=Math.max(0,a);this.dn_2=b;this.join=c;this.cap=e;this.co_3=g},getWidth:function(){return this.wt_1},getDashing:function(){return this.dn_2},getJoin:function(){return this.join},getCap:function(){return this.cap},getColor:function(){return this.co_3},createStrokeOfWidth:function(a){return a==this.wt_1?this:new b.com_ibm_vis_engine_internal_Stroke(a,this.dn_2,this.join,this.cap,this.co_3)},createStrokeWithDashing:function(a){return null==a&&null==this.dn_2||
null!=a&&a==this.dn_2?this:new b.com_ibm_vis_engine_internal_Stroke(this.wt_1,a,this.join,this.cap,this.co_3)},createStrokeWithColor:function(a){return new b.com_ibm_vis_engine_internal_Stroke(this.wt_1,this.dn_2,this.join,this.cap,a)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addDouble("width",this.wt_1);a.addString("dashing",this.dn_2);a.addObject("join",this.join);a.addString("cap",this.cap);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("color",
this.co_3));return a},populateFromSerialized:function(a){this.wt_1=a.getNodeById("width").asPrimitive().getNumberValue$1(0);this.dn_2=a.getNodeById("dashing").asPrimitive().getStringValue$0();this.join=a.getNodeById("join").asPrimitive().getValue();this.cap=a.getNodeById("cap").asPrimitive().getStringValue$0();this.co_3=b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized(a.getNodeById("color"));return this}});b.com_ibm_vis_engine_internal_Stroke.createFromSerialized=function(a){if(a._l_1)return null;
var d=new b.com_ibm_vis_engine_internal_Stroke(0,null,null,null,null);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE_WIDTH=1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE=new b.com_ibm_vis_engine_internal_Stroke(1,null,null,null,null)});b.com_ibm_vis_engine_internal_RenderEffects=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ShapeProperty,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],
{constructor:function(a,b){this.glow=a;this.so_5=b},getGlow:function(){return this.glow},getShadow:function(){return this.so_5},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("glow",this.glow));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("shadow",this.so_5));return a},populateFromSerialized:function(a){this.glow=
b.com_ibm_vis_engine_internal_RenderEffect.createFromSerialized(a.getNodeById("glow"));this.so_5=b.com_ibm_vis_engine_internal_RenderEffect.createFromSerialized(a.getNodeById("shadow"));return this}});b.com_ibm_vis_engine_internal_RenderEffects.makeFromStyle=function(a){if(!a||!a.glow&&!a.shadow)return null;var d=b.com_ibm_vis_engine_internal_RenderEffect.makeGlowFromStyle(a.glow);a=b.com_ibm_vis_engine_internal_RenderEffect.makeShadowFromStyle(a.shadow);return new b.com_ibm_vis_engine_internal_RenderEffects(d,
a)};b.com_ibm_vis_engine_internal_RenderEffects.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_RenderEffects(null,null);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_RenderEffect=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{se_4:0,dx:0,dy:0,constructor:function(a,b,c,e){this.co_2=a;this.se_4=b;this.dx=c;this.dy=e},getColor:function(){return this.co_2},getStdDev:function(){return this.se_4},
getDX:function(){return this.dx},getDY:function(){return this.dy},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("color",this.co_2));a.addDouble("stdDev",this.se_4);a.addDouble("dx",this.dx);a.addDouble("dy",this.dy);return a},populateFromSerialized:function(a){this.co_2=b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized(a.getNodeById("color"));
this.se_4=a.getNodeById("stdDev").asPrimitive().getNumberValue$1(0);this.dx=a.getNodeById("dx").asPrimitive().getNumberValue$1(0);this.dy=a.getNodeById("dy").asPrimitive().getNumberValue$1(0);return this}});b.com_ibm_vis_engine_internal_RenderEffect.makeGlowFromStyle=function(a){if(!a)return null;var d;d=null==a.color?b.com_ibm_vis_engine_internal_ColorUtil.getDefaultGlowColor():b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(a.color);a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stdDev,
2,2);return new b.com_ibm_vis_engine_internal_RenderEffect(d,null==a?2:a,0,0)};b.com_ibm_vis_engine_internal_RenderEffect.makeShadowFromStyle=function(a){if(!a)return null;var d;d=null==a.color?b.com_ibm_vis_engine_internal_ColorUtil.getDefaultShadowColor():b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(a.color);var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stdDev,2,2),c=null==c?2:c,e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.dx,
2,2),e=null==e?2:e;a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.dy,2,2);return new b.com_ibm_vis_engine_internal_RenderEffect(d,c,e,null==a?2:a)};b.com_ibm_vis_engine_internal_RenderEffect.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_RenderEffect(null,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_RenderEffect.DO_6=2;b.com_ibm_vis_engine_internal_RenderEffect.DO_9=2;b.com_ibm_vis_engine_internal_RenderEffect.DO_8=
2;b.com_ibm_vis_engine_internal_RenderEffect.DO_7=2;b.com_ibm_vis_engine_internal_ImageStyle=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ShapeProperty,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{ig_5:!1,constructor:function(a){if(a){var d=b.com_ibm_vis_engine_internal_image_ImageResource.create(a.source),c=new b.com_ibm_vis_geom_Rect(0,0,d.getWidth(),d.getHeight()),e="middle";null!=a.align&&(e=a.align);var g="middle";null!=a.valign&&(g=a.valign);var k=1;null!=
a.alpha&&(k=a.alpha,1<k&&(k=1));"texture"==a.method?(this.mo_10=new b.com_ibm_vis_engine_internal_image_TextureMethod(e,g),this.il_1=b.com_ibm_vis_engine_internal_image_ImageFill.createTexture(d,c,k,!0,1,1)):"fill"==a.method?(this.mo_10=new b.com_ibm_vis_engine_internal_image_FillMethod(e,g),this.il_1=b.com_ibm_vis_engine_internal_image_ImageFill.createFill(d,c,k,!0)):"fit"==a.method?(this.mo_10=new b.com_ibm_vis_engine_internal_image_FitMethod(e,g),this.il_1=b.com_ibm_vis_engine_internal_image_ImageFill.createFit(d,
c,k,!0)):"stretch"==a.method?(this.mo_10=new b.com_ibm_vis_engine_internal_image_StretchMethod(e,g),this.il_1=b.com_ibm_vis_engine_internal_image_ImageFill.createStretch(d,c,k,!0)):(this.mo_10=new b.com_ibm_vis_engine_internal_image_IconMethod(e,g),this.il_1=b.com_ibm_vis_engine_internal_image_ImageFill.createIcon(d,c,k,!0,null))}},getWidth:function(){return this.il_1.wt_7},getHeight:function(){return this.il_1.hh_5},setImageInText:function(){this.il_1.sc_3.ie_7.setImageInText()},setImagePosition:function(a){a&&
(this.ip_1=a);this.ig_5=!1;0<this.il_1.ah_3&&(a=this.il_1.sc_3,a.isLoaded()?(this.il_1=this.il_1.createResizedFill(a.getWidth(),a.getHeight()),this.sp$1(this.ip_1),this.ig_5=!0):(a.ie_7.handlesCallback()&&a.ie_7.addImageStyle(this),b.com_ibm_vis_engine_internal_image_ImageLoadState.fail(),this.ig_5=!1));return this.ig_5},repositionImage:function(a){this.setImagePosition(null);a=a.findNode(this.ip_1.id);a.invalidateRenderInfo();return a},sp$1:function(a){if(1010==a.getType()){if(a=a.getParts())for(var b=
a.length,c=0;c<b;++c)a[c].getImage()&&a[c].getImage().setImagePosition(a[c])}else this.il_1=this.mo_10.modifyFillForShape(this.il_1,a)},createFill:function(){if(!this.ig_5){var a=this.il_1.sc_3;this.ig_5=a.isLoaded();this.il_1=this.il_1.createResizedFill(a.getWidth(),a.getHeight())}return this.ig_5&&this.il_1&&0<this.il_1.ah_3?this.il_1:null},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("imageFill",
this.il_1));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("method",this.mo_10));a.addBoolean("isRenderableImage",this.ig_5);return a},populateFromSerialized:function(a){this.mo_10=b.com_ibm_vis_engine_internal_image_ImageMethodFactory.createFromSerialized(a.getNodeById("method"));this.il_1=b.com_ibm_vis_engine_internal_image_ImageFill.createFromSerialized(a.getNodeById("imageFill"));this.ig_5=a.getNodeById("isRenderableImage").asPrimitive().getBooleanValue$1(!0);
return this},getImageFill:function(){return this.il_1}});b.com_ibm_vis_engine_internal_ImageStyle.addIconToBackground=function(a){return a.getImage()?a.getImage().setImagePosition(a):!1};b.com_ibm_vis_engine_internal_ImageStyle.addImageShape=function(a,d){b.com_ibm_vis_engine_internal_ImageStyle.se$8(a);return a.getImage()?(a.getImage().setImagePosition(a),d.add(a.createSceneNode()),!0):!1};b.com_ibm_vis_engine_internal_ImageStyle.se$8=function(a){if(1010==a.getType()&&a.getParts()){var d=0;a=a.getParts();
for(var c=a.length;d<c;++d){var e=a[d];e.getImage()&&e.getImage().setImagePosition(e);b.com_ibm_vis_engine_internal_ImageStyle.se$8(e)}}};b.com_ibm_vis_engine_internal_ImageStyle.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_ImageStyle(null);d.populateFromSerialized(a);return d.il_1?d:null};b.com_ibm_vis_engine_internal_scene_StyleBuilder=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_scene_StyleBuilder.getPreferredSize=function(a,d,c,e){var g=
d;if(a){var k=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.preferred,d,e),s=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.max,d,e);a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.min,d,e);null!=k&&(g=c?Math.max(k,d):k);null!=s&&(g=Math.min(g,s));null!=a&&(g=Math.max(g,a))}return Math.min(g,e)};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyFillColor=function(a,d){var c=a.getFill();c?c.gn_1?(c=c.gn_1,c=b.com_ibm_vis_engine_internal_Gradient.modifyGradientWithSolid(c,
d),a.setFill(b.com_ibm_vis_engine_internal_Fill.makeGradient(c))):a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(d,c.si_1))):a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(d))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyPaletteFill=function(a,d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.fill,b.com_ibm_vis_spec_internal_FillSpec)){var c=b.com_ibm_vis_engine_internal_Gradient.makeFromSpec(d.fill,b.com_ibm_vis_engine_internal_ColorUtil.getDefaultFillColor());
a.getFill()&&a.getFill().si_1&&(c=b.com_ibm_vis_engine_internal_Gradient.modifySolidWithGradient(c,a.getFill().si_1));a.setFill(b.com_ibm_vis_engine_internal_Fill.makeGradient(c))}else c=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(d.fill),b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyFillColor(a,c)};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyMainColor=function(a,d){a.getColorAestheticOnlyChangesOutline()||!a.getFill()?a.setOutline(b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(d,
a.getOutline())):b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyFillColor(a,d)};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyStrokeColor=function(a,d){a.setOutline(d);a.isFilled()||a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(d))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultFillStyle=function(a){a.setFill(b.com_ibm_vis_engine_internal_Fill.getDefaultFill());a.setOutline(b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor())};b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultStrokeStyle=
function(a){a.setFill(b.com_ibm_vis_engine_internal_Fill.getDefaultStrokeFill())};b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultTextStyle=function(a){a.setFill(b.com_ibm_vis_engine_internal_Fill.getDefaultStrokeFill())};b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled=function(a,d){b.com_ibm_vis_engine_internal_scene_StyleBuilder.al$1(a,d,b.com_ibm_vis_engine_internal_ColorUtil.getDefaultFillColor());b.com_ibm_vis_engine_internal_scene_StyleBuilder.ak$1(a,d,!1);d&&(b.com_ibm_vis_engine_internal_scene_StyleBuilder.addEffect(a,
d.effect),"inside"==d.outlineMethod&&a.setInsideStroke(!0))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled=function(a,d,c){b.com_ibm_vis_engine_internal_scene_StyleBuilder.al$1(a,d,b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor());null!=c&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.scaleStrokeSize(a,c);b.com_ibm_vis_engine_internal_scene_StyleBuilder.ak$1(a,d,!1);b.com_ibm_vis_engine_internal_scene_StyleBuilder.addEffect(a,d.effect)};b.com_ibm_vis_engine_internal_scene_StyleBuilder.scaleStrokeSize=
function(a,d){var c=a.getStroke();c||(c=b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE);a.setStroke(c.createStrokeOfWidth(c.wt_1*d))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.setStrokeSize=function(a,d){var c=a.getStroke();c||(c=b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE);a.setStroke(c.createStrokeOfWidth(d))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.makeStroke=function(a,d){var c=a.getStroke();c||(c=b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE);var e=c.wt_1;if(null!=
d.width){var g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.width,1,1);null!=g&&(e=g)}return new b.com_ibm_vis_engine_internal_Stroke(e,null!=d.style?d.style:c.dn_2,null!=d.join?d.join:c.join,null!=d.cap?d.cap:c.cap,c.co_3)};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyStrokeStyle=function(a,d){var c=a.getStroke();c||(c=b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE);a.setStroke(c.createStrokeWithDashing(d))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.addEffect=
function(a,d){a.setEffect(b.com_ibm_vis_engine_internal_RenderEffects.makeFromStyle(d))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.getStrokeWidth=function(a){return a&&a.stroke&&"inside"!=a.outlineMethod?(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,1,1),null==a?1:a):1};b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap=function(a){return a&&null!=a.snap?a.snap:!1};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyShapeStyle=function(a,
d){if(!d)return a;null!=d.fill&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyPaletteFill(a,d);if(null!=d.outline){var c=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(d.outline);a.setOutline(b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(c,a.getOutline()))}d.effect&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.addEffect(a,d.effect);d.stroke&&a.setStroke(b.com_ibm_vis_engine_internal_scene_StyleBuilder.makeStroke(a,d.stroke));null!=d.startArrow&&a.setStartArrowByName(d.startArrow);
null!=d.endArrow&&a.setEndArrowByName(d.endArrow);d.image&&a.setImage(new b.com_ibm_vis_engine_internal_ImageStyle(d.image));return a};b.com_ibm_vis_engine_internal_scene_StyleBuilder.expandStroke=function(a,d){if(a.stroke||null!=a.outline){a.stroke||(a.stroke=new b.com_ibm_vis_spec_internal_StrokeSpec);var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,1,1);null==c&&(c=1);a.stroke.width=c+d}};b.com_ibm_vis_engine_internal_scene_StyleBuilder.getDefaultStrokeWidth=
function(){return 1};b.com_ibm_vis_engine_internal_scene_StyleBuilder.getRectangleCornerRadius=function(a,d,c,e){var g=0;a&&null!=a.cornerRadius&&(g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.cornerRadius,1,1),g=0>g?0:g,g=e?Math.min(g,Math.min(d/2,c/2)):Math.min(g,1));return g};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyThresholdStyleSpec=function(a,d){if(b.com_ibm_vis_engine_internal_scene_StyleBuilder.isThresholdStyleSpec(a)){var c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.gl$5(a,
d);b.com_ibm_vis_engine_internal_scene_StyleBuilder.me$11(a,c)}};b.com_ibm_vis_engine_internal_scene_StyleBuilder.isThresholdStyleSpec=function(a){if(a&&null!=a.fill&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.fill,b.com_ibm_vis_spec_internal_FillSpec)){a=a.fill;var d=b.com_ibm_vis_engine_internal_GradientType.getByName(a.type);if(1001==d||1002==d){if(null==a.global||!a.global)throw new b.com_ibm_vis_exceptions_internal_SpecException('Invalid value for fill.global, should be "true" when gradient type is either "linearByYDimension" or "linearByXDimension" ',
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);return!0}}return!1};b.com_ibm_vis_engine_internal_scene_StyleBuilder.hasTransparentFill=function(a){var d=!1;a&&null!=a.fill&&!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.fill,b.com_ibm_vis_spec_internal_FillSpec)&&(a=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(a.fill).getRGBA(),0==b.com_ibm_vis_engine_internal_util_MathUtil.r3(a[3])&&(d=!0));return d};b.com_ibm_vis_engine_internal_scene_StyleBuilder.al$1=function(a,d,
c){d&&null!=d.fill?b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.fill,b.com_ibm_vis_spec_internal_FillSpec)?(c=b.com_ibm_vis_engine_internal_Gradient.makeFromSpec(d.fill,c),a.setFill(b.com_ibm_vis_engine_internal_Fill.makeGradient(c))):(c=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(d.fill),a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(c))):a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(c));d&&d.image&&a.isFilled()&&a.setImage(new b.com_ibm_vis_engine_internal_ImageStyle(d.image))};
b.com_ibm_vis_engine_internal_scene_StyleBuilder.ak$1=function(a,d,c){null!=d.outline?a.setOutline(b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(d.outline)):c&&a.setOutline(b.com_ibm_vis_engine_internal_ColorUtil.createColor());d.stroke&&a.setStroke(b.com_ibm_vis_engine_internal_scene_StyleBuilder.makeStroke(a,d.stroke))};b.com_ibm_vis_engine_internal_scene_StyleBuilder.gl$5=function(a,d){var c,e=b.com_ibm_vis_engine_internal_GradientType.getByName(a.fill.type);1001==e?c=d[0]:1002==e&&
(c=d[1]);return c};b.com_ibm_vis_engine_internal_scene_StyleBuilder.me$11=function(a,b){for(var c=a.fill.colors,e=0;e<c.length;++e){var g=c[e],k=g.offset;null!=k&&(g.offset=b.toZeroOneClamped(k,null))}};b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles=function(a,d){if(a||d){if(!a&&d)return d.copy();if(a&&!d)return a.copy();var c=a.copy(),e=d.copy(),g=new b.com_ibm_vis_spec_internal_StyleSpec;g.size=null!=e.size?e.size:c.size;g.outline=null!=e.outline?e.outline:c.outline;g.alignEdge=null!=
e.alignEdge?e.alignEdge:c.alignEdge;g.fill=null!=e.fill?e.fill:c.fill;g.outlineMethod=null!=e.outlineMethod?e.outlineMethod:c.outlineMethod;g.align=null!=e.align?e.align:c.align;g.width=null!=e.width?e.width:c.width;g.height=null!=e.height?e.height:c.height;g.startArrow=null!=e.startArrow?e.startArrow:c.startArrow;g.cornerRadius=null!=e.cornerRadius?e.cornerRadius:c.cornerRadius;g.snap=null!=e.snap?e.snap:c.snap;g.accessibility=e.accessibility?e.accessibility:c.accessibility;g.endArrow=null!=e.endArrow?
e.endArrow:c.endArrow;g.font=e.font?e.font:c.font;g.valign=null!=e.valign?e.valign:c.valign;g.padding=null!=e.padding?e.padding:c.padding;g.effect=e.effect?e.effect:c.effect;g.angle=null!=e.angle?e.angle:c.angle;g.location=null!=e.location?e.location:c.location;g.symbol=null!=e.symbol?e.symbol:c.symbol;g.stroke=e.stroke?e.stroke:c.stroke;g.image=e.image?e.image:c.image;return g}return null};b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStylesForSymbols=function(a,d){if(a||d){if(!a&&d)return d;
if(a&&!d){var c=a,e=new b.com_ibm_vis_spec_internal_StyleSpec;e.size=c.size;e.outline=c.outline;e.fill=c.fill;e.outlineMethod=c.outlineMethod;e.width=c.width;e.height=c.height;e.font=c.font;e.stroke=c.stroke}else c=a,e=d.copy(),e.size=null!=e.size?e.size:c.size,e.outline=null!=e.outline?e.outline:c.outline,e.fill=null!=e.fill?e.fill:c.fill,e.outlineMethod=null!=e.outlineMethod?e.outlineMethod:c.outlineMethod,e.width=null!=e.width?e.width:c.width,e.height=null!=e.height?e.height:c.height,e.font=e.font?
e.font:c.font,e.stroke=e.stroke?e.stroke:c.stroke;return e}return null};b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle=function(a,d,c){var e=a.wt_2;a=a.hh_1;if(!c)return new b.com_ibm_vis_geom_Dim(e,a);var g=c.size,k=c.size;null!=c.width&&(g=c.width);null!=c.height&&(k=c.height);c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(g,e,d?d.wt_2:e);null!=c&&(e=c);c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k,a,d?d.hh_1:e);null!=
c&&(a=c);return new b.com_ibm_vis_geom_Dim(e,a)};b.com_ibm_vis_engine_internal_scene_StyleBuilder.isCornerRadiusFixed=function(a){return a?b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.cornerRadius)?!a.cornerRadius.CPVISEngineEndsWith("%"):!0:!0};b.com_ibm_vis_engine_internal_scene_StyleBuilder.TRANSPARENT="transparent";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_scene_StyleBuilder.FILL="fill";b.com_ibm_vis_engine_internal_scene_StyleBuilder.IMAGE="image";b.com_ibm_vis_engine_internal_scene_StyleBuilder.INSIDE_OUTLINE_METHOD=
"inside";b.com_ibm_vis_engine_internal_scene_StyleBuilder.LOCATION_INSIDE="inside";b.com_ibm_vis_engine_internal_scene_StyleBuilder.LOCATION_OUTSIDE="outside";b.com_ibm_vis_engine_internal_scene_StyleBuilder.LOCATION_STRETCH="stretch";b.com_ibm_vis_engine_internal_scene_StyleBuilder.LOCATION_FIT="fit";b.com_ibm_vis_engine_internal_scene_StyleBuilder.LOCATION_CALLOUT="callout";b.com_ibm_vis_engine_internal_scene_StyleBuilder.ALIGNEDGE_VERTICAL="vertical";b.com_ibm_vis_engine_internal_scene_StyleBuilder.ALIGNEDGE_HORIZONTAL=
"horizontal"});b.com_ibm_vis_engine_internal_image_ImageResource=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{loaded:!1,width:0,height:0,constructor:function(a){this.spec=a.copy();this.URIs=this.spec.URIs;this.et_3=this.spec.embeddedData;this.type=this.spec.type;this.loaded=!1},isLoaded:function(){this.loaded||this.load();return this.loaded},load:function(){this.ie_7||(this.ie_7=b.com_ibm_vis_engine_internal_resource_ResourceService.getInstance().getResource(this.spec,
null));this.ie_7.isBlocked()||(this.ie_7.getData(),this.width=this.ie_7.getWidth(),this.height=this.ie_7.getHeight(),this.loaded=!0)},getNativeResource:function(){return this.ie_7},getURIs:function(){return this.URIs},getEmbeddedData:function(){return this.et_3},getType:function(){return this.type},getWidth:function(){return this.width},getHeight:function(){return this.height},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringArray("URIs",this.URIs));a.addString("embeddedData",this.et_3);a.addString("type",this.type);return a},populateFromSerialized:function(a){this.URIs=a.getNodeById("URIs").asPrimitiveArray().getValuesAsString();this.et_3=a.getNodeById("embeddedData").asPrimitive().getStringValue$0();this.type=a.getNodeById("type").asPrimitive().getStringValue$0();this.pe$2();return this},pe$2:function(){this.spec.URIs=this.URIs;this.spec.embeddedData=
this.et_3;this.spec.type=this.type}});b.com_ibm_vis_engine_internal_image_ImageResource.create=function(a){a=new b.com_ibm_vis_engine_internal_image_ImageResource(a);a.load();return a};b.com_ibm_vis_engine_internal_image_ImageResource.createFromSerialized=function(a){var d=new b.com_ibm_vis_engine_internal_image_ImageResource(new b.com_ibm_vis_spec_internal_ResourceSpec);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_resource_ResourceService=b.com_ibm_init_declare({constructor:function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/resourceHandlingLayer");
this.rh_2=new b.com_ibm_vis_engine_internal_resource_BasicResourceCache(0,null,null);this.ue_4=new b.com_ibm_rave_codegenerator_util_Map;this.fe_5=new b.com_ibm_rave_codegenerator_util_Map;this.ce_18=new b.com_ibm_rave_codegenerator_util_Map;this.registerURIHandlerFactory(new b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory);this.registerFormatHandlerFactory(new b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory);this.registerContentHandlerFactory(new b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory)},
registerURIHandlerFactory:function(a){if(a){var d=this.ue_4.keySet(),c=a.getExtensionsSupported();b.com_ibm_vis_engine_internal_resource_ResourceService.cn$7(d,c);for(var d=0,c=c.arrayIterator(),e=c.length;d<e;++d)this.ue_4.put(c[d],a)}},registerFormatHandlerFactory:function(a){if(a){var d=this.fe_5.keySet(),c=a.getExtensionsSupported();b.com_ibm_vis_engine_internal_resource_ResourceService.cn$7(d,c);for(var d=0,c=c.arrayIterator(),e=c.length;d<e;++d)this.fe_5.put(c[d],a)}},registerContentHandlerFactory:function(a){if(a){var d=
this.ce_18.keySet(),c=a.getExtensionsSupported();b.com_ibm_vis_engine_internal_resource_ResourceService.cn$7(d,c);for(var d=0,c=c.arrayIterator(),e=c.length;d<e;++d)this.ce_18.put(c[d],a)}},getResourceURIHandler:function(a){var d=this.ue_4.get(a);if(d)return d.createExtension(a);throw new b.com_ibm_vis_exceptions_internal_EngineException("The extension '"+a+"' for Resource URI Handling is not found",b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_FOUND);},getResourceFormatHandler:function(a){var d=
this.fe_5.get(a);if(d)return d.createExtension(a);throw new b.com_ibm_vis_exceptions_internal_EngineException("The extension '"+a+"' for Resource Format Handling is not found",b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_FOUND);},getResourceContentHandler:function(a){var d=this.ce_18.get(a);if(d)return d.createExtension(a);throw new b.com_ibm_vis_exceptions_internal_EngineException("The extension '"+a+"' for Resource Content Handling is not found",b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_FOUND);
},getResourceForAugmentedGeoData:function(a){if(null!=a&&0<a.CPVISEngineTrim().length){var d=new b.com_ibm_vis_spec_internal_ResourceSpec;d.id=a;d.type="geo/json/text";d.URIs=[a];return this.getResource(d,null)}return null},getResource:function(a,d){if(!a)return null;var c=a.toJSON();b.com_ibm_vis_engine_internal_util_VisJSONUtil.checkReferenceExpanded(c);var c=new b.com_ibm_vis_engine_internal_resource_ResourceAttributes(a),e=a.URIs;if(e&&0<e.length){for(var g=0,k=e.length;g<k;++g){var s=e[g];try{return this.gt$7(s,
c,d)}catch(f){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_exceptions_internal_EngineException))throw f;}}throw new b.com_ibm_vis_exceptions_internal_EngineException("All the URIs for the resource are invalid.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_RESOURCE_URI);}throw new b.com_ibm_vis_exceptions_internal_EngineException(null!="No URI specified to load the resource "+c.getId()?"'"+c.getId()+"'":"",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_RESOURCE_URI);
},gt$7:function(a,d,c){var e=b.com_ibm_vis_engine_internal_resource_ResourceService.gR$1(a),g=b.com_ibm_vis_engine_internal_resource_ResourceService.gp$5(e),k=this.gh$3(e,g);if(null!=k)return k;b.com_ibm_vis_engine_internal_resource_ResourceService.ip$1(g)?(b.com_ibm_init_requireSync("com/ibm/vis/layers/resourceHandlingLayer"),k=new b.com_ibm_vis_engine_internal_resource_uriHandlers_EmbeddedDataURIHandler,k.setCurrentSpec(c)):k=this.getResourceURIHandler(g);if(k){c=null;try{"text"==d.getNativeType()?
c=k.getTextResource(e):"image"==d.getContentType()?(c=k.getGraphicResource(e),c.setImageName(d.getId())):c=k.getBinaryResource(e)}catch(s){throw b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(s,b.com_ibm_vis_exceptions_internal_EngineException),s;}if(c&&(k=this.getResourceFormatHandler(d.getFormatType())))return k.setNativeResource(c),a=this.getResourceContentHandler(d.getContentType()),a.setFormatHandler(k),k=a.getContent(),this.ph$1(e,g,k),k}throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to load resourcedata from URI"+
a,b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_RESOURCE_URI);},ph$1:function(a,d,c){b.com_ibm_vis_engine_internal_resource_ResourceService.ip$1(d)||this.rh_2.addItem(a,c)},gh$3:function(a,d){if(!b.com_ibm_vis_engine_internal_resource_ResourceService.ip$1(d)){var c=this.rh_2.getItem(a);if(null!=c)return c}return null},clearResourceCache:function(){this.rh_2.deleteAllItems()}});b.com_ibm_vis_engine_internal_resource_ResourceService.getInstance=function(){b.com_ibm_vis_engine_internal_resource_ResourceService.rc_1||
(b.com_ibm_vis_engine_internal_resource_ResourceService.rc_1=new b.com_ibm_vis_engine_internal_resource_ResourceService);return b.com_ibm_vis_engine_internal_resource_ResourceService.rc_1};b.com_ibm_vis_engine_internal_resource_ResourceService.cn$7=function(a,d){for(var c=0,e=d.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(a.contains(k))throw new b.com_ibm_vis_exceptions_internal_EngineException("Extension '"+k+"' is already registered.Cannot overwrite with a new one.",b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_ALREADY_REGISTERED);
}};b.com_ibm_vis_engine_internal_resource_ResourceService.ip$1=function(a){return"embedded"==a};b.com_ibm_vis_engine_internal_resource_ResourceService.gR$1=function(a){var d=b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.getResourcePath();if(null==d||0==d.CPVISEngineTrim().length||!(a.CPVISEngineTrim().CPVISEngineStartsWith(".")||a.CPVISEngineTrim().CPVISEngineStartsWith("\\")||a.CPVISEngineTrim().CPVISEngineStartsWith("/")))return a;if(d.CPVISEngineEndsWith("/")){var c=a;a.CPVISEngineStartsWith("/")&&
(c=a.substring(1,a.length));return d+c}return a.CPVISEngineStartsWith("/")?d+a:d.CPVISEngineTrim()+"/"+a.CPVISEngineTrim()};b.com_ibm_vis_engine_internal_resource_ResourceService.gp$5=function(a){var b=a.indexOf(":");return-1<b?a.substring(0,b):"file"};b.com_ibm_vis_engine_internal_resource_ResourceService.FO_1="/";b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_engine_internal_resource_ResourceCache=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_resource_ResourceCache.CACHE_MODE_FIFO=
"fifo";b.com_ibm_vis_engine_internal_resource_ResourceCache.CACHE_MODE_LRU="lru";b.com_ibm_vis_engine_internal_resource_ResourceCache.CACHE_MODE_COUNT="refCount";b.com_ibm_vis_engine_internal_resource_ResourceCache.CACHE_SCOPE_VIS="vis";b.com_ibm_vis_engine_internal_resource_ResourceCache.CACHE_SCOPE_PAGE="page";b.com_ibm_vis_engine_internal_resource_ResourceCache.CACHE_SCOPE_GLOBAL="global";b.com_ibm_vis_engine_internal_resource_BasicResourceCache=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_ResourceCache,
{cz_1:0,constructor:function(a,d,c){this.cz_1=0<a?a:1024;this.ct_1=new b.com_ibm_rave_codegenerator_util_Map(this.cz_1);null!=d&&b.com_ibm_vis_engine_internal_resource_BasicResourceCache.vd$1(d)?this.cd_2=d:this.cd_2="fifo";null!=c&&b.com_ibm_vis_engine_internal_resource_BasicResourceCache.vp$1(c)?this.cp_1=c:this.cp_1="global"},addItem:function(a,b){null!=a&&null!=b&&0<a.length&&!this.ct_1.containsKey(a)&&this.ct_1.size()<this.cz_1&&this.ct_1.put(a,b)},deleteItems:function(a){if(a&&0<a.length)for(var b=
0,c=a.length;b<c;++b){var e=a[b];null!=e&&0<e.length&&this.ct_1.remove(e)}},getItem:function(a){return this.ct_1.get(a)},deleteAllItems:function(){this.ct_1.clear()},getCacheMode:function(){return this.cd_2},getCacheScope:function(){return this.cp_1},getCacheSize:function(){return this.cz_1}});b.com_ibm_vis_engine_internal_resource_BasicResourceCache.vd$1=function(a){return"fifo"==a||"lru"==a||"refCount"==a};b.com_ibm_vis_engine_internal_resource_BasicResourceCache.vp$1=function(a){return"vis"==a||
"page"==a||"global"==a};b.com_ibm_vis_engine_internal_resource_BasicResourceCache.DZ_1=1024;b.com_ibm_vis_engine_internal_util_VisJSONUtil=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_util_VisJSONUtil.expandReferences=function(a,d){b.com_ibm_vis_engine_internal_util_VisJSONUtil.re$1(a,d)};b.com_ibm_vis_engine_internal_util_VisJSONUtil.getResourceDefinitions=function(a){if(!a)return null;if(a=a.resource){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a);if(0==d)return null;
for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0;e<d;++e){var g=a[e],k=g.id;null!=k&&(g=b.com_ibm_rave_codegenerator_util_BasicFactory.clone(g),b.com_ibm_rave_codegenerator_util_BasicFactory.remove(g,"id"),b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(g,b.com_ibm_vis_engine_internal_util_VisJSONUtil.ET_1)&&b.com_ibm_rave_codegenerator_util_BasicFactory.remove(g,b.com_ibm_vis_engine_internal_util_VisJSONUtil.ET_1),c.put(k,g))}return c}return null};b.com_ibm_vis_engine_internal_util_VisJSONUtil.re$1=
function(a,d){for(var c=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),e=0,g=c.length;e<g;++e){var k=c[e],s=a[k];"$ref"==k&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(s)&&(k=s,(k=d.get(k))&&b.com_ibm_vis_engine_internal_util_VisJSONUtil.ec$1(a,k));b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(s)&&b.com_ibm_vis_engine_internal_util_VisJSONUtil.ra$1(s,d);b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(s)&&(b.com_ibm_vis_engine_internal_util_VisJSONUtil.containsReferenceKey(s)&&
(k=s.$ref,(k=d.get(k))&&b.com_ibm_vis_engine_internal_util_VisJSONUtil.ec$1(s,k)),b.com_ibm_vis_engine_internal_util_VisJSONUtil.re$1(s,d))}};b.com_ibm_vis_engine_internal_util_VisJSONUtil.ec$1=function(a,d){b.com_ibm_rave_codegenerator_util_BasicFactory.remove(a,"$ref");for(var c=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(d),e=0,g=c.length;e<g;++e){var k=c[e];a[k]=d[k]}};b.com_ibm_vis_engine_internal_util_VisJSONUtil.ra$1=function(a,d){for(var c=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a),
e=0;e<c;++e){var g=a[e];b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(g)&&b.com_ibm_vis_engine_internal_util_VisJSONUtil.re$1(g,d);b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(g)&&b.com_ibm_vis_engine_internal_util_VisJSONUtil.ra$1(g,d)}};b.com_ibm_vis_engine_internal_util_VisJSONUtil.containsReferenceKey=function(a){return a&&b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"$ref")};b.com_ibm_vis_engine_internal_util_VisJSONUtil.checkReferenceExpanded=function(a){if(b.com_ibm_vis_engine_internal_util_VisJSONUtil.containsReferenceKey(a))throw new b.com_ibm_vis_exceptions_internal_EngineException("Reference '"+
a.$ref+"' is undefined",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LOG_INVALID_DATA);};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_util_VisJSONUtil.ET_1=b.com_ibm_vis_internal_SpecConstants.EMBEDDEDDATA;b.com_ibm_vis_engine_internal_util_VisJSONUtil.$REF="$ref";b.com_ibm_vis_engine_internal_util_VisJSONUtil.RESOURCE="resource";b.com_ibm_vis_engine_internal_util_VisJSONUtil.ID="id"});b.com_ibm_vis_engine_internal_resource_ResourceAttributes=b.com_ibm_init_declare({constructor:function(a){this.id=
a.id;this.type=a.type;if(a.URIs){this.URIs=Array(a.URIs.length);for(var b=0;b<a.URIs.length;++b)this.URIs[b]=a.URIs[b]}else this.URIs=null;this.et_2=a.embeddedData;this.ie$27()},ie$27:function(){if(null!=this.type){var a=this.type.split("/");if(3!=a.length||!b.com_ibm_vis_engine_internal_resource_ResourceAttributes.vp$2(a[0],a[1],a[2]))throw new b.com_ibm_vis_exceptions_internal_SpecException("Invalid resource type specified: '"+this.type+"'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
this.cp_2=a[0];this.fp_1=a[1];this.np_1=a[2]}},getId:function(){return this.id},getType:function(){return this.type},getURIs:function(){return this.URIs},getContentType:function(){return this.cp_2},getFormatType:function(){return b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2.contains(this.fp_1)?"graphic":this.fp_1},getNativeType:function(){return this.np_1},getEmbeddedData:function(){return this.et_2}});b.com_ibm_vis_engine_internal_resource_ResourceAttributes.vp$2=function(a,d,c){return b.com_ibm_vis_engine_internal_resource_ResourceAttributes.testMode||
"geo"==a&&"json"==d&&"text"==c||"data"==a&&"csv"==d&&"text"==c?!0:"image"==a&&"binary"==c?b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2.contains(d):!1};b.com_ibm_vis_engine_internal_resource_ResourceAttributes.TE_4="/";b.com_ibm_vis_engine_internal_resource_ResourceAttributes.testMode=!1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2.add("png");
b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2.add("jpg");b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2.add("gif");b.com_ibm_vis_engine_internal_resource_ResourceAttributes.gt_2.add("bmp")});b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil={resourcePath:"",get$RefFromReference:function(a){return null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"$ref")?a.$ref:null},fromJSONObject:function(a){return b.com_ibm_vis_internal_AbstractMappedJSONObject.createSpecObjectFromType(a,
"VisJSONSpec")},createSpecObject:function(a,d){return b.com_ibm_vis_internal_AbstractMappedJSONObject.createSpecObjectFromType(a,d)},loadJSONSpec:function(a){a=this.getResourcePath()+a;var d=null;b.com_ibm_init_xhr.get({url:a,sync:!0,load:function(a){d=na.parse(a)}});return d},getResourcePath:function(){return this.resourcePath},setResourcePath:function(a){this.resourcePath=a}};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringArray=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,
{constructor:function(a,b){this.aa_5=b},getValue:function(){return null},getValues:function(){return this.aa_5},asPrimitiveArray:function(){return new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray(this.id,this.aa_5)},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_STRING_ARRAY}});b.com_ibm_vis_engine_internal_image_ImageMethod=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,
{constructor:function(a,b){this.align=a;this.valign=b},getImageShapeBounds:function(a){var b=a.getType();return 1003==b||1002==b&&a.isFilled()?a.getBounds():this.getShapeBounds(a)},getShapeBounds:function(a){return b.com_ibm_vis_engine_internal_struct_ShapeNearShape.getLabelShape(a,this.align,this.valign,"inside","inside").getBounds()},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addString("valign",this.valign);
a.addString("align",this.align);a.addInteger("type",this.getType());return a},populateFromSerialized:function(a){this.valign=a.getNodeById("valign").asPrimitive().getStringValue$0();this.align=a.getNodeById("align").asPrimitive().getStringValue$0();return this}});b.com_ibm_vis_engine_internal_image_TextureMethod=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_image_ImageMethod,{getType:function(){return 1004},modifyFillForShape:function(a,b){var c=this.getImageShapeBounds(b),e=Math.ceil(c.wt_3/
a.wt_7),g=Math.ceil(c.hh_2/a.hh_5),k;k="middle"==this.align?c.x+(c.wt_3-a.wt_7)/2:"end"==this.align?c.x+c.wt_3-a.wt_7:c.x;k-=Math.ceil((k-c.getMinX())/a.wt_7)*a.wt_7;var s;s="middle"==this.valign?c.y+(c.hh_2-a.hh_5)/2:"end"==this.valign?c.y+c.hh_2-a.hh_5:c.y;s-=Math.ceil((s-c.getMinY())/a.hh_5)*a.hh_5;k+a.wt_7*e<c.getMaxX()&&e++;s+a.hh_5*g<c.getMaxY()&&g++;return a.createMovedFill(k,s).createTiledFill(e,g)}});b.com_ibm_vis_engine_internal_struct_WedgeShape=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_struct_Shape,
{constructor:function(a,d,c,e,g,k){k-=g;-6.283185307179586>k?k=-6.283185307179586:6.283185307179586<=k&&(k=6.283185307179586);g%=6.283185307179586;0>g&&(g+=6.283185307179586);this.geom=new b.com_ibm_vis_geom_Wedge(new b.com_ibm_vis_geom_Point(a,d),Math.max(0,c),Math.max(0,e),g,g+k);this.invalidate()},getType:function(){return 1005},getScalingAnchor:function(){return this.geom.getOrigin()},makeGeometryClone:function(){return b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(this.getX(),
this.getY(),this.getR1(),this.getR2(),this.getA1(),this.getA2())},getOuterPoint:function(){return this.geom.getOuterPoint()},getLabelShape:function(a,d,c){var e;if("inside"==c)d=(2*this.getR1()+3*this.getR2())/5,c=this.geom.getLabelCenter(),e=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(c.x,c.y,this.getR2()-d);else if(a=(this.getA1()+this.getA2())/2,"outside"==c)if("start"==d)e=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(this.getX()+this.getR1()*Math.cos(a),
this.getY()+this.getR1()*Math.sin(a),1);else if("end"==d)e=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(this.getX()+this.getR2()*Math.cos(a),this.getY()+this.getR2()*Math.sin(a),1);else return this;else"callout"==c&&(c=0,"start"==d?c+=1:"end"==d&&--c,e=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(this.getX()+(this.getR2()+this.getR2()/2)*Math.cos(a),this.getY()+(this.getR2()+this.getR2()/2)*Math.sin(a)+c,1));e&&e.setGlyphLike();return e},getTangentAngle:function(a,
b){return(this.getA1()+this.getA2())/2+1.5707963267948966},getX:function(){return this.geom.getOrigin().x},setX:function(a){this.geom.setOriginX(a);this.invalidate()},getY:function(){return this.geom.getOrigin().y},setY:function(a){this.geom.setOriginY(a);this.invalidate()},getR1:function(){return this.geom.getR1()},getR2:function(){return this.geom.getR2()},getA1:function(){return this.geom.getA1()},getA2:function(){return this.geom.getA2()},populateFromSerialized:function(a){return b.com_ibm_vis_engine_internal_struct_Shape.prototype.populateFromSerialized.apply(this,
[a])}});b.com_ibm_vis_engine_internal_struct_Path=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_struct_PolyShape,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{constructor:function(a,b,c,e){this.te_8=e},getRenderGeom:function(a){if(!this.x||0==this.x.length)return null;a=this.getTypes();for(var d=new b.com_ibm_vis_engine_internal_geom_GeomBuilder,c=0;c<this.x.length;)if(77==a[c])d.moveTo(this.x[c],this.y[c]),c++;else if(76==a[c])d.lineTo(this.x[c],this.y[c]),c++;else if(81==
a[c])d.quadTo(this.x[c],this.y[c],this.x[c+1],this.y[c+1]),c+=2;else if(67==a[c])d.curveTo(this.x[c],this.y[c],this.x[c+1],this.y[c+1],this.x[c+2],this.y[c+2]),c+=3;else if(90==a[c])d.closePath(),c++;else throw new b.com_ibm_vis_exceptions_internal_EngineException("Bad path control character '"+String.fromCharCode(a[c])+"'",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);this.isFilled()&&d.closePath();return d.getGeom()},getType:function(){return 1002},getTypes:function(){return this.te_8},
makeGeometryClone:function(){for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length],0),d=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length],0),e=0;e<c.length;++e)a[e]=this.x[e],d[e]=this.y[e],c[e]=this.getTypes()[e];a=new b.com_ibm_vis_engine_internal_struct_Path(a,d,this.isFilled(),c);a.setSnap(this.getSnap());a.setStartArrowByName(this.getStartArrowName());a.setEndArrowByName(this.getEndArrowName());
return a},contains:function(a,d){var c=new b.com_ibm_vis_engine_internal_struct_ShapePoly(this.x,this.y,!0,null);return this.isFilled()&&c.contains(a,d)},setDefaultStyle:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setDefaultStyle.apply(this,[a]);a?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(this,a):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultFillStyle(this)},affine:function(a,d,c,e,g){if(this.getContainingShape()&&this.isRelativeToParent())for(e=
this.getContainingShape().getEnclosedShapeBounds(this.getBoundsSpec()),a=e.wt_3,d=e.hh_2,c=e.getTopLeft().x,e=e.getTopLeft().y,g=0;g<this.x.length;++g)this.x[g]=this.getOriginalX()[g]*a+c,this.y[g]=this.getOriginalY()[g]*d+e;else b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.affine.apply(this,[a,d,c,e,g]);this.invalidate()},createSerializableComposite:function(){var a=b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableCharArray("types",
this.te_8));return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.populateFromSerialized.apply(this,[a]);this.te_8=a.getNodeById("types").asPrimitiveArray().getValuesAsChar();return this}});b.com_ibm_vis_engine_internal_struct_Path.isBarLike=function(a){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Path)?a.isUseBoundsForLabel():!1};b.com_ibm_vis_engine_internal_struct_ShapePoly=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_struct_PolyShape,
{nn_1:0,constructor:function(a,d,c,e){this.pe_10=e;this.setNonTopPointsCount(0);this.geom=new b.com_ibm_vis_geom_Poly(a,d,c)},createSceneNode:function(){var a=this.createOutlineShape();return a&&this.hasRenderStroke()?this.cd$3(a):b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.createSceneNode.apply(this)},cd$3:function(a){var d=this.id,c=this.getKey(),e=this.getStroke(),g=this.getOutline();a.copyInfoFrom(this);var k=this.getBounds(),k=new b.com_ibm_vis_engine_internal_struct_Schema(k.x,
k.y,k.wt_3,k.hh_2,[this,a],this.isFilled());k.copyInfoFrom(this);k.setID(d);k.setKey(c);this.setKey(c);a.setKey(c);this.setStroke(null);this.setOutline(null);g||(g=b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor());e||(e=b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE);a.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(g));a.setOutline(g);a.setStroke(e);return k.createSceneNode()},getGeom:function(){return this.geom},getRenderGeom:function(a){if(!this.x||0==this.x.length)return null;
if(this.pe_10)return this.pe_10.makeGeom(this);a=new b.com_ibm_vis_engine_internal_geom_GeomBuilder;if(this.getTypes())for(var d=this.getTypes(),c=0;c<this.x.length;)switch(d[c]){case 77:a.moveTo(this.x[c],this.y[c]);c++;break;case 76:a.lineTo(this.x[c],this.y[c]);c++;break;case 81:a.quadTo(this.x[c],this.y[c],this.x[c+1],this.y[c+1]);c+=2;break;case 67:a.curveTo(this.x[c],this.y[c],this.x[c+1],this.y[c+1],this.x[c+2],this.y[c+1]);c+=3;break;case 90:a.closePath();c++;break;default:throw new b.com_ibm_vis_exceptions_internal_EngineException("Bad path control character '"+
String.fromCharCode(d[c])+"'",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);}else{a.moveTo(this.x[0],this.y[0]);for(var c=1;c<this.x.length;++c)a.lineTo(this.x[c],this.y[c]);this.isFilled()&&a.closePath()}return a.getGeom()},getType:function(){return 1003},getLabelShape:function(a,d,c){return this.isGlyphLike()?(a=this.getBounds(),b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(a.x+a.wt_3/2,a.y+a.wt_3/2,(a.wt_3+a.hh_2)/4)):b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.getLabelShape.apply(this,
[a,d,c])},makeGeometryClone:function(){for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length],0),d=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length],0),c=0;c<this.x.length;++c)a[c]=this.x[c],d[c]=this.y[c];a=new b.com_ibm_vis_engine_internal_struct_ShapePoly(a,d,this.isFilled(),this.pe_10);a.setSnap(this.getSnap());return a},createOutlineShape:function(){var a=this.getNonTopPointsCount();if(0==a||-1==a&&2>=this.x.length||0<a&&this.x.length<=a)return null;var d;if(-1==
this.getNonTopPointsCount()){a=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length-2],0);d=b.com_ibm_rave_codegenerator_lang_Array.create([this.y.length-2],0);for(var c=0;c<this.x.length-2;++c)a[c]=this.x[c+1],d[c]=this.y[c+1]}else for(a=b.com_ibm_rave_codegenerator_lang_Array.create([this.x.length-this.getNonTopPointsCount()],0),d=b.com_ibm_rave_codegenerator_lang_Array.create([this.y.length-this.getNonTopPointsCount()],0),c=0;c<a.length;++c)a[c]=this.x[c],d[c]=this.y[c];var e;this.pe_10&&
(e=new b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker);e=new b.com_ibm_vis_engine_internal_struct_ShapePoly(a,d,!1,e);e.setSnap(this.getSnap());return e},getPathMaker:function(){return this.pe_10},getNonTopPointsCount:function(){return this.nn_1},setNonTopPointsCount:function(a){this.nn_1=a;this.invalidate()},createSerializableComposite:function(){var a=b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("geom",
this.geom));this.pe_10&&a.addInteger("pathMakerType",this.pe_10.getType());return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_PolyShape.prototype.populateFromSerialized.apply(this,[a]);this.pe_10=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createPolyPathMakerFromType(a.getNodeById("pathMakerType").asPrimitive().getNumberValue$1(-1));this.geom=b.com_ibm_vis_geom_GeomFactory.createFromSerialized(a.getNodeById("geom"));return this}});b.com_ibm_vis_engine_internal_struct_Schema=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_struct_Shape,{fe_8:!1,constructor:function(a,d,c,e,g,k){this.setParts(g);this.geom=new b.com_ibm_vis_geom_Rect(a,d,c,e);this.fe_8=k},createSceneNode:function(){for(var a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(this),d=0,c=this.getParts(),e=c.length;d<e;++d){var g=c[d].createSceneNode();a.addChild(g)}return a},getRenderGeom:function(a){return null},getType:function(){return 1010},asBasic:function(){return this.getBounds()},
makeGeometryClone:function(){return new b.com_ibm_vis_engine_internal_struct_Schema(this.geom.x,this.geom.y,this.geom.wt_3,this.geom.hh_2,this.getParts(),this.fe_8)},isFilled:function(){return this.fe_8},affine:function(a,d,c,e,g){b.com_ibm_vis_engine_internal_struct_Shape.prototype.affine.apply(this,[a,d,c,e,g]);g||(this.canScaleX()||(a=1),this.canScaleY()||(c=1));g=0;for(var k=this.getParts(),s=k.length;g<s;++g)k[g].affine(a,d,c,e,!1)},copyInfoFrom:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.copyInfoFrom.apply(this,
[a]);for(var d=0,c=this.getParts(),e=c.length;d<e;++d)c[d].copyInfoFrom(a)},calculateBounds:function(){var a,d,c,e;if(0==this.getParts().length)a=this.geom.getBounds();else{e=this.getParts()[0].getBounds();a=e.x;c=e.y;d=e.x+e.wt_3;e=e.y+e.hh_2;for(var g=1;g<this.getParts().length;++g){var k=this.getParts()[g].getBounds();a=a>k.x?k.x:a;c=c>k.y?k.y:c;var s=k.x+k.wt_3,k=k.y+k.hh_2;d=d<s?s:d;e=e<k?k:e}a=new b.com_ibm_vis_geom_Rect(a,c,d-a,e-c)}return a},setRows:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setRows.apply(this,
[a]);for(var d=0,c=this.getParts(),e=c.length;d<e;++d){var g=c[d];g.setRows(a);g.setKey(this.getKey())}},setID:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setID.apply(this,[a]);var d=0,c=new b.com_ibm_rave_codegenerator_util_List;this.ge$12(c,this.getParts());for(var e=0,c=c.arrayIterator(),g=c.length;e<g;++e){var k=c[e];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(k,b.com_ibm_vis_engine_internal_struct_Schema);k.setID(a+"_"+d);d++}},ge$12:function(a,d){if(d)for(var c=
0;c<d.length;++c)a.add(d[c]),b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d[c],b.com_ibm_vis_engine_internal_struct_Schema)&&this.ge$12(a,d[c].getParts())},getParts:function(){return this.pt_2},transpose:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.transpose.apply(this,[a]);for(var d=0,c=this.getParts(),e=c.length;d<e;++d)c[d].transpose(a)},fetchPartByName:function(a){if(this.getParts())for(var b=0,c=this.getParts(),e=c.length;b<e;++b){var g=c[b],k=g.getMeta("part");if(null!=
k&&k==a)return g}return null},setParts:function(a){this.pt_2=a?a:[];a=0;for(var b=this.pt_2,c=b.length;a<c;++a){var e=b[a];e.getContainingShape()||e.setContainingShape(this)}this.invalidate()},recalcuateBounds:function(){for(var a=this.getParts()[0].getBounds().copy(),b=1;b<this.getParts().length;++b)a.extendToRect(this.getParts()[b].getBounds());this.geom=a.copy()},getEnclosedShapeBounds:function(a){this.getBounds();var d=this.geom.copy();return(new b.com_ibm_vis_engine_internal_Bounds(a,null)).getRectWithinParent(d)},
invalidate:function(){if(this.cachedBounds&&(b.com_ibm_vis_engine_internal_struct_Shape.prototype.invalidate.apply(this),this.pt_2))for(var a=0,d=this.pt_2,c=d.length;a<c;++a)d[a].invalidate()},createSerializableComposite:function(){var a=b.com_ibm_vis_engine_internal_struct_Shape.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("parts",this.pt_2));a.addBoolean("filled",this.fe_8);return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.populateFromSerialized.apply(this,
[a]);this.fe_8=a.getNodeById("filled").asPrimitive().getBooleanValue$1(!1);var d=a.getNodeById("parts");a=new b.com_ibm_rave_codegenerator_util_List;for(var c=0,d=d.getNodes().arrayIterator(),e=d.length;c<e;++c){var g=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createFromSerialized(d[c]);a.add(g)}this.pt_2=a.toArray(Array(a.size()));return this}});b.com_ibm_vis_engine_internal_struct_Schema.META_KEY_PART="part";b.com_ibm_vis_engine_internal_Bounds=b.com_ibm_init_declare({constructor:function(a,
b){this.le_32=b;this.spec=a},isDefined:function(){return this.spec},getRect:function(a){if(this.vu$1("left",a.wt_2,!0)&&this.vu$1("right",a.wt_2,!0)&&this.vu$1("width",a.wt_2,!1)&&this.vu$1("top",a.hh_1,!0)&&this.vu$1("bottom",a.hh_1,!0)&&this.vu$1("height",a.hh_1,!1)){var d=this.go$3("left",a.wt_2,!0),c=this.go$3("right",a.wt_2,!0),e=this.go$3("width",a.wt_2,!1);null==d&&null==this.getValue("left")?null==e&&null==this.getValue("width")?(d=0,null==c&&(c=a.wt_2)):null==c&&null==this.getValue("right")?
(d=(a.wt_2-e)/2,c=d+e):d=c-e:null==c&&null==this.getValue("right")&&(c=null==e&&null==this.getValue("width")?a.wt_2:d+e);if(null!=d&&null!=c&&d>c){this.le$1("left","right");var g=d,d=c,c=g}var e=this.go$3("top",a.hh_1,!0),k=this.go$3("bottom",a.hh_1,!0),g=this.go$3("height",a.hh_1,!1);null==e&&null==this.getValue("top")?null==g&&null==this.getValue("height")?(e=0,null==k&&(k=a.hh_1)):null==k&&null==this.getValue("bottom")?(e=(a.hh_1-g)/2,k=e+g):e=k-g:null==k&&null==this.getValue("bottom")&&(k=null==
g?a.hh_1:e+g);null!=e&&null!=k&&e>k&&(this.le$1("top","bottom"),g=e,e=k,k=g);return new b.com_ibm_vis_geom_Rect(d,e,c-d,k-e)}return null},go$3:function(a,d,c){var e=this.getValue(a);if(null!=e){var g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e,d,d);if(null!=g){if(0==g)if(b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.isNegativeLength(e)){if(c)return d}else return g;else{if(0<g)return g;if(c)return d+g}this.lu$2(a,e)}}return null},vu$1:function(a,b,c){return null==
this.getValue(a)||null!=this.go$3(a,b,c)},getValue:function(a){return this.spec?"width"==a?this.spec.width:"top"==a?this.spec.top:"left"==a?this.spec.left:"height"==a?this.spec.height:"right"==a?this.spec.right:"bottom"==a?this.spec.bottom:null:null},lu$2:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_Map;c.put("key",a);c.put("value",d);this.le_32.logParam(b.com_ibm_vis_monitor_LogLevel.Warning,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"badBoundsValue",c)},le$1:function(a,d){var c=
new b.com_ibm_rave_codegenerator_util_Map;c.put("param1",a);c.put("param2",d);this.le_32.logParam(b.com_ibm_vis_monitor_LogLevel.Warning,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"reversedBoundsValues",c)},isDefinedPositionalBounds:function(){var a=this.go$3("left",0,!0),b=this.go$3("right",0,!0),c=this.go$3("top",0,!0),e=this.go$3("bottom",0,!0);return null!=a||null!=b||null!=c||null!=e},isWidthOrHeightDefined:function(){var a=this.go$3("width",0,!0),b=this.go$3("height",0,!0);return null!=
a||null!=b},getRectWithinParent:function(a){var d=this.spec;if(!d||!a)return a;var c=d.left,e=d.top,g=d.right,k=d.bottom,s=d.width,f=d.height,u=a.wt_3;null!=s&&(u=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(s,a.wt_3,a.wt_3));var h=a.hh_2;null!=f&&(h=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f,a.hh_2,a.hh_2));var l=a.x;if(null!=c){var m=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c,a.wt_3,a.wt_3),l=l+m;null==s&&(u-=
m)}var p=a.y;null!=e&&(m=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e,a.hh_2,a.hh_2),p+=m,null==f&&(h-=m));var q=a.x+a.wt_3;null!=g&&(m=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(g,a.wt_3,a.wt_3),q+=m,null==s?u=q-l:null==c&&(l=q-u));s=a.y+a.hh_2;null!=k&&(m=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k,a.hh_2,a.hh_2),s+=m,null==f?h=s-p:null==e&&(p=s-h));null!=d.center&&d.center&&(null==c&&null==g&&(l=a.x+(a.wt_3-
u)/2),null==e&&null==k&&(p=a.y+(a.hh_2-h)/2));return new b.com_ibm_vis_geom_Rect(l,p,u,h)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_Bounds.BOUNDS_HEIGHT="height";b.com_ibm_vis_engine_internal_Bounds.BOUNDS_WIDTH="width";b.com_ibm_vis_engine_internal_Bounds.BOUNDS_TOP="top";b.com_ibm_vis_engine_internal_Bounds.BOUNDS_BOTTOM="bottom";b.com_ibm_vis_engine_internal_Bounds.BOUNDS_LEFT="left";b.com_ibm_vis_engine_internal_Bounds.BOUNDS_RIGHT="right"});b.com_ibm_vis_engine_internal_struct_PolyPathMaker=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_struct_PolyPathMaker,{makeGeom:function(a){var d=a.x.length;if(0==d)return null;var c,e;if(a.getStartArrowGeom()||a.getEndArrowGeom()){var g=a.x,k=a.y;c=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);e=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);for(var s=0;s<d;++s)c[s]=g[s],e[s]=k[s]}else c=a.x,e=a.y;d=new b.com_ibm_vis_engine_internal_geom_GeomBuilder;
return this.makeSmoothGeom(d,!1,c,e,a.getStartArrowGeom(),a.getEndArrowGeom())?d.getGeom():null},makeSmoothGeom:function(a,d,c,e,g,k){if(!d){var s=c.length;b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation(g,c,e,0,1);b.com_ibm_vis_engine_internal_struct_PolyShape.setupArrowLocation(k,c,e,s-1,-1)}g=new b.com_ibm_rave_codegenerator_util_List;k=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.interpolateSmoothPath(c,e,g,k);if(0==g.size()||
0==k.size())return!1;d?a.lineTo(g.get(0),k.get(0)):a.moveTo(g.get(0),k.get(0));d=Math.floor(g.size()/4);for(c=0;c<d;++c)e=4*c,a.curveTo(g.get(e+1),k.get(e+1),g.get(e+2),k.get(e+2),g.get(e+3),k.get(e+3));return!0},getControlPoints:function(a){return this.findControlPoints(a.x,a.y)},findControlPoints:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.interpolateSmoothPath(a,d,c,e);for(var g=
new b.com_ibm_rave_codegenerator_util_List,k=1;k<c.size()-1;k+=4)g.add(new b.com_ibm_vis_geom_Point(c.get(k),e.get(k))),g.add(new b.com_ibm_vis_geom_Point(c.get(k+1),e.get(k+1)));return g},toString:function(){return"smoothPolyPathMaker"},getType:function(){return 1E3}});b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.interpolateSmoothPath=function(a,d,c,e){if(!(a.length>d.length)){var g=a.length;if(1==g)c.add(a[0]),e.add(d[0]);else for(var k=0;k<g-1;++k)if(0==k){var s=0,f=0,u=a[k],h=a[k+
1],l=d[k],m=d[k+1];if(0==b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.dt$5(h,u))b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.an$2(u,l,h,m,c,e);else{k<g-2&&(s=a[k+2],f=d[k+2]);var p=0;k!=g-2&&(p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ft$1(u,l,h,m,s,f));var q=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.fn$2(u,l,h,m,p),r=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$5(u,l,h,m,q,p),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$6(u,
l,h,m,q,p),q=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.d(u,h,r,p),r=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.c(u,h,r,p),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.b(u,l,h,m,r,q),t=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.a(u,l,p,r,q);b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.at$3(t,p,r,q,u,l,h,m,c,e)}}else k==g-2?(l=u=0,h=a[k],m=d[k],s=a[k+1],f=d[k+1],0==b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.dt$5(s,h)?
b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.an$2(h,m,s,f,c,e):(0<k&&(u=a[k-1],l=d[k-1]),q=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ft$1(u,l,h,m,s,f),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.fn$3(h,m,s,f,q),r=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$5(h,m,s,f,q,p),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$6(h,m,s,f,q,p),q=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.d(h,s,r,p),r=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.c(h,
s,r,p),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.b(h,m,s,f,r,q),t=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.a(h,m,p,r,q),b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.at$3(t,p,r,q,h,m,s,f,c,e))):(u=a[k-1],l=d[k-1],h=a[k],m=d[k],s=a[k+1],f=d[k+1],r=a[k+2],p=d[k+2],0==b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.dt$5(s,h)?b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.an$2(h,m,s,f,c,e):(q=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ft$1(u,
l,h,m,s,f),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ft$1(h,m,s,f,r,p),r=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$5(h,m,s,f,q,p),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$6(h,m,s,f,q,p),q=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.d(h,s,r,p),r=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.c(h,s,r,p),p=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.b(h,m,s,f,r,q),t=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.a(h,
m,p,r,q),b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.at$3(t,p,r,q,h,m,s,f,c,e)))}};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.at$3=function(a,d,c,e,g,k,s,f,u,h){var l=s-g,m=g+.25*l,p=a+d*m+c*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(m,2)+e*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(m,3),l=g+.75*l;c=a+d*l+c*Math.pow(l,2)+e*Math.pow(l,3);a=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);d=b.com_ibm_rave_codegenerator_lang_Array.create([2],
0);b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ct$7(g,k,m,p,l,c,s,f,.25,.75,a,d);u.add(g);h.add(k);for(g=0;2>g;++g)u.add(a[g]),h.add(d[g]);u.add(s);h.add(f)};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.an$2=function(a,d,c,e,g,k){var s=a+.25*(c-a),f=d+.25*(e-d),u=a+.75*(c-a),h=d+.75*(e-d),l=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),m=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ct$7(a,d,s,f,u,h,
c,e,.25,.75,l,m);g.add(a);k.add(d);for(a=0;2>a;++a)g.add(l[a]),k.add(m[a]);g.add(c);k.add(e)};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ct$7=function(a,d,c,e,g,k,s,f,u,h,l,m){c-=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(1-u,3)*a+b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(u,3)*s;e-=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(1-u,3)*d+b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(u,3)*f;a=g-(b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(1-
h,3)*a+b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(h,3)*s);d=k-(b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(1-h,3)*d+b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(h,3)*f);k=3*(1-h)*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(h,2);h*=-3*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(1-h,2);f=-3*(1-u)*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(u,2);u*=3*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(1-
u,2);g=k*u-f*h;l[0]=1/g*(k*c+f*a);m[0]=1/g*(k*e+f*d);l[1]=1/g*(h*c+u*a);m[1]=1/g*(h*e+u*d)};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.ft$1=function(a,b,c,e,g,k){var s=(e-b)/(c-a);c=(k-e)/(g-c);return 0==s||0==c||0<s&&0>c||0>s&&0<c?0:(k-b)/(g-a)};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.fn$2=function(a,b,c,e,g){return 3*(e-b)/(2*(c-a))-g/2};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.fn$3=function(a,b,c,e,g){return 3*(e-b)/(2*(c-a))-g/2};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$5=
function(a,d,c,e,g,k){g=2*(k+2*g);k=c-a;d=6*(e-d);a=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(c-a,2);return-g/k+d/a};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.sn$6=function(a,d,c,e,g,k){g=2*(2*k+g);k=c-a;d=6*(e-d);a=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(c-a,2);return g/k-d/a};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.d=function(a,b,c,e){return(e-c)/(6*(b-a))};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.c=function(a,
b,c,e){return(b*c-a*e)/(2*(b-a))};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.b=function(a,d,c,e,g,k){d=e-d;g*=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(c,2)-b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(a,2);k*=b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(c,3)-b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(a,3);return(d-g-k)/(c-a)};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.a=function(a,d,c,e,g){return d-c*
a-e*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(a,2)-g*b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow(a,3)};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.pow=function(a,b){if(0==b)return 1;for(var c=1,e=0;e<b;++e)c*=a;return c};b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker.dt$5=function(a,d){var c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a),e=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d);return c-e};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableCharArray=
b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.aa_2=b},getValue:function(){return null},getValues:function(){return this.aa_2},asPrimitiveArray:function(){for(var a=Array(this.aa_2.length),d=0,c=0,e=this.aa_2,g=e.length;c<g;++c){var k=e[c];a[d++]=k}return new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray(this.id,a)},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_CHAR_ARRAY}});
b.com_ibm_vis_engine_internal_grammar_label_TextContent=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{cg_1:!1,ai_1:!1,bn_1:!1,constructor:function(a){this.mz_3=a},clone:function(){var a=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(this.mz_3);a.bn_1=this.bn_1;a.ai_1=this.ai_1;a.cg_1=this.cg_1;if(this.cn_6){a.cn_6=new b.com_ibm_rave_codegenerator_util_List;for(var d=0,c=this.cn_6.arrayIterator(),e=c.length;d<e;++d)a.cn_6.add(c[d].clone())}return a},
getContent:function(){return this.cn_6},getText:function(){if(this.cn_6){for(var a="",d=0,c=this.cn_6.arrayIterator(),e=c.length;d<e;++d){var g=c[d].getValue();null==g||this.cg_1&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g)||(a+=g)}return a}return null},getShapes:function(){if(!this.cn_6)return null;for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.cn_6.arrayIterator(),e=c.length;d<e;++d){var g=c[d].getValue();b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_engine_internal_struct_Shape)&&
a.add(g)}return a},addPart:function(a){this.cn_6||(this.cn_6=new b.com_ibm_rave_codegenerator_util_List);a.isString()&&!this.bn_1&&(this.bn_1=-1!=a.getValue().indexOf("\n"));this.cn_6.add(a)},isMultiLine:function(){return this.bn_1},getPart:function(a){return this.cn_6?this.cn_6.get(a):null},addContent:function(a,d){this.cn_6||(this.cn_6=new b.com_ibm_rave_codegenerator_util_List);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Shape)&&(this.cg_1=!0);var c=
new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(a,d,this.mz_3);this.addPart(c)},size:function(){return this.cn_6?this.cn_6.size():0},addShape:function(a){this.cn_6||(this.cn_6=new b.com_ibm_rave_codegenerator_util_List);this.cg_1=!0;a=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(a,null,this.mz_3);this.addPart(a)},addString:function(a,d){if(null!=a){this.cn_6||(this.cn_6=new b.com_ibm_rave_codegenerator_util_List);var c=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(a,
d,this.mz_3);this.addPart(c)}},addTextContentPart:function(a){a&&(this.cn_6||(this.cn_6=new b.com_ibm_rave_codegenerator_util_List),this.addPart(a))},hasMultipleContentParts:function(){return 1<this.cn_6.size()},addNumber:function(a,d){if(null!=a){this.cn_6||(this.cn_6=new b.com_ibm_rave_codegenerator_util_List);var c=null;b.com_ibm_rave_codegenerator_util_BasicFactory.isInteger(a);c=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(""+a,d,this.mz_3);this.addPart(c)}},removeTransform:function(){if(this.cn_6)for(var a=
0,d=this.cn_6.arrayIterator(),c=d.length;a<c;++a){var e=d[a].getValue();b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_struct_Shape)&&e.setTransform(null)}},clearContent:function(){this.cn_6.clear();this.bn_1=!1},hasImages:function(){return this.cg_1},hasPartStyles:function(){if(!this.cn_6)return!1;for(var a=0,b=this.cn_6.arrayIterator(),c=b.length;a<c;++a)if(b[a].getStyle())return!0;return!1},isEmptyString:function(){for(var a=0,b=this.cn_6.arrayIterator(),
c=b.length;a<c;++a){var e=b[a];if("string"===typeof e.getValue()||e.getValue()instanceof String){if(0!=e.getValue().length)return!1}else return!1}return!0},isAlphabetic:function(){return this.ai_1},setAlphabetic:function(a){this.ai_1=a},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("content",this.cn_6.toArray(Array(this.cn_6.size()))));
a.addBoolean("containsImage",this.cg_1);a.addBoolean("alphabetic",this.ai_1);return a},populateFromSerialized:function(a){for(var d=0,c=a.getNodeById("content").getNodes().arrayIterator(),e=c.length;d<e;++d){var g=b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.createFromSerialized(c[d]);this.addPart(g)}this.cg_1=a.getNodeById("content").asPrimitive().getBooleanValue$1(!1);this.ai_1=a.getNodeById("alphabetic").asPrimitive().getBooleanValue$1(!1);return null}});b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString=
function(a,d){var c=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(d);c.addString(a,null);return c};b.com_ibm_vis_engine_internal_grammar_label_TextContent.createFromSerialized=function(a){var d=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(0);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_grammar_label_TextContentPart=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{constructor:function(a,d,c){this.vu_12=a;(this.sl_4=
d)&&(this.font=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$0(d.font,c))},clone:function(){var a=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(this.vu_12,this.sl_4?this.sl_4.copy():null,this.font?this.font.mz_5:null);this.ff_1&&(a.ff_1=this.ff_1.clone());return a},getValue:function(){return this.vu_12},setValue:function(a){this.vu_12=a},getStyle:function(){return this.sl_4},getFont:function(){return this.font},setFont:function(a){this.font=a},getFormatInfo:function(){return this.ff_1},
setFormatInfo:function(a){this.ff_1=a},getSourceShape:function(){return this.sp_3},setSourceShape:function(a){this.sp_3=a},reduceToFit:function(a){if(this.ff_1&&b.com_ibm_vis_engine_internal_grammar_units_Unit.isTime(this.ff_1.unit))return!1;if(this.ff_1){var d=this.ff_1.se_3.fo_2;if(null==d||b.com_ibm_vis_internal_SpecConstants.REDUCEPRECISION==d){d=this.ff_1.du_2;if("string"===typeof d||d instanceof String)return this.ff_1.iu_1?this.reduceExponentialToFit(d,!1,a):this.ri$1(d,!0,a);if(a.formatContext&&
(a.formatContext.integratorNumberFormatter||a.formatContext.integratorLocalizedNumberFormatter))return this.ri$1(this.vu_12,!1,a);d=a.formatContext.formatToExponential(d,this.ff_1.rg_1.min,this.ff_1.rg_1.max,this.ff_1.se_3);return this.reduceExponentialToFit(d,!0,a)}return!1}return this.ri$1(this.vu_12,!1,a)},ri$1:function(a,b,c){var e="";if(!a.CPVISEngineContains("\u2026")){if(3<a.length)e=a.substring(0,a.length-3),e+="\u2026";else return!1;b?(this.vu_12=c.formatContext.formatString(e,this.ff_1.se_3,
this.ff_1.rI_1,this.ff_1.id),this.ff_1.du_2=e):this.vu_12=e;return!0}a=a.split("\u2026")[0];return 2<a.length?(e=a.substring(0,a.length-1)+"\u2026",b?(this.vu_12=c.formatContext.formatString(e,this.ff_1.se_3,this.ff_1.rI_1,this.ff_1.id),this.ff_1.du_2=e):this.vu_12=e,!0):!1},reduceExponentialToFit:function(a,d,c){var e=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getExponentSeparator(c.ll_3),g=b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.gr$3(a,e,!0),k=b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.gr$3(a,
e,!1);return b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.cc$5(g)?(a=g.substring(0,g.length-1),a=a+e+k,this.ff_1.du_2=a,this.vu_12=c.formatContext.formatString(a,this.ff_1.se_3,this.ff_1.rI_1,this.ff_1.id),!0):d?(this.ff_1.du_2=a,this.vu_12=c.formatContext.formatString(a,this.ff_1.se_3,this.ff_1.rI_1,this.ff_1.id),!0):!1},isString:function(){return"string"===typeof this.vu_12||this.vu_12 instanceof String},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("font",this.font));b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.vu_12,b.com_ibm_vis_engine_internal_struct_Shape)?a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("value",this.vu_12)):a.addObject("value",this.vu_12);return a},populateFromSerialized:function(a){this.font=b.com_ibm_vis_engine_internal_scene_Font.createFromSerialized(a.getNodeById("font"));b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.vu_12,
b.com_ibm_vis_engine_internal_struct_Shape)?a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("value",this.vu_12)):a.addObject("value",this.vu_12);return null}});b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.gr$3=function(a,b,c){var e=c?a:"",g=a.indexOf(b);0<=g&&(c?e=a.substring(0,g):(g+=b.length,e=a.substring(g,a.length)));return e};b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.cc$5=function(a){if(a.CPVISEngineStartsWith("-")){if(2<a.length)return!0}else if(1<
a.length)return!0;return!1};b.com_ibm_vis_engine_internal_grammar_label_TextContentPart.createFromSerialized=function(a){var d=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(null,null,0);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_scene_FontMetricType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_scene_FontMetricType.PRECOMPUTED=new b.com_ibm_vis_engine_internal_scene_FontMetricType("PRECOMPUTED");b.com_ibm_vis_engine_internal_scene_FontMetricType.NATIVE=
new b.com_ibm_vis_engine_internal_scene_FontMetricType("NATIVE");b.com_ibm_vis_engine_internal_scene_FontMetricType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_scene_FontMetricType)};b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults={usesFractionalMetrics:!0,fontMetricType:b.com_ibm_vis_engine_internal_scene_FontMetricType.NATIVE};b.com_ibm_vis_scenetree_provisional_FontInfo=b.com_ibm_init_declare.implement({getAscent:function(){},getFamily:function(){},
getWeight:function(){},getStyle:function(){},getSize:function(){}});b.com_ibm_vis_engine_internal_scene_Font=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_FontInfo,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{bold:!1,size:0,mz_4:0,me_4:!1,_c_1:!1,mz_5:0,constructor:function(a,d,c,e,g,k,s){this.fl_3=a;this._c_1=k;this.sz$2(Math.max(0,b.com_ibm_vis_engine_internal_util_MathUtil.r3(d)));this.bold=c;this.me_4=g;this.sl_5=e;this.fp_3=s},sz$2:function(a){this.size=a;this.mz_4=
this._c_1?this.size:Math.floor(this.size+.5)},getSize:function(){return this.size},getFamily:function(){return this.fl_3},getBold:function(){return this.bold},getStyle:function(){return this.sl_5},getAmountThatFits:function(a,b){return this.getMetric().getAmountThatFits(a,this.mz_4,this.bold,b)},getAscent:function(){return this.getMetric().getAscent(this.mz_4)},getDescent:function(){return this.getHeight()-this.getAscent()},getHeight:function(){return this.getMetric().getHeight(this.mz_4)},getWidth:function(a){return this.getWidthFromString(a.getText())},
getWidthFromTextContent:function(a){return this.getWidthFromString(a.getText())},getWidthFromString:function(a){return this.getMetric().getWidth(a,this.mz_4,this.bold)},measureString:function(a){return this.getMetric().getWidth(a,this.mz_4,this.bold)},getMetricsId:function(){return this.fl_3+"/"+this.mz_4+"/"+(this.bold?"b":"n")},usesFractionalMetrics:function(){return this._c_1},getEllipsisSize:function(){return this.getMetric().getWidth("\u2026",this.mz_4,this.bold)},getHashSize:function(){return this.getMetric().getWidth("#",
this.mz_4,this.bold)},hashCode:function(){var a;a=31+(this.bold?1231:1237);a=31*a+(null==this.fl_3?0:this.fl_3.hashCode());var d;d=b.com_ibm_rave_codegenerator_lang_Double.doubleToLongBits(this.mz_4);a=31*a+Number.valueOf(d.xor(d.shiftRightUnsigned(32)));a=31*a+(this.me_4?1231:1237);d=b.com_ibm_rave_codegenerator_lang_Double.doubleToLongBits(this.size);a=31*a+Number.valueOf(d.xor(d.shiftRightUnsigned(32)));return a=31*a+(null==this.sl_5?0:this.sl_5.hashCode())},equals:function(a){if(this==a)return!0;
if(null==a||!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_scene_Font)||this.bold!=a.bold)return!1;if(null==this.fl_3){if(null!=a.fl_3)return!1}else if(this.fl_3!=a.fl_3)return!1;if(this.mz_4!=a.mz_4||this.me_4!=a.me_4||this.size!=a.size)return!1;if(null==this.sl_5){if(null!=a.sl_5)return!1}else if(this.sl_5!=a.sl_5)return!1;return!0},getMetric:function(){if(!this.mc_3)if(this.fp_3==b.com_ibm_vis_engine_internal_scene_FontMetricType.PRECOMPUTED){for(var a=this.fl_3.toLowerCase().split(","),
d=0,c=a.length;d<c;++d){var e=a[d],e=e.CPVISEngineTrim();if(this.mc_3=b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.get(e))break}if(!this.mc_3)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("requested font "+this.fl_3+" not supported by PRECOMPUTED metrics.");}else this.fp_3==b.com_ibm_vis_engine_internal_scene_FontMetricType.NATIVE&&(this.mc_3=b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.get(this));return this.mc_3},modifySize:function(a){a=Math.max(a,
this.mz_5);a=new b.com_ibm_vis_engine_internal_scene_Font(this.fl_3,a,this.bold,this.sl_5,!0,this._c_1,this.fp_3);a.setMinimumSize(this.mz_5);return a},toString:function(){return"Font [family\x3d"+this.fl_3+", bold\x3d"+this.bold+", style\x3d"+this.sl_5+", size\x3d"+this.size+", metricsSize\x3d"+this.mz_4+", modified\x3d"+this.me_4+"]"},setPreciseAscent:function(a){this.pn_9=a},getPreciseAscent:function(){return this.pn_9},getWeight:function(){return this.bold?"bold":null},getMetricType:function(){return this.fp_3},
getMinimumSize:function(){return this.mz_5},setMinimumSize:function(a){null!=a&&(this.mz_5=a)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addString("family",this.fl_3);a.addBoolean("bold",this.bold);a.addString("style",this.sl_5);a.addDouble("size",this.size);return a},populateFromSerialized:function(a){this.fl_3=a.getNodeById("family").asPrimitive().getStringValue$0();this.bold=a.getNodeById("bold").asPrimitive().getBooleanValue$1(!1);
this.sl_5=a.getNodeById("style").asPrimitive().getStringValue$0();this.sz$2(a.getNodeById("size").asPrimitive().getNumberValue$1(0));return this}});b.com_ibm_vis_engine_internal_scene_Font.createFromSerialized=function(a){var d=new b.com_ibm_vis_engine_internal_scene_Font(null,0,!1,null,!1,b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.usesFractionalMetrics,b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.fontMetricType);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_scene_Font.PIXEL_UNIT_IDENTIFIER=
"px";b.com_ibm_vis_engine_internal_scene_Font.ELLIPSIS="\u2026";b.com_ibm_vis_engine_internal_scene_Font.HASH="#";b.com_ibm_vis_engine_internal_scene_Font.REGULAR="regular";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_scene_Font.BOLD="bold";b.com_ibm_vis_engine_internal_scene_Font.NORMAL="normal";b.com_ibm_vis_engine_internal_scene_Font.ITALIC="italic"});b.com_ibm_vis_engine_internal_scene_FontHelper=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_scene_FontHelper.gz$1=
function(a,b){return null!=a&&a>b?a:b};b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize=function(a){return b.com_ibm_vis_engine_internal_scene_FontHelper.gz$1(a,12)};b.com_ibm_vis_engine_internal_scene_FontHelper.makeForSize=function(a,d,c){a=null==a?b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(d):a;a=b.com_ibm_vis_engine_internal_scene_FontHelper.gz$1(d,a);return b.com_ibm_vis_engine_internal_scene_FontHelper.makeDefaultFont(a,d,c)};b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$0=
function(a,d){return b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(a,d,b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.usesFractionalMetrics)};b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1=function(a,d,c){return a?b.com_ibm_vis_engine_internal_scene_FontHelper.me$10(a,d,c):b.com_ibm_vis_engine_internal_scene_FontHelper.makeDefaultFont(b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(d),d,c)};b.com_ibm_vis_engine_internal_scene_FontHelper.makeDefaultFont=
function(a,d,c){a=new b.com_ibm_vis_engine_internal_scene_Font(b.com_ibm_vis_engine_internal_scene_FontHelper.DL_3,a,!1,null,!0,c,b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.fontMetricType);a.setMinimumSize(d);return a};b.com_ibm_vis_engine_internal_scene_FontHelper.me$10=function(a,d,c){var e=a.getCachedObject();if(null!=e)return e;var e=a.family,g="bold"==a.weight,k,s=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(d);null!=a.size&&(k=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,
s,s));null==k&&(k=s);k=b.com_ibm_vis_engine_internal_scene_FontHelper.gz$1(d,k);c=new b.com_ibm_vis_engine_internal_scene_Font(e,k,g,a.style,!0,c,b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.fontMetricType);c.setMinimumSize(d);d=b.com_ibm_vis_engine_internal_scene_FontHelper.gc$6(e,g,k,a.style,c,d);a.setCachedObject(d);return d};b.com_ibm_vis_engine_internal_scene_FontHelper.gc$6=function(a,d,c,e,g,k){var s=g.getMetric().getActualFamily();s.toLowerCase()!=a.toLowerCase()&&(g=new b.com_ibm_vis_engine_internal_scene_Font(s,
c,d,e,!0,g._c_1,g.fp_3));g.setMinimumSize(k);return g};b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec=function(){var a=arguments,d;2==a.length?d=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$0:3==a.length&&(d=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1);return d.apply(this,a)};b.com_ibm_vis_engine_internal_scene_FontHelper.DZ_4=12;b.com_ibm_vis_engine_internal_scene_FontHelper.DL_3="Arial,SansSerif,sans-serif";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_scene_FontHelper.DH_1=
"bold"});b.com_ibm_vis_engine_internal_grammar_label_FontMetric=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_util_Version=b.com_ibm_init_declare({mo_1:0,mo_2:0,mr_2:0,constructor:function(a,b,c){this.mo_1=a;this.mo_2=b;this.mr_2=c},getMajor:function(){return this.mo_1},getMinor:function(){return this.mo_2},getMicro:function(){return this.mr_2},compareTo:function(a){if(a==this)return 0;var b=this.mo_1-a.mo_1;if(0!=b)return b;b=this.mo_2-a.mo_2;return 0!=b?b:b=this.mr_2-a.mr_2},toString:function(){return this.mo_1+
"."+this.mo_2+(0==this.mr_2?"":"."+this.mr_2)},hashCode:function(){var a;a=31+this.mo_1;a=31*a+this.mr_2;return a=31*a+this.mo_2},equals:function(a){return this==a?!0:null!=a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_util_Version)&&this.mo_1==a.mo_1&&this.mr_2==a.mr_2&&this.mo_2==a.mo_2?!0:!1}});b.com_ibm_vis_engine_internal_util_Version.parseVersion=function(a){var d=0,c=0,e=0;if(null!=a&&0<a.length){e=b.com_ibm_vis_engine_internal_util_Version.si$2(a,
46);if(0==e.length||3<e.length)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Invalid version format: "+a);d=b.com_ibm_vis_engine_internal_util_Version.tn$1(e[0],a);c=1<e.length?b.com_ibm_vis_engine_internal_util_Version.tn$1(e[1],a):0;e=2<e.length?b.com_ibm_vis_engine_internal_util_Version.tn$1(e[2],a):0}return new b.com_ibm_vis_engine_internal_util_Version(d,c,e)};b.com_ibm_vis_engine_internal_util_Version.tn$1=function(a,d){var c=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(a,
10);if(null==c)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Invalid version format: "+d);return c};b.com_ibm_vis_engine_internal_util_Version.si$2=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=a.length,g=new b.com_ibm_rave_codegenerator_lang_StringBuilder,k=0;k<e;++k){var s=a.charCodeAt(k);s==d?(c.add(g.toString()),g=new b.com_ibm_rave_codegenerator_lang_StringBuilder):g.appendChar(s)}c.add(g.toString());return c.toArray(Array(c.size()))};b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil=
function(){var a={},d=function(d){if(a.hasOwnProperty(d))return a[d];var e=null;b.com_ibm_init_xhr.get({url:b.com_ibm_init_resolver.toUrl(d),sync:!0,load:function(a){if(a)try{e=na.parse(a)}catch(b){}},error:function(){throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Failed to load URL: "+d);}});if(null==e)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Problem parsing contents of URL: "+d);return a[d]=e};return{getDeclarativeSpecMigrationStrategies:function(){return d("com/ibm/vis/resources/migration.json")},
getRaveSchema:function(a){var e="";this.currentSpecVersion||(this.currentSpecVersion=b.com_ibm_vis_engine_internal_util_Version.parseVersion(b.com_ibm_vis_internal_SpecConstants.SPEC_VERSION));this.currentSpecVersion.equals(a)||(e=a.toString().replace(/\./g,"_"));return d("com/ibm/vis/resources/raveSchema"+e+".json")},getResourceURL:function(a){return b.com_ibm_init_resolver.toUrl("com/ibm/vis/resources/"+a)},getFontMetricsArray:function(){if(this._fontMetrics)return this._fontMetrics;throw new b.com_ibm_rave_codegenerator_io_WebEngineException("RAVE precomputed metrics unavailable.");
},setFontMetricsArray:function(a){this._fontMetrics=a}}}();b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_label_FontMetric,{wt_6:0,hh_4:0,an_3:0,bo_5:0,ie_5:!1,en$3:function(a){for(var d=0;d<a.length;++d){var c=a[d];if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(c))for(var e=c.length-1;0<e;--e){var g=c[e];if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(g)){var k=g[0]+3,s=1;for(2==g.length&&(s=g[1]);1<
k--;)b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(c,s,e+1);b.com_ibm_rave_codegenerator_util_BasicFactory.setAt(c,s,e)}else if(s=g,0>s){for(;0>s++;)b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(c,0,e+1);b.com_ibm_rave_codegenerator_util_BasicFactory.setAt(c,0,e)}}}},constructor:function(a,b,c,e,g,k){this.ie_5=!1;this.pe_7=g;this.wt_6=a/100;this.hh_4=b/100;this.an_3=c/100;this.bo_5=e/100;this.al_3=k},iz$1:function(){this.ie_5||(this.en$3(this.pe_7),this.ie_5=!0)},getActualFamily:function(){return this.al_3},
getAmountThatFits:function(a,d,c,e){e/=d;c&&(e/=this.bo_5);for(c=d=0;c<a.length;++c)if(d+=this.getCharWidth(b.com_ibm_rave_codegenerator_util_BasicFactory.charCodeAt(a,c)),d>e)return c;return a.length},getAscent:function(a){return this.an_3*a},getHeight:function(a){return this.hh_4*a},getWidth:function(a,d,c){for(var e=0,g=0;g<a.length;++g)e+=this.getCharWidth(b.com_ibm_rave_codegenerator_util_BasicFactory.charCodeAt(a,g));return c?e*this.bo_5*d:e*d},cc$4:function(a){return this!=b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.aa_6?
(b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.aa_6.iz$1(),b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.aa_6.getCharWidth(a)):this.wt_6},go$4:function(a){return a>>8},go$5:function(a){return a%256},hasCode:function(a){var d=this.go$4(a);if(this.pe_7.length<=d)return!1;d=this.pe_7[d];if(!b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(d))return 0==d?!1:!0;var c=this.go$5(a);a=0;c<d.length-1&&(a=d[c+1]);return 1==a&&(a=d[0],1==a)?!0:0==a?!1:!0},getCharWidth:function(a){if(32<
a&&!this.hasCode(a))throw a="font "+this.getActualFamily()+" does not support the char "+a,new b.com_ibm_vis_exceptions_internal_EngineException(a,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);var d=this.go$4(a);if(this.pe_7.length<=d)return this.cc$4(a);d=this.pe_7[d];if(!b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(d)){var c=d;return 0==c?this.cc$4(a):1==c?this.wt_6:(c-2)/100}var e=this.go$5(a),c=0;e<d.length-1&&(c=d[e+1]);return 1==c&&(c=d[0],1==c)?this.wt_6:0==c?this.cc$4(a):
(c-2)/100}});b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.get=function(a){b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.mc_2||(b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.mc_2=b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.mc$2(),b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.aa_6=b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.mc_2.get("arial"));a=null==a?"serif":a.toLowerCase();
a=a.split(",");for(var d,c=0;!d&&c<a.length;)d=a[c].CPVISEngineTrim(),d=d.CPVisEngineReplace("'",""),d=d.CPVisEngineReplace('"',""),d=b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.mc_2.get(d),c++;d&&d.iz$1();return d};b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.mc$2=function(){var a=new b.com_ibm_rave_codegenerator_util_Map,d;try{d=b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getFontMetricsArray()}catch(c){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,
b.com_ibm_rave_codegenerator_io_WebEngineException))throw c;}for(var e=0,g=d.length;e<g;++e)for(var k=d[e],s=Math.round(k.w),f=Math.round(k.h),u=Math.round(k.a),h=Math.round(k.b),l=k.c,m=0,k=k.n.split(","),p=k.length;m<p;++m){var q=k[m],r=new b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric(s,f,u,h,l,q);a.put(q,r)}return a};b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.PAGE_NOT_AVAILABLE=0;b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.PAGE_DEFAULT_WIDTH=
1;b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.NOT_AVAILABLE=0;b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.DEFAULT_WIDTH=1;b.com_ibm_vis_engine_internal_grammar_label_PrecomputedFontMetric.WIDTH_ZERO=2;b.com_ibm_init_statics.add(function(){});b.com_ibm_rave_codegenerator_util_NumericMap=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Map,{_getKeysArray:function(a){for(var d=b.com_ibm_rave_codegenerator_util_Map.prototype._getKeysArray.apply(this,
arguments),c=0;c<d.length;c++)d[c]=parseFloat(d[c]);return d}});b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics=b.com_ibm_init_declare({constructor:function(){b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3.isEmpty()&&(b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3.put("default",new b.com_ibm_vis_engine_internal_grammar_label_FontStats(8,1.12)),b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3.put("Courier",new b.com_ibm_vis_engine_internal_grammar_label_FontStats(7,
1.12)))},toString:function(){return"NativeFontStatistics ["+b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3+"]"},ge$6:function(a){var b=a.fl_3.toLowerCase();0<b.indexOf(",")&&(b=b.substring(0,b.indexOf(",")-1));return b+","+a.bold},resolveFontStats:function(a){a=this.ge$6(a);var d=b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3.get(a);d||(d=new b.com_ibm_vis_engine_internal_grammar_label_FontStats(b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3.get("default").getAvg(12),
1),b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3.put(a,d));return d}});b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.DZ_3=12;b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.DN_2="default";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics.ft_3=new b.com_ibm_rave_codegenerator_util_HashMap});b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_label_FontMetric,
{ce_16:!1,an_2:NaN,hh_3:NaN,setFontStats:function(a){this.ft_2=a},getFontStats:function(){return this.ft_2},constructor:function(a){this.ce_16=!0;this.font=a;this.setFontStats(b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.fc_1.resolveFontStats(a));this.ce_16&&(this.wh_2=new b.com_ibm_rave_codegenerator_util_Map,this.ah_2=new b.com_ibm_rave_codegenerator_util_Map)},internalGetAmountThatFitsBin:function(a,b,c,e,g){var k=this.ft_2.getAvg(a.size),s=this.getWidth(b.substring(0,g),a.size,
a.bold),f=e-g;return c>=s&&(0==f||c-s<this.getWidth(""+String.fromCharCode(b.charCodeAt(g)),a.size,a.bold))?g:0==f&&(s<c||s-c<this.getWidth(""+String.fromCharCode(b.charCodeAt(g-1)),a.size,a.bold))?s<=c?g:g-1:s<c?this.internalGetAmountThatFitsBin(a,b,c,e,g+Math.min(Math.max((c-s)/k,1),e-g)):s>c?1==g?0:this.internalGetAmountThatFitsBin(a,b,c,g-1,Math.max(1,g-Math.max((s-c)/k,1))):s==c?g:0},getAmountThatFitsBin:function(a,b,c){if(null==b||0==b.length)return 0;var e=this.getFontStats().getAvg(a.size);
return this.internalGetAmountThatFitsBin(a,b,c,b.length,Math.min(b.length,Math.max(c/e,1)))},getAmountThatFitsGuessLin:function(a,b,c){if(null==b||0==b.length)return 0;var e=this.getFontStats().getAvg(a.size),g=Math.floor(Math.min(Math.max(c/e,1),b.length)),e=this.getWidth(b.substring(0,g),a.size,a.bold);if(e==c)return g;if(e<c){for(;g<=b.length;++g)if(e=this.getWidth(b.substring(0,g),a.size,a.bold),e>c)return Math.max(g-1,0);return b.length}for(;0<g;--g)if(e=this.getWidth(b.substring(0,g),a.size,
a.bold),e<=c)return g;return 0},getAmountThatFits:function(a,d,c,e){d=e;if(null==a||!this.font||0>=d||0==a.length)return 0;d=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d);var g,k;this.ce_16&&((k=this.ah_2.get(a))?g=k.get(d):(k=new b.com_ibm_rave_codegenerator_util_NumericMap,this.ah_2.put(a,k)));null==g&&(g=this._t$1(this.font,a,d),this.ce_16&&k.put(d,g));return g},_t$1:function(a,b,c){var e=0;return e=16>b.length?this.getAmountThatFitsGuessLin(a,b,c):this.getAmountThatFitsBin(a,b,c)},getAscent:function(a){this.an_2!=
this.an_2&&(this.an_2=b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.getAscent(this.font));return this.an_2},getHeight:function(a){this.hh_3!=this.hh_3&&(this.hh_3=b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.getHeight(this.font));return this.hh_3},getWidth:function(a,d,c){d=0;d=this.ce_16?this.wh_2.get(a):null;null==d&&(d=b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.getWidth(this.font,a),d=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d),this.ce_16&&this.wh_2.put(a,
d));return d},getActualFamily:function(){return this.font.fl_3}});b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.get=function(a){var d;if(b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.uh_1){var c=a.getMetricsId();d=b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.mc_1.get(c);d||(d=new b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric(a),b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.mc_1.put(c,d))}else d=new b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric(a);
return d};b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.uh_1=!0;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.fc_1=new b.com_ibm_vis_engine_internal_grammar_label_NativeFontStatistics;b.com_ibm_vis_engine_internal_grammar_label_NativeFontMetric.mc_1=new b.com_ibm_rave_codegenerator_util_HashMap});b.com_ibm_vis_engine_internal_grammar_label_FontStats=b.com_ibm_init_declare({bo_4:0,avg:0,constructor:function(){this.an_1=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);
(function(a,d){this.avg=a;this.an_1=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(1);this.bo_4=d}).apply(this,arguments)},getBoldFactor:function(){return this.bo_4},setBoldFactor:function(a){this.bo_4=a},getAvg:function(a){return this.avg*a/12},setAvg:function(a){this.avg=a},getAvgCnt:function(){return this.an_1},setAvgCnt:function(a){this.an_1=a},updAvg:function(a){this.avg=(this.avg*this.an_1.valueOf()+a)/this.an_1.add(1).valueOf();this.an_1.postIncrement()},toString:function(){return"FontStats [boldFactor\x3d"+
this.bo_4+", avg\x3d"+this.avg+", avgCnt\x3d"+this.an_1+"]"}});b.com_ibm_vis_engine_internal_grammar_label_FontStats.DZ_2=12;b.com_ibm_vis_scenetree_provisional_SceneNodeType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("AXIS");b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("AXIS_LABEL");b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK=
new b.com_ibm_vis_scenetree_provisional_SceneNodeType("AXIS_MARK");b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MINOR=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("AXIS_MINOR");b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("AXIS_BACK");b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("LEGEND");b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_CONTENT=
new b.com_ibm_vis_scenetree_provisional_SceneNodeType("LEGEND_CONTENT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("LEGEND_ENTRY");b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("TEXT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("MULTI_TEXT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT_LINE=
new b.com_ibm_vis_scenetree_provisional_SceneNodeType("MULTI_TEXT_LINE");b.com_ibm_vis_scenetree_provisional_SceneNodeType.HIGHLIGHT=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("HIGHLIGHT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.IMAGE_HIGHLIGHT=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("IMAGE_HIGHLIGHT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("TITLE");b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT=
new b.com_ibm_vis_scenetree_provisional_SceneNodeType("ELEMENT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("FACET");b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCHEMA=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("SCHEMA");b.com_ibm_vis_scenetree_provisional_SceneNodeType.ROOT=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("ROOT");b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCENE=new b.com_ibm_vis_scenetree_provisional_SceneNodeType("SCENE");
b.com_ibm_vis_scenetree_provisional_SceneNodeType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_scenetree_provisional_SceneNodeType)};b.com_ibm_vis_engine_internal_struct_SmoothAreaPathMaker=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker,{makeGeom:function(a){var d=a.x.length;if(2>=d)return null;for(var c=a.x,e=a.y,g=b.com_ibm_rave_codegenerator_lang_Array.create([d-2],0),k=b.com_ibm_rave_codegenerator_lang_Array.create([d-2],
0),s=0;s<d-2;++s)g[s]=c[s+1],k[s]=e[s+1];s=new b.com_ibm_vis_engine_internal_geom_GeomBuilder;s.moveTo(c[0],e[0]);if(!this.makeSmoothGeom(s,!0,g,k,a.getStartArrowGeom(),a.getEndArrowGeom()))return null;s.lineTo(c[d-1],e[d-1]);return s.getGeom()},getControlPoints:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.x.length-2],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([a.y.length-2],0),e=0;e<d.length;++e)d[e]=a.x[e+1],c[e]=a.y[e+1];return this.findControlPoints(d,c)},toString:function(){return"smoothAreaPathMaker"},
getType:function(){return 1001}});b.com_ibm_vis_engine_internal_Alignment=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_Alignment.isValidAlign=function(a){return"start"==a||"end"==a||"middle"==a};b.com_ibm_vis_engine_internal_Alignment.getReverseAlignment=function(a){return"end"==a?"start":"start"==a?"end":"middle"};b.com_ibm_vis_engine_internal_Alignment.getOffset=function(a){return"end"==a?1:"start"==a?-1:0};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_Alignment.ALIGN_START=
"start";b.com_ibm_vis_engine_internal_Alignment.ALIGN_END="end";b.com_ibm_vis_engine_internal_Alignment.ALIGN_MIDDLE="middle";b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE=b.com_ibm_vis_internal_SpecConstants.MIDDLEOFFIRSTLINE});b.com_ibm_vis_engine_internal_struct_RasterEdgeData=b.com_ibm_init_declare({i0:0,i1:0,x:0,dx:0});b.com_ibm_rave_codegenerator_util_Comparator=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_struct_RasterEdgeDataYComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,
{compare:function(a,b){var c=a.i0,e=b.i0;return 0>e-c?1:0<e-c?-1:0}});b.com_ibm_vis_engine_internal_struct_RasterEdgeDataXComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a.x,e=b.x;return 0>e-c?1:0<e-c?-1:0}});b.com_ibm_vis_engine_internal_struct_PotentialRect=b.com_ibm_init_declare({fs_5:0,bt_1:0,constructor:function(a,d){if(a){this.bt_1=1;this.fs_5=1+a.fs_5;this.ft_4=b.com_ibm_rave_codegenerator_lang_Array.create([this.fs_5+1],0);for(var c=
1;c<=this.fs_5;++c)this.ft_4[c]=1+d.gt$9(c),c*this.ft_4[c]>this.bt_1*this.ft_4[this.bt_1]&&(this.bt_1=c)}else this.ft_4=[0],this.bt_1=this.fs_5=0},gt$9:function(a){return a<this.ft_4.length?this.ft_4[a]:0},getBestWidth:function(){return this.bt_1},getBestHeight:function(){return this.ft_4[this.bt_1]}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_struct_PotentialRect.NONE=new b.com_ibm_vis_engine_internal_struct_PotentialRect(null,null)});b.com_ibm_vis_engine_internal_image_ImageFill=
b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ShapeProperty,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{ah_3:0,x:0,y:0,wt_7:0,hh_5:0,clip:!1,te_6:0,te_7:0,constructor:function(a,b,c,e,g,k,s,f,u,h,l){this.mo_9=a;this.sc_3=b;this.x=c;this.y=e;this.wt_7=g;this.hh_5=k;this.ah_3=s;this.clip=f;this.hI_1=u;this.te_6=h;this.te_7=l},createCopy:function(a){return new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,this.x,this.y,this.wt_7,this.hh_5,a,this.clip,
this.hI_1,this.te_6,this.te_7)},getMethod:function(){return this.mo_9},getImageResource:function(){return this.sc_3},getAlpha:function(){return this.ah_3},getX:function(){return this.x},getY:function(){return this.y},getWidth:function(){return this.wt_7},getHeight:function(){return this.hh_5},isClipped:function(){return this.clip},getHighlightRectID:function(){return this.hI_1},getTileX:function(){return this.te_6},getTileY:function(){return this.te_7},toString:function(){return"icon"==this.mo_9?
null!=this.hI_1?"{method:"+this.mo_9+", source:"+this.sc_3+", alpha:"+this.ah_3+", x:"+this.x+", y:"+this.y+", width:"+this.wt_7+", height:"+this.hh_5+", clip:"+this.clip+", HLRectID:"+this.hI_1+"}":"{method:"+this.mo_9+", sourceID:"+this.sc_3+", alpha:"+this.ah_3+", x:"+this.x+", y:"+this.y+", width:"+this.wt_7+", height:"+this.hh_5+", clip:"+this.clip+"}":"texture"==this.mo_9?"{method:"+this.mo_9+", sourceID:"+this.sc_3+", alpha:"+this.ah_3+", x:"+this.x+", y:"+this.y+", width:"+this.wt_7+", height:"+
this.hh_5+", clip:"+this.clip+", tileX:"+this.te_6+", tileY:"+this.te_7+"}":"{method:"+this.mo_9+", sourceID:"+this.sc_3+", alpha:"+this.ah_3+", x:"+this.x+", y:"+this.y+", width:"+this.wt_7+", height:"+this.hh_5+", clip:"+this.clip+"}"},equals:function(a){if(this==a)return!0;if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_image_ImageFill))return!1;if(null==this.hI_1){if(null!=a.hI_1)return!1}else if(this.hI_1!=a.hI_1)return!1;return this.ah_3==a.ah_3&&this.clip==
a.clip&&this.mo_9==a.mo_9&&this.sc_3===a.sc_3&&this.te_6==a.te_6&&this.te_7==a.te_7&&this.x==a.x&&this.y==a.y&&this.wt_7==a.wt_7&&this.hh_5==a.hh_5&&this.tf_1==a.tf_1},hashCode:function(){var a;a=31+255*this.ah_3;a=31*a+(this.clip?1231:1237);a=31*a+(null==this.hI_1?0:this.hI_1.hashCode());a=31*a+this.mo_9.hashCode();a=31*a+this.sc_3.hashCode();a=31*a+this.te_6;a=31*a+this.te_7;a=31*a+1E3*this.x;a=31*a+1E3*this.y;a=31*a+1E3*this.wt_7;a=31*a+1E3*this.hh_5;this.tf_1&&(a=31*a+this.tf_1.hashCode());return a},
createResizedFill:function(a,d){return a==this.wt_7&&d==this.hh_5?this:new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,this.x,this.y,a,d,this.ah_3,this.clip,this.hI_1,this.te_6,this.te_7)},createMovedFill:function(a,d){return this.x==a&&this.y==d?this:new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,a,d,this.wt_7,this.hh_5,this.ah_3,this.clip,this.hI_1,this.te_6,this.te_7)},createFillInBounds:function(a,d,c,e){return this.x==a&&this.y==d&&c==this.wt_7&&e==
this.hh_5?this:new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,a,d,c,e,this.ah_3,this.clip,this.hI_1,this.te_6,this.te_7)},createClippedFill:function(a){return a==this.clip?this:new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,this.x,this.y,this.wt_7,this.hh_5,this.ah_3,a,this.hI_1,this.te_6,this.te_7)},createTiledFill:function(a,d){return this.te_6==a&&this.te_7==d?this:new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,this.x,this.y,
this.wt_7,this.hh_5,this.ah_3,this.clip,this.hI_1,a,d)},createHighlightedFill:function(a){return a==this.hI_1?this:new b.com_ibm_vis_engine_internal_image_ImageFill(this.mo_9,this.sc_3,this.x,this.y,this.wt_7,this.hh_5,this.ah_3,this.clip,a,this.te_6,this.te_7)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addString("method",this.mo_9);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("source",
this.sc_3));a.addDouble("alpha",this.ah_3);a.addDouble("x",this.x);a.addDouble("y",this.y);a.addDouble("width",this.wt_7);a.addDouble("height",this.hh_5);a.addBoolean("clip",this.clip);a.addString("highlightRectID",this.hI_1);a.addInteger("tileX",this.te_6);a.addInteger("tileY",this.te_7);this.tf_1&&a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("transform",this.tf_1));return a},populateFromSerialized:function(a){this.mo_9=a.getNodeById("method").asPrimitive().getStringValue$0();
this.sc_3=b.com_ibm_vis_engine_internal_image_ImageResource.createFromSerialized(a.getNodeById("source"));this.ah_3=a.getNodeById("alpha").asPrimitive().getNumberValue$0();this.x=a.getNodeById("x").asPrimitive().getNumberValue$0();this.y=a.getNodeById("y").asPrimitive().getNumberValue$0();this.wt_7=a.getNodeById("width").asPrimitive().getNumberValue$0();this.hh_5=a.getNodeById("height").asPrimitive().getNumberValue$0();this.clip=a.getNodeById("clip").asPrimitive().getBooleanValue$1(!1);this.hI_1=
a.getNodeById("highlightRectID").asPrimitive().getStringValue$0();this.te_6=a.getNodeById("tileX").asPrimitive().getNumberValue$0();this.te_7=a.getNodeById("tileY").asPrimitive().getNumberValue$0();this.tf_1=b.com_ibm_vis_scenetree_provisional_TransformInfoImpl.createFromSerialized(a.getNodeById("transform"));return this},getTransformInfo:function(){this.tf_1||(this.tf_1=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl);return this.tf_1}});b.com_ibm_vis_engine_internal_image_ImageFill.createIcon=
function(a,d,c,e,g){return new b.com_ibm_vis_engine_internal_image_ImageFill("icon",a,d.x,d.y,d.wt_3,d.hh_2,c,e,g,1,1)};b.com_ibm_vis_engine_internal_image_ImageFill.createTexture=function(a,d,c,e,g,k){return new b.com_ibm_vis_engine_internal_image_ImageFill("texture",a,d.x,d.y,d.wt_3,d.hh_2,c,e,null,g,k)};b.com_ibm_vis_engine_internal_image_ImageFill.createFit=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_image_ImageFill("fit",a,d.x,d.y,d.wt_3,d.hh_2,c,e,null,1,1)};b.com_ibm_vis_engine_internal_image_ImageFill.createStretch=
function(a,d,c,e){return new b.com_ibm_vis_engine_internal_image_ImageFill("stretch",a,d.x,d.y,d.wt_3,d.hh_2,c,e,null,1,1)};b.com_ibm_vis_engine_internal_image_ImageFill.createFill=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_image_ImageFill("fill",a,d.x,d.y,d.wt_3,d.hh_2,c,e,null,1,1)};b.com_ibm_vis_engine_internal_image_ImageFill.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_image_ImageFill("",null,0,0,0,0,0,!1,"",0,0);d.populateFromSerialized(a);
return d};b.com_ibm_vis_engine_internal_image_FillMethod=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_image_ImageMethod,{getType:function(){return 1E3},modifyFillForShape:function(a,b){var c=this.getImageShapeBounds(b),e=c.x,g=c.y,k=c.wt_3,s=c.hh_2,f=a.wt_7,u=a.hh_5,h=c.wt_3,c=c.hh_2,l=f,m=u;0<h&&0<c&&0<f&&0<u?u/c>f/h?(l=Math.ceil(h),m=l*u/f):(m=Math.ceil(c),l=m*f/u):m=l=0;"middle"==this.align?e+=(k-l)/2:"end"==this.align&&(e=e+k-l);"middle"==this.valign?g+=(s-m)/2:"end"==this.valign&&(g=
g+s-m);return a.createFillInBounds(e,g,l,m)}});b.com_ibm_vis_engine_internal_image_FitMethod=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_image_ImageMethod,{getType:function(){return 1001},modifyFillForShape:function(a,b){var c=this.getImageShapeBounds(b),e=c.x,g=c.y,k=c.wt_3,s=c.hh_2,f=c.hh_2,u=a.wt_7,h=a.hh_5;0<c.wt_3&&0<f&&0<a.wt_7?a.hh_5/s>a.wt_7/k?(h=s,u=h*a.wt_7/a.hh_5):(u=k,h=u*a.hh_5/a.wt_7):h=u=0;"middle"==this.align?e+=(k-u)/2:"end"==this.align&&(e=e+k-u);"middle"==this.valign?g+=
(s-h)/2:"end"==this.valign&&(g=g+s-h);return a.createFillInBounds(e,g,u,h)}});b.com_ibm_vis_engine_internal_image_StretchMethod=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_image_ImageMethod,{getType:function(){return 1003},modifyFillForShape:function(a,b){var c=this.getImageShapeBounds(b);return a.createFillInBounds(c.x,c.y,c.wt_3,c.hh_2)}});b.com_ibm_vis_engine_internal_image_IconMethod=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_image_ImageMethod,{getType:function(){return 1002},
modifyFillForShape:function(a,d){var c=this.getShapeBounds(d),e;e="middle"==this.align?c.x+(c.wt_3-a.wt_7)/2:"end"==this.align?c.getMaxX()-a.wt_7:c.x;c="middle"==this.valign?c.y+(c.hh_2-a.hh_5)/2:"end"==this.valign?c.getMaxY()-a.hh_5:c.y;e=a.createMovedFill(e,c);var c=e.x,g=e.y,k=e.wt_7,s=e.hh_5;d.contains(c,g)&&d.contains(c+k,g)&&d.contains(c,g+s)&&d.contains(c+k,g+s)&&(e=e.createClippedFill(!1));c=d.id;null!=c&&(e=e.createHighlightedFill(b.com_ibm_rave_codegenerator_util_BasicFactory.replace(c,
"S","I")));return e}});b.com_ibm_vis_engine_internal_image_ImageLoadState=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_image_ImageLoadState.hasFailed=function(){return b.com_ibm_vis_engine_internal_image_ImageLoadState.fe_4};b.com_ibm_vis_engine_internal_image_ImageLoadState.fail=function(){b.com_ibm_vis_engine_internal_image_ImageLoadState.fe_4=!0};b.com_ibm_vis_engine_internal_image_ImageLoadState.reset=function(){b.com_ibm_vis_engine_internal_image_ImageLoadState.fe_4=!1};b.com_ibm_vis_engine_internal_image_ImageLoadState.fe_4=
!1;b.com_ibm_vis_engine_internal_image_ImageMethodFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_image_ImageMethodFactory.createFromSerialized=function(a){var d;switch(a.getNodeById("type").asPrimitive().getNumberValue$1(1E3)){case 1E3:d=new b.com_ibm_vis_engine_internal_image_FillMethod(null,null);break;case 1001:d=new b.com_ibm_vis_engine_internal_image_FitMethod(null,null);break;case 1002:d=new b.com_ibm_vis_engine_internal_image_IconMethod(null,null);break;case 1003:d=new b.com_ibm_vis_engine_internal_image_StretchMethod(null,
null);break;case 1004:d=new b.com_ibm_vis_engine_internal_image_TextureMethod(null,null)}d&&d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_nativeImpl_DateUtil=function(){var a,d={},c=N._getGregorianBundle;N._getGregorianBundle=function(a){var e=d[a];e||((e=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getBundle("gregorian",a))||(e=c(a)),d[a]=e);return e};var e=N.addCustomFormats;N.addCustomFormats=function(a,b){d={};e()};var g=function(a){return new Date(a.valueOf()+6E4*
a.getTimezoneOffset())},k=b.com_ibm_init_declare({constructor:function(){this.EPOCH=(new Date).getMilliseconds()},asDate:function(a){return a instanceof Date?a:null},makeDate0:function(){return new Date(0)},makeDateNow:function(){return new Date},makeDate:function(a,b,d){var c=new Date(0);c.setUTCFullYear(a,b-1,d);c.setUTCHours(0,0,0,0);return c},makeDateTime:function(a,b,d,c,e,g){var k=new Date(0);k.setUTCFullYear(a,b-1,d);k.setUTCHours(c,e,g,0);return k},copy:function(a){return new Date(a.valueOf())},
setDate:function(a,b,d,c){a.setUTCFullYear(b,d-1,c);a.setUTCHours(0,0,0,0);return a},setDateTime:function(a,b,d,c,e,g,k){a.setUTCFullYear(b,d-1,c);a.setUTCHours(e,g,k,0);return a},toDate:function(a,d,c){c=null;if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE){if(a>k.OVERFLOW_DATE)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);c=864E5}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTURY){if(a>
k.OVERFLOW_CENTURY)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);var e=new Date(0);e.toUTCString();var g=Math.floor(a);d=315576E4*(a-1*g);g*=100;if(!isNaN(a))return a=ha.add(e,"year",g),a.toUTCString(),a=ha.add(a,"second",d),a.toUTCString(),a}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR){if(a>k.OVERFLOW_YEAR)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+
a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);e=new Date(0);e.toUTCString();g=Math.floor(a);d=31557600*(a-1*g);if(!isNaN(a))return a=ha.add(e,"year",g),a.toUTCString(),a=ha.add(a,"second",d),a.toUTCString(),a}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.QUARTER){if(a>k.OVERFLOW_QUARTER)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);e=new Date(0);e.toUTCString();g=Math.floor(a);d=a-1*g;g*=
3;d*=7889400;if(!isNaN(a))return e=ha.add(e,"minute",e.getTimezoneOffset()),a=ha.add(e,"month",g),a=ha.add(a,"minute",-a.getTimezoneOffset()),a.toUTCString(),a=ha.add(a,"second",d),a.toUTCString(),a}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH){if(a>k.OVERFLOW_MONTH)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);e=new Date(0);e.toUTCString();g=Math.floor(a);d=2629800*(a-1*g);if(!isNaN(a))return e=
ha.add(e,"minute",e.getTimezoneOffset()),a=ha.add(e,"month",g),a=ha.add(a,"minute",-a.getTimezoneOffset()),a.toUTCString(),a=ha.add(a,"second",d),a.toUTCString(),a}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.WEEK){if(a>k.OVERFLOW_WEEK)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);c=6048E5}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.HOUR){if(a>k.OVERFLOW_WEEK)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+
a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);c=36E5}else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MINUTE){if(a>k.OVERFLOW_WEEK)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);c=6E4}else{if(a>k.OVERFLOW_SECOND)throw new b.com_ibm_vis_exceptions_internal_EngineException("Date overflow error: "+a,b.com_ibm_vis_exceptions_ErrorCode.DATA_OVERFLOW);c=1E3}d=new Date(0);isNaN(a)||null==c||d.setTime(Math.round(a*
c));return d},fromDateObject:function(a,d){var c=Math.round(a.valueOf()/1E3);return d==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE?c/86400:c},getAxisTimeZone:function(a,b){return"quarter"==b||"month"==b?k.DEFAULT_TIMEZONE:a},increment:function(a,d,c){d==b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTURY?a.setUTCFullYear(a.getUTCFullYear()+100*c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR?a.setUTCFullYear(a.getUTCFullYear()+c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.QUARTER?
a.setUTCMonth(a.getUTCMonth()+3*c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH?a.setUTCMonth(a.getUTCMonth()+c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.WEEK?a.setUTCDate(a.getUTCDate()+7*c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY?a.setUTCDate(a.getUTCDate()+c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.HOUR?a.setUTCHours(a.getUTCHours()+c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MINUTE?a.setUTCMinutes(a.getUTCMinutes()+c):d==b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND&&
a.setUTCSeconds(a.getUTCSeconds()+c)},formatDate:function(d,c,e,f,h){if(!(d instanceof Date))return"";if(!this.isValidFormatUnit(c))throw d=c.toString()+": is an invalid Date Format",new b.com_ibm_vis_exceptions_internal_EngineException(d,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);f&&null!=f||(f=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale());f=f.CPVisEngineReplace("_","-");if(null==e||""==e)e=this.getDefaultFormattingPattern(c);var l=null;null==h?l=k.DEFAULT_TIMEZONE:
(l=k.timezoneMap[h],null==l&&(l=h));if(c!=b.com_ibm_vis_engine_internal_grammar_units_Unit.WEEK&&c!=b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY&&c!=b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE||null!=e){a||(b.com_ibm_init_requireSync.amd("dojox/date/timezone"),a=!0);try{return c!=b.com_ibm_vis_engine_internal_grammar_units_Unit.HOUR&&c!=b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP||null!=e?N.format(d,dojo.delegate({selector:"date",datePattern:e,locale:f},{timezone:l})):
N.format(d,dojo.delegate({selector:"date",formatLength:"short",locale:f},{timezone:l}))+" "+N.format(d,dojo.delegate({selector:"time",formatLength:"short",locale:f},{timezone:l}))}catch(m){return""+d.getUTCFullYear()}}else return N.format(g(d),{selector:"date",formatLength:"short",locale:f})},getDefaultFormattingPattern:function(a){var d=null;a==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTURY?d="yyyy":a==b.com_ibm_vis_engine_internal_grammar_units_Unit.QUARTER||
a==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH?d="MMM yy":a==b.com_ibm_vis_engine_internal_grammar_units_Unit.MINUTE?d="h:mm a":a==b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND&&(d="h:mm:ss a");return d},isValidFormatUnit:function(a){return a==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTURY||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.QUARTER||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH||
a==b.com_ibm_vis_engine_internal_grammar_units_Unit.WEEK||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.MINUTE||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.HOUR||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?!0:!1},floorToUnitMultiple:function(a,d,c){var e=a.getUTCMilliseconds();a.setUTCMilliseconds(0);
500<=e&&a.setUTCSeconds(a.getUTCSeconds()+1);if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.CENTURY)a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(0),a.setUTCDate(1),a.setUTCMonth(0),a.setUTCFullYear(100*Math.floor(a.getUTCFullYear()/100/c)*c);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR)a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(0),a.setUTCDate(1),a.setUTCMonth(0),a.setUTCFullYear(Math.floor(a.getUTCFullYear()/c)*c);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.QUARTER)a.setUTCSeconds(0),
a.setUTCMinutes(0),a.setUTCHours(0),a.setUTCDate(1),a.setUTCMonth(3*Math.floor(a.getUTCMonth()/3/c)*c);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH)a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(0),a.setUTCDate(1),a.setUTCMonth((a.getUTCMonth()+1)/c*c-1);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.WEEK)a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(0),a.setUTCDate(a.getUTCDate()-a.getUTCDay());else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY)a.setUTCSeconds(0),
a.setUTCMinutes(0),a.setUTCHours(0),a.setUTCDate(Math.floor(a.getUTCDate()/c)*c);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.HOUR)a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(Math.floor(a.getUTCHours()/c)*c);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.MINUTE)a.setUTCSeconds(0),a.setUTCMinutes(Math.floor(a.getUTCMinutes()/c)*c);else if(d==b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND)a.setUTCSeconds(Math.floor(a.getUTCSeconds()/c)*c);else throw a="Unit parameter passed is not a valid date unit :"+
d.toString(),new b.com_ibm_vis_exceptions_internal_EngineException(a,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);},getYear:function(a){return a.getUTCFullYear()},getMonth:function(a){return a.getUTCMonth()+1},getDayOfMonth:function(a){return a.getUTCDate()},getDayOfWeek:function(a){return a.getUTCDay()},getFormattedDate:function(a,b,d){return N.format(a,{selector:"date",datePattern:b,locale:d})}});k.fromDateString=function(a,d,c){a=N.parse(d,{selector:"date",datePattern:a,locale:c});
a=k.INSTANCE.makeDate(a.getFullYear(),a.getMonth()+1,a.getDate());return k.INSTANCE.fromDateObject(a,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE)};k.OVERFLOW_CENTURY=2777.777777;k.OVERFLOW_YEAR=277777.777777;k.OVERFLOW_QUARTER=1111111.111111;k.OVERFLOW_MONTH=3333333.333333;k.OVERFLOW_WEEK=1.4285714285714E7;k.OVERFLOW_DATE=1E8;k.OVERFLOW_HOUR=24E8;k.OVERFLOW_MINUTE=144E9;k.OVERFLOW_SECOND=864E10;k.DEFAULT_TIMEZONE="GMT";k.timezoneMap={CST:"CST6CDT",MST:"MST7MDT",PST:"PST8PDT",IST:"Asia/Kolkata",
AST:"Asia/Bahrain",PNT:"Pacific/Pitcairn",ECT:"Pacific/Galapagos",ART:"America/Argentina/Ushuaia",CAT:"Africa/Gaborone",EAT:"Africa/Asmara",BST:"Europe/London",JST:"Asia/Tokyo",SST:"Pacific/Midway",NST:"America/Nome",NZ:"Pacific/Auckland"};k.INSTANCE=new k;return k}();b.com_ibm_vis_engine_internal_nativeImpl_FormatObject=b.com_ibm_init_declare({constructor:function(a,b,c,e){this._type=a;this._useSymbolsForJson=e;this._bundleMap={};this.setLocale(c);this.setPattern(b)},_parseDecimalPattern:function(a){for(var b=
{comma:-1,point:-1,minInt:1,minFrac:0,maxFrac:0,prefix:"",suffix:"",pattern:a,hasExp:0<=this.getExpIndex(a)},c=0;c<a.length;c++)if("#"==a.charAt(c)||"0"==a.charAt(c)){b.prefix=a.substring(0,c);a=a.substring(c);break}b.suffix=a.replace(/[0]|[#]|[,]|[.]/g,"");c=a.replace(/[^0#,\.]/g,"").split(/\./);a=c.shift();c=0<c.length?c.join(""):"";b.point=c?a.length:-1;b.comma=a.lastIndexOf(",");-1!=b.comma&&(b.comma=a.length-1-b.comma);a=a.replace(/[,]/g,"");c=c.replace(/[,]|[.]+/g,"");b.maxFrac=c.length;a=a.replace(/[^0]/g,
"");a.length>b.minInt&&(b.minInt=a.length);b.minFrac=c.replace(/[^0]/g,"").length;0<b.minFrac&&1==b.minInt&&(b.minInt=a.length);return b},_parseScientificPattern:function(a){var b={patternBeforeDecimal:"",patternAfterDecimal:"",expPattern:"",expChar:"",dotIndex:-1,expIndex:-1,prefix:"",suffix:"",length:a.length,pattern:a};b.expIndex=this.getExpIndex(a);0<=b.expIndex&&(b.expChar=a.charAt(b.expIndex));b.dotIndex=a.indexOf(".");0<=b.dotIndex?b.expIndex<b.dotIndex?(b.patternBeforeDecimal=a.substring(0,
b.expIndex),b.patternAfterDecimal=a.substring(b.dotIndex+1,b.length),b.expPattern=a.substring(b.expIndex,b.dotIndex)):(b.patternBeforeDecimal=a.substring(0,b.dotIndex),b.patternAfterDecimal=a.substring(b.dotIndex+1,b.expIndex),b.expPattern=a.substring(b.expIndex,b.length)):(b.patternBeforeDecimal=a.substring(0,b.expIndex),b.expPattern=a.substring(b.expIndex,b.length));b.expPattern=b.expPattern.substring(1);for(a=0;a<b.patternBeforeDecimal.length;a++)if("#"==b.patternBeforeDecimal.charAt(a)||"0"==
b.patternBeforeDecimal.charAt(a)){b.prefix=b.patternBeforeDecimal.substring(0,a);b.patternBeforeDecimal=b.patternBeforeDecimal.substring(a);break}b.suffix=b.patternBeforeDecimal.replace(/[0]|[#]|[,]|[.]/g,"");b.suffix=b.expIndex<b.dotIndex?b.suffix+b.expPattern.replace(/[0]|[#]|[,]|[.]/g,"")+b.patternAfterDecimal.replace(/[0]|[#]|[,]|[.]/g,""):b.suffix+b.patternAfterDecimal.replace(/[0]|[#]|[,]|[.]/g,"")+b.expPattern.replace(/[0]|[#]|[,]|[.]/g,"");b.patternBeforeDecimal=b.patternBeforeDecimal.replace(/[^0#,\.]/g,
"");b.patternAfterDecimal=b.patternAfterDecimal.replace(/[^0#,\.]/g,"");b.expPattern=b.expChar+b.expPattern.replace(/[^0#,\.]/g,"");b.pattern=b.expIndex<b.dotIndex?b.patternBeforeDecimal+b.expPattern+b.patternAfterDecimal:b.patternBeforeDecimal+b.patternAfterDecimal+b.expPattern;return b},format:function(a){var d=null;return null==a||isNaN(a)?null:this.isNoSpaceFormat()?this._pattern:null!=this._pattern?(0>a.doubleValue()&&(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_FORMAT==this._type||
b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_SCIENTIFIC_FORMAT==this._type)&&(a=0-a.doubleValue()),d=this.getExpIndex(this._pattern),0>d||!/[0#,\.]/.test(this._pattern.substring(0,d))?(0>d&&0!=a&&1E-6>a&&-1E-6<a&&(a=a.toFixed(this._pattern.length)),d=this._formatDecimal(a,this._pattern)):d=this._scientificFormat(a),this._addLeadingOrTrailingSpaces(d)):a.toString()},_formatDecimal:function(a,b){var c=this._getDecimalPatternObj(b||this._pattern);"%"===c.suffix&&(a*=100);var e=""+a,
g=0>a;g&&(e=e.substring(1));var k=e.split(/\./),e=k.shift(),k=k.join(""),s=0,f=this.bundle&&null!=this.bundle&&this.bundle.decimal?this.bundle.decimal:".",u=this.bundle&&null!=this.bundle&&this.bundle.group?this.bundle.group:",",h=c.hasExp;k.length>c.maxFrac&&(0<c.maxFrac?(k=!h&&1>a&&-1<a?""+this._roundNumber(new Number("0."+k),c.maxFrac).toFixed(c.maxFrac):""+this._roundNumber(new Number("0."+k),c.maxFrac),"1"===k&&(s=1),k=k.substring(2)):(0<k.length&&("5"==k?(n=(new Number(e)).valueOf(),e=""+(n+
n%2)):"4"<k.charAt(0)&&(e=""+(new Number(e)+1))),k=""));for(h=k.length;h<c.minFrac;h++)k+="0";for(;k.length>c.minFrac&&"0"==k.charAt(k.length-1);)k=k.substring(0,k.length-1);for(0<s&&(e=""+(new Number(e)+s));e.length<c.minInt;)e="0"+e;for(;e.length>c.minInt&&"0"==e.charAt(0);)e=e.substring(1);if(-1<c.comma)for(s=0,h=e.length;0<h;h--)0!=s&&0==s%c.comma&&(e=e.substring(0,h)+u+e.substring(h),s=0),s++;return(g?"-":"")+c.prefix+e+(0<k.length?f+k:"")+c.suffix},_addLeadingOrTrailingSpaces:function(a){for(var b=
"",c=this._getNumOfSpacesRequired(this._getPart(a,!1).length,!1),e=this._getNumOfSpacesRequired(this._getPart(a,!0).length,!0),g=0;g<c;++g)b+=" ";b+=a;for(g=0;g<e;++g)b+=" ";return b},_getNumOfSpacesRequired:function(a,b){var c=this._getPart(this._pattern,b),e=0;if(c.length>a)if(b)for(var g=a;g<c.length;++g)"?"==c[g]&&e++;else for(g=0;g<c.length-a;++g)"?"==c[g]&&e++;return e},_getPart:function(a,b){if(null==a)return"";var c=a.indexOf(".");return 0>c?b?"":a:b?a.substring(c+1,a.length):a.substring(0,
c)},_decimalIndex:function(a,b){return a.indexOf(b)},_scientificFormat:function(a){if(0==a)return this._scientificFormatZero();0>a?(a=-a.valueOf(),isNegative=!0):(a=a.valueOf(),isNegative=!1);var b=this._getScientificPatternObj(this._pattern);a=0<=this.getExpIndex(a.toString())?this._convertExpToScientificFormat(a,b):this._convertToScientificFormat(a,b);return(isNegative?"-":"")+b.prefix+a+b.suffix},_convertToScientificFormat:function(a,b){for(var c=a.toString(),e=0,g="#"+b.patternBeforeDecimal+"."+
b.patternAfterDecimal,k="#"==b.patternBeforeDecimal[0]&&b.patternBeforeDecimal.length||1,s=b.patternBeforeDecimal.indexOf("0"),f=-1==s?1:b.patternBeforeDecimal.length-s,s=0,u=this._getIntegerPartStr(c,"."),h=this._getDecimalPartStr(c,".");0==u||f!=u.length;)0==u||f>u.length?(c*=10,--e):(c=this._roundNumber(c/10,s+1),e+=1),u=this._getIntegerPartStr(c,"."),h=this._getDecimalPartStr(c,"."),s=h.length;f=e%k;1<k&&f&&(c*=Math.pow(10,f),e-=f,this._getIntegerPartStr(c,"."),h=this._getDecimalPartStr(c,"."),
s=h.length);if(0<e&&0<s&&-1==b.dotIndex)for(g+=".";0<s;)g+="#",s--;c=this._formatDecimal(c,g);this._getIntegerPartStr(c,this.bundle&&null!=this.bundle&&this.bundle.decimal?this.bundle.decimal:".").length>b.patternBeforeDecimal.length&&(e+=1,c=this._formatDecimal(c/10,g));return c+(this.bundle&&null!=this.bundle&&this.bundle.exponential?this.bundle.exponential:"E")+b.expPattern.substring(2)+e},getExpIndex:function(a){for(var b=0,c,e=a.length;b<e;++b)if(c=a.charAt(b),"e"==c||"E"===c)return b;return-1},
_getIntegerPartStr:function(a,b){var c=a.toString(),e="",e=this._decimalIndex(c,b),g=this.getExpIndex(c);return e=0<=e?c.substring(0,e):0<=g?c.substring(0,g):c},_getDecimalPartStr:function(a,b){var c=a.toString(),e="",g=this._decimalIndex(c,b),k=this.getExpIndex(c);0<=g&&(e=0<=k?c.substring(g+1,k):c.substring(g+1));return e},_scientificFormatZero:function(){var a=this._getScientificPatternObj(this._pattern),b=[],c=a.patternBeforeDecimal.length;for("#"==a.patternBeforeDecimal[0]&&(c=1);0<c--;)b.push("0");
c=a.patternAfterDecimal.indexOf("#");0>c&&(c=a.patternAfterDecimal.length);if(0<c)for(b.push(".");0<c--;)b.push("0");return a.prefix+b.join("")+a.expPattern+a.suffix},_convertExpToScientificFormat:function(a,d){var c=a.toString(),e=this.getExpIndex(c),g=c.substring(0,e),c=c.substring(e+1),c=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(c),k=g=this._convertToScientificFormat(g,d).toString(),s=0,e=g.indexOf("E");0<=e&&(k=g.substring(0,e),s=g.substring(e+1),s=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(s));
return k+"E"+(c+s)},_roundNumber:function(a,b){var c=Math.pow(10,b),e=a*c,g=Math.floor(e);return(.5==e-g?g+g%2:Math.round(e))/c},_getDecimalPatternObj:function(a){var d=b.com_ibm_vis_engine_internal_nativeImpl_FormatObject._decimalPatternCache[a];d||(d=this._parseDecimalPattern(a.CPVisEngineReplace("?","#")),b.com_ibm_vis_engine_internal_nativeImpl_FormatObject._decimalPatternCache[a]=d);return d},_getScientificPatternObj:function(a){var d=b.com_ibm_vis_engine_internal_nativeImpl_FormatObject._scientificPatternCache[a];
d||(d=this._parseScientificPattern(a.CPVisEngineReplace("?","#")),b.com_ibm_vis_engine_internal_nativeImpl_FormatObject._scientificPatternCache[a]=d);return d},getBundle:function(a){var d=this._bundleMap[a];d||(d=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getBundle("number",a),this._bundleMap[a]=d);return d},getType:function(){return this._type},setType:function(a){this._type=a},getPattern:function(){return this._pattern},setPattern:function(a){a&&(this._pattern=a)},setLocale:function(a){this.locale||
(this.locale=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale());a&&(a=a.CPVisEngineReplace("_","-"),this.locale!=a&&(this.locale=a,this.bundle=this.getBundle(a)))},isNoSpaceFormat:function(){return b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NO_SPACE_FORMAT==this._type?!0:!1},isUseSymbolsForJson:function(){return this._useSymbolsForJson},setUseSymbolsForJson:function(a){this._useSymbolsForJson=a}});b.com_ibm_vis_engine_internal_nativeImpl_FormatObject._decimalPatternCache=
{};b.com_ibm_vis_engine_internal_nativeImpl_FormatObject._scientificPatternCache={};b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.CUSTOM_FORMAT="custom_format";b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_FORMAT="zero_format";b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_FORMAT="negative_format";b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NO_SPACE_FORMAT="no_space_format";b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.DEFAULT_FORMAT="default_format";
b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.SCIENTIFIC_FORMAT="scientific_format";b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_SCIENTIFIC_FORMAT="negative_scientific_format";b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_SCIENTIFIC_FORMAT="zero_scientific_format";b.com_ibm_vis_engine_internal_format_RAVEFormatter=b.com_ibm_init_declare(b.com_ibm_vis_engine_DataFormatter,{di_1:1E-4,da_2:1E5,constructor:function(a,b,c,e,g,k,s){this.ft_1=a;this.pi_1=c;this.si_3=
e;this.fo_2=g;this.se_2=k;this.dr_1=b},formatDate:function(a,d,c,e,g){return this.formatLocalizedDate(a,d,c,e,g,b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale(),"GMT")},formatLocalizedDate:function(a,d,c,e,g,k,s){if(null==a)return null;e=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(e,null);a=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.formatDate(a,e,this.dr_1,k,s);return this.formatString(a,d,c,g)},formatNumber:function(a,d,c,e,g,k,s){return this.formatLocalizedNumber(a,
d,c,e,g,k,s,b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale())},formatLocalizedNumber:function(a,d,c,e,g,k,s,f){if(null==a)return null;null==f&&(f=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale());k=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(k,null);e=new b.com_ibm_vis_engine_internal_data_Range(e,g);(g=this.gb$1(a,e))&&null!=g.getPattern()?(g=new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(g.getType(),g.getPattern(),f,g.isUseSymbolsForJson()),
a=g.format(a)):a=this.defaultFormat(k,a,e,f);return k.pe_1?this.formatString(k.abbreviation+a,d,c,s):this.formatString(a+k.abbreviation,d,c,s)},ga$2:function(a,d,c,e,g){var k;null==this.se_2?e&&g?k=b.com_ibm_vis_engine_internal_format_RAVEFormatter.ui$1(a,d,c)?e:g:g?k=g:e&&(k=e):k=b.com_ibm_vis_engine_internal_format_RAVEFormatter.ui$1(a,d,c)?e:g;return k},formatString:function(a,b,c,e){if(null==a)return null;null!=this.pi_1&&(a=this.pi_1+a);null!=this.si_3&&(a+=this.si_3);return a},sm$1:function(a){var d=
0>a?"-":"",c=a=Math.abs(a),e="",g="",k="",s="";86400<=c&&(e=Math.floor(a/86400),a=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a%86400),e+=":");3600<=c&&(g=Math.floor(a/3600),a=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a%3600),g=this.ae$2(g,!0)+":");60<=c&&(c=Math.floor(a/60),a=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a%60),k=this.ae$2(c,!0)+":");s=this.ae$2(a,!1);s=s.CPVISEngineEndsWith(".0")?s.substring(0,s.indexOf(".0")):s;a=d+e+g+k+s;return"00"==a?"0":a},ae$2:function(a,b){return 10>
a?"0"+a:""+a},defaultFormat:function(a,d,c,e){if(a==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIME)return this.sm$1(d);a=a.measure.type.name==b.com_ibm_vis_engine_internal_grammar_units_Unit.DOLLARS.measure.type.name;var g=this.gn$2();a?c=this.gc$1(c,!1,e,a,d):(g=b.com_ibm_vis_engine_internal_format_RAVEFormatter.ui$1(c.min,c.max,g),c=this.gc$1(c,g,e,a,d));return c?c.format(d):null},gn$2:function(){var a=this.di_1,d=this.da_2;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.se_2))"never"==
this.se_2&&(a=0,d=Infinity),"always"==this.se_2&&(d=a=0);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.se_2,b.com_ibm_vis_spec_internal_ScientificSpec)){var c=this.se_2;this.ve$1(c);null!=c.lower&&(a=c.lower);null!=c.upper&&(d=c.upper)}return new b.com_ibm_vis_engine_internal_data_Range(a,d)},ve$1:function(a){if(null!=a.lower&&null!=a.upper&&a.lower>a.upper)throw new b.com_ibm_vis_exceptions_internal_EngineException("Scientific lower attribute value should be less then the upper attribute value. ",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(null!=a.lower&&a.lower>this.da_2)throw new b.com_ibm_vis_exceptions_internal_EngineException("Only Scientific lower attribute value is present which is greater then RAVE default upper. Please consider providing a Scientific upper attribute value.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(null!=a.upper&&a.upper<this.di_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("Only Scientific upper attribute value is present which is less then RAVE default lower. Please consider providing a Scientific lower attribute value.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);},gc$1:function(a,d,c,e,g){var k=-1,k=-1==a.getDelta()?a.getFormattingPrecision():a.getPrecision();(g=e&&1E5>a.max&&(0<k||Math.floor(g)!=g))?k=2:e&&(k=0);a=d?b.com_ibm_vis_engine_internal_format_RAVEFormatter.si_2.get(c+":"+k):b.com_ibm_vis_engine_internal_format_RAVEFormatter.da_1.get(c+":"+k);if(!a)if(e)a=new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.DEFAULT_FORMAT,g?"0.00":"##",
c,!1),b.com_ibm_vis_engine_internal_format_RAVEFormatter.da_1.put(c+":"+k,a);else{e=d?"0.000":"#.###";a=d?"0":"#";for(g=3;g<k;++g)e+=a;d&&(e+="E0");a=new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.DEFAULT_FORMAT,e,c,!1);d?b.com_ibm_vis_engine_internal_format_RAVEFormatter.si_2.put(c+":"+k,a):b.com_ibm_vis_engine_internal_format_RAVEFormatter.da_1.put(c+":"+k,a)}return a},gc$2:function(a){if(!this.ft_1||0==this.ft_1.size())return null;
for(var b=0,c=this.ft_1.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(a==g.getType())return g}return null},formatToExponential:function(a,d,c,e){return(d=this.gc$1(new b.com_ibm_vis_engine_internal_data_Range(d,c),!0,e,!1,a))?d.format(a):null},formatLocalizedNumberRange:function(a,d,c,e,g,k,s){if(null==a)return null;null==s&&(s=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale());if(-1==e.getDelta())return this.formatLocalizedNumber(a,d,c,e.min,e.max,g,k,s);g=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(g,
null);var f=this.gb$1(a,e);f?(f=new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(f.getType(),f.getPattern(),s,f.isUseSymbolsForJson()),a=f.format(a)):a=this.defaultFormat(g,a,e,s);return g.pe_1?this.formatString(g.abbreviation+a,d,c,k):this.formatString(a+g.abbreviation,d,c,k)},gb$1:function(a,d){var c,e,g=this.gn$2();0>a?(c=this.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_SCIENTIFIC_FORMAT),e=this.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_FORMAT)):
0==a&&(c=this.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_SCIENTIFIC_FORMAT),e=this.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_FORMAT));c=this.ga$2(d.min,d.max,g,c,e);c||(c=this.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.SCIENTIFIC_FORMAT),e=this.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.CUSTOM_FORMAT),c=this.ga$2(d.min,d.max,g,c,e));return c},getFitMethod:function(){return this.fo_2}});b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec=
function(a,d){if(!a)return b.com_ibm_vis_engine_internal_format_RAVEFormatter.DE_2;var c="",e="",g,k,s,f=new b.com_ibm_rave_codegenerator_util_List;a&&(null!=a.numericPattern&&f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.CUSTOM_FORMAT,a.numericPattern,d,!1)),null!=a.scientificPattern&&(b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1(a.scientificPattern),f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.SCIENTIFIC_FORMAT,
a.scientificPattern,d,!1))),a.zeroFormat&&null!=a.zeroFormat.numericPattern&&f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_FORMAT,a.zeroFormat.numericPattern,d,!1)),a.zeroFormat&&null!=a.zeroFormat.scientificPattern&&(b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1(a.zeroFormat.scientificPattern),f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_SCIENTIFIC_FORMAT,
a.zeroFormat.scientificPattern,d,!1))),a.negativeFormat&&null!=a.negativeFormat.numericPattern&&f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_FORMAT,a.negativeFormat.numericPattern,d,!1)),a.negativeFormat&&null!=a.negativeFormat.scientificPattern&&(b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1(a.negativeFormat.scientificPattern),f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_SCIENTIFIC_FORMAT,
a.negativeFormat.scientificPattern,d,!1))),a.noSpaceFormat&&null!=a.noSpaceFormat.pattern&&f.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NO_SPACE_FORMAT,a.noSpaceFormat.pattern,d,!1)),c=a.prefix,e=a.suffix,g=a.fitMethod,s=a.scientific,k=a.datePattern);return new b.com_ibm_vis_engine_internal_format_RAVEFormatter(f,k,c,e,g,s,!1)};b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFormatSpecFromRAVEFormatter=function(a){var d,
c;if(a){d=new b.com_ibm_vis_spec_internal_FormatSpec;if(a.ft_1&&0<a.ft_1.size()){c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.CUSTOM_FORMAT);d.numericPattern=c?c.getPattern():null;c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.SCIENTIFIC_FORMAT);d.scientificPattern=c?c.getPattern():null;null!=d.scientificPattern&&c&&b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1(d.scientificPattern);c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_FORMAT);
var e=new b.com_ibm_vis_spec_internal_ZeroFormatSpec;e.numericPattern=c?c.getPattern():null;d.zeroFormat=e;c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.ZERO_SCIENTIFIC_FORMAT);e=new b.com_ibm_vis_spec_internal_ZeroFormatSpec;e.scientificPattern=c?c.getPattern():null;null!=e.scientificPattern&&c&&b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1(e.scientificPattern);d.zeroFormat=e;c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_FORMAT);e=new b.com_ibm_vis_spec_internal_NegativeFormatSpec;
e.numericPattern=c?c.getPattern():null;d.negativeFormat=e;c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NEGATIVE_SCIENTIFIC_FORMAT);e=new b.com_ibm_vis_spec_internal_NegativeFormatSpec;e.scientificPattern=c?c.getPattern():null;null!=e.scientificPattern&&c&&b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1(e.scientificPattern);d.negativeFormat=e;c=a.gc$2(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.NO_SPACE_FORMAT);e=new b.com_ibm_vis_spec_internal_NoSpaceFormatSpec;
e.pattern=c?c.getPattern():null;d.noSpaceFormat=e}d.datePattern=a.dr_1;d.prefix=a.pi_1;d.suffix=a.si_3;d.fitMethod=a.fo_2}return d};b.com_ibm_vis_engine_internal_format_RAVEFormatter.make=function(a,d,c,e,g){var k=new b.com_ibm_rave_codegenerator_util_List;null!=a&&k.add(new b.com_ibm_vis_engine_internal_nativeImpl_FormatObject(b.com_ibm_vis_engine_internal_nativeImpl_FormatObject.CUSTOM_FORMAT,a,g,!1));return new b.com_ibm_vis_engine_internal_format_RAVEFormatter(k,null,d,c,null,null,e)};b.com_ibm_vis_engine_internal_format_RAVEFormatter.ui$1=
function(a,b,c){a=Math.abs(a);b=Math.abs(b);return 0!=a&&a<=c.min||a>c.max||0!=b&&b<=c.min||b>c.max?!0:!1};b.com_ibm_vis_engine_internal_format_RAVEFormatter.vr$1=function(a){if(!a.CPVISEngineContains("E"))throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid scientific pattern. A pattern containig 'E' was expected. Example : 0.#E0",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);};b.com_ibm_vis_engine_internal_format_RAVEFormatter.CR_2="0.00";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_format_RAVEFormatter.AY_1=
"always";b.com_ibm_vis_engine_internal_format_RAVEFormatter.NE_1="never";b.com_ibm_vis_engine_internal_format_RAVEFormatter.da_1=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_format_RAVEFormatter.si_2=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_format_RAVEFormatter.DE_2=new b.com_ibm_vis_engine_internal_format_RAVEFormatter(null,null,"","",null,null,!1)});b.com_ibm_vis_engine_internal_globalization_CodePointRange=b.com_ibm_init_declare({start:0,
end:0,constructor:function(a,b){this.start=a;this.end=b}});b.com_ibm_vis_engine_internal_globalization_NumericShaper=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_globalization_NumericShaper.shape=function(a,d){return!d||d.isNone()?a:d.isNational()?b.com_ibm_vis_engine_internal_globalization_NumericShaper.sl$2(a,d.getNationalDigitCode()):d.isContextual()?b.com_ibm_vis_engine_internal_globalization_NumericShaper.sl$3(a,d.getContextualDigitCodes(),d.getStartingContextCode()):a};b.com_ibm_vis_engine_internal_globalization_NumericShaper.sl$2=
function(a,d){if(null==a)return null;if(d>b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2.length-1)return a;for(var c=b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2[d],e=new b.com_ibm_rave_codegenerator_lang_StringBuilder,g=0;g<a.length;++g){var k=b.com_ibm_rave_codegenerator_util_BasicFactory.charCodeAt(a,g);48<=k&&57>=k?e.appendChar(b.com_ibm_rave_codegenerator_util_BasicFactory.fromCharCode(k+c)):e.appendChar(b.com_ibm_rave_codegenerator_util_BasicFactory.fromCharCode(k))}return e.toString()};
b.com_ibm_vis_engine_internal_globalization_NumericShaper.sc$3=function(a,b){for(var c=0,e=a.length-1;c<=e;){var g=Math.floor((c+e)/2);if(a[g].start<=b&&a[g].end>b)return g;a[g].start>b?e=g-1:a[g].end<=b&&(c=g+1)}return-1};b.com_ibm_vis_engine_internal_globalization_NumericShaper.hasContext=function(a){return-1!=b.com_ibm_vis_engine_internal_globalization_NumericShaper.sc$3(b.com_ibm_vis_engine_internal_globalization_NumericShaper.ce_14,a)};b.com_ibm_vis_engine_internal_globalization_NumericShaper.getRange=
function(a){a=b.com_ibm_vis_engine_internal_globalization_NumericShaper.sc$3(b.com_ibm_vis_engine_internal_globalization_NumericShaper.re_7,a);return-1==a?0:19==a?1:a};b.com_ibm_vis_engine_internal_globalization_NumericShaper.sl$3=function(a,d,c){if(null==a)return null;for(var e=c>b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2.length-1||0==d.length?0:c,g=c=0;g<d.length;++g)c|=1<<d[g];d=new b.com_ibm_rave_codegenerator_lang_StringBuilder;var k=0,s=0;0!=(1<<e&c)&&(k=b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2[e],
s=e);for(g=0;g<a.length;++g)if(e=b.com_ibm_rave_codegenerator_util_BasicFactory.charCodeAt(a,g),48<=e&&57>=e)d.appendChar(b.com_ibm_rave_codegenerator_util_BasicFactory.fromCharCode(e+k));else{d.appendChar(b.com_ibm_rave_codegenerator_util_BasicFactory.fromCharCode(e));var f=b.com_ibm_vis_engine_internal_globalization_NumericShaper.getRange(e);f!=s&&b.com_ibm_vis_engine_internal_globalization_NumericShaper.hasContext(e)&&(0!=(1<<f&c)?(s=f,1==s&&0!=(c&4)&&(s=2),k=b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2[s]):
0==(1<<f&c)&&(2==f?0!=(2&c)&&(s=1,k=b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2[s]):1==f?0!=(4&c)&&(s=2,k=b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2[s]):k=s=0))}return d.toString()};b.com_ibm_vis_engine_internal_globalization_NumericShaper.EUROPEAN=0;b.com_ibm_vis_engine_internal_globalization_NumericShaper.ARABIC=1;b.com_ibm_vis_engine_internal_globalization_NumericShaper.EASTERN_ARABIC=2;b.com_ibm_vis_engine_internal_globalization_NumericShaper.DEVANAGARI=
3;b.com_ibm_vis_engine_internal_globalization_NumericShaper.BENGALI=4;b.com_ibm_vis_engine_internal_globalization_NumericShaper.GURMUKHI=5;b.com_ibm_vis_engine_internal_globalization_NumericShaper.GUJARATI=6;b.com_ibm_vis_engine_internal_globalization_NumericShaper.ORIYA=7;b.com_ibm_vis_engine_internal_globalization_NumericShaper.TAMIL=8;b.com_ibm_vis_engine_internal_globalization_NumericShaper.TELUGU=9;b.com_ibm_vis_engine_internal_globalization_NumericShaper.KANNADA=10;b.com_ibm_vis_engine_internal_globalization_NumericShaper.MALAYALAM=
11;b.com_ibm_vis_engine_internal_globalization_NumericShaper.THAI=12;b.com_ibm_vis_engine_internal_globalization_NumericShaper.LAO=13;b.com_ibm_vis_engine_internal_globalization_NumericShaper.TIBETAN=14;b.com_ibm_vis_engine_internal_globalization_NumericShaper.MYANMAR=15;b.com_ibm_vis_engine_internal_globalization_NumericShaper.ETHIOPIC=16;b.com_ibm_vis_engine_internal_globalization_NumericShaper.KHMER=17;b.com_ibm_vis_engine_internal_globalization_NumericShaper.MONGOLIAN=18;b.com_ibm_vis_engine_internal_globalization_NumericShaper.EXTENDED_ARABIC=
19;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_globalization_NumericShaper.re_7=[new b.com_ibm_vis_engine_internal_globalization_CodePointRange(0,768),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1536,1792),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1536,1792),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2304,2432),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2432,2560),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2560,
2688),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2688,2816),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2816,2944),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2944,3072),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3072,3200),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3200,3328),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3328,3456),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3584,
3712),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3712,3840),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3840,4096),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4096,4256),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4608,5024),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6016,6144),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6144,6320),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1872,
1920)];b.com_ibm_vis_engine_internal_globalization_NumericShaper.ce_14=[new b.com_ibm_vis_engine_internal_globalization_CodePointRange(65,91),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(97,123),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(170,171),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(181,182),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(186,187),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(192,215),
new b.com_ibm_vis_engine_internal_globalization_CodePointRange(216,247),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(248,697),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(699,706),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(720,722),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(736,741),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(750,751),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1544,1545),
new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1547,1548),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1549,1550),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1563,1611),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1645,1648),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1649,1750),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1765,1767),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1774,
1776),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1786,1793),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(1872,1921),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2307,2362),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2363,2364),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2365,2369),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2377,2381),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2382,
2385),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2392,2402),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2404,2433),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2434,2492),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2493,2497),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2503,2509),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2510,2530),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2534,
2546),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2548,2555),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2563,2620),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2622,2625),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2649,2672),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2674,2677),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2691,2748),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2749,
2753),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2761,2765),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2768,2786),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2790,2801),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2818,2876),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2877,2879),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2880,2881),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2887,
2893),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2903,2914),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2918,2946),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(2947,3008),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3009,3021),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3024,3059),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3073,3134),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3137,
3142),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3160,3170),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3174,3192),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3199,3260),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3261,3276),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3285,3298),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3302,3393),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3398,
3405),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3406,3426),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3430,3457),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3584,3633),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3634,3636),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3648,3655),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3663,3761),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3762,
3764),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3773,3784),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3792,3864),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3866,3893),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3894,3895),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3896,3897),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3902,3953),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3967,
3968),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3973,3974),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(3976,3981),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4030,4038),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4039,4141),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4145,4146),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4152,4153),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4155,
4157),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4159,4184),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4186,4190),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4193,4209),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4213,4225),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4608,4957),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(4960,4993),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6016,
6071),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6078,6086),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6087,6089),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6100,6107),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6108,6109),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6112,6128),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6160,6313),new b.com_ibm_vis_engine_internal_globalization_CodePointRange(6314,
6401)];b.com_ibm_vis_engine_internal_globalization_NumericShaper.ot_2=[0,1584,1728,2358,2486,2614,2742,2870,2998,3126,3254,3382,3616,3744,3824,4112,4921,6064,6112]});b.com_ibm_vis_engine_internal_struct_Text=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_struct_Shape,b.com_ibm_vis_scenetree_provisional_TextInfo],{createTooltipForTruncated:!1,tooltipDisabled:!1,nh_2:!1,vertical:!1,wasClipped:!1,uu_2:!1,constructor:function(a,d,c,e,g,k,s,f,u,h,l){this.setContent(a);this.setText(a.getText());
this.originalText=this.getText();this.createTooltipForTruncated=l;this.truncatedTooltipText=null;this.align=e;this.valign=g;this.setPoint(new b.com_ibm_vis_geom_Point(d,c));this.setFont(k);this.style=s;this.backgroundStyle=f;this.clipSymbol=null!=u?u:"\u2026";this.wasClipped=!1;this.setSize(h);this.style?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(this,this.style,null):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultTextStyle(this)},getRenderGeom:function(a){return null},
createSceneNode:function(){this.prepareTruncatedTooltipText();var a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(this);return this.createSceneNodeBackgroundPlaque(a)},createSceneNodeBackgroundPlaque:function(a){if(!this.getUsesBackgroundPlaque()||!this.backgroundStyle)return a;var d=this.backgroundStyle,c=this.getTextBounds(),c=b.com_ibm_vis_engine_internal_struct_Text.expandByPadding(c,d,this.getSize()),c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(c.x,c.y,
c.wt_3,c.hh_2,d);null==d.fill&&c.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(b.com_ibm_vis_engine_internal_ColorUtil.getTransparentColor()));d=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(null);d.type=b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT;var e=this.id.split("S");2==e.length?c.setID(e[0]+"LB"+e[1]):c.setID(this.id+"LB");d.addChild(c.createSceneNode());d.addChild(a);return d},setUsesBackgroundPlaque:function(a){this.uu_2=a},getUsesBackgroundPlaque:function(){return this.uu_2},
getDisplayTooltip:function(){var a=b.com_ibm_vis_engine_internal_struct_Shape.prototype.getDisplayTooltip.apply(this);return null!=a?a:this.getTruncatedTooltipText()},getTruncatedTooltipText:function(){return this.tooltipDisabled?null:this.truncatedTooltipText},prepareTruncatedTooltipText:function(){this.createTooltipForTruncated&&this.wasClipped&&this.setTruncatedTooltipText(this.originalText)},setTruncatedTooltipText:function(a){null==this.truncatedTooltipText&&(this.tooltipSet=!0,this.truncatedTooltipText=
a)},getType:function(){return 1009},asBasic:function(){return this.getBounds()},requiredPreciseAscent:function(){return this.nh_2?this.getPreciseAscent():null},applyPointTransform:function(a){this.resetCachedBounds();this.setPoint(a.transform(this.getPoint().x,this.getPoint().y));return null},contains:function(a,b){return this.getBounds().containsPt(a,b)},makeGeometryClone:function(){return new b.com_ibm_vis_engine_internal_struct_Text(b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString(this.text,
this.font.mz_5),this.getPoint().x,this.getPoint().y,this.align,this.valign,this.font,null,null,this.clipSymbol,this.size,this.createTooltipForTruncated)},affine:function(a,d,c,e,g){this.resetCachedBounds();if(1!=a||1!=c)this.cc_1=null;this.getPoint().affine(a,d,c,e);b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(this.su_6)?this.setFont(this.font.modifySize(this.su_6)):g&&1!=c&&this.setFont(this.font.modifySize(this.font.size*c))},setTransform:function(a){this.resetCachedBounds();this.transform.setAffine(a)},
updateTransform:function(a){this.resetCachedBounds();this.transform.preMultiply(a)},clipToFit:function(a){this.resetCachedBounds();if(!(this.font.getAmountThatFits(this.text,a)>=this.text.length))if(this.wasClipped=!0,a>=this.gz$2())if("#"==this.clipSymbol)a<3*this.gz$2()?this.setText(this.clipSymbol):this.setText(this.clipSymbol+this.clipSymbol+this.clipSymbol);else{var b=this.font.getAmountThatFits(this.text,a-this.gz$2());this.setText(this.text.substring(0,b)+this.clipSymbol);for(var c=this.font.getAmountThatFits(this.text,
a);c<this.text.length&&0<b;)b--,this.setText(this.text.substring(0,b)+this.clipSymbol),c=this.font.getAmountThatFits(this.text,a)}else this.setText("")},gz$2:function(){return"\u2026"==this.clipSymbol?this.font.getEllipsisSize():this.font.getHashSize()},calculateBounds:function(){return this.cd$4(!0)},cd$4:function(a){var d=this.gd$4(a);this.uu_2&&(d=b.com_ibm_vis_engine_internal_struct_Text.expandByPadding(d,this.style,this.size),d=b.com_ibm_vis_engine_internal_struct_Text.expandByPadding(d,this.backgroundStyle,
this.size),a&&(d=this.tx$1(d)));return d},getTextBounds:function(){return this.gd$4(!0)},gd$4:function(a){a?(this.cd_4||(a=this.cd$5(),this.cd_4=this.tx$1(a)),a=this.cd_4):(this.cd_3||(this.cd_3=this.cd$5()),a=this.cd_3);return a},cd$5:function(){var a,d=this.calculateTextWidth(),c=this.getHeight();a="start"==this.align?0:"end"==this.align?d:d/2;var e;"end"==this.valign?e=0:"start"==this.valign?(e=this.font.getHeight()*this.getNumLines(),1007==this.getType()&&this.content&&(e=Math.max(e,c))):(e=this.getNumLines()*
this.font.getHeight()/2,1007==this.getType()&&this.content&&(e=Math.max(e,c/2)));return new b.com_ibm_vis_geom_Rect(this.getPoint().x-a,this.getPoint().y-e,d,c)},tx$1:function(a){var d=a;this.style&&null!=this.style.angle&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(this.style.angle)&&(d=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(a,this.transform.getAffine()));return d},getNonTransformedBounds:function(){return this.cd$4(!1)},getWidth:function(){return this.font.getWidth(this)},
calculateTextWidth:function(){return this.getWidth()},getCenter:function(){return this.getPoint()},isFilled:function(){return!0},reflect:function(a,b){this.resetCachedBounds();b?this.p.y=a.hh_1-this.p.y:this.p.x=a.wt_2-this.p.x},getNumLines:function(){return 1},getBaseLine:function(){var a=0;return a="start"==this.valign?this.getPoint().y-this.font.getHeight()+this.font.getAscent():"end"==this.valign?this.nh_2?this.getPoint().y+this.gc$7().getAscent():this.getPoint().y+this.font.getAscent():this.getPoint().y-
(this.font.getHeight()-this.font.getAscent())+this.getHeight()/2},sizeToFit:function(a,b){this.resetCachedBounds();return a.wt_2>=this.calculateTextWidth()&&a.hh_1>=this.getHeight()?this:this.ri$2(a,b)},ri$2:function(a,d){var c=this.font.size*a.hh_1/this.getHeight(),e=this.font.size*a.wt_2/this.calculateTextWidth(),c=Math.min(c,e);for(this.modifyFontSize(c);(b.com_ibm_vis_engine_internal_util_MathUtil.r(a.wt_2)<b.com_ibm_vis_engine_internal_util_MathUtil.r(this.calculateTextWidth())||b.com_ibm_vis_engine_internal_util_MathUtil.r(a.hh_1)<
b.com_ibm_vis_engine_internal_util_MathUtil.r(this.getHeight()))&&6<=this.font.size;)this.modifyFontSize(--c);return 6>c&&d?(this.modifyFontSize(6),this.getHeight()<1.01*this.size.hh_1?(this.clipToFit(this.size.wt_2),this):null):this},modifyFontSize:function(a){this.resetCachedBounds();this.setFont(this.font.modifySize(a))},stretchToFit:function(a){this.resetCachedBounds();this.setFont(this.font.modifySize(10));var d=a.wt_2/this.font.getWidth(this);a=a.hh_1/this.font.getHeight();this.transform.setAffine(new b.com_ibm_vis_engine_internal_Affine(d,
0,this.p.x*(1-d),0,a,this.p.y*(1-a)));return this},transpose:function(a){this.resetCachedBounds();this.getPoint().transpose(a)},fitInside:function(a){this.resetCachedBounds();if(this.font.getHeight()>1.01*a.hh_1||1>this.font.getAmountThatFits(this.text,a.wt_2)&&0<this.text.length)return null;if(a.wt_2>=this.font.getWidth(this))return this;this.wasClipped=!0;this.clipToFit(a.wt_2);return this},buildParts:function(a){},getHeight:function(){return this.nh_2?this.gc$7().getHeight()*this.getNumLines():
this.font.getHeight()*this.getNumLines()},getApproximateHeight:function(){return this.font.getHeight()*this.getNumLines()},copyInfoFrom:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.copyInfoFrom.apply(this,[a]);if(1009==a.getType()||1007==a.getType())this.clipSymbol=a.clipSymbol,this.truncatedTooltipText=a.truncatedTooltipText,this.resetCachedBounds()},toString:function(){return this.text},resetCachedBounds:function(){this.invalidate();this.cd_4=this.cd_3=null},isInside:function(){return null!=
this.style.location&&("inside"==this.style.location||"fit"==this.style.location||"stretch"==this.style.location)},isCallout:function(){return null!=this.style.location&&"callout"==this.style.location},getVAlign:function(){return null!=this.valign?this.valign:this.style&&null!=this.style.valign?this.style.valign:"middle"},getTextVAlign:function(){return null==this.valign?"middle":this.valign},getAlign:function(){return this.style&&null!=this.style.align?this.style.align:"middle"},getTextAlign:function(){return null==
this.align?"start":this.align},setAlign:function(a){this.align=a},isCentered:function(){var a=this.getVAlign();return"middle"==this.getAlign()&&("middle"==a||b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE==a)},getSizeAestheticValue:function(){return this.su_6},setSizeAestheticValue:function(a){this.su_6=a},area:function(){return this.getBounds().area()},setNeedsPreciseHeight:function(a){this.nh_2=a;this.invalidate()},getPreciseAscent:function(){return this.gc$7().getAscent()},getPreciseDescent:function(){return this.gc$7().getDescent()},
getPreciseHeight:function(){return this.gc$7().getHeight()},gc$7:function(){this.cc_1||(this.cc_1=b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.getFontHeightMetrics(this.font,this.text));return this.cc_1},reduceToFit:function(a,d){for(var c=this.ge$14(a),e=!0,g=0,k=c.arrayIterator(),s=k.length;g<s;++g){for(var f=k[g];e;){this.wasClipped=!1;if(!f.reduceToFit(d))break;e=this.isReductionNeeded(a)}e=this.isReductionNeeded(a);if(!e)return a}g=0;k=c.arrayIterator();for(s=k.length;g<s;++g){for(f=
k[g];e&&(this.wasClipped=!1,!f.ff_1&&null!=f.getValue());)f.setValue(null),e=this.isReductionNeeded(a);e=this.isReductionNeeded(a);if(!e)return a}g=0;c=c.arrayIterator();for(k=c.length;g<k;++g){f=c[g];for(s=f.ff_1;e;){this.wasClipped=!1;s&&(e=b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFormatSpecFromRAVEFormatter(s.se_3),e.noSpaceFormat&&null!=e.noSpaceFormat.pattern&&f.setValue(e.noSpaceFormat.pattern),this.isReductionNeeded(a));break}e=this.isReductionNeeded(a);if(!e)break}return a},
ge$14:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_List;a=a.getContent();for(var e=a.size()-1;0<=e;--e){var g=a.get(e);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g.getValue(),b.com_ibm_vis_engine_internal_struct_Shape)||(g.ff_1?d.add(g):c.add(g))}d.addAll(c);return d},isReductionNeeded:function(a){this.setText(a.getText());this.fitInside(this.size);return this.wasClipped},getPoint:function(){return this.p},setPoint:function(a){this.p=
a;this.invalidate()},getFont:function(){return this.font},setFont:function(a){this.font=a;this.invalidate()},getText:function(){return this.text},setText:function(a){this.text=a;this.invalidate()},getContent:function(){return this.content},setContent:function(a){this.content=a;this.invalidate()},getSize:function(){return this.size},setSize:function(a){this.size=a;this.invalidate()},applyTextAngle:function(){if(this.style&&null!=this.style.angle){var a=this.cl$2();null!=a&&(a=b.com_ibm_vis_engine_internal_Affine.makeRotation(a,
this.getPoint().x,this.getPoint().y),this.updateTransform(a))}},cl$2:function(){var a=this.style.angle;return b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?.017453292519943295*a:a.equals("polar")?1.5707963267948966:null},isCreateTooltipForTruncated:function(){return this.createTooltipForTruncated},setOriginalText:function(a){this.originalText=a},getOriginalText:function(){return this.originalText},disableTooltip:function(){this.tooltipDisabled=!0;this.originalText=this.text;this.createTooltipForTruncated=
this.wasClipped=!1;this.truncatedTooltipText=null},getTextInfo:function(){return this},getBackgroundStyle:function(){return this.backgroundStyle},setBackgroundStyle:function(a){this.backgroundStyle=a},hasSingleLine:function(){return!0},getLine:function(a){return this},hasSinglePart:function(){return!0},getAnchorPoint:function(){var a=this.getPoint().x,d=this.getBaseLine();this.getSnap()&&(a=Math.round(a),d=Math.round(d));return new b.com_ibm_vis_geom_Point(a,d)},getTextSize:function(){var a=this.gd$4(!1),
d=a.wt_3,a=a.hh_2;this.getSnap()&&(d=Math.round(d),a=Math.round(a));return new b.com_ibm_vis_geom_Dim(d,a)},createSerializableComposite:function(){var a=b.com_ibm_vis_engine_internal_struct_Shape.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("content",this.content));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("size",this.size));a.addString("text",this.text);a.addString("originalText",
this.originalText);a.addBoolean("createTooltipForTruncated",this.createTooltipForTruncated);a.addString("truncatedTooltipText",this.truncatedTooltipText);a.addBoolean("tooltipDisabled",this.tooltipDisabled);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("font",this.font));a.addBoolean("needPreciseHeight",this.nh_2);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("p",this.p));a.addString("align",this.align);a.addString("valign",
this.valign);a.addString("clipSymbol",this.clipSymbol);a.addBoolean("vertical",this.vertical);a.addBoolean("wasClipped",this.wasClipped);a.addBoolean("usesBackgroundPlaque",this.uu_2);a.addString("tickLabelOrientation",this.tickLabelOrientation);return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.populateFromSerialized.apply(this,[a]);this.content=b.com_ibm_vis_engine_internal_grammar_label_TextContent.createFromSerialized(a.getNodeById("content"));this.size=
b.com_ibm_vis_geom_Dim.createFromSerialized(a.getNodeById("size"));this.text=a.getNodeById("text").asPrimitive().getStringValue$0();this.originalText=a.getNodeById("originalText").asPrimitive().getStringValue$0();this.createTooltipForTruncated=a.getNodeById("createTooltipForTruncated").asPrimitive().getBooleanValue$1(!1);this.truncatedTooltipText=a.getNodeById("truncatedTooltipText").asPrimitive().getStringValue$0();this.tooltipDisabled=a.getNodeById("tooltipDisabled").asPrimitive().getBooleanValue$1(!1);
this.font=b.com_ibm_vis_engine_internal_scene_Font.createFromSerialized(a.getNodeById("font"));this.nh_2=a.getNodeById("needPreciseHeight").asPrimitive().getBooleanValue$1(!1);this.p=b.com_ibm_vis_geom_Point.createFromSerialized(a.getNodeById("p"));this.align=a.getNodeById("align").asPrimitive().getStringValue$1("start");this.valign=a.getNodeById("valign").asPrimitive().getStringValue$1("start");this.clipSymbol=a.getNodeById("clipSymbol").asPrimitive().getStringValue$0();this.vertical=a.getNodeById("vertical").asPrimitive().getBooleanValue$1(!1);
this.wasClipped=a.getNodeById("wasClipped").asPrimitive().getBooleanValue$1(!1);this.uu_2=a.getNodeById("usesBackgroundPlaque").asPrimitive().getBooleanValue$1(!1);this.tickLabelOrientation=a.getNodeById("tickLabelOrientation").asPrimitive().getStringValue$0();return this}});b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue=function(a,d,c,e,g,k,s,f,u,h,l){return new b.com_ibm_vis_engine_internal_struct_Text(b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString(a,
k.mz_5),d,c,e,g,k,s,f,u,h,l)};b.com_ibm_vis_engine_internal_struct_Text.createTextWithUnshapedValue=function(a,d,c,e,g,k,s,f,u,h,l,m){a=b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString(b.com_ibm_vis_engine_internal_struct_Text.applyNumericalShaping(a,h),k.mz_5);return new b.com_ibm_vis_engine_internal_struct_Text(a,d,c,e,g,k,s,f,u,l,m)};b.com_ibm_vis_engine_internal_struct_Text.applyNumericalShaping=function(a,d){return d?b.com_ibm_vis_engine_internal_globalization_NumericShaper.shape(a,
d):a};b.com_ibm_vis_engine_internal_struct_Text.expandByPadding=function(a,d,c){return d&&null!=d.padding?b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(d.padding,new b.com_ibm_vis_geom_Dim(a.wt_3,a.hh_2),c).expandRect(a):a};b.com_ibm_vis_engine_internal_struct_Text.POLAR="polar";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_struct_Text.ID_1="inside";b.com_ibm_vis_engine_internal_struct_Text.FIT="fit";b.com_ibm_vis_engine_internal_struct_Text.SC_2="stretch";
b.com_ibm_vis_engine_internal_struct_Text.CU_1="callout";b.com_ibm_vis_engine_internal_struct_Text.DO_10=.017453292519943295;b.com_ibm_vis_engine_internal_struct_Text.PL_1=1.5707963267948966});b.com_ibm_vis_scenetree_internal_SimpleRendererInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo,{an_6:!0,constructor:function(a){this.node=a;this.np_2=a.getShape();a=a.getClassId();if(a!=b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE&&a!=b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES||
!this.np_2)this.an_6=!1},getNode:function(){return this.node},getRenderGeom:function(){if(!this.ro_2&&this.an_6){var a=0,b=this.getRenderStroke();this.np_2.isInsideStroke()&&b&&(a=b.wt_1/2);this.ro_2=this.np_2.getRenderGeom(a)}return this.ro_2},getRenderText:function(){!this.rx_1&&this.an_6&&(this.rx_1=this.np_2.getTextInfo());return this.rx_1},getRenderFill:function(){!this.rl_2&&this.an_6&&(this.rl_2=b.com_ibm_vis_scenetree_internal_SimpleRendererInfo.gl$6(this.np_2));return this.rl_2},setRenderFill:function(a){this.rl_2=
a},getRenderStroke:function(){!this.rk_1&&this.an_6&&(this.rk_1=b.com_ibm_vis_scenetree_internal_SimpleRendererInfo.gk$1(this.np_2));return this.rk_1},getRenderEffects:function(){!this.rt_4&&this.an_6&&(this.rt_4=this.np_2.getEffect());return this.rt_4},getRenderImage:function(){!this.rg_4&&this.an_6&&(this.rg_4=this.np_2.getImage()?this.np_2.getImage().createFill():null);return this.rg_4},getRenderBounds:function(){!this.rd_1&&this.an_6&&(this.rd_1=b.com_ibm_vis_scenetree_internal_SimpleRendererInfo.gd$5(this.np_2));
return this.rd_1},getClipBounds:function(){return null},getTransform:function(){return null},canAnimate:function(){return!1},setAnimation:function(a,d){throw new b.com_ibm_vis_exceptions_internal_EngineException("SimpleRendererInfo#setAnimation was called",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);},getBase:function(){return null}});b.com_ibm_vis_scenetree_internal_SimpleRendererInfo.gd$5=function(a){var d;d=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text)?
a.getNonTransformedBounds():a.getBounds();return a.getSnap()?new b.com_ibm_vis_geom_Rect(Math.round(d.x),Math.round(d.y),Math.round(d.wt_3),Math.round(d.hh_2)):d};b.com_ibm_vis_scenetree_internal_SimpleRendererInfo.gl$6=function(a){if(a.isFilled()){var d=a.getFill();if(!d)return null;if(d.si_1)return b.com_ibm_vis_engine_internal_GradientPaintInfo.makeSolid(d.si_1);if(d.gn_1)return d.gn_1.makePaintInfo(a.getLocalGradientGeometry(),a.getGlobalGradientGeometry())}return null};b.com_ibm_vis_scenetree_internal_SimpleRendererInfo.gk$1=
function(a){var d=a.getStroke();if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.getGeom(),b.com_ibm_vis_geom_Rect)&&d&&a.isInsideStroke()){var c=a.getGeom();if(0==b.com_ibm_vis_engine_internal_util_MathUtil.r3(c.wt_3)||0==b.com_ibm_vis_engine_internal_util_MathUtil.r3(c.hh_2))return null}if(d&&0==d.wt_1)return null;c=d?d.wt_1:1;if(a.isInsideStroke()&&d){var e=a.getBounds(),e=Math.min(e.wt_3,e.hh_2)/2;c>=e&&(c=b.com_ibm_vis_engine_internal_util_MathUtil.r3((1<c?e+1:e)+.001))}if(0==c)return null;
var e=b.com_ibm_vis_engine_internal_ColorUtil.createDefaultColor(),g=!1;if(a.isFilled()){if(a=a.getOutline(),d||a)g=!0,a&&(e=a)}else if(a=a.getFill(),d||a)g=!0,a&&a.si_1&&(e=a.si_1);return g?new b.com_ibm_vis_engine_internal_Stroke(c,d?d.dn_2:null,d?d.join:null,d?d.cap:null,e):null};b.com_ibm_vis_engine_internal_struct_MultiPartTextLine=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_struct_Text,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{constructor:function(a,d,c,e,g,
k,s,f,u,h,l){this.parts=new b.com_ibm_rave_codegenerator_util_List},getType:function(){return 1008},createSceneNode:function(){for(var a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(this),d=0,c=this.getParts(),e=c.length;d<e;++d){var g=c[d];if(1009==g.getType()){var k=g.createSceneNode();a.addChild(k)}else{k=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_ImageStyle.addImageShape(g,k);for(var g=g.id,s=0;s<k.size();++s){var f=k.get(s);f.setId(g+"_"+s);
f.setField(a.getField());f.setValue(a.getValue());1==s&&(f.type=b.com_ibm_vis_scenetree_provisional_SceneNodeType.IMAGE_HIGHLIGHT);a.addChild(f)}}}return a},setTruncatedTooltipText:function(a){this.truncatedTooltipText=null;if(!this.tooltipDisabled)for(var d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_engine_internal_struct_Text)&&g.setTruncatedTooltipText(a)}},disableTooltip:function(){b.com_ibm_vis_engine_internal_struct_Text.prototype.disableTooltip.apply(this);
for(var a=0,d=this.parts.arrayIterator(),c=d.length;a<c;++a){var e=d[a];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_struct_Text)&&e.disableTooltip()}},addPart:function(a){this.parts.add(a)},setPart:function(a,b){this.parts&&0<=a&&a<this.parts.size()&&this.parts.set(a,b)},getParts:function(){return this.parts.toArray(Array(this.parts.size()))},getNumParts:function(){return this.parts?this.parts.size():0},getContent:function(){return this.content},getP:function(){return this.p},
getText:function(){return this.text},getFont:function(){return this.font},isWasClipped:function(){return this.wasClipped},getAlign:function(){return this.align},getValign:function(){return this.valign},getStyle:function(){return this.style},getTickLabelOrientation:function(){return this.tickLabelOrientation},copyInfoFrom:function(a){for(var d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g)){var k=b.com_ibm_vis_engine_internal_Fill.makeCopy(g.getFill());
g.copyInfoFrom(a);g.setFill(k)}}},modifyFontSize:function(a){this.font=this.font.modifySize(a);for(var d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g)&&g.modifyFontSize(a)}},getWidth:function(){for(var a=0,d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g);a+=g.getWidth()}return a},getHeight:function(){for(var a=this.font.getHeight(),
d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d)var g=c[d],a=b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g)?Math.max(a,g.getHeight()):Math.max(a,g.getBounds().hh_2);return a},affine:function(a,d,c,e,g){g&&1!=c&&(this.font=this.font.modifySize(this.font.size*c));for(var k=0,s=this.parts.arrayIterator(),f=s.length;k<f;++k){var u=s[k];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(u)&&u.affine(a,d,c,e,g)}},setTransform:function(a){for(var d=0,c=this.parts.arrayIterator(),
e=c.length;d<e;++d){var g=c[d];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g);g.setTransform(a)}},updateTransform:function(a){for(var d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g)?g.updateTransform(a):g.transform.preMultiply(a)}},updateTransformTextParts:function(a){for(var d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g)&&
g.updateTransform(a)}},setRows$0:function(a,b){for(var c=0,e=this.parts.arrayIterator(),g=e.length;c<g;++c){var k=e[c];k.setRows(a);k.setKey(b)}},setID$0:function(a,d){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setID.apply(this,[a+"_"+d]);for(var c=0;c<this.parts.size();++c)this.parts.get(c).setID(this.id+"_"+c)},setField:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setField.apply(this,[a]);for(var d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d)c[d].setField(a)},
transpose:function(a){for(var b=0,c=this.parts.arrayIterator(),e=c.length;b<e;++b)c[b].transpose(a)},fitInside:function(a){for(var d=a.wt_2,c=0,e=this.parts.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k)if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(k)){k=k.fitInside(a);if(!k||k.wasClipped)this.wasClipped=!0;k&&(d-=k.getWidth())}else{var s=k;if(s.getWidth()>d||s.getHeight()>a.hh_1)k=null,this.wasClipped=!0;k&&(d-=s.getWidth())}else this.wasClipped=!0}this.updateContent();
return this},clipToFit:function(a){var d=a;a=-1;for(var c=0,e=!1,g=0;g<this.getNumParts();++g){var k=this.parts.get(g);if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(k)){var s=k.getWidth();k.clipToFit(d);if(k.wasClipped){this.wasClipped=!0;a=g;c=s-k.getWidth();break}}else if(k.getWidth()>d){c=k.getWidth();a=g;e=!0;break}d-=k.getWidth()}if(0<a){for(g=a+1;g<this.getNumParts();++g)this.parts.removeAt(g);if("end"==this.align)for(g=0;g<a;++g)k=this.parts.get(g),b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(k)?
(d=k.p.x,k.p.x=d+c):(d=k.getX(),k.setX(d+c))}else 0==a&&e&&this.parts.clear();this.updateContent()},updateContent:function(){var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder;if(0<this.parts.size()){this.content=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(this.font.mz_5);for(var d=0;d<this.parts.size();++d){var c=this.parts.get(d);if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(c)){0==d&&1==this.parts.size()&&""==c.text&&(c.text=" ");var e=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(c.text,
c.style,this.font.mz_5);e.setFont(c.font);this.content.addPart(e);a.append(c.text)}else this.content.addShape(c)}}this.text=a.toString()},rePositionParts:function(a){for(var b=0,c=this.parts.arrayIterator(),e=c.length;b<e;++b){var g=c[b];1009==g.getType()?(g.p.x=this.p.x,g.p.y=a):1004==g.getType()&&(g.setX(this.p.x),g.setY(a))}this.offsetX()},offsetX:function(){var a=0;if(this.parts)if("end"==this.align)for(var d=this.parts.size()-1;0<=d;--d){var c=this.parts.get(d);if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(c)){var e=
c.p.x;c.p.x=e-a;a+=b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.gt$8(c)}else a+=b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.gt$8(c),e=c.getX(),c.setX(e-a)}else if("start"==this.align)for(d=0;d<this.parts.size();++d)c=this.parts.get(d),b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(c)?(e=c.p.x,c.p.x=e+a):(e=c.getX(),c.setX(e+a)),a+=b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.gt$8(c);else if("middle"==this.align)for(a=0-this.getWidth()/2,d=0;d<this.parts.size();++d)c=
this.parts.get(d),b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(c)?(e=c.p.x,c.p.x=e+a+b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.gt$8(c)/2):(e=c.getX(),c.setX(e+a)),a+=b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.gt$8(c)},offsetY:function(a){this.p.y+=a;if(this.parts)for(var d=this.getHeight(),c=this.gr$4(),e=0,g=this.parts.arrayIterator(),k=g.length;e<k;++e){var s=g[e];if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(s)){var f=s.p.y;s.p.y=
f+a+(c-s.getBaseLine())}else f=s.getY(),s.setY(f+a),s.getHeight()<d&&s.setY(s.getY()+(d-s.getHeight())/2)}},gr$4:function(){for(var a=0,d=0,c=this.parts.arrayIterator(),e=c.length;d<e;++d){var g=c[d];b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(g)&&(a=Math.max(g.getBaseLine(),a))}return a},hasSinglePart:function(){return this.parts&&1==this.parts.size()?!0:!1},createSerializableComposite:function(){var a=b.com_ibm_vis_engine_internal_struct_Text.prototype.createSerializableComposite.apply(this);
a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("parts",this.parts.toArray(Array(this.parts.size()))));return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_Text.prototype.populateFromSerialized.apply(this,[a]);var d=a.getNodeById("parts").getNodes();this.parts=new b.com_ibm_rave_codegenerator_util_List;a=0;for(var d=d.arrayIterator(),c=d.length;a<c;++a)this.parts.add(b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createFromSerialized(d[a]));
return this},setRows:function(){var a=arguments,d;2==a.length&&(d=this.setRows$0);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)},setID:function(){var a=arguments,d;2==a.length&&(d=this.setID$0);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)}});b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.gt$8=function(a){var d=0;a&&(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(a),d+=a.getWidth());return d};b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType=
function(a){return 1009==a.getType()};b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_MultiPartTextLine(new b.com_ibm_vis_engine_internal_grammar_label_TextContent(0),0,0,null,null,null,null,null,null,null,!1);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_struct_MultiPartText=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_struct_Text,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],
{clip:!1,constructor:function(a,d,c,e,g,k,s,f,u,h,l,m){this.le_36=new b.com_ibm_rave_codegenerator_util_List;this.clip=m;this.mt$3(m);this.updateContent();this.createTooltipForTruncated=l},createSceneNode:function(){this.prepareTruncatedTooltipText();if(1==this.le_36.size()){var a=this.le_36.get(0).getParts();if(1==a.length&&1009==a[0].getType())return a=a[0],a.setID(this.id),a.setKey(this.getKey()),a.setUsesBackgroundPlaque(this.getUsesBackgroundPlaque()),a.backgroundStyle=this.backgroundStyle,a=
a.createSceneNode(),a.setTransform(this.getTransformInfo()),a}for(var a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(this),d=0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d){var g=c[d].createSceneNode();a.addChild(g)}return this.createSceneNodeBackgroundPlaque(a)},prepareTruncatedTooltipText:function(){this.createTooltipForTruncated&&!this.tooltipDisabled&&this.ae$4()&&this.setTruncatedTooltipText(this.originalText)},ae$4:function(){if(this.wasClipped)return!0;for(var a=0,d=
this.le_36.arrayIterator(),c=d.length;a<c;++a){var e=d[a];if(e.wasClipped)return!0;for(var g=0,e=e.parts.arrayIterator(),k=e.length;g<k;++g){var s=e[g];if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(s,b.com_ibm_vis_engine_internal_struct_Text)&&s.wasClipped)return!0}}return!1},setTruncatedTooltipText:function(a){if(!this.tooltipDisabled){this.truncatedTooltipText=a;for(var b=0,c=this.le_36.arrayIterator(),e=c.length;b<e;++b)c[b].setTruncatedTooltipText(a)}},setField:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setField.apply(this,
[a]);for(var d=0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d)c[d].setField(a)},setValue:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setValue.apply(this,[a]);for(var d=0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d)c[d].setValue(a)},disableTooltip:function(){b.com_ibm_vis_engine_internal_struct_Text.prototype.disableTooltip.apply(this);for(var a=0,d=this.le_36.arrayIterator(),c=d.length;a<c;++a){var e=d[a];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_struct_Text)&&
e.disableTooltip()}},buildParts:function(a){this.size=a;this.mt$3(this.clip)},getNumLines:function(){return this.le_36.size()},getWidth:function(){return this.size.wt_2},getType:function(){return 1007},getHeight:function(){for(var a=0,b=0,c=this.le_36.arrayIterator(),e=c.length;b<e;++b)a+=c[b].getHeight();return a},calculateTextWidth:function(){for(var a=0,b=0,c=this.le_36.arrayIterator(),e=c.length;b<e;++b)a=Math.max(c[b].getWidth(),a);return a},modifyFontSize:function(a){this.resetCachedBounds();
this.font=this.font.modifySize(a);for(var b=0,c=this.le_36.arrayIterator(),e=c.length;b<e;++b)c[b].modifyFontSize(a)},updateContent:function(){if(this.font&&(this.content=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(this.font.mz_5),0<this.le_36.size()))for(var a=0;a<this.le_36.size();++a){for(var d=this.le_36.get(a),c=0,e=d.getParts(),g=e.length;c<g;++c){var k=e[c];if(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.isTextType(k)){var s=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(k.text,
k.style,this.font.mz_5);s.setFont(k.font);s.setSourceShape(k);this.content.addPart(s)}else this.content.addShape(k)}a<this.le_36.size()-1&&this.content.addString("\n",null);this.text=0==a?d.text:this.text+("\n"+d.text)}},cn$8:function(){this.resetCachedBounds();this.le_36.clear();var a=0;if(this.style&&null!=this.style.padding)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(this.style.padding))a=this.style.padding;else try{a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.style.padding.top,
1,1)}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))a=0;else throw d;}var c=new b.com_ibm_vis_engine_internal_struct_MultiPartTextLine(b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString("###",this.font.mz_5),this.p.x,a,this.align,"end",this.font,this.style,this.backgroundStyle,this.clipSymbol,this.size,this.clip);c.tickLabelOrientation=this.tickLabelOrientation;a=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue("###",this.p.x,a,this.align,
"end",this.font,this.style,this.backgroundStyle,this.clipSymbol,this.size,this.createTooltipForTruncated);a.clipToFit(this.size.wt_2);this.text=a.text;c.addPart(a);c.updateContent();this.le_36.add(c)},mt$3:function(a){this.resetCachedBounds();this.le_36=new b.com_ibm_rave_codegenerator_util_List;var d=new b.com_ibm_rave_codegenerator_util_List;this.se$9(this.tn$2(),0,d,a);a=0;for(var c=d.arrayIterator(),e=c.length;a<e;++a)d=c[a],this.wasClipped=d.wasClipped?!0:this.wasClipped,d.copyInfoFrom(this),
this.le_36.add(d);this.wasClipped&&"#"==this.clipSymbol&&this.cn$8();null!=this.id&&this.setID(this.id);a=0;c=this.le_36.arrayIterator();for(e=c.length;a<e;++a)d=c[a],d.offsetX(),d.offsetY(this.getTextBounds().y)},isReductionNeeded:function(a){this.resetCachedBounds();this.le_36=new b.com_ibm_rave_codegenerator_util_List;var d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_List,e=0;a=a.getContent().arrayIterator();for(var g=a.length;e<g;++e)c.add(a[e]);this.se$9(c,
0,d,!0);c=0;d=d.arrayIterator();for(e=d.length;c<e;++c)a=d[c],this.wasClipped=a.wasClipped?!0:this.wasClipped,a.copyInfoFrom(this),this.le_36.add(a);return this.wasClipped},tn$2:function(){var a=new b.com_ibm_rave_codegenerator_util_List,d=this.content.getContent();if(d)for(var c=0,d=d.arrayIterator(),e=d.length;c<e;++c)a.add(d[c]);return a},se$9:function(a,d,c,e){this.resetCachedBounds();for(var g=new b.com_ibm_rave_codegenerator_util_List;0<a.size();){var k=this.size.wt_2,s=new b.com_ibm_vis_engine_internal_struct_MultiPartTextLine(new b.com_ibm_vis_engine_internal_grammar_label_TextContent(this.font.mz_5),
this.p.x,d,this.align,"end",this.font,this.style,this.backgroundStyle,this.clipSymbol,this.size,this.clip);s.tickLabelOrientation=this.tickLabelOrientation;for(var f=!0,u=0;u<a.size()&&f;++u){var h=a.get(u);null==h.getValue()&&g.add(h);if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(h.getValue())){var l=s.getNumParts(),f=this.sn$3(h,s,g,d,k,a,u,e);l<s.getNumParts()&&(k-=s.getParts()[l].getWidth())}else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h.getValue(),b.com_ibm_vis_engine_internal_struct_Shape)&&
(k-=h.getValue().getBounds().wt_3,this.sp$2(h,s,g,d,k,c,0==u),0>k&&0==u)){this.wasClipped=!0;return}}k=0;f=g.arrayIterator();for(u=f.length;k<u;++k)h=f[k],a.remove(h);d+s.getHeight()>this.size.hh_1&&e?(0<c.size()&&this.cn$9(c,d),a.clear()):0<s.getNumParts()&&(s.updateContent(),c.add(s));d+=s.getHeight()}},cn$9:function(a,b){var c=a.size()-1,e=a.get(c);a.set(c,this.cn$10(e,b-e.getHeight()))},sn$3:function(a,d,c,e,g,k,s,f){var u=a.getValue(),h="",l=u.indexOf("\n");0<=l&&(h=u.substring(l+1),u=u.substring(0,
l));var u=b.com_ibm_vis_engine_internal_struct_MultiPartText.tn$3(u,s,k.size()),m=a.getFont()?a.getFont():this.font;g=this.sn$4(u,g,e,f,m);if(!g&&0==s)return k.clear(),!1;if((!g||0<g[0].indexOf(this.clipSymbol))&&0<s)return!1;u=g[0];h=0<g[1].length&&0<l?g[1]+"\n"+h:g[1]+h;if(0==s||0<u.length)e=this.cr$5(u,e,a),d.addPart(e);if(0<h.length)return k.set(s,new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(h,a.getStyle(),this.font.mz_5)),!1;c.add(a);return 0<=l?(1==k.size()&&(c.clear(),k.set(s,
new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(h,a.getStyle(),this.font.mz_5))),!1):!0},sp$2:function(a,b,c,e,g,k,s){var f=a.getValue();0>g?s&&0<k.size()&&this.cn$9(k,e):(f.setX(this.p.x),f.setY(e),b.addPart(f),c.add(a))},cr$5:function(a,d,c){var e,g=c.getFont()?c.getFont():this.font;e=this.style?this.style:new b.com_ibm_vis_spec_internal_StyleSpec;c.getStyle()&&(this.style&&(e=this.style.copy()),e.fill=c.getStyle().fill);a=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(a,
this.p.x,d,this.align,"end",g,e,null,this.clipSymbol,this.size,this.createTooltipForTruncated);c.getSourceShape()&&(a.copyInfoFrom(c.getSourceShape()),c.setSourceShape(null));this.wasClipped&&(a.wasClipped=!0);return a},sn$4:function(a,d,c,e,g){var k="\u2026"==this.clipSymbol;if(0==a.length)return["",""];var s=g.getAmountThatFits(a,d);if(0==s&&0<a.length)return null;var f=a,u="";if(s<a.length){for(var f=a.substring(0,s),h=!1,l=s-1;0<l;--l)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespace(f.charCodeAt(l))){s=
l;h=!0;break}!h&&b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespace(a.charCodeAt(s))&&(h=!0);f=a.substring(0,s);u=a.substring(s);if(!h&&e){h=!1;k&&b.com_ibm_rave_codegenerator_util_BasicFactory.isPunctuation(f+u.substring(0,1),s-1)?h=!0:f=this.cn$11(f+"...",d,c,g).text;if(!h)for(l=0;l<u.length;++l)if(k&&b.com_ibm_rave_codegenerator_util_BasicFactory.isPunctuation(u,l)){h=!0;u=u.substring(l+1);break}h||(u="")}else if(!h&&!e){for(l=0;l<a.length;++l)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespace(a.charCodeAt(l))){f=
a.substring(0,l);u=a.substring(l);h=!0;break}h||(f=a,u="")}}0<u.length&&c+2*g.getHeight()>this.size.hh_1&&(e?(a=this.cn$11(a,d,c,g),a.wasClipped=!0,f=a.text):f=a,u="");return[f,u]},cn$10:function(a,b){var c=a.getParts(),e=c.length-1,c=c[e];1009==c.getType()?(c=this.cn$11(c.text+"\u2026",this.size.wt_2,b,c.font),a.setPart(e,c),a.updateContent()):(e=this.size.wt_2-c.getWidth(),0<e&&(c=this.cn$11("\u2026",e,b,this.font),a.addPart(c)));return a},cn$11:function(a,d,c,e){a=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(a,
this.p.x,c,this.align,"end",e,this.style,this.backgroundStyle,this.clipSymbol,this.size,this.createTooltipForTruncated);a.clipToFit(d);this.wasClipped=!0;return a},affine:function(a,d,c,e,g){b.com_ibm_vis_engine_internal_struct_Text.prototype.affine.apply(this,[a,d,c,e,g]);for(var k=0,s=this.le_36.arrayIterator(),f=s.length;k<f;++k)s[k].affine(a,d,c,e,g);this.updateContent();this.mt$3(this.clip)},setRows:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setRows.apply(this,[a]);for(var d=
0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d)c[d].setRows$0(a,this.getKey())},setID:function(a){b.com_ibm_vis_engine_internal_struct_Shape.prototype.setID.apply(this,[a]);for(var d=0;d<this.le_36.size();++d)this.le_36.get(d).setID$0(a,d)},transpose:function(a){this.resetCachedBounds();b.com_ibm_vis_engine_internal_struct_Text.prototype.transpose.apply(this,[a]);for(var d=0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d)c[d].transpose(a)},fitInside:function(a){this.resetCachedBounds();a=new b.com_ibm_vis_geom_Dim(a.wt_2,
a.hh_1);for(var d=0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d){var g=c[d];g.fitInside(a);g.wasClipped&&(this.wasClipped=!0);a.hh_1-=g.getHeight()}this.updateContent();return this},clipToFit:function(a){this.resetCachedBounds();for(var b=0,c=this.le_36.arrayIterator(),e=c.length;b<e;++b){var g=c[b];g.clipToFit(a);g.wasClipped&&(this.wasClipped=!0)}this.updateContent()},stretchToFit:function(a){this.resetCachedBounds();var d;d=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(this.font.mz_5);
for(var c=0,e=this.content.getContent().arrayIterator(),g=e.length;c<g;++c){var k=e[c],s=k.getValue();b.com_ibm_rave_codegenerator_util_BasicFactory.isString(s)?d.addString(s.CPVisEngineReplace("\n"," "),k.getStyle()):d.addShape(s)}d.hasImages()?(this.font=this.font.modifySize(10),d=b.com_ibm_vis_engine_internal_struct_MultiPartText.createMultiPartTextWithShapedValue(d,this.p.x,this.p.y,this.align,this.valign,this.font,this.style,null,this.clipSymbol,this.size,!1,this.createTooltipForTruncated),d.copyInfoFrom(this),
d.ar$4(a)):(d=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(d.getText(),this.p.x,this.p.y,this.align,this.valign,this.font,this.style,null,this.clipSymbol,this.size,this.createTooltipForTruncated),d.copyInfoFrom(this),d.stretchToFit(a));return d},ar$4:function(a){var d=a.wt_2/this.calculateTextWidth();a=a.hh_1/this.getHeight();d=new b.com_ibm_vis_engine_internal_Affine(d,0,this.p.x*(1-d),0,a,this.p.y*(1-a));a=0;for(var c=this.le_36.arrayIterator(),e=c.length;a<e;++a)c[a].updateTransformTextParts(d)},
sizeToFit:function(a,d){var c=this.font.size;b.com_ibm_vis_engine_internal_struct_Text.prototype.sizeToFit.apply(this,[a,d]);if(c!=this.font.size&&1<this.le_36.size())for(var c=this.getTextBounds().y,e=0,g=this.le_36.arrayIterator(),k=g.length;e<k;++e){var s=g[e];s.rePositionParts(c);c+=s.getHeight()}return this},getLines:function(){return this.le_36},getParts:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.le_36.arrayIterator(),e=c.length;d<e;++d)for(var g=0,k=c[d].getParts(),
s=k.length;g<s;++g)a.add(k[g]);return a.toArray(Array(a.size()))},setSizeAestheticValue:function(a){for(var b=0,c=this.le_36.arrayIterator(),e=c.length;b<e;++b)for(var g=c[b].getParts(),k=0,s=g.length;k<s;++k){var f=g[k];1009==f.getType()&&f.setSizeAestheticValue(a)}},getCalculatedOffsetY:function(){return this.getTextBounds().y-this.p.y},hasSingleLine:function(){return this.le_36&&1==this.le_36.size()?!0:!1},getLine:function(a){return this.le_36.get(a)},createSerializableComposite:function(){var a=
b.com_ibm_vis_engine_internal_struct_Text.prototype.createSerializableComposite.apply(this);this.le_36&&a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("lines",this.le_36.toArray(Array(this.le_36.size()))));a.addBoolean("clip",this.clip);return a},populateFromSerialized:function(a){b.com_ibm_vis_engine_internal_struct_Text.prototype.populateFromSerialized.apply(this,[a]);this.clip=a.getNodeById("clip").asPrimitive().getBooleanValue$1(!1);var d=a.getNodeById("lines").getNodes();
this.le_36=new b.com_ibm_rave_codegenerator_util_List;a=0;for(var d=d.arrayIterator(),c=d.length;a<c;++a)this.le_36.add(b.com_ibm_vis_engine_internal_struct_MultiPartTextLine.createFromSerialized(d[a]));return this}});b.com_ibm_vis_engine_internal_struct_MultiPartText.createMultiPartTextWithShapedValue=function(a,d,c,e,g,k,s,f,u,h,l,m){return new b.com_ibm_vis_engine_internal_struct_MultiPartText(a,d,c,e,g,k,s,f,u,h,m,l)};b.com_ibm_vis_engine_internal_struct_MultiPartText.tn$3=function(a,b,c){var e=
a;if("\r"==e)return"";" "!=e&&(0==b&&""!=a&&32==a.charCodeAt(b)?e=a.CPVisEngineReplaceAll("^\\s+",""):b==c-1&&(e=a.CPVisEngineReplaceAll("\\s+$","")));return e};b.com_ibm_vis_engine_internal_struct_MultiPartText.NN_2="\n";b.com_ibm_vis_engine_internal_struct_MultiPartText.SC_1=" ";b.com_ibm_vis_engine_internal_struct_ShapeFactory2=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect=function(a,d,c,e){var g=new b.com_ibm_vis_engine_internal_struct_Shape(1004);g.geom=
new b.com_ibm_vis_geom_Rect(a,d,c,e);return g};b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateArc=function(a,d,c,e,g){var k=new b.com_ibm_vis_engine_internal_struct_Shape(1005);k.geom=new b.com_ibm_vis_geom_Wedge(new b.com_ibm_vis_geom_Point(a,d),NaN,c,e,g);return k};b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRoundedRect=function(a,d,c,e,g,k){var s=new b.com_ibm_vis_engine_internal_struct_Shape(1004);s.geom=new b.com_ibm_vis_geom_RoundedRect(a,d,c,e,g);s.geom.setRadiusFixed(k);
return s};b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle=function(a,d,c){var e=new b.com_ibm_vis_engine_internal_struct_Shape(1E3);e.geom=new b.com_ibm_vis_geom_Circle(a,d,c);return e};b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge=function(a,d,c,e,g,k){return new b.com_ibm_vis_engine_internal_struct_WedgeShape(a,d,c,e,g,k)};b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createFromSerialized=function(a){if(a._l_1)return null;var d=a.getNodeById("shapeType").asPrimitive().getNumberValue$0(),
c;1E3==d?c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(0,0,0):1006==d?c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateArc(0,0,0,0,0):1001==d?c=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(0,0,0,0):1002==d?c=new b.com_ibm_vis_engine_internal_struct_Path(b.com_ibm_rave_codegenerator_lang_Array.create([0],0),b.com_ibm_rave_codegenerator_lang_Array.create([0],0),!1,null):1003==d?c=new b.com_ibm_vis_engine_internal_struct_ShapePoly(b.com_ibm_rave_codegenerator_lang_Array.create([0],
0),b.com_ibm_rave_codegenerator_lang_Array.create([0],0),!1,null):1004==d?c=1005==a.getNodeById("geom").getNodeById("type").asPrimitive().getNumberValue$0()?b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRoundedRect(0,0,0,0,0,!0):b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,0,0):1010==d?(c=new b.com_ibm_vis_engine_internal_struct_Schema(0,0,0,0,null,!1),c.shapeType=1010,c.geom=new b.com_ibm_vis_geom_Rect(0,0,0,0)):1005==d?(c=new b.com_ibm_vis_engine_internal_struct_WedgeShape(0,
0,0,0,0,0),c.shapeType=1005,c.geom=new b.com_ibm_vis_geom_Wedge(new b.com_ibm_vis_geom_Point(0,0),0,0,0,0)):1009==d?(c=new b.com_ibm_vis_engine_internal_struct_Text(new b.com_ibm_vis_engine_internal_grammar_label_TextContent(0),0,0,null,null,null,null,null,null,null,!1),c.shapeType=1009,c.geom=new b.com_ibm_vis_geom_Rect(0,0,0,0)):1008==d?(c=new b.com_ibm_vis_engine_internal_struct_MultiPartTextLine(new b.com_ibm_vis_engine_internal_grammar_label_TextContent(0),0,0,null,null,null,null,null,null,null,
!1),c.shapeType=1008,c.geom=new b.com_ibm_vis_geom_Rect(0,0,0,0)):1007==d&&(c=new b.com_ibm_vis_engine_internal_struct_MultiPartText(new b.com_ibm_vis_engine_internal_grammar_label_TextContent(0),0,0,null,null,null,null,null,null,null,!1,!1),c.shapeType=1007,c.geom=new b.com_ibm_vis_geom_Rect(0,0,0,0));c&&c.populateFromSerialized(a);return c};b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createPolyPathMakerFromType=function(a){switch(a){case 1001:return new b.com_ibm_vis_engine_internal_struct_SmoothAreaPathMaker;
case 1E3:return new b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker}return null};b.com_ibm_vis_engine_internal_struct_ShapeNearShape=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_struct_ShapeNearShape.getLabelShape=function(a,d,c,e,g){a.getParts()&&!a.isGlyphLike()&&(a=b.com_ibm_vis_engine_internal_struct_ShapeNearShape.ge$13(a,d,c));var k=a.getLabelShape(d,c,e);!k&&a.getContainingShape()&&(k=a.getContainingShape().getLabelShape(d,c,e));k||(k=a);1E3==k.getType()&&(k=b.com_ibm_vis_engine_internal_struct_ShapeNearShape.getReducedBoundsWhenNeededForCircle(k.getBounds(),
d,c,"inside"==e&&"fit"==g));return k};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.getReducedBoundsWhenNeededForCircle=function(a,d,c,e){return e||null!=d&&"middle"!=d&&null!=c&&"middle"!=c?(d=a.wt_3/2.82842712,c=a.hh_2/2.82842712,b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(a.x+a.wt_3/2-d,a.y+a.hh_2/2-c,2*d,2*c)):b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(a.x,a.y,a.wt_3,a.hh_2)};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.makeShapeOutsidePoly=function(a,
d,c){return(a=b.com_ibm_vis_engine_internal_struct_ShapeNearShape.gp$6(a,d,c))?b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(a.x,a.y,.01):null};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.gp$6=function(a,d,c){var e=a.centroid();if(!a.contains(e.x,e.y)){e=b.com_ibm_vis_engine_internal_struct_ShapeNearShape.makeShapeInsidePoly(a);if(!e)return null;e=e.getCenter()}d=new b.com_ibm_vis_geom_Point(b.com_ibm_vis_engine_internal_Alignment.getOffset(d),b.com_ibm_vis_engine_internal_Alignment.getOffset(c));
return 0==d.x&&0==d.y?e:b.com_ibm_vis_engine_internal_struct_ShapeNearShape.sd$1(a,e,d)};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.sd$1=function(a,d,c){for(var e=a.getBounds().wt_3,g=a.getBounds().hh_2,k=0,s=1.05;2<(s-k)*Math.max(e,g);){var f=(k+s)/2;a.contains(d.x+c.x*f*e,d.y+c.y*f*g)?k=f:s=f}return new b.com_ibm_vis_geom_Point(d.x+c.x*s*e,d.y+c.y*s*g)};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.makeShapeInsidePoly=function(a){var d=b.com_ibm_vis_engine_internal_struct_PolyGeom.makeSegmented(a.x,
a.y,a.getTypes(),!1);a=d.getBounds().inset(1);if(1>a.wt_3||1>a.hh_2)return null;var c=Math.round(Math.sqrt(256*a.wt_3/a.hh_2));1>c&&(c=1);256<c&&(c=256);var e=Math.round(256/c);return(d=b.com_ibm_vis_engine_internal_struct_ShapeNearShape.rz$1(c,e,a,d.x,d.y))?b.com_ibm_vis_engine_internal_struct_ShapeNearShape.me$12(c,e,a,d):null};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.rz$1=function(a,d,c,e,g){for(var k=e.length-1,s=Array(d),f=0,u=new b.com_ibm_rave_codegenerator_util_List,h=c.wt_3/a,
l=c.hh_2/d,m=(e[e.length-1]-c.x)/h,p=(g[g.length-1]-c.y)/l,q,r=0;r<=k;++r){var t=new b.com_ibm_vis_engine_internal_struct_RasterEdgeData,w=(e[r]-c.x)/h,x=(g[r]-c.y)/l,y=w,z=x,x=x+1.23E-6*(r+1);if(x<p||x==p&&w<m)q=p,p=x,x=q,q=m,m=w,w=q;t.i0=p==Math.floor(p)?Math.floor(p):Math.floor(p)+1;t.i1=x==Math.floor(x)?Math.floor(x)-1:Math.floor(x);t.dx=(w-m)/(x-p);t.x=m+t.dx*(t.i0-p);t.i1>=t.i0&&u.add(t);m=y;p=z}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(u,new b.com_ibm_vis_engine_internal_struct_RasterEdgeDataYComparator);
c=0;t=new b.com_ibm_rave_codegenerator_util_List;for(r=0;r<s.length;++r)s[r]=b.com_ibm_rave_codegenerator_lang_Array.create([a],!1);for(r=0;r<d;++r){e=new b.com_ibm_rave_codegenerator_util_List;g=0;k=t.arrayIterator();for(h=k.length;g<h;++g)t=k[g],t.i1>=r&&(t.x+=t.dx,e.add(t));t=e;if(c<u.size())for(e=u.get(c);e.i0==r;)if(t.add(e),++c<u.size())e=u.get(c);else break;b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(t,new b.com_ibm_vis_engine_internal_struct_RasterEdgeDataXComparator);for(e=0;e+
1<t.size();e+=2)for(k=Math.floor(t.get(e).x),g=Math.floor(t.get(e+1).x)+1,k=Math.max(0,k);k<g&&k<a;++k)s[r][k]=!0,f++}return 0==f?null:s};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.me$12=function(a,d,c,e){for(var g=Array(d+1),k=0;k<g.length;++k)g[k]=b.com_ibm_vis_engine_internal_struct_PotentialRect.NONE;for(var s=-1,f=-1,u=0,h=0,k=a-1;0<=k;--k)for(var l=d-1;0<=l;--l)if(e[l][k]){var m=new b.com_ibm_vis_engine_internal_struct_PotentialRect(g[l],g[l+1]);m.getBestWidth()*m.getBestHeight()>=
u*h&&(s=k,f=l,u=m.getBestWidth(),h=m.getBestHeight());g[l]=m}else g[l]=b.com_ibm_vis_engine_internal_struct_PotentialRect.NONE;return b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(c.x+c.wt_3*s/a,c.y+c.hh_2*f/d,c.wt_3*u/a,c.hh_2*h/d)};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.ge$13=function(a,d,c){var e=a.getBounds();d=new b.com_ibm_vis_geom_Point(e.getCenterX()+b.com_ibm_vis_engine_internal_Alignment.getOffset(d)*e.wt_3/2,e.getCenterY()+b.com_ibm_vis_engine_internal_Alignment.getOffset(c)*
e.hh_2/2);var g;c=0;a=a.getParts();for(e=a.length;c<e;++c){var k=a[c];b.com_ibm_vis_engine_internal_struct_ShapeNearShape.be$3(k,g,d)&&(g=k)}return g};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.be$3=function(a,b,c){if(!b)return!0;var e=a.area(),g=b.area();return e>2*g?!0:g>2*e?!1:c.distance(a.getCenter())<c.distance(b.getCenter())};b.com_ibm_vis_engine_internal_struct_ShapeNearShape.PREFERRED_GRID_POINTS=256;b.com_ibm_vis_engine_internal_scene_ItemBuilder=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine=
function(a,d,c,e,g){a=new b.com_ibm_vis_engine_internal_struct_ShapeLine([a,c],[d,e],!1);g?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(a,g,null):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultStrokeStyle(a);a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(g));return a};b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLineForPoints=function(a,d,c){if(2==a.length&&2==d.length)a=new b.com_ibm_vis_engine_internal_struct_ShapeLine(a,d,!1);else{var e=a.length,
g=b.com_ibm_rave_codegenerator_lang_Array.create([e],0);if(0<e){g[0]=77;for(var k=1;k<e;++k)g[k]=76}a=new b.com_ibm_vis_engine_internal_struct_Path(a,d,!1,g)}c?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(a,c,null):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultStrokeStyle(a);a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(c));return a};b.com_ibm_vis_engine_internal_scene_ItemBuilder.makePoly=function(a,d,c){a=new b.com_ibm_vis_engine_internal_struct_ShapePoly(a,
d,!0,null);c&&(b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(a,c),a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(c)));return a};b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle=function(a,d,c,e,g){var k=b.com_ibm_vis_engine_internal_scene_StyleBuilder.isCornerRadiusFixed(g),s=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getRectangleCornerRadius(g,c,e,k);a=0<s?b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRoundedRect(a,d,c,e,s,k):b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(a,
d,c,e);g&&a.setDefaultStyle(g);return a};b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText=function(a,d,c,e,g,k,s,f,u,h,l,m,p){if(!a||(a=a.hasImages()||a.hasPartStyles()||b.com_ibm_vis_engine_internal_scene_ItemBuilder.isMultiLineTextContent(k,a,u)?b.com_ibm_vis_engine_internal_struct_MultiPartText.createMultiPartTextWithShapedValue(a,d,c,e,g,k,s,f,l,u,h,p):b.com_ibm_vis_engine_internal_struct_Text.createTextWithUnshapedValue(a.getText(),d,c,e,g,k,s,f,l,m,u,p))&&0==a.getNumLines())return null;
a&&a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(s));return a};b.com_ibm_vis_engine_internal_scene_ItemBuilder.isMultiLineTextContent=function(a,b,c){return c&&(0>=c.wt_2||0>=c.hh_1)||!b||b.isEmptyString()?!1:b.isMultiLine()||c&&a.getWidthFromTextContent(b)>c.wt_2&&2*a.getHeight()<=c.hh_1?!0:!1};b.com_ibm_vis_engine_internal_scene_ItemBuilder.isMultiLineText=function(a,b,c){return c&&(0>=c.wt_2||0>=c.hh_1)||!b?!1:0<=b.getText().indexOf("\n")||c&&a.getWidth(b)>c.wt_2&&2*a.getHeight()<=
c.hh_1?!0:!1};b.com_ibm_vis_engine_internal_scene_ItemBuilder.createOutlineShape=function(a,d,c){var e=d.fill;d.fill=b.com_ibm_vis_engine_internal_scene_ItemBuilder.FN_2;a=new b.com_ibm_vis_geom_Rect(0,0,a.wt_3,a.hh_2);c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.createBackgroundShape(a,d,c);d.fill=e;return c};b.com_ibm_vis_engine_internal_scene_ItemBuilder.createFillShape=function(a,d,c){var e=d.stroke,g=d.outline;a=new b.com_ibm_vis_geom_Rect(0,0,a.wt_3,a.hh_2);d.stroke=null;d.outline=null;
c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.createBackgroundShape(a,d,c);d.stroke=e;d.outline=g;return c};b.com_ibm_vis_engine_internal_scene_ItemBuilder.createBackgroundShape=function(a,d,c){d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(0,0,a.wt_3,a.hh_2,d);d.setID(c);b.com_ibm_vis_engine_internal_ImageStyle.addIconToBackground(d);c=d.createSceneNode();a=a.getTopLeft();c.translate(a.x,a.y);return c};b.com_ibm_vis_engine_internal_scene_ItemBuilder.FN_2="transparent";b.com_ibm_vis_engine_internal_struct_Insets=
b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{top:0,left:0,bottom:0,right:0,constructor:function(a,b,c,e){this.top=a;this.left=b;this.bottom=c;this.right=e},getHorizontal:function(){return this.left+this.right},getVertical:function(){return this.top+this.bottom},insetRect:function(a){return new b.com_ibm_vis_geom_Rect(a.x+this.left,a.y+this.top,a.wt_3-this.left-this.right,a.hh_2-this.top-this.bottom)},insetRectFromDimension:function(a){return new b.com_ibm_vis_geom_Rect(this.left,
this.top,a.wt_2-this.getHorizontal(),a.hh_1-this.getVertical())},expandRect:function(a){return new b.com_ibm_vis_geom_Rect(a.x-this.left,a.y-this.top,a.wt_3+this.getHorizontal(),a.hh_2+this.getVertical())},insetRectBy:function(a){return this==b.com_ibm_vis_engine_internal_struct_Insets.NONE?a:new b.com_ibm_vis_geom_Rect(a.x+this.left,a.y+this.top,a.wt_3-this.getHorizontal(),a.hh_2-this.getVertical())},expandRectBy:function(a){return this==b.com_ibm_vis_engine_internal_struct_Insets.NONE?a:new b.com_ibm_vis_geom_Rect(a.x-
this.left,a.y-this.top,a.wt_3+this.getHorizontal(),a.hh_2+this.getVertical())},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addDouble("top",this.top);a.addDouble("left",this.left);a.addDouble("bottom",this.bottom);a.addDouble("right",this.right);return a},populateFromSerialized:function(a){this.top=a.getNodeById("top").asPrimitive().getNumberValue$1(0);this.left=a.getNodeById("left").asPrimitive().getNumberValue$1(0);
this.bottom=a.getNodeById("bottom").asPrimitive().getNumberValue$1(0);this.right=a.getNodeById("right").asPrimitive().getNumberValue$1(0);return this}});b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding=function(a,d,c){if(null==a)return b.com_ibm_vis_engine_internal_struct_Insets.NONE;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)||b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){var e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a,
d.wt_2,c.wt_2);a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a,d.hh_1,c.hh_1);return b.com_ibm_vis_engine_internal_struct_Insets.mt$2(a,e,a,e)}return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_PaddingSpec)?b.com_ibm_vis_engine_internal_struct_Insets.mt$2(b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.top,d.hh_1,c.hh_1),b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.left,d.wt_2,
c.wt_2),b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.bottom,d.hh_1,c.hh_1),b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.right,d.wt_2,c.wt_2)):b.com_ibm_vis_engine_internal_struct_Insets.NONE};b.com_ibm_vis_engine_internal_struct_Insets.mt$2=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_struct_Insets(null==a?0:a,null==d?0:d,null==c?0:c,null==e?0:e)};b.com_ibm_vis_engine_internal_struct_Insets.makeForStyleStroke=function(a,d,c,e,
g){return a&&null!=a.width?(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.width,c.hh_1,e.hh_1),null==a&&(a=1),"inside"==g?new b.com_ibm_vis_engine_internal_struct_Insets(a,a,a,a):new b.com_ibm_vis_engine_internal_struct_Insets(a/2,a/2,a/2,a/2)):null!=d?new b.com_ibm_vis_engine_internal_struct_Insets(.5,.5,.5,.5):b.com_ibm_vis_engine_internal_struct_Insets.NONE};b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle=function(a,d){var c=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(a.padding,
d,d),e=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyleStroke(a.stroke,a.outline,d,d,null);return b.com_ibm_vis_engine_internal_struct_Insets.combine(c,e)};b.com_ibm_vis_engine_internal_struct_Insets.combine=function(a,d){return new b.com_ibm_vis_engine_internal_struct_Insets(a.top+d.top,a.left+d.left,a.bottom+d.bottom,a.right+d.right)};b.com_ibm_vis_engine_internal_struct_Insets.makeUniform=function(a){return new b.com_ibm_vis_engine_internal_struct_Insets(a,a,a,a)};b.com_ibm_vis_engine_internal_struct_Insets.createFromSerialized=
function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_Insets(0,0,0,0);d.populateFromSerialized(a);return d};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_struct_Insets.NONE=new b.com_ibm_vis_engine_internal_struct_Insets(0,0,0,0)});b.com_ibm_vis_scenetree_internal_AnimateRendererInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_SceneNodeRenderInfo,{constructor:function(a){this.base=a},setAnimation:function(a,b){switch(a){case 2:this.go_1=
b;break;case 3:this.so_13=b;break;case 5:this.co_5=b;break;case 6:this.to_5=b;break;case 4:this.to_4=b;break;case 1:this.oo_2=b}return!this.go_1&&!this.to_4&&!this.so_13&&!this.co_5&&!this.to_5&&!this.oo_2},getNode:function(){return this.base.getNode()},getRenderGeom:function(){if(this.go_1){var a=this.go_1.interpolate();if(!a)return null;var b=a.type();if(1006==b||1005==b){var c=this.getRenderStroke();this.getNode().getShape().isInsideStroke()&&c&&(a=a.inset(c.wt_1/2),b=a.type());if(1006==b||1005==
b)a=a.asSimple()}return a}return this.base.getRenderGeom()},getRenderText:function(){return this.to_4?this.to_4.interpolate():this.base.getRenderText()},getRenderFill:function(){var a;if(this.oo_2){var b=this.oo_2.interpolate();null!=b[0]&&(a=b[0])}(!a||a&&!a.so_4)&&this.so_13&&(b=this.so_13.interpolate(),null!=b[0]&&(a=b[0]));if(!a||a&&!a.so_4&&0==a.cr_2.length)a=this.base.getRenderFill();return a},setRenderFill:function(a){this.base.setRenderFill(a)},getRenderStroke:function(){var a;if(this.oo_2){var b=
this.oo_2.interpolate();null!=b[1]&&(a=b[1])}if(!a&&this.so_13&&(b=this.so_13.interpolate(),null!=b[1]))return b[1];a||(a=this.base.getRenderStroke());return a},getRenderEffects:function(){var a;if(this.oo_2){var b=this.oo_2.interpolate();null!=b[3]&&(a=b[3])}if(!a&&this.so_13&&(b=this.so_13.interpolate(),null!=b[3]))return b[3];a||(a=this.base.getRenderEffects());return a},getRenderImage:function(){var a=this.base.getRenderImage();if(a&&(this.oo_2||this.so_13)){var d=this.base.getRenderBounds(),
d=new b.com_ibm_vis_geom_Point(a.x-d.x,a.y-d.y),c=this.getRenderBounds(),d=new b.com_ibm_vis_geom_Point(c.x+d.x,c.y+d.y),c=null;this.oo_2&&(c=this.oo_2.interpolate());(!c||3>c.length||null==c[2])&&this.so_13&&(c=this.so_13.interpolate());if(null!=c[2])return c=c[2],b.com_ibm_vis_engine_internal_image_ImageFill.createFill(a.sc_3,new b.com_ibm_vis_geom_Rect(d.x,d.y,a.wt_7,a.hh_5),c,a.clip)}return a},getRenderBounds:function(){if(this.to_4){var a=this.to_4.interpolate();return a?a.getNonTransformedBounds():
null}return(a=this.getRenderGeom())?a.getBounds():this.base.getRenderBounds()},canAnimate:function(){return!0},getBase:function(){return this.base},getClipBounds:function(){return this.co_5?this.co_5.interpolate():this.base.getClipBounds()},getTransform:function(){if(this.to_5)return this.to_5.interpolate();if(this.to_4){var a=this.to_4.interpolate();if(!a)return null;var d=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl;d.setAffine(a.getAffine());return d}return this.base.getTransform()}});
b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4=function(a,d){b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.tt_5[a.ordinal()]=d;b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.sp_4.put(d,a)};b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.fromString=function(a){return b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.sp_4.get(a)};b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString=
function(a){return b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.tt_5[a.ordinal()]};b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isAxis=function(a){return a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MINOR||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK};b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isLegend=
function(a){return a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_CONTENT};b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isText=function(a){return a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT||a==b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT_LINE};b.com_ibm_init_statics.add(function(){var a=
b.com_ibm_vis_scenetree_provisional_SceneNodeType.values();b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.tt_5=Array(a.length);b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.sp_4=new b.com_ibm_rave_codegenerator_util_Map(a.length,1);b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS,"axis");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL,"axis-label");
b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK,"axis-mark");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MINOR,"axis-minor");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK,"axis-back");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND,
"legend");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_CONTENT,"legendContent");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY,"legendEntry");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT,"text");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT,
"multitext");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT_LINE,"linetext");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.HIGHLIGHT,"highlight");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.IMAGE_HIGHLIGHT,"imageHighlight");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE,
"title");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT,"element");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET,"facet");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCHEMA,"schema");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.ROOT,
"root");b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.re$4(b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCENE,"scene")});b.com_ibm_rave_codegenerator_util_Collections=function(){var a=function(){throw Error("Attempted to modify unmodifiable collection.");};return{unmodifiableList:function(d){return b.com_ibm_rave_codegenerator_lang_Object.delegate(d,{add:a,addAll:a,clear:a,remove:a,removeAll:a,retainAll:a,set:a,sublist:function(a,b){return unmodifiableList(d.sublist(a,b))},iterator:function(){var b=
d.iterator();return S.delegate(b,{remove:a})}})},unmodifiableSet:function(d){return b.com_ibm_rave_codegenerator_lang_Object.delegate(d,{add:a,addAll:a,clear:a,remove:a,removeAll:a,retainAll:a,set:a})},unmodifiableMap:function(d){return b.com_ibm_rave_codegenerator_lang_Object.delegate(d,{put:a,putAll:a,clear:a,remove:a,keySet:function(){return b.com_ibm_rave_codegenerator_util_Collections.unmodifiableSet(d.keySet())},values:function(){return b.com_ibm_rave_codegenerator_util_Collections.unmodifiableCollection(d.values())}})}}}();
b.com_ibm_vis_scenetree_internal_SceneNodeImpl=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_SceneNode,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{od_1:!1,tt_4:!1,pt_3:!1,dn_5:0,ze_1:0,ie_8:0,constructor:function(){this.tr_3=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl},getType:function(){return this.type},setType:function(a){this.type=a},getShape:function(){return this.shape},setShape:function(a){this.shape=a;this.rf_2=null},getId:function(){return this.shape?
this.shape.id:this.id},setId:function(a){this.shape?this.shape.setID(a):this.id=a},translate:function(a,b){this.shape?this.shape.getTransformInfo().translate(a,b):this.tr_3.translate(a,b)},intTranslate:function(a,b){this.shape?this.shape.getTransformInfo().intTranslate(a,b):this.tr_3.intTranslate(a,b)},setClipBounds:function(a){this.cd_5=a;this.rf_2=null},setClipBoundsShapeRect:function(a){var d=a.wt_3,c=a.hh_2,e=a.y;this.cd_5=new b.com_ibm_vis_geom_Rect(b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.x),
b.com_ibm_vis_engine_internal_util_MathUtil.r3(e),b.com_ibm_vis_engine_internal_util_MathUtil.r3(d),b.com_ibm_vis_engine_internal_util_MathUtil.r3(c));this.rf_2=null},getClipBounds:function(){return this.getRenderInfo().getClipBounds()?this.getRenderInfo().getClipBounds():this.cd_5},getTransform:function(){var a=this.getRenderInfo().getTransform();return a?a:this.shape?this.shape.getTransformInfo():this.tr_3},isVisible:function(){return this.shape?this.shape.isVisible():!0},setOutOfBounds:function(a){this.od_1=
a},isOutOfBounds:function(){return this.od_1},setMeta:function(a,b){this.shape?this.shape.setMeta(a,b):null==b?this.et$1().remove(a):this.et$1().put(a,b)},getMeta:function(a){return this.shape?this.shape.getMeta(a):this.et$1().get(a)},getMetaMap:function(){return this.shape?this.shape.getMetaMap():this.meta},et$1:function(){this.meta||(this.meta=new b.com_ibm_rave_codegenerator_util_Map);return this.meta},getField:function(){return this.shape?this.shape.getField():this.fl_4},setField:function(a){this.shape?
this.shape.setField(a):this.fl_4=a},getValue:function(){return this.shape?this.shape.getValue():this.vu_13},setValue:function(a){this.shape?this.shape.setValue(a):this.vu_13=a},getUserData:function(){return this.ct_4},setUserData:function(a){this.ct_4=a},getA11y:function(){return this.shape?this.shape.getA11yInfo():this.a11y},setA11y:function(a){this.a11y=a},getChildren:function(){return b.com_ibm_vis_scenetree_internal_SceneNodeImpl.ES_1},getClassId:function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE},
setRows:function(a){this.shape&&this.shape.setRows(a)},setTransform:function(a){this.shape?(a=a?a.getAffine():null,this.shape.setTransform(a)):this.tr_3=a;this.rf_2=null},clipTo:function(a){this.setClipBoundsShapeRect(a);this.rf_2=null},clearMetaMap:function(){var a=this.getMetaMap();a&&a.clear()},finalizeTree:function(a,b){for(var c=this.getChildren(),e=c.size(),g=0;g<e;++g){var k=c.get(g);k.setParent(this);var s=a?b:g;k.setInitialZOrder(s);k.shape?k.finalizeTree(!0,s):k.finalizeTree(!1,0)}},setParent:function(a){this.pn_10=
a},getNetTransform:function(){var a;this.pn_10&&(a=this.pn_10.getNetTransform());var b=this.getTransform();return b&&b.getAffine()?a?a.multiply(b.getAffine()):b.getAffine():a},getParent:function(){return this.pn_10},getRenderInfo:function(){this.rf_2||(this.rf_2=new b.com_ibm_vis_scenetree_internal_SimpleRendererInfo(this));return this.rf_2},invalidateRenderInfo:function(){this.rf_2=null},putAnimateInfo:function(a,d){d?(this.getRenderInfo().canAnimate()||(this.rf_2=new b.com_ibm_vis_scenetree_internal_AnimateRendererInfo(this.rf_2)),
this.rf_2.setAnimation(a,d)):this.removeAnimateInfo(a)},removeAnimateInfo:function(a){this.getRenderInfo().canAnimate()&&this.rf_2.setAnimation(a,null)&&(this.rf_2=this.rf_2.getBase())},setTemporarilyDirty:function(a){this.tt_4=a},isTemporarilyDirty:function(){return this.tt_4},setPersistentlyDirty:function(a){this.pt_3=a},isPersistentlyDirty:function(){return this.pt_3},setDirtyChildCount:function(a){this.dn_5=a},getDirtyChildCount:function(){return this.dn_5},isDirtyDirectly:function(){return this.tt_4||
this.pt_3},isDirtyIndirectly:function(){return 0<this.dn_5},isDirty:function(){return this.tt_4||this.pt_3||0<this.dn_5},getRenderType:function(){var a=this.getRenderInfo(),d=0;if(this.rf_2.getRenderText())d=7;else if(a=a.getRenderGeom())switch(a.type()){case 1001:d=2;break;case 1007:d=6;break;case 1004:d=4;break;case 1E3:d=3;break;case 1003:d=5;break;case 1002:d=1;break;default:throw new b.com_ibm_vis_exceptions_internal_EngineException("Unregonized geom for rendering.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);
}return d},getRoot:function(){var a=this.pn_10;if(a)for(;a.pn_10;)a=a.pn_10;return a},getScale:function(){var a=1,d=1;if(this.tr_3){var c=this.tr_3.getAffine();c&&(a=Math.abs(c.m00),d=Math.abs(c.m11))}return new b.com_ibm_vis_geom_Point(a,d)},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("transform",this.tr_3));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("clipBounds",
this.cd_5));a.addBoolean("outOfBounds",this.od_1);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("shape",this.shape));a.addString("type",b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString(this.type));a.addString("field",this.fl_4);a.addObject("value",this.vu_13);a.addString("id",this.id);a.addString("sceneNodeType",this.getClassId().toString());return a},populateFromSerialized:function(a){this.id=a.getNodeById("id").asPrimitive().getStringValue$0();
this.shape||(this.shape=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createFromSerialized(a.getNodeById("shape")));this.tr_3=b.com_ibm_vis_scenetree_provisional_TransformInfoImpl.createFromSerialized(a.getNodeById("transform"));this.cd_5=b.com_ibm_vis_geom_Rect.createFromSerialized(a.getNodeById("clipBounds"));this.od_1=a.getNodeById("outOfBounds").asPrimitive().getBooleanValue$1(!0);this.type=b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.fromString(a.getNodeById("type").asPrimitive().getStringValue$0());
this.vu_13=a.getNodeById("value").asPrimitive().getStringValue$0();this.fl_4=a.getNodeById("field").asPrimitive().getStringValue$0();return this},getPhysicalBounds:function(){return this.getRenderInfo()&&this.shape?b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.shape,b.com_ibm_vis_engine_internal_struct_Text)?b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(this.shape.getNonTransformedBounds(),this.getTransform().getAffine()):b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(this.shape.getBounds(),
this.getTransform().getAffine()):null},isEffect:function(){var a=this.getId();return null!=a&&a.CPVISEngineStartsWith("_")?!0:!1},getRenderStyleInfo:function(){return this.getRenderInfo()},getZOrder:function(){return this.ze_1},setZOrder:function(a){this.ze_1=a;if(this.shape)for(var b=0,c=this.getChildren().arrayIterator(),e=c.length;b<e;++b)c[b].setZOrder(a)},resetZOrder:function(){this.ze_1=this.ie_8;if(this.shape)for(var a=0,b=this.getChildren().arrayIterator(),c=b.length;a<c;++a)b[a].resetZOrder()},
getInitialZOrder:function(){return this.ie_8},setInitialZOrder:function(a){this.ze_1=this.ie_8=a;if(this.shape)for(var b=0,c=this.getChildren().arrayIterator(),e=c.length;b<e;++b)c[b].setInitialZOrder(a)}});b.com_ibm_vis_scenetree_internal_SceneNodeImpl.createFromSerialized=function(a){var d=a.getNodeById("shape"),d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createFromSerialized(d).createSceneNode();d.populateFromSerialized(a);return d};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_scenetree_internal_SceneNodeImpl.ES_1=
b.com_ibm_rave_codegenerator_util_Collections.unmodifiableList(new b.com_ibm_rave_codegenerator_util_List)});b.com_ibm_vis_scenetree_internal_CompositeSceneNode=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_SceneNodeImpl,{constructor:function(){this.ce_21=new b.com_ibm_rave_codegenerator_util_List},getChildren:function(){return this.ce_21},setChildren:function(a){if(this.ce_21=a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b)a[b].setParent(this)}},getChildrenCount:function(){return this.getChildren().size()},
getChild:function(a){return this.getChildren().get(a)},addChildAt:function(a,b){this.getChildren().add(a,b);b.setParent(this)},addChild:function(a){this.getChildren().add(a);a.setParent(this)},removeChild:function(a){this.getChildren().remove(a)&&a.setParent(null)},removeChildAt:function(a){this.getChildren().removeAt(a)},getClassId:function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COMPOSITE_NODE},getPhysicalBounds:function(){for(var a,d=0,c=this.ce_21.arrayIterator(),e=c.length;d<
e;++d){var g=c[d].getPhysicalBounds();a||(a=g.copy());g&&a.extendToRect(g)}return b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(a,this.getTransform().getAffine())},createSerializableComposite:function(){var a=b.com_ibm_vis_scenetree_internal_SceneNodeImpl.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray("children",this.ce_21.toArray(Array(this.ce_21.size()))));return a},populateFromSerialized:function(a){b.com_ibm_vis_scenetree_internal_SceneNodeImpl.prototype.populateFromSerialized.apply(this,
[a]);var d=0;a=a.getNodeById("children").getNodes().arrayIterator();for(var c=a.length;d<c;++d){var e=a[d],g=e.getNodeById("sceneNodeType").asPrimitive().getStringValue$0(),k=null;b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP.toString()==g?k=b.com_ibm_vis_scenetree_internal_GroupSceneNode.createFromSerialized(e):b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP.toString()==g?k=b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode.createFromSerialized(e):b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE.toString()==
g?k=b.com_ibm_vis_scenetree_internal_SceneNodeImpl.createFromSerialized(e):b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SCHEMA_SHAPE.toString()==g?k=b.com_ibm_vis_scenetree_internal_SchemaSceneNode.createFromSerialized(e):b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES.toString()==g?k=b.com_ibm_vis_scenetree_internal_CoordinatesSceneNode.createFromSerialized(e):b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COMPOSITE_NODE.toString()==g&&(k=b.com_ibm_vis_scenetree_internal_CompositeSceneNode.createFromSerialized(e));
if(k)this.addChild(k);else throw new b.com_ibm_vis_scenetree_provisional_serialize_RaveSerializationException(null,b.com_ibm_vis_exceptions_ErrorCode.SERIALIZE_ERROR);}return this}});b.com_ibm_vis_scenetree_internal_CompositeSceneNode.createFromSerialized=function(a){var d=new b.com_ibm_vis_scenetree_internal_CompositeSceneNode;d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_internal_SchemaSceneNode=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_CompositeSceneNode,{constructor:function(a){this.type=
a},getClassId:function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SCHEMA_SHAPE}});b.com_ibm_vis_scenetree_internal_SchemaSceneNode.createFromSerialized=function(a){var d=new b.com_ibm_vis_scenetree_internal_SchemaSceneNode(null);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_internal_GroupSceneNode=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_CompositeSceneNode,{constructor:function(a){this.type=a},getClassId:function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP}});
b.com_ibm_vis_scenetree_internal_GroupSceneNode.createFromSerialized=function(a){var d=new b.com_ibm_vis_scenetree_internal_GroupSceneNode(null);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_CompositeSceneNode,{el_2:!1,constructor:function(a,d){this.type=b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT;this.ep_1=a;this.bn_2=d},copy:function(){return new b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode(this.ep_1,
this.bn_2)},getClassId:function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP},getElementType:function(){return this.ep_1},getBaseline:function(){return this.bn_2?this.bn_2.getRenderGeom(0):null},createSerializableComposite:function(){var a=b.com_ibm_vis_scenetree_internal_CompositeSceneNode.prototype.createSerializableComposite.apply(this);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("baseline",this.bn_2));a.addString("elementType",
this.ep_1);a.addString("link",this.link);a.addBoolean("labels",this.el_2);return a},populateFromSerialized:function(a){b.com_ibm_vis_scenetree_internal_CompositeSceneNode.prototype.populateFromSerialized.apply(this,[a]);this.bn_2=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createFromSerialized(a.getNodeById("baseline"));this.ep_1=a.getNodeById("elementType").asPrimitive().getStringValue$0();this.link=a.getNodeById("link").asPrimitive().getStringValue$0();this.el_2=a.getNodeById("label").asPrimitive().getBooleanValue$0();
return this},setHasLabels:function(a){this.el_2=a},hasLabels:function(){return this.el_2},removeBaseline:function(){this.bn_2=null},setLink:function(a){this.link=a},getLink:function(){return this.link}});b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode.createFromSerialized=function(a){var d=new b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode(null,null);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_internal_CoordinatesSceneNode=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_SceneNodeImpl,
{constructor:function(a,b){this.setShape(a);this.ce_22=b},getCoordinates:function(){return this.ce_22},getClassId:function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES},createSerializableComposite:function(){var a=b.com_ibm_vis_scenetree_internal_SceneNodeImpl.prototype.createSerializableComposite.apply(this);if(this.ce_22){var d=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite("coordinates");a.add(d);var c=this.ce_22.dimensions;if(c){for(var e=
Array(this.ce_22.dimensions.length),g=0,k=0,s=c.length;k<s;++k){var f=c[k].scale;f?(f=f.spans,e[g]=f&&0!=f.length?1==f.length?f[0].method:"multiple":"linear"):e[g]="linear";g++}g=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringArray("dimensions",e);d.add(g)}if(c=this.ce_22.transforms){e=Array(this.ce_22.transforms.length);k=g=0;for(s=c.length;k<s;++k)f=c[k],e[g++]=f.type;g=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringArray("transforms",e);
d.add(g)}}return a},populateFromSerialized:function(a){var d=b.com_ibm_vis_scenetree_internal_SceneNodeImpl.prototype.populateFromSerialized.apply(this,[a]);this.ce_22=new b.com_ibm_vis_spec_internal_CoordinatesSpec;var c=a.getNodeById("coordinates"),e=c.getNodeById("dimensions").asPrimitiveArray().getValuesAsString();if(e){this.ce_22.dimensions=Array(e.length);for(var g=a=0,k=e.length;g<k;++g){var s=e[g];this.ce_22.dimensions[a]=new b.com_ibm_vis_spec_internal_DimensionSpec;this.ce_22.dimensions[a].scale=
new b.com_ibm_vis_spec_internal_ScaleSpec;this.ce_22.dimensions[a].scale.spans=Array(1);this.ce_22.dimensions[a].scale.spans[0]=new b.com_ibm_vis_spec_internal_SpanSpec;this.ce_22.dimensions[a].scale.spans[0].method=s;a++}}if(c=c.getNodeById("transforms").asPrimitiveArray().getValuesAsString())for(this.ce_22.transforms=Array(c.length),e=a=0,g=c.length;e<g;++e)k=c[e],this.ce_22.transforms[a]=new b.com_ibm_vis_spec_internal_TransformSpec,this.ce_22.transforms[a].type=k,a++;return d}});b.com_ibm_vis_scenetree_internal_CoordinatesSceneNode.createFromSerialized=
function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_scenetree_internal_CoordinatesSceneNode(null,null);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_internal_SceneNodeFactory=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode=function(a){var d;d=1010==a.getType()?new b.com_ibm_vis_scenetree_internal_SchemaSceneNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCHEMA):1007==a.getType()?new b.com_ibm_vis_scenetree_internal_SchemaSceneNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT):
1008==a.getType()?new b.com_ibm_vis_scenetree_internal_SchemaSceneNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT_LINE):new b.com_ibm_vis_scenetree_internal_SceneNodeImpl;d.setShape(a);return d};b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode=function(a){return new b.com_ibm_vis_scenetree_internal_GroupSceneNode(a)};b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createElementGroupNode=function(a,d){return new b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode(a,
d)};b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createCoordinatesNode=function(a,d){return new b.com_ibm_vis_scenetree_internal_CoordinatesSceneNode(a,d)};b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode=function(a){var d;d=a.getClassId();d=d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP?b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(a.getType()):d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP?a.copy():d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES?
b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createCoordinatesNode(a.shape,a.ce_22):b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(a.shape);b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cf$1(d,a);return d};b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cf$1=function(a,d){a.type=d.getType();a.od_1=d.od_1;a.setTransform(d.getTransform());a.setParent(d.getParent());a.setField(d.getField());a.setClipBounds(d.getClipBounds());a.a11y=d.getA11y();if(d.shape){var c=d.shape.makeGeometryClone();
c.copyInfoFrom(d.shape);a.setShape(c)}a.setId(d.getId());a.setValue(d.getValue());if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_scenetree_internal_CompositeSceneNode))for(var c=0,e=d.getChildren().arrayIterator(),g=e.length;c<g;++c)a.addChild(b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode(e[c]))};b.com_ibm_vis_internal_accessibility_AccessibleInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{constructor:function(){this.pa_3=
new b.com_ibm_rave_codegenerator_util_Map},setLabelToBaseIfMissing:function(){if(!this.pa_3.containsKey("label")&&this.pa_3.containsKey("base")){var a=this.pa_3.get("base");this.pa_3.put("label",a.getStringProperty("label"))}},copy:function(){var a=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;a.pa_3.putAll(this.pa_3);return a},combine:function(a){var b=this.copy();a&&b.pa_3.putAll(a.pa_3);return b},isEmpty:function(){return this.pa_3.isEmpty()},ca$8:function(){this.pa_3.clear()},fromStyle:function(a){this.ca$8();
if(a&&(null!=a.label&&this.pa_3.put("label",a.label),null!=a.role&&this.pa_3.put("role",a.role),null!=a.hint&&this.pa_3.put("hint",a.hint),null!=a.ignore&&this.pa_3.put("ignore",a.ignore),a.state)){var b=0;a=a.state;for(var c=a.length;b<c;++b){var e=a[b];this.pa_3.put(e.key,e.value)}}},setBooleanProperty:function(a,d){b.com_ibm_vis_internal_accessibility_AccessibleInfo.isBooleanProperty(a)&&(null==d?this.pa_3.remove(a):this.pa_3.put(a,d))},getBooleanProperty:function(a){return b.com_ibm_vis_internal_accessibility_AccessibleInfo.isBooleanProperty(a)?
this.pa_3.get(a):null},setStringProperty:function(a,d){b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.contains(a)&&(null==d?this.pa_3.remove(a):this.pa_3.put(a,d))},getStringProperty:function(a){return b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.contains(a)?this.pa_3.get(a):null},setProperty:function(a,d){b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.contains(a)&&(null==d?this.pa_3.remove(a):this.pa_3.put(a,d))},getProperty:function(a){return this.pa_3.get(a)},
getProperties:function(){return this.pa_3},addJSON:function(a){if(a)for(var d=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),c=0,e=d.length;c<e;++c){var g=d[c],k=a[g];if("state"==g)this.addJSON(k);else if("base"==g){var s=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;b.com_ibm_rave_codegenerator_util_BasicFactory.isString(k)?s.setStringProperty("label",k):s.addJSON(k);this.pa_3.put(g,s)}else b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY==g?(s=new b.com_ibm_vis_internal_accessibility_AccessibleInfo,
b.com_ibm_rave_codegenerator_util_BasicFactory.isString(k)?(s.setStringProperty("label",k),this.pa_3.put(g,s)):null!=k&&(k=b.com_ibm_vis_internal_accessibility_AccessibleInfo.mr$2(k),this.pa_3.put(g,k))):this.pa_3.put(g,k)}},getLabelFromSummary:function(a){var d=this.getProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY);return null==d?null:this.labelFromSummaryMap(a,d).toString()},labelFromSummaryMap:function(a,d){var c=new b.com_ibm_rave_codegenerator_lang_StringBuilder,e=d.keySet().toArray();
b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(e);for(var g=0;g<e.length;++g){0!=g&&c.append(a);c.append(e[g]).append(": ");var k=d.get(e[g]),s=b.com_ibm_vis_internal_accessibility_AccessibleInfo.ml$1(k);s?c.append(s.toString()):null!=k&&(k=this.labelFromSummaryMap(a,k))&&c.append(k.toString())}return c},createSerializableComposite:function(){return new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null)},populateFromSerialized:function(a){return this}});b.com_ibm_vis_internal_accessibility_AccessibleInfo.isStringProperty=
function(a){return b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.contains(a)};b.com_ibm_vis_internal_accessibility_AccessibleInfo.isBooleanProperty=function(a){return!b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.contains(a)&&b.com_ibm_vis_internal_accessibility_AccessibleInfo.isLegalKey(a)};b.com_ibm_vis_internal_accessibility_AccessibleInfo.isLegalKey=function(a){if(null==a)return!1;var b=a.length;if(0==b)return!1;for(var c=0;c<b;++c){var e=a.charCodeAt(c);if(!(65<=e&&90>=
e||97<=e&&122>=e||48<=e&&57>=e))return!1}return!0};b.com_ibm_vis_internal_accessibility_AccessibleInfo.makeCopy=function(a){return a?a.copy():null};b.com_ibm_vis_internal_accessibility_AccessibleInfo.mr$2=function(a){var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,c=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a);b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(c);for(var e=0;e<c.length;++e){0!=e&&d.append(",");d.append(c[e]+" ");var g=a[c[e]],k=b.com_ibm_vis_internal_accessibility_AccessibleInfo.ml$1(g);
k?d.append(k.toString()):null!=g&&(d=b.com_ibm_vis_internal_accessibility_AccessibleInfo.mr$2(g),d=new b.com_ibm_rave_codegenerator_lang_StringBuilder(d))}return d.toString()};b.com_ibm_vis_internal_accessibility_AccessibleInfo.ml$1=function(a){var d;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,d.append(a);else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,d.append(a.toString());
else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a)){d=new b.com_ibm_rave_codegenerator_lang_StringBuilder;for(var c=0;c<b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a);++c)1<c&&d.append(","),d.append(a[c])}return d};b.com_ibm_vis_internal_accessibility_AccessibleInfo.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;d.populateFromSerialized(a);return d};b.com_ibm_vis_internal_accessibility_AccessibleInfo.BASE=
"base";b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY="fieldSummary";b.com_ibm_vis_internal_accessibility_AccessibleInfo.STACK_SUM="stackSum";b.com_ibm_vis_internal_accessibility_AccessibleInfo.CLUSTER_SUM="clusterSum";b.com_ibm_vis_internal_accessibility_AccessibleInfo.LINK_FROM="linkFrom";b.com_ibm_vis_internal_accessibility_AccessibleInfo.LINK_TO="linkTo";b.com_ibm_vis_internal_accessibility_AccessibleInfo.CHORD_FROM_VALUE="chordFrom";b.com_ibm_vis_internal_accessibility_AccessibleInfo.CHORD_TO_VALUE=
"chordTo";b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL="simpleLabel";b.com_ibm_vis_internal_accessibility_AccessibleInfo.TYPE="type";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_internal_accessibility_AccessibleInfo.ACCESSIBILITY=b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITY;b.com_ibm_vis_internal_accessibility_AccessibleInfo.GROUP="group";b.com_ibm_vis_internal_accessibility_AccessibleInfo.FIELD="field";b.com_ibm_vis_internal_accessibility_AccessibleInfo.LABEL="label";
b.com_ibm_vis_internal_accessibility_AccessibleInfo.ROLE="role";b.com_ibm_vis_internal_accessibility_AccessibleInfo.HINT="hint";b.com_ibm_vis_internal_accessibility_AccessibleInfo.IGNORE="ignore";b.com_ibm_vis_internal_accessibility_AccessibleInfo.STATE="state";b.com_ibm_vis_internal_accessibility_AccessibleInfo.FACET="facet";b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27=new b.com_ibm_rave_codegenerator_util_Set;b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("label");b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("role");
b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("hint");b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("stackSum");b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("clusterSum");b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("linkFrom");b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("linkTo");b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL);b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27.add("type");
b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9=new b.com_ibm_rave_codegenerator_util_Set;b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.addAll(b.com_ibm_vis_internal_accessibility_AccessibleInfo.se_27);b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add(b.com_ibm_vis_internal_accessibility_AccessibleInfo.ACCESSIBILITY);b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("state");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("group");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("field");
b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("base");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY);b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("facet");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("stackSum");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("clusterSum");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("linkFrom");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("linkTo");
b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("chordFrom");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("chordTo");b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL);b.com_ibm_vis_internal_accessibility_AccessibleInfo.re_9.add("type")});b.com_ibm_vis_engine_internal_struct_ShapeStyle=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_StyleInfo,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],
{insideStroke:!1,hidden:!1,snap:!1,getOutlineProperty:function(){return this.outline},getImageProperty:function(){return this.image},getEffectProperty:function(){return this.effect},getFillProperty:function(){return this.fill},getStrokeProperty:function(){return this.stroke},setEffect:function(a){this.effect=a},setStroke:function(a){this.stroke=a},setOutline:function(a){this.outline=a},setFill:function(a){this.fill=a},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("fill",this.fill));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("outline",this.outline));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("stroke",this.stroke));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("image",this.image));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("effect",
this.effect));a.addBoolean("insideStroke",this.insideStroke);a.addBoolean("hidden",this.hidden);a.addBoolean("snap",this.snap);return a},populateFromSerialized:function(a){this.fill=b.com_ibm_vis_engine_internal_Fill.createFromSerialized(a.getNodeById("fill"));this.outline=b.com_ibm_vis_engine_internal_ColorNew.createFromSerialized(a.getNodeById("outline"));this.stroke=b.com_ibm_vis_engine_internal_Stroke.createFromSerialized(a.getNodeById("stroke"));this.image=b.com_ibm_vis_engine_internal_ImageStyle.createFromSerialized(a.getNodeById("image"));
this.effect=b.com_ibm_vis_engine_internal_RenderEffects.createFromSerialized(a.getNodeById("effect"));this.hidden=a.getNodeById("hidden").asPrimitive().getBooleanValue$1(!1);this.insideStroke=a.getNodeById("insideStroke").asPrimitive().getBooleanValue$1(!1);this.snap=a.getNodeById("snap").asPrimitive().getBooleanValue$1(!1);return this}});b.com_ibm_vis_engine_internal_struct_ShapeStyle.makeCopy=function(a){if(!a)return null;var d=new b.com_ibm_vis_engine_internal_struct_ShapeStyle;d.fill=b.com_ibm_vis_engine_internal_Fill.makeCopy(a.fill);
d.outline=a.outline;d.stroke=a.stroke;d.image=a.image;d.effect=a.effect;d.insideStroke=a.insideStroke;d.hidden=a.hidden;d.snap=a.snap;return d};b.com_ibm_vis_engine_internal_struct_ShapeStyle.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_ShapeStyle;d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_struct_ArrowType=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{fe_6:!1,lt_1:0,mo_11:0,
constructor:function(a,d,c,e,g,k,s){this.mo_11=c;this.name=a;this.x=g;this.y=k;this.t=s;this.lt_1=d;this.fe_6=e;b.com_ibm_vis_engine_internal_struct_ArrowType.aw_1.put(a,this)},hashCode:function(){return this.name.hashCode()},getName:function(){return this.name},getLength:function(){return this.lt_1},isFilled:function(){return this.fe_6},getMiterFactor:function(){return this.mo_11},createArrowShape:function(a,d){for(var c=this.x.length,e=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([c],
0),k=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),s=b.com_ibm_vis_engine_internal_Affine.makeRotation(a.getAngle(),0,0),s=s.translate(a.getX(),a.getY()),s=s.scale(a.getSize()),f=0;f<c;++f){var u=s.transform(this.x[f],this.y[f]);e[f]=u.x;g[f]=u.y;k[f]=this.t[f]}c=new b.com_ibm_vis_engine_internal_struct_Path(e,g,this.fe_6,k);c.copyInfoFrom(d);c.setKey(d.getKey());c.setEdgeProperties(null,null,null,null);e=(e=c.getStroke())?e.createStrokeWithDashing(null):b.com_ibm_vis_engine_internal_Stroke.DEFAULT_STROKE;
c.setStroke(e);(e=e.co_3)||(e=d.getOutline());!e&&d.getFill()&&(e=d.getFill().si_1);c.setOutline(e?e:b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor());(this.fe_6||d.isFilled())&&c.setFill(b.com_ibm_vis_engine_internal_Fill.createFill(e?e:b.com_ibm_vis_engine_internal_ColorUtil.getDefaultFillColor(),null));return c},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.addString("name",this.name);return a},
populateFromSerialized:function(a){return this}});b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2=function(a,d,c,e,g,k,s){return new b.com_ibm_vis_engine_internal_struct_ArrowType(a,e,d,c,g,k,s)};b.com_ibm_vis_engine_internal_struct_ArrowType.byName=function(a){return b.com_ibm_vis_engine_internal_struct_ArrowType.aw_1.get(a)};b.com_ibm_vis_engine_internal_struct_ArrowType.createFromSerialized=function(a){if(a._l_1)return null;a=a.getNodeById("name").asPrimitive().getStringValue$0();return b.com_ibm_vis_engine_internal_struct_ArrowType.byName(a)};
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_struct_ArrowType.NONE="none";b.com_ibm_vis_engine_internal_struct_ArrowType.ARROW="arrow";b.com_ibm_vis_engine_internal_struct_ArrowType.ARROW_CLOSED=b.com_ibm_vis_internal_SpecConstants.CLOSEDARROW;b.com_ibm_vis_engine_internal_struct_ArrowType.ARROW_FILLED=b.com_ibm_vis_internal_SpecConstants.FILLEDARROW;b.com_ibm_vis_engine_internal_struct_ArrowType.DIAMOND="diamond";b.com_ibm_vis_engine_internal_struct_ArrowType.DIAMOND_FILLED=
b.com_ibm_vis_internal_SpecConstants.FILLEDDIAMOND;b.com_ibm_vis_engine_internal_struct_ArrowType.SQUARE="square";b.com_ibm_vis_engine_internal_struct_ArrowType.SQUARE_FILLED=b.com_ibm_vis_internal_SpecConstants.FILLEDSQUARE;b.com_ibm_vis_engine_internal_struct_ArrowType.CIRCLE="circle";b.com_ibm_vis_engine_internal_struct_ArrowType.CIRCLE_FILLED=b.com_ibm_vis_internal_SpecConstants.FILLEDCIRCLE;b.com_ibm_vis_engine_internal_struct_ArrowType.aw_1=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_struct_ArrowType.CD_1=
[1,.983,.933,.854,.75,.629,.5,.371,.25,.146,.067,.017,0,.017,.067,.146,.25,.371,.5,.629,.75,.854,.933,.983,0];b.com_ibm_vis_engine_internal_struct_ArrowType.CD_2=[0,.129,.25,.354,.433,.483,.5,.483,.433,.354,.25,.129,0,-.129,-.25,-.354,-.433,-.483,-.5,-.483,-.433,-.354,-.25,-.129,0];b.com_ibm_vis_engine_internal_struct_ArrowType.CE_1=[77,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,90];b.com_ibm_vis_engine_internal_struct_ArrowType.ArrowTypes=[b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.ARROW,
2,!1,.9,[.86,0,.86,0,.92],[.5,0,-.5,0,0],[77,76,76,77,76]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.ARROW_CLOSED,2,!1,.86,[.86,0,.86,0],[.5,0,-.5,0],[77,76,76,90]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.ARROW_FILLED,2,!0,.86,[.86,0,.86,0],[.5,0,-.5,0],[77,76,76,90]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.DIAMOND,1.4,!1,1,
[.5,0,.5,1,0],[.5,0,-.5,0,0],[77,76,76,76,90]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.DIAMOND_FILLED,1.4,!0,1,[.5,0,.5,1,0],[.5,0,-.5,0,0],[77,76,76,76,90]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.SQUARE,1,!1,1,[0,0,1,1,0],[.5,-.5,-.5,.5,0],[77,76,76,76,90]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.SQUARE_FILLED,1,!0,1,[0,
0,1,1,0],[.5,-.5,-.5,.5,0],[77,76,76,76,90]),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.CIRCLE,1,!1,1,b.com_ibm_vis_engine_internal_struct_ArrowType.CD_1,b.com_ibm_vis_engine_internal_struct_ArrowType.CD_2,b.com_ibm_vis_engine_internal_struct_ArrowType.CE_1),b.com_ibm_vis_engine_internal_struct_ArrowType.mp$2(b.com_ibm_vis_engine_internal_struct_ArrowType.CIRCLE_FILLED,1,!0,1,b.com_ibm_vis_engine_internal_struct_ArrowType.CD_1,b.com_ibm_vis_engine_internal_struct_ArrowType.CD_2,
b.com_ibm_vis_engine_internal_struct_ArrowType.CE_1)]});b.com_ibm_vis_scenetree_provisional_ElementInfo=b.com_ibm_init_declare.implement({getRows:function(){},getOriginalRows:function(){},getKey:function(){}});b.com_ibm_vis_engine_internal_struct_ShapeElementInfo=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_ElementInfo,b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable],{index:0,aestheticGroup:0,needsConsistentLabels:!0,colorAestheticOnlyChangesOutline:!1,setMeta:function(a,
d){this.meta||(this.meta=new b.com_ibm_rave_codegenerator_util_Map);null==d?this.meta.remove(a):this.meta.put(a,d.toString())},setAllMeta:function(a){this.meta||(this.meta=new b.com_ibm_rave_codegenerator_util_Map);this.meta.putAll(a)},getPosition:function(){return this.positions&&1==this.positions.length?this.positions[0]:null},setPosition:function(a){this.positions=[a]},getPositions:function(){return this.positions&&0<this.positions.length?this.positions:null},setPositions:function(a){this.positions=
a},getRows:function(){return this.rows},getOriginalRows:function(){return this.ow_1},setOriginalRows:function(a){this.ow_1=a},getStructuralRows:function(){return this.sw_1},setStructuralRows:function(a){this.sw_1=a},getKey:function(){return this.key},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableIntegerArray("rows",this.rows));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableIntegerArray("originalRows",
this.ow_1));a.addInteger("index",this.index);a.addInteger("aestheticGroup",this.aestheticGroup);a.addBoolean("needsConsistentLabels",this.needsConsistentLabels);a.addString("key",this.key);a.addBoolean("colorAestheticOnlyChangesOutline",this.colorAestheticOnlyChangesOutline);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("spanClipBounds",this.spanClipBounds));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringMap("meta",this.meta));
return a},populateFromSerialized:function(a){this.rows=a.getNodeById("rows").asPrimitiveArray().getValuesAsInteger();this.ow_1=a.getNodeById("originalRows").asPrimitiveArray().getValuesAsInteger();this.index=a.getNodeById("index").asPrimitive().getNumberValue$1(0);this.aestheticGroup=a.getNodeById("aestheticGroup").asPrimitive().getNumberValue$1(0);this.needsConsistentLabels=a.getNodeById("needsConsistentLabels").asPrimitive().getBooleanValue$1(!0);this.key=a.getNodeById("key").asPrimitive().getStringValue$0();
this.colorAestheticOnlyChangesOutline=a.getNodeById("colorAestheticOnlyChangesOutline").asPrimitive().getBooleanValue$1(!0);this.spanClipBounds=b.com_ibm_vis_geom_Rect.createFromSerialized(a.getNodeById("spanClipBounds"));this.meta=a.getNodeById("meta").asMap().getMap();return this}});b.com_ibm_vis_engine_internal_struct_ShapeElementInfo.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_ShapeElementInfo;d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableIntegerArray=
b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact,{constructor:function(a,b){this.aa_4=b},getValue:function(){return null},getValues:function(){return this.aa_4},asPrimitiveArray:function(){for(var a=Array(this.aa_4.length),d=0,c=0,e=this.aa_4,g=e.length;c<g;++c){var k=e[c];a[d++]=k}return new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray(this.id,a)},getType:function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType.PRIMITIVE_INTEGER_ARRAY}});
b.com_ibm_vis_engine_internal_struct_ShapeBoundsInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{scaleDimensions:0,scaleRelativeToParent:!1,constructor:function(a,d){this.scaleDimensions=3;this.originalX=a?b.com_ibm_rave_codegenerator_util_Arrays.copyOf(a,a.length):null;this.originalY=d?b.com_ibm_rave_codegenerator_util_Arrays.copyOf(d,d.length):null},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.addInteger("scaleDimensions",this.scaleDimensions);a.addBoolean("scaleRelativeToParent",this.scaleRelativeToParent);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("insets",this.insets));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray("originalX",this.originalX));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray("originalY",this.originalY));return a},populateFromSerialized:function(a){this.scaleDimensions=
a.getNodeById("scaleDimensions").asPrimitive().getNumberValue$1(3);this.scaleRelativeToParent=a.getNodeById("scaleRelativeToParent").asPrimitive().getBooleanValue$1(!1);this.insets=b.com_ibm_vis_engine_internal_struct_Insets.createFromSerialized(a.getNodeById("insets"));this.originalX=a.getNodeById("originalX").asPrimitiveArray().getValuesAsDouble();this.originalY=a.getNodeById("originalY").asPrimitiveArray().getValuesAsDouble();return this}});b.com_ibm_vis_engine_internal_struct_ShapeBoundsInfo.createFromSerialized=
function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_ShapeBoundsInfo(null,null);d.populateFromSerialized(a);return d};b.com_ibm_vis_scenetree_provisional_FieldInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{getId:function(){return this.fI_1},setId:function(a){this.fI_1=a},getValue:function(){return this.vu_14},setValue:function(a){this.vu_14=a},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);
a.addString("fieldId",this.fI_1);a.addObject("value",this.vu_14);return a},populateFromSerialized:function(a){this.fI_1=a.getNodeById("fieldId").asPrimitive().getStringValue$0();this.vu_14=a.getNodeById("value").asPrimitive().getValue();return this}});b.com_ibm_vis_scenetree_provisional_FieldInfo.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_scenetree_provisional_FieldInfo;d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_struct_ShapeEdgeInfo=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,
{createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("startArrow",this.startArrow));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("startArrowGeom",this.startArrowGeom));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("endArrow",this.endArrow));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("endArrowGeom",
this.endArrowGeom));a.addBoolean("preferHorizontal",this.preferHorizontal);a.addString("symbol",this.symbol);return a},populateFromSerialized:function(a){this.startArrow=b.com_ibm_vis_engine_internal_struct_ArrowType.createFromSerialized(a.getNodeById("startArrow"));this.startArrowGeom=b.com_ibm_vis_engine_internal_struct_ArrowGeom.createFromSerialized(a.getNodeById("startArrowGeom"));this.endArrow=b.com_ibm_vis_engine_internal_struct_ArrowType.createFromSerialized(a.getNodeById("endArrow"));this.endArrowGeom=
b.com_ibm_vis_engine_internal_struct_ArrowGeom.createFromSerialized(a.getNodeById("endArrowGeom"));this.preferHorizontal=a.getNodeById("preferHorizontal").asPrimitive().getBooleanValue$1(!1);this.symbol=a.getNodeById("symbol").asPrimitive().getStringValue$0();return this}});b.com_ibm_vis_engine_internal_struct_ShapeEdgeInfo.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_ShapeEdgeInfo;d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_struct_ArrowGeom=
b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{size:0,tz_1:0,x:0,y:0,al_4:0,constructor:function(a){this.type=a},configForStrokeWidth:function(a){a=a?a.wt_1:1;this.sz$4(Math.max(3*a,8));this.sz$3(a/2*this.type.getMiterFactor())},getX:function(){return this.x},setX:function(a){this.x=a},setPos:function(a,b){this.setX(a);this.setY(b)},getY:function(){return this.y},setY:function(a){this.y=a},getTipSize:function(){return this.tz_1},sz$3:function(a){this.tz_1=
a},getAngle:function(){return this.al_4},setAngle:function(a){this.al_4=a},getSize:function(){return this.size},sz$4:function(a){this.size=a},getLength:function(){return this.type.getLength()*this.size+this.tz_1},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("type",this.type));a.addDouble("size",this.size);a.addDouble("tipSize",this.tz_1);
a.addDouble("x",this.x);a.addDouble("y",this.y);a.addDouble("angle",this.al_4);return a},populateFromSerialized:function(a){this.size=a.getNodeById("size").asPrimitive().getNumberValue$1(0);this.tz_1=a.getNodeById("tipSize").asPrimitive().getNumberValue$1(0);this.x=a.getNodeById("x").asPrimitive().getNumberValue$1(0);this.y=a.getNodeById("y").asPrimitive().getNumberValue$1(0);this.al_4=a.getNodeById("angle").asPrimitive().getNumberValue$1(0);this.type=b.com_ibm_vis_engine_internal_struct_ArrowType.createFromSerialized(a.getNodeById("type"));
return this}});b.com_ibm_vis_engine_internal_struct_ArrowGeom.createFromSerialized=function(a){if(a._l_1)return null;var d=new b.com_ibm_vis_engine_internal_struct_ArrowGeom(null);d.populateFromSerialized(a);return d};b.com_ibm_vis_engine_internal_util_SceneIdUtil=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLegendBackgroundId=function(a){return null!=a&&a.CPVISEngineStartsWith("L")&&(a.CPVISEngineEndsWith(b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_FILL)||
a.CPVISEngineEndsWith(b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_STROKE))};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isPartId=function(a){return null==a?!1:-1!=a.indexOf("_",1)};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isCoordsId=function(a){return null!=a&&-1<a.indexOf("Coords")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId=function(a){return null!=a&&-1<a.indexOf("Out")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLeaderLine=function(a){return null==
a?!1:-1<a.indexOf("LN")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLabelPlaque=function(a){return null==a?!1:-1<a.indexOf("LB")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isStrokeId=function(a){return null!=a&&-1<a.indexOf("InStroke")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isBackId=function(a){return null!=a&&-1<a.indexOf("ack")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getMainId=function(a){var b=a.indexOf("_",1);return 0>b?a:a.substring(0,b)};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneItem=
function(a){var d=a.id;if(null!=d)return b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(d);a=a.children;if(!a)return null;for(var c=a.length,e=0;e<c;++e)if(d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneItem(a[e]),null!=d)return b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(d);return null};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isElementGroup=function(a){return-1<a.indexOf("V")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.addGroupId=function(a){var d=a.getId();
if(null==d&&(d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getFirstIdAvailable(a),null!=d)){var c=d.lastIndexOf("V");if(-1==c)var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(d),e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getElementMemberKeyFromId(d),d=c+"V"+e;else e=d.substring(c),d+=e;a.setId(d)}};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getFirstIdAvailable=function(a){var d=a.getId();if(null!=d)return d;var c=a.getChildren();if(!c||0==c.size())return null;for(var c=c.size(),
e=0;e<c;++e)if(d=a.getChild(e),d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getFirstIdAvailable(d),null!=d)return d;return null};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode=function(a){var d=a.getId();if(null!=d)return b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(d);var c=a.getChildren();if(!c||0==c.size())return null;for(var c=c.size(),e=0;e<c;++e)if(d=a.getChild(e),d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(d),null!=d)return b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(d);
return null};b.com_ibm_vis_engine_internal_util_SceneIdUtil.clipLegendIdToNavigableId=function(a){if(null==a||76!=a.charCodeAt(0))return a;var b=a.indexOf("S");return 0<b?a.substring(0,b):a};b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId=function(a){return 0==a.indexOf("L")?b.com_ibm_vis_engine_internal_util_SceneIdUtil.gI$6(a):-1!=a.indexOf("A")?b.com_ibm_vis_engine_internal_util_SceneIdUtil.getAxisBaseId(a):-1!=a.indexOf("E")?b.com_ibm_vis_engine_internal_util_SceneIdUtil.gI$5(a):-1!=a.indexOf("D")?
b.com_ibm_vis_engine_internal_util_SceneIdUtil.gi$10(a):a};b.com_ibm_vis_engine_internal_util_SceneIdUtil.gi$10=function(a){var b=a,c=a.indexOf("T");-1!=c&&(b=a.substring(0,c));return b};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getFacetIndex=function(a){if(null==a||0!=a.indexOf("F"))return null;var b=a.indexOf("G");return a.substring(1,b)};b.com_ibm_vis_engine_internal_util_SceneIdUtil.stripFacetIndexFromId=function(a){if(null==a||0!=a.indexOf("F"))return a;var b=a.lastIndexOf("F"),c=a.indexOf("G");
-1==c&&(c=b+2);return a.substring(0,b+1)+a.substring(c)};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isFaceted=function(a){return null!=a&&0==a.indexOf("F")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isAxisID=function(a){return null!=a&&0==a.indexOf("A")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isGridBandId=function(a){return null!=a&&-1<a.indexOf("A")&&-1<a.indexOf("B")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.setFacetIndexInId=function(a,b){if(null==a||null==b)return a;var c=
a.indexOf("FF");if(-1<c)return a.substring(0,c+1)+b+a.substring(c+1);c=a.indexOf("FG");return-1==c?a:a.substring(0,c+1)+b+a.substring(c+1)};b.com_ibm_vis_engine_internal_util_SceneIdUtil.gI$5=function(a){var b=a.indexOf("S");if(-1!=b)return a.substring(0,b);b=a.indexOf("L");if(-1!=b)return a.substring(0,b);b=a.indexOf("V");return-1!=b?a.substring(0,b):a};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getCoordinateKey=function(a){var b=a.indexOf("Coords");if(-1<b)return a.substring(0,b);b=a.indexOf("G");
if(-1==b)return null;var c=a.indexOf("A");if(c>b)return a.substring(b,c);c=a.indexOf("E");return c>b?a.substring(b,c):null};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex=function(a){var b=a.indexOf("G");if(-1==b)return null;var c=a.indexOf("A");if(c>b)return a.substring(b,c);c=a.indexOf("E");if(c>b)return a.substring(b,c);c=a.indexOf("Coords");if(c>b)return a.substring(b,c);c=a.indexOf("Out");if(c>b)return a.substring(b,c);c=a.indexOf("ack");return c>b?a.substring(b,c-1):null};b.com_ibm_vis_engine_internal_util_SceneIdUtil.replaceGrammarIndex=
function(a,b){var c=a.indexOf("G");if(-1==c)return a;var e=a.indexOf("A");if(e>c)return a.substring(0,c)+b+a.substring(e);e=a.indexOf("E");if(e>c)return a.substring(0,c)+b+a.substring(e);e=a.indexOf("Coords");if(e>c)return a.substring(0,c)+b+a.substring(e);e=a.indexOf("Out");return e>c?a.substring(0,c)+b+a.substring(e):a};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getAxisBaseId=function(a){var b=a.indexOf("T");if(-1!=b)return a.substring(0,b);b=a.indexOf("L");if(-1!=b)return a.substring(0,b);
b=a.indexOf("M");if(-1!=b)return a.substring(0,b);b=a.indexOf("N");if(-1!=b)return a.substring(0,b);b=a.indexOf("B");if(-1!=b)return a.substring(0,b+1);var b=a.indexOf("G"),c=a.lastIndexOf("G");return c!=b?a.substring(0,c+1):a};b.com_ibm_vis_engine_internal_util_SceneIdUtil.gI$6=function(a){if(0<a.indexOf("ack"))return null;var b=a.indexOf("LE");if(0<b)return a.substring(0,b);b=a.indexOf("T");return 0<b?a.substring(0,b):a};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isGraphNode=function(a,b){if(!b||
"element"!=a.getType())return!1;var c=a.getID();return null!=c&&(0<=c.indexOfCharCode(70)||0<=c.indexOfCharCode(76)||0<=c.indexOf("V"))?!1:b.layout&&b.layout.isGraph()};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getElementMemberKeyFromId=function(a){var d=a.indexOf("S");if(-1!=d)return a=a.substring(d+1),b.com_ibm_vis_engine_internal_util_SceneIdUtil.getMainId(a);d=a.indexOf("L");if(-1==d||-1!=a.indexOf("LB")||-1!=a.indexOf("LN"))return null;var c=a.indexOf("P");return b.com_ibm_vis_engine_internal_util_SceneIdUtil.getMainId(a.substring(d+
1,c))};b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID=function(a,d){if(null!=a){var c=a.indexOfCharCode(d)+1,e=a.length;if(0<c){var g=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(c,c+1));if(g!=g)return null;if(e<c+2)return Math.round(g);var k=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(c,c+2));if(k!=k)return Math.round(g);if(e<c+3)return Math.round(k);c=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(c,c+3));
return Math.round(c!=c?k:c)}}return null};b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElement=function(a){return null==a?!1:-1<a.indexOf("E")?a.match("^[FG0-9]*E.*")||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(a):!1};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape=function(a){return-1<a.indexOf("_")&&1<a.indexOf(".XH")};b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElementShape=function(a){return null!=a&&-1<a.indexOf("E")&&-1<a.indexOf("S")?
a.match("^[FG0-9]*E.*S.*$")||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(a):!1};b.com_ibm_vis_engine_internal_util_SceneIdUtil.isNavigable=function(a){return-1!=a.indexOf("N")||-1!=a.indexOf("B")||0<a.indexOf("A")&&-1!=a.indexOf("L")?!1:!0};b.com_ibm_vis_engine_internal_util_SceneIdUtil.STROKE="stroke";b.com_ibm_vis_engine_internal_util_SceneIdUtil.CHILDREN="children";b.com_ibm_vis_engine_internal_util_SceneIdUtil.TYPE="type";b.com_ibm_vis_engine_internal_util_SceneIdUtil.ID="id";
b.com_ibm_vis_engine_internal_util_SceneIdUtil.BACK="ack";b.com_ibm_vis_engine_internal_util_SceneIdUtil.UNDERSCORE="_";b.com_ibm_vis_engine_internal_util_SceneIdUtil.WIDTH="width";b.com_ibm_vis_engine_internal_util_SceneIdUtil.HEIGHT="height";b.com_ibm_vis_engine_internal_util_SceneIdUtil.SHAPE="shape";b.com_ibm_vis_engine_internal_util_SceneIdUtil.LB="LB";b.com_ibm_vis_engine_internal_util_SceneIdUtil.LE="LE";b.com_ibm_vis_engine_internal_util_SceneIdUtil.TITLE="title";b.com_ibm_vis_engine_internal_util_SceneIdUtil.GROUP=
"V";b.com_ibm_vis_engine_internal_util_SceneIdUtil.COORDS="Coords";b.com_ibm_vis_engine_internal_util_SceneIdUtil.OUT="Out";b.com_ibm_vis_engine_internal_util_SceneIdUtil.INSTROKE="InStroke";b.com_ibm_vis_engine_internal_util_SceneIdUtil.TITLE_PREFIX="D";b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEADER_LINE="LN";b.com_ibm_vis_engine_internal_util_SceneIdUtil.LABEL_BACKGROUND="LB";b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_FILL="-legendBackgroundFill";b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_STROKE=
"-legendBackgroundStroke";b.com_ibm_vis_engine_internal_util_SceneTreeUtil=b.com_ibm_init_declare({constructor:function(a){this.sn_16=a},getElementGroups:function(){var a=new b.com_ibm_rave_codegenerator_util_List;this.ap$7(this.sn_16,b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT,a);return a},ap$7:function(a,b,c){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e],s=k.getChildren();b==k.getType()&&c.add(s);this.ap$7(s,b,c)}},getGrammarInnerShapes:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,
d=this.sn_16.size(),c=0;c<d;++c){var e=this.sn_16.get(c),g=e.getId();b.com_ibm_vis_engine_internal_util_SceneIdUtil.isCoordsId(g)&&a.add(e)}return a.toArray(Array(a.size()))}});b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds=function(a){if(a&&a.getShape()){var d=a.getShape();a=d.getNodeBounds();d=d.getStrokeWidth();return new b.com_ibm_vis_geom_Rect(a.x-d/2,a.y-d/2,a.wt_3+d,a.hh_2+d)}return null};b.com_ibm_vis_engine_internal_util_SceneTreeUtil.splitSceneForCustomPanel=function(a){var d=
new b.com_ibm_vis_scenetree_provisional_SceneTree;d.copyInfoFrom(a);var c=0;a=a.root.getChildren().arrayIterator();for(var e=a.length;c<e;++c){var g=a[c],k=g.getId();null!=k&&(b.com_ibm_vis_engine_internal_util_SceneIdUtil.isBackId(k)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId(k)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isCoordsId(k))&&(k=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode(g),d.root.addChild(k),k=g.getShape())&&(k.setFill(b.com_ibm_vis_engine_internal_Fill.createFill(b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT,
null)),k.setOutline(b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT),g.invalidateRenderInfo())}d.finalizeTree();return d};b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getTransformOffset=function(a){a=a.getTransform();return a?(a=a.getAffine())?a.transform(0,0):new b.com_ibm_vis_geom_Point(0,0):new b.com_ibm_vis_geom_Point(0,0)};b.com_ibm_vis_engine_internal_util_SceneTreeUtil.scaleBy=function(a,d){if(a){var c=a.root,e=c.getTransform();e||(e=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl,
c.setTransform(e));(c=e.getAffine())||(c=b.com_ibm_vis_engine_internal_Affine.identity());e.setAffine(c.scale(d))}};b.com_ibm_vis_scenetree_provisional_SceneTree=b.com_ibm_init_declare(b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable,{constructor:function(){this.root=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(null);this.lo_1=null;this.sz_4=new b.com_ibm_vis_geom_Dim(0,0);this.ia_5=null},copyInfoFrom:function(a){a&&a!=this&&(this.lo_1=a.lo_1,this.sz_4=new b.com_ibm_vis_geom_Dim(a.sz_4.wt_2,
a.sz_4.hh_1),(a=a.root.getTransform().getAffine())||(a=b.com_ibm_vis_engine_internal_Affine.identity()),this.root.getTransform().setAffine(a))},finalizeTree:function(){this.root.finalizeTree(!1,0);return this},getRoot:function(){return this.root},setLocalization:function(a){this.lo_1=a},getLocalization:function(){return this.lo_1},setSize:function(a){this.sz_4=new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1)},getSize:function(){return this.sz_4},getScaledSize:function(){var a=this.sz_4,d=this.root.getScale();
return new b.com_ibm_vis_geom_Dim(a.wt_2*d.x,a.hh_1*d.y)},ga$5:function(){this.ia_5||(this.ia_5=new b.com_ibm_rave_codegenerator_util_Map,this.ba$4(this.root));return this.ia_5},ba$4:function(a){if(a){var b=a.getId();null!=b&&this.ia_5.put(b,a);b=0;a=a.getChildren().arrayIterator();for(var c=a.length;b<c;++b)this.ba$4(a[b])}},findNode:function(a){return null==a?null:this.ga$5().get(a)},addNodeID:function(a){var b=a.getId();null!=b&&this.ga$5().put(b,a)},removeNodeID:function(a){a=a.getId();null!=
a&&this.ga$5().remove(a)},getAllNodeIDs:function(){return this.ga$5().keySet()},createSerializableComposite:function(){var a=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite(null);a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("root",this.root));var d=new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite("localization");this.lo_1&&(d.addString("baseTextDirection",this.lo_1.baseTextDirection),a.add(d));a.add(new b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject("sceneSize",
this.sz_4));return a},populateFromSerialized:function(a){this.root.populateFromSerialized(a.getNodeById("root"));var d=a.getNodeById("sceneSize");this.sz_4.populateFromSerialized(d);this.lo_1=new b.com_ibm_vis_spec_internal_LocalizationSpec;a=a.getNodeById("localization");this.lo_1.baseTextDirection=a.asPrimitive().getStringValue$0();return this}});b.com_ibm_vis_internal_renderer_GraphicsRenderer=b.com_ibm_init_declare.implement();b.com_ibm_vis_internal_renderer_NodeRendererProvider=b.com_ibm_init_declare.implement();
b.com_ibm_vis_internal_renderer_NodeRendererRegistry=b.com_ibm_init_declare(b.com_ibm_vis_internal_renderer_NodeRendererProvider,{constructor:function(){this.nr_7=Array(9)},register:function(a,b){this.nr_7[b]=a},getNodeRenderer:function(a){(a=this.nr_7[a])||(a=this.nr_7[8]);return a}});b.com_ibm_vis_internal_renderer_RenderContext=b.com_ibm_init_declare({});b.com_ibm_vis_internal_renderer_RenderContext.BASE_TEXT_DIRECTION_RTL=2;b.com_ibm_vis_internal_renderer_RenderContext.BASE_TEXT_DIRECTION_LTR=
1;b.com_ibm_vis_internal_renderer_RenderContext.BASE_TEXT_DIRECTION_DEFAULT=0;b.com_ibm_vis_internal_renderer_RenderContext.SHADOW_POSTPASS=2;b.com_ibm_vis_internal_renderer_RenderContext.SHADOW_PREPASS=1;b.com_ibm_vis_internal_renderer_RenderContext.SHADOW_DEFAULT=0;b.com_ibm_vis_internal_renderer_NodeRenderer=b.com_ibm_init_declare({render:function(a,d,c,e,g,k){if(c&&d.getTransform()){var s=d.getTransform().getAffine();s&&!s.isIdentity()&&(c=s.getInverse().transformBoundingBox(c))}var f=d.getRenderInfo(),
s=f.getRenderGeom(),f=f.getRenderText(),u=!f||1!=g;u&&(f||s)&&(u=c?(s=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.getNodeDirtyArea(d.getRenderInfo()))&&s.intersectsRect(c):!0);if(u||!d.getChildren().isEmpty())u&&!d.od_1&&(a.saveGraphicsState(d.getTransform(),d.getClipBounds()),2>k?2!=g&&this.renderNode(a,d,e,0,k):this.renderNode(a,d,e,g,k)),d.od_1||this.renderChildren(a,d,c,e,g,k),u&&!d.od_1&&a.restoreGraphicsState()},renderChildren:function(a,b,c,e,g,k){var s=b.getChildren();
if(!s.isEmpty()){b=a.getNodeRendererProvider();for(var f=0,s=s.arrayIterator(),u=s.length;f<u;++f){var h=s[f];b.getNodeRenderer(h.getRenderType()).render(a,h,c,e,g,k+1)}}},renderNode:function(a,b,c,e,g){},canRenderShadow:function(a,b,c){return a&&(0==b||!c&&1==b||c&&2==b)},canRenderGlow:function(a,b){return a&&(0==b||2==b)}});b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager=b.com_ibm_init_declare({gt_5:!1,constructor:function(){this.gt_5=!1;this.pe_21=new b.com_ibm_rave_codegenerator_util_HashSet;
this.te_15=new b.com_ibm_rave_codegenerator_util_HashSet;this.ke_1=null},makeGloballyDirty:function(){this.gt_5=!0},reset:function(a){a||(this.pe_21.clear(),this.te_15.clear(),this.ke_1=null);this.gt_5=!0},modifyNode:function(a){this.mt$16(a)},addNode:function(a){this.mt$16(a)},removeNode:function(a){this.ke_1=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21(this.ke_1,a);a.isDirtyDirectly()&&(this.dn$6(a),this.pe_21.remove(a),this.te_15.remove(a),a.pt_3=!1,a.tt_4=!1)},makePersistentlyDirty:function(a){if(!a.pt_3){this.ke_1=
b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21(this.ke_1,a);var d=a.isDirtyDirectly();a.pt_3=!0;this.pe_21.add(a);d||this.in$10(a)}},clearPersistentlyDirty:function(a){this.ke_1=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21(this.ke_1,a);a.pt_3&&(a.pt_3=!1,this.pe_21.remove(a),a.isDirty()||this.dn$6(a))},renderComplete:function(){this.gt_5=!1;for(var a=0,b=this.te_15.arrayIterator(),c=b.length;a<c;++a){var e=b[a];e.tt_4=!1;e.isDirty()||this.dn$6(e)}this.te_15.clear()},
mt$16:function(a){this.ke_1=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21(this.ke_1,a);if(!a.tt_4){var d=a.isDirtyDirectly();a.tt_4=!0;this.te_15.add(a);d||this.in$10(a)}},in$10:function(a){var b=!0;for(a=a.getParent();a&&b;)b=!a.isDirty(),a.dn_5+=1,a=a.getParent()},dn$6:function(a){var b=!0;for(a=a.getParent();a&&b;)--a.dn_5,b=!a.isDirty(),a=a.getParent()},getSceneDirtyArea:function(){for(var a=null,d=0,c=this.pe_21.arrayIterator(),e=c.length;d<e;++d){var g=c[d];g.pt_3&&
(a=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21(a,g))}d=this.ke_1&&a?[Math.min(this.ke_1[0],a[0]),Math.min(this.ke_1[1],a[1]),Math.max(this.ke_1[2],a[2]),Math.max(this.ke_1[3],a[3])]:this.ke_1?this.ke_1:a?a:null;this.ke_1=a;if(this.gt_5)return b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.makeAll();if(!d)return b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.makeNone();a=Math.floor(d[0]);c=Math.floor(d[1]);e=Math.ceil(d[2]);d=Math.ceil(d[3]);return b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.makeSome(new b.com_ibm_vis_geom_Rect(a,
c,e-a,d-c))},isGloballyDirty:function(){return this.gt_5},getPersistentlyDirtyNodes:function(){return this.pe_21},getTemporarilyDirtyNodes:function(){return this.te_15},getKnownDirtyArea:function(){return this.ke_1?[this.ke_1[0],this.ke_1[1],this.ke_1[2],this.ke_1[3]]:null}});b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21=function(a,d){var c=a,e=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.getNodeDirtyArea(d.getRenderInfo());if(e){var g=d.getNetTransform();
g&&!g.isIdentity()&&(e=g.transformBoundingBox(e));c?(c[0]=Math.min(c[0],e.x),c[1]=Math.min(c[1],e.y),c[2]=Math.max(c[2],e.getX2()),c[3]=Math.max(c[3],e.getY2())):c=[e.x,e.y,e.getX2(),e.getY2()]}for(var e=0,g=d.getChildren().arrayIterator(),k=g.length;e<k;++e)c=b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.ae$21(c,g[e]);return c};b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager.getNodeDirtyArea=function(a){var d=a.getRenderBounds();if(!d)return null;var c=a.getRenderStroke(),
e=1.5*(c?c.wt_1:0)+2,c=d.x-e/2,g=d.y-e/2,k=d.wt_3+e,d=d.hh_2+e,s=a.getRenderEffects();if(s){var e=c,f=g,u=k,h=d,l=s.glow;if(l)var m=3*Math.abs(l.se_4)+1,e=e-m,f=f-m,u=u+2*m,h=h+2*m;var l=c,p=g,q=k,r=d;if(s=s.so_5)l+=s.dx,p+=s.dy,m=3*Math.abs(s.se_4)+1,l-=m,p-=m,q+=2*m,r+=2*m;k=Math.max(c+k,Math.max(e+u,l+q));d=Math.max(g+d,Math.max(f+h,p+r));c=Math.min(c,Math.min(e,l));g=Math.min(g,Math.min(f,p));k-=c;d-=g}(a=a.getNode().getShape())&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text)&&
(e=a.getNumLines(),f=a.getFont(),e*=f.getAscent()+f.getDescent(),d+=e,g-=e,a=.25*a.getWidth(),k+=a);return new b.com_ibm_vis_geom_Rect(c,g,k,d)};b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea=b.com_ibm_init_declare({type:0,constructor:function(a,b){this.type=a;this.dl_6=b},getType:function(){return this.type},getDirtyRectangle:function(){return this.dl_6}});b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.makeNone=function(){return b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.DN_5};
b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.makeSome=function(a){return new b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea(1,a)};b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.makeAll=function(){return b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.DL_4};b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.NONE=0;b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.SOME=1;b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.ALL=
2;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.DN_5=new b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea(0,null);b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea.DL_4=new b.com_ibm_vis_engine_internal_interaction_effect_DirtyArea(2,null)});b.com_ibm_vis_scenetree_internal_NodeRendererType=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_NodeRendererType.GROUP=0;b.com_ibm_vis_scenetree_internal_NodeRendererType.RECT=
1;b.com_ibm_vis_scenetree_internal_NodeRendererType.CIRCLE=2;b.com_ibm_vis_scenetree_internal_NodeRendererType.LINE=3;b.com_ibm_vis_scenetree_internal_NodeRendererType.CURVE=4;b.com_ibm_vis_scenetree_internal_NodeRendererType.POLY=5;b.com_ibm_vis_scenetree_internal_NodeRendererType.COMPOSITE=6;b.com_ibm_vis_scenetree_internal_NodeRendererType.TEXT=7;b.com_ibm_vis_scenetree_internal_NodeRendererType.ANY=8;b.com_ibm_vis_geom_GeomType=b.com_ibm_init_declare.implement();b.com_ibm_vis_geom_GeomType.line=
1E3;b.com_ibm_vis_geom_GeomType.circle=1001;b.com_ibm_vis_geom_GeomType.rect=1002;b.com_ibm_vis_geom_GeomType.poly=1003;b.com_ibm_vis_geom_GeomType.curve=1004;b.com_ibm_vis_geom_GeomType.roundedRect=1005;b.com_ibm_vis_geom_GeomType.wedge=1006;b.com_ibm_vis_geom_GeomType.composite=1007;b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasNodeRenderer=function(){return{register:function(a){function d(a,b){var d=a.getColorString();if(!d){var d=a.getRGBA(),c=d[3];if(!b&&5E-4>=c)return"rgba(0,0,0,0)";
d="rgba("+(d[0]|0)+","+(d[1]|0)+","+(d[2]|0)+","+(b&&h&&.5>c?.5:.9995<=c?1:c)+")";a.setColorString(d)}return d}function c(a,d,c,e,g,k){e=[c,e].concat(g);g=4===g.length?"quadraticCurveTo":"bezierCurveTo";c=[];var s=e,f=0;e=0;var v,u=0;k?(v=k.l,u=k.i):v=d[0];for(;1>e;)e=b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_BezierUtils.tAtLength(s,v),1==e&&(k=b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_BezierUtils.computeLength(s),f={l:v-k,i:u}),k=b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_BezierUtils.splitBezierAtT(s,
e),u%2||c.push(k[0]),s=k[1],++u,v=d[u%d.length];d=f;for(k=0;k<c.length;++k)e=c[k],a.moveTo(e[0],e[1]),a[g].apply(a,e.slice(2));return d}function e(a,d,c,e,g,k,s){var f=0,v=0,u=0,h=b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_BezierUtils.distance(c,e,g,k),l=0,I=c,m=e,p;s?(u=s.l,l=s.i):u+=d[0];for(;.01<Math.abs(1-v);)u>h&&(f={l:u-h,i:l},u=h),v=u/h,s=c+(g-c)*v,p=e+(k-e)*v,l++%2||(a.moveTo(I,m),a.lineTo(s,p)),I=s,m=p,u+=d[l%d.length];return f}var g=!1;window.CanvasRenderingContext2D&&(g="function"==
typeof document.createElement("canvas").getContext("2d").setLineDash);var k=2*Math.PI,s=la("mozilla"),f=la("android")&&0<=navigator.userAgent.indexOf("Android 4.0.3"),u=!g&&!s,h=b.com_ibm_vis_widget_Environment._checkAppleDevice(),l={},m=b.com_ibm_init_declare(b.com_ibm_vis_internal_renderer_NodeRenderer,{_renderShape:function(a,b,d,c){},renderNode:function(a,d,c,e,g){var k=d.getRenderInfo();if(d=k.getRenderGeom()){a=a.getContext();c=k.getRenderImage();g=k.getRenderFill();var s=k.getRenderStroke();
if(!u||g||s&&!b.com_ibm_vis_internal_renderer_Dashing.hasDashArray(s.getDashing()))e==b.com_ibm_vis_internal_renderer_RenderContext.SHADOW_PREPASS&&(a.save(),a.translate(15E4,15E4)),this._renderShape(a,d),e==b.com_ibm_vis_internal_renderer_RenderContext.SHADOW_PREPASS&&a.restore();e=this._initEffects(k.getRenderEffects(),e);this._applyGlowStyle(a,e.glowStyle);(e=e.shadowStyle)?(e.shadowOffsetX-=15E4,e.shadowOffsetY-=15E4,g&&(!g.getSolid()||0<g.getSolid().getRGBA()[3])?(a.save(),this._applyShadowStyle(a,
e),this._renderFill(a,g,!0),a.restore()):(this._renderFill(a,g,!0),this._applyShadowStyle(a,e))):this._renderFill(a,g,!0);this._renderStroke(a,d,s,!0);c&&this._renderImage(a,c)}},_renderFill:function(a,c,e){if(!c)return!1;if(c.getSolid()){c=d(c.getSolid());if("rgba(0,0,0,0)"===c)return!1;a.fillStyle=c}else{var g;if(c.getType()==b.com_ibm_vis_engine_internal_GradientType.radial){g=c.getCx();var k=c.getCy();g=a.createRadialGradient(g,k,0,g,k,c.getCr())}else g=a.createLinearGradient(c.getX1(),c.getY1(),
c.getX2(),c.getY2());k=c.getOffsets();c=c.getColors();for(var s=0;s<k.length;s++)g.addColorStop(k[s],d(c[s],!0));a.fillStyle=g}e&&a.fill();return!0},_renderStroke:function(a,c,e,k){if(!e)return!1;var f=e.getColor();if(!f)return!1;f=d(f);if("rgba(0,0,0,0)"===f)return!1;a.strokeStyle=f;var v=e.getWidth(),f=e.getCap();a.lineWidth=v;a.lineCap=f;var u=e.getJoin();"number"==typeof u?(a.lineJoin="miter",a.miterLimit=u):a.lineJoin=u;if(e=e.getDashing())if(e=b.com_ibm_vis_internal_renderer_Dashing.getDashArray(e)){e=
e.slice();u=e.length;v=Math.max(1,v);if(1!=v)for(var h=0;h<u;++h)e[h]*=v;if(f&&"butt"!=f){for(h=0;h<u;h+=2)e[h]-=v,0>=e[h]&&(e[h]=.001);for(h=1;h<u;h+=2)e[h]+=v}g?a.setLineDash(e):s?a.mozDash=e:this._renderShape(a,c,e)}k&&a.stroke();return!0},_renderImage:function(a,b){var d=b.getAlpha();if(b&&!(0>=d)){var c=b.getImageResource().getNativeResource();if(c&&0!=c.getWidth()&&0!=c.getHeight()){var e=new Image;e.src=c.getPathName();a.save();a.clip();1>d&&(a.globalAlpha=d);d=b.getX();c=b.getY();if("texture"==
b.getMethod())a.fillStyle=a.createPattern(e,"repeat"),0===d&&0===c||a.translate(d,c),a.fill();else{var g=b.getWidth(),k=b.getHeight(),s=b.getTransformInfo().getAffine();s&&a.transform(s.m00,s.m10,s.m01,s.m11,s.m02,s.m12);a.drawImage(e,d,c,g,k)}a.restore()}}},_initEffects:function(a,b){if(a&&!f){var c=a.getShadow(),e=a.getGlow();return{shadowStyle:this.canRenderShadow(c,b,this.isText)?{shadowOffsetX:c.getDX(),shadowOffsetY:c.getDY(),shadowBlur:2*c.getStdDev(),shadowColor:d(c.getColor())}:null,glowStyle:this.canRenderGlow(e,
b)?{shadowColor:d(e.getColor()),shadowBlur:2*e.getStdDev()}:null}}return l},_applyShadowStyle:function(a,b){b&&(a.shadowOffsetX=b.shadowOffsetX,a.shadowOffsetY=b.shadowOffsetY,a.shadowBlur=b.shadowBlur,a.shadowColor=b.shadowColor)},_applyGlowStyle:function(a,b){b&&(a.shadowColor=b.shadowColor,a.shadowBlur=b.shadowBlur)}}),p=b.com_ibm_init_declare(m,{_renderShape:function(a,d,c,e){e||a.beginPath();if(e=d.getParts())for(var g=0;g<e.length;++g){var k=e[g];k.type()==b.com_ibm_vis_geom_GeomType.line?y._renderShape(a,
k,c,!0):k.type()==b.com_ibm_vis_geom_GeomType.rect?z._renderShape(a,k,c,!0):k.type()==b.com_ibm_vis_geom_GeomType.circle?A._renderShape(a,k,c,!0):k.type()==b.com_ibm_vis_geom_GeomType.poly?C._renderShape(a,k,c,!0):k.type()==b.com_ibm_vis_geom_GeomType.curve?E._renderShape(a,k,c,!0):k.type()==b.com_ibm_vis_geom_GeomType.composite&&this._renderShape(a,k,c,!0)}d.filled()&&a.closePath()}}),q=b.com_ibm_init_declare(m,{_renderShape:function(a,b,d,c){c||a.beginPath();d?e(a,d,b.getX1(),b.getY1(),b.getX2(),
b.getY2()):(a.moveTo(b.getX1(),b.getY1()),a.lineTo(b.getX2(),b.getY2()))}}),r=b.com_ibm_init_declare(m,{_renderShape:function(a,b,d,c){if(d){c||a.beginPath();c=b.getX();var g=b.getY(),k=c+b.getWidth();b=g+b.getHeight();var s=e(a,d,c,g,k,g);e(a,d,k,g,k,b,s);e(a,d,k,b,c,b,s);e(a,d,c,b,c,g,s)}else c?(c=b.getX(),g=b.getY(),k=c+b.getWidth(),b=g+b.getHeight(),a.moveTo(c,g),a.lineTo(k,g),a.lineTo(k,b),a.lineTo(c,b),a.lineTo(c,g)):(a.beginPath(),a.rect(b.getX(),b.getY(),b.getWidth(),b.getHeight()))}}),t=
b.com_ibm_init_declare(m,{_renderShape:function(a,b,d,c){c||a.beginPath();c=b.getR();if(0<c)if(d){var e=b.getX();b=b.getY();for(var g=0,s,f=0,v=d.length;g<k;++f)s=d[f%v]/c,f%2||(a.moveTo(e,b),a.arc(e,b,c,g,g+s,0)),g+=s}else a.arc(b.getX(),b.getY(),c,0,k,1)}}),w=b.com_ibm_init_declare(m,{_renderShape:function(a,b,d,c){var g=b.getX();if(!(1>g.length)){var k=b.getY();c||a.beginPath();a.moveTo(g[0],k[0]);c=g[0];for(var s=k[0],f,v=1;v<g.length;v++)if(c!=g[v]||s!=k[v])d?f=e(a,d,c,s,g[v],k[v],f):a.lineTo(g[v],
k[v]),c=g[v],s=k[v];b.filled()&&a.closePath()}}}),x=b.com_ibm_init_declare(m,{_renderShape:function(a,b,d,g){var k=b.getX();if(!(1>k.length)){var s=b.getY(),f=b.getControls();g||a.beginPath();a.moveTo(k[0],s[0]);g=k[0];for(var v=s[0],u,h=1;h<k.length;)if(f[h])if(f[h+1])d?(l=[k[h],s[h],k[h+1],s[h+1],k[h+2],s[h+2]],u=c(a,d,g,v,l,u)):a.bezierCurveTo(k[h],s[h],k[h+1],s[h+1],k[h+2],s[h+2]),g=k[h+2],v=s[h+2],h+=3;else{if(d){var l=[k[h],s[h],k[h+1],s[h+1]];u=c(a,d,g,v,l,u)}else a.quadraticCurveTo(k[h],s[h],
k[h+1],s[h+1]);g=k[h+1];v=s[h+1];h+=2}else{if(g!=k[h]||v!=s[h])d?u=e(a,d,g,v,k[h],s[h],u):a.lineTo(k[h],s[h]),g=k[h],v=s[h];h++}b.filled()&&a.closePath()}}}),m=b.com_ibm_init_declare(m,{isText:!0,renderNode:function(a,b,d,c,e){a=a.getContext();b=b.getRenderInfo();if(e=this._renderFill(a,b.getRenderFill(),!1))c=this._initEffects(b.getRenderEffects(),c),this._applyGlowStyle(a,c.glowStyle),this._applyShadowStyle(a,c.shadowStyle),this._renderShape(a,b,d,e)},_renderShape:function(a,d,c,e,g){d=d.getRenderText();
g=d.getTextAlign();a.textAlign="middle"===g?"center":g;if(g=d.getFont())g=(g.getStyle()||"normal")+" normal "+(g.getWeight()||"normal")+" "+g.getSize()+"px "+(g.getFamily()||"serif"),a.font=g;g=d.getAnchorPoint();c=b.com_ibm_vis_engine_internal_nativeImpl_BidiProcess.bidiProcess(d.getText(),c);e&&a.fillText(c,g.getX(),g.getY())}}),p=new p,y=new q,z=new r,A=new t,C=new w,E=new x,q=new m,r=new b.com_ibm_vis_internal_renderer_NodeRenderer;a.register(p,b.com_ibm_vis_scenetree_internal_NodeRendererType.COMPOSITE);
a.register(y,b.com_ibm_vis_scenetree_internal_NodeRendererType.LINE);a.register(z,b.com_ibm_vis_scenetree_internal_NodeRendererType.RECT);a.register(A,b.com_ibm_vis_scenetree_internal_NodeRendererType.CIRCLE);a.register(C,b.com_ibm_vis_scenetree_internal_NodeRendererType.POLY);a.register(E,b.com_ibm_vis_scenetree_internal_NodeRendererType.CURVE);a.register(q,b.com_ibm_vis_scenetree_internal_NodeRendererType.TEXT);a.register(r,b.com_ibm_vis_scenetree_internal_NodeRendererType.GROUP)}}}();b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer=
b.com_ibm_init_declare([b.com_ibm_vis_internal_renderer_GraphicsRenderer],{constructor:function(a){this._canvas=a;this._ctx=a.getContext("2d")},getContext:function(){return this._ctx},saveGraphicsState:function(a,b){var c=this._ctx;c.save();if(a){var e=a.getAffine();e&&c.transform(e.m00,e.m10,e.m01,e.m11,e.m02,e.m12)}b&&(c.beginPath(),c.rect(b.getX(),b.getY(),b.getWidth(),b.getHeight()),c.clip())},restoreGraphicsState:function(){this._ctx.restore()},clear:function(a){a?this._ctx.clearRect(a.getX(),
a.getY(),a.getWidth(),a.getHeight()):this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height)},setDimensions:function(a,b){var c=this._canvas,e=c.style,g=window.devicePixelRatio||1,g=Math.max(1,Math.round(g+.25));c.width=a*g;c.height=b*g;1==g?(e.width="",e.height=""):(e.width=a+"px",e.height=b+"px",this._ctx.scale(g,g))},getNodeRendererProvider:function(){return b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer.NODE_RENDERER_REGISTRY}});b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer.init=
function(){b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer.NODE_RENDERER_REGISTRY||(b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer.NODE_RENDERER_REGISTRY=new b.com_ibm_vis_internal_renderer_NodeRendererRegistry,b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasNodeRenderer.register(b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer.NODE_RENDERER_REGISTRY))};b.com_ibm_vis_internal_renderer_Renderer=b.com_ibm_init_declare({constructor:function(a){this.sn_19=
a},setDirtyNodeManager:function(a){this.de_31=a},renderScene:function(a){b.com_ibm_vis_internal_renderer_Renderer.render(a,this.sn_19,this.de_31)},getRenderImageSize:function(){return b.com_ibm_vis_internal_renderer_Renderer.getImageSize(this.sn_19)}});b.com_ibm_vis_internal_renderer_Renderer.render=function(a,d,c){if(d){var e;if(c){e=c.getSceneDirtyArea();if(0==e.type)return;e=e.dl_6;e=b.com_ibm_vis_internal_renderer_Renderer.lc$1(e,d);a.clear(e);e&&a.saveGraphicsState(null,e)}var g=0,k=d.lo_1;k&&
("ltr"==k.baseTextDirection?g=1:"rtl"==k.baseTextDirection&&(g=2));d=d.root;k=a.getNodeRendererProvider().getNodeRenderer(d.getRenderType());b.com_ibm_vis_internal_renderer_Renderer.cw$2(d)?(k.render(a,d,e,g,1,0),k.render(a,d,e,g,2,0)):k.render(a,d,e,g,0,0);e&&a.restoreGraphicsState();c&&c.renderComplete()}};b.com_ibm_vis_internal_renderer_Renderer.lc$1=function(a,d){var c=a,e=d.getScaledSize();if(a&&(0>a.getMinX()||0>a.getMinY()||a.getMaxX()>e.wt_2||a.getMaxY()>e.hh_1))var c=Math.max(a.getMinX(),
0),g=Math.max(a.getMinY(),0),k=Math.min(a.getMaxX()-c,e.wt_2)+1,e=Math.min(a.getMaxY()-g,e.hh_1)+1,c=new b.com_ibm_vis_geom_Rect(c,g,k,e);return c};b.com_ibm_vis_internal_renderer_Renderer.cw$2=function(a){if(a.shape){var d=a.getRenderInfo();if(d&&(d=d.getRenderEffects())&&d.so_5)return!0}d=0;a=a.getChildren().arrayIterator();for(var c=a.length;d<c;++d)if(b.com_ibm_vis_internal_renderer_Renderer.cw$2(a[d]))return!0;return!1};b.com_ibm_vis_internal_renderer_Renderer.getImageSize=function(a){var d=
a.sz_4;if(a=(a=a.root.getTransform())?a.getAffine():null)d=a.transform(d.wt_2,d.hh_1),d=new b.com_ibm_vis_geom_Dim(d.x,d.y);a=Math.max(1,d.wt_2);d=Math.max(1,d.hh_1);return new b.com_ibm_vis_geom_Dim(a,d)};b.com_ibm_vis_engine_internal_nativeImpl_SilverlightNativeTextMeasure=function(){var a,d,c=b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure;c.getGfxWidth=function(a,b){return d?(d.setFont(c._getGFXFontStyle(a)),d.setShape({text:b}),d.getTextWidth()):null};c.initGfxMeasuringNode=function(){if(null==
a){a=new R;var b=W.doc.createElement("div");b.style.width="10px";b.style.height="10px";var c=W.doc.createElement("div");c.appendChild(b);c.style.overflow="scroll";c.style.position="absolute";c.style.left="0px";c.style.top="-10000px";c.style.width="10px";c.style.height="10px";c.style.borderWidth="0";c.style.margin="0";c.style.padding="0";c.style.outline="0";W.body().appendChild(c);var k=z.createSurface(b,"10px","10px","auto");k.whenLoaded(this,function(b){d=k.createText({text:""});a.resolve(d)})}return a}};
b.com_ibm_vis_engine_internal_nativeImpl_render_RendererController=function(){var a=b.com_ibm_vis_widget_Environment._checkIphone()||b.com_ibm_vis_widget_Environment._checkIpad(),d=b.com_ibm_init_declare({width:600,height:600,_initialized:!1,constructor:function(a,d,g,k,s){this._visControl=a;this._container=d;this._dirtyNodeManager=s;null!=g&&(this.width=g);null!=k&&(this.height=k);this._customElement=new b.com_ibm_vis_engine_internal_nativeImpl_render_VisCustomElement(a,d)},destroy:function(){this.clear();
this._destroyed=!0;this._doDestroy();this._customElement&&this._customElement._destroy()},_doDestroy:function(){},_checkValidRendererRequested:function(){if(!b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.type)throw new b.com_ibm_vis_exceptions_internal_EngineException("Renderer is not supported",b.com_ibm_vis_exceptions_ErrorCode.RENDERER_UNSUPPORTED);},init:function(){if(!this._initDeferred){this._initDeferred=new R;try{this._checkValidRendererRequested()}catch(a){return this._initDeferred.reject(a),
this._initDeferred.promise}var b=this._getSurfaceDeferred();if(b){var d=this;b.then(function(){d._initialized=!0;d._initDeferred.resolve(d)},function(a){d._initDeferred.reject(a)})}else this._initialized=!0,this._initDeferred.resolve(this)}return this._initDeferred.promise},_getSurfaceDeferred:function(){this._createSurface();return b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.init()},render:function(d){if(a&&this.width&&this.height&&13E5<this.width*this.height)throw new b.com_ibm_vis_exceptions_internal_EngineException("Browsers for IPhones and IPads can fail to render for charts larger than 1,300,000 pixels",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_SIZE_TOO_LARGE_FOR_IPHONE);this._customElement&&this._customElement._destroy();this._render(d)},getMapControlsWidget:function(){return this._getCustomElementConfig()?this._customElement.getMapControlsWidget():null},_getCustomElementConfig:function(){return null!=this._visControl?this._visControl._getVis().customConfig:null}});return b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.isCanvas?b.com_ibm_init_declare([d],{_createSurface:function(){b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer.init();
var a=document.createElement("canvas");this._graphicsRenderer=new b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer(a);this._graphicsRenderer.setDimensions(this.width,this.height);this._customElement[this._customElement.FOREGROUND_DIV_ID].appendChild(a)},setSize:function(a,b){if(a!=this.width||b!=this.height)this._graphicsRenderer&&this._graphicsRenderer.setDimensions(a,b),this._graphicsRendererBack&&this._graphicsRendererBack.setDimensions(a,b),this._customElement&&this._customElement.setDimensions(a,
b);this.width=a;this.height=b},clear:function(){this._graphicsRenderer&&this._graphicsRenderer.clear();this._graphicsRendererBack&&this._graphicsRendererBack.clear()},_render:function(a){if(this._getCustomElementConfig()){var d=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.splitSceneForCustomPanel(a);if(!this._surfaceBack){var g=document.createElement("canvas");this._graphicsRendererBack=new b.com_ibm_vis_engine_internal_nativeImpl_render_canvas_CanvasGraphicsRenderer(g);this._graphicsRendererBack.setDimensions(this.width,
this.height);this._customElement[this._customElement.BACKGROUND_DIV_ID].appendChild(g)}null!=d&&0<d.getRoot().getChildrenCount()&&b.com_ibm_vis_internal_renderer_Renderer.render(this._graphicsRendererBack,d,null);this._customElement.renderCustomElement(a)}b.com_ibm_vis_internal_renderer_Renderer.render(this._graphicsRenderer,a,this._dirtyNodeManager)}}):b.com_ibm_init_declare([d],{_createSurface:function(){this._gfxRenderer=new b.com_ibm_vis_engine_internal_nativeImpl_render_SceneNodeGfxRenderer;
b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.isSilverlight&&(this._surfaceBack=z.createSurface(this._customElement[this._customElement.BACKGROUND_DIV_ID],this.width,this.height,"auto"));this._surface=z.createSurface(this._customElement[this._customElement.FOREGROUND_DIV_ID],this.width,this.height,"auto")},_doDestroy:function(){this._surface&&this._surface.destroy();this._surfaceBack&&this._surfaceBack.destroy()},setSize:function(a,b){if(a!=this.width||b!=this.height)this._surface&&
this._surface.setDimensions(a,b),this._surfaceBack&&this._surfaceBack.setDimensions(a,b),this._customElement&&this._customElement.setDimensions(a,b);this.width=a;this.height=b},clear:function(){this._surface&&this._surface.clear(!0);this._surfaceBack&&this._surfaceBack.clear(!0)},_getSurfaceDeferred:function(){var a=new R,d=this;q(["dojox/gfx","dojox/gfx/_base","dojox/gfx/shape"],function(g,k,s){z=g;p=k;q(["dojox/gfx/_gfxBidiSupport"],function(){d._createSurface();d._surface.whenLoaded(d,function(g){d._destroyed?
(g=Error("DojoRenderer already destroyed"),g.log=!1,a.reject(g)):(b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.isSilverlight&&b.com_ibm_vis_engine_internal_nativeImpl_SilverlightNativeTextMeasure(),b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.init().then(function(){a.resolve(d)}))})})});return a},_render:function(a){if(this._getCustomElementConfig()){var d=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.splitSceneForCustomPanel(a);this._surfaceBack||(this._surfaceBack=
z.createSurface(this._customElement[this._customElement.BACKGROUND_DIV_ID],this.width,this.height,"auto"));null!=d&&0<d.getRoot().getChildrenCount()&&this._gfxRenderer.renderSceneTree(this._surfaceBack,d,1);this._customElement.renderCustomElement(a)}this._gfxRenderer.renderSceneTree(this._surface,a,1,this._dirtyNodeManager)}})}();b.com_ibm_vis_engine_internal_VisInterface=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_ContentFrame=b.com_ibm_init_declare({id:"",rp_2:!1,constructor:function(){this.ct_6=
new b.com_ibm_rave_codegenerator_util_List;this.lo_6=b.com_ibm_vis_engine_internal_layout_NoLayout.INSTANCE;this.si_7="Stroke";this.fi_2="Outline";(function(){this.kw_1=new b.com_ibm_rave_codegenerator_util_NumericMap}).apply(this)},clearCachedSizes:function(){this.kw_1.clear()},setStyle:function(a){this.sl_11=a},setLayout:function(a){this.lo_6=a},setId:function(a){this.id=a},getId:function(){return this.id},setSpecifiedBounds:function(a){this.sd_5=a},getSpecifiedBounds:function(){return this.sd_5},
add:function(a){this.ct_6.add(a)},getSizeInfo:function(a,d){if(this.sd_5&&null!=this.sd_5.getValue("width")&&null!=this.sd_5.getValue("height")){var c=this.sd_5.getValue("width"),e=this.sd_5.getValue("height");if(null!=c&&null!=e)return c=new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(c),b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(e)),new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,c,c)}var g=this.getContentSizeInfo(this.gt$21(a),
this.gh$12(d)),c=this.az$2(g.getPreferred(),!0),e=this.az$2(g.getMinimum(),!1),g=this.az$2(g.getMaximum(),!0);return new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,e,g)},gh$12:function(a){var d=a;null!=a&&this.sl_11&&(d=new b.com_ibm_vis_geom_Dim(a,a),d=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.sl_11.padding,d,d),a=new b.com_ibm_vis_geom_Rect(0,0,100,a),d=d.insetRect(a).hh_2);return d},gt$21:function(a){var d=a;null!=a&&this.sl_11&&(d=new b.com_ibm_vis_geom_Dim(a,a),
d=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.sl_11.padding,d,d),a=new b.com_ibm_vis_geom_Rect(0,0,a,100),d=d.insetRect(a).wt_3);return d},az$2:function(a,d){d&&(a=this.ei$2(a));a=this.modifyWithBoundsSize(a);this.sl_11&&null!=this.sl_11.snap&&this.sl_11.snap&&(a=b.com_ibm_vis_engine_internal_layout_length_Size.ceil(a));return a},getContentSizeInfo:function(a,b){var c;c=1E3*(null==a?-1:a)+(null==b?-1:b);var e=this.kw_1.get(c);e||(e=this.lo_6.getSizeInfo(this,a,b),0<e.getPreferred().hh_8.resolve(100,
100)&&0<e.getPreferred().wt_9.resolve(100,100)&&this.kw_1.put(c,e));return e},ei$2:function(a){return a&&this.sl_11&&null!=this.sl_11.padding?a.pad(this.sl_11.padding):a},modifyWithBoundsSize:function(a){var d=a;if(this.sd_5){d=a.wt_9;a=a.hh_8;var c=this.sd_5.getValue("left"),e=this.sd_5.getValue("right"),g=this.sd_5.getValue("width"),k=this.sd_5.getValue("top"),s=this.sd_5.getValue("bottom"),f=this.sd_5.getValue("height");null!=c&&null!=e?(e=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(e),
c=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(c),c.isNegative()||e.isNegative()||(d=b.com_ibm_vis_engine_internal_layout_length_Lengths.subtract(e,c))):null!=g&&(d=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(g));null!=k&&null!=s?(s=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(s),k=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(k),s.isNegative()||k.isNegative()||(a=b.com_ibm_vis_engine_internal_layout_length_Lengths.subtract(s,k))):null!=
f&&(a=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(f));d=new b.com_ibm_vis_engine_internal_layout_length_Size(d,a)}return d},getExtent:function(){if(!this.bd_6)return null;var a=this.getContentBounds();return a?a.getExtent():null},layoutWithBounds:function(a,b,c){this.od_3=c;this.bd_6=a;this.lo_6.layout(this,b,c)},getChildren:function(){return this.ct_6},getStyle:function(){return this.sl_11},getBounds:function(){return this.bd_6},getContentBounds:function(){var a=new b.com_ibm_vis_geom_Rect(0,
0,this.bd_6.wt_3,this.bd_6.hh_2);if(this.sl_11)var d=this.bd_6.getExtent(),a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.sl_11.padding,d,d).insetRect(a);return a},createShapesInScene:function(a){for(var d=this.createContent().cn_16,c=this.getContentBounds().getTopLeft(),e=this.getBounds().getTopLeft(),g=0,k=d.arrayIterator(),s=k.length;g<s;++g){var f=k[g];f.translate(c.x,c.y);f.translate(e.x,e.y)}0<d.size()&&(this.sl_11?(c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.createFillShape(this.bd_6,
this.sl_11,this.id+this.fi_2),c.translate(e.x,e.y),a.add(c),this.hk$1()&&(c=this.sl_11,this.sl_11.effect&&this.sl_11.effect.shadow&&!b.com_ibm_vis_engine_internal_scene_StyleBuilder.hasTransparentFill(this.sl_11)&&(c=this.sl_11.copy(),c.effect.shadow=null,c.effect.glow||(c.effect=null)),c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.createOutlineShape(this.bd_6,c,this.id+this.si_7),c.translate(e.x,e.y),a.add(c))):this.rp_2&&(c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.createBackgroundShape(this.bd_6,
this.sl_11,this.id+this.fi_2),c.translate(e.x,e.y),a.add(c)));a.addAll(d)},hk$1:function(){if(this.sl_11){if(this.sl_11.stroke&&null!=this.sl_11.stroke.width){var a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.sl_11.stroke.width,null,null);return null!=a&&0<a}if(null!=this.sl_11.outline)return!0}return!1},createContent:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.ct_6.arrayIterator(),e=c.length;d<e;++d){var g=c[d],k=g;(g=g.getBounds())&&
g.hasExtent()&&k.createShapesInScene(a)}return new b.com_ibm_vis_engine_internal_SizedContent(a,null)},setBackgroundIdSuffixes:function(a,b){this.si_7=a;this.fi_2=b},setRequiresBackgroundShape:function(a){this.rp_2=a},getClipBounds:function(){var a=this.getContentBounds();return new b.com_ibm_vis_geom_Rect(-a.x,-a.y,this.bd_6.wt_3,this.bd_6.hh_2)},getOverallBounds:function(){return this.od_3}});b.com_ibm_vis_engine_internal_ContentFrame.SI_1="Stroke";b.com_ibm_vis_engine_internal_ContentFrame.OI_1=
"Outline";b.com_ibm_vis_engine_internal_DefaultVisContentFrame=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_ContentFrame,{constructor:function(){this.setId("Back");this.gm_1=new b.com_ibm_vis_engine_internal_ContentFrame;this.gm_1.lo_6=b.com_ibm_vis_engine_internal_layout_OverlayLayout.INSTANCE;this.gm_1.setId("grammar");this.add(this.gm_1);this.lm_2=new b.com_ibm_vis_engine_internal_ContentFrame;this.lm_2.lo_6=b.com_ibm_vis_engine_internal_layout_OverlayLayout.INSTANCE;this.lm_2.setId("overlay");
this.add(this.lm_2);this.tm_1=new b.com_ibm_vis_engine_internal_ContentFrame;this.tm_1.lo_6=b.com_ibm_vis_engine_internal_layout_FlowLayout.TITLE_LAYOUT;this.tm_1.setId("title");this.add(this.tm_1);this.tm_2=new b.com_ibm_vis_engine_internal_ContentFrame;this.tm_2.lo_6=b.com_ibm_vis_engine_internal_layout_FlowLayout.HORIZONTAL;this.tm_2.setId("top");this.add(this.tm_2);this.bm_1=new b.com_ibm_vis_engine_internal_ContentFrame;this.bm_1.lo_6=b.com_ibm_vis_engine_internal_layout_FlowLayout.HORIZONTAL;
this.bm_1.setId("bottom");this.add(this.bm_1);this.lm_1=new b.com_ibm_vis_engine_internal_ContentFrame;this.lm_1.lo_6=b.com_ibm_vis_engine_internal_layout_FlowLayout.VERTICAL;this.lm_1.setId("left");this.add(this.lm_1);this.rm_3=new b.com_ibm_vis_engine_internal_ContentFrame;this.rm_3.lo_6=b.com_ibm_vis_engine_internal_layout_FlowLayout.VERTICAL;this.rm_3.setId("right");this.add(this.rm_3)},addGrammar:function(a){this.gm_1.add(a)},addFloatingLegend:function(a){this.lm_2.add(a)},addLegend:function(a,
d){b.com_ibm_vis_engine_internal_LegendPosition.LEFT==d?this.lm_1.add(a):b.com_ibm_vis_engine_internal_LegendPosition.TOP==d?this.tm_2.add(a):b.com_ibm_vis_engine_internal_LegendPosition.BOTTOM==d?this.bm_1.add(a):this.rm_3.add(a)},addTitle:function(a){this.tm_1.add(a)},layoutWithBounds:function(a,d,c){b.com_ibm_vis_engine_internal_ContentFrame.prototype.layoutWithBounds.apply(this,[a,d,c]);var e=this.getContentBounds();a=e.getExtent();var g=this.rm_3.getSizeInfo(null,null),k=this.lm_1.getSizeInfo(null,
null),s=this.gm_1.getSizeInfo(null,null),f=g.getConstrainedPreferred(a,c),u=g.getMinimum().toDim(a,c),h=k.getConstrainedPreferred(a,c),l=k.getMinimum().toDim(a,c),m=h.wt_2,p=e.wt_3-f.wt_2,q=a.wt_2,r=Math.max(0,p-m),t=this.tm_1.getSizeInfo(r,null),w=t.getConstrainedPreferred(a,c),x=this.tm_2.getSizeInfo(a.wt_2,null),y=this.bm_1.getSizeInfo(a.wt_2,null),z=x.getConstrainedPreferred(a,c),A=x.getMinimum().toDim(a,c),C=y.getConstrainedPreferred(a,c),E=y.getMinimum().toDim(a,c),B=w.hh_1,w=w.hh_1+z.hh_1,
F=e.hh_2-C.hh_1,H=a.hh_1,t=F-w;0>t&&(t=0);t<h.hh_1&&(k=this.lm_1.getSizeInfo(null,t),h=k.getPreferred().toDim(d,c),l=k.getMinimum().toDim(d,c),m=h.wt_2,r=Math.max(0,p-m));t<f.hh_1&&(g=this.rm_3.getSizeInfo(null,t),f=g.getPreferred().toDim(d,c),u=g.getMinimum().toDim(d,c),p=e.wt_3-f.wt_2,r=Math.max(0,p-m));var J=new b.com_ibm_vis_geom_Dim(r,t),e=s.getMinimum().toDim(J,c),s=s.getPreferred().toDim(J,c);if(r<s.wt_2&&(m=Math.max(l.wt_2,Math.min(h.wt_2,Math.max(a.wt_2/3,a.wt_2-s.wt_2))),p=q-Math.max(u.wt_2,
Math.min(f.wt_2,Math.max(a.wt_2/3,a.wt_2-s.wt_2))),r=Math.max(0,p-m),r<e.wt_2)){var h=k.getPreferred().toDim(d,c),f=g.getPreferred().toDim(d,c),J=a.wt_2-e.wt_2,M=l.wt_2+u.wt_2,G=h.wt_2+f.wt_2,J=(J-M)/(G-M);if(0>J)throw new b.com_ibm_vis_exceptions_internal_EngineException("The chart cannot be laid out (horizontal width of grammar, plus widths of right and left legends, is larger than chart size)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);m=k.getMaximum().toDim(d,c).wt_2;m=this.it$3(J,
l.wt_2,h.wt_2,m);p=g.getMaximum().toDim(d,c).wt_2;p=q-this.it$3(J,u.wt_2,f.wt_2,p)}if(t<s.hh_1&&(t=this.tm_1.getContentSizeInfo(r,null),w=t.getConstrainedPreferred(a,c),f=t.getMinimum().toDim(a,c),B=Math.max(f.hh_1,Math.min(w.hh_1,Math.max(a.hh_1/2,a.hh_1-s.hh_1))),t=this.tm_1.getContentSizeInfo(r,B),B=t.getPreferred().toDim(d,c).hh_1,w=B+Math.max(A.hh_1,Math.min(z.hh_1,Math.max(a.hh_1/6,a.hh_1-s.hh_1))),F=H-Math.max(E.hh_1,Math.min(C.hh_1,Math.max(a.hh_1/6,a.hh_1-s.hh_1))),F-w<e.hh_1)){z=x.getPreferred().toDim(d,
c);C=y.getPreferred().toDim(d,c);w=t.getPreferred().toDim(d,c);J=a.hh_1-e.hh_1;M=A.hh_1+E.hh_1+f.hh_1;G=z.hh_1+C.hh_1+w.hh_1;J=(J-M)/(G-M);if(0>J)throw new b.com_ibm_vis_exceptions_internal_EngineException("The chart cannot be laid out (vertical height of grammar, plus heights of top and bottom legends and title, is larger than chart size)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);F=t.getMaximum().toDim(d,c).hh_1;B=this.it$3(J,f.hh_1,w.hh_1,F);w=x.getMaximum().toDim(d,c).hh_1;
w=B+this.it$3(J,A.hh_1,z.hh_1,w);F=y.getMaximum().toDim(d,c).hh_1;F=H-this.it$3(J,E.hh_1,C.hh_1,F)}d=this.me$35(m,0,p,B);C=this.me$35(0,B,q,w);E=this.me$35(0,w,m,F);m=this.me$35(m,w,p,F);p=this.me$35(p,w,q,F);q=this.me$35(0,F,q,H);this.lm$1(this.tm_1,d,a,c,"title");this.lm$1(this.tm_2,C,a,c,"top legends");this.lm$1(this.lm_1,E,a,c,"left legends");this.lm$1(this.gm_1,m,m.getExtent(),c,"grammar");this.lm$1(this.rm_3,p,a,c,"right legends");this.lm$1(this.bm_1,q,a,c,"bottom legends");this.lm$1(this.lm_2,
m,m.getExtent(),c,"overlay legends")},it$3:function(a,b,c,e){return Math.min(e,b+a*(c-b))},me$35:function(a,d,c,e){return new b.com_ibm_vis_geom_Rect(a,d,c-a,e-d)},lm$1:function(a,d,c,e,g){var k=a.getSizeInfo(null,null).getMinimum().toDim(c,e);if(Math.round(d.wt_3).greaterThanOrEqual(Math.round(k.wt_2))&&Math.round(d.hh_2).greaterThanOrEqual(Math.round(k.hh_1)))a.layoutWithBounds(d,c,e);else{if(Math.round(d.wt_3).lessThan(Math.round(k.wt_2)))throw new b.com_ibm_vis_exceptions_internal_EngineException("The chart cannot be laid out (width of "+
g+" is too large for the available space)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);throw new b.com_ibm_vis_exceptions_internal_EngineException("The chart cannot be laid out (height of "+g+" is too large for the available space)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);}},getContentSizeInfo:function(a,d){var c=this.lm_2.getSizeInfo(null,null).getPreferred(),e=c.wt_9.resolve(500,500),c=c.hh_8.resolve(400,400),g=this.gm_1.getSizeInfo(null,null).getPreferred(),
k=g.wt_9.resolve(500,500),s=g.hh_8.resolve(400,400),f=this.rm_3.getSizeInfo(null,null).getPreferred(),f=f.hh_8.resolve(400,400),f=Math.min(1.5*s,f),g=this.lm_1.getSizeInfo(null,null).getPreferred(),g=g.hh_8.resolve(400,400),g=Math.min(1.5*s,g),c=Math.max(Math.max(f,g),Math.max(c,s)),e=Math.max(e,k),k=this.tm_1.getSizeInfo(null,null).getPreferred();60>e&&(null!=a?e=a:(g=k.wt_9.resolve(500,500),e=Math.max(e,Math.min(60,g))));0==e&&(e=null!=a?a:k.wt_9.resolve(400,400));f=this.rm_3.getSizeInfo(null,c).getPreferred();
g=this.lm_1.getSizeInfo(null,c).getPreferred();k=f.wt_9.resolve(500,500);g=g.wt_9.resolve(500,500);g=k+e+g;s=this.tm_2.getSizeInfo(g,null).getPreferred().hh_8.resolve(400,400);f=this.bm_1.getSizeInfo(g,null).getPreferred().hh_8.resolve(400,400);k=this.tm_1.getSizeInfo(e,null).getPreferred();c=k.hh_8.resolve(400,400)+s+c+f;c=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(Math.ceil(g),Math.ceil(c));return new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,
b.com_ibm_vis_engine_internal_layout_length_Size.UNLIMITED)}});b.com_ibm_vis_engine_internal_layout_ContentLayout=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_layout_NoLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_ContentLayout,{getSizeInfo:function(a,d,c){return new b.com_ibm_vis_engine_internal_layout_SizeInfo(b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO)},
layout:function(a,b,c){}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_layout_NoLayout.INSTANCE=new b.com_ibm_vis_engine_internal_layout_NoLayout});b.com_ibm_vis_engine_internal_layout_SizeInfo=b.com_ibm_init_declare({constructor:function(a,b,c){this.pe_23=a;this.mu_2=b;this.mu_1=c},getMinimum:function(){return this.mu_2},getMaximum:function(){return this.mu_1},getPreferred:function(){return this.pe_23},getConstrainedPreferred:function(a,d){var c=this.pe_23.toDim(a,d),e=this.mu_2.toDim(a,
d),g=this.mu_1.toDim(a,d),k=Math.max(Math.min(c.wt_2,g.wt_2),e.wt_2),c=Math.max(Math.min(c.hh_1,g.hh_1),e.hh_1);return new b.com_ibm_vis_geom_Dim(k,c)}});b.com_ibm_vis_engine_internal_layout_length_Length=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_layout_length_FixedLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{vu_15:0,constructor:function(a){this.vu_15=a},resolve:function(a,b){return this.vu_15},isNegative:function(){return b.com_ibm_vis_engine_internal_layout_length_LengthMathUtil.isNegativeValue(this.vu_15)},
getValue:function(){return this.vu_15},toString:function(){return this.vu_15+"px"},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)?this.vu_15==a.vu_15:!1},hashCode:function(){return 1E3*this.vu_15}});b.com_ibm_vis_engine_internal_layout_length_LengthMathUtil=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_layout_length_LengthMathUtil.isNegativeValue=function(a){return 0>1/a};b.com_ibm_vis_engine_internal_layout_length_FractionParentLength=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{vu_17:0,constructor:function(a){this.vu_17=a},resolve:function(a,b){return this.vu_17*a},isNegative:function(){return b.com_ibm_vis_engine_internal_layout_length_LengthMathUtil.isNegativeValue(this.vu_17)},getValue:function(){return this.vu_17},toString:function(){return 100*this.vu_17+"%"},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)?
this.vu_17==a.vu_17:!1},hashCode:function(){return 1E3*this.vu_17}});b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{vu_16:0,constructor:function(a){this.vu_16=a},resolve:function(a,b){return b*this.vu_16},isNegative:function(){return b.com_ibm_vis_engine_internal_layout_length_LengthMathUtil.isNegativeValue(this.vu_16)},getValue:function(){return this.vu_16},toString:function(){return 100*this.vu_16+"%%"},
equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)?this.vu_16==a.vu_16:!1},hashCode:function(){return 1E3*this.vu_16}});b.com_ibm_vis_engine_internal_layout_length_MaxLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{constructor:function(a,b){this.a=a;this.b=b},resolve:function(a,b){return Math.max(this.a.resolve(a,b),this.b.resolve(a,b))},isNegative:function(){return!1},
toString:function(){return"max("+this.a.toString()+", "+this.b.toString()+")"},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_MaxLength)&&this.a.equals(a.a)&&this.b.equals(a.b)?!0:!1},hashCode:function(){var a=this.a.hashCode();return a=31*a+this.b.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_MinLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{constructor:function(a,
b){this.a=a;this.b=b},resolve:function(a,b){return Math.min(this.a.resolve(a,b),this.b.resolve(a,b))},isNegative:function(){return!1},toString:function(){return"min("+this.a.toString()+", "+this.b.toString()+")"},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_MinLength)&&this.a.equals(a.a)&&this.b.equals(a.b)?!0:!1},hashCode:function(){var a=this.a.hashCode();return a=31*a+this.b.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_SumLength=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{constructor:function(a,b){this.a=a;this.b=b},resolve:function(a,b){return this.a.resolve(a,b)+this.b.resolve(a,b)},isNegative:function(){return!1},toString:function(){return this.a+" + "+this.b},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_SumLength)&&this.a.equals(a.a)&&this.b.equals(a.b)?!0:!1},hashCode:function(){var a=this.a.hashCode();
return a=31*a+this.b.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_SubtractLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{constructor:function(a,b){this.a=a;this.b=b},resolve:function(a,b){return this.a.resolve(a,b)-this.b.resolve(a,b)},isNegative:function(){return!1},toString:function(){return this.a+" - "+this.b},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_SubtractLength)&&
this.a.equals(a.a)&&this.b.equals(a.b)?!0:!1},hashCode:function(){var a=this.a.hashCode();return a=31*a+this.b.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_CeilLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{constructor:function(a){this.a=a},resolve:function(a,b){return Math.ceil(this.a.resolve(a,b))},isNegative:function(){return this.a.isNegative()},toString:function(){return"ceil("+this.a+")"},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_layout_length_CeilLength)?this.a.equals(a.a):!1},hashCode:function(){return this.a.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_AbsLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{constructor:function(a){this.a=a},resolve:function(a,b){return Math.abs(this.a.resolve(a,b))},isNegative:function(){return!1},toString:function(){return"abs("+this.a+")"},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_layout_length_AbsLength)?this.a.equals(a.a):!1},hashCode:function(){return this.a.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_MultipleLength=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_length_Length,{ml_2:0,constructor:function(a,b){this.ml_2=a;this.lt_4=b},resolve:function(a,b){return this.lt_4.resolve(a,b)*this.ml_2},isNegative:function(){return this.lt_4.isNegative()?0<this.ml_2:0>this.ml_2},toString:function(){return this.ml_2+" * "+
this.lt_4},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_MultipleLength)?a.ml_2==this.ml_2&&this.lt_4.equals(a.lt_4)?!0:!1:!1},hashCode:function(){var a;a=1E3*this.ml_2;return a=31*a+this.lt_4.hashCode()}});b.com_ibm_vis_engine_internal_layout_length_Lengths=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed=function(a){return new b.com_ibm_vis_engine_internal_layout_length_FixedLength(a)};
b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFractionParent=function(a){return new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(a)};b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFractionOverall=function(a){return new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(a)};b.com_ibm_vis_engine_internal_layout_length_Lengths.max=function(a,d){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)&&
b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FixedLength)?new b.com_ibm_vis_engine_internal_layout_length_FixedLength(Math.max(a.vu_15,d.vu_15)):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(Math.max(a.vu_17,
d.vu_17)):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(Math.max(a.vu_16,d.vu_16)):new b.com_ibm_vis_engine_internal_layout_length_MaxLength(a,d)};b.com_ibm_vis_engine_internal_layout_length_Lengths.min=function(a,d){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_layout_length_FixedLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FixedLength)?new b.com_ibm_vis_engine_internal_layout_length_FixedLength(Math.min(a.vu_15,d.vu_15)):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)?
new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(Math.min(a.vu_17,d.vu_17)):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(Math.min(a.vu_16,d.vu_16)):new b.com_ibm_vis_engine_internal_layout_length_MinLength(a,d)};
b.com_ibm_vis_engine_internal_layout_length_Lengths.sum=function(a,d){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FixedLength)?new b.com_ibm_vis_engine_internal_layout_length_FixedLength(a.vu_15+d.vu_15):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)&&
b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(a.vu_17+d.vu_17):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(a.vu_16+
d.vu_16):new b.com_ibm_vis_engine_internal_layout_length_SumLength(a,d)};b.com_ibm_vis_engine_internal_layout_length_Lengths.subtract=function(a,d){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FixedLength)?new b.com_ibm_vis_engine_internal_layout_length_FixedLength(a.vu_15-d.vu_15):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(a.vu_17-d.vu_17):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)?
new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(a.vu_16-d.vu_16):new b.com_ibm_vis_engine_internal_layout_length_SubtractLength(a,d)};b.com_ibm_vis_engine_internal_layout_length_Lengths.ceil=function(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)){var d=a.vu_15;a=b.com_ibm_rave_codegenerator_lang_Double.isInfinite(d)?a:new b.com_ibm_vis_engine_internal_layout_length_FixedLength(Math.ceil(d))}else a=new b.com_ibm_vis_engine_internal_layout_length_CeilLength(a);
return a};b.com_ibm_vis_engine_internal_layout_length_Lengths.abs=function(a){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)?new b.com_ibm_vis_engine_internal_layout_length_FixedLength(Math.abs(a.vu_15)):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(Math.abs(a.vu_17)):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength)?new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(Math.abs(a.vu_16)):new b.com_ibm_vis_engine_internal_layout_length_AbsLength(a)};b.com_ibm_vis_engine_internal_layout_length_Lengths.makeMultipleOf=function(a,d){return new b.com_ibm_vis_engine_internal_layout_length_MultipleLength(a,d)};b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec=function(a){var d;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespaceString(a.toString()))throw new b.com_ibm_vis_exceptions_internal_EngineException("Empty value can not be converted to length",
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_VALUE_IS_EMPTY,a.toString());var c=a.length;2<=c&&"%"==a.substring(c-1,c)&&(d="%"==a.substring(c-2,c-1)?new b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength(b.com_ibm_vis_engine_internal_layout_length_Lengths.tryParse(a.substring(0,c-2))/100):new b.com_ibm_vis_engine_internal_layout_length_FractionParentLength(b.com_ibm_vis_engine_internal_layout_length_Lengths.tryParse(a.substring(0,c-1))/100))}if(!d)if(d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a,
null,null),null!=d)d=new b.com_ibm_vis_engine_internal_layout_length_FixedLength(d);else throw new b.com_ibm_vis_exceptions_internal_EngineException("Could not parse the length ",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,a.toString());return d};b.com_ibm_vis_engine_internal_layout_length_Lengths.tryParse=function(a){try{return b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a)}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))throw new b.com_ibm_vis_exceptions_internal_EngineException("Could not parse the length ",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,a);throw d;}};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_layout_length_Lengths.UNLIMITED=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed(Infinity);b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed(0)});b.com_ibm_vis_engine_internal_layout_length_Size=b.com_ibm_init_declare({constructor:function(a,b){this.wt_9=a;this.hh_8=b},getWidth:function(){return this.wt_9},
getHeight:function(){return this.hh_8},toDim:function(a,d){var c=this.wt_9.resolve(a.wt_2,d.wt_2),e=this.hh_8.resolve(a.hh_1,d.hh_1);return new b.com_ibm_vis_geom_Dim(c,e)},equals:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_Size)&&this.hh_8.equals(a.hh_8)&&this.wt_9.equals(a.wt_9)?!0:!1},hashCode:function(){var a;a=this.wt_9.hashCode();return a=31*a+this.hh_8.hashCode()},toString:function(){return this.wt_9+" x "+
this.hh_8},pad:function(a){var d=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,c=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,e=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,g=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_PaddingSpec)?(null!=a.right&&(d=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(a.right)),null!=a.left&&(c=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(a.left)),
null!=a.top&&(e=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(a.top)),null!=a.bottom&&(g=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(a.bottom))):g=e=c=d=a=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(a);return new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Size.pt$4(this.wt_9,d,c),b.com_ibm_vis_engine_internal_layout_length_Size.pt$4(this.hh_8,e,g))}});b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed=
function(a,d){return new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed(a),b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed(d))};b.com_ibm_vis_engine_internal_layout_length_Size.ceil=function(a){return new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.ceil(a.wt_9),b.com_ibm_vis_engine_internal_layout_length_Lengths.ceil(a.hh_8))};b.com_ibm_vis_engine_internal_layout_length_Size.max=
function(a,d){return new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.max(a.wt_9,d.wt_9),b.com_ibm_vis_engine_internal_layout_length_Lengths.max(a.hh_8,d.hh_8))};b.com_ibm_vis_engine_internal_layout_length_Size.sum=function(a,d){return new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(a.wt_9,d.wt_9),b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(a.hh_8,d.hh_8))};b.com_ibm_vis_engine_internal_layout_length_Size.pt$4=
function(a,d,c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_layout_length_FixedLength)){var e=0;a=a.vu_15;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FixedLength))a+=d.vu_15;else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength))e+=d.vu_17;else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength))e+=
d.vu_16;else throw new b.com_ibm_vis_exceptions_internal_EngineException("Size#padLength was called with an unknown pad type (not fixed value, fraction, or percent)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_engine_internal_layout_length_FixedLength))a+=c.vu_15;else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_engine_internal_layout_length_FractionParentLength))e+=c.vu_17;else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,
b.com_ibm_vis_engine_internal_layout_length_FractionOverallLength))e+=c.vu_16;else throw new b.com_ibm_vis_exceptions_internal_EngineException("Size#padLength was called with an unknown pad type (not fixed value, fraction, or percent)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);return new b.com_ibm_vis_engine_internal_layout_length_FixedLength(a/(1-e))}return b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(a,b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(d,c))};
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_layout_length_Size.ZERO=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(0,0);b.com_ibm_vis_engine_internal_layout_length_Size.UNLIMITED=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(Infinity,Infinity)});b.com_ibm_vis_engine_internal_SizedContent=b.com_ibm_init_declare({constructor:function(a,b){this.cn_16=a;this.size=b},getContent:function(){return this.cn_16},getSize:function(){return this.size}});b.com_ibm_vis_engine_internal_layout_OverlayLayout=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_ContentLayout,{getSizeInfo:function(a,d,c){var e=b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,g=b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,k=b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,s=0;a=a.ct_6.arrayIterator();for(var f=a.length;s<f;++s)var u=a[s],h=u.getSizeInfo(d,c),u=u.sd_5,e=b.com_ibm_vis_engine_internal_layout_length_Size.max(e,b.com_ibm_vis_engine_internal_layout_OverlayLayout.mn$29(h.getMinimum(),
u)),g=b.com_ibm_vis_engine_internal_layout_length_Size.max(g,b.com_ibm_vis_engine_internal_layout_OverlayLayout.mn$29(h.getPreferred(),u)),k=b.com_ibm_vis_engine_internal_layout_length_Size.max(k,b.com_ibm_vis_engine_internal_layout_OverlayLayout.mn$29(h.getMaximum(),u));return new b.com_ibm_vis_engine_internal_layout_SizeInfo(g,e,k)},layout:function(a,d,c){var e=a.getExtent(),g=new b.com_ibm_vis_geom_Rect(0,0,e.wt_2,e.hh_1),k=0;a=a.ct_6.arrayIterator();for(var s=a.length;k<s;++k){var f=a[k],u=f.sd_5;
u?(u=u.getRect(e),u=g.makeIntersection(u),f.layoutWithBounds(u,d,c)):f.layoutWithBounds(g,d,c)}}});b.com_ibm_vis_engine_internal_layout_OverlayLayout.mn$29=function(a,d){var c=a;if(d){var c=a.wt_9,e=a.hh_8,g=null,k=null,s=null,f=null,u=d.getValue("width");null!=u&&(c=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(u));u=d.getValue("height");null!=u&&(e=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(u));u=d.getValue("left");null!=u&&(f=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(u));
u=d.getValue("right");null!=u&&(k=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(u));u=d.getValue("top");null!=u&&(g=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(u));u=d.getValue("bottom");null!=u&&(s=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(u));c=b.com_ibm_vis_engine_internal_layout_OverlayLayout.ai$6(c,f,k);e=b.com_ibm_vis_engine_internal_layout_OverlayLayout.ai$6(e,g,s);c=new b.com_ibm_vis_engine_internal_layout_length_Size(c,e)}return c};b.com_ibm_vis_engine_internal_layout_OverlayLayout.ai$6=
function(a,d,c){c?a=c.isNegative()?b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(b.com_ibm_vis_engine_internal_layout_length_Lengths.abs(c),a):c:d&&a&&(d.isNegative()||(a=b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(d,a)));return a};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_layout_OverlayLayout.INSTANCE=new b.com_ibm_vis_engine_internal_layout_OverlayLayout});b.com_ibm_vis_engine_internal_layout_FlowLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_layout_ContentLayout,
{ia_9:!1,oe_16:!1,constructor:function(a,b){this.ia_9=a;this.oe_16=b},layout:function(a,d,c){var e=a.ct_6,g=e.size();if(0!=g){var k=a.getExtent(),s=this.gi$6(k);a=this.gi$7(k);if(1==g){var f=e.get(0);this.lo$4(f,this.gz$21(f,k),s,a,d,c)}else{for(var u=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_HashMap,l=s,g=0,e=e.arrayIterator(),m=e.length;g<m;++g){var f=e[g],p=this.gz$21(f,k);h.put(f,p);var q=p.getMinimum().toDim(d,c),p=p.getPreferred().toDim(d,c),r=this.gi$6(q);
0>=p.wt_2||0>=p.hh_1||!b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(r,s)||!b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(this.gi$7(q),a)?f.layoutWithBounds(new b.com_ibm_vis_geom_Rect(0,0,0,0),d,c):b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(r,l)?(l-=r,u.add(f)):(l=-1,f.layoutWithBounds(new b.com_ibm_vis_geom_Rect(0,0,0,0),d,c))}g=u.size();if(0!=g)if(1==g)f=u.get(0),this.lo$4(f,h.get(f),s,a,d,c);else{k=Array(g);for(e=l=0;e<g;++e)f=u.get(e),k[e]=f,p=h.get(f).getPreferred().toDim(d,
c),l+=this.gi$6(p);u=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);m=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);f=0;if(b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(l,s))for(q=!0,e=0;e<g;++e)l=h.get(k[e]).getMaximum().toDim(d,c),u[e]=Math.min(s,this.gi$6(l)),m[e]=Math.min(a,this.gi$7(l)),f+=u[e];else for(q=!1,e=0;e<g;++e)p=h.get(k[e]).getPreferred().toDim(d,c),u[e]=Math.min(s,this.gi$6(p)),l=h.get(k[e]).getMaximum().toDim(d,c),m[e]=Math.min(a,this.gi$7(l)),f+=u[e];if(b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(f,
s)){if(this.ia_9)s=0;else{for(e=h=0;e<g;++e)h+=u[e];s=(s-h)/2}for(e=0;e<g;++e)k[e].layoutWithBounds(this.mc$11(k[e],s,u[e],m[e],a),d,c),s+=u[e]}else{for(var l=s,p=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),r=b.com_ibm_rave_codegenerator_lang_Array.create([g],!1),t=0,w=s,e=0;e<g;++e){var f=k[e],x;x=q?this.gi$6(h.get(f).getPreferred().toDim(d,c)):this.gi$6(h.get(k[e]).getMinimum().toDim(d,c));p[e]=x;f=u[e]-x;.5>f?r[e]=!0:(w=Math.min(w,u[e]-x),t++);l-=x}for(;0<t&&.5<l&&.5<w;){h=Math.min(w,
l/t);q=s;for(e=0;e<g;++e)r[e]||(p[e]+=h,l-=h,f=u[e]-p[e],.5>f?(r[e]=!0,t--):q=Math.min(q,f));w=q}for(e=s=0;e<g;++e)k[e].layoutWithBounds(this.mc$11(k[e],s,p[e],m[e],a),d,c),s+=p[e]}}}}},gz$21:function(a,b){return this.oe_16?this.ia_9?a.getSizeInfo(b.wt_2,null):a.getSizeInfo(null,b.hh_1):a.getSizeInfo(null,null)},lo$4:function(a,d,c,e,g,k){var s=d.getMinimum().toDim(g,k);if(b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(this.gi$6(s),c)&&b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(this.gi$7(s),
e)){s=d.getPreferred().toDim(g,k);d=d.getMaximum().toDim(g,k);s=this.gi$6(s);s=b.com_ibm_vis_engine_internal_layout_FlowLayout.fits(s,c)?Math.min(c,this.gi$6(d)):Math.min(c,s);d=Math.min(e,this.gi$7(d));var f=this.an$12(a.sl_11);c=this.mc$11(a,(c-s)*f,s,d,e);a.layoutWithBounds(c,g,k)}else a.layoutWithBounds(new b.com_ibm_vis_geom_Rect(0,0,0,0),g,k)},an$12:function(a){a=a?this.ia_9?a.valign:a.align:null;return"start"==a?0:"end"==a?1:"middle"==a?.5:this.ia_9?0:.5},gt$31:function(a){return this.ia_9?
a.hh_8:a.wt_9},gt$32:function(a){return this.ia_9?a.wt_9:a.hh_8},gi$6:function(a){return this.ia_9?a.hh_1:a.wt_2},gi$7:function(a){return this.ia_9?a.wt_2:a.hh_1},mc$11:function(a,d,c,e,g){return this.ia_9?new b.com_ibm_vis_geom_Rect(0,d,e,c):new b.com_ibm_vis_geom_Rect(d,0,c,e)},mi$14:function(a,d){return this.ia_9?new b.com_ibm_vis_engine_internal_layout_length_Size(d,a):new b.com_ibm_vis_engine_internal_layout_length_Size(a,d)},getSizeInfo:function(a,d,c){for(var e=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,
g=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,k=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,s=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,f=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,u=b.com_ibm_vis_engine_internal_layout_length_Lengths.ZERO,h,l=0,m=a.ct_6.arrayIterator(),p=m.length;l<p;++l)h=m[l].getSizeInfo(d,c),a=h.getPreferred(),e=b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(e,this.gt$31(a)),g=b.com_ibm_vis_engine_internal_layout_length_Lengths.max(g,
this.gt$32(a)),a=h.getMinimum(),f=b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(f,this.gt$31(a)),u=b.com_ibm_vis_engine_internal_layout_length_Lengths.max(u,this.gt$32(a)),a=h.getMaximum(),k=b.com_ibm_vis_engine_internal_layout_length_Lengths.sum(k,this.gt$31(a)),s=b.com_ibm_vis_engine_internal_layout_length_Lengths.max(s,this.gt$32(a));d=this.mi$14(e,g);f=this.mi$14(f,u);k=this.mi$14(k,s);return new b.com_ibm_vis_engine_internal_layout_SizeInfo(d,f,k)}});b.com_ibm_vis_engine_internal_layout_FlowLayout.fits=
function(a,b){return a<=b+.25};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_layout_FlowLayout.TITLE_LAYOUT=new b.com_ibm_vis_engine_internal_layout_FlowLayout(!0,!1);b.com_ibm_vis_engine_internal_layout_FlowLayout.VERTICAL=new b.com_ibm_vis_engine_internal_layout_FlowLayout(!0,!0);b.com_ibm_vis_engine_internal_layout_FlowLayout.HORIZONTAL=new b.com_ibm_vis_engine_internal_layout_FlowLayout(!1,!0)});b.com_ibm_vis_engine_internal_LegendPosition=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_LegendPosition.valueOf=
function(a){if(null==a||""==a)return b.com_ibm_vis_engine_internal_LegendPosition.RIGHT;if("top"==a)return b.com_ibm_vis_engine_internal_LegendPosition.TOP;if("bottom"==a)return b.com_ibm_vis_engine_internal_LegendPosition.BOTTOM;if("right"==a)return b.com_ibm_vis_engine_internal_LegendPosition.RIGHT;if("left"==a)return b.com_ibm_vis_engine_internal_LegendPosition.LEFT;throw new b.com_ibm_vis_exceptions_internal_SpecException("Invalid legend position '"+a+"'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_LegendPosition.TOP=new b.com_ibm_vis_engine_internal_LegendPosition;b.com_ibm_vis_engine_internal_LegendPosition.BOTTOM=new b.com_ibm_vis_engine_internal_LegendPosition;b.com_ibm_vis_engine_internal_LegendPosition.LEFT=new b.com_ibm_vis_engine_internal_LegendPosition;b.com_ibm_vis_engine_internal_LegendPosition.RIGHT=new b.com_ibm_vis_engine_internal_LegendPosition});b.com_ibm_vis_monitor_internal_LoggerImpl=b.com_ibm_init_declare(b.com_ibm_vis_monitor_Logger,
{constructor:function(){this.tn_1=new b.com_ibm_rave_codegenerator_util_Map;this.lr_1=new b.com_ibm_rave_codegenerator_util_List},hasListeners:function(){return!this.lr_1.isEmpty()},addListener:function(a){this.lr_1.contains(a)||this.lr_1.add(a);return this},removeListener:function(a){this.lr_1.remove(a);return this},logStartTime:function(a,d){this.tn_1.put(d,b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer())},logEndTime:function(a,d){var c=this.tn_1.get(d);if(null==c)this.log(b.com_ibm_vis_monitor_LogLevel.Warning,
a,"Timing Failed for "+d+" no matching start call","target",d);else{this.tn_1.remove(d);var c=Number.valueOf(b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer().subtract(c)),e=new b.com_ibm_rave_codegenerator_util_Map;e.put("time",c);this.logParam(b.com_ibm_vis_monitor_LogLevel.Detail,a,d+" Timing",e)}},logParam:function(a,d,c,e){e||(e=new b.com_ibm_rave_codegenerator_util_Map);e.put("timestamp",b.com_ibm_rave_codegenerator_util_BasicFactory.getUTCTime());for(var g=0,k=this.lr_1.arrayIterator(),
s=k.length;g<s;++g)k[g].accept(new b.com_ibm_vis_monitor_internal_LogEntryImpl(a,d,c,e))},log:function(a,d,c,e,g){var k=new b.com_ibm_rave_codegenerator_util_Map;null!=e&&null!=g&&k.put(e,g);this.logParam(a,d,c,k)},error:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.Error,a,d,null)},warning:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.Warning,a,d,null)},info:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.Info,a,d,null)},grammarError:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.GrammarError,
a,d,null)},grammarWarning:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.GrammarWarning,a,d,null)},grammarInfo:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.GrammarInfo,a,d,null)},detail:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.Detail,a,d,null)},trace:function(a,d){this.logParam(b.com_ibm_vis_monitor_LogLevel.Trace,a,d,null)},isTracing:function(){if(this.lr_1.isEmpty())return!1;if(1==this.lr_1.size())return this.lr_1.get(0).isTracing();for(var a=0,b=this.lr_1.arrayIterator(),
c=b.length;a<c;++a)if(b[a].isTracing())return!0;return!1}});b.com_ibm_vis_monitor_internal_LogEntryImpl=b.com_ibm_init_declare(b.com_ibm_vis_monitor_LogEntry,{constructor:function(a,b,c,e){this.cn_3=b;this.mg_3=c;this.le_3=a;this.pr_1=e},getMessage:function(){return this.mg_3},getComponent:function(){return this.cn_3},getLevel:function(){return this.le_3},getParameterKeys:function(){if(!this.pr_1)return b.com_ibm_vis_monitor_internal_LogEntryImpl.NY_2;var a=this.pr_1.keySet(),d=a.size();return 0==
d?b.com_ibm_vis_monitor_internal_LogEntryImpl.NY_2:a.toArray(Array(d))},getParameterValue:function(a){return this.pr_1?this.pr_1.get(a):null},getParameters:function(){return this.pr_1},toString:function(){return this.le_3+":"+this.cn_3+":"+this.mg_3}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_monitor_internal_LogEntryImpl.NY_2=[]});b.com_ibm_vis_internal_json_Diagnostic=b.com_ibm_init_declare({code:-1,st_1:0,constructor:function(a,b,c,e){this.st_1=a;this.code=b;this.sc_1=c;this.mg_2=e},
setCode:function(a){this.code=a},getCode:function(){return this.code},getSeverity:function(){return this.st_1},setMessage:function(a){this.mg_2=a},getMessage:function(){return this.mg_2},setSource:function(a){this.sc_1=a},getSource:function(){return this.sc_1},setData:function(a){this.data=a},getData:function(){return this.data},getChildren:function(){return this.ce_8},add:function(a){this.ce_8||(this.ce_8=new b.com_ibm_rave_codegenerator_util_List);this.ce_8.add(a);a=a.st_1;a>this.st_1&&(this.st_1=
a)},isOK:function(){return 0==this.st_1},isERROR:function(){return 2==this.st_1},toString:function(){var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder,d=null!=this.mg_2&&!this.mg_2.CPVisEngineIsEmpty();if(d||!this.ce_8)0==this.st_1?a.append("OK"):1==this.st_1?a.append("WARNING"):2==this.st_1?a.append("ERROR"):a.append(this.st_1),d&&(null==this.sc_1||this.sc_1.CPVisEngineIsEmpty()||(a.appendChar(32),a.append(this.sc_1),a.appendChar(58)),a.appendChar(32),a.append(this.mg_2));if(this.ce_8)for(var d=
0,c=this.ce_8.arrayIterator(),e=c.length;d<e;++d){var g=c[d];0<a.length()&&a.appendChar(10);a.append(g)}return a.toString()}});b.com_ibm_vis_internal_json_Diagnostic.flatten=function(a){var d=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_internal_json_Diagnostic.de$1(d,a);return d};b.com_ibm_vis_internal_json_Diagnostic.de$1=function(a,d){a.add(d);var c=d.ce_8;if(c)for(var e=0,c=c.arrayIterator(),g=c.length;e<g;++e)b.com_ibm_vis_internal_json_Diagnostic.de$1(a,c[e])};b.com_ibm_vis_internal_json_Diagnostic.OK=
0;b.com_ibm_vis_internal_json_Diagnostic.WARNING=1;b.com_ibm_vis_internal_json_Diagnostic.ERROR=2;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_internal_json_Diagnostic.NO_CODE=-1});b.com_ibm_vis_engine_internal_asynchronous_AsynchDelegate=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_RaveRunnable=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_asynchronous_AsynchAction=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_asynchronous_AsynchDelegate,b.com_ibm_vis_engine_internal_RaveRunnable],
{cleared:!1,registerListener:function(a){this.delegate=a},failed:function(a){this.notifyFailed(a)},done:function(){this.notifyComplete(this)},addAction:function(a){a.registerListener(this);this.children||(this.children=new b.com_ibm_rave_codegenerator_util_List);this.children.add(a)},notifyComplete:function(a){var b=!0;if(this.children)for(var c=0;c<this.children.size();++c)this.children.get(c)==a?this.children.removeAt(c--):b=!1;b?this.delegate&&this.delegate.notifyComplete(this):this.runInternal()},
notifyFailed:function(a){this.clear();this.delegate&&this.delegate.notifyFailed(a)},runInternal:function(){this.cleared||this.children&&0<this.children.size()&&this.children.get(0).run()},clear:function(){this.cleared=!0;if(this.children)for(var a=this.children.size(),b=0;b<a;++b)this.children.get(0).clear(),this.children.removeAt(0)}});b.com_ibm_vis_engine_internal_AsynchDataAction=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,{constructor:function(a){this.vis=a},
run:function(){this.cleared||(this.vis.makeDataCallback()?this.done():this.vis.getDataProviderFailed()&&this.failed("Attempt to create the data failed"))}});b.com_ibm_vis_engine_internal_AsynchCompleteSpecAction=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,{constructor:function(a){this.vis=a},run:function(){this.vis.completeSetSpec()?this.done():this.failed("Completion of setSpecification failed")}});b.com_ibm_vis_interaction_internal_Viewport=b.com_ibm_init_declare({constructor:function(a){if(a&&
a.coordinates&&a.coordinates.dimensions){a=a.coordinates.dimensions.length;this.vt_3=Array(a);for(var b=0;b<a;++b)this.vt_3[b]=[0,1]}else this.vt_3=[]},getDimensions:function(){return this.vt_3.length},getViewport:function(){for(var a=this.vt_3.length,b=Array(a),c=0;c<a;++c)b[c]=[this.vt_3[c][0],this.vt_3[c][1]];return b},setViewport:function(a){var b=this.vt_3.length;a.length<b&&(b=a.length);for(var c=0;c<b;++c)this.vt_3[c][0]=Math.min(a[c][0],a[c][1]),this.vt_3[c][1]=Math.max(a[c][0],a[c][1])},
panBy:function(a){var b=this.vt_3.length;a.length<b&&(b=a.length);for(var c=0;c<b;++c){var e=a[c];this.vt_3[c][0]+=e;this.vt_3[c][1]+=e}},panByProportion:function(a){var b=this.vt_3.length;a.length<b&&(b=a.length);for(var c=0;c<b;++c){var e=a[c]*(this.vt_3[c][1]-this.vt_3[c][0]);this.vt_3[c][0]+=e;this.vt_3[c][1]+=e}},updateGrammarSpec:function(a){if(!a||!a.coordinates||!a.coordinates.dimensions){if(0==this.vt_3.length)return;throw new b.com_ibm_vis_exceptions_internal_EngineException("Grammar specification does not match viewport",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);}if(this.vt_3.length!=a.coordinates.dimensions.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Grammar specification does not match viewport",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);for(var d=this.vt_3.length,c=0;c<d;++c){var e=a.coordinates.dimensions[c],g=e.scale;g||(g=new b.com_ibm_vis_spec_internal_ScaleSpec,e.scale=g);g.spans||(g.spans=[new b.com_ibm_vis_spec_internal_SpanSpec]);for(e=0;e<g.spans.length;++e)b.com_ibm_vis_interaction_internal_Viewport.updateSpan(g.spans[e],
this.vt_3[c])}}});b.com_ibm_vis_interaction_internal_Viewport.updateSpan=function(a,d){a.outRange||(a.outRange=new b.com_ibm_vis_spec_internal_SpanOutRangeSpec);var c=null!=a.outRange.min?a.outRange.min:0,e=((null!=a.outRange.max?a.outRange.max:1)-c)/(d[1]-d[0]),c=c-e*d[0];a.outRange.min=c;a.outRange.max=c+e};b.com_ibm_vis_engine_internal_VisTitleFrame=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_ContentFrame,{constructor:function(){this.TI_3="D";(function(a,d,c){this.cx_8=a.vx_10;this.setId(""+
c);this.ta_3=d.content;this.tl_8=d.style?d.style:new b.com_ibm_vis_spec_internal_StyleSpec;this.bl_3=d.backgroundStyle?d.backgroundStyle:new b.com_ibm_vis_spec_internal_StyleSpec;this.te_19=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(a,this.tl_8,"middle","middle",this.bl_3)}).apply(this,arguments)},createContent:function(){var a=b.com_ibm_vis_engine_internal_ContentFrame.prototype.createContent.apply(this).cn_16;if(!this.hx$1())return new b.com_ibm_vis_engine_internal_SizedContent(a,
null);var d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,this.getBounds().wt_3,this.getBounds().hh_2),c=this.te_19.makeLabel(this.ta_3,d);if(c){"middle"!=this.te_19.align&&this.offsetRotatedTitle(c,this.getAngle(this.te_19.angle),this.te_19.align,this.size);c.setUsesBackgroundPlaque(!0);d=this.TI_3+this.getId();c.setID(d);c=c.createSceneNode();c.type=b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE;var e=c.getChildren();0<e.size()&&(c.setId(d),2==e.size()?(e.get(0).setId(d+
"T"+this.getId()+"LB0"),e.get(1).setId(d+"T"+this.getId())):1==e.size()&&e.get(0).setId(d+"T"+this.getId()));this.cx_8.gt_4&&this.tl_8&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(c,this.tl_8.accessibility,!1));a.add(c)}return new b.com_ibm_vis_engine_internal_SizedContent(a,null)},getContentSizeInfo:function(a,d){var c=b.com_ibm_vis_engine_internal_ContentFrame.prototype.getContentSizeInfo.apply(this,
[a,d]),e=this.te_19.font.getHeight(),c=c.getMinimum();if(this.hx$1()){this.te_19.getPadding()||this.te_19.setPadding(new b.com_ibm_vis_engine_internal_struct_Insets(e/4,e/4,e/4,e/4));e=this.te_19.makeTextContent(this.ta_3,-1);null==a?e=this.te_19.calculateLabelSize(e):(null==d&&(d=1.7976931348623157E308),c=new b.com_ibm_vis_geom_Rect(0,0,a,d),c=this.te_19.getPadding().insetRect(c).getExtent(),e=this.te_19.calculateConstrainedLabelSize(e,c));if(c=this.go$23())c=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(b.com_ibm_vis_geom_Rect.makeRectFromDim(e),
c),e=new b.com_ibm_vis_geom_Dim(c.wt_3,c.hh_2);this.size=e;e=this.en$5(e);c=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(e.wt_2+1,e.hh_1+1)}return new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.UNLIMITED)},en$5:function(a){a=b.com_ibm_vis_geom_Rect.makeRectFromDim(a);return this.te_19.getPadding().expandRect(a).getExtent()},go$23:function(){var a=this.getAngle(this.te_19.angle);
return 0==a?null:b.com_ibm_vis_engine_internal_Affine.makeRotation(a,0,0)},getAngle:function(a){return null==a?0:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?3.141592653589793*a/180:this.getTangentAngle(this.te_19.align,this.te_19.valign)},getTangentAngle:function(a,b){return"start"==a?-1.5707963267948966:"end"==a?1.5707963267948966:0},getContentMaximumSize:function(){return b.com_ibm_vis_engine_internal_layout_length_Size.UNLIMITED},hx$1:function(){return this.ta_3},offsetRotatedTitle:function(a,
d,c,e){var g=0,k=0,s=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(d)),f=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(d)),u=a.getHeight(),h=a.calculateTextWidth();"start"==c&&(0<f&&1>f&&(0<s&&1>s&&(k-=e.hh_1/2-s*u/2,g+=f*u/2),-1<s&&0>s&&(k-=e.hh_1/2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(d-1.5707963267948966))*u/2,g+=e.wt_2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(d-1.5707963267948966))*u/2)),-1<f&&0>f&&(0<s&&1>s&&(k+=e.hh_1/2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(d-
4.71238898038469))*u/2,g+=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(d-4.71238898038469))*u/2),-1<s&&0>s&&(k+=e.hh_1/2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(4.71238898038469-d))*u/2,g+=e.wt_2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(4.71238898038469-d))*u/2)));"end"==c&&(0<f&&1>f&&(0<s&&1>s&&(k+=e.hh_1/2-s*u/2,g-=f*u/2),-1<s&&0>s&&(k+=e.hh_1/2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(d-1.5707963267948966))*u/2,g-=e.wt_2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(d-
1.5707963267948966))*u/2)),-1<f&&0>f&&(0<s&&1>s&&(k-=e.hh_1/2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(d-4.71238898038469))*u/2,g-=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(d-4.71238898038469))*u/2),-1<s&&0>s&&(k-=e.hh_1/2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(4.71238898038469-d))*u/2,g-=e.wt_2-b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(4.71238898038469-d))*u/2)));1==f?g-=u/2:-1==s?g="end"==c?g-h:g+h:-1==f&&("end"==c?(g-=u/2,k-=h/2):(g+=u/2,
k+=h/2));0==g&&0==k||a.updateTransform(b.com_ibm_vis_engine_internal_Affine.makeTransform(g,k))}});b.com_ibm_vis_engine_internal_VisTitleFrame.SP_2="title";b.com_ibm_vis_engine_internal_grammar_label_AbstractLabelProducer=b.com_ibm_init_declare({isCategorical:!1,constructor:function(a,b,c){this.data=a;this.vis=b;this.part=c;this.isCategorical=!0},makeContentFor:function(a,b){if(null!=this.part&&null!=b.getElementPart()&&this.part!=b.getElementPart())return null;if(b.getRows()&&0<b.getRows().length){var c=
this.makeTextContent(a,b.getRows()[0]);this.cc$8(a,b,c);return c}return this.makeTextContent(a,-1)},cc$8:function(a,d,c){if(d.getNeedsConsistentLabels())for(var e=1;e<d.getRows().length;++e){var g=this.makeTextContent(a,d.getRows()[e]);if(c.getText()!=g.getText())throw new b.com_ibm_vis_exceptions_internal_EngineException('Label consistency error - a label or tooltip cannot be created for this element and data (see "Label" in the VizJSON Reference Guide)',b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ROWS_CREATE_CONFLICTING_LABEL);
}},makeTextContent:function(a,d){b.com_ibm_vis_engine_internal_grammar_label_TextProducer.isContentCategorical(this.vis,a)||(this.isCategorical=!1);return b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContent(this.vis,this.data,a,d)}});b.com_ibm_vis_engine_internal_grammar_label_LabelProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_label_AbstractLabelProducer,{sc_7:!1,fit:!1,lv_2:!1,constructor:function(a,d,c,e,g,k,s,f,u){this.style=s?s.copy():new b.com_ibm_vis_spec_internal_StyleSpec;
this.backgroundStyle=f;this.shapingInfo=d.vx_10.getNumericShapingInfo();this.ag_4=this.pn_22=null;this.fit=this.sc_7=!1;this.lv_2=u;if(null==this.style.location)this.pn_22=e?"inside":"outside";else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.style.location))if("stretch"==this.style.location)this.pn_22="inside",this.sc_7=!0;else if("fit"==this.style.location)this.pn_22="inside",this.fit=!0;else if("inside"==this.style.location)this.pn_22="inside";else if("outside"==this.style.location)this.pn_22=
"outside",this.ag_4=this.style.alignEdge;else if("callout"==this.style.location)this.pn_22="callout";else throw new b.com_ibm_vis_exceptions_internal_SpecException("Invalid value -\x3e location : "+this.style.location,b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);this.font=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(this.style.font,this.vis.vx_10.getMinimumFontSize(),this.vis.vx_10.uc_1);a=new b.com_ibm_vis_geom_Dim(this.font.getHeight(),this.font.getHeight());this.pn_21=
b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.style.padding,a,d.getSize());this.backgroundStyle&&(this.bn_6=null==this.backgroundStyle.padding?new b.com_ibm_vis_engine_internal_struct_Insets(1,2,1,2):b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.backgroundStyle.padding,a,a),this.pn_21=b.com_ibm_vis_engine_internal_struct_Insets.combine(this.pn_21,this.bn_6));this.angle=this.style.angle;this.align=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.gn$23(this.style.align,
g);this.valign=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.gn$23(this.style.valign,k);this.clipSymbol="\u2026"},addAesthetics:function(a){this.ac_3=a},getAesthetics:function(){return this.ac_3},makeLabelForContent:function(a,d){if(!a||a.isEmptyString())return null;var c=d.getParts(),e=d;if(c)for(var g=0;g<c.length;++g){var k=c[g].getElementPart();if(null!=k&&k==this.part){e=c[g];break}}c=b.com_ibm_vis_engine_internal_struct_ShapeNearShape.getLabelShape(e,this.align,this.valign,this.pn_22,
this.style.location);g=this.calculateBoundsForOutsideLabel(c,a);e=g.wt_3-this.pn_21.getHorizontal();e=0<=e?e:0;g=g.hh_2-this.pn_21.getVertical();e=new b.com_ibm_vis_geom_Dim(e,0<=g?g:0);(c=this.ax$2(d,c,e,a,this.align,this.valign))&&"outside"==this.pn_22&&!this.lv_2&&(c=this.me$45(c,a,d));return c},makeLabel:function(a,b){return this.makeLabelForContent(this.makeContentFor(a,b),b)},calculateBoundsForOutsideLabel:function(a,b){var c=a.getBounds();if(!b||b.isEmptyString())return c;if("outside"==this.pn_22||
"callout"==this.pn_22){var c=c.copy(),e=this.calculateLabelSize(b);c.wt_3=e.wt_2+this.pn_21.getHorizontal();c.hh_2=e.hh_1+this.pn_21.getVertical()}return c},ax$2:function(a,d,c,e,g,k){if(!e||e.isEmptyString())return null;var s=!1;b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(a)&&"callout"==this.pn_22&&(s=!0);var f=g,u=k,h=d.getCenter(),l=d.getBounds();"start"==f?"inside"==this.pn_22?d=l.x+this.pn_21.left:s?(d=l.x,f="middle"):(d="vertical"==this.ag_4&&"middle"!=u?l.x+this.pn_21.left+
c.wt_2:l.x-this.pn_21.right,f="end"):"end"==f?"inside"==this.pn_22?d=l.x+l.wt_3-this.pn_21.right:s?(d=l.x+l.wt_3,f="middle"):(d="vertical"==this.ag_4&&"middle"!=u?l.x+l.wt_3-this.pn_21.right-c.wt_2:l.x+l.wt_3+this.pn_21.left,f="start"):d=h.x;"start"==u?"inside"==this.pn_22?(l=l.y+this.pn_21.top,u="end"):s?(l=l.y,u="middle"):l="horizontal"==this.ag_4&&"middle"!=f?l.y+this.pn_21.top+c.hh_1:l.y-this.pn_21.bottom:"end"==u?"inside"==this.pn_22?(l=l.y+l.hh_2-this.pn_21.bottom,u="start"):s?(l=l.y+l.hh_2,
u="middle"):l="horizontal"==this.ag_4&&"middle"!=f?l.y+l.hh_2-this.pn_21.bottom-c.hh_1:l.y+l.hh_2+this.pn_21.top:l=h.y;b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE==u&&(u="middle");this.clipSymbol=this.isCategorical?"\u2026":e.isAlphabetic()?"\u2026":"#";var m,h=0;null==this.angle||s||(h=this.gl$12(a,this.angle),m=b.com_ibm_vis_engine_internal_Affine.makeRotation(h,d,l));"inside"==this.pn_22&&(s=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(b.com_ibm_vis_geom_Rect.makeRectFromDim(c),
m),c.wt_2=s.wt_3,c.hh_1=s.hh_2);s=this.bx$1(c,e,f,u,d,l);if(!s)return null;if(s.wasClipped&&this.ii$3(s.getText())){var p=e.getText();e=s.reduceToFit(e,this.vis.vx_10);s=this.bx$1(c,e,f,u,d,l);if(!s)return null;s.getText()!=p&&(s.originalText=p,s.wasClipped=!0)}if(this.ac_3&&a.getRows())for(f=0,u=this.ac_3,e=u.length;f<e;++f)u[f].apply(s,this.data.rows[a.getRows()[0]]);m&&(0==h?s.updateTransform(m):(c=this.getOffsetForLabelAngle(s,h,this.pn_22,g,k,c),s.updateTransform(m),s.updateTransform(b.com_ibm_vis_engine_internal_Affine.makeIntTransform(c.x,
c.y))));a.getRows()&&s.setRow(a.getRows()[0]);return s},ii$3:function(a){return"#"==a||"###"==a},bx$1:function(a,d,c,e,g,k){if(!d||d.isEmptyString())return null;d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(d,g,k,c,e,this.font,this.style,this.backgroundStyle,a,this.ai$5(),this.clipSymbol,this.shapingInfo,this.vis.vx_10.tx_1);if(!d)return null;this.fit?d=d.sizeToFit(a,this.ai$5()):this.sc_7?d=d.stretchToFit(a):"inside"==this.pn_22&&(d=d.fitInside(a));return d?d:null},getOffsetForLabelAngle:function(a,
d,c,e,g,k){var s=0,f=0;if(1.5707963267948966!=d&&-1.5707963267948966!=d)return new b.com_ibm_vis_geom_Point(0,0);0>d&&("end"==g?g="start":"start"==g&&(g="end"));"outside"==c?("start"==e?s=a.getHeight():"end"==e?f-=a.calculateTextWidth():"middle"==e&&(f-=a.calculateTextWidth()/2),"start"!=g&&("end"==g?(f+=a.calculateTextWidth(),s+=a.getHeight()):"middle"==g&&(f+=a.calculateTextWidth()/2,"start"==e&&(s-=a.getHeight())))):("start"==e?s=a.getHeight():"end"==e?f=a.calculateTextWidth():"middle"==e&&(f=
a.calculateTextWidth()/2),"start"!=g&&("end"==g?(f-=a.calculateTextWidth(),s-=a.getHeight()):"middle"==g&&(s-=a.getHeight()/2,f-=a.calculateTextWidth()/2)),f<-k.wt_2&&(f=-k.wt_2));0>d&&(f=-f,f<-k.wt_2&&(f=-k.wt_2));return new b.com_ibm_vis_geom_Point(s,f)},ai$5:function(){return"outside"==this.pn_22&&this.lv_2?!1:!(this.fit||this.sc_7)},gl$12:function(a,d){return null==d?0:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)?3.141592653589793*d/180:a.getTangentAngle(this.align,this.valign)},
makeRotatedLabel:function(a,d){if(!a||a.isEmptyString())return null;var c=this.makeLabelForContent(a,b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(d.getY(),d.getX(),d.getHeight(),d.getWidth()));if(!c)return null;c.setSnap(d.getSnap());var e=b.com_ibm_vis_engine_internal_Affine.makeRotation(-1.5707963267948966,0,0),e=new b.com_ibm_vis_engine_internal_Affine(e.m00,e.m01,e.m02,e.m10,e.m11,b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.getHeight()));c.setTransform(e);return c},makeSimpleLabel:function(a,
b){return this.makeLabelForContent(a,b)},makeSimpleRotatedLabel:function(a,b){return this.makeRotatedLabel(a,b)},calculateConstrainedLabelSize:function(a,d){if(!a||a.isEmptyString())return new b.com_ibm_vis_geom_Dim(0,0);var c,e=this.isCategorical+a.getText()+d.wt_2+"|"+d.hh_1;this.lh_3?c=this.lh_3.get(e):this.lh_3=new b.com_ibm_rave_codegenerator_util_Map;c||((c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(a,0,0,null,null,this.font,this.style,null,d,this.ai$5(),this.clipSymbol,this.shapingInfo,
this.vis.vx_10.tx_1))?(c=new b.com_ibm_vis_geom_Dim(c.calculateTextWidth(),c.getHeight()),this.lh_3.put(e,c)):c=new b.com_ibm_vis_geom_Dim(0,0));return c},calculateLabelSize:function(a){return this.calculateConstrainedLabelSize(a,new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,1.7976931348623157E308))},makeLabelBackground:function(a,d){if(!this.backgroundStyle)return null;var c=this.gd$11(a),c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(c.x-this.bn_6.left,c.y-this.bn_6.top,c.wt_3+
this.bn_6.left+this.bn_6.right,c.hh_2+this.bn_6.top+this.bn_6.bottom,this.backgroundStyle);a.getTransform()&&c.setTransform(a.getTransform());c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyShapeStyle(c,this.backgroundStyle);if(null==this.backgroundStyle.fill){var e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();e.a=0;e=b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.createSpecObject(e,"ColorSpec");this.backgroundStyle.fill=e;b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(c,
this.backgroundStyle)}d.getRows()&&c.setRow(d.getRows()[0]);return c},gd$11:function(a){var d=a.style;if(d&&null!=d.angle)return a.getNonTransformedBounds();d=a.getBounds();a.getTransform()&&(d=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(d,a.getTransform()));return d},adjustPlaqueBounds:function(a,d){var c=a.getBounds();1004==d.getType()?(d.setX(c.x-this.bn_6.left),d.setY(c.y-this.bn_6.top),d.setWidth(c.wt_3+this.bn_6.left+this.bn_6.right),d.setHeight(c.hh_2+this.bn_6.top+this.bn_6.bottom)):
1002==d.getType()&&(c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(c.x-this.bn_6.left,c.y-this.bn_6.top,c.wt_3+this.bn_6.left+this.bn_6.right,c.hh_2+this.bn_6.top+this.bn_6.bottom,this.backgroundStyle),d.setX(c.getX()),d.setY(c.getY()))},addPaddingForOutline:function(a){var d=new b.com_ibm_vis_geom_Dim(this.font.getHeight(),this.font.getHeight());a=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.gn$24(d,a.stroke,a.outline,a.outlineMethod);this.pn_21=b.com_ibm_vis_engine_internal_struct_Insets.combine(this.pn_21,
a)},me$45:function(a,d,c){var e=a.getBounds();if(this.cd_8&&!this.cd_8.containsRect(e)){a=e.makeIntersection(this.cd_8);if(!a)return null;a=this.pn_21.expandRectBy(a);a=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(a.x,a.y,a.wt_3,a.hh_2);a.copyInfoFrom(c);this.pn_22="inside";this.align=b.com_ibm_vis_engine_internal_Alignment.getReverseAlignment(this.align);this.valign=b.com_ibm_vis_engine_internal_Alignment.getReverseAlignment(this.valign);d=this.makeLabelForContent(d,a);this.pn_22=
"outside";this.align=b.com_ibm_vis_engine_internal_Alignment.getReverseAlignment(this.align);this.valign=b.com_ibm_vis_engine_internal_Alignment.getReverseAlignment(this.valign);return d}return a},setClipBounds:function(a){this.cd_8=a},getClipBounds:function(){return this.cd_8},getLocation:function(){return this.pn_22},getExtentAdjustedForAlignment:function(a){if(!a||!this.pn_21)return a;var d=1.1*a.wt_2+this.pn_21.getHorizontal();a=a.hh_1+this.pn_21.getVertical();return new b.com_ibm_vis_geom_Dim(d,
a)},getTooltipsForTruncatedText:function(){return this.vis.vx_10.tx_1},getPadding:function(){return this.pn_21},setPadding:function(a){this.pn_21=a}});b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeForData=function(a,d,c,e,g,k){e.modifies&&(g=e.modifies.part);return new b.com_ibm_vis_engine_internal_grammar_label_LabelProducer(a,d,g,c,null,null,e.style,e.backgroundStyle,k)};b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside=function(a,d,c,e,g){return new b.com_ibm_vis_engine_internal_grammar_label_LabelProducer(null,
a,null,!0,c,e,d,g,!1)};b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.gn$23=function(a,b){return"start"==a||"end"==a?a:null!=b?b:"middle"};b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.gn$24=function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_struct_Insets.NONE;d&&null!=d.width?(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.width,a.hh_1,a.hh_1),null==a&&(a=1),g="inside"==e?new b.com_ibm_vis_engine_internal_struct_Insets(a,a,a,a):new b.com_ibm_vis_engine_internal_struct_Insets(a/
2,a/2,a/2,a/2)):null!=c&&(g=new b.com_ibm_vis_engine_internal_struct_Insets(.5,.5,.5,.5));return g};b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.TEXT_WIDTH_PADDING=1.1;b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.V_BACKGROUND_PADDING=1;b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.H_BACKGROUND_PADDING=2;b.com_ibm_vis_engine_internal_grammar_label_TextProducer=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_label_TextProducer.updateEmptyFieldMethodToLabel=
function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c){var g=a[c];b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g)||b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(g)||!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_spec_internal_FieldValueRefSpec)||null==g.method&&(g.method="label");d.add(g)}return d.toArray(Array(d.size()))};b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContent=function(a,d,c,e){return b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContentWithContext(a,
d,c,e,null)};b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContentWithContext=function(a,d,c,e,g){if(!c||0==c.length)return null;for(var k=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(a.getVisContext().getMinimumFontSize()),s=0,f=c.length;s<f;++s){var u=c[s];if(null!=u)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(u))k.addNumber(u,null);else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(u))k.addString(u,null);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(u,
b.com_ibm_vis_spec_internal_FieldValueRefSpec))b.com_ibm_vis_engine_internal_grammar_label_TextProducer.ac$1(a,d,e,u,k);else if(g&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(u,b.com_ibm_vis_spec_internal_ArgumentSpec)){var h=u,l=g.get(h.args),u=g.get("format_info");null!=l&&(h=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(l,h.style,a.getVisContext().getMinimumFontSize()),h.ff_1=u,k.addTextContentPart(h))}else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(u,
b.com_ibm_vis_spec_internal_ImageSpec)){if(h=new b.com_ibm_vis_spec_internal_ImageSpec,h.source=u.source,!b.com_ibm_vis_engine_internal_grammar_label_TextProducer.ag$1(h,k))return null}else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(u,b.com_ibm_vis_spec_internal_StringValueSpec)){if(null==u.value)throw new b.com_ibm_vis_exceptions_internal_SpecException("Value must be provided when defining string content with style.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);k.addString(u.value,
u.style)}}return 0<k.size()?k:null};b.com_ibm_vis_engine_internal_grammar_label_TextProducer.ag$1=function(a,d){if(a){var c=new b.com_ibm_vis_engine_internal_ImageStyle(a);c.setImageInText();var e=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(0,0,c.getWidth(),c.getHeight(),null);e.setOutline(null);e.setImage(c);d.addShape(e);return!0}return!1};b.com_ibm_vis_engine_internal_grammar_label_TextProducer.ac$1=function(a,d,c,e,g){var k,s,f=a.getByID(e.$ref);if(!f)return!1;var u=d?d:f.data,
h=null!=e.method?e.method:"auto";d=e.style;"auto"==h&&(h=u&&-1==c?"label":"data");if("data"==h){if(!u||!u.rows||0==u.rows.length||-1==c)return!1;k=f.getFormattedStringValue(u.rows[c].data[f.ie_4],u.rows[c].index,e.format);s=f.getFormatInfo(u.rows[c].data[f.ie_4],u.rows[c].index,e.format)}else if("rawdata"==h){if(!u||-1==c)return!1;k=String.CPVisEngineValueOf(u.rows[c].data[f.ie_4])}else if("label"==h)k=null!=f.label?f.label:f.id,g.setAlphabetic(!0);else if("id"==h)k=f.id,g.setAlphabetic(!0);else if("row"==
h)-1!=c&&(k=""+(c+1));else if("count"==h)u&&(k=""+u.rows.length);else if("col"==h)k=""+f.ie_4;else if("image"==h){if(!f.categories)throw new b.com_ibm_vis_exceptions_internal_SpecException("'method:image' can only be used with categorical fields.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);if(d)throw new b.com_ibm_vis_exceptions_internal_SpecException("Style is not supported when 'method:image' is used in field reference.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);
if(-1!=c&&u&&(c=u.rows[c].data[f.ie_4],c==c&&0<=c&&c<f.categories.length&&(f=f.categories[c],null!=f)))return s=new b.com_ibm_vis_spec_internal_ImageSpec,s.source=a.getResourceDefinition(f),b.com_ibm_vis_engine_internal_grammar_label_TextProducer.ag$1(s,g)}return null!=k?(a=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(k,d,a.getVisContext().getMinimumFontSize()),a.ff_1=s,g.addTextContentPart(a),!0):!1};b.com_ibm_vis_engine_internal_grammar_label_TextProducer.isContentCategorical=
function(a,d){for(var c=0;c<d.length;++c){var e=d[c];if(null!=e)if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_spec_internal_FieldValueRefSpec)){if((e=a.getByID(e.$ref))&&e.isCategorical())return!0}else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(e))return!0}return!1};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_AUTO="auto";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_DATA=
"data";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_RAWDATA="rawdata";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_LABEL="label";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_ID="id";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_ROW="row";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_COUNT="count";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_COL="col";b.com_ibm_vis_engine_internal_grammar_label_TextProducer.REF_METHOD_IMAGE=
"image"});b.com_ibm_vis_engine_internal_grammar_label_LabelCallout=b.com_ibm_init_declare({in_8:!1,constructor:function(a,d,c){this.ga_3=a;this.en_15=c;this.gz_4=a.graphSize;this.lr_5=d.labelProducers;this.in_8=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.ig$4(d)},modifyShapes:function(a,d,c){c||(c=new b.com_ibm_vis_spec_internal_StyleSpec);if(!a.isEmpty()&&this.ga_3.coordinates.containsPolar()){var e=this.ga_3.coordinates.getCoordinateCenter(this.gz_4).x,g=!0,k=this.ge$41(),s=g=Math.min(this.gz_4.wt_2,
this.gz_4.hh_1),f=0,u=g/2;k&&(null!=k.max&&(s=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k.max,g,g)),null!=k.min&&(f=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k.min,g,g)),null!=k.preferred&&(u=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k.preferred,g,g)));if(k&&null!=k.preferred)u>g?u=g:0>u&&(u=0),u<f&&(u=f),u>s&&(u=s),b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.su$3(a,u/2,this.in_8),this.ct$19(a,d,
c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a));else if(g=Math.min(this.gz_4.wt_2,this.gz_4.hh_1)/4,g<f/2?g=f/2:g>s/2&&(g=s/2),b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.su$3(a,g,this.in_8),this.ct$19(a,d,c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a)),g=this.isLableTruncated(a),k&&null!=k.max&&!g)for(;;){k=.1*b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a);b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.iz$4(a,
k,this.in_8);if(b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a)>s/2){s=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a)-s/2;b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.rz$2(a,s,this.in_8);this.ct$19(a,d,c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a));break}this.ct$19(a,d,c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a));if(g=this.isLableTruncated(a)){b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.rz$2(a,
k,this.in_8);this.ct$19(a,d,c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a));break}}else if(k&&null!=k.min&&g)for(;;){k=.1*b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a);b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.rz$2(a,k,this.in_8);if(b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a)<f/2){s=f/2-b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a);b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.iz$4(a,s,this.in_8);
this.ct$19(a,d,c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a));break}this.ct$19(a,d,c,e,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11(a));g=this.isLableTruncated(a);if(!g)break}b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.clip(a,this.en_15)}},ge$41:function(){var a=this.ga_3.coordinates.tm_3;if(a)for(var b=0,c=a.length;b<c;++b){var e=a[b];if(e&&e.isPolar())return e.getDiameterSpec()}return null},gs$3:function(){var a=this.ga_3.coordinates.tm_3;if(a)for(var b=
0,c=a.length;b<c;++b){var e=a[b];if(e&&e.isPolar())return e.getClockwise()}return!1},ct$19:function(a,d,c,e,g){for(var k=new b.com_ibm_rave_codegenerator_util_List,s=new b.com_ibm_rave_codegenerator_util_List,f=!0,u=.1,h=0,l=0,h=0;f;)k.clear(),s.clear(),b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.ce$28(a),u+=.1,h=(1+u)*g,l=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gh$13(a)+h,h=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gf$2(a)-h,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.pl$3(a,
k,s,e,l,h),this.al$8(k,d.backgroundStyle),this.al$8(s,d.backgroundStyle),this.id$6(k)&&this.al$7(k),this.id$6(s)&&this.al$7(s),f=this.de$4(a,c,k,s,u,.6),1==a.size()&&(f=!1);c=this.gz_4.wt_2-l;this.al$9(a,k,d,c);this.al$9(a,s,d,h)},de$4:function(a,d,c,e,g,k){var s=!0,f=.2,u=0,h=this.ie$49(a,c,!0),l=this.ie$49(a,e,!1);h?this.al$7(c):l&&this.al$7(e);h?h=this.ie$49(a,c,!0):l&&(l=this.ie$49(a,e,!1));for(var m=0;m<a.size();++m){var p=a.get(m);if(p.getShapeLabel()){var q=p.getElementShape();if(b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(q)){var r=
q.getGeom();0==u&&(u=(this.gz_4.hh_1-2*r.getR2())/3);var t=r.getOrigin().x+r.getR2()*Math.cos((r.getA1()+r.getA2())/2),w=r.getOrigin().y+r.getR2()*Math.sin((r.getA1()+r.getA2())/2),x=r.getOrigin().x+(r.getR2()+.1*r.getR2())*Math.cos((r.getA1()+r.getA2())/2),y=(r.getA1()+r.getA2())/2,z=w+.1*r.getR2()*Math.sin(y),z=z-u*Math.sin(6.283185307179586-y),y=p.getShapeLabel(),A=y.getCenter().x,C=y.getCenter().y,E=0,B=z,F=0,H=C;if(c.contains(y)){for(E=r.getOrigin().x+(r.getR2()+r.getR2()*f);E>=A;)f-=.1,E=r.getOrigin().x+
(r.getR2()+r.getR2()*f);F=A-r.getR2()/10}else{for(E=r.getOrigin().x-(r.getR2()+r.getR2()*f);E<=A;)f-=.1,E=r.getOrigin().x-(r.getR2()+r.getR2()*f);F=A+r.getR2()/10}if(0<m&&a.get(m-1).getLabelLine()){var r=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gn$22(a.get(m-1).getLabelLine()),J=b.com_ibm_vis_engine_internal_util_MathUtil.r3(t),M=b.com_ibm_vis_engine_internal_util_MathUtil.r3(w),G=b.com_ibm_vis_engine_internal_util_MathUtil.r3(r.x1),K=b.com_ibm_vis_engine_internal_util_MathUtil.r3(r.y1);
if(J!=G||M!=K)if(s=b.com_ibm_vis_geom_Line.segmentsIntersect(t,w,F,H,r.x1,r.y1,r.x2,r.y2,!1)){if(0<=k-g)break;s=!1}}15>Math.abs(E-x)&&(x=E,z=B);J=r=null;r=new b.com_ibm_vis_geom_Rect(0,0,this.en_15.wt_2,this.en_15.hh_1);c.contains(y)&&!h||e.contains(y)&&!l||!r.containsPt(x,z)||!r.containsPt(E,B)?(r=[t,F,A],J=[w,H,C]):(r=[t,x,E,A],J=[w,z,B,C]);t=new b.com_ibm_vis_engine_internal_struct_ShapePoly(r,J,!1,null);t.setSnap(p.getElementShape().getSnap());null!=q.getKey()&&t.setKey(q.getKey()+"|LN");q=p.getElementShape().isVisible()?
y.isVisible():!1;t.setVisible(q);b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(t,d,null);p.setLabelLine(t)}}}return s},ie$49:function(a,d,c){var e=this.gs$3(),g=0;a=a.arrayIterator();for(var k=a.length;g<k;++g){var s=a[g],f=s.getElementShape();if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f.getGeom(),b.com_ibm_vis_geom_Wedge)){var u=f.getGeom(),f=s.getShapeLabel();if(d.contains(f)){var s=f.getCenter().y,h=f.getCenter().x,f=0,f=c?h-u.getR2()/10:h+u.getR2()/10,h=u.getA1()-
u.getA2(),l=0,l=u.getA2()+h/2;e||(l-=6.283185307179586);var m=u.getOrigin().x,p=u.getOrigin().y,q=u.getOrigin().x+u.getR2()*Math.cos((u.getA1()+u.getA2())/2),h=u.getOrigin().y+u.getR2()*Math.sin((u.getA1()+u.getA2())/2);if(q>m&&h<p){if(l=6.283185307179586-l,l=1.5707963267948966-l,u=u.getR2()/Math.sin(l),u=m+u,u=(h-p)/(q-u),q=h-u*q,u=(s-q)/u,s>h&&u>f)return!0}else if(q>m&&h>p){if(l=1.5707963267948966-l,u=u.getR2()/Math.sin(l),u=m+u,u=(h-p)/(q-u),q=h-u*q,u=(s-q)/u,s<h&&u>f)return!0}else if(q<m&&h<p){if(l=
3.141592653589793-l,l=1.5707963267948966-l,u=u.getR2()/Math.sin(l),u=m-u,u=(h-p)/(q-u),q=h-u*q,u=(s-q)/u,s>h&&u<f)return!0}else if(q<m&&h>p&&(l=3.141592653589793-l,l=1.5707963267948966-l,u=u.getR2()/Math.sin(l),u=m-u,u=(h-p)/(q-u),q=h-u*q,u=(s-q)/u,s<h&&u<f))return!0}}}return!1},isLableTruncated:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b].getShapeLabel();if(e){if(1007==e.getType())for(var g=0,k=e.le_36.arrayIterator(),s=k.length;g<s;++g){if(k[g].wasClipped)return!0}else if(-1!=
e.getText().indexOf("\u2026"))return!0;if(e.getPoint().x>this.gz_4.wt_2||0>e.getPoint().x||e.getPoint().y>this.gz_4.hh_1||0>e.getPoint().y)return!0}}return!1},al$7:function(a){var b=this.gz_4.hh_1/(a.size()+1),c=0,e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e],s=k;if(c+s.getBounds().hh_2<this.gz_4.hh_1){var f=c+s.getBounds().hh_2/2+b/2;k.affine(1,0,0,f,!1);c=b>s.getBounds().hh_2?c+b:c+(s.getBounds().hh_2+2)}else break}},id$6:function(a){for(var b=0;b<a.size();++b){var c=a.get(b),e=
c.getCenter().y+c.getBounds().hh_2/2,c=c.getBounds().y;if(e>this.en_15.hh_1||0>c)return!0}return!1},al$8:function(a,d){var c=0;if(b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.io$5(a)){for(var e=0,g=a.arrayIterator(),k=g.length;e<k;++e){var s=g[e],c=c+s.getBounds().hh_2/2;s.getCenter().y<c&&s.affine(1,0,0,c,!1);c=d?s.getCenter().y+s.getBounds().hh_2/2+2+.01:s.getCenter().y+s.getBounds().hh_2/2+.01}s=a.get(0);c=a.get(a.size()-1);c=c.getCenter().y+c.getBounds().hh_2-this.gz_4.hh_1;if(0<c){0>
s.getCenter().y-s.getBounds().hh_2-c&&(c=s.getCenter().y-s.getBounds().hh_2);for(var g=0,k=a.arrayIterator(),f=k.length;g<f;++g)s=k[g],e=s.getCenter().y-c,s.affine(1,0,0,e,!1)}}},al$9:function(a,d,c,e){for(var g=0;g<d.size();++g){var k=d.get(g),s=k.getText().CPVISEngineTrim();k.setText(s);var f=0;0<g&&(f=d.get(g-1),f=f.getCenter().y+f.getHeight()/2);var u=0;g+1==d.size()?u=this.gz_4.hh_1:(u=d.get(g+1),u=u.getCenter().y-u.getHeight()/2);var h=k.getCenter().y-k.getHeight()/2,f=h-f,h=u-h,l=k.getHeight()/
k.getNumLines(),u=0,u=Math.min(f,h)>l&&1<Math.min(f,h)-l?k.getHeight()+2*Math.min(f,h):k.getHeight(),f=new b.com_ibm_vis_geom_Dim(e,u);if(f=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString(s,k.getFont().mz_5),k.getPoint().x,k.getPoint().y,k.align,k.valign,k.getFont(),c.style,null,f,b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.ai$4(c.style),"\u2026",c.shapingInfo,c.getTooltipsForTruncatedText()))f.setID(k.id),
f.setKey(k.getKey()),f.copyInfoFrom(k),u<k.getFont().getHeight()||1009==f.getType()&&f.getText()==s?(k.clipToFit(e),s=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.fe$7(a,k),-1<s&&a.get(s).setShapeLabel(k)):1==f.getNumLines()&&1007==f.getType()&&-1!=f.le_36.get(0).getText().indexOf("\u2026")?(k.clipToFit(e),s=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.fe$7(a,k),-1<s&&a.get(s).setShapeLabel(k)):(s=b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.fe$7(a,k),-1<s&&a.get(s).setShapeLabel(f))}}});
b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.ig$4=function(a){return a.spec&&a.spec.style?(a=a.spec.style,null!=a.width?b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.in$8(a.width):b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.in$8(a.size)):!1};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.in$8=function(a){return null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?a.CPVISEngineEndsWith("%")&&!a.CPVISEngineEndsWith("%%"):!1};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape=
function(a){return 1005==a.getType()};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gu$11=function(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d){var e=a[d].getElementShape();if(b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(e))return e.getGeom().getR2()}return 0};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.su$3=function(a,d,c){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e].getElementShape();b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(k)&&
(k=k.getGeom(),0<k.getR1()&&(c?k.setR1(k.getR1()*d/k.getR2()):k.setR1(d-(k.getR2()-k.getR1()))),k.setR2(d))}};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gh$13=function(a){var d=-Infinity,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c].getElementShape();b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(g)&&(g=g.getGeom(),g.getOrigin().x>d&&(d=g.getOrigin().x))}return d};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gf$2=function(a){var d=
Infinity,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c].getElementShape();b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(g)&&(g=g.getGeom(),g.getOrigin().x<d&&(d=g.getOrigin().x))}return d};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.rz$2=function(a,d,c){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e].getElementShape();b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(k)&&(k=k.getGeom(),0<k.getR1()&&(c?k.setR1(k.getR1()-
k.getR1()*d/k.getR2()):k.setR1(k.getR1()-d)),k.setR2(k.getR2()-d))}};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.iz$4=function(a,d,c){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e].getElementShape();b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.isWedgeShape(k)&&(k=k.getGeom(),0<k.getR1()&&(c?k.setR1(k.getR1()+k.getR1()*d/k.getR2()):k.setR1(k.getR1()+d)),k.setR2(k.getR2()+d))}};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.ce$28=function(a){var b=
0;a=a.arrayIterator();for(var c=a.length;b<c;++b)a[b].setLabelLine(null)};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.gn$22=function(a){var d=a.x;a=a.y;var c=d.length-1;return new b.com_ibm_vis_geom_Line(d[c-1],a[c-1],d[0],a[0])};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.pl$3=function(a,d,c,e,g,k){b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.dl$3(a,d,c,e,g,k);b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.sl$9(d);b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.sl$9(c)};
b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.dl$3=function(a,b,c,e,g,k){var s=0;a=a.arrayIterator();for(var f=a.length;s<f;++s){var u=a[s];u.getShapeLabel()&&(u=u.getShapeLabel(),u.getCenter().x>e?(u.align="start",u.affine(0,g,1,0,!1),b.add(u)):(u.align="end",u.affine(0,k,1,0,!1),c.add(u)))}};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.sl$9=function(a){for(var d=-1,c=!1,e=new b.com_ibm_rave_codegenerator_util_List,g=0,k=a.arrayIterator(),s=k.length;g<s;++g){for(var f=k[g],
u=0,h=e.arrayIterator(),l=h.length;u<l;++u){var m=h[u];if(m.getCenter().y>f.getCenter().y){d=e.indexOf(m);c=!0;break}}c||(d=e.size());e.add(d,f);c=!1}a.clear();a.addAll(e)};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.io$5=function(a){var b=!1;if(0!=a.size())for(var c=0;c<a.size()-1;++c){var b=a.get(c).getBounds(),e=a.get(c+1);if(b=b.intersectsRect(e.getBounds()))break}return b};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.fe$7=function(a,b){if(!b)return-1;for(var c=0,e=0,
g=a.arrayIterator(),k=g.length;e<k;++e){if(b===g[e].getShapeLabel())return c;c++}return-1};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.ai$4=function(a){return!a||null==a.location||!("fit"==a.location||"stretch"==a.location)};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.clip=function(a,d){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var k=e[c],s=k.getShapeLabel();s&&!(new b.com_ibm_vis_geom_Rect(0,0,d.wt_2,d.hh_1)).containsRect(s.getBounds())&&(k.setShapeLabel(null),
k.setLabelLine(null))}};b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.PU_1=.1;b.com_ibm_vis_engine_internal_grammar_label_LabelCallout.IU_1=.2;b.com_ibm_vis_engine_internal_Grammar=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_ContentFrame,{getInnerCellBounds:function(){var a=this.ie_16.copy(),b=this.getBounds();a.translate(b.x,b.y);this.od_4&&a.translate(-this.od_4.x,-this.od_4.y);return a},constructor:function(a,d,c,e,g){this.setId("G"+g);this.ce_38=new b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler(e.labelCollisionMethod);
this.sl_11=d;this.setBackgroundIdSuffixes("Outline","Out");this.setRequiresBackgroundShape(!0);this.sd_5=new b.com_ibm_vis_engine_internal_Bounds(a,c.vx_10.lx_1);this.vis=c;this.de_24=c.ce_40?c.ce_40.data:null;this.gSpec=e;this.coordinates=b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.createCoordinates(c,e.coordinates);if(a=this.gSpec.elements)for(this.elements=Array(a.length),d=0;d<this.elements.length;++d)this.elements[d]=new b.com_ibm_vis_engine_internal_grammar_element_Element(a[d].id,
this.vis,this,a[d],d);else this.elements=[];e.facet&&(a=this.sl_11)&&(a=a.copy(),this.fn_5=a.padding,a.padding=null,this.sl_11=a);this.faceting=b.com_ibm_vis_engine_internal_facet_FacetingFactory.getFacetingInstance(e.facet,this.fn_5,c,this.elements);this.modifyDataWithAreaUnderCurve();this.coordinates.prepareForElements(this.elements,this.faceting)},gv$1:function(){for(var a=0,b=0,c=0,e=this.elements,g=e.length;c<g;++c){var k=e[c].getAreaUnderCurve();k==k&&(a+=k,b++)}return a=0!=b?a/b:NaN},modifyDataWithAreaUnderCurve:function(){for(var a=
-1,d,c=0,e=this.elements,g=e.length;c<g;++c){var k=e[c];!k.data||!k.data.isPdf()||d&&d.contains(k.data.id)||(d||(d=new b.com_ibm_rave_codegenerator_util_List),-1==a&&(a=this.gv$1()),k.data.matchDensityWithAreaUnderCurve(a),d.add(k.data.id))}},replaceSharedScales:function(a){for(var b=0;b<this.coordinates.scales.length;++b)this.coordinates.scales[b].localScale||(this.coordinates.scales[b]=a.coordinates.scales[b]);for(b=0;b<this.elements.length;++b)for(var c=this.elements[b].aesthetics,e=0;e<c.length;++e)c[e].scale.localScale||
(c[e].scale=a.elements[b].aesthetics[e].scale)},getDataValuesFor:function(a,b){return this.graphSize?this.coordinates.getDataValuesFor(a,b,this.graphSize):[a,b]},layoutAxesAndInnerCell:function(a){if(this.vis.vx_10.isUpdateDataOnly()){if(!this.ie_16)throw new b.com_ibm_vis_exceptions_internal_EngineException("Update specification data requires a prior specification set.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UPDATE_DATA_REQUIRES_PRIOR_SPECIFICATION);return this.ie_16}if(this.vis.vx_10.isUpdateViewport())return this.coordinates.relayoutForNewOutRange(),
this.ie_16;var d=b.com_ibm_vis_engine_internal_Grammar.mc$9(a);a=b.com_ibm_vis_engine_internal_Grammar.mc$9(d);if(0>a.hh_2)throw new b.com_ibm_vis_exceptions_internal_EngineException("Grammar layout error--area is too small for the shapes within it",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);if(0>a.wt_3)throw new b.com_ibm_vis_exceptions_internal_EngineException("Grammar layout error--area is too narrow for the shapes within it",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);
var c=new b.com_ibm_vis_geom_Rect(a.x,a.y,a.wt_3,a.hh_2);a=this.ei$3(this.coordinates,a);var e=this.le$6(this.coordinates,a,c,0);e.y=c.y;e.hh_2=c.hh_2;e=this.le$6(this.coordinates,e,c,1);.2<Math.abs(e.hh_2-a.hh_2)/e.hh_2&&(e.x=c.x,e.wt_3=c.wt_3,e=this.le$6(this.coordinates,e,c,0));a=e;if(0>=a.hh_2||0>=a.wt_3){if(0<this.elements.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Grammar layout error--area is too small for the shapes within it",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);
0>a.wt_3&&(a.wt_3=0);0>a.hh_2&&(a.hh_2=0)}this.gSpec.axisPadding&&(a=this.an$10(a,this.coordinates,d));d=this.coordinates.scales;for(c=0;c<d.length;++c)if(e=d[c],!e.getTicks()){var g=0==this.coordinates.getDrawnPosition(c)?a.hh_2:a.wt_3;e.initializeForDisplayableExtent(b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry.makeSized(g,!1))}return this.ie_16=a},ei$3:function(a,d){for(var c=d.copy(),e=0;e<a.axes.length;++e){var g=a.axes[e];if(1==g.do_7&&g.isVisible()){var k=0,s=g.ae_21;if(g.dl_5)var f=
g.te_12.font.getHeight(),k=k+(g.estimateTickSize(a.containsTranspose())+f/6),k=s.markStyle&&null!=s.markStyle.size?k+b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(s.markStyle.size,f/3,d.hh_2):k+f/3;s.title&&(k=s.titleStyle&&s.titleStyle.font?k+b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(s.titleStyle.font,12,this.vis.vx_10.uc_1).getHeight():k+12);k<c.hh_2&&(g.dd_1&&(c.y+=k),c.hh_2-=k)}}return c},an$10:function(a,d,c){var e=0,g=0,k=0;c.x+c.wt_3==this.vis.getSize().wt_2&&
(k=1);c.y+c.hh_2==this.vis.getSize().hh_1&&(g=1);c.y==a.y&&(e=1);c=new b.com_ibm_vis_engine_internal_struct_Insets(e,0,g,k);if(!this.coordinates.containsPolar())for(e=0,d=d.axes,g=d.length;e<g;++e)k=d[e].computeExtraSpacingNeededForBounds(a),c=new b.com_ibm_vis_engine_internal_struct_Insets(Math.max(c.top,k.top),Math.max(c.left,k.left),Math.max(c.bottom,k.bottom),Math.max(c.right,k.right));return c.insetRectBy(a)},le$6:function(a,d,c,e){for(var g=new b.com_ibm_rave_codegenerator_util_List,k=0,s=a.axes,
f=s.length;k<f;++k){var u=s[k];u.do_7==e&&g.add(u)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(g,new b.com_ibm_vis_engine_internal_grammar_scale_AxisComparator);d=d.copy();for(e=0;e<g.size();++e)g.get(e).initializeForBounds(d);for(e=g.size()-1;0<=e;)u=g.get(e),(k=u.getAxisAlignedTo())?(k.adjustLayout(d,c),e-=2):e--,u.adjustLayout(d,c);for(e=g.size()-1;0<=e;--e)u=g.get(e),u.modifyInnerCellSize(d,this.gSpec.axesOverflow);if(a.containsPolar()){c=a=0;e=d.getExtent();k=0;g=g.arrayIterator();
for(s=g.length;k<s;++k)if(u=g[k],1==u.do_7||0==u.do_7&&u.dd_1){var f=4*u.sn_9,h=u.tz_2,u=u.getMaxTickLabelSize(e);a=Math.max(a,u.wt_2+f+h);c=Math.max(c,u.hh_1+f+h)}if(2*a>e.wt_2||2*c>e.hh_1)return d;d.x+=a;d.wt_3-=2*a;d.y+=c;d.hh_2-=2*c}return d},ca$13:function(a,d){var c=this.getId(),e=this.layoutAxesAndInnerCell(d),g=e.getTopLeft(),k=e.getExtent(),s=new b.com_ibm_vis_engine_internal_SceneParts(a);this.graphTranslate=g;this.graphSize=k;var f=this.md$5(k,this.coordinates.spec.style,g,c+"Coords",this.coordinates,
!0),u=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(f);s.beforeAxis.add(f);var h=this.coordinates.axes;this.od_4=this.getClipBounds();s.outerClipBounds=new b.com_ibm_vis_geom_Rect(this.od_4.x-this.graphTranslate.x,this.od_4.y-this.graphTranslate.y,this.od_4.wt_3,this.od_4.hh_2);this.createElementItems(e,c,s,u);for(e=h.length-1;0<=e;--e){var u=h[e],l=u.getBackgroundShapes(k,c);if(0<l.getChildrenCount()){u.defineLocationVisTransform(l,g,k);if(this.vis.vx_10.gt_4){b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility");
var u=u.ae_21,m=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(l),u=b.com_ibm_vis_engine_internal_util_SceneIdUtil.isGridBandId(m)?null:u.gridStyle.accessibility;b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(l,u,!0)}s.beforeAxis.add(l)}}if(b.com_ibm_vis_engine_internal_Grammar.hk$2(this.coordinates.spec.style)){e=this.md$5(k,this.coordinates.spec.style,g,c+"InStroke",this.coordinates,!1);f=f.shape;f=f.getStyleInfo();f.outline=b.com_ibm_vis_engine_internal_ColorUtil.TRANSPARENT;
f=e.shape;if(f=f.getStyleInfo())f.fill=null,b.com_ibm_vis_engine_internal_scene_StyleBuilder.hasTransparentFill(this.coordinates.spec.style)||(u=f.effect)&&u.so_5&&(f.effect=u.glow?new b.com_ibm_vis_engine_internal_RenderEffects(u.glow,null):null);s.beforeAxis.add(e)}f=0;for(e=h.length;f<e;++f)u=h[f],u.isVisible()&&(l=u.getForegroundShapes(k,c),0<l.getChildrenCount()&&(u.defineLocationVisTransform(l,g,k),s.axis.add(l)));s.addBeforeAxesItems();s.addItems(s.elementsBeforeAxis);s.addAxesItems();s.addItems(s.elementsAfterAxis);
s.addAfterAxesItems()},pw$1:function(){this.sf_5=null},createElementItems:function(a,d,c,e){var g=this.coordinates,k=a.getTopLeft();a=a.getExtent();var s=Array(this.elements.length),f=b.com_ibm_rave_codegenerator_lang_Array.create([this.elements.length],0);this.vis.vx_10.isUpdateDataOnly()&&this.pw$1();for(var u=0;u<this.elements.length;++u){var h=this.elements[u],l=h.makeShapes(d,g,a,u,c.outerClipBounds,e);s[u]=l;f[u]=h.ze_2}this.vis.getLogger().logStartTime(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,
"Label Collision");this.ce_38.moveLabels(s,this.coordShape.getBounds(),null,this.vis.vx_10);this.vis.getLogger().logEndTime(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Label Collision");h=0;for(d=s.length;h<d;++h)l=s[h],l.addLabelLines();f=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(f);for(d=0;d<f.length;++d){l=s[f[d]];h=this.elements[f[d]];e=!this.faceting.isFacetedElement(h);var g=h.getClip(),u=0<h.labelProducers.size(),m=l.getAllShapes();if(h.isLineWithPoints&&1==g){var m=
this.splitShapes(m),p=this.mu$6(m[0],k,a,2,e,c.outerClipBounds,h.spec,h,u,l);c.elementsBeforeAxis.add(p);p=new b.com_ibm_vis_geom_Rect(0,0,a.wt_2,a.hh_1);this.de$6(c,k,a,e,g,m[1],p,u,h,l)}else p=this.mu$6(m,k,a,g,e,c.outerClipBounds,h.spec,h,u,l),c.elementsBeforeAxis.add(p)}},splitShapes:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_List,e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e];"line"==k.getElementPart()?d.add(k):c.add(k)}return[d,
c]},de$6:function(a,d,c,e,g,k,s,f,u,h){var l=new b.com_ibm_rave_codegenerator_util_List,m=new b.com_ibm_rave_codegenerator_util_List;f?this.sa$3(k,s,l,m):b.com_ibm_vis_engine_internal_Grammar.sa$2(k,s,l,m);0<l.size()&&(k=this.mu$6(l,d,c,g,e,s,u.spec,u,f,h),a.elementsBeforeAxis.add(k));0<m.size()&&(k=this.mu$6(m,d,c,g,e,a.outerClipBounds,u.spec,u,f,h),a.elementsAfterAxis.add(k))},ce$30:function(a){if(a.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP){for(var d=!1,c=
0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c){var k=e[c];k.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP?this.ce$30(k):d=!0}d||a.removeBaseline();a.getParent()&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.addGroupId(a)}},sa$3:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_Map,k=0;a=a.arrayIterator();for(var s=a.length;k<s;++k){var f=a[k],u=f.id,h=f.getBounds();0<u.indexOf("L")?(u=b.com_ibm_vis_engine_internal_Grammar.gw$2(f),(u=g.get(u))&&
u.add(f)):d.intersectsRect(h)?(e.add(f),u=b.com_ibm_vis_engine_internal_Grammar.gw$2(f),g.put(u,e)):(c.add(f),u=b.com_ibm_vis_engine_internal_Grammar.gw$2(f),g.put(u,c))}},mu$6:function(a,d,c,e,g,k,s,f,u,h){var l=f.isLineWithPoints?"lineWithPoints":f.type;g=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createElementGroupNode(l,f.baseline);g.el_2=f.labelProducers&&!f.labelProducers.isEmpty();var m=g.getChildren();c=new b.com_ibm_vis_geom_Rect(0,0,c.wt_2,c.hh_1);var p;if(this.coordinates.containsCluster()||
this.coordinates.containsStacking()&&!this.coordinates.containsPolar())p=new b.com_ibm_rave_codegenerator_util_Map,this.pa$4(p,h.createClusterAndStackGroups(),l,f.baseline,g);h=0;a=a.arrayIterator();for(l=a.length;h<l;++h){var q=a[h];if(!b.com_ibm_vis_engine_internal_ImageStyle.addImageShape(q,m)){var r=q.createSceneNode();this.vis.vx_10.gt_4&&(1009==q.getType()&&s.label&&s.label[0].style&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(r,
s.label[0].style.accessibility,!1)),q._n_1&&s.style&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(r,s.style.accessibility,!1)));(p?this.fn$10(g,p,r):g).addChild(r);if(q.getSpanClipBounds()&&4!=e){var t=q.getSpanClipBounds(),w=q.getBounds();1==e&&t.intersectsRect(w)&&t.extendToRect(k);r.setClipBounds(t)}this.sd$9(q,k)||(r.od_1=!0)}}e=this.coordinates.containsProjection()?this.coordShape.getBounds():
2==e?c:k;g.setClipBounds(e);g.translate(d.x,d.y);this.vis.vx_10.gt_4&&f.spec.style&&!u&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(g,f.spec.style.accessibility,!0));(this.coordinates.containsCluster()||this.coordinates.containsStacking()&&!this.coordinates.containsPolar())&&this.ce$30(g);g.link=f.getLinkTarget();return g},sd$9:function(a,b){var c=a.getBounds();return b.intersectsRect(c)?!0:!1},
fn$10:function(a,b,c){return(b=b.get(c.getId()))?b:a},pa$4:function(a,d,c,e,g){if(d){if(d.map)for(var k=0,s=d.map.keySet().arrayIterator(),f=s.length;k<f;++k){var u=d.map.get(s[k]),h=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createElementGroupNode(c,e);h.el_2=g.el_2;g.addChild(h);this.pa$4(a,u,c,e,h)}if(d.list)for(c=0,d=d.list.arrayIterator(),e=d.length;c<e;++c)a.put(d[c].id,g)}},pa$5:function(a,b,c,e,g,k){b=this.layoutAxesAndInnerCell(b);this.graphTranslate=b.getTopLeft();this.graphSize=
b.getExtent();b=0;for(var s=this.elements,f=s.length;b<f;++b){var u=s[b];u.extent||(u.extent=g,u.size=u.calculateDefaultShapeSize(u.spec.style))}a.addAll(this.faceting.makeUnsharedCellsScene(this,k,a,c,e))},isFacetChart:function(){return this.faceting!=b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACETING_NONE},ce$31:function(a,d,c){if(this.faceting!=b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACETING_NONE){this.faceting.initializeFaceting(this.getId(),a,this.getExtent());var e=this.faceting.getPanelSize(a,
this.getExtent());this.pa$5(a,b.com_ibm_vis_geom_Rect.makeRectFromDim(this.getExtent()),d,c,e,e)}else this.ca$13(a,b.com_ibm_vis_geom_Rect.makeRectFromDim(this.getExtent()))},md$5:function(a,d,c,e,g,k){var s;if(g&&g.isPolygonal(e)){s=b.com_ibm_vis_engine_internal_grammar_scale_Tick.getTicksLocation(g.axes[1].tk_2,a,!1);for(var f=b.com_ibm_rave_codegenerator_lang_Array.create([s.length],0),u=0;u<f.length;++u)f[u]=0;s=1==s.length?b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(s[0],f[0],
0,0,d):b.com_ibm_vis_engine_internal_scene_ItemBuilder.makePoly(s,f,d)}else s=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(0,0,a.wt_2,a.hh_1,d);g&&(s=g.modifyShape(s,a));this.coordShape=s;s.setID(e);b.com_ibm_vis_engine_internal_ImageStyle.addIconToBackground(s);d||(s.setFill(null),s.setOutline(null));a=k?b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createCoordinatesNode(s,g.spec):s.createSceneNode();a.translate(c.x,c.y);return a},createContent:function(){var a=b.com_ibm_vis_engine_internal_ContentFrame.prototype.createContent.apply(this).cn_16,
d=this.vis.vx_10;this.coordinates.setVisSizeForTransform(this.vis.getSize());this.ce$31(a,this.de_24,d);if(this.fr_3)for(var c=0,e=this.fr_3.arrayIterator(),g=e.length;c<g;++c){var k=e[c];k.faceting.initializeFaceting(this.getId(),a,this.getExtent());var s=k.faceting.getPanelSize(a,this.getExtent()),f=this.getExtent();k.layoutWithBounds(b.com_ibm_vis_geom_Rect.makeRectFromDim(s),f,this.getOverallBounds());f=k.getExtent();k.pa$5(a,b.com_ibm_vis_geom_Rect.makeRectFromDim(f),this.de_24,d,f,s)}d=0;c=
this.elements;for(e=c.length;d<e;++d)c[d].cachedShapes=null;this.coordinates.cleanupTransforms();return new b.com_ibm_vis_engine_internal_SizedContent(a,null)},getContentSizeInfo:function(a,d){if(1==(this.coordinates.spec.dimensions?this.coordinates.spec.dimensions.length:0))return this.gr$10();for(var c=0,e=0,g=0,k=this.elements,s=k.length;g<s;++g)var f=k[g].getPreferredSize(),c=Math.max(c,f.wt_2),e=Math.max(e,f.hh_1);0==c&&(c=400);0==e&&(e=400);this.coordinates.axes&&0!=this.coordinates.axes.length||
(c+=2,e+=2);c=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(c,e);return new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.UNLIMITED)},gr$10:function(){var a=0,d=0,c=this.gz$19(),e=this.coordinates.axes&&0!=this.coordinates.axes.length?this.coordinates.axes:null,g=new b.com_ibm_vis_geom_Dim(0,0),k=new b.com_ibm_vis_geom_Dim(0,0);if(e)for(a=new b.com_ibm_vis_geom_Rect(0,0,c.wt_2,c.hh_1),
d=0;d<e.length;++d){e[d].initializeForBounds(a);e[d].adjustLayout(a,a);var s=e[d].getPreferredSize();g.hh_1=Math.max(g.hh_1,s.hh_1);g.wt_2=Math.max(g.wt_2,s.wt_2);k.hh_1+=s.hh_1;k.wt_2+=s.wt_2;e[d].reset()}a=this.coordinates.scales[0].isCategorical();d=this.coordinates.transposesAxes();c=this.gz$20(c);e=0<this.elements.length&&"point"==this.elements[0].type;d?(a=a?Math.max(10,c.wt_2*this.coordinates.scales[0].getCategoryCount()):400,a=Math.max(g.wt_2,a),d=e?2*c.hh_1+k.hh_1:c.hh_1+k.hh_1):(d=a?Math.max(10,
c.hh_1*this.coordinates.scales[0].getCategoryCount()):400,d=Math.max(d,g.hh_1),a=e?2*c.wt_2+k.wt_2:c.wt_2+k.wt_2);return new b.com_ibm_vis_engine_internal_layout_SizeInfo(b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(a,d),b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.UNLIMITED)},gz$19:function(){var a=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(400,400),d=this.modifyWithBoundsSize(a).toDim(b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE,
b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE),a=d.wt_2,d=d.hh_1,c=this.coordinates.scales[0].isCategorical(),e=c?this.coordinates.scales[0].getCategoryCount():0,g=this.coordinates.transposesAxes(),k=this.gz$20(new b.com_ibm_vis_geom_Dim(0,0));c&&(g?a=Math.max(10,k.wt_2*e):d=Math.max(10,k.hh_1*e));if(k=this.coordinates.axes&&0!=this.coordinates.axes.length?this.coordinates.axes:null)for(var s=0,f=k.length;s<f;++s){var u=k[s].estimateTickSize(g);c&&(g?(u=Math.max(10,u*e),a=Math.max(a,u)):(u=Math.max(10,
u*e),d=Math.max(d,u)))}return new b.com_ibm_vis_geom_Dim(a,d)},gz$20:function(a){for(var d=new b.com_ibm_vis_geom_Dim(0,0),c,e,g=0,k=this.elements,s=k.length;g<s;++g){c=k[g];var f=c.spec.style,u;u="point"==c.type?20:"interval"!=c.type||this.coordinates.containsPolar()?400:50;f?(c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f.width,a.wt_2,a.wt_2),e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f.height,a.hh_1,a.hh_1),null==c&&(c=null==f.size?u:
b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f.size,a.wt_2,a.wt_2)),null==e&&(e=null==f.size?u:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f.size,a.hh_1,a.hh_1))):e=c=u;d.wt_2=Math.max(d.wt_2,c);d.hh_1=Math.max(d.hh_1,e)}return d},addFacetedGrammar:function(a){this.getFacetedGrammars().add(a)},getFacetTarget:function(){var a,b=this.faceting.getFacetSpec();b&&b.targetElement&&(a=this.vis.getByID(b.targetElement.$ref).grammar);return a},getSharedLayoutInfo:function(){this.sf_5||
(this.sf_5=new b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo);return this.sf_5},getOuterGraphBounds:function(){return this.od_4},isLabelCollisionMethodNone:function(){return this.ce_38.isNone()},getFacetedGrammars:function(){this.fr_3||(this.fr_3=new b.com_ibm_rave_codegenerator_util_List);return this.fr_3},getCoordShape:function(){return this.coordShape},setScaleViewport:function(a){for(var d=0;d<this.coordinates.axes.length;++d){var c=this.coordinates.axes[d],e=c.wl_2;c.gr_3.og_3=
b.com_ibm_vis_engine_internal_data_Range.makeInverse(a[e][0],a[e][1])}},resetScaleOutRanges:function(){for(var a=0;a<this.coordinates.axes.length;++a)this.coordinates.axes[a].gr_3.resetOutRange()},getChartCount:function(){return 1},screenToCoordinates:function(a,b,c){return 0<a?null:this.coordinates.screenToCoordinates(b,c,this.getInnerCellBounds())},pointInChart:function(a,b,c){return 0<a?!1:this.coordinates.isInViewport(b,c,this.getInnerCellBounds())},getCollisionHandlerMethod:function(){return this.ce_38.getMethod()}});
b.com_ibm_vis_engine_internal_Grammar.mc$9=function(a){var d=Math.ceil(a.x),c=Math.ceil(a.y),e=Math.floor(a.getMaxX());a=Math.floor(a.getMaxY());return new b.com_ibm_vis_geom_Rect(d,c,e-d,a-c)};b.com_ibm_vis_engine_internal_Grammar.hk$2=function(a){return a&&a.stroke&&null!=a.stroke.width?1<b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,null,null):!1};b.com_ibm_vis_engine_internal_Grammar.sa$2=function(a,b,c,e){var g=0;a=a.arrayIterator();for(var k=a.length;g<
k;++g){var s=a[g],f=s.getBounds();b.intersectsRect(f)?e.add(s):c.add(s)}};b.com_ibm_vis_engine_internal_Grammar.gw$2=function(a){a=a.getRows();if(!a)return"ref";for(var b="|",c=0,e=a.length;c<e;++c)b=b+"|"+a[c];return b};b.com_ibm_vis_engine_internal_Grammar.AZ_1=12;b.com_ibm_vis_engine_internal_Grammar.AC_2=.2;b.com_ibm_vis_engine_internal_geom_qt_QuadTree=b.com_ibm_init_declare({mz_1:0,left:0,rh_1:0,top:0,bo_2:0,constructor:function(a,d,c,e,g){this.covering=new b.com_ibm_rave_codegenerator_util_List;
this.intersecting=new b.com_ibm_rave_codegenerator_util_List;this.maxListSize=a;this.left=c;this.top=d;this.bottom=e;this.right=g},add:function(a){var b=a.testIntersection(this.top,this.left,this.bottom,this.right);2==b?this.covering.add(a):1==b&&(this.intersecting?(this.intersecting.add(a),this.intersecting.size()>this.maxListSize&&1<(this.right-this.left)*(this.bottom-this.top)&&this.si$1()):(this.NW.add(a),this.NE.add(a),this.SW.add(a),this.SE.add(a)))},remove:function(a){0!=a.testIntersection(this.top,
this.left,this.bottom,this.right)&&(this.rc$1(this.covering,a),this.intersecting?this.rc$1(this.intersecting,a):(this.NW.remove(a),this.SE.remove(a),this.SW.remove(a),this.NE.remove(a)))},intersects:function(a,b,c,e){if(this.bottom<=a||this.right<=b||this.top>=c||this.left>=e)return!1;if(0<this.covering.size())return!0;if(this.intersecting)for(var g=0,k=this.intersecting.arrayIterator(),s=k.length;g<s;++g){if(0!=k[g].testIntersection(a,b,c,e))return!0}else if(this.NW.intersects(a,b,c,e)||this.NE.intersects(a,
b,c,e)||this.SW.intersects(a,b,c,e)||this.SE.intersects(a,b,c,e))return!0;return!1},addIntersecting:function(a,b,c,e,g,k){if(!(this.bottom<=b||this.right<=c||this.top>=e||this.left>=g||(a.addAll(this.covering),a.size()>=k)))if(this.intersecting){k=0;for(var s=this.intersecting.arrayIterator(),f=s.length;k<f;++k){var u=s[k];0!=u.testIntersection(b,c,e,g)&&a.add(u)}}else this.NW.addIntersecting(a,b,c,e,g,k),this.NE.addIntersecting(a,b,c,e,g,k),this.SW.addIntersecting(a,b,c,e,g,k),this.SE.addIntersecting(a,
b,c,e,g,k)},rc$1:function(a,b){for(var c=0;c<a.size();++c)if(a.get(c).item==b.item)return a.removeAt(c);return null},si$1:function(){var a=(this.left+this.right)/2,d=(this.top+this.bottom)/2;this.NW=new b.com_ibm_vis_engine_internal_geom_qt_QuadTree(this.maxListSize,this.top,this.left,d,a);this.NE=new b.com_ibm_vis_engine_internal_geom_qt_QuadTree(this.maxListSize,this.top,a,d,this.right);this.SW=new b.com_ibm_vis_engine_internal_geom_qt_QuadTree(this.maxListSize,d,this.left,this.bottom,a);this.SE=
new b.com_ibm_vis_engine_internal_geom_qt_QuadTree(this.maxListSize,d,a,this.bottom,this.right);for(var a=0,d=this.intersecting.arrayIterator(),c=d.length;a<c;++a){var e=d[a];this.NW.add(e);this.NE.add(e);this.SW.add(e);this.SE.add(e)}this.intersecting=null},structureDebug:function(){return this.intersecting?"("+this.lu$1(this.covering,!0)+this.lu$1(this.intersecting,!1)+")":"["+this.lu$1(this.covering,!0)+this.NW.structureDebug()+this.NE.structureDebug()+this.SW.structureDebug()+this.SE.structureDebug()+
"]"},lu$1:function(a,b){for(var c="",e=0,g=a.arrayIterator(),k=g.length;e<k;++e)c+=g[e].item.toString();b&&0<c.length&&(c="{"+c+"}");return c}});b.com_ibm_vis_engine_internal_geom_qt_QTItem=b.com_ibm_init_declare({left:0,right:0,top:0,bottom:0,constructor:function(a,b,c,e,g){this.item=a;this.left=c;this.top=b;this.bottom=e;this.right=g},getLeft:function(){return this.left},getRight:function(){return this.right},getTop:function(){return this.top},getBottom:function(){return this.bottom},getItem:function(){return this.item},
testIntersection:function(a,b,c,e){return this.bottom<=a||this.right<=b||this.top>=c||this.left>=e?0:this.top<=a&&this.left<=b&&this.bottom>=c&&this.right>=e?2:1}});b.com_ibm_vis_engine_internal_geom_qt_QTItem.MISS=0;b.com_ibm_vis_engine_internal_geom_qt_QTItem.HIT=1;b.com_ibm_vis_engine_internal_geom_qt_QTItem.COVER=2;b.com_ibm_vis_engine_internal_grammar_label_Stress=b.com_ibm_init_declare({ls_3:0,ls_2:0,cs_5:0,fs_6:0,ds_2:0,constructor:function(a){this.ls_3=a;this.ds_2=this.cs_5=this.ls_2=0;this.cl_6=
new b.com_ibm_rave_codegenerator_util_List},getCollisionLabels:function(){return this.cl_6},addCollisionLabel:function(a){this.cl_6.add(a)},getIntersectionStress:function(){return this.ls_3+this.ls_2+this.cs_5+this.fs_6},addToLabelStress:function(a){this.ls_3+=a},addToLabelCalloutStress:function(a){this.ls_2+=a},addToFixedShapeStress:function(a){this.fs_6+=a},addToCalloutStress:function(a){this.cs_5+=a},getCombinedStress:function(){return this.ds_2+this.getIntersectionStress()},betterThan:function(a){return this.getIntersectionStress()+
.001<a.getIntersectionStress()||!(a.getIntersectionStress()+.001<this.getIntersectionStress())&&this.getCombinedStress()+.001<a.getCombinedStress()?!0:!1}});b.com_ibm_vis_engine_internal_grammar_label_Stress.EO_5=.001;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_label_Stress.MAXIMALLY_BAD=new b.com_ibm_vis_engine_internal_grammar_label_Stress(1.7976931348623157E308)});b.com_ibm_rave_codegenerator_util_LinkedHashMap=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_HashMap,
{constructor:function(){this._accessOrder=3==arguments.length?arguments[2]:!1},containsValue:function(a){var b=this._head;if(null==a)for(;null!=b;){if(null==b.value)return!0;b=b.chainForward}else for(;null!=b;){if(a.equals(b.value))return!0;b=b.chainForward}return!1},get:function(a){if(null==a)a=this._findNullKeyEntry();else{var b=this._hash(a);a=this._findNonNullKeyEntry(a,(b&2147483647)%this._elementData.length,b)}if(null==a)return null;if(this._accessOrder&&this._tail!=a){var b=a.chainBackward,
c=a.chainForward;c.chainBackward=b;null!=b?b.chainForward=c:this._head=c;a.chainForward=null;a.chainBackward=this._tail;this._tail=this._tail.chainForward=a}return a.value},_putImpl:function(a,b){var c;0==this._elementCount&&(this._head=this._tail=null);if(null==a)c=this._findNullKeyEntry(),null==c?(++this._elementCount>this._threshold&&this._rehash(),c=this._createHashedEntry(null,0,0)):this._linkEntry(c);else{var e=this._hash(a),g=(e&2147483647)%this._elementData.length;c=this._findNonNullKeyEntry(a,
g,e);null==c?(++this._elementCount>this._threshold&&(this._rehash(),g=(e&2147483647)%this._elementData.length),c=this._createHashedEntry(a,g,e)):this._linkEntry(c)}e=c.value;c.value=b;this.removeEldestEntry(this._head)&&this.remove(this._head.key);return e},remove:function(a){a=this._removeEntry(a);if(null==a)return null;var b=a.chainBackward,c=a.chainForward;null!=b?b.chainForward=c:this._head=c;null!=c?c.chainBackward=b:this._tail=b;return a.value},_createHashedEntry:function(a,b,c){a={key:a,hash:c,
next:this._elementData[b],storedKeyHash:c&4294967294,chainForward:null,chainBackward:null};this._elementData[b]=a;this._linkEntry(a);return a},_linkEntry:function(a){if(this._tail!=a)if(null==this._head)this._head=this._tail=a;else{var b=a.chainBackward,c=a.chainForward;null==b?null!=c?this._accessOrder&&(this._head=c,c.chainBackward=null,a.chainBackward=this._tail,a.chainForward=null,this._tail=this._tail.chainForward=a):(a.chainBackward=this._tail,a.chainForward=null,this._tail=this._tail.chainForward=
a):null!=c&&this._accessOrder&&(b.chainForward=c,c.chainBackward=b,a.chainForward=null,a.chainBackward=this._tail,this._tail=this._tail.chainForward=a)}},clear:function(){b.com_ibm_rave_codegenerator_util_HashMap.prototype.clear.apply(this,arguments);this._head=this._tail=null},removeEldestEntry:function(){return!1},_getKeysArray:function(){for(var a=0,b=Array(this._elementCount),c=this._head;null!=c;)b[a++]=c.key,c=c.chainForward;return b},_getEntriesArray:function(){for(var a=0,b=Array(this._elementCount),
c=this._head;null!=c;)b[a++]=c,c=c.chainForward;return b},_getValuesArray:function(){for(var a=0,b=Array(this._elementCount),c=this._head;null!=c;)b[a++]=c.value,c=c.chainForward;return b}});b.com_ibm_rave_codegenerator_util_LinkedHashSet=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Set,{_createBackingMap:function(){return b.com_ibm_init_declare.create(b.com_ibm_rave_codegenerator_util_LinkedHashMap,arguments)}});b.com_ibm_vis_engine_internal_grammar_label_CollisionItem=b.com_ibm_init_declare({ee_6:0,
ox:0,oy:0,nc_2:!1,ie_15:0,constructor:function(a,d,c){this.ss_4=a;this.ee_6=c;this.text=d;this.ss_5=new b.com_ibm_vis_engine_internal_grammar_label_Stress(0);this.bd_8=a.getBoundsForLabel(this.text).inset(.1);this.pu_2=(a=a.getPlaqueForLabel(this.text))?a.getBounds():null;this.ox=this.bd_8.x;this.oy=this.bd_8.y;this.nc_2=!0;this.ie_15=b.com_ibm_vis_engine_internal_grammar_label_CollisionItem.ce_36++},asQTItem:function(){return new b.com_ibm_vis_engine_internal_geom_qt_QTItem(this,this.bd_8.y,this.bd_8.x,
this.bd_8.getY2(),this.bd_8.getX2())},getOverallBounds:function(){return this.pu_2&&!b.com_ibm_vis_engine_internal_grammar_ShapeList.labelHasTransparentPlaque(this.text)?this.pu_2:this.bd_8},moveBy:function(a,b,c){c&&(this.nc_2=!0);this.bd_8.translate(a,b);this.pu_2&&this.pu_2.translate(a,b)},commitMove:function(){var a=this.bd_8.x-this.ox,b=this.bd_8.y-this.oy;1E-6<a*a+b*b&&this.ss_4.moveLabel(this.text,a,b)},getElementIndex:function(){return this.ee_6},needsCheck:function(){return this.nc_2},setNeedsCheck:function(a){this.nc_2=
a},getDistanceMoved:function(a){return Math.abs(a.x-this.ox)+Math.abs(a.y-this.oy)},index:function(){return this.ie_15},makeCallout:function(){return this.ss_4.makeLabelLine(this.text,this.getOverallBounds())},setStress:function(a){this.ss_5=a},getStress:function(){return this.ss_5},getShape:function(){return this.ss_4.getShapeForLabel(this.text)}});b.com_ibm_vis_engine_internal_grammar_label_CollisionItem.IT_2=.1;b.com_ibm_vis_engine_internal_grammar_label_CollisionItem.ce_36=0;b.com_ibm_vis_engine_internal_grammar_ShapeList=
b.com_ibm_init_declare({ii_1:"",ne_7:0,constructor:function(){this.ee_2=new b.com_ibm_rave_codegenerator_util_List;this.el_1=new b.com_ibm_rave_codegenerator_util_List;this.pe_9=new b.com_ibm_rave_codegenerator_util_List;this.nt_1=new b.com_ibm_rave_codegenerator_util_List;this.ae_3=new b.com_ibm_rave_codegenerator_util_List;this.pe_8=new b.com_ibm_rave_codegenerator_util_HashMap;this.se_26=new b.com_ibm_rave_codegenerator_util_HashMap;this.lu_2=new b.com_ibm_rave_codegenerator_util_HashMap;this.lr_2=
new b.com_ibm_rave_codegenerator_util_HashMap;this.ln_4=new b.com_ibm_rave_codegenerator_util_HashMap},getElementLabels:function(){return this.el_1},addElementShape:function(a){this.ee_2.add(a);this.ae_3.add(a);a.setID(this.ii_1+"S"+this.ne_7++)},addPlaqueAndLabelForShape:function(a,d,c,e,g){this.el_1.add(d);if(e){e=this.ae_3.indexOf(a);for(var k=!1;!k&&e+1<this.ae_3.size();){var s=this.ae_3.get(e+1);this.getShapeForLabel(this.getLabelForPlaque(s))==a?e+=2:this.getShapeForLabel(s)==a?e++:k=!0}c?(this.ae_3.add(e+
1,c),this.ae_3.add(e+2,d),this.pe_8.put(d,c),this.pe_9.add(c),this.lu_2.put(c,d)):this.ae_3.add(e+1,d)}else c&&(this.ae_3.add(c),this.pe_9.add(c),this.pe_8.put(d,c),this.lu_2.put(c,d)),this.ae_3.add(d);this.se_26.put(d,a);this.lr_2.put(d,g);g=this.ln_4.get(a);g||(g=new b.com_ibm_rave_codegenerator_util_List,this.ln_4.put(a,g));c&&c.setID(a.id.CPVisEngineReplace("S","LB")+"P"+g.size());d.setID(a.id.CPVisEngineReplace("S","L")+"P"+g.size());g.add(d)},addNonElementShape:function(a){this.nt_1.add(a);
this.ae_3.add(a);a.setID(this.ii_1+"S"+this.ne_7++)},getAllShapes:function(){this.dt$4();return b.com_ibm_rave_codegenerator_util_Collections.unmodifiableList(this.ae_3)},createClusterAndStackGroups:function(){if(this.ee_2.isEmpty())return null;var a=new b.com_ibm_vis_engine_internal_util_Branch;a.list=this.ae_3;var d=this.ee_2.get(0).ef_2.getKey(),d=null==d?0:d.split(b.com_ibm_rave_codegenerator_util_BasicFactory.getRegExBarString()).length;this.sc$4(a,0,d);return a},sc$4:function(a,b,c){this.se$6(a,
b);if(c>b+2)for(var e=0,g=a.map.keySet().arrayIterator(),k=g.length;e<k;++e)this.sc$4(a.map.get(g[e]),b+1,c)},se$6:function(a,d){a.map=new b.com_ibm_rave_codegenerator_util_LinkedMap;for(var c=0,e=a.list.arrayIterator(),g=e.length;c<g;++c){var k=e[c],s=k.ef_2.getKey(),s=null==s?"0":this.se$7(s,d),f=a.map.get(s);f||(f=new b.com_ibm_vis_engine_internal_util_Branch,f.list=new b.com_ibm_rave_codegenerator_util_List,a.map.put(s,f),f.key=null==a.key?s:a.key+"|"+s);f.list.add(k)}a.list=null},se$7:function(a,
d){return a.split(b.com_ibm_rave_codegenerator_util_BasicFactory.getRegExBarString())[d]},getElementShapes:function(){return this.ee_2},at$2:function(){if(!this.rt_3){var a=Math.max(this.ee_2.size()+this.nt_1.size(),16);this.rt_3=new b.com_ibm_rave_codegenerator_util_HashMap(4*a/3)}},dt$4:function(){if(this.rt_3){for(var a=this.ae_3.listIterator();a.hasNext();){var b=a.next();this.rt_3.containsKey(b)&&((b=this.rt_3.get(b))?a.set(b):a.remove())}this.rt_3=null}},elementIterator:function(){return new b.com_ibm_vis_engine_internal_grammar_ShapeIterator(this,
this.ee_2,0)},nonElementIterator:function(){return new b.com_ibm_vis_engine_internal_grammar_ShapeIterator(this,this.nt_1,0)},elementLabelIterator:function(a){return new b.com_ibm_vis_engine_internal_grammar_ShapeIterator(this,this.el_1,a)},plaqueIterator:function(){return new b.com_ibm_vis_engine_internal_grammar_ShapeIterator(this,this.pe_9,0)},getPlaqueForLabel:function(a){return this.pe_8.get(a)},getLabelForPlaque:function(a){return this.lu_2.get(a)},getShapeForLabel:function(a){return this.se_26.get(a)},
removeLinkages:function(a){this.at$2();this.rt_3.put(a,null);this.lu_2.remove(a);this.pe_8.remove(a);var b=this.se_26.get(a);b&&(this.se_26.remove(a),this.ln_4.get(b).remove(a));this.ln_4.remove(a)},replace:function(a,b){this.at$2();this.rt_3.put(a,b);b.setID(a.id);var c=this.lu_2.get(a);c&&(this.lu_2.put(b,c),this.pe_8.put(c,b),this.lu_2.remove(a));if(c=this.pe_8.get(a))this.pe_8.put(b,c),this.lu_2.put(c,b),this.pe_8.remove(a);if(c=this.se_26.get(a))this.se_26.put(b,c),this.se_26.remove(a),c=this.ln_4.get(c),
c.set(c.indexOf(a),b);if(c=this.ln_4.get(a))this.ln_4.remove(a),this.ln_4.put(b,c)},sortByAestheticGroup:function(){this.sort(new b.com_ibm_vis_engine_internal_grammar_GroupComparator)},sort:function(a){for(var d=0,c=0,e=this.ae_3.arrayIterator(),g=e.length;c<g;++c)e[c].setIndex(d++);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.ee_2,a);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.el_1,a);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.pe_9,a);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.nt_1,
a);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.ae_3,a)},addLabelLine:function(a,b,c,e){e?(b=this.ae_3.indexOf(c),this.ae_3.add(b+1,a)):this.ae_3.add(a);a.setID(c.id.CPVisEngineReplace("L","LN"))},applyShapeIDs:function(a){this.ii_1=a;a=this.ne_7=0;for(var b=this.getAllShapes().arrayIterator(),c=b.length;a<c;++a)b[a].setID(this.ii_1+"S"+this.ne_7++)},addLabelLines:function(){for(var a=0,d=this.el_1.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=this.getShapeForLabel(e);if(g){var k=
this.pe_8.get(e),s=e.getBounds();k&&!b.com_ibm_vis_engine_internal_grammar_ShapeList.labelHasTransparentPlaque(e)&&(s=k.getBounds());if(k=this.makeLabelLine(e,s))this.addLabelLine(k,g,e,!0),k.setVisible(g.isVisible()&&e.isVisible()),null!=g.getKey()&&k.setKey(g.getKey()+"|LN")}}},makeLabelLine:function(a,b){var c=this.getShapeForLabel(a);if(!c)return null;var e=this.lr_2.get(a);return e?e.makeLabelLine(b,c):null},moveLabel:function(a,b,c){a.affine(1,b,1,c,!1);(a=this.getPlaqueForLabel(a))&&a.affine(1,
b,1,c,!1)},getBoundsForLabel:function(a){var b=this.getPlaqueForLabel(a);return b?b.getBounds():a.getBounds()}});b.com_ibm_vis_engine_internal_grammar_ShapeList.labelHasTransparentPlaque=function(a){if((a=a.backgroundStyle)&&null!=a.fill&&(a=a.fill,"transparent"!=a&&(a=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_ColorSpec)?a:null))){var d=b.com_ibm_vis_engine_internal_ColorUtil.createColorFromColorSpec(a);if(null!=a.a&&0==a.a||0==d.getRGBA()[3])return!0}return!1};
b.com_ibm_vis_engine_internal_util_Branch=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_ShapeIterator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Iterator,{constructor:function(a,b,c){this.shapeList=a;this.it=b.listIterator(c)},hasNext:function(){return this.it.hasNext()},next:function(){return this.currentItem=this.it.next()},remove:function(){if(!this.currentItem)throw new b.com_ibm_rave_codegenerator_io_WebEngineException;this.it.remove();this.shapeList.removeLinkages(this.currentItem);
this.currentItem=null},replace:function(a){if(!this.currentItem)throw new b.com_ibm_rave_codegenerator_io_WebEngineException;a?(this.it.set(a),this.shapeList.replace(this.currentItem,a)):this.remove()},seekTo:function(a){for(;this.hasNext();)if(this.next()==a)return!0;return!1}});b.com_ibm_vis_engine_internal_grammar_GroupComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=b.getAestheticGroup()-a.getAestheticGroup();0==c&&(c=a.getIndex()-b.getIndex());
return c}});b.com_ibm_vis_engine_internal_grammar_label_CollisionComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a.getOverallBounds().y-b.getOverallBounds().y;if(0!=c)return 0>c?-1:1;c=a.getOverallBounds().x-b.getOverallBounds().x;return 0!=c?0>c?-1:1:a.ie_15-b.ie_15}});b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler=b.com_ibm_init_declare({penalty:0,maxMoveDistance:0,mp_2:0,constructor:function(a){this.mo_13=null==a?"limited":
a},moveLabels:function(a,d,c,e){if("none"!=this.mo_13&&(e=d.getExtent(),a=this.buildStructures(a,e),0!=a.length)){var g=b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.gz$15(a);this.setAlgorithmLoopParameters(e,a.length,g);d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(d.x,d.y,d.wt_3,d.hh_2);c&&(d=c.modifyShape(d,e));this.back=d.getGeom();for(c=0;c<this.mp_2&&!this.ss$2(a);++c);c=0;for(d=a.length;c<d;++c)a[c].commitMove()}},buildStructures:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.gm$1(a);
if(0==c.length)return c;var e=d.wt_2,g=d.hh_1;this.fixedQT=new b.com_ibm_vis_engine_internal_geom_qt_QuadTree(20,-g/4,-e/4,5*g/4,5*e/4);this.itemsQT=new b.com_ibm_vis_engine_internal_geom_qt_QuadTree(20,-g/4,-e/4,5*g/4,5*e/4);this.itemsAndCallouts=new b.com_ibm_rave_codegenerator_util_HashMap;for(g=0;g<c.length;++g)e=c[g].getOverallBounds(),this.itemsQT.add(new b.com_ibm_vis_engine_internal_geom_qt_QTItem(c[g],e.y,e.x,e.getY2(),e.getX2())),this.uu$1(c[g]);this.am$2(a);return c},setAlgorithmLoopParameters:function(a,
b,c){var e=Math.max(2,Math.ceil(c.wt_2/12)),g=Math.max(2,Math.ceil(c.hh_1/4));this.xr_1=[0,0,e,-e,e,-e,e,-e];this.yr_1=[g,-g,0,0,-g,g,g,-g];b=8*b*Math.log(b);"full"==this.mo_13?(this.mp_2=Math.min(100,1E6/b),this.maxMoveDistance=a.getMin(),this.penalty=0):(this.mp_2=Math.min(20,5E4/b),this.maxMoveDistance=Math.max(3*c.hh_1,.1*a.getMin()),this.penalty=1)},ss$2:function(a){for(var b=!0,c=0,e=a.length;c<e;++c){var g=a[c];g.nc_2&&(g.setStress(this.computeStress(g,0,0,g.getOverallBounds(),1.7976931348623157E308)),
0<g.getStress().getIntersectionStress()?this.av$1(g,g.getStress())&&(b=!1):g.nc_2=!1)}return b},av$1:function(a,b){for(var c=-1,e=b,g=a.getOverallBounds(),k=g.copy(),s=0;4>s;++s){k.x=g.x+this.xr_1[s];k.y=g.y+this.yr_1[s];var f=this.computeStress(a,this.xr_1[s],this.yr_1[s],k,e.getCombinedStress());f.betterThan(e)&&(e=f,c=s);if(0==f.getCombinedStress())break}if(0>c){for(s=0;8>s&&(k.x=g.x+5*this.xr_1[s],k.y=g.y+5*this.yr_1[s],f=this.computeStress(a,this.xr_1[s],this.yr_1[s],k,e.getCombinedStress()),
f.betterThan(e)&&(e=f,c=s),0!=f.getCombinedStress());++s);if(0>c)return!1}var u=this.xr_1[c],c=this.yr_1[c];if(0<e.getIntersectionStress())for(s=0;4>s;++s)if(u*=2,c*=2,k.x=g.x+u,k.y=g.y+c,f=this.computeStress(a,u,c,k,e.getCombinedStress()),f.betterThan(e))e=f;else{u/=2;c/=2;break}this.me$44(a,u,c,b,e);a.setStress(e);a.nc_2=0<b.getIntersectionStress();return!0},computeStress:function(a,d,c,e,g){var k=new b.com_ibm_vis_engine_internal_grammar_label_Stress(0);if(a.getDistanceMoved(e)>this.maxMoveDistance||
!this.back.containsGeom(e)&&(k.ls_3+=1E3*(1+this.ad$7(e)),k.getIntersectionStress()>=g))return b.com_ibm_vis_engine_internal_grammar_label_Stress.MAXIMALLY_BAD;d=0==d&&0==c?this.itemsAndCallouts.get(a):b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.mu$5(a,d,c);k=this.tn$6(a,e,g,k);if(k.getIntersectionStress()>=g||d&&(k=this.cn$24(a,d,k),k.getIntersectionStress()>=g))return b.com_ibm_vis_engine_internal_grammar_label_Stress.MAXIMALLY_BAD;k=this.cn$23(a,e,d,k);if(k.getIntersectionStress()>=
g)return b.com_ibm_vis_engine_internal_grammar_label_Stress.MAXIMALLY_BAD;k=this.fn$8(a,e,d,k);return k.getIntersectionStress()>=g?b.com_ibm_vis_engine_internal_grammar_label_Stress.MAXIMALLY_BAD:k},tn$6:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_LinkedHashSet;this.itemsQT.addIntersecting(g,d.y,d.x,d.getY2(),d.getX2(),4);for(var k=0,g=g.arrayIterator(),s=g.length;k<s;++k){var f=g[k].getItem();if(f!=a){var u=b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.oc$2(d,f.getOverallBounds());
if(0<u){e.ls_3+=3+2*(this.penalty+u);if(e.getIntersectionStress()>=c)return b.com_ibm_vis_engine_internal_grammar_label_Stress.MAXIMALLY_BAD;e.addCollisionLabel(f)}}}return e},cn$23:function(a,d,c,e){for(var g=0,k=this.itemsAndCallouts.keySet().arrayIterator(),s=k.length;g<s;++g){var f=k[g];if(f.ie_15!=a.ie_15){var u=this.itemsAndCallouts.get(f);u.getRenderGeom(0).intersects(d)&&(e.ls_2+=2,e.addCollisionLabel(f));c&&b.com_ibm_vis_geom_Line.segmentsIntersect(c.getXArray()[0],c.getYArray()[0],c.getXArray()[1],
c.getYArray()[1],u.getXArray()[0],u.getYArray()[0],u.getXArray()[1],u.getYArray()[1],!1)&&(e.cs_5+=1,e.addCollisionLabel(f))}}return e},fn$8:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_LinkedHashSet;this.fixedQT.addIntersecting(g,d.y,d.x,d.getY2(),d.getX2(),4);for(var k=0,g=g.arrayIterator(),s=g.length;k<s;++k){var f=g[k].getItem(),u=this.wn_1.get(f);a.ee_6!=(null==u?0:u)||a.getShape().getGeom().containsGeom(f)&&f.containsGeom(a.getShape().getGeom())||a.getShape().getGeom()===f||
(u=b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.overlapFraction(d,f),0<u&&(e.fs_6+=8*(this.penalty+u)),c&&c.getRenderGeom(0).intersects(f.getBounds())&&(e.fs_6+=1))}return e},cn$24:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_LinkedHashSet,g=d.getBounds(),k=0;this.itemsQT.addIntersecting(e,g.y,g.x,g.getY2(),g.getX2(),4);for(var g=0,e=e.arrayIterator(),s=e.length;g<s;++g){var f=e[g].getItem();if(f!=a){var u=f.getOverallBounds();d.getRenderGeom(0).intersects(u)&&(k++,
a.getStress().addCollisionLabel(f))}}c.ls_2+=2*k;return c},ad$7:function(a){if(1002==this.back.type()){var d=a.makeIntersection(this.back);return d?1-d.area()/a.area():0}return 1-b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.overlapFraction(a,this.back)},am$2:function(a){this.wn_1=new b.com_ibm_rave_codegenerator_util_HashMap;for(var d=0,c=a.length;d<c;++d){for(var e=a[d],g=0,k=e.el_1.arrayIterator(),s=k.length;g<s;++g){var f=k[g];(f.isInside()||f.isCallout()||b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ie$47(f.style.angle))&&
this.ao$5(f.getBounds(),b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ge$40(f))}g=0;e=e.getElementShapes().arrayIterator();for(k=e.length;g<k;++g)s=e[g],s.getGeom()&&this.ao$5(s.getGeom(),b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ge$40(s))}},ao$5:function(a,d){var c=a.getBounds();this.fixedQT.add(new b.com_ibm_vis_engine_internal_geom_qt_QTItem(a,c.y,c.x,c.getY2(),c.getX2()));0<d&&this.wn_1.put(a,d)},me$44:function(a,b,c,e,g){this.itemsQT.remove(a.asQTItem());var k=
!1;0<g.getCombinedStress()&&(k=!0);a.moveBy(b,c,k);b=0;c=e.cl_6.arrayIterator();for(k=c.length;b<k;++b)e=c[b],e.nc_2=!0;b=0;g=g.cl_6.arrayIterator();for(c=g.length;b<c;++b)e=g[b],e.nc_2=!0;this.itemsQT.add(a.asQTItem());this.uu$1(a)},uu$1:function(a){var b=a.makeCallout();b?this.itemsAndCallouts.put(a,b):this.itemsAndCallouts.remove(a)},isNone:function(){return"none"==this.mo_13},getMethod:function(){return this.mo_13}});b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.mu$5=function(a,
b,c){a.moveBy(b,c,!1);var e=a.makeCallout();a.moveBy(-b,-c,!1);return e};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.gm$1=function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c)for(var g=a[c],k=0,s=g.el_1.arrayIterator(),f=s.length;k<f;++k){var u=s[k];if(!(u.isInside()||u.isCallout()||b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ie$47(u.style.angle))){var h=b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ge$40(u);d.add(new b.com_ibm_vis_engine_internal_grammar_label_CollisionItem(g,
u,h))}}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(d,new b.com_ibm_vis_engine_internal_grammar_label_CollisionComparator);return d.toArray(Array(d.size()))};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ie$47=function(a){return null==a?!1:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?0!=a:!0};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.gz$15=function(a){for(var d=0,c=0,e=0,g=a.length;e<g;++e)var k=a[e].getOverallBounds(),d=d+k.wt_3,c=c+k.hh_2;
return new b.com_ibm_vis_geom_Dim(d/a.length,c/a.length)};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.overlapFraction=function(a,d){if(1002==d.type())return b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.oc$2(a,d);var c=a.distanceToGeom(d);return 0<c?0:0>c?1:b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.oc$2(a,d.getBounds())};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.oc$2=function(a,b){var c=Math.min(a.getMaxX(),b.getMaxX())-Math.max(a.getMinX(),
b.getMinX()),e=Math.min(a.getMaxY(),b.getMaxY())-Math.max(a.getMinY(),b.getMinY());if(0>=c||0>=e)return 0;c=c*e/Math.min(a.area(),b.area());return.001>c?0:c};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.ge$40=function(a){a=a.id;if(null==a)return-1;var d=a.indexOf("E")+1;if(0==d)return-1;a=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(d,d+1));return a!=a?-1:a};b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.CE_6=1E3;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.EE_2=
8;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.LE_2=2;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.LT_2=3;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.CE_5=2;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.CE_3=1;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.DE_6=.01;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.BE_3=5;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.CE_4=1;b.com_ibm_vis_engine_internal_grammar_label_CollisionHandler.CI_2=
4;b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates=b.com_ibm_init_declare({insideAxes:!1,ne_24:0,constructor:function(a,d,c,e,g,k){this.vis=a;this.visContext=a.vx_10;this.spec=d?d:new b.com_ibm_vis_spec_internal_CoordinatesSpec;if(c)this.scales=c,this.tm_3=e,this.insideAxes=g,this.coordinateFieldIDs=k;else{d=this.spec.dimensions?this.spec.dimensions.length:0;this.scales=Array(d);this.coordinateFieldIDs=Array(d);if(this.spec.transforms){d=!1;this.tm_3=Array(this.spec.transforms.length);
for(c=0;c<this.tm_3.length;++c)this.tm_3[c]=b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransformFactory.make(this.spec.transforms[c],this.spec.dimensions,this.scales.length,a),this.tm_3[c].needsInsideAxes()&&(d=!0);this.insideAxes=d}else this.tm_3=[],this.insideAxes=!1;this.pe$12()}},removeStackTransform:function(){if(!this.containsStacking())return this;for(var a=Array(this.tm_3.length-1),d=0,c=0,e=this.tm_3,g=e.length;c<g;++c){var k=e[c];k.isStacking()||(a[d++]=k)}a=new b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates(this.vis,
this.spec,this.scales,a,this.insideAxes,this.coordinateFieldIDs);a.axes=this.axes;a.st_13=this.st_13;return a},pe$12:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0;d<this.scales.length;++d){var c=this.spec.dimensions[d].scale;c?(this.st$6(c,d),this.scales[d]=b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.createFromSpec(c,this.ii$2(d),c.local,null,null,this.vis,d,null)):this.scales[d]=null;this.spec.dimensions[d].axis&&(c=this.spec.dimensions[d].axis,b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(c)&&
!b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(c)?a.add(new b.com_ibm_vis_engine_internal_grammar_scale_Axis(d,this,c,null,!1)):(c=this.spec.dimensions[d].axis.length,0<c&&(a.add(new b.com_ibm_vis_engine_internal_grammar_scale_Axis(d,this,this.spec.dimensions[d].axis[0],null,!1)),2==c&&a.add(new b.com_ibm_vis_engine_internal_grammar_scale_Axis(d,this,this.spec.dimensions[d].axis[1],null,!0)))))}this.axes=Array(a.size());for(d=0;d<this.axes.length;++d)this.axes[d]=a.get(d)},st$6:function(a,
d){var c=a.spans;if(c)for(var e=0,g=c.length;e<g;++e)if(null==c[e].unit){this.st_13||(this.st_13=b.com_ibm_rave_codegenerator_lang_Array.create([this.scales.length],!1));this.st_13[d]=!0;break}},isOverlappingTick:function(){var a;if(2<this.axes.length){a=this.axes[1].ae_21.boxStyle&&!(this.axes[0].getScale().isCategorical()||this.axes[1].getScale().isCategorical());for(var b=0;b<this.axes.length;++b)a=this.axes[1].ae_21.boxStyle&&!(this.axes[b].getScale().isCategorical()||a),this.axes[b].setisOverlappingTick(a)}2>=
this.axes.length&&1<this.axes.length&&(a=this.axes[1].ae_21.boxStyle&&!(this.axes[0].getScale().isCategorical()||this.axes[1].getScale().isCategorical()),this.axes[0].setisOverlappingTick(a),this.axes[1].setisOverlappingTick(a))},getDefaultSize:function(a,d,c){var e=new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1);if(1<this.scales.length){var g=1<d.length?d.length-this.scales.length:0,k=d.length>1+g?d[1+g]:b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT,g=this.scales[1].getDefaultElementSize(a.wt_2,
k);"interval"==c&&null==k.getGranularity()?(c=this.scales[1].getMininalDistance(a.wt_2,k),c=Math.max(c,5),e.wt_2=Math.min(g,c)):e.wt_2=g}0<this.scales.length&&(e.hh_1=this.scales[0].getDefaultElementSize(a.hh_1,0<d.length?d[0]:b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT),this.transposesAxes()&&(e.hh_1=this.scales[0].getDefaultElementSize(a.wt_2,0<d.length?d[0]:b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT)));this.isOverlappingTick();return e},
getCoordinatePositions:function(a,b){return this.scales[b].toZeroOne(a,null,null)},getPosition:function(a,d){var c=d.length-this.scales.length;if(0>c)return b.com_ibm_vis_engine_internal_grammar_coordinate_Position.NO_COORDS;for(var e=new b.com_ibm_vis_engine_internal_grammar_coordinate_Position(this.scales.length,c,0),g=0,k=0;k<this.scales.length;++k){var s=d[g].getNumber(a);e.base[k]=d[g].toZeroOne(s,this.scales[k]);e.updateSuggestedSize(d[g],this.scales[k],s,k);s==s&&(e.index[k]=s,e.valueIsPercentage[k]=
b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType.PERCENTAGE.equals(d[g].getType()),d[g]&&(s=d[g].getBaseField())&&(e.fields[k]=s),e.setSpan(k,d[g].span));g++;k<c&&(s=d[g].getNumber(a),e.extra[k]=d[g].toZeroOne(s,this.scales[k]),g++)}return e},ii$2:function(a){return this.transposesAxes()?0!=a:0==a},prepareForElements:function(a,d){for(var c=0;c<this.scales.length;++c){var e=this.gl$10(a,c),g=this.gt$26(e),k=this.spec.dimensions[c].scale,s=null;0<a.length&&(s=a[0].grammar.gSpec);
if(this.st_13&&this.st_13[c]){var f=this.gt$25(e);this.scales[c]=b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.createFromSpec(k,this.ii$2(c),k.local,e,f,this.vis,c,this.matchSpantoField(s))}else b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.setFieldToScaleSpans(this.scales[c],this.vis,e,this.matchSpantoField(s));var f=0==c&&this.containsStacking()?b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.makeStackRange(a):null,u;if(this.scales[c])if(this.scales[c].isLocalUndefined())u=
this.aa$4(g),this.scales[c].localScale=u;else{if(d&&!d.isChartInChart()&&d.isSharedAxis(c)&&this.scales[c].localScale)throw new b.com_ibm_vis_exceptions_internal_SpecException("You cannot share axes which are local (they only show the data used in the individual panel). Either remove the shared flag for the axis or make the scale it is based on non-local",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);u=this.scales[c].localScale}else u=this.aa$4(g);f&&(u=!1);var k=this.mo$11(a,c,this.aa$4(g)),
h=new b.com_ibm_vis_engine_internal_grammar_scale_Scale(null,this.vis.getSize()),s=b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.makeForMany(h,e,u,this.visContext);s.reverseCategoricalScales=this.ii$2(c);for(var l=0,g=g.arrayIterator(),m=g.length;l<m;++l){var p=g[l],q=this.gi$3(e,p),r=q.get(0),t=null,w=null;f&&(t=f.get(r.label),w=r.label);var x=r.se_23;r.le_33&&r.lp_1==b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.POSITION&&(x=r.le_33);r=r.granularity;p.measure.categorical?
(w=b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.ge$36(q),s.addCategoricalSpan(p,w,x,k)):(q=this.gg$6(p,q,t,this.scales[c]&&this.scales[c].localScale),s.addNumericSpan(p,q,x,k,r,c,w))}h.defineSpanOutputRanges();this.scales[c]?(this.scales[c].checkSpansUnitMatching(h),this.sg$2(a,c),this.scales[c].useValuesFrom(h),this.scales[c].validateOutRange(),this.scales[c].isOutRangesDefined()||this.scales[c].defineSpanOutputRanges()):this.scales[c]=h;this.coordinateFieldIDs[c]=this.ga$13(e);null==
this.scales[c].localScale&&(this.scales[c].localScale=u);u=this.gg$5(a,c);e=this.scales[c];f=0;u=u.arrayIterator();for(h=u.length;f<h;++f)l=u[f],e.spans.isEmpty()?s.addNumericSpan(b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO,new b.com_ibm_vis_engine_internal_data_Range(l,l),null,k,null,c,null):e.includeValue(l);1<this.scales[c].spans.size()&&this.si$5(c)}c=0;k=this.axes;for(s=k.length;c<s;++c)k[c].giveSizeInfoToScale()},matchSpantoField:function(a){var d=new b.com_ibm_rave_codegenerator_util_NumericMap;
if(a&&a.elements)for(var c=0;c<a.elements.length;++c)if(a.elements[c].position)for(var e=0;e<a.elements[c].position.length;++e)a.elements[c].position[e]&&a.elements[c].position[e].field&&null!=a.elements[c].position[e].span&&!d.containsKey(a.elements[c].position[e].span)&&d.put(a.elements[c].position[e].span,a.elements[c].position[e].field.$ref);return d},sg$2:function(a,b){for(var c=0,e=a.length;c<e;++c)a[c].setInputDomainRange(this.scales[b])},si$5:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=0;c<this.axes.length;++c)d.add(this.axes[c]);c=this.scales[a].makeSpanGroups();if(this.spec.dimensions[a].axis){var e=this.gl$9(a);if(1==e.length)e[0].sn_10=c.get(0),0<c.get(1).size()&&(c=new b.com_ibm_vis_engine_internal_grammar_scale_Axis(a,this,e[0].ae_21,c.get(1),!0),d.add(c));else if(2==e.length){if(this.io$3(e[0],e[1]))throw new b.com_ibm_vis_exceptions_internal_SpecException("Given spec results in two axes drawn at same side",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);e[0].sn_10=
c.get(0);0<c.get(1).size()?e[1].sn_10=c.get(1):e[1].sn_10=c.get(0)}}for(a=0;a<d.size();++a)if(e=d.get(a),e.sn_10)for(c=0;c<e.sn_10.size();++c){var g=e.sn_10.get(c);g&&g.getInputRange()&&!g.getInputRange().isComplete()&&d.removeAt(a)}this.axes=Array(d.size());for(c=0;c<this.axes.length;++c)this.axes[c]=d.get(c)},io$3:function(a,b){var c=a.dd_1,e=!b.dd_1;return c&&!e||!c&&e?!0:!1},gl$9:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.axes,g=e.length;c<g;++c){var k=e[c];k.wl_2==
a&&d.add(k)}return d.toArray(Array(d.size()))},gt$25:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)d.add(a[c].unit);return d},gg$5:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.length;e<g;++e)c.addAll(a[e].getFixedValues(d));return c},mo$11:function(a,d,c){c=!c&&d==this.scales.length-1&&this.containsPolar();var e=0==d&&this.cr$10(a);c=new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(!c,e,d);
d=this.ii$2(d);for(var e=0,g=a.length;e<g;++e)a[e].addSpaceRequirements(c,d);return c},aa$4:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b)if(!a[b].measure.categorical)return!1;return!0},gg$6:function(a,d,c,e){if(c&&(this.containsPolar()||this.containsStacking()||e))return c;c||(c=b.com_ibm_vis_engine_internal_data_Range.EMPTY);e=0;d=d.arrayIterator();for(var g=d.length;e<g;++e){var k=d[e];k.range.isComplete()&&(c=c.createUnion(b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(k.range,
k.unit,a)))}return c},gi$3:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.arrayIterator(),k=g.length;e<k;++e){var s=g[e];this.findMatchingUnit(s.unit,a)==d&&c.add(s)}return c},gt$26:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var k=this.findMatchingUnit(e[c].unit,a);d.contains(k)||d.add(k)}return d},ga$13:function(a){if(0==a.size())return null;var d=new b.com_ibm_rave_codegenerator_util_LinkedSet,c=0;a=a.arrayIterator();
for(var e=a.length;c<e;++c)d.add(a[c].id);return d.toArray(Array(d.size()))},cr$10:function(a){for(var b=0,c=a.length;b<c;++b)if(a[b].desiresZero(this))return!0;return!1},modifyShape:function(a,b){for(var c=0,e=this.tm_3,g=e.length;c<g;++c)a=e[c].transformShape(a,b,this.scales);return a},modifyAxisTickOrLabel:function(a,d,c){for(var e=new b.com_ibm_vis_engine_internal_grammar_ShapeList,g=a,k=!1,s=0,f=this.tm_3,u=f.length;s<u;++s){var h=f[s];h.appliesToAxisTickOrLabel()&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,
b.com_ibm_vis_engine_internal_grammar_coordinate_TransposeTransform)&&(k=!0)}s=0;f=this.tm_3;for(u=f.length;s<u;++s)if(h=f[s],h.appliesToAxisTickOrLabel()){e.addElementShape(a);var l=null;if(k&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterTransform)&&a.getGeom()){var m=this.scales[c].getSimpleScaleSpan();b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(m,b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan)&&
1<m.getTickSize()&&(l=a.getGeom().copy())}a.setID(a.id+this.ne_24++);h.preProcess(e,d);h.transformShape(a,d,this.scales);l&&(h=a.getGeom(),h.hh_2=l.hh_2,h.wt_3=l.wt_3);0==e.getAllShapes().size()&&(g=null)}return g},modifyShapes:function(a,b){for(var c=0,e=this.tm_3,g=e.length;c<g;++c){var k=e[c];k.setup(this.scales,b);k.preProcess(a,b);k.initialize();k.transformShapes(a,b,this.scales)}},getAvailableWidth:function(a,b){for(var c=0,e=0,g=this.tm_3,k=g.length;e<k;++e)c=g[e].calculateGapSize(a,b-1);return a-
c},initializeGeometryForBounds:function(a,b){if(this.insideAxes){var c=Math.min(b.hh_1,b.wt_2)/2;a.setBounds(6.283185307179586*c,c)}else a.setBounds(b.wt_2,b.hh_1)},transposesAxes:function(){for(var a=!1,b=0,c=this.tm_3,e=c.length;b<e;++b)c[b].isTranspose()&&(a=!a);return a},containsPolar:function(){for(var a=0,b=this.tm_3,c=b.length;a<c;++a)if(b[a].isPolar())return!0;return!1},gl$10:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.length;e<g;++e)c.addAll(a[e].getFieldsForDimension(d));
return c},findMatchingUnit:function(a,b){if(!a.measure.isGeneric())return a;for(var c=0,e=b.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k.unit!=a)if(a.measure.categorical){if(k.unit.name==a.name&&k.unit.measure.categorical)return k.unit}else if(k.unit.measure.matches(a.measure))if(a.ci_2){if(k.unit.ci_2&&k.unit.name==a.name)return k.unit}else return k.unit}return a},getDrawnPosition:function(a){1<a&&(a=1);return this.transposesAxes()&&2>a?1-a:a},getDataValuesFor:function(a,d,c){a=[d,a];for(d=
this.tm_3.length-1;-1<d;--d)this.tm_3[d].isInversible()&&(a=this.tm_3[d].inverseTransform(a,c,this.scales));a[0]=c.hh_1-a[0];var e=b.com_ibm_rave_codegenerator_lang_Array.create([this.scales.length],0);for(d=0;d<this.scales.length&&2>d;++d){var g=this.scales[d].dimensionValueToDataValue(a[d],1<d?1:0==d?c.hh_1:c.wt_2);if(null==g)return null;e[d]=g}return e},getAxisForDimension:function(a){for(var b=0,c=this.axes,e=c.length;b<e;++b){var g=c[b];if(g.wl_2==a)return g}return null},containsCluster:function(){for(var a=
0,b=this.tm_3,c=b.length;a<c;++a)if(b[a].isCluster())return!0;return!1},containsProjection:function(){for(var a=0,b=this.tm_3,c=b.length;a<c;++a)if(b[a].isProjection())return!0;return!1},containsTranspose:function(){for(var a=0,b=this.tm_3,c=b.length;a<c;++a)if(b[a].isTranspose())return!0;return!1},containsStacking:function(){for(var a=0,b=this.tm_3,c=b.length;a<c;++a)if(b[a].isStacking())return!0;return!1},get2DScaleRanges:function(){var a=1>this.scales.length?0:this.scales[0].dimensionToDataValueInterpolate(0,
1),b=1>this.scales.length?1:this.scales[0].dimensionToDataValueInterpolate(1,1),c=2>this.scales.length?0:this.scales[1].dimensionToDataValueInterpolate(0,1),e=2>this.scales.length?1:this.scales[1].dimensionToDataValueInterpolate(1,1);return[c,e,a,b]},getDistancefromBaseInYDirection:function(a){a=this.containsPolar()?Math.min(a.wt_2,a.hh_1):this.transposesAxes()?a.wt_2:a.hh_1;return this.containsPolar()?a/2:a},getOffsetInFreeDirection:function(a,d,c){var e=this.getCoordinateCenter(c),g;this.containsPolar()?
g=d:(g=Math.abs(d),a=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(e.x,e.y-d,1),this.modifyShape(a,c));d=a.getCenter();c=d.x-e.x;a=d.y-e.y;e=e.distance(d);c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(c/e);a=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a/e);return new b.com_ibm_vis_geom_Point(g*c,g*a)},getCoordinateCenter:function(a){var d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(0,0,0);this.modifyShape(d,a);d=new b.com_ibm_vis_geom_Point(d.getX(),d.getY());
d.y=a.hh_1-d.y;return d},isStraightPolarGridLine:function(){return this.isValidRadar()&&this.scales[1].isCategorical()&&this.isDefinedSegmentedInSpec()},isValidRadar:function(){return this.containsPolar()&&2==this.scales.length&&2==this.axes.length},isDefinedSegmentedInSpec:function(){return this.getAxisForDimension(0).ae_21.segmented.valueOf()},isPolygonal:function(a){return null!=a&&a.CPVISEngineEndsWith("Coords")&&this.isStraightPolarGridLine()},getPolarTransform:function(){for(var a=0;a<this.tm_3.length;++a)if(this.tm_3[a].isPolar())return this.tm_3[a];
return null},isBoundaryDrawn:function(){var a=this.spec.style;return a&&(a.stroke||null!=a.outline)?!0:!1},setVisSizeForTransform:function(a){for(var b=0,c=this.tm_3,e=c.length;b<e;++b)c[b].setVisSize(a)},getLayoutBounds:function(a){if(this.scales&&0<this.scales.length&&this.scales[0].spans){if(!(1!=this.scales[0].spans.size()||this.scales[0].spans.get(0).getTickUnit()&&this.scales[0].spans.get(0).getTickUnit().measure.categorical)){var d=this.scales[0].spans.get(0).finalOutRange;return new b.com_ibm_vis_geom_Rect(d.min*
a.wt_2,d.min*a.hh_1,d.range*a.wt_2,d.range*a.hh_1)}if(1<=this.scales[0].spans.size())throw new b.com_ibm_vis_exceptions_internal_SpecException("Only one numeric span is supported for layouts. \n Please specify numeric span correctly.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}return new b.com_ibm_vis_geom_Rect(0,0,a.wt_2,a.hh_1)},cleanupTransforms:function(){for(var a=0,b=this.tm_3,c=b.length;a<c;++a)b[a].cleanup()},getTransforms:function(){return this.tm_3},needsToExtendChartToIntersectTheAxisZeroPoint:function(){return this.scales[0].isCategorical()},
isInViewport:function(a,b,c){return c.containsPt(a,b)},normalizedInverse:function(a,b,c){a=[b-c.y,a-c.x];b=c.getExtent();for(var e=this.tm_3.length-1;-1<e;--e)this.tm_3[e].isInversible()&&(a=this.tm_3[e].inverseTransform(a,b,this.scales));this.containsPolar()&&(b=a[1],a[1]=a[0],a[0]=b);a[0]=(c.hh_2-a[0])/c.hh_2;a[1]/=c.wt_3;return a},screenToCoordinates:function(a,d,c){var e=b.com_ibm_rave_codegenerator_lang_Array.create([this.scales.length],0);a=this.normalizedInverse(a,d,c);for(d=0;d<this.scales.length;++d)e[d]=
this.scales[d].og_2.toZeroOne(a[0==d?0:1]);return e},relayoutForNewOutRange:function(){for(var a=0;a<this.axes.length;++a)this.axes[a].ai_3||this.axes[a].relayoutForNewOutRange();for(a=0;a<this.axes.length;++a)this.axes[a].ai_3&&this.axes[a].relayoutForNewOutRange()}});b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.createCoordinates=function(a,d){return new b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates(a,d,null,null,!1,null)};b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.ge$36=
function(a){if(0==a.size())return null;if(1==a.size())return a.get(0).categories;var d=new b.com_ibm_rave_codegenerator_util_HashSet,c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_Set,g=0;a=a.arrayIterator();for(var k=a.length;g<k;++g){var s=a[g];if(!d.contains(s)&&(d.add(s),s.categories)){for(var f=0,u=s.categories,h=u.length;f<h;++f){var l=u[f];e.contains(l)||c.add(l)}f=0;s=s.categories;for(u=s.length;f<u;++f)l=s[f],e.add(l)}}return 0==c.size()?null:c.toArray(Array(c.size()))};
b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.makeStackRange=function(a){for(var d=new b.com_ibm_rave_codegenerator_util_Map,c=0,e=a.length;c<e;++c)a[c].makeStackRange(d);return d};b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.Y="y";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.X="x";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.CX="cx";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.CY="cy";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.DX=
"dx";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.DY="dy";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.TRANSFORMS="transforms";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.TRANSFORM="transform";b.com_ibm_vis_engine_internal_grammar_coordinate_Coordinates.COORDINATES=b.com_ibm_vis_internal_SpecConstants.COORDINATES});b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransform=b.com_ibm_init_declare({isInitialized:!1,
isTranspose:function(){return!1},needsInsideAxes:function(){return!1},isStacking:function(){return!1},isCluster:function(){return!1},isPolar:function(){return!1},isProjection:function(){return!1},updateBounds:function(a){},preProcess:function(a,b){},initialize:function(){this.isInitialized||(this.isInitialized=!0)},getDiameterSpec:function(){return null},getClockwise:function(){return!1},transformShapes:function(a,b,c){this.to$1(b,c,a.elementIterator());this.to$1(b,c,a.nonElementIterator())},to$1:function(a,
b,c){for(;c.hasNext();){var e=c.next(),g=this.transformShape(e,a,b);g&&(g.addMeta(e),g.setNeedsConsistentLabels(e.getNeedsConsistentLabels()),g.setVisible(e.isVisible()));c.replace(g)}},isInversible:function(){return!0},getScales:function(){return this.se_41},setVisSize:function(a){},appliesToAxisTickOrLabel:function(){return!1},setup:function(a,b){},setScales:function(a){this.se_41=a},cleanup:function(){}});b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransform,
{constructor:function(a,d){this.lu_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterLayout;this.sr_3=new b.com_ibm_rave_codegenerator_util_List(a.length);for(var c=0,e=a.length;c<e;++c){var g=a[c],k=new b.com_ibm_vis_engine_internal_spechelper_CategoryStructureSpecHelper(null);g.scale&&g.scale.categoryStructure&&(k=new b.com_ibm_vis_engine_internal_spechelper_CategoryStructureSpecHelper(g.scale.categoryStructure));this.sr_3.add(k)}this.vz_2=d.getSize();this.ru_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup(this.vz_2.wt_2,
this.vz_2.wt_2);this.se_39=new b.com_ibm_vis_engine_internal_spechelper_ScaleSpecHelper(a[1].scale)},setVisSize:function(a){if(this.vz_2.wt_2!=a.wt_2||this.vz_2.hh_1!=a.hh_1)this.vz_2=a,this.ru_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup(this.vz_2.wt_2,this.vz_2.wt_2),this.isInitialized=!1},calculateGapSize:function(a,b){return this.sr_3.get(1).getGap().getPreferred(a,this.vz_2.wt_2)*b},transformShape:function(a,b,c){if(this.se_40&&(c=this.se_40.get(a))&&!c.isEmpty()){b=
0;c=c.arrayIterator();for(var e=c.length;b<e;++b)this.lu_4.layout(c[b])}return a},su$2:function(a,b,c){if(b!=this.se_41.length-1||!c.nodeNested){a=a[b];var e=a.getAllTicks();if(a.reverse)for(var g=e.size()-1;0<=g;--g){var k=e.get(g);this.cu$2(k.value,b,c,a.reverse)}else for(g=0;g<e.size();++g)k=e.get(g),this.cu$2(k.value,b,c,a.reverse)}},cu$2:function(a,d,c,e){if(d==this.se_41.length-1)d=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeNode(this.rg_6.range,this.vz_2.wt_2),
d.id=a,c.add(d,a);else{var g=this.sr_3.get(d+1),k;g.isNested()?(k=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_NestedClusterShapeGroup(this.rg_6.range,this.vz_2.wt_2),k.ne_26=e):k=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup(this.rg_6.range,this.vz_2.wt_2);k.id=a;k.setGapSpecHelper(g.getGap());c.add(k,a);this.su$2(this.se_41,d+1,k)}},inverseTransform:function(a,b,c){return a},isCluster:function(){return!0},preProcess:function(a,d){this.se_40||(this.se_40=
new b.com_ibm_rave_codegenerator_util_HashMap(Math.max(4*a.getElementShapes().size()/3,16)));for(var c=a.elementIterator();c.hasNext();){var e=c.next();if(e.getPosition()||e.getPositions()){var g=this.ru_4.addShapeToMatchingNode(e);g.isEmpty()?c.remove():this.se_40.put(e,g)}else c.remove()}this.ru_4.fixOrdering();this.ru_4.preProcess();this.vg$2(d.wt_2);this.ru_4.calculateSizeAndGaps(this.rg_6.range,this.rg_6.range)},initialize:function(){this.lu_4.layoutAll(this.ru_4,this.rg_6)},setup:function(a,
d){this.setScales(a);this.rg_6=!a||2>this.se_41.length||!a[1]||!a[1].og_2?new b.com_ibm_vis_engine_internal_data_Range(0,d.wt_2):a[1].og_2.remap(new b.com_ibm_vis_engine_internal_data_Range(0,d.wt_2));var c=this.sr_3.get(1);c.isNested()?this.ru_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_NestedClusterShapeGroup(this.rg_6.range,this.vz_2.wt_2):this.ru_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup(this.rg_6.range,this.vz_2.wt_2);this.ru_4.setGapSpecHelper(c.getGap());
this.su$2(a,1,this.ru_4);c=this.sr_3.get(this.sr_3.size()-1);this.ru_4.setWidthSpecHelper(c.getWidth());this.ru_4.setAlignment(this.sr_3.get(1).spec.align)},appliesToAxisTickOrLabel:function(){return!0},cleanup:function(){this.lu_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterLayout;this.vg$2(this.vz_2.wt_2);this.ru_4=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup(this.rg_6.range,this.vz_2.wt_2);this.se_40=null},vg$2:function(a){this.se_41&&!(2>
this.se_41.length)&&this.se_41[1]&&this.se_41[1].og_2&&this.rg_6||(this.rg_6=new b.com_ibm_vis_engine_internal_data_Range(0,a))}});b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterLayout=b.com_ibm_init_declare({rt_9:0,constructor:function(){this.se_38=new b.com_ibm_rave_codegenerator_util_HashMap(100);this.me_10=new b.com_ibm_rave_codegenerator_util_Set},layout:function(a){this.la$2(a,!1)},layoutAll:function(a,b){this.me_10.clear();b&&(this.rt_9=b.min);this.la$2(a,!0)},la$2:function(a,
b){var c=this.rt_9,e=a.pn_19;e&&(c=e.getChildrenWidthTo(a));a.st_15=c;a.nt_2&&this.le$5(a,a.se_43,c);if(b)for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c)this.la$2(e[c],b)},le$5:function(a,d,c){var e=0;d=d.arrayIterator();for(var g=d.length;e<g;++e){var k=d[e];if(!this.me_10.contains(k.id)){var s=k.getPositions();if(s&&1<s.length){var f=k,u=this.se_38.get(k);for(null==u&&(u=0);u<s.length;++u){var h=s[u];if(a.positionBelongsToNode(h)){var l=c+a.pt_6/2,m=h.length()-1;if(h.valueIsPercentage[m]){var p=
a.pn_19;p&&(l=p.st_15+p.pt_6*h.base[m])}f.x.length==s.length+2?(h=u+1,f.x[h]=l,1==h?f.x[0]=l:u==s.length-1&&(f.x[h+1]=l)):f.x[u]=l;this.se_38.put(k,u+1);break}}}else this.me_10.add(k.id),s=b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterLayout.ap$2(k,a,c,k._n_1,k.getBounds()),k.isGlyphLike()?k.affine(1,s[2],1,0,!1):k.affine(s[0],s[1],1,0,!1)}}a.nt_2=!1}});b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterLayout.ap$2=function(a,d,c,e,g){var k=[1,0,0],s=a.getPosition().length()-
1;if(a.getPosition().valueIsPercentage[s]){if(d=d.pn_19)c=d.st_15+d.pt_6*a.getPosition().base[s],d=d.pt_6/g.wt_3,d=1<d?1:d,k[0]=d,k[1]=c-d*(g.wt_3/2+g.x),k[2]=c-a.getCenter().x}else{var s=d.getRootNode(),f=0;g=g.wt_3;e&&(g=s.mt_5/s.getMaxNumberOfChildren());f=a.getCenter().x;a=0==g?new b.com_ibm_vis_engine_internal_data_Range(f-.5,f+.5):new b.com_ibm_vis_engine_internal_data_Range(f-g/2,f+g/2);g=new b.com_ibm_vis_engine_internal_data_Range(c,c+d.pt_6);d=g.range/a.range;k[0]=d;k[1]=g.min-a.min*d;k[2]=
g.mid()-a.mid()}return k};b.com_ibm_vis_engine_internal_spechelper_SpecHelper=b.com_ibm_init_declare({specDefined:!1,constructor:function(a){this.specDefined=a},isSpecDefined:function(){return this.specDefined}});b.com_ibm_vis_engine_internal_spechelper_CategoryStructureSpecHelper=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_spechelper_SpecHelper,{constructor:function(a){a||(a=new b.com_ibm_vis_spec_internal_CategoryStructureSpec);this.spec=a},ha$1:function(){return null!=this.spec.gap},getGap:function(){var a=
this.ce$40(this.spec.gap);return new b.com_ibm_vis_engine_internal_spechelper_ClusterGapSizeSpecHelper(a)},getWidth:function(){var a=this.ce$40(this.spec.width);return new b.com_ibm_vis_engine_internal_spechelper_ClusterWidthSizeSpecHelper(a)},ce$40:function(a){var d;b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)||b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?(d=new b.com_ibm_vis_spec_internal_PreferredSizeSpec,d.preferred=a):d=a;return d},getNest:function(){return this.spec.nest},
isNested:function(){return null!=this.spec.nest&&1==this.spec.nest},getAlign:function(){return this.spec.align},getSpec:function(){return this.spec},isSpecDefined:function(){return this.specDefined}});b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_spechelper_SpecHelper,{constructor:function(a){a||(a=new b.com_ibm_vis_spec_internal_PreferredSizeSpec);this.spec=a},getPreferred:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.spec,
a,d);return null==c?NaN:c},getMin:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.spec.min,a,d);return null==c?NaN:c},getMax:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.spec.max,a,d);return null==c?NaN:c},getSpec:function(){return this.spec},isSpecDefined:function(){return this.specDefined&&(null!=this.spec.preferred||null!=this.spec.min||null!=this.spec.max)}});b.com_ibm_vis_engine_internal_spechelper_ClusterGapSizeSpecHelper=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper,{getPreferred:function(a,d){var c=b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper.prototype.getPreferred.apply(this,[a,d]);return c!=c?0:c},getMin:function(a,d){var c=b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper.prototype.getMin.apply(this,[a,d]);return c!=c?0:c},getMax:function(a,d){var c=b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper.prototype.getMax.apply(this,
[a,d]);return c!=c?a:c}});b.com_ibm_vis_engine_internal_spechelper_ClusterGapSizeSpecHelper.DT_5=0;b.com_ibm_vis_engine_internal_spechelper_ClusterWidthSizeSpecHelper=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper,{getMin:function(a,d){var c=b.com_ibm_vis_engine_internal_spechelper_PreferredSizeSpecHelper.prototype.getMin.apply(this,[a,d]);return c!=c?0:c}});b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeNode=b.com_ibm_init_declare({nt_2:!1,pt_6:0,mt_5:0,
pn_18:0,nn_8:!1,id:0,nodeIsLeaf:!0,st_15:0,nodeContainsLeaves:!1,constructor:function(){this.se_43=new b.com_ibm_rave_codegenerator_util_List;this.children=new b.com_ibm_rave_codegenerator_util_List;this.levelGapSize=new b.com_ibm_rave_codegenerator_util_NumericMap;(function(a){this.setMaxWidth(a)}).apply(this,arguments)},getParent:function(){return this.pn_19},setParent:function(a){this.pn_19=a},calculateSizeAndGaps:function(a,b){this.calculateSizing(a,b)},calculateSizing:function(a,b){this.setPreferredWidth(Math.min(b,
a));this.setMaxWidth(b);return this.pt_6},calculateGaps:function(a){return 0},preProcess:function(){},hasChildren:function(){return!1},getShapes:function(){return this.se_43},addShape:function(a){this.se_43.add(a);this.nt_2=!0;a._n_1&&(this.nn_8=!0)},setDirty:function(a){this.nt_2=a},isDirty:function(){return this.nt_2},setPreferredWidth:function(a){this.pt_6=Math.max(0,a)},getPreferredWidth:function(){return this.pt_6},setMaxWidth:function(a){this.mt_5=Math.max(0,a)},getMaxWidth:function(){return this.mt_5},
getRootNode:function(){for(var a=this;a.pn_19;)a=a.pn_19;return a},setPadding:function(a){this.pn_18=a},getPadding:function(){return this.pn_18},getAlignedStart:function(){return 0},getChildren:function(){return b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeNode.ES_2},getGapSize:function(){return 0},sn$12:function(a){this.nn_8=a},containsElement:function(){return this.nn_8},getNodesAtLevel:function(a,b){return this.calculateNodesAtLevel(a,b)},calculateNodesAtLevel:function(a,b){return a==
b?1:0},getSizeOfNodesAtLevel:function(a,b){return a==b?this.pt_6:0},setIndex:function(a){this.id=a},getIndex:function(){return this.id},getLevel:function(){for(var a=0,b=this;b.pn_19;)b=b.pn_19,a++;return a},fixOrdering:function(){},isLeaf:function(){return this.nodeIsLeaf},setStartX:function(a){this.st_15=a},getStartX:function(){return this.st_15},findShapeNodes:function(a,b){return null},getGapSizeAtLevel:function(a){a=this.levelGapSize.get(a);return null==a?NaN:a},setGapSizeAtLevel:function(a,
b){this.levelGapSize.put(a,b)},getLeafSize:function(){return 0},getIndexMap:function(){return null},add:function(a,b){a.nodeIsLeaf&&this.se$18(!0);a.pn_19=this;a.pn_20=null;a.nn_7=null;if(0<this.children.size()){var c=this.children.get(this.children.size()-1);a.pn_20=c;c.nn_7=a}this.children.add(a);this.nt_2=!0},se$18:function(a){this.nodeContainsLeaves=a},getNumberOfGaps:function(){return 0<this.children.size()?this.children.size()-1:0},getMaxNumberOfChildren:function(){return this.children.size()},
reverse:function(){for(var a=this.children.size(),b=a>>1,c=0;c<b;++c){var e=a-c-1,g=this.children.get(c),k=this.children.get(e);this.children.set(e,g);this.children.set(c,k)}},containsLeaves:function(){return this.nodeContainsLeaves},getChildrenWidthTo:function(a){a=a.getPreviousSibling();var b=this.st_15+this.getAlignedStart()+this.pn_18;a&&(b=a.st_15+a.pt_6+this.getGapSize());return b},getPreviousSibling:function(){return this.pn_19.ne_26?this.nn_7:this.pn_20},setPreviousSibling:function(a){this.pn_20=
a},getNextSibling:function(){return this.pn_19.ne_26?this.pn_20:this.nn_7},setNextSibling:function(a){this.nn_7=a}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeNode.ES_2=new b.com_ibm_rave_codegenerator_util_List});b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeGroup=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeNode,{gz_3:0,ne_26:!1,constructor:function(){this.ge_4=new b.com_ibm_rave_codegenerator_util_NumericMap;
this.ne_25=new b.com_ibm_rave_codegenerator_util_NumericMap;this.an_9="start";(function(a){this.nodeIsLeaf=!1}).apply(this,arguments)},clearCache:function(){var a=this.getRootNode();a.ge_4.clear();a.ne_25.clear()},setIsReversed:function(a){this.ne_26=a},isReversed:function(){return this.ne_26},getChildren:function(){return this.children},hasChildren:function(){return 0<this.children.size()},preProcess:function(){for(var a=0,b=this.children.arrayIterator(),c=b.length;a<c;++a)b[a].preProcess()},getAlignedStart:function(){var a=
0;"middle"==this.an_9?a=(this.mt_5-this.pt_6)/2:"end"==this.an_9&&(a=this.mt_5-this.pt_6);return a},setGapSize:function(a){this.gz_3=a},getGapSize:function(){return 0==this.children.size()?0:this.gz_3},setAlignment:function(a){this.an_9=a},getAlignment:function(){return this.an_9},getNodesAtLevel:function(a,b){var c=0,e=this.getRootNode(),c=e.ne_25.get(a);null==c&&(c=this.calculateNodesAtLevel(a,b),e.ne_25.put(a,c));return c},calculateNodesAtLevel:function(a,b){var c=0;if(a==b)c=0==this.children.size()?
1:this.children.size();else{for(var e=0,g=this.children.arrayIterator(),k=g.length;e<k;++e)c+=g[e].calculateNodesAtLevel(a,b+1);0==this.children.size()&&(c+=1)}return c},getSizeOfNodesAtLevel:function(a,b){if(a==b)return this.pt_6;for(var c=0,e=0,g=this.getChildren().arrayIterator(),k=g.length;e<k;++e){var s=g[e],f=s.getSizeOfNodesAtLevel(a,b+1);if(0<f&&s.nodeIsLeaf)return f*this.getChildren().size();c+=f}return c},getNumberOfGapsAtLevel:function(){var a=this.getRootNode(),b=a.ge_4.get(this.getLevel());
if(null!=b)return b;var b=a.getNodesAtLevel(this.getLevel(),0)-1,c=0,e=this.pn_19,g=this.getLevel()-1;e&&(c=a.getNodesAtLevel(g--,0)-1);b-=c;a.ge_4.put(this.getLevel(),b);return b}});b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeGroup,{fullVizWidth:0,pt_5:NaN,lz_1:NaN,nodeNested:!1,constructor:function(){this.id_1=new b.com_ibm_rave_codegenerator_util_NumericMap;this.ge_3=new b.com_ibm_vis_engine_internal_spechelper_ClusterGapSizeSpecHelper(null);
this.ce_32=new b.com_ibm_vis_engine_internal_spechelper_ClusterWidthSizeSpecHelper(null);(function(a,b){this.fullVizWidth=b}).apply(this,arguments)},calculateSizeAndGaps:function(a,b){this.nt_2&&(this.calculateSizing(a,b),this.calculateGaps(b))},calculateSizing:function(a,d){var c=d-2*this.pn_18,e=0;1<this.getChildren().size()&&(e=this.gt$24(c));c-=e*this.getNumberOfGapsAtLevel();if(0>c)throw new b.com_ibm_vis_exceptions_internal_EngineException("minimum cluster gap sizes will not fit in bounds",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);this.setMaxWidth(c);e=a-this.getPreferredGapWidth(a)*this.getNumberOfGapsAtLevel();this.setPreferredWidth(e);for(var g=e=0,k=this.getChildren().arrayIterator(),s=k.length;g<s;++g)e+=k[g].calculateSizing(this.pt_6,c);0==this.getChildren().size()&&(e=this.getRootNode().getLeafSize(),e!=e&&(c=this.getRootNode().getNodesAtLevel(this.getLevel(),0),e=this.pt_6/c));this.setPreferredWidth(e);return this.pt_6},calculateGaps:function(a){var b=this.getLevel(),
c=this.getRootNode(),e=c.getSizeOfNodesAtLevel(b,0),g=0;1<this.getChildren().size()&&(g=c.getGapSizeAtLevel(b),g!=g&&(g=this.cn$20(e,a),c.setGapSizeAtLevel(b,g)));b=g*this.getNumberOfGaps();if(Math.round(e+b)<a)for(var e=0,c=this.getChildren().arrayIterator(),k=c.length;e<k;++e)b+=c[e].calculateGaps(a-g*this.getNumberOfGapsAtLevel());this.setPreferredWidth(this.pt_6+b);this.setGapSize(g);return b},cn$20:function(a,d){var c=this.getPreferredGapWidth(d),e=this.gt$24(d),g=this.getNumberOfGapsAtLevel();
if(0<g&&0<c&&(c=Math.min((d-a)/g,c),c=Math.max(c,0),c<e))throw new b.com_ibm_vis_exceptions_internal_EngineException("minimum cluster gap sizes will not fit in bounds",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);return c},addShapeToMatchingNode:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(!this.includeShape(a))return d;var c=this.findShapeNodes(a,1);if(0<c.size())for(var e=0,c=c.arrayIterator(),g=c.length;e<g;++e){var k=c[e];k.addShape(a);d.add(k)}return d},add:function(a,
d){b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeNode.prototype.add.apply(this,[a,d]);this.mapLocationToNode(d,a)},findShapeNodes:function(a,d){var c=this.getIndexesFromShape(a,d),e=this.getNodesFromIndexes(c);if(0==e.size()||this.isLastShapePosition(a,d))return e;for(var c=new b.com_ibm_rave_codegenerator_util_List,g=0,e=e.arrayIterator(),k=e.length;g<k;++g){var s=e[g].findShapeNodes(a,d+1);s&&c.addAll(s)}return c},getIndexesFromShape:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,
e=a.getPositions(),g=0;g<e.length;++g){var k=0;e[g].valueIsPercentage.length>d&&(k=e[g].valueIsPercentage[d]?this.id_1.keySet().iterator().next():Math.floor(e[g].index[d]));c.add(k)}return c},isLastShapePosition:function(a,b){var c=!1;return c=a.getPosition()?b==a.getPosition().length()-1:b==a.getPositions()[0].length()-1},mapLocationToNode:function(a,b){this.id_1.put(a,b);b.id=a},getNodesFromIndexes:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_HashSet,c=this.id_1,e=0;e<a.size();++e){var g=
c.get(a.get(e));g&&d.add(g)}return d},setGapSpecHelper:function(a){a&&(this.ge_3=a)},getPreferredGapWidth:function(a){this.pt_5!=this.pt_5&&(this.pt_5=this.ge_3.getPreferred(a,this.fullVizWidth));return this.pt_5},gt$24:function(a){return this.ge_3.getMin(a,this.fullVizWidth)},getIndexMap:function(){return this.id_1},setLeafSize:function(a){this.lz_1=a},getLeafSize:function(){return this.lz_1},isNested:function(){return this.nodeNested},setWidthSpecHelper:function(a){a&&(this.ce_32=a)},getWidthSpecHelper:function(){return this.ce_32},
fixOrdering:function(){if(this.nt_2)for(var a=0;a<this.getChildren().size();++a)this.getChildren().get(a).fixOrdering()},includeShape:function(a){var b=a.getPositions(),c=!0;if(b){a=0;for(var e=b.length;a<e;++a)if(b[a].containsUndefinedXValues())return!1}else c=0==a.getPosition().containsUndefinedXValues();return c}});b.com_ibm_vis_engine_internal_spechelper_ScaleSpecHelper=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_spechelper_SpecHelper,{constructor:function(a){a||(a=new b.com_ibm_vis_spec_internal_ScaleSpec);
this.spec=a},getPadding:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.spec.padding,a,d);return null==c?0:c}});b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeNode=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeNode,{fullVizWidth:0,constructor:function(a,b){this.fullVizWidth=b},calculateSizing:function(a,d){var c=this.getRootNode(),e=c.lz_1;if(e==e)return this.setPreferredWidth(e),c.lz_1;var e=this.getRootNode().getWidthSpecHelper(),
g=e.getPreferred(a,this.fullVizWidth),k=g,s=this.getRootNode().getNodesAtLevel(this.getLevel()-1,0);g!=g&&(k=a/s);g=d/s;k=Math.min(k,g);1>k&&(k=Math.min(1,g));if(k<e.getMin(a,this.fullVizWidth))throw new b.com_ibm_vis_exceptions_internal_EngineException("minimum cluster sizes will not fit in bounds",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);c.lz_1=k;this.setPreferredWidth(k);return k},positionBelongsToNode:function(a){var b=this,c=a.length()-1;if(a.valueIsPercentage[c]&&(c--,
b=b.pn_19,!b))return!1;for(;0<c;--c){if(b.id!=a.index[c])return!1;b=b.pn_19;if(!b)return!1}return!0}});b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_NestedClusterShapeGroup=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup,{mz_10:1,constructor:function(a,b){this.nodeNested=!0},preProcess:function(){b.com_ibm_vis_engine_internal_grammar_coordinate_ShapeGroup.prototype.preProcess.apply(this);this.containsLeaves()||this.rn$4();this.ne_26&&this.reverse()},
rn$4:function(){var a=this.getChildren();this.mz_10=Math.max(this.mz_10,a.size());for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0;c<a.size();++c){var e=a.get(c);this.cn$21(e)||d.add(e)}a=0;d=d.arrayIterator();for(c=d.length;a<c;++a)this.remove(d[a])},cn$21:function(a){if(a.nn_8)return!0;for(var b=0;b<a.getChildren().size();++b){var c=a.getChildren().get(b);if(this.cn$21(c))return!0}return!1},remove:function(a){this.id_1.remove(a.id);this.getChildren().remove(a);var b=a.getNextSibling();a=
a.getPreviousSibling();b&&(b.pn_20=a);a&&(a.nn_7=b)},getMaxNumberOfChildren:function(){return this.mz_10},findShapeNodes:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;this.includeShape(a)&&(c=b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup.prototype.findShapeNodes.apply(this,[a,d]),0==c.size()&&a._n_1&&(c=this.cp$5(a)));return c},cp$5:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=a.getPositions();c||(c=[a.getPosition()]);a=0;for(var e=c.length;a<
e;++a){var g=this.co$4(c[a]);g&&d.add(g)}return d},co$4:function(a){for(var d,c=this.getRootNode(),e=1;e<a.index.length;++e){var g=a.index[e],k=c.getIndexMap().get(g);k||e!=a.index.length-1?k&&(c=k):(d=new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeNode(this.mt_5,this.fullVizWidth),c.add(d,g))}return d},fixOrdering:function(){var a=this.id_1.keySet();if(1<a.size()){this.children.clear();a=new b.com_ibm_rave_codegenerator_util_List(a);a=a.toArray(Array(a.size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(a);
for(var d=0;d<a.length;++d){var c=a[d],e=this.id_1.get(c);this.add(e,c)}b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterShapeGroup.prototype.fixOrdering.apply(this)}},containsElement:function(){var a=arguments,d;1==a.length&&(d=this.cn$21);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,a)}});b.com_ibm_vis_engine_internal_grammar_coordinate_stack_StackTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransform,{constructor:function(){this.pt_7=
new b.com_ibm_rave_codegenerator_util_Map},transformShape:function(a,d,c){if(!a._n_1)return a;var e;e=a.getFacetKey();e=this.ge$37(e);e=a.canScaleY()?b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_ShapePoly)?new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_PolyStacker(e):new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DefaultStacker(e):new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_GlyphStacker(e);d=d.hh_1*(1-c[0].getBase());
c=Math.max(0,d);(d=e.stack(a,d,c))&&d.addMeta(a);return d},ge$37:function(a){var d=this.pt_7.get(a);d||(d=new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_StackState,this.pt_7.put(a,d));return d},transformShapes:function(a,b,c){this.ct$15();a.sortByAestheticGroup();for(a=a.elementIterator();a.hasNext();)a.replace(this.transformShape(a.next(),b,c));this.ct$15()},ct$15:function(){for(var a=0,b=this.pt_7.values().arrayIterator(),c=b.length;a<c;++a)b[a].clear()},isStacking:function(){return!0},
inverseTransform:function(a,b,c){return a},calculateGapSize:function(a,b){return 0}});b.com_ibm_vis_engine_internal_grammar_coordinate_stack_Stacker=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_coordinate_stack_GlyphStacker=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_stack_Stacker,{constructor:function(a){this.st_17=a;this.ch_8=new b.com_ibm_rave_codegenerator_util_HashMap},stack:function(a,b,c){return a.getContainingShape()&&1003==a.getContainingShape().getType()?
this.se$19(a):this.sp$4(a,c)},se$19:function(a){var b=this.st_17.getTransformedPoly(a.getContainingShape());return b?1003==b.getType()?this.sl$8(a,b):this.sy$2(a,b):null},sl$8:function(a,b){var c=a.getCenter(),e=this.getYofXFromPoly(a.getContainingShape(),b,c);if(e!=e)return a;a.affine(1,0,1,e-c.y,!1);return a},sy$2:function(a,b){for(var c=a.getCenter(),e=0,g=b.getParts(),k=g.length;e<k;++e){var s=g[e],s=this.getYofXFromPoly(a.getContainingShape(),s,c);if(s==s){a.affine(1,0,1,s-c.y,!1);break}}return a},
getYofXFromPoly:function(a,b,c){var e=this.gt$27(b);if(!e)return!b.isFilled()&&1==b.x.length&&Math.round(b.x[0]).equals(Math.round(c.x))?b.y[0]:b.isFilled()&&3==b.x.length&&Math.round(b.x[1]).equals(Math.round(c.x))?b.y[1]:NaN;b=-e.getLeftY(c.x);e=-e.getRightY(c.x);if(b!=b&&e!=e)return NaN;if((a=this.gt$27(a))&&a.isDiscontinuity(c.x)){if(Math.round(c.y).equals(Math.round(-a.getLeftY(c.x))))return b;if(Math.round(c.y).equals(Math.round(-a.getRightY(c.x))))return e}return b==e?b:b!=b?e:e!=e?b:e},gt$27:function(a){if(!a.isFilled()&&
2>a.x.length||a.isFilled()&&4>a.x.length)return null;var d=this.ch_8.get(a);if(d)return d;d=b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.makeStackingLine(a,0);this.ch_8.put(a,d);return d},sp$4:function(a,b){var c=a.getCenter(),c=this.st_17.getStackingOffset(c.x,c.y,b);a.affine(1,0,1,-c,!1);return a}});b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPath=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPath,{pv_1:!0,nv_3:!0,ln_10:-1,du_3:0,constructor:function(){this.st_14=new b.com_ibm_rave_codegenerator_util_List;this.se_42=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet(10);this.xg_2=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet(10);this.cn_11=new b.com_ibm_vis_geom_Point(-Infinity,0);this.mh_3=new b.com_ibm_rave_codegenerator_util_Map;
this.yh_4=new b.com_ibm_rave_codegenerator_util_Map;this.yh_5=new b.com_ibm_rave_codegenerator_util_Map;this.yh_6=new b.com_ibm_rave_codegenerator_util_Map;(function(a){this.du_3=a}).apply(this,arguments)},moveTo:function(a,d){this.se_42.add(a);this.cn_11=new b.com_ibm_vis_geom_Point(a,d)},lineTo:function(a,d){this.se_42.add(a);var c=new b.com_ibm_vis_geom_Point(a,d),e=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LineSegment(this.cn_11,c);this.st_14.add(e);if(0>this.cn_11.y||0>c.y)this.pv_1=
!1;if(0<this.cn_11.y||0<c.y)this.nv_3=!1;this.cn_11=c;e.crossesXAxis()&&this.xg_2.add(e.getXIntercept());this.last&&(this.in$4(this.last,e)||this.in$5(this.last,e,this.lv_1))&&this.xg_2.add(e.p1.x);0<e.p2.y?this.lv_1=!0:0>e.p2.y&&(this.lv_1=!1);this.last=e},mt$13:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];this.lineTo(e.x[1],e.y[1])}},curveTo:function(a,d,c,e,g,k){var s=this.cn_11.x,f=this.cn_11.y,u=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_struct_PolyGeom.curveTo(s,
f,a,d,c,e,g,k,u);this.mt$13(u)},getMultipleY:function(a){var d=this.mh_3.get(a);if(d)return d.toArray();for(var d=new b.com_ibm_rave_codegenerator_util_List,c=NaN,e=0,g=this.st_14.arrayIterator(),k=g.length;e<k;++e){var s=g[e],f=s.p1,u=f.x,h=f.y,f=s.p2,s=f.x,f=f.y;u==a&&s==a&&1E-6<Math.abs(h-f)&&(h!=c&&d.add(h),d.add(f),c=f)}0==d.size()&&d.add(this.getY(a));this.mh_3.put(a,d);return d.toArray()},getY:function(a){var b=this.yh_4.get(a);if(null!=b)return b;if(this.mh_3.get(a))return b=this.fb$2(this.mh_3.get(a)),
this.yh_4.put(a,b),b;var c=this.fn$5(a);if(c)for(var b=0,c=c.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(g.containsX(a)&&(a!=g.p1.x||a==g.p2.x))return b=g.interpolateY(a),this.yh_4.put(a,b),b}this.yh_4.put(a,this.du_3);return this.du_3},fb$2:function(a){for(var b=a.get(0),c=1;c<a.size();++c)Math.abs(a.get(c))>Math.abs(b)&&(b=a.get(c));return b},getRightY:function(a){var b=this.yh_6.get(a);if(null!=b)return b;var c=1<this.getMultipleY(a).length?this.st_14:this.fn$5(a);if(c)for(var b=0,c=c.arrayIterator(),
e=c.length;b<e;++b){var g=c[b];if(a<g.p2.x&&g.containsX(a))return b=g.interpolateY(a),this.yh_6.put(a,b),b}this.yh_6.put(a,this.du_3);return this.du_3},getLeftY:function(a){var b=this.yh_5.get(a);if(null!=b)return b;var c=1<this.getMultipleY(a).length?this.st_14:this.fn$5(a);if(c)for(var b=0,c=c.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(a>g.p1.x&&g.containsX(a))return b=g.interpolateY(a),this.yh_5.put(a,b),b}this.yh_5.put(a,this.du_3);return this.du_3},ie$42:function(a,b){for(var c=0,e=b.length;c<
e;++c)if(b[c]==a)return!0;return!1},fn$5:function(a){var d,c=this.fn$6(a);if(0<=c){d=new b.com_ibm_rave_codegenerator_util_List(2);d.add(this.st_14.get(c));if(c+1<this.st_14.size()){var e=this.st_14.get(c+1);e.containsX(a)&&d.add(e)}0<=c-1&&(e=this.st_14.get(c-1),e.containsX(a)&&d.add(e))}return d},fn$6:function(a){var b=this.st_14.size();if(0==b)return-1;var c=this.st_14.get(0).p1.x,e=this.st_14.get(b-1).p2.x;if(c>a||a>e)return-1;c=0;--b;e=this.ln_10;for(0>e&&(e=Math.floor((c+b)/2));c<=b;){var g=
this.st_14.get(e);if(g.containsX(a))return this.ln_10=e;a>g.p2.x?c=e+1:b=e-1;e=Math.floor((c+b)/2)}return-1},isDiscontinuity:function(a){var b=this.getRightY(a),c=this.getY(a);a=this.getLeftY(a);return c!=c?b==b||a==a:b!=b||a!=a?!0:b!=c||a!=c},isNonNegative:function(){return this.pv_1},isNonPositive:function(){return this.nv_3},getXSamples:function(){return this.se_42},getXAxisCrossingPoints:function(){return this.xg_2},in$4:function(a,d){return a.p2.y!=d.p1.y&&(new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LineSegment(a.p2,
d.p1)).crossesXAxis()?!0:!1},in$5:function(a,b,c){return 0==a.p2.y&&null!=c&&(c&&0>b.p2.y||!c&&0<b.p2.y)?!0:!1},getSegments:function(){return this.st_14},isLeftContinuous:function(a){var b=this.getLeftY(a);a=this.getMultipleY(a);for(var c=0,e=a.length;c<e;++c)if(a[c]==b)return!0;return!1}});b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet=b.com_ibm_init_declare({used:0,constructor:function(a){this.ve_6=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);this.used=0},addAll:function(a){for(var d=
b.com_ibm_rave_codegenerator_lang_Array.create([this.used+a.used],0),c=0,e=0,g=0;c<this.used||e<a.used;)c>=this.used?(d[g]=a.ve_6[e],e++):e>=a.used?(d[g]=this.ve_6[c],c++):this.ve_6[c]<a.ve_6[e]?(d[g]=this.ve_6[c],c++):(this.ve_6[c]>a.ve_6[e]?d[g]=a.ve_6[e]:(d[g]=this.ve_6[c],c++),e++),g++;this.ve_6=d;this.used=g},et$3:function(a){this.ve_6.length<a&&(a=b.com_ibm_rave_codegenerator_lang_Array.create([Math.max(a,2*this.ve_6.length)],0),b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.ve_6,0,
a,0,this.ve_6.length),this.ve_6=a)},add:function(a){this.et$3(this.used+1);if(a==a){var d=this.fO$1(a);0>d&&(d=-(d+1),b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.ve_6,d,this.ve_6,d+1,this.used-d),this.used++,this.ve_6[d]=a)}},size:function(){return this.used},get:function(a){return this.ve_6[a]},contains:function(a){return 0<=this.fO$1(a)},asArray:function(){var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.used],0);b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.ve_6,
0,a,0,this.used);return a},remove:function(a){a=this.fO$1(a);if(0>a)return!1;--this.used;b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.ve_6,a+1,this.ve_6,a,this.used-a);return!0},fO$1:function(a){if(0==this.used||a<this.ve_6[0])return-1;if(a>this.ve_6[this.used-1])return-this.used-1;for(var b=0,c=this.used-1,e=Math.floor((this.used-1)/2);c>b;){var g=this.ve_6[e];if(g==a)return e;g>a?c=e-1:b=e+1;e=Math.floor((c+b)/2)}return this.ve_6[e]==a?e:this.ve_6[e]>a?-(e+1):-(e+2)},toString:function(){if(0==
this.used)return"{}";var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder;a.append("{");for(var d=0;d<this.used;++d)a.append(this.ve_6[d]),a.appendChar(44);a.replace(a.length()-1,a.length(),"}");return a.toString()},equals:function(a){if(this==a)return!0;if(null==a)return!1;try{if(this.used!=a.used)return!1;for(var d=0;d<this.used;++d)if(this.ve_6[d]!=a.ve_6[d])return!1;return!0}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,Error))return!1;throw c;}},hashCode:function(){return this.used},
getDomain:function(){return 0==this.used?b.com_ibm_vis_engine_internal_data_Range.EMPTY:new b.com_ibm_vis_engine_internal_data_Range(this.ve_6[0],this.ve_6[this.used-1])},retain:function(a){if(!(0>=this.used)){var d=this.getDomain();d.contains(a.min)||d.contains(a.max)||a.contains(d.min)||a.contains(d.max)?(d=this.fO$1(a.min),0>d&&(d=-d-1),a=this.fO$1(a.max),a=0>a?-a-1:a+1,b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.ve_6,d,this.ve_6,0,a-d),this.used=a-d):this.used=0}}});b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.splitSubShapes=function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=a.getXAxisCrossingPoints(),e=c.size();if(0==e)d.add(a);else{var g=a.getXSamples(),k=0,s=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN),f=g.get(0);s.moveTo(f,a.getRightY(f));for(var u=1;u<g.size();++u)f=g.get(u),k<e&&c.get(k)<=f&&(s.lineTo(c.get(k),0),d.add(s),s=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN),
s.moveTo(c.get(k),0),k++),s.lineTo(f,a.getY(f));d.add(s)}return d};b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.makeStackingLine=function(a,d){var c=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN);if(a.isFilled())if(a.pe_10){var e=a.pe_10.getControlPoints(a);c.moveTo(a.x[1],d-a.y[1]);for(var g=2;g<a.x.length-1;++g){var k=2*(g-2),s=e.get(k),k=e.get(k+1);c.curveTo(a.x[g],d-a.y[g],s.x,d-s.y,k.x,d-k.y)}}else for(c.moveTo(a.x[1],
d-a.y[1]),g=2;g<a.x.length-1;++g)c.lineTo(a.x[g],d-a.y[g]);else if(a.pe_10)for(e=a.pe_10.getControlPoints(a),c.moveTo(a.x[0],d-a.y[0]),g=1;g<a.x.length;++g)k=2*(g-1),s=e.get(k),k=e.get(k+1),c.curveTo(a.x[g],d-a.y[g],s.x,d-s.y,k.x,d-k.y);else for(c.moveTo(a.x[0],d-a.y[0]),g=1;g<a.x.length;++g)c.lineTo(a.x[g],d-a.y[g]);return c};b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.createSubPoly=function(a,d,c,e){return d?b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.ml$8(a,
d,c,e):b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.ml$7(a,c,e)};b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.ml$7=function(a,d,c){for(var e=a.getXSamples(),g=new b.com_ibm_rave_codegenerator_util_List,k=new b.com_ibm_rave_codegenerator_util_List,s=0;s<e.size();++s){var f=e.get(s),u=d-a.getRightY(f),h=a.getMultipleY(f),l=d-a.getLeftY(f);0<g.size()&&l==l&&(g.add(f),k.add(l));for(var m=0;m<h.length;++m){var p=d-h[m];p==p&&l!=p&&(g.add(f),
k.add(p))}u==u&&u!=d-h[h.length-1]&&s!=e.size()-1&&(g.add(f),k.add(u))}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(g.toArray(),k.toArray(),!1,c)};b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.ml$8=function(a,d,c,e){for(var g=a.getXSamples(),k=g.getDomain(),s=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,u=0;u<g.size();++u){var h=g.get(u),l=c-a.getRightY(h),m=a.getMultipleY(h),p=c-a.getLeftY(h);0<s.size()&&p==p&&
(s.add(h),f.add(p));for(var q=0;q<m.length;++q){var r=c-m[q];r==r&&p!=r&&(s.add(h),f.add(r))}l!=c-m[m.length-1]&&l==l&&(s.add(h),f.add(l))}a=s.size();h=u=0;0!=g.size()&&(u=g.get(0),h=g.get(g.size()-1));l=d.getXSamples();g=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet(l.size()+2);g.addAll(l);g.add(u);g.add(h);g.retain(k);k=!0;for(u=g.size()-1;0<=u;--u)h=g.get(u),l=c-d.getRightY(h),r=c-d.getY(h),p=c-d.getLeftY(h),l!=l||k||(s.add(h),f.add(l)),r==r&&(k||r!=l&&0!=u)&&
(s.add(h),f.add(r)),p==p&&r!=p&&0!=u&&(s.add(h),f.add(p)),k=!1;d=s.toArray();f=f.toArray();e=new b.com_ibm_vis_engine_internal_struct_ShapePoly(d,f,!0,e);e.setNonTopPointsCount(s.size()-a);return e};b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LineSegment=b.com_ibm_init_declare({m:0,b:0,constructor:function(a,b){this.p1=a;this.p2=b;this.m=(b.y-a.y)/(b.x-a.x);this.b=b.y-this.m*b.x},getP1:function(){return this.p1},getP2:function(){return this.p2},getXIntercept:function(){return this.p1.x==
this.p2.x?this.p1.x:-this.b/this.m},interpolate:function(a){return new b.com_ibm_vis_geom_Point(this.p1.x*(1-a)+this.p2.x*a,this.p1.y*(1-a)+this.p2.y*a)},interpolateY:function(a){return a==this.p1.x?this.p1.y:a==this.p2.x?this.p2.y:this.m*a+this.b},containsX:function(a){return a>=Math.min(this.p1.x,this.p2.x)&&a<=Math.max(this.p1.x,this.p2.x)},crossesXAxis:function(){return 0>this.p1.y*this.p2.y},toString:function(){return"Line segment from "+this.p1+" to "+this.p2}});b.com_ibm_vis_engine_internal_grammar_coordinate_stack_PolyStacker=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_stack_Stacker,{constructor:function(a){this.st_18=a},stack:function(a,d,c){if(a.x.length!=a.y.length)return null;if(!a.isFilled()&&2>a.x.length)return c=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN),c.moveTo(a.x[0],d-a.y[0]),c.lineTo(a.x[0],d-a.y[0]),this.st_18.stack(c,d,a.isFilled(),null),null;if(a.isFilled()&&4>a.x.length)return c=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN),
c.moveTo(a.x[0],d-a.y[0]),c.lineTo(a.x[1],d-a.y[1]),c.lineTo(a.x[2],d-a.y[2]),this.st_18.stack(c,d,a.isFilled(),null),null;this.pe$13(a,d);c=b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.makeStackingLine(a,d);var e=b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.splitSubShapes(c);c=new b.com_ibm_rave_codegenerator_util_List;for(var g=0,e=e.arrayIterator(),k=e.length;g<k;++g){var f=this.st_18.stack(e[g],d,a.isFilled(),null);0<f.x.length&&
0<f.y.length&&c.add(f)}return 0<c.size()?(1<c.size()?(d=a.getBounds(),d=new b.com_ibm_vis_engine_internal_struct_Schema(d.x,d.y,d.wt_3,d.hh_2,c.toArray(Array(c.size())),a.isFilled())):d=c.get(0),d.setRows(a.getRows()),d.setSnap(a.getSnap()),d.setStartArrowByName(a.getStartArrowName()),d.setEndArrowByName(a.getEndArrowName()),this.st_18.setTransformedShapeForPoly(a,d),d):null},pe$13:function(a,b){for(var c=a.x,e=a.y,g=1;g<c.length;++g)c[g]==c[g-1]&&(e[g]=e[g-1]+e[g]-b)}});b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DefaultStacker=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_stack_Stacker,{constructor:function(a){this.st_16=a},stack:function(a,d,c){d=a.getBounds();var e;e=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.y)==b.com_ibm_vis_engine_internal_util_MathUtil.r3(c)&&0<d.hh_2?d.y+d.hh_2:d.y;c=this.st_16.getStackingOffset(d.getCenterX(),e,c);a.affine(1,0,1,-c,!1);return a}});b.com_ibm_vis_engine_internal_grammar_coordinate_stack_StackState=b.com_ibm_init_declare({constructor:function(){this.nc_1=
new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DataStack;this.pc_1=new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DataStack;this.ta_2=new b.com_ibm_rave_codegenerator_util_LinkedHashMap},clear:function(){this.nc_1=new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DataStack;this.pc_1=new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DataStack},getStackingOffset:function(a,b,c){b=c-b;return 0>b?this.nc_1.getStackingOffset(a,b):this.pc_1.getStackingOffset(a,
b)},stack:function(a,b,c,e){return a.isNonNegative()?this.pc_1.stackPath(a,b,c,e):this.nc_1.stackPath(a,b,c,e)},getTransformedPoly:function(a){return this.ta_2.get(a)},setTransformedShapeForPoly:function(a,b){this.ta_2.put(a,b)}});b.com_ibm_vis_engine_internal_grammar_coordinate_stack_DataStack=b.com_ibm_init_declare({constructor:function(){this.top=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_PointFunctionalPath},getStackingOffset:function(a,d){var c=this.top.getY(a);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.top,
b.com_ibm_vis_engine_internal_grammar_coordinate_functions_PointFunctionalPath)&&0!=d&&this.top.addPoint(a,d+c);return c},stackPath:function(a,d,c,e){a=this.mt$14(a,this.top);d=c?b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.createSubPoly(a,this.top,d,e):b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPathUtil.createSubPoly(a,null,d,e);this.top=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_CompositeFunctionalPath(this.top,a);return d},
mt$14:function(a,d){for(var c=this.fe$6(a,d),e=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN),g=0;g<c.size();++g){var k=c.get(g),f=a.getRightY(k)+d.getRightY(k),v=a.getMultipleY(k),u=NaN;a.isLeftContinuous(k)&&d.isLeftContinuous(k)||(u=a.getLeftY(k)+d.getLeftY(k),u==u&&e.lineTo(k,u));for(var h=0;h<v.length;++h){var l=v[h]+d.getY(k);l==l&&u!=l&&(0==h&&0==g&&e.moveTo(k,l),e.lineTo(k,l))}f==f&&f!=v[v.length-1]+d.getY(k)&&e.moveTo(k,f)}return e},fe$6:function(a,
d){var c=a.getXSamples(),e=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet(c.size());e.addAll(c);for(var c=e.getDomain(),g=d.getXSamples(),k=0;k<g.size();++k){var f=g.get(k);c.contains(f)&&e.add(f)}return e}});b.com_ibm_vis_engine_internal_grammar_coordinate_functions_PointFunctionalPath=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPath,{nn_6:0,pn_17:0,constructor:function(){this.ve_7=new b.com_ibm_rave_codegenerator_util_NumericMap},
addPoint:function(a,b){var c=this.ve_7.get(a);null!=c&&(0<c?this.pn_17--:0>c&&this.nn_6--);this.ve_7.put(a,b);0>b?this.nn_6++:0<b&&this.pn_17++},copy:function(){for(var a=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_PointFunctionalPath,d=0,c=this.ve_7.keySet().arrayIterator(),e=c.length;d<e;++d){var g=c[d];a.addPoint(g,this.getY(g))}return a},getXSamples:function(){for(var a=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet(this.ve_7.size()),d=0,c=this.ve_7.keySet().arrayIterator(),
e=c.length;d<e;++d)a.add(c[d]);return a},getY:function(a){a=this.ve_7.get(a);return null!=a?a:0},isDiscontinuity:function(a){return 0!=this.getY(a)},getRightY:function(a){return 0},getLeftY:function(a){return 0},isNonNegative:function(){return 0==this.nn_6},isNonPositive:function(){return 0==this.pn_17},isLeftContinuous:function(a){return this.getLeftY(a)==this.getY(a)}});b.com_ibm_vis_engine_internal_grammar_coordinate_functions_CompositeFunctionalPath=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_functions_FunctionalPath,
{constructor:function(){this.yh_1=new b.com_ibm_rave_codegenerator_util_Map;this.yh_2=new b.com_ibm_rave_codegenerator_util_Map;this.yh_3=new b.com_ibm_rave_codegenerator_util_Map;(function(a,b){this.a=a;this.b=b}).apply(this,arguments)},isNonNegative:function(){if(null!=this.nv_1)return this.nv_1;for(var a=this.getXSamples(),b=0;b<a.size();++b)if(0>this.getY(a.get(b)))return this.nv_1=!1;return this.nv_1=!0},isNonPositive:function(){if(null!=this.nv_2)return this.nv_2;for(var a=this.getXSamples(),
b=0;b<a.size();++b)if(0<this.getY(a.get(b)))return this.nv_2=!1;return this.nv_2=!0},getXSamples:function(){if(!this.xe_2){var a=this.a.getXSamples(),d=this.b.getXSamples();this.xe_2=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_DoubleOrderedSet(Math.max(1,a.size()+d.size()));this.xe_2.addAll(a);this.xe_2.addAll(d)}return this.xe_2},getY:function(a){var b=this.yh_1.get(a);null==b&&(b=this.ce$24(this.a.getY(a),this.b.getY(a)),this.yh_1.put(a,b));return b},getRightY:function(a){var b=
this.yh_3.get(a);null==b&&(b=this.ce$24(this.a.getRightY(a),this.b.getRightY(a)),this.yh_3.put(a,b));return b},getLeftY:function(a){var b=this.yh_2.get(a);null==b&&(b=this.ce$24(this.a.getLeftY(a),this.b.getLeftY(a)),this.yh_2.put(a,b));return b},ce$24:function(a,b){return b!=b?a:a!=a?b:Math.abs(a)>Math.abs(b)?a:b},isDiscontinuity:function(a){var b=this.getY(a),c=this.getLeftY(a);a=this.getRightY(a);return b!=b?a==a||c==c:c!=c||a!=a?!0:c!=b||a!=b},isLeftContinuous:function(a){return this.a.isLeftContinuous(a)&&
this.b.isLeftContinuous(a)}});b.com_ibm_vis_engine_internal_grammar_coordinate_ProjectionTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransform,{constructor:function(a){this.pe_14=a},sm$2:function(a,d){var c=d[0].dimensionToDataValueInterpolate(0,a.hh_1),e=d[0].dimensionToDataValueInterpolate(a.hh_1,a.hh_1),g=d[1].dimensionToDataValueInterpolate(0,a.wt_2),k=d[1].dimensionToDataValueInterpolate(a.wt_2,a.wt_2);this.tr_5=new b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection(this.pe_14,
g,k,c,e,a,d[0].spans.get(0).getInputRange())},updateBounds:function(a){this.tr_5&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.tr_5,b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection)&&this.tr_5.updateBounds(a)},needsInsideAxes:function(){return!0},isProjection:function(){return!0},transformShape:function(a,d,c){this.tr_5||this.sm$2(d,c);if(a.isGlyphLike()){var e=a.getCenter();d=this.tr_5.transform(e.x,e.y);a.affine(1,d.x-e.x,1,d.y-e.y,!1)}else if(a.getParts()){for(var g=
a.getParts(),e=0;e<g.length;++e)g[e]=this.transformShape(g[e],d,c);a.recalcuateBounds()}else if(d=a.applyPointTransform(this.tr_5)){c=d.getPointCount();g=b.com_ibm_rave_codegenerator_lang_Array.create([c],0);g[0]=77;for(e=1;e<c;++e)g[e]=76;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.getGeom(),b.com_ibm_vis_geom_Rect)||b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.getGeom(),b.com_ibm_vis_geom_Circle))g[c-1]=90;e=new b.com_ibm_vis_engine_internal_struct_Path(d.x,d.y,a.isFilled(),
g);e.copyInfoFrom(a);a=e}return a},inverseTransform:function(a,b,c){return null},calculateGapSize:function(a,b){return a},isInversible:function(){return!1}});b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection=b.com_ibm_init_declare(b.com_ibm_vis_geom_PointTransform,{type:0,ca_7:0,sa_5:0,sc_5:!1,fromScX:0,fromOffX:0,fromScY:0,fromOffY:0,outSc:0,outOffX:0,outOffY:0,midLong:0,constructor:function(a,d,c,e,g,k,f){var v,u,h;a&&(v=a.name,u=a.standardLatitude,h=a.method,this.cm$3(a.move));null==
v?this.type=0:v.CPVISEngineStartsWith("winkel")?this.type=2:v.CPVISEngineStartsWith("mercator")?this.type=1:v.CPVISEngineStartsWith("miller")?this.type=4:v.CPVISEngineStartsWith("cyl")?this.type=3:v.CPVISEngineStartsWith("stereo")?this.type=5:this.type=0;if(0!=this.type){a=f?f.max:g;if(-90>(f?f.min:e))throw new b.com_ibm_vis_exceptions_internal_SpecException("Minimum latitude is less than -90 degrees, cannot apply map transformation. Ensure latitude data is within the range [-90, 90] and longitude data within the range [-180, 180].",
b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);if(90<a)throw new b.com_ibm_vis_exceptions_internal_SpecException("Maximum latitude is greater than 90 degrees, cannot apply map transformation. Ensure latitude data is within the range [-90, 90] and longitude data within the range [-180, 180].",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);}null!=v&&v.CPVISEngineStartsWith("mercator")&&(e=Math.max(e,-85),g=Math.min(g,85));this.ca_7=null==u?5==this.type?Math.cos((e+g)/2*3.141592653589793/180):Math.cos(.6981317007977318):
Math.cos(3.141592653589793*u/180);this.sa_5=Math.sqrt(1-this.ca_7*this.ca_7);this.midLong=3.141592653589793*(d+c)/2/180;null!=h&&h.CPVISEngineStartsWith("stretch")?this.sc_5=!0:this.sc_5=!1;this.fromScX=c-d;this.fromOffX=d;this.fromScY=e-g;this.fromOffY=g;this.re_17=[b.com_ibm_vis_engine_internal_data_Range.EMPTY,b.com_ibm_vis_engine_internal_data_Range.EMPTY];this.ag$3(this.re_17,d,e,c,e);this.ag$3(this.re_17,c,e,c,g);this.ag$3(this.re_17,c,g,d,g);this.ag$3(this.re_17,d,g,d,e);this.bd_7=new b.com_ibm_vis_geom_Dim(1,
1);this.updateBounds(k)},updateBounds:function(a){if(a.wt_2!=this.bd_7.wt_2||a.hh_1!=this.bd_7.hh_1){this.fromScX=this.fromScX*this.bd_7.wt_2/a.wt_2;this.fromScY=this.fromScY*this.bd_7.hh_1/a.hh_1;var b=a.wt_2/this.re_17[0].range,c=a.hh_1/this.re_17[1].range;this.outSc=this.sc_5?Math.max(b,c):Math.min(b,c);this.outOffX=-this.re_17[0].min*this.outSc+a.wt_2/2*(1-this.outSc/b);this.outOffY=this.re_17[1].max*this.outSc+a.hh_1/2*(1-this.outSc/c);this.bd_7=a}},cm$3:function(a){if(a&&0!=a.length){this.moveFromBounds||
(this.moveFromBounds=b.com_ibm_rave_codegenerator_lang_Array.create([a.length,4],0),this.moveTranform=b.com_ibm_rave_codegenerator_lang_Array.create([a.length,6],0),this.moveInverseTransform=b.com_ibm_rave_codegenerator_lang_Array.create([a.length,4],0));for(var d,c,e,g,k=0;k<a.length;++k){if(a[k].from[2]>a[k].from[3])throw new b.com_ibm_vis_exceptions_internal_SpecException("ProjectionParameters:Lattitude min is greater than lattitude max",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);
this.moveFromBounds[k][0]=a[k].from[0];this.moveFromBounds[k][1]=a[k].from[1];this.moveFromBounds[k][2]=a[k].from[2];this.moveFromBounds[k][3]=a[k].from[3];d=b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.ce$25(a[k].from);e=b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.ce$25(a[k].to);c=.5*(a[k].from[2]+a[k].from[3]);g=.5*(a[k].to[2]+a[k].to[3]);this.moveTranform[k][0]=b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.co$5(d,e);this.moveTranform[k][1]=
g-c;this.moveTranform[k][2]=b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.co$5(a[k].to[0],a[k].to[1])/b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.co$5(a[k].from[0],a[k].from[1]);this.moveTranform[k][3]=(a[k].to[3]-a[k].to[2])/(a[k].from[3]-a[k].from[2]);this.moveTranform[k][4]=d;this.moveTranform[k][5]=c}}},applyProjectionMoveTransform:function(a,d){var c=new b.com_ibm_vis_geom_Point(a,d);if(!this.moveFromBounds)return c;for(var e=0;e<this.moveFromBounds.length;++e)if(this.moveFromBounds[e][2]<=
d&&d<=this.moveFromBounds[e][3]&&b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.ig$3(this.moveFromBounds[e][0],this.moveFromBounds[e][1],a)){c.x=(c.x-this.moveTranform[e][4])*this.moveTranform[e][2]+this.moveTranform[e][4]+this.moveTranform[e][0];c.y=(c.y-this.moveTranform[e][5])*this.moveTranform[e][3]+this.moveTranform[e][5]+this.moveTranform[e][1];180<c.x?c.x-=360:-180>c.x&&(c.x=360+c.x);break}return c},getProjectionMoveFromBounds:function(){return this.moveFromBounds},getProjectionMoveTransform:function(){return this.moveTranform},
getProjectionMoveInverseTransform:function(){return this.moveInverseTransform},ag$3:function(a,b,c,e,g){for(var k=0;10>k;++k){var f=this.t(b+(e-b)*k/10,c+(g-c)*k/10);f&&(a[0]=a[0].unionValue(f.x),a[1]=a[1].unionValue(f.y))}},transform:function(a,b){var c=this.applyProjectionMoveTransform(a*this.fromScX+this.fromOffX,b*this.fromScY+this.fromOffY),c=this.t(c.x,c.y);c.x=c.x*this.outSc+this.outOffX;c.y=-c.y*this.outSc+this.outOffY;return c},preservesLines:function(){return 2!=this.type&&5!=this.type},
t:function(a,d){if(1==this.type||4==this.type)-85>d?d=-85:85<d&&(d=85);a=3.141592653589793*a/180;d=3.141592653589793*d/180;if(2==this.type){var c=Math.acos(Math.cos(d)*Math.cos(a/2)),e=1E-6>Math.abs(c)?1:Math.sin(c)/c,c=a*this.ca_7+2*Math.cos(d)*Math.sin(a/2)/e,e=d+Math.sin(d)/e;return new b.com_ibm_vis_geom_Point(c/2,e/2)}if(1==this.type)return new b.com_ibm_vis_geom_Point(a,Math.log(Math.tan(.7853981633974483+d/2)));if(4==this.type)return new b.com_ibm_vis_geom_Point(a,1.25*Math.log(Math.tan(.7853981633974483+
.4*d)));if(3==this.type)return new b.com_ibm_vis_geom_Point(a*this.ca_7,Math.sin(d)/this.ca_7);if(5==this.type){var g=Math.sin(d),c=Math.sin(a-this.midLong)*Math.cos(d),e=-Math.cos(a-this.midLong)*Math.cos(d);return new b.com_ibm_vis_geom_Point(c,this.sa_5*e+this.ca_7*g)}return new b.com_ibm_vis_geom_Point(a,d)}});b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.ce$25=function(a){var b=0;if(0<a[0]&&0>a[1])var b=180-a[0],c=a[1]+180,b=b>c?a[0]+.5*(b+c):a[1]-.5*(b+c);else b=.5*(a[0]+a[1]);
return b};b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.co$5=function(a,b){return 0<a&&0>b?180-a+b+180:b-a};b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.ig$3=function(a,b,c){return 0<a&&0>b?c>=a||c<=b:c>=a&&c<=b};b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.SL_4=0;b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.MO_3=1;b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.WE_1=2;b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.CA_3=
3;b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.ME_3=4;b.com_ibm_vis_engine_internal_grammar_coordinate_MapProjection.SI_2=5;b.com_ibm_vis_engine_internal_grammar_coordinate_TransposeTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransform,{isTranspose:function(){return!0},transformShape:function(a,b,c){a.isGlyphLike()?(c=a.getCenter(),a.affine(1,b.wt_2-b.wt_2*c.y/b.hh_1-c.x,1,b.hh_1*(1-c.x/b.wt_2)-c.y,!1)):a.transpose(b);b=a.getReversed();
null!=b&&("x"==b&&a.setReversed("y"),"y"==b&&a.setReversed("x"));return a},inverseTransform:function(a,b,c){c=b.wt_2*(1-a[0]/b.hh_1);a[0]=b.hh_1*(1-a[1]/b.wt_2);a[1]=c;return a},calculateGapSize:function(a,b){return 0},appliesToAxisTickOrLabel:function(){return!0}});b.com_ibm_vis_engine_internal_grammar_coordinate_PolarTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransform,{ml_1:!1,sa_6:0,cs_3:!1,constructor:function(a,b,c,e){this.ml_1=2>b;this.sa_6=
3.141592653589793*-(null==a?0:a)/180;this.cs_3=c;this.de_23=e},isPolar:function(){return!0},needsInsideAxes:function(){return!0},getStartAngle:function(){return this.sa_6},transformShape:function(a,d,c){c=Math.min(d.wt_2,d.hh_1);var e=Math.min(d.wt_2,d.hh_1);c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getPreferredSize(this.de_23,c,!1,e);e=2*a.getOutsideStrokeWidth();c=(c-e)/2;if(a.isGlyphLike())a=this.tp$2(a,d,c);else if(e=a.getType(),1004==e)a=this.mg$2(a,d,c);else if(1E3==e)a=this.tl$1(a,
d,c);else if(1009==e)a=this.tx$2(a,d,c);else if(1007==e)a=this.tx$3(a,d,c);else if(1001==e)a=this.tn$4(a,d,c);else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_PolyShape))a=b.com_ibm_vis_engine_internal_struct_Path.isBarLike(a)?this.ta$2(a,d,c):this.tp$3(a,d,c);else if(1010==e)a=this.tm$2(a,d);else throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot polar transform: "+a,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);
a.setGlobalGradientFromCircle(d.wt_2/2,d.hh_1/2,c);return a},ta$2:function(a,d,c){for(var e=a.x,g=a.y,k=Array(e.length/2),f=0;f<e.length;f+=2){var v=new b.com_ibm_vis_engine_internal_struct_ShapeLine([e[f],e[f+1]],[g[f],g[f+1]],!1);k[f/2]=this.tn$4(v,d,c)}a=this.mg$2(b.com_ibm_vis_engine_internal_struct_Shape.toShapeRect(a.getBounds()),d,c).getBounds();return new b.com_ibm_vis_engine_internal_struct_Schema(a.x,a.y,a.wt_3,a.hh_2,k,!1)},tp$2:function(a,b,c){var e=a.getCenter(),g=e.x,k=e.y;this.tn$5(e,
b,c);a.affine(1,e.x-g,1,e.y-k,!1);return a},tm$2:function(a,b){for(var c=a.getParts(),e=0;e<c.length;++e){var g=this.transformShape(c[e],b,null);g&&(c[e]=g)}return a},tn$4:function(a,d,c){if(this.ml_1){if(a.x[0]==a.x[1]){var e=c*a.x[0]/d.wt_2,g=6.283185307179586*(1-a.y[0]/d.hh_1),k=6.283185307179586*(1-a.y[1]/d.hh_1);d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateArc(d.wt_2/2,d.hh_1/2,c*e,g+this.sa_6,k+this.sa_6);d.copyInfoFrom(a);return d}}else if(a.y[0]==a.y[1])return e=1-a.y[0]/d.hh_1,
g=a.x[0]/d.wt_2*6.283185307179586,k=a.x[1]/d.wt_2*6.283185307179586,d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateArc(d.wt_2/2,d.hh_1/2,c*e,g+this.sa_6,k+this.sa_6),d.copyInfoFrom(a),d;this.tp$3(a,d,c);return a},il$7:function(a){return.75>a&&.25<a},io$4:function(a){return.25==a||.75==a},tx$2:function(a,b,c){var e=this.ml_1?1-a.getPoint().y/b.hh_1:a.getPoint().x/b.wt_2,g=6.283185307179586*e;this.tn$5(a.getPoint(),b,c);b=g+this.sa_6+3.141592653589793/(a.vertical?1:2);a.setTransform(this.mr$5(a.getPoint(),
b));if(null!=a.tickLabelOrientation)if(e+=this.sa_6/6.283185307179586,c="start","horizontal"==a.tickLabelOrientation)a.updateTransform(this.mr$7(a.getPoint(),b));else if("auto"==a.tickLabelOrientation)this.il$7(e)?c="end":this.io$4(e)&&(c="middle"),a.align=c,a.updateTransform(this.mr$6(a.getPoint(),b));else{if("vertical"==a.tickLabelOrientation){if(this.il$7(e)||this.io$4(e))c="end";a.align=c;a.updateTransform(this.mr$8(a.getPoint(),b))}}else a.applyTextAngle(),a.style&&null!=a.style.angle&&a.style.angle.equals("polar")&&
(this.il$7(e)?a.align="end":(a.align="start",a.updateTransform(this.mr$5(a.getPoint(),3.141592653589793))));return a},tx$3:function(a,d,c){var e=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(a.getLine(0).getText(),a.getPoint().x,a.getPoint().y,a.align,a.valign,a.getFont(),a.style,new b.com_ibm_vis_spec_internal_StyleSpec,"none",a.getSize(),a.createTooltipForTruncated);e.tickLabelOrientation=a.tickLabelOrientation;e.vertical=a.vertical;this.tx$2(e,d,c);a.setTransform(e.getTransform());
a.align=e.align;this.tn$5(a.getPoint(),d,c);for(var g=a.hasSingleLine()&&!a.getContent().hasMultipleContentParts(),k=-a.getHeight()/2,k=a.getPoint().y<d.hh_1/2?k-a.getFont().getHeight():k+a.getFont().getHeight()/2,f=0,v=a.le_36.arrayIterator(),u=v.length;f<u;++f){var h=v[f];h.align=a.align;this.tn$5(h.getPoint(),d,c);for(var l=0,m=h.getParts(),p=m.length;l<p;++l){var q=m[l];1009==q.getType()?(q.align=a.align,q.valign=g?a.valign:"end",q.getPoint().x=e.getPoint().x,q.getPoint().y=e.getPoint().y):1004==
q.getType()&&(q.setX(e.getPoint().x),q.setY(e.getPoint().y))}g||(h.offsetY(k),k+=h.getHeight());h.offsetX()}return a},tl$1:function(a,b,c){var e=a.getCenter();this.tn$5(e,b,c);a.setX(e.x);a.setY(e.y);return a},mg$2:function(a,d,c){var e=a.getGeom(),g=this.ce$27(d),k=this.ce$26(d),f=this.cu$4(c,e,d);c=this.cu$3(c,e,d);var v=this.cl$6(e,d);d=this.cl$5(e,d);g=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(g,k,f,c,v,d);g.copyInfoFrom(a);return g},cu$3:function(a,b,c){var e=0,e=this.ml_1?
(b.x+b.wt_3)/c.wt_2:1-b.y/c.hh_1;return a*e},cu$4:function(a,b,c){var e=0;this.ml_1&&0!=c.wt_2?e=b.x/c.wt_2:0!=c.hh_1&&(e=1-(b.y+b.hh_2)/c.hh_1);return a*e},cl$5:function(a,b){var c=0,c=this.ml_1?this.cs_3?6.283185307179586*(1-(a.y+a.hh_2)/b.hh_1):(a.y+a.hh_2)/b.hh_1*6.283185307179586:6.283185307179586*(a.x+a.wt_3)/b.wt_2;return c+this.sa_6},cl$6:function(a,b){var c=0,c=this.ml_1?this.cs_3?6.283185307179586*(1-a.y/b.hh_1):a.y/b.hh_1*6.283185307179586:6.283185307179586*a.x/b.wt_2;return c+this.sa_6},
ce$26:function(a){return a.hh_1/2},ce$27:function(a){return a.wt_2/2},tp$3:function(a,d,c){for(var e=0;e<a.x.length;++e){var g=new b.com_ibm_vis_geom_Point(a.x[e],a.y[e]);this.tn$5(g,d,c);a.x[e]=g.x;a.y[e]=g.y}return a},mr$5:function(a,d){return b.com_ibm_vis_engine_internal_Affine.makeRotation(d,a.x,a.y)},tn$5:function(a,b,c){c=this.cu$5(a,b,c);var e=this.ct$14(a,b);a.x=b.wt_2/2+c*Math.cos(e+this.sa_6);a.y=b.hh_1/2+c*Math.sin(e+this.sa_6)},ct$14:function(a,b){var c=0;return c=this.ml_1?6.283185307179586*
(1-a.y/b.hh_1):a.x/b.wt_2*6.283185307179586},cu$5:function(a,b,c){var e=0;return e=this.ml_1?a.x/b.wt_2*c:c*(1-a.y/b.hh_1)},inverseTransform:function(a,b,c){c=Math.atan2(a[0]-b.hh_1/2,a[1]-b.wt_2/2);c-=this.sa_6;0>c&&(c+=6.283185307179586);c/=6.283185307179586;if(this.ml_1)c=b.hh_1-c*b.hh_1,a[0]=c,a[1]=b.wt_2/2;else{c*=b.wt_2;var e=a[0]-b.hh_1/2,g=a[1]-b.wt_2/2,e=Math.sqrt(g*g+e*e),g=Math.min(b.wt_2,b.hh_1)/2;b=(1-e/g)*b.hh_1;a[0]=c;a[1]=b}return a},getDiameterSpec:function(){return this.de_23},getClockwise:function(){return this.cs_3},
calculateGapSize:function(a,b){return 0},mr$6:function(a,b){return this.mr$5(a,-b)},mr$7:function(a,b){return this.il$8(b)?this.mr$5(a,3.141592653589793):this.mr$5(a,0)},mr$8:function(a,b){return this.il$9(b-3.141592653589793)?this.mr$5(a,3.141592653589793):this.mr$5(a,0)},il$8:function(a){return 1.5707963267948966<a&&4.71238898038469>a},il$9:function(a){return 1.5707963267948966>a||4.71238898038469<a},transformPointShape:function(a,d){var c=Math.min(d.wt_2,d.hh_1),e=Math.min(d.wt_2,d.hh_1),c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getPreferredSize(this.de_23,
c,!1,e)/2;this.tn$5(a,d,c);return a}});b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransformFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_coordinate_CoordinateTransformFactory.make=function(a,d,c,e){if("cluster"==a.type){if(!d)throw new b.com_ibm_vis_exceptions_internal_SpecException("Can't specify cluster transform when dimensions are empty.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_EMPTY);return new b.com_ibm_vis_engine_internal_grammar_coordinate_cluster_ClusterTransform(d,
e)}if("stack"==a.type)return new b.com_ibm_vis_engine_internal_grammar_coordinate_stack_StackTransform;if("projection"==a.type){if(!d)throw new b.com_ibm_vis_exceptions_internal_SpecException("Can't specify projection transform when dimensions are empty.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_EMPTY);return a.projectionParameters?(a=a.projectionParameters,new b.com_ibm_vis_engine_internal_grammar_coordinate_ProjectionTransform(a)):new b.com_ibm_vis_engine_internal_grammar_coordinate_ProjectionTransform(null)}if("transpose"==
a.type)return new b.com_ibm_vis_engine_internal_grammar_coordinate_TransposeTransform;if("polar"==a.type){d=null;e=!0;var g=null;a.polarParameters&&(a=a.polarParameters,d=a.startAngle,e=!a.CCW,g=a.diameter);return new b.com_ibm_vis_engine_internal_grammar_coordinate_PolarTransform(d,c,e,g)}throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unknown type: "+a.type);};b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo=b.com_ibm_init_declare({en_7:!1,er_2:!1,pl_1:0,pn_7:0,constructor:function(){this.pl_2=
new b.com_ibm_rave_codegenerator_util_HashMap;this.pn_8=new b.com_ibm_rave_codegenerator_util_HashMap;(function(a,b,c){this.en_7=a;this.er_2=b;this.pn_7=this.pl_1=0;this.do_5=c}).apply(this,arguments)},requirePadding:function(a,b,c){this.pl_1=Math.max(this.pl_1,b);this.pn_7=Math.max(this.pn_7,c);this.pl_2.put(a,b);this.pn_8.put(a,c)},expandRange:function(a,d,c,e){if(!this.en_7||!this.gr_1||null==this.do_5)return a;for(var g=a,k=0,f=this.pl_2.keySet().arrayIterator(),v=f.length;k<v;++k){var u=f[k],
h=u.getDataRange(this.do_5,d),h=h.intersect(a),l=0,m=0;c||(this.gr_1.len!=this.gr_1.len?(l=this.pn_8.get(u),l=Math.min(.2,Math.max(.01,l))):(l=1.5*this.pl_2.get(u)/this.gr_1.len+this.pn_8.get(u),l=Math.min(.2,Math.max(.01,l)),m=l/this.gr_1.len));u=new b.com_ibm_vis_engine_internal_data_Range(m,1-m);this.zeroRequired(d)&&e.allowsZero()&&(h=h.unionValue(0));e.setRange(h);u=u.expand(l*u.range);g=g.unionValue(e.transformFromZeroOne(u.min));g=g.unionValue(e.transformFromZeroOne(u.max))}c=g.min;k=g.max;
c!=c&&(k=NaN);k!=k&&(c=NaN);if(this.zeroDesirable(d)&&e.allowsZero())if(0<g.min&&.25>=g.min/g.max||0>g.min&&0<=a.min)c=0;else if(0>g.max&&.25>=g.max/g.min||0<g.max&&0>=a.max)k=0;return new b.com_ibm_vis_engine_internal_data_Range(c,k)},needsExtraSpacing:function(a,b){var c=this.pl_1/this.gr_1.len,e=b.toZeroOne(a.max),g=b.toZeroOne(a.min),e=b.fromZeroOne(e+c),c=b.fromZeroOne(g-c);if(0<c&&.25>=c/e||0>c&&0<=a.min)c=0;if(0>e&&.25>=e/c||0<e&&0>=a.max)e=0;return e>b.max||c<b.min?!0:!1},addExtraPadding:function(a,
d,c,e){var g=0;a||(g=this.gr_1.len!=this.gr_1.len?this.pn_7:this.pl_1/this.gr_1.len+this.pn_7);a=this.gr_1.len+this.pl_1+this.pn_7*this.gr_1.len;var k=d;this.zeroRequired(e)&&c.allowsZero()&&(k=d.unionValue(0));c.setRange(k);a=(1+g)*a/this.gr_1.len;g=1-a;a=c.transformFromZeroOne(a);g=c.transformFromZeroOne(g);if(this.zeroDesirable(e)&&c.allowsZero()){if(0<g&&.25>=g/a||0>g&&0<=d.min)g=0;if(0>a&&.25>=a/g||0<a&&0>=d.max)a=0}return new b.com_ibm_vis_engine_internal_data_Range(g,a)},setGeometry:function(a){this.gr_1=
a},getGeometry:function(){return this.gr_1},copyFrom:function(a){this.pn_7=a.pn_7;this.pl_1=a.pl_1;this.pn_8.putAll(a.pn_8);this.pl_2.putAll(a.pl_2);this.er_2=a.er_2},finalizeRange:function(a,d,c){if(!this.en_7)return a;var e=a;if(this.en_7){var g=new b.com_ibm_vis_engine_internal_data_Range(c.transformToZeroOne(a.min),c.transformToZeroOne(a.max)),k=new b.com_ibm_vis_engine_internal_data_Range(c.transformToZeroOne(d.min),c.transformToZeroOne(d.max)),e=d;if(.25<(k.max-g.max)/k.range){var f=c.getIntermediatePoint(a.max,
d.max);f>a.max&&(e=new b.com_ibm_vis_engine_internal_data_Range(e.min,f))}.25<(g.min-k.min)/k.range&&(d=c.getIntermediatePoint(a.min,d.min),d<a.min&&(e=new b.com_ibm_vis_engine_internal_data_Range(d,e.max)))}return e},canExpand:function(){return this.en_7},zeroRequired:function(a){return this.en_7&&a.measure.zeroMeaningful&&(this.er_2||a==b.com_ibm_vis_engine_internal_grammar_units_Unit.COUNT)},zeroDesirable:function(a){return this.en_7&&a.measure.zeroMeaningful},getPadPixels:function(){return this.pl_1},
getPadPercent:function(){return this.pn_7}});b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan=b.com_ibm_init_declare({in_4:!1,spanLengthPreTransform:0,constructor:function(a,d,c,e,g,k,f){this.transformMethod=f;this.desiredTicks=d;this.inputUnit=a;this.fitInfo=c;this.setScaleOutRange(k?k:b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE);this.originalFinalOutRange=this.finalOutRange.copy();this.specifiedFormatter=e;this.visContext=g;this.in_4=!1;this.visContext&&(this.iVis=this.visContext.getParentVis());
b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.registerExtensions();this.scaleTransform=b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.create(f)},getInputUnit:function(){return this.inputUnit},setupForExtent:function(a){this.fitInfo.gr_1=a;var b=this.finalOutRange.range,c=a.getFittingTicks(b);null!=this.desiredTicks?this.setupForTickCount(this.desiredTicks,2*this.desiredTicks):this.inputUnit.measure.categorical?this.setupForTickCount(c,c):
(a=a.getPreferredNumericTicks(b),5>a&&(a=Math.min(5,c)),this.setupForTickCount(a,c))},getTickOutRange:function(){var a=this.finalOutRange.copy();a.setMax(1==this.scaleOutRange.max?Math.max(1,a.max):a.max);a.setMin(0==this.scaleOutRange.min?Math.min(0,a.min):a.min);return a},getSuggestedElementSize:function(a,d){var c,e=this.finalOutRange&&this.finalOutRange.isComplete()?this.finalOutRange.range:1;null!=d?(c=(c=this.getAdjustedInputRange())&&c.isComplete()?c.range:1,c=a*d*e/c):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this,
b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan)&&(c=Math.max(this.getCategoryCount(),2),c=a*e/c);return c},getUndefinedParametersFrom:function(a){this.specifiedFormatter=this.specifiedFormatter?this.specifiedFormatter:a.specifiedFormatter;this.fitInfo.copyFrom(a.fitInfo)},adaptInputNumDomainFrom:function(a){},prepareOutRange:function(a,b,c){this.finalOutRange=this.scaleOutRange.remap(a);this.finalExtendedOutRange=this.finalOutRange.expandedBy(b,c)},getFitInfo:function(){return this.fitInfo},
addToGroup:function(a,b){var c=this.getCumulativeOverlap(a),e=this.getCumulativeOverlap(b);c<=e?a.add(this):b.add(this)},getCumulativeOverlap:function(a){var b=0,c=this.scaleOutRange,e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e];null!=this.oe_8&&this.oe_8&&k.oe_8&&(b+=c.getOverlap(k.finalOutRange))}return b},addFormattingContentToTickLabel:function(a,d,c){var e;this.te_4&&0<this.te_4.length&&(this.te_4=b.com_ibm_vis_engine_internal_grammar_label_TextProducer.updateEmptyFieldMethodToLabel(this.te_4),
e=new b.com_ibm_rave_codegenerator_util_Map,e.put("tick",a),e.put(b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.FORMAT_INFO,c),e=b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContentWithContext(this.iVis,null,this.te_4,d,e));return e?e:(d=new b.com_ibm_vis_engine_internal_grammar_label_TextContent(this.visContext.getMinimumFontSize()),a=new b.com_ibm_vis_engine_internal_grammar_label_TextContentPart(a,null,this.visContext.getMinimumFontSize()),a.ff_1=c,d.addTextContentPart(a),
d)},isMatchingSpan:function(){return this.in_4},setSpanMatching:function(a){this.in_4=a},isOutRangeSetFromSpec:function(){return this.oe_8},setOutRangeSetFromSpec:function(a){this.oe_8=a},getOutRange:function(){return this.finalOutRange},getScaleOutRange:function(){return this.scaleOutRange},getExtendedOutRange:function(){return this.finalExtendedOutRange},setScaleOutRange:function(a){this.finalExtendedOutRange=this.finalOutRange=this.scaleOutRange=a},setTickLabelContent:function(a){this.te_4=a},
getSuggestedSize:function(a){return this.sz_3},setSuggestedSize:function(a){this.sz_3=a},setPreTransformSpanLength:function(a){this.spanLengthPreTransform=a*this.scaleOutRange.range},getDataField:function(){return this.dataField},setDataField:function(a){this.dataField=a;if(a=a.se_23)this.specifiedFormatter=a}});b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.FORMAT_INFO="format_info";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.CONTENT_ARG_TICK=
"tick"});b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan,{fc_2:0,mo_7:0,dl_1:!1,rs_3:!1,constructor:function(){this.mh_1=new b.com_ibm_vis_geom_Dim(0,0);(function(a,b,c,e,g,k,f,v,u,h){this.di_2=u;this.cl_4=v;this.dataField=h;this.fc_2=1;this.rs_3=this.dl_1=!1}).apply(this,arguments)},addTicks:function(a,d){this.ac$2(a,d,this.fc_2);this.mh_1=new b.com_ibm_vis_geom_Dim(0,0)},setReversed:function(a){this.rs_3=
a},setDrawnMultiple:function(a){this.dl_1=a},gu$6:function(a,b){var c;if(this.cl_4){if(c=this.cl_4[a],null==c)return null}else c=""+a;var e=this.dataField?this.dataField.id:null;c=this.visContext.formatContext.formatString(c,this.specifiedFormatter,-1,e);var e=this.visContext.getParentVis().getByID(e),g;e&&(g=e.getFormatInfo(a,b,null));return this.addFormattingContentToTickLabel(c,b,g)},setupForTickCount:function(a,b){var c=Math.round(this.di_2.getOutputCount()/a),e=Math.ceil(this.di_2.getOutputCount()/
b);c<e&&(c=e);1>c&&(c=1);this.fc_2=c},setupMaxTickCount:function(a){this.mo_7=a},getMaxTickLabelSize:function(a){if(b.com_ibm_vis_engine_internal_grammar_scale_Scale.hasSize(this.mh_1))return this.mh_1;for(var d=0,c=0,e=this.di_2.getOutputValues(),g=0;g<e.length;++g){var k=this.gu$6(e[g],g);k&&(k=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(k,0,0,"start",b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE,a,null,null,new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,1.7976931348623157E308),
!1,null,this.visContext.getNumericShapingInfo(),this.visContext.tx_1))&&(d=Math.max(d,k.calculateTextWidth()),c=Math.max(c,k.getHeight()))}return this.mh_1=new b.com_ibm_vis_geom_Dim(d,c)},isApplicable:function(a){if(!a)return!0;var b=a.name;return a.measure.matches(this.inputUnit.measure)&&b==this.inputUnit.name},toZeroOne:function(a,b,c){if(b&&!this.isApplicable(b))return null;b=this.di_2;var e=b.getDomainValueForFieldValue(a);if(null==e)return null;a=b.isWeighted()?this.sn$2(a):this.sn$1(e);if(c){if(0>
a)return 0;if(1<a)return 1}return this.finalOutRange.fromZeroOne(a)},getScaleIndexFromFieldIndex:function(a){return this.di_2.getDomainValueForFieldValue(a)},getFieldIndexFromScaleIndex:function(a){return this.di_2.getFieldValueForDomainValue(a)},sn$1:function(a){var b=this.di_2.getOutputCount();return 1==b?.5:this.fitInfo.en_7?(a+.5)/b:a/(b-1)},sn$2:function(a){if(1==this.di_2.getOutputCount())return.5;for(var d=this.di_2.restrictToExisting?this.di_2.getDataOutputValues():this.di_2.getOutputValues(),
c=this.di_2.sumWeightsForCategories(d),e=0,g=0,k=d.length;g<k;++g){var f=d[g];if(f==a)return e+=.5*this.di_2.getCategoryWeight(f),e/c;e+=this.di_2.getCategoryWeight(f)}throw new b.com_ibm_vis_exceptions_internal_EngineException("Attempted to scale weighted category index that does not exist in categorical domain.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_CATEGORICAL_INDEX_NOT_FOUND);},addMinorTicks:function(a){},computeTickCount:function(){return Math.floor(this.di_2.getOutputCount()/this.fc_2)},
getTickMin:function(){return 0},getTickSize:function(){return this.fc_2},getInputRange:function(){return new b.com_ibm_vis_engine_internal_data_Range(0,this.di_2.getOutputCount())},getAdjustedInputRange:function(){return new b.com_ibm_vis_engine_internal_data_Range(0,this.di_2.getOutputCount())},getTickUnit:function(){return this.inputUnit},zeroOneToDataValue:function(a){var b=this.di_2.getOutputCount();a=Math.round(a*b-.5);a>b-1&&(a=b-1);0>a&&(a=0);this.rs_3&&(a=b-1-a);return this.di_2.getOutputValues()[a]},
getCategoryCount:function(){return this.di_2.getOutputCount()},getUndefinedParametersFrom:function(a){b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.prototype.getUndefinedParametersFrom.apply(this,[a]);this.cl_4||(this.cl_4=a.cl_4);this.di_2.fillInDetailsFrom(a.di_2)},getGoodDisplaySpanSize:function(){return this.getCategoryCount()},getIndexFromZeroOne:function(a){a=this.finalOutRange.toZeroOne(a);var b=this.di_2.getOutputCount();return this.fitInfo.en_7?Math.round(b*a-.5):Math.round(a*(b-
1))},addAllTicks:function(a,b){this.ac$2(a,b,1)},ac$2:function(a,d,c){var e,g=0;d=d?this.di_2.getDataOutputValues():this.di_2.getOutputValues();for(var g=0<this.mo_7&&this.mo_7<d.length?this.mo_7:d.length,k=0;k<g;k+=c){var f=d[k],v,u=this.di_2.isWeighted()?this.sn$2(f):this.sn$1(k),h=this.gu$6(f,k);this.rs_3?(e=g-1-k,v=this.di_2.isWeighted()?this.sn$2(f):this.sn$1(e)):(e=k,v=u);if(this.dl_1)a.add(new b.com_ibm_vis_engine_internal_grammar_scale_Tick(h,this.finalOutRange.fromZeroOne(u),f,this));else{var l;
0<e?(l=this.di_2.isWeighted()?this.sn$2(d[e-1]):this.sn$1(e-1),l=.5*(l+v)):l=0;e<g-1?(e=this.di_2.isWeighted()?this.sn$2(d[e+1]):this.sn$1(e+1),e=.5*(e+v)):e=1;(-1E-6<this.finalOutRange.fromZeroOne(e)&&1.000001>this.finalOutRange.fromZeroOne(l)||this.visContext.isGenerateAllTicks())&&a.add(new b.com_ibm_vis_engine_internal_grammar_scale_Tick(h,this.finalOutRange.fromZeroOne(u),f,this))}}},getBase:function(a){var b=this.di_2.getOutputCount();a=a?b-1:0;return this.di_2.getOutputValues()[a]},isUnitApplicable:function(a,
b){var c=!0;b&&!this.isApplicable(b)&&(c=!1);c&&null==this.di_2.getDomainValueForFieldValue(a)&&(c=!1);return b&&(b.ci_2||this.inputUnit.ci_2)?b.name==this.inputUnit.name:c},getDataMaxValue:function(){return-1},createTickForLocation:function(a){for(var d=this.zeroOneToDataValue(this.finalOutRange.toZeroOne(a)),c=this.di_2.getOutputValues(),e=0,g=0;g<c.length;++g)if(c[g]==d){e=g;break}a=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.gu$6(d,e),a,d,this);this.mh_1=new b.com_ibm_vis_geom_Dim(0,
0);return a},createAllTicks:function(a,d){for(var c=0;c<a.size();++c){for(var e=this.di_2.getOutputValues(),g=0,k=0;c<e.length;++k)if(e[k]==c){g=k;break}e=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.gu$6(c,g),a.get(c).location,c,this);d.add(e)}this.mh_1=new b.com_ibm_vis_geom_Dim(0,0)},areCompatible:function(a){if(this==a)return!0;if(!a||!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan))return!1;if(this.cl_4&&a.cl_4){var d=
this.cl_4.length;if(d!=a.cl_4.length)return!1;for(var c=0;c<d;++c)if(this.cl_4[c]!=a.cl_4[c])return!1}else if(this.cl_4||a.cl_4)return!1;d=this.di_2.getOutputValues();a=a.di_2.getOutputValues();var e=d.length;if(e!=a.length)return!1;for(c=0;c<e;++c)if(d[c]!=a[c])return!1;return!0},getSuggestedSize:function(a){if(this.di_2.isWeighted()){var d=this.di_2.restrictToExisting?this.di_2.getDataOutputValues():this.di_2.getOutputValues(),d=this.di_2.sumWeightsForCategories(d);a=this.di_2.getCategoryWeight(a)/
d*this.spanLengthPreTransform}else a=b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.prototype.getSuggestedSize.apply(this,[a]);return a}});b.com_ibm_vis_engine_internal_extension_ExtensionFactory=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransform=b.com_ibm_init_declare({transformToZeroOne:function(a){return this.rg_3?this.rg_3.toZeroOne(this.transform(a)):NaN},transformFromZeroOne:function(a){return this.rg_3?this.inverse(this.rg_3.fromZeroOne(a)):
NaN},getOriginInZeroOne:function(a){var b=this.transformToZeroOne(0);return b!=b?a?1:0:a?1-b:b},getRange:function(){return this.rg_3},setRange:function(a){this.rg_3=new b.com_ibm_vis_engine_internal_data_Range(this.transform(a.min),this.transform(a.max))}});b.com_ibm_vis_engine_internal_grammar_scale_transform_LinearScaleTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransform,{transform:function(a){return a},inverse:function(a){return a},getMinorTickDivisions:function(a){return a},
getIntermediatePoint:function(a,b){return b},allowsZero:function(){return!0}});b.com_ibm_vis_engine_internal_grammar_scale_transform_LogScaleTransform=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransform,{base:0,os_1:0,constructor:function(){this.base=10;this.os_1=1/Math.log(this.base)},getBase:function(){return this.base},transform:function(a){return 0>a?NaN:Math.log(a)*this.os_1},transformToZeroOne:function(a){a=b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransform.prototype.transformToZeroOne.apply(this,
[a]);return b.com_ibm_rave_codegenerator_lang_Double.isInfinite(a)&&0>a?0:a},inverse:function(a){return Math.pow(this.base,a)},getMinorTickDivisions:function(a){2<=this.base&&(a=this.base-1);return a},getIntermediatePoint:function(a,b){if(a==b)return b;var c=this.transform(a),e=Math.floor(c),c=c-e;return a<b?Math.ceil(this.inverse(c))*this.inverse(e):Math.floor(this.inverse(c))*this.inverse(e)},allowsZero:function(){return!1}});b.com_ibm_vis_engine_internal_grammar_scale_transform_LogScaleTransform.B1_2=
10;b.com_ibm_vis_engine_internal_grammar_scale_transform_LogScaleTransform.B__1=2;b.com_ibm_vis_engine_internal_extension_ExtensionManager=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_extension_ExtensionManager,b.com_ibm_vis_engine_internal_extension_ExtensionFactory],{constructor:function(){this.un_1=new b.com_ibm_vis_engine_internal_extension_ExtensionFactoryList;this.dn_1=new b.com_ibm_vis_engine_internal_extension_ExtensionFactoryList;
this.fn_1=new b.com_ibm_vis_engine_internal_extension_ExtensionFactoryList},registerDefaultFactory:function(a){this.dn_1.add(a)},registerUserFactory:function(a){this.un_1.add(a)},registerFallbackFactory:function(a){this.fn_1.add(a)},newInstance:function(a,b){var c=this.dn_1.newInstance(a,b);null==c&&0<a.indexOf(".")&&(c=this.un_1.newInstance(a,b),null==c&&(c=this.fn_1.newInstance(a,b)));return c},unregisterAllFactories:function(){this.un_1.removeAllFactories();this.dn_1.removeAllFactories();this.fn_1.removeAllFactories()}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE=new b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager});b.com_ibm_vis_engine_internal_Vis=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_VisInterface,{se_57:!0,de_25:!1,ia_11:!1,constructor:function(){this.im_2=new b.com_ibm_rave_codegenerator_util_Map;this.mm_2=new b.com_ibm_vis_engine_internal_DefaultVisContentFrame;this.BL_3=new b.com_ibm_vis_spec_internal_StyleSpec;(function(a){this.vx_10=
new b.com_ibm_vis_engine_internal_VisContext(this,a);this.le_59=new b.com_ibm_vis_engine_internal_scenemodifier_LocalizationSceneModifier;this.ve_8=new b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier;this.me_16=new b.com_ibm_vis_engine_internal_scenemodifier_MirrorSceneModifier;this.zh_1=new b.com_ibm_rave_codegenerator_util_Map}).apply(this,arguments)},setSpecAction:function(a){this.specAction=a},dispose:function(){this.te_18&&this.te_18.dispose();this.li_2&&(this.li_2.dispose(),
this.li_2=null);this.zh_1&&(this.zh_1.clear(),this.zh_1=null);this.rn_7&&(this.rn_7.clear(),this.rn_7=null);this.vx_10.dispose()},copyVisContextSettings:function(a){this.vx_10.copySettings(a)},getByID:function(a){return this.im_2.get(a)},getDescription:function(){return this.ce_40?this.ce_40.description:null},recreateSceneTree:function(a,b,c){return this.getThreadHelper().makeSceneTree(this,a,b,c)},makeSceneTree:function(a,b){var c=this.ia_11?4:0;return this.getThreadHelper().makeSceneTree(this,a,
b,c)},makeSceneTreeImpl:function(a){this.getLogger().hasListeners()&&this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Making Scene Tree");this.vx_10.needsRelayout()&&(this.size=this.fz$1(a),a=new b.com_ibm_vis_geom_Rect(0,0,this.size.wt_2,this.size.hh_1),this.mm_2.layoutWithBounds(a,this.size,this.size));a=new b.com_ibm_vis_scenetree_provisional_SceneTree;a.setSize(this.size);var d=this.getThreadHelper();if(!d.isInterrupted()&&(a.root.getChildren().add(this.mc$29(this.size)),
!d.isInterrupted()&&(this.vx_10.setFacetIndex(0),this.getLogger().hasListeners()&&this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Create Shapes in Scene"),this.mm_2.createShapesInScene(a.root.getChildren()),!d.isInterrupted()))){this.le_59.setContext(this.vx_10);this.le_59.modifyScene(a);this.ve_8.modifyScene(a);if(this.getMirror()){if(b.com_ibm_vis_engine_internal_Vis.ir$3(this.ce_40))throw new b.com_ibm_vis_exceptions_internal_EngineException("Mirroring is not supported for geo maps.",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_MIRRORING_UNSUPPORTED_FOR_GEO_JSON);this.me_16.setWidth(this.size.wt_2);this.me_16.modifyScene(a)}!d.isInterrupted()&&this.vx_10.gt_4&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),(new b.com_ibm_vis_internal_accessibility_AccessibilitySceneModifier(this)).modifyScene(a))}this.vx_10.resetConstructionFlags();this.vx_10.cleanUp();return a.finalizeTree()},replaceSharedScalesInGrammar:function(a,b){this.ga_5[b].replaceSharedScales(a)},
getSize:function(){return this.size?this.size:b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE},put:function(a,d){if(null==a||!d)throw new b.com_ibm_rave_codegenerator_io_WebEngineException;if(this.im_2.containsKey(a)){var c="Duplicate ID "+a+' found.  All fields named "id" must be unique throughout a single VizJSON Specification';this.getLogger().hasListeners()&&this.getLogger().grammarError(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,c);throw new b.com_ibm_rave_codegenerator_io_WebEngineException(c);
}this.im_2.put(a,d)},remove:function(a){this.im_2.remove(a)},read:function(a){a=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a);return this.setSpecification(a)},pe$14:function(a){var d=b.com_ibm_vis_engine_internal_util_VisJSONUtil.getResourceDefinitions(a);d&&0<d.size()&&(this.setResourceDefinitions(d),b.com_ibm_vis_engine_internal_util_VisJSONUtil.expandReferences(a,d));return a},je$5:function(a){a=this.pe$14(a);a=b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.fromJSONObject(a);var d=
this.vx_10.ce_20;d&&d.convert(a);return a},setSpecification:function(a){this.oe_17=a;a=this.migrateAndValidateSpec(a);a=this.je$5(a);return this.setTypedSpecification(a)},getOrigSpecification:function(){return this.oe_17},updateSpecificationData:function(a){return this.getThreadHelper().updateSpecificationData(this,a)},getSpecification:function(){return this.ce_40?this.ce_40.toJSON():null},setNumberFormatter:function(a){this.vx_10.formatContext.integratorNumberFormatter=a},getNumberFormatter:function(){return this.vx_10.formatContext.integratorNumberFormatter},
setLocalizedNumberFormatter:function(a){this.vx_10.formatContext.integratorLocalizedNumberFormatter=a},getLocalizedNumberFormatter:function(){return this.vx_10.formatContext.integratorLocalizedNumberFormatter},setDateFormatter:function(a){this.vx_10.formatContext.integratorDateFormatter=a},getDateFormatter:function(){return this.vx_10.formatContext.integratorDateFormatter},setLocalizedDateFormatter:function(a){this.vx_10.formatContext.integratorLocalizedDateFormatter=a},getLocalizedDateFormatter:function(){return this.vx_10.formatContext.integratorLocalizedDateFormatter},
setStringFormatter:function(a){this.vx_10.formatContext.integratorStringFormatter=a},getStringFormatter:function(){return this.vx_10.formatContext.integratorStringFormatter},setLogger:function(a){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_monitor_internal_LoggerImpl))throw new b.com_ibm_vis_exceptions_internal_EngineException("The Logger passed to setLogger is not the RAVE logger implementation (do not implement the Logger interface)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);
this.vx_10.setLogger(a)},getLogger:function(){return this.vx_10.lx_1},getMatchingRows:function(a,d,c){if(!d||!a||d.length!=a.length)return null;if(0==a.length){if(0==this.data.length)return null;c=this.data[0].rows.length;d=b.com_ibm_rave_codegenerator_lang_Array.create([c],0);for(var e=0;e<c;++e)d[e]=e;return d}for(var g=Array(a.length),e=0;e<g.length;++e){var k=this.getByID(a[e]);if(!k)return null;g[e]=k;if(0<e&&g[e].data!=g[0].data)return null}a=new b.com_ibm_rave_codegenerator_util_List;for(var f=
0;f<g.length;++f){k=g[f];k=b.com_ibm_vis_engine_internal_Vis.fu$2(k.data.rows,k.ie_4,d[f]);if(0<a.size()&&0<k.size()&&!c)return null;for(e=0;e<k.size();++e)a.add(k.get(e))}d=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0);for(e=0;e<d.length;++e)d[e]=a.get(e);return d},getMatchingData:function(a){if(!a)return null;for(var b=0,c=a.length;b<c;++b){var e=this.getByID(a[b]);if(e)return this.getDataIndex(e.data.id)}return null},getDataIndex:function(a){if(null!=a)for(var b=0;b<this.data.length;++b)if(a==
this.data[b].id)return b;return null},getDataByID:function(a){if(null!=a)for(var b=0;b<this.data.length;++b)if(a==this.data[b].id)return this.data[b];return null},setDefaultLocalization:function(a){this.de_26=a;this.vx_10.setLocalization(this.getLocalizationSpec())},getLocalizationSpec:function(){if(!this.ce_40||!this.ce_40.localization)return this.de_26;var a=this.ce_40.localization;this.de_26&&(null==a.baseTextDirection&&(a.baseTextDirection=this.de_26.baseTextDirection),a.nationalShaping||(a.nationalShaping=
this.de_26.nationalShaping),a.contextualShaping||(a.contextualShaping=this.de_26.contextualShaping),null==a.mirror&&(a.mirror=this.de_26.mirror),null==a.locale&&(a.locale=this.de_26.locale));return a},setSpecificationValidation:function(a){this.se_57=a},getSpecificationValidation:function(){return this.se_57},setSpecificationDefaultVersion:function(a){this.so_19=a},getSpecificationDefaultVersion:function(){return this.so_19},getData:function(){return this.data},setData:function(a){this.data=a},getGrammar:function(){return this.ga_5},
setGrammar:function(a){this.ga_5=a},getCurrentSpec:function(){return this.ce_40},setCurrentSpec:function(a){this.ce_40=a},getVisContext:function(){return this.vx_10},setMirror:function(a){var d=new b.com_ibm_vis_spec_internal_LocalizationSpec;d.mirror=a?Boolean.TRUE:Boolean.FALSE;this.setDefaultLocalization(d)},getMirror:function(){var a=this.getLocalizationSpec();if(!a)return!1;a=a.mirror;return null!=a&&a.valueOf()},mc$29:function(a){a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(0,
0,a.wt_2,a.hh_1,this.BL_3);a.setFill(null);a.setID("Back");return a.createSceneNode()},fz$1:function(a){var d,c,e;this.ce_40.size?(c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.ce_40.size.width,null,null),null==c&&(e=this.mm_2.getSizeInfo(null,null).getPreferred().toDim(b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE,b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE),c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(null,e.wt_2,e.wt_2)),null==c&&
(c=a?a.wt_2:e.wt_2),d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.ce_40.size.height,null,null),null==d&&(e=this.mm_2.getSizeInfo(c,null).getPreferred().toDim(b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE,b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE),d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(null,e.hh_1,e.hh_1)),null==d&&(d=a?a.hh_1:e.hh_1)):a?(c=a.wt_2,d=a.hh_1):(e=this.mm_2.getSizeInfo(null,null).getPreferred().toDim(b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE,
b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE),c=e.wt_2,e=this.mm_2.getSizeInfo(c,null).getPreferred().toDim(b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE,b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE),d=e.hh_1);e=new b.com_ibm_vis_geom_Dim(c,d);b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0(this.getSize().wt_2,c)&&b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0(this.getSize().hh_1,d)||this.cd$11(e);return e},cd$11:function(a){if(this.ga_5)for(var b=0,c=this.ga_5,e=c.length;b<
e;++b){var g=c[b].coordinates.tm_3;if(g)for(var k=0,f=g.length;k<f;++k){var v=g[k];v.isProjection()&&v.updateBounds(a)}}},migrateAndValidateSpec:function(a){a=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(a);var d=!1,c=this.eo$4(a),d=this.ve$5(a);if(c&&!b.com_ibm_vis_engine_internal_Vis.CURRENT_VERSION.equals(c)){this.getLogger().hasListeners()&&this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Migrating Specification");try{b.com_ibm_init_requireSync("com/ibm/vis/layers/migrationLayer"),
(b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.getInstance().migrate(a)||d)&&this.ve$5(a)}catch(e){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_rave_codegenerator_io_WebEngineException))this.getLogger().hasListeners()&&this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"There was a problem migrating the specification: "+e);else throw e;}}return a},eo$4:function(a){var d=b.com_ibm_vis_engine_internal_Vis.po$2(a);!d&&this.so_19&&(a.version=this.so_19.toString(),
d=this.so_19);return d},ve$5:function(a){var d=!1;if(this.se_57){b.com_ibm_init_requireSync("com/ibm/vis/layers/migrationLayer");this.eo$4(a);a=b.com_ibm_vis_internal_json_SpecValidator.validate(a);if(this.getLogger().hasListeners())for(var c=0,e=b.com_ibm_vis_internal_json_Diagnostic.flatten(a).arrayIterator(),g=e.length;c<g;++c){var k=e[c];null!=k.mg_2&&(1==k.st_1?this.getLogger().warning(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,k.sc_1+": "+k.mg_2):2==k.st_1&&this.getLogger().error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,
k.sc_1+": "+k.mg_2))}if(1==a.st_1)b.com_ibm_vis_internal_json_SchemaValidator.fixWarnings(a),d=1001==a.code;else if(2==a.st_1)throw new b.com_ibm_vis_exceptions_internal_SpecException(a.toString(),b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE,a.sc_1);}return d},validateSpecification:function(a){b.com_ibm_init_requireSync("com/ibm/vis/layers/migrationLayer");return b.com_ibm_vis_internal_json_SpecValidator.validateWith(a,this.so_19)},setTypedSpecification:function(a){return this.getThreadHelper().setSpecification(this,
a)},setStartingViewport:function(a,d){this.sr_12=a;b.com_ibm_vis_engine_internal_Vis.checkViewportArray("Vis#setStartingViewport",this.sr_12);this.ia_11=d},resetStartingViewport:function(){this.sr_12=null;this.ia_11=!1},getStartingViewport:function(){return this.sr_12},getPanFlag:function(){return this.ia_11},updateViewports:function(a,b,c){this.applyViewport(a);a=2;b&&(a|=4);c&&(a|=8);return this.recreateSceneTree(null,null,a)},applyViewport:function(a){for(var b=0;b<this.ga_5.length;++b)a?this.ga_5[b].setScaleViewport(a[b].getViewport()):
this.ga_5[b].resetScaleOutRanges()},setTypedSpecificationInternal:function(a){this.getLogger().hasListeners()&&this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Setting Specification");this.customConfig=null;this.ce_40=a;this.im_2.clear();this.vx_10.setLocalization(this.getLocalizationSpec());null==this.ce_40.version&&(this.ce_40.version="7.2");this.se$26();this.getThreadHelper().isInterrupted()||(this.size||(this.size=this.fz$1(new b.com_ibm_vis_geom_Dim(500,400))),this.getThreadHelper().isInterrupted()||
(this.dataAction=this.data=null,this.de_25=!1,a=this.ce_40.data,this.se_57&&b.com_ibm_vis_engine_internal_Vis.vw$1(a),this.ht$3()&&this.specAction?(this.dataAction=new b.com_ibm_vis_engine_internal_AsynchDataAction(this),this.specAction.addAction(this.dataAction),a=new b.com_ibm_vis_engine_internal_AsynchCompleteSpecAction(this),this.specAction.addAction(a)):this.mt$23()&&this.completeSetSpec()))},completeSetSpec:function(){try{this.me$69();this.mr$14();if(this.getThreadHelper().isInterrupted())return!1;
if(this.ce_40.legends)this.md$14();else if(this.li_2){var a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.version="7.2";this.li_2.setSpecification(a)}if(this.sr_12&&0<this.ce_40.grammar.length){for(var d=Array(this.ce_40.grammar.length),a=0;a<this.ce_40.grammar.length;++a)d[a]=new b.com_ibm_vis_interaction_internal_Viewport(this.ce_40.grammar[a]),d[a].setViewport(this.sr_12);this.applyViewport(d)}}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_exceptions_internal_SpecException)){if(!this.dataAction)throw c;
this.getLogger().hasListeners()&&this.getLogger().error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"There was a problem completing the specification: "+c.getMessage());return!1}throw c;}return!0},ht$3:function(){if(this.ce_40.data)for(var a=0;a<this.ce_40.data.length;++a)if(this.ce_40.data[a].provider)return!0;return!1},updateSpecificationDataInternal:function(a){this.rw$1(a);a=0;for(var d=this.ga_5,c=d.length;a<c;++a){var e=d[a];e.modifyDataWithAreaUnderCurve();e.faceting.specificationDataUpdated()}b.com_ibm_vis_engine_internal_Vis.vw$1(this.ce_40.data)},
rw$1:function(a){if(!this.data)throw new b.com_ibm_vis_exceptions_internal_EngineException("Update specification data requires a prior specification set.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UPDATE_DATA_REQUIRES_PRIOR_SPECIFICATION);for(var d=0;d<this.data.length;++d){var c=this.ce_40.data[d];c.rows=b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject.toDoubleArray(a[d].rows);this.data[d].refreshRows(c)}},me$69:function(){if(this.ce_40.titles)for(var a=0,d=0,c=this.ce_40.titles,e=c.length;d<
e;++d){var g=new b.com_ibm_vis_engine_internal_VisTitleFrame(this,c[d],a++);this.mm_2.addTitle(g)}},se$26:function(){this.mm_2=new b.com_ibm_vis_engine_internal_DefaultVisContentFrame;this.mm_2.sl_11=this.ce_40.style},mr$14:function(){this.ga_5=Array(this.ce_40.grammar?this.ce_40.grammar.length:0);for(var a=0;a<this.ga_5.length;++a){this.ga_5[a]=new b.com_ibm_vis_engine_internal_Grammar(this.ce_40.grammar[a].bounds,this.ce_40.grammar[a].style,this,this.ce_40.grammar[a],a);var d=this.ga_5[a].getFacetTarget();
d?d.addFacetedGrammar(this.ga_5[a]):this.mm_2.addGrammar(this.ga_5[a])}for(var a=0,d=this.ga_5,c=d.length;a<c;++a)d[a].modifyDataWithAreaUnderCurve()},mt$23:function(){if(this.de_25)return!1;this.data||(this.data=this.ce_40.data?Array(this.ce_40.data.length):[]);try{for(var a=0;a<this.data.length;++a){var d=null;this.ce_40.data[a].provider&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/dataProviderLayer"),d=new b.com_ibm_vis_engine_dataProviderService_internal_DataProviderListenerImpl(this.dataAction),
this.ce_40.data[a].setCachedObject(d));this.data[a]=new b.com_ibm_vis_engine_internal_Data(this.ce_40.data[a].id,this,this.ce_40.data[a]);d&&d.checkFailure()}}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,Error)){if(!this.de_25)for(this.de_25=!0,this.getLogger().hasListeners()&&this.getLogger().error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"There was a problem creating the data: "+c.getMessage()),a=0;a<this.ce_40.data.length;++a)this.ce_40.data[a].provider&&(this.ce_40.data[a].fields=
null,this.ce_40.data[a].rows=null);return!1}throw c;}return!0},makeDataCallback:function(){var a=!0;if(this.de_25||!this.data&&(!this.mt$23()||this.de_25))return!1;try{for(var d=0;d<this.data.length;++d){if(this.ce_40.data[d].provider){var c=this.ce_40.data[d].getCachedObject();c.checkFailure();c.isReady()&&!this.data[d].isComplete()&&this.data[d].continueDataCreation()}this.data[d].isComplete()||(a=!1)}}catch(e){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,Error)){if(!this.de_25)for(this.de_25=
!0,this.getLogger().hasListeners()&&this.getLogger().error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"There was a problem creating the data: "+e.getMessage()),d=0;d<this.ce_40.data.length;++d)this.ce_40.data[d].provider&&(this.ce_40.data[d].fields=null,this.ce_40.data[d].rows=null);a=!1}else throw e;}return a},getDataProviderFailed:function(){return this.de_25},getExtent:function(){return this.mm_2.getExtent()},md$14:function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/legendLayer");if(this.ce_40.legends){0==
this.ce_40.legends.length&&new b.com_ibm_vis_spec_internal_LegendSpec;for(var a=new b.com_ibm_vis_engine_internal_legend_LegendMaker,d=0,c=this.ce_40.legends,e=c.length;d<e;++d)for(var g=c[d],k=0,f=a.makeLegendFrames(this,this.ce_40.legends,g).arrayIterator(),v=f.length;k<v;++k){var u=f[k],h=g.location,l=null;null!=h&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,b.com_ibm_vis_spec_internal_BoundsSpec)&&(l=new b.com_ibm_vis_engine_internal_Bounds(h,this.getLogger()));l&&l.isDefinedPositionalBounds()?
(u.sd_5=l,this.mm_2.addFloatingLegend(u)):this.mm_2.addLegend(u,this.getLegendPosition(g))}}},getLegendPosition:function(a){return b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.location)?b.com_ibm_vis_engine_internal_LegendPosition.valueOf(a.location):b.com_ibm_vis_engine_internal_LegendPosition.valueOf(this.ce_40.legendPosition)},getLegendVis:function(){if(!this.li_2){this.li_2=b.com_ibm_vis_engine_internal_Vis.createVisWithContext(this.vx_10);var a=new b.com_ibm_vis_engine_internal_FormatWrapper(this.vx_10);
this.li_2.setDateFormatter(a);this.li_2.setNumberFormatter(a);this.li_2.setStringFormatter(a)}return this.li_2},getThreadHelper:function(){this.te_18||(this.te_18=new b.com_ibm_vis_engine_internal_nativeImpl_ThreadHelper(null,this.getLogger()));return this.te_18},setThreadHelper:function(a){this.te_18=a},setHighContrast:function(a){a?(a=new b.com_ibm_vis_engine_configuration_ContrastParameters,a.setFontMagnification(1.2),this.setContrast(a)):this.setContrast(null)},getCurrentJSON:function(){return this.getSpecification()},
updateLegendVis:function(){this.li_2&&this.li_2.copyVisContextSettings(this.vx_10)},cacheZoomData:function(a,b){this.zh_1.put(a,b)},clearZoomData:function(){this.zh_1.clear()},retrieveZoomData:function(a){return this.zh_1.get(a)},cacheDefenderScrollUnit:function(a){this.di_3=a},retrieveDefenderScrollUnit:function(){return this.di_3},setResourceDefinitions:function(a){this.rn_7=a},getResourceDefinition:function(a){if(this.rn_7&&this.rn_7.containsKey(a))return b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.createSpecObject(this.rn_7.get(a),
"ResourceSpec");throw new b.com_ibm_vis_exceptions_internal_EngineException("Resource reference '"+a+"' is undefined",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);},setContrast:function(a){return this.vx_10.setContrast(a)},getContrast:function(){var a=this.vx_10.ce_20;return a?a.getContrastParameters():null}});b.com_ibm_vis_engine_internal_Vis.createVisWithContext=function(a){var d=new b.com_ibm_vis_engine_internal_Vis(null);d.copyVisContextSettings(a);return d};b.com_ibm_vis_engine_internal_Vis.getGlobalExtensionManager=
function(){return b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE};b.com_ibm_vis_engine_internal_Vis.ir$3=function(a){if(a&&a.grammar){var b=0;a=a.grammar;for(var c=a.length;b<c;++b){var e=a[b];if(e.coordinates&&e.coordinates.transforms)for(var g=0,k=e.coordinates.transforms,f=k.length;g<f;++g)if("projection"==k[g].type)return!0;if(e.elements)for(g=0,e=e.elements,k=e.length;g<k;++g)if("custom"==e[g].type)return!0}}return!1};b.com_ibm_vis_engine_internal_Vis.fu$2=function(a,d,
c){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0;g<a.length;++g){var k=a[g].data[d];null!=k&&k==c&&e.add(g)}return e};b.com_ibm_vis_engine_internal_Vis.po$2=function(a){var d;b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"version")&&(d=b.com_ibm_vis_engine_internal_util_Version.parseVersion(a.version));return d};b.com_ibm_vis_engine_internal_Vis.checkViewportArray=function(a,d){if(!d)throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal viewport in "+a+": null array",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);for(var c=0;c<d.length;++c){if(!d[c])throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal viewport in "+a+": null array entry "+c,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);if(2!=d[c].length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal viewport in "+a+": array entry "+c+" does not have two values",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);if(d[c][0]==d[c][1])throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal viewport argument in "+
a+": array entry "+c+" has two equal values",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);.05>Math.abs(d[c][1]-d[c][0])&&(d[c][1]>d[c][0]?1<d[c][0]+.05?d[c][0]=d[c][1]-.05:d[c][1]=d[c][0]+.05:1<d[c][1]+.05?d[c][1]=d[c][0]-.05:d[c][0]=d[c][1]+.05)}};b.com_ibm_vis_engine_internal_Vis.vw$1=function(a){if(a)for(var d=0;d<a.length;++d)b.com_ibm_vis_engine_internal_Vis.ve$6(a[d])};b.com_ibm_vis_engine_internal_Vis.ve$6=function(a){if(a&&a.fields&&a.rows){var d=a.fields.length,c=a.rows;if(c&&
0<c.length)for(var e=0;e<c.length;++e)b.com_ibm_vis_engine_internal_Vis.ct$23(d,c[e]),b.com_ibm_vis_engine_internal_Vis.ci$6(a,e,c[e])}};b.com_ibm_vis_engine_internal_Vis.ct$23=function(a,d){if(a!=d.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("Invalid number of values specified in row.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_NUMBER_OF_VALUES_IN_ROW);};b.com_ibm_vis_engine_internal_Vis.ci$6=function(a,d,c){for(var e=0;e<c.length;++e){var g=c[e],k=a.fields[e].categories;
if(k&&g==g){if(!b.com_ibm_rave_codegenerator_util_BasicFactory.isInteger(g))throw new b.com_ibm_vis_exceptions_internal_SpecException('Invalid categorical data value "'+g+'" in row '+(d+1)+", field "+(e+1)+" .",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_DECIMAL_VALUE_FOR_CATEGORICAL_FIELD);if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(g)&&!b.com_ibm_vis_engine_internal_Vis.iu$7(g,k))throw new b.com_ibm_vis_exceptions_internal_SpecException('Invalid categorical data value "'+g+'" in row '+
(d+1)+", field "+(e+1)+" .",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE_FOR_CATEGORICAL_FIELD);c[e]=g}}};b.com_ibm_vis_engine_internal_Vis.iu$7=function(a,b){var c=Math.round(a);return 0<=c&&c<b.length};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_Vis.VO_6="version";b.com_ibm_vis_engine_internal_Vis.CURRENT_VERSION=b.com_ibm_vis_engine_internal_util_Version.parseVersion("7.2");b.com_ibm_vis_engine_internal_Vis.DEFAULT_SIZE=new b.com_ibm_vis_geom_Dim(500,400)});b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,d){if(null!=a){var c=null;"linear"==a?c=new b.com_ibm_vis_engine_internal_grammar_scale_transform_LinearScaleTransform:"log"==a&&(c=new b.com_ibm_vis_engine_internal_grammar_scale_transform_LogScaleTransform);return c}return null}});b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.ie_6||
b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.ie_6||(b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder),b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.ie_6=!0)};b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.create=function(a){var d;null!=a&&(d=b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(a,
null));d||(d=b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance("linear",null));return d};b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.ie_6=!1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.TRANSFORM_LOG="log";b.com_ibm_vis_engine_internal_grammar_scale_transform_ScaleTransformBuilder.TRANSFORM_LINEAR="linear"});b.com_ibm_vis_engine_internal_extension_ExtensionFactoryList=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{constructor:function(){this.ee_1=new b.com_ibm_rave_codegenerator_util_List},add:function(a){this.ee_1.add(a)},remove:function(a){this.ee_1.remove(a)},removeAllFactories:function(){this.ee_1.clear()},newInstance:function(a,b){for(var c=0,e=this.ee_1.arrayIterator(),g=e.length;c<g;++c){var k=e[c].newInstance(a,b);if(null!=k)return k}return null}});b.com_ibm_vis_engine_internal_grammar_scale_Scale=b.com_ibm_init_declare({reverse:!1,
dl_2:!1,constructor:function(){this.mh_2=new b.com_ibm_vis_geom_Dim(0,0);this.og_2=b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE;(function(a,d){this.vz_1=d;this.spec=a;this.spans=new b.com_ibm_rave_codegenerator_util_List;this.localScale=this.dl_2=this.reverse=!1;a&&(null!=a.reverse&&(this.reverse=a.reverse),null!=a.local&&(this.localScale=a.local),null!=a.padding&&(this.pn_6=a.padding))}).apply(this,arguments)},getOutRange:function(){return this.og_2},addSpan:function(a){this.spans.add(a);1==
this.spans.size()?this.sa_3=a:this.sa_3=null;this.si_5=this.sh_2=null},setDrawnMultiple:function(a){this.dl_2=a},getDefaultElementSize:function(a,d){for(var c=Infinity,e=1<this.spans.size(),g=0,k=this.spans.arrayIterator(),f=k.length;g<f;++g){var v=k[g];if(v.isApplicable(d.getUnit())){v.setPreTransformSpanLength(a);var u=v.getSuggestedElementSize(a,d.getGranularity());e&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(v,b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)&&(v.sz_3=
u);null!=u&&(c=Math.min(c,u))}}return b.com_ibm_rave_codegenerator_lang_Double.isInfinite(c)?this.isCategorical()?a:b.com_ibm_vis_engine_internal_grammar_scale_Scale.getDefaultElementSizeWithNoScaleInfo(a):c},getMininalDistance:function(a,b){for(var c=a,e=0,g=this.spans.arrayIterator(),k=g.length;e<k;++e){var f=g[e];if(f.isApplicable(b.getUnit())){f.setPreTransformSpanLength(a);var v=b.getMinimalDataDiff();null!=v&&v==v&&0<v&&f.getAdjustedInputRange()&&(c=Math.min(c,a*v*f.finalOutRange.range/f.getAdjustedInputRange().range))}}return c},
getDataMaxValue:function(){for(var a=-Infinity,b=0,c=this.spans.arrayIterator(),e=c.length;b<e;++b)a=Math.max(a,c[b].getDataMaxValue());return a},getMaxTickLabelSize:function(a){if(b.com_ibm_vis_engine_internal_grammar_scale_Scale.hasSize(this.mh_2))return this.mh_2;for(var d=0,c=0,e=0,g=this.spans.arrayIterator(),k=g.length;e<k;++e)var f=g[e].getMaxTickLabelSize(a),d=Math.max(d,f.wt_2),c=Math.max(c,f.hh_1);return this.mh_2=new b.com_ibm_vis_geom_Dim(d,c)},getTicksBasedMaxSize:function(a,d,c){var e=
0,g=0,k=0;d=d.arrayIterator();for(var f=d.length;k<f;++k){var v=d[k].getContent();if(v=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(v,0,0,"start",b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE,a,null,null,new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,1.7976931348623157E308),!1,null,c.getNumericShapingInfo(),c.tx_1))e=Math.max(v.calculateTextWidth(),e),g=Math.max(v.getHeight(),g)}return new b.com_ibm_vis_geom_Dim(e,g)},gt$5:function(a){var d;if(null!=this.pn_6){d=a.isYAxis?
this.vz_1.hh_1:this.vz_1.wt_2;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.pn_6,b.com_ibm_vis_spec_internal_PaddingSpec)){var c=this.pn_6;if(null!=c.top||null!=c.bottom)throw new b.com_ibm_vis_exceptions_internal_SpecException('Scale Padding does not support "top" and "bottom" attributes.Please use "left" and "right" attributes instead.',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE,this.pn_6.toString());}a=new b.com_ibm_vis_geom_Dim(a.len,a.len);d=new b.com_ibm_vis_geom_Dim(d,
d);d=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.pn_6,a,d)}return d},computePaddedOutRange:function(a){var d=0,c=0;if(null!=this.pn_6&&!this.pg_1){if(c=this.gt$5(a))d=c.left/a.len,c=c.right/a.len;else throw new b.com_ibm_vis_exceptions_internal_SpecException("",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,'"padding": '+this.pn_6);if(1<d+c)throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid padding on scale (left and right padding exceeds 100% of available space)",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT,'"padding": '+this.pn_6);this.pg_1=new b.com_ibm_vis_engine_internal_data_Range(d,1-c)}return this.pg_1},gg$1:function(){this.sh_2||(this.sh_2=new b.com_ibm_rave_codegenerator_util_List(this.spans),b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.sh_2,new b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanComparator));return this.sh_2},initializeForDisplayableExtent:function(a){this.ig$2(a);for(var b=this.gg$1(),c,e=0;e<b.size();++e){c=
b.get(e);var g=0==e?this.og_2.min:0,k=e==b.size()-1?1-this.og_2.max:0;c.prepareOutRange(this.og_2,g,k);c.setupForExtent(a)}this.tk_1=this.mk$1()},ig$2:function(a){this.og_2=a.og_3;if(a=this.computePaddedOutRange(a))this.og_2=a.remap(this.og_2)},initializeForRequiredTickCount:function(a){for(var b=0,c=this.spans.arrayIterator(),e=c.length;b<e;++b){var g=c[b],k;k=null!=g.desiredTicks?g.desiredTicks:null!=a?a:Math.round(5/this.spans.size());g.setupForTickCount(k,2*k)}this.tk_1=this.mk$1()},makeMinorTicksForSpans:function(a){var d=
new b.com_ibm_rave_codegenerator_util_List,d=a?a:this.spans;a=new b.com_ibm_rave_codegenerator_util_List;if(1<this.tk_1.size()&&d){for(var c=0,d=d.arrayIterator(),e=d.length;c<e;++c)d[c].addMinorTicks(a);this.reverse&&b.com_ibm_vis_engine_internal_grammar_scale_Scale.rk$1(a)}return a},mk$1:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.spans.arrayIterator(),e=c.length;d<e;++d){var g=c[d];if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan)){var k=
g;k.setReversed(this.reverse);k.setDrawnMultiple(this.dl_2)}g.addTicks(a,!1)}this.reverse&&b.com_ibm_vis_engine_internal_grammar_scale_Scale.rk$1(a);1==this.localScale&&(this.tt_2=a);return a},mn$6:function(a){var d=new b.com_ibm_rave_codegenerator_util_List(a);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(d,new b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanComparator);a=new b.com_ibm_rave_codegenerator_util_List;for(var c=0,d=d.arrayIterator(),e=d.length;c<e;++c){var g=d[c],k=new b.com_ibm_rave_codegenerator_util_List;
g.addTicks(k,!1);this.reverse&&b.com_ibm_vis_engine_internal_grammar_scale_Scale.rk$1(k);a.add(k)}if(this.localScale)for(this.tt_2=new b.com_ibm_rave_codegenerator_util_List,c=0,d=a.arrayIterator(),e=d.length;c<e;++c)this.tt_2.addAll(d[c]);return a},computeTickCountForExtent:function(a){this.mh_2=new b.com_ibm_vis_geom_Dim(0,0);for(var d=0,c=0,e=this.spans.arrayIterator(),g=e.length;c<g;++c){var k=e[c];k.setupForExtent(a);d+=k.computeTickCount()}return d},getTicks:function(){return this.tk_1},getTicksForSpans:function(a){return this.mn$6(a)},
getAllTicks:function(){if(!this.ak_1){this.ak_1=new b.com_ibm_rave_codegenerator_util_List;for(var a=0,d=this.spans.arrayIterator(),c=d.length;a<c;++a)d[a].addAllTicks(this.ak_1,!1);this.reverse&&b.com_ibm_vis_engine_internal_grammar_scale_Scale.rk$1(this.ak_1)}return this.ak_1},toZeroOne:function(a,b,c){if(a!=a)return null;if(null!=c&&this.isSpanToUseValid(b,c))return a=this.spans.get(c).toZeroOne(a,b,!1),null!=a?this.reverse?1-a:a:null;(c=this.sa_3)||(c=this.getMatchingSpan(a,b));return c&&(a=c.toZeroOne(a,
b,!1),null!=a)?this.reverse?1-a:a:null},isSpanToUseValid:function(a,d){if(0>d||d>=this.spans.size())throw new b.com_ibm_vis_exceptions_internal_SpecException('span index "'+d+'" does not exist',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(this.spans.get(d).isApplicable(a))return!0;throw new b.com_ibm_vis_exceptions_internal_SpecException('span unit "'+this.spans.get(d).inputUnit+'" does not match data unit "'+a.name+'"',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE,this.spec?
this.spec.toString():null);},getSpanOrigin:function(a,b,c){return null==a?this.reverse?1:0:null!=c&&this.isSpanToUseValid(b,c)?this.ga$4(this.spans.get(c)):(a=this.getMatchingSpan(a,b))?this.ga$4(a):this.reverse?1:0},ga$4:function(a){var b=0;a=a.toZeroOne(0,null,!1);null!=a&&(b=a);return this.reverse?1-b:b},getSimpleScaleSpan:function(){return this.sa_3},getMatchingSpan:function(a,d){var c=this.sa_3;if(c)return c;for(var e,g=0,k=this.gi$2(d).arrayIterator(),f=k.length;g<f;++g){var v=k[g];if(v.isUnitApplicable(a,
d)){var u=0,h=d?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,d,v.inputUnit):a,l=v.getAdjustedInputRange();if(l.contains(h))return v;h<l.min?u=l.min-h:h>l.max&&(u=h-l.max);c?u<e&&(e=u,c=v):(c=v,e=u)}}return c},gi$2:function(a){var d;a&&(this.si_5?d=this.si_5.get(a.name):this.si_5=new b.com_ibm_rave_codegenerator_util_Map);d||(d=new b.com_ibm_rave_codegenerator_util_List(this.spans),b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(d,new b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanByUnitComparator(a)),
a&&this.si_5.put(a.name,d));return d},toZeroOneClamped:function(a,b){if(null==a)return null;for(var c=0,e=this.spans.arrayIterator(),g=e.length;c<g;++c){var k=e[c].toZeroOne(a,b,!0);if(null!=k)return this.reverse?1-k:k}return null},dimensionValueToDataValue:function(a,b){return this.zeroOneToDataValue(a/b)},dimensionToDataValueInterpolate:function(a,b){var c=-1;if(0<this.spans.size()){var e=a/b;this.reverse&&(e=1-e);var g=this.spans.get(0);g.scaleTransform.getRange()&&(c=g.finalOutRange.toZeroOne(e),
c=g.scaleTransform.getRange().fromZeroOne(c))}return c},zeroOneToDataValue:function(a){this.reverse&&(a=1-a);for(var b=0,c=this.spans.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(g.finalOutRange.contains(a))return g.zeroOneToDataValue(a)}return null},useValuesFrom:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(!(1>a.spans.size())){this.si_5=null;if(this.spans.isEmpty())this.spans.addAll(a.spans);else{for(var c=0,e=this.spans.arrayIterator(),g=e.length;c<g;++c){var k=e[c],f=b.com_ibm_vis_engine_internal_grammar_scale_Scale.fo$1(a,
k.inputUnit);f&&(k.getUndefinedParametersFrom(f),f.in_4=!0);d.add(k)}c=0;a=a.spans.arrayIterator();for(e=a.length;c<e;++c)g=a[c],g.in_4||((f=b.com_ibm_vis_engine_internal_grammar_scale_Scale.fo$1(this,g.inputUnit))?(f.adaptInputNumDomainFrom(g),g.in_4=!0):d.add(g));this.spans.clear();this.spans.addAll(d);this.sh_2=null}1==this.spans.size()?this.sa_3=this.spans.get(0):this.sa_3=null}},checkSpansUnitMatching:function(a){var d="",c=b.com_ibm_vis_engine_internal_grammar_scale_Scale.getScaleSpansUnitsString(this,
"or");if(""!=c){for(var e=0,g=a.spans.arrayIterator(),k=g.length;e<k;++e){var f=g[e];(a=b.com_ibm_vis_engine_internal_grammar_scale_Scale.fo$1(this,f.inputUnit))||(d+='Unit "'+f.inputUnit.name+'" could not be converted to '+c+".\n")}if(""!=d)throw new b.com_ibm_vis_exceptions_internal_SpecException(d,b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}},gn$4:function(a){for(var b=0,c=this.gi$2(a).arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(g.isApplicable(a))return g}return null},gn$5:function(a,
b){if(0<this.spans.size()){var c=this.gi$2(a).get(0);if(0<=c.inputUnit.getMatchingLevel(a).compareTo(b))return c}return null},getBase:function(){for(var a=0,b=this.spans.arrayIterator(),c=b.length;a<c;++a){var e=b[a].getBase(this.reverse);if(null!=e)return e}return 0},getCategoryCount:function(){var a=0;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.spans.get(0),b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan)&&(a=this.spans.get(0).getCategoryCount());return a},getScaleCategoryIndex:function(a,
b){var c=this.gn$4(b);if(!c)return null;var e=c.getScaleIndexFromFieldIndex(a);this.reverse&&null!=e&&(e=c.getCategoryCount()-1-e);return e},getFieldCategoryIndex:function(a,b){var c=this.gn$4(b);if(!c)return null;this.reverse&&(a=c.getCategoryCount()-1-a);return c.getFieldIndexFromScaleIndex(a)},getTicksForData:function(){if(!this.tt_2){this.tt_2=new b.com_ibm_rave_codegenerator_util_List;for(var a=0,d=this.spans.arrayIterator(),c=d.length;a<c;++a)d[a].addTicks(this.tt_2,!0)}return this.tt_2},includeValue:function(a){if(!this.spans.isEmpty()&&
!this.isCategorical()){var b=this.spans.get(0);b.inputNumDomain=b.inputNumDomain.unionValue(a)}},defineSpanOutputRanges:function(){if(!this.spans.isEmpty()){for(var a=0,d,c=0,e=this.spans.arrayIterator(),g=e.length;c<g;++c){var k=e[c],a=a+k.getGoodDisplaySpanSize();d&&(d.measure!==k.inputUnit.measure||d.measure.categorical)&&(a+=1);d=k.inputUnit}e=c=0;d=null;for(var g=0,f=this.spans.arrayIterator(),v=f.length;g<v;++g){var k=f[g],u=k.getGoodDisplaySpanSize();d&&!d.measure.categorical&&d.measure===
k.inputUnit.measure&&(c=e);k.setScaleOutRange(new b.com_ibm_vis_engine_internal_data_Range(c,c+u/a));e=c+u/a;c+=(u+1)/a;d=k.inputUnit}this.sh_2=null}},getCategoryIndexFromZeroOne:function(a,b){var c=this.gn$4(b);if(!c)return null;var e=c.getIndexFromZeroOne(a);this.reverse&&null!=e&&(e=c.getCategoryCount()-1-e);return e},isCategorical:function(){return 1==this.spans.size()&&0<this.spans.get(0).getCategoryCount()},getSpans:function(){return this.spans},makeSpanGroups:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,
d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_List,e=0;e<this.spans.size();++e)this.spans.get(e).addToGroup(d,c);a.add(d);a.add(c);return a},isLocalUndefined:function(){return null==this.localScale||this.spec&&null==this.spec.local},validateOutRange:function(){for(var a=this.isOutRangesDefined(),d=0;d<this.spans.size();++d){var c=this.spans.get(d);if(null!=c.oe_8&&c.oe_8!=a)throw new b.com_ibm_vis_exceptions_internal_SpecException("All or no span should have outRange specified.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}},isOutRangesDefined:function(){if(0<this.spans.size())for(var a=0,b=this.spans.arrayIterator(),c=b.length;a<c;++a){var e=b[a];if(null!=e.oe_8)return e.oe_8.valueOf()}return!1},getTicksForTicksLocation:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List,e=d?d:this.spans,g=0,e=e.arrayIterator(),k=e.length;g<k;++g){var f=e[g];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)&&
f.setBaseTicks(a);if(this.dl_2&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan))f.createAllTicks(a,c);else for(var v=0,u=a.arrayIterator(),h=u.length;v<h;++v){var l=u[v];f.finalOutRange.contains(l.location)&&(l=f.createTickForLocation(l.location))&&c.add(l)}}this.reverse&&b.com_ibm_vis_engine_internal_grammar_scale_Scale.rk$1(c);this.localScale&&(this.tt_2=c);return c},setRangeForSpan:function(a,d){if(null!=d&&0<=d&&d<this.spans.size()){var c=
this.spans.get(d);if(c&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)&&!c.isNumDomainDefinedInSpec()&&a){var e=c.inputNumDomain;c.inputNumDomain=e?e.createUnion(a):a}}},areCompatible:function(a){if(this==a)return!0;if(!a||this.reverse!=a.reverse)return!1;var b=null!=this.localScale&&this.localScale.valueOf(),c=null!=a.localScale&&a.localScale.valueOf();if(b!=c)return!1;b=this.spans.size();if(b!=a.spans.size())return!1;for(c=
0;c<b;++c)if(!this.spans.get(c).areCompatible(a.spans.get(c)))return!1;return!0},getPaddedRange:function(){return this.pg_1?this.pg_1:b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE},getFirstVisibleTick:function(a){var b=this.getTicks(),c=this.spans.get(0),e=b.size()-1,g=0,k=b.get(g).location;for(a=c.finalOutRange.fromZeroOne(a[0]);g<e&&k<a;)g+=1,k=b.get(g).location;k<a&&(g+=1);return g},getLastVisibleTick:function(a){var b=this.getTicks(),c=this.spans.get(0),e=b.size()-1,g=0,k=b.get(g).location;
for(a=c.finalOutRange.fromZeroOne(a[1]);g<e&&k<a;)g+=1,k=b.get(g).location;k>a&&--g;return g}});b.com_ibm_vis_engine_internal_grammar_scale_Scale.getDefaultElementSizeWithNoScaleInfo=function(a){return Math.max(5,Math.round(.03*a))};b.com_ibm_vis_engine_internal_grammar_scale_Scale.hasSize=function(a){var d=Math.max(0,a.wt_2)*Math.max(0,a.hh_1);return!b.com_ibm_rave_codegenerator_lang_Double.isNaN(a.wt_2)&&!b.com_ibm_rave_codegenerator_lang_Double.isNaN(a.hh_1)&&d==d&&0!=d};b.com_ibm_vis_engine_internal_grammar_scale_Scale.rk$1=
function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];e.location=1-e.location}};b.com_ibm_vis_engine_internal_grammar_scale_Scale.fo$1=function(a,d){var c=a.gn$5(d,b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.SYSTEM_MATCH);c||(c=a.gn$4(d));return c};b.com_ibm_vis_engine_internal_grammar_scale_Scale.getScaleSpansUnitsString=function(a,b){for(var c="",e=a.spans.size()-1,g=0,k=0,f=a.spans.arrayIterator(),v=f.length;k<v;++k){var u=f[k];g==e&&0<e?c+=" "+b+" ":
0<g&&(c+=", ");c+='"'+u.inputUnit.name+'"';g++}return c};b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan,{numDomainDefinedInSpec:!1,tt_1:0,ot_3:0,minorDivisions:0,ue_3:!1,te_3:0,ue_2:!1,hasUnitDefinedInSpec:!1,ne_6:!1,mo_8:0,constructor:function(a,d,c,e,g,k,f,v,u,h,l,m,p){this.dataField=l;this.hasUnitDefinedInSpec=m;d=b.com_ibm_vis_engine_internal_grammar_units_Unit.isWildCard(a);m&&d?(this.ti_2=a,this.hasUnitDefinedInSpec=
!1):d&&(this.ti_2=a);this.inputNumDomain=h;this.numDomainDefinedInSpec=p;this.og_1=new b.com_ibm_vis_engine_internal_data_Range(h.min,h.max);null!=u?(this.minorDivisions=Math.round(u),this.ue_2=!0):this.ue_2=!1;null!=v?(this.te_3=this.tt_1=this.ot_3=v,this.ue_3=!0):(this.te_3=0,this.ue_3=!1);this.ue_3&&0>=this.tt_1&&(this.visContext.lx_1.hasListeners()&&this.visContext.lx_1.grammarWarning(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"badValueTickDelta (tickDelta must be greater than 0 in all scales)"),
this.te_3=0,this.ue_3=!1)},setStacked:function(a){this.se_25=a},getInputNumDomain:function(){return this.inputNumDomain},setInputNumDomain:function(a){this.inputNumDomain=a},getTickDeltaFromSpec:function(){return this.te_3},getModifiedInputNumDomain:function(){return this.mi_1},setModifiedInputNumDomain:function(a){this.mi_1=a},getTickDomain:function(){return this.ti_1},getAppliedGranularity:function(){return this.at_2},setAppliedGranularity:function(a){this.at_2=a},getTicksUnit:function(){return this.ti_3},
setTicksUnit:function(a){this.ti_3=a},getTickDelta:function(){return this.tt_1},setTickDelta:function(a){this.tt_1=a},getMinorDivisions:function(){return this.minorDivisions},setMinorDivisions:function(a){this.minorDivisions=a},getUseTickDeltaFromSpec:function(){return this.ue_3},setUseTickDeltaFromSpec:function(a){this.ue_3=a},getUseMinorDivisionsFromSpec:function(){return this.ue_2},setUseMinorDivisionsFromSpec:function(a){this.ue_2=a},ma$1:function(a){if(this.visContext.isGenerateAllTicks())this.ti_1.setMin(this.ti_1.min-
a*Math.floor((this.ti_1.min-this.oi_2.min)/a)),this.ti_1.setMax(this.oi_2.max);else{var b=this.ee$2(this.oi_2);this.ti_1.setMin(this.ti_1.min-a*Math.floor((this.ti_1.min-b.min)/a));this.ti_1.setMax(b.max)}},ee$2:function(a){var b=this.finalOutRange,c=a.range/b.range,e=a.copy();0==this.scaleOutRange.min&&e.setMin(a.min-c*b.min);1==this.scaleOutRange.max&&e.setMax(a.max+c*(1-b.max));return e},mo$3:function(a){if(4.9E-324>Math.abs(this.finalOutRange.max-this.originalFinalOutRange.max)&&4.9E-324>Math.abs(this.finalOutRange.min-
this.originalFinalOutRange.min))return this.ti_1=this.oi_2.copy(),this.ot_3;var d=this.oi_2.range/this.ot_3,c=this.ee$2(this.oi_2);a=c.range/d;a=b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.nw$1(a,a/d);this.ti_1.setMin(b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.nU$1(c.min,a));this.ti_1.setMax(c.max);return a},setupForExtent:function(a){this.visContext&&this.visContext.isUpdateViewport()?(this.visContext.isViewportPan()?this.ma$1(this.tt_1):this.tt_1=this.mo$3(this.tt_1),
this.fitInfo.gr_1=a):b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.prototype.setupForExtent.apply(this,[a])},addTicks:function(a,d){if(0==this.inputNumDomain.range&&null==this.desiredTicks){var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(this.inputNumDomain.min,this.ti_3,this.inputUnit);this.ac$3(a,this.inputNumDomain.min,c)}else{var e=this.scaleTransform.transform(this.ti_1.min),g=this.scaleTransform.transform(this.ti_1.max),k=this.tt_1,c=Infinity,g=Math.round((g-
e)/k);0<this.mo_8&&g.greaterThan(this.mo_8)&&(g=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(this.mo_8));for(var f=0;b.com_ibm_rave_codegenerator_lang_Long.fromNumber(f).lessThanOrEqual(g);++f){var v=e+f*k;if(v!=c){var u=this.scaleTransform.inverse(v),c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(u,this.ti_3,this.inputUnit);this.ac$3(a,u,c);c=v}}}},ac$3:function(a,d,c){if(this.shouldAddTick(c)){var e=this.scaleTransform.transformToZeroOne(c);this.centreSingleTick()&&(e=
.5);d=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue(d),this.finalOutRange.fromZeroOne(e),c,this);a.add(d)}},getFormattedTickValue:function(a){var d;d=new b.com_ibm_vis_engine_internal_data_Range(this.ti_1.min,this.ti_1.min+this.tt_1);var c=this.dataField?this.dataField.id:null,e=this.dataField?this.dataField.getNearestMatchingRowIndex(a):-1;d=d.getFormattingPrecision()>this.ti_1.getFormattingPrecision()?d:this.ti_1;var g=this.ti_3;this.ti_2&&(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,
this.ti_3,this.ti_2),g=this.ti_2);g.measure.type===b.com_ibm_vis_engine_internal_grammar_units_Unit.DOLLARS.measure.type&&(d.calculateDeltaAndPrecision(this.tt_1),this.ne_6||0==d.getPrecision()&&Math.floor(a)!=a)&&(d.setPrecision(2),this.ne_6=!0);c=this.visContext.formatContext.formatNumber(a,this.specifiedFormatter,-1,c,d,g);g=new b.com_ibm_vis_engine_internal_FormatInfo;g.iu_1=!0;g.se_3=this.specifiedFormatter;g.rg_1=d;g.du_2=a;return this.addFormattingContentToTickLabel(c,e,g)},shouldAddTick:function(a){if(this.visContext.isUpdateViewport())return a=
this.scaleTransform.transformToZeroOne(a),b.com_ibm_vis_engine_internal_data_Range.makeInverse(this.finalOutRange.min,this.finalOutRange.max).containsTolerantly(a,1E-6)||this.visContext.isGenerateAllTicks();if(!this.fitInfo.en_7&&!this.visContext.isUpdateViewport()){var d=this.inputNumDomain,c=d.min-Math.abs(1E-6*d.min);if(a<c)return!1;d=d.max+Math.abs(1E-6*d.max);if(a>d)return!1}a=this.scaleTransform.transformToZeroOne(a);return b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE.containsTolerantly(a,
1E-6)&&b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE.containsTolerantly(this.finalOutRange.fromZeroOne(a),1E-6)||this.visContext.isGenerateAllTicks()},getMaxTickLabelSize:function(a){var d=0,c=0;this.makeNumericSpanDetails(5,20);c=this.getFormattedTickValue(this.ti_1.min);d=this.getFormattedTickValue(this.ti_1.max);c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(c,0,0,"start",b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE,a,null,null,new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,
1.7976931348623157E308),!1,null,this.visContext.getNumericShapingInfo(),this.visContext.tx_1);a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(d,0,0,"start",b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE,a,null,null,new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,1.7976931348623157E308),!1,null,this.visContext.getNumericShapingInfo(),this.visContext.tx_1);d=Math.max(c.calculateTextWidth(),a.calculateTextWidth());c=Math.max(c.getHeight(),a.getHeight());return new b.com_ibm_vis_geom_Dim(d,
c)},isApplicable:function(a){var b=this.inputUnit;return a&&(a.ci_2||b.ci_2)?a.name==b.name&&a.measure.matches(b.measure):!a||a.measure.matches(b.measure)},getBase:function(a){if(!this.mi_1)return null;var b=a?1:0;this.scaleTransform&&(b=this.scaleTransform.getOriginInZeroOne(a));return this.finalOutRange.fromZeroOne(b)},toZeroOne:function(a,d,c){if(d&&!this.isApplicable(d))return null;if(!d||!d.measure.categorical){if(!this.mi_1)return null;d&&(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,
d,this.inputUnit));d=this.scaleTransform.transformToZeroOne(a);c&&(d=b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE.clamp(d));return this.finalOutRange.fromZeroOne(d)}return null},setupForTickCount:function(a,b){var c=a,e=b;2>a&&(c=2);1E3<a&&(c=1E3);2>b&&(e=2);this.makeNumericSpanDetails(c-1,e-1)},setupMaxTickCount:function(a){this.mo_8=a},computeTickCount:function(){if(!this.ti_1.isComplete())return 0;var a=this.scaleTransform.transform(this.ti_1.max),b=this.scaleTransform.transform(this.ti_1.min);
return Math.floor((a-b)/this.tt_1+1E-6)+1},getUndefinedParametersFrom:function(a){b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan.prototype.getUndefinedParametersFrom.apply(this,[a]);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)){if(this.inputNumDomain.isComplete())null!=a.se_25&&this.dataField.label==a.se_25&&this.adaptInputNumDomainFrom(a);else{var d=a.inputNumDomain;this.inputUnit&&!this.inputUnit.equals(a.inputUnit)&&
(d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(d,a.inputUnit,this.inputUnit));this.inputNumDomain=this.inputNumDomain.complete(d);this.fitInfo.en_7||null==a.at_2||(this.inputNumDomain=this.inputNumDomain.expand(-a.at_2/2))}a.og_1.isComplete()?this.og_1=a.og_1:this.og_1.isComplete()||(this.og_1=this.og_1.complete(a.og_1));this.inputUnit&&!this.inputUnit.equals(a.inputUnit)&&(this.og_1=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(this.og_1,a.inputUnit,
this.inputUnit))}},adaptInputNumDomainFrom:function(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)){var d=a.inputNumDomain;this.inputUnit&&!this.inputUnit.equals(a.inputUnit)&&(d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(d,a.inputUnit,this.inputUnit));this.inputNumDomain=this.inputNumDomain.createUnion(d);this.og_1.isComplete()&&(this.og_1=this.og_1.createUnion(d))}},applyMultipliers:function(a,
d,c,e,g){for(var k=new b.com_ibm_vis_engine_internal_grammar_scale_MultiplierInfo(a,d,1,this.fitInfo.en_7),f=0,v=c.length;f<v;++f){var u=new b.com_ibm_vis_engine_internal_grammar_scale_MultiplierInfo(a,d,c[f],this.fitInfo.en_7);u.isBetterThan(k,e,g)&&(k=u)}return d*k.multiplier},findBestUnit:function(a,d,c,e){if(0==this.inputNumDomain.range&&!b.com_ibm_vis_engine_internal_grammar_units_Unit.isTime(d))return d;d.measure!=b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME&&(a/=2);var g,k=
0,f=0;c=c.arrayIterator();for(var v=c.length;f<v;++f){var u=c[f];if(u.system==d.system){var h=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(a,d,u);if(h==h){var l=Math.abs(h-e);if(!g||2<h&&l<k)k=l,g=u}}}return(d=this.visContext.zi_1)&&1<b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(1,d,g)?d:g},makeNumericSpanDetails:function(a,d){this.verifyInputNumDomain();var c=this.expandInitialRange(this.inputNumDomain),c=this.calculateTickRange(a,d,c);this.calculateTickDomain(c);
this.an$1(this.inputNumDomain,a,d);this.centreSingleTick()?c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(c,this.ti_3,this.inputUnit):(c=this.ensureNiceRange(),c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(c,this.ti_3,this.inputUnit),c=this.fitInfo.finalizeRange(this.inputNumDomain,c,this.scaleTransform));this.mi_1=c;this.scaleTransform.setRange(this.mi_1)},calculateTickRange:function(a,d,c){if(this.ue_3)this.ti_3=this.inputUnit;else{var e=this.inputUnit;
this.hasUnitDefinedInSpec||(e=(e=this.findBestUnit(c.range,this.inputUnit,this.inputUnit.measure.units,a))?e:this.inputUnit);this.ti_3=e;c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(c,this.inputUnit,e);this.tt_1=this.calculateTickDelta(a,d,c)}return c},ensureNiceRange:function(){var a=this.ti_1,d=this.scaleTransform.transform(a.min);d!=d&&(d=this.scaleTransform.getIntermediatePoint(this.inputNumDomain.min,a.min),a=new b.com_ibm_vis_engine_internal_data_Range(d,a.max));
d=this.scaleTransform.transform(a.max);d!=d&&(d=this.scaleTransform.getIntermediatePoint(this.inputNumDomain.max,a.max),a=new b.com_ibm_vis_engine_internal_data_Range(a.min,d));return a},calculateTickDomain:function(a){var d=this.scaleTransform.transform(a.min),d=Math.floor(d/this.tt_1+1E-6)*this.tt_1;a=this.scaleTransform.transform(a.max);a=Math.ceil(a/this.tt_1-1E-6)*this.tt_1;this.ti_1=new b.com_ibm_vis_engine_internal_data_Range(this.scaleTransform.inverse(d),this.scaleTransform.inverse(a));this.oi_2=
this.ti_1.copy()},centreSingleTick:function(){return 0==this.inputNumDomain.range},calculateTickDelta:function(a,d,c){var e=b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.ge$8(c.range/a);a=this.applyMultipliers(c,e,this.ti_3.multipliers,a,d);a>=c.range&&!this.fitInfo.en_7&&(d=c.range/d,a>d&&(a=d),a>c.range&&(a=c.range));return this.ot_3=a},expandInitialRange:function(a){if(0==a.range){if(!this.fitInfo.en_7)return a;a=this.makeRangeAbout(a.min);return this.fitInfo.expandRange(a,this.inputUnit,
!0,this.scaleTransform)}return this.fitInfo.expandRange(a,this.inputUnit,!1,this.scaleTransform)},an$1:function(a,d,c){if(this.fitInfo.en_7&&this.fitInfo.gr_1){var e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(this.ti_1,this.ti_3,this.inputUnit);this.fitInfo.needsExtraSpacing(a,e)&&(e=null,0==a.range?(a=this.makeRangeAbout(a.min),e=this.fitInfo.addExtraPadding(!0,a,this.scaleTransform,this.inputUnit)):e=this.fitInfo.addExtraPadding(!1,a,this.scaleTransform,this.inputUnit),
d=this.calculateTickRange(d,c,e),this.calculateTickDomain(d))}},makeRangeAbout:function(a){var d=this.scaleTransform.transform(0);if(this.inputUnit.measure.zeroMeaningful&&d==d){if(0>a)return new b.com_ibm_vis_engine_internal_data_Range(2*a,0);if(0<a)return new b.com_ibm_vis_engine_internal_data_Range(0,2*a)}return new b.com_ibm_vis_engine_internal_data_Range(a-1,a+1)},addMinorTicks:function(a){var d=this.ue_2?this.minorDivisions:this.scaleTransform.getMinorTickDivisions(this.ti_3.minorDivisions);
if(!(2>d))for(var c=this.scaleTransform.transform(this.ti_1.min),e=this.scaleTransform.transform(this.ti_1.max),g=this.tt_1,c=c-g;c<e+g;c+=g)for(var k=this.scaleTransform.inverse(c+g)-this.scaleTransform.inverse(c),f=1;f<d;++f){var v=this.scaleTransform.inverse(c)+k*f/d,v=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(v,this.ti_3,this.inputUnit),u=this.scaleTransform.transformToZeroOne(v);b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE.containsTolerantly(u,1E-4)&&(v=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(null,
this.finalOutRange.fromZeroOne(u),v,this),a.add(v))}},getTickMin:function(){return this.mi_1.min},getTickSize:function(){return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(this.tt_1,this.ti_3,this.inputUnit)},getInputRange:function(){return this.inputNumDomain},getAdjustedInputRange:function(){return this.mi_1},getTickUnit:function(){return this.ti_3},zeroOneToDataValue:function(a){return this.scaleTransform.transformFromZeroOne(a)},getCategoryCount:function(){return 0},getGoodDisplaySpanSize:function(){return this.inputNumDomain.isComplete()&&
1E-9>this.inputNumDomain.range?1:9},addAllTicks:function(a,b){this.addTicks(a,b)},isUnitApplicable:function(a,b){return b&&!this.isApplicable(b)||!this.mi_1?!1:!0},verifyInputNumDomain:function(){},getDataMaxValue:function(){return this.og_1.max},createTickForLocation:function(a){if(0==this.inputNumDomain.range&&null==this.desiredTicks){var d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(this.inputNumDomain.min,this.ti_3,this.inputUnit);a=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue(this.inputNumDomain.min),
a,d,this)}else{var d=this.scaleTransform.transform(this.scaleTransform.getRange().min),c=this.scaleTransform.transform(this.scaleTransform.getRange().max);this.bk_1&&0==a&&this.sa$1(d,c);d+=this.finalOutRange.toZeroOne(a)*(c-d);d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(d,this.inputUnit,this.ti_3);c=this.scaleTransform.inverse(d);d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(c,this.ti_3,this.inputUnit);a=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue(c),
a,d,this)}return a},sa$1:function(a,d){for(var c=0,e=this.bk_1.arrayIterator(),g=e.length;c<g;++c){var k=a+e[c].location/this.finalOutRange.range*(d-a),k=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(k,this.inputUnit,this.ti_3),k=this.scaleTransform.inverse(k);if(0!=k-Math.floor(k)){this.ne_6=!0;break}}},isNumDomainDefinedInSpec:function(){return this.numDomainDefinedInSpec},setNumDomainDefinedInSpec:function(a){this.numDomainDefinedInSpec=a},getBaseTicks:function(){return this.bk_1},
setBaseTicks:function(a){this.bk_1=a}});b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.nw$1=function(a,d){var c=Math.pow(10,Math.floor(Math.log(d)/b.com_ibm_vis_engine_internal_util_MathUtil.LN10)),e=10*c*Math.floor(a/(10*c));return e>=a-d&&e<=a?e:c*Math.floor(a/c)};b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.nU$1=function(a,d){var c=Math.pow(10,Math.floor(Math.log(d)/b.com_ibm_vis_engine_internal_util_MathUtil.LN10)),e=10*c*Math.ceil(a/(10*c));return e>=a&&e<=
a+d?e:c*Math.ceil(a/c)};b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.ge$8=function(a){a=Math.floor(Math.log(a)/Math.log(10));return Math.pow(10,a)};b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan.TOLERANT_EXPAND=1E-6;b.com_ibm_vis_engine_internal_grammar_scale_Tick=b.com_ibm_init_declare({location:0,value:0,constructor:function(a,b,c,e){this.content=a;this.location=b;this.value=c;this.span=e},getSpan:function(){return this.span},getContent:function(){return this.content},
getContentClone:function(){return this.content?this.content.clone():null},toString:function(){return this.content?this.content.getText()+": "+this.location:""+this.location},makeText:function(a,d,c,e,g,k,f,v,u,h){return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(this.content,a.x,a.y,d,c,e,f,null,v,u,g,k,h)},getLocationMappedToExtent:function(a,b){return b?(1-this.location)*a.hh_1:this.location*a.wt_2},getLocation:function(){return this.location},isTickAtExtent:function(a,b){return a?
0==this.getLocationMappedToExtent(b,!0):this.getLocationMappedToExtent(b,!1)==b.wt_2},getAdjacentTickSpace:function(a,b){var c=1;0<a&&(c=Math.abs(this.location-b.get(a-1).location));if(a<b.size()-1)var e=Math.abs(this.location-b.get(a+1).location),c=Math.min(c,e);return c}});b.com_ibm_vis_engine_internal_grammar_scale_Tick.getTicksLocation=function(a,d,c){for(var e=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0),g=0;g<a.size();++g)e[g]=a.get(g).getLocationMappedToExtent(d,c);return e};
b.com_ibm_vis_engine_internal_grammar_scale_Tick.isZeroth=function(a,b){return 0==a&&0==b.location};b.com_ibm_vis_engine_internal_FormatInfo=b.com_ibm_init_declare({rI_1:0,iu_1:!1,clone:function(){var a=new b.com_ibm_vis_engine_internal_FormatInfo;a.du_2=this.du_2;a.se_3=this.se_3;a.rI_1=this.rI_1;a.rg_1=this.rg_1;a.id=this.id;a.unit=this.unit;a.iu_1=this.iu_1;return a},getDataValue:function(){return this.du_2},setDataValue:function(a){this.du_2=a},getSpecifiedFormatter:function(){return this.se_3},
setSpecifiedFormatter:function(a){this.se_3=a},getRowIx:function(){return this.rI_1},setRowIx:function(a){this.rI_1=a},getId:function(){return this.id},setId:function(a){this.id=a},getRange:function(){return this.rg_1},setRange:function(a){this.rg_1=a},getUnit:function(){return this.unit},setUnit:function(a){this.unit=a},isNumeric:function(){return this.iu_1},setNumeric:function(a){this.iu_1=a}});b.com_ibm_vis_engine_internal_grammar_scale_MultiplierInfo=b.com_ibm_init_declare({multiplier:0,coverage:0,
gapCount:0,constructor:function(a,b,c,e){this.multiplier=c;b*=c;c=Math.floor(a.min/b);!e&&b*c<a.min&&c++;var g=Math.floor(a.max/b);e&&a.max>b*g&&g++;g<=c?(this.gapCount=0,this.coverage=999):(this.gapCount=Math.round(g-c),a=a.range/((g-c)*b),this.coverage=1<a?a-1:1/a-1)},isBetterThan:function(a,b,c){if(this.gapCount!=a.gapCount){if(this.gapCount>c)return this.gapCount<a.gapCount;if(a.gapCount>c)return!0}if(.3<Math.abs(this.coverage-a.coverage))return this.coverage<a.coverage;c=this.gapCount-b;b=a.gapCount-
b;0>c&&(c*=-2.1);0>b&&(b*=-2.1);return c!=b?c<b:this.coverage<a.coverage}});b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a.finalOutRange.min,e=b.finalOutRange.min;return c<e?-1:e<c?1:a.finalOutRange.range<b.finalOutRange.range?-1:b.finalOutRange.range<a.finalOutRange.range?1:0}});b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry=b.com_ibm_init_declare({isYAxis:!1,len:0,minimalTickSeparation:0,
constructor:function(a,d){this.og_3=b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE;this.len=a;this.isYAxis=d;this.minimalTickSeparation=2},ticksNoSmallerThan:function(a){this.minimalTickSeparation=Math.max(this.minimalTickSeparation,a)},setBounds:function(a,b){this.len=this.isYAxis?b:a},getFittingTicks:function(a){return Math.max(Math.floor(this.len*a/this.minimalTickSeparation),1)},getPreferredNumericTicks:function(a){a=Math.round(this.len*a/(this.isYAxis?45:60));return Math.max(a,1)},resetOutRange:function(){this.og_3=
b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE},getOutRange:function(){return this.og_3},setOutRange:function(a){this.og_3=a}});b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry.makeSized=function(a,d){return new b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry(a,d)};b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry.makeUnsized=function(a){return new b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry(1,a)};b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry.MINIMAL_TICK_SEPARATION=
2;b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanByUnitComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{constructor:function(a){this.unit=a},compare:function(a,b){var c=a.inputUnit.getMatchingLevel(this.unit);return b.inputUnit.getMatchingLevel(this.unit).compareTo(c)}});b.com_ibm_vis_engine_internal_grammar_scale_EmptyScaleSpan=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpan,{addMinorTicks:function(a){},addTicks:function(a,b){},getInputRange:function(){return null},
getAdjustedInputRange:function(){return null},getMaxTickLabelSize:function(a){return new b.com_ibm_vis_geom_Dim(0,0)},zeroOneToDataValue:function(a){return null},getTickMin:function(){return NaN},getTickSize:function(){return NaN},getTickUnit:function(){return null},setupForTickCount:function(a,b){},setupMaxTickCount:function(a){},computeTickCount:function(){return 0},toZeroOne:function(a,b,c){return null},getCategoryCount:function(){return 0},isApplicable:function(a){return!a||a.measure.matches(this.inputUnit.measure)},
getGoodDisplaySpanSize:function(){return 1},addAllTicks:function(a,b){this.addTicks(a,b)},getBase:function(a){return null},isUnitApplicable:function(a,b){return!1},getDataMaxValue:function(){return-1},createTickForLocation:function(a){return null},areCompatible:function(a){return a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_EmptyScaleSpan)}});b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan,
{mn_2:0,cn_7:0,constructor:function(a,d,c,e,g,k,f,v,u,h,l,m,p){this.cn_7=this.mn_2=-1;this.dataField=l;this.ue_3&&1>this.tt_1&&(this.visContext.lx_1.hasListeners()&&this.visContext.lx_1.grammarWarning(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"badValueTickDelta (tickDelta must be greater than 1 in time scales)"),this.ue_3=!1);this.ue_3&&this.tt_1!=Math.floor(this.tt_1)&&this.visContext.lx_1.hasListeners()&&this.visContext.lx_1.grammarWarning(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,
"unsupportedValueTickDelta (tickDelta should be integer, will be rounded down to integer)")},getMaxTickLabelSize:function(a){var d=0,c=0;-1==this.cn_7&&(this.cn_7=null!=this.desiredTicks?this.desiredTicks:5);-1==this.mn_2&&(this.mn_2=20);var e=this.expandInitialRange(this.inputNumDomain),g=this.sg$1(e,this.cn_7,this.mn_2),e=this.setupMinDate(e,this.tt_1,this.ti_3);this.cn_7=g.isComplete()?Math.ceil(g.range/this.tt_1):0;for(var g=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.copy(this.tt_3),
k=0;k<this.cn_7;++k){var f=this.getFormattedTickValue$0(g,this.ti_3),f=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(f,0,0,"start",b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE,a,null,null,new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,1.7976931348623157E308),!1,null,this.visContext.getNumericShapingInfo(),this.visContext.tx_1);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(g,this.ti_3,e);d=Math.max(d,f.calculateTextWidth());c=Math.max(c,f.getHeight())}return new b.com_ibm_vis_geom_Dim(d,
c)},ct$6:function(a){return b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(a,this.inputUnit,this.dataField?this.dataField.timeZone:"GMT")},computeTickCount:function(){return this.ck$1(null,!1)},addTicks:function(a,d){if(0==this.inputNumDomain.range&&null==this.desiredTicks){var c=this.scaleTransform.transformToZeroOne(this.inputNumDomain.min),e=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(this.inputNumDomain.min,this.inputUnit,this.dataField?this.dataField.timeZone:
"GMT"),c=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue$0(e,this.inputUnit==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND:b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY),this.finalOutRange.fromZeroOne(c),this.inputNumDomain.min,this);a.add(c)}else this.ck$1(a,!0)},getFormattedTickValue$0:function(a,d){var c=this.dataField?this.dataField.id:null,e=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(a,
this.inputUnit),g=this.dataField?this.dataField.getNearestMatchingRowIndex(e):-1,k=this.visContext.formatContext.formatDate(a,this.specifiedFormatter,-1,c,d,this.dataField?b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getAxisTimeZone(this.dataField.timeZone,d.name):"GMT"),c=this.visContext.getParentVis().getByID(c),f;c&&(f=c.getFormatInfo(e,g,null));return this.addFormattingContentToTickLabel(k,g,f)},ck$1:function(a,d){if(!this.inputNumDomain.isComplete())return 0;var c=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.copy(this.tt_3),
e=0,g=0,k;for(d&&(k=new b.com_ibm_rave_codegenerator_util_List);;){g++;var f=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(c,this.inputUnit),v=this.scaleTransform.transformToZeroOne(f);this.shouldAddTick(f)&&(k&&(f=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue$0(c,this.ti_3),this.finalOutRange.fromZeroOne(v),f,this),k.add(f)),e++);if(1.0001<v)break;b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(c,this.ti_3,Math.floor(this.tt_1));
if(20<g&&-1==v){k&&(k=null,f=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue$0(c,this.ti_3),this.finalOutRange.fromZeroOne(v),v,this),a.add(f));e=1;break}}k&&a.addAll(k);return e},addMinorTicks:function(a){var d=this.ue_2?this.minorDivisions:this.ti_3.minorDivisions;if(!(2>d)){var c=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.copy(this.tt_3);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(c,this.ti_3,-Math.floor(this.tt_1));for(var e=
0;;){var g=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(c,this.inputUnit);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(c,this.ti_3,Math.floor(this.tt_1));for(var k=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(c,this.inputUnit),f=1;f<d;++f){var v=g+(k-g)*f/d,e=this.scaleTransform.transformToZeroOne(v);-1E-8<=e&&1.00000001>=e&&(v=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(null,this.finalOutRange.fromZeroOne(e),
v,this),a.add(v))}if(1.0001<e)break}}},makeNumericSpanDetails:function(a,d){var c=this.expandInitialRange(this.inputNumDomain),e=this.sg$1(c,a,d),g=this.setupMinDate(c,this.tt_1,this.ti_3),e=e.isComplete()?Math.ceil(e.range/this.tt_1):0,k=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.copy(this.tt_3);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(k,this.ti_3,e*g);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(k,this.inputUnit)<c.max&&b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(k,
this.ti_3,g);c=new b.com_ibm_vis_engine_internal_data_Range(b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(this.tt_3,this.inputUnit),b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(k,this.inputUnit));this.mi_1=this.fitInfo.finalizeRange(this.inputNumDomain,c,this.scaleTransform);this.scaleTransform.setRange(this.mi_1)},setupMinDate:function(a,d,c){this.tt_3=this.ct$6(a.min);a=Math.floor(d);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.floorToUnitMultiple(this.tt_3,
c,a);return a},sg$1:function(a,d,c){var e=this.inputUnit==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND:b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY,g=b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan.gt$6(b.com_ibm_vis_engine_internal_grammar_units_Measure.TIME.units);this.ue_3?(this.ti_3=(g=this.findBestUnit(this.te_3,e,g,d))?g:e,a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(a,e,this.ti_3),
this.tt_1=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(this.te_3,e,this.ti_3)):(this.ti_3=(g=this.findBestUnit(a.range,this.inputUnit,g,d))?g:e,a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(a,this.inputUnit,this.ti_3),this.tt_1=this.applyMultipliers(a,1,this.ti_3.multipliers,d+1,c+1));1>this.tt_1&&(this.tt_1=1);return a},createTickForLocation:function(a){if(0==this.inputNumDomain.range&&null==this.desiredTicks){var d=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(this.inputNumDomain.min,
this.inputUnit,this.dataField.timeZone);a=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue$0(d,this.inputUnit==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND:b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY),a,this.inputNumDomain.min,this)}else{var d=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(this.zeroOneToDataValue(this.finalOutRange.toZeroOne(a)),this.inputUnit,this.dataField?
this.dataField.timeZone:"GMT"),c=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(d,this.inputUnit);a=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(this.getFormattedTickValue$0(d,this.inputUnit==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?b.com_ibm_vis_engine_internal_grammar_units_Unit.SECOND:b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY),a,c,this)}return a},makeCopyWithoutTickInfo:function(){return new b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan(this.inputUnit,
null,this.fitInfo,this.specifiedFormatter,this.visContext,this.finalOutRange,this.transformMethod,null,this.minorDivisions,this.inputNumDomain,this.dataField,this.hasUnitDefinedInSpec,this.isNumDomainDefinedInSpec())},areCompatible:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan)?this.inputUnit.equals(a.inputUnit)&&this.inputNumDomain.equals(a.inputNumDomain):!1},setupForExtent:function(a){this.fitInfo.gr_1=
a;this.mn_2=a.getFittingTicks(this.finalOutRange.range);null!=this.desiredTicks?this.setupForTickCount(this.desiredTicks,2*this.desiredTicks):this.inputUnit.measure.categorical?this.setupForTickCount(this.mn_2,this.mn_2):(this.cn_7=a.getPreferredNumericTicks(this.finalOutRange.range),5>this.cn_7&&(this.cn_7=Math.min(5,this.mn_2)),this.setupForTickCount(this.cn_7,this.mn_2))},getFormattedTickValue:function(){var a=arguments,d;2==a.length&&(d=this.getFormattedTickValue$0);return d?d.apply(this,a):b.com_ibm_init_declare.invokeSuper(this,
a)}});b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan.gt$6=function(a){a=new b.com_ibm_rave_codegenerator_util_List(a);a.remove(b.com_ibm_vis_engine_internal_grammar_units_Unit.TIME);return a};b.com_ibm_vis_engine_internal_grammar_scale_NumericScaleSpan=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan,{makeCopyWithoutTickInfo:function(){return new b.com_ibm_vis_engine_internal_grammar_scale_NumericScaleSpan(this.inputUnit,null,this.fitInfo,this.specifiedFormatter,
this.visContext,this.finalOutRange,this.transformMethod,null,this.minorDivisions,this.inputNumDomain,this.dataField,this.hasUnitDefinedInSpec,this.numDomainDefinedInSpec)},areCompatible:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_NumericScaleSpan)?this.inputUnit.equals(a.inputUnit)&&this.inputNumDomain.equals(a.inputNumDomain):!1}});b.com_ibm_vis_engine_internal_grammar_scale_SpanOutRangeBuilder=b.com_ibm_init_declare({});
b.com_ibm_vis_engine_internal_grammar_scale_SpanOutRangeBuilder.createFromSpec=function(a){return a?(null==a.min&&(a.min=0),null==a.max&&(a.max=1),b.com_ibm_vis_engine_internal_grammar_scale_SpanOutRangeBuilder.ve$2(a),new b.com_ibm_vis_engine_internal_data_Range(a.min,a.max)):null};b.com_ibm_vis_engine_internal_grammar_scale_SpanOutRangeBuilder.ve$2=function(a){if(a.min>=a.max)throw new b.com_ibm_vis_exceptions_internal_SpecException("outRange.max value must be larger than outRange.min",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
};b.com_ibm_vis_engine_internal_grammar_scale_CategoricalDomain=b.com_ibm_init_declare({in_3:0,ru_2:!1,restrictToExisting:!1,sh_1:!1,constructor:function(a,d){this.in_3=a;this.ru_2=d;this.fn_2=new b.com_ibm_rave_codegenerator_util_List;this.ca_4=null;this.sh_1=!1},basedOnField:function(a){this.fn_2.add(a)},setDefinedValues:function(a){this.de_10=a},getOutputValues:function(){this.oe_7||this.bl$1();return this.oe_7},getDomainValueForFieldValue:function(a){if(null==a)return null;this.oe_7||this.bl$1();
a=Math.round(a);return this.da_4.get(a)},getFieldValueForDomainValue:function(a){if(null==a)return null;this.oe_7||this.bl$1();a=Math.round(a);return a<this.oe_7.length?this.oe_7[a]:null},getOutputCount:function(){this.oe_7||this.bl$1();return this.oe_7.length},fillInDetailsFrom:function(a){0>this.in_3&&(this.in_3=a.in_3);0==this.fn_2.size()&&this.fn_2.addAll(a.fn_2);this.restrictToExisting=a.restrictToExisting;null==this.fe_3&&(this.fe_3=a.fe_3)},bl$1:function(){var a;0<this.in_3?(a=b.com_ibm_rave_codegenerator_lang_Array.create([this.in_3],
!1),this.restrictToExisting&&this.rd$3(a),a=this.ce$16(a)):a=this.cd$2();this.sh_1&&this.isWeighted()?a=this.sh$1(a):this.ne$2()&&(a=this.se$5(a));var d=a.length;this.oe_7=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);this.da_4=new b.com_ibm_rave_codegenerator_util_Map;for(var d=this.isOutputReversed()?d-1:0,c=0;c<a.length;++c){var e=a[c];this.oe_7[d]=e;this.da_4.put(e,d);this.isOutputReversed()?d--:d++}},ne$2:function(){return null!=this.fe_3&&this.fe_3.valueOf()},se$5:function(a){for(var d=
new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_List,e=a.length,g=0;g<e;++g)c.add(a[g]);g=0;a=!0;for(var k=0;k<e&&a;){a=!1;for(var f=0,v=this.fn_2.arrayIterator(),u=v.length;f<u;++f){var h=v[f];if(g<h.data.rows.length){a=!0;var l=h.data.rows[g];h.ie_4<l.data.length&&(h=l.data[h.ie_4],l=c.indexOf(h),-1==l||d.contains(h)||(k++,d.add(h),c.set(l,-1)))}}g++}if(k<e)for(e=-1,g=0;g<c.size();++g)e=c.get(g),-1!=e&&d.add(e);return d.toArray()},cd$2:function(){for(var a=new b.com_ibm_rave_codegenerator_util_NumericSet,
d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.fn_2.arrayIterator(),g=e.length;c<g;++c)for(var k=e[c],f=k.data.rows,v=0,u=f.length;v<u;++v){var h=f[v].data[k.ie_4];h==h&&a.add(h)}if(this.de_10)for(h=0,c=this.de_10,e=c.length;h<e;++h)g=c[h],null!=g&&a.contains(g)&&!d.contains(g)&&d.add(g);if(0==d.size()){this.validateDomainValues(a);c=0;a=a.arrayIterator();for(e=a.length;c<e;++c)h=a[c],d.add(h);d=d.toArray();b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);this.restrictToExisting||
(d=this.updateDomainForSpecs(d));return d}return d.toArray()},validateDomainValues:function(a){if(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d){var e=a[d];if(0>e||0!=e-Math.floor(e))throw new b.com_ibm_vis_exceptions_internal_SpecException("Data value "+e+" is not valid. Negative or fractional category values are invalid.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}}},updateDomainForSpecs:function(a){if(0<a.length){a=a[a.length-1];for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=0;c<=a;++c)d.add(c);return d.toArray()}return a},ce$16:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(this.de_10)for(var c=0,e=this.de_10,g=e.length;c<g;++c){var k=e[c];null!=k&&(k=Math.round(k),0<=k&&k<this.in_3&&!a[k]&&(d.add(k),a[k]=!0))}else for(k=0;k<this.in_3;++k)a[k]||d.add(k);a=b.com_ibm_rave_codegenerator_lang_Array.create([d.size()],0);for(c=k=0;c<d.size();++c)e=d.get(c),a[k++]=e;return a},rd$3:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],
!1),c=0,e=this.fn_2.arrayIterator(),g=e.length;c<g;++c)for(var k=e[c],f=k.data.rows,v=0,u=f.length;v<u;++v){var h=f[v];h.data.length>k.ie_4&&(h=h.data[k.ie_4],h==h&&(h=Math.round(h),0<=h&&h<this.in_3&&(d[h]=!0)))}for(c=0;c<a.length;++c)d[c]||(a[c]=!0)},getDataOutputValues:function(){var a;this.restrictToExisting?a=this.getOutputValues():(a=new b.com_ibm_vis_engine_internal_grammar_scale_CategoricalDomain(this.in_3,this.isOutputReversed()),a.fn_2.addAll(this.fn_2),a.de_10=this.de_10,a.restrictToExisting=
!0,a.fe_3=this.fe_3,a=a.getOutputValues());return a},ge$7:function(){return this.fe_3},setFollowDataOrder:function(a){this.fe_3=a},setCategoryWeights:function(a,d){if(a.data.id!=d.data.id)throw new b.com_ibm_vis_exceptions_internal_SpecException("CategoryWeights spec does not reference fields in the same data table.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISMATCHED_FIELD_REFERENCE);this.ca_4=new b.com_ibm_rave_codegenerator_util_NumericMap;for(var c=a.ie_4,e=d.ie_4,g=a.data.rows,k,f,v,u=0;u<a.data.rows.length;++u)k=
g[u].data[c],f=g[u].data[e],v=this.ca_4.get(k),null!=v&&(f+=v),this.ca_4.put(k,Math.max(f,0))},getCategoryWeight:function(a){var b=0;this.isWeighted()&&(a=this.ca_4.get(a),null!=a&&(b=a));return b},sumWeightsForCategories:function(a){var b=0;if(this.isWeighted())for(var c=0;c<a.length;++c)b+=this.getCategoryWeight(a[c]);return b},isWeighted:function(){return this.ca_4&&0<this.ca_4.size()},setSortCategoriesByWeight:function(a){this.sh_1=a},sh$1:function(a){var d=new b.com_ibm_rave_codegenerator_util_List(a.length);
d.add(a[0]);for(var c=1;c<a.length;++c){for(var e=a[c],g=this.getCategoryWeight(e),k=!1,f=0;f<d.size();++f){var v=this.getCategoryWeight(d.get(f));if(g>v){d.add(f,e);k=!0;break}}k||d.add(e)}return d.toArray()},isOutputReversed:function(){return this.ru_2}});b.com_ibm_rave_codegenerator_util_NumericSet=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Set,{_createBackingMap:function(){return b.com_ibm_init_declare.create(b.com_ibm_rave_codegenerator_util_NumericMap,arguments)}});b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan,{constructor:function(a,d,c,e,g,k,f,v,u,h,l,m,p){b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.vg$1(h)},makeNumericSpanDetails:function(a,d){this.verifyInputNumDomain();var c=this.expandInitialRange(this.inputNumDomain),e=this.calculateTickRange(a,d,c);this.calculateTickDomain(e);this.centreSingleTick()?e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(e,this.ti_3,this.inputUnit):
this.fitInfo.en_7?(e=this.ensureNiceRange(),e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(e,this.ti_3,this.inputUnit),e=this.fitInfo.finalizeRange(c,e,this.scaleTransform)):e=this.inputNumDomain;this.mi_1=e;this.scaleTransform.setRange(this.mi_1)},verifyInputNumDomain:function(){if(!b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.ig$1(this.inputNumDomain))throw new b.com_ibm_vis_exceptions_internal_EngineException("Data that is less than or equal to 0 can't be used with a logarithmic span.",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LOG_INVALID_DATA);},calculateTickDelta:function(a,d,c){var e=b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.ge$9(c.min,!0);c=b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.ge$9(c.max,!1)-e;0==c&&(c=0==e?1:Math.abs(e));a=Math.ceil(c/a);this.fitInfo.en_7||(d=Math.ceil(c/d),a>d&&(a=d));return a},makeRangeAbout:function(a){return new b.com_ibm_vis_engine_internal_data_Range(.999999*a,a/.999999)},makeCopyWithoutTickInfo:function(){return new b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan(this.inputUnit,
null,this.fitInfo,this.specifiedFormatter,this.visContext,this.finalOutRange,this.transformMethod,null,this.minorDivisions,this.inputNumDomain,this.dataField,this.hasUnitDefinedInSpec,this.isNumDomainDefinedInSpec())},areCompatible:function(a){return this==a?!0:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan)?this.inputUnit.equals(a.inputUnit)&&this.inputNumDomain.equals(a.inputNumDomain):!1}});b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.vg$1=
function(a){if(!b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.ig$1(a))throw new b.com_ibm_vis_exceptions_internal_SpecException("The minimum and maximum value of a logarithmic span must be greater than 0.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.ig$1=function(a){return 0>=a.min||0>=a.max?!1:!0};b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan.ge$9=function(a,b){return b?Math.floor(Math.log(a)/Math.log(10)):
Math.ceil(Math.log(a)/Math.log(10))};b.com_ibm_vis_engine_internal_IdentifiableItem=b.com_ibm_init_declare({constructor:function(a,b){this.id=a;null!=a&&b&&b.put(a,this)}});b.com_ibm_vis_engine_internal_data_Field=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_IdentifiableItem,{ie_4:0,isKey:!1,constructor:function(a,d,c,e,g,k,f,v,u,h,l){this.data=e;this.ie_4=g;this.label=null==k?a:k;this.range=v;this.categories=u;this.order=h;this.isKey=c&&null!=c.key?c.key:!1;this.se_23=l;this.unit=f?f:this.categories?
b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL:b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO;a=c?c.granularity:null;null!=a?this.granularity=a:this.unit.measure.categorical&&(this.granularity=1);this.ue_1=null;this.timeZone=c&&null!=c.timeZone&&0<c.timeZone.length?c.timeZone:"GMT"},getFieldSpec:function(){var a=new b.com_ibm_vis_spec_internal_FieldSpec;a.categories=this.categories?b.com_ibm_rave_codegenerator_util_Arrays.copyOf(this.categories,this.categories.length):null;a.format=
b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFormatSpecFromRAVEFormatter(this.se_23);a.granularity=this.granularity;a.id=this.id;a.key=this.isKey;a.label=this.label;if(!this.categories){var d=this.range.max,c=this.range.min;a.max=d!=d?null:d;a.min=c!=c?null:c}if(this.order)for(a.order=Array(this.order.length),d=0;d<this.order.length;++d)a.order[d]=this.order[d];else a.order=null;a.unit=this.unit?this.unit.name:null;a.timeZone=this.timeZone;return a},getUsedCategories:function(){this.ue_1||
(this.ue_1=this.fe$1());return this.ue_1},fe$1:function(){if(!this.categories||!this.data||!this.data.rows||0==this.categories.length)return null;for(var a=this.categories.length,d=b.com_ibm_rave_codegenerator_lang_Array.create([a],!1),c=0;c<a;++c)d[c]=!1;for(var c=0,e=this.data.rows,g=e.length;c<g;++c){var k=e[c].data[this.ie_4];k==k&&(d[k]=!0)}for(c=e=0;c<a;++c)d[c]&&e++;if(0==e)return null;e=b.com_ibm_rave_codegenerator_lang_Array.create([e],0);for(c=g=0;c<a;++c)d[c]&&(e[g++]=c);return e},copyDerivedInfo:function(a){!this.categories&&
a.categories&&(this.categories=a.categories,this.ue_1=a.ue_1,this.range=a.range);if(null==this.label||this.label==this.id)this.label=a.label;this.unit||(this.unit=a.unit)},copyRange:function(a){this.range=a.range},getUnformattedStringValue:function(a,d){var c=a.data[this.ie_4];return c!=c?null:this.categories?(c=Math.round(c),d?this.categories[c]:c+""):b.com_ibm_rave_codegenerator_util_BasicFactory.unformattedNumber(c)},getFormattedValue:function(a){a=Math.round(a);return this.getFormattedStringValue(this.getRowValue(a),
a,null)},getRowValue:function(a){return this.data.rows[a].data[this.ie_4]},getFormattedStringValue:function(a,d,c){if(!this.categories){if(b.com_ibm_vis_engine_internal_grammar_units_Unit.isTime(this.unit)){var e=null;a==a&&(e=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(a,this.unit,this.timeZone));return c?this.data.visContext.formatContext.formatDate(e,b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(c,this.data.visContext.ll_3),d,this.id,this.unit,this.timeZone):
this.data.visContext.formatContext.formatDate(e,this.se_23,d,this.id,this.unit,this.timeZone)}return c?this.data.visContext.formatContext.formatNumber(a,b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(c,this.data.visContext.ll_3),d,this.id,this.range,this.unit):this.data.visContext.formatContext.formatNumber(a,this.se_23,d,this.id,this.range,this.unit)}a==a&&(a=Math.round(a),e=this.categories[a]);return c?this.data.visContext.formatContext.formatString(e,b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(c,
this.data.visContext.ll_3),d,this.id):this.data.visContext.formatContext.formatString(e,this.se_23,d,this.id)},getFormatInfo:function(a,d,c){var e=new b.com_ibm_vis_engine_internal_FormatInfo;this.categories?(c=null,b.com_ibm_rave_codegenerator_lang_Double.isNaN(a)||(a=Math.round(a),a<this.categories.length&&(c=this.categories[a])),e.du_2=c,e.se_3=this.se_23,e.rI_1=d,e.id=this.id):(e.du_2=a,e.se_3=this.se_23,c&&(e.se_3=b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(c,null)),e.rI_1=
d,e.id=this.id,e.rg_1=this.range,e.unit=this.unit,e.iu_1=!0);return e},getCategoryIndexFromZeroOne:function(a){return this.categories?Math.round(a*(this.categories.length-1)):null},isCategorical:function(){return this.unit.measure.categorical},getNearestMatchingRowIndex:function(a){for(var b=-1,c=1.7976931348623157E308,e=0,g=this.data.rows.length;e<g;++e){var k=Math.abs(this.data.rows[e].data[this.ie_4]-a);if(0==k)return e;k<c&&(c=k,b=e)}return b},getDataRange:function(){for(var a=b.com_ibm_vis_engine_internal_data_Range.EMPTY,
d=0,c=this.data.rows,e=c.length;d<e;++d)a=a.unionValue(c[d].data[this.ie_4]);return a},getMinimalDataDiff:function(){if(!this.data||!this.data.rows)return null;for(var a=this.getDataRange().range,b=0;b<this.data.rows.length;++b){var c=this.data.rows[b].data[this.ie_4];if(c==c)for(var e=b+1;e<this.data.rows.length;++e){var g=this.data.rows[e].data[this.ie_4];g==g&&g!=c&&(a=Math.min(a,Math.abs(c-g)))}}return a},incrementIndex:function(){this.ie_4++},getIndex:function(){return this.ie_4},getSpecifiedFormatter:function(){return this.se_23},
setSpecifiedFormatter:function(a){this.se_23=a},setLocalFormatter:function(a,b){this.le_33=a;this.lp_1=b},getLocalFormatter:function(){return this.le_33},getLocalFormatterType:function(){return this.lp_1}});b.com_ibm_vis_engine_internal_data_Field.createSimpleField=function(a,d,c,e,g){g||(g=d.categories?b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL:b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO);g=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(d.unit,g);var k=d.min,f=
d.max,k=null==k?NaN:k,v=null==f?NaN:f,f=a?a.getVisContext():null,f=b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(d.format,f?f.ll_3:null),u,h;if(d.categories){u=Array(d.categories.length);for(k=0;k<u.length;++k)u[k]=d.categories[k];k=new b.com_ibm_vis_engine_internal_data_Range(-.5,d.categories.length-.5);d.order&&(h=b.com_ibm_vis_engine_internal_data_Field.computeCategoriesOrder(d.categories,d.order))}else k=new b.com_ibm_vis_engine_internal_data_Range(k,v);return new b.com_ibm_vis_engine_internal_data_Field(d.id,
a,d,c,e,d.label,g,k,u,h,f)};b.com_ibm_vis_engine_internal_data_Field.computeCategoriesOrder=function(a,d){var c=a.length,e=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([c],!1),k,f;for(k=0;k<c;++k)g[k]=!1;for(f=k=0;k<d.length;++k){if(Math.floor(d[k])<d[k])throw new b.com_ibm_vis_exceptions_internal_SpecException("Double value given for category index: integer expected.",b.com_ibm_vis_exceptions_ErrorCode.DATA_CONVERSION);var v=d[k];v<c&&!g[v]&&
(e[f++]=v,g[v]=!0)}if(c>f)for(k=f,f=0;k<c;++k){for(;g[f];)f++;e[k]=f++}return e};b.com_ibm_vis_engine_internal_data_Field.getValuesAsZeroOne=function(a,d){if(!d)return null;for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([d.length],0),e=0;e<c.length;++e)c[e]=d[e].range.toZeroOne(a.data[d[e].ie_4]);return c};b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.POSITION=
new b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType("POSITION");b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.AESTHETICS=new b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType("AESTHETICS");b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.COMPONENT=new b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType("COMPONENT");b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType)};
b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createForCategories=function(a,d,c,e,g,k,f){return new b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan(c,null,e,g,k,null,null,d,a,f)};b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createForRange=function(a,d,c,e,g,k,f,v,u){a=null!=g?a.expand(g/2):a;if(a.isEmpty())return new b.com_ibm_vis_engine_internal_grammar_scale_EmptyScaleSpan(d,
0,new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(!0,!1,u),k,f,null,null);d=d.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME?new b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan(d,e,c,k,f,null,null,null,null,a,v,!1,!1):new b.com_ibm_vis_engine_internal_grammar_scale_NumericScaleSpan(d,e,c,k,f,b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE,null,null,null,a,v,!1,!1);d.at_2=g;return d};b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createFromSpec=
function(a,d,c,e,g,k,f){var v=c?c.getVisContext():null,u,h=a.unit,l=g;l||(l=a.categories?b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL:b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO);g=(u=b.com_ibm_vis_engine_internal_grammar_scale_SpanOutRangeBuilder.createFromSpec(a.outRange))?!0:!1;l=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(h,l);l.measure.categorical?(h=new b.com_ibm_vis_engine_internal_grammar_scale_CategoricalDomain(-1,d),h.fe_3="data"==a.method,h.setDefinedValues(a.categories),
h.restrictToExisting=null!=e&&e.valueOf(),a.categoryWeights&&(h.sh_1=b.com_ibm_vis_internal_SpecConstants.ORDERBYWEIGHT==a.method,e=c.getByID(a.categoryWeights.categories.$ref),c=c.getByID(a.categoryWeights.weights.$ref),h.setCategoryWeights(e,c)),c=!0,"exact"==a.fit&&(c=!1),f=new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(c,!1,f),u=new b.com_ibm_vis_engine_internal_grammar_scale_CategoricalScaleSpan(l,null,f,null,v,u,a.method,null,h,k)):(c=a.min,e=a.max,e=new b.com_ibm_vis_engine_internal_data_Range(null==
c?NaN:c,null==e?NaN:e),d=e.isComplete(),c="exact"==a.fit?!1:"nice"==a.fit?!0:null==a.min||null==a.max,f=new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(c,!1,f),u=l.measure==b.com_ibm_vis_engine_internal_grammar_units_Measure.DATETIME?new b.com_ibm_vis_engine_internal_grammar_scale_TimeScaleSpan(l,null,f,null,v,u,a.method,a.tickDelta,a.minorDivisions,e,k,null!=h,d):"log"==a.method?new b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan(l,null,f,null,v,u,a.method,a.tickDelta,a.minorDivisions,
e,k,null!=h,d):new b.com_ibm_vis_engine_internal_grammar_scale_NumericScaleSpan(l,null,f,null,v,u,a.method,a.tickDelta,a.minorDivisions,e,k,null!=h,d));u&&a.tickLabel&&u.setTickLabelContent(a.tickLabel);u.oe_8=g;k?u.specifiedFormatter=k.le_33&&k.lp_1==b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.POSITION?k.le_33:k.se_23:(a=null,v&&(a=v.ll_3),u.specifiedFormatter=b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(new b.com_ibm_vis_spec_internal_FormatSpec,a));return u};
b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder=b.com_ibm_init_declare({ft_6:!1,reverseCategoricalScales:!1,constructor:function(a,b,c,e){this.te_14=a;this.fd_2=b;this.ft_6=c;this.vx_5=e},createSpansFromProvider:function(a,d){var c=new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(!0,!1,d),e=a.getFormatter();a.isCategorical()?this.addCategoricalSpan(a.getUnit(),a.getCategories(),e,c):this.addNumericSpan(a.getUnit(),a.getRange(),e,c,a.getGranularity(),d,null);this.te_14.defineSpanOutputRanges()},
addNumericSpan:function(a,d,c,e,g,k,f){a||(a=b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO);this.ft_6&&(d=this.ft$9(d,a.measure));e.en_7&&null!=g?(e=new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(!1,!1,k),a=b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createForRange(d,a,e,null,g,c,this.vx_5,this.getField(),k)):a=b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createForRange(d,a,e,null,null,c,this.vx_5,this.getField(),k);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)&&(a.se_25=f);this.te_14.addSpan(a)},addCategoricalSpan:function(a,d,c,e){var g=new b.com_ibm_vis_engine_internal_grammar_scale_CategoricalDomain(d?d.length:-1,this.reverseCategoricalScales);a=b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createForCategories(g,d,a,e,c,this.vx_5,this.getField());g.restrictToExisting=this.ft_6;d=0;c=this.fd_2.arrayIterator();for(e=c.length;d<e;++d){var k=c[d];a.isApplicable(k.unit)&&g.basedOnField(k)}this.te_14.addSpan(a)},
ft$9:function(a,d){for(var c=b.com_ibm_vis_engine_internal_data_Range.EMPTY,e=0,g=this.fd_2.arrayIterator(),k=g.length;e<k;++e){var f=g[e];d.matches(f.unit.measure)&&(f=f.getDataRange(),c=c.unionValue(f.min),c=c.unionValue(f.max))}c.min>a.min&&(a=new b.com_ibm_vis_engine_internal_data_Range(c.min,a.max));c.max<a.max&&(a=new b.com_ibm_vis_engine_internal_data_Range(a.min,c.max));return a},getField:function(){return this.fd_2.isEmpty()||1!=this.fd_2.size()||null==this.fd_2.get(0).id?null:this.fd_2.get(0)}});
b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.makeForProvider=function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List;(d=d.getBaseField())&&g.add(d);return new b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder(a,g,c,e)};b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.makeForMany=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder(a,d,c,e)};b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.createFromSpec=function(a,d,c,
e,g,k,f,v){var u=new b.com_ibm_vis_engine_internal_grammar_scale_Scale(a,k.getSize()),h=new b.com_ibm_rave_codegenerator_util_List,l;if(e&&0<e.size()){l=e.get(0);var m=0;e=e.arrayIterator();for(var p=e.length;m<p;++m){var q=e[m];null!=q.id&&h.add(q.id)}}if(a.spans)for(m=0;m<a.spans.length;++m){e=a.spans[m];p=b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.ge$47(g,m);v&&null!=v.get(m)&&h.contains(v.get(m))&&(l=k.getByID(v.get(m)));if(l&&e&&null!=e.max&&null!=e.min&&(q=e.max-e.min,20<l.getDataRange().range/
q))throw new b.com_ibm_vis_exceptions_internal_EngineException("Scale span of "+q+" less than one twentieth of total field range.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_SCALE_TOO_SMALL);u.addSpan(b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createFromSpec(e,d,k,c,p,l,f))}return u};b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.setFieldToScaleSpans=function(a,d,c,e){if(a){var g=new b.com_ibm_rave_codegenerator_util_List,k=null;if(c&&0<c.size()){var k=c.get(0),f=0;c=c.arrayIterator();
for(var v=c.length;f<v;++f){var u=c[f];null!=u.id&&g.add(u.id)}}a=a.spans;for(f=0;f<a.size();++f)e&&null!=e.get(f)&&g.contains(e.get(f))&&(k=d.getByID(e.get(f))),k&&(c=a.get(f))&&c.setDataField(k)}};b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.ge$47=function(a,b){return a&&0<a.size()?a.get(Math.min(b,a.size()-1)):null};b.com_ibm_vis_engine_internal_grammar_scale_Axis=b.com_ibm_init_declare({wl_2:0,do_7:0,aw_2:!1,tz_2:0,mz_11:0,sn_9:0,th_3:0,oe_15:0,an_10:0,dl_5:!1,dd_1:!1,ic_4:!1,ol_2:!1,
ai_3:!1,tl_7:0,tz_3:0,constructor:function(a,d,c,e,g){this.wl_2=a;this.ce_37=d;this.cx_7=d.visContext;this.do_7=d.getDrawnPosition(a);this.ae_21=c;this.oe_15=0;this.an_10=1;this.tz_3=this.tl_7=NaN;this.sn_10=e;this.tA_1=c.tickAs;this.ai_3=null!=c.alignWithOtherAxis?c.alignWithOtherAxis:!1;this.ol_2=null==c.outsideTickLabels?!1:c.outsideTickLabels;this.mo_14=c.method;if(this.ce_37.containsPolar()&&("stagger"==this.mo_14||"between"==this.mo_14))throw new b.com_ibm_vis_exceptions_internal_EngineException("Unsupported axis method for polar transform:"+
this.mo_14,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);if("between"==this.mo_14&&c.minorStyle)throw new b.com_ibm_vis_exceptions_internal_SpecException("Minor Ticks are not support with 'between' Axis method.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(this.ce_37.containsCluster()&&this.ae_21.gridBand)throw new b.com_ibm_vis_exceptions_internal_SpecException("GridBands are not supported for Cluster charts.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
this.aw_2=b.com_ibm_vis_engine_internal_grammar_scale_Axis.ie$52(c.markStyle,!0)||b.com_ibm_vis_engine_internal_grammar_scale_Axis.ie$52(c.boxStyle,!1);c.tickStyle?b.com_ibm_vis_engine_internal_grammar_scale_Axis.isEmpty(c.tickStyle)?(a=null,this.dl_5=!1):(a=c.tickStyle,a.font&&null!=a.font.size?0>=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.font.size,10,10)?this.dl_5=!1:this.dl_5=!0:this.dl_5=!0):(a=new b.com_ibm_vis_spec_internal_StyleSpec,this.dl_5=!0);c.title?(c.titleStyle&&
(c.titleStyle.angle=null),this.te_13=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(d.vis,c.titleStyle,null,null,null)):this.te_13=null;null!=c.opposite?(e=c.opposite.valueOf(),this.dd_1=g?!e:e):this.dd_1=g?!0:!1;this.tg_1=a?a.align:null;this.tg_2=a?a.valign:null;g=this.tg_1;null==g&&(g="middle",c.boxStyle||0!=this.do_7||(g=this.dd_1?"start":"end"));e=this.tg_2;null==e&&(e="middle",c.boxStyle||1!=this.do_7||(e=this.dd_1?"end":"start"));this.te_12=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(d.vis,
a,g,e,null);this.dl_5&&a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a.angle)&&(d=a.angle,this.tl_7=d%360*3.141592653589793/180);d=this.te_12.font.getHeight();this.tz_2=this.getTickMarkSize(this.ae_21,d,0);this.mz_11=b.com_ibm_vis_engine_internal_grammar_scale_Axis.getMinorTickMarkSize(this.ae_21,d,this.tz_2,0);this.sn_9=a&&null!=a.padding?0:d/6;this.gr_3=b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry.makeUnsized(0==this.do_7);this.th_3=0;this.mh_4=new b.com_ibm_vis_geom_Dim(0,
0);this.dt$7()},getGeometry:function(){return this.gr_3},getTickAs:function(){return this.tA_1},isAlignWithOtherAxis:function(){return this.ai_3},setAlignWithOtherAxis:function(a){this.ai_3=a},getMinorTicks:function(){return this.mk_1},setOutsideTickLabels:function(a){this.ol_2=a},getTickHeight:function(){return this.th_3},getSpacing:function(){return this.sn_9},getDrawPosition:function(){return this.do_7},getAxisDrawCount:function(){return this.an_10},getFirstTickLabelSize:function(){return this.tk_2&&
0!=this.tk_2.size()?this.te_12.calculateLabelSize(this.tk_2.get(0).getContentClone()):new b.com_ibm_vis_geom_Dim(0,0)},getMethod:function(){return this.mo_14},setMethod:function(a){this.mo_14=a},isRadialYAxis:function(){return this.ce_37.containsPolar()&&0==this.do_7&&2==this.ce_37.scales.length},getScale:function(){return this.ce_37.scales[this.wl_2]},getScaleIndex:function(){return this.wl_2},isVisible:function(){return null==this.ae_21.visible||this.ae_21.visible},getAxisSpec:function(){return this.ae_21},
isDrawTicks:function(){return this.dl_5},setSpans:function(a){this.sn_10=a},getSpans:function(){return this.sn_10},isDrawOppositeSide:function(){return this.dd_1},getTicks:function(){return this.tk_2},getTickLabeler:function(){return this.te_12},ie$50:function(){var a=!1;this.ie$51()&&this.tl_7==this.tl_7&&!this.il$10()&&(a=!0);return a},ie$51:function(){return 1==this.do_7&&1==this.wl_2&&!this.ce_37.containsCluster()&&!this.ce_37.transposesAxes()&&!this.ae_21.boxStyle},il$10:function(){var a=!1;
this.tl_7==this.tl_7&&0==Math.abs(this.tl_7%3.141592653589793)&&(a=!0);return a},il$11:function(){var a=!1;this.tl_7==this.tl_7&&1.5707963267948966==Math.abs(this.tl_7)&&(a=!0);return a},io$6:function(){var a=0>this.tl_7&&-1.5707963267948966<this.tl_7||-3.141592653589793>this.tl_7&&-4.71238898038469<this.tl_7||1.5707963267948966<this.tl_7&&3.141592653589793>this.tl_7||4.71238898038469<this.tl_7&&6.283185307179586>this.tl_7;this.dd_1&&(a=!a);return a},getTickMarkSize:function(a,d,c){return!this.aw_2||
a.boxStyle?0:a.markStyle&&null!=a.markStyle.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.markStyle.size,d/3,c):d/3},getInitializedTickMarkSize:function(){return this.tz_2},modifyShape:function(a,b,c,e){if(!a||0==this.wl_2)return a;a.setPosition(this.tf_2[e][c].pos);a=this.ce_37.modifyAxisTickOrLabel(a,b,this.wl_2);return this.copyShape(a)},copyShape:function(a){if(!a)return a;var b=a.makeGeometryClone();b.copyInfoFrom(a);return b},defineLocationVisTransform:function(a,
b,c){this.ce_37.insideAxes?a.intTranslate(b.x,b.y):1==this.do_7?a.intTranslate(b.x,b.y+c.hh_1):a.intTranslate(b.x,b.y)},getForegroundShapes:function(a,d){var c=d+"A"+this.wl_2+(this.dd_1?"O":""),e=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS),g=1<this.an_10,k=g&&this.aw_2&&this.dl_5,f=this.ae_21.boxStyle,v=0,u;if(b.com_ibm_vis_engine_internal_grammar_scale_Axis.ie$52(this.ae_21.lineStyle,!0)&&0==this.oe_15){var h=this.mn$25(a);
if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h.getGeom(),b.com_ibm_vis_geom_Wedge)){var l=h.getGeom(),v=l.getR2();u=l.getOrigin()}h.setID(c+"L");e.addChild(h.createSceneNode())}this.ae_21.title&&(h=this.ml$12(a))&&(h.setID(c+"Title"),this.cx_7.gt_4&&this.ae_21.titleStyle&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(e,this.ae_21.titleStyle.accessibility,!1)),e.addChild(h.createSceneNode()));
var m;if(this.aw_2&&!k){var p=null;m=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK);for(var q=0;q<this.an_10;++q)for(l=0;l<this.tk_2.size();++l){var h=this.mp$9(l,a,this.tz_2,q,!1),r=this.modifyShape(h,a,l,q);r&&g&&p?(h=r.getBounds(),this.bs$2(h,p)?r=null:p=h):r&&g&&!p&&(p=r.getBounds(),this.au$2(c,m,q,l,r));this.au$2(c,m,q,l,r)}}var l=this.getAxisAlignedTo(),t;if(!l&&this.ae_21.minorStyle||l&&l.ae_21.minorStyle)if(t=
b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MINOR),this.mk_1=l?this.getScale().makeMinorTicksForSpans(l.sn_10):this.getScale().makeMinorTicksForSpans(this.sn_10))for(q=0;q<this.an_10;++q)for(l=0;l<this.mk_1.size();++l)if(p=this.mk_1.get(l),h=this.mp$9(l,a,this.mz_11,q,!0),r=this.modifyShape(h,a,0,q)){var w=1<this.an_10?q+"_"+l:""+l;r.setID(c+"N"+w);this.addAxisValue(r,p.value);t.addChild(r.createSceneNode())}var x;if(this.dl_5){r=
new b.com_ibm_rave_codegenerator_util_List;k&&(m=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK));p=x=null;for(q=0;q<this.an_10;++q){var y=new b.com_ibm_rave_codegenerator_util_List;r.add(y);for(l=0;l<this.tk_2.size();++l){h=1;this.getScale().isCategorical()&&(h=this.tk_2.get(l).getAdjacentTickSpace(l,this.tk_2));var h=this.me$47(l,a,h,q,v,u),z=null;k&&(z=this.mp$9(l,a,this.tz_2,q,!1),z=this.modifyShape(z,a,l,q));h&&g&&
x&&(w=h.getBounds(),this.bs$2(w,x)&&(h=null,f&&(z=null)));h&&(w=1<this.an_10?q+"_"+l:""+l,h.setID(c+"T"+w),g&&(x=h.getBounds()));y.add(h);z&&!f&&(p?(h=z.getBounds(),this.bs$2(h,p)?z=null:p=z.getBounds()):p=z.getBounds());z&&this.au$2(c,m,q,l,z)}}if(this.pp_1)for(c=0,g=this.pp_1.arrayIterator(),k=g.length;c<k;++c)for(l=g[c],f=0,v=r.arrayIterator(),u=v.length;f<u;++f)q=v[f],l<=q.size()-1&&0<l&&(h=q.get(l),x=q.get(l-1),h&&x&&(h=h.getBounds(),x=x.getBounds(),this.bs$2(h,x)&&q.set(l,null)));x=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL);
for(q=0;q<this.an_10;++q)for(l=0;l<this.tk_2.size();++l)if(h=r.get(q).get(l))this.addInfo(h,l,q),this.addAxisValue(h,this.tk_2.get(l).value),x.addChild(h.createSceneNode());this.cx_7.gt_4&&this.ae_21.tickStyle&&(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility(x,this.ae_21.tickStyle.accessibility,!0));1==this.an_10&&this.ce_37.containsPolar()&&(l=x.getChildrenCount(),2<=l&&(r=x.getChild(0).getShape().getNodeBounds(),
h=x.getChild(l-1).getShape().getNodeBounds(),this.bs$2(r,h)&&x.removeChildAt(l-1)))}m&&0<m.getChildrenCount()&&e.addChild(m);t&&0<t.getChildrenCount()&&e.addChild(t);x&&0<x.getChildrenCount()&&e.addChild(x);return e},au$2:function(a,b,c,e,g){g&&(g.setID(a+"M"+(1<this.an_10?c+"_"+e:""+e)),this.addInfo(g,e,c),b.addChild(g.createSceneNode()))},bs$2:function(a,b){var c=a.x-1,e=c+a.wt_3+2,g=b.x;if(c>g+b.wt_3||g>e)return!1;c=a.y-1;e=c+a.hh_2+2;g=b.y;return c>g+b.hh_2||g>e?!1:!0},if$1:function(){if(this.pt_8&&
!this.cx_7.isUpdateViewport())for(var a=0,b=this.pt_8,c=b.length;a<c;++a){var e=this.ce_37.scales[b[a]];e&&e.getTicks()&&(this.an_10*=e.getTicks().size())}this.bf$1()},bf$1:function(){var a=this.tk_2.size();this.tf_2=Array(this.an_10);for(var d=0;d<this.an_10;++d)this.tf_2[d]=Array(a);if(this.pt_8)for(d=0;d<this.an_10;++d)for(u=0;u<this.tk_2.size();++u){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([this.pt_8.length+1],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([this.pt_8.length+
2],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([this.pt_8.length+2],0),a=d,k=0;k<this.pt_8.length;++k){var f=this.ce_37.scales[this.pt_8[k]].getTicks();if(f&&0<f.size()){var v=a%f.size(),v=f.get(v);c[this.pt_8.length-k-1]=v.value;e[this.pt_8.length-k]=v.location;g[this.pt_8.length-k]=v.value;a=Math.floor(a/f.size())}}v=this.tk_2.get(u);c[this.pt_8.length]=v.value;e[this.pt_8.length+1]=v.location;g[this.pt_8.length+1]=v.value;this.tf_2[d][u]=new b.com_ibm_vis_engine_internal_grammar_scale_NestedTickInfo(c,
e,g)}else for(var u=0;u<this.tk_2.size();++u){var v=this.tk_2.get(u),c=[v.value],e=[0,v.location],g=[0,v.value];this.tf_2[0][u]=new b.com_ibm_vis_engine_internal_grammar_scale_NestedTickInfo(c,e,g)}},setisOverlappingTick:function(a){this.ic_4=a},addInfo:function(a,d,c){a.setValue(this.tf_2[c][d].getCoords());var e=this.ce_37.coordinateFieldIDs[this.wl_2],g;e&&0<e.length&&1==e.length&&(g=this.ce_37.coordinateFieldIDs[this.wl_2][0]);null!=g?a.setField(g):this.sn_10&&this.sn_10.get(0)&&this.sn_10.get(0).dataField&&
a.setField(this.sn_10.get(0).dataField.id);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_MultiPartText))for(e=0,a=a.getParts(),g=a.length;e<g;++e)this.addInfo(a[e],d,c)},addAxisValue:function(a,d){null==a.getValue()&&a.setValue(b.com_ibm_vis_engine_internal_util_MathUtil.s4(d))},getBackgroundShapes:function(a,d){var c=d+"A"+this.wl_2+(this.dd_1?"O":""),e=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK);
this.ae_21.gridStyle&&(new b.com_ibm_vis_engine_internal_grammar_scale_GridLineBuilder(this.ce_37,a,this)).makeGridShapes(c,e);this.ae_21.gridBand&&(new b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder(this.ce_37,a,this)).makeGridShapes(c,e);return e},makeStraightPolarGridLine:function(a,d,c,e){for(var g=new b.com_ibm_rave_codegenerator_util_List,k=this.ce_37.getPolarTransform(),f=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),v=0;v<a.length;++v){f[v]=d;var u=k.transformPointShape(new b.com_ibm_vis_geom_Point(a[v],
f[v]),c);g.add(u)}u=k.transformPointShape(new b.com_ibm_vis_geom_Point(a[0],f[0]),c);g.add(u);a=b.com_ibm_rave_codegenerator_lang_Array.create([g.size()],0);d=b.com_ibm_rave_codegenerator_lang_Array.create([g.size()],0);for(v=0;v<g.size();++v)a[v]=g.get(v).x,d[v]=g.get(v).y;return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLineForPoints(a,d,e)},modifyInnerCellSize:function(a,b){this.ce_37.insideAxes||b||(0==this.do_7?(this.dd_1||(a.x+=this.th_3),a.wt_3-=this.th_3):(this.dd_1&&(a.y+=this.th_3),
a.hh_2-=this.th_3))},initializeForBounds:function(a){this.ce_37.initializeGeometryForBounds(this.gr_3,a.getExtent());1!=this.do_7||"auto"!=this.mo_14&&"between"!=this.mo_14||(a=a.getExtent(),this.cx_7.isGenerateAllTicks()&&(a.wt_2*=this.gr_3.og_3.range),this.ro$2(a),this.giveSizeInfoToScale());this.getScale().initializeForDisplayableExtent(this.gr_3);this.ro$1()},adjustLayout:function(a,b){this.ik$2();0==this.do_7?this.du$2(a,b.wt_3):this.du$2(a,b.hh_2)},ro$1:function(){if(this.ik$1(this.getScale().getTicks())&&
1==this.do_7&&"horizontal"==this.mo_14){var a=this.getScale().getTicksBasedMaxSize(this.te_12.font,this.getScale().getTicks(),this.cx_7);a.wt_2>this.gr_3.minimalTickSeparation&&(this.gr_3.minimalTickSeparation=a.wt_2,this.getScale().initializeForDisplayableExtent(this.gr_3))}},ik$1:function(a){return 0<a.size()&&(a=a.get(0).getContent())&&!a.isEmptyString()?(a=a.getText(),a=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a),a==a):!1},computeExtraSpacingNeededForBounds:function(a){var d=
b.com_ibm_vis_engine_internal_struct_Insets.NONE;if(!this.tk_2)return d;var c=this.tk_2.size();if(0==c)return d;this.dl_5&&(d=this.cc$9(0,d,a),1<c&&(d=this.cc$9(c-1,d,a)));return new b.com_ibm_vis_engine_internal_struct_Insets(Math.ceil(d.top),Math.ceil(d.left),Math.ceil(d.bottom),Math.ceil(d.right))},cc$9:function(a,d,c){var e=this.tk_2.get(a);if(1<e.location||0>e.location)return d;var g=d,k=e.getAdjacentTickSpace(a,this.tk_2),f=0<a||1==this.tk_2.size();if(0==this.do_7){var v=c.hh_2;a=(1-e.location)*
v;var u=this.te_12.font.getHeight(),h=new b.com_ibm_vis_geom_Dim(this.th_3-this.tz_2-this.sn_9-this.gz$17(),v*k),l=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(e.getContentClone(),0,0,this.tg_1,this.tg_2,this.te_12.font,null,null,h,!1,null,null,this.cx_7.tx_1);l&&(u=Math.max(l.getHeight(),this.te_12.font.getHeight()));f?(v=a-u/2,0>v&&(g=new b.com_ibm_vis_engine_internal_struct_Insets(-v+1,d.left,d.bottom,d.right))):(k=a+u/2,g=0,k>v&&(g=k-v),(v=this.ce_37.getAxisForDimension(1))&&(g=g>
v.th_3?g-v.th_3:0),g=new b.com_ibm_vis_engine_internal_struct_Insets(d.top,d.left,g,d.right));v=this.tz_2+this.sn_9+this.gz$17();e=e.getContent()&&null!=e.getContent().getText()?e.getContent().getText():"";u=b.com_ibm_vis_engine_internal_struct_Text.createTextWithUnshapedValue(e,0,0,this.te_12.align,this.te_12.valign,this.te_12.font,this.te_12.style,null,null,this.te_12.shapingInfo,null,this.cx_7.tx_1);if(u=u.fitInside(new b.com_ibm_vis_geom_Dim(c.x-v,c.hh_2)))e=u.getWidth()+v-c.x,0<e&&(g=new b.com_ibm_vis_engine_internal_struct_Insets(d.top,
e,d.bottom,d.right))}else{var v=c.wt_3-d.left-d.right,l=e.location*v,m=k*v,p=this.te_12.align,u=f?l+m/2:l-m/2;if(this.ae_21.boxStyle)m=this.ae_21.boxStyle,c=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyleStroke(m.stroke,m.outline,c.getExtent(),c.getExtent(),null),u=f?u+c.right:u-c.left;else if(this.ie$50()){c=this.te_12.font.getHeight();var q=m,h=new b.com_ibm_vis_geom_Dim(this.th_3-this.tz_2-this.sn_9-this.gz$17(),v*k),l=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(e.getContentClone(),
0,0,this.tg_1,this.tg_2,this.te_12.font,null,null,h,!1,null,null,this.cx_7.tx_1),r=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(this.tl_7))),t=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(this.tl_7)));l&&(c=Math.max(l.getHeight(),this.te_12.font.getHeight()),this.il$11()||(q=Math.min(h.hh_1*r/t,l.calculateTextWidth()*r)));this.io$6()?"start"==p?u=f?v-m:-q:"middle"==p?u=f?v-m/2:-q+m/2:"end"==p&&(u=f?v:-q+m):"start"==p?u=f?q-m+v:0:"middle"==p?u=f?q-m/2+v:m/2:"end"==
p&&(u=f?q+v:m);u+=f?c*r:-c*r;if(0==a&&0==e.location||a==this.tk_2.size()-1&&1==e.location)u=f?u+m/2:u-m/2}else"vertical"==this.mo_14?(c=this.th_3-this.tz_2-this.sn_9-this.gz$17()-this.te_12.getPadding().getHorizontal(),m=(u=this.te_12.makeSimpleLabel(e.getContentClone(),b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,c,m)))&&b.com_ibm_vis_engine_internal_scene_ItemBuilder.isMultiLineText(this.te_12.font,u,new b.com_ibm_vis_geom_Dim(c,m))?u.getHeight()+3:this.te_12.font.getHeight()+
3,p=this.te_12.valign):("stagger"==this.mo_14&&(m*=2),c=this.te_12.calculateLabelSize(e.getContent()).wt_2+this.te_12.getPadding().getHorizontal(),c<.75*m&&(m=c+3)),u=f?l+m:l-m,"middle"==p&&(u=f?l+m/2:l-m/2);f&&u>v&&(g=new b.com_ibm_vis_engine_internal_struct_Insets(d.top,d.left,d.bottom,u-v));f&&this.getScale().reverse&&(f=this.ce_37.tm_3)&&0<f.length&&f[0].isTranspose()&&1==this.ce_37.axes.length&&1==this.do_7&&(h=new b.com_ibm_vis_geom_Dim(this.th_3-this.tz_2-this.sn_9-this.gz$17(),v*k),l=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(e.getContentClone(),
0,0,this.tg_1,this.tg_2,this.te_12.font,null,null,h,!1,null,null,this.cx_7.tx_1),v=0,v="vertical"==this.mo_14?l.getBounds().hh_2/2:l.getBounds().wt_3/2,v>e.location&&(g=new b.com_ibm_vis_engine_internal_struct_Insets(d.top,v-e.location,d.bottom,d.right)));if(0==a&&0>u){v=-u;e=this.cx_7.getParentVis().getCurrentSpec().grammar.length;g=null;if(1<this.ce_37.axes.length||1<e)g=this.ce_37.getAxisForDimension(0);g&&(v=-u>g.th_3?Math.abs(-u-g.th_3):d.left);g=new b.com_ibm_vis_engine_internal_struct_Insets(d.top,
v,d.bottom,d.right)}}return g},mn$25:function(a){var d;if(this.ce_37.isStraightPolarGridLine()&&1==this.do_7)return d=b.com_ibm_vis_engine_internal_grammar_scale_Tick.getTicksLocation(this.ce_37.axes[1].tk_2,a,!1),this.makeStraightPolarGridLine(d,0,a,this.ae_21.lineStyle);if(0==this.do_7){d=this.dd_1?a.wt_2:0;var c=0,e=a.hh_1;this.cx_7.isGenerateAllTicks()&&(e*=this.gr_3.og_3.range,c=a.hh_1*this.gr_3.og_3.min);d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(d,c,d,e,this.ae_21.lineStyle)}else d=
0,c=this.dd_1?-a.hh_1:0,e=a.wt_2,this.cx_7.isGenerateAllTicks()&&(e*=this.gr_3.og_3.range,d=a.wt_2*this.gr_3.og_3.min),d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(d,c,e,c,this.ae_21.lineStyle);return this.ce_37.insideAxes?this.ce_37.modifyShape(d,a):d},me$47:function(a,d,c,e,g,k){var f=this.tk_2.get(a),v=this.te_12.calculateLabelSize(f.getContent()).hh_1;this.getScale().isCategorical()||(this.te_12.isCategorical=!1);if(this.ce_37.insideAxes)return this.mi$7(d,g,k,f,v);if(0!=this.do_7||
this.ce_37.transposesAxes())return this.mi$6(a,d,e);if(this.ic_4&&!this.ce_37.containsCluster()&&0==a)return null;g=this.th_3-this.gz$17();k=(1-f.location)*d.hh_1;c=this.ol_2?Math.max(v,d.hh_1*c):d.hh_1*c;var v=this.go$16(-this.tz_2,this.ae_21.markStyle,d),u=this.dd_1?d.wt_2+g+v[0]+this.sn_9:0,h=c/2;"start"==this.tg_2?h=0:"end"==this.tg_2&&(h=c);g=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(-g+this.oe_15+u,k-h,g+v[1]-this.sn_9,c);return(g=this.modifyShape(g,d,a,e))?this.te_12.makeSimpleLabel(f.getContentClone(),
g):null},getTickPosition:function(a,d,c){var e=new b.com_ibm_vis_geom_Point(0,0);this.isRadialYAxis()?(c=(1==this.ce_37.axes.length?this.ce_37.axes[0]:this.ce_37.axes[1]).tk_2.get(0),e.x=c.location*a.wt_2,e.y=(1-d.location)*a.hh_1):(e.x=d.location*a.wt_2,e.y=-this.tz_2-this.sn_9-c);return e},mi$6:function(a,d,c){var e=this.makeParallelSpanForTick(this.tk_2,a,d,c),g=this.go$16(this.tz_2,this.ae_21.markStyle,d),k=this.gz$17();0<k&&(k-=this.sn_9/2);var f=this.getMaxTickLabelSize(d),v=f.hh_1,u=this.tz_2+
this.sn_9,k=this.th_3-k,h=-g[0];this.dd_1&&(h=d.hh_1+u+k+2*this.oe_15-g[1]);"stagger"!=this.mo_14||this.ie$50()||(0<a%2?(u+=v,this.dd_1&&(h+=v)):(k-=v,this.dd_1&&(h-=v)),g=this.te_12.align,e="start"==g?e.unionValue(e.max+e.range):"end"==g?e.unionValue(e.min-e.range):e.expand(e.range/2));v=e.min;this.ol_2?(f=Math.max(f.wt_2,Math.max(f.hh_1,k-u)),g=Math.max(e.range,f),v+=(e.range-g)/2):(f=k-u,g=e.range);if(this.ce_37.transposesAxes()&&0<this.wl_2){var h=d.hh_1/d.wt_2,l=0;this.ae_21.markStyle&&null!=
this.ae_21.markStyle.align&&("middle"==this.ae_21.markStyle.align&&(l=-this.tz_2/2),"end"==this.ae_21.markStyle.align&&(l=-this.tz_2));"start"==this.tg_2?v-=g/2:"end"==this.tg_2&&(v+=g/2);u=d.hh_1+(u+this.oe_15+l)*h;this.dd_1&&(u=d.hh_1-(d.wt_2+k+this.oe_15+l)*h);u=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(v,u,g,f*h)}else u=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(e.min,u+this.oe_15-h,g,f),this.ie$50()&&!this.il$11()&&(k=b.com_ibm_vis_engine_internal_grammar_scale_Axis.gn$27(g,
f,this.tl_7),u.setWidth(k.wt_2),u.setHeight(k.hh_1));k=this.tk_2.get(a);if("vertical"!=this.mo_14||this.ie$50()){if(!this.modifyShape(u,d,a,c))return null;c=this.te_12.makeSimpleLabel(k.getContentClone(),u);u=u.getGeom();this.ie$50()&&c&&(c=this.me$48(c,a,d,u,e.range));3.141592653589793!=this.tl_7&&-3.141592653589793!=this.tl_7||!c||(a=c.getHeight(),"start"==this.tg_2?c.updateTransform(b.com_ibm_vis_engine_internal_Affine.makeTransform(0,a)):"end"==this.tg_2&&c.updateTransform(b.com_ibm_vis_engine_internal_Affine.makeTransform(0,
-a)))}else{u.setY(-u.getY());u=this.mo$14(a,d,c,u);if(!u)return null;c=this.te_12.makeSimpleRotatedLabel(k.getContentClone(),u)}return c},me$48:function(a,d,c,e,g){var k=this.tk_2.get(d);if(g=b.com_ibm_vis_engine_internal_grammar_scale_Axis.reduceBoundsForOverlappingLabels(a,e,this.tl_7,g))k=k.getContentClone(),k.removeTransform(),g=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(g.x,g.y,g.wt_3,g.hh_2),a=this.te_12.makeSimpleLabel(k,g);a&&this.oe$3(a,d,c,e);return a},oe$3:function(a,
d,c,e){var g=0,k=0,f=this.tz_2+this.sn_9+this.te_12.getPadding().top,v=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(this.tl_7)),u=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(this.tl_7)),h=a.calculateTextWidth(),l=this.tk_2.get(d);d=l.getAdjacentTickSpace(d,this.tk_2)*c.wt_2;if(0<this.tl_7||0>this.tl_7&&this.dd_1)"start"==this.tg_1?k=-a.getPoint().y+f:"middle"==this.tg_1?(g=-a.getPoint().x+h*v/2+l.location*c.wt_2,k=-a.getPoint().y+h/2*u+f):"end"==this.tg_1&&(g=-a.getPoint().x+
h*v+l.location*c.wt_2+d/2,k=-a.getPoint().y+h*u+f);else if(0>this.tl_7||0<this.tl_7&&this.dd_1)"start"==this.tg_1?(g=-a.getPoint().x-h*v+l.location*c.wt_2-d/2,k=-a.getPoint().y-h*u+f):"middle"==this.tg_1?(g=-a.getPoint().x-h*v/2+l.location*c.wt_2,k=-a.getPoint().y-h/2*u+f):"end"==this.tg_1&&(g=-a.getPoint().x+l.location*c.wt_2+d/2,k=-a.getPoint().y+f);1<a.getNumLines()&&(l=this.ge$45(a),g+=l[0],k+=l[1]);if(this.dd_1){if(k-=c.hh_1+2*f,0<this.tl_7&&3.141592653589793>this.tl_7||-3.141592653589793>this.tl_7&&
-6.283185307179586<this.tl_7)k-=h*u,g-=h*v}else 3.141592653589793<this.tl_7&&6.283185307179586>this.tl_7?(k-=h*u,g-=h*v):-3.141592653589793>this.tl_7&&-6.283185307179586<this.tl_7&&(k+=h*u,g+=h*v);this.il$11()&&(c=this.te_12.getOffsetForLabelAngle(a,this.tl_7,this.te_12.getLocation(),this.te_12.align,this.te_12.valign,this.getRotatedTickLabelSize(new b.com_ibm_vis_geom_Dim(e.wt_3,e.hh_2))),g-=c.x,k-=c.y);0==g&&0==k||a.updateTransform(b.com_ibm_vis_engine_internal_Affine.makeTransform(g,k))},ge$45:function(a){var d=
a.le_36.get(0).getHeight(),c=a.le_36.get(a.getNumLines()-1).getHeight(),e=0,g=0,k=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(this.tl_7))),f=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(this.tl_7)));a=a.getHeight();var v=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),u=this.tg_2;"end"==this.tg_2&&this.dd_1?u="start":"start"==this.tg_2&&this.dd_1&&(u="end");if("end"==u)if(0>this.tl_7&&-1.5707963267948966<this.tl_7||4.71238898038469<this.tl_7&&6.283185307179586>
this.tl_7)g+=a*k,e+=(a-d)*f;else{if(-4.71238898038469>this.tl_7&&-6.283185307179586<this.tl_7||0<this.tl_7&&1.5707963267948966>this.tl_7)g+=a*k,e-=(a-d)*f}else if("middle"==u)if(g+=a*k/2,0>this.tl_7&&-1.5707963267948966<this.tl_7||4.71238898038469<this.tl_7&&6.283185307179586>this.tl_7)e+=(a-d)*f/2;else if(-4.71238898038469>this.tl_7&&-6.283185307179586<this.tl_7||0<this.tl_7&&1.5707963267948966>this.tl_7)e-=(a-d)*f/2;else if(-3.141592653589793>this.tl_7&&-4.71238898038469<this.tl_7||1.5707963267948966<
this.tl_7&&3.141592653589793>this.tl_7)e+=(a-c)*f/2;else{if(-1.5707963267948966>this.tl_7&&-3.141592653589793<this.tl_7||3.141592653589793<this.tl_7&&4.71238898038469>this.tl_7)e-=(a-c)*f/2}else if("start"==u)if(1.5707963267948966<this.tl_7&&3.141592653589793>this.tl_7||-3.141592653589793>this.tl_7&&-4.71238898038469<this.tl_7)g+=a*k,e+=(a-c)*f;else if(3.141592653589793<this.tl_7&&4.71238898038469>this.tl_7||-1.5707963267948966>this.tl_7&&-3.141592653589793<this.tl_7)g+=a*k,e-=(a-c)*f;v[0]=this.dd_1?
-e:e;v[1]=this.dd_1?-g:g;return v},mo$14:function(a,d,c,e){var g=e.getCenter(),k=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(g.x,g.y,0,0),k=this.modifyShape(k,d,a,c);if(!k)return null;e.setX(e.getX()+(k.getX()-g.x));e.setY(e.getY()+(k.getY()-g.y));return e},ml$12:function(a){var d=this.gz$17();d>this.th_3-this.tz_2-this.sn_9&&(this.te_13.valign=this.dd_1?"start":"end",d=this.th_3-this.tz_2-this.sn_9,this.tz_3=0);if(this.ce_37.insideAxes||!this.te_13)return null;0==this.do_7?(a=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(-this.th_3-
this.oe_15+(this.dd_1?a.wt_2+2*this.th_3-d:0),0,d,a.hh_1),a=this.te_13.makeRotatedLabel(this.te_13.makeTextContent(this.ae_21.title,-1),a)):(a=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,this.th_3-d-(this.dd_1?a.hh_1+2*this.th_3-d:0),a.wt_2,d+2*this.oe_15),a=this.te_13.makeLabel(this.ae_21.title,a));a&&this.tz_3==this.tz_3&&(this.tz_3=a.getHeight());return a},mp$9:function(a,d,c,e,g){var k=this.ae_21.boxStyle,f;f=k?null:g?this.ae_21.minorStyle:this.ae_21.markStyle;g=g?this.mk_1:
this.tk_2;var v=g.get(a);if(this.ce_37.insideAxes)return k=v.location*d.wt_2,a=d.wt_2/4,c=2*(c+this.te_12.font.getHeight()),f=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(k-a/2,-c,a,c,f),this.ce_37.modifyShape(f,d);if(0!=this.do_7||this.ce_37.transposesAxes()){e=this.makeParallelSpanForTick(g,a,d,e);if(k)return this.mo$15(e,d,k);k=e.mid();if("between"==this.ae_21.method){if(0==a)return null;k=e.min}c=this.go$16(c,f,d);a=0==this.do_7?0:this.oe_15;d=this.dd_1?d.hh_1+2*this.oe_15:0;
return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(k,c[0]+a-d,k,c[1]+a-d,f)}if(this.ic_4&&!this.ce_37.containsCluster()&&a==this.tk_2.size()-1)return null;if(k)return e=this.makeParallelSpanForTick(g,a,d,e),this.mo$15(e,d,k);a=(1-v.location+e)*(this.pt_8&&0!=this.pt_8.length?d.hh_1/this.an_10:d.hh_1);c=this.go$16(-c,f,d);d=this.dd_1?d.wt_2:0;return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(c[0]+this.oe_15+d,a,c[1]+this.oe_15+d,a,f)},mo$15:function(a,d,c){var e=this.gz$17();
0<e&&(e-=this.sn_9/2);var g=this.th_3,g=this.th_3-e;if(0!=this.do_7||this.ce_37.transposesAxes())if(e=0,this.dd_1&&(e=d.hh_1+2*this.oe_15+this.th_3),this.ce_37.transposesAxes()){var k=d.hh_1/d.wt_2;this.dd_1&&(e=d.wt_2+2*this.oe_15+this.th_3);a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(a.min,d.hh_1+(this.oe_15-e)*k,a.range,g*k,c)}else a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(a.min,this.oe_15-e,a.range,g,c);else e=0,this.dd_1&&(e=d.wt_2+g),a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(-g+
e,a.min,g,a.range,c);c&&c.stroke&&null!=c.stroke.width||a.getStroke()||a.setStroke(b.com_ibm_vis_engine_internal_grammar_scale_Axis.DK_1);return a},makeParallelSpanForTick:function(a,d,c,e){var g=c.wt_2;if(this.pt_8&&0<this.pt_8.length)e=this.tf_2[e][d].pos.X()*c.wt_2,(a=this.ce_37.scales[this.pt_8[this.pt_8.length-1]].getTicks())&&(g=c.wt_2/a.size());else{c=0!=this.do_7||this.ce_37.transposesAxes()?c.wt_2:c.hh_1;var k=a.get(d);e=k.location*c;var f=a.size();1<f&&(g=0==d?1:Math.abs(k.location-a.get(d-
1).location),a=d==f-1?1:Math.abs(k.location-a.get(d+1).location),g=Math.min(g,a)*c)}"vertical"==this.mo_14&&200>this.gr_3.len&&(g+=4);return new b.com_ibm_vis_engine_internal_data_Range(e-g/2,e+g/2)},go$16:function(a,d,c){var e=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);d=d&&null!=d.align?d.align:"start";"start"==d&&(e[0]=this.dd_1?-a:0,e[1]=this.dd_1?0:a);"middle"==d&&(e[0]=-a/2,e[1]=a/2);"end"==d&&(e[0]=this.dd_1?0:-a,e[1]=this.dd_1?a:0);this.ce_37.transposesAxes()&&0<this.wl_2&&(a=c.hh_1/
c.wt_2,e[0]=c.hh_1+e[0]*a,e[1]=c.hh_1+e[1]*a);return e},ik$2:function(){var a=this.getAxisAlignedTo();if(a)a=a.tk_2,this.tk_2=this.getScale().getTicksForTicksLocation(a,this.sn_10);else if(this.sn_10&&0<this.sn_10.size()){this.pp_1=new b.com_ibm_rave_codegenerator_util_List;this.tk_2=new b.com_ibm_rave_codegenerator_util_List;a=this.getScale().getTicksForSpans(this.sn_10);this.tk_2.addAll(a.get(0));for(var d=1;d<a.size();++d){var c=a.get(d);0<c.size()&&0<this.tk_2.size()&&c.get(0).location==this.tk_2.get(this.tk_2.size()-
1).location?c.removeAt(0):this.pp_1.add(this.tk_2.size());this.tk_2.addAll(c)}}else this.pp_1=null,this.tk_2=this.getScale().getTicks();"percentage"==this.tA_1&&this.sg$3();this.if$1()},sg$3:function(){for(var a=this.getScale().getDataMaxValue(),d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.tk_2.arrayIterator(),g=e.length;c<g;++c){var k=e[c],k=new b.com_ibm_vis_engine_internal_grammar_scale_Tick(b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString(b.com_ibm_vis_engine_internal_util_MathUtil.r3(k.value/
a*100)+"%",this.cx_7.getMinimumFontSize()),k.location,k.value,k.getSpan());d.add(k)}this.tk_2=d},du$2:function(a,b){this.az$3(b);this.th_3=this.ch$3(a,b);var c=this.ae_21.visible?this.tz_2+this.sn_9+this.gz$17():0,e=0==this.do_7?a.wt_3-this.th_3:a.hh_2-this.th_3,g;g=this.ol_2?!0:this.hl$1(a,b)&&e>=this.getReservedChartSpace();1<this.wl_2&&!g&&1==this.do_7&&this.ce_37.containsCluster()&&(this.mo$16(a,b,e,this.wl_2-1),e=a.hh_2-this.th_3,g=this.ol_2?!0:this.hl$1(a,b)&&e>=this.getReservedChartSpace());
this.dl_5&&(this.dl_5=g);this.dl_5||(this.th_3=c,e=0==this.do_7?a.wt_3-c:a.hh_2-c);this.th_3=Math.ceil(this.th_3);this.ce_37.containsCluster()&&(e<b/3&&this.rz$3(a,b),this.ce$29())},hl$1:function(a,b){var c=!0;if(this.te_12){var e=a.hh_2*a.wt_3/b;2*(this.te_12.font.getHeight()+this.te_12.getPadding().getVertical())>e&&(c=!1)}return c},ch$3:function(a,d){this.mh_4=new b.com_ibm_vis_geom_Dim(0,0);var c=0,e=0,g=this.tz_2+this.sn_9;if(b.com_ibm_vis_engine_internal_grammar_scale_Axis.ie$52(this.ae_21.tickStyle,
!0))var k=this.getMaxTickLabelSize(a.getExtent()),c=k.wt_2+3,e=k.hh_1;k=!0;0==this.do_7?(this.mo_14="horizontal",g+=c,k=!1):1==this.do_7&&(this.ie$50()?(c=this.getRotatedTickLabelSize(new b.com_ibm_vis_geom_Dim(c,e)),g+=c.hh_1,this.te_12.valign=null==this.tg_2?"middle":this.tg_2,this.tg_2=this.te_12.valign,this.te_12.align=null==this.tg_1?"middle":this.tg_1,this.tg_1=this.te_12.align):"vertical"==this.mo_14?(g+=c,this.te_12.valign=null==this.tg_1?"middle":this.tg_1,this.te_12.align=this.dd_1?"start":
"end",k=!1):g="stagger"==this.mo_14?g+2*e:g+e);g=k?g+Math.max(0,this.te_12.getPadding().getVertical()):g+Math.max(0,this.te_12.getPadding().getHorizontal());g+=this.gz$17();c=this.ae_21.preferredSize;!c||null==this.ae_21.preferredSize.min&&null==c.max&&null==c.preferred?g>d/3&&200<d?g=d/3:g>d/2&&1==this.do_7?g=d/2:g>2*d/3&&0==this.do_7&&(g=2*d/3):g=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getPreferredSize(c,g,"stagger"==this.mo_14||"horizontal"==this.mo_14,d);return g},az$3:function(a){if(this.ae_21.markStyle&&
null!=this.ae_21.markStyle.size&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.ae_21.markStyle.size)){var d=this.ae_21.markStyle.size;d.CPVISEngineEndsWith("%%")&&(this.tz_2=this.getTickMarkSize(this.ae_21,this.te_12.font.getHeight(),a))}this.ae_21.minorStyle&&null!=this.ae_21.minorStyle.size&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.ae_21.minorStyle.size)&&(d=this.ae_21.minorStyle.size,d.CPVISEngineEndsWith("%%")&&(this.mz_11=b.com_ibm_vis_engine_internal_grammar_scale_Axis.getMinorTickMarkSize(this.ae_21,
this.te_12.font.getHeight(),this.tz_2,a)))},ce$29:function(){for(var a=this.oe_15=0,b=this.ce_37.axes,c=b.length;a<c;++a){var e=b[a];e.wl_2>this.wl_2&&e.do_7==this.do_7&&this.dd_1==e.dd_1&&(this.oe_15+=e.th_3)}},dt$7:function(){var a=0;if(2<this.ce_37.scales.length){for(var d=1;d<this.ce_37.scales.length;++d)d<this.wl_2&&a++;this.pt_8=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);for(d=1;d<this.ce_37.scales.length;++d)d<this.wl_2&&(this.pt_8[--a]=d)}},mo$16:function(a,d,c,e){if(1>e)return a;
for(var g=new b.com_ibm_rave_codegenerator_util_List,k=0,f=this.ce_37.axes,v=f.length;k<v;++k){var u=f[k];u.wl_2<this.wl_2&&u.dd_1==this.dd_1&&u.do_7==this.do_7&&g.add(u)}if(0==g.size()||this.hl$1(a,d)&&c>=this.getReservedChartSpace())return a;a.hh_2=d;c=0;g=g.arrayIterator();for(k=g.length;c<k;++c)u=g[c],u.wl_2==e?(f=(f=u.ae_21)&&null!=f.method?f.method:"auto","auto"!=f&&"between"!=f||"vertical"!=u.mo_14||(u.mo_14="horizontal",u.te_12.align="middle",u.ik$2(),u.th_3=u.ch$3(a,d),u.modifyInnerCellSize(a,
!1))):u.modifyInnerCellSize(a,!1);this.th_3=this.ch$3(a,d);return this.mo$16(a,d,a.hh_2-this.th_3,e-1)},rz$3:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;c.add(this);for(var e=0,g=this.ce_37.axes,k=g.length;e<k;++e){var f=g[e];f.wl_2<this.wl_2&&f.do_7==this.do_7&&c.add(f)}0==this.do_7?(a.x=0,a.wt_3=d):a.hh_2=d;for(var e=2*d/3,g=c.size(),k=new b.com_ibm_rave_codegenerator_util_List,v=0,c=c.arrayIterator(),u=c.length;v<u;++v)f=c[v],f.th_3<=e/g?(f!=this&&f.modifyInnerCellSize(a,!1),
e-=f.th_3,g--):k.add(f);g=k.size();c=0;k=k.arrayIterator();for(v=k.length;c<v;++c)f=k[c],f.th_3=Math.floor(e/g),f!=this&&f.modifyInnerCellSize(a,!1)},getMaxTickLabelSize:function(a){if(b.com_ibm_vis_engine_internal_grammar_scale_Scale.hasSize(this.mh_4))return this.mh_4;for(var d=0,c=0,e=0;e<this.tk_2.size();++e)var g=this.getTickLabelSize(e,a),d=Math.max(d,g.wt_2),c=Math.max(c,g.hh_1);return this.mh_4=new b.com_ibm_vis_geom_Dim(d,c)},getTickLabelSize:function(a,d){var c=this.tk_2.get(a),e=new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,
1.7976931348623157E308);"horizontal"==this.mo_14&&1==this.do_7&&(e.wt_2=this.makeParallelSpanForTick(this.tk_2,a,d,0).range);return this.te_12.calculateConstrainedLabelSize(c.getContentClone(),e)},getRotatedTickLabelSize:function(a){return b.com_ibm_vis_engine_internal_grammar_scale_Axis.gz$16(a,this.tl_7,this.te_12.getPadding())},gz$17:function(){if(this.ce_37.insideAxes||!this.ae_21.title)return 0;if(this.tz_3==this.tz_3)return this.tz_3;var a=this.sn_9;this.te_13&&this.te_13.font&&(a=this.te_13.makeTextContent(this.ae_21.title,
-1),a=this.te_13.calculateLabelSize(a).hh_1+this.te_13.getPadding().bottom+this.te_13.getPadding().top+this.sn_9);return a},giveSizeInfoToScale:function(){var a=this.getScale().getMaxTickLabelSize(this.te_12.font);this.so$3(a)},so$3:function(a){if("percentage"==this.tA_1){var d=Math.ceil(this.getScale().getDataMaxValue())+".000%",d=b.com_ibm_vis_engine_internal_struct_Text.createTextWithUnshapedValue(d,0,0,this.te_12.align,this.te_12.valign,this.te_12.font,this.te_12.style,null,null,this.te_12.shapingInfo,
null,this.cx_7.tx_1);a.wt_2=this.te_12.font.getWidth(d)}a.hh_1=Math.max(a.hh_1,this.te_12.font.getHeight());var c=(a.wt_2+this.te_12.getPadding().getHorizontal())/2,e=a.wt_2+this.te_12.getPadding().getHorizontal(),d=a.hh_1+this.te_12.getPadding().getVertical();this.ie$50()?(a=this.getRotatedTickLabelSize(a).wt_2,a=0==a?d:Math.min(d,a),this.gr_3.ticksNoSmallerThan(a+.5)):"vertical"==this.mo_14?this.gr_3.ticksNoSmallerThan(d+.5):"stagger"==this.mo_14?this.gr_3.ticksNoSmallerThan(c+.5):"horizontal"==
this.mo_14||this.il$10()?(a=0==e?d:Math.min(d,e),this.gr_3.ticksNoSmallerThan(a+.5)):this.gr_3.isYAxis?this.gr_3.ticksNoSmallerThan(d+.5):this.gr_3.ticksNoSmallerThan(Math.min(d,c)+.5)},ro$2:function(a){if(!this.ce_37.insideAxes||!this.ce_37.containsPolar()){var d=a.wt_2,c=this.getScale(),e=0,e=this.getAxisAlignedTo(),e=1<this.wl_2?e?e.gi$4(e.wl_2):this.gi$4(this.wl_2):e?c.computeTickCountForExtent(e.gr_3):c.computeTickCountForExtent(this.gr_3),d=this.ce_37.getAvailableWidth(d,e),c=c.getMaxTickLabelSize(this.te_12.font),
g=c.wt_2+this.te_12.getPadding().getHorizontal(),c=c.hh_1+this.te_12.getPadding().getVertical();if(0>=e||d/e>=g||this.il$10())this.mo_14="horizontal";else if(2<e&&2*(d/e-.5)>=g)this.mo_14=!this.ae_21.boxStyle&&100<a.hh_1?"stagger":"vertical";else if(this.tl_7!=this.tl_7&&this.ie$51()){var k=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(-.7853981633974483))),f=b.com_ibm_vis_engine_internal_Affine.makeRotation(-.7853981633974483,0,0),g=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(new b.com_ibm_vis_geom_Rect(0,
0,g,c),f);a=200>a.hh_1?a.hh_1/2:a.hh_1/3;a=a-this.tz_2-this.sn_9-this.gz$17();g.hh_2>=a||e*c>d||g.wt_3>d||c>(1<e?d/e:d)*k?this.mo_14="vertical":(this.te_12.angle=-45,this.tl_7=-.7853981633974483)}else this.mo_14="vertical"}},gi$4:function(a){for(var b=this.ce_37.scales,c=1,e=1;e<=a&&e<b.length;++e)c*=b[e].computeTickCountForExtent(this.gr_3);return c},getHierarchicalFieldIDs:function(){if(!this.pt_8)return[this.ce_37.coordinateFieldIDs[this.wl_2]];for(var a=Array(this.pt_8.length+1),b=0;b<=this.pt_8.length;++b)a[b]=
this.ce_37.coordinateFieldIDs[b+1];return a},getReservedChartSpace:function(){return this.ie$53()?0:40},ie$53:function(){var a=this.ae_21.preferredSize;return a?null!=a.min||null!=a.preferred:!1},getOffset:function(){return this.oe_15},getAxisAlignedTo:function(){if(this.ai_3&&1<this.ce_37.axes.length)for(var a=0,b=this.ce_37.axes,c=b.length;a<c;++a){var e=b[a];if(!e.ai_3&&e.wl_2==this.wl_2)return e}return null},getPreferredSize:function(){var a=0,d=0,d=this.gz$18();this.tk_2||(a=new b.com_ibm_vis_geom_Rect(0,
0,1E3,1E3),this.initializeForBounds(a),this.adjustLayout(a,a));0==this.do_7?(a=this.th_3+d.wt_2,d=Math.max(0==d.hh_1?0:d.hh_1+2,this.gr_3.len)):(a=Math.max(0==d.wt_2?0:d.wt_2+2,this.gr_3.len),d=this.th_3+d.hh_1);return new b.com_ibm_vis_geom_Dim(a,d)},gz$18:function(){var a=0,d=0;if(this.te_13&&this.te_13.font){var a=this.te_13.makeTextContent(this.ae_21.title,-1),c=this.te_13.calculateLabelSize(a),a=c.hh_1,d=c.wt_2;0==this.do_7?(c=a,a=d,d=c+this.te_13.getPadding().bottom+this.te_13.getPadding().top+
this.sn_9):this.ae_21.titleStyle&&null!=this.ae_21.titleStyle.angle?(d=b.com_ibm_vis_engine_internal_grammar_scale_Axis.gz$16(c,this.ae_21.titleStyle.angle,this.te_13.getPadding()),a=d.hh_1,d=d.wt_2):a+=this.te_13.getPadding().bottom+this.te_13.getPadding().top+this.sn_9}return new b.com_ibm_vis_geom_Dim(d,a)},estimateTickSize:function(a){var d=this.ae_21.tickStyle;if(d){var c=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(d.padding,new b.com_ibm_vis_geom_Dim(0,0),new b.com_ibm_vis_geom_Dim(0,
0));a=a?c.getHorizontal():c.getVertical();return d.font&&null!=d.font.size?a+b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.font.size,12,12):a+12}return 20},reset:function(){this.dl_5=!this.ae_21.tickStyle||!b.com_ibm_vis_engine_internal_grammar_scale_Axis.isEmpty(this.ae_21.tickStyle);this.mo_14=null==this.ae_21.method?"auto":this.ae_21.method},isRadialXAxis:function(){return this.ce_37.containsPolar()&&1==this.do_7&&2==this.ce_37.scales.length},mi$7:function(a,b,c,e,g){g=
this.getTickPosition(a,e,g);return(b="vertical"==this.mo_14?this.mi$10(a,b,c,e,g):"horizontal"==this.mo_14?this.mi$9(a,b,c,e,g):this.mi$8(a,c,e,g))?this.ce_37.modifyShape(b,a):null},mi$8:function(a,d,c,e){a=new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1);c=c.makeText(e,"middle","middle",this.te_12.font,this.te_12.clipSymbol,this.te_12.shapingInfo,this.ae_21.tickStyle,a,!0,this.cx_7.tx_1);if(!c)return null;c.tickLabelOrientation="auto";return c},mi$9:function(a,d,c,e,g){a=new b.com_ibm_vis_geom_Dim(a.wt_2,
a.hh_1);this.isRadialXAxis()&&c&&(d=6.283185307179586*d/this.tk_2.size(),a.wt_2=d);e=e.makeText(g,"middle","middle",this.te_12.font,this.te_12.clipSymbol,this.te_12.shapingInfo,this.ae_21.tickStyle,a,!0,this.cx_7.tx_1);if(!e)return null;e.tickLabelOrientation="horizontal";return e},mi$10:function(a,d,c,e,g){var k=new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1);if(this.isRadialXAxis()&&c){var f=this.ce_37.getPolarTransform(),v=new b.com_ibm_vis_geom_Point(g.x,g.y),f=f.transformPointShape(new b.com_ibm_vis_geom_Point(v.x,
v.y),a);a=b.com_ibm_vis_engine_internal_grammar_scale_Axis.calculateInsideXAxisVerticalLabelWidth(c,f,a);d=6.283185307179586*d/this.tk_2.size();k.wt_2=a;k.hh_1=d}e=e.makeText(g,"end","middle",this.te_12.font,this.te_12.clipSymbol,this.te_12.shapingInfo,this.ae_21.tickStyle,k,!0,this.cx_7.tx_1);if(!e)return null;e.vertical=!0;e.tickLabelOrientation="vertical";return e},relayoutForNewOutRange:function(){1<this.an_10&&this.getScale().setDrawnMultiple(!0);this.getScale().initializeForDisplayableExtent(this.gr_3);
this.ik$2()}});b.com_ibm_vis_engine_internal_grammar_scale_Axis.isEmpty=function(a){return null==a.align&&!a.font&&null==a.fill&&null==a.outline&&!a.effect&&!a.image&&null==a.location&&!a.stroke&&null==a.padding&&null==a.valign&&null==a.width&&null==a.height&&null==a.size&&null==a.angle&&null==a.snap};b.com_ibm_vis_engine_internal_grammar_scale_Axis.getMinorTickMarkSize=function(a,d,c,e){return 0==c?d/6:a.minorStyle&&null!=a.minorStyle.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.minorStyle.size,
c/2,e):c/2};b.com_ibm_vis_engine_internal_grammar_scale_Axis.ie$52=function(a,d){return a?b.com_ibm_vis_engine_internal_grammar_scale_Axis.isEmpty(a)?!1:!0:d};b.com_ibm_vis_engine_internal_grammar_scale_Axis.reduceBoundsForOverlappingLabels=function(a,d,c,e){var g=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(c))),k=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(c))),f=a.getHeight();a=a.calculateTextWidth();if(e*g<f&&e*k<a){a=new b.com_ibm_vis_geom_Rect(d.x,d.y,
a,f);var v=!1;e*g/f>e*g/f?(a.wt_3=e*k*.8,v=!0):a.hh_2=e*g*.9;a.wt_3*g+a.hh_2*k>d.hh_2&&(v?a.hh_2=(d.hh_2-a.wt_3*g)/k:a.wt_3=(d.hh_2-a.hh_2*k)/g);d=b.com_ibm_vis_engine_internal_Affine.makeRotation(c,0,0);d=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(new b.com_ibm_vis_geom_Rect(0,0,1,1),d);a.wt_3/=d.wt_3;a.hh_2/=d.hh_2;return a}return null};b.com_ibm_vis_engine_internal_grammar_scale_Axis.gz$16=function(a,d,c){d=b.com_ibm_vis_engine_internal_Affine.makeRotation(d,0,0);a=new b.com_ibm_vis_geom_Rect(0,
0,a.wt_2+c.getHorizontal(),a.hh_1+c.getVertical());a=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(a,d);return new b.com_ibm_vis_geom_Dim(a.wt_3,a.hh_2)};b.com_ibm_vis_engine_internal_grammar_scale_Axis.calculateInsideXAxisVerticalLabelWidth=function(a,d,c){var e=d.x,g=d.y,k=a.y,f=a.x;if(e==f)return g>k?c.hh_1-g:Math.abs(g);var k=(g-k)/(e-f),f=e>f?c.wt_2:0,v=k*(f-e)+g;v>c.hh_1?(v=c.hh_1-(c.hh_1/2-a.y)-5,f=(v-g)/k+e):0>v&&(v=0,f=(v-g)/k+e);return(new b.com_ibm_vis_geom_Point(f,v)).distance(d)};
b.com_ibm_vis_engine_internal_grammar_scale_Axis.gn$27=function(a,d,c){var e=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(c)));c=Math.abs(b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(c)));return new b.com_ibm_vis_geom_Dim(d*e+a*c,d*c+a*e)};b.com_ibm_vis_engine_internal_grammar_scale_Axis.AXIS_TITLE_SUFFIX="Title";b.com_ibm_vis_engine_internal_grammar_scale_Axis.ME_4=40;b.com_ibm_vis_engine_internal_grammar_scale_Axis.TA_7=.5;b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_LABEL_TO_MARK_SIZE_RATIO=
3;b.com_ibm_vis_engine_internal_grammar_scale_Axis.AXIS_PREFERRED_SIZE_EXTRA=2;b.com_ibm_vis_engine_internal_grammar_scale_Axis.TN_7=3;b.com_ibm_vis_engine_internal_grammar_scale_Axis.PERCENTAGE_SYMBOL="%";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_METHOD_VERTICAL="vertical";b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_METHOD_HORIZONTAL="horizontal";b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_METHOD_STAGGER="stagger";b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_METHOD_BETWEEN=
"between";b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_METHOD_AUTO="auto";b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_AS_NORMAL="normal";b.com_ibm_vis_engine_internal_grammar_scale_Axis.TICK_AS_PERCENTAGE="percentage";b.com_ibm_vis_engine_internal_grammar_scale_Axis.DK_1=new b.com_ibm_vis_engine_internal_Stroke(1.5,null,null,null,b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor())});b.com_ibm_vis_engine_internal_grammar_scale_NestedTickInfo=b.com_ibm_init_declare({constructor:function(a,
d,c){this.pos=b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple(d);this.pos.index=c;this.coords=a},getCoords:function(){if(1==this.coords.length)return b.com_ibm_vis_engine_internal_util_MathUtil.s4(this.coords[0]);for(var a=""+b.com_ibm_vis_engine_internal_util_MathUtil.s4(this.coords[0]),d=1;d<this.coords.length;++d)a+=";"+b.com_ibm_vis_engine_internal_util_MathUtil.s4(this.coords[d]);return a}});b.com_ibm_vis_engine_internal_grammar_coordinate_Position=b.com_ibm_init_declare({constructor:function(){this.sz_2=
Array(2);(function(a,d,c){this.base=Array(a);this.fields=Array(a);this.span=Array(a);this.extra=0<d?Array(d):null;this.facet=0<c?Array(c):null;this.index=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);this.valueIsPercentage=b.com_ibm_rave_codegenerator_lang_Array.create([a],!1)}).apply(this,arguments)},get:function(a){return this.base[a]},X:function(){return this.base[1]},Y:function(){return this.base[0]},X2:function(){return this.extra[1]},Y2:function(){return this.extra[0]},length:function(){return this.base.length},
hasX2:function(){return this.extra&&1<this.extra.length},hasY2:function(){return this.extra},XYUndefined:function(){return 0<this.base.length&&null==this.base[0]||1<this.base.length&&null==this.base[1]||this.hasY2()&&null==this.extra[0]||this.hasX2()&&null==this.extra[1]},XPositionCoordinateUndefined:function(){return 1<this.base.length&&null==this.base[1]},setFacet:function(a){for(var d=this.extra?this.extra.length:0,c=new b.com_ibm_vis_engine_internal_grammar_coordinate_Position(this.base.length,
d,a.length),e=0;e<this.base.length;++e)c.base[e]=this.base[e];for(e=0;e<d;++e)c.extra[e]=this.extra[e];for(e=0;e<a.length;++e)c.facet[e]=a[e];return c},getYOrigin:function(a){return a.getSpanOrigin(this.index[0],this.fields[0]?this.fields[0].unit:null,this.span?this.span[0]:null)},containsUndefinedXValues:function(){for(var a=1;a<this.base.length;++a)if(null==this.base[a])return!0;return!1},setSpan:function(a,b){this.span[a]=b},getSuggestedSize:function(){return this.sz_2},updateSuggestedSize:function(a,
b,c,e){null!=c&&(a=a.getMatchingSpan(c,b))&&(c=a.getSuggestedSize(c),null!=c&&(this.sz_2[e]=c))}});b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple=function(a){for(var d=new b.com_ibm_vis_engine_internal_grammar_coordinate_Position(a.length,0,0),c=0;c<a.length;++c)d.base[c]=a[c],d.index[c]=c;return d};b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeComplex=function(a){for(var d=new b.com_ibm_vis_engine_internal_grammar_coordinate_Position(a.length,a.length,0),c=0;c<
a.length;++c)d.base[c]=a[c][0],d.extra[c]=a[c][1];return d};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_coordinate_Position.NO_COORDS=new b.com_ibm_vis_engine_internal_grammar_coordinate_Position(0,0,0)});b.com_ibm_vis_engine_internal_grammar_scale_GridShapeBuilder=b.com_ibm_init_declare({drawPosition:0,axisDrawCount:0,constructor:function(a,b,c){this.coordinates=a;this.coordinateExtent=b;this.axis=c;this.drawPosition=c.do_7;this.axisDrawCount=this.axis.an_10;this.axisSpec=
this.axis.ae_21},makeSceneItemId:function(a,b){var c=1<this.axisDrawCount?a+"_"+b:""+b;return this.getShapeIdentifier()+c}});b.com_ibm_vis_engine_internal_grammar_scale_GridLineBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_GridShapeBuilder,{makeGridShapes:function(a,b){for(var c=this.axis.tk_2,e=0;e<this.axisDrawCount;++e)for(var g=0;g<c.size();++g){var k=this.me$49(c,g,e,this.axisSpec.method);k&&this.an$9(a,b,e,g,k)}},makeGridLinesForBands:function(){for(var a=new b.com_ibm_rave_codegenerator_util_LinkedMap,
d=0;d<this.axisDrawCount;++d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=b.com_ibm_vis_engine_internal_grammar_scale_GridLineBuilder.ck$2(this.axis.tk_2),g=0;g<e.size();++g){var k=this.me$49(e,g,d,this.axisSpec.method);if(k){var f=this.makeSceneItemId(d,g),v=null,v=e.get(g).getSpan(),k=new b.com_ibm_vis_engine_internal_grammar_scale_GridShape(g,d,k,v,f);c.add(k)}}this.dn$5(e,this.axisSpec.method)&&(this.mn$26(e,this.axisSpec.method),this.mc$8(d,c,e,e.size()-1,!1));this.di$3(e,this.axisSpec.method)&&
(this.mi$11(e,this.axisSpec.method),this.mc$8(d,c,e,e.size()-1,!0));a.put(d,c)}return a},mc$8:function(a,d,c,e,g){var k=this.me$49(c,e,a,null);if(k){var f=this.makeSceneItemId(a,e),v=null,v=c.get(c.size()-1).getSpan();a=new b.com_ibm_vis_engine_internal_grammar_scale_GridShape(e,a,k,v,f);g?d.add(0,a):d.add(a)}},di$3:function(a,d){if(this.coordinates.containsCluster())return!1;var c=!1;if("between"==d)c=!0;else if(!b.com_ibm_vis_engine_internal_grammar_scale_Tick.isZeroth(0,a.get(0))||this.sp$5(0,
a,d))c=!0,this.coordinates.insideAxes&&(c=0==this.drawPosition?!0:!1);return c},mi$11:function(a,d){var c;c=this.coordinates.containsTranspose()&&"between"==d&&0==this.drawPosition?new b.com_ibm_vis_engine_internal_grammar_scale_Tick(null,1,0,a.get(0).getSpan()):new b.com_ibm_vis_engine_internal_grammar_scale_Tick(null,0,0,a.get(0).getSpan());a.add(c);return c},dn$5:function(a,b){if(this.coordinates.containsCluster())return!1;var c=!1;if("between"==b)c=!0;else{var e=a.size()-1,g=0==this.drawPosition;
a.get(e).isTickAtExtent(g,this.coordinateExtent)||(c=!0)}return c},mn$26:function(a,d){var c;c=this.coordinates.insideAxes&&1==this.drawPosition?a.get(0):this.coordinates.containsTranspose()&&"between"==d&&0==this.drawPosition?new b.com_ibm_vis_engine_internal_grammar_scale_Tick(null,0,0,a.get(a.size()-1).getSpan()):new b.com_ibm_vis_engine_internal_grammar_scale_Tick(null,1,0,a.get(a.size()-1).getSpan());a.add(c);return c},getShapeIdentifier:function(){return"G"},me$49:function(a,d,c,e){if(this.sp$5(d,
a,e)||0>=this.coordinateExtent.wt_2||0>=this.coordinateExtent.hh_1)return null;var g=a.get(d);if(this.coordinates.insideAxes)return this.me$50(g);if(this.ii$4())return this.mi$12(a,d,c);if(0==this.drawPosition)return this.coordinates.containsTranspose()&&"between"==e?(a=this.axis.makeParallelSpanForTick(a,d,this.coordinateExtent,c),e=1-a.min/this.coordinateExtent.wt_2):e=g.location,e=(1-e)*this.coordinateExtent.hh_1,b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(0,e,this.coordinateExtent.wt_2,
e,this.axisSpec.gridStyle);a=this.axis.makeParallelSpanForTick(a,d,this.coordinateExtent,c);e="between"==e?a.min:g.location*this.coordinateExtent.wt_2;return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(e,0,e,-this.coordinateExtent.hh_1,this.axisSpec.gridStyle)},ii$4:function(){return this.coordinates.containsCluster()&&(1==this.drawPosition||0==this.drawPosition&&this.coordinates.containsTranspose())},an$9:function(a,b,c,e,g){var k=this.makeSceneItemId(c,e);g.setID(a+k);this.axis.addInfo(g,
e,c);b.addChild(g.createSceneNode())},sp$5:function(a,d,c){d=d.get(a);return b.com_ibm_vis_engine_internal_grammar_scale_Tick.isZeroth(a,d)?this.coordinates.isValidRadar()&&1==this.drawPosition?!1:!0:"between"==c&&0==a?!0:!1},me$50:function(a){var d;if(this.in$9())return d=b.com_ibm_vis_engine_internal_grammar_scale_Tick.getTicksLocation(this.coordinates.axes[1].tk_2,this.coordinateExtent,!1),a=a.getLocationMappedToExtent(this.coordinateExtent,!0),this.axis.makeStraightPolarGridLine(d,a,this.coordinateExtent,
this.axisSpec.gridStyle);this.axis.isRadialYAxis()?(d=a.getLocationMappedToExtent(this.coordinateExtent,!0),d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(0,d,this.coordinateExtent.wt_2,d,this.axisSpec.gridStyle)):(d=a.getLocationMappedToExtent(this.coordinateExtent,!1),d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(d,0,d,this.coordinateExtent.hh_1,this.axisSpec.gridStyle));return d?this.coordinates.modifyShape(d,this.coordinateExtent):null},in$9:function(){return this.coordinates.isStraightPolarGridLine()&&
0==this.drawPosition},mi$12:function(a,d,c){a=this.axis.makeParallelSpanForTick(a,d,this.coordinateExtent,c).mid();a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(a,0,a,0==this.drawPosition?this.coordinateExtent.hh_1:-this.coordinateExtent.hh_1,this.axisSpec.gridStyle);return this.axis.modifyShape(a,this.coordinateExtent,d,c)}});b.com_ibm_vis_engine_internal_grammar_scale_GridLineBuilder.ck$2=function(a){var d=new b.com_ibm_rave_codegenerator_util_List;d.addAll(a);return d};b.com_ibm_vis_engine_internal_grammar_scale_GridLineBuilder.GE_2=
"G";b.com_ibm_vis_engine_internal_grammar_scale_GridShape=b.com_ibm_init_declare({tickIndex:0,axisDrawIndex:0,constructor:function(a,b,c,e,g){this.tickIndex=a;this.axisDrawIndex=b;this.shape=c;this.scaleSpan=e;this.sceneId=g}});b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_scale_GridShapeBuilder,{makeGridShapes:function(a,d){var c=(new b.com_ibm_vis_engine_internal_grammar_scale_GridLineBuilder(this.coordinates,this.coordinateExtent,
this.axis)).makeGridLinesForBands();this.makeGridBands(c,a,d)},makeGridBands:function(a,b,c){for(var e=0,g=0;g<this.axisDrawCount;++g){var k=a.get(g);if(k&&1<k.size())for(var f=0;f<k.size()-1;++f){var v=k.get(f),u=k.get(f+1),h=v.shape,l=u.shape;v.scaleSpan==u.scaleSpan&&(v=this.makeBandBetween(h,l,this.ge$46(e)))&&(u=this.makeSceneItemId(g,e++),v.setID(b+u),c.addChild(v.createSceneNode()))}}},getShapeIdentifier:function(){return"B"},makeBandBetween:function(a,d,c){return this.isWedgeBandsRequired()?
this.md$4(a,d,c):b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder.md$3(a,d,c)},md$4:function(a,d,c){if(0==this.drawPosition){if(1006==a.getGeom().type()&&1006==d.getGeom().type()){var e=a.getGeom();d=d.getGeom();var g=new b.com_ibm_vis_geom_Point(e.getOrigin().x,e.getOrigin().y),k=new b.com_ibm_vis_geom_Point(d.getOrigin().x,d.getOrigin().y);if(g.equals(k))return k=Math.min(e.getR2(),d.getR2()),e=Math.max(e.getR2(),d.getR2()),g=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(g.x,
g.y,k,e,0,6.283185307179586),b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(g,c),g}}else if(1==this.drawPosition&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_ShapeLine)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_struct_ShapeLine))return g=new b.com_ibm_vis_geom_Point(a.x[1],a.y[1]),new b.com_ibm_vis_geom_Point(d.x[1],d.y[1]),k=0,e=a.getLength(),a=this.ga$15(a),d=this.ga$15(d),d<a&&(d+=6.283185307179586),
g=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(g.x,g.y,k,e,a,d),b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(g,c),g;return null},ga$15:function(a){return 3.141592653589793+a.getTangentAngle("start",null)},isWedgeBandsRequired:function(){return this.coordinates.isValidRadar()&&!this.coordinates.isStraightPolarGridLine()?!0:!1},ge$46:function(a){var d=new b.com_ibm_vis_spec_internal_StyleSpec;if(this.axisSpec.gridBand){var c=this.axisSpec.gridBand;c.fill&&0<c.fill.length&&
0<=a&&(d.fill=c.fill[a%c.fill.length])}return d}});b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder.md$3=function(a,d,c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_PolyShape)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_struct_PolyShape)){if(b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder.he$2(a.getTypes())||b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder.he$2(d.getTypes()))throw new b.com_ibm_vis_exceptions_internal_EngineException("GridBand creation when grid lines are curved Path is not supported.",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION,"GridBandBuilder");for(var e=b.com_ibm_rave_codegenerator_lang_Array.create([2*a.x.length+1],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([2*a.y.length+1],0),k=0,f=0;f<a.x.length;++f)e[k]=a.x[f],g[k]=a.y[f],k+=1;for(f=d.x.length-1;0<=f;--f)e[k]=d.x[f],g[k]=d.y[f],k+=1;e[k]=a.x[0];g[k]=a.y[0];return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makePoly(e,g,c)}return null};b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder.he$2=
function(a){if(!a)return!1;for(var b=0,c=a.length;b<c;++b){var e=a[b];if(77!=e&&76!=e)return!0}return!1};b.com_ibm_vis_engine_internal_grammar_scale_GridBandBuilder.GE_1="B";b.com_ibm_vis_engine_internal_grammar_values_DerivedValueProducer=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_values_ValueProvider=b.com_ibm_init_declare({constructor:function(){this.type=b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType.NONE;(function(a){this.span=a}).apply(this,
arguments)},toZeroOne:function(a,b){return b.toZeroOne(a,this.getUnit(),this.span)},getMatchingSpan:function(a,b){return b.getMatchingSpan(a,this.getUnit())},getMinimalDataDiff:function(){return null},getFormatter:function(){return null},getCategories:function(){return this.getUnit()&&this.getUnit().measure.categorical?[]:null},getSpan:function(){return this.span},getType:function(){return this.type}});b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,
{});b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType.NONE=new b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType("NONE");b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType.PERCENTAGE=new b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType("PERCENTAGE");b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType)};
b.com_ibm_vis_engine_internal_grammar_values_DerivedValueProvider=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_values_ValueProvider,{constructor:function(a,b,c,e){this.te_5=b;this.fm_1=c;this.ve_3=e},getNumber:function(a){a=this.ve_3.getNumber(a);return this.te_5.getDerivedValue(this.fm_1,a,this.span)},toZeroOne:function(a,b){return this.ve_3.toZeroOne(a,b)},getIncludeInRange:function(){return this.ve_3.getIncludeInRange()},getRange:function(){var a=this.ve_3.getRange(),d=this.te_5.getDerivedValue(this.fm_1,
a.min,this.span),a=this.te_5.getDerivedValue(this.fm_1,a.max,this.span);return null!=d&&null!=a?new b.com_ibm_vis_engine_internal_data_Range(d,a):null},isCategorical:function(){return!1},getLabel:function(){return this.ve_3.getLabel()},getBaseField:function(){return null},getUnit:function(){return this.ve_3.getUnit()},getGranularity:function(){return this.ve_3.getGranularity()},enableOrdering:function(a){}});b.com_ibm_vis_engine_internal_grammar_values_FieldValueProvider=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_values_ValueProvider,
{ig_3:!1,an_4:!1,constructor:function(a,b,c){this.fl_2=b;this.ig_3=c;this.an_4=!1},getNumber:function(a){var d=this.fl_2;if(d){var c=d.ie_4;if((a=a.data)&&c<a.length){c=a[c];if(d=d.order){if(!this.an_4)throw new b.com_ibm_vis_exceptions_internal_SpecException("Order given for categories other than stacked values.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);for(a=0;a<d.length;++a)if(d[a]==c)return a}return c}}return NaN},getIncludeInRange:function(){return this.ig_3},isCategorical:function(){return this.getUnit().measure.categorical},
getMinimalDataDiff:function(){return this.fl_2.getMinimalDataDiff()},getCategories:function(){return this.fl_2.categories},getRange:function(){return this.fl_2.range},getLabel:function(){return this.fl_2.label},getBaseField:function(){return this.fl_2},getUnit:function(){return this.fl_2.unit},getGranularity:function(){return this.fl_2.granularity},getFormatter:function(){return this.fl_2.se_23},enableOrdering:function(a){this.an_4=a}});b.com_ibm_vis_engine_internal_grammar_values_NumberValueProvider=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_values_ValueProvider,{ig_4:!1,constructor:function(a,b,c,e){this.ne_8=b;this.ig_4=c;this.unit=e},getNumber:function(a){return this.ne_8},getIncludeInRange:function(){return this.ig_4},isCategorical:function(){return this.unit?this.unit.measure.categorical:!1},getUnit:function(){return this.unit},getCategories:function(){return this.isCategorical()?["0"]:null},getRange:function(){return new b.com_ibm_vis_engine_internal_data_Range(this.ne_8,
this.ne_8)},getLabel:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.unformattedNumber(this.ne_8)},getBaseField:function(){return null},getGranularity:function(){return null},enableOrdering:function(a){}});b.com_ibm_vis_engine_internal_grammar_values_PercentageValueProvider=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_values_ValueProvider,{constructor:function(a,d){this.fo_4=d;this.type=b.com_ibm_vis_engine_internal_grammar_values_ValueProvider.ProviderType.PERCENTAGE},
getNumber:function(a){return this.fo_4},toZeroOne:function(a,b){return b.getPaddedRange().fromZeroOne(this.fo_4)},getRange:function(){return new b.com_ibm_vis_engine_internal_data_Range(this.fo_4,this.fo_4)},getIncludeInRange:function(){return!1},isCategorical:function(){return!1},getUnit:function(){return null},getLabel:function(){return this.fo_4.toString()},getBaseField:function(){return null},getGranularity:function(){return null},enableOrdering:function(a){}});b.com_ibm_vis_engine_internal_grammar_values_DefaultValueProvider=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_values_ValueProvider,{ig_2:!1,constructor:function(a,b,c){this.ig_2=b;this.unit=c},getNumber:function(a){return NaN},getRange:function(){return null},getLabel:function(){return""},getBaseField:function(){return null},getIncludeInRange:function(){return this.ig_2},getGranularity:function(){return null},isCategorical:function(){return this.unit?this.unit.measure.categorical:!1},getUnit:function(){return this.unit},enableOrdering:function(a){}});
b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makePositionProvider=function(a,d){var c=null==a.span?null:a.span,e=0;a.derivedValue&&e++;a.field&&e++;null!=a.value&&e++;if(1!=e)throw new b.com_ibm_vis_exceptions_internal_SpecException("Positions must specify exactly one of 'field', 'value', or 'derivedValue'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);return a.derivedValue?
b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromDerivedValue(d,a.derivedValue.target,a.derivedValue.functionName,a.derivedValue.variable,c):a.field?b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromField(d,a.field,b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.POSITION,!1,c):b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromValue(a.value,a.includeInRange,null,c)};b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeComponentProvider=
function(a,d){var c=0;a.field&&c++;null!=a.value&&c++;if(1!=c)throw new b.com_ibm_vis_exceptions_internal_SpecException("Components must specify exactly one of 'field' or 'value'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);return a.field?b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromField(d,a.field,b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.COMPONENT,!1,null):b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromNumber(a.value,
!1,b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL,null)};b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeAestheticProvider=function(a,d){var c=0;a.field&&c++;null!=a.value&&c++;if(1!=c)throw new b.com_ibm_vis_exceptions_internal_SpecException("Aesthetics must specify exactly one of 'field' or 'value'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);return a.field?b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromField(d,a.field,
b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.AESTHETICS,!1,null):b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromNumber(a.value,!1,null,null)};b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromDerivedValue=function(a,d,c,e,g){d=a.getByID(d.$ref);if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_grammar_values_DerivedValueProducer))return b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT;
a=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_spec_internal_FieldValueRefSpec)?b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromField(a,e,b.com_ibm_vis_engine_internal_data_Field.LocalFormatterType.POSITION,!1,g):b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromValue(e,!1,null,g);return new b.com_ibm_vis_engine_internal_grammar_values_DerivedValueProvider(g,d,c,a)};b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromField=
function(a,d,c,e,g){var k=a.getByID(d.$ref);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(k,b.com_ibm_vis_engine_internal_data_Field)){if(d.format)return k.setLocalFormatter(b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFromSpec(d.format,a.getVisContext().ll_3),c),new b.com_ibm_vis_engine_internal_grammar_values_FieldValueProvider(g,k,e);k.setLocalFormatter(null,null);return new b.com_ibm_vis_engine_internal_grammar_values_FieldValueProvider(g,k,e)}throw new b.com_ibm_vis_exceptions_internal_SpecException("The reference is not defined in the spec: "+
d.$ref,b.com_ibm_vis_exceptions_ErrorCode.SPEC_UNDEFINED_REFERENCE);};b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromValue=function(a,d,c,e){return b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromNumber(a,d,c,e):b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromString(a,c,e):b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT};
b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromNumber=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_grammar_values_NumberValueProvider(e,a,d,c)};b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeFromString=function(a,d,c){try{return a.CPVISEngineEndsWith("%")?new b.com_ibm_vis_engine_internal_grammar_values_PercentageValueProvider(c,b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a.substring(0,a.length-1))/100):new b.com_ibm_vis_engine_internal_grammar_values_NumberValueProvider(c,
b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a),!1,d)}catch(e){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,Error))throw new b.com_ibm_vis_exceptions_internal_SpecException("only '%' and numbers are supported as string values in element position.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH);throw e;}};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT=new b.com_ibm_vis_engine_internal_grammar_values_DefaultValueProvider(null,
!1,b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL)});b.com_ibm_rave_codegenerator_util_LinkedSet=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Set,{_createBackingMap:function(){return b.com_ibm_init_declare.create(b.com_ibm_rave_codegenerator_util_LinkedMap,arguments)}});b.com_ibm_vis_engine_internal_grammar_scale_RangeProvider=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_element_Element=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_IdentifiableItem,
b.com_ibm_vis_engine_internal_grammar_values_DerivedValueProducer,b.com_ibm_vis_engine_internal_grammar_scale_RangeProvider],{ze_2:0,isLineWithPoints:!1,ee_5:0,constructor:function(){this.tr_6=new b.com_ibm_rave_codegenerator_util_List;(function(a,d,c,e,g){this.vis=d;this.grammar=c;this.spec=e;this.ee_5=g;this.do_6=this.spec.description;this.type=e.type;this.ze_2=null==e.zOrder?0:e.zOrder;this.interactionType=e.interactionType;this.pe_16=e.positionModifier;this.positions=b.com_ibm_vis_engine_internal_grammar_element_Element.in$6(this.vis,
e);this.coordinateFieldsIDs=b.com_ibm_vis_engine_internal_grammar_element_Element.id$4(this.positions);this.data=this.pt$2(this.vis,this.positions);this.components=b.com_ibm_vis_engine_internal_grammar_element_Element.it$5(this.vis,e);this.layout=e.positioning?b.com_ibm_vis_engine_internal_grammar_layout_LayoutFactory.makeLayout(e.positioning,this.data,c,this.vis,e.style,e.styles):null;this.aesthetics=b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.getElementAesthetics(this,e);this.aestheticFieldIDs=
b.com_ibm_vis_engine_internal_grammar_element_Element.iD$1(this.aesthetics);this.isLineWithPoints="line"==this.type&&this.spec.symbolStyle;this.labelProducers=this.pr$1(this.vis,e,c)}).apply(this,arguments)},ip$4:function(){if(this.tr_6&&this.spec.tooltip)for(var a=this.spec.tooltip,d=0,c=a.length;d<c;++d){var e=a[d];this.tr_6.add(new b.com_ibm_vis_engine_internal_grammar_label_TooltipProducer(this.data,this.vis,e.modifies?e.modifies.part:null,e))}},pr$1:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;
if(d.label)for(var g=b.com_ibm_vis_engine_internal_grammar_element_Element.id$5(this.type),k=d.label,f=0,v=k.length;f<v;++f){var u=k[f],h=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeForData(this.data,a,g,u,null,!this.grammar.isLabelCollisionMethodNone()),l=d.style;l&&l.stroke&&null!=l.outline&&!c.coordinates.containsPolar()&&h.addPaddingForOutline(d.style);h.addAesthetics(b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.getLabelAesthetics(this,h,u));e.add(h)}return e},pr$2:function(a,
d,c){var e=new b.com_ibm_rave_codegenerator_util_List;if(d.label){var g=0;d=d.label;for(var k=d.length;g<k;++g){var f=d[g],v=this.go$14(f),u=f.lineMinSize;if(null!=u&&"outside"==v){var v=Math.min(c.graphSize.hh_1,c.graphSize.wt_2),h=a.getSize(),h=Math.min(h.hh_1,h.wt_2),u=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(u,v,h);null!=u&&e.add(new b.com_ibm_vis_engine_internal_grammar_LabelLineProducer(f.lineStyle,u))}else e.add(null)}}return e},go$14:function(a){return a&&a.style&&
null!=a.style.location?a.style.location:b.com_ibm_vis_engine_internal_grammar_element_Element.id$5(this.type)?"inside":"outside"},getPreferredSize:function(){if(!this.layout)return new b.com_ibm_vis_geom_Dim(400,400);var a,d=this.extent;this.extent=new b.com_ibm_vis_geom_Dim(5E3,5E3);a=this.calculateDefaultShapeSize(this.spec.style);a=this.makeBuilder(this.grammar.coordinates,this.type,this.extent,a,this.spec.style);this.layout.adapter.connect(this.data.rows,a,this.ee_5);a=this.layout.getPreferredSize(this.data.rows.length);
this.extent=d;return a},makeShapes:function(a,d,c,e,g,k){a=a+"E"+e;this.usesStacking()||(d=d.removeStackTransform());this.extent=c;var f=this.calculateDefaultShapeSize(this.spec.style);this.size=f;this.ce_33=f=this.makeBuilder(d,this.type,c,f,this.spec.style);var v;this.isLineWithPoints&&(v=this.calculateDefaultShapeSize(this.spec.symbolStyle),v=this.makeBuilder(d,"point",c,v,this.spec.symbolStyle));this.sn$13(d,f);e=this.me$42(d,c,e,f,v,k);e.applyShapeIDs(a);this.ae$19(e,c);this.an$6(e);this.am$1(e,
d,c);this.ac$8(e);this.ar$8(e,d);this.cachedShapes=new b.com_ibm_rave_codegenerator_util_List(e.getAllShapes());this.ci$4(e);this.al$6(a,e,g);return e},ac$8:function(a){if(this.layout&&this.layout.needsAestheticsPreApplied()){var b=0;a=a.getElementShapes().arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];if(e.getRows())for(var g=this.data.rows[e.getRows()[0]],k=0,f=this.aesthetics,v=f.length;k<v;++k){var u=f[k];"color"==u.type&&u.apply(e,g)}}}else this.se$20(a),this.ac$9(a)},am$1:function(a,
b,c){this.layout&&!this.layout.respectsTransforms()||b.modifyShapes(a,c);b.containsPolar()&&this.ue$2(a)},an$6:function(a){this.grammar.faceting.addFacetInfoToShapes(a,this)},ae$19:function(a,d){for(var c=new b.com_ibm_vis_geom_Rect(0,0,d.wt_2,d.hh_1),e=0,g=a.getElementShapes().arrayIterator(),k=g.length;e<k;++e){var f=g[e];b.com_ibm_vis_engine_internal_grammar_element_Element.st$7(f,this.data);f.setGlobalGradient(c);f._n_1=!0}},me$42:function(a,d,c,e,g,k){this.vis.vx_10.isUpdateDataOnly()&&this.layout&&
this.layout.prepareForNewRows(this.data.rows.length);this.layout?(a=a.getLayoutBounds(d),this.layout.adapter.setLayoutBoundsStartPoint(new b.com_ibm_vis_geom_Point(a.x,a.y)),d=new b.com_ibm_vis_geom_Dim(a.wt_3,a.hh_2),e.extent=d,d=this.mu$4(d,c,e,a)):d=this.usesAugmentation()?this.mn$23(a,e,k):e.makesContinuousShapes()?this.mp$5(a,e,g):this.mn$23(a,e,k);return d},getAreaUnderCurve:function(){if("edge"!=this.type&&"text"!=this.type&&this.data&&!this.data.isPdf()&&this.positions&&2<=this.positions.length){var a=
this.positions[1].getBaseField();if(a){for(var b=a.getDataRange(),a=null==a.granularity?b.range/(this.data.rows.length-1):a.granularity,c=b=0,e=this.data.rows,g=e.length;c<g;++c){var k=this.positions[0].getNumber(e[c]);null!=k&&(b+=k*a)}return b}}return NaN},addSpaceRequirements:function(a,d){var c=this.spec.style;this.isLineWithPoints&&(c=this.spec.symbolStyle);var e=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getStrokeWidth(c),g=.03;if(c&&(this.isLineWithPoints||"point"==this.type||"interval"==
this.type&&!d||this.type.CPVISEngineContains("schema")||"text"==this.type)){var k;k=b.com_ibm_vis_engine_internal_grammar_element_Element.bo$3(c,new b.com_ibm_vis_geom_Dim(0,0));var f=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k[0],15,300),v=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(k[1],15,300);k=d?v:f;this.nn$1(c)&&(k=Math.min(f,v));0<k&&(e+=k,g=.005)}a.requirePadding(this,e/2,g/2)},nn$1:function(a){return this.isLineWithPoints||"point"==
this.type?(a=a.symbol,null==a||b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?!0:!1):!1},pt$2:function(a,d){var c=this.ct$16(a,d);if(c&&c.fields&&0<c.fields.length&&!c.isDerived()){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0,k=c.fields,f=k.length;g<f;++g)e.add(k[g].id);b.com_ibm_vis_engine_internal_grammar_element_Element.vt$2(a,c,e);g=0;k=this.positions;for(f=k.length;g<f;++g){var v=k[g];if(v.getBaseField()&&!e.contains(v.getBaseField().id))throw c="Field id '"+v.getBaseField().id+
"' does not exist in data source '"+c.id+"'.",new b.com_ibm_vis_exceptions_internal_SpecException(c,b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_DATA_FIELD_REFERENCE);}}return c},ct$16:function(a,d){if(!a.data||0==a.data.length)return null;if(1==a.data.length)return a.data[0];if(this.spec.data&&null!=this.spec.data.$ref)return a.getByID(this.spec.data.$ref);for(var c=0,e=d.length;c<e;++c){var g=d[c];if(g.getBaseField())return g.getBaseField().data}if(("edge"==this.type||"path"==this.type||"line"==
this.type)&&this.spec.positioning){if(this.spec.positioning.from)c=this.spec.positioning.from.$ref;else if(this.spec.positioning.to)c=this.spec.positioning.to.$ref;else throw new b.com_ibm_vis_exceptions_internal_SpecException("Element "+this.ee_5+": The LayoutSpec for a '"+this.type+"' element must contain 'from' and 'to' fields",b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);c=a.getByID(c);return c.data}if(this.spec.positioning){if(this.spec.positioning.id)return c=a.getByID(this.spec.positioning.id.$ref),
c.data;if(this.spec.positioning.layer)return c=a.getByID(this.spec.positioning.layer.$ref),c.data;if(this.spec.positioning.order)return c=a.getByID(this.spec.positioning.order.$ref),c.data}if((c=this.cc$6())||(c=this.ct$17())||(c=this.ct$18()))return c;if(0<d.length){if("point"==this.type||"edge"==this.type||"interval"==this.type||"text"==this.type)return null;throw new b.com_ibm_vis_exceptions_internal_SpecException("Element "+this.ee_5+": A '"+this.type+"' element cannot be used as a guide element (with all positions constant) unless the 'data' property is set",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_BAD_GUIDE_ELEMENT);}throw new b.com_ibm_vis_exceptions_internal_SpecException("Element "+this.ee_5+": The data for element of type '"+this.type+"' cannot be located, try setting the 'data' property",b.com_ibm_vis_exceptions_ErrorCode.SPEC_UNABLE_TO_LOCATE_DATA);},cc$6:function(){for(var a=[this.spec.accessibility,this.spec.color,this.spec.dashing,this.spec.font,this.spec.meta,this.spec.offset,this.spec.size,this.spec.split,this.spec.styleBy,this.spec.symbol,
this.spec.visibility],b=0,c=a.length;b<c;++b){var e=a[b];if(e)for(var g=0,k=e.length;g<k;++g){var f=e[g];if(f.field&&null!=f.field.$ref)return this.vis.getByID(f.field.$ref).data}}return null},ct$17:function(){if(this.spec.content){var a=this.cn$22(this.spec.content);if(a)return a}if(this.spec.label)for(var b=0,c=this.spec.label,e=c.length;b<e;++b)if(a=this.cn$22(c[b].content))return a;if(this.spec.tooltip)for(b=0,c=this.spec.tooltip,e=c.length;b<e;++b)if(a=this.cn$22(c[b].content))return a;return null},
cn$22:function(a){if(!a)return null;for(var d=0,c=a.length;d<c;++d){var e=b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.get$RefFromReference(a[d]);if(null!=e&&(e=this.vis.getByID(e),b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_data_Field)))return e.data}return null},ct$18:function(){if(this.spec.components)for(var a=0,b=this.spec.components,c=b.length;a<c;++a){var e=b[a];if(e.field&&null!=e.field.$ref)return this.vis.getByID(e.field.$ref).data}return null},
al$4:function(a,d){for(var c=this.labelProducers.size(),e=new b.com_ibm_rave_codegenerator_util_List(c),g=new b.com_ibm_rave_codegenerator_util_List(c),k=new b.com_ibm_rave_codegenerator_util_List(c),f=new b.com_ibm_rave_codegenerator_util_List(c),v=0;v<c;++v)e.add(new b.com_ibm_rave_codegenerator_util_List),g.add(new b.com_ibm_rave_codegenerator_util_List),k.add(new b.com_ibm_rave_codegenerator_util_List),f.add(this.spec.label[v].lineStyle);for(var v=this.getClip(),u=a.elementIterator();u.hasNext();){var h=
u.next(),l=h.getSpanClipBounds(),m=l?b.com_ibm_vis_engine_internal_struct_Shape.toRect(h.getBounds().makeIntersection(l)):null;(4==v||!l||m&&m.hasExtent())&&this.ap$3(a,d,e,g,h,k)}this.at$7(a,d,c,e,g,k,f)},at$7:function(a,d,c,e,g,k,f){for(var v=new b.com_ibm_vis_engine_internal_grammar_label_LabelCallout(this.grammar,this,this.extent),u=0;u<c;++u){var h=e.get(u),l=this.labelProducers.get(u);"callout"==l.getLocation()&&v.modifyShapes(h,l,f.get(u))}for(u=0;u<c;++u)h=e.get(u),l=k.get(u),b.com_ibm_vis_engine_internal_grammar_element_Element.al$5(a,
h,d,l);for(u=0;u<c;++u)l=this.labelProducers.get(u),d=g.get(u),b.com_ibm_vis_engine_internal_grammar_element_Element.ae$20(a,d,l)},ap$3:function(a,d,c,e,g,k){var f=this.labelProducers.size();d+="L";if(this.layout){var v=null;this.labelProducers&&0<this.labelProducers.size()&&(v=this.labelProducers.get(0));if(this.layout.applyLabels(g,a,this.shouldRemoveLabelTooltips(v)))return;g=this.layout.getLabelShape(g)}for(var v=this.pr$2(this.vis,this.spec,this.grammar),u=g.id.indexOf("S"),u=g.id.substring(u+
1),h=0;h<f;++h){var l=this.labelProducers.get(h),m=v.get(h),p=this.spec.label[h],q=this.pp$4(l);if(p=l.makeLabel(p.content,g)){this.pa$3(g,p);var r=l.makeLabelBackground(p,g);if(null==l.style.location||l.style.location.CPVisEngineIsEmpty())l.style.location="outside";var t=g.isVisible()&&p.isVisible();r&&(r.addMeta(g),r.setVisible(t),"callout"==l.style.location&&e.get(h).add(r),null!=g.getKey()&&r.setKey(g.getKey()+"|BL"),r.setID(d+"B"+u));a.addPlaqueAndLabelForShape(g,p,r,q,m);p.addMeta(g);p.setVisible(t);
"callout"==l.style.location&&(c.get(h).add(new b.com_ibm_vis_engine_internal_grammar_label_ShapeLabelLinesHolder(g,p,null)),k.get(h).add(p));this.shouldRemoveLabelTooltips(l)&&p.disableTooltip();null!=g.getKey()&&p.setKey(g.getKey()+"|L")}else c.get(h).add(new b.com_ibm_vis_engine_internal_grammar_label_ShapeLabelLinesHolder(g,null,null))}},shouldRemoveLabelTooltips:function(a){return a&&this.spec.tooltip&&0<this.spec.tooltip.length&&"text"!=this.type&&"inside"==a.getLocation()},pp$4:function(a){return"text"==
this.type||"point"==this.type||"symbol"==a.part||this.isLineWithPoints},pa$3:function(a,b){if(this.isLineWithPoints&&this.spec.symbolStyle&&"line"==a.getElementPart()&&"middle"!=b.valign){var c=this.calculateDefaultShapeSize(this.spec.symbolStyle).hh_1,e="start"==b.valign?-1:1;b.getPoint().y=b.getPoint().y+e*c/2}},makeBuilder:function(a,d,c,e,g){var k=this.vis.vx_10;if(d.CPVISEngineStartsWith("schema"))return b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilderFactory.createBuilder(k,a,c,d,
e,this.components,this.data.rows,g);if("interval"==d)return new b.com_ibm_vis_engine_internal_grammar_element_IntervalBuilder(k,a,c,e,g,2==this.getClip());if("point"==d)return new b.com_ibm_vis_engine_internal_grammar_element_PointBuilder(k,a,c,e,g);if("edge"==d)return new b.com_ibm_vis_engine_internal_grammar_element_EdgeBuilder(k,a,c,g);if("path"==d)return new b.com_ibm_vis_engine_internal_grammar_element_PathBuilder(k,a,c,!1,!1,!1,null,g);if("line"==d)return this.ge$38(a,c,!0,!1,!1,d,g);if("polygon"==
d)return new b.com_ibm_vis_engine_internal_grammar_element_PathBuilder(k,a,c,!1,!0,!1,null,g);if("area"==d)return this.ge$38(a,c,!0,!0,!0,d,g);if("text"==d)return new b.com_ibm_vis_engine_internal_grammar_element_TextBuilder(k,a,c,this.vis,this.data,e,this.spec);if("custom"==d)return new b.com_ibm_vis_engine_internal_grammar_element_CustomBuilder(k,a,c,this.vis,this.data,e,this.spec);throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Type '"+d+"' not supported yet");},ge$38:function(a,
d,c,e,g,k,f){return"smooth"==this.spec.interpolation?(k="area"==k?new b.com_ibm_vis_engine_internal_struct_SmoothAreaPathMaker:new b.com_ibm_vis_engine_internal_struct_SmoothPolyPathMaker,new b.com_ibm_vis_engine_internal_grammar_element_PathBuilder(this.vis.vx_10,a,d,c,e,g,k,f)):new b.com_ibm_vis_engine_internal_grammar_element_PathBuilder(this.vis.vx_10,a,d,c,e,g,null,f)},calculateDefaultShapeSize:function(a){var d,c=this.extent?this.extent:new b.com_ibm_vis_geom_Dim(1E3,1E3);if(this.layout)d=this.layout.getDefaultShapeSize(c,
this.data.rows.length);else if("text"==this.type&&a&&a.font&&null!=a.font.size){var e=b.com_ibm_vis_engine_internal_grammar_element_Element.bo$3(a,c);d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e[0].preferred,c.wt_2,c.wt_2);e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e[1].preferred,c.hh_1,c.hh_1);d=new b.com_ibm_vis_geom_Dim(null==d?c.wt_2:d,null==e?c.hh_1:e)}else d=this.grammar.coordinates.getDefaultSize(c,this.positions,this.type);a&&(e=
b.com_ibm_vis_engine_internal_grammar_element_Element.bo$3(a,d),a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e[0],d.wt_2,c.wt_2),c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e[1],d.hh_1,c.hh_1),0>a&&(a=0),0>c&&(c=0),d.wt_2=a,d.hh_1=c);return d},mu$4:function(a,b,c,e){this.layout.adapter.connect(this.data.rows,c,b);a=this.layout.buildLayout(this.data.rows.length,a,e);if(this.data.keyField)for(b=0,c=a.getElementShapes().arrayIterator(),e=c.length;b<
e;++b){var g=c[b];if(null==g.getKey()){var k=g.getRows();k&&g.setKey(this.data.getKey(this.data.rows[k[0]]))}}return a},usesStacking:function(){return null==this.pe_16||"none"!=this.pe_16},ci$4:function(a){a=a.elementIterator();"scrollUnit"==this.interactionType&&a.hasNext()&&(this.vis.di_3=a.next())},al$6:function(a,b,c){if(0<this.labelProducers.size()||this.layout){c=this.gd$9(c);for(var e=0,g=this.labelProducers.arrayIterator(),k=g.length;e<k;++e)g[e].setClipBounds(c);this.al$4(b,a)}},gd$9:function(a){var d=
this.getClip();return 4==d?null:2==d?new b.com_ibm_vis_geom_Rect(0,0,this.grammar.graphSize.wt_2,this.grammar.graphSize.hh_1):new b.com_ibm_vis_geom_Rect(a.x,a.y,a.wt_3,a.hh_2)},sn$13:function(a,d){if(!this.layout&&this.data&&this.data.rows&&0!=this.data.rows.length&&0!=this.data.rows[0].data.length){var c=a.getPosition(this.data.rows[0],this.positions),c=d.getBase(c);if(null==c)this.baseline=null;else{this.baseline=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(0,c,this.extent.wt_2,c);this.baseline=
a.modifyShape(this.baseline,this.extent);if(a.containsPolar()){var e;1001==this.baseline.getType()?(c=this.baseline.x[0],e=this.baseline.y[0]):(e=this.baseline.getGeom().getOrigin(),c=e.x,e=e.y);this.baseline=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(c,e,c,e)}this.baseline.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.spec.style))}}},ac$9:function(a){for(a=a.elementIterator();a.hasNext();)a.replace(this.applyAesthetic(a.next()))},applyAesthetic:function(a){var d;
a.getRows()&&0<a.getRows().length&&this.data&&0<this.data.rows.length?(d=this.data.rows[a.getRows()[0]],this.grammar.faceting.applyFacetingToShape(a,d,this)):d=b.com_ibm_vis_engine_internal_data_Row.createEmptyRow(0,-1);for(var c=0,e=this.aesthetics,g=e.length;c<g;++c)a=e[c].apply(a,d);return a},se$20:function(a){b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyThresholdStyleSpec(this.spec.style,this.grammar.coordinates.scales);var d=0;a=a.getElementShapes().arrayIterator();for(var c=a.length;d<
c;++d){var e=a[d];this.layout&&this.layout.applyStyles(e)||this.styleShape(e)}},styleShape:function(a){var d=a.getType(),c=a.getMeta("part"),e;this.layout&&(e=this.layout.adapter.getTargetedStyle("arc"));e||(e=this.isLineWithPoints&&"symbol"==c?this.spec.symbolStyle:this.spec.style);e?1009==d||1007==d?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(a,e,null):!a.isFilled()||a.getFill()&&!a.canScaleBoth()?a.isFilled()||(d=null,b.com_ibm_vis_engine_internal_grammar_element_Element.isStrokeShape(this.type)&&
null!=e.size&&(d=this.gz$14(e)),b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(a,e,d)):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(a,e):1009==d||1007==d?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultTextStyle(a):a.isFilled()?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultFillStyle(a):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultStrokeStyle(a);this.st$8(a)},st$8:function(a){var d=a.getParts();if(d)for(var c=0,e=d.length;c<e;++c){var g=
d[c];g.getFill()||g.getOutline()||g.getStroke()||(this.styleShape(g),!g.isFilled()&&a.isFilled()&&(g.setFill(b.com_ibm_vis_engine_internal_Fill.makeSolid(g.getOutline())),g.setOutline(null)));this.st$8(g)}},gz$14:function(a){var d=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getDefaultStrokeWidth(),d=new b.com_ibm_vis_geom_Dim(d,d);a=b.com_ibm_vis_engine_internal_grammar_element_Element.bo$3(a,d);return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a[0],d.wt_2,this.extent.wt_2)},
ue$2:function(a){if(this.labelProducers)for(var d=0,c=this.labelProducers.arrayIterator(),e=c.length;d<e;++d)if(this.ie$43(c[d])){d=0;a=a.getAllShapes().arrayIterator();for(c=a.length;d<c;++d)e=a[d],b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e.getGeom(),b.com_ibm_vis_geom_Wedge)&&e.scale(.5,.5);break}},ie$43:function(a){return null!=a.style.location&&"callout"==a.style.location&&!this.ge$39()},gc$10:function(a){if(!this.nc$1())throw new b.com_ibm_vis_exceptions_internal_EngineException("Data grouping by aesthetic is required only for elements of type path,line,area and polygon OR if stack transform is being used",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);for(var d=0,c=this.aesthetics,e=c.length;d<e;++d){var g=c[d];if(g.st_12&&(!this.isLineWithPoints||!g.modifiesSymbol())){var k=new b.com_ibm_rave_codegenerator_util_List,f=0;a=a.arrayIterator();for(var v=a.length;f<v;++f)this.si$6(a[f],g,k);a=k}}return a},nc$1:function(){return this.grammar.coordinates.containsStacking()?!0:b.com_ibm_vis_engine_internal_grammar_element_Element.ce_34.contains(this.type)},usesAugmentation:function(){return this.data&&
this.data.augmentation&&0==this.positions.length&&!this.layout},mn$23:function(a,d,c){var e=new b.com_ibm_vis_engine_internal_grammar_ShapeList,g=this.gd$10(),k=this.usesAugmentation()?a.get2DScaleRanges():null;if(this.hasVariableRef()||this.data&&this.data.augmentation)for(var f=this.data.rows,v=this.makeDataGroups(),u=v.size()-1;0<=u;--u)for(var h=v.get(u),l=0;l<h.size();++l){var m=h.get(l),p=null,q=a.getPosition(f[m],this.positions);q&&d.updateDefaultSize(q.sz_2);this.usesAugmentation()?p=d.makeFromAugmentation(m,
this.data.augmentation,k):(q&&(p=d.make(q,m,!0)),p||(p=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,0,0),p.setRow(m),p.setVisible(!1)));p&&(this.af$1(p,f[m],g),p.setPosition(q),q=this.isClipBySpan()?this.cc$7(p.getRows(),p,a,d):null,this.data.augmentation&&c&&(q=q?q.makeIntersection(c):c),a.containsProjection()||p.setSpanClipBounds(q),p.setAestheticGroup(u),e.addElementShape(p))}else for(c=!0,this.data&&this.data.rows&&0!=this.data.rows.length?f=this.hd$2()?this.data.rows:[this.data.rows[0]]:
(f=[b.com_ibm_vis_engine_internal_data_Row.createEmptyRow(a.scales.length,0)],c=!1),l=0;l<f.length;++l)if(q=a.getPosition(f[l],this.positions))if(p=d.make(q,l,c))c&&this.af$1(p,f[l],g),e.addElementShape(p);return e},af$1:function(a,d,c){a.setKey(this.data.getKeyWithDefaultFields(d,c));b.com_ibm_vis_engine_internal_grammar_element_Element.at$8(a)},hd$2:function(){return 0<this.aestheticFieldIDs.length||this.ie$44()},ie$44:function(){if(!this.spec.label||0==this.spec.label.length)return!1;for(var a=
0,d=this.spec.label,c=d.length;a<c;++a)for(var e=0,g=d[a].content,k=g.length;e<k;++e)if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g[e],b.com_ibm_vis_spec_internal_FieldValueRefSpec))return!0;return!1},gd$10:function(){if(0==this.positions.length)return null;if(this.grammar.coordinates.containsCluster()){for(var a=Math.min(this.grammar.coordinates.axes.length,this.positions.length-1),d=new b.com_ibm_rave_codegenerator_util_List,c=0;c<a;++c){var e=this.positions[c+1].getBaseField();e&&d.add(e)}a=
d.size();if(0==a)return null;e=Array(a);for(c=0;c<a;++c)e[c]=d.get(c);return e}if(2>this.positions.length&&0<this.aestheticFieldIDs.length)for(c=0;c<this.aesthetics.length;++c)if(this.aesthetics[c].st_12&&this.aesthetics[c].valueProvider.getBaseField())return[this.aesthetics[c].valueProvider.getBaseField()];d=this.positions.length-1;c=this.positions[d].getBaseField();if(!c){for(;!c&&-1<d;)c=this.positions[d].getBaseField(),d--;if(!c)return null}return[c]},hc$1:function(a,d,c,e,g){var k;if(1<a.scales.length&&
a.containsStacking()&&0<a.scales[1].getCategoryCount()){for(var f=a.scales[1].getCategoryCount(),v=new b.com_ibm_rave_codegenerator_util_NumericMap,u=0;u<f;++u)v.put(u,u);for(var f=this.positions[1].getBaseField(),u=this.positions[1].getUnit(),h,l=h=0;l<d.size();++l){var m=d.get(l);k=a.getPosition(c[m],this.positions);k.XPositionCoordinateUndefined()||(h=a.scales[1].getCategoryIndexFromZeroOne(k.X(),u),v.remove(h));e.add(k);g.add(m);h=m}d=0;v=v.keySet().arrayIterator();for(l=v.length;d<l;++d){m=v[d];
k=b.com_ibm_rave_codegenerator_lang_Array.create([c[0].data.length],0);for(var p=0,q=this.positions,r=q.length;p<r;++p)k[q[p].getBaseField().ie_4]=0;m=a.scales[1].getFieldCategoryIndex(m,u);k[f.ie_4]=m;k=b.com_ibm_vis_engine_internal_data_Row.createRow(k,h);k=a.getPosition(k,this.positions);e.add(k);g.add(h)}}else for(h=0;h<d.size();++h)m=d.get(h),k=a.getPosition(c[m],this.positions),e.add(k),g.add(m)},cc$7:function(a,d,c,e){var g=e.extent;if(c.containsPolar()||0==c.scales.length||0==this.positions.length)return null;
a=this.co$6(a,c,g);return!a||a.similar(b.com_ibm_vis_geom_Rect.makeRectFromDim(g))?null:e.modifyShapeSpanClipBounds(d,a)},co$6:function(a,d,c){for(var e,g=b.com_ibm_rave_codegenerator_lang_Array.create([4],0),k=0;k<a.length;++k){var f=this.data.rows[a[k]],v=this.go$15(f,d.scales[0],this.positions[0]),u=null;1<d.scales.length&&(u=this.go$15(f,d.scales[1],this.positions[1]));if(v){g[0]=0;g[1]=0;g[2]=c.wt_2;g[3]=c.hh_1;var f=v.finalExtendedOutRange,u=u?u.finalExtendedOutRange:null,h=v=null;d.containsTranspose()?
(v=f,h=u):(v=u,h=f);v&&(g[0]=v.min*c.wt_2,g[2]=v.range*c.wt_2);h&&(g[1]=c.hh_1-h.max*c.hh_1,g[3]=h.range*c.hh_1);e?e.extendTo$0(g[0],g[1],g[0]+g[2],g[1]+g[3]):e=new b.com_ibm_vis_geom_Rect(g[0],g[1],g[2],g[3])}}return e},go$15:function(a,b,c){var e=c.span;null!=e?b=b.spans.get(e):(a=c.getNumber(a),b=null!=a?c.getMatchingSpan(a,b):null);return b},mp$5:function(a,d,c){for(var e=this.data.rows,g=new b.com_ibm_vis_engine_internal_grammar_ShapeList,k=this.makeDataGroups(),f=k.size(),v=this.gd$10(),u=k.size()-
1;0<=u;--u){var h=k.get(u),l=new b.com_ibm_rave_codegenerator_util_List,m=new b.com_ibm_rave_codegenerator_util_List;this.hc$1(a,h,e,l,m);for(var h=b.com_ibm_rave_codegenerator_lang_Array.create([m.size()],0),p=0,q=0;q<m.size();++q){var r=m.get(q);h[p]=r;p++}r=l.toArray(Array(l.size()));if(l=d.makeContinuousShapes(r,h,e))for(r=l.size()-1;0<=r;--r)if(m=l.get(r),m.setAestheticGroup(f),m.setKey(this.data.getKeyWithDefaultFields(e[h[0]],v)),this.isLineWithPoints&&m.setMeta("part","line"),p=this.cc$7(m.getRows(),
m,a,d),m.setSpanClipBounds(p?p:null),g.addElementShape(m),p=null,c&&(p=m.getPositions()))for(var q=m.getRows(),t=q.length-1;0<=t;--t){var w=p[t];c.updateDefaultSize(w.sz_2);var x=q[t],y=c.make(w,x,!0);y&&(y.setKey(this.data.getKey(e[x])),y.setContainingShape(m),y.setMeta("part","symbol"),y.setAestheticGroup(f),y.setGlyphLike(),y.setPosition(w),w=this.cc$7(y.getRows(),y,a,c),y.setSpanClipBounds(w?w:null),g.addElementShape(y))}f--}return g},si$6:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_NumericMap,
g=new b.com_ibm_rave_codegenerator_util_List;d.valueProvider.enableOrdering(this.grammar.coordinates.containsStacking());for(var k=0;k<a.size();++k){var f=a.get(k);if(!d.valueProvider.getBaseField()||this.data.rows[f].data.length>d.valueProvider.getBaseField().ie_4){var v=d.valueProvider.getNumber(this.data.rows[f]);if(null==v)g.add(f);else if(v!=v)g.add(f);else{var u=e.get(v);u||(u=new b.com_ibm_rave_codegenerator_util_List,e.put(v,u));u.add(f)}}}a=b.com_ibm_rave_codegenerator_util_BasicFactory.getHashMapKeysAsDoubleArray(e);
g.isEmpty()||c.add(g);b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(a);for(g=a.length-1;0<=g;--g)c.add(e.get(a[g]))},hasVariableRef:function(){for(var a=0,b=this.positions,c=b.length;a<c;++a)if(b[a].getBaseField())return!0;return!1},ar$8:function(a,d){if(null!=this.pe_16){var c=b.com_ibm_vis_engine_internal_grammar_element_PositionModifierFactory.createPositionModifier(this.pe_16);if(c){for(var e=new b.com_ibm_rave_codegenerator_util_Map,g=0,k=a.getElementShapes().arrayIterator(),f=k.length;g<
f;++g){var v=k[g],u=this.getCoordinates(v.getRows()),u=b.com_ibm_vis_engine_internal_grammar_element_Element.an$7(u),h=e.get(u);h||(h=new b.com_ibm_rave_codegenerator_util_List,e.put(u,h));h.add(v)}c.modifyPositions(e,d.transposesAxes())}}},pi$3:function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c)this.pi$4(e[c],b)},getShapeTooltip:function(a){if(!a)return null;var b=a.getDisplayTooltip();if(null!=b)return b;this.ip$4();if(this.tr_6.isEmpty())return null;for(var c=0,e=this.tr_6.arrayIterator(),
g=e.length;c<g;++c)b=e[c],null!=b.part&&this.pi$4(a,b);c=0;e=this.tr_6.arrayIterator();for(g=e.length;c<g;++c)b=e[c],null==b.part&&this.pi$4(a,b);return a.getDisplayTooltip()},pi$4:function(a,d){var c=d.makeTooltip(a);a.setTooltip(c.getRegularTooltip());a.setFormattedTooltip(c.getFormattedTooltip());if((c=a.getParts())&&0<c.length){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0,k=c.length;g<k;++g){var f=c[g];null!=f.getElementPart()&&null!=f.getTooltip()||e.add(f)}this.pi$3(e,d)}},desiresZero:function(a){return!(a.scales.length<
this.positions.length)&&("area"==this.type||"interval"==this.type)},getDefaultSizeModifierType:function(a){return"interval"==this.type||this.type==b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_SCHEMA_BOXPLOT?a?"height":"width":null},getCoordinates:function(a){if(this.layout||!a||1>a.length||!this.data||!this.data.rows||0>a[0]||this.data.rows.length<=a[0])return null;var d=b.com_ibm_rave_codegenerator_lang_Array.create([this.positions.length],0);a=this.data.rows[a[0]];for(var c=0;c<
d.length;++c)d[c]=this.positions[c].getNumber(a);return d},getAestheticValues:function(a){if(!a||1>a.length||!this.data||!this.data.rows||0>a[0]||this.data.rows.length<=a[0])return null;var d=b.com_ibm_rave_codegenerator_lang_Array.create([this.aesthetics.length],0);a=this.data.rows[a[0]];for(var c=0;c<d.length;++c){var e=this.aesthetics[c].valueProvider.getNumber(a);d[c]=null==e?NaN:e}return d},getClip:function(){var a=this.spec.clip;return"atBounds"==a?2:"none"==a?4:"overlap"==a?1:this.layout?4:
2},isClipBySpan:function(){return null!=this.spec.clipBySpan?this.spec.clipBySpan:!0},getAesthetics:function(){return this.aesthetics},getDerivedValue:function(a,b,c){return this.ce_33?this.ce_33.getDerivedValue(a,b,c):null},ge$39:function(){var a=this.grammar.coordinates.tm_3;if(a)for(var b=0,c=a.length;b<c;++b){var e=a[b];if(e&&e.isPolar())return e.getDiameterSpec()}return null},getDescription:function(){return this.do_6},getZOrder:function(){return this.ze_2},makeDataGroups:function(){var a;this.grammar.faceting&&
(a=this.grammar.faceting.makeDataGroups(this));a||(a=this.gp$8());this.nc$1()&&(a=this.gc$10(a));return a},gp$8:function(){var a=new b.com_ibm_rave_codegenerator_util_List,d=new b.com_ibm_rave_codegenerator_util_List;if(this.data&&this.data.rows)for(var c=0;c<this.data.rows.length;++c)d.add(c);a.add(d);return a},getDimensionIndex:function(a){var d=this.grammar.coordinates.scales.length,c=this.positions.length;if(c==d)return a;if(c==2*d)return Math.floor(a/2);if(c==d+1)return 2>a?0:a-1;throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Mismatch between scales and fields lengths");
},getFieldsForDimension:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0;c<this.positions.length;++c){var e=this.getDimensionIndex(c),g=this.positions[c].getBaseField();e==a&&g&&!d.contains(g)&&d.add(g)}if(b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.componentsAffectScale(this.type,a))for(c=0;c<this.components.length;++c)(g=this.components[c].getBaseField())&&!d.contains(g)&&d.add(g);return d},getFixedValues:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=this.positions,e=0;e<c.length;++e){var g=c[e];this.getDimensionIndex(e)==a&&g.getIncludeInRange()&&d.add(g.getNumber(null))}this.usesAugmentation()&&this.getFixedValuesFromAugmentedData(a,d);return d},getFixedValuesFromAugmentedData:function(a,d){var c=this.data.augmentation.getGlobalBounds(),e;this.grammar.coordinates.scales.length>a&&0<this.grammar.coordinates.scales[a].spans.size()&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.grammar.coordinates.scales[a].spans.get(0),b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)&&
(e=this.grammar.coordinates.scales[a].spans.get(0));0==a?e&&e.isNumDomainDefinedInSpec()&&!this.data.augmentation.getIncludeInRange()||(d.add(c.y),d.add(c.y+c.hh_2)):1!=a||e&&e.isNumDomainDefinedInSpec()&&!this.data.augmentation.getIncludeInRange()||(d.add(c.x),d.add(c.x+c.wt_3))},makeStackRange:function(a){var d=b.com_ibm_vis_engine_internal_data_Range.ZERO;if(!(1>this.positions.length)&&this.usesStacking()){var c=new b.com_ibm_rave_codegenerator_util_Map,e=this.positions[0],g;e.getBaseField()&&
(g=e.getBaseField().label);for(var k=this.gw$1(),f=0,v=k.length;f<v;++f){var u=k[f],h=e.getNumber(u);if(null!=h&&h==h){var u=this.grammar.faceting.updateKey(b.com_ibm_vis_engine_internal_grammar_element_Element.me$43(u,this.positions),u),l=c.get(u);l||(l=b.com_ibm_vis_engine_internal_data_Range.ZERO);0>h?(l=new b.com_ibm_vis_engine_internal_data_Range(l.min+h,l.max),d=d.unionValue(l.min)):(l=new b.com_ibm_vis_engine_internal_data_Range(l.min,l.max+h),d=d.unionValue(l.max));c.put(u,l)}}null!=g&&((l=
a.get(g))&&(d=d.createUnion(l)),a.put(g,d))}},gw$1:function(){if(!this.positions||2>this.positions.length||!this.positions[1].getBaseField()||this.positions[1].getBaseField().isCategorical()||"line"!=this.type&&"area"!=this.type)return this.data.rows;for(var a=this.makeDataGroups(),d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.arrayIterator(),g=e.length;c<g;++c)d.add(this.gg$7(e[c]));c=new b.com_ibm_rave_codegenerator_util_List;for(e=0;e<d.size();++e)c.add(this.gn$19(d.get(e),a.get(e)));d=
new b.com_ibm_rave_codegenerator_util_List;d.addAll(b.com_ibm_rave_codegenerator_util_BasicFactory.asList(this.data.rows));for(e=0;e<c.size();++e)(g=this.iw$1(c.get(e),a.get(e)))&&d.addAll(b.com_ibm_rave_codegenerator_util_BasicFactory.asList(g));return d.toArray(Array(d.size()))},iw$1:function(a,d){if(0==a.size()||0==d.size())return null;for(var c=Array(a.size()),e=this.data.rows[d.get(0)].data,g=0;g<a.size();++g){for(var k=b.com_ibm_rave_codegenerator_lang_Array.create([e.length],0),f=0;f<k.length;++f)k[f]=
e[f];k[this.positions[1].getBaseField().ie_4]=a.get(g);k[this.positions[0].getBaseField().ie_4]=this.ie$45(a.get(g),d);c[g]=b.com_ibm_vis_engine_internal_data_Row.createRow(k,-1)}return c},ie$45:function(a,b){for(var c=4.9E-324,e=1.7976931348623157E308,g,k,f=0;f<b.size();++f){var v=this.data.rows[b.get(f)],u=this.positions[1].getNumber(v);null!=u&&(u<a&&u>c?(c=u,g=this.positions[0].getNumber(v)):u>a&&u<e&&(e=u,k=this.positions[0].getNumber(v)))}return null==g&&null==k?null:null==g?k/2:null==k?g/2:
(g+k)/2},gn$19:function(a,d){for(var c=this.positions[1],e=new b.com_ibm_rave_codegenerator_util_List,g=0;g<this.data.rows.length;++g)if(!d.contains(g)){var k=c.getNumber(this.data.rows[g]);null!=k&&(e.contains(k)||!a.contains(k)||this.ie$46(k,d)||e.add(k),e.contains(k)||!a.contains(k)||this.ie$46(k,d)||e.add(k))}return e},ie$46:function(a,b){for(var c=this.positions[1],e=0;e<b.size();++e){var g=this.data.rows[b.get(e)],g=c.getNumber(g);if(null!=g&&a==g)return!0}return!1},gg$7:function(a){for(var d=
1.7976931348623157E308,c=4.9E-324,e=this.positions[1],g=0;g<a.size();++g){var k=this.data.rows[a.get(g)],k=e.getNumber(k);null!=k&&(d=Math.min(k,d),c=Math.max(k,c))}return new b.com_ibm_vis_engine_internal_data_Range(d,c)},setInputDomainRange:function(a){if(this.positions)for(var d=0;d<this.positions.length;++d){var c=this.positions[d],e=c.getRange(),g=c.span;e&&null!=g&&0<=g&&g<a.spans.size()&&(e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(e,c.getUnit(),a.spans.get(g).getInputUnit()));
a.setRangeForSpan(e,g)}},getDataRange:function(a,d){for(var c=b.com_ibm_vis_engine_internal_data_Range.EMPTY,e=0,g=this.getFieldsForDimension(a).arrayIterator(),k=g.length;e<k;++e){var f=g[e];f.unit.equals(d)&&f.range.isComplete()&&(c=c.createUnion(b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertRange(f.range,f.unit,d)))}return c},getLegendSymbolSize:function(){var a=this.extent;this.extent||(this.extent=this.getPreferredSize());var b=this.calculateDefaultShapeSize(this.spec.style);
this.extent=a;return b},getLinkTarget:function(){if("edge"!=this.spec.type&&"path"!=this.spec.type||!this.layout||null==this.spec.positioning.method)return null;var a=this.spec.positioning.method;if("chord"==a)return"*";if(("link"==a||"sankey"==a||"route"==a)&&(a=this.layout.adapter.getElementItems(this.spec.positioning.id.$ref))&&!a.isEmpty())for(var d=0,c=a.keySet().arrayIterator(),e=c.length;d<e;++d){var g=a.get(c[d]).id;if(null!=g)return b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(g)}return null}});
b.com_ibm_vis_engine_internal_grammar_element_Element.iD$1=function(a){for(var b=Array(a.length),c=0;c<a.length;++c)a[c].valueProvider.getBaseField()?b[c]=a[c].valueProvider.getBaseField().id:b[c]=null;return b};b.com_ibm_vis_engine_internal_grammar_element_Element.it$5=function(a,d){var c;if(d.components){var e=d.components;c=Array(e.length);for(var g=0;g<c.length;++g)c[g]=b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeComponentProvider(e[g],a)}else c=[b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT,
b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT];return c};b.com_ibm_vis_engine_internal_grammar_element_Element.id$4=function(a){for(var b=Array(a.length),c=0;c<a.length;++c)a[c].getBaseField()?b[c]=[a[c].getBaseField().id]:b[c]=null;return b};b.com_ibm_vis_engine_internal_grammar_element_Element.in$6=function(a,d){var c;if(d.positioning)c=[b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT,b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.DEFAULT];
else{var e=d.position;if(e){c=Array(e.length);for(var g=0;g<c.length;++g)c[g]=b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makePositionProvider(e[g],a)}else c=b.com_ibm_vis_engine_internal_grammar_element_Element.EMPTY_VALUE_PROVIDERS}return c};b.com_ibm_vis_engine_internal_grammar_element_Element.st$7=function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;if(a.getRows()){for(var e=0,g=a.getRows(),k=g.length;e<k;++e){var f=g[e],v=d.rows;if(v&&v.length>f&&(f=v[f],f.originalRows))for(v=
0;v<f.originalRows.size();++v){var u=f.originalRows.get(v);c.add(u)}}0<c.size()&&a.setOriginalRows(c.toArray())}};b.com_ibm_vis_engine_internal_grammar_element_Element.vt$2=function(a,d,c){if((a=a.ce_40)&&a.grammar&&0!=a.grammar.length){a=a.grammar;for(var e=0,g=a.length;e<g;++e){var k=a[e].elements;k&&0<k.length&&b.com_ibm_vis_engine_internal_grammar_element_Element.vt$3(d,c,k)}}};b.com_ibm_vis_engine_internal_grammar_element_Element.vt$3=function(a,d,c){for(var e=0,g=c.length;e<g;++e){var k=c[e],
f=k.position;f&&0<f.length&&b.com_ibm_vis_engine_internal_grammar_element_Element.rt$3(a,k)&&b.com_ibm_vis_engine_internal_grammar_element_Element.vn$2(a,d,f)}};b.com_ibm_vis_engine_internal_grammar_element_Element.vn$2=function(a,d,c){for(var e=0,g=c.length;e<g;++e){var k=c[e].field;if(k&&null!=k.$ref&&!d.contains(k.$ref))throw new b.com_ibm_vis_exceptions_internal_SpecException("Field id '"+k.$ref+"' does not exist in data source '"+a.id+"'.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_DATA_FIELD_REFERENCE);
}};b.com_ibm_vis_engine_internal_grammar_element_Element.rt$3=function(a,b){return b.data&&null!=b.data.$ref&&b.data.$ref==a.id};b.com_ibm_vis_engine_internal_grammar_element_Element.al$5=function(a,d,c,e){for(var g=a.elementLabelIterator(0),k=0,f=e.arrayIterator(),v=f.length;k<v;++k)e=f[k],g.seekTo(e),(e=b.com_ibm_vis_engine_internal_grammar_element_Element.gI$3(d,e.id))?g.replace(e.getShapeLabel()):g.remove();b.com_ibm_vis_engine_internal_grammar_element_Element.sd$8(d,c);c=0;d=d.arrayIterator();
for(g=d.length;c<g;++c)f=d[c],e=f.getShapeLabel(),k=f.getLabelLine(),f=f.getElementShape(),k&&e&&null!=e.getText()&&0<e.getText().CPVISEngineTrim().length&&a.addLabelLine(k,f,e,!1)};b.com_ibm_vis_engine_internal_grammar_element_Element.ae$20=function(a,b,c){var e=a.plaqueIterator(),g=0;b=b.arrayIterator();for(var k=b.length;g<k;++g){var f=b[g];if(1004==f.getType()||1002==f.getType()){var v=a.getLabelForPlaque(f);a.elementLabelIterator(0).seekTo(v)?null!=v.getText()&&0==v.getText().CPVISEngineTrim().length?
(e.seekTo(f),e.remove()):c.adjustPlaqueBounds(v,f):(f.setWidth(0),f.setHeight(0))}}};b.com_ibm_vis_engine_internal_grammar_element_Element.gI$3=function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k.getShapeLabel()){var f=k.getShapeLabel().id;if(null!=f&&f==b)return k}}return null};b.com_ibm_vis_engine_internal_grammar_element_Element.sd$8=function(a,b){for(var c=b+"LN",e=0,g=0,k=a.arrayIterator(),f=k.length;g<f;++g){var v=k[g].getLabelLine();v&&v.setID(c+e++)}};b.com_ibm_vis_engine_internal_grammar_element_Element.bo$3=
function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_element_Element.gz$13(a),e=b.com_ibm_vis_engine_internal_grammar_element_Element.be$4(c,a.width,d.wt_2),c=b.com_ibm_vis_engine_internal_grammar_element_Element.be$4(c,a.height,d.hh_1);return[e,c]};b.com_ibm_vis_engine_internal_grammar_element_Element.gz$13=function(a){var d=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;null!=a.size&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a.size)||b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.size)?
d.preferred=a.size:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.size,b.com_ibm_vis_spec_internal_PreferredSizeSpec)&&(d=a.size));return d};b.com_ibm_vis_engine_internal_grammar_element_Element.be$4=function(a,d,c){var e=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;null!=d&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)||b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)?e.preferred=d:e=d);null==e.preferred&&(e.preferred=null==a.preferred?c:a.preferred);null==e.max&&
(e.max=a.max);null==e.min&&(e.min=a.min);return e};b.com_ibm_vis_engine_internal_grammar_element_Element.isStrokeShape=function(a){return"path"==a||"line"==a||"edge"==a};b.com_ibm_vis_engine_internal_grammar_element_Element.id$5=function(a){return"interval"==a||"polygon"==a||"area"==a};b.com_ibm_vis_engine_internal_grammar_element_Element.at$8=function(a){var b=a.getParts();if(b)for(var c=0,e=b.length;c<e;++c)b[c].setKey(a.getKey())};b.com_ibm_vis_engine_internal_grammar_element_Element.an$7=function(a){if(!a)return null;
for(var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder("["),c=0;c<a.length;++c)d.append(a[c]),c<a.length-1&&d.appendChar(44);d.appendChar(93);return d.toString()};b.com_ibm_vis_engine_internal_grammar_element_Element.me$43=function(a,b){if(2>b.length)return"";var c=b[1].getNumber(a);if(null==c)return"";for(var c=""+c,e=2;e<b.length;++e){var c=c+"|",g=b[e].getNumber(a);null!=g&&(c+=g)}return c};b.com_ibm_vis_engine_internal_grammar_element_Element.LABEL_KEY_SUFFIX="|L";b.com_ibm_vis_engine_internal_grammar_element_Element.BI_2=
"|BL";b.com_ibm_vis_engine_internal_grammar_element_Element.LABEL_ID_PREFIX="L";b.com_ibm_vis_engine_internal_grammar_element_Element.LABEL_LINE_ID_PREFIX="LN";b.com_ibm_vis_engine_internal_grammar_element_Element.NO_CLIP=4;b.com_ibm_vis_engine_internal_grammar_element_Element.AT_BOUND_CLIP=2;b.com_ibm_vis_engine_internal_grammar_element_Element.OVERLAP_CLIP=1;b.com_ibm_vis_engine_internal_grammar_element_Element.CL_1="arc";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_element_Element.OUTSIDE=
"outside";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_TEXT="text";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_POINT="point";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_INTERVAL="interval";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_SCHEMA="schema";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_EDGE="edge";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_PATH="path";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_LINE=
"line";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_POLYGON="polygon";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_AREA="area";b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_SCHEMA_BOXPLOT=b.com_ibm_vis_internal_SpecConstants.SCHEMABOXPLOT;b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_CUSTOM="custom";b.com_ibm_vis_engine_internal_grammar_element_Element.AT_BOUND="atBounds";b.com_ibm_vis_engine_internal_grammar_element_Element.NONE="none";
b.com_ibm_vis_engine_internal_grammar_element_Element.OVERLAP="overlap";b.com_ibm_vis_engine_internal_grammar_element_Element.SYMBOL_PART="symbol";b.com_ibm_vis_engine_internal_grammar_element_Element.SMOOTH_INTERPOLATION="smooth";b.com_ibm_vis_engine_internal_grammar_element_Element.META_PART="part";b.com_ibm_vis_engine_internal_grammar_element_Element.DODGE_POSITION_MODIFIER="dodge";b.com_ibm_vis_engine_internal_grammar_element_Element.SIZE_MODIFIER_TYPE_HEIGHT="height";b.com_ibm_vis_engine_internal_grammar_element_Element.SIZE_MODIFIER_TYPE_WIDTH=
"width";b.com_ibm_vis_engine_internal_grammar_element_Element.EMPTY_VALUE_PROVIDERS=[];b.com_ibm_vis_engine_internal_grammar_element_Element.ce_34=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_grammar_element_Element.ce_34.add("area");b.com_ibm_vis_engine_internal_grammar_element_Element.ce_34.add("line");b.com_ibm_vis_engine_internal_grammar_element_Element.ce_34.add("polygon");b.com_ibm_vis_engine_internal_grammar_element_Element.ce_34.add("path")});b.com_ibm_vis_engine_internal_grammar_label_TooltipProducer=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_label_AbstractLabelProducer,{constructor:function(a,b,c,e){this.te_11=e},gn$26:function(){return this.te_11.content&&0<this.te_11.content.length?this.te_11.content:null},makeTooltip:function(a){a=this.mn$24(a);return new b.com_ibm_vis_engine_internal_grammar_label_Tooltip(a,this.vis)},mn$24:function(a){var d=this.gn$26();if(d){if(null!=this.part&&(null==a.getElementPart()||this.part!=a.getElementPart()))return null;for(var c=0,e=d.length;c<
e;++c)if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d[c],b.com_ibm_vis_spec_internal_FieldValueRefSpec)&&!a.getRows())return null;return this.makeContentFor(d,a)}return null}});b.com_ibm_vis_engine_internal_grammar_label_Tooltip=b.com_ibm_init_declare({FL_5:"font-style",FZ_1:"font-size",FL_4:"font-family",FH_1:"font-weight",CO_2:"color",OT_1:"opacity",AU_1:"value",EN_2:"",constructor:function(a,b){this.cn_14=a;this.vis=b;this.cn$25();this.setRegularTooltip();this.setFormattedTooltip()},
cn$25:function(){this.tn_5='\x3ca ,style\x3d",font-style:,,;,font-size :,,;,font-family:,,;,font-weight:,,;,color:,,;,opacity:,,;,",\x3e,,\x3c/a\x3e'.split(",");var a=this.ge$42();this.pn$3(a)},ge$42:function(){var a=new b.com_ibm_rave_codegenerator_util_Map;a.put(this.FL_5,this.EN_2);a.put(this.FZ_1,this.EN_2);a.put(this.FL_4,this.EN_2);a.put(this.FH_1,this.EN_2);a.put(this.CO_2,this.EN_2);a.put(this.OT_1,this.EN_2);a.put(this.AU_1,this.EN_2);return a},pn$3:function(a){this.tn_5[3]=a.get(this.FL_5);
this.tn_5[6]=a.get(this.FZ_1);this.tn_5[9]=a.get(this.FL_4);this.tn_5[12]=a.get(this.FH_1);this.tn_5[15]=a.get(this.CO_2);this.tn_5[18]=a.get(this.OT_1);this.tn_5[22]=a.get(this.AU_1)},setRegularTooltip:function(){if(this.cn_14){var a=this.cn_14.getText();this.ti_5=b.com_ibm_vis_engine_internal_globalization_NumericShaper.shape(a,this.vis.vx_10.getNumericShapingInfo())}},setFormattedTooltip:function(){this.cn_14&&this.cn_14.hasPartStyles()&&(this.fi_3=this.bi$1(this.cn_14))},bi$1:function(a){var d=
a.getContent();a=new b.com_ibm_rave_codegenerator_lang_StringBuilder;for(var c=0,d=d.arrayIterator(),e=d.length;c<e;++c){var g=d[c];if(g.isString()){var k=b.com_ibm_vis_engine_internal_globalization_NumericShaper.shape(g.getValue(),this.vis.vx_10.getNumericShapingInfo());g.getStyle()?a.append(this.an$8(k,g.getFont(),this.de$5(g),g.getStyle().fill)):a.append(k)}}return a.toString()},de$5:function(a){return a.getStyle().font?!1:!0},an$8:function(a,d,c,e){var g=this.ge$42();this.cn$25();if(!c){d.bold&&
g.put(this.FH_1,"bold");"italic"==d.sl_5?g.put(this.FL_5,"italic"):g.put(this.FL_5,"regular");var k=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.size).toString();d=d.fl_3;g.put(this.FZ_1,k+"px");g.put(this.FL_4,d)}g.put(this.AU_1,a);(a=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(e))||(a=b.com_ibm_vis_engine_internal_ColorUtil.createDefaultColor());e=a.getRGBA();a="rgb("+b.com_ibm_vis_engine_internal_util_MathUtil.r3(e[0])+","+b.com_ibm_vis_engine_internal_util_MathUtil.r3(e[1])+","+
b.com_ibm_vis_engine_internal_util_MathUtil.r3(e[2])+")";e=String.CPVisEngineValueOf(b.com_ibm_vis_engine_internal_util_MathUtil.r3(e[3]));g.put(this.CO_2,a);g.put(this.OT_1,e);this.pn$3(g);c&&this.rn$5();return this.gn$25()},rn$5:function(){for(var a=0;a<this.tn_5.length;++a)if(this.tn_5[a].CPVISEngineStartsWith("font")){this.tn_5[a]="";var b=a;this.tn_5[++b]="";this.tn_5[++b]=""}},gn$25:function(){for(var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder,d=0,c=this.tn_5,e=c.length;d<e;++d)a.append(c[d]);
return a.toString()},getRegularTooltip:function(){return this.ti_5},getFormattedTooltip:function(){return this.fi_3}});b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_IdentifiableItem,{typeNumber:0,mt_4:!1,st_12:!1,an_8:!1,ud_1:!1,constructor:function(a,d,c,e,g,k){this.vis=d;this.type=c;this.element=e;this.labelProducer=g;this.valueProvider=b.com_ibm_vis_engine_internal_grammar_values_ValueProviderFactory.makeAestheticProvider(k,this.vis);
this.spec=k;if("size"==c)this.typeNumber=4,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer,this.st_12=this.an_8=this.ud_1=!0;else if("dashing"==c)this.typeNumber=8,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer,this.st_12=this.an_8=this.ud_1=!0;else if("color"==c)this.typeNumber=2,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_ColorAestheticValueProducer,this.st_12=this.an_8=this.ud_1=!0;else if("meta"==
c)this.typeNumber=16,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_MetaAestheticValueProducer(k.key,this.valueProvider),this.st_12=this.an_8=this.ud_1=!1;else if(c==b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ACCESSIBILITY_KEYWORD)b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),this.typeNumber=1024,b.com_ibm_vis_internal_accessibility_AccessibilityValidation.validateAccessibilityAestheticSpec(this.vis,this.spec),this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_AccessibilityAestheticValueProducer(this.vis.vx_10,
k.key,this.valueProvider),this.st_12=this.an_8=this.ud_1=!1;else if("symbol"==c)this.typeNumber=32,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_SymbolAestheticValueProducer(this.element,this.vis.vx_10,!0),this.st_12=this.an_8=this.ud_1=!0;else if("font"==c)this.typeNumber=1,this.st_12=this.an_8=this.ud_1=!0,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_FontAestheticValueProducer(this.vis.vx_10);else if("split"==c)this.typeNumber=64,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_SplitAestheticValueProducer,
this.an_8=this.ud_1=!1,this.st_12=!0;else if("styleBy"==c)this.typeNumber=128,this.pe_13=a=new b.com_ibm_vis_engine_internal_grammar_aesthetic_StyleByAestheticValueProducer(this.vis.vx_10,this.element,k),this.ud_1=a.hasDefaultLegendProperties(),this.st_12=this.an_8=!0;else if("visibility"==c)this.typeNumber=256,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_VisibilityAestheticValueProducer,this.st_12=this.an_8=this.ud_1=!0;else if("offset"==c)this.typeNumber=512,this.pe_13=new b.com_ibm_vis_engine_internal_grammar_aesthetic_OffsetAestheticValueProducer(this.element.grammar.coordinates),
this.st_12=this.an_8=this.ud_1=!1;else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unsupported aesthetic: "+c);a=k.modifies;null==k.modifies?(this.mr_4=null,this.mp_1=4==this.typeNumber?e.getDefaultSizeModifierType(e.grammar.coordinates.transposesAxes()):null,this.mt_4=!1):b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?(this.mp_1=a,this.mr_4=null,this.mt_4=!1):(this.mr_4=a.part,d=a.type,this.mp_1=null==d&&4==this.typeNumber?e.getDefaultSizeModifierType(e.grammar.coordinates.transposesAxes()):
d,this.mt_4=null!=a.descendants?a.descendants.valueOf():!1);this.pt_4=b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticPalette.makePalette(this.pe_13,k);e=this.valueProvider.isCategorical();a=this.vis.vx_10;k.scale?(null!=k.scale.local&&(e=k.scale.local.valueOf()),d=new b.com_ibm_rave_codegenerator_util_List,d.add(this.valueProvider.getUnit()),c=new b.com_ibm_rave_codegenerator_util_List,this.valueProvider.getBaseField()&&c.add(this.valueProvider.getBaseField()),this.scale=b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.createFromSpec(k.scale,
!1,e,c,d,this.vis,null,null),this.valueProvider.getBaseField()&&(d=new b.com_ibm_vis_engine_internal_grammar_scale_Scale(null,this.vis.getSize()),b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.makeForProvider(d,this.valueProvider,e,a).createSpansFromProvider(this.valueProvider,null),this.scale.useValuesFrom(d))):(this.scale=new b.com_ibm_vis_engine_internal_grammar_scale_Scale(null,this.vis.getSize()),b.com_ibm_vis_engine_internal_grammar_scale_ScaleBuilder.makeForProvider(this.scale,this.valueProvider,
e,a).createSpansFromProvider(this.valueProvider,null));var f;this.valueProvider.isCategorical()&&this.valueProvider.getBaseField()&&(f=this.scale.getCategoryCount());this.scale.initializeForRequiredTickCount(f);this.mn_5=b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.makeMapping(this.pe_13,k,this.scale,this.valueProvider);this.nu_3=this.pe_13.make(k.nullValue)},isSplitting:function(){return this.st_12},isDefaultLegendAesthetic:function(){return this.ud_1},isApplicableToLegend:function(){return this.an_8},
apply:function(a,b){var c=this.valueProvider.getNumber(b);if(c==c){var e=this.scale.toZeroOneClamped(c,this.valueProvider.getUnit());if(null!=e){var g=this.gp$7(a),c=this.getAestheticValue(g,e,c,!0,this.mp_1);return this.applyAestheticValue(a,c,this.mp_1)}}else return null!=this.nu_3?this.applyAestheticValue(a,this.nu_3,this.mp_1):this.applyAestheticValue(a,null,this.mp_1);return a},gp$7:function(a){var b=a.getParts();if(b&&null!=this.mr_4)for(var c=0;c<b.length;++c){if(this.mr_4==b[c].getElementPart())return b[c];
var e=this.gp$7(b[c]);if(b[c]!=e)return e}return a},applyValue:function(a,b,c,e){b=this.getAestheticValue(a,b,c,e,this.mp_1);return this.applyAestheticValue(a,b,this.mp_1)},modifiesSymbol:function(){return 32==this.typeNumber||"symbol"==this.mr_4},getProducer:function(){return this.pe_13},getMapping:function(){return this.mn_5},getPalette:function(){return this.pt_4},getModifiesType:function(){return this.mp_1},getAestheticValue:function(a,b,c,e,g){this.valueProvider.isCategorical()?(c=Math.round(c),
a=this.scale.getScaleCategoryIndex(c,this.valueProvider.getUnit()),e&&this.valueProvider.getBaseField()&&this.valueProvider.getBaseField().order?(a=this.valueProvider.getBaseField().order[a],e=this.pe_13.applyCategoricalMapping(a,this.mn_5)):e=this.pe_13.applyCategoricalMapping(c,this.mn_5),null==e&&(e=this.pe_13.makeUsingPalette(a,c,this.pt_4,this.valueProvider)),null==e&&(e=this.pe_13.getDefaultForCategory(a,c,b))):(e=this.pe_13.applyNumericMapping(a,b,this.mn_5,g),null==e&&(e=this.pe_13.getDefaultForNumeric(b,
c)));return e},applyAestheticValue:function(a,d,c){var e=a;512==this.typeNumber&&this.pe_13.setGrammarSize(this.element.grammar.graphSize);var g=!1;if(null==this.mr_4||this.mr_4==e.getElementPart())this.pt$1(e,!0),e=this.pe_13.modify(e,d,c),g=!0,this.pt$1(e,!1);if(e!=a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_struct_Schema))return e;this.mt$12(e,d,g);return e},mt$12:function(a,d,c){var e=4==this.typeNumber;if(!e||null!=this.mr_4)if(a=a.getParts())for(var g=
0;g<a.length;++g){var k=!1,f=!0;if(null==this.mr_4||this.mr_4==a[g].getElementPart()||c&&this.mt_4&&!e){var v=a[g];a[g]=this.pe_13.modify(a[g],d,this.mp_1);k=!0;if(e||a[g]!=v&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a[g],b.com_ibm_vis_engine_internal_struct_Schema))f=!1}f&&this.mt$12(a[g],d,k)}},pt$1:function(a,b){if(a.getParts()&&4==this.typeNumber)for(var c=a.getParts(),e=0;e<c.length;++e){var g=c[e].getScaleDimensions(),g=3==g||0==g;c[e].setRelativeToParent(b&&g)}}});b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.getElementAesthetics=
function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"styleBy",a,d.styleBy);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"size",a,d.size);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"symbol",a,d.symbol);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"offset",a,d.offset);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"color",a,d.color);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,
"dashing",a,d.dashing);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"font",a,d.font);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"meta",a,d.meta);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"split",a,d.split);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,"visibility",a,d.visibility);b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3(c,b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ACCESSIBILITY_KEYWORD,
a,d.accessibility);return c.toArray(Array(c.size()))};b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ai$3=function(a,d,c,e){if(e)for(var g=0,k=e.length;g<k;++g){var f=e[g];a.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(f.id,c.grammar.vis,d,c,null,f))}};b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.getLabelAesthetics=function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;c.color&&e.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(c.color.id,
a.grammar.vis,"color",a,d,c.color));c.size&&e.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(c.size.id,a.grammar.vis,"size",a,d,c.size));c.font&&e.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(c.font.id,a.grammar.vis,"font",a,d,c.font));c.visibility&&e.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(c.visibility.id,a.grammar.vis,"visibility",a,d,c.visibility));return 0==e.size()?null:e.toArray(Array(e.size()))};b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.make=
function(a,d,c,e,g){return new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(a,d,c,e,null,g)};b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.makeForLabelProducer=function(a,d,c,e,g,k){return new b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic(a,d,c,e,g,k)};b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.FONT_NUMBER=1;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.COLOR_NUMBER=2;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.SIZE_NUMBER=
4;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.DASHING_NUMBER=8;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.META_NUMBER=16;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.SYMBOL_NUMBER=32;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.SPLIT_NUMBER=64;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.STYLE_BY_NUMBER=128;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.VISIBILITY_NUMBER=256;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.OFFSET_NUMBER=
512;b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ACCESSIBILITY_NUMBER=1024;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.FONT_KEYWORD="font";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.COLOR_KEYWORD="color";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.SIZE_KEYWORD="size";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.DASHING_KEYWORD="dashing";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.META_KEYWORD=
"meta";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.SYMBOL_KEYWORD="symbol";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.SPLIT_KEYWORD="split";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.STYLE_BY_KEYWORD="styleBy";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.VISIBILITY_KEYWORD="visibility";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.OFFSET_KEYWORD="offset";b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic.ACCESSIBILITY_KEYWORD=
b.com_ibm_vis_internal_SpecConstants.ACCESSIBILITY});b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer=b.com_ibm_init_declare({getGrammarSize:function(){return this.gz_2},setGrammarSize:function(a){this.gz_2=a},getDefaultForNumeric:function(a,b){return this.interpolate(null,null,a)},makeUsingPalette:function(a,b,c,e){return e.isCategorical()&&c?this.getAestheticFromPalette(a,b,c):null},applyCategoricalMapping:function(a,b){return b?b.getCategoryValue(a):null},applyNumericMapping:function(a,
b,c,e){if(!c||0==c.size())return null;for(var g=0,k=c.size()-1,f=0;f<c.size();++f){if(c.getStop(f)<b||1E-8>Math.abs(b-c.getStop(f)))g=f;if(c.getStop(f)>b||1E-8>Math.abs(c.getStop(f)-b)){k=f;break}}var f=c.getValue(g),v=c.getValue(k);return this.calculateNumericMapping(a,b,c,g,k,f,v,e)},calculateNumericMapping:function(a,d,c,e,g,k,f,v){a=k;b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)&&(k=this.interpolate(null,null,1),a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a,
k,k));b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)&&(k=this.interpolate(null,null,1),f=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f,k,k));if(e==g)return a;d=(d-c.getStop(e))/(c.getStop(g)-c.getStop(e));return this.interpolate(a,f,d)}});b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{getMappingValueSpec:function(a){if(a&&null==a.size)throw new b.com_ibm_vis_exceptions_internal_SpecException("Size aesthetic should use 'size' aesthetic value in mapping.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.size:null},make:function(a){return a},calculateNumericMapping:function(a,d,c,e,g,k,f,v){var u=k;k=!1;null==u?k=!0:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(u)?(k=u.CPVISEngineEndsWith("%"),u=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(u,100,100)):b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(u)&&(k=0==u);if(e==g)null==u&&(u=this.interpolate(null,null,d)),k&&(u+="%");else{var h=
!1;null==f?h=!0:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)?(h=f.CPVISEngineEndsWith("%"),f=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f,100,100)):b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(f)&&(h=0==f);d=(d-c.getStop(e))/(c.getStop(g)-c.getStop(e));k!=h?(a=a.getBounds(),"height"==v||a.wt_3==a.hh_2?(k?f=f/a.hh_2*100:u=u/a.hh_2*100,u=this.interpolate(u,f,d)+"%"):"width"==v?(k?f=f/a.wt_3*100:u=u/a.wt_3*100,u=this.interpolate(u,f,d)+"%"):(v=c=
u,e=g=f,k?(e=f/a.wt_3*100,g=f/a.hh_2*100):(v=u/a.wt_3*100,c=u/a.hh_2*100),u=new b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticScaleValue(this.interpolate(v,e,d)/100,this.interpolate(c,g,d)/100))):(u=this.interpolate(u,f,d),k&&(u+="%"))}return u},modify:function(a,d,c){if(null==d)return a;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text)&&a.setSizeAestheticValue(d);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticScaleValue))return b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.mn$22(a,
d.wl_1,d.hl_2,c);var e;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)){if(e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d,100,100),d.CPVISEngineEndsWith("%"))return e/=100,b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.mn$22(a,e,e,c)}else e=d;return b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.modifyByPixels(a,e,c)},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,
b,c){return 100*c+"%"},interpolate:function(a,b,c){a=null==a?0:a;return a+c*((null==b?100:b)-a)},getDefaultForNumeric:function(a,b){return this.interpolate(20,100,a)+"%"}});b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.mn$22=function(a,d,c,e){a.isFilled()?"outline"==e?b.com_ibm_vis_engine_internal_scene_StyleBuilder.scaleStrokeSize(a,d):"height"==e?a.scale(1,c):"width"==e?a.scale(d,1):a.scale(d,c):b.com_ibm_vis_engine_internal_struct_Path.isBarLike(a)?null==a.getSymbol()||
"i-beam"!=a.getSymbol()&&"t-beam"!=a.getSymbol()||"width"!=e?b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.scaleByDimension(a,d,c):b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.scaleByDimension(a,d,1):"outline"!=e&&"height"!=e&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.scaleStrokeSize(a,c);return a};b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.modifyByPixels=function(a,d,c){var e,g=a.getContainingShape();
e=g&&1010==g.getType()?(new b.com_ibm_vis_engine_internal_Bounds(a.getBoundsSpec(),null)).getRectWithinParent(g.getGeom().copy()):a.getBounds();if(a.isFilled()){if("outline"==c)return b.com_ibm_vis_engine_internal_scene_StyleBuilder.setStrokeSize(a,d),a;e&&(g=e.hh_2,e=e.wt_3,0<g&&"height"==c?a.scale(1,d/g):0<e&&"width"==c?a.scale(d/e,1):0<e&&0<g&&a.scale(d/e,d/g))}else b.com_ibm_vis_engine_internal_struct_Path.isBarLike(a)?e&&0<e.wt_3&&0<e.hh_2&&a.scale(d/e.wt_3,d/e.hh_2):"outline"!=c&&"height"!=
c&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.setStrokeSize(a,d);return a};b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.scaleByDimension=function(a,b,c){var e=a.getScaleDimensions();a.scale(2==e?1:b,1==e?1:c)};b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.DT_4=20;b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticValueProducer.DT_3=100;b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping=b.com_ibm_init_declare({constructor:function(a,
d,c,e){this.cg$7(c,e);var g=new b.com_ibm_rave_codegenerator_util_NumericMap;this.ae$18(d,c);for(var k=0;k<d.length&&(null!=d[k].at||null!=d[k].atLabel);++k)for(var f=b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueFactory.createMapValue(d[k],a,c,e),v=0;v<f.size();++v){var u=f.get(v);u&&g.put(u.getStop(),u)}this.me_9=new b.com_ibm_rave_codegenerator_util_List(g.values());b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.me_9,new b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueComparator)},
cg$7:function(a,d){this.rg_5=d.getRange();var c=d.getUnit();a&&c&&this.rg_5&&(c=a.getMatchingSpan(this.rg_5.min,c))&&(this.rg_5=c.getAdjustedInputRange());this.rg_5||(this.rg_5=new b.com_ibm_vis_engine_internal_data_Range(0,0))},ae$18:function(a,d){for(var c=-1,e=-1,g=-1,k=-1,f=0,v=0,u=!1,h=0;h<a.length;++h){var l=a[h].at;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(l))if(l==b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.SYMMETRIC_LOWER)if(u=!0,g=h,h+1<a.length&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a[h+
1].at))f=a[h+1].at,c=f-this.rg_5.min;else throw new b.com_ibm_vis_exceptions_internal_SpecException("symmetricLower is not provided with a threshold. A threshold offset must be provided after symmetricLower value to calculate the Divergent Color Range.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);else if(l==b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.SYMMETRIC_UPPER)if(u=!0,k=h,0<=h-1&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a[h-1].at))v=a[h-1].at,e=
this.rg_5.max-v;else throw new b.com_ibm_vis_exceptions_internal_SpecException("symmetricUpper is not provided with a threshold. A threshold offset must be provided before symmetricUpper value to calculate the Divergent Color Range.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}if(d&&d.isCategorical()&&u)throw new b.com_ibm_vis_exceptions_internal_SpecException("symmetricUpper/symmetricLower is not applicable to categorical scale span",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
c>e?(-1!=g&&(a[g].at=f-c),-1!=k&&(a[k].at=v+c)):(-1!=k&&(a[k].at=v+e),-1!=g&&(a[g].at=f-e))},getCategoryValue:function(a){for(var b=0,c=this.me_9.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(g.getIndex()==a)return g.value}return null},getStop:function(a){return this.me_9.get(a).getStop()},getValue:function(a){return this.me_9.get(a).value},size:function(){return this.me_9.size()},getRange:function(){return this.rg_5}});b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.makeMapping=
function(a,d,c,e){if(!d.mapping)return null;b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.cp$4(e,d.mapping);return new b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping(a,d.mapping,c,e)};b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.cp$4=function(a,d){var c;a&&(c=a.getBaseField());c=c&&c.isCategorical();for(var e=0,g=d.length;e<g;++e){var k=d[e];if(null!=k.at){var f=k.at.toString();if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(k.at)&&
!f.CPVISEngineEndsWith("%")&&f!=b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.SYMMETRIC_UPPER&&f!=b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.SYMMETRIC_LOWER&&!c)throw new b.com_ibm_vis_exceptions_internal_SpecException('Mapping stops values as string different than "symmetricUpper", "symmetricLower", or a percentage value are invalid.',b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(c&&f.CPVISEngineEndsWith("%"))throw new b.com_ibm_vis_exceptions_internal_SpecException("Percentage indexes are not allowed in mappings for categorical fields.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}}};b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.SYMMETRIC_LOWER="symmetricLower";b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapping.SYMMETRIC_UPPER="symmetricUpper";b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValue=b.com_ibm_init_declare({constructor:function(a,b,c,e){this.value=a;this.index=b;this.zeroToOne=c.toZeroOne(b,e.getUnit(),e.span);null==this.zeroToOne&&(this.zeroToOne=0)},getStop:function(){return this.zeroToOne},
getIndex:function(){return this.index},getValue:function(){return this.value}});b.com_ibm_vis_engine_internal_grammar_aesthetic_PercentageAestheticMapValue=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValue,{constructor:function(a,b,c,e){this.zeroToOne=this.index=b/100}});b.com_ibm_vis_engine_internal_grammar_aesthetic_CategoricalAestheticMapValue=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValue,{getStop:function(){return this.index}});
b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueFactory.createMapValue=function(a,d,c,e){var g=d.getMappingValueSpec(a);d=d.make(g);g=new b.com_ibm_rave_codegenerator_util_List;if(null!=a.at)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.at)){a=a.at;var k=a.substring(0,a.length-1);a.CPVISEngineEndsWith("%")&&b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueFactory.canBeParsedToDouble(k)&&
g.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_PercentageAestheticMapValue(d,b.com_ibm_rave_codegenerator_lang_Double.parseDouble(k),c,e))}else b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a.at)&&(a=a.at,c.isCategorical()?g.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_CategoricalAestheticMapValue(d,a,c,e)):g.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValue(d,a,c,e)));else if(null!=a.atLabel)for(var k=e.getCategories(),f=0;f<k.length;++f)null!=
k[f]&&k[f]==a.atLabel&&g.add(new b.com_ibm_vis_engine_internal_grammar_aesthetic_CategoricalAestheticMapValue(d,f,c,e));return g};b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueFactory.canBeParsedToDouble=function(a){try{b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a)}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))return!1;throw d;}return!0};b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticMapValueComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,
{compare:function(a,b){var c=a.getStop(),e=b.getStop();return c>e?1:c<e?-1:0}});b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticPalette=b.com_ibm_init_declare({constructor:function(a,d){var c=d.palette;if(0==c.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("A palette must have at least one entry",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);this.pm_3=Array(c.length);for(var e=0;e<this.pm_3.length;++e)this.pm_3[e]=a.make(c[e])},getPaletteItem:function(a){return this.pm_3[Math.abs(a)%
this.pm_3.length]}});b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticPalette.makePalette=function(a,d){return d.palette?new b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticPalette(a,d):null};b.com_ibm_vis_engine_internal_grammar_aesthetic_SizeAestheticScaleValue=b.com_ibm_init_declare({wl_1:0,hl_2:0,constructor:function(a,b){this.wl_1=a;this.hl_2=b},getWidthScale:function(){return this.wl_1},getHeightScale:function(){return this.hl_2}});b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{getMappingValueSpec:function(a){if(a&&null==a.pattern)throw new b.com_ibm_vis_exceptions_internal_SpecException("Dashing aesthetic should use 'pattern' aesthetic value in mapping.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.pattern:null},make:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))for(var d=0;d<b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5.length;++d)if(b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5[d]==
a)return d;return 0},modify:function(a,d,c){if(null==d)return a;d=Math.round(d);b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyStrokeStyle(a,b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5[d]);return a},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,d,c){return Math.abs(a)%b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5.length},interpolate:function(a,d,c){a=null==a?0:
a;d=Math.round(a+c*((null==d?b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5.length:d)-a));d>=b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5.length&&--d;return d}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_aesthetic_DashingAestheticValueProducer.DE_5="Solid LongDashDotDot LongDashDot LongDash ShortDashDotDot ShortDashDot ShortDash DashDot Dash ShortDot Dot".split(" ")});b.com_ibm_vis_engine_internal_grammar_aesthetic_ColorAestheticValueProducer=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{constructor:function(){this.dt_4=b.com_ibm_vis_engine_internal_ColorUtil.getDefaultColors()},getMappingValueSpec:function(a){if(a&&null==a.color)throw new b.com_ibm_vis_exceptions_internal_SpecException("Color aesthetic should use 'color' aesthetic value in mapping.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.color:null},make:function(a){return b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(a)},
modify:function(a,d,c){if(null==d)return a;"outline"==c?(c=b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(d,a.getOutline()),b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyStrokeColor(a,c)):("both"==c&&(c=b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(d,a.getOutline()),b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyStrokeColor(a,c)),b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyMainColor(a,d));return a},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},
getDefaultForCategory:function(a,b,c){return this.dt_4[(0>a?-a:a)%this.dt_4.length]},interpolate:function(a,d,c){return null==a||null==d?b.com_ibm_vis_engine_internal_ColorUtil.temperature(c):a.interpolateWithColor(d,c)}});b.com_ibm_vis_engine_internal_grammar_aesthetic_MetaAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{constructor:function(a,d){this.key=a;var c;d.getBaseField()?(c=d.getBaseField().categories)&&0!=c.length||(c=
[""]):c=[d.getNumber(b.com_ibm_vis_engine_internal_data_Row.createEmptyRow(0,0))+""];this.ce_30=c},getMappingValueSpec:function(a){return null},make:function(a){return null},interpolate:function(a,d,c){throw new b.com_ibm_vis_exceptions_internal_EngineException("MetaAestheticValueProducer#interpolate was called",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);},modify:function(a,b,c){if(null==b)return a;a.setMeta(this.key,b.toString());return a},getAestheticFromPalette:function(a,
b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,b,c){a=b;0>a?a=0:a>=this.ce_30.length&&(a=this.ce_30.length-1);return this.ce_30[a]},getDefaultForNumeric:function(a,b){return b}});b.com_ibm_vis_engine_internal_data_Row=b.com_ibm_init_declare({index:0,constructor:function(a,b){this.data=a;this.index=b}});b.com_ibm_vis_engine_internal_data_Row.createRow=function(a,d){return new b.com_ibm_vis_engine_internal_data_Row(a,d)};b.com_ibm_vis_engine_internal_data_Row.createEmptyRow=function(a,
d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),e=0;e<c.length;++e)c[e]=NaN;return b.com_ibm_vis_engine_internal_data_Row.createRow(c,d)};b.com_ibm_vis_engine_internal_grammar_aesthetic_AccessibilityAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{it_3:!1,constructor:function(a,d,c){this.vx_2=a;this.key=d;this.it_3=b.com_ibm_vis_internal_accessibility_AccessibleInfo.isStringProperty(d);this.ce_29=(this.pe_12=c)?
c.getCategories():null},interpolate:function(a,d,c){return b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)?(1-c)*a+c*d:1<=c?d:a},getMappingValueSpec:function(a){if(a&&null==a.text&&null==a.value&&null==a.state)throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetic should use either 'text', 'value' or 'state' aesthetic value in mapping.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return this.it_3?
null!=a.text?a.text:a.value:a.state},make:function(a){return a},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(b)},getDefaultForCategory:function(a,b,c){return b},getDefaultForNumeric:function(a,b){return b},calculateNumericMapping:function(a,b,c,e,g,k,f,v){if(e==g)return k;a=(b-c.getStop(e))/(c.getStop(g)-c.getStop(e));return this.interpolate(k,f,a)},modify:function(a,b,c){if(!this.vx_2.gt_4)return a;this.it_3?(b=this.gu$9(b),a.getA11yInfo().setStringProperty(this.key,b)):(b=this.gu$10(b),
a.getA11yInfo().setBooleanProperty(this.key,b));return a},gu$9:function(a){if(null==a)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))return a;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a))return a.toString();if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return this.ce_29?(0>a&&(a=0),a>=this.ce_29.length&&(a=this.ce_29.length-1),this.ce_29[a]):this.pe_12&&this.pe_12.getBaseField()?this.pe_12.getBaseField().getFormattedStringValue(a,-1,null):
a.toString();throw new b.com_ibm_vis_exceptions_internal_EngineException("Bad data type passed to AccessibilityAestheticValueProvider#getStringValue",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);},gu$10:function(a){if(null==a)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))return!0;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a))return a;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return 0!=a;throw new b.com_ibm_vis_exceptions_internal_EngineException("Bad data type passed to AccessibilityAestheticValueProvider#getBooleanValue",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);}});b.com_ibm_vis_engine_internal_grammar_aesthetic_SymbolAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{nn_5:!1,getCategoricalIndicesLength:function(){return this.se_36.length},getContinuousSymbolName:function(a){return this.se_37[a]},constructor:function(a,b,c){this.en_14=a;this.vx_4=b;this.nn_5=c;this.en_14&&"interval"==this.en_14.type?(this.se_37=["rectangle","i-beam",
"t-beam"],this.se_36=[0,1,2]):(this.se_37="circle poly-8 poly-7 poly-6 poly-5 square triangle plus cross star star-6 star-7".split(" "),this.se_36=[0,5,7,8,9,6,3,4,2])},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,b,c){return this.fe$5(this.se_37[this.se_36[a%this.se_36.length]])},interpolate:function(a,b,c){a=null==a?0:a;return Math.round(a+c*((null==b?this.se_37.length-1:b)-a))},getMappingValueSpec:function(a){if(a&&null==a.symbol)throw new b.com_ibm_vis_exceptions_internal_SpecException("Symbol aesthetic should use 'symbol' aesthetic value in mapping.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.symbol:null},make:function(a){if(null==a)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){var d=this.fe$5(a);if(0<=d)return d}return a},modify:function(a,d,c){var e;if(null==d||!this.ip$3(a))return a;c=a.getActualDim();var g=a.getBounds();c||(c=g.getExtent());var k,f;b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)?(d=Math.round(d),0<=d&&(e=this.se_37[d],k=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol(e,
g.getCenterX(),g.getCenterY(),c.wt_2,c.hh_1,null,this.vx_4))):b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)?(e=d,k=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol(e,g.getCenterX(),g.getCenterY(),c.wt_2,c.hh_1,null,this.vx_4)):d.shape&&(k=null,this.en_14&&(k=this.en_14.extent),k=(new b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder(d,k,this.vx_4)).makeCustomShape(g.getCenterX(),g.getCenterY(),c.wt_2,c.hh_1,null),k.getParts()&&1==k.getParts().length&&(k=k.getParts()[0]),
f=new b.com_ibm_rave_codegenerator_util_List,this.se$17(k,f));return k?(a=a.getParts()&&1==a.getParts().length?a.getParts()[0]:a,this.ce$23(k,a),f&&this.re$12(k,f.iterator()),this.nn_5&&this.en_14&&"interval"==this.en_14.type&&b.com_ibm_vis_engine_internal_scene_SymbolBuilder.scaleSymbol(k,e,c.wt_2,c.hh_1),k):a},ce$23:function(a,b){a.copyInfoFrom(b);var c=a.getParts();if(c)for(var e=0;e<c.length;++e)this.ce$23(c[e],b)},se$17:function(a,d){if(a){var c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(0,
0,0);c.setFill(a.getFill());c.setOutline(a.getOutline());c.setStroke(a.getStroke());c.addMeta(a);d.add(c);if(c=a.getParts())for(var e=0;e<c.length;++e)this.se$17(c[e],d)}},re$12:function(a,b){if(b.hasNext()){var c=b.next();c.getFill()&&a.setFill(c.getFill());c.getOutline()&&a.setOutline(c.getOutline());c.getStroke()&&a.setStroke(c.getStroke());c=c.getMeta("part");null!=c&&a.setMeta("part",c);if(c=a.getParts())for(var e=0;e<c.length;++e)this.re$12(c[e],b)}},ip$3:function(a){return a.isGlyphLike()||
this.en_14&&("point"==this.en_14.type||"interval"==this.en_14.type)},fe$5:function(a){for(var b=0;b<this.se_37.length;++b)if(this.se_37[b]==a)return b;return-1}});b.com_ibm_vis_engine_internal_grammar_aesthetic_SymbolAestheticValueProducer.modifySymbol=function(a,d,c,e,g){d&&null!=d.symbol&&(a=(new b.com_ibm_vis_engine_internal_grammar_aesthetic_SymbolAestheticValueProducer(c,e,g)).modify(a,d.symbol,null));return a};b.com_ibm_vis_engine_internal_scene_SymbolBuilder=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol=
function(a,d,c,e,g,k,f){var v=Math.min(e,g)/2,u;k&&null!=k.cornerRadius&&(u=new b.com_ibm_vis_spec_internal_StyleSpec,u.cornerRadius=k.cornerRadius);if("circle"==a)d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(d,c,v);else if("square"==a)a=Math.min(e,g),d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(d-a/2,c-a/2,a,a,u);else if(a.CPVISEngineStartsWith("rect"))d=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(d-e/2,c-g/2,e,g,u);else if("i-beam"==a)d=
b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ba$2(d,c,e,g);else if("t-beam"==a)d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ba$3(d,c,e,g);else if(a.CPVISEngineStartsWith("poly"))d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bo$2(d,c,v,b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ge$10(a));else if(a.CPVISEngineStartsWith("star"))d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ba$1(d,c,v,b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ge$10(a));else if("cross"==a)d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bs$1(d,
c,v);else if("plus"==a)d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bu$1(d,c,v);else if(a.CPVISEngineStartsWith("tri"))d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bl$2(d,c,v);else if(a.CPVISEngineStartsWith("letter-"))d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.be$2(d,c,e,b.com_ibm_vis_engine_internal_scene_SymbolBuilder.adjustFontHeight(g),a,k,f);else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("unknown symbol "+a);d.setGlyphLike();d.setActualDim(new b.com_ibm_vis_geom_Dim(e,
g));d.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(k));return d};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ge$10=function(a){var d=a.indexOf("-");return 0<d?(a=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a.substring(d+1,a.length)),Math.max(2,Math.min(Math.round(a),16))):5};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.scaleSymbol=function(a,d,c,e){b.com_ibm_vis_engine_internal_scene_SymbolBuilder.il$1(d)&&a.scale(c/a.getBounds().wt_3,e/a.getBounds().hh_2)};
b.com_ibm_vis_engine_internal_scene_SymbolBuilder.adjustFontHeight=function(a){return.85*a};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.il$1=function(a){return null!=a&&!("t-beam"==a||"i-beam"==a||a.CPVISEngineStartsWith("letter-"))};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bo$2=function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.cs$4(e);if(4==e)return c=c*(1+g)/Math.sqrt(2),b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(a-c,d-c,2*c,2*c,null);1==
e%2&&(d+=2*c*g);for(var k=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),v=0,u=0;u<e;++u){var h=6.283185307179586*u/e;Math.round(e/2)==e/2&&(h-=3.141592653589793/e);k[u]=a+c*(1+g)*Math.sin(h);f[u]=d-c*(1+g)*Math.cos(h);v=Math.max(v,f[u]-d)}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(k,f,!0,null)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bl$2=function(a,d,c){var e=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.cs$4(3);
d+=2*c*e;for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([3],0),k=b.com_ibm_rave_codegenerator_lang_Array.create([3],0),f=0,v=0;3>v;++v){var u=6.283185307179586*v/3;1.5==Math.round(1.5)&&(u-=1.0471975511965976);g[v]=a+c*(1+e)*Math.sin(u);k[v]=d-c*(1+e)*Math.cos(u);f=Math.max(f,k[v]-d)}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(g,k,!0,null)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.cs$4=function(a){return 1-Math.cos(3.141592653589793/a/2)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bs$1=
function(a,d,c){var e=c/4,g=(c+e)/Math.sqrt(2);c=c*c/g;for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([12],0),k=b.com_ibm_rave_codegenerator_lang_Array.create([12],0),f=.7853981633974483,v=0;12>v;v+=3){var u=Math.cos(f),h=Math.sin(f);g[v]=e;k[v]=-e;g[v+1]=c;k[v+1]=-e;g[v+2]=c;k[v+2]=e;for(var l=v;l<v+3;++l){var m=g[l],p=k[l];g[l]=a+u*m-h*p;k[l]=d+h*m+u*p}f+=1.5707963267948966}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(g,k,!0,null)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.bu$1=
function(a,d,c){for(var e=c/4,g=b.com_ibm_rave_codegenerator_lang_Array.create([12],0),k=b.com_ibm_rave_codegenerator_lang_Array.create([12],0),f=0,v=0;12>v;v+=3){var u=Math.cos(f),h=Math.sin(f);g[v]=e;k[v]=-e;g[v+1]=c;k[v+1]=-e;g[v+2]=c;k[v+2]=e;for(var l=v;l<v+3;++l){var m=g[l],p=k[l];g[l]=a+u*m-h*p;k[l]=d+h*m+u*p}f+=1.5707963267948966}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(g,k,!0,null)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ba$1=function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.cs$4(e);
1==e%2&&(d+=2*c*g);for(var k=b.com_ibm_rave_codegenerator_lang_Array.create([2*e],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([2*e],0),v=0;v<e;++v){var u=6.283185307179586*v/e;Math.round(e/2)==e/2&&(u-=3.141592653589793/e);var h=u+3.141592653589793/e;k[2*v]=a+c*(1+g)*Math.sin(u);f[2*v]=d-c*(1+g)*Math.cos(u);k[2*v+1]=a+(1+g)*c/2.5*Math.sin(h);f[2*v+1]=d-(1+g)*c/2.5*Math.cos(h)}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(k,f,!0,null)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ba$2=
function(a,d,c,e){var g=a-c/2;d-=e/2;c=g+c;e=d+e;a=new b.com_ibm_vis_engine_internal_struct_Path([g,c,a,a,g,c],[d,d,d,e,e,e],!1,[77,76,77,76,77,76]);a.setSymbol("i-beam");a.setUseBoundsForLabel(!0);return a};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.ba$3=function(a,d,c,e){var g=0>e,k=e;g&&(k=-k);e=a-c/2;d-=k/2;k=d+k;a=new b.com_ibm_vis_engine_internal_struct_Path([e,e+c,a,a],g?[k,k,k,d]:[d,d,d,k],!1,[77,76,77,76]);a.setSymbol("t-beam");a.setUseBoundsForLabel(!0);return a};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.be$2=
function(a,d,c,e,g,k,f){g=g.substring(7);if(1>g.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("Letter symbols must have a letter after 'letter-'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);var v;v=k&&k.font?k.font:new b.com_ibm_vis_spec_internal_FontSpec;null==v.size&&(v.size=e,v.setCachedObject(null));v=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(v,f.getMinimumFontSize(),f.uc_1);return b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(g,
a,d,"middle","middle",v,k,null,null,new b.com_ibm_vis_geom_Dim(c,e),f.tx_1)};b.com_ibm_vis_engine_internal_scene_SymbolBuilder.TRIANGLE_NAME="tri";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.LI_1="letter-";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.FN_3=.85;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_scene_SymbolBuilder.SQUARE_NAME="square";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.RECT_NAME="rect";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.CIRCLE_NAME=
"circle";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.POLY_NAME="poly";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.STAR_NAME="star";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.PLUS_NAME="plus";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.CROSS_NAME="cross";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.IBEAM_NAME="i-beam";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.TBEAM_NAME="t-beam";b.com_ibm_vis_engine_internal_scene_SymbolBuilder.LETTER_A_NAME="letter-A"});b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder=
b.com_ibm_init_declare({scaleDimensions:0,constructor:function(){this.dc_3=new b.com_ibm_vis_actions_internal_ScrollUnitControllerAction;this.ce_39=new b.com_ibm_rave_codegenerator_util_HashMap;(function(a,d,c){this.vx_8=c;this.spec=a;this.en_22=d;this.bd_11=new b.com_ibm_vis_engine_internal_Bounds(this.spec.bounds,null);this.scaleDimensions=b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.go$22(this.spec.scaleDimensions,0)}).apply(this,arguments)},makeCustomShape:function(a,d,c,e,g){a=this.bd_11.getRectWithinParent(new b.com_ibm_vis_geom_Rect(a-
c/2,d-e/2,c,e));g=this.createGlyphs(b.com_ibm_vis_engine_internal_struct_Shape.toRect(a),this.spec.shape,g);a=new b.com_ibm_vis_engine_internal_struct_Schema(a.x,a.y,a.wt_3,a.hh_2,g,!0);a.setBoundsSpec(this.spec.bounds);if(0==g.length)return null;this.se$25(a);1==g.length?g[0].setScaleDimensions(this.scaleDimensions):a.setScaleDimensions(this.scaleDimensions);return a},se$25:function(a){var d=a.getParts();if(d){a=a.getGeom().copy();for(var c=0,e=d.length;c<e;++c){var g=d[c],k=b.com_ibm_vis_engine_internal_struct_Shape.toRect(g.getBounds());
g.getInsets()&&(k=g.getInsets().insetRect(k));var f=1,v=1,u=g.getScaleDimensions();g.setScaleDimensions(3);var h=g.getMeta("builder");1002==g.getType()&&b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.SE_6!=h?(1>=k.wt_3&&1>=k.hh_2&&(k=b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.gd$13(a,g),f=k.wt_3,v=k.hh_2),g.affine(f,k.getTopLeft().x,v,k.getTopLeft().y,!1)):1002==g.getType()&&b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.SE_6!=h&&(k=b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.gd$13(a,
g),f=k.wt_3,v=k.hh_2,g.affine(f,k.getCenterX()-k.wt_3/2,v,k.getCenterY()-k.hh_2/2,!1));this.dc_3.affine(g,f,a.x,v,a.y,this.en_22);g.setScaleDimensions(u);g.setMeta("builder",null);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_engine_internal_struct_Schema)&&this.se$25(g)}}},mp$13:function(a,d,c,e,g){g=this.gl$17(g,a.style);var k=a.path;if("group"==a.type){if(!c)return null;d=new b.com_ibm_vis_engine_internal_struct_Schema(d.x,d.y,d.wt_3,d.hh_2,c,!0)}else if("path"==a.type)if(null!=
k)d=b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.mt$22(k,g);else throw new b.com_ibm_vis_exceptions_internal_SpecException("A shape of type path must have a 'path' parameter",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);else d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol(a.type,d.getCenterX(),d.getCenterY(),d.wt_3,d.hh_2,g,this.vx_8),b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.isPreAffinedShape(d.getType())&&d.setMeta("builder",b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.SE_6),
d.setActualDim(null);d.setBoundsSpec(a.bounds);d.setScaleDimensions(b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.go$22(a.scaleDimensions,e));d.setMeta("part",a.part);d.setMeta("type",a.type);g&&(d.isFilled()?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(d,g):b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(d,g,null));return d},gl$17:function(a,d){var c=new b.com_ibm_vis_internal_MergeStyleKey(a,d),e=this.ce_39.get(c);e||(e=b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStylesForSymbols(a,
d),this.ce_39.put(c,e));return e},createGlyphs:function(a,d,c){if(!d)return null;for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0,k=d.length;g<k;++g){var f=d[g],v=b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.makeSingleGlyphShapeBounds(a,f.style,f.bounds,this.en_22),u=null;f.style&&(u=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(f.style.padding,v.getExtent(),this.en_22),v=u.insetRect(v));var h=this.createGlyphs(v,f.shape,c),v=this.mp$13(f,v,h,3,c);v.setInsets(u);
e.add(v);if(f.shape&&1010!=v.getType())for(f=0,u=h.length;f<u;++f){var l=h[f];l.setContainingShape(v);e.add(l)}}return e.toArray(Array(e.size()))}});b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.go$22=function(a,b){return"none"==a?0:"x"==a?1:"y"==a?2:"both"==a?3:b};b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.gd$13=function(a,d){return!d.getContainingShape()||b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.getContainingShape(),b.com_ibm_vis_engine_internal_struct_Schema)?
a:(new b.com_ibm_vis_engine_internal_Bounds(d.getBoundsSpec(),null)).getRectWithinParent(d.getContainingShape().getBounds())};b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.isPreAffinedShape=function(a){return 1002==a||1003==a};b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.makeSingleGlyphShapeBounds=function(a,d,c,e){var g=a;if(c)g=(new b.com_ibm_vis_engine_internal_Bounds(c,null)).getRectWithinParent(a);else if(d){var k,f;c=g.x;k=g.y;f=g.wt_3;g=g.hh_2;if(null!=d.size){f=Math.max(a.wt_3,
a.hh_2);var g=Math.max(e.wt_2,e.hh_1),v=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.size,f,g);if(null==v)throw new b.com_ibm_vis_exceptions_internal_SpecException("size could not be parsed.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,d.size.toString());g=f=v}if(null!=d.width){v=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.width,a.wt_3,e.wt_2);if(null==v)throw new b.com_ibm_vis_exceptions_internal_SpecException("width could not be parsed.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,d.width.toString());f=v}if(null!=d.height){v=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.height,a.hh_2,e.hh_1);if(null==v)throw new b.com_ibm_vis_exceptions_internal_SpecException("height could not be parsed.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LENGTH,d.height.toString());g=v}g=new b.com_ibm_vis_geom_Rect(c,k,f,g)}return g};b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.mt$22=function(a,d){var c=
b.com_ibm_vis_engine_internal_struct_PolyGeom.makePolyGeom(a),c=new b.com_ibm_vis_engine_internal_struct_Path(c.x,c.y,c.isClosed(),c.te_10);c.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(d));return c};b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.NONE="none";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.X="x";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.Y="y";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.BOTH="both";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.PART=
"part";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.TYPE="type";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.BE_4="builder";b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder.SE_6="SymbolBuilder";b.com_ibm_vis_engine_internal_util_DefenderUtil=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_util_DefenderUtil.isDefenderJson=function(a){var d=0;a=a.shape;for(var c=a.length;d<c;++d){var e=a[d];if(null!=e.part&&(e.part==b.com_ibm_vis_engine_internal_util_DefenderUtil.MAIN_GRABBER_PART||
e.part==b.com_ibm_vis_engine_internal_util_DefenderUtil.FIRST_GRABBER_PART||e.part==b.com_ibm_vis_engine_internal_util_DefenderUtil.SECOND_GRABBER_PART||"median"==e.part))return!0}return!1};b.com_ibm_vis_engine_internal_util_DefenderUtil.isDefenderParts=function(a){for(var d=0;d<a.length;++d){var c=a[d].getElementPart();if(null!=c&&(c==b.com_ibm_vis_engine_internal_util_DefenderUtil.MAIN_GRABBER_PART||c==b.com_ibm_vis_engine_internal_util_DefenderUtil.FIRST_GRABBER_PART||c==b.com_ibm_vis_engine_internal_util_DefenderUtil.SECOND_GRABBER_PART||
"median"==c))return!0}return!1};b.com_ibm_vis_engine_internal_util_DefenderUtil.addTransparentRectangles=function(a,d){for(var c=!1,e=!1,g=!1,k=!1,f,v=a.toJSON(),v=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(v),u=v.shape,h=0;h<u.length;++h){var l=u[h],m=l.part;"median"==m?(c=!0,f=l):b.com_ibm_vis_engine_internal_util_DefenderUtil.FIRST_GRABBER_PART==m?e=!0:b.com_ibm_vis_engine_internal_util_DefenderUtil.SECOND_GRABBER_PART==m?g=!0:b.com_ibm_vis_engine_internal_util_DefenderUtil.MAIN_GRABBER_PART==
m&&(k=!0)}if(!(c&&e&&g&&k))throw new b.com_ibm_rave_codegenerator_io_WebEngineException('Bad definition for custom shape for Defender. Please specify all of "median", "firstGrabber", "secondGrabber", and "mainGrabber" as its parts.');b.com_ibm_rave_codegenerator_util_BasicFactory.removeFromArray(u,f);b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(u,f,0);b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(u,b.com_ibm_vis_engine_internal_util_DefenderUtil.br$3(0,0,d.wt_2,d.hh_1),1);b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(u,
b.com_ibm_vis_engine_internal_util_DefenderUtil.br$4(0,0,d.wt_2,d.hh_1),2);return b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.createSpecObject(v,"SymbolSpec")};b.com_ibm_vis_engine_internal_util_DefenderUtil.br$3=function(a,d,c,e){var g=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),k=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();k.left=a;k.top=d;k.width=c;k.height=e;g.bounds=k;g.part="rectLeft";g.type="rect";a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d.r=255;d.g=255;d.b=255;d.a=.5;a.fill=d;g.style=a;return g};b.com_ibm_vis_engine_internal_util_DefenderUtil.br$4=function(a,d,c,e){var g=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),k=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();k.left=a;k.top=d;k.width=c;k.height=e;g.bounds=k;g.type="rect";g.part="rectRight";a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
d.r=255;d.g=255;d.b=255;d.a=.5;a.fill=d;g.style=a;return g};b.com_ibm_vis_engine_internal_util_DefenderUtil.isDefenderPart=function(a){return a==b.com_ibm_vis_engine_internal_util_DefenderUtil.MAIN_GRABBER_PART||a==b.com_ibm_vis_engine_internal_util_DefenderUtil.FIRST_GRABBER_PART||a==b.com_ibm_vis_engine_internal_util_DefenderUtil.SECOND_GRABBER_PART||"median"==a||"rectLeft"==a||"rectRight"==a?!0:!1};b.com_ibm_vis_engine_internal_util_DefenderUtil.affineDefenderPart=function(a,b,c,e,g,k,f){b=a.getElementPart();
"rectLeft"==b?(a.setX(0),a.setY(0),a.setWidth(f.x-a.getX()),a.setHeight(k.hh_1)):"rectRight"==b&&(a.setX(f.x+f.wt_3),a.setY(0),a.setWidth(k.wt_2-a.getX()),a.setHeight(k.hh_1))};b.com_ibm_vis_engine_internal_util_DefenderUtil.MAIN_GRABBER_PART="mainGrabber";b.com_ibm_vis_engine_internal_util_DefenderUtil.FIRST_GRABBER_PART="firstGrabber";b.com_ibm_vis_engine_internal_util_DefenderUtil.SECOND_GRABBER_PART="secondGrabber";b.com_ibm_vis_engine_internal_util_DefenderUtil.MEDIAN_PART="median";b.com_ibm_vis_engine_internal_util_DefenderUtil.RECT_LEFT_PART=
"rectLeft";b.com_ibm_vis_engine_internal_util_DefenderUtil.RECT_RIGHT_PART="rectRight";b.com_ibm_vis_actions_internal_ScrollUnitControllerAction=b.com_ibm_init_declare({affine:function(a,d,c,e,g,k){var f=a.getElementPart();null!=f&&b.com_ibm_vis_engine_internal_util_DefenderUtil.isDefenderPart(f)&&("median"==f&&(this.ma_2=a.getBounds()),b.com_ibm_vis_engine_internal_util_DefenderUtil.affineDefenderPart(a,d,c,e,g,k,this.ma_2))}});b.com_ibm_vis_actions_internal_ScrollUnitControllerAction.modify=function(a,
d){return b.com_ibm_vis_engine_internal_util_DefenderUtil.isDefenderJson(a)?b.com_ibm_vis_engine_internal_util_DefenderUtil.addTransparentRectangles(a,d):a};b.com_ibm_vis_internal_MergeStyleKey=b.com_ibm_init_declare({constructor:function(a,b){this.base=a;this.oe_4=b},hashCode:function(){var a;a=31+(this.base?this.base.hashCode():0);return a=31*a+(this.oe_4?this.oe_4.hashCode():0)},equals:function(a){if(this==a)return!0;if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_internal_MergeStyleKey))return!1;
if(!this.base){if(a.base)return!1}else if(this.base!==a.base)return!1;if(!this.oe_4){if(a.oe_4)return!1}else if(this.oe_4!==a.oe_4)return!1;return!0}});b.com_ibm_vis_engine_internal_grammar_aesthetic_FontAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{constructor:function(a){this.cx_6=a},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,d,c){return b.com_ibm_vis_engine_internal_scene_FontHelper.makeDefaultFont(12,
this.cx_6.getMinimumFontSize(),this.cx_6.uc_1)},interpolate:function(a,b,c){return 1<=c?b:a},getMappingValueSpec:function(a){if(a&&!a.font)throw new b.com_ibm_vis_exceptions_internal_SpecException("Font aesthetic should use 'font' aesthetic value in mapping.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.font:null},make:function(a){if(null==a)return null;var d;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_StyleSpec))d=new b.com_ibm_vis_spec_internal_FontSpec,
d.size=a.size;else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_ColorSpec))d=new b.com_ibm_vis_spec_internal_FontSpec;else if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_FontSpec))d=a;else throw new b.com_ibm_vis_exceptions_internal_SpecException("Font aesthetic palettes or mappings must have fonts as values",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);return b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(d,
this.cx_6.getMinimumFontSize(),this.cx_6.uc_1)},modify:function(a,d,c){if(null==d||!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text))return a;a.setFont(d);return a}});b.com_ibm_vis_engine_internal_grammar_aesthetic_SplitAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{getDefaultForCategory:function(a,b,c){return a},interpolate:function(a,b,c){return null},getMappingValueSpec:function(a){return null},
make:function(a){return null},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},modify:function(a,b,c){return a}});b.com_ibm_vis_engine_internal_grammar_aesthetic_StyleByAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{he_1:!1,constructor:function(a,d,c){this.vx_3=a;this.en_13=d;a=!1;if(c.palette){d=0;c=c.palette;for(var e=c.length;d<e;++d){var g=c[d],k=null;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,
b.com_ibm_vis_spec_internal_StyleSpec)&&(k=g);if(k&&(null!=k.symbol||null!=k.fill||null!=k.outline||k.stroke||k.effect||null!=k.startArrow||null!=k.endArrow||k.font||k.image)){a=!0;break}}}this.he_1=a},hasDefaultLegendProperties:function(){return this.he_1},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,b,c){return null},interpolate:function(a,b,c){return null},getMappingValueSpec:function(a){if(a&&!a.style)throw new b.com_ibm_vis_exceptions_internal_SpecException("StyleBy aesthetic should use 'style' aesthetic value in mapping.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.style:null},make:function(a){return a},up$1:function(a,d){null!=d.align&&(a.align=d.align);null!=d.valign&&(a.valign=d.valign);if(d.font){var c=new b.com_ibm_vis_spec_internal_FontSpec;c.family=d.font.family;c.size=d.font.size;c.style=d.font.style;c.weight=d.font.weight;null==c.size&&(c.size=a.getFont().size);null==c.weight&&(c.weight=a.getFont().bold?"bold":"regular");a.setFont(b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(c,
this.vx_3.getMinimumFontSize(),this.vx_3.uc_1))}return a},modify:function(a,d,c){if(null==d)return a;var e;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_spec_internal_StyleSpec)&&(e=d);d=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyShapeStyle(a,e);d=b.com_ibm_vis_engine_internal_grammar_aesthetic_SymbolAestheticValueProducer.modifySymbol(d,e,this.en_13,this.vx_3,!0);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text)&&
(d=this.up$1(d,e));this.vx_3.gt_4&&d.getA11yInfo().fromStyle(e.accessibility);return d}});b.com_ibm_vis_engine_internal_grammar_aesthetic_VisibilityAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{interpolate:function(a,b,c){return null==a||null==b?!0:a},getMappingValueSpec:function(a){if(a&&null==a.visible)throw new b.com_ibm_vis_exceptions_internal_SpecException("Visibility aesthetic should use 'visible' aesthetic value in mapping.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.visible:null},make:function(a){return null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a)?a:null},modify:function(a,d,c){if(null==d)return a;if(null!=c)throw new b.com_ibm_vis_exceptions_internal_SpecException("'modifies' type attribute is not supported for visibility aesthetic",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(d)&&a.setVisible(d);
return a},getAestheticFromPalette:function(a,b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,b,c){return 0==a?!0:!1}});b.com_ibm_vis_engine_internal_grammar_aesthetic_OffsetAestheticValueProducer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_aesthetic_AestheticValueProducer,{constructor:function(a){this.ce_31=a},getMappingValueSpec:function(a){if(a&&null==a.size)throw new b.com_ibm_vis_exceptions_internal_SpecException("Offset aesthetic should use 'size' aesthetic value in mapping.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_MISSING_PARAMETER);return a?a.size:null},make:function(a){return a},modify:function(a,d,c){if(null==d)return a;c=this.getGrammarSize();var e=this.ce_31.getDistancefromBaseInYDirection(c);d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d,e,e);0!=d&&(d=this.ce_31.getOffsetInFreeDirection(a,d,c),a.affine(1,d.x,1,d.y,!1));return a},interpolate:function(a,b,c){a=null==a?0:a;return a+c*((null==b?100:b)-a)},getAestheticFromPalette:function(a,
b,c){return c.getPaletteItem(a)},getDefaultForCategory:function(a,b,c){return null}});b.com_ibm_vis_engine_internal_grammar_LabelLineProducer=b.com_ibm_init_declare({mt_1:0,constructor:function(a,d){this.ll_2=a?a:new b.com_ibm_vis_spec_internal_StyleSpec;this.mt_1=d},makeLabelLine:function(a,d){var c=d.getGeom(),e=a.distanceToGeom(c);if(0==e||e<this.mt_1)return null;e=this.go$6(c.getCenter(),a);c=1002==c.type()?this.go$6(e,c):c.boundaryPoint(e.x,e.y);c=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(e.x,
e.y,c.x,c.y);c.addMeta(d);b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(c,this.ll_2,null);d.getRows()&&c.setRow(d.getRows()[0]);return c},go$6:function(a,b){var c=b.getCenter();a.x<b.getMinX()-2?c.x=b.getMinX():a.x>b.getMaxX()+2&&(c.x=b.getMaxX());a.y<b.getMinY()-2?c.y=b.getMinY():a.y>b.getMaxY()+2&&(c.y=b.getMaxY());return c}});b.com_ibm_vis_engine_internal_grammar_label_ShapeLabelLinesHolder=b.com_ibm_init_declare({getElementShape:function(){return this.ep_2},setElementShape:function(a){this.ep_2=
a},constructor:function(a,b,c){this.ep_2=a;this.se_46=b;this.ln_11=c},getShapeLabel:function(){return this.se_46},setShapeLabel:function(a){this.se_46=a},getLabelLine:function(){return this.ln_11},setLabelLine:function(a){this.ln_11=a}});b.com_ibm_vis_engine_internal_grammar_layout_ShapeMaker=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_element_Builder=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_grammar_layout_ShapeMaker,b.com_ibm_vis_engine_internal_grammar_values_DerivedValueProducer],
{snap:!1,constructor:function(a,b,c){this.coords=b;this.extent=c;this.visContext=a},toScreenY:function(a,b,c){a=this.coords.scales[0].toZeroOne(b.data[a.ie_4],a.unit,c);return null==a?null:this.extent.hh_1*(1-a)},make:function(a,b,c){(a=this.makeShape(a,b))&&c&&a.setRow(b);return a},getBase:function(a){return null},makeInside:function(a,b,c){(a=this.makeShapeInside(a,b))&&c&&a.setRow(b);return a},makeFromAugmentation:function(a,b,c){var e=this.makeAugmentedShape(b,a);if(!e)return null;var g=this.extent.wt_2/
(c[1]-c[0]),k=this.extent.hh_1/(c[2]-c[3]),f=-c[0]*g;c=-c[3]*k;this.augmentedShapesNeedScaling()?e.affine(g,f,k,c,!1):(b=b.featureCenter(a),e.affine(1,b.x*g+f-b.x,1,b.y*k+c-b.y,!1));e&&e.setRow(a);return e},makeContinuousShapes:function(a,b,c){return null},makesContinuousShapes:function(){return!1},getSnap:function(){return this.snap},setSnap:function(a){this.snap=a},getDerivedValue:function(a,b,c){return null},updateDefaultSize:function(a){null!=a[0]&&this.size&&(this.size.hh_1=a[0]);null!=a[1]&&
this.size&&(this.size.wt_2=a[1])},modifyShapeSpanClipBounds:function(a,b){return b},augmentedShapesNeedScaling:function(){return!0}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_element_Builder.ALIGN_START="start";b.com_ibm_vis_engine_internal_grammar_element_Builder.ALIGN_MID="middle";b.com_ibm_vis_engine_internal_grammar_element_Builder.ALIGN_END="end"});b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,
{makeFromAugmentation:function(a,d,c){if("schema"==this.type)return b.com_ibm_vis_engine_internal_grammar_element_Builder.prototype.makeFromAugmentation.apply(this,[a,d,c]);d=d.featureCenter(a);c=new b.com_ibm_vis_geom_Rect(this.extent.wt_2*(d.x-c[0])/(c[1]-c[0])-this.size.wt_2/2,this.extent.hh_1*(1-(d.y-c[2])/(c[3]-c[2]))-this.size.hh_1/2,this.size.wt_2,this.size.hh_1);return this.makeInside(c,a,!0)},makeAugmentedShape:function(a,d){var c=a.featurePolygons(d);if(!c)return(c=a.featureCenter(d))?b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol("circle",
c.x,c.y,this.size.wt_2,this.size.hh_1,null,this.visContext):null;if(!c||1==c.length)return c[0];var e=a.featureBounds(d),c=new b.com_ibm_vis_engine_internal_struct_Schema(e.x,e.y,e.wt_3,e.hh_2,c,c[0].isFilled());c.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.sl_14));return c},constructor:function(a,d,c,e,g,k,f,v){this.snap=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(v);this.type=e;this.size=g;this.cr_4=k;this.rows=f;this.sl_14=v},makeShapeInside:function(a,b){return this.makeSchemaShape(a.x+
a.wt_3/2,a.y+a.hh_2/2,a.wt_3,a.hh_2,this.getRows()[b])},makeShape:function(a,d){if(a.XYUndefined())return null;var c,e;0==a.length()?(c=this.extent.wt_2/2,e=this.extent.hh_1/2):(c=1==a.length()?this.extent.wt_2/2:a.X()*this.extent.wt_2,e=this.extent.hh_1-a.Y()*this.extent.hh_1);var g;null!=d&&(g=this.rows[d]);(c=this.makeSchemaShape(c,e,this.size.wt_2,this.size.hh_1,g))&&c.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.sl_14));return c},makeSchemaShape:function(a,d,c,e,g){for(var k=
0,f=b.com_ibm_rave_codegenerator_lang_Array.create([this.cr_4.length],0),v=0;v<this.cr_4.length;++v){var u=this.cr_4[v].getBaseField(),h=this.cr_4[v].getNumber(g);f[v]=null==h?NaN:u?u.range.toZeroOne(h):h}g=0;for(v=f.length;g<v;++g)0<=f[g]&&k++;if(0==k)return null;if(k!=f.length){k=b.com_ibm_rave_codegenerator_lang_Array.create([k],0);v=g=0;for(u=f.length;v<u;++v)h=f[v],0<=h&&(k[g++]=h);f=k}if(this.type.CPVISEngineEndsWith("pie"))f=b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.mt$15(f,
a,d,c/2,e/2),a=new b.com_ibm_vis_engine_internal_struct_Schema(a-c/2,d-e/2,c,e,f,!0);else if(this.type.CPVISEngineEndsWith("profile"))a=b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.mp$7(f,a,d,c/2,e/2,this.visContext);else if(this.type.CPVISEngineEndsWith("star"))a=b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.mp$8(f,a,d,c,e,this.visContext);else if(this.type.CPVISEngineEndsWith("rose"))f=b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.ms$2(f,a,d,c/2,e/2),a=
new b.com_ibm_vis_engine_internal_struct_Schema(a-c/2,d-e/2,c,e,f,!0);else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unknown schema: "+this.type);a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.sl_14));return a},getStyle:function(){return this.sl_14},getComponentValueProviders:function(){return this.cr_4},getRows:function(){return this.rows}});b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.mt$15=function(a,d,c,e,g){for(var k=0,f=0,v=a.length;f<
v;++f)k+=a[f];if(0>=k)return null;f=Array(a.length);e=Math.max(e,g);for(v=g=0;v<f.length;++v)f[v]=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(d,c,0,e,6.283185307179586*(g+a[v])/k,6.283185307179586*g/k),f[v].setFill(b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.ml$9(v)),g+=a[v];return f};b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.mp$7=function(a,d,c,e,g,k){k=a.length;for(var f=b.com_ibm_rave_codegenerator_lang_Array.create([k+2],0),v=b.com_ibm_rave_codegenerator_lang_Array.create([k+
2],0),u=0;u<k;++u)f[u]=d-e+2*e*u/(k-1),v[u]=c+g-2*g*a[u];f[k]=d+e;v[k]=c+g;f[k+1]=d-e;v[k+1]=c+g;return new b.com_ibm_vis_engine_internal_struct_ShapePoly(f,v,!0,null)};b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.mp$8=function(a,d,c,e,g,k){k=a.length;var f=b.com_ibm_rave_codegenerator_lang_Array.create([k],0),v=b.com_ibm_rave_codegenerator_lang_Array.create([k],0);e=Math.max(e,g)/2;for(g=0;g<k;++g){var u=6.283185307179586*g/k;f[g]=d+e*a[g]*Math.cos(u);v[g]=c+e*a[g]*Math.sin(u)}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(f,
v,!0,null)};b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.ms$2=function(a,d,c,e,g){var k=a.length;e=Math.max(e,g);g=Math.min(10,e/4);for(var f=Array(k),v=0,u=0;v<k;++v)f[u]=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(d,c,10,g+(e-g)*a[v],6.283185307179586*u/k,6.283185307179586*(u+1)/k),u++;return f};b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.ml$9=function(a){var d=b.com_ibm_vis_engine_internal_ColorUtil.getDefaultColors();return b.com_ibm_vis_engine_internal_Fill.makeSolid(d[a%
d.length])};b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder.componentsAffectScale=function(a,b){return a.CPVISEngineEndsWith("boxplot")&&0==b?!0:!1};b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder,{makeSchemaShape:function(a,d,c,e,g){if(4!=this.cr_4.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("Expected number of components: '4",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ELEMENT_COMPONENTS_INVALID);
if(g){var k=b.com_ibm_rave_codegenerator_lang_Array.create([5],0);this.gr$9(g,k);k[k.length-1]=d;b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(k);g=k[4];var f=k[3];e=k[2];var v=k[1],k=k[0],u=Array(3);u[0]=b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder.cr$11(a,d,c,f,g,v,k,this.visContext);d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(a-c/2,v,c,f-v);d.setDefaultStyle(this.sl_14);d.setMeta("part","box");u[1]=d;u[2]=new b.com_ibm_vis_engine_internal_struct_ShapeLine([a-
c/2,a+c/2],[e,e],!1);u[2].setMeta("part","median");u[2].en$4().colorAestheticOnlyChangesOutline=!0;a=new b.com_ibm_vis_engine_internal_struct_Schema(a-c/2,k,c,g-k,u,!0)}else a=this.mc$5(a,c);return a},gr$9:function(a,d){for(var c=this.cr_4,e=0,g=0,k=c.length;g<k;++g){var f=c[g],v=null;if(!f.getBaseField())throw new b.com_ibm_vis_exceptions_internal_SpecException("Boxplots require a field property in components. 'value' is not supported.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);v=this.toScreenY(f.getBaseField(),
a,f.span);if(null==v)throw new b.com_ibm_vis_exceptions_internal_SpecException("Null values not allowed in boxplot.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);d[e++]=v}},mc$5:function(a,d){var c=Array(1);c[0]=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(a-d/2,0,d,this.extent.hh_1,this.sl_14);var e=c[0],c=new b.com_ibm_vis_engine_internal_struct_Schema(e.getX(),e.getY(),e.getWidth(),e.getHeight(),c,!0);c.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.sl_14));
return c}});b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder.cr$11=function(a,d,c,e,g,k,f,v){d=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol("t-beam",a,(e+g)/2,2*c/3,e-g,null,v);a=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol("t-beam",a,(k+f)/2,2*c/3,k-f,null,v);c=a.x.length;k=d.x.length;e=c+k;f=b.com_ibm_rave_codegenerator_lang_Array.create([e],0);v=b.com_ibm_rave_codegenerator_lang_Array.create([e],0);e=b.com_ibm_rave_codegenerator_lang_Array.create([e],
0);for(g=0;g<c;++g)f[g]=a.x[g],v[g]=a.y[g],e[g]=a.getTypes()[g];for(g=0;g<k;++g)f[g+c]=d.x[g],v[g+c]=d.y[g],e[g+c]=d.getTypes()[g];d=new b.com_ibm_vis_engine_internal_struct_Path(f,v,!1,e);d.setMeta("part","whiskers");d.setScaleDimensions(1);d.setUseBoundsForLabel(!0);return d};b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder.REQUIRED_NUM_COMPONENTS=4;b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder.BOX="box";b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder.WHISKERS=
"whiskers";b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder.MEDIAN="median";b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilderFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilderFactory.createBuilder=function(a,d,c,e,g,k,f,v){return e.CPVISEngineEndsWith("boxplot")?new b.com_ibm_vis_engine_internal_grammar_element_BoxPlotBuilder(a,d,c,e,g,k,f,v):new b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilder(a,d,c,e,g,k,f,v)};b.com_ibm_vis_engine_internal_grammar_element_SchemaBuilderFactory.BOXPLOT=
"boxplot";b.com_ibm_vis_engine_internal_grammar_element_IntervalBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,{ft_5:!1,cn_12:!1,constructor:function(a,d,c,e,g,k){this.snap=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(g);this.size=e;this.ft_5=this.iz$3(g);this.sl_12=g;this.cn_12=k;g&&null!=g.symbol?b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g.symbol)?this.sm_3=g.symbol:(this.sm_3=null,this.se_44=new b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder(g.symbol,
c,a)):this.sm_3="rect"},iz$3:function(a){return a&&(null!=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.width,null,null)||null!=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,null,null))},makeShapeInside:function(a,d){return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(a.x,a.y,a.wt_3,a.hh_2,this.sl_12)},makeAugmentedShape:function(a,d){var c=a.featureBounds(d);return b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(c.x,
c.y,c.wt_3,c.hh_2)},getBase:function(a){0==a.length()?a=this.extent.hh_1/2-this.size.hh_1/2:(a=this.coords.scales[0].getBase(),a=Math.max(0,Math.min(1,a)),a=this.extent.hh_1-a*this.extent.hh_1);return a},makeShape:function(a,b){if(a.XYUndefined())return null;var c=0,e,g;0==a.length()?(this.sl_12&&null!=this.sl_12.valign&&"middle"!=this.sl_12.valign?"start"==this.sl_12.valign?c=0:"end"==this.sl_12.valign&&(c=this.extent.hh_1-this.size.hh_1):c=this.extent.hh_1/2-this.size.hh_1/2,e=this.size.hh_1):a.hasY2()?
(c=this.extent.hh_1-a.Y2()*this.extent.hh_1,e=this.extent.hh_1-a.Y()*this.extent.hh_1-c):(e=0,this.coords.needsToExtendChartToIntersectTheAxisZeroPoint()||(e=this.getOriginOfSpan(a,this.cn_12)),c=this.extent.hh_1-a.Y()*this.extent.hh_1,e=this.extent.hh_1-e*this.extent.hh_1-c);0>e&&"t-beam"!=this.sm_3&&(c+=e,e=-e,g="y");var k=0,f;2>a.length()?(this.sl_12&&null!=this.sl_12.align&&"middle"!=this.sl_12.align?"start"==this.sl_12.align?k=0:"end"==this.sl_12.align&&(k=this.extent.wt_2-this.size.wt_2):k=
this.extent.wt_2/2-this.size.wt_2/2,f=this.size.wt_2):a.hasX2()?(k=a.X()*this.extent.wt_2,f=a.X2()*this.extent.wt_2-k):(this.sl_12&&null!=this.sl_12.align&&"middle"!=this.sl_12.align?"start"==this.sl_12.align?k=a.X()*this.extent.wt_2-this.size.wt_2:"end"==this.sl_12.align&&(k=a.X()*this.extent.wt_2):k=a.X()*this.extent.wt_2-this.size.wt_2/2,f=this.size.wt_2);0>f&&(k+=f,f=-f,g="y"==g?"both":"x");return this.bp$1(k,c,f,e,g)},bp$1:function(a,d,c,e,g){var k=a+c/2,f=d+e/2;this.se_44?a=this.se_44.makeCustomShape(k,
f,c,e,this.sl_12):this.sm_3.CPVISEngineStartsWith("rect")?.1>c&&.1>e?a=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(a,d,c,e):(a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeRectangle(a,d,c,e,this.sl_12),a.setFill(null)):(a=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol(this.sm_3,k,f,c,e,this.sl_12,this.visContext),b.com_ibm_vis_engine_internal_scene_SymbolBuilder.scaleSymbol(a,this.sm_3,c,e));a.setScaleDimensions(this.ft_5?2:3);a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.sl_12));
a.setReversed(g);return a},getOriginOfSpan:function(a,b){var c=this.coords.scales[0],e=a.getYOrigin(c);b&&(e=c.og_2.clamp(e));return e},modifyShapeSpanClipBounds:function(a,d){var c=a.getPosition();if(c.hasY2())return d;var e=this.getOriginOfSpan(c,this.cn_12);this.cn_12&&(e=b.com_ibm_vis_engine_internal_data_Range.ZERO_ONE.clamp(e));var g=this.coords.scales[0],e=g.zeroOneToDataValue(e);(c=c.fields[0]?c.fields[0].unit:null)&&null!=e&&(g=g.getMatchingSpan(e,c))&&(g=g.finalOutRange,c=d.copy(),this.coords.containsTranspose()?
(c.x=g.min*this.extent.wt_2,c.wt_3=g.range*this.extent.wt_2):(c.y=this.extent.hh_1-g.max*this.extent.hh_1,c.hh_2=g.range*this.extent.hh_1),d.extendToRect(c));return d},updateDefaultSize:function(a){null!=a[0]&&this.size&&(this.size.hh_1=a[0]);null!=a[1]&&this.size&&(this.size.wt_2=this.sl_12&&null!=this.sl_12.width?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.sl_12.width,a[1],this.extent.wt_2):this.sl_12&&null!=this.sl_12.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.sl_12.size,
a[1],this.extent.wt_2):a[1])}});b.com_ibm_vis_engine_internal_grammar_element_PointBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,{sn_8:0,constructor:function(a,d,c,e,g){this.snap=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(g);this.sl_13=g;this.size=e;d=g?g.symbol:null;null==d?this.sm_4="circle":b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)?this.sm_4=d:(this.sm_4=null,g&&(d=b.com_ibm_vis_actions_internal_ScrollUnitControllerAction.modify(g.symbol,
c),this.se_45=new b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder(d,c,a)));this.sn_8=this.gn$20(g)},gn$20:function(a){if(!a)return 0;var b=null!=a.width?this.in$7(a.width):this.in$7(a.size);a=null!=a.height?this.in$7(a.height):this.in$7(a.size);return(b?1:0)+(a?2:0)},in$7:function(a){return null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?a.CPVISEngineEndsWith("%")&&!a.CPVISEngineEndsWith("%%"):!1},makeShapeInside:function(a,b){return this.bl$4(a.x+a.wt_3/2,a.y+a.hh_2/2,
a.wt_3,a.hh_2)},augmentedShapesNeedScaling:function(){return!1},gl$11:function(){return this.sl_13},makeShape:function(a,b){var c=0,e=0;if(0==a.length())this.sl_13&&null!=this.sl_13.align&&"middle"!=this.sl_13.align?"start"==this.sl_13.align?c=0:"end"==this.sl_13.align&&(c=this.extent.wt_2-this.size.wt_2):c=this.extent.wt_2/2,this.sl_13&&null!=this.sl_13.valign&&"middle"!=this.sl_13.valign?"start"==this.sl_13.valign?e=0:"end"==this.sl_13.valign&&(e=this.extent.hh_1-this.size.hh_1):e=this.extent.hh_1/
2;else{if(a.XYUndefined())return null;1==a.length()?this.sl_13&&null!=this.sl_13.align&&"middle"!=this.sl_13.align?"start"==this.sl_13.align?c=this.size.wt_2:"end"==this.sl_13.align&&(c=this.extent.wt_2-this.size.wt_2):c=this.extent.wt_2/2:c=a.X()*this.extent.wt_2;e=this.extent.hh_1-a.Y()*this.extent.hh_1}return this.bl$4(c,e,this.size.wt_2,this.size.hh_1)},bl$4:function(a,d,c,e){a=this.se_45?this.se_45.makeCustomShape(a,d,c,e,this.sl_13):b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol(this.sm_4,
a,d,c,e,this.sl_13,this.visContext);this.sl_13&&a.setDefaultStyle(this.sl_13);this.isAdaptableShape(a)&&a.setScaleDimensions(this.sn_8);return a},isAdaptableShape:function(a){return 1004==a.getType()||"i-beam"==this.sm_4||"t-beam"==this.sm_4},makeFromAugmentation:function(a,d,c){var e=d.featurePoints(a);if(!e||e.isEmpty())return this.visContext&&this.visContext.lx_1&&this.visContext.lx_1.warning(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"No augmented data was found for data row "+a+", that data is not shown"),
null;var g=this.extent.wt_2/(c[1]-c[0]),k=this.extent.hh_1/(c[2]-c[3]),f=-c[0]*g,v=-c[3]*k;if(1==e.size()){var u=e.get(0),u=this.bl$4(u.x,u.y,this.size.wt_2,this.size.hh_1),h=d.featureCenter(a),l=h.x*g+f-h.x,h=h.y*k+v-h.y;u.affine(1,l,1,h,!1);u.setRow(a);return u}c=Array(e.size());for(var m=0;m<e.size();++m)u=e.get(m),u=this.bl$4(u.x,u.y,this.size.wt_2,this.size.hh_1),h=u.getCenter(),l=h.x*g+f-h.x,h=h.y*k+v-h.y,u.affine(1,l,1,h,!1),u.setRow(a),c[m]=u;d=d.featureBounds(a);u=new b.com_ibm_vis_engine_internal_struct_Schema(d.x,
d.y,d.wt_3,d.hh_2,c,!1);u.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.gl$11()));u.setRow(a);return u},makeAugmentedShape:function(a,b){return null}});b.com_ibm_vis_engine_internal_grammar_element_EdgeBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,{constructor:function(a,d,c,e){this.snap=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(e);e&&(this.so_16=e.symbol,this.so_15=e.startArrow,this.eo_3=e.endArrow,this.pe_15=e.padding);
this.pa_4=c.wt_2>c.hh_1},makeShapeInside:function(a,b){return null},makeAugmentedShape:function(a,d){var c=a.featurePolygons(d);if(!c)return null;var e=c[c.length-1];return b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLine(c[0].x[0],c[0].y[0],e.x[e.x.length-1],e.y[e.y.length-1],null)},makeShape:function(a,d){var c;if(a.XYUndefined())return null;if(1==this.coords.scales.length&&a.hasY2()){var e=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([2],
0);e[0]=this.extent.wt_2/2;g[0]=this.extent.hh_1-a.Y()*this.extent.hh_1;e[1]=e[0];g[1]=this.extent.hh_1-a.Y2()*this.extent.hh_1;this.insetLineCoords(e,g);c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLineForPoints(e,g,null)}else if(2==this.coords.scales.length&&a.hasX2()&&a.hasY2())e=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),e[0]=a.X()*this.extent.wt_2,g[0]=this.extent.hh_1-a.Y()*this.extent.hh_1,e[1]=a.X2()*this.extent.wt_2,
g[1]=this.extent.hh_1-a.Y2()*this.extent.hh_1,this.insetLineCoords(e,g),c=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeLineForPoints(e,g,null);else return null;c.setEdgeProperties(this.pa_4,this.so_16,this.so_15,this.eo_3);if(null!=this.so_16&&"semiCircle"==this.so_16){for(var k=Math.sqrt((c.x[0]-c.x[1])*(c.x[0]-c.x[1])+(c.y[0]-c.y[1])*(c.y[0]-c.y[1]))/2,f=new b.com_ibm_vis_engine_internal_struct_Path([0,0,.5522875,1,1.5522875,2,2],[0,.5522875,1,1,1,.5522875,0],!1,[77,67,44,44,67,44,44]),v=
0==k?0:Math.abs(c.x[1]-c.x[0])/(2*k),u=0==k?0:Math.abs(c.y[1]-c.y[0])/(2*k),h=0;h<f.x.length;++h)e=c.x[0]<c.x[1]?c.x[0]+k*f.x[h]*v-k*u*f.y[h]:c.x[0]-k*f.x[h]*v+k*u*f.y[h],g=c.y[0]>=c.y[1]?c.y[0]-k*f.x[h]*u-k*v*f.y[h]:c.y[0]+k*f.x[h]*u+k*v*f.y[h],f.x[h]=e,f.y[h]=g;f.setEdgeProperties(this.pa_4,this.so_16,this.so_15,this.eo_3);f.setSymbol(this.so_16);return f}return c},insetLineCoords:function(a,d){var c=a[0]>a[1]?1:0,e=d[0]>d[1]?1:0,g=1-c,k=1-e,f;f=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.pe_15,
new b.com_ibm_vis_geom_Dim(a[g]-a[c],d[k]-d[e]),this.extent);a[c]+=f.left;d[e]+=f.top;a[g]-=f.right;d[k]-=f.bottom}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_element_EdgeBuilder.SL_5="semiCircle"});b.com_ibm_vis_engine_internal_grammar_element_PathBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,{sort:!1,cs_4:!1,drop:!1,constructor:function(a,d,c,e,g,k,f,v){this.snap=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(v);
v&&(this.so_17=v.startArrow,this.eo_4=v.endArrow);this.sort=e;this.cs_4=g;this.drop=k;this.pe_17=f;this.sn_7=k?[b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple([0,0]),b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple([.25,.6]),b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple([.75,.4]),b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple([1,1])]:[b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple([.5,0]),
b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple([.5,1])];this.cy_1=new b.com_ibm_rave_codegenerator_util_List;this.ct_7=null},getBase:function(a){a=this.coords?this.coords.scales[0].getBase():0;a=Math.max(0,Math.min(1,a));return this.extent.hh_1-a*this.extent.hh_1},makeContinuousShapes:function(a,d,c){c=new b.com_ibm_rave_codegenerator_util_List;if(!a)return c;if(0<a.length&&1==a[0].length())return this.mp$6(c,a,d),c;a=this.fn$7(a);var e=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],
0),g;if(this.sort){for(var k=0;k<a.length;++k){if(2>a[k].length()||null==a[k].X())return c;e[k]=a[k].X()}g=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(e)}for(var e=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,v=new b.com_ibm_rave_codegenerator_util_List,u=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List,k=0;k<a.length;++k){var l=g?g[k]:k,m=a[l];if(null==m.X())return c;null==m.Y()||m.hasY2()&&null==m.Y2()?
(this.ap$4(c,u,h,e,f,v),e=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,v=new b.com_ibm_rave_codegenerator_util_List,u=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List):(d&&(u.add(d[l]),h.add(m)),e.add(m.X()*this.extent.wt_2),l=this.extent.hh_1-m.Y()*this.extent.hh_1,f.add(l),m.hasY2()&&(l=this.extent.hh_1-m.Y2()*this.extent.hh_1,v.add(l)))}this.ap$4(c,u,h,e,f,v);return c},mp$6:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List,
g=b.com_ibm_rave_codegenerator_lang_Array.create([d.length],0),k=new b.com_ibm_rave_codegenerator_util_List(d.length),f=this.extent.wt_2/2,v=0;v<d.length;++v)e.add(d[v]),g[v]=this.extent.hh_1-d[v].Y()*this.extent.hh_1,k.add(f);this.sort&&b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(g);e=new b.com_ibm_rave_codegenerator_util_List(d.length);for(v=0;v<d.length;++v)e.add(g[v]);g=new b.com_ibm_rave_codegenerator_util_List;if(c)for(v=0;v<c.length;++v)g.add(c[v]);c=this.cp$6(k,e,g);c.setPositions(d);
a.add(c);this.cp$8(c)},ap$4:function(a,b,c,e,g,k){0!=e.size()&&(b=k.isEmpty()?this.cp$6(e,g,b):this.cp$7(e,g,k,b),b.setPositions(c.toArray(Array(c.size()))),a.add(b),this.cp$8(b))},fn$7:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c){var g=a[c];null!=g.X()&&d.add(g)}return d.toArray(Array(d.size()))},cp$6:function(a,d,c){a=a.toArray();d=d.toArray();if(this.drop){for(var e=b.com_ibm_rave_codegenerator_lang_Array.create([a.length+2],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([a.length+
2],0),k=0;k<a.length;++k)e[k+1]=a[k],g[k+1]=d[k];d=g;a=e;a[0]=a[1];a[a.length-1]=a[a.length-2];e=this.coords?this.coords.scales[0].getBase():0;d[0]=this.extent.hh_1-e*this.extent.hh_1;d[a.length-1]=d[0]}a=this.getShape(a,d);this.drop&&1003==a.getType()&&a.setNonTopPointsCount(-1);return this.af$2(c,a)},af$2:function(a,b){0<a.size()&&b.setRows(a.toArray());return b},cp$7:function(a,d,c,e){for(var g=a.size(),k=b.com_ibm_rave_codegenerator_lang_Array.create([2*g],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([2*
g],0),v=0;v<g;++v){k[v]=a.get(v);f[v]=d.get(v);var u=g-1-v;k[v+g]=a.get(u);f[v+g]=c.get(u)}a=this.getShape(k,f);return this.af$2(e,a)},getShape:function(a,d){if(this.cs_4&&3==a.length&&a[0]==a[1]&&a[1]==a[2]){var c=b.com_ibm_rave_codegenerator_lang_Array.create([5],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([5],0);c[0]=Math.max(a[0]-1,0);e[0]=d[0];c[1]=Math.max(a[0]-1,0);e[1]=d[1];c[2]=a[1];e[2]=d[1];c[3]=a[2]+1;e[3]=d[1];c[4]=a[2]+1;e[4]=d[2];a=c;d=e}c=new b.com_ibm_vis_engine_internal_struct_ShapePoly(a,
d,this.cs_4,this.pe_17);c.setSnap(this.snap);c.isFilled()||(c.setStartArrowByName(this.so_17),c.setEndArrowByName(this.eo_4));return c},makesContinuousShapes:function(){return!0},makeShapeInside:function(a,d){return new b.com_ibm_vis_engine_internal_struct_ShapePoly([a.x,a.x+a.wt_3,a.x+a.wt_3,a.x],[a.y,a.y,a.y+a.hh_2,a.y+a.hh_2],!1,null)},makeAugmentedShape:function(a,d){var c=a.featurePolygons(d);if(!c)return null;if(1==c.length)return c[0];var e=a.featureBounds(d);return new b.com_ibm_vis_engine_internal_struct_Schema(e.x,
e.y,e.wt_3,e.hh_2,c,this.cs_4)},makeShape:function(a,b){return null},getDerivedValue:function(a,d,c){if(null==d)return null;if("curveTop"==a){this.mo$12();if(!this.ct_7)return null;a=this.coords.scales[1].toZeroOne(d,null,c);if(null==a||b.com_ibm_rave_codegenerator_lang_Double.isNaN(a))return null;a=this.ct_7.getY(a*this.extent.wt_2);if(a!=a)return null;a=this.coords.scales[0].dimensionValueToDataValue(this.extent.hh_1-a,this.extent.hh_1);return null==a||b.com_ibm_rave_codegenerator_lang_Double.isNaN(a)?
null:a}return null},mo$12:function(){if(!this.ct_7&&1==this.cy_1.size()){var a=this.cy_1.get(0);this.ct_7=new b.com_ibm_vis_engine_internal_grammar_coordinate_functions_LinearFunctionalPath(NaN);var d=a.x.length;if(0<d){this.ct_7.moveTo(a.x[0],a.y[0]);for(var c=0;c<d-1;++c)this.ct_7.lineTo(a.x[c],a.y[c]);a.x[d-2]<a.x[d-1]&&this.ct_7.lineTo(a.x[d-1],a.y[d-1])}}},cp$8:function(a){if(1003==a.getType()){var d=a.x.length,c=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([d],
0);b.com_ibm_rave_codegenerator_lang_System.arraycopy(a.x,0,c,0,d);b.com_ibm_rave_codegenerator_lang_System.arraycopy(a.y,0,e,0,d);this.cy_1.add(new b.com_ibm_vis_engine_internal_struct_ShapePoly(c,e,a.isFilled(),a.pe_10))}}});b.com_ibm_vis_engine_internal_grammar_element_TextBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,{sc_6:!1,fit:!1,id_2:!1,ir_1:!1,fe_10:0,constructor:function(a,d,c,e,g,k,f){this.snap=b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(f.style);
if(!f.content)throw new b.com_ibm_vis_exceptions_internal_SpecException("No content provided for element text",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL);this.cn_13=f.content;this.sl_15=f.style;this.bl_1=f.textBackgroundStyle;this.size=k;this.vis=e;this.data=g;this.shapingInfo=a.getNumericShapingInfo();this.ag_3=this.sl_15&&null!=this.sl_15.align?this.sl_15.align:"middle";this.vg_3=this.sl_15&&null!=this.sl_15.valign?this.sl_15.valign:"middle";this.id_2=!1;this.sl_15&&null!=this.sl_15.location&&
b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.sl_15.location)&&("inside"==this.sl_15.location?this.id_2=!0:"stretch"==this.sl_15.location?this.sc_6=!0:"fit"==this.sl_15.location&&(this.fit=!0));a=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(a.getMinimumFontSize());this.fe_10=f.style&&f.style.font&&null!=f.style.font.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f.style.font.size,a,a):a;b.com_ibm_vis_engine_internal_grammar_label_TextProducer.isContentCategorical(this.vis,
this.cn_13)?this.clipSymbol="\u2026":this.clipSymbol="#";this.ir_1=!1},makeShape:function(a,d){var c;this.ir_1?(c=b.com_ibm_vis_engine_internal_grammar_label_TextContent.makeForString("A",this.vis.vx_10.getMinimumFontSize()),this.vg_3=this.ag_3="middle"):(null==d&&(d=-1),c=b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContent(this.vis,this.data,this.cn_13,d));if(!c||a.XYUndefined())return null;var e=this.gn$21(this.size,c),g,k;0==a.length()?(g=this.extent.wt_2/2,k=this.extent.hh_1/
2):(g=1==a.length()?this.extent.wt_2/2:a.X()*this.extent.wt_2,k=this.extent.hh_1-a.Y()*this.extent.hh_1);return this.bp$2(g,k,e,c)},gn$21:function(a,d){var c;c=a.hh_1;if(this.sl_15){var e=this.sl_15.font;e?(e=e.copy(),null==e.size&&(e.size=c,e.setCachedObject(null)),c=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(e,this.visContext.getMinimumFontSize(),this.visContext.uc_1)):c=b.com_ibm_vis_engine_internal_scene_FontHelper.makeForSize(c,this.visContext.getMinimumFontSize(),this.visContext.uc_1)}else c=
b.com_ibm_vis_engine_internal_scene_FontHelper.makeForSize(c,this.visContext.getMinimumFontSize(),this.visContext.uc_1);for(var e=c.size/this.fe_10,g=0,k=d.getContent().arrayIterator(),f=k.length;g<f;++g){var v=k[g];if(null!=v.getValue()&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(v.getValue())){var u=v.getFont();u?v.setFont(u.modifySize(u.size*e)):v.setFont(c)}}return c},makeShapeInside:function(a,b){return this.bl$5(a,b)},bl$5:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_label_TextProducer.makeTextContent(this.vis,
this.data,this.cn_13,d);return c?this.ax$1(a,c):null},ax$1:function(a,d){var c=a.x,e=a.y,g=new b.com_ibm_vis_geom_Dim(a.wt_3,a.hh_2),k=this.ag_3,f=this.vg_3,e=new b.com_ibm_vis_geom_Point(c,e),v;v=this.sl_15&&null!=this.sl_15.padding?b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.sl_15.padding,g,g):b.com_ibm_vis_engine_internal_struct_Insets.NONE;c="start"==k?e.x+v.left:"end"==k?e.x+a.wt_3-v.right:e.x+a.wt_3/2;e="start"==this.vg_3?e.y+v.top:"end"==this.vg_3?e.y+a.hh_2-v.bottom:
e.y+a.hh_2/2;b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE==f&&(f="middle");k=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(d,c,e,k,f,this.gn$21(g,d),this.sl_15,this.bl_1,g,!1,this.clipSymbol,this.shapingInfo,this.vis.vx_10.tx_1);this.fit?k=k.sizeToFit(g,!1):this.sc_6?k=k.stretchToFit(g):this.id_2&&k.clipToFit(g.wt_2);if(!k)return null;k.applyTextAngle();return k},bp$2:function(a,d,c,e){a=b.com_ibm_vis_engine_internal_scene_ItemBuilder.makeText(e,a,d,this.ag_3,this.vg_3,
c,this.sl_15,this.bl_1,this.size,!1,"\u2026",this.shapingInfo,this.vis.vx_10.tx_1);if(!a)return null;a.setUsesBackgroundPlaque(!0);this.fit?a=a.sizeToFit(this.size,!1):this.sc_6?a=a.stretchToFit(this.size):this.id_2&&a.clipToFit(this.size.wt_2);a.applyTextAngle();return a},makeAugmentedShape:function(a,b){return null}});b.com_ibm_vis_engine_internal_grammar_element_TextBuilder.TC_3="A";b.com_ibm_vis_engine_internal_grammar_element_CustomBuilder=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_Builder,
{constructor:function(a,d,c,e,g,k,f){if(!a.isUpdateDataOnly()){if(e.customConfig)throw new b.com_ibm_vis_exceptions_internal_SpecException("Multiple custom elments found: Specification can contain only one Custom element",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);if(d){if(d.containsTranspose())throw new b.com_ibm_vis_exceptions_internal_SpecException("Custom elements do not support transpose transform",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);for(a=0;a<d.scales.length;++a)if(d.scales[a]&&
1<d.scales[a].spans.size())throw new b.com_ibm_vis_exceptions_internal_SpecException("Custom elements do not support multiple spans",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);}if(!f.customOptions)throw new b.com_ibm_vis_exceptions_internal_SpecException("No custom options specified for element maplayer",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL);if(null==f.customOptions.uri)throw new b.com_ibm_vis_exceptions_internal_SpecException("uri in custom options not specified for element maplayer",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL);e.customConfig=f.customOptions}},makeShape:function(a,b){return null},makeShapeInside:function(a,b){return null},makeAugmentedShape:function(a,b){return null}});b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_PositionModifier=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_Dodge=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_PositionModifier,{modifyPositions:function(a,
d){for(var c=0,e=a.values().arrayIterator(),g=e.length;c<g;++c)b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_Dodge.dg$1(e[c],!d)}});b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_Dodge.dg$1=function(a,d){if(!(2>a.size())){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0,g=0,k=a.arrayIterator(),f=k.length;g<f;++g){var v=k[g];v.getRows()&&(c.put(b.com_ibm_rave_codegenerator_lang_Long.fromNumber(v.getRows()[0]),v),v=v.getBounds(),e+=d?v.wt_3:v.hh_2)}g=b.com_ibm_rave_codegenerator_util_BasicFactory.getHashMapKeysAsLongArray(c);
b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(g);v=a.get(0).getBounds().getCenter();e=d?v.x-e/2:v.y-e/2;k=0;for(f=g.length;k<f;++k){var u=c.get(g[k]),v=u.getBounds(),h=d?v.wt_3:v.hh_2,v=e-(d?v.x:v.y);d?u.affine(1,v,1,0,!1):u.affine(1,0,1,v,!1);e+=h}}};b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_Pile=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_PositionModifier,{po_2:!0,modifyPositions:function(a,b){this.po_2=!b;for(var c=0,e=a.values().arrayIterator(),
g=e.length;c<g;++c){var k=e[c];2<=k.size()&&(this.sort(k),this.pile(k))}},sort:function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a,new b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_PileShapeComparator(this.po_2))},pile:function(a){for(var b=0,c=1;c<a.size();++c){var e=a.get(c-1),g=a.get(c),e=e.getBounds(),k=g.getBounds();this.po_2?(b+=e.wt_3/2+k.wt_3/2,g.affine(1,b,1,0,!1)):(b-=e.hh_2/2+k.hh_2/2,g.affine(1,0,1,b,!1))}}});b.com_ibm_vis_engine_internal_grammar_element_PositionModifierFactory=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_element_PositionModifierFactory.createPositionModifier=function(a){var d;"dodge"==a?d=new b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_Dodge:"pile"==a&&(d=new b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_Pile);return d};b.com_ibm_vis_engine_internal_grammar_element_positionmodifier_PileShapeComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{pileInXDirection:!0,constructor:function(a){this.pileInXDirection=
a},compare:function(a,d){var c=a.getBounds(),e=d.getBounds(),g=this.pileInXDirection?c.wt_3:c.hh_2,k=this.pileInXDirection?e.wt_3:e.hh_2;if(g>k)return-1;if(g<k)return 1;c=this.pileInXDirection?c.hh_2:c.wt_3;e=this.pileInXDirection?e.hh_2:e.wt_3;if(c>e)return-1;if(c<e)return 1;e=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(a.getRows()?a.getRows()[0]:-1);c=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(d.getRows()?d.getRows()[0]:-1);return e.lessThan(c)?-1:e.greaterThan(c)?1:0}});b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,d){return"link"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout(d)):"sankey"==a?new b.com_ibm_vis_engine_internal_grammar_layout_Sankey(d):"route"==a?new b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting(d):null}});b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts.re_12||
(b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts.re_12=!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts))};b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts.re_12=!1;b.com_ibm_vis_engine_internal_grammar_layout_Layout=b.com_ibm_init_declare({constructor:function(a){this.adapter=a},buildLayout:function(a,d,c){d||(d=this.getPreferredSize(a));var e=this.makeElementShapes(a,
d),e=this.orientShapes(d,e),g=this.makeNonElementShapes(d),g=this.orientShapes(d,g);a=this.makeNonElementLabels(d);a=this.orientShapes(d,a);d=new b.com_ibm_vis_engine_internal_grammar_ShapeList;for(var k=0,f=g.arrayIterator(),v=f.length;k<v;++k)g=f[k],d.addNonElementShape(g);k=0;e=e.arrayIterator();for(f=e.length;k<f;++k)g=e[k],d.addElementShape(g);e=0;a=a.arrayIterator();for(k=a.length;e<k;++e)g=a[e],d.addNonElementShape(g);this.translateShapes(d,c);return d},prepareForNewRows:function(a){},translateShapes:function(a,
b){for(var c=0,e=a.getAllShapes().arrayIterator(),g=e.length;c<g;++c)e[c].affine(1,b.x,1,b.y,!0)},getPreferredSize:function(a){return new b.com_ibm_vis_geom_Dim(400,400)},makeNonElementShapes:function(a){return new b.com_ibm_rave_codegenerator_util_List},makeNonElementLabels:function(a){return new b.com_ibm_rave_codegenerator_util_List},getAdapter:function(){return this.adapter},respectsTransforms:function(){return!0},orientShapes:function(a,b){if(this.adapter.isOriented()&&this.respectsTransforms())for(var c=
0,e=b.arrayIterator(),g=e.length;c<g;++c){var k=e[c];this.adapter.isReflectY()&&k.reflect(a,!0);this.adapter.isSwapXY()&&k.transpose(a)}return b},getDefaultOrientation:function(){return null},applyStyles:function(a){return!1},applyLabels:function(a,b,c){return!1},getDefaultShapeSize:function(a,d){var c=Math.round(Math.sqrt(a.wt_2*a.hh_1/d/5));10>c?c=10:60<c&&(c=60);return new b.com_ibm_vis_geom_Dim(c,c)},needsAestheticsPreApplied:function(){return!1},isGraph:function(){return!1},getPaddedBounds:function(a){return null==
this.adapter.getSpec().padding?new b.com_ibm_vis_geom_Rect(0,0,a.wt_2,a.hh_1):b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.adapter.getSpec().padding,a,a).insetRectFromDimension(a)},getLabelShape:function(a){return a}});b.com_ibm_vis_engine_internal_grammar_layout_Sankey=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{cv_1:!1,va_2:!1,rt_8:!1,constructor:function(){this.CT_1=[77,67,44,44,76,67,44,44,90];this.QUAD=[77,76,76,76,90];(function(a){var d=
a.getSpec();this.il_5=d.id?d.id.$ref:null;this.fl_9=d.from?d.from.$ref:null;this.tl_6=d.to?d.to.$ref:null;if(null==this.il_5||null==this.fl_9||null==this.tl_6)throw new b.com_ibm_vis_exceptions_internal_SpecException("FlowPath layout requires id, from and to fields to be specified.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);if(!a.isOriented())throw new b.com_ibm_vis_exceptions_internal_SpecException("FlowPath is supported only for layouts with an orientation such as dag and tree",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);this.sl_10=null==d.size?null:d.size.$ref;this.cv_1=a.getStyle()&&"curved"==a.getStyle().symbol;this.va_2=!a.isSwapXY();this.rt_8=a.isReflectY()}).apply(this,arguments)},makeElementShapes:function(a,d){this.ne_22=this.adapter.getElementItems(this.il_5);this.me$32(a);for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=this.me$31(a),k=g.length;e<k;++e){var f=g[e],v=this.adapter.getFieldNumericValue(this.fl_9,f),h=this.adapter.getFieldNumericValue(this.tl_6,
f);if(!this.adapter.isLinkPruned(v,h)){var l=null==this.sl_10?1:this.adapter.getFieldNumericValue(this.sl_10,f);if(f=this.me$33(v,h,f,l))f.setEdgeProperties(!1,null,null,null),c.add(f)}}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(c,new b.com_ibm_vis_engine_internal_grammar_layout_SankeyOrder(this.va_2));return c},me$31:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=0;c<a;++c){var e=this.adapter.getFieldNumericValue(this.fl_9,c),g=this.adapter.getFieldNumericValue(this.tl_6,
c),e=this.ne_22.get(e),g=this.ne_22.get(g),k=this.va_2?1.5707963267948966:0;e&&g&&(k=g.getCenter().y-e.getCenter().y,e=g.getCenter().x-e.getCenter().x,this.va_2==this.rt_8&&(e=-e,k=-k),k=Math.atan2(k,e));d[c]=this.va_2?-k:k}return b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(d)},me$32:function(a){this.vt_2=new b.com_ibm_rave_codegenerator_util_NumericMap;for(var d=0,c=this.ne_22.keySet().arrayIterator(),e=c.length;d<e;++d)this.vt_2.put(c[d],[0,0,0,0]);for(d=0;d<a;++d){var c=this.adapter.getFieldNumericValue(this.fl_9,
d),e=this.adapter.getFieldNumericValue(this.tl_6,d),g=null==this.sl_10?1:this.adapter.getFieldNumericValue(this.sl_10,d);this.ac$7(g,c,2);this.ac$7(g,e,0)}},ac$7:function(a,b,c){(b=this.vt_2.get(b))&&(b[c]+=a)},me$33:function(a,b,c,e){var g=this.gd$7(a),k=this.gd$7(b);a=this.vt_2.get(a);var f=this.vt_2.get(b);b=this.mt$11(g,a,e,2);e=this.mt$11(k,f,e,0);var v;b&&e&&(v=this.va_2?this.gr$8(g,k.getCenter()):this.gr$7(g,k.getCenter()),g=this.va_2?this.gr$8(k,g.getCenter()):this.gr$7(k,g.getCenter()),k=
(v+g)/2,this.cv_1?(g=[v,k,k,g,g,k,k,v,0],k=[b[0],b[0],e[0],e[0],e[1],e[1],b[1],b[1],0],b=this.CT_1):(g=[v,g,g,v,0],k=[b[0],e[0],e[1],b[1],0],b=this.QUAD),v=this.va_2?this.adapter.makeItemFromPath(k,g,b,!0,c):this.adapter.makeItemFromPath(g,k,b,!0,c));return v},gr$7:function(a,b){return Math.abs(a.x-b.x)<Math.abs(a.getX2()-b.x)?a.x:a.getX2()},gr$8:function(a,b){return Math.abs(a.y-b.y)<Math.abs(a.getY2()-b.y)?a.y:a.getY2()},mt$11:function(a,b,c,e){if(!a)return null;var g=this.getY(a);a=this.gh$11(a);
var k=b[e],f=b[e+1],v,h;this.va_2==this.rt_8&&2==e||this.va_2!=this.rt_8&&0==e?(h=g+a*(1-f/k),f+=c,v=g+a*(1-f/k)):(v=g+a*f/k,f+=c,h=g+a*f/k);b[e+1]=f;return[v,h]},gd$7:function(a){return(a=this.ne_22.get(a))?a.getBounds():null},gh$11:function(a){return this.va_2?a.wt_3:a.hh_2},getY:function(a){return this.va_2?a.x:a.y},respectsTransforms:function(){return!1},getPreferredSize:function(a){return new b.com_ibm_vis_geom_Dim(0,0)}});b.com_ibm_vis_engine_internal_grammar_layout_SankeyOrder=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,
{va_3:!1,constructor:function(a){this.va_3=a},compare:function(a,b){if(a==b)return 0;var c=a.getBounds(),e=b.getBounds(),c=this.va_3?c.hh_2-e.hh_2:c.wt_3-e.wt_3;return 0==c?(c=a.getRows(),e=b.getRows(),c[0]-e[0]):0<c?-1:1}});b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{cn_9:0,cs_2:0,cd_6:0,cn_10:0,cu_4:0,pad:0,ue_6:!1,debug:0,constructor:function(){this.tp_2=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);
this.tn_4=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);(function(a){var d=a.getSpec().family;this.cn_9=this.gr$6(d,0,40);this.cs_2=this.gr$6(d,1,50);this.cd_6=this.gr$6(d,2,100);this.cn_10=this.gr$6(d,3,1E3);var d=!1,c=8;a.getStyle()&&(null!=a.getStyle().cornerRadius&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a.getStyle().cornerRadius)&&(c=a.getStyle().cornerRadius),d=!0),b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.getStyle().symbol)&&(d=a.getStyle().symbol.CPVISEngineStartsWith("curv")));
this.ue_6=d;this.cu_4=c;this.ge_2=new b.com_ibm_vis_engine_internal_grammar_layout_graph_GraphBuilder(a);this.qu_1=new b.com_ibm_vis_engine_internal_grammar_layout_PriorityQueueHeap(80)}).apply(this,arguments)},gr$6:function(a,d,c){if(null==a)return c;a=a.split(";");if(d>=a.length)return c;try{var e=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a[d]);return 0<=e?e:c}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,Error))return c;throw g;}},prepareForNewRows:function(a){this.base=
null},ie$32:function(){if(!this.base){this.tp_2=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer();this.base=this.ge_2.build(!0);this.mf$1();for(var a=Array(this.base.getNodesCount()),d=this.base.ne_17,c=0;c<a.length;++c){var e=d.get(c),g=e.sp_7.getBounds();a[c]=new b.com_ibm_vis_geom_Rect(g.x,g.y,g.wt_3,g.hh_2);e.info=b.com_ibm_rave_codegenerator_lang_Array.create([4],0)}this.adapter.logInfo("Building Routing layout","# obstacles",a.length);d=this.adapter.getSharedLayoutInfo().mo_6;
0==d&&(d=b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting.findMinimalDistance(a));this.pad=d>3*this.cu_4?Math.floor(d/3):Math.floor(.45*d);for(c=0;c<a.length;++c)a[c]=a[c].expand(this.pad);this.vt_1=b.com_ibm_vis_engine_internal_grammar_layout_VisibilityGraph.makeOrthogonal(a);this.nr_5=Array(this.vt_1.directedNodeCount);a=0;d=this.ef_3;for(c=d.length;a<c;++a)e=d[a],e.ae_9=this.ge$25(e.a,e.ar_2),e.be_3=this.ge$25(e.b,e.br_1);this.tp_2=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer().subtract(this.tp_2);
this.adapter.logInfo("Routing : Initialized Structures","N,E",this.vt_1.getNodesCount()+","+this.vt_1.getLinksCount())}},ge$25:function(a,b){for(var c=Array(b.length),e=0;e<c.length;++e){var g=b[e].boundaryPoint(a);c[e]=this.vt_1.findNode(b[e].offset(g,this.pad))}return c},mf$1:function(){for(var a=0,d=this.base.ne_17.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=e.sp_7.getBounds(),g=new b.com_ibm_vis_geom_Rect(g.x,g.y,g.wt_3,g.hh_2);e.info=g}a=this.base.lk_4;this.ef_3=Array(this.base.getLinksCount());
for(d=0;d<this.ef_3.length;++d){var c=a.get(d),e=c.from.info,g=c.to.info,k=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getOrderedDirections(e,g,c.gp_3),f=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getOrderedDirections(g,e,null);this.ef_3[d]=new b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouteInfo(c,e,k,g,f)}},makeElementShapes:function(a,d){this.ie$32();var c=this.os$1(),e=new b.com_ibm_rave_codegenerator_util_List;this.tn_4=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer();
for(var g=0,k=c.length;g<k;++g){var f=this.ef_3[c[g]],v=this.ft$2(f);v&&(v.setRow(f.edge.row),e.add(v))}this.tn_4=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer().subtract(this.tn_4);this.adapter.logDetail("Routing visibility graph","time taken",this.tp_2);this.adapter.logInfo("Routing completed","time taken",this.tn_4);0<this.debug&&b.com_ibm_rave_codegenerator_lang_System.out.println("Timing \x3d "+this.tp_2+" / "+this.tn_4);return e},ft$2:function(a){1<this.debug&&b.com_ibm_rave_codegenerator_lang_System.out.println(a.edge.from.row+
" -\x3e "+a.edge.to.row);for(var d,c=1.7976931348623157E308,e,g,k=0;k<a.ar_2.length;++k)for(var f=a.ar_2[k],v=0;v<a.br_1.length;++v){var h=a.br_1[v],l=a.startNodes()[k],m=a.be_3[v];if(l&&m){var p=this.cs$5(a.edge,f,h),l=new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(0,l,f,null),m=new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(-1,m,h.getReverse(),null);this.nr_5[0]=null;2<this.debug&&b.com_ibm_rave_codegenerator_lang_System.out.println("  START "+f+" -\x3e "+h);(p=this.rt$2(l,
m,p,c))&&2<this.debug&&b.com_ibm_rave_codegenerator_lang_System.out.println("  END "+f+" -\x3e "+h+": "+p.f());p&&p.f()<c&&(d=f.boundaryPoint(a.a),c=h.boundaryPoint(a.b),d=p.complete(d,c,h.getReverse()),c=p.f(),e=f,g=h)}}p=d;if(!d)return null;a.edge.from.info[e.ie_13]=1;for(a.edge.to.info[g.ie_13]=-1;p;){p.getNode().info=p.getNode().info+1;if(k=p.getIncident())k.wh_3+=1;p=p.pn_16}k=d.asShape(a.edge.row,this.ue_6?this.cu_4:0,this.adapter);k.setKey(a.edge.from.sp_7.getKey()+"|"+a.edge.to.sp_7.getKey());
return k},cs$5:function(a,b,c){var e=0;b=a.from.info[b.ie_13];a=a.to.info[c.ie_13];0!=b&&(e+=0<b?this.cd_6:this.cn_10);0!=a&&(e+=0<a?this.cn_10:this.cd_6);return e},rt$2:function(a,d,c,e){var g=b.com_ibm_rave_codegenerator_lang_Array.create([this.vt_1.directedNodeCount],!1),k=b.com_ibm_rave_codegenerator_lang_Array.create([this.vt_1.directedNodeCount],!1),f=b.com_ibm_rave_codegenerator_lang_Array.create([this.vt_1.directedNodeCount],0);this.qu_1.clear();a=b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute.makeInitial(a,
c,this.ht$1(a,d));this.qu_1.insert(a,a.f());g[a.de_20.index]=!0;for(f[a.de_20.index]=c;!this.qu_1.isEmpty();){c=this.qu_1.pop();var v=c.de_20;if(c.f()>=e)break;else if(v.node==d.node)return c;g[v.index]=!1;k[v.index]=!0;3<this.debug&&b.com_ibm_rave_codegenerator_lang_System.out.println("  .. "+c.toString());(a=this.nr_5[v.index])||(a=this.cr$8(v));for(var v=0,h=a.length;v<h;++v){var l=a[v],m=c.g+l.lt_3;l.dir!=c.getDir()&&(m+=this.cn_9);var m=m+l.ig_6.wh_3*this.cd_6,m=m+l.node.info*this.cs_2,p=this.ht$1(l,
d),q=m+p;if(!(q>=e)){var r=f[l.index];k[l.index]&&q>=r||g[l.index]&&!(q<r)||(m=c.extend(l,m,p),f[l.index]=q,this.qu_1.insert(m,q),g[l.index]=!0)}}}return null},cr$8:function(a){for(var b=a.dir.getReverse(),c=this.vt_1.getNeighbors(a),e=0,g=c.length;e<g;++e)if(c[e].dir==b){for(var e=Array(c.length-1),k=g=0;k<c.length;++k)c[k].dir!=b&&(e[g++]=c[k]);c=e;break}return this.nr_5[a.index]=c},ht$1:function(a,d){var c=a.node.orthogonalDistance(d.node);return 1>c?a.dir==d.dir?0:this.cn_9:c+this.cn_9*b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting.minimalBends(a,
d)},os$1:function(){for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.ef_3.length],0),d=0;d<a.length;++d){var c=this.ef_3[d].edge;a[d]=this.gc$9(this.ef_3[d])+1E-6*d;c.from.getX()!=c.to.getX()&&c.from.getX()!=c.to.getX()&&(a[d]+=this.cn_9)}return b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(a)},gc$9:function(a){for(var b=9E99,c=0,e=a.ar_2,g=e.length;c<g;++c)for(var k=e[c].boundaryPoint(a.a),f=0,v=a.br_1,h=v.length;f<h;++f)var l=v[f].boundaryPoint(a.b),b=Math.min(b,k.distance(l));
return b},getLabelShape:function(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_PolyShape)){for(var d=-1,c=0,e=1;e<a.x.length;++e){var g=Math.abs(a.x[e]-a.x[e-1])+Math.abs(a.y[e]-a.y[e-1]);g>c&&(c=g,d=e)}d=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(a.x[d-1],a.y[d-1],a.x[d],a.y[d]);d.setID(a.id);d.copyInfoFrom(a);return d}return a},respectsTransforms:function(){return!1},getPreferredSize:function(a){return new b.com_ibm_vis_geom_Dim(0,0)}});
b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting.minimalBends=function(a,d){var c=d.node.getX()-a.node.getX(),e=d.node.getY()-a.node.getY(),c=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getDirectionForVector(c,e);return b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting.mr_3[16*Math.abs(c.ie_13)+4*Math.abs(a.dir.ie_13)+Math.abs(d.dir.ie_13)]};b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting.findMinimalDistance=function(a){for(var b=1.7976931348623157E308,c=0;c<
a.length;++c)for(var e=0;e<c;++e){var g=a[c].distance(a[e]);0<g&&(b=Math.min(b,g))}return b};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouting.mr_3=[0,3,3,4,1,4,2,3,1,2,4,3,4,3,3,4,4,1,3,2,3,0,4,3,3,4,4,3,2,1,3,4,4,3,1,2,3,4,4,3,3,4,0,3,2,3,1,4,4,3,3,4,3,4,2,1,3,2,4,1,4,3,3,0,2,1,3,2,1,2,2,3,3,2,4,3,2,3,3,4,4,3,3,2,3,2,2,1,3,2,4,3,2,1,3,2,2,3,1,2,3,4,2,3,1,2,2,3,2,3,3,4,4,3,3,2,3,4,2,3,3,2,2,1,2,3,1,2]});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph=
b.com_ibm_init_declare({constructor:function(a,d){this.ne_17=new b.com_ibm_rave_codegenerator_util_List;this.lk_4=new b.com_ibm_rave_codegenerator_util_List;if(a)for(var c=0,e=a.length;c<e;++c)this.ne_17.add(a[c]);if(d)for(c=0,e=d.length;c<e;++c)this.lk_4.add(d[c])},getLinksCount:function(){return this.lk_4.size()},getNodesCount:function(){return this.ne_17.size()},getLinks:function(){return this.lk_4},getNodes:function(){return this.ne_17},addNode:function(a){this.ne_17.add(a)},addLink:function(a){this.lk_4.add(a)},
getLinkBetween:function(a,b){for(var c=0,e=a.getLinks(),g=e.length;c<g;++c){var k=e[c];if(k.getOpposite(a)==b)return k}return null},attachLinksToNodes:function(){for(var a=new b.com_ibm_rave_codegenerator_util_HashMap,d=new b.com_ibm_rave_codegenerator_util_HashMap,c=0,e=this.ne_17.arrayIterator(),g=e.length;c<g;++c){var k=e[c];a.put(k,new b.com_ibm_rave_codegenerator_util_List);d.put(k,new b.com_ibm_rave_codegenerator_util_List)}k=0;c=this.lk_4.arrayIterator();for(e=c.length;k<e;++k)g=c[k],a.get(g.to).add(g),
d.get(g.from).add(g);c=0;e=this.ne_17.arrayIterator();for(g=e.length;c<g;++c){var k=e[c],f=a.get(k),v=d.get(k);k.setInLink(f.toArray(Array(f.size())));k.setOutLink(v.toArray(Array(v.size())))}}});b.com_ibm_vis_engine_internal_grammar_layout_VisibilityGraph=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph,{directedNodeCount:0,constructor:function(a,d,c){this.oe_12=c;this.nr_6=new b.com_ibm_rave_codegenerator_util_HashMap},ba$6:function(){for(var a=this.me$34(!0),
d=this.me$34(!1),c=Array(d.length),e,g=0;g<a.length;++g){e=null;for(var k=0;k<d.length;++k){var f=null;this.la$1(a[g],d[k])&&(f=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-1),f.info=0,f.setX(a[g]),f.setY(d[k]),this.addNode(f),e&&this.addLink(new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(e,f)),c[k]&&this.addLink(new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(c[k],f)));e=f;c[k]=f}}this.attachLinksToNodes()},la$1:function(a,b){for(var c=0,e=this.oe_12,g=e.length;c<
g;++c)if(e[c].containsPt(a,b))return!1;return!0},me$34:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_NumericSet,c=0,e=this.oe_12,g=e.length;c<g;++c){var k=e[c],f;a?(f=k.getMinX(),k=k.getMaxX()):(f=k.getMinY(),k=k.getMaxY());d.add(this.r(f)-.01);d.add(this.r(k)+.01);d.add(this.r((f+k)/2))}a=b.com_ibm_rave_codegenerator_lang_Array.create([d.size()],0);e=c=0;d=d.arrayIterator();for(g=d.length;e<g;++e)f=d[e],a[c++]=1*f;b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(a);return a},
r:function(a){return.01*Math.round(100*a)},findNode:function(a){for(var b=this.ne_17,c=0,e=b.size();c+1<e;){var g=Math.floor((c+e)/2);b.get(g).getX()>a.x-1?e=g:c=g}for(;c<b.size();++c){e=b.get(c);if(e.getX()>a.x+1)break;if(1>Math.abs(a.y-e.getY()))return e}return null},getNeighbors:function(a){return this.nr_6.get(a.node)},br$1:function(){for(var a=1,d=0,c=this.ne_17.arrayIterator(),e=c.length;d<e;++d){for(var g=c[d],k=g.getLinks(),f=Array(k.length),v=0;v<k.length;++v){var h=k[v],l=h.getOpposite(g);
if(l.getY()>g.getY())f[v]=new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(a++,l,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH,h);else if(l.getY()<g.getY())f[v]=new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(a++,l,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH,h);else if(l.getX()>g.getX())f[v]=new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(a++,l,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST,h);
else if(l.getX()<g.getX())f[v]=new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(a++,l,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST,h);else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Bad direction for neighbor");}this.nr_6.put(g,f)}this.directedNodeCount=a}});b.com_ibm_vis_engine_internal_grammar_layout_VisibilityGraph.makeOrthogonal=function(a){a=new b.com_ibm_vis_engine_internal_grammar_layout_VisibilityGraph(null,null,a);a.ba$6();a.br$1();return a};
b.com_ibm_vis_engine_internal_grammar_layout_VisibilityGraph.EO_4=.01;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_VisibilityGraph.EN_1=100});b.com_ibm_vis_engine_internal_grammar_layout_graph_Node=b.com_ibm_init_declare({row:0,lo_4:!1,sd_3:0,sd_4:0,so_14:!1,wt_8:0,hh_7:0,realWidth:0,realHeight:0,re_16:!1,sX_1:!1,rt_7:!1,le_41:0,wh_4:0,ne_15:!1,increment:0,constructor:function(a){this.row=a;this.oe_11=null;this.rt_7=this.sX_1=this.ne_15=this.lo_4=this.so_14=!1;
this.re_16=!0;this.po_1=new b.com_ibm_vis_geom_Point(0,0)},getRow:function(){return this.row},isDummy:function(){return 0>this.row},toString:function(){return"["+this.row+"]"},getPosition:function(){return this.po_1},getX:function(){return this.po_1.x},setX:function(a){this.lo_4||(this.po_1.x=a)},getY:function(){return this.po_1.y},setY:function(a){this.lo_4||(this.po_1.y=a)},moveTo:function(a,b){this.po_1.x=a;this.po_1.y=b},moveBy:function(a,b){this.po_1.x+=a;this.po_1.y+=b},swapWith:function(a){var b=
this.getX(),c=this.getY();this.setX(a.getX());this.setY(a.getY());a.setX(b);a.setY(c)},distance:function(a){return Math.sqrt((a.getX()-this.getX())*(a.getX()-this.getX())+(a.getY()-this.getY())*(a.getY()-this.getY()))},specifyPosition:function(a,b){this.sd_3=a;this.sd_4=b;this.so_14=!0;this.lo_4=!1},positionSpecified:function(){return this.so_14},moveToSpecifiedPosition:function(){this.lo_4=!1;this.setX(this.sd_3);this.setY(this.sd_4);this.lo_4=!0},getWidth:function(){return this.wt_8},setWidth:function(a){this.wt_8=
a},getHeight:function(){return this.hh_7},setHeight:function(a){this.hh_7=a},getNodeWidth:function(a){return this.sX_1?this.hh_7*a:this.wt_8*a},getNodeHeight:function(a){return this.sX_1?this.wt_8*a:this.hh_7*a},getShape:function(){return this.sp_7},setShape:function(a){this.sp_7=a;a=a.getBounds();this.realWidth=a.wt_3;this.realHeight=a.hh_2},getCurrentBounds:function(){return new b.com_ibm_vis_geom_Rect(this.po_1.x-this.realWidth/2,this.po_1.y-this.realHeight/2,this.realWidth,this.realHeight)},setPartRelativeCoordinates:function(a){this.re_16=
a},getPartXY:function(a){if(null==a)return this.po_1;if(!this.sp_7)throw new b.com_ibm_vis_exceptions_internal_EngineException("Part coordinates used in layout before shape is set, contact the RAVE team",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);var d=this.sp_7.getPartByName(a);if(!d)throw new b.com_ibm_vis_exceptions_internal_SpecException("Part '"+a+"' not found in node shape",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);a=this.sp_7.getBounds();var c=d.getCenter(),
d=c.x-a.getCenterX(),c=-(c.y-a.getCenterY());this.re_16&&(0<a.wt_3&&(d/=a.wt_3),0<a.hh_2&&(c/=a.hh_2),d*=.25,c*=.25);this.sX_1&&(a=d,d=c,c=a);this.rt_7&&(c=-c);return new b.com_ibm_vis_geom_Point(this.po_1.x+d,this.po_1.y+c)},setOrientation:function(a,b){this.sX_1=a;this.rt_7=b},isSwapXY:function(){return this.sX_1},isReflectY:function(){return this.rt_7},getInfo:function(){return this.info},setInfo:function(a){this.info=a},getId:function(){return this.id},setId:function(a){this.id=a},getParent:function(){return this.pn_15},
setParent:function(a){this.pn_15=a},getWeight:function(){return this.wh_4},setWeight:function(a){this.wh_4=a},getOrder:function(){return this.oe_11},setOrder:function(a){this.oe_11=a},isOrdered:function(){return null!=this.oe_11?!b.com_ibm_rave_codegenerator_lang_Double.isNaN(this.oe_11):!1},getLayer:function(){return this.le_41},setLayer:function(a){this.le_41=a},isNodePruned:function(){return this.ne_15},setNodePruned:function(a){this.ne_15=a},getOutLink:function(){return this.outLink},setOutLink:function(a){this.outLink=
a;this.links=this.neighbors=null},getInLink:function(){return this.inLink},setInLink:function(a){this.inLink=a;this.links=this.neighbors=null},degree:function(){return this.inLink.length+this.outLink.length},getNeighbors:function(){if(!this.neighbors){this.neighbors=Array(this.degree());for(var a=0;a<this.inLink.length;++a)this.neighbors[a]=this.inLink[a].from;for(a=0;a<this.outLink.length;++a)this.neighbors[a+this.inLink.length]=this.outLink[a].to}return this.neighbors},getLinks:function(){if(!this.links){this.links=
Array(this.degree());for(var a=0;a<this.inLink.length;++a)this.links[a]=this.inLink[a];for(a=0;a<this.outLink.length;++a)this.links[a+this.inLink.length]=this.outLink[a]}return this.links},replaceOutlink:function(a,b){for(var c=0;c<this.outLink.length;++c)if(this.outLink[c]==a){this.outLink[c]=b;this.links=this.neighbors=null;break}},replaceInlink:function(a,b){for(var c=0;c<this.inLink.length;++c)if(this.inLink[c]==a){this.inLink[c]=b;this.links=this.neighbors=null;break}},orthogonalDistance:function(a){return Math.abs(this.po_1.x-
a.po_1.x)+Math.abs(this.po_1.y-a.po_1.y)},getChildren:function(){var a=new b.com_ibm_rave_codegenerator_util_List,d=this.outLink;if(d)for(var c=0,e=d.length;c<e;++c)a.add(d[c].to);return a}});b.com_ibm_vis_engine_internal_grammar_layout_graph_Node.makeDummyNode=function(a){var d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-1);d.setX(a.x);d.setY(a.y);d.setOutLink([]);d.inLink=d.outLink;return d};b.com_ibm_vis_engine_internal_grammar_layout_graph_Link=b.com_ibm_init_declare({re_15:!1,
row:0,wh_3:0,le_40:!1,constructor:function(a,b){this.from=a;this.to=b;this.le_40=this.re_15=!1;this.row=-1;this.gI_1=this.gp_3=this.tr_4=this.fr_2=null},getTo:function(){return this.to},getFrom:function(){return this.from},getSpan:function(){return Math.abs(this.from.le_41-this.to.le_41)},getOpposite:function(a){return this.from==a?this.to:this.from},isReversed:function(){return this.re_15},setReversed:function(a){this.re_15=a},reverse:function(){this.from.setOutLink(this.rM$1(this.from.outLink));
this.to.inLink=this.rM$1(this.to.inLink);var a=this.from;this.from=this.to;this.to=a;a=this.fr_2;this.fr_2=this.tr_4;this.tr_4=a;this.from.setOutLink(this.aM$1(this.from.outLink));this.to.inLink=this.aM$1(this.to.inLink);this.re_15=!0},rM$1:function(a){for(var b=Array(a.length-1),c=0,e=0,g=a.length;e<g;++e){var k=a[e];k!=this&&(b[c++]=k)}return b},aM$1:function(a){for(var b=Array(a.length+1),c=0;c<a.length;++c)b[c]=a[c];b[a.length]=this;return b},getRow:function(){return this.row},setRow:function(a){this.row=
a},setWeight:function(a){this.wh_3=a},getWeight:function(){return this.wh_3},getDistanceFactor:function(){return 1/this.wh_3},isLinkPruned:function(){return this.le_40},setLinkPruned:function(a){this.le_40=a},setFromPart:function(a){this.fr_2=a},getFromPart:function(){return this.fr_2},setToPart:function(a){this.tr_4=a},getToPart:function(){return this.tr_4},isEquivalent:function(a){return this.from.row==a.from.row&&this.to.row==a.to.row?!0:!1},toString:function(){return"\x3c"+this.from.row+","+this.to.row+
"\x3e"},intersects:function(a){var d=this.from.getPartXY(this.fr_2),c=this.to.getPartXY(this.tr_4),e=a.from.getPartXY(a.fr_2);a=a.to.getPartXY(a.tr_4);return b.com_ibm_vis_geom_Line.segmentsIntersect(d.x,d.y,c.x,c.y,e.x,e.y,a.x,a.y,!0)},length:function(){return this.from.distance(this.to)},getGroupId:function(){return this.gI_1},setGroupId:function(a){this.gI_1=a},getGroupType:function(){return this.gp_3},setGroupType:function(a){this.gp_3=a},copyInfoFrom:function(a){this.fr_2=a.fr_2;this.tr_4=a.tr_4;
this.gI_1=a.gI_1;this.gp_3=a.gp_3;this.le_40=a.le_40;this.re_15=a.re_15;this.row=a.row;this.wh_3=a.wh_3}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_Link.NONE=[]});b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode=b.com_ibm_init_declare({index:0,cost:0,lt_3:0,constructor:function(a,b,c,e){this.index=a;this.node=b;this.dir=c;(this.ig_6=e)?(a=this.ig_6.from,b=this.ig_6.to,this.lt_3=Math.abs(a.getX()-b.getX())+Math.abs(a.getY()-b.getY())):this.lt_3=
0},node:function(){return this.node},dir:function(){return this.dir},incident:function(){return this.ig_6},setCost:function(a){this.cost=a},toString:function(){return this.dir.name},segmentLength:function(){return this.lt_3}});b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode.makeDummy=function(a,d){var c=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-1);c.setX(a.x);c.setY(a.y);c.setInLink(b.com_ibm_vis_engine_internal_grammar_layout_graph_Link.NONE);c.setOutLink(b.com_ibm_vis_engine_internal_grammar_layout_graph_Link.NONE);
c.info=0;return new b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode(-1,c,d,null)};b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction=b.com_ibm_init_declare({ie_13:0,dx:0,dy:0,constructor:function(a,b,c,e){this.name=a;this.ie_13=b;this.dx=c;this.dy=e},getLeft:function(){return b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.left[this.ie_13]},getRight:function(){return b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.rh_5[this.ie_13]},getReverse:function(){return b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.rs_4[this.ie_13]},
getIndex:function(){return this.ie_13},toString:function(){return this.name},isBasic:function(){return 0<=this.ie_13&&3>=this.ie_13},offset:function(a,d){return new b.com_ibm_vis_geom_Point(a.x+this.dx*d,a.y+this.dy*d)},boundaryPoint:function(a){return new b.com_ibm_vis_geom_Point(a.getCenterX()+a.wt_3*this.dx/2,a.getCenterY()+a.hh_2*this.dy/2)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getDirectionForVector=function(a,d){return 1<a?-1>d?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NE:
1<d?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SE:b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST:-1>a?-1>d?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NW:1<d?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SW:b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST:0>d?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH:b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH};b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.fromNumber=
function(a){return null==a?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.UNKNOWN:a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST.ie_13?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST:a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST.ie_13?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST:a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH.ie_13?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH:
a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH.ie_13?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH:b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.UNKNOWN};b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getOrderedDirections=function(a,d,c){c=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.fromNumber(c);if(c!=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.UNKNOWN)return[c];c=d.getCenterX()-a.getCenterX();
a=d.getCenterY()-a.getCenterY();d=0<c?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST:b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST;var e=0<a?b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH:b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH;return Math.abs(c)>Math.abs(a)?[d,e,e.getReverse(),d.getReverse()]:[e,d,d.getReverse(),e.getReverse()]};b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EO_2=.1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.UNKNOWN=
new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("?",-1,0,0);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("E",0,1,0);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("N",1,0,-1);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("S",2,
0,1);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("W",3,-1,0);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NE=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("NE",-1,1,-1);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NW=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("NW",-1,-1,-1);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SE=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("SE",
-1,1,1);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SW=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction("SW",-1,-1,1);b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.ALL=[b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST];b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.rh_5=
[b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH];b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.left=[b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST,
b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH];b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.rs_4=[b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST]});b.com_ibm_vis_engine_internal_grammar_layout_EdgeRouteInfo=b.com_ibm_init_declare({constructor:function(a,
b,c,e,g){this.edge=a;this.a=b;this.ar_2=c;this.b=e;this.br_1=g},getEdge:function(){return this.edge},startDirs:function(){return this.ar_2},endDirs:function(){return this.br_1},startRect:function(){return this.a},endRect:function(){return this.b},startNodes:function(){return this.ae_9},setStartNodes:function(a){this.ae_9=a},endNodes:function(){return this.be_3},setEndNodes:function(a){this.be_3=a}});b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute=b.com_ibm_init_declare({g:0,h:0,extend:function(a,
d,c){return new b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute(a,this,d,c)},constructor:function(a,b,c,e){this.de_20=a;this.pn_16=b;this.g=c;this.h=e},f:function(){return this.g+this.h},complete:function(a,d,c){for(var e=this;e.pn_16;)e=e.pn_16;e.pn_16=new b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute(b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode.makeDummy(a,b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.UNKNOWN),null,0,0);return new b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute(b.com_ibm_vis_engine_internal_grammar_layout_DirectedNode.makeDummy(d,
c),this,this.g,this.h)},asShape:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=new b.com_ibm_rave_codegenerator_util_List,k=this;k;){g.add(0,76);e.add(0,k.getLocation());for(var f=k.getDir(),k=k.pn_16;k&&k.getDir()==f;)k=k.pn_16}g.set(0,77);this.ad$6(e,g,2*d);this.ad$6(e,g,d);d=b.com_ibm_rave_codegenerator_lang_Array.create([e.size()],0);for(var k=b.com_ibm_rave_codegenerator_lang_Array.create([e.size()],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([e.size()],0),v=0;v<
d.length;++v){f[v]=g.get(v);var h=e.get(v);d[v]=h.x;k[v]=h.y}return c.makeItemFromPath(d,k,f,!1,a)},ad$6:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=a.size()-2;0<g;--g){var k=a.get(g);(76!=d.get(g)||76==d.get(g+1))&&a.get(g-1).distance(k)>c&&a.get(g+1).distance(k)>c&&e.add(g)}for(k=0;k<e.size();++k){var g=e.get(k),f=a.get(g-1),v=a.get(g),h=a.get(g+1),f=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getDirectionForVector(f.x-v.x,f.y-v.y),h=b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.getDirectionForVector(h.x-
v.x,h.y-v.y),f=f.offset(v,c/2),v=h.offset(v,c/2);a.add(g+1,v);a.add(g,f);d.add(g+1,44);d.add(g+1,81)}},getG:function(){return this.g},getParent:function(){return this.pn_16},getDirectedNode:function(){return this.de_20},getNode:function(){return this.de_20.node},getDir:function(){return this.de_20.dir},getLocation:function(){return new b.com_ibm_vis_geom_Point(this.de_20.node.getX(),this.de_20.node.getY())},getIncident:function(){return this.de_20.ig_6},toString:function(){for(var a=this.g+"/"+this.h,
b=this;b;)a=b.de_20.toString()+":"+a,b=b.pn_16;return a}});b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute.makeInitial=function(a,d,c){return new b.com_ibm_vis_engine_internal_grammar_layout_PartialRoute(a,null,d,c)};b.com_ibm_vis_engine_internal_grammar_layout_graph_GraphBuilder=b.com_ibm_init_declare({constructor:function(a){this.ae_17=a;this.spec=a.getSpec();this.ei$1();this.lI_1=(a=a.getSpec().linkType)?a.$ref:null},build:function(a){var d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph(null,
null);this.na_5=new b.com_ibm_rave_codegenerator_util_NumericMap;a?this.re$8(d):this.me$23(d);this.mk$3(d);d.attachLinksToNodes();return d},re$8:function(a){for(var d=this.ae_17.getElementItems(this.spec.id.$ref),c=0,e=d.keySet().arrayIterator(),g=e.length;c<g;++c){var k=e[c],f=d.get(k);if(null!=k&&f){var v=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(f.getRows()[0]);v.id=k;v.setShape(f);f=f.getBounds();v.setX(f.getCenterX());v.setY(f.getCenterY());this.na_5.put(k,v);a.addNode(v)}}},
me$23:function(a){for(var d=[1,0],c=this.ae_17.getAllFieldValuesAsNumeric(this.spec.id.$ref),e=0;e<c.length;++e)if(c[e]==c[e]){var g=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(e);g.id=c[e];g.setShape(this.ae_17.makeItemAtSimpleCoordinates(d,e,!0));this.na_5.put(c[e],g);a.addNode(g)}},mk$3:function(a){for(var d=this.ae_17.getAllFieldValuesAsNumeric(this.spec.from.$ref),c=this.ae_17.getAllFieldValuesAsNumeric(this.spec.to.$ref),e=0;e<d.length;++e)if(d[e]==d[e]&&c[e]==c[e]){var g=this.na_5.get(d[e]),
k=this.na_5.get(c[e]);g&&k&&g!=k&&(g=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(g,k),g.row=e,null!=this.lI_1&&(g.gp_3=this.ae_17.getFieldNumericValue(this.lI_1,e)),a.addLink(g))}},ei$1:function(){if(!this.spec.id)throw new b.com_ibm_vis_exceptions_internal_EngineException("positioning.id must be defined",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL,"positioning.id");if(!this.spec.from)throw new b.com_ibm_vis_exceptions_internal_EngineException("positioning.from must be defined",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL,"positioning.from");if(!this.spec.to)throw new b.com_ibm_vis_exceptions_internal_EngineException("positioning.to must be defined",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_NULL,"positioning.to");}});b.com_ibm_vis_engine_internal_grammar_layout_PriorityQueueHeap=b.com_ibm_init_declare({last:0,constructor:function(a){this.items=Array(a);this.last=-1},insert:function(a,d){if(++this.last==this.items.length){for(var c=Array(2*this.last),e=0;e<this.last;++e)c[e]=
this.items[e];this.items=c}this.items[this.last]=new b.com_ibm_vis_engine_internal_grammar_layout_PQHItem(a,d);this.bU$1(this.last)},pop:function(){if(0>this.last)return null;var a=this.items[0].item;this.items[0]=this.items[this.last--];0<=this.last&&this.bw$1(0);return a},bU$1:function(a){for(;;){var b=Math.floor((a-1)/2);if(0>b)break;var c=this.items[a],e=this.items[b];if(c.priority>=e.priority)break;this.items[a]=e;this.items[b]=c;a=b}},bw$1:function(a){for(;;){var b=2*a+1;if(b>this.last)break;
b<this.last&&this.items[b+1].priority<this.items[b].priority&&b++;var c=this.items[a],e=this.items[b];if(e.priority<c.priority)this.items[b]=c,this.items[a]=e,a=b;else break}},isEmpty:function(){return 0>this.last},clear:function(){this.last=-1}});b.com_ibm_vis_engine_internal_grammar_layout_PQHItem=b.com_ibm_init_declare({priority:0,constructor:function(a,b){this.item=a;this.priority=b}});b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,
{newInstance:function(a,d){if("dag"==a)return b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG(d);if("grid"==a)return b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_graph_GridGraphLayout(d);if("network"==a){b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer");var c=d.getSpec();return new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout(d,
c.incrementalNetworkLayout,c.respectBubbleSize,c.neighbourDetails)}return"tree"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout(d)):"swimlane"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_SwimlaneLayout(d)):"process"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_graph_ProcessFlowLayout(d)):
"fishbone"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_graph_FishboneLayout(d)):"force"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayout(d)):null}});b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts.re_14||
(b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts.re_14=!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts))};b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts.re_14=!1;b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,
d){return"treemap"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout(d)):null}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts.ie_11||(b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts.ie_11=!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts))};
b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts.ie_11=!1;b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,d){return"cloud"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_cloud_CloudLayout(d)):"bubble"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout(d,
!1)):"bubble-square"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout(d,!0)):"chord"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout(d)):"calendar"==a?(b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer"),new b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout(d)):"pack"==a?new b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout(d):
null}});b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts.ie_10||(b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts.ie_10=!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts))};b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts.ie_10=!1;b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{sw_2:0,sn_4:0,ro_3:!1,re_10:!1,ce_24:!1,ii_2:!1,numRows:0,numColumns:0,constructor:function(a){this.ei_1=null},needsAestheticsPreApplied:function(){return!0},respectsTransforms:function(){return!1},makeElementShapes:function(a,b){this.sr$5();var c=this.ce$20(a);this.cz$1(c,b);this.gz$3(b);return this.pe$3(c,b)},makeNonElementShapes:function(a){a=new b.com_ibm_rave_codegenerator_util_List;this.ei_1&&a.add(this.ei_1);return a},
sr$5:function(){var a=this.adapter.getSpec(),d;d=a?a.orientation:b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_TOP_TO_BOTTOM;this.mo_12="packed";this.sn_4=this.sw_2=0;this.ro_3=!1;this.ce_24=this.re_10=!0;this.ag_2="start";this.vg_2="middle";this.ii_2=!0;this.eo_2=null;b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_LEFT_TO_RIGHT==d?this.ro_3=!0:b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_RIGHT_TO_LEFT==d?(this.ro_3=
!0,this.ce_24=!1):b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_BOTTOM_TO_TOP==d&&(this.re_10=!1);a&&a.packParameters&&(a=a.packParameters,"packed"==a.method?this.mo_12="packed":"grid"==a.method&&(this.mo_12="grid"),null!=a.rows&&(this.sw_2=a.rows),null!=a.columns&&(this.sn_4=a.columns),"row"==a.major?this.ro_3=!0:"column"==a.major&&(this.ro_3=!1),b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_TOP_TO_BOTTOM==a.rowOrder?this.re_10=!0:b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_BOTTOM_TO_TOP==
a.rowOrder&&(this.re_10=!1),b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_LEFT_TO_RIGHT==a.columnOrder?this.ce_24=!0:b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_RIGHT_TO_LEFT==a.columnOrder&&(this.ce_24=!1),null!=a.includeEllipsis&&(this.ii_2=a.includeEllipsis.valueOf()),this.eo_2=a.ellipsisPosition);if(a=this.adapter.getStyle())b.com_ibm_vis_engine_internal_Alignment.isValidAlign(a.align)&&(this.ag_2=a.align),b.com_ibm_vis_engine_internal_Alignment.isValidAlign(a.valign)&&
(this.vg_2=a.valign)},ce$20:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0;c<a;++c){var e=this.adapter.makeItemAtSimpleCoordinates([0,0],c,!0);e&&d.add(e)}return d},cz$1:function(a,d){for(var c=1,e=1,g=0,k=a.arrayIterator(),f=k.length;g<f;++g)var v=k[g].getBounds(),c=Math.max(c,v.wt_3),e=Math.max(e,v.hh_2);this.mz_9=new b.com_ibm_vis_geom_Dim(c,e);c=(c=this.adapter.getStyle())?b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(c.padding,this.mz_9,d):b.com_ibm_vis_engine_internal_struct_Insets.NONE;
e=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.adapter.getSpec().padding,this.mz_9,d);this.pn_14=new b.com_ibm_vis_engine_internal_struct_Insets(Math.max(0,Math.max(c.top,e.top)),Math.max(0,Math.max(c.left,e.left)),Math.max(0,Math.max(c.bottom,e.bottom)),Math.max(0,Math.max(c.right,e.right)));this.gz_1=new b.com_ibm_vis_geom_Dim(this.mz_9.wt_2+this.pn_14.left+this.pn_14.right,this.mz_9.hh_1+this.pn_14.top+this.pn_14.bottom)},gz$3:function(a){this.numRows=Math.floor(a.hh_1/
this.gz_1.hh_1);0>=this.numRows&&(this.numRows=1);this.numColumns=Math.floor(a.wt_2/this.gz_1.wt_2);0>=this.numColumns&&(this.numColumns=1);0<this.sw_2&&(this.numRows=Math.min(this.numRows,this.sw_2));0<this.sn_4&&(this.numColumns=Math.min(this.numColumns,this.sn_4));"packed"==this.mo_12&&(this.ro_3?this.numColumns=Math.max(0,this.sn_4):this.numRows=Math.max(0,this.sw_2))},pe$3:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List,e=a.size(),g=0,k="grid"==this.mo_12,f,v,h,l,m,p;this.ro_3?
(f=this.numRows,v=this.gz_1.hh_1,h=d.hh_1,l=this.numColumns,p=d.wt_2):(f=this.numColumns,v=this.gz_1.wt_2,h=d.wt_2,l=this.numRows,p=d.hh_1);0==l&&(l=p);for(var q=0,r=0,t=new b.com_ibm_rave_codegenerator_util_List,w=!1,x=0,y=0;g<e&&x<f;){q=x*v;for(y=r=0;g<e&&y<l;){var z=a.get(g);m=z.getBounds();m=k?this.ro_3?this.gz_1.wt_2:this.gz_1.hh_1:this.ro_3?m.wt_3+this.pn_14.left+this.pn_14.right:m.hh_2+this.pn_14.top+this.pn_14.bottom;if(!k&&m>p)w=!0,g++;else if(r+m<=p&&q<=h)this.pp$2(z,d,q,r,v,m,this.ag_2,
this.vg_2,0),t.add(new b.com_ibm_vis_geom_Point(q,r)),c.add(z),g++,y++,r+=m;else break}x++}this.ii_2&&(g<e||w)?(this.ci$3(),this.pi$1(c,t,q,r,d,h,p,x<f-1||y<l-1)):this.ei_1=null;return c},pi$1:function(a,b,c,e,g,k,f,v){var h=this.ei_1.getBounds();if(h.hh_2>g.hh_1||h.wt_3>g.wt_2)this.ei_1=null;else{var l,m;this.ro_3?(l=Math.min(h.wt_3,k),m=Math.min(this.gz_1.hh_1,f)):(l=Math.min(this.gz_1.wt_2,k),m=Math.min(h.hh_2,f));var p,q;null==this.eo_2?(p="middle",q=0):(p="start",q=this.eo_2,0>q&&(q=0),q>this.gz_1.wt_2-
5-h.wt_3&&(q=this.gz_1.wt_2-5-h.wt_3));if(v&&c+l<=k&&e+m<=f)this.pp$2(this.ei_1,g,c,e,l,m,p,"start",q);else if(v&&c+2*l<=k)for(this.pp$2(this.ei_1,g,c+l,0,l,m,p,"start",q),a.removeAt(a.size()-1),b=this.ei_1.getBounds();0<a.size();)if(g=a.get(a.size()-1).getBounds(),b.intersectsRect(g))a.removeAt(a.size()-1);else break;else{for(;0<a.size();)if(c=b.get(a.size()-1),a.removeAt(a.size()-1),c.x+l<=k&&c.y+m<=f){this.pp$2(this.ei_1,g,c.x,c.y,l,m,p,"start",q);break}0==a.size()&&this.pp$2(this.ei_1,g,0,0,l,
m,p,"start",q)}}},pp$2:function(a,b,c,e,g,k,f,v,h){var l;this.ro_3?(l=e,e=k):(l=c,c=e,e=g,g=k);this.re_10||(c=b.hh_1-c-g);this.ce_24||(l=b.wt_2-l-e);l+=this.pn_14.left;c+=this.pn_14.top;l+=h;b=a.getBounds();h=e-b.wt_3-h-this.pn_14.left-this.pn_14.right;g=g-b.hh_2-this.pn_14.top-this.pn_14.bottom;"middle"==f?l+=h/2:"end"==f&&(l+=h);"middle"==v?c+=g/2:"end"==v&&(c+=g);a.affine(1,l-b.x,1,c-b.y,!0)},ci$3:function(){var a=new b.com_ibm_vis_spec_internal_ElementLabelSpec;a.content=["\u2026"];a.style=new b.com_ibm_vis_spec_internal_StyleSpec;
a.style.font=new b.com_ibm_vis_spec_internal_FontSpec;a.style.font.weight="bold";var d=b.com_ibm_vis_geom_Rect.makeRectFromDim(this.gz_1),d=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(d.x,d.y,d.wt_3,d.hh_2);this.ei_1=this.adapter.makeLabelShape(a,d);this.ei_1||(this.ei_1=d)},getPreferredSize:function(a){this.sr$5();var d=this.ce$20(a),c=new b.com_ibm_vis_geom_Dim(500,400);this.cz$1(d,c);"grid"==this.mo_12?(a=this.ro_3?this.gz$7(a,d):this.gz$6(a,d),0<this.sn_4&&(a.wt_2=Math.max(a.wt_2,
this.sn_4*this.gz_1.wt_2)),0<this.sw_2&&(a.hh_1=Math.max(a.hh_1,this.sw_2*this.gz_1.hh_1))):(a=this.ro_3?this.gz$5(a,d):this.gz$4(a,d),!this.ro_3&&0<this.sn_4&&(a.wt_2=Math.max(a.wt_2,this.sn_4*this.gz_1.wt_2)),this.ro_3&&0<this.sw_2&&(a.hh_1=Math.max(a.hh_1,this.sw_2*this.gz_1.hh_1)));return a},gz$4:function(a,d){for(var c=0,e=1,g=0,k=0,f=0,v=0,h=d.arrayIterator(),l=h.length;v<l;++v){var m=h[v];if(0<this.sw_2&&c>=this.sw_2){if(0<this.sn_4&&e>=this.sn_4)break;g=c=0;e++}m=this.pn_14.expandRect(m.getBounds()).getExtent();
k=Math.max(k,m.wt_2);g+=m.hh_1;c++;f=Math.max(f,g)}return new b.com_ibm_vis_geom_Dim(e*k,f)},gz$5:function(a,d){for(var c=0,e=1,g=0,k=0,f=0,v=0,h=d.arrayIterator(),l=h.length;v<l;++v){var m=h[v];if(0<this.sn_4&&c>=this.sn_4){if(0<this.sw_2&&e>=this.sw_2)break;g=c=0;e++}m=this.pn_14.expandRect(m.getBounds()).getExtent();f=Math.max(f,m.hh_1);g+=m.wt_2;c++;k=Math.max(k,g)}return new b.com_ibm_vis_geom_Dim(k,e*f)},gz$6:function(a,d){var c=a;0<this.sw_2&&(c=Math.min(this.sw_2,c));var e=Math.floor((a+c-
1)/c);0<this.sn_4&&(e=Math.min(this.sn_4,e));return new b.com_ibm_vis_geom_Dim(this.gz_1.wt_2*e,this.gz_1.hh_1*c)},gz$7:function(a,d){var c=a;0<this.sn_4&&(c=Math.min(this.sn_4,c));var e=Math.floor((a+c-1)/c);0<this.sw_2&&(e=Math.min(this.sw_2,e));return new b.com_ibm_vis_geom_Dim(this.gz_1.wt_2*c,this.gz_1.hh_1*e)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_TOP_TO_BOTTOM=b.com_ibm_vis_internal_SpecConstants.TOPTOBOTTOM;b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_BOTTOM_TO_TOP=
b.com_ibm_vis_internal_SpecConstants.BOTTOMTOTOP;b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_LEFT_TO_RIGHT=b.com_ibm_vis_internal_SpecConstants.LEFTTORIGHT;b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ORIENTATION_RIGHT_TO_LEFT=b.com_ibm_vis_internal_SpecConstants.RIGHTTOLEFT;b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.ME_1="packed";b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.MI_3="grid";b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.MO_2=
"row";b.com_ibm_vis_engine_internal_grammar_layout_pack_PackLayout.MM_3="column"});b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory=b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_DiagramFactory,{getDiagramIDList:function(){return b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory.MD_1},getDiagram:function(a){return"treemap"==a?new b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagram:"cloud"==a?new b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCloudDiagram:
"tree"==a?new b.com_ibm_vis_engine_internal_diagram_graph_directed_TreeDiagram:"link"==a?new b.com_ibm_vis_engine_internal_diagram_graph_link_LinkDiagram:null}});b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory.TREEMAP="treemap";b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory.CLOUD="cloud";b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory.TREE="tree";b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory.LINK="link";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory.MD_1=
["treemap","cloud","tree","link"]});b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_Diagram,{ha_1:!1,sort:!1,connectsExistingShapes:function(){return!1},initialize:function(a){b.com_ibm_vis_engine_diagramService_Diagram.prototype.initialize.apply(this,[a]);if(this.ha_1=this.connector.booleanParameter("hierarchical",!1)){if(3!=this.connector.columnCount())throw new b.com_ibm_vis_exceptions_internal_SpecException("Hierarchical treemaps must have exactly three 'data' columns: size, id, and parent",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);}else if(2>this.connector.columnCount())throw new b.com_ibm_vis_exceptions_internal_SpecException("Non-hierarchical treemaps must have at least two 'data' columns: size, and at least one level",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);a=this.connector.stringParameter("layout","squarify");this.sort=this.connector.booleanParameter("sort",this.ha_1||!("sliceAndDice"==a||"sliceAndDiceVertical"==a));this.root=new b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNode(NaN);
this.ha_1?this.aa$2():this.ad$2();this.ie$29(this.root,-1)},calculatePreferredSize:function(){var a=this.root.containedLeafNodes();return new b.com_ibm_vis_geom_Dim(60*Math.sqrt(a),45*Math.sqrt(a))},build:function(a){this.pl$1(this.root,b.com_ibm_vis_geom_Rect.makeRectFromDim(a));this.oe$2(this.root);this.ol$1(this.root)},pl$1:function(a,d){d=this.connector.applyInsets(d,a.isElement(),a.styleNames(""));var c=this.connector.applyInsets(d,!1,a.styleNames("_inner")),e=this.mo$5(d,c);a.temp=new b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNodeDetail(d,
c,e);a.children.isEmpty()||(e=this.connector.stringParameter("layout",null),"sliceAndDiceVertical"==e?this.sc$6(c,a,!0):"sliceAndDice"==e?this.sc$6(c,a,!1):this.sf$2(c,a.totalWeight(),a.children,0))},sc$6:function(a,b,c){var e=0==b.level%2;c&&(e=!e);for(var g=c=0,k=b.children.arrayIterator(),f=k.length;g<f;++g){var v=k[g],h=this.sc$7(a,e,c,v.totalWeight(),b.totalWeight());this.pl$1(v,h);c+=v.totalWeight()}},sf$2:function(a,b,c,e){for(var g=a.wt_3>=a.hh_2,k,f=Infinity,v=1;v<=c.size()-e;++v){var h=
this.pp$1(a,b,c,e,v,g),l=this.wc$1(h);if(l<f)k=h,f=l;else break}for(v=f=0;v<k.length;++v)h=c.get(e+v),this.pl$1(h,k[v]),f+=h.totalWeight();e+k.length!=c.size()&&(a=this.sc$7(a,g,f,b-f,b),this.sf$2(a,b-f,c,e+k.length))},pp$1:function(a,b,c,e,g,k){b=Math.max(b,1E-9);for(var f=0,v=0;v<g;++v)f+=c.get(e+v).totalWeight();f=Math.max(f,1E-9);a=this.sc$7(a,k,0,f,b);b=Array(g);for(var h=0,v=0;v<g;++v){var l=c.get(e+v).totalWeight();b[v]=this.sc$7(a,!k,h,l,f);h+=l}return b},wc$1:function(a){for(var b=1,c=0,
e=a.length;c<e;++c){var g=a[c];1<g.area()&&(b=Math.max(b,g.hh_2/g.wt_3),b=Math.max(b,g.wt_3/g.hh_2))}return b},oe$2:function(a){if(a!=this.root){var d=a.temp;a.rows.isEmpty()?d=this.connector.addNonElementShape(d.outer,a.styleNames("")):(d=this.connector.addElementShape(d.outer,a.rows.get(0),a.styleNames("")),d.setRows(a.rows.toArray(b.com_ibm_rave_codegenerator_lang_Array.create([a.rows.size()],0))));a.structuralRows.isEmpty()||d.setStructuralRows(a.structuralRows.toArray(b.com_ibm_rave_codegenerator_lang_Array.create([a.structuralRows.size()],
0)))}d=0;a=a.children.arrayIterator();for(var c=a.length;d<c;++d)this.oe$2(a[d])},ol$1:function(a){if(a!=this.root){var b=a.temp;if(a.rows.isEmpty()){var c=a.styleNames("_label");if(this.connector.targetStyleExists(c)){var e=this.connector.getDataLabel(a.id,this.ha_1?1:1+a.level);this.connector.addNonElementLabel(e,b.label,c)}}}b=0;a=a.children.arrayIterator();for(c=a.length;b<c;++b)this.ol$1(a[b])},ad$2:function(){this.root.temp=new b.com_ibm_rave_codegenerator_util_LinkedMap;for(var a=0;a<this.connector.getRowCount();++a){var d=
this.connector.row(a),c=this.ao$2(d);this.so$1(a,d,c)}this.sw$1(this.root)},aa$2:function(){for(var a=new b.com_ibm_rave_codegenerator_util_LinkedMap,d=0;d<this.connector.getRowCount();++d){var c=this.connector.row(d);if(null!=c[1]){var e=new b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNode(c[1]);this.so$1(d,c,e);e.temp=this.connector.getDataLabel(c[2],2);a.put(this.connector.getDataLabel(c[1],1),e)}}for(var d=0,c=a.values().arrayIterator(),g=c.length;d<g;++d){var e=c[d],k=a.get(e.temp);
k||(k=this.root);k.children.add(e)}this.sw$1(this.root)},so$1:function(a,b,c){c&&(c.rows.add(a),null!=b[0]&&(c.nodeOnlyWeight+=b[0]))},sw$1:function(a){for(var b=0,c=a.children.arrayIterator(),e=c.length;b<e;++b){var g=c[b];this.sw$1(g);a.structuralRows.addAll(g.rows);a.structuralRows.addAll(g.structuralRows)}},ie$29:function(a,d){for(var c=0,e=a.children.arrayIterator(),g=e.length;c<g;++c)a.childWeight+=this.ie$29(e[c],d+1);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a.children,new b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNodeComparator(this.sort));
a.level=d;a.temp=null;return a.totalWeight()},ao$2:function(a){for(var d=this.root,c=1;c<a.length;++c){var e=d.temp,g=e.get(a[c]);g||(g=new b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNode(a[c]),d.children.add(g),g.temp=new b.com_ibm_rave_codegenerator_util_LinkedMap,e.put(a[c],g));d=g}return d},mo$5:function(a,b){var c=a.copy();c.hh_2=b.y-a.y;var e=a.copy();e.hh_2=a.getMaxY()-b.getMaxY();e.y=b.getMaxY();var g=a.copy();g.wt_3=b.x-a.x;var k=a.copy();k.wt_3=a.getMaxX()-b.getMaxX();k.x=
b.getMaxX();e.area()>c.area()&&(c=e);g.area()>c.area()&&(c=g);k.area()>c.area()&&(c=k);return 10>c.getExtent().getMin()?a:c},sc$7:function(a,d,c,e,g){c/=g;e/=g;return d?new b.com_ibm_vis_geom_Rect(a.x+c*a.wt_3,a.y,e*a.wt_3,a.hh_2):new b.com_ibm_vis_geom_Rect(a.x,a.y+c*a.hh_2,a.wt_3,e*a.hh_2)}});b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNode=b.com_ibm_init_declare({id:0,level:0,nodeOnlyWeight:0,childWeight:0,constructor:function(a){this.id=a;this.children=new b.com_ibm_rave_codegenerator_util_List;
this.rows=new b.com_ibm_rave_codegenerator_util_List;this.structuralRows=new b.com_ibm_rave_codegenerator_util_List;this.childWeight=this.nodeOnlyWeight=0},styleNames:function(a){return this.children.isEmpty()?["level_leaf"+a,"level_"+this.level+a]:["level_"+this.level+a,"level_inner"+a]},totalWeight:function(){return this.nodeOnlyWeight+this.childWeight},isElement:function(){return!this.rows.isEmpty()},containedLeafNodes:function(){if(this.children.isEmpty())return 1;for(var a=0,b=0,c=this.children.arrayIterator(),
e=c.length;b<e;++b)a+=c[b].containedLeafNodes();return a}});b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNodeDetail=b.com_ibm_init_declare({constructor:function(a,b,c){this.outer=a;this.inner=b;this.label=c}});b.com_ibm_vis_engine_internal_diagram_treemap_TreemapDiagramNodeComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{bt_2:!1,constructor:function(a){this.bt_2=a},compare:function(a,b){var c=this.bt_2?a.totalWeight():b.id,e=this.bt_2?b.totalWeight():
a.id;return c<e?1:c>e?-1:0}});b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCloudDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_Diagram,{dt_2:0,qt_1:0,build:function(a){this.connector.clearElementShape();for(var d=a.wt_2/2,c=a.hh_1/2,e=new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1),g=Math.max(a.wt_2,a.hh_1),k=this.dt_2*a.wt_2/g,g=this.dt_2*a.hh_1/g,f=0,v=Infinity,h=0,l=this.oe_9,m=l.length;h<m;++h){var p=l[h],q=this.we_2[p];if(q){q.area()<=v&&(v=q.area()*this.qt_1,f=0);var f=
this.pc$3(q,d,c,k,g,f),r=q.getBounds();0>r.getMinX()&&(e.wt_2+=0-r.getMinX());0>r.getMinY()&&(e.hh_1+=0-r.getMinY());r.getMaxX()>a.wt_2&&(e.wt_2+=r.getMaxX()-a.wt_2);r.getMaxY()>a.hh_1&&(e.hh_1+=r.getMaxY()-a.hh_1);r=["debug-cover"];if(this.connector.targetStyleExists(r))for(var t=0,w=q.getCover(),x=w.length;t<x;++t)this.connector.addNonElementShape(w[t],r);this.connector.addElementShape(q.makeTextBounds(),p,[])}}(e.wt_2>a.wt_2||e.hh_1>a.hh_1)&&this.si$3(a,e)},si$3:function(a,b){this.connector.clearElementShape();
var c=1,e=1,g=1;b.wt_2>a.wt_2&&(c=a.wt_2/b.wt_2);b.hh_1>a.hh_1&&(e=a.hh_1/b.hh_1);g=Math.min(c,e);50>=this.oe_9.length&&1>g&&.4<g?g-=.2:50<=this.oe_9.length&&1>g&&.3<g&&(g-=.1);for(var c=a.wt_2/2,e=a.hh_1/2,k=0,f=0,v=0;v<this.oe_9.length;++v){var h=this.oe_9[v],l=this.we_2[h];l&&(l=l.makeTextBounds(),l.setTextGeomWidth(l.getTextGeomWidth()*g),l.setTextGeomHeight(l.getTextGeomHeight()*g),0==k&&(k=c-l.getTextGeomX()*g-l.getTextGeomWidth()/2),0==f&&(f=e-l.getTextGeomY()*g-l.getTextGeomHeight()/2),l.setTextGeomX(l.getTextGeomX()*
g+k),l.setTextGeomY(l.getTextGeomY()*g+f),this.connector.addElementShape(l,h,[]),this.connector.modifyElementShape(v,"font",g))}},calculatePreferredSize:function(){if(50>=this.we_2.length){this.build(new b.com_ibm_vis_geom_Dim(1E4,1E4));for(var a=new b.com_ibm_vis_geom_Rect(0,0,0,0),d=!0,c=0,e=this.we_2,g=e.length;c<g;++c){var k=e[c];k&&(1==d?(a.hh_2=k.getBounds().hh_2,a.wt_3=k.getBounds().wt_3,a.x=k.getBounds().x,a.y=k.getBounds().y,d=!1):a.extendToRect(k.getBounds()))}k=Math.sqrt((a.wt_3+.2*a.wt_3)*
(a.hh_2+.2*a.hh_2));return new b.com_ibm_vis_geom_Dim(k+.1*k,k)}d=a=0;c=this.we_2;for(e=c.length;d<e;++d)(k=c[d])&&(a+=k.area());k=Math.sqrt(1.8*a);return new b.com_ibm_vis_geom_Dim(k+.1*k,k)},initialize:function(a){b.com_ibm_vis_engine_diagramService_Diagram.prototype.initialize.apply(this,[a]);this.se_30=a.makeUnplacedShapes();this.dt_2=a.numericParameter("delta",2.5);.5>this.dt_2&&(this.dt_2=.5);100<this.dt_2&&(this.dt_2=100);this.qt_1=a.numericParameter("quality",.75);var d=a.stringParameter("orientation",
"horizontal"),c=a.numericParameter("pad",2);a=a.stringParameter("font",null);this.mc_4=new b.com_ibm_vis_engine_internal_diagram_wordcloud_WordMetricInfo(a,c);this.we_2=Array(this.se_30.length);a=b.com_ibm_rave_codegenerator_lang_Array.create([this.se_30.length],0);for(c=0;c<this.se_30.length;++c)if(this.we_2[c]=null,a[c]=0,b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.se_30[c],b.com_ibm_vis_engine_diagramService_TextGeom)){var e=this.se_30[c],g=e.text;b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespaceString(g)||
(this.we_2[c]=this.mc_4.makeCover(g,e.getTextGeomX(),e.getTextGeomY(),e.getTextGeomWidth()),a[c]=-this.we_2[c].area())}this.oe_9=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(a);if(d==b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCloudDiagram.M9_1||d==b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCloudDiagram.M9_2)for(a=0,e=this.oe_9,g=e.length;a<g;++a)c=e[a],this.we_2[c]&&0<c%2&&this.we_2[c].rotate(d)},ie$30:function(a,b){if(b&&a.intersects(b))return b;for(var c=0,e=this.oe_9,
g=e.length;c<g;++c){var k=this.we_2[e[c]];if(k&&k!=b){if(a==k)break;if(a.intersects(k))return k}}return null},pc$3:function(a,b,c,e,g,k){for(var f;;){var v=Math.cos(k)*k*e,h=Math.sin(k)*k*g;a.placeAt(v+b,h+c);f=this.ie$30(a,f);k+=this.dt_2/Math.max(this.dt_2,Math.sqrt(v*v+h*h));if(!f)return k}},connectsExistingShapes:function(){return!1}});b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCloudDiagram.M9_1="mixedOrthogonal90";b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCloudDiagram.M9_2=
"mixedOrthogonal-90";b.com_ibm_vis_engine_internal_diagram_wordcloud_WordMetricInfo=b.com_ibm_init_declare({dx:0,dy:0,pad:0,st_10:0,constructor:function(a,d){this.pad=d;var c=a.indexOf("|");this.fontName=a.substring(0,c);c=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.decode(a.substring(c+1));this.dx=c[0];this.dy=c[1];this.cover=new b.com_ibm_rave_codegenerator_util_HashMap;for(var e=2,g=0,k=b.com_ibm_vis_engine_internal_diagram_wordcloud_WordMetricInfo.CHARACTERS.toCharArray(),f=
k.length;g<f;++g){for(var v=k[g],h=c[e++]&255,l=Array(h),m=0;m<h;++m){var p=c[e++]&255,q=c[e++]&255;l[m]=new b.com_ibm_vis_geom_Rect(p%16,p/16,q%16,q/16)}this.cover.put(v,l)}this.st_10=this.width(this.ge$15(105))},ge$15:function(a){(a=this.cover.get(a))||(a=this.cover.get(45));return a},makeCover:function(a,d,c,e){if(null==a||0==a.length)a=" ";for(var g=0,k=0,f=a.toCharArray(),v=f.length;k<v;++k)var h=f[k],g=g+(b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespace(h)?this.st_10:this.width(this.ge$15(h)));
e/=g;g=d-this.dx*e;k=c-this.dy*e;d=new b.com_ibm_rave_codegenerator_util_List;for(var f=0,v=a.toCharArray(),l=v.length;f<l;++f)if(h=v[f],b.com_ibm_rave_codegenerator_util_BasicFactory.isWhitespace(h))g+=e*this.st_10;else{for(var h=this.ge$15(h),m=this.width(h),p=0,q=h.length;p<q;++p){var r=h[p],r=new b.com_ibm_vis_geom_Rect(r.x*e+g,r.y*e+k,r.wt_3*e,r.hh_2*e);d.add(r.expand(this.pad))}g+=e*m}c=0==d.size()?0:this.maxY(d)-c;return new b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover(a,d,c)},
maxY:function(a){var b=0,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)b=Math.max(b,a[c].getMaxY());return b},width:function(a){for(var b=200,c=-200,e=0,g=a.length;e<g;++e)var k=a[e],b=Math.min(b,k.getMinX()),c=Math.max(c,k.getMaxX());return c-b}});b.com_ibm_vis_engine_internal_diagram_wordcloud_WordMetricInfo.CHARACTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890,./;:'\"()!@#$%^\x26*()_-+\x3d|\\[]{}";b.com_ibm_vis_engine_internal_diagram_wordcloud_WordMetricInfo.FONT_SIZE=
16;b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.encode=function(a){for(var d=a.length,c=Math.round((4*d+2)/3),e=Math.round((d+2)/3*4),e=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),g=0,d=0+d,k=0;g<d;){var f=a[g++]&255,v=g<d?a[g++]&255:0,h=g<d?a[g++]&255:0,l=f>>>2,f=(f&3)<<4|v>>>4,v=(v&15)<<2|h>>>6,h=h&63;e[k++]=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[l];
e[k++]=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[f];e[k]=k<c?b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[v]:61;k++;e[k]=k<c?b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[h]:61;k++}return String.copyValueOf(e)};b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.decode=function(a){a=a.toCharArray();var d=a.length;if(0!=d%4)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Length of Base64 encoded input string is not a multiple of 4.");
for(;0<d&&61==a[0+d-1];)d--;for(var c=Math.round(3*d/4),e=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),g=0,d=0+d,k=0;g<d;){var f=a[g++],v=a[g++],h=g<d?a[g++]:65,l=g<d?a[g++]:65;if(127<f||127<v||127<h||127<l)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Illegal character in Base64 encoded data.");f=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1[f];v=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1[v];h=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1[h];
l=b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1[l];if(0>f||0>v||0>h||0>l)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Illegal character in Base64 encoded data.");f=f<<2|v>>>4;v=(v&15)<<4|h>>>2;l|=(h&3)<<6;e[k++]=f;k<c&&(e[k++]=v);k<c&&(e[k++]=l)}return e};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1=b.com_ibm_rave_codegenerator_lang_Array.create([64],0);b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1=
b.com_ibm_rave_codegenerator_lang_Array.create([128],0);for(var a=0,d=65;90>=d;++d)b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[a++]=d;for(d=97;122>=d;++d)b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[a++]=d;for(d=48;57>=d;++d)b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[a++]=d;b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[a++]=43;b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[a++]=47;for(a=
0;a<b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1.length;++a)b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1[a]=-1;for(a=0;64>a;++a)b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.m6_1[b.com_ibm_vis_engine_internal_diagram_wordcloud_Base64Encoding.ma_1[a]]=a});b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover=b.com_ibm_init_declare({dy:0,constructor:function(a,d,c){this.text=a;this.dy=c;if(0==d.size())this.cr_3=[new b.com_ibm_vis_geom_Rect(0,
0,1,1)];else for(this.cr_3=Array(d.size()),a=0;a<d.size();++a)this.cr_3[a]=d.get(a);this.rt_5="horizontal";this.cd$8()},cd$8:function(){this.bd_3=this.cr_3[0].copy();for(var a=0,b=this.cr_3,c=b.length;a<c;++a)this.bd_3.extendToRect(b[a])},getBounds:function(){return this.bd_3},area:function(){return this.bd_3.area()},getCover:function(){return this.cr_3},intersects:function(a){if(!this.bd_3.intersectsRect(a.bd_3))return!1;for(var b=0,c=this.cr_3,e=c.length;b<e;++b){var g=c[b];if(g.intersectsRect(a.bd_3))for(var k=
0,f=a.cr_3,v=f.length;k<v;++k)if(g.intersectsRect(f[k]))return!0}return!1},makeTextBounds:function(){var a=new b.com_ibm_vis_geom_Rect(this.bd_3.x,this.bd_3.y-this.dy/2,this.bd_3.wt_3,this.bd_3.hh_2+this.dy/2),d=0;this.rt_5==b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover.M9_3?d=90:this.rt_5==b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover.M9_4&&(d=-90);return new b.com_ibm_vis_engine_diagramService_TextGeom(a,this.text,d)},placeAt:function(a,b){var c=this.bd_3.getCenter(),e=a-
c.x,c=b-c.y;this.bd_3.x+=e;this.bd_3.y+=c;for(var g=0,k=this.cr_3,f=k.length;g<f;++g){var v=k[g];v.x+=e;v.y+=c}},rotate:function(a){for(var d=this.bd_3.getCenter(),c=0,e=this.cr_3,g=e.length;c<g;++c){var k=e[c],f=k.wt_3,v=k.hh_2,h=k.getCenterX()-d.x,l=k.getCenterY()-d.y;this.rt_5=a;this.rt_5==b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover.M9_4?(k.x=d.x+l-v/2,k.y=d.y-h-f/2):(k.x=d.x-l-v/2,k.y=d.y+h-f/2);k.wt_3=v;k.hh_2=f}this.cd$8()}});b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover.M9_3=
"mixedOrthogonal90";b.com_ibm_vis_engine_internal_diagram_wordcloud_WordCover.M9_4="mixedOrthogonal-90";b.com_ibm_vis_engine_diagramService_TextGeom=b.com_ibm_init_declare(b.com_ibm_vis_geom_Rect,{al_5:0,constructor:function(a,b,c){this.rl_3=a;this.text=b;this.al_5=c},getText:function(){return this.text},getAngle:function(){return this.al_5},getTextGeomWidth:function(){return this.rl_3.wt_3},getTextGeomHeight:function(){return this.rl_3.hh_2},setTextGeomWidth:function(a){this.wt_3=a;this.rl_3.wt_3=
a},setTextGeomHeight:function(a){this.hh_2=a;this.rl_3.hh_2=a},getTextGeomX:function(){return this.rl_3.x},getTextGeomY:function(){return this.rl_3.y},setTextGeomX:function(a){this.x=a;this.rl_3.x=a},setTextGeomY:function(a){this.y=a;this.rl_3.y=a},getTextGeomRectangle:function(){return this.rl_3}});b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_Diagram,{N:0,E:0,ae$7:function(){this.E=0;for(var a=Array(this.N),d=Array(this.N),
c=0;c<this.N;++c)a[c]=new b.com_ibm_rave_codegenerator_util_List,d[c]=new b.com_ibm_rave_codegenerator_util_List;for(c=0;;++c){var e=this.connector.row(c);if(!e)break;if(null!=e[0]&&null!=e[1]){var g=this.connector.getReferencedRow(e[0]),k=this.connector.getReferencedRow(e[1]);if(null!=g&&null!=k){var f=1;2<e.length&&null!=e[2]&&(f=e[2]);g!=k&&0<f&&(e=new b.com_ibm_vis_engine_internal_diagram_graph_common_Edge(this.nodes[g],this.nodes[k],f,!1),a[g].add(e),d[g].add(e),d[k].add(e),this.E++)}}}for(c=
0;c<this.N;++c)this.nodes[c].edges=this.sz$5(d[c]),this.nodes[c].outgoing=this.sz$5(a[c])},initialize:function(a){b.com_ibm_vis_engine_diagramService_Diagram.prototype.initialize.apply(this,[a]);this.me$14();this.ae$7()},me$14:function(){this.se_28=this.connector.makeUnplacedShapes();this.N=this.se_28.length;this.nodes=Array(this.N);for(var a=0;a<this.N;++a){var d=this.se_28[a].getBounds();this.nodes[a]=new b.com_ibm_vis_engine_internal_diagram_graph_common_Node(d.wt_3,d.hh_2,a)}},outputShapesAtNodeLocations:function(){for(var a=
0;a<this.se_28.length;++a)if(this.se_28[a]){var b=this.se_28[a].getCenter();this.se_28[a].transform(1,this.nodes[a].cx-b.x,1,this.nodes[a].cy-b.y);this.connector.addElementShape(this.se_28[a],a,null)}},scaleNodes:function(a,d,c){for(var e=d[0].getBounds().copy().expand(1E-6),g=new b.com_ibm_vis_geom_Rect(d[0].cx,d[0].cy,1E-6,1E-6),k=0,f=d.length;k<f;++k){var v=d[k];e.extendToRect(v.getBounds());g.extendToPoint(v.cx,v.cy)}v=a.wt_2-(e.wt_3-g.wt_3);f=a.hh_1-(e.hh_2-g.hh_2);a=v/g.wt_3;k=f/g.hh_2;c&&(a=
k=Math.min(a,k));c=g.x-e.x+(v-a*g.wt_3)/2-g.x*a;e=g.y-e.y+(f-k*g.hh_2)/2-g.y*k;g=0;for(f=d.length;g<f;++g)v=d[g],v.placeAt(v.cx*a+c,v.cy*k+e)},sz$5:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0),c=0;c<d.length;++c)d[c]=-a.get(c).weight;for(var e=Array(d.length),d=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(d),c=0;c<d.length;++c)e[c]=a.get(d[c]);return e}});b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram.ROUTING_STORE_KEY="graph-layout-edges";
b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram.DIRECTED_STORE_KEY="graph-layout-vertical";b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram.EO_1=1E-6;b.com_ibm_vis_engine_internal_diagram_graph_directed_TreeDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram,{connectsExistingShapes:function(){return!1},build:function(a){this.ta$1();this.scaleNodes(a,this.nodes,!1);this.outputShapesAtNodeLocations()},calculatePreferredSize:function(){for(var a=
Infinity,d=-Infinity,c=0,e=1,g=0,k=this.nodes,f=k.length;g<f;++g)var v=k[g],a=Math.min(a,v.left()),d=Math.max(d,v.right()),c=Math.max(c,v.cy),e=Math.max(e,v.height);return this.va_1?new b.com_ibm_vis_geom_Dim(1.25*(d-a),e*c*2.5):new b.com_ibm_vis_geom_Dim(e*c*2.5,1.25*(d-a))},ee$3:function(a){if(1==a.size())return a.get(0);var d=new b.com_ibm_vis_engine_internal_diagram_graph_common_Node(0,0,-1);d.outgoing=Array(a.size());for(var c=0;c<d.outgoing.length;++c)d.outgoing[c]=new b.com_ibm_vis_engine_internal_diagram_graph_common_Edge(d,
a.get(c),1,!1);return d},initialize:function(a){b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram.prototype.initialize.apply(this,[a]);this.va_1=a.booleanParameter("vertical",!0);a.putStoredItem(b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram.DIRECTED_STORE_KEY,this.va_1);this.ta$1();a=(new b.com_ibm_vis_engine_internal_diagram_graph_directed_LayerAssignation(this.nodes)).buildBasicLayering();this.root=this.ee$3(a.get(0));a=0;for(var d=this.nodes,c=d.length;a<c;++a)d[a].mark=
-1;this.ie$28(this.root);this.pc$2(this.root,0);this.mt$5(this.root,0)},mt$5:function(a,b){for(var c=0,e=a.outgoing,g=e.length;c<g;++c){var k=e[c],f=k.b;this.mt$5(f,b+(f.cy-a.cy)*(k.weight-1))}a.cy+=b},ie$28:function(a){for(var b=a.mark=0,c=a.outgoing,e=c.length;b<e;++b){var g=c[b];0<=g.b.mark?g.weight=0:g.b.mark=1}b=0;a=a.outgoing;for(c=a.length;b<c;++b)g=a[b],0<g.b.mark&&this.ie$28(g.b)},me$16:function(a,b){a.placeAt(a.cx+b,a.cy);for(var c=0,e=a.outgoing,g=e.length;c<g;++c){var k=e[c];0<k.weight&&
this.me$16(k.b,b)}},mi$2:function(a,b,c){var e=Array(this.N);this.ul$1(a,b,e);for(var g=0;b<this.N;++b)e[b]&&c[b]&&(g=Math.max(g,c[b][1]-e[b][0]));.1<g&&this.me$16(a,g)},pc$2:function(a,b){a.cy=b;for(var c=Infinity,e=-Infinity,g,k=0,f=a.outgoing,v=f.length;k<v;++k){var h=f[k];0>=h.weight||(h=h.b,this.pc$2(h,b+1),g?this.mi$2(h,b+1,g):g=Array(this.N),this.ul$1(h,b+1,g),c=Math.min(c,h.cx),e=Math.max(e,h.cx))}c>e?a.cx=0:(a.cx=(c+e)/2,this.me$16(a,-a.cx))},ta$1:function(){if(!this.va_1)for(var a=0,b=this.nodes,
c=b.length;a<c;++a){var e=b[a],g=e.width;e.width=e.height;e.height=g;e.placeAt(e.cy,e.cx)}},ul$1:function(a,b,c){c[b]?(c[b][0]=Math.min(c[b][0],a.left()),c[b][1]=Math.max(c[b][1],a.right())):c[b]=[a.left(),a.right()];var e=0;a=a.outgoing;for(var g=a.length;e<g;++e){var k=a[e];0<k.weight&&this.ul$1(k.b,b+1,c)}}});b.com_ibm_vis_engine_internal_diagram_graph_common_Edge=b.com_ibm_init_declare({reversed:!1,weight:0,constructor:function(a,b,c,e){this.a=a;this.b=b;this.weight=c;this.reversed=e},makeReversed:function(){return new b.com_ibm_vis_engine_internal_diagram_graph_common_Edge(this.b,
this.a,this.weight,!this.reversed)}});b.com_ibm_vis_engine_internal_diagram_graph_common_Node=b.com_ibm_init_declare({mark:0,index:0,cx:0,cy:0,width:0,height:0,vx:0,vy:0,constructor:function(a,b,c){this.width=a;this.height=b;this.index=c;this.mark=-1},addDirectedEdge:function(a){if(this.outgoing){for(var b=Array(this.outgoing.length+1),c=0;c<this.outgoing.length;++c)b[c]=this.outgoing[c];b[this.outgoing.length]=a;this.outgoing=b}else this.outgoing=[a]},addVelocity:function(a,b){this.vx+=a;this.vy+=
b},area:function(){return this.width*this.height},distance:function(a){return this.getBounds().distance(a.getBounds())},flip:function(){var a=this.width;this.width=this.height;this.height=a;a=this.cx;this.cx=this.cy;this.cy=a;this.bd_2=null},getBounds:function(){this.bd_2||(this.bd_2=new b.com_ibm_vis_geom_Rect(this.cx-this.width/2,this.cy-this.height/2,this.width,this.height));return this.bd_2},isDummy:function(){return 0>this.index},left:function(){return this.cx-this.width/2},move:function(a){var b=
this.speed();a=Math.min(b,a);if(1>a)return 0;this.placeAt(this.cx+a*this.vx/b,this.cy+a*this.vy/b);this.vy=this.vx=0;return a},placeAt:function(a,b){this.cx=a;this.cy=b;this.bd_2=null},removeDirectedEdge:function(a){for(var b=Array(this.outgoing.length-1),c=0,e=0,g=this.outgoing,k=g.length;e<k;++e){var f=g[e];f!=a&&(b[c++]=f)}this.outgoing=b},right:function(){return this.cx+this.width/2},speed:function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)}});b.com_ibm_vis_engine_internal_diagram_graph_directed_LayerAssignation=
b.com_ibm_init_declare({constructor:function(a){this.ne_9=a;this.rn_3=new b.com_ibm_rave_codegenerator_util_List},addDummyNodes:function(a,b){for(var c=0,e=this.ne_9,g=e.length;c<g;++c){var k=e[c];k.edges=null;for(var f=0,k=k.outgoing,v=k.length;f<v;++f){var h=k[f];h.b.mark>h.a.mark+1&&this.ae$8(h,a,b)}}},ae$8:function(a,d,c){var e=Array(a.b.mark-a.a.mark+1),g=a.reversed?e.length-1:0,k=a.reversed?-1:1;this.rn_3.add(e);a.a.removeDirectedEdge(a);var f=a.a;e[g]=f;for(var g=g+k,v=a.a.mark+1;v<a.b.mark;++v){var h=
new b.com_ibm_vis_engine_internal_diagram_graph_common_Node(c,c,-1);h.mark=v;d.get(v).add(h);f.addDirectedEdge(new b.com_ibm_vis_engine_internal_diagram_graph_common_Edge(f,h,a.weight,a.reversed));e[g]=h;g+=k;f=h}e[g]=a.b;f.addDirectedEdge(new b.com_ibm_vis_engine_internal_diagram_graph_common_Edge(f,a.b,a.weight,a.reversed))},buildBasicLayering:function(){this.me$15();this.re$5();return this.cr$7()},cr$7:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=Array(this.ne_9.length),c=
0,e=this.ne_9,g=e.length;c<g;++c){var k=e[c];d[k.mark]=k;k.mark=-1}c=0;for(e=d.length;c<e;++c){k=d[c];0>k.mark&&(k.mark=0);for(var g=0,f=k.outgoing,v=f.length;g<v;++g){var h=f[g];h.b.mark=Math.max(k.mark+1,h.b.mark)}a.size()==k.mark&&a.add(new b.com_ibm_rave_codegenerator_util_List);a.get(k.mark).add(k)}return a},getRouting:function(){return this.rn_3},me$15:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_LinkedHashSet(b.com_ibm_rave_codegenerator_util_BasicFactory.asList(this.ne_9));!c.isEmpty();){for(;;){var e=
this.rc$3(c);if(e)a.add(e);else break}for(;;)if(e=this.rn$3(c))d.add(0,e);else break;(e=this.rk$2(c))&&a.add(e)}e=a.size();for(c=0;c<e;++c)a.get(c).mark=c;for(c=0;c<d.size();++c)d.get(c).mark=c+e},rk$2:function(a){for(var b,c=-1E6,e=0,g=a.arrayIterator(),k=g.length;e<k;++e){for(var f=g[e],v=-f.index/1E6,h=0,l=f.edges,m=l.length;h<m;++h){var p=l[h];0<=p.a.mark&&0<=p.b.mark&&(p.a==f?v++:v--)}v>c&&(b=f,c=v)}b&&a.remove(b);return b},rn$3:function(a){for(var b=0,c=a.arrayIterator(),e=c.length;b<e;++b){for(var g=
c[b],k=!0,f=0,v=g.outgoing,h=v.length;f<h;++f)0>v[f].b.mark&&(k=!1);if(k)return g.mark=0,a.remove(g),g}return null},rc$3:function(a){for(var b=0,c=a.arrayIterator(),e=c.length;b<e;++b){for(var g=c[b],k=!0,f=0,v=g.edges,h=v.length;f<h;++f){var l=v[f];l.b==g&&0>l.a.mark&&(k=!1)}if(k)return g.mark=0,a.remove(g),g}return null},re$5:function(){for(var a=0,b=this.ne_9,c=b.length;a<c;++a)for(var e=b[a],g=0,k=e.outgoing,f=k.length;g<f;++g){var v=k[g],h=v.b;h.mark<e.mark&&(e.removeDirectedEdge(v),h.addDirectedEdge(v.makeReversed()))}},
toArrays:function(a){for(var b=Array(a.size()),c=0;c<b.length;++c){var e=a.get(c);b[c]=e.toArray(Array(e.size()));for(var g=0,e=e.arrayIterator(),k=e.length;g<k;++g)e[g].mark=-1}return b}});b.com_ibm_vis_engine_internal_diagram_graph_link_EdgeDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_Diagram,{max:0,pad:0,calculatePreferredSize:function(){return null},connectsExistingShapes:function(){return!0},getBoundary:function(a,d){var c=a.boundaryPoint(d.x,d.y);if(1002==a.type()||1005==
a.type()){var e=null;if(null==this.vertical||this.vertical){var g=new b.com_ibm_vis_geom_Point(a.getCenterX(),a.getMinY());if(!e||c.distance(g)<c.distance(e))e=g;g=new b.com_ibm_vis_geom_Point(a.getCenterX(),a.getMaxY());if(!e||c.distance(g)<c.distance(e))e=g}if(null==this.vertical||!this.vertical){g=new b.com_ibm_vis_geom_Point(a.getMaxX(),a.getCenterY());if(!e||c.distance(g)<c.distance(e))e=g;g=new b.com_ibm_vis_geom_Point(a.getMinX(),a.getCenterY());if(!e||c.distance(g)<c.distance(e))e=g}return e}return c},
initialize:function(a){b.com_ibm_vis_engine_diagramService_Diagram.prototype.initialize.apply(this,[a]);this.max=a.numericParameter("max",50);this.pad=a.numericParameter("pad",7);var d=a.getStoredItem(b.com_ibm_vis_engine_internal_diagram_graph_common_GraphDiagram.DIRECTED_STORE_KEY);this.vertical=a.booleanParameter("vertical",d)}});b.com_ibm_vis_engine_internal_diagram_graph_link_LinkDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_diagram_graph_link_EdgeDiagram,{curvature:0,st_9:0,endD:0,
ae$9:function(a){return 1E4*a.y+a.x},build:function(a){this.se_29=this.connector.getTargetShapes();a=new b.com_ibm_rave_codegenerator_util_LinkedMap;for(var d=0;d<this.connector.getRowCount();++d){var c=this.connector.row(d);if(null!=c[0]&&null!=c[1]){var e=this.se_29[c[0]],c=this.se_29[c[1]];if(e&&c&&!(0>=e.distanceToGeom(c))){var g=e.getCenter(),g=this.getBoundary(c,g),g=this.ae$9(1002==e.type()||1005==e.type()?this.getBoundary(e,g):e.getCenter()),e=new b.com_ibm_vis_engine_internal_diagram_graph_link_LinkItem(e,
c,d,g),c=a.get(e.key);c||(c=new b.com_ibm_rave_codegenerator_util_List,a.put(e.key,c));c.add(e)}}}d=0;a=a.values().arrayIterator();for(e=a.length;d<e;++d)this.me$17(a[d])},eo$3:function(a){var b=a.start.distanceToGeom(a.end);null!=this.vertical&&(a=this.vertical?Math.abs(a.start.getCenter().y-a.end.getCenter().y):Math.abs(a.start.getCenter().x-a.end.getCenter().x),b=Math.min(b,a));return b},initialize:function(a){b.com_ibm_vis_engine_internal_diagram_graph_link_EdgeDiagram.prototype.initialize.apply(this,
[a]);this.curvature=a.numericParameter("curvature",.5);this.st_9=a.numericParameter("start",.2);this.endD=a.numericParameter("end",.4)},me$17:function(a){var d=this.ml$3(a);if(null==d||0==this.curvature)this.me$18(a);else{null!=this.vertical&&(d=this.vertical?0<Math.sin(d)?1.5707963267948966:-1.5707963267948966:0<Math.cos(d)?0:3.141592653589793);for(var c=Math.cos(d),d=Math.sin(d),e=Infinity,g=0,k=a.arrayIterator(),f=k.length;g<f;++g){var v=k[g],v=this.eo$3(v);0<v&&v<e&&(e=v)}g=Math.min(this.max,
this.st_9*e);k=Math.min(this.max,this.endD*e);v=Math.max(0,1-this.st_9-this.endD)*e/2;g+=this.curvature*v;k+=this.curvature*v;v=a.get(0).start;e=v.getCenter();e=new b.com_ibm_vis_geom_Point(e.x+1E3*c,e.y+1E3*d);e=this.getBoundary(v,e);f=0;a=a.arrayIterator();for(var h=a.length;f<h;++f){var v=a[f],l=this.mv$1(e,v,c,d,g,k);this.connector.addElementShape(l,v.row,null)}}},mv$1:function(a,d,c,e,g,k){var f=new b.com_ibm_vis_geom_Point(a.x+c*g,a.y+e*g),v=f.interpolateTo(a,Math.min(1,this.curvature)),h=d.end.getCenter(),
l=new b.com_ibm_vis_geom_Point(h.x-1E3*c,h.y-1E3*e),h=this.getBoundary(d.end,l),l=new b.com_ibm_vis_geom_Point(h.x-c*k,h.y-e*k);d=l.interpolateTo(h,Math.min(1,this.curvature));c=f.distance(l);g=f.interpolateTo(l,Math.min(.5,g/c));k=l.interpolateTo(f,Math.min(.5,k/c));return this.mn$8(a,v,f,g,k,l,d,h)},mn$8:function(a,d,c,e,g,k,f,v){var h=new b.com_ibm_rave_codegenerator_util_List,l=new b.com_ibm_rave_codegenerator_util_List;h.add(a);l.add(!1);1<a.distance(d)&&(h.add(d),l.add(!1));1<d.distance(c)&&
1<c.distance(e)&&(h.add(c),l.add(!0));1<a.distance(e)&&(h.add(e),l.add(!1));1<v.distance(g)&&(h.add(g),l.add(!1));1<f.distance(k)&&1<k.distance(g)&&(h.add(k),l.add(!0));1<v.distance(f)&&(h.add(f),l.add(!1));h.add(v);l.add(!1);a=b.com_ibm_rave_codegenerator_lang_Array.create([h.size()],0);d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0);c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],!1);for(e=0;e<a.length;++e)a[e]=h.get(e).x,d[e]=h.get(e).y,c[e]=l.get(e);return new b.com_ibm_vis_geom_Curve(a,
d,c,!1)},me$18:function(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d){var e=a[d],g=e.start.getCenter(),k=e.end.getCenter(),k=this.getBoundary(e.end,g),g=this.getBoundary(e.start,k),g=new b.com_ibm_vis_geom_Poly([g.x,k.x],[g.y,k.y],!1);this.connector.addElementShape(g,e.row,null)}},ml$3:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0),c=0;c<d.length;++c)d[c]=a.get(c).angle();b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);a=d.length-1;if(3.141592653589793<
d[a]-d[0])for(c=0;c<d.length;++c)0>d[c]&&(d[c]+=6.283185307179586);b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);return 3.141592653589793<d[a]-d[0]?null:(d[0]+d[a])/2}});b.com_ibm_vis_engine_internal_diagram_graph_link_LinkItem=b.com_ibm_init_declare({row:0,key:0,constructor:function(a,b,c,e){this.start=a;this.end=b;this.row=c;this.key=e},angle:function(){return this.start.getCenter().angle(this.end.getCenter())}});b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagramFactory=
b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_DiagramFactory,{getDiagramIDList:function(){return b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagramFactory.MD_2},getDiagram:function(a){return new b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagramFactory.MD_2=["spiral"]});b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram=b.com_ibm_init_declare(b.com_ibm_vis_engine_diagramService_Diagram,
{initialize:function(a){b.com_ibm_vis_engine_diagramService_Diagram.prototype.initialize.apply(this,[a])},calculatePreferredSize:function(){return b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.PZ_1},build:function(a){var b=this.connector.numericParameter("loops",2),c=Math.ceil(this.connector.numericParameter("bands",b)),e=a.wt_2/2,g=a.hh_1/2,k=a.getMin();a=this.gz$8(k)/2;k/=2;this.ay$1(e,g,a);this.ad$3(e,g,a,k,c);this.aa$3(e,g,a,k,b);this.at$4(e,g,a,k,b)},at$4:function(a,d,c,e,
g){for(var k=this.connector.getElementSize().getMin()/2,f=this.ge$20(a,d,c,e,g,k),v=0;v<f[0].length;++v){var h=f[0][v],l;1<h?l=c+k:0>h?l=e:(l=c+(e-c)*(1-h),l=Math.max(c+k,l));var m=-6.283185307179586*(1-h)*g-1.5707963267948966,h=Math.sin(m),p=Math.cos(m),m=this.mo$7(a,d,l,f[1][v],k,p,h),q=this.ga$6(f[1][v],k);l-k-q>c?(l=this.mn$13(a,d,c,l,k,p,h,f[1][v]),l=new b.com_ibm_vis_geom_CompositeGeom([m,l],!1,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.PE_4),this.connector.addElementShape(l,
v,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.NE_2)):this.connector.addElementShape(m,v,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.NE_2)}},ge$20:function(a,d,c,e,g,k){var f=2*k,v=this.ml$5(),h=v[0].length;if(0==h||!this.connector.booleanParameter("dodge",!0))return v;for(var l=b.com_ibm_rave_codegenerator_lang_Array.create([h],0),m=0;m<h;++m)l[m]=v[0][m]-1E-12*m;for(var p=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(l),m=0;m<h;++m)p[m]=
h-1-p[m];for(var q=b.com_ibm_rave_codegenerator_lang_Array.create([h],0),m=0;m<h;++m)q[m]=m;for(var r=!0;r;){for(var r=!1,t=q[0],w=0;w<h&&q[w]==t;)w++;if(w==h)break;for(var x=v[0][p[w-1]],m=c+(e-c)*(1-x),y=-6.283185307179586*(1-x)*g-1.5707963267948966,z=a+m*Math.sin(y),C=d+m*Math.cos(y),A=!1;w<h;){var E=v[0][p[w]],m=c+(e-c)*(1-E),y=-6.283185307179586*(1-E)*g-1.5707963267948966,F=a+m*Math.sin(y),m=d+m*Math.cos(y);if(x<E||Math.hypot(F-z,m-C)<f)for(A=!0,m=q[w];w<h&&q[w]==m;)q[w]=t,w++;else for(t++;w<
h&&q[w]==t;)w++;x=v[0][p[w-1]];m=c+(e-c)*(1-x);y=-6.283185307179586*(1-x)*g-1.5707963267948966;z=a+m*Math.sin(y);C=d+m*Math.cos(y)}if(A&&t<h)for(x=v[0][p[0]],y=-6.283185307179586*(1-x)*g-1.5707963267948966,Math.sin(y),Math.cos(y),r=!0,w=0;w<h;){m=q[w];for(t=w;w<h&&q[w]==m;)w++;A=w;E=A-t;if(1<E){y=0;for(m=t;m<A;++m)y+=l[p[m]];y/=E;x=t+Math.floor(E/2);m=c+(e-c)*(1-y);y=-6.283185307179586*(1-y)*g-1.5707963267948966;0==E%2?(m=2*Math.asin(k/m),E=1+(y+1.5707963267948966-m/2)/(6.283185307179586*g)):E=1+
(y+1.5707963267948966)/(6.283185307179586*g);v[0][p[x]]=E;for(m=x-1;m>=t;--m)v[0][p[m]]=this.po$1(a,d,c,e,g,v[0][p[m+1]],1,k);for(m=x+1;m<A;++m)v[0][p[m]]=this.po$1(a,d,c,e,g,v[0][p[m-1]],-1,k)}}}return v},po$1:function(a,b,c,e,g,k,f,v){var h;h=Math.max(c+v,c+(e-c)*(1-k));var l=-6.283185307179586*(1-k)*g-1.5707963267948966;k=a+h*Math.cos(l);var m=b+h*Math.sin(l),p=2*Math.asin(v/h);h=1+(l+.9*f*p+1.5707963267948966)/(6.283185307179586*g);f=1+(l+1.1*f*p+1.5707963267948966)/(6.283185307179586*g);l=1;
do{var p=(h+f)/2,q=this.co$1(a,b,c,e,g,v,k,m,p);0<=q?(f=p,l=q):h=p}while(.5<l);return f},co$1:function(a,b,c,e,g,k,f,v,h){c=Math.max(c+k,c+(e-c)*(1-h));g=-6.283185307179586*(1-h)*g-1.5707963267948966;a+=c*Math.cos(g);b+=c*Math.sin(g);return Math.hypot(a-f,b-v)-2*k},ml$5:function(){var a=Array(2),d=this.connector.getRowCount(),c=this.connector.columnCount();a[0]=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);a[1]=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);for(var e=0;e<d;++e){var g=
this.connector.row(e);a[0][e]=g[0];a[1][e]=1<c?g[1]:NaN}return a},mn$13:function(a,d,c,e,g,k,f,v){var h=a+c*f;c=d+c*k;a+=(e-g-this.ga$6(v,g))*f;d+=(e-g-this.ga$6(v,g))*k;return new b.com_ibm_vis_geom_Line(h,c,a,d)},mo$7:function(a,d,c,e,g,k,f){a+=c*f;d+=c*k;return 1<e?2>=e?this.mo$8(g,a,d):this.mo$9(a,d,g,f,k,e):new b.com_ibm_vis_geom_Circle(a,d,g)},mo$8:function(a,d,c){c=new b.com_ibm_vis_geom_Point(d,c);d=new b.com_ibm_vis_geom_Wedge(c,0,a,-1.5707963267948966,1.5707963267948966);a=new b.com_ibm_vis_geom_Wedge(c,
0,a,1.5707963267948966,4.71238898038469);return new b.com_ibm_vis_geom_CompositeGeom([d,a],!1,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.P__1)},mo$9:function(a,d,c,e,g,k){if(3>=k){var f=c/2/b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1,v=-f*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.T3_1;k=this.ml$6(a,d,e,g,0,-f/b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1,f);var h=this.ml$6(a,d,e,g,f,-v,f),l=this.ml$6(a,
d,e,g,-f,-v,f);a=[k,h,l]}else if(4>=k)f=c/2/b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1,k=this.ml$6(a,d,e,g,0,-c,f),h=this.ml$6(a,d,e,g,f,0,f),l=this.ml$6(a,d,e,g,-f,0,f),c=this.ml$6(a,d,e,g,0,c,f),a=[k,h,l,c];else if(5>=k){var f=c*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1/2,m=2*f*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.S6_1,v=-f*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.T3_1;k=this.ml$6(a,d,
e,g,0,-m+v,f);h=this.ml$6(a,d,e,g,f,v,f);l=this.ml$6(a,d,e,g,-f,v,f);c=this.ml$6(a,d,e,g,f,2*f+v,f);var p=this.ml$6(a,d,e,g,-f,2*f+v,f);a=[k,h,l,c,p]}else f=c*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1/2,m=2*f*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.S6_1,v=-f*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.T3_1,k=this.ml$6(a,d,e,g,0,-m+v,f),h=this.ml$6(a,d,e,g,f,v,f),l=this.ml$6(a,d,e,g,-f,v,f),c=this.ml$6(a,d,e,g,0,m+v,f),p=
this.ml$6(a,d,e,g,2*f,m+v,f),a=this.ml$6(a,d,e,g,-2*f,m+v,f),a=[k,h,l,c,p,a];d=Array(a.length);for(e=0;e<d.length;++e)d[e]="symbol";return new b.com_ibm_vis_geom_CompositeGeom(a,!1,d)},ga$6:function(a,d){return 2>=a?0:3>=a?d/2/b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1*(1/b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1+1)-d:4>=a?d/2/b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1:d*b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1/
2},ay$1:function(a,d,c){a=new b.com_ibm_vis_geom_Circle(a,d,c);this.connector.addNonElementShape(a,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.BL_2);d=this.connector.stringParameter("title",null);null!=d&&this.connector.addNonElementLabel(d,a,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.TL_5)},ad$3:function(a,d,c,e,g){a=new b.com_ibm_vis_geom_Point(a,d);d=0;e=(e-c)/g;for(var k=0;k<g;++k)d=c,c+=e,d=new b.com_ibm_vis_geom_Wedge(a,d,c,0,6.283185307179586),this.connector.addNonElementShape(d,
["band_"+k])},aa$3:function(a,d,c,e,g){for(var k=100*g,f=b.com_ibm_rave_codegenerator_lang_Array.create([k+1],0),v=b.com_ibm_rave_codegenerator_lang_Array.create([k+1],0),h=b.com_ibm_rave_codegenerator_lang_Array.create([k+1],!1),l=0;l<=k;++l){var m=c+(e-c)*l/k,p=-6.283185307179586*l/k*g-1.5707963267948966;f[l]=a+m*Math.sin(p);v[l]=d+m*Math.cos(p);h[l]=!1}a=new b.com_ibm_vis_geom_Curve(f,v,h,!1);this.connector.addNonElementShape(a,b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.SL_3)},
ml$6:function(a,d,c,e,g,k,f){return new b.com_ibm_vis_geom_Circle(a+(g*e+k*c),d+(-g*c+k*e),f)},gz$8:function(a){var d=this.connector.objectParameter("bullseyeSize","25%");if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(d)){var c=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;c.min=d.min;c.max=d.max;c.preferred=d.preferred;null==c.preferred&&(c.preferred="25%");d=c}return b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d,a,a)},connectsExistingShapes:function(){return!1}});
b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.PZ_1=new b.com_ibm_vis_geom_Dim(400,400);b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.PI=3.141592653589793;b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.HP_1=1.5707963267948966;b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.TP_1=6.283185307179586;b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.S6_1=Math.sin(1.0471975511965976);
b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.C3_1=Math.cos(.5235987755982988);b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.T3_1=Math.tan(.5235987755982988);b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.NE_2=[];b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.SL_3=["spiral"];b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.TL_5=["title"];b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.BL_2=
["bullseye"];b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.PE_4=["symbol","link"];b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagram.P__1=["symbol","symbol"]});b.com_ibm_vis_engine_diagramService_DiagramConnector=b.com_ibm_init_declare.implement({getRowCount:function(){},columnCount:function(){},row:function(a){},booleanParameter:function(a,b){},numericParameter:function(a,b){},stringParameter:function(a,b){},objectParameter:function(a,b){},addElementShape:function(a,
b,c){},modifyElementShape:function(a,b,c){},addNonElementShape:function(a,b){},addNonElementLabel:function(a,b,c){},targetStyleExists:function(a){},makeUnplacedShapes:function(){},getTargetShapes:function(){},getReferencedRow:function(a){},getStoredItem:function(a){},putStoredItem:function(a,b){},applyInsets:function(a,b,c){},getDataLabel:function(a,b){},getLocation:function(a,b){},clearElementShape:function(){},getElementSize:function(){}});b.com_ibm_vis_engine_internal_grammar_layout_DiagramLayout=
b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_grammar_layout_Layout,b.com_ibm_vis_engine_diagramService_DiagramConnector],{de_15:!1,dl_4:!1,rn_4:0,constructor:function(a,d){this.type=d;this.pr_6=new b.com_ibm_rave_codegenerator_util_Map;this.ee_4=new b.com_ibm_rave_codegenerator_util_List;this.ne_11=new b.com_ibm_rave_codegenerator_util_List;this.nl_1=new b.com_ibm_rave_codegenerator_util_List;var c=a.getSpec();this.il_2=c.id?c.id.$ref:null;this.mt$7(c.data);this.sr$4(c.parameters)},mt$7:function(a){for(var d=
a?a.length:0,c=0;c<d;++c){if(!a[c])throw new b.com_ibm_vis_exceptions_internal_SpecException("All entries in the layout.data array must be non-null",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);if(!a[c].field&&null==a[c].value)throw new b.com_ibm_vis_exceptions_internal_SpecException("All entries in the layout.data array must define a field or value",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);if(a[c].field&&null==a[c].field.$ref)throw new b.com_ibm_vis_exceptions_internal_SpecException("All entries in the layout.data array that define a field must contain a $ref",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);}this.de_13=b.com_ibm_rave_codegenerator_lang_Array.create([d],!1);this.dD_1=Array(d);this.de_14=Array(d);for(c=0;c<d;++c)a[c].field?(this.de_13[c]=!0,this.dD_1[c]=a[c].field.$ref,this.de_14[c]=null):(this.de_13[c]=!1,this.dD_1[c]=null,this.de_14[c]=a[c].value)},sr$4:function(a){if(null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a))for(var d=0,c=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),e=c.length;d<e;++d){var g=
c[d];this.pr_6.put(g,a[g])}},ma$4:function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer");return b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.getInstance().getDiagram(this.type)},el$2:function(a){this.en_10=a;this.dl_4||(this.ee_4.clear(),this.ne_11.clear(),this.da_5.build(a),this.dl_4=!0)},ee$4:function(a){this.rn_4=a;this.da_5||(this.da_5=this.ma$4());this.de_15||(this.da_5.initialize(this),this.de_15=!0)},makeElementShapes:function(a,b){this.ee$4(a);this.el$2(b);
return this.ee_4},makeNonElementShapes:function(a){this.ee$4(this.rn_4);this.el$2(a);return this.ne_11},makeNonElementLabels:function(a){this.ee$4(this.rn_4);this.el$2(a);return this.nl_1},getPreferredSize:function(a){this.da_5||(this.da_5=this.ma$4());if(this.da_5.connectsExistingShapes())return new b.com_ibm_vis_geom_Dim(0,0);this.ee$4(a);return(a=this.da_5.calculatePreferredSize())?a:new b.com_ibm_vis_geom_Dim(0,0)},respectsTransforms:function(){this.da_5||(this.da_5=this.ma$4());return!this.da_5.connectsExistingShapes()},
getTargetShapes:function(){for(var a=this.adapter.getElementItems(this.il_2),b=Array(this.max(a.keySet())+1),c=0,a=a.entrySet().arrayIterator(),e=a.length;c<e;++c){var g=a[c],k=g.value.getRenderGeom(0);k||(k=g.value.getBounds());b[g.key]=k}return b},max:function(a){var b=0,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c];null!=g&&(b=Math.max(b,g))}return b},columnCount:function(){return this.de_13.length},getRowCount:function(){return this.rn_4},row:function(a){if(0>a||a>=this.rn_4)return null;
for(var d=this.de_13.length,c=Array(d),e=0;e<d;++e){var g;if(this.de_13[e])try{g=this.adapter.getFieldNumericValue(this.dD_1[e],a)}catch(k){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(k,Error))g=NaN;else throw k;}else g=this.de_14[e];c[e]=g!=g?null:g}return c},booleanParameter:function(a,d){var c=this.pr_6.get(a);if(null==c)return d;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(c))return c;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(c)){if(c.equals("true"))return!0;
if(c.equals("false"))return!1}return d},numericParameter:function(a,d){var c=this.pr_6.get(a);return null==c?d:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c)?c:d},stringParameter:function(a,d){var c=this.pr_6.get(a);return null==c?d:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(c)?c:b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(c)?c.valueOf()?"true":"false":d},objectParameter:function(a,b){var c=this.pr_6.get(a);return null==c?b:c},rx$2:function(a,d){var c=a.getBounds(),
c=b.com_ibm_vis_engine_internal_Affine.makeRotation(d,c.getCenterX(),c.getCenterY());a.setTransform(c)},addElementShape:function(a,d,c){if(!a)return null;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_diagramService_TextGeom)){var e=a.rl_3,g=0!=a.al_5;g&&(e=new b.com_ibm_vis_geom_Rect(e.getCenterX()-e.hh_2/2,e.getCenterY()-e.wt_3/2,e.hh_2,e.wt_3));d=this.adapter.makeItemInRect(e,d);g&&this.rx$2(d,3.141592653589793*a.al_5/180)}else d=1002==a.type()?this.adapter.makeItemInRect(a,
d):this.tp$1(a,d);if(!d)return null;d=this.al$2(d,c);this.ee_4.add(d);return d},modifyElementShape:function(a,b,c){if("font"==b){b=this.ee_4.get(a);var e=b.getFont();b.setFont(e.modifySize(e.size*c));this.ee_4.set(a,b)}},clearElementShape:function(){this.ee_4.clear()},addNonElementShape:function(a,b){if(!a)return null;var c=this.tp$1(a,-1),c=this.al$2(c,b);this.ne_11.add(c);return c},tp$1:function(a,d){var c;c=a.type();if(1007==c){var e=a.getBounds(),g=Array(a.pt_1.length),k=a.pe_3;for(c=0;c<g.length;++c)g[c]=
this.tp$1(a.pt_1[c],d),k&&g[c].setMeta("part",k[c]);c=new b.com_ibm_vis_engine_internal_struct_Schema(e.x,e.y,e.wt_3,e.hh_2,g,a.filled())}else if(1E3==c)c=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(a.x1,a.y1,a.x2,a.y2);else if(1001==c)c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(a.x,a.y,a.r);else if(1006==c)c=a.getOrigin(),c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(c.x,c.y,a.getR1(),a.getR2(),a.getA1(),a.getA2());else if(1002==c)e=a,c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(e.x,
e.y,e.wt_3,e.hh_2);else if(1003==c){e=a;g=e.x.length;k=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);k[0]=77;for(c=1;c<g;++c)k[c]=76;c=this.adapter.makeItemFromPath(e.x,e.y,k,a.filled(),0);c.setRow(d)}else if(1004==c){e=a;g=e.cl_2;k=b.com_ibm_rave_codegenerator_lang_Array.create([g.length],0);for(c=0;c<k.length;++c)g[c]?(g[c+1]?(k[c++]=67,k[c++]=44):k[c++]=81,k[c]=44):k[c]=0==c?77:76;c=this.adapter.makeItemFromPath(e.getX(),e.getY(),k,a.filled(),d)}else return this.tp$1(a.asBasic(),d);0<=
d&&c.setRow(d);return c},al$2:function(a,b){if(!b||0==b.length)return a;for(var c=0,e=b.length;c<e;++c){var g=this.adapter.getTargetedStyle(b[c]);if(g){a=this.ml$4(a,g);break}}return a},ml$4:function(a,d){if(!a||!d)return a;var c=d.symbol,e=a.getGeom();e||(e=a.getRenderGeom(0));1002==e.type()&&null!=c&&(c=b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol(c,e.getCenterX(),e.getCenterY(),e.wt_3,e.hh_2,d,this.adapter.getVisContext()),c.copyInfoFrom(a),a=c);return a=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyShapeStyle(a,
d)},targetStyleExists:function(a){if(!a||0==a.length)return!1;for(var b=0,c=a.length;b<c;++b)if(this.adapter.getTargetedStyle(a[b]))return!0;return!1},makeUnplacedShapes:function(){for(var a=Array(this.rn_4),d=[0,0],c=0;c<this.rn_4;++c){var e=this.adapter.makeItemAtSimpleCoordinates(d,c,!0);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_struct_Text)?a[c]=new b.com_ibm_vis_engine_diagramService_TextGeom(e.getTextBounds(),e.getContent().getText(),0):e&&(a[c]=e.getGeom(),
a[c]||(a[c]=e.getRenderGeom(0)))}return a},getStoredItem:function(a){return this.adapter.getVisContext().getStoredItem(a)},putStoredItem:function(a,b){this.adapter.getVisContext().putStoredItem(a,b)},applyInsets:function(a,d,c){if(!a)return null;if(c&&0<c.length)for(var e=0,g=c.length;e<g;++e){var k=this.adapter.getTargetedStyle(c[e]);if(k){c=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(k.padding,a.getExtent(),this.en_10);a=this.se$11(a,c);break}}d&&this.adapter.getStyle()&&(c=
b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.adapter.getStyle().padding,a.getExtent(),this.en_10),a=this.se$11(a,c));return a},se$11:function(a,b){var c=b.insetRect(a);0>c.hh_2&&(c.y=a.getCenterY(),c.hh_2=0);0>c.wt_3&&(c.x=a.getCenterX(),c.wt_3=0);return c},getDataLabel:function(a,b){return 0>b||b>=this.de_13.length?null:this.de_13[b]?this.adapter.getVisContext().getParentVis().getByID(this.dD_1[b]).getFormattedStringValue(a,-1,null):""+this.de_14[b]},addNonElementLabel:function(a,
d,c){if(!c)return null;for(var e=0,g=c.length;e<g;++e){var k=this.adapter.getTargetedStyle(c[e]);if(k)return c=new b.com_ibm_vis_spec_internal_ElementLabelSpec,c.content=[a],c.style=k,(a=this.adapter.makeLabelShape(c,this.tp$1(d,-1)))&&this.nl_1.add(a),a}return null},getLocation:function(a,b){return this.adapter.getLocation(a,b)},getReferencedRow:function(a){if(null==this.il_2)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("No ID defined");if(!this.ia_6){this.ia_6=new b.com_ibm_rave_codegenerator_util_NumericMap;
for(var d=this.adapter.getAllFieldValuesAsNumeric(this.il_2),c=0;c<d.length;++c)this.ia_6.put(d[c],c)}return this.ia_6.get(a)},getElementSize:function(){return this.adapter.getElementSize()}});b.com_ibm_vis_engine_internal_grammar_layout_LayoutFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_layout_LayoutFactory.makeLayout=function(a,d,c,e,g,k){b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer");if(!a)return null;d=b.com_ibm_vis_engine_internal_grammar_layout_LayoutFactory.me$46(a,
d,c,e,g,k);a=a.method;e.vx_10.lx_1.hasListeners()&&e.vx_10.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Info,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Creating layout","method",a);b.com_ibm_vis_engine_internal_grammar_layout_DefaultLinkLayouts.registerExtensions();b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultGraphLayouts.registerExtensions();b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapLayouts.registerExtensions();b.com_ibm_vis_engine_internal_grammar_layout_DefaultDiagramLayouts.registerExtensions();
c=b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.getInstance();c.register(new b.com_ibm_vis_engine_internal_diagram_DefaultDiagramFactory);c.register(new b.com_ibm_vis_engine_internal_grammar_layout_spiral_SpiralDiagramFactory);c=d.getSpec().data&&c.supports(a)?new b.com_ibm_vis_engine_internal_grammar_layout_DiagramLayout(d,a):b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(a,d);if(!c)throw e.vx_10.lx_1.hasListeners()&&e.vx_10.lx_1.log(b.com_ibm_vis_monitor_LogLevel.GrammarError,
b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Could not locate, access or construct layout","method",a),new b.com_ibm_rave_codegenerator_io_WebEngineException("Could not locate, access or construct layout "+a);d.isOriented()||d.setOrientation(c.getDefaultOrientation());return c};b.com_ibm_vis_engine_internal_grammar_layout_LayoutFactory.me$46=function(a,d,c,e,g,k){a=new b.com_ibm_vis_engine_internal_grammar_layout_RAVELayoutAdapter(a,d,c,e,g,k);if(!a.isOriented())for(d=0,c=c.elements,e=c.length;d<
e&&!((g=c[d])&&g.layout&&a.copyOrientationFrom(g.layout.adapter));++d);return a};b.com_ibm_vis_engine_internal_grammar_layout_LayoutAdapter=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_RAVELayoutAdapter=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_LayoutAdapter,{ee_7:0,oe_14:!1,sX_2:!1,rt_10:!1,cn_15:!1,constructor:function(a,d,c,e,g,k){this.spec=a;this.data=d;this.ga_4=c;this.vis=e;this.sl_16=g;this.se_47=k;this.ln_12=new b.com_ibm_vis_geom_Point(0,
0);this.pad=g?g.padding:null;this.lr_6=new b.com_ibm_rave_codegenerator_util_List;this.setOrientation(a.orientation);this.se$21()},getSharedLayoutInfo:function(){return this.ga_4.getSharedLayoutInfo()},se$21:function(){var a,d;d=this.spec.prunedNodes;a=this.spec.prunedEdges;if(d&&0<d.length){this.pe_19=new b.com_ibm_rave_codegenerator_util_NumericSet;for(var c=0,e=d.length;c<e;++c){var g=d[c];null!=g&&this.pe_19.add(g)}}if(a&&0<a.length)for(this.pe_18=new b.com_ibm_rave_codegenerator_util_Set,d=0;d<
a.length;++d)a[d]&&(c=this.mg$3(a[d][0],a[d][1]),null!=c&&this.pe_18.add(c))},setOrientation:function(a){null==a?this.sX_2=this.rt_10=this.oe_14=!1:(this.oe_14=!0,this.rt_10=this.sX_2=!1,a==b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_RIGHT_TO_LEFT?(this.sX_2=!0,this.rt_10=!1):a==b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_BOTTOM_TO_TOP?(this.rt_10=!0,this.sX_2=!1):a==b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_LEFT_TO_RIGHT&&
(this.sX_2=this.rt_10=!0))},makeItemInRect:function(a,b){var c=this.be_4.makeInside(a,b,!0);c&&c.setKey(this.data.getKey(this.rows[b]));return c},makeDummyItemInRect:function(a){return this.be_4.makeInside(a,-1,!1)},makeItemAtSimpleCoordinates:function(a,d,c){a=this.mo$13(b.com_ibm_vis_engine_internal_grammar_coordinate_Position.makeSimple(a),d);return c?(c=this.ga_4.elements[this.ee_7],c.styleShape(a),c.applyAesthetic(a)):a},mo$13:function(a,b){var c=this.be_4.make(a,b,!0);if(c){if(c.getParts())for(var e=
0,g=c.getParts(),k=g.length;e<k;++e)g[e].setKey(this.data.getKey(this.rows[b]));c.setKey(this.data.getKey(this.rows[b]))}return c},makeItemFromPath:function(a,d,c,e,g){a=new b.com_ibm_vis_engine_internal_struct_Path(a,d,e,c);a.setSnap(b.com_ibm_vis_engine_internal_scene_StyleBuilder.getSnap(this.sl_16));this.sl_16&&(a.setStartArrowByName(this.sl_16.startArrow),a.setEndArrowByName(this.sl_16.endArrow));0<=g&&(a.setKey(this.data.getKey(this.rows[g])),a.setRow(g));return a},connect:function(a,b,c){this.rows=
a;this.be_4=b;this.ee_7=c},isField:function(a){a=this.vis.getByID(a);return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_data_Field)},getFieldNumericValue:function(a,b){var c=this.vis.getByID(a);return c.data.rows[b].data[c.ie_4]},getFieldStringValue:function(a,b){var c=this.vis.getByID(a);return c.getUnformattedStringValue(c.data.rows[b],!0)},getAllFieldValuesAsNumeric:function(a){if(null==a)return null;a=this.vis.getByID(a);for(var d=a.data.rows,c=b.com_ibm_rave_codegenerator_lang_Array.create([d.length],
0),e=0;e<c.length;++e)c[e]=d[e].data[a.ie_4];return c},getStyledShape:function(a,b,c){a=this.vis.getByID(a);for(var e=this.gt$28(a.data),g=0,e=e.aesthetics,k=e.length;g<k;++g){var f=e[g];"styleBy"==f.type&&(b=f.apply(b,a.data.rows[c]))}return b},getElementItems:function(a){a=this.vis.getByID(a);for(var d=a.data,c=this.gt$28(d).cachedShapes,e=new b.com_ibm_rave_codegenerator_util_NumericMap,d=d.rows,g=0,c=c.arrayIterator(),k=c.length;g<k;++g){var f=c[g];if(f.getRows()){var v=f.getRows()[0],v=d[v].data[a.ie_4];
null!=v&&e.put(v,f)}}return e},getLinkStyle:function(){var a;return(a=this.fn$9())?a.spec.style:null},fn$9:function(){for(var a=this.ga_4.elements,b=0,c=a.length;b<c;++b){var e=a[b];if("edge"==e.type&&e.layout)return e}return null},gt$28:function(a){for(var d,c=this.ga_4.elements,e=0,g=c.length;e<g;++e){var k=c[e];if(k&&k.data==a){d=k;break}}if(!d)throw new b.com_ibm_vis_exceptions_internal_EngineException("No built element matches this data",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);
return d},getAttachExtent:function(a,d,c){var e=0,g=0;this.getPadding(a,c);a=this.getPaddedBounds(a);if(!a)return null;this.sX_2?g=.1*a.hh_2:e=.1*a.wt_3;d&&(this.sX_2?e=a.wt_3:g=a.hh_2);d=new b.com_ibm_vis_geom_Point(a.x+e,a.y+g);e=this.sX_2?new b.com_ibm_vis_geom_Point(a.x+e,a.y+(a.hh_2-g)):new b.com_ibm_vis_geom_Point(a.x+(a.wt_3-e),a.y+g);return[d,e]},getAttachPoint:function(a,d,c){this.getPadding(a,c);if(a.getContainingShape()&&1<a.getContainingShape().getParts().length)return a.getOuterPoint();
c=this.getPaddedBounds(a);a=a.getCenter();if(!c)return a;if(this.oe_14)return this.sX_2?new b.com_ibm_vis_geom_Point(a.x<d.x?c.x+c.wt_3:c.x,a.y):new b.com_ibm_vis_geom_Point(a.x,a.y<d.y?c.y+c.hh_2:c.y);d=Math.atan2(d.y-a.y,d.x-a.x);return new b.com_ibm_vis_geom_Point(a.x+Math.cos(d)*c.wt_3/2,a.y+Math.sin(d)*c.hh_2/2)},getPadding:function(a,d){return null==this.pad?b.com_ibm_vis_engine_internal_struct_Insets.NONE:b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.pad,a.getBounds().getExtent(),
d)},hasListeners:function(){return this.vis&&this.vis.vx_10.lx_1.hasListeners()},logInfo:function(a,d,c){this.hasListeners()&&this.vis.vx_10.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Info,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,a,d,c)},logDetail:function(a,d,c){this.hasListeners()&&this.vis.vx_10.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Detail,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,a,d,c)},logWarn:function(a,d,c){this.hasListeners()&&this.vis.vx_10.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Warning,
b.com_ibm_vis_monitor_LogComponent.CommonGrammar,a,d,c)},getPaddedBounds:function(a){return this.getPadding(a,a.getBounds().getExtent()).expandRectBy(a.getBounds())},getElementSize:function(){if(!this.ez_1)if(this.be_4){var a=this.be_4.make(b.com_ibm_vis_engine_internal_grammar_coordinate_Position.NO_COORDS,0,!0);this.ez_1=a?a.getBounds().getExtent():new b.com_ibm_vis_geom_Dim(10,10)}else this.ez_1=new b.com_ibm_vis_geom_Dim(10,10);return this.ez_1},copyOrientationFrom:function(a){return a&&(a.isOriented()||
a.isCenteredLayerPlacement())?(a.isOriented()&&(this.oe_14=!0,this.sX_2=a.isSwapXY(),this.rt_10=a.isReflectY()),a.isCenteredLayerPlacement()&&(this.cn_15=!0),!0):!1},makeLabelShape:function(a,b){var c=this.ge$44(a);return 0>=c.font.size?null:c.makeLabel(a.content,b)},makeLabelBackgroundShape:function(a,b,c){return this.ge$44(a).makeLabelBackground(b,c)},ge$44:function(a){for(var d=0,c=this.lr_6.arrayIterator(),e=c.length;d<e;++d){var g=c[d];if(a.style==g.style)return g}g=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeForData(this.data,
this.vis,!0,a,null,!this.ga_4.isLabelCollisionMethodNone());this.lr_6.add(g);return g},getSpec:function(){return this.spec},isOriented:function(){return this.oe_14},isSwapXY:function(){return this.sX_2},isReflectY:function(){return this.rt_10},isCenteredLayerPlacement:function(){return this.cn_15},setCenteredLayerPlacement:function(a){this.cn_15=a},getStyle:function(){return this.sl_16},getTargetedStyle:function(a){if(this.se_47)for(var b=0,c=this.se_47,e=c.length;b<e;++b){var g=c[b];if(null!=g.target&&
g.target==a)return g.style}return null},getFieldRange:function(a){a=this.vis.getByID(a);return a.isCategorical()?new b.com_ibm_vis_engine_internal_data_Range(0,a.categories.length-1):a.range},getFieldUnit:function(a){return(a=this.vis.getByID(a))?a.unit:null},getFieldTimeZone:function(a){return this.vis.getByID(a).timeZone},isNodePruned:function(a){return this.pe_19&&this.pe_19.contains(a)},isLinkPruned:function(a,b){if(this.pe_18){var c=this.mg$3(a,b);return this.pe_18.contains(c)}return!1},mg$3:function(a,
b){var c;null!=a&&null!=b&&(c=Math.floor(a)+";"+Math.floor(b));return c},getVisContext:function(){return this.vis.vx_10},getLayoutBoundsStartPoint:function(){return this.ln_12},setLayoutBoundsStartPoint:function(a){this.ln_12=a},getLabelCollisionHandling:function(){return!this.ga_4||this.ga_4.isLabelCollisionMethodNone()?"none":this.ga_4.getCollisionHandlerMethod()},getTransform:function(){return this.ga_4.coordinates.spec.transforms},getLocation:function(a,d){var c=this.ga_4.coordinates.getCoordinatePositions(a[0],
0),e=this.ga_4.coordinates.getCoordinatePositions(a[1],1);return null!=e&&null!=c?new b.com_ibm_vis_geom_Point(e*d.wt_2,(1-c)*d.hh_1):null}});b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{ne_12:!1,constructor:function(a){a=a.getSpec();this.idField=a.id?a.id.$ref:null;this.fl_7=a.from?a.from.$ref:null;this.tl_4=a.to?a.to.$ref:null;this.sl_9=null==a.size?null:a.size.$ref;this.nl_2=a.order?a.order.$ref:
null;this.pd_3=a.positionOverride?a.positionOverride:[];this.links=this.nodes=null},prepareForNewRows:function(a){this.links=this.nodes=null;this.ne_12=!1;this.pz_1=null},getDefaultOrientation:function(){return this.directedAlgorithm()?b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_TOP_TO_BOTTOM:null},getNodesCount:function(){return this.nodes.length},getLinksCount:function(){return this.links.length},getNodes:function(){return this.nodes},getLinks:function(){return this.links},
getPrefSize:function(){return this.pz_1},setPrefSize:function(a){this.pz_1=a},makeElementShapes:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;if(0==a&&!this.isNodeLayerDefined())return c;if(0>=d.wt_2||0>=d.hh_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to layout graph within the area: "+d.wt_2+" x "+d.hh_1,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);var e=this.getPaddedBounds(d),g=e.getExtent();this.ne_12=this.pz_1&&this.nodes&&this.nodes.length==
a&&this.pz_1.hh_1<=g.hh_1&&this.pz_1.wt_2<=g.wt_2?!0:!1;this.adapter.getSharedLayoutInfo().pd_1=e;if(0>=g.wt_2||0>=g.hh_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to layout graph due to excessive padding.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);this.adapter.hasListeners()&&this.adapter.logInfo("Graph layout starting",null,null);this.makeNodesAndLinks(a);this.adapter.hasListeners()&&(this.adapter.logInfo("Graph layout built nodes","nodeCount",this.nodes.length),
this.adapter.logInfo("Graph layout built links","linkCount",this.links.length));if(1==a&&!this.isNodeLayerDefined()){if(!this.nodes[0].isDummy()&&!this.nodes[0].isNodePruned()){var g=Array(1),k=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),f=new b.com_ibm_rave_codegenerator_util_NumericMap;c.add(this.adapter.makeItemAtSimpleCoordinates([1-(e.y+e.hh_2/2)/d.hh_1,(e.x+e.wt_3/2)/d.wt_2],0,this.needsAestheticsPreApplied()));g[0]=new b.com_ibm_vis_engine_internal_data_Range(0,1);k[0]=1;f.put(this.nodes[0].id,
this.nodes[0].le_41);this.adapter.getSharedLayoutInfo().setLayerInfo(g,k,f)}return c}this.setShapesToNodes(g);this.positionNodesManually();this.layoutNodes(g);this.fu$1(d,c,g,e);return c},setupLayersForSizing:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;if(0!=a||this.isNodeLayerDefined()){if(0>=d.wt_2||0>=d.hh_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to layout graph within the area: "+d.wt_2+" x "+d.hh_1,b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);
var e=this.getPaddedBounds(d),g=e.getExtent();this.ne_12=this.pz_1&&this.nodes&&this.nodes.length==a&&this.pz_1.hh_1<=g.hh_1&&this.pz_1.wt_2<=g.wt_2?!0:!1;this.adapter.getSharedLayoutInfo().pd_1=e;if(0>=g.wt_2||0>=g.hh_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to layout graph due to excessive padding.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);this.adapter.hasListeners()&&this.adapter.logInfo("Graph layout starting",null,null);this.makeNodesAndLinks(a);
this.adapter.hasListeners()&&(this.adapter.logInfo("Graph layout built nodes","nodeCount",this.nodes.length),this.adapter.logInfo("Graph layout built links","linkCount",this.links.length));if(1!=a||this.isNodeLayerDefined())this.setShapesToNodes(g),this.positionNodesManually(),this.setupNodeLayering(d),this.fu$1(d,c,g,e);else if(!this.nodes[0].isDummy()&&!this.nodes[0].isNodePruned()){var g=Array(1),k=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),f=new b.com_ibm_rave_codegenerator_util_NumericMap;
c.add(this.adapter.makeItemAtSimpleCoordinates([1-(e.y+e.hh_2/2)/d.hh_1,(e.x+e.wt_3/2)/d.wt_2],0,this.needsAestheticsPreApplied()));g[0]=new b.com_ibm_vis_engine_internal_data_Range(0,1);k[0]=1;f.put(this.nodes[0].id,this.nodes[0].le_41);this.adapter.getSharedLayoutInfo().setLayerInfo(g,k,f)}}},fu$1:function(a,d,c,e){this.restoreLinkData();this.placeInExtent(c);for(var g=0,k=this.nodes,f=k.length;g<f;++g){var v=k[g];v.isDummy()||v.isNodePruned()||v.positionSpecified()||(c=v.sp_7,this.applyBoundedAffineTransform(c,
1,v.getX(),1,v.getY(),e,v),d.add(c))}e=0;g=this.pd_3;for(k=g.length;e<k;++e){c=g[e].node;f=null;for(v=0;!f&&v<this.nodes.length;++v)this.nodes[v].row==c&&(f=this.nodes[v]);f&&(f.moveToSpecifiedPosition(),c=f.sp_7,this.applyBoundedAffineTransform(c,1,f.getX(),1,f.getY(),b.com_ibm_vis_geom_Rect.makeRectFromDim(a),f),d.add(c))}},isNodeLayerDefined:function(){return!1},restoreLinkData:function(){},setShapesToNodes:function(a){if(this.ne_12)for(var b=0;b<this.nodes.length;++b)this.nodes[b].isDummy()||
(this.nodes[b].wt_8=this.nodes[b].sp_7.getBounds().getExtent().wt_2/a.wt_2,this.nodes[b].hh_7=this.nodes[b].sp_7.getBounds().getExtent().hh_1/a.hh_1);else for(b=0;b<this.nodes.length;++b)if(!this.nodes[b].isDummy()){var c=this.adapter.makeItemAtSimpleCoordinates([this.nodes[b].getY(),this.nodes[b].getX()],this.nodes[b].row,this.needsAestheticsPreApplied());this.nodes[b].setShape(c);this.nodes[b].wt_8=c.getBounds().getExtent().wt_2/a.wt_2;this.nodes[b].hh_7=c.getBounds().getExtent().hh_1/a.hh_1}},
applyBoundedAffineTransform:function(a,b,c,e,g,k,f){f=a.getBounds();a.affine(b,k.x+c*k.wt_3-f.x-f.wt_3/2,e,k.y+(1-g)*k.hh_2-f.y-f.hh_2/2,!1)},linksWeighted:function(){return null!=this.sl_9},positionNodesManually:function(){for(var a=this.adapter.getSharedLayoutInfo(),b=0,c=this.pd_3,e=c.length;b<e;++b){var g=c[b],k=g.node;if(0<=k&&k<this.nodes.length){var f=this.nodes[k];a.setManuallyPositioned(k);f.specifyPosition(g.x,g.y)}}},makeNodesAndLinks:function(a){var d=new b.com_ibm_rave_codegenerator_util_NumericMap;
if(this.ne_12)for(a=0;a<this.nodes.length;++a){d.put(this.nodes[a].id,this.nodes[a]);var c=[new b.com_ibm_rave_codegenerator_util_List,new b.com_ibm_rave_codegenerator_util_List];this.nodes[a].info=c}else c=new b.com_ibm_rave_codegenerator_util_List,this.nodes=this.me$20(a,c,d);a=this.adapter.getAllFieldValuesAsNumeric(this.fl_7);c=this.adapter.getAllFieldValuesAsNumeric(this.tl_4);this.links=this.mk$2(a,c,d)},mk$2:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;if(a&&d){for(var g=
0;g<a.length;++g)this.createLink(g,a,d,c,e);this.reorderLinks(e);this.populateNodeLinkInfo()}return e.toArray(Array(e.size()))},reorderLinks:function(a){},populateNodeLinkInfo:function(){for(var a=0,b=this.nodes,c=b.length;a<c;++a){var e=b[a],g=e.info;e.setOutLink(g[0].toArray(Array(g[0].size())));e.inLink=g[1].toArray(Array(g[1].size()));e.info=null}},createLink:function(a,d,c,e,g){var k=1;if(null!=this.sl_9&&(k=this.adapter.getFieldNumericValue(this.sl_9,a),k!=k||!(0<k)))return null;var f=e.get(d[a]);
e=e.get(c[a]);if(f&&e&&f!=e){var v=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(f,e);v.row=a;v.wh_3=k;this.adapter.isLinkPruned(d[a],c[a])&&(v.le_40=!0);f.info[0].add(v);e.info[1].add(v);g.add(v);return v}f||this.adapter.hasListeners()&&this.adapter.logWarn("Could not find from node for link","link #",a);e||this.adapter.hasListeners()&&this.adapter.logWarn("Could not find to node for link","link #",a);return null},me$20:function(a,d,c){for(var e=0;e<a;++e){var g=this.adapter.getFieldNumericValue(this.idField,
e);if(g==g){var k=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(e),f=[new b.com_ibm_rave_codegenerator_util_List,new b.com_ibm_rave_codegenerator_util_List];k.info=f;k.id=g;k.setOrientation(this.adapter.isSwapXY(),this.adapter.isReflectY());k.oe_11=null==this.nl_2?null:this.adapter.getFieldNumericValue(this.nl_2,e);c.put(g,k);d.add(k);this.adapter.isNodePruned(g)&&k.setNodePruned(!0)}}return d.toArray(Array(d.size()))},directedAlgorithm:function(){return!1},placeInExtent:function(a){var d=
this.getAcrossRange(this.nodes),c=this.getDownRange(this.nodes);this.refitNodes(this.nodes,d,c);var e=this.adapter.getElementSize(),g=e.wt_2/2/a.wt_2;a=e.hh_1/2/a.hh_1;g=new b.com_ibm_vis_engine_internal_data_Range(g,1-g);a=new b.com_ibm_vis_engine_internal_data_Range(a,1-a);for(var e=this.adapter.getSharedLayoutInfo(),k=0,f=this.links,v=f.length;k<v;++k){for(var h=f[k],l=e.getRoutingInfo(h.from.row,h.to.row),m=new b.com_ibm_rave_codegenerator_util_List,p=0,q=l.length;p<q;++p){var r=l[p],t=g.fromZeroOne(d.toZeroOne(r.x)),
r=a.fromZeroOne(c.toZeroOne(r.y));m.add(new b.com_ibm_vis_geom_Point(t,r))}e.addRoutingInfo(h.from.row,h.to.row,m,null)}},getDownRange:function(a){var d;a=0;for(var c=this.nodes,e=c.length;a<e;++a){var g=c[a];d=d?d.unionValue(g.getY()):new b.com_ibm_vis_engine_internal_data_Range(g.getY(),g.getY())}return d},getAcrossRange:function(a){for(var d,c=0,e=a.length;c<e;++c){var g=a[c];d=d?d.unionValue(g.getX()):new b.com_ibm_vis_engine_internal_data_Range(g.getX(),g.getX())}return d},refitNodes:function(a,
d,c){for(var e,g,k=0,f=a.length;k<f;++k){var v=a[k];e=v.wt_8/2;g=v.hh_7/2;if(this.adapter.isSwapXY()){var h=g;g=e;e=h}e=new b.com_ibm_vis_engine_internal_data_Range(e,1-e);g=new b.com_ibm_vis_engine_internal_data_Range(g,1-g);v.setX(e.fromZeroOne(d.toZeroOne(v.getX())));v.setY(g.fromZeroOne(c.toZeroOne(v.getY())))}},needsAestheticsPreApplied:function(){return!0},isGraph:function(){return!0},addDummyNodes:function(a){if(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=this.nodes,e=0,g=c.length;e<
g;++e)d.add(c[e]);c=0;for(e=a.length;c<e;++c)d.add(a[c]);this.nodes=d.toArray(Array(d.size()))}},checkForCycle:function(a){var d=new b.com_ibm_rave_codegenerator_util_HashSet;d.add(a);this.visitChildren(a,d)},visitChildren:function(a,d){for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(d.contains(k))throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a fishbone graph. Data is cyclic.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);d.add(k);this.visitChildren(k,
d);d.remove(k)}}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_TOP_TO_BOTTOM=b.com_ibm_vis_internal_SpecConstants.TOPTOBOTTOM;b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_BOTTOM_TO_TOP=b.com_ibm_vis_internal_SpecConstants.BOTTOMTOTOP;b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_LEFT_TO_RIGHT=b.com_ibm_vis_internal_SpecConstants.LEFTTORIGHT;b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_RIGHT_TO_LEFT=
b.com_ibm_vis_internal_SpecConstants.RIGHTTOLEFT});b.com_ibm_vis_engine_internal_facet_Faceting=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_facet_AbstractFaceting=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_facet_Faceting,{constructor:function(a,b){this.facetSpec=a;this.facetFields=b;this.gn_3=this.kd_1=null},getFacetSpec:function(){return this.facetSpec},getFacetFields:function(){return this.facetFields},setFacetLayout:function(a){this.kd_1=a},getFacetLayout:function(){return this.kd_1},
setGeneratedScene:function(a){this.gn_3=a},an$5:function(a){this.gn_3&&(this.ur$1(this.gn_3,null),a.addAll(this.gn_3))},gt$22:function(a){var d=a.length;if(1==d)return a[0];for(var c=this.facetFields[0].fl_10.data.id,e=0;e<d;++e){var g=a[e],k=g.id;if(null!=c&&c==k)return g;if(null==c&&null==k)for(var k=0,f=g.fields,v=f.length;k<v;++k)if(f[k].id==this.facetFields[0].fl_10.id)return g}throw new b.com_ibm_vis_exceptions_internal_EngineException("Facet data source is invalid.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA_SOURCE);
},ur$1:function(a,b){for(var c=0;c<a.size();++c){var e=a.get(c);if(b){var g=b.size();if(this.it$4(e)){var k=e.getShape();if(k=k.getRows())for(var f=k.length,v=0;v<f;++v){var h=k[v];h<g&&(k[v]=b.get(h))}}}else(k=e.getShape())&&k.setRows(null);this.ur$1(e.getChildren(),b)}},ft$8:function(a){this.facetElements=new b.com_ibm_rave_codegenerator_util_NumericSet;if(1==a.elements.length)this.facetElements.add(0);else for(var d=0;d<a.elements.length;++d)for(var c=0;c<this.facetFields.length;++c){var e=this.facetFields[c].fl_10.data.id;
a.elements[d].data&&(null!=e?e==a.elements[d].data.id&&this.facetElements.add(d):this.facetFields[c].fl_10.data.rows.length==a.elements[c].data.rows.length&&this.facetElements.add(d))}},it$4:function(a){a=a.getId();if(null!=a){if(-1!=a.indexOf("V"))return!1;if(-1==a.indexOf("F")){var d=a.indexOf("E");if(-1<d&&(a=b.com_ibm_rave_codegenerator_lang_Integer.parseInt(a.substring(d+1,d+2)),this.facetElements.contains(a)))return!0}}return!1},makeUnsharedCellsScene:function(a,d,c,e,g){this.gn_3&&this.an$5(c);
for(var k,f=a.elements,v=0;!k&&v<f.length;++v)k=this.ga$12(f[v]);var f=new b.com_ibm_vis_engine_internal_facet_Compose(c,this.getFacetLayout()),h=new b.com_ibm_vis_spec_internal_VisJSONSpec,l=a.gSpec.copy();l.facet=null;this.ie$41()&&this.al$3(l);v=new b.com_ibm_rave_codegenerator_util_List;v.add(l);for(var m=0,p=a.getFacetedGrammars().arrayIterator(),q=p.length;m<q;++m)v.add(p[m].gSpec);h.grammar=v.toArray(Array(v.size()));h.size=new b.com_ibm_vis_spec_internal_SizeSpec;h.size.width=d.wt_2;h.size.height=
d.hh_1;m=this.gt$22(e);m.source&&(m=b.com_ibm_vis_engine_internal_facet_AbstractFaceting.gt$23(m,e),k=this.updateFacetRows(k));p=m.rows;m.rows=null;q=m.copy();q.provider=null;m.rows=p;var r=e.length;h.data=Array(r);if(1==r)h.data[0]=q;else for(var t=m.id,v=0;v<r;++v){var w=e[v].id;if(null!=t&&t==w)h.data[v]=q;else if(null==t&&null==w){for(var w=m.fields[0].id,x=!1,y=0,z=e[v].fields,C=z.length;y<C;++y)z[y].id==w&&(x=!0);h.data[v]=x?q:e[v]}else h.data[v]=e[v]}d=this.ct$13(a,d,k,h,l,p,q,g,c,f);a=f.makeInnerScene(d,
a.getId());this.re$11(a);return a},ct$13:function(a,d,c,e,g,k,f,v,h,l){var m=new b.com_ibm_rave_codegenerator_util_List,p,q,r,t;!this.isChartInChart()&&!a.coordinates.containsPolar()&&this.facetSpec.sharedAxes&&0<this.facetSpec.sharedAxes.length&&g.coordinates&&(q=g.coordinates.dimensions)&&(p=this.ga$11(q));g=!this.isChartInChart();var w=a.coordinates.containsTranspose(),x=g?2:1,y=v.getFacetIndex();this.ft$8(a);for(var z=g?new b.com_ibm_rave_codegenerator_util_List:null,C=new b.com_ibm_rave_codegenerator_util_Map,
A=0;A<x;++A){m.clear();for(var y=v.getFacetIndex(),E=0,F=c.keySet().arrayIterator(),B=F.length;E<B;++E){var H=F[E],J=c.get(H);if(l.isScenePart(H)&&(0!=J.size()||!this.isChartInChart())){f.rows=b.com_ibm_vis_engine_internal_facet_AbstractFaceting.se$16(k,J);var M=b.com_ibm_vis_engine_internal_Vis.createVisWithContext(v);M.se_57=!1;p&&this.hi$1(a,p,q,t,y,d);var K=a.getExtent(),G=a.getOverallBounds(),K=a.getSizeInfo(null,null).getPreferred().toDim(K,G);if(K=this.getSelectedPanelSize(p,K,H,d,r,t))e.size.width=
K.wt_2,e.size.height=K.hh_1,C.put(H,K);this.modifyFacetGrammar(e.grammar[0]);var N=M.setTypedSpecification(e);N.isSpecSet();M.replaceSharedScalesInGrammar(a,0);G=M.ga_5;if(0<G.length&&G[0]){G[0].setId(a.getId());var L=a.getFacetedGrammars();if(L&&0<L.size())for(var P=1;P<G.length&&P-1<L.size();++P)G[P].setId(L.get(P-1).getId())}K=M.makeSceneTree(K,N).getSceneTree().root.getChildren();if(g&&0<G.length&&G[0]&&(G=G[0].coordinates)&&(G=G.axes,0!=G.length&&0==A))for(N=0;N<G.length;++N)L=G[N],P=new b.com_ibm_vis_engine_internal_facet_FacetAxisInfo,
P.facetIndex=y,P.axisDrawPosition=L.do_7,P.axisIndex=N,P.axisTickHeight=L.th_3,L.getScale().isCategorical()&&(P.axisMethod=L.mo_14),z.add(P);this.ur$1(K,J);m.add(b.com_ibm_vis_engine_internal_facet_CellElementContents.createContentsFromScene(H,y++,K));M.dispose()}}if(0==A&&g)if(E=new b.com_ibm_rave_codegenerator_util_List,b.com_ibm_vis_engine_internal_facet_AbstractFaceting.sf$5(p,z,E))t=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),r=new b.com_ibm_vis_geom_Dim(0,0),this.ps$4(d,e,p,r,t,E,
w);else break}v.setFacetIndex(y);p&&this.modifyPanelSize(C,h);return m},modifyFacetGrammar:function(a){},ie$41:function(){return"panel"==this.facetSpec.method},al$3:function(a){a.style=new b.com_ibm_vis_spec_internal_StyleSpec},re$11:function(a){if(this.ie$41())for(var d=0;d<a.size();++d){var c=a.get(d).getChildren();c&&b.com_ibm_vis_engine_internal_facet_GenerateOuter.removeExtraFrames(c)}},ps$4:function(a,d,c,e,g,k,f){var v=this.facetFields[0].fl_10.categories.length,h=1<this.facetFields.length?
this.facetFields[1].fl_10.categories.length:1;d=d.grammar[0].coordinates.dimensions;for(var l=0;l<k.size();++l){var m=k.get(l);if(m){var p=b.com_ibm_vis_engine_internal_facet_AbstractFaceting.ge$35(d,k.size(),m.axisDrawPosition);f&&(p=Math.abs(p-1));var q=d[p];if(q.axis&&0!=q.axis.length&&q.axis[0]){var q=q.axis[0],r=!q.preferredSize||null!=q.preferredSize.max&&0==q.preferredSize.max?null:q.preferredSize.max;q.preferredSize=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;q.preferredSize.min=m.axisTickHeight;
q.preferredSize.max=r;null!=m.axisMethod&&(q.method=m.axisMethod);c&&c[p]&&(g[m.axisDrawPosition]=m.axisTickHeight,0==m.axisDrawPosition?e.wt_2=(a.wt_2*h-g[0])/h:e.hh_1=(a.hh_1*v-g[1])/v)}}}},hi$1:function(a,d,c,e,g,k){for(var f=0;f<d.length;++f)if(d[f]){var v=c[f].axis;if(v&&0!=v.length&&v[0]){var v=v[0],h=this.facetFields[0].fl_10.categories.length,l=1<this.facetFields.length?this.facetFields[1].fl_10.categories.length:1,m=a.coordinates.containsTranspose(),h=b.com_ibm_vis_engine_internal_facet_AbstractFaceting.il$6(f,
h,l,g,m,k);v.visible=h;l=!v.preferredSize||null!=v.preferredSize.max&&0==v.preferredSize.max?null:v.preferredSize.max;v.preferredSize=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;v.preferredSize.max=l;h?(h=0,e&&(h=m?e[Math.abs(1-f)]:e[f],0==h?v.preferredSize.max=h:v.preferredSize.preferred=h),v.preferredSize.min=h):v.preferredSize.max=0}}},ga$11:function(a){for(var d=!0,c=a.length,e=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],!1),g=0;g<c;++g)if(this.isSharedAxis(g)){var k=a[g],
f=k.axis;f&&0!=f.length?(e[g]=null==f[0].visible||f[0].visible.valueOf(),e[g]&&(k=k.scale)&&(e[g]=null==k.local||!k.local.valueOf())):e[g]=!1;d&&e[g]&&(d=!1)}return d?null:e},isSharedAxis:function(a){if(this.facetSpec.sharedAxes)for(var b=0;b<this.facetSpec.sharedAxes.length;++b)if(this.facetSpec.sharedAxes[b]==a)return!0;return!1},ga$12:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_LinkedMap,c=0,e=b.com_ibm_vis_engine_internal_facet_AbstractFaceting.makeKeys(this.facetFields).arrayIterator(),
g=e.length;c<g;++c){var k=e[c];d.put(k,new b.com_ibm_rave_codegenerator_util_List)}a=a.data.rows;for(c=0;c<a.length;++c)k=this.me$36(a[c]),(k=d.get(k))&&k.add(c);return d},modifyPanelSize:function(a,b){},updateFacetRows:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_LinkedMap,c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c){for(var k=e[c],f=a.get(k),v=new b.com_ibm_rave_codegenerator_util_List,h=0;h<f.size();++h)for(var l=this.facetFields[0].fl_10.data.rows[f.get(h)].originalRows,
m=0;m<l.size();++m){var p=l.get(m);-1==v.indexOf(p)&&v.add(p)}d.put(k,v)}return d},updateKey:function(a,b){for(var c=a,e=0,g=this.facetFields,k=g.length;e<k;++e)c+="|"+g[e].fl_10.getUnformattedStringValue(b,!1);return c},applyFacetingToShape:function(a,b,c){this.isFacetedElement(c)&&a.setMeta("facet",this.me$36(b))},me$36:function(a){for(var b=this.facetFields[0].fl_10.getUnformattedStringValue(a,!1),c=1;c<this.facetFields.length;++c)b+="|"+this.facetFields[c].fl_10.getUnformattedStringValue(a,!1);
return b},isFacetedElement:function(a){if(a.hasVariableRef())for(var b=0,c=this.facetFields,e=c.length;b<e;++b)if(c[b].fl_10.data==a.data)return!0;return!1},makeDataGroups:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;a=this.ga$12(a);for(var c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c)d.add(a.get(e[c]));return d},addFacetInfoToShapes:function(a,d){for(var c=0,e=a.getAllShapes().arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k.getRows()){for(var f=d.data.rows[k.getRows()[0]],
v=Array(this.facetFields.length),h=0;h<this.facetFields.length;++h)v[h]=this.facetFields[h].fl_10;f=b.com_ibm_vis_engine_internal_data_Field.getValuesAsZeroOne(f,v);k.getPosition()||k.setPosition(new b.com_ibm_vis_engine_internal_grammar_coordinate_Position(0,0,0));k.setPosition(k.getPosition().setFacet(f))}}},specificationDataUpdated:function(){}});b.com_ibm_vis_engine_internal_facet_AbstractFaceting.gt$23=function(a,b){for(var c=a.source.$ref,e=b.length,g=0;g<e;++g){var k=b[g],f=k.id;if(null!=c&&
c==f)return k}return a};b.com_ibm_vis_engine_internal_facet_AbstractFaceting.se$16=function(a,b){for(var c=b.size(),e=Array(c),g=0;g<c;++g)e[g]=a[b.get(g)];return e};b.com_ibm_vis_engine_internal_facet_AbstractFaceting.sf$5=function(a,b,c){var e=0;b=b.arrayIterator();for(var g=b.length;e<g;++e){var k=b[e],f=k.axisIndex;if(c.size()<=f)for(var v=f-c.size()+1;0!=v;)c.add(null),v--;v=c.get(f);v?1<Math.abs(k.axisTickHeight-v.axisTickHeight)&&(a=!0,k.axisTickHeight>v.axisTickHeight&&c.set(f,k)):c.set(f,
k)}return a};b.com_ibm_vis_engine_internal_facet_AbstractFaceting.ge$35=function(a,b,c){var e=a.length;if(b>e)for(var g=b=0;g<e;++g){var k=a[g];k.axis&&(b+=k.axis.length);if(c<=b)return g}return c};b.com_ibm_vis_engine_internal_facet_AbstractFaceting.il$6=function(a,d,c,e,g,k){if(g)return b.com_ibm_vis_engine_internal_facet_AbstractFaceting.il$6(Math.abs(a-1),d,c,e,!1,k);switch(a){case 0:return 40<k.hh_1&&0==e%c;case 1:return 40<k.wt_2&&(e-e%c)/c==d-1;default:return!1}};b.com_ibm_vis_engine_internal_facet_AbstractFaceting.makeKeys=
function(a){if(2<a.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot have more than 2 facet fields.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_TOO_MANY_FIELDS);for(var d=new b.com_ibm_rave_codegenerator_util_List,c=a[0].fl_10.categories,e=0;e<c.length;++e)if(2==a.length)for(var g=a[1].fl_10.categories,k=0;k<g.length;++k)d.add(e+"|"+k);else d.add(e+"");return d};b.com_ibm_vis_engine_internal_facet_AbstractFaceting.FT_1="facet";b.com_ibm_vis_engine_internal_facet_AbstractFaceting.KO_3=
"|";b.com_ibm_vis_engine_internal_facet_FacetMethodChartInChart=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_facet_AbstractFaceting,{constructor:function(a,d,c){var e;a.targetElement&&(e=c.getByID(a.targetElement.$ref));if(null==e||!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_grammar_element_Element))throw new b.com_ibm_vis_exceptions_internal_SpecException("Chart-in-Chart faceting requires a targetElement which references an element",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
this.targetElement=e},initializeFaceting:function(a,d,c){a=new b.com_ibm_rave_codegenerator_util_Map;d=new b.com_ibm_rave_codegenerator_util_Set;d.addAll(b.com_ibm_vis_engine_internal_facet_AbstractFaceting.makeKeys(this.facetFields));c=0;for(var e=this.targetElement.cachedShapes.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElement(k.id)&&null!=k.getKey()&&d.contains(k.getKey())&&!a.get(k.getKey())){var f=this.getFacetBounds(k);f&&a.put(k.getKey(),
f)}}this.kd_1=a},getPanelSize:function(a,b){return b},getSelectedPanelSize:function(a,b,c,e,g,k){return(a=this.getFacetLayout().get(c))?a.getExtent():null},isChartInChart:function(){return!0},getFacetBounds:function(a){if(!a)return null;var b=this.facetSpec;return null==b.targetPart?a.getBounds():(a=a.getPartByName(b.targetPart))?a.getBounds():null}});b.com_ibm_vis_engine_internal_facet_Compose=b.com_ibm_init_declare({constructor:function(a,d){var c=new b.com_ibm_vis_engine_internal_util_SceneTreeUtil(a);
this.tt_6=c.getElementGroups().get(0);this.kd_2=d;c=c.getGrammarInnerShapes();this.oe_13=0<c.length?b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getTransformOffset(c[0]):new b.com_ibm_vis_geom_Point(0,0)},isScenePart:function(a){return this.kd_2?this.kd_2.containsKey(a):!0},makeInnerScene:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_LinkedMap,g=this.tt_6.size(),k=0;k<g;++k){var f=this.tt_6.get(k),v=f.getShape().getElementInfo().getKey();
e.put(v,f)}for(var g=0,k=a.arrayIterator(),h=k.length;g<h;++g){var l=k[g],v=l.name,m=null;this.kd_2?m=this.kd_2.get(v):(f=e.get(v))&&(m=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(f));m&&(this.pD$1(l.scene,"F"+l.index,d),f=this.mu$3(m,l.scene,l.name),c.add(f))}return c},mu$3:function(a,d,c){var e=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET);e.getChildren().addAll(d);d=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(d.get(0));
var g=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;g.setProperty("facet",c);e.a11y=g;e.translate(a.getCenterX()-d.getCenterX()+this.oe_13.x,a.getCenterY()-d.getCenterY()+this.oe_13.y);e.setClipBounds(new b.com_ibm_vis_geom_Rect(0,0,a.wt_3,a.hh_2));return e},pD$1:function(a,d,c){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e],f=k.getId();null!=f&&(null!=c&&"Back"==f&&(f=c+f),k.setId(d+f));f=k.getShape();b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_struct_Schema)||
b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_struct_MultiPartText)||b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_struct_MultiPartTextLine)||this.pD$1(k.getChildren(),d,c)}}});b.com_ibm_vis_engine_internal_facet_Compose.BI_1="Back";b.com_ibm_vis_engine_internal_facet_Compose.FI_1="F";b.com_ibm_vis_engine_internal_facet_FacetAxisInfo=b.com_ibm_init_declare({facetIndex:0,axisDrawPosition:0,axisIndex:0,axisTickHeight:0});
b.com_ibm_vis_engine_internal_facet_CellElementContents=b.com_ibm_init_declare({index:0,constructor:function(a,b,c){this.name=a;this.index=b;this.scene=c}});b.com_ibm_vis_engine_internal_facet_CellElementContents.createContentsFromScene=function(a,d,c){return new b.com_ibm_vis_engine_internal_facet_CellElementContents(a,d,c)};b.com_ibm_vis_engine_internal_facet_GenerateOuter=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeTableOuterScene=function(a,d){if(1>a.length||
2<a.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Faceting can only be performed using one or two fields",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_NO_FIELDS);for(var c=a[0].fl_10.data,e=0,g=a.length;e<g;++e)if(a[e].fl_10.data!=c)throw new b.com_ibm_vis_exceptions_internal_EngineException("All faceting fields must come from the same data source",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA_SOURCE);b.com_ibm_vis_engine_internal_facet_GenerateOuter.panelSize=
"100%";e=b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$37(a);c=b.com_ibm_vis_engine_internal_Vis.createVisWithContext(c.visContext);e=c.setTypedSpecification(e);e=c.makeSceneTree(d,e);e=e.getSceneTree().root.getChildren();b.com_ibm_vis_engine_internal_facet_GenerateOuter.removeExtraFrames(e);c.dispose();return e};b.com_ibm_vis_engine_internal_facet_GenerateOuter.removeExtraFrames=function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=a.size(),e=0;e<c;++e){var g=a.get(e),k=g.getId();
(b.com_ibm_vis_engine_internal_util_SceneIdUtil.isBackId(k)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId(k))&&d.add(g)}c=0;d=d.arrayIterator();for(e=d.length;c<e;++c)a.remove(d[c])};b.com_ibm_vis_engine_internal_facet_GenerateOuter.mc$4=function(a){for(var d=Array(a.length),c=0;c<a.length;++c){var e=a[c].fl_10,g=new b.com_ibm_vis_spec_internal_FieldSpec;g.id="facet"+(c+1);g.key=!0;e.se_23&&(g.format=b.com_ibm_vis_engine_internal_format_RAVEFormatter.makeFormatSpecFromRAVEFormatter(e.se_23));
e.categories&&(g.categories=e.categories);d[c]=g}return d};b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$37=function(a){var d=new b.com_ibm_vis_spec_internal_VisJSONSpec,c=b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$38(a);d.data=[c];c=c.rows.length;d.grammar=[b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeFacetGrammarSpec(a,b.com_ibm_vis_engine_internal_facet_GenerateOuter.ai$2(a),c)];return d};b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$38=function(a){var d=new b.com_ibm_vis_spec_internal_DataSpec;
d.rows=b.com_ibm_vis_engine_internal_facet_GenerateOuter.mw$2(a);d.id="facetData";d.fields=b.com_ibm_vis_engine_internal_facet_GenerateOuter.mc$4(a);return d};b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeFacetGrammarSpec=function(a,d,c){var e=a.length,g=new b.com_ibm_vis_spec_internal_GrammarSpec;g.coordinates=b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$41(a);a=b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$39(e,d,c);g.elements=[a];a=new b.com_ibm_vis_spec_internal_StyleSpec;
a.padding=0;a.fill=b.com_ibm_vis_engine_internal_facet_GenerateOuter.FN_4;g.style=a;return g};b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$39=function(a,d,c){var e=new b.com_ibm_vis_spec_internal_ElementsSpec;e.type="point";e.position=b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$40(a);a=new b.com_ibm_vis_spec_internal_StyleSpec;a.fill=b.com_ibm_vis_engine_internal_facet_GenerateOuter.FN_4;d&&(d=1>c?1:c,d=100*Math.sqrt(-Math.log(.5)/d)+"%%",a.width=d,a.height=d);a.size=b.com_ibm_vis_engine_internal_facet_GenerateOuter.panelSize;
a.symbol="rect";e.style=a;return e};b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$40=function(a){for(var d=Array(a),c=0;c<a;++c){var e=new b.com_ibm_vis_spec_internal_PositionSpec;e.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;e.field.$ref="facet"+(c+1);d[c]=e}return d};b.com_ibm_vis_engine_internal_facet_GenerateOuter.me$41=function(a){var d=a.length,c=new b.com_ibm_vis_spec_internal_CoordinatesSpec,e=Array(d);c.dimensions=e;for(var g=0;g<d;++g){var k=new b.com_ibm_vis_spec_internal_DimensionSpec;
e[g]=k;var f=b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeAxisSpec(a[g]);f&&(k.axis=Array(1),k.axis[0]=f)}return c};b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeAxisSpec=function(a){if(a=a.spec.axis)if(a.markStyle||(a.markStyle=new b.com_ibm_vis_spec_internal_StyleSpec),a.lineStyle||(a.lineStyle=new b.com_ibm_vis_spec_internal_StyleSpec),!a.tickStyle){a.tickStyle=new b.com_ibm_vis_spec_internal_StyleSpec;var d=new b.com_ibm_vis_spec_internal_FontSpec;d.weight="bold";d.size=14;a.tickStyle.font=
d}return a};b.com_ibm_vis_engine_internal_facet_GenerateOuter.ai$2=function(a){for(var b=0,c=a.length;b<c;++b)if(!a[b].fl_10.isCategorical())return!0;return!1};b.com_ibm_vis_engine_internal_facet_GenerateOuter.mw$2=function(a){var d=a[0].fl_10,c=d.getUsedCategories();if(!c)return[];if(1==a.length){a=Array(c.length);for(d=0;d<c.length;++d)a[d]=[c[d]];return a}if(2==a.length){var d=a[1].fl_10,e=d.getUsedCategories(),g=0;a=Array(c.length*e.length);for(d=0;d<c.length;++d)for(var k=0;k<e.length;++k)a[g]=
[c[d],e[k]],g++;return a}throw new b.com_ibm_vis_exceptions_internal_EngineException("Faceting can only be performed using one or two fields",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_NO_FIELDS);};b.com_ibm_vis_engine_internal_facet_GenerateOuter.FS_2="facet";b.com_ibm_vis_engine_internal_facet_GenerateOuter.DZ_6="100%";b.com_ibm_vis_engine_internal_facet_GenerateOuter.FT_2="facetData";b.com_ibm_vis_engine_internal_facet_GenerateOuter.FN_4="transparent";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_facet_GenerateOuter.FL_3=
"bold"});b.com_ibm_vis_engine_internal_facet_FacetMethodPanel=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_facet_AbstractFaceting,{constructor:function(a,d,c,e){this.vis=c;this.fn_4=null==e?5:e;this.rowIndex=d?this.facetFields[0].fl_10.getUsedCategories():null;this.columnIndex=d?1<this.facetFields.length?this.facetFields[1].fl_10.getUsedCategories():[0]:null;if(a.targetElement||null!=a.targetPart)throw new b.com_ibm_vis_exceptions_internal_SpecException("Panel faceting may not have a targetElement or targetPart",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);},initializeFaceting:function(a,d,c){d=b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeTableOuterScene(this.facetFields,c);null!=a&&"G0"!=a&&this.rI$1(d,a);this.gn_3=d;a=(new b.com_ibm_vis_engine_internal_util_SceneTreeUtil(d)).getElementGroups();0==a.size()||0==a.get(0).size()?this.panelSize=c:(c=a.get(0).get(0),this.panelSize=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(c).getExtent())},rI$1:function(a,d){for(var c=0,e=a.arrayIterator(),
g=e.length;c<g;++c){var k=e[c],f=k.getId();null!=f&&(f=b.com_ibm_vis_engine_internal_util_SceneIdUtil.replaceGrammarIndex(f,d),k.setId(f));this.rI$1(k.getChildren(),d)}},getPanelSize:function(a,b){return this.panelSize},getSelectedPanelSize:function(a,d,c,e,g,k){return a?g||c!=this.rowIndex[0]+"|"+this.columnIndex[0]&&c!=this.rowIndex[0]+""?g?(this.az_1=k,a=e.wt_2,e=e.hh_1,0<g.wt_2&&(d=c.indexOf("|"),a=-1>=d||c.substring(d+1,d+2)==""+this.columnIndex[0]?g.wt_2+k[0]:g.wt_2),0<g.hh_1&&(d=c.indexOf("|"),
e=(-1<d?c.substring(0,d):c)==""+this.rowIndex[this.rowIndex.length-1]?g.hh_1+k[1]:g.hh_1),new b.com_ibm_vis_geom_Dim(a,e)):null:new b.com_ibm_vis_geom_Dim(d.wt_2,e.hh_1):null},isChartInChart:function(){return!1},modifyFacetGrammar:function(a){this.facetSpec.sharedAxes&&(a.axisPadding=!1);a.bounds=null;a.style||(a.style=new b.com_ibm_vis_spec_internal_StyleSpec,a.style.fill=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.TN_6);a.style.padding=this.fn_4},modifyPanelSize:function(a,d){for(var c=
a.keySet(),c=c.toArray(Array(c.size())),c=this.sort(c),e=c[0].indexOf("|"),g=-1<e?c[0].substring(0,e):c[0],k=0,f=0,v=0;v<c.length;++v){var h=c[v];if(null!=h){var l=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fe$3(d,h);if(l){var m=a.get(h);l.setWidth(m.wt_2);l.setHeight(m.hh_1);e=h.indexOf("|");e=-1<e?h.substring(0,e):h;e!=g&&(k=0,f+=a.get(c[v-1]).hh_1);l.setX(k);l.setY(f);k+=m.wt_2;g=e}}}this.rl$2(d);this.rl$3(d)},sort:function(a){if(10>this.rowIndex[this.rowIndex.length-1]&&10>this.columnIndex[this.columnIndex.length-
1])return b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(a),a;var d=this.rowIndex.length,c=this.columnIndex.length;a=Array(a.length);if(1==this.facetFields.length)for(var e=0;e<d;++e)a[e]=this.rowIndex[e]+"";else for(var g=0,e=0;e<d;++e)for(var k=0;k<c;++k)a[g]=this.rowIndex[e]+"|"+this.columnIndex[k],g++;return a},rl$2:function(a){var d=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.gl$8(a,"facet2");if(d){var c=this.columnIndex.length;if(1!=c)for(var e=0,g=0;g<c;++g){var k=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fe$3(a,
this.rowIndex[0]+"|"+this.columnIndex[g]),f;if(f=c==d.size()?d.get(g):this.fb$1(d,g))d.set(e,this.mi$4(f,k,g)),e++}}},fb$1:function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(b==k.getShape().getFieldInfo().vu_14)return k}return null},mi$4:function(a,d,c){var e=d.getWidth(),g=d.getX();d=a.getShape();var k=d.getTextInfo().getText(),f=d.getNodeBounds().y,v=d.getHeight(),h=b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeAxisSpec(this.facetFields[1]),h=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(this.vis,
h.tickStyle,"middle","start",null);0==c&&this.az_1&&(g=this.az_1[0],e-=this.az_1[0]);if(c=h.makeLabel([k],b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(g,0,e,v+1)))c.setID(d.id),c.copyInfoFrom(d),c.setField(d.getField()),c.setValue(d.getValue()),c.affine(1,0,1,f-c.getNodeBounds().y,!0),a=c.createSceneNode();return a},rl$3:function(a){var d=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.gl$8(a,"facet1");if(d){var c=this.rowIndex.length;if(1!=c)for(var e=0,g=0;g<c;++g){var k=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fe$3(a,
1==this.facetFields.length?this.rowIndex[g]+"":this.rowIndex[g]+"|"+this.columnIndex[0]);if(k){var f;if(f=c==d.size()?d.get(c-1-g):this.fb$1(d,c-1-g))d.set(d.size()-1-e,this.mi$5(f,k.getGeom(),g,c)),e++}}}},mi$5:function(a,d,c,e){var g=d.hh_2,k=d.y;d=a.getShape();var f=d.getNodeBounds().wt_3,v=d.getTextInfo().getText(),h=d.getNodeBounds().x,l=b.com_ibm_vis_engine_internal_facet_GenerateOuter.makeAxisSpec(this.facetFields[0]),l=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(this.vis,
l.tickStyle,"end","middle",null);c==e-1&&this.az_1&&(g-=this.az_1[1]);c=[v];e=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,k,f+1,g);if(c=l.makeLabel(c,e))c.setID(d.id),c.copyInfoFrom(d),c.setField(d.getField()),c.setValue(d.getValue()),c.affine(1,h-c.getNodeBounds().x,1,0,!0),a=c.createSceneNode();return a},getVis:function(){return this.vis}});b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.gl$8=function(a,d){for(var c=a.size()-1;0<=c;--c){var e=a.get(c);if(e.getType()==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS&&
(e=e.getChildren(),e=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fp$1(e,b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL))){var e=e.getChildren(),g=e.get(0).getShape();if(g&&(g=g.getFieldInfo())&&d==g.fI_1)return e}}return null};b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fe$3=function(a,d){var c=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fp$1(a,b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT);return c&&(c=c.getChildren(),c=b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fe$4(c,
d))&&(c=c.getShape(),b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c.getGeom(),b.com_ibm_vis_geom_Rect))?c:null};b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fp$1=function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(b==k.getType())return k}return null};b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.fe$4=function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var k=e[c],f=k.getShape();if(f&&(f=f.getElementInfo())&&b==f.getKey())return k}return null};
b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.FI_2="G0";b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.TN_6="transparent";b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.ET_4="";b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.FO_3="|";b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.XE_1="facet2";b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.YE_1="facet1";b.com_ibm_vis_engine_internal_facet_FacetMethodPanel.DN_4=5;b.com_ibm_vis_engine_internal_facet_FacetMethodPanelHorizontal=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_facet_FacetMethodPanel,{de_21:0,nI$1:function(a){var d=0,c=0;a=a.data;for(var e=a.length;c<e;++c)d+=a[c].fields.length;return b.com_ibm_vis_engine_internal_facet_FacetMethodPanelHorizontal.DF_1+d},constructor:function(a,d,c,e){if(1!=this.facetFields.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("The panelHorizontal method requires that there be one and only one facet field.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
e=this.nI$1(c);a=new b.com_ibm_vis_spec_internal_FacetFieldSpec;a.field=new b.com_ibm_vis_spec_internal_FieldRefSpec;a.field.$ref=e;var g=d[0].fl_10,k=Array(1);k[0]=e+"_cat";d=new b.com_ibm_vis_spec_internal_FieldSpec;d.categories=k;d.id=e;this.de_21=0;var f=c.data.length;if(1<f)for(e=0;e<f;++e)k=c.data[e].fields,g.ie_4<k.length&&g.id==k[g.ie_4].id&&(this.de_21=e);e=b.com_ibm_vis_engine_internal_data_Field.createSimpleField(c,d,c.data[this.de_21],0,g.unit);g=Array(2);a=new b.com_ibm_vis_engine_internal_facet_FacetField(a,
e);g[0]=a;g[1]=this.facetFields[0];this.facetFields=g;a=new b.com_ibm_rave_codegenerator_util_List;a.add(e);k=c.data[this.de_21].fields;for(e=0;e<k.length;++e)k[e].incrementIndex(),a.add(k[e]);c.data[this.de_21].fields=a.toArray(k);a=new b.com_ibm_rave_codegenerator_util_List;a.add(d);g=c.ce_40.data[this.de_21].fields;for(e=0;e<g.length;++e)a.add(g[e].copy());c.ce_40.data[this.de_21].fields=a.toArray(g);a.add(d);this.specificationDataUpdated()},specificationDataUpdated:function(){for(var a,d=new b.com_ibm_rave_codegenerator_util_List,
c=new b.com_ibm_rave_codegenerator_util_List,e=this.vis.data[this.de_21].rows,g=e.length,k=0;k<g;++k){a=b.com_ibm_rave_codegenerator_lang_Array.create([e[k].data.length+1],0);for(var f=a[0]=0;f<e[k].data.length;++f)a[f+1]=e[k].data[f];f=b.com_ibm_vis_engine_internal_data_Row.createRow(a,k);f.originalRows=e[k].originalRows;d.add(f);c.add(a)}this.vis.data[this.de_21].rows=d.toArray(Array(g));a=this.vis.ce_40.data[this.de_21];a.rows=c.toArray(Array(g));a.provider=null;a.source=null}});b.com_ibm_vis_engine_internal_facet_FacetMethodPanelHorizontal.DA_1=
"_cat";b.com_ibm_vis_engine_internal_facet_FacetMethodPanelHorizontal.DF_1="PanelHorizwlipwl_";b.com_ibm_vis_engine_internal_facet_FacetField=b.com_ibm_init_declare({constructor:function(a,b){this.spec=a;this.fl_10=b},getFacetFieldSpec:function(){return this.spec},getField:function(){return this.fl_10}});b.com_ibm_vis_engine_internal_facet_FacetMethodOverlay=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_facet_AbstractFaceting,{initializeFaceting:function(a,b,c){},isChartInChart:function(){return!1},
getPanelSize:function(a,b){return b},getSelectedPanelSize:function(a,b,c,e,g,k){return null}});b.com_ibm_vis_engine_internal_facet_FacetMethodNone=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_facet_Faceting,{initializeFaceting:function(a,b,c){},makeUnsharedCellsScene:function(a,b,c,e,g){return null},getPanelSize:function(a,b){return b},getSelectedPanelSize:function(a,b,c,e,g,k){return b},isChartInChart:function(){return!1},updateKey:function(a,b){return a},makeDataGroups:function(a){return null},
applyFacetingToShape:function(a,b,c){},isFacetedElement:function(a){return!0},addFacetInfoToShapes:function(a,b){},getFacetSpec:function(){return null},isSharedAxis:function(a){return!1},specificationDataUpdated:function(){}});b.com_ibm_vis_engine_internal_facet_FacetingFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_facet_FacetingFactory.getFacetingInstance=function(a,d,c,e){if(!a)return b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACETING_NONE;e=b.com_ibm_vis_engine_internal_facet_FacetingFactory.et$2(c,
a,e);for(var g=0,k=e.length;g<k;++g)if(!e[g].fl_10.isCategorical())throw new b.com_ibm_vis_exceptions_internal_EngineException("Facet data is not categorical.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA);if(b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACET_METHOD_CHART_IN_CHART==a.method)return new b.com_ibm_vis_engine_internal_facet_FacetMethodChartInChart(a,e,c);if("panel"==a.method)return new b.com_ibm_vis_engine_internal_facet_FacetMethodPanel(a,e,c,d);if(b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACET_METHOD_PANEL_HORIZONTAL==
a.method)return new b.com_ibm_vis_engine_internal_facet_FacetMethodPanelHorizontal(a,e,c,d);if("overlay"==a.method)return new b.com_ibm_vis_engine_internal_facet_FacetMethodOverlay(a,e);throw new b.com_ibm_vis_exceptions_internal_SpecException("Facet method '"+a.method+"' not supported",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_vis_engine_internal_facet_FacetingFactory.et$2=function(a,d,c){if(!d.fields||0==d.fields.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Facet does not have any fields (faceting requires one or two fields)",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_NO_FIELDS);if(2<d.fields.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Facet has too many fields (faceting requires one or two fields)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_TOO_MANY_FIELDS);d=d.fields;for(var e=Array(d.length),g=0;g<d.length;++g){var k=d[g];if(!k.field||null==k.field.$ref)throw new b.com_ibm_vis_exceptions_internal_EngineException("Facet field is missing",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA);
var f=a.getByID(k.field.$ref);if(!f)throw new b.com_ibm_vis_exceptions_internal_EngineException("Facet field data is invalid.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA);if(c.length>g&&!b.com_ibm_vis_engine_internal_facet_FacetingFactory.mc$3(f,c[g].positions))throw new b.com_ibm_vis_exceptions_internal_EngineException("All faceting fields must come from the same data source as the positions.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_FACET_INVALID_DATA_SOURCE);e[g]=new b.com_ibm_vis_engine_internal_facet_FacetField(k,
f)}return e};b.com_ibm_vis_engine_internal_facet_FacetingFactory.mc$3=function(a,b){for(var c=0;c<b.length;++c){var e=b[c].getBaseField();if(e&&e.data!=a.data)return!1}return!0};b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACET_METHOD_OVERLAY="overlay";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACETING_NONE=new b.com_ibm_vis_engine_internal_facet_FacetMethodNone;b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACET_METHOD_CHART_IN_CHART=
b.com_ibm_vis_internal_SpecConstants.CHARTINCHART;b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACET_METHOD_PANEL="panel";b.com_ibm_vis_engine_internal_facet_FacetingFactory.FACET_METHOD_PANEL_HORIZONTAL=b.com_ibm_vis_internal_SpecConstants.PANELHORIZONTAL});b.com_ibm_vis_engine_internal_grammar_scale_AxisComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a.wl_2,e=b.wl_2,g=a.ai_3,k=b.ai_3;return c<e?-1:c>e?1:g?1:k?-1:0}});b.com_ibm_vis_engine_internal_SceneParts=
b.com_ibm_init_declare({constructor:function(){this.beforeAxis=new b.com_ibm_rave_codegenerator_util_List;this.afterAxis=new b.com_ibm_rave_codegenerator_util_List;this.axis=new b.com_ibm_rave_codegenerator_util_List;this.elementsBeforeAxis=new b.com_ibm_rave_codegenerator_util_List;this.elementsAfterAxis=new b.com_ibm_rave_codegenerator_util_List;(function(a){this.sn_15=a}).apply(this,arguments)},addBeforeAxesItems:function(){this.addItems(this.beforeAxis)},addAfterAxesItems:function(){this.addItems(this.afterAxis)},
addAxesItems:function(){this.addItems(this.axis)},addItems:function(a){this.sn_15.addAll(a)}});b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo=b.com_ibm_init_declare({mo_6:0,constructor:function(){this.rf_1=new b.com_ibm_rave_codegenerator_util_Map;this.rp_1=new b.com_ibm_rave_codegenerator_util_Map;this.sf_1=new b.com_ibm_rave_codegenerator_util_Map;this.me_3=new b.com_ibm_rave_codegenerator_util_NumericSet},addRoutingInfo:function(a,d,c,e){c=c.toArray(Array(c.size()));a=b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.me$9(a,
d);this.rf_1.put(a,c);(null!=e||null==e&&null==this.rp_1.get(a))&&this.rp_1.put(a,e)},addSpecialStackGroupInfo:function(a,d,c){a=b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.me$9(a,d);this.sf_1.put(a,c)},getRoutingInfo:function(a,d){if(this.isManuallyPositioned(a)||this.isManuallyPositioned(d))return b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.NT_1;var c=b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.me$9(a,d),c=this.rf_1.get(c);c||(c=b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.NT_1);
return c},getRoutingGroupType:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.me$9(a,d);return this.rp_1.get(c)},getSpecialStackGroupInfo:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.me$9(a,d);return this.sf_1.get(c)},setSelfLinkRadius:function(a){this.su_5=a},getSelfLinkRadius:function(){return this.su_5},getGraphLayerRanges:function(){return this.le_35},getLayerIndexMap:function(){return this.la_1},setGraphLayerRanges:function(){},
setLayerInfo:function(a,b,c){this.ln_3=b;this.le_35=a;this.la_1=c},getIntraLayerLinkLevelCount:function(a){return this.ln_3[a]},setManuallyPositioned:function(a){this.me_3.add(a)},isManuallyPositioned:function(a){return this.me_3.contains(a)},getPaddedBounds:function(){return this.pd_1},setPaddedBounds:function(a){this.pd_1=a},getMinimalNodeSeparation:function(){return this.mo_6},setMinimalNodeSeparation:function(a){this.mo_6=a}});b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.me$9=
function(a,b){return"key"+a+"_"+b};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_SharedLayoutInfo.NT_1=[]});b.com_ibm_vis_engine_internal_Data=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_IdentifiableItem,{ct_3:!1,pn_5:!1,constructor:function(a,d,c){this.vis=d;this.spec=c;this.visContext=d.getVisContext();c.provider?(b.com_ibm_init_requireSync("com/ibm/vis/layers/dataProviderLayer"),this.de_7=b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.getInstance().getDataProvider(this,
d,c)):this.de_7=null;this.de_7&&!this.de_7.isReady()||this.continueDataCreation()},continueDataCreation:function(){if(!this.pn_5){this.pn_5=!0;this.de_7&&(this.de_7.setFields(),this.de_7.setRows());if(this.spec.source){this.sc_2=this.vis.getByID(this.spec.source.$ref);if(!this.sc_2)throw new b.com_ibm_vis_exceptions_internal_SpecException("The source '"+this.spec.source.$ref+"' was not found (a derived data table must follow its source in the specification)",b.com_ibm_vis_exceptions_ErrorCode.SPEC_UNABLE_TO_LOCATE_DATA);
this.mt$1(this.vis,this.spec)}else this.sc_2=null,this.rows=this.spec.rows?this.mw$1(this.spec.rows):[],this.fields=this.md$1(this.spec,this.vis);this.augmentation=this.at$1(this.spec,!0);this.visContext.lx_1.hasListeners()&&(this.visContext.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Info,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Built fields","fieldCount",this.fields.length),this.visContext.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Info,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Built rows",
"rowCount",this.rows.length));for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.fields,e=c.length;d<e;++d){var g=c[d];g.isKey&&a.add(g);g.range.isComplete()||this.isPdf()||(g.range=this.mg$1(g,this.rows),this.visContext.lx_1.hasListeners()&&this.visContext.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Trace,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Created default range","field",g.id))}if(0==a.size())this.keyField=null;else for(this.keyField=Array(a.size()),d=0;d<this.keyField.length;++d)this.keyField[d]=
a.get(d);this.ct_3=!0}},refreshRows:function(a){this.de_7&&this.de_7.setRows();this.isDerived()?(this.de_8.gn_2.iu_2=this.sc_2.rows,this.rows=this.de_8.calculate(this.sc_2.rows)):this.rows=a.rows?this.mw$1(a.rows):[];this.augmentation=this.at$1(a,!1)},isDerived:function(){return this.sc_2},mt$1:function(a,d){b.com_ibm_init_requireSync("com/ibm/vis/layers/dataTransformsLayer");for(var c=d.type,e=new b.com_ibm_rave_codegenerator_util_List,g=this.mn$4(d,a),k=-1,f=0,v=g.arrayIterator(),h=v.length;f<h;++f){var l=
v[f];"weight"==l.role&&(k=l.inputIndex)}f=this.mn$3(d,a,this.sc_2.rows,k,e);k=this.mn$5(d,a,e);this.fields=Array(e.size());h=v=0;e=e.arrayIterator();for(l=e.length;h<l;++h){var m=e[h];this.fields[v++]=m}e=new b.com_ibm_vis_engine_internal_data_transform_Grouping(f,this.sc_2.rows);c=this.mr$1(c,g,k,d,this.sc_2);this.de_8=new b.com_ibm_vis_engine_internal_data_DerivedData(e,c);this.rows=this.de_8.calculate(this.sc_2.rows);g=0;k=k.arrayIterator();for(e=k.length;g<e;++g)c.finishOutputField(k[g],this.sc_2.fields,
this.fields);g=this.fields.length;d.fields=Array(g);for(c=0;c<g;++c)d.fields[c]=this.fields[c].getFieldSpec();g=this.rows.length;d.rows=Array(g);for(c=0;c<g;++c)d.rows[c]=this.rows[c].data},at$1:function(a,d){var c=this.vis.getCurrentSpec();if(!c||!c.augment)return null;for(var e,g=0,k=c.augment,f=k.length;g<f;++g){var v=k[g];v.target||a!=c.data[0]||(e=v);v.target&&v.target.$ref==a.id&&(e=v)}if(!e)return null;c=b.com_ibm_vis_engine_internal_data_geo_GeoData.readFeatures(e.source,this.visContext,c);
c=e.sourceKeys?new b.com_ibm_vis_engine_internal_data_geo_GeoPropertiesMatcher(a,e.sourceKeys,e.dataKeys,b.com_ibm_vis_internal_SpecConstants.INCLUDEALLSOURCE==e.method,c,this.visContext):new b.com_ibm_vis_engine_internal_data_geo_NoDataMatcher(c);c=b.com_ibm_vis_engine_internal_data_geo_GeoData.read(e.thinningDistanceFraction,e.transform,e.includeInRange,c,this.visContext);this.aw$1(c);d&&this.ad$1(c,e.sourceFields,this.vis);this.aw$2(c,e.sourceFields);return c},aw$1:function(a){if(a.size()>this.rows.length){var d=
this.rows;this.rows=Array(a.size());for(a=0;a<d.length;++a)this.rows[a]=d[a];var c=b.com_ibm_rave_codegenerator_lang_Array.create([0==d.length?0:d[0].data.length],0);for(a=0;a<c.length;++a)c[a]=NaN;for(a=d.length;a<this.rows.length;++a)this.rows[a]=b.com_ibm_vis_engine_internal_data_Row.createRow(c,a)}},ad$1:function(a,d,c){if(d&&0!=d.length){var e=this.fields;this.fields=Array(e.length+d.length);for(var g=0;g<e.length;++g)this.fields[g]=e[g];for(g=0;g<d.length;++g){var k=d[g];k.categories||(k.categories=
a.propertyCategories(d[g].id));this.fields[g+e.length]=b.com_ibm_vis_engine_internal_data_Field.createSimpleField(c,k,this,g+e.length,null)}}},aw$2:function(a,d){if(d&&0!=d.length)for(var c,e=0;e<this.rows.length;++e){var g=this.rows[e];c=g.data.length;for(var k=b.com_ibm_vis_engine_internal_data_Row.createEmptyRow(this.fields.length,g.index),f=0;f<c;++f)k.data[f]=g.data[f];for(f=0;f<d.length;++f)g=a.getPropertyAsNumber(e,d[f].id),k.data[c+f]=null==g?NaN:g;this.rows[e]=k}},mr$1:function(a,d,c,e,g){b.com_ibm_init_requireSync("com/ibm/vis/layers/dataTransformsLayer");
var k;b.com_ibm_vis_engine_internal_data_transform_TransformType.isType("smooth",a)?k=new b.com_ibm_vis_engine_internal_data_transform_Smooth(d,c,this.visContext.lx_1,a):b.com_ibm_vis_engine_internal_data_transform_TransformType.isType("density",a)?k=new b.com_ibm_vis_engine_internal_data_transform_Density(d,c,this.visContext.lx_1):b.com_ibm_vis_engine_internal_data_transform_TransformType.isType("summary",a)?k=new b.com_ibm_vis_engine_internal_data_transform_Summary(d,c,this.visContext.lx_1,g):b.com_ibm_vis_engine_internal_data_transform_TransformType.isType("percent",
a)?k=new b.com_ibm_vis_engine_internal_data_transform_Percent(d,c,this.visContext.lx_1):b.com_ibm_vis_engine_internal_data_transform_TransformType.isType(b.com_ibm_vis_engine_internal_data_transform_TransformType.DISTRIBUTION,a)?k=new b.com_ibm_vis_engine_internal_data_transform_Distribution(d,c,this.visContext.lx_1,a):b.com_ibm_vis_engine_internal_data_transform_TransformType.isType("integrate",a)?k=new b.com_ibm_vis_engine_internal_data_transform_Integrate(d,c,this.visContext.lx_1):b.com_ibm_vis_engine_internal_data_transform_TransformType.isType("order",
a)&&(k=new b.com_ibm_vis_engine_internal_data_transform_Order(d,c,this.visContext.lx_1));if(!k)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("unknown transform "+a);return k},mn$3:function(a,d,c,e,g){var k=new b.com_ibm_rave_codegenerator_util_List,f=a.group;if(!f)return k;for(var v=0,h=f.length;v<h;++v){var l=f[v],m=d.getByID(l.input.$ref),p;if(p=l.output){var q=b.com_ibm_vis_engine_internal_data_Field.createSimpleField(d,p,this,g.size(),m.unit);q.copyDerivedInfo(m);!q.order&&p.order&&
q.categories&&(q.order=b.com_ibm_vis_engine_internal_data_Field.computeCategoriesOrder(q.categories,p.order));q.range||q.copyRange(m);g.add(q);p=b.com_ibm_vis_engine_internal_data_transform_DerivedField.createThroughputField("group",m.ie_4,q.ie_4,m.range,m.categories,null,p);m.isCategorical()||(null!=l.granularity&&(p.derivedField.granularity=l.granularity),this.sr$2(m,c,e,p),m=p.derivedField.granularity,null!=l.granularity&&(m=l.granularity),q.granularity=m)}else l=b.com_ibm_vis_engine_internal_Data.fI$1(a,
l.input.$ref),p=b.com_ibm_vis_engine_internal_data_transform_DerivedField.createInputField("group",m.ie_4,m.range,m.categories,null,l),m.isCategorical()||this.sr$2(m,c,e,p);k.add(p)}return k},sr$2:function(a,d,c,e){if(null!=a.granularity)e.derivedField.granularity=a.granularity;else{var g=0;if(0>c)g=d.length;else for(var k=0,f=d.length;k<f;++k){var v=d[k].data[c];v==v&&0<v&&(g+=v)}c=Math.round(3+Math.log(g)*Math.log(g)/Math.log(20));4>c&&(c=4);g=new b.com_ibm_vis_engine_internal_grammar_scale_ScaleFitInfo(!0,
!1,null);g=b.com_ibm_vis_engine_internal_grammar_scale_ScaleSpanBuilder.createForRange(a.range,a.unit,g,c,null,a.se_23,this.visContext,null,null);k=!1;f=0;for(g.setupForExtent(b.com_ibm_vis_engine_internal_grammar_scale_ScaleGeometry.makeUnsized(!1));!k;)g.setupForTickCount(c,c),v=Math.min(4,d.length),this.gt$4(g,d,a)<v?c++:k=!0,f++,15<f&&(k=!0);a=g.getTickMin();d=g.getTickSize();null==e.parameters.binStart&&(e.parameters.binStart=a);null==e.derivedField.granularity&&(e.outputGranularity=d,e.derivedField.granularity=
d)}},gt$4:function(a,d,c){var e=a.getTickMin();a=a.getTickSize();for(var g=new b.com_ibm_rave_codegenerator_util_List,k=0;k<d.length;++k){var f=d[k].data[c.ie_4];f==f&&(f=(Math.floor((f-e)/a)+.5)*a+e+"|",this.cn$6(g,f)||g.add(f))}return g.size()},cn$6:function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c)if(e[c]==b)return!0;return!1},mn$4:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List,e=a.input;if(!e)return c;for(var g=0,k=e.length;g<k;++g){var f=e[g],v=f.role,f=d.getByID(f.field.$ref),
v=b.com_ibm_vis_engine_internal_data_transform_DerivedField.createInputField(v,f.ie_4,f.range,f.categories,null,null);c.add(v)}return c},mn$5:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;a=a.output;if(!a)return e;for(var g=0,k=a.length;g<k;++g){var f=a[g],v=f.role,h=f.field;h||(h=new b.com_ibm_vis_spec_internal_FieldSpec);var l=b.com_ibm_vis_engine_internal_data_Field.createSimpleField(d,h,this,c.size(),null),m=null;if(f.input){var p=d.getByID(f.input.$ref);p&&(null==h.unit&&(l.unit=
p.unit),l.copyDerivedInfo(p),m=b.com_ibm_vis_engine_internal_data_transform_DerivedField.createThroughputField(v,p.ie_4,l.ie_4,p.range,p.categories,f.parameters,f.field))}else m=b.com_ibm_vis_engine_internal_data_transform_DerivedField.createOutputField(v,l.ie_4,f.parameters,f.field);c.add(l);e.add(m)}return e},md$1:function(a,d){if(!a||!a.fields)return[];for(var c=a.fields,e=Array(c.length),g=0;g<e.length;++g)e[g]=b.com_ibm_vis_engine_internal_data_Field.createSimpleField(d,c[g],this,g,null);return e},
mg$1:function(a,b){return a.range.isComplete()?a.range:a.range.complete(this.cg$4(a,b))},cg$4:function(a,d){var c=b.com_ibm_vis_engine_internal_data_Range.EMPTY;a.unit==b.com_ibm_vis_engine_internal_grammar_units_Unit.COUNT&&(c=new b.com_ibm_vis_engine_internal_data_Range(0,0));for(var e=a.ie_4,g=0,k=d.length;g<k;++g){var f=d[g];f.data.length>e&&(f=f.data[e],f==f&&(c=c.unionValue(f)))}return c},mw$1:function(a){for(var d=Array(a.length),c=0;c<d.length;++c)d[c]=b.com_ibm_vis_engine_internal_data_Row.createRow(a[c],
c);return d},getKey:function(a){return this.me$8(a,this.keyField)},me$8:function(a,b){if(!b)return null;for(var c=b[0].getUnformattedStringValue(a,!1),e=1;e<b.length;++e)c+="|"+b[e].getUnformattedStringValue(a,!1);return c},getKeyWithDefaultFields:function(a,b){return this.me$8(a,this.keyField?this.keyField:b)},matchDensityWithAreaUnderCurve:function(a){if(this.isPdf()){this.de_8.getTransform().setMultiplier(a);this.rows=this.de_8.calculate(this.sc_2.rows);for(var d=0,c=this.fields,e=c.length;d<e;++d){var g=
c[d];if(a!=a||g.ie_4==this.de_8.getTransform().getOutputIndex("y"))g.range=b.com_ibm_vis_engine_internal_data_Range.EMPTY,g.range=this.mg$1(g,this.rows)}}},isPdf:function(){return this.de_8&&this.de_8.getTransform().isPdf()},isComplete:function(){return this.ct_3}});b.com_ibm_vis_engine_internal_Data.fI$1=function(a,b){if(!a.fields||null==b)return null;for(var c=0,e=a.fields,g=e.length;c<g;++c){var k=e[c];if(b==k.id)return k}return null};b.com_ibm_vis_engine_internal_data_geo_GeoData=b.com_ibm_init_declare({tc_1:0,
to_3:0,ig_1:!1,cf_1:0,ch_3:0,size:function(){return this.types.size()},fn$1:function(a){var d=a.length;if(0!=d){var c=a[0];if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c)){if(2==d){var c=a[0],e=a[1],g=0;b.com_ibm_vis_engine_internal_data_geo_GeoData.rn_2.containsPt(c,e)?g=-360:b.com_ibm_vis_engine_internal_data_geo_GeoData.ln_2.containsPt(c,e)&&(g=360);0!=g&&b.com_ibm_rave_codegenerator_util_BasicFactory.setAt(a,c+g,0)}}else if(2==c.length&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c[0])){for(var k=
0,f=0,v=0,h=0;h<d;++h)e=a[h],c=e[0],e=e[1],b.com_ibm_vis_engine_internal_data_geo_GeoData.rn_2.containsPt(c,e)?f++:b.com_ibm_vis_engine_internal_data_geo_GeoData.ln_2.containsPt(c,e)?k++:v++;g=0;f>k&&f>v?g=-360:k>v&&(g=360);if(0!=g)for(h=0;h<d;++h)e=a[h],c=e[0]+g,b.com_ibm_rave_codegenerator_util_BasicFactory.setAt(e,c,0)}else for(h=0;h<d;++h)this.fn$1(a[h])}},ar$1:function(a,b,c){1==this.to_3&&this.fn$1(b);this.types.add(a);this.coords.add(b);this.properties.add(c);this.id$1(this.gd_3,b)},ar$2:function(){this.types.add(null);
this.coords.add(null);this.properties.add(null)},constructor:function(a,d,c,e){this.cx_4=e;this.tc_1=a;this.ig_1=c.valueOf();a=1;null!=d&&("none"==d?a=0:"dateline"==d&&(a=1));this.to_3=a;this.gd_3=[Infinity,-Infinity,Infinity,-Infinity];this.coords=new b.com_ibm_rave_codegenerator_util_List;this.types=new b.com_ibm_rave_codegenerator_util_List;this.properties=new b.com_ibm_rave_codegenerator_util_List;this.catPropertyMap=new b.com_ibm_rave_codegenerator_util_Map},featureCenter:function(a){var b=this.featurePolygons(a);
if(!b)return this.se$4(a);for(var c=0,e,g=0,k=b.length;g<k;++g){var f=b[g],v=f.area();v>c&&(e=f.centroid(),c=v)}return e?e:this.se$4(a)},se$4:function(a){return(a=this.featureBounds(a))?a.getCenter():null},featurePolygons:function(a){null==this.absTol&&(this.absTol=Math.min(this.gd_3[1]-this.gd_3[0],this.gd_3[3]-this.gd_3[2])*this.tc_1);var d=this.types.get(a),c=this.coords.get(a);c&&this.cx_4.lx_1.isTracing()&&this.cx_4.lx_1.hasListeners()&&this.cx_4.lx_1.trace(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,
"Feature "+a+" of type '"+d+"' contains "+c.length+" parts");if(!c)return null;if("LineString"==d)return(d=this.mp$1(c,!1))?[d]:null;if("MultiLineString"==d)return(d=this.cn$5(c,!1))?[d]:null;if("Polygon"==d)return(d=this.cn$5(c,!0))?[d]:null;if("MultiPolygon"==d){var e=c.length;a=new b.com_ibm_rave_codegenerator_util_List;for(var g=0;g<e;++g)(d=this.cn$5(c[g],!0))&&a.add(d);if(a.isEmpty())return null;this.antimeridianMerge(a);c=Array(a.size());for(d=0;d<c.length;++d)c[d]=a.get(d);return c}return null},
getAbsoluteTolerance:function(){null==this.absTol&&(this.absTol=Math.min(this.gd_3[1]-this.gd_3[0],this.gd_3[3]-this.gd_3[2])*this.tc_1);return this.absTol},featurePoints:function(a){var d=this.coords.get(a);if(!d)return null;var c=this.types.get(a);d&&this.cx_4.lx_1.isTracing()&&this.cx_4.lx_1.hasListeners()&&this.cx_4.lx_1.trace(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Feature "+a+" of type '"+c+"' contains "+d.length+" parts");if("MultiPoint"==c)return this.getPoints(d,!1);a=this.featureCenter(a);
d=new b.com_ibm_rave_codegenerator_util_List;d.add(a);return d},getCountLeft:function(){return this.cf_1},getCountRight:function(){return this.ch_3},getIndicesLeft:function(){return this.if_1},getIndicesRight:function(){return this.ih_1},antimeridianMerge:function(a){if(this.createAntimeridianPolyList(a)){for(var b=0;b<this.cf_1;++b)for(var c=a.get(this.if_1[b]),e=c.getBounds(),g=0;g<this.ch_3;++g){var k=a.get(this.ih_1[g]);if(k){var f=k.getBounds();if(!(e.y>f.getY2()||e.getY2()<f.y)){c=this.mergePolys(c,
k);a.set(this.if_1[b],c);a.set(this.ih_1[g],null);break}}}for(b=0;b<a.size();++b)a.get(b)||a.removeAt(b);this.ih_1=this.if_1=null}},mergePolys:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=e=0,k=0,f=0,e=0;e<a.x.length&&1E-6>Math.abs(a.x[e]-180);++e);for(;e<a.x.length&&1E-6<Math.abs(a.x[e]-180);++e)c.add(new b.com_ibm_vis_geom_Point(a.x[e],a.y[e]));g=e-1;e==a.x.length&&(g=e=0);for(;e<a.x.length&&1E-6>Math.abs(a.x[e]-180);++e);k=e;for(e=0;e<d.x.length&&(1E-6<Math.abs(d.x[e]-
180)||1E-6<Math.abs(d.y[e]-a.y[g]));++e);f=e-1;e==d.x.length&&(f=e=0);for(;e<d.x.length&&1E-6<Math.abs(d.x[e]-180);++e)c.add(new b.com_ibm_vis_geom_Point(d.x[e],d.y[e]));for(e=0;e<f&&1E-6<Math.abs(d.x[e]-180);++e)c.add(new b.com_ibm_vis_geom_Point(d.x[e],d.y[e]));if(0!=g)for(e=k;e<a.x.length&&1E-6<Math.abs(a.x[e]-180);++e)c.add(new b.com_ibm_vis_geom_Point(a.x[e],a.y[e]));g=c.size();if(2>=g)return null;k=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);f=b.com_ibm_rave_codegenerator_lang_Array.create([g],
0);for(e=0;e<g;++e){var v=c.get(e);k[e]=v.x;f[e]=v.y}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(k,f,!0,null)},createAntimeridianPolyList:function(a){this.if_1=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0);this.ih_1=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0);for(var d=this.ch_3=this.cf_1=0;d<a.size();++d){var c=a.get(d).getBounds();1E-6>Math.abs(c.getX2()-180)?this.if_1[this.cf_1++]=d:1E-6>Math.abs(c.x-180)&&(this.ih_1[this.ch_3++]=d)}return 0==this.cf_1&&
0==this.ch_3?!1:!0},cn$5:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=a.length,g=0;g<e;++g){var k=this.mp$1(a[g],d);if(1==e)return k;k&&c.add(k)}if(c.isEmpty())return null;for(var f=d?c.size():0,e=0,g=c.arrayIterator(),v=g.length;e<v;++e)k=g[e],f+=k.length();for(var e=b.com_ibm_rave_codegenerator_lang_Array.create([f],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([f],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([f],0),h=v=0,c=c.arrayIterator(),l=c.length;h<l;++h){for(var k=
c[h],m=0;m<k.length();m++,v++)e[v]=k.x[m],g[v]=k.y[m],f[v]=0==m?77:76;d&&(e[v]=e[0],g[v]=g[0],f[v++]=90)}return new b.com_ibm_vis_engine_internal_struct_Path(e,g,d,f)},getPoints:function(a,d){var c=a.length;d&&c--;for(var e=new b.com_ibm_rave_codegenerator_util_List,g=new b.com_ibm_vis_geom_Point(Infinity,-Infinity),k=0;k<c;++k){var f=a[k],f=new b.com_ibm_vis_geom_Point(f[0],f[1]);f.distance(g)>this.getAbsoluteTolerance()&&(e.add(f),g=f)}return e},mp$1:function(a,d){var c=this.getPoints(a,d),e=c.size();
if(2>e||2==e&&d)return null;for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),k=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),f=0;f<e;++f){var h=c.get(f);g[f]=h.x;k[f]=h.y}return new b.com_ibm_vis_engine_internal_struct_ShapePoly(g,k,d,null)},featureBounds:function(a){a=this.coords.get(a);if(!a)return null;var d=[Infinity,-Infinity,Infinity,-Infinity];this.id$1(d,a);return new b.com_ibm_vis_geom_Rect(d[0],d[2],d[1]-d[0],d[3]-d[2])},id$1:function(a,d){if(d)for(var c=d.length,
e=0;e<c;++e){var g=d[e];b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(g)?0==e?(a[0]=Math.min(a[0],g),a[1]=Math.max(a[1],g)):(a[2]=Math.min(a[2],g),a[3]=Math.max(a[3],g)):this.id$1(a,g)}},getGlobalBounds:function(){return new b.com_ibm_vis_geom_Rect(this.gd_3[0],this.gd_3[2],this.gd_3[1]-this.gd_3[0],this.gd_3[3]-this.gd_3[2])},getProperty:function(a,b){var c=this.properties.get(a);return c?c[b]:null},propertyCategories:function(a){for(var d=!1,c=new b.com_ibm_rave_codegenerator_util_Map,
e=0,g=this.properties.arrayIterator(),k=g.length;e<k;++e){var f=g[e];f&&(f=f[a],null!=f&&(d=!0,b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)&&c.put(f,f)))}if(!d)throw this.cx_4.lx_1.hasListeners()&&this.cx_4.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Error,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Could not find property in Geo Data","property",a),new b.com_ibm_vis_exceptions_internal_EngineException('Geo augment failed to find property for key "'+a+'".',b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_PROPERTY_IN_GEO_AUGMENT);
if(0==c.size())return null;d=Array(c.size());g=e=0;c=c.keySet().arrayIterator();for(k=c.length;g<k;++g)f=c[g],d[e++]=f;b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);c=new b.com_ibm_rave_codegenerator_util_Map;for(e=0;e<d.length;++e)c.put(d[e],e);this.catPropertyMap.put(a,c);return d},getPropertyAsNumber:function(a,d){var c=this.getProperty(a,d);if(null==c)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c))return c;var e=this.catPropertyMap.get(d);e||(this.propertyCategories(d),
e=this.catPropertyMap.get(d));return e.get(c)},getIncludeInRange:function(){return this.ig_1}});b.com_ibm_vis_engine_internal_data_geo_GeoData.read=function(a,d,c,e,g){a=new b.com_ibm_vis_engine_internal_data_geo_GeoData(a,d,c,g);for(c=d=0;c<e.totalRowCount();++c){var k=e.getFeatures(c);if(k&&0!=k.length){1<k.length&&g.lx_1.hasListeners()&&g.lx_1.warning(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Data row "+c+" with key '"+e.getFeatureKey(c)+"' has multiple matches, using the first match to show the data");
var f=k[0].geometry;a.ar$1(f.type,f.coordinates,k[0].properties);d++}else a.ar$2()}g.lx_1.hasListeners()&&g.lx_1.info(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Found features for "+d+" data rows");return a};b.com_ibm_vis_engine_internal_data_geo_GeoData.readFeatures=function(a,d,c){a=(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?b.com_ibm_vis_engine_internal_resource_ResourceService.getInstance().getResourceForAugmentedGeoData(a):b.com_ibm_vis_engine_internal_resource_ResourceService.getInstance().getResource(a,
c)).features;if(!a)throw d.lx_1.hasListeners()&&d.lx_1.error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"No features in GeoJSON file"),new b.com_ibm_vis_exceptions_internal_EngineException("No features found in GeoJSON file.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_EMPTY_GEO_JSON);return a};b.com_ibm_vis_engine_internal_data_geo_GeoData.getFeatures=function(a){a=a.features;if(!a)throw new b.com_ibm_vis_exceptions_internal_EngineException("No features found in GeoJSON file.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_EMPTY_GEO_JSON);
return a};b.com_ibm_vis_engine_internal_data_geo_GeoData.DEFAULT_THIN=.001;b.com_ibm_vis_engine_internal_data_geo_GeoData.TN_5=0;b.com_ibm_vis_engine_internal_data_geo_GeoData.TN_4=1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineLeftX=[-360,-180,-180,-169,-169,-180,-190,-180,-180,-159.65,-159.65,-161.85,-161.85,-155.95,-150.65,-150.65,-156.05,-156.05,-178.05,-172.75,-172.75,-180,-180,-360];b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineSharedY=
[90,90,75,68,65,60,53,48,-.9,-.9,2.9,2.9,5,5,-7.8,-10,-10,-7.8,-7.8,15,-45,-51.182,-90,-90];for(var a=b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineLeftX.length,d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=1;c<a-1;++c)d[c]=b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineLeftX[c]+360;d[0]=360;d[a-1]=360;b.com_ibm_vis_engine_internal_data_geo_GeoData.ln_2=new b.com_ibm_vis_geom_Poly(b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineLeftX,b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineSharedY,
!0);b.com_ibm_vis_engine_internal_data_geo_GeoData.rn_2=new b.com_ibm_vis_geom_Poly(d,b.com_ibm_vis_engine_internal_data_geo_GeoData.dateLineSharedY,!0)});b.com_ibm_vis_engine_internal_data_geo_GeoMatcher=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_data_geo_GeoPropertiesMatcher=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_geo_GeoMatcher,{ic_3:!1,constructor:function(a,d,c,e,g,k){this.sy_1=d;this.ic_3=e;this.cx_5=k;this.rows=a.rows;this.fd_1=a.fields;this.de_6=b.com_ibm_rave_codegenerator_lang_Array.create([c.length],
0);for(d=0;d<c.length;++d){var f=c[d].$ref;this.de_6[d]=-1;for(e=0;e<a.fields.length;++e)a.fields[e].id==f&&(this.de_6[d]=e);if(-1==this.de_6[d])throw k.lx_1.hasListeners()&&k.lx_1.error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Could not find field for augmentation"),new b.com_ibm_vis_exceptions_internal_EngineException("Augmentation requested a non-existent field.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_KEY_IN_GEO_AUGMENT);}this.dy_1=Array(this.rows?this.rows.length:0);a=this.me$4(g);
this.ou_1=Array(a.size());for(d=0;d<this.ou_1.length;++d)if(c=a.get(d))for(this.ou_1[d]=Array(c.size()),e=0;e<c.size();++e)this.ou_1[d][e]=g[c.get(e)]},me$4:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=a.length,e=b.com_ibm_rave_codegenerator_lang_Array.create([c],!1);this.cx_5.lx_1.hasListeners()&&this.cx_5.lx_1.log(b.com_ibm_vis_monitor_LogLevel.Detail,b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Read GeoJSON","featureCount",c);for(var g=new b.com_ibm_rave_codegenerator_util_Map(this.rows.length),
k=0;k<c;++k){var f=this.me$6(a[k]);if(null!=f){var h=g.get(f);h||(h=new b.com_ibm_rave_codegenerator_util_List(1),g.put(f,h));h.add(k)}}if(0==g.size())throw this.cx_5.lx_1.hasListeners()&&this.cx_5.lx_1.error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"Could not find any matches for the source keys in the augmentation"),new b.com_ibm_vis_exceptions_internal_EngineException("Failed to match property in GeoJSON.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNMATCHED_PROPERTY_IN_GEO_AUGMENT);for(k=
0;k<this.rows.length;++k){f=this.me$5(this.rows[k]);this.dy_1[k]=f;if((h=g.get(f))&&this.ic_3)for(a=0;a<h.size();++a)e[h.get(a)]=!0;d.add(h)}if(this.ic_3)for(k=0;k<e.length;++k)e[k]||(g=new b.com_ibm_rave_codegenerator_util_List(1),g.add(k),d.add(g));return d},me$5:function(a){for(var d,c=0,e=this.de_6,g=e.length;c<g;++c){var k=e[c],f=a[k];if(f!=f)return null;f=(k=this.fd_1[k].categories)?k[f].toLowerCase():b.com_ibm_rave_codegenerator_util_BasicFactory.unformattedNumber(f);d=null==d?f:d+"|"+f}return d},
me$6:function(a){a=a.properties;for(var d,c=0,e=this.sy_1,g=e.length;c<g;++c){var k=a[e[c]];if(null==k)return null;k=b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(k)?b.com_ibm_rave_codegenerator_util_BasicFactory.unformattedNumber(k):k.toLowerCase();d=null==d?k:d+"|"+k}return d},totalRowCount:function(){return this.ou_1.length},getFeatures:function(a){return this.ou_1[a]},getFeatureKey:function(a){return a<this.dy_1.length?this.dy_1[a]:null}});b.com_ibm_vis_engine_internal_data_geo_NoDataMatcher=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_geo_GeoMatcher,{constructor:function(a){this.fe_2=a},totalRowCount:function(){return this.fe_2.length},getFeatures:function(a){return[this.fe_2[a]]},getFeatureKey:function(a){return null}});b.com_ibm_vis_engine_internal_data_transform_DerivedField=b.com_ibm_init_declare({inputIndex:0,outputIndex:0,constructor:function(a,d,c,e,g,k,f){this.role=a;this.inputIndex=d;this.outputIndex=c;this.categories=g;this.inputRange=e;this.parameters=b.com_ibm_vis_engine_internal_data_transform_DerivedField.cr$4(k);
this.derivedField=b.com_ibm_vis_engine_internal_data_transform_DerivedField.ce$14(f)}});b.com_ibm_vis_engine_internal_data_transform_DerivedField.createInputField=function(a,d,c,e,g,k){return new b.com_ibm_vis_engine_internal_data_transform_DerivedField(a,d,-1,c,e,g,k)};b.com_ibm_vis_engine_internal_data_transform_DerivedField.createOutputField=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_data_transform_DerivedField(a,-1,d,null,null,c,e)};b.com_ibm_vis_engine_internal_data_transform_DerivedField.createThroughputField=
function(a,d,c,e,g,k,f){return new b.com_ibm_vis_engine_internal_data_transform_DerivedField(a,d,c,e,g,k,f)};b.com_ibm_vis_engine_internal_data_transform_DerivedField.ce$14=function(a){var d=new b.com_ibm_vis_spec_internal_FieldSpec;if(!a)return d;d.id=a.id;d.categories=a.categories;d.format=a.format;d.granularity=a.granularity;d.key=a.key;d.label=a.label;d.max=a.max;d.min=a.min;d.unit=a.unit;d.order=a.order;return d};b.com_ibm_vis_engine_internal_data_transform_DerivedField.cr$4=function(a){var d=
new b.com_ibm_vis_spec_internal_DerivedParameterSpec;if(!a)return d;d.binStart=a.binStart;d.summaryFunction=a.summaryFunction;d.window=a.window;d.addTotalCategory=a.addTotalCategory;d.sortCategories=a.sortCategories;d.replicate=a.replicate;d.ascending=a.ascending;return d};b.com_ibm_vis_engine_internal_nativeImpl_VisState=b.com_ibm_init_declare({constructor:function(a){this.vis=a},isSpecSet:function(){return!0},getSceneTree:function(){return this.sceneTree},setSceneTree:function(a){this.sceneTree=
a}});b.com_ibm_vis_engine_internal_nativeImpl_ThreadHelper=b.com_ibm_init_declare({updateSceneTree:function(a,d,c){d=a.updateSceneTreeInternal(d);null==c&&(c=new b.com_ibm_vis_engine_internal_nativeImpl_VisState(a));c.setSceneTree(d);return c},makeSceneTree:function(a,d,c,e){a.getVisContext().setConstructionFlags(e);d=a.makeSceneTreeImpl(d);null==c&&(c=new b.com_ibm_vis_engine_internal_nativeImpl_VisState(a));c.setSceneTree(d);return c},setSpecification:function(a,d){a.setTypedSpecificationInternal(d);
return new b.com_ibm_vis_engine_internal_nativeImpl_VisState(a)},updateSpecificationData:function(a,d){a.updateSpecificationDataInternal(d);return new b.com_ibm_vis_engine_internal_nativeImpl_VisState(a)},isInterrupted:function(){return!1},dispose:function(){},executeInteractivity:function(a){a.run()}});b.com_ibm_vis_engine_configuration_ContrastParameters=b.com_ibm_init_declare({fo_1:0,mr_1:!1,uo_2:!1,ar_1:!1,uo_1:!1,bx_1:!1,dz_1:0,constructor:function(){this.bx_1=this.uo_1=!0;this.fo_1=1;this.bo_1=
"white";this.to_1="black";this.dz_1=12},isUseTextForColor:function(){return this.uo_1},setUseTextForColor:function(a){this.uo_1=a},isAlwaysHaveBorders:function(){return this.ar_1},setAlwaysHaveBorders:function(a){this.ar_1=a},isUseTooltipsForColor:function(){return this.uo_2},setUseTooltipsForColor:function(a){this.uo_2=a},setTextAndBackgroundColors:function(a,b){this.to_1=a;this.bo_1=b},getTextColor:function(){return this.to_1},getBackgroundColor:function(){return this.bo_1},getFontMagnification:function(){return this.fo_1},
setFontMagnification:function(a){this.fo_1=a},isBoldText:function(){return this.bx_1},setBoldText:function(a){this.bx_1=a},isMayExpandChart:function(){return this.mr_1},setMayExpandChart:function(a){this.mr_1=a},getDefaultFontSize:function(){return this.dz_1},setDefaultFontSize:function(a){this.dz_1=a},copy:function(){var a=new b.com_ibm_vis_engine_configuration_ContrastParameters;a.ar_1=this.ar_1;a.bx_1=this.bx_1;a.fo_1=this.fo_1;a.bo_1=this.bo_1;a.to_1=this.to_1;a.mr_1=this.mr_1;a.uo_1=this.uo_1;
a.uo_2=this.uo_2;a.dz_1=this.dz_1;return a}});b.com_ibm_vis_engine_internal_VisContext=b.com_ibm_init_declare({mz_6:-1,tx_1:!1,gt_4:!1,fe_9:0,handlingSceneTree:!1,cg_2:0,constructor:function(){this.uc_1=b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.usesFractionalMetrics;this.en_8=new b.com_ibm_rave_codegenerator_util_Map;this.km_1=new b.com_ibm_rave_codegenerator_util_Map;(function(a,d){this.pi_3=a;this.visId=d;this.lx_1=new b.com_ibm_vis_monitor_internal_LoggerImpl;this.formatContext=
new b.com_ibm_vis_engine_internal_FormatContext(this);this.gt_4=!1;this.mz_6=b.com_ibm_vis_engine_internal_AccessibilityOptions.getInstance().getMinimumFontSize();this.tx_1=!0}).apply(this,arguments)},dispose:function(){this.pi_3=null;b.com_ibm_vis_engine_internal_ColorCache.getColorCache().dispose()},getParentVis:function(){return this.pi_3},getLogger:function(){return this.lx_1},setLogger:function(a){a&&(this.lx_1=a)},setLocalization:function(a){if(this.le_37!=a){this.le_37=a;this.ll_3=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getLocaleStringFromSpec(a);
if(null!=this.ll_3&&!b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.isValid(this.ll_3))throw new b.com_ibm_vis_exceptions_internal_SpecException("Invalid Locale String.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);this.uf$1()}},getLocalizationSpec:function(){return this.le_37},getLocale:function(){return this.ll_3},setGenerateAccessibility:function(a){this.gt_4=a},getGenerateAccessibility:function(){return this.gt_4},uf$1:function(){this.sf_3=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getShapingInfo(this.le_37)},
getNumericShapingInfo:function(){this.sf_3||(this.sf_3=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getShapingInfo(this.le_37));return this.sf_3},setNativeStringMeasuring:function(a){a==b.com_ibm_vis_engine_internal_scene_FontMetricType.NATIVE.toString()?this.setFontMetricType(b.com_ibm_vis_engine_internal_scene_FontMetricType.NATIVE):a==b.com_ibm_vis_engine_internal_scene_FontMetricType.PRECOMPUTED.toString()&&this.setFontMetricType(b.com_ibm_vis_engine_internal_scene_FontMetricType.PRECOMPUTED)},
getMinimumFontSize:function(){return 0<this.mz_6?this.mz_6:null},setMinimumFontSize:function(a){this.mz_6=null==a?-1:a},setFacetIndex:function(a){this.fe_9=a},getFacetIndex:function(){return this.fe_9},getTooltipsForTruncatedText:function(){return this.tx_1},setTooltipsForTruncatedText:function(a){this.tx_1=a},getZoomUnit:function(){return this.zi_1},setZoomUnit:function(a){this.zi_1=a},getFontMetricType:function(){return b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.fontMetricType},setFontMetricType:function(a){b.com_ibm_vis_engine_internal_nativeImpl_PlatformDefaults.fontMetricType=
a},usesFractionalMetrics:function(){return this.uc_1},setUsesFractionalMetrics:function(a){this.uc_1=a},getContrastConverter:function(){return this.ce_20},setContrast:function(a){b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility");if(!a&&!this.ce_20)return!1;if(!a)return this.ce_20=null,!0;this.ce_20=new b.com_ibm_vis_internal_accessibility_ContrastConverter(a,this.mz_6);return!0},copySettings:function(a){this.formatContext.copySettingsFrom(a.formatContext);this.lx_1=a.lx_1;this.tx_1=
a.tx_1;this.ce_20=a.ce_20;this.setMinimumFontSize(a.getMinimumFontSize())},needsRelayout:function(){return 0==(this.cg_2&2)&&0==(this.cg_2&1)},setConstructionFlag:function(a,b){this.cg_2=b?this.cg_2|a:this.cg_2&~a},setConstructionFlags:function(a){this.cg_2=a},isUpdateViewport:function(){return 0!=(this.cg_2&2)},isViewportPan:function(){return 0!=(this.cg_2&8)},isGenerateAllTicks:function(){return 0!=(this.cg_2&4)},isUpdateDataOnly:function(){return 0!=(this.cg_2&1)},resetConstructionFlags:function(){this.cg_2=
0},isHandlingSceneTree:function(){return this.handlingSceneTree},setHandlingSceneTree:function(a){this.handlingSceneTree=a},putStoredItem:function(a,b){this.en_8.put(a,b);this.km_1.put(a,b)},getStoredItem:function(a){var b=this.en_8.get(a);null!=b&&this.km_1.put(a,b);return b},cleanUp:function(){this.en_8=this.km_1;this.km_1=new b.com_ibm_rave_codegenerator_util_Map}});b.com_ibm_vis_engine_internal_VisContext.CF_NONE=0;b.com_ibm_vis_engine_internal_VisContext.CF_UPDATE_DATA=1;b.com_ibm_vis_engine_internal_VisContext.CF_UPDATE_VIEWPORT=
2;b.com_ibm_vis_engine_internal_VisContext.CF_GENERATE_ALL_TICKS=4;b.com_ibm_vis_engine_internal_VisContext.CF_VIEWPORT_PAN=8;b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo=b.com_ibm_init_declare({type:1,nd_3:0,sd_2:0,constructor:function(a,b,c,e){this.type=a;this.nd_3=b;this.ce_15=c;this.sd_2=e},isNational:function(){return 0!=(this.type&2)},isContextual:function(){return 0!=(this.type&4)},isNone:function(){return 0!=(this.type&1)},getNationalDigitCode:function(){return this.nd_3},
getContextualDigitCodes:function(){return this.ce_15},getStartingContextCode:function(){return this.sd_2}});b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getDigitCode=function(a){a=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.get(a);return null==a?b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.get(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EA_1):a};b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getDigitCodes=
function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c){var g=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getDigitCode(a[c]);d.add(g)}a=b.com_ibm_rave_codegenerator_lang_Array.create([d.size()],0);for(c=0;c<a.length;++c)a[c]=d.get(c);return a};b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getShapingInfo=function(a){if(a){if(a.nationalShaping){var d=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getDigitCode(a.nationalShaping.digits);
return new b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo(2,d,null,0)}if(a.contextualShaping)return d=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getDigitCodes(a.contextualShaping.digits),a=b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.getDigitCode(a.contextualShaping.defaultContext),new b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo(4,0,d,a)}return new b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo(1,0,null,0)};b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.NONE=
1;b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.NA_1=2;b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.CA_2=4;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.AI_1="ARABIC";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.BL_1="BENGALI";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.DR_2="DEVANAGARI";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EI_1=b.com_ibm_vis_internal_SpecConstants.EASTERN_ARABIC;
b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EI_2="ETHIOPIC";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EA_1="EUROPEAN";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.GT_1="GUJARATI";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.GH_1="GURMUKHI";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.KD_1="KANNADA";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.KE_2="KHMER";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.LAO=
"LAO";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.MA_1="MALAYALAM";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.MA_2="MONGOLIAN";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.MA_3="MYANMAR";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.OY_1="ORIYA";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.TI_1="TAMIL";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.TG_1="TELUGU";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.THAI=
"THAI";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.TA_5="TIBETAN";b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.AI_1,1);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.BL_1,4);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.DR_2,
3);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EI_1,2);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EI_2,16);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.EA_1,0);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.GT_1,
6);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.GH_1,5);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.KD_1,10);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.KE_2,17);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.LAO,
13);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.MA_1,11);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.MA_2,18);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.MA_3,15);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.OY_1,
7);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.TI_1,8);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.TG_1,9);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.THAI,12);b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.da_3.put(b.com_ibm_vis_engine_internal_globalization_NumericShapingInfo.TA_5,
14)});b.com_ibm_vis_engine_internal_FormatContext=b.com_ibm_init_declare({constructor:function(a){this.integratorDateFormatter=this.integratorStringFormatter=this.integratorNumberFormatter=null;this.de_9=b.com_ibm_vis_engine_internal_format_RAVEFormatter.make(null,"","",!1,b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale());this.vx_1=a},formatNumber:function(a,d,c,e,g,k){var f,h=this.vx_1&&null!=this.vx_1.ll_3?this.vx_1.ll_3:b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale();
null!=a&&b.com_ibm_rave_codegenerator_lang_Double.isNaN(a)&&(a=null);this.integratorLocalizedNumberFormatter&&(f=this.integratorLocalizedNumberFormatter.formatLocalizedNumber(a,c,e,g.min,g.max,k.name,this.vx_1.visId,h));if(null!=f)return f;this.integratorNumberFormatter&&(f=this.integratorNumberFormatter.formatNumber(a,c,e,g.min,g.max,k.name,this.vx_1.visId));return null!=f?f:d?d.formatLocalizedNumberRange(a,c,e,g,k.name,this.vx_1.visId,h):this.de_9.formatLocalizedNumberRange(a,c,e,g,k.name,this.vx_1.visId,
h)},formatToExponential:function(a,d,c,e){var g=this.vx_1&&null!=this.vx_1.ll_3?this.vx_1.ll_3:b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale();null!=a&&b.com_ibm_rave_codegenerator_lang_Double.isNaN(a)&&(a=null);return e.formatToExponential(a,d,c,g)},formatString:function(a,b,c,e){var g;this.integratorStringFormatter&&(g=this.integratorStringFormatter.formatString(a,c,e,this.vx_1.visId));return null!=g?g:b?b.formatString(a,c,e,this.vx_1.visId):this.de_9.formatString(a,c,e,this.vx_1.visId)},
formatDate:function(a,d,c,e,g,k){var f,h=this.vx_1&&null!=this.vx_1.ll_3?this.vx_1.ll_3:b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getDefaultLocale();this.integratorLocalizedDateFormatter&&(f=this.integratorLocalizedDateFormatter.formatLocalizedDate(a,c,e,g.name,this.vx_1.visId,h,k));if(null!=f)return f;this.integratorDateFormatter&&(f=this.integratorDateFormatter.formatDate(a,c,e,g.name,this.vx_1.visId));return null!=f?f:d?d.formatLocalizedDate(a,c,e,g.name,this.vx_1.visId,h,k):this.de_9.formatLocalizedDate(a,
c,e,g.name,this.vx_1.visId,h,k)},copySettingsFrom:function(a){this.integratorNumberFormatter=a.integratorNumberFormatter;this.integratorDateFormatter=a.integratorDateFormatter;this.integratorStringFormatter=a.integratorStringFormatter}});b.com_ibm_vis_engine_internal_AccessibilityOptions=b.com_ibm_init_declare({mz_2:-1,getMinimumFontSize:function(){-1==b.com_ibm_vis_engine_internal_AccessibilityOptions.IC_5.mz_2&&b.com_ibm_vis_engine_internal_AccessibilityOptions.sz$1(b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure.getAccessibleMinimumFontSize());
return b.com_ibm_vis_engine_internal_AccessibilityOptions.IC_5.mz_2}});b.com_ibm_vis_engine_internal_AccessibilityOptions.getInstance=function(){return b.com_ibm_vis_engine_internal_AccessibilityOptions.IC_5};b.com_ibm_vis_engine_internal_AccessibilityOptions.sz$1=function(a){b.com_ibm_vis_engine_internal_AccessibilityOptions.IC_5.mz_2=a};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_AccessibilityOptions.IC_5=new b.com_ibm_vis_engine_internal_AccessibilityOptions});b.com_ibm_vis_engine_internal_scenemodifier_SceneModifier=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_scenemodifier_LocalizationSceneModifier=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_scenemodifier_SceneModifier,{constructor:function(){this.vx_9=null},setContext:function(a){this.vx_9=a},modifyScene:function(a){if(a&&this.vx_9){var b=this.vx_9.le_37;b&&(a.lo_1=b)}}});b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_scenemodifier_SceneModifier,{modifyScene:function(a){if(a)for(var d=
0;d<a.root.getChildrenCount();++d){var c=a.root.getChild(d),e=c.getType();e!=b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT&&e!=b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND||b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier.he$3(c)}}});b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier.he$3=function(a){var d=a.getChildren();if(d&&0!=d.size())for(d=d.size()-1;0<=d;--d){var c=a.getChild(d);c.isVisible()?b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier.he$3(c):
a.removeChild(c)}};b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier.VA_1="visible";b.com_ibm_vis_engine_internal_scenemodifier_VisibilitySceneModifier.CE_7="children";b.com_ibm_vis_engine_internal_scenemodifier_MirrorSceneModifier=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_scenemodifier_SceneModifier,{wt_10:0,constructor:function(){this.wt_10=0},setWidth:function(a){this.wt_10=a},modifyScene:function(a){if(a){var b=0;a=a.root.getChildren().arrayIterator();for(var c=a.length;b<
c;++b){var e=a[b];this.ar$11(e);this.um$1(e)}}},ar$11:function(a){a=a.getTransform();var d=a.getAffine(),c,e;d?(c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.wt_10-d.m02),e=-1*d.m00,a.setAffine(new b.com_ibm_vis_engine_internal_Affine(e,d.m01,c,d.m10,d.m11,d.m12))):(c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.wt_10),a.setAffine(new b.com_ibm_vis_engine_internal_Affine(-1,0,c,0,1,0)))},um$1:function(a){var d=a.getType(),c=a.getShape();if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT_LINE!=
d){if((d=a.getChildren())&&0<d.size())for(var e=0;e<d.size();++e)this.um$1(a.getChild(e))}else{d=a.getTransform();d.mirror();var e=c?c.getBounds().x:0,g=c?c.getBounds().wt_3:0;d.translate(b.com_ibm_vis_engine_internal_util_MathUtil.r3(2*e+g),0)}c&&(1009==c.getType()?(d=c.getTextInfo().getTextAlign(),null!=d&&c.getTextInfo().setAlign(b.com_ibm_vis_engine_internal_Alignment.getReverseAlignment(d)),d=a.getTransform(),d.mirror(),a=c.getPoint(),a.x=-a.x,c.setPoint(a)):c.getImage()&&this.ug$1(c))},ug$1:function(a){var d=
a.getImage(),c=d.il_1;a=c.getTransformInfo();a.mirror();c=c.x;d=d.getWidth();a.translate(b.com_ibm_vis_engine_internal_util_MathUtil.r3(2*c+d),0)}});b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImageSupport=function(){var a=b.com_ibm_init_declare({redrawRequired:!1,fullRespecRequired:!1,imageLoadCount:0,constructor:function(){this.redrawPending=[]},removeImageLoadingCount:function(){return 0>=--this.imageLoadCount},addRedrawImage:function(a){this.redrawPending.push(a)},
redrawImages:function(a){for(var b=!0,e=0;e<this.redrawPending.length;e++)this.redrawPending[e].repositionImage()||(b=!1);b&&(this.redrawPending=[]);this.redrawRequired&&(this.fullRespecRequired?(a.sceneChanged(!1,!1),this.fullRespecRequired=!1):a.sceneEffectsChanged(),this.redrawRequired=!1)}});a.setVisControl=function(a){this.currentVisControl=a};a.currentVisControl=null;return a}();b.com_ibm_vis_interaction_internal_events_EventDispatcher=b.com_ibm_init_declare.implement();b.com_ibm_vis_interaction_internal_events_EventDispatcherImpl=
b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_events_EventDispatcher,{ee_12:!0,constructor:function(a){this.la_5=new b.com_ibm_rave_codegenerator_util_HashMap;this.vo_4=a},addListener:function(a){this.addListenerToGroup(b.com_ibm_vis_interaction_internal_events_EventDispatcherImpl.EVENT_GROUP_ALL,a)},addListenerToGroup:function(a,d){var c=this.la_5.get(a);c||(c=new b.com_ibm_rave_codegenerator_util_HashSet,this.la_5.put(a,c));c.add(d)},removeListener:function(a){this.removeListenerFromGroup(b.com_ibm_vis_interaction_internal_events_EventDispatcherImpl.EVENT_GROUP_ALL,
a)},removeListenerFromGroup:function(a,b){var c=this.la_5.get(a);c&&c.remove(b)},removeAllListenersFromGroup:function(a){this.la_5.remove(a)},getListeners:function(a){(a=this.la_5.get(a))||(a=new b.com_ibm_rave_codegenerator_util_HashSet);return a},notify:function(a){if(this.ee_12){var d=this.go$24(a);try{for(var c=0,e=d.arrayIterator(),g=e.length;c<g;++c){var k=e[c];k&&k.update(a,this.vo_4)}}catch(f){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,Error))throw f;}}},setEnabled:function(a){this.ee_12=
a},isEnabled:function(){return this.ee_12},go$24:function(a){var d=new b.com_ibm_rave_codegenerator_util_HashSet,c=a.getEventSource();null!=c&&(c=this.la_5.get(c))&&d.addAll(c);a=a.getEventGroup();null!=a&&(c=this.la_5.get(a))&&d.addAll(c);(c=this.la_5.get(b.com_ibm_vis_interaction_internal_events_EventDispatcherImpl.EVENT_GROUP_ALL))&&d.addAll(c);return d}});b.com_ibm_vis_interaction_internal_events_EventDispatcherImpl.EVENT_GROUP_ALL="EVENT_GROUP_ALL";b.com_ibm_vis_engine_internal_globalization_LocalizationUtil=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_globalization_LocalizationUtil.createLocationSpec=function(a){var d=new b.com_ibm_vis_spec_internal_LocalizationSpec;d.locale=a.getLocale();d.mirror=a.isMirror();d.baseTextDirection=a.getBaseTextDirection();d.nationalShaping=new b.com_ibm_vis_spec_internal_NationalShapingSpec;d.nationalShaping.digits=a.getNationalDigitShapingCode();d.contextualShaping=new b.com_ibm_vis_spec_internal_ContextualShapingSpec;d.contextualShaping.digits=a.getContextualShapingDigitCodes();
d.contextualShaping.defaultContext=a.getContextualShapingDefaultContext();return d};b.com_ibm_vis_interaction_internal_SelectionTransition=b.com_ibm_init_declare({});b.com_ibm_vis_interaction_internal_SelectionTransition.getMatchingNodeIds=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=!1,g=0;g<a.length;++g){var k=a[g],f=d.findNode(k.getId()),h=k.getChildren();if(0==h.size()){if(h=k.shape.getKey(),f){var l=f.getChildren(),k=f.getParent().getChildren();if(0==l.size()){if(null!=
h&&h!=f.shape.getKey())for(var f=0,l=k.arrayIterator(),m=l.length;f<m;++f)if(k=l[f],h==k.getShape().getKey()){c.add(k.getId());e=!0;break}}else if(null!=h){m=!1;if(!m)for(f=0;f<l.size();++f)if(h==l.get(f).getShape().getKey()){c.add(l.get(f).getId());m=e=!0;break}if(!m)for(f=0,l=k.arrayIterator(),m=l.length;f<m;++f)if(k=l[f],h==k.getShape().getKey()){c.add(k.getId());e=!0;break}}}}else if(!f)for(k=Array(h.size()),k=h.toArray(k),h=b.com_ibm_vis_interaction_internal_SelectionTransition.getMatchingNodeIds(k,
d),f=0;f<h.length;++f)c.add(h[f]),e=!0;e||c.add(a[g].getId())}e=Array(c.size());return e=c.toArray(e)};b.com_ibm_vis_interaction_events_SceneTreeReadyEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveEvent,{getEventGroup:function(){return b.com_ibm_vis_interaction_events_SceneTreeReadyEvent.EVENT_GROUP}});b.com_ibm_vis_interaction_events_SceneTreeReadyEvent.EVENT_GROUP="SceneTreeReadyEvent";b.com_ibm_vis_engine_configuration_HighContrastState=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,
{});b.com_ibm_vis_engine_configuration_HighContrastState.ALWAYS=new b.com_ibm_vis_engine_configuration_HighContrastState("ALWAYS");b.com_ibm_vis_engine_configuration_HighContrastState.NEVER=new b.com_ibm_vis_engine_configuration_HighContrastState("NEVER");b.com_ibm_vis_engine_configuration_HighContrastState.SYSTEM_DEFAULT=new b.com_ibm_vis_engine_configuration_HighContrastState("SYSTEM_DEFAULT");b.com_ibm_vis_engine_configuration_HighContrastState.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_configuration_HighContrastState)};
b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serialize=function(a){if(!a)return null;var d=b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serializeNode(a.root).children;if(a.lo_1&&(a=a.lo_1.baseTextDirection,null!=a)){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();c.id="localization";c.baseTextDirection=a;d.push(c)}return d};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serializeNode=
function(a){var d=a.getClassId();if(d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE)return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$2(a);if(d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SCHEMA_SHAPE)return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$3(a);if(d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES)return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$4(a);if(d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP)return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$5(a);
if(d==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$6(a);throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal SceneNodeType",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$2=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$4(a,
d);b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2(a,d);b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$3(a,d);return d};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$3=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c=a.getType();b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.shape,b.com_ibm_vis_engine_internal_struct_MultiPartText)&&b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE==c?(b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$4(a,
d),b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2(a,d),b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$3(a,d)):(b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2(a,d),b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$3(a,d),b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$1(a,d),b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.shape,b.com_ibm_vis_engine_internal_struct_Shape)&&(a=a.shape,c=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_struct_Text)?a.getNonTransformedBounds():a.getBounds(),a.getSnap()?b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.wo$1(d,Math.round(c.x),Math.round(c.y),Math.round(c.wt_3),Math.round(c.hh_2)):b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.wo$1(d,c.x,c.y,c.wt_3,c.hh_2)));return d};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$4=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2(a,
d);b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$3(a,d);b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$4(a,d);var c=a.ce_22;c||(c=new b.com_ibm_vis_spec_internal_CoordinatesSpec);a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d.coordinates=a;var e=c.dimensions;if(e){var g=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();a.dimensions=g;for(var k=0,f=e.length;k<f;++k){var h=e[k].scale;h?(h=h.spans)&&0!=h.length?1==h.length?g.push(h[0].method):
g.push("multiple"):g.push("linear"):g.push("linear")}}if(c=c.transforms)for(e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),a.transforms=e,a=0,g=c.length;a<g;++a)e.push(c[a].type);return d};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$5=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2(a,d);b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$1(a,d);return d};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.sd$6=
function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2(a,d);b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$1(a,d);var c=a.getElementType();d.elementType=c;if(a=a.getBaseline())a=b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom(a),b.com_ibm_rave_codegenerator_util_BasicFactory.remove(a,"type"),d.baseline=a;return d};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$1=function(a,
d){for(var c=a.getChildren(),e=b.com_ibm_rave_codegenerator_util_BasicFactory.createSizedJSONArray(c.size()),g=0,c=c.arrayIterator(),k=c.length;g<k;++g){var f=b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serializeNode(c[g]);e.push(f)}d.children=e};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$2=function(a,d){var c=a.getType();c&&(b.com_ibm_vis_scenetree_provisional_SceneNodeType.IMAGE_HIGHLIGHT==c?d.ImageHL=!0:d.type=b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString(c));
c=a.getId();null!=c&&(d.id=c);a.isVisible()||(d.visible=!1);if((c=a.getMetaMap())&&0!=c.size()){for(var e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),g=0,k=c.keySet().arrayIterator(),f=k.length;g<f;++g){var h=k[g],l=c.get(h);e[h]=l}d.meta=e}c=a.getField();null!=c&&(d.field=c);l=a.getValue();null!=l&&(d.value=l);if(c=a.getClipBounds())e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.wo$1(e,c.x,c.y,c.wt_3,
c.hh_2),d.clip=e;c=a.getTransform().getAffine();(c=b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeAffine(c))&&(d.transform=c);(c=a.getA11y())&&(c=b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeA11y(c))&&(d[b.com_ibm_vis_internal_accessibility_AccessibleInfo.ACCESSIBILITY]=c)};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$3=function(a,d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.shape,b.com_ibm_vis_engine_internal_struct_Shape)){var c=a.shape,
e=c.getKey();null!=e&&(d.key=e);var g=c.getRows();if(g){var k=b.com_ibm_rave_codegenerator_util_BasicFactory.createSizedJSONArray(g.length);d.rows=k;for(var f=0,h=g.length;f<h;++f)e=g[f],k.push(e);if(g=c.getOriginalRows()){k=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();f=0;for(h=g.length;f<h;++f)e=g[f],k.push(e);0<k.length&&(d.orows=k)}}e=c.getTooltip();null!=e?d.tooltip=e:b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_engine_internal_struct_Text)&&(e=c.getTruncatedTooltipText(),
null!=e&&c.createTooltipForTruncated&&(d.tooltip=e))}};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.we$4=function(a,d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.shape,b.com_ibm_vis_engine_internal_struct_Shape)){var c=a.shape,e=a.getRenderInfo();if(e.getRenderGeom()){var g=b.com_ibm_vis_scenetree_internal_GeomJSONSerializer.serializeGeom(e.getRenderGeom());null!=c.getReversed()&&(g.reversed=c.getReversed());d.shape=g}if(e.getRenderText()){var k=e.getRenderText(),g=b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeText(k);
d.shape=g;d.font=b.com_ibm_vis_scenetree_internal_TextJSONSerializer.serializeTextFont(k);d.align=k.getTextAlign()}b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_engine_internal_struct_Text)&&(g=c.getTruncatedTooltipText(),null!=g&&c.createTooltipForTruncated&&(d.tooltip=g));e.getRenderStroke()&&(d.stroke=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeStroke(e.getRenderStroke()));e.getRenderFill()?d.fill=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializePaint(e.getRenderFill()):
c.isFilled()&&(d.fill=b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.TL_4);e.getRenderEffects()&&(d.effect=b.com_ibm_vis_scenetree_internal_FoundationJSONSerializer.serializeRenderEffects(e.getRenderEffects()));e.getRenderImage()&&(e=b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeImageFill(e.getRenderImage()))&&(d.image=e);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c.getGeom(),b.com_ibm_vis_geom_Rect)?b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.ac$5(c,
d):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c.getGeom(),b.com_ibm_vis_geom_Wedge)&&b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.ae$6(c.getCenter(),c.getSnap(),d)}};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.ac$5=function(a,d){var c=d.shape;if(null!=c){var e=c.height+"",g=c.width+"";null!=e&&null!=g&&a.getStroke()&&(a.isInsideStroke()?0!=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(e)&&0!=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(g)||b.com_ibm_rave_codegenerator_util_BasicFactory.remove(d,
"stroke"):(0==b.com_ibm_rave_codegenerator_lang_Double.parseDouble(e)&&(c.height=4.656612875245797E-10),0==b.com_ibm_rave_codegenerator_lang_Double.parseDouble(g)&&(c.width=4.656612875245797E-10)))}};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.ae$6=function(a,d,c){c=c.shape;var e=a.x;a=a.y;d&&(e=Math.round(e),a=Math.round(a));c.cx=b.com_ibm_vis_engine_internal_util_MathUtil.r3(e);c.cy=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a)};b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.wo$1=
function(a,d,c,e,g){a.x=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d);a.y=b.com_ibm_vis_engine_internal_util_MathUtil.r3(c);a.width=b.com_ibm_vis_engine_internal_util_MathUtil.r3(e);a.height=b.com_ibm_vis_engine_internal_util_MathUtil.r3(g)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.TL_4=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.TL_4.a=0;b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.MIN_DIMENSION=
1/2147483647});b.com_ibm_vis_scenetree_internal_CoreJSONSerializer=b.com_ibm_init_declare({});b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeAffine=function(a){if(!a)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c;c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.m00);1!=c&&(d.xx=c);c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.m01);0!=c&&(d.xy=c);c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.m02);0!=c&&(d.dx=c);c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.m10);
0!=c&&(d.yx=c);c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.m11);1!=c&&(d.yy=c);c=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.m12);0!=c&&(d.dy=c);return b.com_ibm_rave_codegenerator_util_BasicFactory.isEmpty(d)?null:d};b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.deserializeAffine=function(a){if(!a)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.getNumberWithDefault(a,"xx",1),c=b.com_ibm_rave_codegenerator_util_BasicFactory.getNumberWithDefault(a,"xy",0),e=b.com_ibm_rave_codegenerator_util_BasicFactory.getNumberWithDefault(a,
"dx",0),g=b.com_ibm_rave_codegenerator_util_BasicFactory.getNumberWithDefault(a,"yx",0),k=b.com_ibm_rave_codegenerator_util_BasicFactory.getNumberWithDefault(a,"yy",1);a=b.com_ibm_rave_codegenerator_util_BasicFactory.getNumberWithDefault(a,"dy",0);return new b.com_ibm_vis_engine_internal_Affine(d,c,e,g,k,a)};b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.deserializeAffineNonNull=function(a){return a?b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.deserializeAffine(a):b.com_ibm_vis_engine_internal_Affine.identity()};
b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeImageFill=function(a){if(!a)return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c=a.mo_9;d.method=c;d.source=b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeImageResource(a.sc_3);d.alpha=a.ah_3;d.x=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.x);d.y=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.y);d.width=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.wt_7);d.height=b.com_ibm_vis_engine_internal_util_MathUtil.r3(a.hh_5);
d.clip=a.clip;"texture"==c&&(d.tileX=a.te_6,d.tileY=a.te_7);"icon"==c&&(c=a.hI_1,null!=c&&(d.HLRectID=c));a=a.getTransformInfo().getAffine();(a=b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeAffine(a))&&(d.transform=a);return d};b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeImageResource=function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c=a.getURIs();if(c){for(var e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),g=0;g<
c.length;++g)e.push(c[g]);d.URIs=e}c=a.getType();null!=c&&(d.type=c);a=a.getEmbeddedData();null!=a&&(d.embedded=a);return d};b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeA11y=function(a){if(!a||a.isEmpty())return null;var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),c;a=a.pa_3;for(var e=0,g=a.keySet().arrayIterator(),k=g.length;e<k;++e){var f=g[e],h=a.get(f);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,b.com_ibm_vis_internal_accessibility_AccessibleInfo)?
(h=b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.serializeA11y(h),d[f]=h):null==h||b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(h)?(c||(c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),d.state=c),c[f]=h):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,b.com_ibm_rave_codegenerator_util_Map)?b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.st$1(d,f,h):d[f]=h}return d};b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.st$1=function(a,d,c){for(var e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),
g=0,k=c.keySet().arrayIterator(),f=k.length;g<f;++g){var h=k[g],l=c.get(h);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(l,b.com_ibm_rave_codegenerator_util_Map)?b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.st$1(e,h,l):e[h]=l}a[d]=e};b.com_ibm_vis_engine_internal_asynchronous_AsynchronousService=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,{constructor:function(){this.children=new b.com_ibm_rave_codegenerator_util_List},clear:function(){if(this.children)for(var a=
this.children.size(),b=0;b<a;++b)this.children.get(0).clear(),this.children.removeAt(0)},notifyFailed:function(a){this.delegate&&this.delegate.notifyFailed(a);this.clear()},run:function(){this.runInternal()}});b.com_ibm_vis_internal_VisControl=function(){return b.com_ibm_init_declare({visJSONUrl:null,_updateInteractivityOnSceneChanged:!0,defenderControllerSpec:null,defenderController:!1,_stopAnimations:!1,width:700,height:700,resizeToWindow:!1,resizeTimeWindow:0,resourceImageSupport:null,constructor:function(){var a=
document.createElement("div");this.domNode=a;a.style.minWidth="1px";r.set(a,"role","application");r.set(a,"tabIndex","0");r.set(a,"aria-live","assertive");r.set(a,"alt","interactive chart");this.resourceImageSupport=new b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImageSupport;this._eventDispatcher=new b.com_ibm_vis_interaction_internal_events_EventDispatcherImpl(this)},startup:function(){if(!this._started){this.started=!0;this._stopAnimations=!1;this._ariaLabel=r.get(this.domNode,
"aria-label")||r.get(this.domNode,"title")||"interactive chart";this._highContrastState=b.com_ibm_vis_engine_configuration_HighContrastState.SYSTEM_DEFAULT;this._vis=new b.com_ibm_vis_engine_internal_Vis;if(null!=this.getLogger()){var a=new (b.com_ibm_init_declare(b.com_ibm_vis_monitor_LogListener,{constructor:function(a){this.visControl=a},isTracing:function(){return!1},accept:function(a){if(a.getLevel()==b.com_ibm_vis_monitor_LogLevel.Error)this.visControl.onError(a)}}))(this);this.getLogger().addListener(a)}this.width=
F.get(this.domNode,"width");this.height=F.get(this.domNode,"height");this._dirtyNodeManager=new b.com_ibm_vis_engine_internal_interaction_effect_DirtyNodeManager;this._renderer=new b.com_ibm_vis_engine_internal_nativeImpl_render_RendererController(this,this.domNode,this.width,this.height,this._dirtyNodeManager);b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImageSupport.setVisControl(this);this._transitionIndex=0;this._renderer.init().then(S.hitch(this,function(){this._fireVisControlStartupEvent();
null!=this.visJSONUrl&&this.setSpecificationFromUrl(this.visJSONUrl);this.resize()}));return this.initRenderer()}},onError:function(a){alert(a.message||("function"==typeof a.getMessage?a.getMessage():""))},highContrastFromSystem:function(){if(aa("highcontrast"))return!0},initRenderer:function(){return this._renderer.init().then(S.hitch(this,function(a){return this}))},whenLoaded:function(a,b){var c=S.hitch(a,b);this._renderer.init().then(c)},dispose:function(){this._stopAnimations=!0;this._fireVisControlBeingDestroyedEvent();
this._interactivity=this._vis=this._sceneTree=this._scene=null;this._renderer.destroy();this._renderer=null;this._fireVisControlDestroyEvent();this._sceneChangeListener=this._backwardCompatibleListenersMap=this._eventDispatcher=null;this._destroyed=!0},getSurfaceObj:function(){return this._renderer.surface},wasDestroyed:function(){return this._destroyed},ensureSpecifiedSize:function(){if(this._sceneTree){var a=this._sceneTree.getSize();if(a){var b=this._sceneTree.getRoot().getTransform(),b=null==
b?null:b.getAffine();null==b?this._renderer.setSize(a.getWidth(),a.getHeight()):(a=b.transform(a.getWidth(),a.getHeight()),this._renderer.setSize(a.x,a.y))}}},resize:function(a,b){this._doResize(a,b)},_doResize:function(a,b){this.ensureSpecifiedSize();this._sceneTree&&this.resizeToWindow&&(0<this.resizeTimeWindow?(clearTimeout(this._resizeTimeWindowHandler),this._resizeTimeWindowHandler=setTimeout(S.hitch(this,"sceneChanged",!0,!1),this.resizeTimeWindow)):this.sceneChanged(!0,!1))},getSpecification:function(){return this._vis.getSpecification()},
setSpecificationFromUrl:function(a){this.visJSONUrl=a;var d=this;b.com_ibm_init_xhr.get({url:a,load:function(a){d.setSpecification(na.parse(a))},error:function(){var c=d.getLogger();c&&c.error(b.com_ibm_vis_monitor_LogComponent.WebEngine,"Failed to load spec from URL : "+a)}})},setSpecificationFromJson:function(a){var d=S.hitch(this,function(a){this._vis.read(a);return!0}),c=S.hitch(this,function(){this._fireSpecChangeEvent();this.sceneChanged(!0,!0);this._updateAriaLabel();return!0}),e=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,
{constructor:function(a){this.json=a},run:function(){d(this.json)?this.done():this.failed("The attempt to set the specification failed")}}),g=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,{constructor:function(){},run:function(){c()?this.done():this.failed("The attempt to complete the scene failed")}}),k;k=this.specAction?this.specAction:new b.com_ibm_vis_engine_internal_asynchronous_AsynchronousService;a=new e(a);k.addAction(a);this._vis.setSpecAction(a);k.addAction(new g(this));
this.specAction||k.run()},setSpecification:function(a){var d=this,c;if(a.localization&&a.localization.locale)c=a.localization.locale;else{var e=this._vis.getVisContext().getLocalizationSpec();e&&(c=e.locale)}b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.preloadLocale(c,function(){d.setSpecificationWithTransition(a,0)})},isHighContrastModeActive:function(){return this._highContrastState==b.com_ibm_vis_engine_configuration_HighContrastState.SYSTEM_DEFAULT?this.highContrastFromSystem():this._highContrastState==
b.com_ibm_vis_engine_configuration_HighContrastState.ALWAYS?!0:!1},setSpecificationWithTransition:function(a,d){this._transitionIndex=d;this.defenderControllerSpec=null;this.defenderController||this.splitDefenderSpec(a);this.currentSpec=a;var c=S.hitch(this,function(){this._vis.setSpecification(this.currentSpec);return!0}),e=S.hitch(this,function(){this._vis.getSize();this._fireSpecChangeEvent();this.sceneChanged(!0,!0);this.resourceImageSupport.redrawImages(this);this._updateAriaLabel();return!0}),
g=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,{constructor:function(a){this.visControl=a},run:function(){c()?this.done():this.failed("The attempt to set the specification failed")}}),k=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_asynchronous_AsynchAction,{constructor:function(a){this.visControl=a},run:function(){e()?this.done():this.failed("The attempt to complete the scene failed")}});this.aService=new b.com_ibm_vis_engine_internal_asynchronous_AsynchronousService;
g=new g(this);this.aService.addAction(g);this._vis.setSpecAction(g);this.aService.addAction(new k(this));this.aService.run()},setStartingViewport:function(a,b){a?this._vis.setStartingViewport(a,b):this._vis.resetStartingViewport()},updateSpecificationData:function(a,b){this._vis.updateSpecificationData(a);this._fireSpecChangeEvent();this._transitionIndex=b;this.sceneDataChanged(!0,!0)},setLogger:function(a){this._vis.setLogger(a)},getLogger:function(a){return this._vis.getLogger()},copyConfigurationFrom:function(a){null!=
a&&(this.setBaseURI(a.getBaseURI()),this.setDateFormatter(a.getDateFormatter()),this.setDefaultLocalization(a.getDefaultLocalization()),this.setGenerateAccessibility(a.getGenerateAccessibility()),this.setHighContrast(a.getHighContrast()),this.setLocalizedDateFormatter(a.getLocalizedDateFormatter()),this.setLocalizedNumberFormatter(a.getLocalizedNumberFormatter()),this.setNumberFormatter(a.getNumberFormatter()),this.setSpecificationDefaultVersion(a.getSpecificationDefaultVersion()),this.setSpecificationValidation(a.getSpecificationValidation()),
this.setStringFormatter(a.getStringFormatter()),this.setTooltipsForTruncatedText(a.getTooltipsForTruncatedText()))},copyInfoFrom:function(a){this.copyConfigurationFrom(a)},setSpecificationValidation:function(a){this._vis.setSpecificationValidation(a)},getSpecificationValidation:function(){return this._vis.getSpecificationValidation()},setSpecificationDefaultVersion:function(a){this._defaultVersion=a;null==a?this._vis.setSpecificationDefaultVersion(null):this._vis.setSpecificationDefaultVersion(b.com_ibm_vis_engine_internal_util_Version.parseVersion(a))},
getSpecificationDefaultVersion:function(){return this._defaultVersion},setNumberFormatter:function(a){this._vis.setNumberFormatter(a)},getNumberFormatter:function(){return this._vis.getNumberFormatter()},setLocalizedNumberFormatter:function(a){this._vis.setLocalizedNumberFormatter(a)},getLocalizedNumberFormatter:function(){return this._vis.getLocalizedNumberFormatter()},setDateFormatter:function(a){this._vis.setDateFormatter(a)},getDateFormatter:function(){return this._vis.getDateFormatter()},setLocalizedDateFormatter:function(a){this._vis.setLocalizedDateFormatter(a)},
getLocalizedDateFormatter:function(){return this._vis.getLocalizedDateFormatter()},setStringFormatter:function(a){this._vis.setStringFormatter(a)},getStringFormatter:function(){return this._vis.getStringFormatter()},setDefaultLocalization:function(a){null!=a&&(this._localizationSettings=a,a=b.com_ibm_vis_engine_internal_globalization_LocalizationUtil.createLocationSpec(a),this._vis.setDefaultLocalization(a))},getDefaultLocalization:function(){return this._localizationSettings},setTooltipsForTruncatedText:function(a){this._vis.getVisContext().setTooltipsForTruncatedText(a)},
getTooltipsForTruncatedText:function(){return this._vis.getVisContext().getTooltipsForTruncatedText()},getInteractivity:function(){this._interactivity||(b.com_ibm_init_requireSync("com/ibm/vis/layers/interactionLayer"),this._interactivity=new b.com_ibm_vis_internal_VisControlInteractivity(this._vis,null,null,this,this._dirtyNodeManager),this._interactivity.setSceneWithTransition(this._sceneTree,this._transitionIndex));return this._interactivity},setRendererSize:function(){this.ensureSpecifiedSize()},
onSceneChange:function(a){this.setRendererSize();var b=!1;this._updateInteractivityOnSceneChanged&&this._interactivity&&(this._interactivity.setSceneWithTransition(this._sceneTree,this._transitionIndex),b=this._interactivity.hasStartEffects());if(!b||this._vis.getVisContext().isUpdateViewport())this._renderer.clear(),this._renderer.render(this._sceneTree);if(a)var c=setTimeout(S.hitch(this,function(){clearTimeout(c);this._stopAnimations||this._fireVisualizationRenderEvent()}),1)},onSceneDataChanged:function(a){var b=
!1;this._updateInteractivityOnSceneChanged&&this._interactivity&&(this._interactivity.setSceneWithTransition(this._sceneTree,this._transitionIndex),b=this._interactivity.hasStartEffects());b||(this._renderer.clear(),this._renderer.render(this._sceneTree));if(a)var c=setTimeout(S.hitch(this,function(){clearTimeout(c);this._fireVisualizationRenderEvent()}),1)},_setScene:function(a){this._scene=a;this.onSceneChange()},setSceneTree:function(a){this._dirtyNodeManager.reset(this._sceneTree==a);this._sceneTree=
a;this._scene=null;this._addSelectionToScene();this.onSceneChange(!0)},getSceneTree:function(){return this._sceneTree},_getScene:function(){!this._scene&&this._sceneTree&&(this._scene=b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serialize(this._sceneTree));return this._scene},_addSelectionToScene:function(){if(null!=this._interactivity&&!this._vis.getVisContext().isHandlingSceneTree())for(var a=this._interactivity.getSceneState().getSelectionKeys().arrayIterator(),d=0;d<a.length;++d){for(var c=
a[d],e=this._interactivity.getSelected(c),g=[],k=0;k<e.length;k++)g[k]=e[k].getSceneNode();e=b.com_ibm_vis_interaction_internal_SelectionTransition.getMatchingNodeIds(g,this._sceneTree);this._interactivity.applySelectionHighlightOnScene(this._sceneTree,e,c)}},sceneChanged:function(a,d){b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImageSupport.setVisControl(this);var c;c=this.resizeToWindow&&0<this.width&&0<this.height?this._vis.makeSceneTree(new b.com_ibm_vis_geom_Dim(this.width,
this.height),null).getSceneTree():this._vis.makeSceneTree(null,null).getSceneTree();this._dirtyNodeManager.reset(this._sceneTree==c);this._sceneTree=c;this._scene=null;a&&this._fireSceneTreeReadyEvent();this._addSelectionToScene();a&&this._fireVisualizationReadyEvent();this._interactivity&&this.getInteractivity().notifySceneChanged(d);this.onSceneChange(a);this._vis.getStartingViewport()&&this._interactivity.getViewportZoom().initializeWithViewport(this._vis.getStartingViewport(),this._vis.getPanFlag(),
this._sceneTree)},sceneDataChanged:function(a,d){var c;c=null;this.resizeToWindow&&(c=new b.com_ibm_vis_geom_Dim(this.width,this.height));c=this._vis.recreateSceneTree(c,null,b.com_ibm_vis_engine_internal_VisContext.CF_UPDATE_DATA).getSceneTree();this._dirtyNodeManager.reset(this._sceneTree==c);this._sceneTree=c;this._scene=null;a&&this._fireSceneTreeReadyEvent();this._addSelectionToScene();a&&this._fireVisualizationReadyEvent();this.onSceneDataChanged(a)},getChangeEffects:function(){return this.getInteractivity().getChangeEffects()},
_updateAriaLabel:function(){var a=this._vis.getDescription();!a&&this.getGenerateAccessibility()&&(a=(new b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber(this._vis.getCurrentSpec())).getDescription());a||(a=this._ariaLabel);r.set(this.domNode,"aria-label",a)},setAriaLabel:function(a){r.set(this.domNode,"aria-label",a)},getAriaLabel:function(){return r.get(this.domNode,"aria-label")},setSpecificationValidation:function(a){this._vis.setSpecificationValidation(a)},getSpecificationValidation:function(){return this._vis.getSpecificationValidation()},
setSpecificationDefaultVersion:function(a){this._defaultVersion=a;null==a?this._vis.setSpecificationDefaultVersion(null):this._vis.setSpecificationDefaultVersion(b.com_ibm_vis_engine_internal_util_Version.parseVersion(a))},getSpecificationDefaultVersion:function(){return this._defaultVersion},copyInfoFrom:function(a){this.copyConfigurationFrom(a)},_getEventDispatcher:function(){return this._eventDispatcher},addGlobalListener:function(a){this._eventDispatcher.addListener(a)},removeGlobalListener:function(a){this._eventDispatcher.removeListener(a)},
addListener:function(a,b){this._eventDispatcher.addListenerToGroup(a,b)},removeListener:function(a,b){this._eventDispatcher.removeListenerFromGroup(a,b)},addVisualizationListener:function(a){this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_SpecChangeEvent.EVENT_GROUP,a);this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_VisualizationReadyEvent.EVENT_GROUP,a);this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_SceneTreeReadyEvent.EVENT_GROUP,
a);this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_VisualizationRenderEvent.EVENT_GROUP,a)},removeVisualizationListener:function(a){this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_SpecChangeEvent.EVENT_GROUP,a);this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_VisualizationReadyEvent.EVENT_GROUP,a);this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_SceneTreeReadyEvent.EVENT_GROUP,a);this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_VisualizationRenderEvent.EVENT_GROUP,
a)},addVisControlListener:function(a){this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_VisControlStartupEvent.EVENT_GROUP,a);this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent.EVENT_GROUP,a);this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_VisControlDestroyEvent.EVENT_GROUP,a)},removeVisControlListener:function(a){this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_VisControlStartupEvent.EVENT_GROUP,
a);this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent.EVENT_GROUP,a);this._eventDispatcher.removeListenerFromGroup(b.com_ibm_vis_interaction_events_VisControlDestroyEvent.EVENT_GROUP,a)},_fireSpecChangeEvent:function(){var a=new b.com_ibm_vis_interaction_events_SpecChangeEvent;this._eventDispatcher.notify(a)},_fireVisualizationReadyEvent:function(){var a=new b.com_ibm_vis_interaction_events_VisualizationReadyEvent;this._eventDispatcher.notify(a)},
_fireSceneTreeReadyEvent:function(){var a=new b.com_ibm_vis_interaction_events_SceneTreeReadyEvent;this._eventDispatcher.notify(a)},_fireVisualizationRenderEvent:function(){var a=new b.com_ibm_vis_interaction_events_VisualizationRenderEvent;this._eventDispatcher.notify(a)},_fireVisControlStartupEvent:function(){var a=new b.com_ibm_vis_interaction_events_VisControlStartupEvent;this._eventDispatcher.notify(a)},_fireVisControlBeingDestroyedEvent:function(){var a=new b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent;
this._eventDispatcher.notify(a)},_fireVisControlDestroyEvent:function(){var a=new b.com_ibm_vis_interaction_events_VisControlDestroyEvent;this._eventDispatcher.notify(a)},setBaseURI:function(a){null!=a&&(this._baseURI=a,b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.setResourcePath(this._baseURI))},getBaseURI:function(){return this._baseURI},setGenerateAccessibility:function(a){this._vis.getVisContext().setGenerateAccessibility(a)},getGenerateAccessibility:function(){return this._vis.getVisContext().getGenerateAccessibility()},
_getVis:function(){return this._vis},getContrast:function(){return this._vis.getContrast()},setContrast:function(a){this._vis.setContrast(a)&&(a=this._vis.getOrigSpecification())&&this.setSpecification(a)},setHighContrast:function(a){this._highContrastState=a},getHighContrast:function(){return null!=this._highContrastState?this._highContrastState:b.com_ibm_vis_engine_configuration_HighContrastState.SYSTEM_DEFAULT},execute:function(a){var d=this.getLogger(),c=this,e=new b.com_ibm_vis_engine_internal_nativeImpl_Animation(a.getDuration(),
S.hitch(a,a.begin),function(g){if(c._stopAnimations)e=null;else{var k=!1;try{k=a.step(g)}catch(f){k=!0}k&&(e.stop(),e=null);d&&d.detail(b.com_ibm_vis_monitor_LogComponent.WebEngine,"Animation Step")}},function(){c._stopAnimations||a.end();e=null},function(a){return a});e.play()},sceneEffectsChanged:function(){this._renderer.render(this._sceneTree)},isInterrupted:function(){return!1},getDirtyNodeManager:function(){return this._dirtyNodeManager},buildDefenderController:function(a){this.defenderController=
!0;a.getInteractivity().linkDefenderInteractivity(this.getInteractivity());this.setSpecification(a.defenderControllerSpec);this.getInteractivity().initializeDefenderPosition()},splitDefenderSpec:function(a){var d=0,c=-1,e=a.grammar;if(null!=e)for(var d=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(e),g=0;g<d;++g){var k=e[g],k=k.elements;if(null!=k)for(var f=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(k),h=0;h<f;++h){var l=k[h].interactionType;null!=l&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(l)&&
"scrollUnit"==l&&(c=g)}}return-1<c?(e=0,this.defenderControllerSpec=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(a),e=a.grammar,b.com_ibm_rave_codegenerator_util_BasicFactory.removeAt(e,c),a=this.defenderControllerSpec.size,e=this.defenderControllerSpec.grammar,k=e[c],d=k.bounds,null!=a&&(e=a.height,null!=d&&0<e&&(c=this.getBoundsValue(d,"top",e),e=this.getBoundsValue(d,"bottom",e),b.com_ibm_rave_codegenerator_util_BasicFactory.remove(k,"bounds"),a.height=e-c)),e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),
e.push(k),this.defenderControllerSpec.grammar=e,!0):!1},getBoundsValue:function(a,d,c){var e=0,g=null,g=null;b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,d)&&(g=a[d],null!=g&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g)?e=g.CPVISEngineEndsWith("%")?b.com_ibm_rave_codegenerator_lang_Double.parseDouble(g.substring(0,g.length-1))/100*c:b.com_ibm_rave_codegenerator_lang_Double.parseDouble(g.substring(0,g.length-1)):b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(g)&&
(e=g)));return e},isDefenderChart:function(){return null!=this.defenderControllerSpec?!0:!1},clearNativeScene:function(){this.setSpecificationWithTransition({version:b.com_ibm_vis_internal_SpecConstants.SPEC_VERSION},-1)}})}();b.com_ibm_vis_internal__VisControlBase=function(){var a=U([fa,b.com_ibm_vis_internal_VisControl],{postMixInProperties:function(){this.inherited(arguments);this._backwardCompatibleListenersMap=new b.com_ibm_rave_codegenerator_util_HashMap;this.startupEventListener&&this._eventDispatcher.addListenerToGroup(b.com_ibm_vis_interaction_events_VisControlStartupEvent.EVENT_GROUP,
this.startupEventListener)},uninitialize:function(){this.dispose();this.inherited(arguments)},setSpecFromUrl:function(a){this.setSpecificationFromUrl(a)},setSpecFromJson:function(a){this.setSpecificationFromJson(a)},setSpec:function(a){this.setSpecification(a)},setSpecWithTransition:function(a,b){this.setSpecificationWithTransition(a,b)},setObjectSelectMouseEvent:function(a){this._renderer.objectSelectionMouseEvent=a},numberFormatter:function(a){this._vis.setNumberFormatter(a)},dateFormatter:function(a){this._vis.setDateFormatter(a)},
stringFormatter:function(a){this._vis.setStringFormatter(a)},mirror:function(a){this._vis.mirror=a},setNativeStringMeasuring:function(a){this._vis.getVisContext().setNativeStringMeasuring(a)},setDefaultLocalizationSpec:function(a){this.setDefaultLocalization(a)},interactivity:function(){return this.getInteractivity()},setScene:function(a){this._setScene(a)},getScene:function(){return this._getScene()},scene:function(){return this._getScene()},addVisualizationEventListener:function(a){var c=this,e=
{update:function(e,k){if(b.com_ibm_vis_interaction_events_SpecChangeEvent.EVENT_GROUP==e.getEventGroup())a.onSpecChange(c);else if(b.com_ibm_vis_interaction_events_VisualizationReadyEvent.EVENT_GROUP==e.getEventGroup())a.onReady(c);else if(b.com_ibm_vis_interaction_events_VisualizationRenderEvent.EVENT_GROUP==e.getEventGroup())a.onRender(c)}};this._backwardCompatibleListenersMap.put(a,e);this.addVisualizationListener(e)},removeVisualizationEventListener:function(a){var b=this._backwardCompatibleListenersMap.get(a);
this._backwardCompatibleListenersMap.remove(a);this.removeVisualizationListener(b)},addVisControlLifecycleListener:function(a){var c=this,e={update:function(e,k){if(b.com_ibm_vis_interaction_events_VisControlStartupEvent.EVENT_GROUP==e.getEventGroup())a.onStartup(c);else if(b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent.EVENT_GROUP==e.getEventGroup())a.onBeingDestroyed(c);else if(b.com_ibm_vis_interaction_events_VisControlDestroyEvent.EVENT_GROUP==e.getEventGroup())a.onDestroy(c)}};
this._backwardCompatibleListenersMap.put(a,e);this.addVisControlListener(e)},removeVisControlLifecycleListener:function(a){var b=this._backwardCompatibleListenersMap.get(a);this._backwardCompatibleListenersMap.remove(a);this.removeVisControlListener(b)},getMapControlsWidget:function(){return this._renderer.getMapControlsWidget()}});a.SCENE_CHANGED="VisControl/SceneChange";return a}();b.com_ibm_vis_widget_VisControlLifecycleListener=b.com_ibm_init_declare({onStartup:function(a){},onBeingDestroyed:function(a){},
onDestroy:function(a){}});b.com_ibm_vis_widget_VisualizationEventListener=b.com_ibm_init_declare(null,{onSpecChange:function(a){},onReady:function(a){},onRender:function(a){}});b.com_ibm_vis_widget_VisControl=U("com.ibm.vis.widget.VisControl",[b.com_ibm_vis_internal__VisControlBase,M],{startup:function(){this.inherited(arguments);return this.initRenderer()},resize:function(a,b){this.inherited(arguments);this._doResize(a,b)},layout:function(){this.inherited(arguments);this.renderer&&this.renderer.setSize(this._contentBox.w,
this._contentBox.h);this.resizeToWindow&&(this.width=this._contentBox.w,this.height=this._contentBox.h)}});b.com_ibm_vis_widget_VisWidget=U("com.ibm.vis.widget.VisWidget",[b.com_ibm_vis_widget_VisControl],{});b.com_ibm_vis_widget_VisControlMobile=U("com.ibm.vis.widget.VisControlMobile",[b.com_ibm_vis_internal__VisControlBase],{buildRendering:function(){this.inherited(arguments);this.focusNode=this.domNode=ea.create("div",{style:"width:100%;height :100%;"})}});b.com_ibm_vis_widget_VisWidgetMobile=
U("com.ibm.vis.widget.VisWidgetMobile",[b.com_ibm_vis_widget_VisControlMobile],{});b.com_ibm_vis_engine_data_transform_SummaryFunctionService=b.com_ibm_init_declare({registerFactory:function(a){b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.getInstance().registerFactory(a)},unregisterFactory:function(a){b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.getInstance().unregisterFactory(a)}});b.com_ibm_vis_engine_data_transform_SummaryFunctionService.getInstance=
function(){b.com_ibm_vis_engine_data_transform_SummaryFunctionService.IC_2||(b.com_ibm_vis_engine_data_transform_SummaryFunctionService.IC_2=new b.com_ibm_vis_engine_data_transform_SummaryFunctionService);return b.com_ibm_vis_engine_data_transform_SummaryFunctionService.IC_2};b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility=b.com_ibm_init_declare({constructor:function(){this.se_20=new b.com_ibm_rave_codegenerator_util_Map},registerFactory:function(a){if(a){var b=
a.getSummaryFunctionIDList();if(b)for(var c=0,e=b.length;c<e;++c)this.se_20.put(b[c],a)}},unregisterFactory:function(a){if(a&&(a=a.getSummaryFunctionIDList()))for(var b=0,c=a.length;b<c;++b)this.se_20.remove(a[b])},getSummaryFunction:function(a){if(null==a)return null;var b,c=this.se_20.get(a);c&&(b=c.getSummaryFunction(a));return b}});b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.getInstance=function(){b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.IC_1||
(b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.IC_1=new b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility);return b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.IC_1};b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_engine_configuration_IVisConfiguration=b.com_ibm_init_declare.implement({getSpecificationDefaultVersion:function(){},setSpecificationDefaultVersion:function(a){},getSpecificationValidation:function(){},
setSpecificationValidation:function(a){},getNumberFormatter:function(){},setNumberFormatter:function(a){},getLocalizedNumberFormatter:function(){},setLocalizedNumberFormatter:function(a){},getStringFormatter:function(){},setStringFormatter:function(a){},getDateFormatter:function(){},setDateFormatter:function(a){},getLocalizedDateFormatter:function(){},setLocalizedDateFormatter:function(a){},getDefaultLocalization:function(){},setDefaultLocalization:function(a){},getBaseURI:function(){},setBaseURI:function(a){},
getTooltipsForTruncatedText:function(){},setTooltipsForTruncatedText:function(a){},getGenerateAccessibility:function(){},setGenerateAccessibility:function(a){},getHighContrast:function(){},setHighContrast:function(a){},setContrast:function(a){},getContrast:function(){},copyConfigurationFrom:function(a){}});b.com_ibm_vis_engine_configuration_VisConfiguration=b.com_ibm_init_declare(b.com_ibm_vis_engine_configuration_IVisConfiguration,{so_2:!1,gp_1:!1,gt_1:!1,constructor:function(){this.so_1=null;this.so_2=
!0;this.le_1=this.de_1=this.se_1=this.le_2=this.ne_1=null;this.do_1=new b.com_ibm_vis_engine_LocalizationSettings;this.bR_1=null;this.gt_1=this.gp_1=!1;this.ht_1=b.com_ibm_vis_engine_configuration_HighContrastState.SYSTEM_DEFAULT},getSpecificationDefaultVersion:function(){return this.so_1},setSpecificationDefaultVersion:function(a){this.so_1=a},getSpecificationValidation:function(){return this.so_2},setSpecificationValidation:function(a){this.so_2=a},getNumberFormatter:function(){return this.ne_1},
setNumberFormatter:function(a){this.ne_1=a},getLocalizedNumberFormatter:function(){return this.le_2},setLocalizedNumberFormatter:function(a){this.le_2=a},getStringFormatter:function(){return this.se_1},setStringFormatter:function(a){this.se_1=a},getDateFormatter:function(){return this.de_1},setDateFormatter:function(a){this.de_1=a},getLocalizedDateFormatter:function(){return this.le_1},setLocalizedDateFormatter:function(a){this.le_1=a},getDefaultLocalization:function(){return this.do_1},setDefaultLocalization:function(a){a&&
(this.do_1=a.copy())},getBaseURI:function(){return this.bR_1},setBaseURI:function(a){this.bR_1=a},getTooltipsForTruncatedText:function(){return this.gp_1},setTooltipsForTruncatedText:function(a){this.gp_1=a},getGenerateAccessibility:function(){return this.gt_1},setGenerateAccessibility:function(a){this.gt_1=a},getHighContrast:function(){return this.ht_1},setHighContrast:function(a){this.ht_1=a},copyConfigurationFrom:function(a){this.ne_1=a.getNumberFormatter();this.le_2=a.getLocalizedNumberFormatter();
this.se_1=a.getStringFormatter();this.de_1=a.getDateFormatter();this.le_1=a.getLocalizedDateFormatter();this.so_1=a.getSpecificationDefaultVersion();this.so_2=a.getSpecificationValidation();this.setDefaultLocalization(a.getDefaultLocalization());this.bR_1=a.getBaseURI();this.gp_1=a.getTooltipsForTruncatedText();this.gt_1=a.getGenerateAccessibility();this.ht_1=a.getHighContrast();this.cr_1=a.getContrast()},setContrast:function(a){this.cr_1=a},getContrast:function(){return this.cr_1}});b.com_ibm_vis_interaction_internal_InteractivityMethod=
b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup=b.com_ibm_init_declare({ue_9:!1,ue_8:!1,constructor:function(a){this.ac_4=new b.com_ibm_rave_codegenerator_util_List;this.ac_4.add(a);this.ue_8=this.ue_9=!0;this.en_16=a.element;this.le_46=a.labelProducer;this.fl_11=a.valueProvider.getBaseField();this.sl_18=a.scale;this.type=a.type;this.pO_1=b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.specArrayToJSON(a.spec.palette);this.mO_1=b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.specArrayToJSON(a.spec.mapping);
this.me_13=this.ge$49(a.spec)},getAesthetics:function(){return this.ac_4},hasUniformSources:function(){return this.ue_9},addAesthetic:function(a){if(!this.fl_11||!a.valueProvider.getBaseField()||!this.ce$35(a.valueProvider.getBaseField(),a.scale))return!1;var d=this.ce$36(a.type,b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.specArrayToJSON(a.spec.palette),b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.specArrayToJSON(a.spec.mapping),this.ge$49(a.spec));if(!this.ue_9||a.element!=
this.en_16||a.labelProducer!=this.le_46)if(!this.ue_8||!d)return!1;this.ac_4.add(a);if(a.element!=this.en_16||a.labelProducer!=this.le_46)this.ue_9=!1;d||(this.ue_8=!1);return!0},mergeGroups:function(a){if(!this.fl_11||!a.fl_11||!this.ce$35(a.fl_11,a.sl_18))return!1;var b=this.ce$36(a.type,a.pO_1,a.mO_1,a.me_13);if(!this.ue_9||!a.ue_9||a.en_16!=this.en_16||a.le_46!=this.le_46)if(!this.ue_8||!a.ue_8||!b)return!1;this.ac_4.addAll(a.ac_4);if(a.en_16!=this.en_16||a.le_46!=this.le_46)this.ue_9=!1;b||(this.ue_8=
!1);return!0},ce$35:function(a,b){return a==this.fl_11&&a.unit.equals(this.fl_11.unit)&&b.areCompatible(this.sl_18)?!0:!1},ce$36:function(a,d,c,e){return this.type==a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isEqual(this.pO_1,d)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isEqual(this.mO_1,c)&&b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.sl$11(this.me_13.part,e.part)&&b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.sl$11(this.me_13.type,e.type)},ge$49:function(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.modifies,
b.com_ibm_vis_spec_internal_ModifiesSpec))return a.modifies;var d=new b.com_ibm_vis_spec_internal_ModifiesSpec;d.type=a.modifies;return d}});b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.sl$11=function(a,b){return null==a&&null==b||null!=a&&null!=b&&a==b};b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup.specArrayToJSON=function(a){if(!a)return null;for(var d=a.length,c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),e=0;e<d;++e){var g=a[e];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,
b.com_ibm_vis_engine_internal_nativeImpl_MappedJSONObject)&&(g=g.toJSON());b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(c,g,e)}return c};b.com_ibm_vis_engine_internal_legend_SwatchType=b.com_ibm_init_declare({type:0,me_15:!1,constructor:function(a,b,c,e){this.type=a;this.sl_21=b;this.sl_22=c;this.me_15=e},getType:function(){return this.type},getStyle:function(){return this.sl_21},getSymbolStyle:function(){return this.sl_22},hasMixedSources:function(){return this.me_15}});b.com_ibm_vis_engine_internal_legend_SwatchType.makeForFallback=
function(){var a=new b.com_ibm_vis_spec_internal_StyleSpec;a.symbol="square";a.outline="#000";a.fill="#aaa";return new b.com_ibm_vis_engine_internal_legend_SwatchType(12,a,null,!1)};b.com_ibm_vis_engine_internal_legend_SwatchType.makeForAesthetics=function(a,d){var c=a.size(),e=a.get(0),g=e.element,k=e.labelProducer;if(1==c)return k?b.com_ibm_vis_engine_internal_legend_SwatchType.makeForLabelProducer(k):b.com_ibm_vis_engine_internal_legend_SwatchType.makeForElement(g,d);for(var f=!1,h=1;!f&&h<c;++h){var l=
a.get(h);if(l.element!=g||l.labelProducer!=k)f=!0}if(!f)return k?b.com_ibm_vis_engine_internal_legend_SwatchType.makeForLabelProducer(k):b.com_ibm_vis_engine_internal_legend_SwatchType.makeForElement(g,d);k=b.com_ibm_vis_engine_internal_legend_SwatchType.modifySwatchType(b.com_ibm_vis_engine_internal_legend_SwatchType.tc$2(g,k),d);l=b.com_ibm_vis_engine_internal_legend_SwatchType.sn$16(g.spec.style);f=b.com_ibm_vis_engine_internal_legend_SwatchType.sn$16(g.spec.symbolStyle);for(h=1;h<c;++h)var m=
a.get(h),k=b.com_ibm_vis_engine_internal_legend_SwatchType.me$67(k,b.com_ibm_vis_engine_internal_legend_SwatchType.modifySwatchType(b.com_ibm_vis_engine_internal_legend_SwatchType.tc$2(m.element,m.labelProducer),d)),l=b.com_ibm_vis_engine_internal_legend_SwatchType.me$68(l,b.com_ibm_vis_engine_internal_legend_SwatchType.sn$16(m.element.spec.style)),f=b.com_ibm_vis_engine_internal_legend_SwatchType.me$68(f,b.com_ibm_vis_engine_internal_legend_SwatchType.sn$16(m.element.spec.symbolStyle));0==k&&(k=
"dashing"==e.type?2:"font"==e.type?11:12);"NOPE"!=l?c=g.spec.style:(c=new b.com_ibm_vis_spec_internal_StyleSpec,12==k&&(c.symbol="square"),2==k||3==k||7==k||8==k?c.fill="#000":(c.fill="#aaa",c.outline="#000"));"NOPE"!=f?g=g.spec.symbolStyle:3!=k?g=null:(g=new b.com_ibm_vis_spec_internal_StyleSpec,g.symbol="circle");return new b.com_ibm_vis_engine_internal_legend_SwatchType(k,c,g,!0)};b.com_ibm_vis_engine_internal_legend_SwatchType.makeForElement=function(a,d){var c=b.com_ibm_vis_engine_internal_legend_SwatchType.modifySwatchType(b.com_ibm_vis_engine_internal_legend_SwatchType.tn$7(a),
d);return new b.com_ibm_vis_engine_internal_legend_SwatchType(c,a.spec.style,a.spec.symbolStyle,!1)};b.com_ibm_vis_engine_internal_legend_SwatchType.modifySwatchType=function(a,b){return(5==a||4==a)&&b&&b.itemStyle&&null!=b.itemStyle.symbol?1:a};b.com_ibm_vis_engine_internal_legend_SwatchType.makeForLabelProducer=function(a){return new b.com_ibm_vis_engine_internal_legend_SwatchType(11,a.style,null,!1)};b.com_ibm_vis_engine_internal_legend_SwatchType.me$67=function(a,b){if(0==a||0==b)return 0;if(a==
b)return a;if(2==a||3==a||7==a||8==a){if(2==b||3==b||7==b||8==b)return 3==a||3==b?3:2}else if(5==a||4==a){if(5==b||4==b)return 5}else if(9==a||10==a)if(9==b||10==b)return 9;return 0};b.com_ibm_vis_engine_internal_legend_SwatchType.tc$2=function(a,d){return d?11:b.com_ibm_vis_engine_internal_legend_SwatchType.tn$7(a)};b.com_ibm_vis_engine_internal_legend_SwatchType.tn$7=function(a){var b=a.type;return"point"==b?1:"line"==b?a.isLineWithPoints?3:2:"area"==b?"smooth"==a.spec.interpolation?4:5:"interval"==
b?6:"edge"==b?7:"path"==b?8:"polygon"==b?9:b.CPVISEngineStartsWith("schema")?10:"text"==b?11:12};b.com_ibm_vis_engine_internal_legend_SwatchType.me$68=function(a,b){return null==a&&null==b?null:null==a||null==b||"NOPE"==a||"NOPE"==b?"NOPE":a==b?a:"NOPE"};b.com_ibm_vis_engine_internal_legend_SwatchType.sn$16=function(a){if(!a)return null;try{return b.com_ibm_rave_codegenerator_util_BasicFactory.serialize(a.toJSON())}catch(d){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))throw d;
}return"NOPE"};b.com_ibm_vis_engine_internal_legend_SwatchType.IE_2=0;b.com_ibm_vis_engine_internal_legend_SwatchType.POINT=1;b.com_ibm_vis_engine_internal_legend_SwatchType.LINE=2;b.com_ibm_vis_engine_internal_legend_SwatchType.LINE_WITH_POINTS=3;b.com_ibm_vis_engine_internal_legend_SwatchType.AREA_SMOOTHED=4;b.com_ibm_vis_engine_internal_legend_SwatchType.AREA_UNSMOOTHED=5;b.com_ibm_vis_engine_internal_legend_SwatchType.INTERVAL=6;b.com_ibm_vis_engine_internal_legend_SwatchType.EDGE=7;b.com_ibm_vis_engine_internal_legend_SwatchType.PATH=
8;b.com_ibm_vis_engine_internal_legend_SwatchType.POLYGON=9;b.com_ibm_vis_engine_internal_legend_SwatchType.SCHEMA=10;b.com_ibm_vis_engine_internal_legend_SwatchType.TEXT=11;b.com_ibm_vis_engine_internal_legend_SwatchType.FALLBACK=12;b.com_ibm_vis_engine_internal_legend_SwatchType.IE_1="NOPE";b.com_ibm_vis_engine_internal_nativeImpl_Internationalization=function(){var a;return{getString:function(d){a||(a=b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil.getBundle("raveA11y"));return a[d]}}}();b.com_ibm_vis_engine_internal_legend_LegendAesthetics=
b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getDefaultSimpleLegendAesthetics=function(a,d){for(var c=b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getReferencedAestheticIDs(d),e=b.com_ibm_vis_engine_internal_legend_LegendAesthetics.isFacetChart(a),g=new b.com_ibm_rave_codegenerator_util_List,k=0,f=a.length;k<f;++k)for(var h=0,l=a[k].elements,m=l.length;h<m;++h)g.addAll(b.com_ibm_vis_engine_internal_legend_LegendAesthetics.mp$12(l[h].aesthetics,c,e));c=
new b.com_ibm_rave_codegenerator_util_List;e=0;k=g.arrayIterator();for(f=k.length;e<f;++e){for(var g=k[e],h=!1,l=0,m=c.arrayIterator(),p=m.length;l<p;++l)if(m[l].mergeGroups(g)){h=!0;break}h||c.add(g)}g=c;c=new b.com_ibm_rave_codegenerator_util_List;e=0;k=g.arrayIterator();for(f=k.length;e<f;++e)g=k[e],c.add(g.ac_4);return c};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.mp$12=function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;if(!a||0==a.length)return e;for(var g=0,k=a.length;g<
k;++g){var f=a[g];if(b.com_ibm_vis_engine_internal_legend_LegendAesthetics.il$15(f,c,d)){for(var h=!1,l=0,m=e.arrayIterator(),p=m.length;l<p;++l)if(m[l].addAesthetic(f)){h=!0;break}h||e.add(new b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup(f))}}return e};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.il$15=function(a,d,c){var e=null!=a.scale.localScale&&a.scale.localScale.valueOf();return a.valueProvider.getBaseField()&&(!e||!d)&&(null==a.id||!c.contains(a.id))&&b.com_ibm_vis_engine_internal_legend_LegendAesthetics.il$16(a,
!0)};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getSimpleAestheticsByReferences=function(a,d){var c=b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getAestheticsByReferences(a,d),e=c.size(),g=c.get(0);b.com_ibm_vis_engine_internal_legend_LegendAesthetics.vi$1(g);for(var k=new b.com_ibm_vis_engine_internal_legend_LegendAestheticGroup(g),f=1;f<e;++f)if(g=c.get(f),b.com_ibm_vis_engine_internal_legend_LegendAesthetics.vi$1(g),!k.addAesthetic(c.get(f)))throw new b.com_ibm_vis_exceptions_internal_SpecException("The aesthetics "+
b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getIDsAsString(a)+" cannot be displayed together in a simple or swatch legend",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);e=new b.com_ibm_rave_codegenerator_util_List;e.add(c);return e};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.vi$1=function(a){if(!b.com_ibm_vis_engine_internal_legend_LegendAesthetics.il$16(a,!1))throw new b.com_ibm_vis_exceptions_internal_SpecException("Aesthetic '"+a.id+"' of type "+a.type+" cannot be displayed by a simple or swatch legend",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.il$16=function(a,b){return b?a.ud_1:a.an_8};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getReferencedAestheticIDs=function(a){var d=new b.com_ibm_rave_codegenerator_util_Set;if(a)for(var c=0,e=a.length;c<e;++c){var g=a[c];if(g.aesthetics)for(var k=0,g=g.aesthetics,f=g.length;k<f;++k)d.add(g[k].aesthetic.$ref)}return d};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getAestheticsByReferences=
function(a,d){if(0==a.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legends with 'aesthetics' must list at least one aesthetic",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.length;e<g;++e){var k=a[e];if(!k||!k.aesthetic||null==k.aesthetic.$ref)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend 'aesthetics' must be non-null, and each must have a non-null 'aesthetic' with non-null '$ref' to an aesthetic",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);var f=d.getByID(k.aesthetic.$ref);if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_grammar_aesthetic_Aesthetic))throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend 'aesthetics' reference '"+k.aesthetic.$ref+"' which is not an aesthetic",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);c.add(f)}return c};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.isFacetChart=function(a){for(var b=
0,c=a.length;b<c;++b)if(a[b].isFacetChart())return!0;return!1};b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getIDsAsString=function(a){for(var b="",c=0;c<a.length;++c)b+="'"+a[c].aesthetic.$ref+"'",c<a.length-1&&(b+=",");return b};b.com_ibm_vis_exceptions_internal_SchemaValidationException=b.com_ibm_init_declare(b.com_ibm_vis_exceptions_VisException,{constructor:function(a,b,c){this.vr_1=c},getMessage:function(){return this.vr_1.toString()}});b.com_ibm_init_statics.initialize();b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/dataProviderLayer",
function(){b.com_ibm_vis_engine_dataProviderService_DataProviderField=b.com_ibm_init_declare({key:!1,constructor:function(a){this.id=a},copy:function(){var a=new b.com_ibm_vis_engine_dataProviderService_DataProviderField(this.id);a.le_30=this.le_30;a.unit=this.unit;a.key=this.key;a.min=this.min;a.max=this.max;a.gt_3=this.gt_3;a.tn_2=this.tn_2;a.setCategories(this.ce_12);a.setOrder(this.oe_6);a.pi_2=this.pi_2;a.si_4=this.si_4;a.nr_4=this.nr_4;a.dr_2=this.dr_2;a.sr_2=this.sr_2;a.fo_3=this.fo_3;a.zr_1=
this.zr_1;a.zr_2=this.zr_2;a.nr_1=this.nr_1;a.nr_2=this.nr_2;a.nr_3=this.nr_3;a.sn_3=this.sn_3;a.se_21=this.se_21;a.se_22=this.se_22;return a},getName:function(){return this.id},setId:function(a){this.id=a},getId:function(){return this.id},getLabel:function(){return this.le_30},setLabel:function(a){this.le_30=a},getUnit:function(){return this.unit},setUnit:function(a){this.unit=a},isKey:function(){return this.key},setKey:function(a){this.key=a},getMin:function(){return this.min},setMin:function(a){this.min=
a},getMax:function(){return this.max},setMax:function(a){this.max=a},getGranularity:function(){return this.gt_3},setGranularity:function(a){this.gt_3=a},getTimeZone:function(){return this.tn_2},setTimeZone:function(a){this.tn_2=a},getCategories:function(){return this.ce_12},setCategories:function(a){if(a){var b=a.length;this.ce_12=Array(b);for(var c=0;c<b;++c)this.ce_12[c]=a[c]}else this.ce_12=null},getOrder:function(){return this.oe_6},setOrder:function(a){if(a){var b=a.length;this.oe_6=Array(b);
for(var c=0;c<b;++c)this.oe_6[c]=a[c]}else this.oe_6=null},getPrefix:function(){return this.pi_2},setPrefix:function(a){this.pi_2=a},getSuffix:function(){return this.si_4},setSuffix:function(a){this.si_4=a},getNumericPattern:function(){return this.nr_4},setNumericPattern:function(a){this.nr_4=a},getDatePattern:function(){return this.dr_2},setDatePattern:function(a){this.dr_2=a},getScientificPattern:function(){return this.sr_2},setScientificPattern:function(a){this.sr_2=a},getFitMethod:function(){return this.fo_3},
setFitMethod:function(a){if(null==a||"none"==a||b.com_ibm_vis_internal_SpecConstants.REDUCEPRECISION==a)this.fo_3=a},getZeroFormatNumericPattern:function(){return this.zr_1},setZeroFormatNumericPattern:function(a){this.zr_1=a},getZeroFormatScientificPattern:function(){return this.zr_2},setZeroFormatScientificPattern:function(a){this.zr_2=a},getNegativeFormatNumericPattern:function(){return this.nr_1},setNegativeFormatNumericPattern:function(a){this.nr_1=a},getNegativeFormatScientificPattern:function(){return this.nr_2},
setNegativeFormatScientificPattern:function(a){this.nr_2=a},getNoSpaceFormatPattern:function(){return this.nr_3},setNospaceFormatPattern:function(a){this.nr_3=a},getScientificString:function(){return this.sn_3},setScientificString:function(a){if(null==a||"always"==a||"never"==a)this.sn_3=a},getScientificLower:function(){return this.se_21},setScientificLower:function(a){this.se_21=a},getScientificUpper:function(){return this.se_22},setScientificUpper:function(a){this.se_22=a}});b.com_ibm_vis_engine_dataProviderService_DataProviderListener=
b.com_ibm_init_declare.implement({providerReady:function(){},providerFailed:function(a){}});b.com_ibm_vis_engine_dataProviderService_DataProvider=b.com_ibm_init_declare.implement({registerListener:function(a){},getListener:function(){},prepare:function(){},getNumFields:function(){},getFields:function(){},getNumRows:function(){},getFirstRow:function(){},getNextRow:function(){},deregister:function(){}});b.com_ibm_vis_engine_dataProviderService_DataProviderFactory=b.com_ibm_init_declare.implement({getProviderIDList:function(){},
getProvider:function(a,b){}});b.com_ibm_vis_engine_dataProviderService_internal_DataProviderListenerImpl=b.com_ibm_init_declare(b.com_ibm_vis_engine_dataProviderService_DataProviderListener,{ra_4:!1,ac_1:!1,constructor:function(a){this.ra_4=!1;this.fg_1=null;this.ao_1=a},providerReady:function(){this.ra_4||(this.ra_4=!0,this.ac_1&&this.ao_1&&this.ao_1.run())},isReady:function(){this.ac_1=!0;return this.ra_4},providerFailed:function(a){this.fg_1=null!=a?a:b.com_ibm_vis_engine_dataProviderService_internal_DataProviderListenerImpl.NO_REASON_GIVEN;
this.ao_1.run()},checkFailure:function(){if(null!=this.fg_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("A data provider has failed: "+this.fg_1,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_FAILED);}});b.com_ibm_vis_engine_dataProviderService_internal_DataProviderListenerImpl.NO_REASON_GIVEN="No reason given";b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate=b.com_ibm_init_declare({constructor:function(){this.de_5=new b.com_ibm_rave_codegenerator_util_Map},
registerFactory:function(a){var d=a.getProviderIDList();if(d)for(var c=0,e=d.length;c<e;++c){var g=d[c];if(null!=g)this.de_5.put(g,a);else throw new b.com_ibm_vis_exceptions_internal_EngineException("A DataProviderFactory returned a null ID",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_FAILED);}else throw new b.com_ibm_vis_exceptions_internal_EngineException("A DataProviderFactory returned a null list of IDs",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_FAILED);},unregisterFactory:function(a){if(a&&
(a=a.getProviderIDList()))for(var b=0,c=a.length;b<c;++b){var e=a[b];null!=e&&this.de_5.remove(e)}},getDataProvider:function(a,d,c){var e=c.provider,g=e.providerId,e=e.args,k,f=this.de_5.get(g),h;if(f){var l;try{l=f.getProvider(g,e)}catch(m){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(m,Error))throw new b.com_ibm_vis_exceptions_internal_EngineException("The DataProviderFactory threw exception '"+m.getMessage()+"' for provider id '"+g+"'",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_NOT_FOUND);
throw m;}if(!l)throw new b.com_ibm_vis_exceptions_internal_EngineException("The DataProviderFactory returned null for id '"+g+"'",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_NOT_FOUND);try{h=l.getListener(),h||(h=c.getCachedObject(),l.registerListener(h)),h.checkFailure()}catch(p){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(p,Error))throw b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.wrapException(p);throw p;}d=new b.com_ibm_vis_engine_dataProviderService_internal_DataProviderPrepareWrapper(d,
l);b.com_ibm_vis_engine_internal_nativeImpl_ThreadLauncher.getInstance("dataprovider").execute(d);h.checkFailure();k=new b.com_ibm_vis_engine_dataProviderService_internal_DataProviderConverterImpl(a,c,l,h)}else h=c.getCachedObject(),h.providerFailed("Data provider of type "+g+" not found.");return k}});b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.getInstance=function(){b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.IC_4||(b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.IC_4=
new b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate);return b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.IC_4};b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.wrapException=function(a){return new b.com_ibm_vis_exceptions_internal_EngineException("A data provider threw exception: "+a.getMessage(),b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_FAILED)};b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_engine_dataProviderService_internal_DataProviderPrepareWrapper=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_RaveRunnable,{constructor:function(a,b){this.vis=a;this.provider=b},run:function(){try{this.provider.prepare()}catch(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,Error))this.vis.getLogger().hasListeners()&&this.vis.getLogger().error(b.com_ibm_vis_monitor_LogComponent.CommonGrammar,"There was a problem preparing a data provider: "+a.toString());else throw a;}}});b.com_ibm_vis_engine_internal_nativeImpl_ThreadLauncher=function(){var a=
b.com_ibm_init_declare({execute:function(a){a.run()},dispose:function(){}});a.launcher;a.getInstance=function(b){a.launcher||(a.launcher=new a);return a.launcher};a.disposeAll=function(){};return a}();b.com_ibm_vis_engine_internal_data_DataProviderConverter=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter=b.com_ibm_init_declare({fp_2:0,ne_5:0,constructor:function(a){this.fl_1=a;var d=a.ce_12;this.ne_5=d?d.length:0;this.unit=null==a.unit?
null:b.com_ibm_vis_engine_internal_grammar_units_Unit.get(a.unit,d?b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL:b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO);if(d)for(this.fp_2=0,this.ce_13=new b.com_ibm_rave_codegenerator_util_Map,a=0;a<d.length;++a)this.ce_13.put(d[a],a);else this.fp_2=b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL==this.unit?1:this.unit==b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE||this.unit==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIME||
this.unit==b.com_ibm_vis_engine_internal_grammar_units_Unit.TIMESTAMP?4:5},convertValue:function(a){if(null==a||b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)&&a!=a)return NaN;switch(this.fp_2){case 0:return this.ce$12(a);case 1:return this.ca$6(a);case 2:return this.ce$13(a);case 3:return this.cn$4(a);case 4:return this.cm$2(a);case 5:return this.cu$1(a)}throw new b.com_ibm_vis_exceptions_internal_EngineException("An internal error occurred in data conversion: field type "+this.fp_2,
b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},ce$12:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){var d=a;a=this.ce_13.get(a);if(null==a)throw new b.com_ibm_vis_exceptions_internal_EngineException("The string '"+d+'\' does not appear in the "categories" of field '+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);return a}if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)){d=a;if(Math.floor(d)==d&&(a=Math.floor(d),0<=
a&&a<this.ne_5))return a;throw new b.com_ibm_vis_exceptions_internal_EngineException("The value '"+d+'\' is not a legal index for the "categories" of field '+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);}throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal data value returned by data provider for field '"+this.fl_1.id+'\'; for fields with "categories" only number and string are allowed',b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},ca$6:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return this.fp_2=
2,this.ce$13(a);if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))return this.fp_2=3,this.ce_13=new b.com_ibm_rave_codegenerator_util_Map,this.cs_1=new b.com_ibm_rave_codegenerator_util_List,this.cn$4(a);throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal data value returned by data provider for field '"+this.fl_1.id+"'; for unit:categorical fields only number and string are allowed"+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},ce$13:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)&&
a==Math.floor(a)&&0<=a)return a;throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal data value returned by data provider for field '"+this.fl_1.id+"'; only non-negative integers are allowed in this field"+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},cn$4:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){var d;d=this.ce_13.get(a);null==d&&(d=this.cs_1.size(),this.ce_13.put(a,d),this.cs_1.add(a));return d}throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal data value returned by data provider for field '"+
this.fl_1.id+"'; only strings are allowed in this field"+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},cm$2:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return a;a=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.asDate(a);if(null!=a)return b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(a,this.unit);throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal data value returned by data provider for field '"+
this.fl_1.id+"'; for time fields only number and date are allowed"+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},cu$1:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return a;throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal data value returned by data provider for field '"+this.fl_1.id+"'; for continuous fields only number is allowed"+this.fl_1.id,b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);},getCategories:function(){var a;
if(this.fl_1.ce_12){var b=this.fl_1.ce_12;a=Array(this.ne_5);for(var c=0;c<this.ne_5;++c)a[c]=b[c]}else this.cs_1&&(a=this.cs_1.toArray(Array(this.cs_1.size())));return a},makeFieldSpec:function(){var a=new b.com_ibm_vis_spec_internal_FieldSpec;a.id=this.fl_1.id;a.label=this.fl_1.le_30;a.unit=this.fl_1.unit;a.key=this.fl_1.key;a.min=this.fl_1.min;a.max=this.fl_1.max;a.granularity=this.fl_1.gt_3;a.timeZone=this.fl_1.tn_2;var d=this.fl_1.oe_6;if(d){var c=d.length;a.order=Array(c);for(var e=0;e<c;++e)a.order[e]=
d[e]}a.categories=this.getCategories();a.format=this.me$3();return a},me$3:function(){var a=!1,d=new b.com_ibm_vis_spec_internal_FormatSpec,c,e;c=this.fl_1.pi_2;null!=c&&(d.prefix=c,a=!0);c=this.fl_1.si_4;null!=c&&(d.suffix=c,a=!0);c=this.fl_1.nr_4;null!=c&&(d.numericPattern=c,a=!0);c=this.fl_1.dr_2;null!=c&&(d.datePattern=c,a=!0);c=this.fl_1.sr_2;null!=c&&(d.scientificPattern=c,a=!0);c=this.fl_1.fo_3;null!=c&&(d.fitMethod=c,a=!0);c=this.fl_1.zr_1;e=this.fl_1.zr_2;if(null!=c||null!=e)d.zeroFormat=
new b.com_ibm_vis_spec_internal_ZeroFormatSpec,d.zeroFormat.numericPattern=c,d.zeroFormat.scientificPattern=e,a=!0;c=this.fl_1.nr_1;e=this.fl_1.nr_2;if(null!=c||null!=e)d.negativeFormat=new b.com_ibm_vis_spec_internal_NegativeFormatSpec,d.negativeFormat.numericPattern=c,d.negativeFormat.scientificPattern=e,a=!0;c=this.fl_1.nr_3;null!=c&&(d.noSpaceFormat=new b.com_ibm_vis_spec_internal_NoSpaceFormatSpec,d.noSpaceFormat.pattern=c,a=!0);c=this.fl_1.sn_3;if(null!=c)d.scientific=c,a=!0;else if(c=this.fl_1.se_21,
e=this.fl_1.se_22,null!=c||null!=e)a=new b.com_ibm_vis_spec_internal_ScientificSpec,a.lower=c,a.upper=e,d.scientific=a,a=!0;return a?d:null}});b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter.FE_2=0;b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter.FA_1=1;b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter.FE_1=2;b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter.FN_1=3;b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter.FM_1=
4;b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter.FU_1=5;b.com_ibm_vis_engine_dataProviderService_internal_DataProviderConverterImpl=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_DataProviderConverter,{nd_2:0,constructor:function(a,b,c,e){this.data=a;this.de_4=b;this.pe_6=c;this.le_31=e;this.nd_2=-1;this.fr_1=null},setFields:function(){if(this.fr_1)throw new b.com_ibm_vis_exceptions_internal_EngineException("An internal engine error occurred (DataProviderAdapter#setFields method called twice)",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);this.le_31.checkFailure();try{this.nd_2=this.pe_6.getNumFields()}catch(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,Error))throw b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.wrapException(a);throw a;}var d;this.le_31.checkFailure();try{d=this.pe_6.getFields()}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,Error))throw b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.wrapException(c);
throw c;}this.le_31.checkFailure();if(this.nd_2!=d.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("A DataProvider's getNumFields and getFields returned inconsistent information",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);for(var e=0;e<this.nd_2;++e)if(!d[e])throw new b.com_ibm_vis_exceptions_internal_EngineException("A DataProvider's getFields returned a null field descriptor",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);this.fr_1=Array(this.nd_2);
this.de_4.fields=Array(this.nd_2);for(e=0;e<this.nd_2;++e)this.fr_1[e]=new b.com_ibm_vis_engine_dataProviderService_internal_DataProviderFieldConverter(d[e].copy()),this.de_4.fields[e]=this.fr_1[e].makeFieldSpec()},setRows:function(){this.le_31.checkFailure();var a;try{a=this.pe_6.getNumRows()}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))throw b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.wrapException(d);throw d;}this.de_4.rows=Array(a);
for(var c=0;c<a;++c){this.le_31.checkFailure();var e;try{e=0==c?this.pe_6.getFirstRow():this.pe_6.getNextRow()}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,Error))throw b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.wrapException(g);throw g;}this.de_4.rows[c]=this.mo$2(e)}this.le_31.checkFailure();for(a=0;a<this.nd_2;++a)if(c=this.fr_1[a].getCategories())this.de_4.fields[a].categories=c,this.data.fields&&this.data.fields[a]&&(this.data.fields[a].categories=
c)},mo$2:function(a){if(!a||a.length!=this.nd_2)throw new b.com_ibm_vis_exceptions_internal_EngineException("A DataProvider's getFirstRow/getNextRow returned a null row or one with the wrong number of fields",b.com_ibm_vis_exceptions_ErrorCode.DATA_PROVIDER_CONVERSION);for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([this.nd_2],0),c=0;c<this.nd_2;++c)d[c]=this.fr_1[c].convertValue(a[c]);return d},isReady:function(){return this.le_31.isReady()}});b.com_ibm_vis_engine_dataProviderService_DataProviderService=
b.com_ibm_init_declare({constructor:function(){this.dt_1=b.com_ibm_vis_engine_dataProviderService_internal_DataProviderServiceDelegate.getInstance()},registerFactory:function(a){a&&this.dt_1.registerFactory(a)},unregisterFactory:function(a){a&&this.dt_1.unregisterFactory(a)}});b.com_ibm_vis_engine_dataProviderService_DataProviderService.getInstance=function(){b.com_ibm_vis_engine_dataProviderService_DataProviderService.IC_3||(b.com_ibm_vis_engine_dataProviderService_DataProviderService.IC_3=new b.com_ibm_vis_engine_dataProviderService_DataProviderService);
return b.com_ibm_vis_engine_dataProviderService_DataProviderService.IC_3};b.com_ibm_init_statics.add(function(){});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/graphLayoutsLayer",function(){b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{rn_5:0,ne_20:!1,constructor:function(a){this.le_43=a.getSpec();this.il_4=this.le_43.id?this.le_43.id.$ref:null;this.fl_8=this.le_43.from?
this.le_43.from.$ref:null;this.tl_5=this.le_43.to?this.le_43.to.$ref:null;null!=this.le_43.attachmentPoint?b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.le_43.attachmentPoint)?this.ae_20=this.le_43.attachmentPoint:this.ae_20=null:this.ae_20=b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.ATTACH_CLOSEST;this.ne_21=new b.com_ibm_rave_codegenerator_util_NumericMap;this.na_6=new b.com_ibm_rave_codegenerator_util_HashMap;this.ik_1=new b.com_ibm_rave_codegenerator_util_HashMap;this.ca_6=
new b.com_ibm_rave_codegenerator_util_HashMap;this.de_19=new b.com_ibm_vis_engine_internal_struct_Path(null,null,!1,null);this.ne_20=!1},respectsTransforms:function(){return!1},prepareForNewRows:function(a){this.ca_6.clear();this.na_6.clear();this.ne_21.clear();this.ik_1.clear()},makeElementShapes:function(a,d){this.en_12=d;var c=new b.com_ibm_rave_codegenerator_util_List;this.ne_21=this.adapter.getElementItems(this.il_4);this.rn_5=a;this.pa$2();for(var e=this.adapter.getSharedLayoutInfo().le_35,
g=new b.com_ibm_rave_codegenerator_util_List,k=0;k<a;++k){var f=this.adapter.getFieldNumericValue(this.fl_8,k),h=this.adapter.getFieldNumericValue(this.tl_5,k);if(f==f&&h==h&&!this.adapter.isLinkPruned(f,h)){var l=this.ne_21.get(f),m=this.ne_21.get(h);if(e&&this.ie$40(l,m))f=l.getCenter().distance(m.getCenter()),g.add(new b.com_ibm_vis_engine_internal_grammar_layout_LinkLength(k,f));else{var p=this.me$30(l,m,k);p&&(null!=p.getSymbol()&&0<=p.getSymbol().indexOf("lbow")?(l=this.adapter.getSharedLayoutInfo().getRoutingGroupType(l.getRows()[0],
m.getRows()[0]),f=this.mn$20(p,f,h,l),c.add(f)):c.add(p))}}}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(g,new b.com_ibm_vis_engine_internal_grammar_layout_LinkLengthComparator);if(e&&!g.isEmpty())for(e=0,g=g.arrayIterator(),k=g.length;e<k;++e)p=g[e],f=this.adapter.getFieldNumericValue(this.fl_8,p.getValue()),h=this.adapter.getFieldNumericValue(this.tl_5,p.getValue()),l=this.ne_21.get(f),m=this.ne_21.get(h),(p=this.mt$8(l,m,p.getValue()))&&c.add(p);return c},mn$20:function(a,d,c,e){if(1002!=
a.getType())return a;var g=a.x.length,k=0<=a.getSymbol().indexOf("urved"),f=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List;f.add(new b.com_ibm_vis_geom_Point(a.x[0],a.y[0]));h.add(a.getTypes()[0]);var l;if(null!=a.getStartArrowName()&&null!=a.getPreferHorizontal())if(l=this.go$12(a.getStartArrow()),a.getPreferHorizontal()){var m=Math.min(l.getLength(),Math.abs(a.x[1]-a.x[0]));a.x[0]+=a.x[1]>a.x[0]?m:-m}else{var p=Math.min(l.getLength(),Math.abs(a.y[1]-a.y[0]));
a.y[0]+=a.y[1]>a.y[0]?p:-p}var q=new b.com_ibm_vis_geom_Point(a.x[g-1],a.y[g-1]);null!=a.getEndArrowName()&&null!=a.getPreferHorizontal()&&(l=this.go$12(a.getEndArrow()),m=Math.min(l.getLength(),Math.abs(a.x[g-1]-a.x[g-2])),p=Math.min(l.getLength(),Math.abs(a.y[g-1]-a.y[g-2])),a.getPreferHorizontal()||0==p?a.x[g-1]-=a.x[g-1]>a.x[g-2]?m:-m:a.y[g-1]-=a.y[g-1]>a.y[g-2]?p:-p);for(l=1;l<g;++l){var r=!1,m=Math.abs(a.x[l]-a.x[l-1]),p=Math.abs(a.y[l]-a.y[l-1]),t=1>m||1>p,w=null==a.getPreferHorizontal()?m>
p:a.getPreferHorizontal(),x=this.gn$16(a,l,d,c,e),y=NaN;null!=e&&(y=e);var z=x.x,x=x.y;k&&!t?(w?p<=m?(f.add(new b.com_ibm_vis_geom_Point(z,a.y[l-1])),f.add(new b.com_ibm_vis_geom_Point(z,x)),f.add(new b.com_ibm_vis_geom_Point(z,a.y[l])),h.add(81),h.add(44)):(m=a.y[l]>a.y[l-1]?m/2:-m/2,f.add(new b.com_ibm_vis_geom_Point(z,a.y[l-1])),f.add(new b.com_ibm_vis_geom_Point(z,a.y[l-1]+m)),f.add(new b.com_ibm_vis_geom_Point(z,a.y[l]-m)),f.add(new b.com_ibm_vis_geom_Point(z,a.y[l])),h.add(81),h.add(44),h.add(76)):
m<=p?(f.add(new b.com_ibm_vis_geom_Point(a.x[l-1],x)),f.add(new b.com_ibm_vis_geom_Point(z,x)),f.add(new b.com_ibm_vis_geom_Point(a.x[l],x)),h.add(81),h.add(44)):(m=a.x[l]>a.x[l-1]?p/2:-p/2,f.add(new b.com_ibm_vis_geom_Point(a.x[l-1],x)),f.add(new b.com_ibm_vis_geom_Point(a.x[l-1]+m,x)),f.add(new b.com_ibm_vis_geom_Point(a.x[l]-m,x)),f.add(new b.com_ibm_vis_geom_Point(a.x[l],x)),h.add(81),h.add(44),h.add(76)),h.add(81),r=!0):t||(h.add(76),h.add(76),w?b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==
y&&1==l?f.add(new b.com_ibm_vis_geom_Point(a.x[l-1],a.y[l])):(f.add(new b.com_ibm_vis_geom_Point(z,a.y[l-1])),f.add(new b.com_ibm_vis_geom_Point(z,a.y[l]))):b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==y&&1==l?f.add(new b.com_ibm_vis_geom_Point(a.x[l],a.y[l-1])):(f.add(new b.com_ibm_vis_geom_Point(a.x[l-1],x)),f.add(new b.com_ibm_vis_geom_Point(a.x[l],x))));l==g-1?f.add(q):f.add(new b.com_ibm_vis_geom_Point(a.x[l],a.y[l]));h.add(r?44:76)}g=f.size();d=b.com_ibm_rave_codegenerator_lang_Array.create([g],
0);c=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);e=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);for(l=0;l<g;++l)e[l]=h.get(l),k=f.get(l),d[l]=k.x,c[l]=k.y;g=this.adapter.makeItemFromPath(d,c,e,a.isFilled(),a.getRows()[0]);this.setEdgeProperties(g,a.getRows()[0]);return g},go$12:function(a){a=new b.com_ibm_vis_engine_internal_struct_ArrowGeom(a);a.configForStrokeWidth(null);return a},gn$16:function(a,d,c,e,g){var k=(a.x[d]+a.x[d-1])/2,f=(a.y[d]+a.y[d-1])/2,h=NaN;null!=g&&(h=g);b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.NORMAL_LAYOUT==
h&&(1==d&&3==a.x.length?this.adapter.isSwapXY()?k=(a.x[2]+a.x[0])/2:f=(a.y[2]+a.y[0])/2:2==d&&4==a.x.length&&(this.adapter.isSwapXY()?k=(a.x[3]+a.x[1])/2:f=(a.y[3]+a.y[1])/2));2!=a.x.length||(g=this.adapter.getSharedLayoutInfo(),g.isManuallyPositioned(c)||g.isManuallyPositioned(e)||!(e=g.le_35))||(c=e[g.la_1.get(c)],e=c.min,this.adapter.isCenteredLayerPlacement()||(e+=.2*c.range),this.adapter.isSwapXY()?(k=this.adapter.isReflectY()?a.x[d-1]<a.x[d]?(1-e)*this.en_12.wt_2:(1-c.max)*this.en_12.wt_2:a.x[d-
1]<a.x[d]?c.max*this.en_12.wt_2:e*this.en_12.wt_2,k+=this.adapter.getLayoutBoundsStartPoint().x):(f=this.adapter.isReflectY()?a.y[d-1]<a.y[d]?c.max*this.en_12.hh_1:e*this.en_12.hh_1:a.y[d-1]<a.y[d]?(1-e)*this.en_12.hh_1:(1-c.max)*this.en_12.hh_1,f+=this.adapter.getLayoutBoundsStartPoint().y));return new b.com_ibm_vis_geom_Point(k,f)},me$30:function(a,b,c){if(!a||!b)return null;a==b?a=this.mn$21(a,c):(a=this.adapter.isOriented()?this.mt$9(a,b,c):this.mt$10(a,b,c),this.setEdgeProperties(a,c));return a},
setEdgeProperties:function(a,d){var c=this.adapter.isOriented()?this.adapter.isSwapXY():null,e=this.adapter.getStyle(),g=e?e.symbol:null,g=b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g)?g:null;a.setEdgeProperties(c,g,e?e.startArrow:null,e?e.endArrow:null);a.setRow(d)},mt$8:function(a,d,c){var e=this.adapter.getSharedLayoutInfo(),g=e.isManuallyPositioned(a.getRows()[0])||e.isManuallyPositioned(d.getRows()[0]),k=e.getRoutingInfo(a.getRows()[0],d.getRows()[0]),f=0==k.length,h=f?2:3,e=b.com_ibm_rave_codegenerator_lang_Array.create([h],
0),l=b.com_ibm_rave_codegenerator_lang_Array.create([h],0),m=b.com_ibm_rave_codegenerator_lang_Array.create([h],0),p=this.ll_9[c],q=this.co$3(p,this.ca_6),r=this.cT$1(p,this.ca_6);m[0]=77;e[0]=q.x;l[0]=q.y;m[h-1]=76;e[h-1]=r.x;l[h-1]=r.y;f||(k=this.ce$22(k,p),p=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.isFarSide(p.fn_3.side),a=this.adapter.isSwapXY()?p?new b.com_ibm_vis_geom_Point(a.getBounds().getX2()+k,(a.getCenter().y+d.getCenter().y)/2):new b.com_ibm_vis_geom_Point(a.getBounds().x-
k,(a.getCenter().y+d.getCenter().y)/2):p?new b.com_ibm_vis_geom_Point((a.getCenter().x+d.getCenter().x)/2,a.getBounds().getY2()+k):new b.com_ibm_vis_geom_Point((a.getCenter().x+d.getCenter().x)/2,a.getBounds().y-k),e[1]=a.x,l[1]=a.y,m[1]=76);return(new b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder(this.adapter)).makeInLayerLink(e,l,m,c,g)},ce$22:function(a,b){var c=b.from,e=this.adapter.getSharedLayoutInfo(),g=e.pd_1,k=a[0].y,f;this.adapter.isSwapXY()?(f=(b.from.getCenter().x-
g.x)/g.wt_3,this.adapter.isReflectY()&&(f=1-f)):(f=(b.from.getCenter().y-g.y)/g.hh_2,this.adapter.isReflectY()||(f=1-f));var h=this.fo$2(e.le_35,f);f=e.le_35[h];e=e.getIntraLayerLinkLevelCount(h);c=this.adapter.isSwapXY()?f.range*g.wt_3-c.getBounds().wt_3:f.range*g.hh_2-c.getBounds().hh_2;0==f.min?c+=this.adapter.isSwapXY()?g.x:g.y:1==f.max&&(c+=this.adapter.isSwapXY()?this.en_12.wt_2-(g.x+g.wt_3):this.en_12.hh_1-(g.y+g.hh_2));c-=1.5*this.gl$7();g=1.5*this.az$1();return(c/2-g)*k/e+g},fo$2:function(a,
b){for(var c=0;c<a.length;++c)if(a[c].contains(b))return c;return-1},gl$7:function(){var a=1,d=this.adapter.getStyle()?this.adapter.getStyle():new b.com_ibm_vis_spec_internal_StyleSpec;d.stroke&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d.stroke.width)?a=d.stroke.width:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d.stroke.width)&&(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.stroke.width,1,this.en_12.hh_1)));return a},az$1:function(){return this.ne_20?
Math.max(8,4.2*this.gl$7()):0},mt$9:function(a,d,c){var e=this.adapter.getSharedLayoutInfo().getRoutingInfo(a.getRows()[0],d.getRows()[0]);a=this.adapter.getSharedLayoutInfo().getRoutingGroupType(a.getRows()[0],d.getRows()[0]);var g=2+e.length;d=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);var k=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),h=this.ll_9[c],l=this.co$3(h,this.ca_6),h=this.cT$1(h,this.ca_6);d[0]=l.x;k[0]=l.y;f[0]=
77;d[g-1]=h.x;k[g-1]=h.y;f[g-1]=76;g=this.getPaddedBounds(this.en_12);for(l=0;l<e.length;++l)null!=a&&this.adapter.isSwapXY()?(h=new b.com_ibm_vis_geom_Point(b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedXCoord(e[l].y,g),b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedYCoord(e[l].x,g)),d[l+1]=g.wt_3-h.x,k[l+1]=g.hh_2-h.y):(h=new b.com_ibm_vis_geom_Point(b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedXCoord(e[l].x,g),b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedYCoord(e[l].y,
g)),d[l+1]=h.x,k[l+1]=h.y),d[l+1]+=this.adapter.getLayoutBoundsStartPoint().x,k[l+1]+=this.adapter.getLayoutBoundsStartPoint().y,f[l+1]=76;return this.adapter.makeItemFromPath(d,k,f,!1,c)},getClosestPointOnAttachExtent:function(a,d){return this.adapter.isSwapXY()?this.ie$39()?new b.com_ibm_vis_geom_Point(a[0].x,(a[0].y+a[1].y)/2):a[1].y<d.y?a[1]:a[0].y>d.y?a[0]:new b.com_ibm_vis_geom_Point(a[0].x,d.y):this.ie$39()?new b.com_ibm_vis_geom_Point((a[0].x+a[1].x)/2,a[0].y):a[1].x<d.x?a[1]:a[0].x>d.x?a[0]:
new b.com_ibm_vis_geom_Point(d.x,a[0].y)},ie$39:function(){return"center"==this.ae_20},isCurvedSymbol:function(){var a=this.adapter.getStyle();return a&&null!=a.symbol?"curved"==a.symbol||"curvedElbow"==a.symbol:!1},ie$40:function(a,b){if(!a||!b||a==b||!this.adapter.isOriented())return!1;var c=!1,e=this.adapter.getSharedLayoutInfo();if(e){var g=a.getRows();g&&0<g.length&&(c=e.isManuallyPositioned(g[0]));c||(g=b.getRows())&&0<g.length&&(c=e.isManuallyPositioned(g[0]))}c?this.isCurvedSymbol()?(c=.25,
e=this.ne_20?e=2.1*this.az$1()+this.gl$7():0):(c=.5,e=2.1*this.az$1()+this.gl$7()):(c=.25,e=0);return this.adapter.isSwapXY()?Math.abs(a.getCenter().x-b.getCenter().x)<c*(a.getBounds().wt_3+b.getBounds().wt_3)+e:Math.abs(a.getCenter().y-b.getCenter().y)<c*(a.getBounds().hh_2+b.getBounds().hh_2)+e},mt$10:function(a,d,c){var e=this.co$3(this.ll_9[c],this.ca_6),g=this.cT$1(this.ll_9[c],this.ca_6);a=this.adapter.getSharedLayoutInfo().getRoutingInfo(a.getRows()[0],d.getRows()[0]);d=2+a.length;var k=b.com_ibm_rave_codegenerator_lang_Array.create([d],
0),f=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),h=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);k[0]=e.x;f[0]=e.y;h[0]=77;for(var e=this.getPaddedBounds(this.en_12),l=0;l<a.length;++l)k[l+1]=b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedXCoord(a[l].x,e),f[l+1]=b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedYCoord(a[l].y,e),h[l+1]=76;k[d-1]=g.x;f[d-1]=g.y;h[d-1]=76;return this.adapter.makeItemFromPath(k,f,h,!1,c)},mn$21:function(a,d){var c=a.getBounds(),
e=this.az$1(),c=Math.min(c.wt_3,c.hh_2)/2;10>c&&(c=10);var g=this.adapter.getSharedLayoutInfo().su_5;null!=g&&(c=Math.min(c,g));var k=this.ll_9[d],g=this.co$3(k,this.ca_6),k=this.cT$1(k,this.ca_6);return(new b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder(this.adapter)).makeSelfLink(g,k,c,e,d)},pa$2:function(){this.na_6=new b.com_ibm_rave_codegenerator_util_HashMap;this.ll_9=Array(this.rn_5);this.lo_5=Array(this.rn_5);var a=this.dl$2(!1),d=this.dl$2(!0);this.ne_20=a||d;for(var c=
0;c<this.rn_5;++c){var e=this.adapter.getFieldNumericValue(this.fl_8,c);if(e==e){var e=this.ne_21.get(e),g=this.adapter.getFieldNumericValue(this.tl_5,c);if(g==g){g=this.ne_21.get(g);this.de_19.setEndArrowByName(a?a.getName():b.com_ibm_vis_engine_internal_struct_ArrowType.NONE);this.de_19.setStartArrowByName(d?d.getName():b.com_ibm_vis_engine_internal_struct_ArrowType.NONE);var k=this.adapter.getStyledShape(this.fl_8,this.de_19,c);this.lo_5[c]=Array(2);this.lo_5[c][0]=b.com_ibm_vis_engine_internal_struct_ArrowType.byName(k.getStartArrowName());
this.lo_5[c][1]=b.com_ibm_vis_engine_internal_struct_ArrowType.byName(k.getEndArrowName());if(this.lo_5[c][0]||this.lo_5[c][1])this.ne_20=!0;e&&g&&(k=new b.com_ibm_rave_codegenerator_util_List,this.na_6.containsKey(e)&&(k=this.na_6.get(e)),k.add(g),this.na_6.put(e,k),k=new b.com_ibm_rave_codegenerator_util_List,this.na_6.containsKey(g)&&(k=this.na_6.get(g)),k.add(e),this.na_6.put(g,k),this.ie$40(e,g)&&0==this.adapter.getSharedLayoutInfo().getRoutingInfo(e.getRows()[0],g.getRows()[0]).length&&((k=
this.ik_1.get(e))||(k=new b.com_ibm_rave_codegenerator_util_List),k.add(g),this.ik_1.put(e,k)))}}}for(a=0;a<this.rn_5;++a)e=this.adapter.getFieldNumericValue(this.fl_8,a),e=this.getConnectionPointOnNode(e,a,!0),g=this.adapter.getFieldNumericValue(this.tl_5,a),g=this.getConnectionPointOnNode(g,a,!1),this.ll_9[a]=e&&g?this.populateLinkSideMap(e,g,this.lo_5[a][0],this.lo_5[a][1],this.ca_6,this.ik_1):null},dl$2:function(a){var d=this.adapter.getStyle();return d?b.com_ibm_vis_engine_internal_struct_ArrowType.byName(a?
d.startArrow:d.endArrow):null},populateLinkSideMap:function(a,b,c,e,g,k){a=this.do$2(a,b,c,e,g,k);a.updateCounts(g);return a},do$2:function(a,d,c,e,g,k){var f=k.get(a);g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.initCountMap(g,a);k=this.isOffsetTreeLayout(a,d);var h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,l=this.adapter.getSharedLayoutInfo().getRoutingGroupType(a.getRows()[0],d.getRows()[0]),
m=NaN;null!=l&&(m=l);this.adapter.isSwapXY()?this.adapter.isReflectY()?a==d?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP):f&&f.contains(d)?a.getCenter().y>d.getCenter().y?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM):(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP):
this.ie$40(a,d)?(k=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT),g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT),l=k>=g?h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT):(g=a.getCenter(),f=d.getCenter(),
g.x<f.x?(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT,h=k?g.y<f.y?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT):(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT,h=k?g.y<f.y?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT),
b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==m&&(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP)):a==d?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP):f&&f.contains(d)?a.getCenter().y>d.getCenter().y?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM):(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM,
l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP):this.ie$40(a,d)?(k=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT),g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT),l=k>g?h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT):
(g=a.getCenter(),f=d.getCenter(),g.x<f.x?(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT,h=k?g.y<f.y?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT):(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT,h=k?g.y<f.y?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP:
b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT),b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==m&&(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP)):this.adapter.isReflectY()?a==d?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT):f&&f.contains(d)?a.getCenter().x<d.getCenter().x?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT):
(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT):this.ie$40(a,d)?(k=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP),g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM),l=k>=g?h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:
h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP):(g=a.getCenter(),f=d.getCenter(),g.y<f.y?(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,h=k?g.x>f.x?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM):(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM,h=k?g.x>f.x?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT:
b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP),b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==m&&(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT)):a==d?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT):f&&f.contains(d)?a.getCenter().x<d.getCenter().x?(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT,
l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT):(h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT,l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT):this.ie$40(a,d)?(k=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP),g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(g,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM),
l=k>g?h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:h=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP):(g=a.getCenter(),f=d.getCenter(),g.y<f.y?(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,h=k?g.x>f.x?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM):(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM,
h=k?g.x>f.x?b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP),b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==m&&(l=b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT));c=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionPoint(h,c);e=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionPoint(l,e);return new b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint(a,
d,c,e)},isOffsetTreeLayout:function(a,d){var c=this.adapter.getSharedLayoutInfo().getRoutingGroupType(a.getRows()[0],d.getRows()[0]),e=!1;null!=c&&(e=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==c?!0:!1);return e},useCenterPointForConnection:function(a){if(null==this.ae_20){if(null!=this.le_43.attachmentPoint&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.le_43.attachmentPoint)){var d=this.le_43.attachmentPoint;if(a?d.outPoint:d.inPoint)return!0}}else return this.ie$39();
return!1},connectionPoint:function(a,d,c){var e,g=d.from,k=d.to,f=a?d.from:d.to,h=a?d.to:d.from,l=a?d.fn_3:d.tn_3;if(this.adapter.isOriented()){c=c.get(f);var m=!this.useCenterPointForConnection(a),p=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countDifferentLinkTypesAt(c,l.side);e=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.determineIndexOfUsedType(c,l);var q=this.adapter.getSharedLayoutInfo().getRoutingGroupType(g.getRows()[0],k.getRows()[0]),r=NaN;null!=
q&&(r=q);q=0;a&&b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==r&&this.adapter.getSharedLayoutInfo().getSpecialStackGroupInfo(g.getRows()[0],k.getRows()[0])&&(r=10,r=this.adapter.isSwapXY()?r/g.getBounds().hh_2:r/g.getBounds().wt_3,q=this.adapter.isReflectY()?1-r:r);e=l.determinePoint(f.getBounds(),p,e,q);if(m&&1==p&&!this.ie$40(g,k))if(m=this.adapter.getSharedLayoutInfo().getRoutingInfo(g.getRows()[0],k.getRows()[0]),d=a?d.tn_3:d.fn_3,f=this.adapter.getAttachExtent(f,
b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.isFarSide(l.side),this.en_12),g==k){if(a){h=g.getBounds();a=h.getCenter();switch(d.side){case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:a=new b.com_ibm_vis_geom_Point(h.getX2(),h.y);break;case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT:a=new b.com_ibm_vis_geom_Point(h.x,h.getY2());break;case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP:a=new b.com_ibm_vis_geom_Point(h.getX2(),
h.y);break;case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:a=new b.com_ibm_vis_geom_Point(h.x,h.getY2())}e=this.getClosestPointOnAttachExtent(f,a)}}else g=this.adapter.getAttachExtent(h,b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.isFarSide(d.side),this.en_12),l=1==b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(c,l.side),0==m.length?(a=b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.cg$6(f,this.adapter.isSwapXY()),
k=b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.cg$6(g,this.adapter.isSwapXY()),this.adapter.isSwapXY()?a.containsRange(k)?e=new b.com_ibm_vis_geom_Point(f[0].x,(k.min+k.max)/2):k.containsRange(a)?e=new b.com_ibm_vis_geom_Point(f[0].x,(a.min+a.max)/2):f[1].y<=g[0].y?f[0].y>=g[0].y&&f[0].y<=g[1].y?e=new b.com_ibm_vis_geom_Point(f[0].x,(g[0].y+f[0].y)/2):l||(e=this.getClosestPointOnAttachExtent(f,h.getCenter())):f[1].y>=g[0].y&&(f[1].y>g[0].y&&f[1].y<g[1].y?e=new b.com_ibm_vis_geom_Point(f[0].x,
(g[0].y+f[1].y)/2):g[1].y>f[0].y&&g[1].y<f[1].y?e=new b.com_ibm_vis_geom_Point(f[0].x,(g[0].y+f[1].y)/2):l||(e=this.getClosestPointOnAttachExtent(f,h.getCenter()))):a.containsRange(k)?e=new b.com_ibm_vis_geom_Point((k.min+k.max)/2,f[0].y):k.containsRange(a)?e=new b.com_ibm_vis_geom_Point((a.min+a.max)/2,f[0].y):f[0].x>g[0].x?f[0].x>=g[0].x&&f[0].x<=g[1].x?e=new b.com_ibm_vis_geom_Point((f[0].x+g[1].x)/2,f[0].y):l||(e=this.getClosestPointOnAttachExtent(f,h.getCenter())):f[0].x<g[0].x&&(f[1].x>=g[0].x&&
f[1].x<=g[1].x?e=new b.com_ibm_vis_geom_Point((f[1].x+g[0].x)/2,f[1].y):l||(e=this.getClosestPointOnAttachExtent(f,h.getCenter())))):(h=this.getPaddedBounds(this.en_12),a=a?0:m.length-1,a=new b.com_ibm_vis_geom_Point(b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedXCoord(m[a].x,h),b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedYCoord(m[a].y,h)),e=this.getClosestPointOnAttachExtent(f,a))}else k==g?(h=g.getBounds(),e=a?this.adapter.getAttachPoint(g,new b.com_ibm_vis_geom_Point(h.getCenter().x,
h.getY2()),this.en_12):this.adapter.getAttachPoint(g,new b.com_ibm_vis_geom_Point(h.getX2(),h.getCenter().y),this.en_12)):e=this.adapter.getAttachPoint(f,h.getCenter(),this.en_12);return e},getPreferredSize:function(a){return new b.com_ibm_vis_geom_Dim(0,0)},co$3:function(a,b){return this.connectionPoint(!0,a,b)},cT$1:function(a,b){return this.connectionPoint(!1,a,b)},getConnectionPointName:function(a,d){if(null!=this.le_43.attachmentPoint&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.le_43.attachmentPoint,
b.com_ibm_vis_spec_internal_AttachmentPointsSpec)){var c=this.le_43.attachmentPoint,e=null;if(e=a?c.outPoint:c.inPoint){if(!e.field&&null==e.value)throw new b.com_ibm_vis_exceptions_internal_SpecException("A link attachmentPoint has to be specified either as a field or as a value.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(e.field&&null!=e.value)throw new b.com_ibm_vis_exceptions_internal_SpecException("A link attachmentPoint can specified either as a field or as a value, never as both ",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(e.field){c=this.adapter.getFieldStringValue(e.field.$ref,d);if(null==c)throw new b.com_ibm_vis_exceptions_internal_SpecException("Cannot find the link attachmentPoint refered by field '"+e.field.$ref+"'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);return c}return e.value}}return null},getConnectionPointOnNode:function(a,d,c){if(null==a)return null;a=this.ne_21.get(a);d=this.getConnectionPointName(c,d);return a&&null!=d?b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.fetchConnectionPointFromNodeShape(a,
d):a},translateShapes:function(a,b){}});b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.getGoodSpaceToFit=function(a,b,c){var e=Math.max(8,4.2*c);return(a*c*2+e)/b};b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.cg$6=function(a,d){return d?new b.com_ibm_vis_engine_internal_data_Range(a[0].y,a[1].y):new b.com_ibm_vis_engine_internal_data_Range(a[0].x,a[1].x)};b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.fetchConnectionPointFromNodeShape=function(a,d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_engine_internal_struct_Schema)){var c=a.fetchPartByName(d);if(c)return c}throw new b.com_ibm_vis_exceptions_internal_SpecException("Cannot find a connection point shape with the part name \x3d '"+d+"'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.ATTACH_CENTER="center";b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.ATTACH_CLOSEST=b.com_ibm_vis_internal_SpecConstants.CLOSESTPOINT});
b.com_ibm_vis_engine_internal_grammar_layout_LinkLength=b.com_ibm_init_declare({lo_3:0,lt_2:0,constructor:function(a,b){this.lt_2=b;this.lo_3=a},getValue:function(){return this.lo_3},getLinkLength:function(){return this.lt_2}});b.com_ibm_vis_engine_internal_grammar_layout_LinkLengthComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a.getLinkLength(),e=b.getLinkLength();return 0>e-c?1:0<e-c?-1:b.getValue()-a.getValue()}});b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup=
b.com_ibm_init_declare({gp_4:NaN,constructor:function(a){this.gI_2=a;this.lk_3=new b.com_ibm_rave_codegenerator_util_List},getGroupId:function(){return this.gI_2},getGroupType:function(){return this.gp_4},addLink:function(a,d){if(!this.gI_2.equals(a.gI_1))throw new b.com_ibm_vis_exceptions_internal_EngineException("Adding link to an incorrect group. link id: "+d+" with groupId: "+a.gI_1+"cannot be added to group with id: "+this.gI_2,b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);this.rd_2||(this.rd_2=
a.from);this.gp_4!=this.gp_4&&this.setGroupType(a.gp_3);if(this.rd_2!==a.from)throw new b.com_ibm_vis_exceptions_internal_SpecException("Links in the same group in a tree layout must have the same FROM node. link id: "+d,b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);if(!b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.isGroupTypeValid(null==a.gp_3?NaN:a.gp_3))throw new b.com_ibm_vis_exceptions_internal_SpecException("Invalid link group type. link id: "+d+", link type:"+a.gp_3,b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);
if(!this.isGroupTypeSame(null==a.gp_3?NaN:a.gp_3))throw new b.com_ibm_vis_exceptions_internal_SpecException("Links in the same group in a tree layout must have the same link group type. link id: "+d,b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);return this.lk_3.add(a)},setGroupType:function(a){this.gp_4=null==a?b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.NORMAL_LAYOUT:a},isGroupTypeSame:function(a){return a!=a?this.gp_4==b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.NORMAL_LAYOUT:
this.gp_4==a},validateGroup:function(){if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==this.gp_4)for(var a=0,d=this.lk_3.arrayIterator(),c=d.length;a<c;++a){var e=d[a];if(null!=e.to.info&&0!=e.to.info[0].size())throw new b.com_ibm_vis_exceptions_internal_SpecException("Links in a stack group in a tree layout must have the TO nodes as a leaf node",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);}},getLinks:function(){return this.lk_3},getRootNode:function(){return this.rd_2},
clearLinks:function(){this.gp_4=NaN;this.lk_3.clear();this.rd_2=null},getAcrossRange:function(a){if(!this.lk_3||0==this.lk_3.size())return b.com_ibm_vis_engine_internal_data_Range.EMPTY;for(var d,c=0,e=this.lk_3.arrayIterator(),g=e.length;c<g;++c){var k=e[c];d=this.expandRangeX(k.from,d,a);d=this.expandRangeX(k.to,d,a)}return d},getDownRange:function(a){if(!this.lk_3||0==this.lk_3.size())return b.com_ibm_vis_engine_internal_data_Range.EMPTY;for(var d,c=0,e=this.lk_3.arrayIterator(),g=e.length;c<g;++c)d=
this.expandRangeY(e[c].to,d,a);return d},expandRangeX:function(a,d,c){a!==this.rd_2&&(d?(d=d.unionValue(a.getX()-b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(a,c)/2),d=d.unionValue(a.getX()+b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(a,c)/2)):d=new b.com_ibm_vis_engine_internal_data_Range(a.getX()-b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(a,c)/2,a.getX()+b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(a,
c)/2));return d},expandRangeY:function(a,d,c){a!==this.rd_2&&(d?(d=d.unionValue(a.getY()-b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getHeight(a,c)/2),d=d.unionValue(a.getY()+b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getHeight(a,c)/2)):d=new b.com_ibm_vis_engine_internal_data_Range(a.getY()-b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getHeight(a,c)/2,a.getY()+b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getHeight(a,c)/2));return d},
getStackLayoutMaxLeafWidth:function(a){if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT!=this.gp_4)throw new b.com_ibm_vis_exceptions_internal_EngineException("getStackLayoutWidth should only be called for groups with Stack layout",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);if(!this.lk_3||0==this.lk_3.size())return 0;for(var d=-Infinity,c=0,e=this.lk_3.arrayIterator(),g=e.length;c<g;++c){var k=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(e[c].to,
a);k>d&&(d=k)}this.isSoleStackedGroup()?(a=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(this.rd_2,a),d=d+(d-a)+30):d+=15;return d},isSoleStackedGroup:function(){if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==this.gp_4){b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer");if(1==this.rd_2.outLink.length)return!0;var a=this.rd_2,d=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.getDummyNodes(this.rd_2);0!=d.size()&&(a=
d.get(d.size()-1));for(var d=0,a=a.outLink,c=a.length;d<c;++d){var e=a[d];if(null==e.gI_1||e.gI_1!=this.getGroupId())return!1}return!0}return!1},getWidestToNode:function(a){for(var d=-Infinity,c,e=0,g=this.lk_3.arrayIterator(),k=g.length;e<k;++e){var f=g[e],h=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth(f.to,a);h>d&&(d=h,c=f.to)}return c}});b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.au$1=function(a){b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.VT_1.add(a);
return a};b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.isGroupTypeValid=function(a){return a!=a||b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.VT_1.contains(a)?!0:!1};b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getWidth=function(a,b){var c=a.sp_7;return c?b?c.getBounds().hh_2:c.getBounds().wt_3:0};b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.getHeight=function(a,b){var c=a.sp_7;return c?b?c.getBounds().wt_3:c.getBounds().hh_2:0};b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_FACE_GAP=
5;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.VT_1=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.NORMAL_LAYOUT=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.au$1(Number.valueOf(b.com_ibm_rave_codegenerator_util_BasicFactory.makeLong(0)));b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.au$1(Number.valueOf(b.com_ibm_rave_codegenerator_util_BasicFactory.makeLong(1)));
b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.au$1(Number.valueOf(b.com_ibm_rave_codegenerator_util_BasicFactory.makeLong(2)));b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.DUMMY_LAYOUT=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.au$1(Number.valueOf(b.com_ibm_rave_codegenerator_util_BasicFactory.makeLong(10)))});b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout,
{iu_4:!1,nl_3:0,la_3:0,la_4:0,constructor:function(a){var d=a.getSpec();this.ll_7=d.linkGroup?d.linkGroup.$ref:null;this.ll_8=d.linkType?d.linkType.$ref:null;this.oo_4=d.orientation;this.iu_4=b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_LEFT_TO_RIGHT==d.orientation||b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_RIGHT_TO_LEFT==d.orientation;this.la_3=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.computeLeafNodeGap(a.getStyle());
this.la_4=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.computeLevelGap(a.getStyle());this.gp_6=null;this.nn_4=new b.com_ibm_rave_codegenerator_util_HashMap},makeNodesAndLinks:function(a){this.gp_6=new b.com_ibm_rave_codegenerator_util_List;b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.prototype.makeNodesAndLinks.apply(this,[a])},validateGroups:function(){for(var a=0,b=this.gp_6.arrayIterator(),c=b.length;a<c;++a)b[a].validateGroup()},createLink:function(a,
d,c,e,g){(d=b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.prototype.createLink.apply(this,[a,d,c,e,g]))&&null!=this.ll_7&&this.cn$19(a,d);return d},cn$19:function(a,b){var c=this.adapter.getFieldNumericValue(this.ll_7,a),e=null==this.ll_8?NaN:this.adapter.getFieldNumericValue(this.ll_8,a);c==c&&(b.gI_1=c,b.gp_3=e,this.getLinkGroup(c).addLink(b,a))},reorderLinks:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(this.gp_6){this.validateGroups();this.setIncrementLevelToRootNode();
for(var c=0,e=this.gp_6.arrayIterator(),g=e.length;c<g;++c){var k=e[c],f=NaN;null!=k.getGroupType()&&(f=k.getGroupType());b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==f&&this.convertLeafListToTree(k.rd_2,k.lk_3,a)}a=0;c=this.gp_6.arrayIterator();for(e=c.length;a<e;++a)k=c[a],g=NaN,null!=k.getGroupType()&&(g=k.getGroupType()),b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.NORMAL_LAYOUT==g?this.reorderGroupedLinks(k.rd_2,k.lk_3):b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==
g&&(this.reorderAndMoveGroupedLinks(k.rd_2,k.lk_3,this.isOddOffsetGroupForNode(k)),d.contains(k.rd_2)||(this.ie$37(k),d.add(k.rd_2)))}},ie$37:function(a){var d=a.rd_2;if(d){var c=d.info[0];a=new b.com_ibm_rave_codegenerator_util_List;for(var e=0,g=c.arrayIterator(),k=g.length;e<k;++e){var c=g[e],f=NaN;null!=c.gp_3&&(f=c.gp_3);b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT!=f&&a.add(c)}0==a.size()&&(d.increment=1);k=0;null!=d.id&&(k=d.id);for(var f=d.increment,e=Array(f),
h,l,g=0;g<f;++g){var m=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-k-1-g);if(0==g){h=m;l=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(d,h);for(var c=d.info[0],p=new b.com_ibm_rave_codegenerator_util_List,q=0,r=c.arrayIterator(),t=r.length;q<t;++q){var c=r[q],w=NaN;null!=c.gp_3&&(w=c.gp_3);b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==w&&p.add(c)}p.add(l);d.info[0]=p;p=[new b.com_ibm_rave_codegenerator_util_List,new b.com_ibm_rave_codegenerator_util_List];
p[1].add(l);h.info=p;l=h}else c=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(l,m),p=[new b.com_ibm_rave_codegenerator_util_List,new b.com_ibm_rave_codegenerator_util_List],p[1].add(c),m.info=p,l=l.info[0],l.add(c),l=m;h=m;e[g]=m}l=h.info[0];for(g=0;g<a.size();++g)d=a.get(g),c=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(h,a.get(g).to),c.gI_1=d.gI_1,c.gp_3=d.gp_3,l.add(c);this.addDummyNodes(e)}},convertLeafListToTree:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List,
g=d.get(0),k=0,f=a.info[0].arrayIterator(),h=f.length;k<h;++k){var l=f[k];g!==l&&d.contains(l)||e.add(l)}a.info[0]=e;for(g=1;g<d.size();++g){k=d.get(g-1).to;a=d.get(g).to;if(1<a.info[1].size())throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a tree. A tree cannot have a node with more than one parent node.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID,"Node "+a.id);e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(k,a);e.copyInfoFrom(d.get(g));f=new b.com_ibm_rave_codegenerator_util_List;
f.add(e);k.info[0]=f;k=new b.com_ibm_rave_codegenerator_util_List;k.add(e);a.info[1]=k;c.add(e);c.remove(d.get(g))}},reorderGroupedLinks:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=!0,g=0,k=a.info[0].arrayIterator(),f=k.length;g<f;++g){var h=k[g];d.contains(h)?e&&(c.addAll(d),e=!1):c.add(h)}a.info[0]=c},isOddOffsetGroupForNode:function(a){for(var d=1,c=0,e=this.gp_6.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k===a)break;var f=NaN;null!=k.getGroupType()&&(f=k.getGroupType());
b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==f&&k.rd_2===a.rd_2&&d++}return 0!=d%2},reorderAndMoveGroupedLinks:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0,k=a.info[0].arrayIterator(),f=k.length;g<f;++g){var h=k[g];d.contains(h)||e.add(h)}c?e.addAll(0,d):e.addAll(d);a.info[0]=e},getLinkGroup:function(a){for(var d,c=0,e=this.gp_6.arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k.getGroupId().equals(a)){d=k;break}}d||(d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup(a),
this.gp_6.add(d));return d},layoutNodes:function(a){a=this.prepTree();this.placeTree(a);this.ap$1()},ap$1:function(){for(var a=0,d=this.gp_6.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=NaN;null!=e.getGroupType()&&(g=e.getGroupType());if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==g)for(var g=e.getStackLayoutMaxLeafWidth(this.iu_4),k=this.gt$20(e.rd_2),f,h=0,l=e.lk_3.arrayIterator(),m=l.length;h<m;++h){f=l[h].to;var p=this.gt$20(f),q=0,q=e.isSoleStackedGroup()?(p-
k)/2+15:(p-g)/2+15;this.nn_4.put(f,q)}}},placeInExtent:function(a){this.gp_6&&this.createInteriorPointsForGroups(a);this.refitInteriorPoints(a);this.re$9();this.re$10()},re$9:function(){var a=new b.com_ibm_rave_codegenerator_util_List;if(this.nodes){for(var d=0,c=this.nodes,e=c.length;d<e;++d){var g=c[d];g&&!g.isDummy()&&a.add(g)}this.nodes=a.toArray(Array(a.size()))}},refitInteriorPoints:function(a){a=this.getAcrossRange(this.nodes);var d=this.getDownRange(this.nodes);this.refitNodes(this.nodes,
a,d);for(var c=this.adapter.getSharedLayoutInfo(),e=0,g=this.links,k=g.length;e<k;++e){for(var f=g[e],h=c.getRoutingInfo(f.from.row,f.to.row),l=new b.com_ibm_rave_codegenerator_util_List,m=0,p=h.length;m<p;++m){var q=h[m],r=a.toZeroOne(q.x),q=d.toZeroOne(q.y);l.add(new b.com_ibm_vis_geom_Point(r,q))}c.addRoutingInfo(f.from.row,f.to.row,l,null)}},prepTree:function(){var a=this.ft$7();this.computeAndStoreMaxHeightByLevels(a);this.nl_3=this.me_8.size();return a},setIncrementLevelToRootNode:function(){if(this.gp_6){for(var a=
0,d=this.gp_6.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=NaN;null!=e.getGroupType()&&(g=e.getGroupType());if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==g&&(g=e.rd_2,e=e.lk_3))for(var k=this.gh$8(g,e),e=g.info[0],f=0,h=e.arrayIterator(),l=h.length;f<l;++f){var e=h[f],m=NaN;null!=e.gp_3&&(m=e.gp_3);if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT!=m&&g.increment<k){g.increment=k;break}}}a=0;d=this.nodes;for(c=d.length;a<c;++a)if(g=
d[a],this.io$2(g)){k=0;e=g.info[0];f=0;h=e.arrayIterator();for(l=h.length;f<l;++f)e=h[f],k=Math.max(k,e.to.increment);g.increment+=k}}},gh$8:function(a,b){if(!a)return 0;var c=0;if(b&&0<b.size())for(var e=0,g=b.arrayIterator(),k=g.length;e<k;++e)c=Math.max(c,this.ge$31(g[e].to));return c},ge$31:function(a){var d=0;if(a){d++;for(var c=0,e=0,g=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.gf$1(a).arrayIterator(),k=g.length;e<k;++e)var f=g[e],c=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ie$38(a,
f)?Math.max(c,this.gh$9(a)):Math.max(c,this.ge$31(f));d+=c}return d},gh$9:function(a){for(var d=0,c=this.gp_6.arrayIterator(),e=c.length;d<e;++d){var g=c[d],k=NaN;null!=g.getGroupType()&&(k=g.getGroupType());if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==k&&g.rd_2==a)return g.lk_3.size()}return 0},ft$7:function(){if(!this.nodes||0==this.nodes.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a tree. No root nodes present.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);
for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.nodes,e=c.length;d<e;++d){var g=c[d];this.checkForCycle(g);if(!g.inLink||0==g.inLink.length)a.add(g);else if(1<g.inLink.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a tree. A tree cannot have a node with more than one parent node.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);}d=0;c=this.nodes;for(e=c.length;d<e;++d)g=c[d],g.info=null;return a},computeAndStoreMaxHeightByLevels:function(a){this.me_8=
new b.com_ibm_rave_codegenerator_util_List;this.se$14(a,0)},se$14:function(a,d){for(var c=-Infinity,e=new b.com_ibm_rave_codegenerator_util_List,g=0,k=a.arrayIterator(),f=k.length;g<f;++g){var h=k[g],l=h.outLink;if(l)for(var m=0,p=l.length;m<p;++m)e.add(l[m].to);h=this.gh$10(h);h>c&&(c=h)}this.me_8.add(d,c);0<e.size()&&this.se$14(e,d+1)},ge$32:function(a){var b=0;for(a--;0<=a;)b+=this.getMaximumNodeHeight(a),b+=this.getLevelGap(),a--;return b},placeTree:function(a){this.sf$4();this.pg$3(a,0,0,b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.makePrimitiveDoubleArray(this.nl_3))},
sf$4:function(){if(this.gp_6)for(var a=0,d=this.gp_6.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=NaN;null!=e.getGroupType()&&(g=e.getGroupType());if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==g)for(var g=e.getStackLayoutMaxLeafWidth(this.iu_4),k=0,e=e.lk_3.arrayIterator(),f=e.length;k<f;++k)e[k].to.info=g}},pg$3:function(a,d,c,e){var g,k=0;a=a.arrayIterator();for(var f=a.length;k<f;++k){var h=a[k],l=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33(h),
m=this.ge$32(d),p=this.getStackAdjustedWidth(h);if(h.isNodePruned()){if(h.outLink&&0<h.outLink.length)for(var q=0,r=h.outLink,t=r.length;q<t;++q){var w=r[q];w.le_40=!0}if(h.inLink&&0<h.inLink.length)for(q=0,r=h.inLink,t=r.length;q<t;++q)w=r[q],w.le_40=!0}0<l.size()?(c+=p/2,b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.pd$3(c,m,h),this.pg$3(l,d+1,e[d+1],e),(m=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.cd$10(l))?(m=m.getX()-h.getX(),0<m?(b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.md$2(h,
m,0),c+=m):this.me$29(l,-m,0,e,d+1)):(m=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.gg$2(l),m.max-c>m.range/2?(m=m.max-c-m.range/2,b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.md$2(h,m,0),c+=m):(m=c-m.min-m.range/2,this.me$29(l,m,0,e,d+1))),g&&0==b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33(g).size()&&this.io$2(h)&&(m=this.gn$15(g,h,!0),b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.md$2(h,m,0),this.me$29(l,m,0,e,d+1),c+=m),
c+=this.getLeafNodeGap(),c+=p/2):(c+=p/2,b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.pd$3(c,m,h),g&&0<b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33(g).size()&&this.io$2(g)&&(m=this.gn$15(g,h,!1),b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.md$2(h,m,0),c+=m),c+=p/2,c+=this.getLeafNodeGap());g=h}e[d]=c},gn$15:function(a,d,c){var e=0;if(c){c=new b.com_ibm_rave_codegenerator_util_List;d=d.outLink;for(var g=!0,k=d[0].gI_1,f=0,h=d.length;f<h;++f){var l=
d[f];l.to.isDummy()?g=!1:g&&null!=l.gI_1&&null!=k&&k==l.gI_1&&c.add(l.to)}c=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.gg$2(c);c!=b.com_ibm_vis_engine_internal_data_Range.ZERO&&a.getX()+this.gt$20(a)/2>=c.min+c.range/2&&(e=a.getX()-(c.min+c.range/2)+this.gt$20(a)/2+this.getLeafNodeGap())}else{c=new b.com_ibm_rave_codegenerator_util_List;d=a.outLink;g=!1;k=d[d.length-1].gI_1;f=0;for(h=d.length;f<h;++f)l=d[f],l.to.isDummy()?g=!0:g&&null!=l.gI_1&&null!=k&&k==l.gI_1&&c.add(l.to);c=
b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.gg$2(c);c!=b.com_ibm_vis_engine_internal_data_Range.ZERO&&a.getX()-this.gt$20(a)/2<=c.min+c.range/2&&(e=c.min+c.range/2-a.getX()-this.gt$20(a)/2)}return e},io$2:function(a){if(this.gp_6)for(var d=0,c=this.gp_6.arrayIterator(),e=c.length;d<e;++d){var g=c[d],k=NaN;null!=g.getGroupType()&&(k=g.getGroupType());if(b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==k&&g.rd_2==a)return!0}return!1},re$10:function(){var a=
new b.com_ibm_rave_codegenerator_util_List,d=new b.com_ibm_rave_codegenerator_util_List;if(this.nodes){for(var c=0,e=this.nodes,g=e.length;c<g;++c){var k=e[c];k&&!k.isNodePruned()&&d.add(k)}this.nodes=d.toArray(Array(d.size()))}if(this.links){d=0;c=this.links;for(e=c.length;d<e;++d)g=c[d],g.le_40||(g.from.isNodePruned()||g.to.isNodePruned()?g.le_40=!0:a.add(g));this.links=a.toArray(Array(a.size()))}},me$29:function(a,d,c,e,g){for(var k=0,f=a.arrayIterator(),h=f.length;k<h;++k){var l=f[k];b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.md$2(l,
d,c);l=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33(l);this.me$29(l,d,c,e,g+1)}0<a.size()&&(a=a.get(a.size()-1),a=a.getX()+this.getStackAdjustedWidth(a)/2+this.getLeafNodeGap(),a>e[g]&&(e[g]=a))},getLeafNodeGap:function(){return this.la_3},getLevelGap:function(){return this.la_4},getStackAdjustedWidth:function(a){return null!=a.info&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a.info)?a.info:this.gt$20(a)},gt$20:function(a){return a.isDummy()?(a=this.adapter.getElementSize(),
this.isHorizontal()?a.hh_1:a.wt_2):(a=a.sp_7)?this.isHorizontal()?a.getBounds().hh_2:a.getBounds().wt_3:0},gh$10:function(a){return(a=a.sp_7)?this.isHorizontal()?a.getBounds().wt_3:a.getBounds().hh_2:0},getPreferredSize:function(a){if(!this.pz_1){this.makeNodesAndLinks(a);this.setShapesToNodes(b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.EZ_1);a=this.prepTree();this.placeTree(a);a=this.gg$3(this.nodes).range;var d=this.gg$4(this.nodes).range;a=new b.com_ibm_vis_geom_Dim(a,d);this.isHorizontal()&&
(a=new b.com_ibm_vis_geom_Dim(a.hh_1,a.wt_2));this.pz_1=a}return this.pz_1},gg$3:function(a){if(!a||0==a.length)return b.com_ibm_vis_engine_internal_data_Range.EMPTY;for(var d,c=0,e=a.length;c<e;++c){var g=a[c],k=g.sp_7?g.sp_7.getBounds().wt_3:0;d?d.unionValue(g.getX()+this.getStackAdjustedWidth(g)/2+k):d=new b.com_ibm_vis_engine_internal_data_MutableRange(0,g.getX()+this.getStackAdjustedWidth(g)/2+k)}return d},gg$4:function(a){if(!a||0==a.length)return b.com_ibm_vis_engine_internal_data_Range.EMPTY;
for(var d,c=0,e=a.length;c<e;++c){var g=a[c],k=g.sp_7?g.sp_7.getBounds().hh_2:0;d?d.unionValue(g.getY()+this.gh$10(g)/2+k):d=new b.com_ibm_vis_engine_internal_data_MutableRange(0,g.getY()+this.gh$10(g)/2+k)}a=this.getMaximumNodeHeight(this.nl_3-1)/2;return new b.com_ibm_vis_engine_internal_data_Range(d.min,d.max+a)},refitNodes:function(a,b,c){if(a&&b&&c)for(var e=0,g=a.length;e<g;++e){var k=a[e];k.setX(b.toZeroOne(k.getX()));k.setY(c.toZeroOne(k.getY()))}},isNodePositioned:function(a){return a&&a.positionSpecified()},
applyBoundedAffineTransform:function(a,b,c,e,g,k,f){if(this.isNodePositioned(f)||this.isMirror())g=1-g;var h=0;f&&this.nn_4.containsKey(f)&&(h=this.nn_4.get(f));if(this.isHorizontal()){a.affine(b,-a.getBounds().x,e,-a.getBounds().y,!1);var l=this.isNodePositioned(f)?k.x+c*k.wt_3:k.x+g*k.wt_3;this.isNodePositioned(f)?l-=a.getBounds().wt_3/2:this.isMirror()&&(l-=a.getBounds().wt_3);c=this.isNodePositioned(f)?k.y+g*k.hh_2-a.getBounds().hh_2/2+h:k.y+c*k.hh_2-a.getBounds().hh_2/2+h}else l=k.x+c*k.wt_3+
h,c=k.y+g*k.hh_2-a.getBounds().y,this.isNodePositioned(f)?c-=a.getBounds().hh_2/2:this.isMirror()&&(c-=a.getBounds().hh_2);a.affine(b,l,e,c,!1)},respectsTransforms:function(){return!1},getAcrossRange:function(a){if(!a||0==a.length)return b.com_ibm_vis_engine_internal_data_Range.EMPTY;for(var d,c=0,e=a.length;c<e;++c){var g=a[c];d?d.unionValue(g.getX()+this.getStackAdjustedWidth(g)/2):d=new b.com_ibm_vis_engine_internal_data_MutableRange(0,g.getX()+this.getStackAdjustedWidth(g)/2)}return d},getDownRange:function(a){if(!a||
0==a.length)return b.com_ibm_vis_engine_internal_data_Range.EMPTY;for(var d,c=0,e=a.length;c<e;++c){var g=a[c];d?d.unionValue(g.getY()+this.gh$10(g)/2):d=new b.com_ibm_vis_engine_internal_data_MutableRange(0,g.getY()+this.gh$10(g)/2)}a=this.getMaximumNodeHeight(this.nl_3-1)/2;return new b.com_ibm_vis_engine_internal_data_Range(d.min,d.max+a)},isMirror:function(){return b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_RIGHT_TO_LEFT==this.oo_4||b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.ORIENTATION_BOTTOM_TO_TOP==
this.oo_4},isHorizontal:function(){return this.iu_4},getMaximumNodeHeight:function(a){return a>this.me_8.size()?0:this.me_8.get(a)},restoreLinkData:function(){if(this.gp_6)for(var a=0,d=this.gp_6.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=NaN;if(e&&(null!=e.getGroupType()&&(g=e.getGroupType()),b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==g)){var g=e.rd_2,k=null,k=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.getDummyNodes(g);0<k.size()&&(g=k=k.get(k.size()-
1));if(!g)break;for(var f=e.lk_3,k=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.cd$10(b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33(g))?Array(f.size()+g.outLink.length):Array(f.size()+g.outLink.length-1),h=0,l=0,m=0,h=0;h<g.outLink.length&&(null==g.outLink[h].gI_1||!g.outLink[h].gI_1.equals(e.getGroupId()));++h)k[h]=g.outLink[h];l=0;for(m=h;l<f.size();l++,m++){var p=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(g,f.get(l).to);p.copyInfoFrom(f.get(l));
p.gI_1=e.getGroupId();p.gp_3=b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT;f.get(l).to.setInLink([p]);f.get(l).to.setOutLink([]);k[m]=p;for(p=0;p<this.links.length;++p)if(this.links[p].row==f.get(l).row){this.links[p]=f.get(l);break}}for(l=h+1;l<g.outLink.length;l++,m++)k[m]=g.outLink[l];g.setOutLink(k)}}},createInteriorPointsForGroups:function(a){for(var d,c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=this.gp_6.arrayIterator(),k=g.length;e<k;++e){var f=g[e],h=NaN;
f&&(null!=f.getGroupType()&&(h=f.getGroupType()),b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==h&&b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.hd$1(f.rd_2.outLink)&&!c.contains(f.rd_2)&&(this.createInteriorPointsForDummyNodes(f),c.add(f.rd_2)))}c=0;e=this.gp_6.arrayIterator();for(g=e.length;c<g;++c)if(f=e[c])for(var k=null,k=f.lk_3,h=f.isSoleStackedGroup(),l=0;l<k.size();++l){d=k.get(l);var m=d.from,p=d.to,q=this.adapter.getSharedLayoutInfo().getRoutingInfo(m.row,
p.row);h&&(q=this.tt$1(q,f,a));for(var r=new b.com_ibm_rave_codegenerator_util_List,t=0;t<q.length;++t)r.add(q[t]);d=this.computeInteriorPoints(d,f,r,a);d[0]&&r.add(d[0]);d[1]&&r.add(d[1]);this.adapter.getSharedLayoutInfo().addRoutingInfo(m.row,p.row,r,f.getGroupType());this.adapter.getSharedLayoutInfo().addSpecialStackGroupInfo(m.row,p.row,h)}},tt$1:function(a,b,c){var e=10-this.gt$20(b.rd_2)/2,e=this.adapter.isSwapXY()?e*this.getAcrossRange(this.nodes).range/c.hh_1:e*this.getAcrossRange(this.nodes).range/
c.wt_2;b=b.rd_2.getX()+e;for(c=0;c<a.length;++c)a[c].x=b;return a},computeInteriorPoints:function(a,d,c,e){var g=d.getGroupType(),k=Array(2),f=this.getDownRange(this.nodes),h=a.from.getY()+a.from.getNodeHeight(f.range);c&&0<c.size()&&(h=this.se$15(f,c.get(0).y));c=NaN;null!=g&&(c=g);b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.NORMAL_LAYOUT==c||b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.OFFSET_LAYOUT==c?(g=d.getAcrossRange(this.iu_4),d=e=0,e=g.min+.5*g.range,d=h+
.625*(a.to.getY()-h),d=this.se$15(f,d),k[0]=new b.com_ibm_vis_geom_Point(e,d),k[1]=null):b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==c&&(g=h=0,g=d.getAcrossRange(this.iu_4),d.isSoleStackedGroup()?(h=10-this.gt$20(d.rd_2)/2,h=this.adapter.isSwapXY()?h*this.getAcrossRange(this.nodes).range/e.hh_1:h*this.getAcrossRange(this.nodes).range/e.wt_2,e=d.rd_2.getX()+h):e=g.min-5,h=e,d=d.lk_3.get(0).to.getY(),g=a.to.getY(),g+=.5*a.to.getNodeHeight(f.range),d=this.se$15(f,d),g=
this.se$15(f,g),k[0]=new b.com_ibm_vis_geom_Point(e,d),k[1]=new b.com_ibm_vis_geom_Point(h,g));return k},se$15:function(a,b){var c=b;this.adapter.isSwapXY()?this.adapter.isReflectY()&&(c=a.max-b):this.adapter.isReflectY()||(c=a.max-b);return c},createInteriorPointsForDummyNodes:function(a){a=a.rd_2;for(var d=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.getDummyNodes(a),d=d.get(d.size()-1),c=b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33(d),e=0,g=0,k=this.getDownRange(this.nodes),
e=a.getX(),f,h=0,c=c.arrayIterator(),l=c.length;h<l;++h){var m=c[h],p=NaN;null!=m.inLink[0].gp_3&&(p=m.inLink[0].gp_3);if(null!=f&&b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==p){var q=new b.com_ibm_rave_codegenerator_util_List,r=m,g=f,t=new b.com_ibm_vis_geom_Point(e,g);q.add(t);this.adapter.getSharedLayoutInfo().addRoutingInfo(a.row,r.row,q,null)}else q=new b.com_ibm_rave_codegenerator_util_List,r=m,g=d.getY()+.625*(r.getY()-d.getY()),g=this.se$15(k,g),t=new b.com_ibm_vis_geom_Point(e,
g),q.add(t),m=m.inLink[0].gp_3,null==m?this.adapter.getSharedLayoutInfo().addRoutingInfo(a.row,r.row,q,b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.DUMMY_LAYOUT):this.adapter.getSharedLayoutInfo().addRoutingInfo(a.row,r.row,q,m),null==f&&b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==p&&(f=g)}},setupNodeLayering:function(a){}});b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ie$38=function(a,d){var c=a.info[0];if(c)for(var e=0,c=c.arrayIterator(),
g=c.length;e<g;++e){var k=c[e],f=NaN;null!=k.gp_3&&(f=k.gp_3);if(k.to==d&&b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkGroup.STACK_LAYOUT==f)return!0}return!1};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.cd$10=function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];if(e.isDummy())return e}return null};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.md$2=function(a,b,c){a.moveBy(b,c)};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.pd$3=
function(a,b,c){c.moveTo(a,b)};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.gg$2=function(a){return a&&0!=a.size()?new b.com_ibm_vis_engine_internal_data_Range(a.get(0).getX(),a.get(a.size()-1).getX()):b.com_ibm_vis_engine_internal_data_Range.ZERO};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.computeLeafNodeGap=function(a){return a?b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(a,b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.EXTENT_FOR_CALCULATING_GAPS).getHorizontal():
0};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.computeLevelGap=function(a){return a?b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(a,b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.EXTENT_FOR_CALCULATING_GAPS).getVertical():0};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.makePrimitiveDoubleArray=function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=0;c<a;++c)d[c]=0;return d};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.ge$33=
function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(a=a.outLink)for(var c=0,e=a.length;c<e;++c)d.add(a[c].to);return d};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.gf$1=function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(null!=a.info){var c=a.info[0];if(c){a=0;for(var c=c.arrayIterator(),e=c.length;a<e;++a)d.add(c[a].to)}}return d};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.getDummyNodes=function(a){a=a.outLink;for(var d,c=0;c<a.length;++c)a[c].to.isDummy()&&
(d=a[c]);for(a=new b.com_ibm_rave_codegenerator_util_List;d&&d.to.isDummy();)if(d=d.to,a.add(d),0<d.outLink.length)d=d.outLink[0];else break;return a};b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.hd$1=function(a){for(var b=0;b<a.length;++b)if(a[b].to.isDummy())return!0;return!1};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.EZ_1=new b.com_ibm_vis_geom_Dim(5E3,5E3);b.com_ibm_vis_engine_internal_grammar_layout_graph_TreeLayout.EXTENT_FOR_CALCULATING_GAPS=
new b.com_ibm_vis_geom_Dim(800,800)});b.com_ibm_vis_engine_internal_data_MutableRange=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_Range,{createTargetRange:function(a,b){this.min=a;this.max=b;this.range=this.max-this.min;return this}});b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide("LEFT");
b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide("RIGHT");b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide("TOP");b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide("BOTTOM");b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide)};
b.com_ibm_vis_engine_internal_grammar_layout_ConnectionPoint=b.com_ibm_init_declare({constructor:function(a,b){this.side=a;this.arrowStyle=b},determinePoint:function(a,d,c,e){var g=0,k=0;d=0==e?(c+1)/(d+1):e;switch(this.side){case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT:g=a.x;k=a.y+a.hh_2*d;break;case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT:g=a.getX2();k=a.getY2()-a.hh_2*d;break;case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP:g=
a.getX2()-a.wt_3*d;k=a.y;break;case b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM:g=a.x+a.wt_3*d,k=a.getY2()}return new b.com_ibm_vis_geom_Point(g,k)},hashCode:function(){var a;a=31+(this.arrowStyle?this.arrowStyle.hashCode():0);return a=31*a+this.side.hashCode()},equals:function(a){return this==a?!0:null!=a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionPoint)&&this.arrowStyle==a.arrowStyle&&this.side==a.side?!0:
!1},toString:function(){return"ConnectionPoint "+this.side+", "+this.arrowStyle}});b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint=b.com_ibm_init_declare({constructor:function(a,b,c,e){this.from=a;this.to=b;this.fn_3=c;this.tn_3=e},getFrom:function(){return this.from},getTo:function(){return this.to},getFromSide:function(){return this.fn_3},getToSide:function(){return this.tn_3},toString:function(){return"[ "+this.from.getRows()[0]+" -\x3e "+this.to.getRows()[0]+" ]"+this.fn_3+" -\x3e "+
this.tn_3},isOnlyLinkOnSide:function(a,d){var c=a?this.fn_3.side:this.tn_3.side,e=d.get(a?this.from:this.to);return 1==b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide(e,c)},updateCounts:function(a){var d=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.initCountMap(a,this.from);a=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.initCountMap(a,this.to);var c=d.get(this.fn_3);d.put(this.fn_3,c+1);d=a.get(this.tn_3);a.put(this.tn_3,
d+1)}});b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.isFarSide=function(a){return a==b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT||a==b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM};b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.initCountMap=function(a,d){var c=a.get(d);if(!c){for(var c=new b.com_ibm_rave_codegenerator_util_HashMap,e=0,g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.ALL_CONNECTION_POINTS,
k=g.length;e<k;++e)c.put(g[e],0);a.put(d,c)}return c};b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countDifferentLinkTypesAt=function(a,d){for(var c=0,e=0,g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.ALL_CONNECTION_POINTS,k=g.length;e<k;++e){var f=g[e];f.side==d&&0<a.get(f)&&c++}return c};b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.countTotalLinksOnSide=function(a,d){for(var c=0,e=0,g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.ALL_CONNECTION_POINTS,
k=g.length;e<k;++e){var f=g[e];f.side==d&&(c+=a.get(f))}return c};b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.determineIndexOfUsedType=function(a,d){for(var c=0,e=0,g=b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.ALL_CONNECTION_POINTS,k=g.length;e<k;++e){var f=g[e];if(f.side==d.side&&0<a.get(f)){if(f.arrowStyle==d.arrowStyle)break;c++}}return c};b.com_ibm_init_statics.add(function(){var a=[b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.LEFT,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.RIGHT,
b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.TOP,b.com_ibm_vis_engine_internal_grammar_layout_ConnectionSide.BOTTOM],d=Array(b.com_ibm_vis_engine_internal_struct_ArrowType.ArrowTypes.length+1);d[b.com_ibm_vis_engine_internal_struct_ArrowType.ArrowTypes.length]=null;for(var c=0;c<b.com_ibm_vis_engine_internal_struct_ArrowType.ArrowTypes.length;++c)d[c]=b.com_ibm_vis_engine_internal_struct_ArrowType.ArrowTypes[c];b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.ALL_CONNECTION_POINTS=
Array(a.length*d.length);for(var e=c=0,g=a.length;e<g;++e)for(var k=a[e],f=0,h=d.length;f<h;++f)b.com_ibm_vis_engine_internal_grammar_layout_LinkConnectionPoint.ALL_CONNECTION_POINTS[c]=new b.com_ibm_vis_engine_internal_grammar_layout_ConnectionPoint(k,d[f]),c++});b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder=b.com_ibm_init_declare({constructor:function(a){this.ae_4=a},mn$9:function(a,b,c){var e=a.length-1;this.ae_4.isSwapXY()?(b=[b[0],b[0],b[e],b[e]],a=[a[0],a[1],a[e-1],a[e]]):
(b=[b[0],b[1],b[e-1],b[e]],a=[a[0],a[0],a[e],a[e]]);e=b;return this.ae_4.makeItemFromPath(a,e,[77,76,76,76],!1,c)},makeInLayerLink:function(a,d,c,e,g){var k=this.ae_4.getStyle();g=!k||g?null:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(k.symbol)?k.symbol:null;var f=!this.ae_4.isSwapXY();2==a.length?a=this.ae_4.makeItemFromPath(a,d,c,!1,e):null!=g&&-1<g.indexOf("elbow")?(a=this.mn$9(a,d,e),f=!f):null!=g&&-1<g.indexOf("curved")?(a=this.mn$10(a,d,e),f=!f):a=this.ae_4.makeItemFromPath(a,d,
c,!1,e);a.setEdgeProperties(f,g,k?k.startArrow:null,k?k.endArrow:null);return a},mn$10:function(a,b,c){var e=a.length-1;if(this.ae_4.isSwapXY()){var g=(a[1]-a[0])/2,k=a[1],f=b[0];b=b[e];var h=f<b?-1:1;a[0]<a[1]&&(h*=-1);a=[a[0],k-g,k,k,k,k,k-g,a[e]];e=[f,f,f,f+g*h,b-g*h,b,b,b]}else g=(b[1]-b[0])/2,f=b[1],k=a[0],a=a[e],h=k<a?-1:1,b[0]<b[1]&&(h*=-1),a=[k,k,k,k+g*h,a-g*h,a,a,a],e=[b[0],f-g,f,f,f,f,f-g,b[e]];return this.ae_4.makeItemFromPath(a,e,[77,76,81,44,76,81,44,76],!1,c)},makeSelfLink:function(a,
d,c,e,g){var k=this.ae_4.getStyle();return!k||null==k.symbol||!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(k.symbol)||0>k.symbol.indexOf("curved")?this.mn$11(a,d,c,e,g):this.mn$12(a,d,c,e,g)},mn$11:function(a,b,c,e,g){c=this.mr$4(a,b,c,e>c?e:0);return this.ae_4.makeItemFromPath([a.x,c[0].x,c[1].x,c[2].x,b.x],[a.y,c[0].y,c[1].y,c[2].y,b.y],[77,76,76,76,76],!1,g)},mn$12:function(a,d,c,e,g){c=this.mr$4(a,d,c/2,e);var k=Math.min(c[0].distance(c[1]),c[1].distance(c[2]))/2,k=Math.min(k,a.distance(c[0])-
e),k=Math.min(k,d.distance(c[2])-e);if(0>=k){e=[a.x,c[0].x,c[1].x,c[2].x,d.x];var f=[a.y,c[0].y,c[1].y,c[2].y,d.y];return this.ae_4.makeItemFromPath(e,f,[77,76,76,76,76],!1,g)}e=b.com_ibm_rave_codegenerator_lang_Array.create([11],0);var f=b.com_ibm_rave_codegenerator_lang_Array.create([11],0),h=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);e[0]=a.x;f[0]=a.y;b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13(c[0],a,k,h);e[1]=h[0];f[1]=h[1];e[2]=c[0].x;f[2]=c[0].y;b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13(c[0],
c[1],k,h);e[3]=h[0];f[3]=h[1];b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13(c[1],c[0],k,h);e[4]=h[0];f[4]=h[1];e[5]=c[1].x;f[5]=c[1].y;b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13(c[1],c[2],k,h);e[6]=h[0];f[6]=h[1];b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13(c[2],c[1],k,h);e[7]=h[0];f[7]=h[1];e[8]=c[2].x;f[8]=c[2].y;b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13(c[2],d,k,h);e[9]=h[0];f[9]=
h[1];e[10]=d.x;f[10]=d.y;return this.ae_4.makeItemFromPath(e,f,[77,76,81,44,76,81,44,76,81,44,76],!1,g)},mr$4:function(a,d,c,e){var g=a.x;a=a.y;var k=d.x;d=d.y;var f=Array(3);this.ae_4.isSwapXY()?(this.ae_4.isReflectY()?(f[0]=new b.com_ibm_vis_geom_Point(g-e-c,a),f[1]=new b.com_ibm_vis_geom_Point(g-e-c,d-e-c)):(f[0]=new b.com_ibm_vis_geom_Point(g+e+c,a),f[1]=new b.com_ibm_vis_geom_Point(g+e+c,d-e-c)),f[2]=new b.com_ibm_vis_geom_Point(k,d-e-c)):(this.ae_4.isReflectY()?(f[0]=new b.com_ibm_vis_geom_Point(g,
a-e-c),f[1]=new b.com_ibm_vis_geom_Point(k+e+c,a-e-c)):(f[0]=new b.com_ibm_vis_geom_Point(g,a+e+c),f[1]=new b.com_ibm_vis_geom_Point(k+e+c,a+e+c)),f[2]=new b.com_ibm_vis_geom_Point(k+e+c,d));return f}});b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.gt$13=function(a,b,c,e){var g,k;a.x==b.x?(g=a.x,k=a.y>b.y?a.y-c:a.y+c):(k=a.y,g=a.x>b.x?a.x-c:a.x+c);e[0]=g;e[1]=k};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.SE_3="curved";
b.com_ibm_vis_engine_internal_grammar_layout_LinkLayoutEdgeBuilder.SO_1="elbow"});b.com_ibm_vis_engine_internal_grammar_layout_DimUtil=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedXCoord=function(a,b){return a*b.wt_3+b.x};b.com_ibm_vis_engine_internal_grammar_layout_DimUtil.fromBoundedYCoord=function(a,b){return b.hh_2-a*b.hh_2+b.y};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout,
{ln_7:0,in_6:!1,constructor:function(a){b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions.registerExtensions();var d=a.getSpec();this.hh_6=b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(d.nodePlacement,a);var c=d.layerPlacement;a.setCenteredLayerPlacement("centered"==c);this.vh_1=b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(c,a);if(null==(d.layer?d.layer.$ref:null))this.lh_1=new b.com_ibm_vis_engine_internal_grammar_layout_graph_LongestDistanceToTerminal;
else{if(a.getSpec().layer&&(d=a.getFieldRange(a.getSpec().layer.$ref))&&0>d.min)throw new b.com_ibm_vis_exceptions_internal_EngineException("layer field may not have negative values",b.com_ibm_vis_exceptions_ErrorCode.DATA_CONVERSION,a.getSpec().layer.$ref);this.lh_1=new b.com_ibm_vis_engine_internal_grammar_layout_graph_AssignLayerFromSpec(a)}this.ch_6=new b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm(a);this.ch_5=new b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGCrossingReductionAlgorithm(a)},
directedAlgorithm:function(){return!0},respectsTransforms:function(){return!1},layoutNodes:function(a){this.pe$6();a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Graph(this.nodes,this.links);this.ch_5.layout(a,this.layers);a=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.insertDummyNodesForLinksInLayers(this.adapter,this.layers,this.nodes,this.links);this.nodes=a.get(0);this.links=a.get(1);this.layers=this.cy$1()},setupNodeLayering:function(a){this.pe$6();a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Graph(this.nodes,
this.links);this.ch_5.setupLayers(a,this.layers);a=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.insertDummyNodesForLinksInLayers(this.adapter,this.layers,this.nodes,this.links);this.nodes=a.get(0);this.links=a.get(1);this.layers=this.cy$1()},pe$6:function(){var a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Graph(this.nodes,this.links);this.sn$8();this.ch_6.removeCycles(a);this.ln_7=this.lh_1.assignLayers(a);this.ne$3()&&(this.ln_7=(new b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGNodeWrappingAlgorithm(this.adapter)).assignRows(a));
this.nodes=a.nodes;this.links=a.links;this.ie$33();this.layers=this.cy$1()},isNodeLayerDefined:function(){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.lh_1,b.com_ibm_vis_engine_internal_grammar_layout_graph_AssignLayerFromSpec)},sn$8:function(){var a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_AttachmentPoint(this.adapter,this.adapter.getSpec().attachmentPoint);if(a.isInPointNamed()||a.isOutPointNamed())for(var d=0,c=this.links,e=c.length;d<e;++d){var g=c[d],k=g.row;
0>k||(a.isOutPointNamed()&&(g.fr_2=a.getOutName(k)),a.isInPointNamed()&&(g.tr_4=a.getInName(k)))}},prepareForNewRows:function(a){b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout.prototype.prepareForNewRows.apply(this,[a]);this.getPreferredSize(a)},getPreferredSize:function(a){this.in_6=!0;try{if(this.pz_1)return this.pz_1;this.setupLayersForSizing(a,new b.com_ibm_vis_geom_Dim(5E3,5E3));return this.pz_1=this.gA$1()}finally{this.in_6=!1}},gA$1:function(){if(!this.layers)return new b.com_ibm_vis_geom_Dim(400,
400);for(var a=this.ga$7(),d=0,c=0,e=0,g=0,k=this.layers,f=k.length;g<f;++g){for(var h=k[g],l=0,m=0,p=this.ga$8(h,a.hh_1),q=0,r=h.length;q<r;++q){var t=h[q];this.adapter.isSwapXY()?(l+=t.getCurrentBounds().hh_2+a.hh_1,m=Math.max(m,t.getCurrentBounds().wt_3)):(l+=t.getCurrentBounds().wt_3+a.wt_2,m=Math.max(m,t.getCurrentBounds().hh_2))}0==d&&0!=m?d=m:0==m&&(m=d);c=Math.max(c,l);e+=m+p}c=Math.max(400,c);e=1==this.layers.length?Math.max(400,e+a.hh_1/4):Math.max(400,e+a.hh_1/2);return this.adapter.isSwapXY()?
this.gd$6(new b.com_ibm_vis_geom_Dim(e,c)):this.gd$6(new b.com_ibm_vis_geom_Dim(c,e))},ga$7:function(){for(var a=this.adapter.getLinkStyle(),a=10+8.4*b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getStrokeWidthFromStyle(a),a=new b.com_ibm_vis_geom_Dim(a,a),d=0,c=this.nodes,e=c.length;d<e;++d){var g=c[d];a.wt_2=Math.max(a.wt_2,g.getCurrentBounds().wt_3/2);a.hh_1=Math.max(a.hh_1,g.getCurrentBounds().hh_2/2)}this.adapter.isSwapXY()&&(a=new b.com_ibm_vis_geom_Dim(a.hh_1,a.wt_2));a.wt_2=Math.min(a.wt_2,
100);a.hh_1=Math.min(a.hh_1,100);return a},ga$8:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getMaxLevel(a),e=d;if(0<c)var g=this.adapter.getLinkStyle(),g=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getStrokeWidthFromStyle(g),k=Math.max(8,4.2*g),e=e+2*(c*g*2+k);return e},gd$6:function(a){if(null==this.adapter.getSpec().padding)return a;var d=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.adapter.getSpec().padding,a,a);return new b.com_ibm_vis_geom_Dim(a.wt_2+
d.getHorizontal(),a.hh_1+d.getVertical())},ne$3:function(){return this.adapter.getSpec().swimLanes&&this.adapter.getSpec().swimLanes.id&&this.adapter.getSpec().swimLanes.maxRowValue},placeInExtent:function(a){var d=a;this.adapter.isSwapXY()&&(d=new b.com_ibm_vis_geom_Dim(a.hh_1,a.wt_2));this.hh_6.layoutNodes(this.layers,d);b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.assignLevelToDummyNodesInSameLayer(this.layers,this.links);for(var c=0,e=this.nodes,g=e.length;c<g;++c){var k=
e[c];k.isDummy()&&(k=k.info)&&(k.le_39/=2)}this.vh_1.layoutNodes(this.layers,d);if(this.adapter.isReflectY())for(e=0,g=this.layers,k=g.length;e<k;++e)for(var d=g[e],f=0,h=d.length;f<h;++f)c=d[f],c.setY(1-c.getY());if(this.adapter.isSwapXY())for(e=0,g=this.layers,k=g.length;e<k;++e)for(d=g[e],f=0,h=d.length;f<h;++f){var c=d[f],l=c.getX();c.setX(c.getY());c.setY(l)}this.re$7(a)},ie$33:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.nodes,e=c.length;d<e;++d)a.add(c[d]);for(var d=
new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.links,g=e.length;c<g;++c){var k=e[c];1<k.getSpan()?this.dn$1(a,d,k):d.add(k)}this.nodes=a.toArray(Array(a.size()));this.links=d.toArray(Array(d.size()))},dn$1:function(a,b,c){var e=this.mn$14(a,b,c);if(c.from.le_41>c.to.le_41)for(var g=c.from.le_41-2;g>=c.to.le_41+1;--g)e=this.mn$15(a,b,c,e,g);else for(g=c.from.le_41+2;g<=c.to.le_41-1;++g)e=this.mn$15(a,b,c,e,g);this.mn$16(b,c,e)},mn$14:function(a,d,c){var e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-a.size());
e.setOrientation(this.adapter.isSwapXY(),this.adapter.isReflectY());e.le_41=c.from.le_41>c.to.le_41?c.from.le_41-1:c.from.le_41+1;a.add(e);a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(c.from,e);a.fr_2=c.fr_2;a.re_15=c.re_15;a.le_40=c.le_40;d.add(a);c.from.replaceOutlink(c,a);e.inLink=[a];return e},mn$15:function(a,d,c,e,g){var k=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-a.size());k.setOrientation(this.adapter.isSwapXY(),this.adapter.isReflectY());k.le_41=g;a.add(k);
a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(e,k);a.re_15=c.re_15;a.le_40=c.le_40;d.add(a);e.setOutLink([a]);k.setInLink([a]);return k},mn$16:function(a,d,c){var e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(c,d.to);e.tr_4=d.tr_4;e.re_15=d.re_15;e.le_40=d.le_40;a.add(e);c.setOutLink([e]);d.to.replaceInlink(d,e)},re$7:function(a){var d=this.adapter.getElementSize();a=new b.com_ibm_vis_geom_Dim(d.wt_2/a.wt_2/2,d.hh_1/a.hh_1/2);for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=this.nodes,k=g.length;e<k;++e){var f=g[e],h=!this.in_6&&f.isNodePruned();!f||f.isDummy()||h||c.add(f)}e=0;g=this.links;for(k=g.length;e<k;++e)if(f=g[e],!f.le_40)if(h=f.from.le_41==f.to.le_41,!f.from.isDummy()&&f.to.isDummy())for(var l=new b.com_ibm_rave_codegenerator_util_List,m=f;m.to.isDummy();){var p=null,q=null;h?p=new b.com_ibm_vis_geom_Point(NaN,m.to.info.le_39):this.adapter.isSwapXY()?this.adapter.isReflectY()?(p=new b.com_ibm_vis_geom_Point(m.to.getX()-
a.wt_2,m.to.getY()),q=new b.com_ibm_vis_geom_Point(m.to.getX()+a.wt_2,m.to.getY())):(p=new b.com_ibm_vis_geom_Point(m.to.getX()+a.wt_2,m.to.getY()),q=new b.com_ibm_vis_geom_Point(m.to.getX()-a.wt_2,m.to.getY())):this.adapter.isReflectY()?(p=new b.com_ibm_vis_geom_Point(m.to.getX(),m.to.getY()-a.hh_1),q=new b.com_ibm_vis_geom_Point(m.to.getX(),m.to.getY()+a.hh_1)):(p=new b.com_ibm_vis_geom_Point(m.to.getX(),m.to.getY()+a.hh_1),q=new b.com_ibm_vis_geom_Point(m.to.getX(),m.to.getY()-a.hh_1));l.add(p);
q&&l.add(q);var m=m.to.outLink[0],p=f.from,q=m.to,r=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(p,q);f.re_15?this.adapter.getSharedLayoutInfo().addRoutingInfo(q.row,p.row,this.rs$1(l),null):this.adapter.getSharedLayoutInfo().addRoutingInfo(p.row,q.row,l,null);p.replaceOutlink(f,r);q.replaceInlink(m,r);p.isNodePruned()||q.isNodePruned()||d.add(r)}else f.from.isDummy()||f.to.isDummy()||d.add(f);this.nodes=c.toArray(Array(c.size()));this.links=d.toArray(Array(d.size()));this.layers=this.cy$1()},
rs$1:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)d.add(0,a[c]);return d},cy$1:function(){for(var a=Array(this.ln_7),b=0;b<this.ln_7;++b){for(var c=0,e=0,g=this.nodes,k=g.length;e<k;++e){var f=g[e];f&&f.le_41==b&&c++}a[b]=Array(c);e=c=0;g=this.nodes;for(k=g.length;e<k;++e)(f=g[e])&&f.le_41==b&&(a[b][c++]=f)}return a},getLayerCount:function(){return this.ln_7}});b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getStrokeWidthFromStyle=
function(a){var d=1;a&&a.stroke&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a.stroke.width)?d=a.stroke.width:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.stroke.width)&&(d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,1,400)));return d};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getMaxLevel=function(a){for(var b=0,c=0,e=a.length;c<e;++c){var g=a[c];if(g.outLink)for(var k=0,g=g.outLink,f=g.length;k<f;++k){var h=g[k];h.to.le_41==
h.from.le_41&&h.to.isDummy()&&(b=Math.max(b,h.to.info.le_39))}}return b};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.MZ_2=100;b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodePlacementAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_graph_SymmetricNodePlacement=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodePlacementAlgorithm,{constructor:function(a){this.adapter=a},layoutNodes:function(a,b){var c=this.ca$12(b,
a),e=this.ca$11(b,a);this.adapter.getSharedLayoutInfo().su_5=Math.min(c,e)/2;for(var e=0,g=a.length;e<g;++e)for(var k=a[e],f=this.getLayerOrder(k),h=this.ct$12(b,k)+c*(k.length-1),h=(b.wt_2-h)/2,l=0,m=f.length;l<m;++l){var p=k[f[l]],q=p.getNodeWidth(b.wt_2);p.setX((h+q/2)/b.wt_2);h+=c+q}},ca$11:function(a,b){for(var c=0,e=0,g=b.length;e<g;++e)c+=this.ch$2(a,b[e]);return(a.hh_1-c)/(b.length-1)},ch$2:function(a,b){for(var c=0,e=0,g=b.length;e<g;++e)c=Math.max(c,b[e].getNodeHeight(a.hh_1));return c},
ca$12:function(a,b){for(var c=0,e=0,g=0,k=b.length;g<k;++g)var f=b[g],c=Math.max(c,this.ct$12(a,f)),e=Math.max(e,f.length);return 1==e?(a.wt_2-c)/2:(a.wt_2-c)/(e-1)},ct$12:function(a,b){for(var c=0,e=0,g=b.length;e<g;++e)c+=b[e].getNodeWidth(a.wt_2);return c},getLayerOrder:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),c=0;c<a.length;++c)d[c]=a[c].getX();return b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(d)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_MaximumOverlap=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodePlacementAlgorithm,{constructor:function(a){this.ae_18=a;this.et_4=new b.com_ibm_rave_codegenerator_util_HashMap},dn$4:function(a,b){return this.et_4.get(a)[0].contains(b)},sn$9:function(a,b){var c=this.et_4.get(a);c||(c=Array(2),this.et_4.put(a,c));c[0]=b},sn$10:function(a,b){var c=this.et_4.get(a);c||(c=Array(2),this.et_4.put(a,c));c[1]=b},gn$12:function(a){return this.et_4.get(a)[0]},gn$13:function(a){return this.et_4.get(a)[1]},
layoutNodes:function(a,d){(new b.com_ibm_vis_engine_internal_grammar_layout_graph_SymmetricNodePlacement(this.ae_18)).layoutNodes(a,d);this.lr_3=a;this.extent=d;this.alignNodeWithChildren(d);this.an$4(d)},alignNodeWithChildren:function(a){for(var b=0;3>b;++b){for(var c=1;c<this.lr_3.length;++c)this.se$13(a,c);for(c=this.lr_3.length-1;0<c;--c)this.se$13(a,c)}},an$4:function(a){for(var b=0;3>b;++b){for(var c=0;c<this.lr_3.length;++c)this.sweepChildren(a,c);for(c=this.lr_3.length-1;0<=c;--c)this.sweepChildren(a,
c)}},sweepChildren:function(a,b){for(var c=this.lr_3[b],e=this.getLayerOrder(c),g=0;g<e.length;++g)this.ae$14(a,c,e,g);for(g=e.length-1;0<=g;--g)this.ae$14(a,c,e,g)},ae$14:function(a,b,c,e){a=b[c[e]];this.cn$16(a,0<e?b[c[e-1]]:null,e<c.length-1?b[c[e+1]]:null);a.isDummy()?this.alignDummyNodeWithParent(a):0==a.outLink.length&&(b=this.ge$29(a),c=this.execute(a,b),1==a.inLink.length||1==c)&&(b=(b=this.fd$2(a,b))?b:a.inLink[0].from,this.ad$5(a,b))},alignDummyNodeWithParent:function(a){var d=a.inLink[0].from;
if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.info,b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodeInfoSameLayer))a.info.updateBelongsToNodeX(a);else if(d.getX()!=a.getX()){if(!d.isDummy()){var c=this.gn$13(d);this.dn$4(a,c.min)&&a.setX(c.min);this.dn$4(a,c.max)&&a.setX(c.max)}this.dn$4(a,d.getX())&&a.setX(d.getX())}},se$13:function(a,b){for(var c=this.lr_3[b],e=this.getLayerOrder(c),g=0;g<e.length;++g)this.ad$4(a,c,e,g);for(g=e.length-1;0<=g;--g)this.ad$4(a,c,e,g)},ad$4:function(a,
b,c,e){a=b[c[e]];this.cn$16(a,0<e?b[c[e-1]]:null,e<c.length-1?b[c[e+1]]:null);this.overlapsAllChildren(a)?1==a.outLink.length&&this.ad$5(a,a.outLink[0].to):this.dd$1(a)},overlapsNode:function(a,b){this.cn$15(b);this.cn$15(a);return this.gn$13(a).contains(this.gn$13(b).min)||this.gn$13(a).contains(this.gn$13(b).max)},overlapsAllChildren:function(a){for(var b=a.outLink,c=0,e=b.length;c<e;++c)if(!this.overlapsNode(a,b[c].to))return!1;return!0},cn$15:function(a){var d=this.gt$18(a),c=a.getX()-.4*d,d=
a.getX()+.4*d;this.sn$10(a,new b.com_ibm_vis_engine_internal_data_Range(c,d))},dd$1:function(a){var b=this.ge$28(a),c=this.execute(a,b);if(1==a.outLink.length||1==c)b=(b=this.fd$2(a,b))?b:a.outLink[0].to,this.ad$5(a,b)},execute:function(a,b){var c=this.cn$17(a,b),e=this.gt$18(a),g=.1*(10>e*this.extent.wt_2?10:e*this.extent.wt_2)/this.extent.wt_2,k=a.getX();a.setX(this.gn$12(a).min+e/2);for(var f=0;a.getX()+e/2<=this.gn$12(a).max;)f=this.cn$17(a,b),f>c&&(k=a.getX(),c=f),a.setX(a.getX()+g);a.setX(k);
return c},fd$2:function(a,b){for(var c=0,e=b.length;c<e;++c){var g=b[c];if(this.overlapsNode(a,g))return g}return null},cn$16:function(a,d,c){var e=this.gt$18(d),g=this.gt$18(c),k=.1*e,f=.1*g;d=d?d.getX()+e/2+k:0;c=c?c.getX()-g/2-f:1;this.sn$9(a,new b.com_ibm_vis_engine_internal_data_Range(d,c))},gt$18:function(a){return a?a.isDummy()?10/this.extent.wt_2:a.getNodeWidth(this.extent.wt_2)/this.extent.wt_2:0},ad$5:function(a,b){var c=this.gt$18(a),e=this.gt$18(b);a.isDummy()||b.isDummy()?!a.isDummy()&&
b.isDummy()?this.dn$4(a,b.getX()-c/2)&&this.dn$4(a,b.getX()+c/2)&&a.setX(b.getX()):a.isDummy()&&!b.isDummy()?this.dn$4(a,b.getX())&&a.setX(b.getX()):a.isDummy()&&b.isDummy()&&this.dn$4(a,b.getX())&&a.setX(b.getX()):c>=e?this.dn$4(a,b.getX()-e/2)&&this.dn$4(a,b.getX()+e/2)&&this.dn$4(a,b.getX()+c/2)&&a.setX(b.getX()):this.dn$4(a,b.getX()-c/2)&&this.dn$4(a,b.getX()+c/2)&&a.setX(b.getX())},cn$17:function(a,b){for(var c=0,e=0,g=b.length;e<g;++e)this.overlapsNode(a,b[e])&&c++;return c},ge$28:function(a){var b=
a.outLink;a=Array(b.length);for(var c=0;c<b.length;++c)a[c]=b[c].to;for(var b=this.getLayerOrder(a),e=Array(a.length),c=0;c<b.length;++c)e[c]=a[b[c]];return e},ge$29:function(a){var b=a.inLink;a=Array(b.length);for(var c=0;c<b.length;++c)a[c]=b[c].from;for(var b=this.getLayerOrder(a),e=Array(a.length),c=0;c<b.length;++c)e[c]=a[b[c]];return e},getLayerOrder:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),c=0;c<a.length;++c)d[c]=a[c].getX();return b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(d)}});
b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodeInfoSameLayer=b.com_ibm_init_declare({le_39:0,constructor:function(){this.le_39=0},getOrigFrom:function(){return this.oo_3},setOrigFrom:function(a){this.oo_3=a},getOrigTo:function(){return this.oT_1},setOrigTo:function(a){this.oT_1=a},getLevel:function(){return this.le_39},setLevel:function(a){this.le_39=a},getBelongsTo:function(){return this.bT_1},setBelongsTo:function(a){this.bT_1=a},updateBelongsToNodeX:function(a){var b=this.oo_3.getX()<
this.oT_1.getX()?1:-1,c=this.bT_1==this.oo_3?1:-1;a.setX(this.bT_1.getX()+c*b*.1)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_NaturalNodePlacement=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_SymmetricNodePlacement,{layoutNodes:function(a,d){this.lr_4=this.sort(a);this.all=new b.com_ibm_rave_codegenerator_util_List;for(var c=0,e=this.lr_4,g=e.length;c<g;++c)for(var k=e[c],f=0,h=k.length;f<h;++f)this.all.add(k[f]);b.com_ibm_vis_engine_internal_grammar_layout_graph_SymmetricNodePlacement.prototype.layoutNodes.apply(this,
[this.lr_4,d]);for(c=0;c<this.lr_4.length;++c){g=e=0;f=this.lr_4;for(h=f.length;g<h;++g)k=f[g],e+=this.improveLocations(k,!0),e+=this.improveLocations(k,!1);this.placeInExtent();if(0==e)break}},sort:function(a){for(var b=Array(a.length),c=0;c<b.length;++c){var e=this.getLayerOrder(a[c]);b[c]=Array(e.length);for(var g=0;g<e.length;++g)b[c][g]=a[c][e[g]]}return b},improveLocations:function(a,b){for(var c=0,e=0,g=0;g<a.length;++g){e=this.improveLocationsForLayer(a,b);if(0==e)break;c+=e}return c},improveLocationsForLayer:function(a,
d){for(var c=this.me$25(a,d),e=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),g=0;g<a.length;++g)e[g]=-Math.abs(c[g]);for(var e=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(e),k=0,f=0;f<e.length;++f)g=e[f],1E-8<c[g]?this.move(g,g+1,c[g],a)&&k++:-1E-8>c[g]&&this.move(g,g-1,c[g],a)&&k++;return k},move:function(a,b,c,e){a=e[a];var g=1;0<=b&&b<e.length&&(b=e[b],g=Math.abs(b.getX()-a.getX())-(a.wt_8/2+b.wt_8/2)-.01);if(0>=g)return!1;c=Math.min(c,g);c=Math.max(-g,c);a.setX(a.getX()+
c);return!0},me$25:function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),e=0;e<a.length;++e){for(var g=d?a[e].inLink:a[e].outLink,k=a[e].getX(),f=0,h=0,l=0,m=g.length;l<m;++l)var p=g[l].getOpposite(a[e]),q=p.isDummy()?.01:1,f=f+q*p.getX(),h=h+q;c[e]=0==h?0:f/h-k}return c},placeInExtent:function(){for(var a=b.com_ibm_vis_engine_internal_data_Range.EMPTY,d=b.com_ibm_vis_engine_internal_data_Range.EMPTY,c=0,e=this.all.arrayIterator(),g=e.length;c<g;++c){var k=e[c],f=k.wt_8/
2,h=k.hh_7/2;if(this.adapter.isSwapXY())var l=f,f=h,h=l;a=a.unionValue(k.getX()-f);a=a.unionValue(k.getX()+f);d=d.unionValue(k.getY()-h);d=d.unionValue(k.getY()+h)}c=0;e=this.all.arrayIterator();for(g=e.length;c<g;++c)k=e[c],k.setX(a.toZeroOne(k.getX())),k.setY(d.toZeroOne(k.getY()))}});b.com_ibm_vis_engine_internal_grammar_layout_graph_NaturalNodePlacement.MV_1=1E-8;b.com_ibm_vis_engine_internal_grammar_layout_graph_NaturalNodePlacement.MA_4=.01;b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodePlacementAlgorithm,{constructor:function(a){this.ae_19=a},layoutNodes:function(a,d){var c=a.length;if(0!=c){var e=Array(c),g=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),k=new b.com_ibm_rave_codegenerator_util_NumericMap;if(1==c)b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer"),g[0]=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getMaxLevel(a[0]),e[0]=new b.com_ibm_vis_engine_internal_data_Range(0,
1),b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge.sr$6(a[0],.5,k);else for(var f=this.ae_19.isSwapXY()?d.wt_2:d.hh_1,h=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),l=b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge.ct$9(a,h,f),l=(f-l)/(c-1),m=0,p=0;p<c;++p){b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer");var q=h[p],m=m+q/2;b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge.sr$6(a[p],m/f,k);m+=q/2;g[p]=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getMaxLevel(a[p]);
e[p]=0==p?new b.com_ibm_vis_engine_internal_data_Range(0,m/f):p<a.length-1?new b.com_ibm_vis_engine_internal_data_Range(e[p-1].max,m/f):new b.com_ibm_vis_engine_internal_data_Range(e[p-1].max,1);m+=l}this.ae_19.getSharedLayoutInfo().setLayerInfo(e,g,k)}}});b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge.sr$6=function(a,b,c){for(var e=0,g=a.length;e<g;++e){var k=a[e];k.setY(b);c.put(k.id,k.le_41)}};b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge.ct$9=function(a,
b,c){for(var e=a.length,g=0,k=0;k<e;++k){for(var f=0,h=0,l=a[k].length;h<l;++h)f=Math.max(f,a[k][h].getNodeHeight(c));b[k]=f;g+=f}return g};b.com_ibm_vis_engine_internal_grammar_layout_graph_CenteredInLayer=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodePlacementAlgorithm,{constructor:function(a){this.ae_13=a},layoutNodes:function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),e=Array(a.length),g=new b.com_ibm_rave_codegenerator_util_NumericMap,
k=0;k<a.length;++k){b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer");c[k]=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getMaxLevel(a[k]);e[k]=new b.com_ibm_vis_engine_internal_data_Range(k/a.length,(k+1)/a.length);for(var f=0,h=a[k].length;f<h;++f){var l=a[k][f];l.setY(e[k].mid());g.put(l.id,l.le_41)}}this.ae_13.getSharedLayoutInfo().setLayerInfo(e,c,g)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_AdaptiveLayerVerticalPlacement=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodePlacementAlgorithm,
{constructor:function(a){this.ae_10=a},layoutNodes:function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),g=this.gz$10(a)/2,k=0,f=0;f<a.length;++f){b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer");e[f]=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getMaxLevel(a[f]);var h=this.gn$8(e[f],this.gn$9(d)),l=this.gz$9(a[f]);c[f]=Math.max(g,h+l);k+=c[f]}for(f=0;f<c.length;++f)c[f]/=k;g=
this.cr$9(c);k=Array(a.length);h=new b.com_ibm_rave_codegenerator_util_NumericMap;for(f=0;f<a.length;++f){k[f]=new b.com_ibm_vis_engine_internal_data_Range(g[f]-c[f]/2,g[f]+c[f]/2);for(var l=0,m=a[f].length;l<m;++l){var p=a[f][l];p.setY(g[f]);h.put(p.id,p.le_41)}}this.ae_10.getSharedLayoutInfo().setLayerInfo(k,e,h)},cr$9:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),c=0,e=0;e<a.length;++e)d[e]=c+a[e]/2,c+=a[e];return d},gz$9:function(a){for(var b=0,c=0,e=a.length;c<
e;++c)b=Math.max(b,this.gh$6(a[c]));return b},gz$10:function(a){for(var b=1,c=0,e=a.length;c<e;++c)for(var g=a[c],k=0,f=g.length;k<f;++k){var h=this.gh$6(g[k]);1E-6<h&&(b=Math.min(b,h))}return b},gn$8:function(a,d){b.com_ibm_init_requireSync("com/ibm/vis/layers/graphLayoutsLayer");var c=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAG.getStrokeWidthFromStyle(this.ae_10.getLinkStyle());return b.com_ibm_vis_engine_internal_grammar_layout_LinkLayout.getGoodSpaceToFit(a,d,c)},gn$9:function(a){return this.ae_10.isSwapXY()?
a.wt_2:a.hh_1},gh$6:function(a){return this.ae_10.isSwapXY()?a.wt_8:a.hh_7}});b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,d){return"symmetric"==a?new b.com_ibm_vis_engine_internal_grammar_layout_graph_SymmetricNodePlacement(d):"maxOverlap"==a?new b.com_ibm_vis_engine_internal_grammar_layout_graph_MaximumOverlap(d):b.com_ibm_vis_internal_SpecConstants.CENTERPARENT==a?
new b.com_ibm_vis_engine_internal_grammar_layout_graph_NaturalNodePlacement(d):"spread"==a?new b.com_ibm_vis_engine_internal_grammar_layout_graph_SpreadLayersToEdge(d):"centered"==a?new b.com_ibm_vis_engine_internal_grammar_layout_graph_CenteredInLayer(d):"adaptive"==a?new b.com_ibm_vis_engine_internal_grammar_layout_graph_AdaptiveLayerVerticalPlacement(d):null}});b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions.re_13||
(b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions.re_13=!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions))};b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGExtensions.re_13=!1;b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGLayerAssignmentAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_graph_LongestDistanceToTerminal=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGLayerAssignmentAlgorithm,{assignLayers:function(a){for(var b=0,c=0,e=a.nodes,g=e.length;c<g;++c){var k=e[c];k.info=null}c=0;e=a.nodes;for(g=e.length;c<g;++c)k=e[c],k.le_41=this.dn$3(k),b=Math.max(b,k.le_41);b+=1;for(c=b-2;0<=c;--c)for(var e=0,g=a.nodes,f=g.length;e<f;++e)if(k=g[e],k.le_41==c&&0<k.inLink.length){for(var h=b,l=0,m=k.inLink,p=m.length;l<p;++l)h=Math.min(h,m[l].from.le_41);k.le_41=h-1}return b},dn$3:function(a){if(null!=
a.info)return a.info;for(var b=0,c=0,e=a.outLink,g=e.length;c<g;++c)b=Math.max(b,this.dn$3(e[c].to)+1);return a.info=b}});b.com_ibm_vis_engine_internal_grammar_layout_graph_AssignLayerFromSpec=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGLayerAssignmentAlgorithm,{constructor:function(a){this.ae_11=a;this.ll_6=a.getSpec().layer?a.getSpec().layer.$ref:null},assignLayers:function(a){for(var d=this.ae_11.getAllFieldValuesAsNumeric(this.ll_6),c=new b.com_ibm_rave_codegenerator_util_List,
e=0,g=a.nodes,k=g.length;e<k;++e){var f=g[e];if(f.isDummy())c.add(f);else{var h=d[f.row];h==h&&(f.le_41=Math.floor(h),c.add(f))}}a.nodes=c.toArray(Array(c.size()));a.removeUnwantedLinks();a.reverseLinksIfNeeded();return 1+Math.floor(this.ae_11.getFieldRange(this.ll_6).max)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_CycleRemovalAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_CycleRemovalAlgorithm,
{constructor:function(a){this.ae_14=a},removeCycles:function(a){for(var d=0,c=a.nodes,e=c.length;d<e;++d)for(var g=c[d],k=!1;!k;){var f=this.fl$1(a,g);f?(k=!1,this.ae_14.logInfo("Graph layout needed to break a cycle","cycle size",f.size()),this.bl$3(f)):(g.info=b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.EE_1,k=!0)}},bl$3:function(a){for(var b=0,c=this.sl$6(0,a),e=1;e<a.size()-1;++e){var g=this.sl$6(e,a);c<g&&(b=e,c=g)}c=a.get(b);a=a.get(b+1);b=0;c=c.outLink;for(e=
c.length;b<e;++b)if(g=c[b],g.to==a){g.reverse();break}},sl$6:function(a,b){var c=b.get(a+1),e=b.get(a);if(e.row<c.row)return-Infinity;for(var g=0,k=0,f=c.outLink,h=f.length;k<h;++k){var l=b.indexOf(f[k].to);l<a&&0<=l&&g++}return 1E-6*(e.row-c.row)-g},fl$1:function(a,d){for(var c=0,e=a.nodes,g=e.length;c<g;++c){var k=e[c];k.info!=b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.EE_1&&(k.info=null)}var f=new b.com_ibm_rave_codegenerator_util_List;f.add(d);if(this.sl$7(d,
f))for(k=f.get(f.size()-1),c=0;c<f.size();++c)if(f.get(c)==k){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=k=0,f=f.arrayIterator(),h=f.length;g<h;++g){var l=f[g];k++>c&&e.add(l)}return e}d.info=b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.EE_1;return null},sl$7:function(a,d){a.info=b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.DE_4;for(var c=0,e=a.outLink,g=e.length;c<g;++c){var k=e[c].to;d.add(k);if(k.info==b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.DE_4||
null==k.info&&this.sl$7(k,d))return!0;d.remove(d.get(d.size()-1))}a.info=b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.EE_1;return!1}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.DE_4=1;b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultCycleRemovalAlgorithm.EE_1=2});b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGCrossingReductionAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGCrossingReductionAlgorithm=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGCrossingReductionAlgorithm,{constructor:function(a){this.ae_15=a},layout:function(a,d){this.setupLayers(a,d);this.cg_4=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings(a.nodes,a.links);this.dp$1(a,d);this.dn$2(a);this.ae_15.hasListeners()&&(this.cg_4.calculateCounts(),this.ae_15.logDetail("Finished DAG layout","crossings",this.cg_4.total))},setupLayers:function(a,d){this.ae$12(a,d);this.fl$2(a,d);if(1==d.length)this.de$3(d[0]);
else{for(var c=0;3>c;++c)this.ar$7(a,d),this.at$6(a,d);b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGCrossingReductionAlgorithm.isTree(a)&&this.ar$7(a,d)}},dp$1:function(a,b){this.cg_4.calculateCounts();if(0<this.cg_4.total)for(var c=0,e=0,g=b.length;e<g;++e)for(var k=b[e],f=0;f<k.length-1;++f)for(var h=k[f],l=f+1;l<k.length;++l){var m=k[l];(h.isOrdered()&&m.isOrdered()&&h.oe_11==m.oe_11||!h.isOrdered()&&!m.isOrdered())&&this.cg_4.swapNodes(h,m)&&c++}},dn$2:function(a){this.cg_4.calculateCounts();
for(var b=this.cg_4.total,c=0,e=a.nodes,g=e.length;c<g;++c){var k=e[c];k.setX(-k.getX())}this.cg_4.calculateCounts();if(!(this.cg_4.total<b))for(b=0,a=a.nodes,c=a.length;b<c;++b)k=a[b],k.setX(-k.getX())},ar$7:function(a,b){for(var c=b.length-2;0<=c;--c){for(var e=b[c],g=0,k=e.length;g<k;++g){var f=e[g];if(0<f.inLink.length){for(var h=0,l=0,m=f.inLink,p=m.length;l<p;++l)var q=m[l],h=h+q.from.getPartXY(q.fr_2).x;f.setX((h/f.inLink.length+1E-6*f.getX())/1.000001)}}this.de$3(e)}},at$6:function(a,b){for(var c=
b.length,e=1;e<c;++e){for(var g=b[e],k=0,f=g.length;k<f;++k){var h=g[k];if(0<h.outLink.length){for(var l=0,m=0,p=h.outLink,q=p.length;m<q;++m)var r=p[m],l=l+r.to.getPartXY(r.tr_4).x;h.setX((l/h.outLink.length+1E-6*h.getX())/1.000001)}}this.de$3(g)}},ae$12:function(a,b){for(var c=b.length,e=0;e<c;++e)for(var g=b[e],k=0;k<g.length;++k){for(var f=g[k],h=f.degree(),l=0,m=f.inLink,p=m.length;l<p;++l)var q=m[l],h=h+.1*q.from.degree();l=0;m=f.outLink;for(p=m.length;l<p;++l)q=m[l],h+=.1*q.to.degree();h=k<
g.length/2?h+1E-8*k:h+1E-8*(1+g.length/2-k);f.setX(h);f.setY(e)}},fl$2:function(a,b){for(var c=b.length,e=0,g=0;g<c;++g)var k=b[g],e=Math.max(e,k.length);e=.5*(e-1);for(g=0;g<c;++g)for(var f=.01*Math.sqrt(g),k=b[g],h=k.length,l=this.ge$27(k),m=0,p=h-1,q=0;q<h;q+=2){var r=k[l[q]],t=r;q<h-1&&(t=k[l[q+1]]);if(0<r.outLink.length){var w=r.outLink[0];w.to.getX()>e&&(w=r,r=t,t=w)}else 0<t.outLink.length&&(w=t.outLink[0],w.to.getX()<e&&(w=r,r=t,t=w));r.setX(m-f);q<h-1&&t.setX(p+f);m++;p--}},de$3:function(a){for(var b=
this.ge$27(a),c=0;c<b.length;++c)a[b[c]].setX(c-b.length/2)},ge$27:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),c=b.com_ibm_vis_engine_internal_data_Range.EMPTY,e=0;e<a.length;++e)a[e].isOrdered()?(d[e]=a[e].oe_11,c=c.unionValue(d[e])):d[e]=a[e].getX();if(!c.isEmpty())if(0==c.range)for(e=0;e<a.length;++e)a[e].isOrdered()&&(d[e]=0);else for(e=0;e<a.length;++e)a[e].isOrdered()&&(d[e]=c.toZeroOne(d[e]));return b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(d)}});
b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGCrossingReductionAlgorithm.isTree=function(a){var b=0;a=a.nodes;for(var c=a.length;b<c;++b)if(1<a[b].inLink.length)return!1;return!0};b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGCrossingReductionAlgorithm.BO_1=1E-6;b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings=b.com_ibm_init_declare({total:0,constructor:function(a,d){this.ne_13=a;this.lk_2=d;this.la_2=new b.com_ibm_rave_codegenerator_util_HashMap;for(var c=
0;c<d.length;++c)this.la_2.put(d[c],c);this.ra_5=new b.com_ibm_rave_codegenerator_util_Map;for(c=0;c<this.ne_13.length;++c){var e=Math.abs(this.ne_13[c].row);this.ra_5.put(e,c)}this.le_38=Array(d.length);this.total=0;this.counts=b.com_ibm_rave_codegenerator_lang_Array.create([this.ne_13.length],0);for(c=0;c<this.lk_2.length;++c)e=this.lk_2[c],null!=this.ra_5.get(Math.abs(e.from.row))&&null!=this.ra_5.get(Math.abs(e.to.row))&&(this.le_38[c]=[this.ra_5.get(Math.abs(e.from.row)),this.ra_5.get(Math.abs(e.to.row))]);
this.calculateCounts()},calculateCounts:function(){for(var a=this.total=0;a<this.counts.length;++a)this.counts[a]=0;for(a=1;a<this.lk_2.length;++a)for(var b=0;b<a;++b)this.lk_2[a].intersects(this.lk_2[b])&&(this.total++,this.counts[this.le_38[a][0]]+=1,this.counts[this.le_38[a][1]]+=1,this.counts[this.le_38[b][0]]+=1,this.counts[this.le_38[b][1]]+=1)},swap:function(a,b,c){if(this.counts[a]+this.counts[b]<=c)return!1;a=this.ne_13[a];b=this.ne_13[b];var e=this.co$2(a,b,1E6);a.swapWith(b);var g=this.co$2(a,
b,e-c);if(e-g>c)return this.re$6(a,b),!0;a.swapWith(b);return!1},re$6:function(a,d){for(var c=this.gk$2(a,d),e=0,g=c.arrayIterator(),k=g.length;e<k;++e){var f=g[e];if(f.from==a||f.from==d){var h=this.la_2.get(f);this.counts[this.le_38[h][0]]=0;this.counts[this.le_38[h][1]]=0}}e=new b.com_ibm_rave_codegenerator_util_List;g=0;c=c.arrayIterator();for(k=c.length;g<k;++g){for(var f=c[g],l=0;l<this.lk_2.length;++l)h=this.lk_2[l],f!=h&&!b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2(e,
h)&&f.intersects(h)&&(h=this.la_2.get(f),this.counts[this.le_38[h][0]]+=1,this.counts[this.le_38[h][1]]+=1);e.add(f)}},gk$2:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List,e=a.inLink;if(e)for(var g=0,k=e.length;g<k;++g){var f=e[g];b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2(c,f)||c.add(f)}if(e=a.outLink)for(g=0,k=e.length;g<k;++g)f=e[g],b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2(c,f)||c.add(f);if(e=d.inLink)for(g=0,k=e.length;g<k;++g)f=e[g],
b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2(c,f)||c.add(f);if(e=d.outLink)for(g=0,k=e.length;g<k;++g)f=e[g],b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2(c,f)||c.add(f);return c},co$2:function(a,d,c){var e=0,g=this.gk$2(a,d);a=new b.com_ibm_rave_codegenerator_util_List;d=0;for(var g=g.arrayIterator(),k=g.length;d<k;++d){for(var f=g[d],h=0;h<this.lk_2.length;++h){var l=this.lk_2[h];if(f!=l&&!b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2(a,
l)&&f.intersects(l)&&++e>=c)return c}a.add(f)}return e},swapNodes:function(a,b){return this.swap(this.ra_5.get(Math.abs(a.row)),this.ra_5.get(Math.abs(b.row)),0)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings.in$2=function(a,b){for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c)if(e[c]==b)return!0;return!1};b.com_ibm_vis_engine_internal_grammar_layout_graph_Graph=b.com_ibm_init_declare({constructor:function(a,b){this.nodes=a;this.links=b},reverseLinksIfNeeded:function(){for(var a=
0,b=this.links,c=b.length;a<c;++a){var e=b[a];e.to.le_41>e.from.le_41&&e.reverse()}},removeUnwantedLinks:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0;d<this.links.length;++d){var c=this.links[d].to;this.il$3(this.links[d].from)&&this.il$3(c)&&a.add(this.links[d])}this.links=a.toArray(Array(a.size()))},il$3:function(a){for(var b=0,c=this.nodes,e=c.length;b<e;++b)if(c[b]==a)return!0;return!1}});b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,
{compare:function(a,b){var c=a.length(),e=b.length();if(0>e-c)return 1;if(0<e-c)return-1;c=b.row-a.row;0==c&&(c=b.from.row-a.from.row,0==c&&(c=b.to.row-a.to.row));return c}});b.com_ibm_vis_engine_internal_grammar_layout_graph_NodeComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a.getX(),e=b.getX();return 0>e-c?1:0<e-c?-1:b.row-a.row}});b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.insertDummyNodesForLinksInLayers=
function(a,d,c,e){for(var g=new b.com_ibm_rave_codegenerator_util_List,k=0,f=c.length;k<f;++k)g.add(c[k]);c=Array(d.length);for(k=0;k<d.length;++k)c[k]=new b.com_ibm_rave_codegenerator_util_List;for(var k=new b.com_ibm_rave_codegenerator_util_List,f=0,h=e.length;f<h;++f){var l=e[f];if(0==l.getSpan()){c[l.from.le_41].add(l);for(var m=d[l.from.le_41],p=l.from.getX(),q=l.to.getX(),r=!0,t=0;t<m.length;++t){var w=m[t];if(w.getX()>p&&w.getX()<q||w.getX()<p&&w.getX()>q){r=!1;break}}r?k.add(l):b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.de$2(a,
g,k,l)}else k.add(l)}a=new b.com_ibm_rave_codegenerator_util_List;a.add(g.toArray(Array(g.size())));b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(k,new b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkComparator);a.add(k.toArray(Array(k.size())));return a};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.de$2=function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.me$21(a,d,c,e),g=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.me$22(a,
d,c,e,g,g.le_41);b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.mn$17(c,e,g)};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.mn$17=function(a,d,c){var e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(c,d.to);e.re_15=d.re_15;a.add(e);c.setOutLink([e]);d.to.replaceInlink(d,e)};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.me$21=function(a,d,c,e){var g=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-d.size());
g.setOrientation(a.isSwapXY(),a.isReflectY());g.le_41=e.from.le_41;a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodeInfoSameLayer;a.oo_3=e.from;a.oT_1=e.to;a.bT_1=e.from;g.info=a;g.setX(e.from.getX()+.1*(e.to.getX()-e.from.getX()));d.add(g);d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(e.from,g);d.re_15=e.re_15;c.add(d);e.from.replaceOutlink(e,d);g.inLink=[d];return g};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.me$22=function(a,d,c,e,g,
k){var f=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(-d.size());f.setOrientation(a.isSwapXY(),a.isReflectY());f.le_41=k;a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodeInfoSameLayer;a.oo_3=e.from;a.oT_1=e.to;a.bT_1=e.to;f.info=a;f.setX(e.from.getX()+.9*(e.to.getX()-e.from.getX()));d.add(f);d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(g,f);d.re_15=e.re_15;c.add(d);g.outLink=[d];f.inLink=[d];return f};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.he$1=
function(a,d){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a,new b.com_ibm_vis_engine_internal_grammar_layout_graph_LinkComparator);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(d,new b.com_ibm_vis_engine_internal_grammar_layout_graph_NodeComparator);for(var c=new b.com_ibm_rave_codegenerator_util_HashMap,e=0,g=a.arrayIterator(),k=g.length;e<k;++e){for(var f=g[e],h=f.from,l=h.info,m=f.to,p=m.info,q=Math.max(l.le_39,p.le_39),r=0,f=b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.ge$26(f,
d).arrayIterator(),t=f.length;r<t;++r)q=Math.max(f[r].info.le_39,q);q++;r=c.get(m);r||(r=new b.com_ibm_rave_codegenerator_util_List,r.add(h),c.put(m,r));r.contains(h)&&(q+=1);r.add(h);l.le_39=q;p.le_39=q}};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.assignLevelToDummyNodesInSameLayer=function(a,d){for(var c=Array(a.length),e=Array(a.length),g=0;g<a.length;++g)c[g]=new b.com_ibm_rave_codegenerator_util_List,e[g]=new b.com_ibm_rave_codegenerator_util_List;for(var g=0,k=
d.length;g<k;++g){var f=d[g],h=f.from,l=h.le_41,m=f.to,p=m.le_41;h.isDummy()&&m.isDummy()&&l==p&&(c[l].add(f),e[l].contains(h)||e[l].add(h),e[p].contains(m)||e[p].add(m))}for(g=0;g<a.length;++g)b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.he$1(c[g],e[g])};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.ge$26=function(a,d){var c=a.from,e=a.to;if(c.getX()>e.getX())var g=c,c=e,e=g;for(var k=g=-1,f=0;f<d.size();++f)if(d.get(f).getX()>=c.getX())if(-1==
g)g=f-1;else if(d.get(f).getX()>=e.getX()||f==d.size())k=f;return-1<g&&-1<k&&0<Math.abs(k-g)?b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.ss$1(d,g,k):new b.com_ibm_rave_codegenerator_util_List};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.ss$1=function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List;d<=c;++d)e.add(a.get(d));return e};b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGInLayerLinkHandling.DUMMY_NODES_X_OFFSET_FACTOR=
.1;b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodeWrappingAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_graph_DefaultDAGNodeWrappingAlgorithm=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_DAGNodeWrappingAlgorithm,{constructor:function(a){this.ae_16=a},assignRows:function(a){var b=this.er$2(a);return this.we$5(a,b)},er$2:function(a){var d,c,e;e=this.ae_16.getSpec().swimLanes.id?this.ae_16.getSpec().swimLanes.id.$ref:
null;d=this.ae_16.getSpec().swimLanes.maxRowValue?this.ae_16.getSpec().swimLanes.maxRowValue.$ref:null;c=this.ae_16.getSpec().swimLanes.idealNodeCountValue?this.ae_16.getSpec().swimLanes.idealNodeCountValue.$ref:null;e=this.ae_16.getAllFieldValuesAsNumeric(e);d=this.ae_16.getAllFieldValuesAsNumeric(d);c=this.ae_16.getAllFieldValuesAsNumeric(c);var g=new b.com_ibm_rave_codegenerator_util_NumericMap,k=0;a=a.nodes;for(var f=a.length;k<f;++k){var h=a[k];g.containsKey(h.le_41)||g.put(h.le_41,new b.com_ibm_rave_codegenerator_util_List);
g.get(h.le_41).add(h)}a=Array(e.length);for(k=0;k<e.length;++k)f=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Layer(e[k]),d[k]==d[k]&&1<d[k]&&(f.maxRowCount=Math.floor(d[k])),c[k]==c[k]&&(f.idealNodeCount=Math.floor(c[k])),f.nodeList=g.get(f.id),a[k]=f;return a},we$5:function(a,b){for(var c=0,e=b.length;c<e;++c){var g=b[c];this.ne$4(g)?this.ae$13(g):g.nodeList&&(g.rows=Array(1),g.rows[0]=g.nodeList.toArray(Array(g.nodeList.size())))}c=this.ue$1(b);e=this.gn$10(b);a.nodes=c.toArray(Array(c.size()));
a.reverseLinksIfNeeded();return e},ne$4:function(a){return a.nodeList&&0<a.nodeList.size()&&1<a.maxRowCount&&a.idealNodeCount<a.nodeList.size()},gn$10:function(a){for(var b=0,c=0,e=a.length;c<e;++c){var g=a[c];g.rows?b+=g.rows.length:b++}return b},ue$1:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length-1;0<=e;--e){var g=a[e].rows;if(g)for(var k=g.length-1;0<=k;--k){for(var f=0,h=g[k].length;f<h;++f){var l=g[k][f];l.le_41+=c;d.add(l)}0!=k&&c++}}return d},ae$13:function(a){var b=
this.go$10(a),c=this.ao$4(a);a.rows=this.ft$3(b,c)},ft$3:function(a,b){for(var c=0,e=0;e<a.length;++e)for(var g=0;g<a[e].length;++g)a[e][g]=b[c++];return a},ao$4:function(a){for(var d=Array(a.nodeList.size()),c=b.com_ibm_rave_codegenerator_lang_Array.create([a.nodeList.size()],0),e=0,g=0,k=a.nodeList.arrayIterator(),f=k.length;g<f;++g){var h=k[g];if(null!=h.oe_11)c[e++]=h.oe_11;else{for(var l=0,m=0,p=0,q=0,r=h.inLink,t=r.length;q<t;++q)p=r[q],p.from.le_41>h.le_41?l++:p.from.le_41<h.le_41&&m++;q=0;
r=h.outLink;for(t=r.length;q<t;++q)p=r[q],p.to.le_41>h.le_41?l++:p.to.le_41<h.le_41&&m++;p=m-l;c[e++]=p}}c=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(c);for(e=0;e<c.length;++e)d[e]=a.nodeList.get(c[e]);return d},go$10:function(a){var b=0,c=0,e;if(a.nodeList.size()/a.idealNodeCount>a.maxRowCount){b=a.nodeList.size()/a.maxRowCount;c=a.maxRowCount;a=a.nodeList.size()%c;e=Array(c);for(var g=0;g<c;++g)e[g]=g<a?Array(Math.ceil(b)):Array(Math.floor(b))}else if(a.nodeList.size()/a.idealNodeCount<=
a.maxRowCount)for(c=Math.ceil(a.nodeList.size()/a.idealNodeCount),e=Array(c),g=0;g<c;++g)b=a.nodeList.size()-g*a.idealNodeCount,e[g]=Array(Math.min(b,a.idealNodeCount));return e}});b.com_ibm_vis_engine_internal_grammar_layout_graph_Layer=b.com_ibm_init_declare({id:0,maxRowCount:0,idealNodeCount:0,constructor:function(a){this.id=a;this.maxRowCount=1;this.idealNodeCount=0},toString:function(){return String.CPVisEngineValueOf(this.id)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_AttachmentPoint=
b.com_ibm_init_declare({ie_12:!1,in_5:!1,oe_10:!1,on_6:!1,constructor:function(a,d){this.ae_12=a;if(null==d)this.oe_10=this.ie_12=!1,this.on_6=this.in_5=!0,this.ol_1=this.ou_2=this.il_3=this.iu_3=null;else{if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)){if("center"==d){this.oe_10=this.ie_12=!0;this.on_6=this.in_5=!1;this.ol_1=this.ou_2=this.il_3=this.iu_3=null;return}if(b.com_ibm_vis_engine_internal_grammar_layout_graph_AttachmentPoint.ATTACH_CLOSEST==d){this.oe_10=this.ie_12=!1;this.on_6=
this.in_5=!0;this.ol_1=this.ou_2=this.il_3=this.iu_3=null;return}throw new b.com_ibm_vis_exceptions_internal_SpecException("Illegal string value for attachmentPoint, only 'center' and 'closestPoint' allowed",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}if(d.inPoint){if(null==d.inPoint.value&&(!d.inPoint.field||null==d.inPoint.field.$ref)||null!=d.inPoint.value&&d.inPoint.field)throw new b.com_ibm_vis_exceptions_internal_SpecException("attachmentPoint.inPoint must be defined with either a 'value' or a 'field' but not both",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(null!=d.inPoint.value)this.in_5=this.ie_12=!1,this.iu_3=d.inPoint.value,this.il_3=null;else{if(!a.isField(d.inPoint.field.$ref))throw new b.com_ibm_vis_exceptions_internal_SpecException("attachmentPoint.inPoint.field must be a field reference",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);this.in_5=this.ie_12=!1;this.iu_3=null;this.il_3=d.inPoint.field.$ref}}else this.ie_12=!1,this.in_5=!0,this.il_3=this.iu_3=null;if(d.outPoint){if(null==
d.outPoint.value&&(!d.outPoint.field||null==d.outPoint.field.$ref)||null!=d.outPoint.value&&d.outPoint.field)throw new b.com_ibm_vis_exceptions_internal_SpecException("attachmentPoint.outPoint must be defined with either a 'value' or a 'field' but not both",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(null!=d.outPoint.value)this.on_6=this.oe_10=!1,this.ou_2=d.outPoint.value,this.ol_1=null;else{if(!a.isField(d.outPoint.field.$ref))throw new b.com_ibm_vis_exceptions_internal_SpecException("attachmentPoint.outPoint.field must be a field reference",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);this.on_6=this.oe_10=!1;this.ou_2=null;this.ol_1=d.outPoint.field.$ref}}else this.oe_10=!1,this.on_6=!0,this.ol_1=this.ou_2=null}},isInPointCenter:function(){return this.ie_12},isInPointClosestPoint:function(){return this.in_5},isInPointNamed:function(){return!(this.in_5||this.ie_12)},getInName:function(a){if(this.ie_12||this.in_5)throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal use of AttachmentPoint#getConnectionPointName, please contact the RAVE Team",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);return null!=this.iu_3?this.iu_3:this.ae_12.getFieldStringValue(this.il_3,a)},isOutPointCenter:function(){return this.oe_10},isOutPointClosestPoint:function(){return this.on_6},isOutPointNamed:function(){return!(this.on_6||this.oe_10)},getOutName:function(a){if(this.oe_10||this.on_6)throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal use of AttachmentPoint#getConnectionPointName, please contact the RAVE Team",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);
return null!=this.ou_2?this.ou_2:this.ae_12.getFieldStringValue(this.ol_1,a)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_graph_AttachmentPoint.ATTACH_CENTER="center";b.com_ibm_vis_engine_internal_grammar_layout_graph_AttachmentPoint.ATTACH_CLOSEST=b.com_ibm_vis_internal_SpecConstants.CLOSESTPOINT});b.com_ibm_vis_engine_internal_grammar_layout_graph_GridGraphLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout,
{extraGrid:0,constructor:function(a){this.extraGrid=0},getGridOverlapCount:function(a){for(var b=0,c=0,e=a.inLink,g=e.length;c<g;++c){var k=e[c];k.from.getX()==k.to.getX()&&(b+=Math.floor(Math.abs(k.from.getY()-k.to.getY())-.5));k.from.getY()==k.to.getY()&&(b+=Math.floor(Math.abs(k.from.getX()-k.to.getX())-.5))}c=0;a=a.outLink;for(e=a.length;c<e;++c)k=a[c],k.from.getX()==k.to.getX()&&(b+=Math.floor(Math.abs(k.from.getY()-k.to.getY())-.5)),k.from.getY()==k.to.getY()&&(b+=Math.floor(Math.abs(k.from.getX()-
k.to.getX())-.5));return b},layoutNodes:function(a){this.sortNodes();var b=this.adapter.getElementSize(),b=this.gn$11(b,a),c=Math.ceil(this.nodes.length/b);c*b<this.nodes.length&&c++;var b=b+this.extraGrid,c=c+this.extraGrid,e=Math.sqrt(Math.max(b,c));this.gridPts=this.makeGridPoints(b,c);this.initialPlacement(e);b=this.nodes;this.nodes=this.me$24();this.sp$3();this.nodes=b;this.placeInExtent(a)},sortNodes:function(){for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.nodes.length],0),
d=0;d<this.nodes.length;++d)a[d]=this.nodes[d].degree()-d/1E6;for(var a=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(a),c=Array(this.nodes.length),d=0;d<a.length;++d)c[a.length-1-d]=this.nodes[a[d]];this.nodes=c},sp$3:function(){var a=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer(),d=Math.round(2E6/(this.links.length*(this.links.length-1)/2));this.doSwaps(d);this.adapter.hasListeners()&&(a=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer().subtract(a),
this.adapter.logDetail("Time used for swapping","time (ms)",a))},doSwaps:function(a){for(var d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings(this.nodes,this.links),c=b.com_ibm_rave_codegenerator_lang_Array.create([this.nodes.length],0),e=0;e<this.nodes.length;++e)c[e]=this.getGridOverlapCount(this.nodes[e]);for(var g=0,k=!0;k&&g<a;)for(var k=!1,f=0;g<a&&f<this.nodes.length;++f)if(0<c[f]+d.counts[f])for(var h=0;h<this.nodes.length;++h)if(f!=h&&(g++,this.nodes[f].swapWith(this.nodes[h]),
e=this.getGridOverlapCount(this.nodes[f])+this.getGridOverlapCount(this.nodes[h])-c[f]-c[h],this.nodes[f].swapWith(this.nodes[h]),d.swap(f,h,e)))for(k=!0,e=0;e<this.nodes.length;++e)c[e]=this.getGridOverlapCount(this.nodes[e])},me$24:function(){for(var a=Array(this.gridPts.size()+this.nodes.length),d=0;d<this.nodes.length;++d)a[d]=this.nodes[d];for(var d=this.nodes.length,c=0,e=this.gridPts.arrayIterator(),g=e.length;c<g;++c)a[d]=b.com_ibm_vis_engine_internal_grammar_layout_graph_Node.makeDummyNode(e[c]),
a[d].setOrientation(this.adapter.isSwapXY(),this.adapter.isReflectY()),d++;return a},initialPlacement:function(a){for(var b=0,c=this.nodes,e=c.length;b<e;++b){var g=c[b];g.info=g.degree()}b=0;c=this.nodes;for(e=c.length;b<e;++b)if(g=c[b],null!=g.info){var k=this.gridPts.get(0);this.pd$2(g,k);k.x-=.002;k.y-=.001;for(var f=0,h=g.outLink,l=h.length;f<l;++f){var m=h[f];this.pe$9(a,k,m.to)}f=0;g=g.inLink;for(h=g.length;f<h;++f)m=g[f],this.pe$9(a,k,m.from)}},pe$9:function(a,b,c){null!=c.info&&(a=this.ft$4(b,
a))&&this.pd$2(c,a)},gn$11:function(a,b){return Math.round(Math.sqrt(b.wt_2/a.wt_2/(b.hh_1/a.hh_1)*this.nodes.length))},makeGridPoints:function(a,d){for(var c=new b.com_ibm_vis_geom_Point((a-1)/2-1E-5,(d-1)/2-1E-6),e=Array(a*d),g=b.com_ibm_rave_codegenerator_lang_Array.create([a*d],0),k=0;k<a;++k)for(var f=0;f<d;++f){var h=new b.com_ibm_vis_geom_Point(k,f);e[k*d+f]=h;g[k*d+f]=h.distance(c)}c=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(g);g=new b.com_ibm_rave_codegenerator_util_List;
f=0;for(h=c.length;f<h;++f)k=c[f],g.add(e[k]);return g},ft$4:function(a,b){for(var c,e=b,g=0,k=this.gridPts.arrayIterator(),f=k.length;g<f;++g){var h=k[g],l=a.distance(h);l<e&&(e=l,c=h)}return c},pd$2:function(a,b){a.setX(b.x);a.setY(b.y);this.gridPts.remove(b);a.info=null},setupNodeLayering:function(a){}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout,{ca_5:1,rz_1:!1,st_11:!0,me_7:!1,
mn_4:0,preferred_edge_length:0,constructor:function(a){this.mn_4=500},constructor:function(a,b,c,e){this.mn_4=500;this.me_7=b;this.rz_1=c;this.ca_5=e},copy:function(a,d,c,e){var g=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout(this.adapter);g.nodes=a.toArray(Array(a.size()));g.links=d.toArray(Array(d.size()));g.me_7=e;g.st_11=!1;150>a.size()?g.mn_4=this.mn_4:g.mn_4=20;g.preferred_edge_length=this.preferred_edge_length*Math.pow(2,c);return g},info:function(a){this.adapter.logInfo("Stress Layout: "+
a,null,null)},di$1:function(a,b,c){this.adapter.logDetail("Stress Layout: "+a,b,c)},layoutNodes:function(a){this.info("Laying out nodes using Stress Layout Algorithm");var d=this.adapter.getElementSize();this.preferred_edge_length=Math.max(1,d.getMin());this.di$1("Choosing link size","preferred_edge_length",this.preferred_edge_length);if(this.st_11){var d=b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting.fromLayout(this),c=d.components;if(1<c.length){this.di$1("Splitting Graph into Components",
"# components",c.length);for(var e=0,g=c.length;e<g;++e){var k=c[e];this.copy(k.ne_17,k.lk_4,this.ca_5,this.me_7).layoutNodes(a)}d.combine(this.adapter,a,this.preferred_edge_length);return}}this.di$1("Graph size","# nodes",this.getNodesCount());this.di$1("Graph size","# edges",this.getLinksCount());8<this.getNodesCount()?this.ie$36():this.il$5();if(!(2>this.getNodesCount())){for(var c=0,k=this.nodes,f=k.length;c<f;++c)d=k[c],e?(e=e.unionValue(d.getX()),g=g.unionValue(d.getY())):(e=new b.com_ibm_vis_engine_internal_data_Range(d.getX(),
d.getX()),g=new b.com_ibm_vis_engine_internal_data_Range(d.getY(),d.getY()));for(var c=new b.com_ibm_vis_engine_internal_data_Range(0,a.wt_2),k=new b.com_ibm_vis_engine_internal_data_Range(0,a.hh_1),f=0,h=this.nodes,l=h.length;f<l;++f)d=h[f],d.setX(c.fromZeroOne(e.toZeroOne(d.getX()))),d.setY(k.fromZeroOne(g.toZeroOne(d.getY())));this.me_7?(this.iz$2(),this.doMultiLevelLayout(a)):this.doLayout(a)}},ie$36:function(){var a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_ExtractTree(this,
!1),d=a.calculate(),c=new b.com_ibm_rave_codegenerator_util_HashMap;this.rc$4(d,a,1,0,6.283185307179586,c)},il$5:function(){if(1==this.nodes.length)this.nodes[0].moveTo(0,0);else{for(var a=0;a<this.nodes.length;++a){var d=6.283185307179586*a/this.nodes.length;this.nodes[a].moveTo(Math.cos(d),Math.sin(d))}for(var d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Crossings(this.nodes,this.links),c=!0;c;)for(c=!1,a=0;a<this.nodes.length;++a)for(var e=0;e<a;++e)d.swap(a,e,0)&&(c=!0)}},rc$4:function(a,
b,c,e,g,k){if(a){for(var f=0,h=0,l=a.arrayIterator(),m=l.length;h<m;++h)var p=l[h],f=f+this.gz$12(b,p,k);l=h=0;a=a.arrayIterator();for(m=a.length;l<m;++l){var p=a[l],q=e+(g-e)*h/f,h=h+this.gz$12(b,p,k),r=e+(g-e)*h/f;p.moveTo(c*Math.cos((q+r)/2),c*Math.sin((q+r)/2));this.rc$4(b.getChildren(p),b,c+1,q,r,k)}}},gz$12:function(a,b,c){var e=c.get(b);if(null==e){e=1;if(null!=b.info)for(var g=0,k=a.getChildren(b).arrayIterator(),f=k.length;g<f;++g)e+=this.gz$12(a,k[g],c);c.put(b,e)}return e},iz$2:function(){for(var a=
0,b=this.nodes,c=b.length;a<c;++a){var e=b[a];e.wh_4=e.degree();for(var g=0,k=e.getNeighbors(),f=k.length;g<f;++g)e.wh_4+=k[g].degree()}},placeInExtent:function(a){for(var d=0,c=this.nodes,e=c.length;d<e;++d){var g=c[d],k=Math.round(10*g.getX())/10,f=Math.round(10*g.getY())/10;g.moveTo(k,f)}this.rz_1&&this.so$2(a)&&(this.info("Attempting to remove overlap"),this.scaleTo(a),(new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_OverlapRemoval(this.nodes,a.wt_2/a.hh_1,1)).layout());this.scaleTo(new b.com_ibm_vis_geom_Dim(1,
1))},so$2:function(a){for(var b=0,c=0,e=this.nodes,g=e.length;c<g;++c)b+=e[c].getCurrentBounds().area();return.25>b/a.wt_2/a.hh_1},scaleTo:function(a){var b=this.ge$30(),c=a.wt_2/b[0].range,e=a.hh_1/b[1].range,g=-b[0].min,k=-b[1].min,f=(a.wt_2-c*b[0].range)/2;a=(a.hh_1-e*b[1].range)/2;for(var b=0,h=this.nodes,l=h.length;b<l;++b){var m=h[b],p=c*(m.getX()+g)+f,q=e*(m.getY()+k)+a;m.moveTo(p,q)}},ge$30:function(){for(var a=[b.com_ibm_vis_engine_internal_data_Range.EMPTY,b.com_ibm_vis_engine_internal_data_Range.EMPTY],
d=0,c=this.nodes,e=c.length;d<e;++d){var g=c[d].getCurrentBounds();a[0]=a[0].unionValue(g.getMinX()).unionValue(g.getMaxX());a[1]=a[1].unionValue(g.getMinY()).unionValue(g.getMaxY())}return a},doLayout:function(a){this.de_18=this.computeDistanceMatrix();a=this.ct$10(this.preferred_edge_length);this.rz_1&&this.ae$15(a);this.se_32=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressMajorizer(this.nodes,this.de_18,this.mn_4,a);this.se_32.run()},ae$15:function(a){for(var b=0;b<this.nodes.length;++b)for(var c=
this.gu$8(this.nodes[b]),e=0;e<b;++e){var g=this.gu$8(this.nodes[e]),g=(c+g+a)/a,k=this.de_18.get(b,e),f=this.de_18.get(e,b);0<k&&this.de_18.set(b,e,k*g);0<f&&this.de_18.set(e,b,f*g)}},doMultiLevelLayout:function(a){var d=(new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_MultilevelCoarsener(this)).run(6);this.di$1("Using Mult-level layout","# levels",d.size());(new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_MultiLevelUncoarsener(this,d,a)).run()},computeDistanceMatrix:function(){if(this.di$2()){this.info("Distance Matrix -- Using Sparse Optimization");
var a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_FullMatrix(this.getNodesCount(),!0);this.pe_11=this.ct$11(this.gt$19(),a);this.di$1("Created pivots","# pivots",this.pe_11.size());this.ae$16(this.ca_5,a);return a}if(this.linksWeighted())return this.info("Distance Matrix -- Using weighted distance"),this.mi$3();this.info("Distance Matrix -- Using BFS");return(new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_distance_BFSDistance(!1,this,2147483647)).compute()},
di$2:function(){return 150<=this.getNodesCount()&&b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout.ao_2},gt$19:function(){return Math.min(100,Math.max(20,this.getNodesCount()*this.getNodesCount()/this.getLinksCount()))},ct$10:function(a){if(this.rz_1){for(var b=a,c=0,e=this.links,g=e.length;c<g;++c)var k=e[c],b=Math.max(a+this.gu$8(k.from)+this.gu$8(k.to),b);return b}return a},gu$8:function(a){a=a.getCurrentBounds();return Math.max(a.wt_3,a.hh_2)/2},ct$11:function(a,d){var c=
new b.com_ibm_rave_codegenerator_util_HashMap,e=this.getNodesCount();a=Math.min(a,e);for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),k=0;k<g.length;++k)g[k]=1.7976931348623157E308;for(var f=this.nodes,h=0,l=new b.com_ibm_rave_codegenerator_util_List,m=0,p=0;p<a;++p){c.put(f[h],this);if(this.linksWeighted()){this.di$1("Creating pivots using Dijkstra's algorithm",null,null);var q=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_distance_Dijkstra(this,f[h],!1,1.7976931348623157E308);
q.execute();for(k=0;k<e;++k){var r=q.getDistance(f[k]);d.set(h,k,r);m++;r<g[k]&&(g[k]=r)}}else for(this.di$1("Creating pivots using depth assignment algorithm",null,null),q=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_DepthAssignation(this,!1),l.clear(),l.add(f[h]),q.execute(l),k=0;k<e;++k)r=f[k].info,d.set(h,k,r),m++,r<g[k]&&(g[k]=r);for(k=q=0;k<e;++k)c.containsKey(f[k])||(r=g[k],r>q&&(q=r,h=k))}return c},ae$16:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,
e=this.getNodesCount(),g=0;g<e;++g){var k=this.nodes[g];if(!this.pe_11.containsKey(k))if(this.linksWeighted()){var f=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_distance_Dijkstra(this,k,!1,a);f.execute();for(k=0;k<e;++k){var h=f.getDistance(this.nodes[k]);2147483647>h&&d.set(g,k,h)}}else for(f=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_DepthAssignation(this,!1),f.bound=a,c.clear(),c.add(k),f.execute(c),k=0;k<e;++k)h=this.nodes[k].info,2147483647>h&&d.set(g,
k,h)}},setupNodeLayering:function(a){},getPaddedBounds:function(a){a=b.com_ibm_vis_engine_internal_grammar_layout_Layout.prototype.getPaddedBounds.apply(this,[a]);var d=Math.min(a.wt_3,a.hh_2);return new b.com_ibm_vis_geom_Rect((a.wt_3-d)/2+a.x,(a.hh_2-d)/2+a.y,d,d)},mi$3:function(){for(var a=this.getNodesCount(),a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_FullMatrix(a,!0),d=-2147483648,c=0,e=this.links,g=e.length;c<g;++c)var k=e[c],d=Math.max(d,k.getDistanceFactor());a.fill(2*
d);d=k=0;c=this.nodes;for(e=c.length;d<e;++d)g=c[d],a.set(k,k,0),g.info=k++;d=0;c=this.links;for(e=c.length;d<e;++d){var k=c[d],g=k.getDistanceFactor(),f=k.from.info,k=k.to.info,g=Math.min(g,a.get(f,k));a.set(f,k,g)}return a}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout.sn_6=150;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout.mt_3=20;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout.mt_2=100;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressLayout.ao_2=
!0;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting=b.com_ibm_init_declare({constructor:function(a,d){this.nodes=a;var c=this.mn$19();this.components=Array(c);for(var e=0;e<c;++e)this.components[e]=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph(null,null);for(var e=0,g=a.length;e<g;++e){var k=a[e],c=k.info;this.components[c].addNode(k)}e=0;for(g=d.length;e<g;++e)k=d[e],c=k.from.info,this.components[c].addLink(k)},getComponents:function(){return this.components},
combine:function(a,d,c){b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer");if(!(2>this.components.length)){for(var e=Array(this.components.length),g=b.com_ibm_rave_codegenerator_lang_Array.create([this.components.length],0),k=0;k<this.components.length;++k)e[k]=this.getSpanningCircle(this.components[k],d),g[k]=e[k].getGeom().r+c/2;a=(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout(a,!0)).placeSimpleCircles(g,d);for(k=0;k<this.components.length;++k){d=a[k].x-e[k].getX();c=
a[k].y-e[k].getY();for(var g=0,f=this.components[k].ne_17.arrayIterator(),h=f.length;g<h;++g)f[g].moveBy(d,c)}}},getSpanningCircle:function(a,d){for(var c=0,e=0,g=0,k=a.ne_17.arrayIterator(),f=k.length;g<f;++g)var h=k[g],c=c+h.getCurrentBounds().getCenterX(),e=e+h.getCurrentBounds().getCenterY();c=new b.com_ibm_vis_geom_Point(c/a.getNodesCount(),e/a.getNodesCount());e=this.getFurthest(c,a.ne_17,d);return b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(c.x,c.y,e)},getFurthest:function(a,
d,c){var e=c=0;d=d.arrayIterator();for(var g=d.length;e<g;++e){var k=d[e],f=new b.com_ibm_vis_geom_Point(k.getX(),k.getY()),k=k.getCurrentBounds(),f=a.distance(f)+Math.sqrt(Math.pow(k.wt_3,2)+Math.pow(k.hh_2,2))/2;f>c&&(c=f)}return c},mn$19:function(){for(var a=0,b=this.nodes,c=b.length;a<c;++a){var e=b[a];e.info=null}for(var b=a=0,c=this.nodes,g=c.length;b<g;++b)e=c[b],null==e.info&&(this.me$27(e,a),a++);return a},me$27:function(a,b){a.info=b;for(var c=0,e=a.getNeighbors(),g=e.length;c<g;++c){var k=
e[c];null==k.info&&this.me$27(k,b)}}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting.fromLayout=function(a){return new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting(a.nodes,a.links)};b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting.fromLiteGraph=function(a){var d=a.ne_17.toArray(Array(a.ne_17.size()));a=a.lk_4.toArray(Array(a.lk_4.size()));return new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting(d,
a)};b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS=b.com_ibm_init_declare({directed:!1,depth:0,bound:2147483647,constructor:function(a,d){this.graph=a;this.directed=d;this.visitedItems=new b.com_ibm_rave_codegenerator_util_HashMap},execute:function(a){this.visitedItems.clear();this.bfsVisit(a);this.visitedItems.clear()},bfsVisit:function(a){if(!a.isEmpty()){for(var d=new b.com_ibm_rave_codegenerator_util_HashMap,c=new b.com_ibm_rave_codegenerator_util_HashMap,e=0,g=a.arrayIterator(),
k=g.length;e<k;++e){var f=g[e];c.put(f,f);this.markNode(f)}if(this.depth!=this.bound){c=new b.com_ibm_rave_codegenerator_util_List;e=0;a=a.arrayIterator();for(g=a.length;e<g;++e)for(var f=a[e],k=this.directed?f.outLink:f.getLinks(),h=0,l=k.length;h<l;++h){var m=k[h],p=m.getOpposite(f);this.isMarkedNode(p)||(this.discoverLink(m,f),d.containsKey(p)||(d.put(p,p),c.add(p)))}this.processNextLevel(c)}}},isMarkedNode:function(a){return this.visitedItems.containsKey(a)},markNode:function(a){this.visitedItems.put(a,
a)},discoverLink:function(a,b){},processNextLevel:function(a){this.depth++;this.bfsVisit(a)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_ExtractTree=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS,{constructor:function(){this.ce_28=new b.com_ibm_rave_codegenerator_util_HashMap;(function(a,b){}).apply(this,arguments)},calculate:function(){this.ce_28.clear();for(var a=new b.com_ibm_rave_codegenerator_util_List,d=new b.com_ibm_rave_codegenerator_util_HashMap,
c=0,e=this.graph.nodes,g=e.length;c<g;++c){var k=e[c];if(!d.containsKey(k)){var k=this.fe$2(k),f=new b.com_ibm_rave_codegenerator_util_List;f.add(k);this.execute(f);a.add(k);this.me$28(k,d)}}return a},getChildren:function(a){return this.ce_28.get(a)},me$28:function(a,b){b.put(a,a);for(var c=0,e=this.ce_28.get(a).arrayIterator(),g=e.length;c<g;++c)this.me$28(e[c],b)},markNode:function(a){b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS.prototype.markNode.apply(this,[a]);this.ce_28.put(a,
new b.com_ibm_rave_codegenerator_util_List)},discoverLink:function(a,d){b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS.prototype.discoverLink.apply(this,[a,d]);var c=a.getOpposite(d);this.ce_28.containsKey(c)||(this.ce_28.get(d).add(c),this.ce_28.put(c,new b.com_ibm_rave_codegenerator_util_List))},fe$2:function(a){for(var b=this.fs$1(a),c=b.getResult(),e=b.getDistance();;){b=this.fs$1(c);if(b.getDistance()<=e)break;a=c;c=b.getResult();e=b.getDistance()}return this.ft$6(a,c).getResult()},
fs$1:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;d.add(a);a=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_Farthest(this.graph,!1);a.execute(d);return a},ft$6:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;c.add(a);c.add(d);var e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_Farthest(this.graph,!1);e.execute(c);return e}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_Farthest=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS,
{dc_2:0,getResult:function(){return this.rl_4},getDistance:function(){return this.dc_2},markNode:function(a){b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS.prototype.markNode.apply(this,[a]);this.rl_4=a;this.dc_2=this.depth}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_OverlapRemoval=b.com_ibm_init_declare({gap:0,ac_2:0,constructor:function(a,d,c){this.ne_19=a;this.gap=c;this.ac_2=d;this.se_34=new b.com_ibm_rave_codegenerator_util_List},layout:function(){this.se_34.clear();
for(var a=0,d=this.ne_19,c=d.length;a<c;++a)this.se_34.add(d[a]);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.se_34,new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_CoordComparator(!0));for(a=0;a<this.se_34.size();++a)this.bd$1(a,0,!0);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.se_34,new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_CoordComparator(!1));for(a=0;a<this.se_34.size();++a)this.bd$1(a,0,!1)},bd$1:function(a,b,c){var e=
this.se_34.get(a);for(a+=1;a<this.se_34.size();++a){var g=this.se_34.get(a),k=e.getCurrentBounds(),f=g.getCurrentBounds();if(e.getCurrentBounds().expand(this.gap).intersectsRect(f))if(c){var h=k.getMaxX()-f.getMinX(),k=Math.min(k.getMaxY()-f.getMinY(),f.getMaxY()-k.getMinY());(h*this.ac_2<=k&&c||this.ae$17(e,g,!0))&&!this.ae$17(e,g,!1)?this.bd$1(a,b+h+this.gap,c):this.bd$1(a,b,c)}else k=k.getMaxY()-f.getMinY()+this.gap,this.bd$1(a,b+k+this.gap,c)}c?e.moveBy(b,0):e.moveBy(0,b)},ae$17:function(a,b,
c){return c?.01>=Math.abs(a.getY()-b.getY()):.01>=Math.abs(a.getX()-b.getX())}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_OverlapRemoval.OO_1=.01;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_CoordComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{ha_3:!1,constructor:function(a){this.ha_3=a},compare:function(a,b){var c=a.getCurrentBounds(),e=b.getCurrentBounds();this.ha_3?(c=c.x-c.wt_3/2,e=e.x-e.wt_3/2):(c=c.y-c.hh_2/2,e=e.y-e.hh_2/
2);return c<e?-1:c>e?1:a.row-b.row}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressMajorizer=b.com_ibm_init_declare({in_7:0,et_5:0,constructor:function(a,d,c,e){this.dist=d;this.ne_18=a;this.pos=Array(2);this.pos[0]=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0);this.pos[1]=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0);for(d=0;d<a.length;++d)this.pos[0][d]=a[d].getX(),this.pos[1][d]=a[d].getY();this.se_33=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_ConjugateGradient;
this.in_7=c;this.et_5=e},run:function(){var a=this.ga$10();this.majorize(a);for(a=0;a<this.ne_18.length;++a)this.ne_18[a].moveTo(this.pos[0][a],this.pos[1][a])},ga$10:function(){for(var a=this.dist.n,d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=0;c<d.length;++c)d[c]=0;for(var e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_SparseMatrix(a),g=0,c=0;c<a;++c){for(var k=c+1;k<a;++k){var f=this.dist.get(c,k);1E7<f&&(f=1E7);0!=f&&(f=-1/(this.et_5*f*f),e.set(c,k,f),e.set(k,
c,f),d[c]-=f,d[k]-=f,g+=2)}e.set(c,c,d[c]);g++}return e},majorize:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.n],0),c=1.7976931348623157E308,e=0;e<this.in_7;++e){var g=c;this.oo$1(a,d,this.pos[0]);c=this.oo$1(a,d,this.pos[1]);if(.10000000149011612>Math.abs(g-c))break}this.normalize(this.pos[0]);this.normalize(this.pos[1])},oo$1:function(a,b,c){for(var e=0,g=a.n,k=this.pos[0],f=this.pos[1],h=0;h<b.length;++h)b[h]=0;for(var l=this.dist.d,h=0;h<g;++h){for(var m=0,p=k[h],q=
f[h],r=h*g,t=0;t<g;++t)if(h!=t){var w=l[r+t];if(0<w){var x=p-k[t],y=q-f[t],x=Math.sqrt(x*x+y*y),y=-1/(x*w),m=m-y;b[h]+=y*c[t];e+=(x-w)*(x-w)*y}}b[h]+=m*c[h]}e/=g;this.se_33.solve(a,c,b);return e},normalize:function(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];b/=a.length;for(c=0;c<a.length;++c)a[c]-=b}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_StressMajorizer.EO_3=.1;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_ConjugateGradient=b.com_ibm_init_declare({solve:function(a,
b,c){var e=this.sn$11(a,b,c,200);if(-1!=e)return e;for(e=0;e<b.length;++e)b[e]=1;for(e=0;e<b.length;++e)b[e]=c[e];e=this.sn$11(a,b,c,1E3);if(-1!=e)return e;throw Error("Failed to converge");},sn$11:function(a,d,c,e){for(var g=d.length,k=this.ma$5(a,g),f=a.multiply(d,null),h=0;h<g;++h)f[h]=c[h]-f[h];c=b.com_ibm_rave_codegenerator_lang_Array.create([g],0);this.dl$1(k,f,c);for(var l=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),h=0;h<g;++h)l[h]=c[h];for(var m=this.pc$5(f,c),p=b.com_ibm_rave_codegenerator_lang_Array.create([g],
0),q=1;q<e;++q){a.multiply(l,p);for(var r=m/this.pc$5(l,p),t=0,h=0;h<g;++h)d[h]+=r*l[h],f[h]-=r*p[h],t+=f[h]*f[h];if(1E-4>t)return q;for(h=r=0;h<g;++h)c[h]=k[h]*f[h],r+=f[h]*c[h];for(h=0;h<g;++h)l[h]=r/m*l[h]+c[h];m=r}return-1},dl$1:function(a,b,c){for(var e=0;e<a.length;++e)c[e]=a[e]*b[e];return c},ma$5:function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),e=0;e<d;++e){var g=a.get(e,e);.01>g&&(g=.01);c[e]=1/g}return c},pc$5:function(a,b){for(var c=0,e=0;e<a.length;++e)c+=
a[e]*b[e];return c}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Matrix=b.com_ibm_init_declare({n:0,getSize:function(){return this.n},constructor:function(a){this.n=a}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_SparseMatrix=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Matrix,{immutable:!1,constructor:function(a){this.immutable=!1;this.d=Array(a);for(var d=0;d<a;++d)this.d[d]=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_SparseMutableVector},
set:function(a,b,c){this.d[a].set(b,c)},get:function(a,b){return this.d[a].get(b)},fill:function(a){throw Error("Cannot fill Sparse Matrices");},multiply:function(a,d){if(!this.immutable){for(var c=0;c<this.n;++c){var e=this.d[c].d;e.size()>.5*this.n?this.d[c]=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_FullConstantVector(this.n,e):this.d[c]=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_SparseConstantVector(e)}this.immutable=!0}d||(d=b.com_ibm_rave_codegenerator_lang_Array.create([this.n],
0));for(c=0;c<this.n;++c)d[c]=this.d[c].dot(a);return d}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Vector=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_SparseMutableVector=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Vector,{constructor:function(){this.d=new b.com_ibm_rave_codegenerator_util_NumericMap},set:function(a,b){0==b?this.d.remove(a):this.d.put(a,b)},get:function(a){a=this.d.get(a);
return null==a?0:a},dot:function(a){throw Error("The whole point of these classes is not to run dot products on mutable classes");},getMap:function(){return this.d}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_FullConstantVector=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Vector,{constructor:function(a,d){this.ve_4=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);for(var c=0,e=d.keySet().arrayIterator(),g=e.length;c<g;++c){var k=
e[c];this.ve_4[k]=d.get(k)}},set:function(a,b){throw Error("Cannot modify a constant vector");},get:function(a){return this.ve_4[a]},dot:function(a){for(var b=0,c=0;c<this.ve_4.length;++c)b+=this.ve_4[c]*a[c];return b}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_SparseConstantVector=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Vector,{constructor:function(a){this.ie_14=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0);this.ve_5=
b.com_ibm_rave_codegenerator_lang_Array.create([this.ie_14.length],0);for(var d=0,c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c){var k=e[c];this.ie_14[d]=k;this.ve_5[d]=a.get(k);d++}},set:function(a,b){throw Error("Cannot modify a constant vector");},get:function(a){for(var b=0;b<this.ie_14.length;++b)if(this.ie_14[b]==a)return this.ve_5[b];return 0},dot:function(a){for(var b=0,c=0;c<this.ie_14.length;++c)b+=this.ve_5[c]*a[this.ie_14[c]];return b}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_MultilevelCoarsener=
b.com_ibm_init_declare({constructor:function(a){this.me_6=a;this.gh_1=new b.com_ibm_rave_codegenerator_util_List;this.gh_1.add(new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph(a.nodes,a.links))},run:function(a){for(var b=this.pp$3().getNodesCount();b>a;){this.ce$21(this.pp$3());if(1.1>b/this.pp$3().getNodesCount()){this.gh_1.removeAt(this.gh_1.size()-1);break}b=this.pp$3().getNodesCount()}return this.gh_1},ce$21:function(a){a=this.cn$18(a);this.gh_1.add(a)},pp$3:function(){return this.gh_1.get(this.gh_1.size()-
1)},pe$10:function(a){for(var b=0,c=0,e=0;e<a.getChildCount();++e)var g=a.getChild(e).getCurrentBounds(),b=b+g.getCenterX(),c=c+g.getCenterY();a.moveTo(b/a.getChildCount(),c/a.getChildCount())},cn$18:function(a){if(0==a.getLinksCount())return a;for(var d=new b.com_ibm_rave_codegenerator_util_HashMap,c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph(null,null),g=0,k=a.ne_17.arrayIterator(),f=k.length;g<f;++g){var h=k[g];d.put(h,null);
c.add(h)}for(k=0;0<c.size();){for(var f=c.get(c.size()-1),h=null,l=1.7976931348623157E308,m=0,p=f.getLinks(),q=p.length;m<q;++m)g=p[m],g=g.getOpposite(f),d.containsKey(g)&&g.wh_4<l&&(h=g,l=g.wh_4);g=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_GroupedNode(--k);g.setOrientation(this.me_6.adapter.isSwapXY(),this.me_6.adapter.isReflectY());e.addNode(g);g.addChild(f);g.wh_4=f.wh_4+(h?h.wh_4:0);c.remove(f);d.remove(f);h&&(g.addChild(h),c.remove(h),d.remove(h));this.pe$10(g)}d=0;a=a.lk_4.arrayIterator();
for(c=a.length;d<c;++d)k=a[d],f=k.from.pn_15,h=k.to.pn_15,f!=h&&((g=e.getLinkBetween(f,h))?g.wh_3+=k.wh_3:(g=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(f,h),g.wh_3=k.wh_3,f.addOutEdge(g),h.addInEdge(g),e.addLink(g)));return e}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_GroupedNode=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_Node,{constructor:function(a){this.ce_27=new b.com_ibm_rave_codegenerator_util_List;this.inLink=[];this.outLink=
[]},addChild:function(a){this.ce_27.add(a);a.pn_15=this;a=a.getCurrentBounds();this.realWidth+=a.wt_3;this.realHeight+=a.hh_2},getChildCount:function(){return this.ce_27.size()},getChild:function(a){return this.ce_27.get(a)},addOutEdge:function(a){for(var b=Array(this.outLink.length+1),c=0;c<this.outLink.length;++c)b[c]=this.outLink[c];b[this.outLink.length]=a;this.outLink=b;this.neighbors=this.links=null},addInEdge:function(a){for(var b=Array(this.inLink.length+1),c=0;c<this.inLink.length;++c)b[c]=
this.inLink[c];b[this.inLink.length]=a;this.inLink=b;this.neighbors=this.links=null}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_MultiLevelUncoarsener=b.com_ibm_init_declare({constructor:function(a,b,c){this.gh_2=b;this.lu_3=a;this.en_11=c},run:function(){for(;0<this.gh_2.size();){var a=this.gh_2.get(this.gh_2.size()-1);this.gh_2.remove(a);this.lu_3.copy(a.ne_17,a.lk_4,this.gh_2.size(),!1).doLayout(this.en_11);0<this.gh_2.size()&&this.pe$11(this.gh_2.get(this.gh_2.size()-1))}},pe$11:function(a){for(var b=
6.283185307179586/a.getNodesCount(),c=0,e=0,g=a.ne_17.arrayIterator(),k=g.length;e<k;++e){var f=g[e],h=f.pn_15;if(h){for(var l=h.getX(),h=h.getY(),m=1,p=0,q=f.getLinks(),r=q.length;p<r;++p){var t=q[p].getOpposite(f).pn_15,l=l+t.getX(),h=h+t.getY();m++}l/=m;h/=m;m=c*b;c=(c+37)%a.getNodesCount();f.moveTo(l+.10000000149011612*Math.cos(m),h+.10000000149011612*Math.sin(m))}}}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_MultiLevelUncoarsener.OU_1=.1;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_FullMatrix=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_Matrix,{si_6:!1,constructor:function(a,d){this.si_6=d;this.d=b.com_ibm_rave_codegenerator_lang_Array.create([a*a],0);for(var c=0;c<this.d.length;++c)this.d[c]=0},set:function(a,b,c){this.d[a*this.n+b]=c;this.si_6&&(this.d[b*this.n+a]=c)},get:function(a,b){return this.d[a*this.n+b]},fill:function(a){for(var b=0;b<this.d.length;++b)this.d[b]=a},multiply:function(a,d){d||(d=b.com_ibm_rave_codegenerator_lang_Array.create([this.n],
0));for(var c=0;c<this.n;++c){for(var e=0,g=c*this.n,k=0;k<this.n;++k)e+=this.d[g+k]*a[k];d[c]=e}return d},getRawData:function(){return this.d}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_distance_BFSDistance=b.com_ibm_init_declare({de_16:!1,bn_4:0,constructor:function(a,b,c){this.de_16=a;this.gp_5=b;this.bn_4=c},compute:function(){var a=this.gp_5.nodes,d=a.length,c=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_matrix_FullMatrix(d,!this.de_16);c.fill(2147483647);for(var e=
0;e<d;++e){var g=a[e],k=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_DepthAssignation(this.gp_5,this.de_16);k.bound=this.bn_4;var f=new b.com_ibm_rave_codegenerator_util_List;f.add(g);k.execute(f);for(g=0;g<d;++g)c.set(e,g,Math.min(c.get(e,g),a[g].info))}return c}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_DepthAssignation=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS,{execute:function(a){for(var d=0,c=this.graph.nodes,
e=c.length;d<e;++d)c[d].info=2147483647;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_util_BFS.prototype.execute.apply(this,[a])},markNode:function(a){a.info=this.depth},isMarkedNode:function(a){return 2147483647>a.info}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_distance_Dijkstra=b.com_ibm_init_declare({bn_5:0,de_17:!1,constructor:function(a,d,c,e){this.g=a;this.sc_4=d;this.de_17=c;this.bn_5=e;this.da_7=new b.com_ibm_rave_codegenerator_util_HashMap},execute:function(){for(var a=
new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.g.nodes,e=c.length;d<e;++d){var g=c[d];g!=this.sc_4?this.setDistance(g,2147483647):this.setDistance(g,0);a.add(g)}for(;0<a.size();)if(d=this.gs$2(a),c=this.getDistance(d),c<=this.bn_5){for(var e=null,e=this.de_17?d.outLink:d.getLinks(),g=0,k=e.length;g<k;++g){var f=e[g],h=f.getOpposite(d);if(c+f.getDistanceFactor()<this.getDistance(h)){var l=a.remove(h);this.setDistance(h,c+f.getDistanceFactor());l&&a.add(h)}}a.remove(d)}else a.clear()},gs$2:function(a){var b,
c=0,e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e],f=this.getDistance(k);if(!b||f<c)b=k,c=f}return b},setDistance:function(a,b){this.da_7.put(a,b)},getDistance:function(a){return this.da_7.get(a)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_ProcessFlowLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{constructor:function(a){this.xID=(a=a.getSpec().levels)&&1<a.length?a[0].field.$ref:null;this.yID=a&&0<a.length?a[1].field.$ref:null},getPreferredSize:function(a){this.makeElementShapes(a,
new b.com_ibm_vis_geom_Dim(600,600));return this.size},needsAestheticsPreApplied:function(){return!0},prepareForNewRows:function(a){this.se_31=null},makeElementShapes:function(a,d){if(!this.se_31){for(var c=(new b.com_ibm_vis_engine_internal_grammar_layout_graph_GraphBuilder(this.adapter)).build(!1),e=0,g=0,k=b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_ComponentSplitting.fromLiteGraph(c).components,f=k.length;g<f;++g){var h=k[g];this.lu$5(h);for(var l=0,m=0,h=h.ne_17.arrayIterator(),
p=h.length;m<p;++m){var q=h[m];q.sp_7.affine(1,e,1,0,!1);l=Math.max(l,q.sp_7.getBounds().getX2())}e=l+this.sn_5.wt_2}this.me$26(c.ne_17)}return this.se_31},me$26:function(a){this.se_31=new b.com_ibm_rave_codegenerator_util_List;var d,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c].sp_7;this.se_31.add(g);d?d.extendToRect(g.getBounds()):d=g.getBounds().copy()}c=Math.min(this.sn_5.wt_2,this.sn_5.hh_1);d=d.expand(c);this.adapter.getSharedLayoutInfo().mo_6=c;c=0;a=this.se_31.arrayIterator();
for(e=a.length;c<e;++c)a[c].affine(1,-d.x,1,-d.y,!1);this.size=new b.com_ibm_vis_geom_Dim(d.wt_3,d.hh_2)},lu$5:function(a){var b=this.mp$4(a);this.sn_5=this.gn$14(a.ne_17);this.pi$2(b.ne_17);this.dt$6(b,this.sn_5.wt_2,!1);this.dt$6(b,this.sn_5.hh_1,!0)},dt$6:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_NumericMap,g=new b.com_ibm_rave_codegenerator_util_List,k=0,f=a.ne_17.arrayIterator(),h=f.length;k<h;++k){var l=f[k];a=c?l.getY():l.getX();var m=e.get(a);m||(m=new b.com_ibm_rave_codegenerator_util_List,
e.put(a,m),g.add(a));m.add(l)}g=g.toArray(b.com_ibm_rave_codegenerator_lang_Array.create([g.size()],0));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(g);f=k=0;for(h=g.length;f<h;++f){a=e.get(g[f]);for(var m=this.gz$11(a,c),p=0,q=a.arrayIterator(),r=q.length;p<r;++p)l=q[p],l=l.sp_7,a=l.getBounds(),c?(a=k-a.y+Math.round((m-a.hh_2)/2).valueOf(),l.affine(1,0,1,a,!1)):(a=k-a.x+Math.round((m-a.wt_3)/2).valueOf(),l.affine(1,a,1,0,!1));k+=m+d}},gz$11:function(a,b){for(var c=0,e=0,g=a.arrayIterator(),
k=g.length;e<k;++e)var f=g[e].sp_7.getBounds(),c=Math.max(c,b?f.hh_2:f.wt_3);return Math.round(c)},gn$14:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([a.size()],0),e=0;e<a.size();++e){var g=a.get(e).sp_7.getBounds();d[e]=g.wt_3;c[e]=g.hh_2}b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(c);a=Math.floor(a.size()/4);d=new b.com_ibm_vis_geom_Dim(Math.max(30,
2*d[a]/3),Math.max(30,2*c[a]/3));if(!this.adapter.getStyle()||null==this.adapter.getStyle().padding)return d;d=this.adapter.getPadding(b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,d.wt_2,d.hh_1),d);return new b.com_ibm_vis_geom_Dim(d.getHorizontal()/2,d.getVertical()/2)},mp$4:function(a){for(var d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_LiteGraph(null,null),c=0,e=a.ne_17.arrayIterator(),g=e.length;c<g;++c){var k=e[c],f=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Node(k.row);
d.addNode(f);k.info=f;f.pn_15=k;f.setShape(k.sp_7);k=new b.com_ibm_rave_codegenerator_util_List;k.add(f);f.info=k}for(c=0;4>c;++c)for(e=0,g=a.lk_4.arrayIterator(),f=g.length;e<f;++e)k=g[e],this.gs$1(k.gp_3)==c&&this.cg$5(k,d);d.attachLinksToNodes();return d},cg$5:function(a,d){var c=a.from.info,e=a.to.info,g=c.info,k=e.info;if(g!=k)for(c=new b.com_ibm_vis_engine_internal_grammar_layout_graph_Link(c,e),c.copyInfoFrom(a),d.addLink(c),g.addAll(k),c=0,k=k.arrayIterator(),e=k.length;c<e;++c)k[c].info=
g},gs$1:function(a){return null==a?3:a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST.ie_13?2:a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH.ie_13||a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH.ie_13?1:a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST.ie_13?0:3},pi$2:function(a){var d=new b.com_ibm_rave_codegenerator_util_NumericSet;this.pl$2(a.get(0),null,0,0,d);for(var c=d=0,e=0,g=a.arrayIterator(),k=g.length;e<
k;++e)var f=g[e],d=Math.min(d,f.getX()),c=Math.min(c,f.getY());k=g=e=0;a=a.arrayIterator();for(var h=a.length;k<h;++k)f=a[k],f.setX(f.getX()-d),f.setY(f.getY()-c),e=Math.max(e,f.getX()),g=Math.max(g,f.getY());return Math.round(e)+1},mu$2:function(a,b,c){if(null==b)return a;b=this.adapter.getFieldNumericValue(b,c);return b!=b?a:Math.round(b)},pl$2:function(a,b,c,e,g){var k=a.row;c=this.mu$2(c,this.xID,k);e=this.mu$2(e,this.yID,k);k=c+100*e;if(g.contains(k))for(var f=1;100>f;++f){var h=0<c?-1:1,k=c+
100*(e+f*h);if(!g.contains(k)){e+=f*h;break}k=c+100*(e-f*h);if(!g.contains(k)){e-=f*h;break}}g.add(k);a.moveTo(c,e);a.pn_15&&a.pn_15.moveTo(c,e);for(var l=0,m=a.inLink,p=m.length;l<p;++l)k=m[l],k.from!=b&&(h=this.go$11(k.gp_3),f=Math.round(Math.cos(3.141592653589793+h)),h=Math.round(Math.sin(3.141592653589793+h)),this.pl$2(k.from,a,c+f,e+h,g));l=0;m=a.outLink;for(p=m.length;l<p;++l)k=m[l],k.to!=b&&(h=this.go$11(k.gp_3),f=Math.round(Math.cos(h)),h=Math.round(Math.sin(h)),this.pl$2(k.to,a,c+f,e+h,g))},
go$11:function(a){if(null!=a){a=Math.round(a);if(a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.EAST.ie_13)return 0;if(a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.NORTH.ie_13)return-1.5707963267948966;if(a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.SOUTH.ie_13)return 1.5707963267948966;if(a==b.com_ibm_vis_engine_internal_grammar_layout_graph_Direction.WEST.ie_13)return 3.141592653589793}return 0}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayout=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout,{ME_2:25,FO_2:.9,GT_2:.1,TA_6:.64,LC_1:20,LT_1:1,NG_1:-30,CE_2:1.7976931348623157E308,ah_6:.1,w:0,h__2:0,h:0,h__1:0,nn_2:0,ln_9:0,constructor:function(){this.RE_2=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(37);this.RNG=b.com_ibm_vis_engine_internal_util_SimpleRNG.getSeededRNG(this.RE_2)},layoutNodes:function(a){this.nn_2=this.nodes.length;this.ln_9=this.links.length;this.ne_16=b.com_ibm_rave_codegenerator_lang_Array.create([this.nn_2],
0);this.le_42=b.com_ibm_rave_codegenerator_lang_Array.create([this.ln_9],0);this.lh_2=b.com_ibm_rave_codegenerator_lang_Array.create([this.ln_9],0);this.w=a.wt_2;this.h__2=this.w/2;this.h=a.hh_1;this.h__1=this.h/2;this.nn_3=Array(this.nn_2);a=0;for(var d=this.nn_2;a<d;++a)this.nn_3[a]=new b.com_ibm_vis_geom_Point(0,0);this.in$3();this.ie$35();this.ih$1();this.ie$34();for(a=0;a<this.ME_2&&!this.tick();++a);},ie$34:function(){for(var a=0,b=this.ne_16.length;a<b;++a)this.ne_16[a]=this.NG_1},ih$1:function(){for(var a=
0,b=this.lh_2.length;a<b;++a)this.lh_2[a]=this.LT_1},ie$35:function(){for(var a=0,b=this.le_42.length;a<b;++a)this.le_42[a]=this.LC_1},in$3:function(){for(var a=0;a<this.nn_2;++a){var b=this.nodes[a],c=0,e=0,c=this.RNG.random()*this.w,e=this.RNG.random()*this.h;b.setX(c);b.setY(e);b=this.nn_3[a];b.x=c;b.y=e}},setupNodeLayering:function(a){},ft$5:function(a){var b=0,c=0;a.charge=0;if(!a.leaf)for(var e=-1,g;4>++e;)if(g=a.childQuadNodes[e])this.ft$5(g),a.charge+=g.charge,b+=g.charge*g.cx,c+=g.charge*
g.cy;a.node&&(a.leaf||(e=a.node.getX(),g=a.node.getY(),e+=this.RNG.random()-.5,g+=this.RNG.random()-.5,a.node.setX(e),a.node.setY(g)),a.nodeCharge=this.ah_6*this.ne_16[a.node.row],a.charge+=a.nodeCharge,b+=a.nodeCharge*a.node.getX(),c+=a.nodeCharge*a.node.getY());a.cx=b/a.charge;a.cy=c/a.charge},tick:function(){if(.005>(this.ah_6*=.99))return!0;for(var a,d,c,e=0;e<this.ln_9;++e){a=this.links[e];var g=a.from,k=a.to,f=k.getX(),h=k.getY(),l=g.getX(),m=g.getY();d=f-l;c=h-m;a=d*d+c*c;if(0!=a){a=this.ah_6*
this.lh_2[e]*((a=Math.sqrt(a))-this.le_42[e])/a;d*=a;c*=a;a=g.degree();var p=k.degree()+g.degree();a/=p;f-=d*a;h-=c*a;k.setX(f);k.setY(h);a=1-a;l+=d*a;m+=c*a;g.setX(l);g.setY(m)}}if(0!=(a=this.ah_6*this.GT_2)&&(e=-1,0!=a))for(;++e<this.nn_2;)g=this.nodes[e],d=g.getX(),c=g.getY(),d+=(this.h__2-d)*a,c+=(this.h__1-c)*a,g.setX(d),g.setY(c);if(0!=this.NG_1)for(a=b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.constructQuadTree(this.nodes),this.ft$5(a),e=-1,d=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeNodeVisitor;++e<
this.nn_2;)g=this.nodes[e],d.setData(g,this.TA_6,this.CE_2,this.nn_3[e]),a.accept(d,a.x1_,a.y1_,a.x2_,a.y2_);for(e=-1;++e<this.nn_2;)g=this.nodes[e],d=g.getX(),c=g.getY(),a=this.nn_3[e],k=a.x,f=a.y,a.x=d,a.y=c,d-=(k-d)*this.FO_2,c-=(f-c)*this.FO_2,g.setX(d),g.setY(c);return!1}});b.com_ibm_vis_engine_internal_util_SimpleRNG=b.com_ibm_init_declare({constructor:function(){this.state0=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);this.state1=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);
(function(a){this.state0=a.modulo(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng0[0].subtract(1));this.state0.equals(0)&&(this.state0=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(1));this.state1=a.modulo(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng1[0].subtract(1));this.state1.equals(0)&&(this.state1=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(1))}).apply(this,arguments)},random:function(){this.state0=b.com_ibm_vis_engine_internal_util_SimpleRNG.next(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng0,
this.state0);this.state1=b.com_ibm_vis_engine_internal_util_SimpleRNG.next(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng1,this.state1);var a=(Number.valueOf(this.state0)-1)/(Number.valueOf(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng0[0])-1),d=(Number.valueOf(this.state1)-1)/(Number.valueOf(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng1[0])-2);return a+d/(Number.valueOf(b.com_ibm_vis_engine_internal_util_SimpleRNG.rng0[0])-1)}});b.com_ibm_vis_engine_internal_util_SimpleRNG.mN$1=function(a,
b){return[a,b,a.div(b),a.modulo(b)]};b.com_ibm_vis_engine_internal_util_SimpleRNG.next=function(a,b){var c=b.div(a[2]),e=b.modulo(a[2]),c=a[1].multiply(e).subtract(a[3].multiply(c));c.lessThanOrEqual(0)&&(c+=a[0]);return c};b.com_ibm_vis_engine_internal_util_SimpleRNG.getSeededRNG=function(a){return new b.com_ibm_vis_engine_internal_util_SimpleRNG(a)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_util_SimpleRNG.rng0=b.com_ibm_vis_engine_internal_util_SimpleRNG.mN$1(b.com_ibm_rave_codegenerator_lang_Long.fromNumber(262139),
b.com_ibm_rave_codegenerator_lang_Long.fromNumber(506));b.com_ibm_vis_engine_internal_util_SimpleRNG.rng1=b.com_ibm_vis_engine_internal_util_SimpleRNG.mN$1(b.com_ibm_rave_codegenerator_lang_Long.fromNumber(262121),b.com_ibm_rave_codegenerator_lang_Long.fromNumber(533))});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeNode=b.com_ibm_init_declare({leaf:!0,charge:0,cx:0,cy:0,nodeCharge:0,constructor:function(){this.childQuadNodes=Array(4)},accept:function(a,b,c,e,g){if(!a.visit(this,
b,c,e,g)){var k=.5*(b+e),f=.5*(c+g);this.childQuadNodes[0]&&this.childQuadNodes[0].accept(a,b,c,k,f);this.childQuadNodes[1]&&this.childQuadNodes[1].accept(a,k,c,e,f);this.childQuadNodes[2]&&this.childQuadNodes[2].accept(a,b,f,k,g);this.childQuadNodes[3]&&this.childQuadNodes[3].accept(a,k,f,e,g)}}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeNode.QuadNodeChildrenCount=4;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree=b.com_ibm_init_declare({});
b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.constructQuadTree=function(a){for(var d=1.7976931348623157E308,c=1.7976931348623157E308,e=4.9E-324,g=4.9E-324,k=a.length,f=0;f<k;++f){var h=a[f],l=h.getX(),h=h.getY();l<d&&(d=l);h<c&&(c=h);l>e&&(e=l);h>g&&(g=h)}f=e-d;h=e-c;f>h?g=c+f:e=d+h;l=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeRootNode(d,c,e,g);for(f=-1;++f<k;)h=a[f],b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.ir$1(l,
a[f],h.getX(),h.getY(),d,c,e,g);return l};b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.ir$1=function(a,d,c,e,g,k,f,h){if(a.leaf)if(a.node){var l=a.node.getX(),m=a.node.getY();if(!(.01>Math.abs(l-c)+Math.abs(m-e))){var p=a.node;a.node=null;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.il$4(a,p,l,m,g,k,f,h)}b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.il$4(a,d,c,e,g,k,f,h)}else a.node=
d;else b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.il$4(a,d,c,e,g,k,f,h)};b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.il$4=function(a,d,c,e,g,k,f,h){var l=.5*(g+f),m=.5*(k+h),p=c>=l?1:0,q=e>=m?1:0,r=2*q+p;a.leaf=!1;a.childQuadNodes[r]||(a.childQuadNodes[r]=new b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeNode);a=a.childQuadNodes[r];1==p?g=l:f=l;1==q?k=m:h=m;b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_ForceLayoutQuadTree.ir$1(a,
d,c,e,g,k,f,h)};b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeRootNode=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeNode,{x1_:0,y1_:0,x2_:0,y2_:0,constructor:function(a,b,c,e){this.x1_=a;this.y1_=b;this.x2_=c;this.y2_=e}});b.com_ibm_vis_engine_internal_grammar_layout_graph_stress_force_QuadTreeNodeVisitor=b.com_ibm_init_declare({ta_1:0,ce_26:0,setData:function(a,b,c,e){this.node=a;this.ta_1=b;this.ce_26=c;this.no_1=e},visit:function(a,
b,c,e,g){if(a.node!=this.node){c=a.cx-this.node.getX();g=a.cy-this.node.getY();b=e-b;e=c*c+g*g;if(b*b/this.ta_1<e)return e<this.ce_26&&(b=a.charge/e,this.no_1.x-=c*b,this.no_1.y-=g*b),!0;a.node&&0!=e&&e<this.ce_26&&(b=a.nodeCharge/e,this.no_1.x-=c*b,this.no_1.y-=g*b)}return 0==a.charge}});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/templateLayer",function(){b.com_ibm_vis_template_Parameter=b.com_ibm_init_declare({re_3:!1,constructor:function(a,
b,c,e,g,k,f){this.id=a;this.le_29=b;this.do_4=c;this.re_3=e;this.ro_1=g;this.re_4=k;this.re_5=f},getId:function(){return this.id},getLabel:function(){return this.le_29},getDescription:function(){return this.do_4},getIndex:function(){return this.ie_3},setIndex:function(a){this.ie_3=a},getResolveOrder:function(){return this.re_5},getType:function(){},isRequired:function(){return this.re_3},hasValue:function(){},getValue:function(){},setValue:function(a){},resolve:function(a,d){!this.hasValue()||this.getType()==
b.com_ibm_vis_template_ParameterType.BOOLEAN&&0==this.getValue().valueOf()||this.rn$1(this.ro_1,a,d);this.re$3(this.re_4,a,d)},rn$1:function(a,d,c){if(a){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var k=a[e];if(k.mo_5==b.com_ibm_vis_template_internal_ResolutionMethodType.SET||k.mo_5==b.com_ibm_vis_template_internal_ResolutionMethodType.CREATE_OR_SET){var f=b.com_ibm_vis_template_Parameter.ru$1(c,k,d);if(null!=f)for(var k=d.parseExpression(k.te_1,k.mo_5==b.com_ibm_vis_template_internal_ResolutionMethodType.SET?
!1:!0),h=0,l=k.arrayIterator(),m=l.length;h<m;++h)k=l[h],this.setValueInNode(k,f)}else if(k.mo_5==b.com_ibm_vis_template_internal_ResolutionMethodType.REMOVE)for(k=d.parseExpression(k.te_1,!1),f=0,h=k.arrayIterator(),l=h.length;f<l;++f)k=h[f],k.remove()}}},setValueInNode:function(a,b){a.replaceValue(b)},re$3:function(a,d,c){if(a){for(var e=!1,g=new b.com_ibm_rave_codegenerator_util_List,k=0,f=a.arrayIterator(),h=f.length;k<h;++k){a=f[k];var l=a.cn_5;null==l?g.add(a):this.hasValue()&&this.getValue().equals(l)&&
(this.rn$1(a.rm_1,d,c),e=!0)}if(!e)for(e=0,g=g.arrayIterator(),k=g.length;e<k;++e)a=g[e],this.rn$1(a.rm_1,d,c)}},reportTypeMismatch:function(a){var d=this.id;null!=this.le_29&&(d+="("+this.le_29+")");null!=a&&(d+=":"+a.toString());throw new b.com_ibm_vis_exceptions_internal_EngineException(null,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_VALUE_TYPE_MISMATCH,d);}});b.com_ibm_vis_template_Parameter.ru$1=function(a,b,c){var e;null!=b.se_10?e=a.get(b.se_10).getValue():null!=b.su_1?e=b.su_1:null!=b.st_2&&
(a=c.parseExpression(b.st_2.toString(),!1))&&0<a.size()&&(e=a.get(0).jc_1);return e};b.com_ibm_vis_template_StringParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{constructor:function(a,b,c,e,g,k,f){},hasValue:function(){return null!=this.vu_10},getValue:function(){return this.vu_10},setValue:function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?this.vu_10=a:this.reportTypeMismatch(a)},getType:function(){return b.com_ibm_vis_template_ParameterType.STRING},getStringValue:function(){return this.vu_10},
setStringValue:function(a){this.setValue(a)}});b.com_ibm_vis_template_ParameterType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_template_ParameterType.STRING=new b.com_ibm_vis_template_ParameterType("STRING");b.com_ibm_vis_template_ParameterType.BOOLEAN=new b.com_ibm_vis_template_ParameterType("BOOLEAN");b.com_ibm_vis_template_ParameterType.INTEGER=new b.com_ibm_vis_template_ParameterType("INTEGER");b.com_ibm_vis_template_ParameterType.DOUBLE=new b.com_ibm_vis_template_ParameterType("DOUBLE");
b.com_ibm_vis_template_ParameterType.LENGTH=new b.com_ibm_vis_template_ParameterType("LENGTH");b.com_ibm_vis_template_ParameterType.COLOR=new b.com_ibm_vis_template_ParameterType("COLOR");b.com_ibm_vis_template_ParameterType.SIZE=new b.com_ibm_vis_template_ParameterType("SIZE");b.com_ibm_vis_template_ParameterType.FONT=new b.com_ibm_vis_template_ParameterType("FONT");b.com_ibm_vis_template_ParameterType.COLOR_PALETTE=new b.com_ibm_vis_template_ParameterType("COLOR_PALETTE");b.com_ibm_vis_template_ParameterType.STYLEBY_PALETTE=
new b.com_ibm_vis_template_ParameterType("STYLEBY_PALETTE");b.com_ibm_vis_template_ParameterType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_template_ParameterType)};b.com_ibm_vis_template_internal_ResolutionMethodType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_template_internal_ResolutionMethodType.SET=new b.com_ibm_vis_template_internal_ResolutionMethodType("SET");b.com_ibm_vis_template_internal_ResolutionMethodType.REMOVE=
new b.com_ibm_vis_template_internal_ResolutionMethodType("REMOVE");b.com_ibm_vis_template_internal_ResolutionMethodType.CREATE_OR_SET=new b.com_ibm_vis_template_internal_ResolutionMethodType("CREATE_OR_SET");b.com_ibm_vis_template_internal_ResolutionMethodType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_template_internal_ResolutionMethodType)};b.com_ibm_vis_template_BooleanParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{constructor:function(a,
b,c,e,g,k,f){},hasValue:function(){return null!=this.vu_6},getValue:function(){return this.vu_6},setValue:function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a)?this.vu_6=a:this.reportTypeMismatch(a)},getBooleanValue:function(){return this.vu_6},setBooleanValue:function(a){this.setValue(a)},getType:function(){return b.com_ibm_vis_template_ParameterType.BOOLEAN}});b.com_ibm_vis_template_LongIntegerParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{constructor:function(a,
b,c,e,g,k,f){},hasValue:function(){return null!=this.vu_9},getValue:function(){return this.vu_9},setValue:function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.isInteger(a)?this.vu_9=a:this.reportTypeMismatch(a)},getType:function(){return b.com_ibm_vis_template_ParameterType.INTEGER},getIntegerValue:function(){return this.vu_9},setIntegerValue:function(a){this.setValue(a)}});b.com_ibm_vis_template_DoubleParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{constructor:function(a,
b,c,e,g,k,f){},hasValue:function(){return null!=this.vu_7},getValue:function(){return this.vu_7},setValue:function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?this.vu_7=a:this.reportTypeMismatch(a)},getDoubleValue:function(){return this.vu_7},setDoubleValue:function(a){this.setValue(a)},getType:function(){return b.com_ibm_vis_template_ParameterType.DOUBLE}});b.com_ibm_vis_template_LengthParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{NS_2:"Null value is not supported in LengthParameter",
constructor:function(a,b,c,e,g,k,f){},getType:function(){return b.com_ibm_vis_template_ParameterType.LENGTH},hasValue:function(){return null!=this.lu_1},getValue:function(){return this.lu_1},setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,this.NS_2);var d=new b.com_ibm_vis_template_ravetype_RaveLength;d.setValue(a);this.lu_1=d.getValue()},setLengthValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,this.NS_2);b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a.getValue(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,this.NS_2);this.lu_1=a.getValue()}});b.com_ibm_vis_template_internal_TemplateUtils=b.com_ibm_init_declare({});b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue=function(a,d,c){if(null==a)throw new b.com_ibm_vis_exceptions_internal_EngineException(c,d);};b.com_ibm_vis_template_internal_TemplateUtils.validate=
function(a,d,c){if(!a)throw new b.com_ibm_vis_exceptions_internal_EngineException(c,d);};b.com_ibm_vis_template_ravetype_AbstractDataType=b.com_ibm_init_declare({setValue:function(a){},getValue:function(){},getType:function(){}});b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch=function(a,d){throw new b.com_ibm_vis_exceptions_internal_EngineException("Value - "+a+" is not valid for type - '"+d+"'",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Template");};b.com_ibm_vis_template_ravetype_RaveLength=
b.com_ibm_init_declare(b.com_ibm_vis_template_ravetype_AbstractDataType,{setValue:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))this.nu_2=a;else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){for(var d=a.CPVISEngineTrim(),c=!1,e=0;e<b.com_ibm_vis_template_ravetype_RaveLength.UT_1.length&&!c;++e)d.CPVISEngineEndsWith(b.com_ibm_vis_template_ravetype_RaveLength.UT_1[e])&&(c=!0,this.uu_1=b.com_ibm_vis_template_ravetype_RaveLength.UT_1[e],d=d.substring(0,d.length-
b.com_ibm_vis_template_ravetype_RaveLength.UT_1[e].length));try{this.nu_2=b.com_ibm_rave_codegenerator_lang_Double.valueOf(d.CPVISEngineTrim())}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,Error))b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch(a,"RaveLength");else throw g;}}else b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch(a,"RaveLength")},getValue:function(){var a=this.nu_2;b.com_ibm_rave_codegenerator_util_BasicFactory.isInteger(this.nu_2)&&
(a=Number.valueOf(this.nu_2.longValue()));return null==this.uu_1?a:a+this.uu_1},setLength:function(a,d){b.com_ibm_vis_template_ravetype_RaveLength.ii$1(d)||b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch((null==a?"":a)+d,"RaveLength");this.nu_2=a;this.uu_1=d},getType:function(){return b.com_ibm_vis_template_ravetype_RaveDataType.RaveLength}});b.com_ibm_vis_template_ravetype_RaveLength.ii$1=function(a){var d=!1;if(null==a||0==a.length)d=!0;else for(var c=0;c<b.com_ibm_vis_template_ravetype_RaveLength.UT_1.length&&
!d;++c)b.com_ibm_vis_template_ravetype_RaveLength.UT_1[c]==a&&(d=!0);return d};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_template_ravetype_RaveLength.UT_1="%% % px pt pc cm mm in".split(" ")});b.com_ibm_vis_template_ravetype_RaveDataType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_template_ravetype_RaveDataType.RaveLength=new b.com_ibm_vis_template_ravetype_RaveDataType("RaveLength");b.com_ibm_vis_template_ravetype_RaveDataType.RaveColor=new b.com_ibm_vis_template_ravetype_RaveDataType("RaveColor");
b.com_ibm_vis_template_ravetype_RaveDataType.RaveGradientFill=new b.com_ibm_vis_template_ravetype_RaveDataType("RaveGradientFill");b.com_ibm_vis_template_ravetype_RaveDataType.RaveColorOffset=new b.com_ibm_vis_template_ravetype_RaveDataType("RaveColorOffset");b.com_ibm_vis_template_ravetype_RaveDataType.RaveStyle=new b.com_ibm_vis_template_ravetype_RaveDataType("RaveStyle");b.com_ibm_vis_template_ravetype_RaveDataType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_template_ravetype_RaveDataType)};
b.com_ibm_vis_template_ColorParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{NS_1:"Null value is not supported in ColorParameter",constructor:function(a,b,c,e,g,k,f){},getType:function(){return b.com_ibm_vis_template_ParameterType.COLOR},hasValue:function(){return null!=this.cu_1},getValue:function(){return this.cu_1},setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,this.NS_1);
var d=new b.com_ibm_vis_template_ravetype_RaveColor;d.setValue(a);this.cu_1=d.getValue()},setColorValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,this.NS_1);b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a.getValue(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,this.NS_1);this.cu_1=a.getValue()}});b.com_ibm_vis_template_ravetype_RaveColor=b.com_ibm_init_declare(b.com_ibm_vis_template_ravetype_AbstractDataType,
{setRGBA:function(a,d,c,e){var g="";b.com_ibm_vis_engine_internal_ColorUtil.validateRGB(a,d,c);b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange(e);null!=a&&(g='"r": '+a);null!=d&&(g=""==g?'"g": '+d:g+', "g": '+d);null!=c&&(g=""==g?'"b": '+c:g+', "b": '+c);null!=e&&(g=""==g?'"a": '+e:g+', "a": '+e);""!=g&&(g="{ "+g+" }");try{this.cu_2=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(g)}catch(k){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(k,b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_EngineException("Failed to convert RGB values into a JSONObject",
b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT);throw k;}},setHSLA:function(a,d,c,e){var g="";b.com_ibm_vis_engine_internal_ColorUtil.validateHSL(a,d,c);b.com_ibm_vis_engine_internal_ColorUtil.validateZeroToOneRange(e);null!=a&&(g='"h": '+a);null!=d&&(g=""==g?'"s": '+d:g+', "s": '+d);null!=c&&(g=""==g?'"l": '+c:g+', "l": '+c);null!=e&&(g=""==g?'"a": '+e:g+', "a": '+e);""!=g&&(g="{ "+g+" }");this.cu_2=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(g)},setDelta:function(a,d,c,e){if(null==
this.cu_2)this.cu_2=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.cu_2))throw new b.com_ibm_vis_exceptions_internal_EngineException("Delta values is not supported for String color",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);null!=a&&(this.cu_2.dValue=a);null!=d&&(this.cu_2.dSaturation=d);null!=c&&(this.cu_2.dLightness=c);null!=e&&(this.cu_2.dAlpha=e)},setColorByName:function(a){b.com_ibm_vis_engine_internal_ColorUtil.validateColorName(a);
this.cu_2=a},setColorByHexString:function(a){b.com_ibm_vis_engine_internal_ColorUtil.validateColorHexString(a);this.cu_2=a},setColorByCSSRgbString:function(a){b.com_ibm_vis_engine_internal_ColorUtil.validateColorCSSString(a);this.cu_2=a},getValue:function(){return this.cu_2},setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Color parameter parameter value can not be null");b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?
(b.com_ibm_vis_engine_internal_ColorUtil.validateColorString(a.toString()),this.cu_2=a):b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)?(b.com_ibm_vis_engine_internal_ColorUtil.validateColorObject(a),this.cu_2=a):b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch(a,"RaveColor")},getType:function(){return b.com_ibm_vis_template_ravetype_RaveDataType.RaveColor}});b.com_ibm_vis_template_CompositeParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{parameters:null,
extraParams:null,compositeValue:null,constructor:function(){this.parameters=new b.com_ibm_rave_codegenerator_util_List;this.extraParams=new b.com_ibm_rave_codegenerator_util_Map;(function(a,b,c,e,g,k,f){}).apply(this,arguments)},getValue:function(){return this.compositeValue},hasValue:function(){return null!=this.compositeValue},resolveParameters:function(){for(var a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),d=0,c=this.parameters.arrayIterator(),e=c.length;d<e;++d){var g=c[d],
k=g.getValue();a[g.le_29]=k}d=0;c=this.extraParams.keySet().arrayIterator();for(e=c.length;d<e;++d)g=c[d],a[g]=this.extraParams.get(g);return a},setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Parameter value can not be null");b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)?(this.initParameters(a),this.compositeValue=this.resolveParameters()):this.reportTypeMismatch(a)},initParameters:function(a){for(var d=
b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),c,e=0,g=d.length;e<g;++e){var k=d[e];(c=this.createParameter(k,a[k]))?this.parameters.add(c):this.extraParams.put(k,a[k])}},createParameter:function(a,b){}});b.com_ibm_vis_template_SizeParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_CompositeParameter,{WT_1:"width",HH_1:"height",constructor:function(a,b,c,e,g,k,f){},getType:function(){return b.com_ibm_vis_template_ParameterType.SIZE},createParameter:function(a,d){var c;null!=d&&(this.WT_1==
a?(c=new b.com_ibm_vis_template_LengthParameter(this.id,this.WT_1,this.do_4,!1,null,null,this.re_5),c.setValue(d)):this.HH_1==a&&(c=new b.com_ibm_vis_template_LengthParameter(this.id,this.HH_1,this.do_4,!1,null,null,this.re_5),c.setValue(d)));return c}});b.com_ibm_vis_template_FontParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_CompositeParameter,{constructor:function(a,b,c,e,g,k,f){},getType:function(){return b.com_ibm_vis_template_ParameterType.FONT},createParameter:function(a,b){var c;
"size"==a?c=this.ce$9(b):"style"==a?c=this.ce$10(b):"family"==a?c=this.ce$8(b):"weight"==a&&(c=this.ce$11(b));return c},setFontFamily:function(a){this.parameters.add(this.ce$8(a));this.compositeValue=this.resolveParameters()},setFontSize:function(a){this.parameters.add(this.ce$9(a));this.compositeValue=this.resolveParameters()},setFontStyle:function(a){this.parameters.add(this.ce$10(a));this.compositeValue=this.resolveParameters()},setFontWeight:function(a){this.parameters.add(this.ce$11(a));this.compositeValue=
this.resolveParameters()},ce$8:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Font Family value should not be null");var d=new b.com_ibm_vis_template_StringParameter(this.id,"family",this.do_4,this.re_3,null,null,this.re_5);d.setValue(a);return d},ce$9:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Font size value should not be null");
var d=new b.com_ibm_vis_template_LengthParameter(this.id,"size",this.do_4,this.re_3,null,null,this.re_5);d.setValue(a);return d},ce$10:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Font style value should not be null");var d=new b.com_ibm_vis_template_StringParameter(this.id,"style",this.do_4,this.re_3,null,null,this.re_5);d.setValue(a);return d},ce$11:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Font weight value should not be null");var d=new b.com_ibm_vis_template_StringParameter(this.id,"weight",this.do_4,this.re_3,null,null,this.re_5);d.setValue(a);return d},setValueInNode:function(a,d){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(d))for(var c=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(d),e=0,g=c.length;e<g;++e){var k=c[e],k=new b.com_ibm_vis_internal_json_JSONTreeNode(d[k],a,k);a.addChild(k)}else b.com_ibm_vis_template_Parameter.prototype.setValueInNode.apply(this,
[a,d])}});b.com_ibm_vis_template_FontParameter.WH_1="weight";b.com_ibm_vis_template_FontParameter.FL_2="family";b.com_ibm_vis_template_FontParameter.SL_1="style";b.com_ibm_vis_template_FontParameter.SIZE="size";b.com_ibm_vis_template_FontParameter.BOLD="bold";b.com_ibm_vis_template_FontParameter.NORMAL="normal";b.com_ibm_vis_template_FontParameter.REGULAR="regular";b.com_ibm_vis_template_FontParameter.ITALIC="italic";b.com_ibm_vis_internal_json_JSONTreeNode=b.com_ibm_init_declare({ne_2:!1,constructor:function(){this.ce_9=
new b.com_ibm_rave_codegenerator_util_LinkedMap;this.ae_1=new b.com_ibm_rave_codegenerator_util_List;(function(a,b,c){this.ps$1(a);this.jc_1=a;this.pn_1=b;this.pm_1=c}).apply(this,arguments)},ps$1:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a)){this.ne_2=!0;for(var d=0,c=a.length;d<c;++d)this.ae_1.add(new b.com_ibm_vis_internal_json_JSONTreeNode(a[d],this,""))}else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a))for(var d=0,c=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),
e=c.length;d<e;++d){var g=c[d];this.ce_9.put(g,new b.com_ibm_vis_internal_json_JSONTreeNode(a[g],this,g))}else this.vu_2=a},findNode:function(a){for(var b,c=0,e=this.ce_9.keySet().arrayIterator(),g=e.length;c<g;++c){var k=e[c];if(k==a){b=this.ce_9.get(k);break}}return b},findNodes:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=this.findNode(a);c&&d.add(c);for(var e=0,g=this.ae_1.arrayIterator(),k=g.length;e<k;++e)c=g[e].findNodes(a),d.addAll(c);e=0;g=this.ce_9.keySet().arrayIterator();
for(k=g.length;e<k;++e)c=this.ce_9.get(g[e]).findNodes(a),d.addAll(c);return d},containsValue:function(a,d){var c=!1,e=this.ce_9.get(a);if(!e)for(var g=0,k=this.ae_1.arrayIterator(),f=k.length;g<f&&!(e=k[g].findNode(a));++g);e&&null!=e.vu_2&&(c=e.vu_2,e=d,b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c)&&(c=String.CPVisEngineValueOf(c)),b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(e)&&(e=String.CPVisEngineValueOf(e)),c=null==c?null==e:c.equals(e));return c},contains:function(a){if(this.ce_9.get(a))return!0;
for(var b=0,c=this.ae_1.arrayIterator(),e=c.length;b<e;++b)if(c[b].findNode(a))return!0;return!1},getChildren:function(){var a=new b.com_ibm_rave_codegenerator_util_List;a.addAll(this.ae_1);a.addAll(this.ce_9.values());return a},getAnonymousChildren:function(){return this.ae_1},getChildByIndex:function(a){var b;this.ae_1.size()>a?b=this.ae_1.get(a):this.ce_9.size()>a&&(b=this.ce_9.values().toArray()[a]);return b},getValue:function(){return this.vu_2},getJSONObject:function(){return this.jc_1},getParent:function(){return this.pn_1},
hasAnonymousChildren:function(){return this.ne_2},replaceValue:function(a){var d=this.pn_1;if(d)if(d.isArray()){var c=d.ae_1.indexOf(this);b.com_ibm_rave_codegenerator_util_BasicFactory.setAt(d.jc_1,a,c);this.jc_1=this.vu_2=a}else b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(d.jc_1)&&(this.jc_1=this.vu_2=d.jc_1[this.pm_1]=a)},remove:function(){var a=this.pn_1;a&&a.rd$2(this)},rd$2:function(a){this.isArray()?this.removeAnonymousChild(a):(a=a.pm_1,this.ce_9.remove(a),b.com_ibm_rave_codegenerator_util_BasicFactory.remove(this.jc_1,
a))},getPropertyName:function(){return this.pm_1},addChild:function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(this.jc_1)&&(this.ce_9.put(a.pm_1,a),this.jc_1[a.pm_1]=a.jc_1)},addAnonymousChildren:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0;c<a;++c)d.add(this.addAnonymousChild());return d},addAnonymousChild:function(){var a;if(this.isArray()){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a=new b.com_ibm_vis_internal_json_JSONTreeNode(d,
this,null);this.ae_1.add(a);this.ne_2=!0;this.jc_1.push(d)}return a},removeAnonymousChild:function(a){return this.isArray()&&this.ae_1.remove(a)?(b.com_ibm_rave_codegenerator_util_BasicFactory.removeFromArray(this.jc_1,a.jc_1),!0):!1},isArray:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(this.jc_1)}});b.com_ibm_vis_template_PaletteParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_Parameter,{constructor:function(a,b,c,e,g,k,f){},hasValue:function(){return this.getPaletteList()&&
0<this.getPaletteList().size()},getValue:function(){return this.gu$5()},gu$5:function(){var a;if(this.hasValue()){a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();for(var d=0,c=this.getPaletteList().arrayIterator(),e=c.length;d<e;++d)a.push(c[d].getValue())}return a},setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null item in Palette is not supported.");if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a)){var d=
b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a);b.com_ibm_vis_template_internal_TemplateUtils.validate(0<=d,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Empty palette list cannot be added.");this.setValueUsingJSONArray(a)}else this.reportTypeMismatch(a)},setValueUsingJSONArray:function(a){},addPaletteItem:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Insertion of null value is not supported in palette.");
this.getPaletteList().add(a)},insertPaletteItem:function(a,d){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Insertion of null value is not supported in palette.");b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a.getValue(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Insertion of empty object is not supported in palette");b.com_ibm_vis_template_internal_TemplateUtils.validate(0<=
d,b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT,"Insertion at negative index values is not supported.");b.com_ibm_vis_template_internal_TemplateUtils.validate(this.getPaletteList().size()>=d,b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT,"Index for insertion is greater then size for the palette array.");this.getPaletteList().add(d,a)},getPaletteList:function(){},setPalette:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,
"Null Palette list is not supported.");b.com_ibm_vis_template_internal_TemplateUtils.validate(0<a.size(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Empty palette cannot be added.");for(var d=0,c=a.arrayIterator(),e=c.length;d<e;++d)b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(c[d].getValue(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null item in Palette is not supported.");this.getPaletteList().clear();this.getPaletteList().addAll(a)},getItemAtIndex:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validate(0<=
a,b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT,"Negative index values are not supported.");b.com_ibm_vis_template_internal_TemplateUtils.validate(this.getPaletteList().size()>a,b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT,"Index for insertion is greater then size for the palette array.");return this.getPaletteList().get(a)}});b.com_ibm_vis_template_ColorPaletteParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_PaletteParameter,{constructor:function(){this.rs_1=
new b.com_ibm_rave_codegenerator_util_List;(function(a,b,c,e,g,k,f){}).apply(this,arguments)},getType:function(){return b.com_ibm_vis_template_ParameterType.COLOR_PALETTE},getColorPalette:function(){return this.rs_1},addColor:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null color value in Color Palette is not supported.");this.rs_1.add(a)},insertColor:function(a,b){this.insertPaletteItem(a,b)},setColorPalette:function(a){this.setPalette(a)},
getColorAtIndex:function(a){return this.getItemAtIndex(a)},setValueUsingJSONArray:function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a);this.rs_1=new b.com_ibm_rave_codegenerator_util_List;for(var c=0;c<d;++c){var e=a[c],g=new b.com_ibm_vis_template_ravetype_RaveColor;g.setValue(e);this.addColor(g)}},getPaletteList:function(){return this.getColorPalette()}});b.com_ibm_vis_template_StyleByPaletteParameter=b.com_ibm_init_declare(b.com_ibm_vis_template_PaletteParameter,
{constructor:function(){this.rs_2=new b.com_ibm_rave_codegenerator_util_List;(function(a,b,c,e,g,k,f){}).apply(this,arguments)},getType:function(){return b.com_ibm_vis_template_ParameterType.STYLEBY_PALETTE},addStyle:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null style value in StyleBy Palette is not supported.");this.rs_2.add(a)},insertStyle:function(a,b){this.insertPaletteItem(a,b)},getStyleAtIndex:function(a){return this.getItemAtIndex(a)},
setStylePalette:function(a){this.setPalette(a)},getStylePalette:function(){return this.rs_2},setValueUsingJSONArray:function(a){var d=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a);this.rs_2=new b.com_ibm_rave_codegenerator_util_List;for(var c=0;c<d;++c){var e=a[c],g=new b.com_ibm_vis_template_ravetype_RaveStyle;g.setValue(e);this.addStyle(g)}},getPaletteList:function(){return this.getStylePalette()}});b.com_ibm_vis_template_ravetype_RaveStyle=b.com_ibm_init_declare(b.com_ibm_vis_template_ravetype_AbstractDataType,
{setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null style value is not supported.");if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)){if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"fill"))if(a=a.fill,b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)&&b.com_ibm_vis_template_ravetype_RaveGradientFill.containsFillAttributes(a)){var d=new b.com_ibm_vis_template_ravetype_RaveGradientFill;
d.setValue(a);this.setFillForGradientColor(d)}else d=new b.com_ibm_vis_template_ravetype_RaveColor,d.setValue(a),this.setFillForSolidColor(d)}else b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch(a,"RaveStyle")},getValue:function(){return this.sO_1},gO$2:function(){this.sO_1||(this.sO_1=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject());return this.sO_1},sl$1:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,
"Null fill style is not supported");var d=a.getValue();b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(d,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null fill style is not supported");this.gO$2().fill=d;this.fill=a},setFillForSolidColor:function(a){this.sl$1(a)},setFillForGradientColor:function(a){this.sl$1(a)},getFill:function(){return this.fill},getType:function(){return b.com_ibm_vis_template_ravetype_RaveDataType.RaveStyle}});b.com_ibm_vis_template_ravetype_RaveStyle.KL_2=
"fill";b.com_ibm_vis_template_ravetype_RaveGradientFill=b.com_ibm_init_declare(b.com_ibm_vis_template_ravetype_AbstractDataType,{al_2:0,ia_4:!1,gO$1:function(){this.fu_1||(this.fu_1=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject());return this.fu_1},setValue:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null gradient fill is not supported.");if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)){if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,
"type")){var d=a.type;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d))this.setGradientType(d);else throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid gradient type",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);}if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"angle"))if(d=a.angle,b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d))this.setAngle(d);else throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid gradient angle ",
b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"focus"))if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a.focus)){var c=a.x,d=a.x,e=new b.com_ibm_vis_template_ravetype_RaveLength;e.setValue(c);c=new b.com_ibm_vis_template_ravetype_RaveLength;c.setValue(d);this.setFocus(e,c)}else throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid gradient focus values",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);
if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"global"))if(d=a.global,b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(d))this.setGlobal(d);else throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid global value ",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"colors"))if(a=a.colors,b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a)){d=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(a);
if(0==d)throw new b.com_ibm_vis_exceptions_internal_EngineException("Empty color offset list is not supported",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);e=new b.com_ibm_rave_codegenerator_util_List;for(c=0;c<d;++c){var g=a[c],k=new b.com_ibm_vis_template_ravetype_RaveColorOffset;k.setValue(g);e.add(k)}this.setColorOffset(e)}else throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid color offset value",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);}else b.com_ibm_vis_template_ravetype_AbstractDataType.reportTypeMismatch(a,
"RaveGradientFill")},getValue:function(){return this.fu_1},setGradientType:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null gradient type is not supported.");if(!b.com_ibm_vis_engine_internal_Gradient.isValidGradientType(a))throw new b.com_ibm_vis_exceptions_internal_EngineException("'"+a+"' is not a supported fill gradient type.",b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE);this.gp_2=
a;this.gO$1().type=a},getGradientType:function(){return this.gp_2},setFocus:function(a,d){b.com_ibm_vis_template_internal_TemplateUtils.validate(a||d,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Both x and y value for focus cannot not be null");b.com_ibm_vis_template_internal_TemplateUtils.validate(a&&null!=a.getValue()||d&&null!=d.getValue(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Empty Rave Length parameter is not supported.");var c;a&&(c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),
c.x=a.getValue(),this.fs_3=a.getValue());d&&(c||(c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject()),c.y=d.getValue(),this.fs_4=d.getValue());c&&(this.gO$1().focus=c)},getFocusX:function(){return this.fs_3},getFocusY:function(){return this.fs_4},setAngle:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null Gradient angle is not supported");this.al_2=this.gO$1().angle=a},getAngle:function(){return this.al_2},
setGlobal:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validateForNotNullValue(a,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null Global value is not supported");this.gO$1().global=a;this.ia_4=a.valueOf()},getIsGlobal:function(){return this.ia_4},insertColorOffset:function(a,d){b.com_ibm_vis_template_internal_TemplateUtils.validate(0<=d,b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_INVALID_ARGUMENT,"Index of color offset should be greater then 0");var c=this.gO$1().colors;
c||(c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),this.gO$1().colors=c);var e=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(c);if(e<d)for(var e=d-e,g=0;g<e;++g)c.push(b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject());e=a&&null!=a.getValue()?a.getValue():b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();b.com_ibm_rave_codegenerator_util_BasicFactory.addAt(c,e,d)},setColorOffset:function(a){b.com_ibm_vis_template_internal_TemplateUtils.validate(a&&
0!=a.size(),b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_VALUE,"Null or Empty color offset values are not supported.");var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)d.push(a[c].getValue());this.gO$1().colors=d},getType:function(){return b.com_ibm_vis_template_ravetype_RaveDataType.RaveGradientFill}});b.com_ibm_vis_template_ravetype_RaveGradientFill.containsFillAttributes=function(a){var d=!1;a=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a);
for(var c=0,e=a.length;c<e;++c){d=a[c];if("angle"!=d&&"colors"!=d&&"focus"!=d&&"global"!=d&&"type"!=d)return!1;d=!0}return d};b.com_ibm_vis_template_ravetype_RaveGradientFill.KP_1="type";b.com_ibm_vis_template_ravetype_RaveGradientFill.KR_1="colors";b.com_ibm_vis_template_ravetype_RaveGradientFill.KL_1="angle";b.com_ibm_vis_template_ravetype_RaveGradientFill.KU_1="focus";b.com_ibm_vis_template_ravetype_RaveGradientFill.K__1="x";b.com_ibm_vis_template_ravetype_RaveGradientFill.K__2="y";b.com_ibm_vis_template_ravetype_RaveGradientFill.KA_1=
"global";b.com_ibm_vis_template_ravetype_RaveColorOffset=b.com_ibm_init_declare(b.com_ibm_vis_template_ravetype_AbstractDataType,{constructor:function(){this.cu_3=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject()},setValue:function(a){if(null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)){var d=null,c=null;b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"color")&&(d=new b.com_ibm_vis_template_ravetype_RaveColor,d.setValue(a.color));b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,
"offset")&&(c=a.offset);this.setColorOffsetValue(d,c)}},getValue:function(){return this.cu_3},setColorOffsetValue:function(a,d){this.co_4=a;this.oe_5=d;this.cu_3=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();this.co_4&&(this.cu_3.color=this.co_4.getValue());null!=this.oe_5&&(this.cu_3.offset=this.oe_5)},getType:function(){return b.com_ibm_vis_template_ravetype_RaveDataType.RaveColorOffset}});b.com_ibm_vis_template_ravetype_RaveColorOffset.KE_1="offset";b.com_ibm_vis_template_ravetype_RaveColorOffset.KO_1=
"color";b.com_ibm_vis_template_internal_ParameterValue=b.com_ibm_init_declare({constructor:function(a,b){this.id=a;this.vu_8=b},getId:function(){return this.id},getValue:function(){return this.vu_8}});b.com_ibm_vis_template_internal_ResolutionItem=b.com_ibm_init_declare({constructor:function(a,d,c,e,g){this.te_1=d;this.se_10=c;this.su_1=e;this.st_2=g;this.mo_5="set"==a?b.com_ibm_vis_template_internal_ResolutionMethodType.SET:"remove"==a?b.com_ibm_vis_template_internal_ResolutionMethodType.REMOVE:
b.com_ibm_vis_template_internal_ResolutionMethodType.CREATE_OR_SET},getMethod:function(){return this.mo_5},getTarget:function(){return this.te_1},getSourceParameter:function(){return this.se_10},getSourceValue:function(){return this.su_1},getSourcePath:function(){return this.st_2}});b.com_ibm_vis_template_internal_ResolutionItem.se_11="set";b.com_ibm_vis_template_internal_ResolutionItem.sv_1="remove";b.com_ibm_vis_template_internal_ResolutionCase=b.com_ibm_init_declare({constructor:function(a,b){this.cn_5=
a;this.rm_1=b},getCaseStatement:function(){return this.cn_5},getResolutionItems:function(){return this.rm_1}});b.com_ibm_vis_template_internal_TemplateFactory=b.com_ibm_init_declare({});b.com_ibm_vis_template_internal_TemplateFactory.createParameter=function(a){var d=a.id,c=a.label,e=a[b.com_ibm_vis_template_internal_TemplateFactory.so_8],g=a.required,k=null==a[b.com_ibm_vis_template_internal_TemplateFactory.se_16]?null:a[b.com_ibm_vis_template_internal_TemplateFactory.se_16].intValue(),f=!0;null!=
g&&(f=g.valueOf());var g=a.type,h=a[b.com_ibm_vis_template_internal_TemplateFactory.su_2],l=b.com_ibm_vis_template_internal_TemplateFactory.cs$1(a.resolution);a=b.com_ibm_vis_template_internal_TemplateFactory.cs$2(a[b.com_ibm_vis_template_internal_TemplateFactory.se_15],g);var m;"string"==g?m=new b.com_ibm_vis_template_StringParameter(d,c,e,f,l,a,k):"boolean"==g?m=new b.com_ibm_vis_template_BooleanParameter(d,c,e,f,l,a,k):"integer"==g?m=new b.com_ibm_vis_template_LongIntegerParameter(d,c,e,f,l,a,
k):"double"==g?m=new b.com_ibm_vis_template_DoubleParameter(d,c,e,f,l,a,k):"length"==g?m=new b.com_ibm_vis_template_LengthParameter(d,c,e,f,l,a,k):"color"==g?m=new b.com_ibm_vis_template_ColorParameter(d,c,e,f,l,a,k):"size"==g?m=new b.com_ibm_vis_template_SizeParameter(d,c,e,f,l,a,k):"font"==g?m=new b.com_ibm_vis_template_FontParameter(d,c,e,f,l,a,k):g==b.com_ibm_vis_template_internal_TemplateFactory.st_3?m=new b.com_ibm_vis_template_ColorPaletteParameter(d,c,e,f,l,a,k):g==b.com_ibm_vis_template_internal_TemplateFactory.st_6&&
(m=new b.com_ibm_vis_template_StyleByPaletteParameter(d,c,e,f,l,a,k));null!=h&&b.com_ibm_vis_template_internal_TemplateFactory.su$1(d,m,h);return m};b.com_ibm_vis_template_internal_TemplateFactory.su$1=function(a,d,c){try{d.setValue(c)}catch(e){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_exceptions_internal_EngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException(null,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_DEFAULT_VALUE_TYPE_MISMATCH,a);throw e;
}};b.com_ibm_vis_template_internal_TemplateFactory.cs$1=function(a){var d;if(a){var c=a.length;d=new b.com_ibm_rave_codegenerator_util_List(c);for(var e=0;e<c;++e)d.add(b.com_ibm_vis_template_internal_TemplateFactory.createResolutionItem(a[e]))}return d};b.com_ibm_vis_template_internal_TemplateFactory.cs$2=function(a,d){var c;if(a){var e=a.length;c=new b.com_ibm_rave_codegenerator_util_List(e);for(var g=0;g<e;++g)c.add(b.com_ibm_vis_template_internal_TemplateFactory.createResolutionCase(a[g],d))}return c};
b.com_ibm_vis_template_internal_TemplateFactory.createParameterValues=function(a){for(var d=a.length,c=new b.com_ibm_rave_codegenerator_util_List(d),e=0;e<d;++e){var g=a[e];c.add(new b.com_ibm_vis_template_internal_ParameterValue(g.id,g.value))}return c};b.com_ibm_vis_template_internal_TemplateFactory.createResolutionItem=function(a){return new b.com_ibm_vis_template_internal_ResolutionItem(a.method,a.target,a[b.com_ibm_vis_template_internal_TemplateFactory.se_17],a[b.com_ibm_vis_template_internal_TemplateFactory.su_3],
a.sourcePath)};b.com_ibm_vis_template_internal_TemplateFactory.createResolutionCase=function(a,d){var c=a[b.com_ibm_vis_template_internal_TemplateFactory.ss_1];b.com_ibm_vis_template_internal_TemplateFactory.vs$1(c,d);var e=b.com_ibm_vis_template_internal_TemplateFactory.cs$1(a.resolution);return new b.com_ibm_vis_template_internal_ResolutionCase(c,e)};b.com_ibm_vis_template_internal_TemplateFactory.vs$1=function(a,d){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a),e=b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a),
g=b.com_ibm_rave_codegenerator_util_BasicFactory.isInteger(a);if(!(c||e||g||null==a))throw new b.com_ibm_vis_exceptions_internal_SpecException(null,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_INVALID_RESOLUTION_CASE,d);if(c&&"boolean"!=d||e&&"string"!=d||g&&"integer"!=d)throw new b.com_ibm_vis_exceptions_internal_SpecException(null,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_RESOLUTION_CASE_MISMATCH,d);};b.com_ibm_vis_template_internal_TemplateFactory.sI_1="id";b.com_ibm_vis_template_internal_TemplateFactory.se_13=
"label";b.com_ibm_vis_template_internal_TemplateFactory.so_8="description";b.com_ibm_vis_template_internal_TemplateFactory.se_14="required";b.com_ibm_vis_template_internal_TemplateFactory.sp_2="type";b.com_ibm_vis_template_internal_TemplateFactory.se_16="resolveOrder";b.com_ibm_vis_template_internal_TemplateFactory.sn_2="string";b.com_ibm_vis_template_internal_TemplateFactory.sa_2="boolean";b.com_ibm_vis_template_internal_TemplateFactory.se_12="integer";b.com_ibm_vis_template_internal_TemplateFactory.sl_3=
"double";b.com_ibm_vis_template_internal_TemplateFactory.st_4="length";b.com_ibm_vis_template_internal_TemplateFactory.so_7="color";b.com_ibm_vis_template_internal_TemplateFactory.sz_1="size";b.com_ibm_vis_template_internal_TemplateFactory.sn_1="font";b.com_ibm_vis_template_internal_TemplateFactory.st_3="colorPalette";b.com_ibm_vis_template_internal_TemplateFactory.st_6="styleByPalette";b.com_ibm_vis_template_internal_TemplateFactory.su_2="defaultValue";b.com_ibm_vis_template_internal_TemplateFactory.so_10=
"resolution";b.com_ibm_vis_template_internal_TemplateFactory.se_15="resolutionCases";b.com_ibm_vis_template_internal_TemplateFactory.ss_1="resolutionCase";b.com_ibm_vis_template_internal_TemplateFactory.su_4="value";b.com_ibm_vis_template_internal_TemplateFactory.so_9="method";b.com_ibm_vis_template_internal_TemplateFactory.se_18="target";b.com_ibm_vis_template_internal_TemplateFactory.se_17="sourceParameter";b.com_ibm_vis_template_internal_TemplateFactory.su_3="sourceValue";b.com_ibm_vis_template_internal_TemplateFactory.st_5=
"sourcePath";b.com_ibm_vis_template_parser_JSONPathParser=b.com_ibm_init_declare({constructor:function(a){this.tree=new b.com_ibm_vis_internal_json_JSONTreeNode(a,null,"")},parseExpression:function(a,d){var c=new b.com_ibm_rave_codegenerator_io_StringReader(a),c=new b.com_ibm_vis_template_parser_JSONPathExpressionParser(c),e=new b.com_ibm_rave_codegenerator_util_List;try{e=c.parseJSON(this.tree,d)}catch(g){throw b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_exceptions_internal_JSONPathException)&&
g.setPath(a),g;}return e}});b.com_ibm_rave_codegenerator_io_StringReader=b.com_ibm_init_declare({_length:0,_next:0,_mark:0,constructor:function(a){this._length=a.length;this._char_arr=Array(a.length);for(var b=0;b<a.length;b++)this._char_arr[b]=a.charCodeAt(b)},ensureOpen:function(){if(null==this._char_arr)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Stream closed");},_readChar:function(){this.ensureOpen();return this._next>=this._length?-1:this._char_arr[this._next++]},read:function(a,
b,c){if(0==arguments.length)return this._readChar();this.ensureOpen();if(0>b||b>=a.length||0>c||b+c>a.length||0>b+c)throw Error("Not read out of range.");if(0==c)return 0;if(this._next>=this._length)return-1;var e=Math.min(this._length-this._next,c);this._getChars(this._next,this._next+e,a,b);this._next+=e;return e},_getChars:function(a,d,c,e){if(0<=a&&a<=d&&d<=this._length)b.com_ibm_rave_codegenerator_lang_System.arraycopy(this._char_arr,a,c,e,d-a);else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Could not copy char_arr");
},skip:function(a){this.ensureOpen();if(this._next>=this._length)return 0;a=Math.min(this._length-this._next,a);a=Math.max(-this._next,a);this._next+=a;return a},ready:function(){this.ensureOpen();return!0},markSupported:function(){return!0},mark:function(a){if(0>a)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Read-ahead limit \x3c 0");this.ensureOpen();this._mark=this._next},reset:function(){this.ensureOpen();this._next=this._mark},close:function(){this._char_arr=null}});b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants=
b.com_ibm_init_declare({constructor:function(){this.tokenImage='\x3cEOF\x3e;" ";"\\n";"(";")";"[";"]";"/";"//";".";"..";"\x3d";"*";\x3cINTEGER\x3e;\x3cEOL\x3e;\x3cNODE_NAME\x3e;"\\"";\x3cENDQUOTE\x3e;"\\\\\\"";\x3cCHAR\x3e'.split(";")}});b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.EOF=0;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.LPARENTHESIS=3;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.RPARENTHESIS=4;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.LSQUAREBRACKET=
5;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.RSQUAREBRACKET=6;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.SLASH=7;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.DOUBLESLASH=8;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.DOT=9;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.DOTDOT=10;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.EQUALS=11;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.STAR=
12;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.INTEGER=13;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.EOL=14;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.NODE_NAME=15;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.DOUBLEQUOTE=16;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.ENDQUOTE=17;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.QUOTED_QUOTE=18;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.CHAR=
19;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.DEFAULT=0;b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants.QUOTED_STRING_STATE=1;b.com_ibm_vis_template_parser_JSONPathExpressionParser=b.com_ibm_init_declare(b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants,{token_source:null,token:null,jj_nt:null,mn_1:!1,nu_1:-1,ne_4:!0,pe_5:!0,jn_4:0,jl_1:0,je_2:0,ja_2:!1,jg_1:0,jn_2:-1,jo_1:0,constructor:function(){this.ja_1=b.com_ibm_rave_codegenerator_lang_Array.create([11],
0);this.jn_1=Array(2);this.jl_2=new b.com_ibm_vis_template_parser_JSONPathExpressionParser.LookaheadSuccess;this.je_1=new b.com_ibm_rave_codegenerator_util_List;this.jn_3=b.com_ibm_rave_codegenerator_lang_Array.create([100],0);(function(a){this.jj_input_stream=new b.com_ibm_vis_template_parser_SimpleCharStream(a,1,1,4096);this.token_source=new b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager(this.jj_input_stream,0);this.token=new b.com_ibm_vis_template_parser_Token(0,null);this.jn_4=
-1;for(a=this.je_2=0;11>a;++a)this.ja_1[a]=-1;for(a=0;a<this.jn_1.length;++a)this.jn_1[a]=new b.com_ibm_vis_template_parser_JSONPathExpressionParser.JJCalls}).apply(this,arguments)},parseJSON:function(a,d){this.ce_11=new b.com_ibm_rave_codegenerator_util_List;this.ce_11.add(a);this.mn_1=d;var c=new b.com_ibm_rave_codegenerator_util_List;try{c=this.ps$2()}catch(e){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_template_parser_ParseException))throw c=e,new b.com_ibm_vis_exceptions_internal_JSONPathException(c.getMessage(),
b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_INVALID_PATH,"");if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_template_parser_TokenMgrError))throw c=e,new b.com_ibm_vis_exceptions_internal_JSONPathException(c.getMessage(),b.com_ibm_vis_exceptions_ErrorCode.JSONPATH_INVALID_PATH,"");throw e;}return c},ps$2:function(){a:for(;;)switch(this.Path(),-1==this.jn_4?this.jt$1():this.jn_4){case 7:case 8:break;default:this.ja_1[0]=this.je_2;break a}return this.ce_11;throw Error("Missing return statement in function");
},Path:function(){var a=!1,d,a=new b.com_ibm_rave_codegenerator_util_List;this.pe_5=this.ne_4=!0;var c;this.nu_1=-1;switch(-1==this.jn_4?this.jt$1():this.jn_4){case 7:this.je$1(7);a=!1;break;case 8:this.je$1(8);a=!0;break;default:throw this.ja_1[1]=this.je_2,this.je$1(-1),new b.com_ibm_vis_template_parser_ParseException(null,null,null);}switch(-1==this.jn_4?this.jt$1():this.jn_4){case 12:this.je$1(12);this.ce_11=b.com_ibm_vis_template_parser_JSONMatcher.findChildren(this.ce_11);break;case 15:d=this.je$1(15);
a=b.com_ibm_vis_template_parser_JSONMatcher.findSingleOrMultipleNodesByName(this.ce_11,d.image,a);0<a.size()||!this.mn_1?this.ce_11=a:(this.ne_4=!1,c=d.image);break;case 9:this.je$1(9);break;case 10:this.je$1(10);this.ce_11=b.com_ibm_vis_template_parser_JSONMatcher.findParents(this.ce_11);break;default:throw this.ja_1[2]=this.je_2,this.je$1(-1),new b.com_ibm_vis_template_parser_ParseException(null,null,null);}a:for(;;){switch(-1==this.jn_4?this.jt$1():this.jn_4){case 5:break;default:this.ja_1[3]=
this.je_2;break a}this.Predicate()}!this.mn_1||this.ne_4&&this.pe_5||this.CreateNewNode(c,this.nu_1)},Predicate:function(){var a;a=new b.com_ibm_rave_codegenerator_util_List;this.je$1(5);a:for(;;){if(this.j_$1(2))a=this.je$1(13),this.nu_1=a=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(a.image,10),this.ne_4&&(a=b.com_ibm_vis_template_parser_JSONMatcher.filterNodesByPredicateIndex(this.ce_11,a),0<a.size()||!this.mn_1?this.ce_11=a:this.pe_5=!1);else switch(-1==this.jn_4?this.jt$1():
this.jn_4){case 12:this.je$1(12);this.ce_11=b.com_ibm_vis_template_parser_JSONMatcher.findChildrenInArrays(this.ce_11);break;case 15:case 16:this.Expression();break;default:throw this.ja_1[4]=this.je_2,this.je$1(-1),new b.com_ibm_vis_template_parser_ParseException(null,null,null);}switch(-1==this.jn_4?this.jt$1():this.jn_4){case 12:case 13:case 15:case 16:break;default:this.ja_1[5]=this.je_2;break a}}this.je$1(6)},Expression:function(){var a="",d="",c,e,g;switch(-1==this.jn_4?this.jt$1():this.jn_4){case 16:a=
this.QuotedString();break;case 15:g=this.je$1(15);break;default:throw this.ja_1[6]=this.je_2,this.je$1(-1),new b.com_ibm_vis_template_parser_ParseException(null,null,null);}g&&(a=g.image);a:for(;;){switch(-1==this.jn_4?this.jt$1():this.jn_4){case 11:break;default:this.ja_1[7]=this.je_2;break a}c=this.je$1(11)}a:for(;;){if(!this.j_$2(2))break a;switch(-1==this.jn_4?this.jt$1():this.jn_4){case 16:d=this.QuotedString();break;case 13:e=this.je$1(13);break;default:throw this.ja_1[8]=this.je_2,this.je$1(-1),
new b.com_ibm_vis_template_parser_ParseException(null,null,null);}}e&&(d=e.image);this.ce_11=c?b.com_ibm_vis_template_parser_JSONMatcher.filterNodesByEquals(this.ce_11,a,d):b.com_ibm_vis_template_parser_JSONMatcher.filterNodesByChildExists(this.ce_11,a)},QuotedString:function(){var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder;this.je$1(16);a:for(;;)switch(this.Char(a),-1==this.jn_4?this.jt$1():this.jn_4){case 18:case 19:break;default:this.ja_1[9]=this.je_2;break a}this.je$1(17);return a.toString();
throw Error("Missing return statement in function");},Char:function(a){var d;switch(-1==this.jn_4?this.jt$1():this.jn_4){case 19:d=this.je$1(19);a.append(d.image);break;case 18:this.je$1(18);a.appendChar(34);break;default:throw this.ja_1[10]=this.je_2,this.je$1(-1),new b.com_ibm_vis_template_parser_ParseException(null,null,null);}},CreateNewNode:function(a,d){this.ne_4||-1!=d?this.ne_4&&-1<d?this.ce_11=b.com_ibm_vis_template_parser_JSONMatcher.addAnonymousChildren(this.ce_11,d):!this.ne_4&&-1<d&&
(this.ce_11=b.com_ibm_vis_template_parser_JSONMatcher.addJSONArrayObject(this.ce_11,a,d)):this.ce_11=b.com_ibm_vis_template_parser_JSONMatcher.addChild(this.ce_11,a)},j_$1:function(a){this.jl_1=a;this.jo_2=this.jo_3=this.token;try{return!this.j_$4()}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_template_parser_JSONPathExpressionParser.LookaheadSuccess))return!0;throw d;}finally{this.jv$1(0,a)}},j_$2:function(a){this.jl_1=a;this.jo_2=this.jo_3=this.token;try{return!this.j_$7()}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,
b.com_ibm_vis_template_parser_JSONPathExpressionParser.LookaheadSuccess))return!0;throw d;}finally{this.jv$1(1,a)}},j1$1:function(){return this.je$2(19)?!0:!1},j1$2:function(){var a;a=this.jo_3;return this.j1$1()&&(this.jo_3=a,this.j1$3())?!0:!1},j_$3:function(){if(this.je$2(16))return!0;var a;if(this.j_$5())return!0;for(;;)if(a=this.jo_3,this.j_$5()){this.jo_3=a;break}return!1},j1$3:function(){return this.je$2(18)?!0:!1},j_$4:function(){return this.je$2(13)?!0:!1},j_$5:function(){return this.j1$2()?
!0:!1},j_$6:function(){return this.j_$3()?!0:!1},j_$7:function(){var a;a=this.jo_3;return this.j_$6()&&(this.jo_3=a,this.je$2(13))?!0:!1},ReInit:function(a){this.jj_input_stream.ReInit(a,1,1,4096);this.token_source.ReInit(this.jj_input_stream,0);this.token=new b.com_ibm_vis_template_parser_Token(0,null);this.jn_4=-1;for(a=this.je_2=0;11>a;++a)this.ja_1[a]=-1;for(a=0;a<this.jn_1.length;++a)this.jn_1[a]=new b.com_ibm_vis_template_parser_JSONPathExpressionParser.JJCalls},je$1:function(a){var b;(b=this.token).next?
this.token=this.token.next:this.token=this.token.next=this.token_source.getNextToken();this.jn_4=-1;if(this.token.kind==a){this.je_2++;if(100<++this.jg_1)for(a=this.jg_1=0;a<this.jn_1.length;++a)for(b=this.jn_1[a];b;)b.gen<this.je_2&&(b.first=null),b=b.next;return this.token}this.token=b;this.jn_2=a;throw this.generateParseException();},je$2:function(a){this.jo_3==this.jo_2?(this.jl_1--,this.jo_2=this.jo_3.next?this.jo_3=this.jo_3.next:this.jo_3=this.jo_3.next=this.token_source.getNextToken()):this.jo_3=
this.jo_3.next;if(this.ja_2){for(var b=0,c=this.token;c&&c!=this.jo_3;)b++,c=c.next;c&&this.je$3(a,b)}if(this.jo_3.kind!=a)return!0;if(0==this.jl_1&&this.jo_3==this.jo_2)throw this.jl_2;return!1},getNextToken:function(){this.token=this.token.next?this.token.next:this.token.next=this.token_source.getNextToken();this.jn_4=-1;this.je_2++;return this.token},getToken:function(a){for(var b=this.token,c=0;c<a;++c)b=b.next?b.next:b.next=this.token_source.getNextToken();return b},jt$1:function(){return(this.jj_nt=
this.token.next)?this.jn_4=this.jj_nt.kind:this.jn_4=(this.token.next=this.token_source.getNextToken()).kind},je$3:function(a,d){if(!(100<=d))if(d==this.jo_1+1)this.jn_3[this.jo_1++]=a;else if(0!=this.jo_1){this.jr_1=b.com_ibm_rave_codegenerator_lang_Array.create([this.jo_1],0);for(var c=0;c<this.jo_1;++c)this.jr_1[c]=this.jn_3[c];c=this.je_1.iterator();a:for(;c.hasNext();)if(c.next().length==this.jr_1.length){for(c=0;c<this.jr_1.length;++c);this.je_1.add(this.jr_1);break a}0!=d&&(this.jn_3[(this.jo_1=
d)-1]=a)}},generateParseException:function(){this.je_1.clear();var a=b.com_ibm_rave_codegenerator_lang_Array.create([20],!1);0<=this.jn_2&&(a[this.jn_2]=!0,this.jn_2=-1);for(var d=0;11>d;++d)if(this.ja_1[d]==this.je_2)for(var c=0;32>c;++c)0!=(b.com_ibm_vis_template_parser_JSONPathExpressionParser.j__1[d]&1<<c)&&(a[c]=!0);for(d=0;20>d;++d)a[d]&&(this.jr_1=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),this.jr_1[0]=d,this.je_1.add(this.jr_1));this.jo_1=0;this.je$4();this.je$3(0,0);a=Array(this.je_1.size());
for(d=0;d<this.je_1.size();++d)a[d]=this.je_1.get(d);return new b.com_ibm_vis_template_parser_ParseException(this.token,a,this.tokenImage)},enable_tracing:function(){},disable_tracing:function(){},je$4:function(){this.ja_2=!0;for(var a=0;2>a;++a)try{var d=this.jn_1[a];do{if(d.gen>this.je_2)switch(this.jl_1=d.arg,this.jo_2=this.jo_3=d.first,a){case 0:this.j_$4();break;case 1:this.j_$7()}d=d.next}while(d)}catch(c){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_template_parser_JSONPathExpressionParser.LookaheadSuccess))throw c;
}this.ja_2=!1},jv$1:function(a,d){for(var c=this.jn_1[a];c.gen>this.je_2;){if(!c.next){c=c.next=new b.com_ibm_vis_template_parser_JSONPathExpressionParser.JJCalls;break}c=c.next}c.gen=this.je_2+d-this.jl_1;c.first=this.token;c.arg=d}});b.com_ibm_vis_template_parser_JSONPathExpressionParser.j_$8=function(){b.com_ibm_vis_template_parser_JSONPathExpressionParser.j__1=[384,384,38400,32,102400,110592,98304,2048,73728,786432,786432]};b.com_ibm_vis_template_parser_JSONPathExpressionParser.LookaheadSuccess=
b.com_ibm_init_declare(Error,{});b.com_ibm_vis_template_parser_JSONPathExpressionParser.JJCalls=b.com_ibm_init_declare({gen:0,arg:0});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_template_parser_JSONPathExpressionParser.j_$8()});b.com_ibm_vis_template_parser_ParseException=b.com_ibm_init_declare(Error,{currentToken:null,expectedTokenSequences:null,tokenImage:null,eol:null,constructor:function(){this.eol=b.com_ibm_rave_codegenerator_lang_System.getProperty("line.separator","\n");(function(a,
d,c){a&&(b.com_ibm_vis_template_parser_ParseException.is$1(a,d,c),this.currentToken=a,this.expectedTokenSequences=d,this.tokenImage=c)}).apply(this,arguments)}});b.com_ibm_vis_template_parser_ParseException.is$1=function(a,d,c){for(var e=b.com_ibm_rave_codegenerator_lang_System.getProperty("line.separator","\n"),g=new b.com_ibm_rave_codegenerator_lang_StringBuilder,k=0,f=0;f<d.length;++f){k<d[f].length&&(k=d[f].length);for(var h=0;h<d[f].length;++h)g.append(c[d[f][h]]).appendChar(32);0!=d[f][d[f].length-
1]&&g.append("...");g.append(e).append("    ")}for(var h='Encountered "',l=a.next,f=0;f<k;++f){0!=f&&(h+=" ");if(0==l.kind){h+=c[0];break}h+=" "+c[l.kind];h+=' "';h+=b.com_ibm_vis_template_parser_ParseException.add_escapes(l.image);h+=' "';l=l.next}h+='" at line '+a.next.beginLine+", column "+a.next.beginColumn;h+="."+e;h=1==d.length?h+("Was expecting:"+e+"    "):h+("Was expecting one of:"+e+"    ");return h+=g.toString()};b.com_ibm_vis_template_parser_ParseException.add_escapes=function(a){for(var d=
new b.com_ibm_rave_codegenerator_lang_StringBuilder,c,e=0;e<a.length;++e)switch(a.charCodeAt(e)){case 0:continue;case 8:d.append("\\b");continue;case 9:d.append("\\t");continue;case 10:d.append("\\n");continue;case 12:d.append("\\f");continue;case 13:d.append("\\r");continue;case 34:d.append('\\"');continue;case 39:d.append("\\'");continue;case 92:d.append("\\\\");continue;default:if(32>(c=a.charCodeAt(e))||126<c){var g="0000"+b.com_ibm_rave_codegenerator_lang_Integer.toString(c,16);d.append("\\u"+
g.substring(g.length-4,g.length))}else d.appendChar(c)}return d.toString()};b.com_ibm_vis_template_parser_ParseException.sI_2=b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0);b.com_ibm_vis_exceptions_internal_JSONPathException=b.com_ibm_init_declare(b.com_ibm_vis_exceptions_VisException,{path:"",getMessage:function(){return b.com_ibm_vis_exceptions_VisException.prototype.getMessage.apply(this)+": '"+this.path},setPath:function(a){this.path=a}});b.com_ibm_vis_template_parser_TokenMgrError=b.com_ibm_init_declare(Error,
{errorCode:0,getMessage:function(){return Error.prototype.getMessage.apply(this)},constructor:function(a,b){this.errorCode=b}});b.com_ibm_vis_template_parser_TokenMgrError.addEscapes=function(a){for(var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,c,e=0;e<a.length;++e)switch(a.charCodeAt(e)){case 0:continue;case 8:d.append("\\b");continue;case 9:d.append("\\t");continue;case 10:d.append("\\n");continue;case 12:d.append("\\f");continue;case 13:d.append("\\r");continue;case 34:d.append('\\"');
continue;case 39:d.append("\\'");continue;case 92:d.append("\\\\");continue;default:if(32>(c=a.charCodeAt(e))||126<c){var g="0000"+b.com_ibm_rave_codegenerator_lang_Integer.toString(c,16);d.append("\\u"+g.substring(g.length-4,g.length))}else d.appendChar(c)}return d.toString()};b.com_ibm_vis_template_parser_TokenMgrError.LexicalError=function(a,d,c,e,g,k){return"Lexical error at line "+c+", column "+e+".  Encountered: "+(a?"\x3cEOF\x3e ":'"'+b.com_ibm_vis_template_parser_TokenMgrError.addEscapes(String.CPVisEngineValueOf(k))+
'" ('+k+"), ")+'after : "'+b.com_ibm_vis_template_parser_TokenMgrError.addEscapes(g)+'"'};b.com_ibm_vis_template_parser_TokenMgrError.sI_4=b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0);b.com_ibm_vis_template_parser_TokenMgrError.LEXICAL_ERROR=0;b.com_ibm_vis_template_parser_TokenMgrError.STATIC_LEXER_ERROR=1;b.com_ibm_vis_template_parser_TokenMgrError.INVALID_LEXICAL_STATE=2;b.com_ibm_vis_template_parser_TokenMgrError.LOOP_DETECTED=3;b.com_ibm_vis_template_parser_JSONMatcher=b.com_ibm_init_declare({});
b.com_ibm_vis_template_parser_JSONMatcher.filterNodesByEquals=function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List,g=0;a=a.arrayIterator();for(var k=a.length;g<k;++g){var f=a[g];f.containsValue(d,c)&&e.add(f)}return e};b.com_ibm_vis_template_parser_JSONMatcher.filterNodesByChildExists=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.arrayIterator(),k=g.length;e<k;++e){var f=g[e];f.contains(d)&&c.add(f)}return c};b.com_ibm_vis_template_parser_JSONMatcher.findChildren=
function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)d.addAll(a[c].getChildren());return d};b.com_ibm_vis_template_parser_JSONMatcher.findChildrenInArrays=function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c];g.ne_2?d.addAll(g.ae_1):d.add(g)}return d};b.com_ibm_vis_template_parser_JSONMatcher.filterNodesByPredicateIndex=function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;
if(1==a.size()&&a.get(0).ne_2){var e=a.get(0);c.clear();(e=e.getChildByIndex(d))&&c.add(e)}else a.size()>d&&(e=a.get(d))&&c.add(e);return c};b.com_ibm_vis_template_parser_JSONMatcher.findSingleOrMultipleNodesByName=function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List,g=0;a=a.arrayIterator();for(var k=a.length;g<k;++g){var f=a[g];c?e.addAll(f.findNodes(d)):(f=f.findNode(d))&&e.add(f)}return e};b.com_ibm_vis_template_parser_JSONMatcher.findParents=function(a){var d=new b.com_ibm_rave_codegenerator_util_List,
c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c].pn_1;if(g){var k=g.pn_1;k?d.contains(k)||d.add(k):d.contains(g)||d.add(g)}}return d};b.com_ibm_vis_template_parser_JSONMatcher.addChild=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.arrayIterator(),k=g.length;e<k;++e){var f=g[e];if(f.isArray())for(var h=0,f=f.ae_1.arrayIterator(),l=f.length;h<l;++h){var m=f[h],p=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),p=new b.com_ibm_vis_internal_json_JSONTreeNode(p,
m,d);m.addChild(p);c.add(p)}else p=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),p=new b.com_ibm_vis_internal_json_JSONTreeNode(p,f,d),f.addChild(p),c.add(p)}return c};b.com_ibm_vis_template_parser_JSONMatcher.addAnonymousChildren=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.arrayIterator(),k=g.length;e<k;++e){var f=g[e],h=f.ae_1.size();f.addAnonymousChildren(d+1-h);f.ae_1.size()>d&&c.add(f.ae_1.get(d))}return c};b.com_ibm_vis_template_parser_JSONMatcher.addJSONArrayObject=
function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List,g=0;a=a.arrayIterator();for(var k=a.length;g<k;++g){var f=a[g];if(f.isArray())for(var h=0,l=f.ae_1.arrayIterator(),m=l.length;h<m;++h){var p=l[h],q=b.com_ibm_vis_template_parser_JSONMatcher.cm$1(f,d,c+1);p.addChild(q);e.add(q.ae_1.get(c))}else q=b.com_ibm_vis_template_parser_JSONMatcher.cm$1(f,d,c+1),f.addChild(q),e.add(q.ae_1.get(c))}return e};b.com_ibm_vis_template_parser_JSONMatcher.cm$1=function(a,d,c){var e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();
a=new b.com_ibm_vis_internal_json_JSONTreeNode(e,a,d);a.addAnonymousChildren(c);return a};b.com_ibm_vis_template_parser_Token=b.com_ibm_init_declare({image:null,next:null,specialToken:null,kind:0,beginLine:0,beginColumn:0,endLine:0,endColumn:0,getValue:function(){return null},constructor:function(a,b){null!=b&&(this.kind=a,this.image=b)},toString:function(){return this.image}});b.com_ibm_vis_template_parser_Token.newToken=function(a,d){switch(a){default:return new b.com_ibm_vis_template_parser_Token(a,
d)}};b.com_ibm_vis_template_parser_Token.sI_3=b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0);b.com_ibm_vis_template_parser_SimpleCharStream=b.com_ibm_init_declare({bufline:null,bufcolumn:null,inputStream:null,buffer:null,bufsize:0,available:0,tokenBegin:0,bufpos:-1,column:0,line:1,prevCharIsCR:!1,prevCharIsLF:!1,maxNextCharInd:0,inBuf:0,tabSize:8,setTabSize:function(a){this.tabSize=a},getTabSize:function(a){return this.tabSize},ExpandBuff:function(a){var d=b.com_ibm_rave_codegenerator_lang_Array.create([this.bufsize+
2048],0),c=b.com_ibm_rave_codegenerator_lang_Array.create([this.bufsize+2048],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([this.bufsize+2048],0);try{a?(b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.buffer,this.tokenBegin,d,0,this.bufsize-this.tokenBegin),b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.buffer,0,d,this.bufsize-this.tokenBegin,this.bufpos),this.buffer=d,b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.bufline,this.tokenBegin,c,0,this.bufsize-this.tokenBegin),
b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.bufline,0,c,this.bufsize-this.tokenBegin,this.bufpos),this.bufline=c,b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.bufcolumn,this.tokenBegin,e,0,this.bufsize-this.tokenBegin),b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.bufcolumn,0,e,this.bufsize-this.tokenBegin,this.bufpos),this.bufcolumn=e,this.maxNextCharInd=this.bufpos+=this.bufsize-this.tokenBegin):(b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.buffer,this.tokenBegin,
d,0,this.bufsize-this.tokenBegin),this.buffer=d,b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.bufline,this.tokenBegin,c,0,this.bufsize-this.tokenBegin),this.bufline=c,b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.bufcolumn,this.tokenBegin,e,0,this.bufsize-this.tokenBegin),this.bufcolumn=e,this.maxNextCharInd=this.bufpos-=this.tokenBegin)}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,Error))throw Error(g.getMessage());throw g;}this.available=this.bufsize+=
2048;this.tokenBegin=0},FillBuff:function(){this.maxNextCharInd==this.available&&(this.available==this.bufsize?2048<this.tokenBegin?(this.bufpos=this.maxNextCharInd=0,this.available=this.tokenBegin):0>this.tokenBegin?this.bufpos=this.maxNextCharInd=0:this.ExpandBuff(!1):this.available>this.tokenBegin?this.available=this.bufsize:2048>this.tokenBegin-this.available?this.ExpandBuff(!0):this.available=this.tokenBegin);var a;try{if(-1==(a=this.inputStream.read(this.buffer,this.maxNextCharInd,this.available-
this.maxNextCharInd)))throw this.inputStream.close(),new b.com_ibm_rave_codegenerator_io_WebEngineException;this.maxNextCharInd+=a}catch(d){throw b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_rave_codegenerator_io_WebEngineException)&&(--this.bufpos,this.backup(0),-1==this.tokenBegin&&(this.tokenBegin=this.bufpos)),d;}},BeginToken:function(){this.tokenBegin=-1;var a=this.readChar();this.tokenBegin=this.bufpos;return a},UpdateLineColumn:function(a){this.column++;this.prevCharIsLF?
(this.prevCharIsLF=!1,this.line+=this.column=1):this.prevCharIsCR&&(this.prevCharIsCR=!1,10==a?this.prevCharIsLF=!0:this.line+=this.column=1);switch(a){case 13:this.prevCharIsCR=!0;break;case 10:this.prevCharIsLF=!0;break;case 9:this.column--,this.column+=this.tabSize-this.column%this.tabSize}this.bufline[this.bufpos]=this.line;this.bufcolumn[this.bufpos]=this.column},readChar:function(){if(0<this.inBuf)return--this.inBuf,++this.bufpos==this.bufsize&&(this.bufpos=0),this.buffer[this.bufpos];++this.bufpos>=
this.maxNextCharInd&&this.FillBuff();var a=this.buffer[this.bufpos];this.UpdateLineColumn(a);return a},getColumn:function(){return this.bufcolumn[this.bufpos]},getLine:function(){return this.bufline[this.bufpos]},getEndColumn:function(){return this.bufcolumn[this.bufpos]},getEndLine:function(){return this.bufline[this.bufpos]},getBeginColumn:function(){return this.bufcolumn[this.tokenBegin]},getBeginLine:function(){return this.bufline[this.tokenBegin]},backup:function(a){this.inBuf+=a;0>(this.bufpos-=
a)&&(this.bufpos+=this.bufsize)},constructor:function(a,d,c,e){this.inputStream=a;this.line=d;this.column=c-1;this.available=this.bufsize=e;this.buffer=b.com_ibm_rave_codegenerator_lang_Array.create([e],0);this.bufline=b.com_ibm_rave_codegenerator_lang_Array.create([e],0);this.bufcolumn=b.com_ibm_rave_codegenerator_lang_Array.create([e],0)},ReInit:function(a,d,c,e){this.inputStream=a;this.line=d;this.column=c-1;this.buffer&&e==this.buffer.length||(this.available=this.bufsize=e,this.buffer=b.com_ibm_rave_codegenerator_lang_Array.create([e],
0),this.bufline=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),this.bufcolumn=b.com_ibm_rave_codegenerator_lang_Array.create([e],0));this.prevCharIsLF=this.prevCharIsCR=!1;this.tokenBegin=this.inBuf=this.maxNextCharInd=0;this.bufpos=-1},GetImage:function(){return this.bufpos>=this.tokenBegin?String.copyValueOf(this.buffer,this.tokenBegin,this.bufpos-this.tokenBegin+1):String.copyValueOf(this.buffer,this.tokenBegin,this.bufsize-this.tokenBegin)+String.copyValueOf(this.buffer,0,this.bufpos+1)},
GetSuffix:function(a){var d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);this.bufpos+1>=a?b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.buffer,this.bufpos-a+1,d,0,a):(b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.buffer,this.bufsize-(a-this.bufpos-1),d,0,a-this.bufpos-1),b.com_ibm_rave_codegenerator_lang_System.arraycopy(this.buffer,0,d,a-this.bufpos-1,this.bufpos+1));return d},Done:function(){this.bufcolumn=this.bufline=this.buffer=null},adjustBeginLineColumn:function(a,
b){var c=this.tokenBegin,e;e=this.bufpos>=this.tokenBegin?this.bufpos-this.tokenBegin+this.inBuf+1:this.bufsize-this.tokenBegin+this.bufpos+1+this.inBuf;for(var g=0,k=0,f=0,h=0,l=0;g<e&&this.bufline[k=c%this.bufsize]==this.bufline[f=++c%this.bufsize];)this.bufline[k]=a,h=l+this.bufcolumn[f]-this.bufcolumn[k],this.bufcolumn[k]=b+l,l=h,g++;if(g<e)for(this.bufline[k]=a++,this.bufcolumn[k]=b+l;g++<e;)this.bufline[k=c%this.bufsize]!=this.bufline[++c%this.bufsize]?this.bufline[k]=a++:this.bufline[k]=a;
this.line=this.bufline[k];this.column=this.bufcolumn[k]}});b.com_ibm_vis_template_parser_SimpleCharStream.staticFlag=!1;b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager=b.com_ibm_init_declare(b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants,{input_stream:null,curChar:0,curLexState:0,defaultLexState:0,jjnewStateCnt:0,jjround:0,jjmatchedPos:0,jjmatchedKind:0,constructor:function(){this.jd_1=b.com_ibm_rave_codegenerator_lang_Array.create([5],0);this.je_3=b.com_ibm_rave_codegenerator_lang_Array.create([10],
0);(function(a,d){if(b.com_ibm_vis_template_parser_SimpleCharStream.staticFlag)throw Error("ERROR: Cannot use a static CharStream class with a non-static lexical analyzer.");this.input_stream=a;this.SwitchTo(d)}).apply(this,arguments)},j_$9:function(a,b){switch(a){default:return-1}},j_$10:function(a,b){return this.j_$13(this.j_$9(a,b),a+1)},jo$1:function(a,b){this.jjmatchedKind=b;this.jjmatchedPos=a;return a+1},j_$11:function(){switch(this.curChar){case 10:return this.jo$1(0,2);case 34:return this.jo$1(0,
16);case 40:return this.jo$1(0,3);case 41:return this.jo$1(0,4);case 42:return this.jo$1(0,12);case 46:return this.jjmatchedKind=9,this.j_$12(b.com_ibm_rave_codegenerator_lang_Long.fromBits(1024,0));case 47:return this.jjmatchedKind=7,this.j_$12(b.com_ibm_rave_codegenerator_lang_Long.fromBits(256,0));case 61:return this.jo$1(0,11);case 91:return this.jo$1(0,5);case 93:return this.jo$1(0,6);default:return this.j_$13(1,0)}},j_$12:function(a){try{this.curChar=this.input_stream.readChar()}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,
b.com_ibm_rave_codegenerator_io_WebEngineException))return this.j_$9(0,a),1;throw d;}switch(this.curChar){case 46:if(a.and(b.com_ibm_rave_codegenerator_lang_Long.fromBits(1024,0)).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0)))return this.jo$1(1,10);break;case 47:if(a.and(b.com_ibm_rave_codegenerator_lang_Long.fromBits(256,0)).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0)))return this.jo$1(1,8)}return this.j_$10(0,a)},j_$13:function(a,d){var c=0;this.jjnewStateCnt=
5;var e=1;this.je_3[0]=a;for(var g=2147483647;;){2147483647==++this.jjround&&this.Rd$1();if(64>this.curChar){var k=b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.curChar);do switch(this.je_3[--e]){case 1:b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,67051536).and(k).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0))?(15<g&&(g=15),this.jd$1(4)):b.com_ibm_rave_codegenerator_lang_Long.fromBits(9216,0).and(k).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,
0))&&14<g&&(g=14);b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,67043328).and(k).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0))?(13<g&&(g=13),this.jd$1(0)):13==this.curChar&&(this.je_3[this.jjnewStateCnt++]=2);break;case 0:if(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,67043328).and(k).equals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0)))break;13<g&&(g=13);this.jd$1(0);break;case 2:10==this.curChar&&14<g&&(g=14);break;case 3:13==this.curChar&&(this.je_3[this.jjnewStateCnt++]=
2);break;case 4:if(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,67051536).and(k).equals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0)))break;15<g&&(g=15);this.jd$1(4)}while(e!=c)}else if(128>this.curChar){k=b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.curChar&63);do switch(this.je_3[--e]){case 1:case 4:if(b.com_ibm_rave_codegenerator_lang_Long.fromBits(-2013265922,134217726).and(k).equals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0)))break;g=15;this.jd$1(4)}while(e!=
c)}else{b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.curChar&63);do--e;while(e!=c)}2147483647!=g&&(this.jjmatchedKind=g,this.jjmatchedPos=d,g=2147483647);++d;if((e=this.jjnewStateCnt)==(c=5-(this.jjnewStateCnt=c)))return d;try{this.curChar=this.input_stream.readChar()}catch(f){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_rave_codegenerator_io_WebEngineException))return d;throw f;}}},j_$14:function(a,b){switch(a){default:return-1}},j_$15:function(a,b){return this.j_$18(this.j_$14(a,
b),a+1)},j_$16:function(){switch(this.curChar){case 92:return this.j_$17(b.com_ibm_rave_codegenerator_lang_Long.fromBits(262144,0));default:return this.j_$18(0,0)}},j_$17:function(a){try{this.curChar=this.input_stream.readChar()}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_rave_codegenerator_io_WebEngineException))return this.j_$14(0,a),1;throw d;}switch(this.curChar){case 34:if(a.and(b.com_ibm_rave_codegenerator_lang_Long.fromBits(262144,0)).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,
0)))return this.jo$1(1,18)}return this.j_$15(0,a)},j_$18:function(a,d){var c=0,e=this.jjnewStateCnt=1;this.je_3[0]=a;for(var g=2147483647;;){2147483647==++this.jjround&&this.Rd$1();if(64>this.curChar){b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.curChar);do switch(this.je_3[--e]){case 0:34==this.curChar&&(g=17)}while(e!=c)}else{b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.curChar&63);do--e;while(e!=c)}2147483647!=g&&(this.jjmatchedKind=g,this.jjmatchedPos=
d,g=2147483647);++d;if((e=this.jjnewStateCnt)==(c=1-(this.jjnewStateCnt=c)))return d;try{this.curChar=this.input_stream.readChar()}catch(k){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(k,b.com_ibm_rave_codegenerator_io_WebEngineException))return d;throw k;}}},Rd$1:function(){var a;this.jjround=2147483649;for(a=5;0<a--;)this.jd_1[a]=2147483648},ReInit:function(a,b){this.jjmatchedPos=this.jjnewStateCnt=0;this.curLexState=this.defaultLexState;this.input_stream=a;this.Rd$1();this.SwitchTo(b)},
SwitchTo:function(a){if(2<=a||0>a)throw new b.com_ibm_vis_template_parser_TokenMgrError("Error: Ignoring invalid lexical state : "+a+". State unchanged.",2);this.curLexState=a},jjFillToken:function(){var a,d,c,e,g;d=b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjstrLiteralImages[this.jjmatchedKind];a=null==d?this.input_stream.GetImage():d;d=this.input_stream.getBeginLine();e=this.input_stream.getBeginColumn();c=this.input_stream.getEndLine();g=this.input_stream.getEndColumn();
a=b.com_ibm_vis_template_parser_Token.newToken(this.jjmatchedKind,a);a.beginLine=d;a.endLine=c;a.beginColumn=e;a.endColumn=g;return a},getNextToken:function(){var a;a=0;for(;;){try{this.curChar=this.input_stream.BeginToken()}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_rave_codegenerator_io_WebEngineException))return this.jjmatchedKind=0,a=this.jjFillToken();throw d;}switch(this.curLexState){case 0:try{for(this.input_stream.backup(0);32>=this.curChar&&b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,
1).and(b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.curChar)).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0));)this.curChar=this.input_stream.BeginToken()}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_rave_codegenerator_io_WebEngineException))continue;else throw c;}this.jjmatchedKind=2147483647;this.jjmatchedPos=0;a=this.j_$11();break;case 1:this.jjmatchedKind=2147483647,this.jjmatchedPos=0,a=this.j_$16(),0==this.jjmatchedPos&&
19<this.jjmatchedKind&&(this.jjmatchedKind=19)}if(2147483647!=this.jjmatchedKind){this.jjmatchedPos+1<a&&this.input_stream.backup(a-this.jjmatchedPos-1);if(b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjtoToken[this.jjmatchedKind>>6].and(b.com_ibm_rave_codegenerator_lang_Long.fromBits(1,0).shiftLeft(this.jjmatchedKind&63)).notEquals(b.com_ibm_rave_codegenerator_lang_Long.fromBits(0,0)))return a=this.jjFillToken(),-1!=b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjnewLexState[this.jjmatchedKind]&&
(this.curLexState=b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjnewLexState[this.jjmatchedKind]),a;-1!=b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjnewLexState[this.jjmatchedKind]&&(this.curLexState=b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjnewLexState[this.jjmatchedKind])}else{var e=this.input_stream.getEndLine(),g=this.input_stream.getEndColumn(),k=null,f=!1;try{this.input_stream.readChar(),this.input_stream.backup(1)}catch(h){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,
b.com_ibm_rave_codegenerator_io_WebEngineException))f=!0,k=1>=a?"":this.input_stream.GetImage(),10==this.curChar||13==this.curChar?(e++,g=0):g++;else throw h;}f||(this.input_stream.backup(1),k=1>=a?"":this.input_stream.GetImage());throw new b.com_ibm_vis_template_parser_TokenMgrError(b.com_ibm_vis_template_parser_TokenMgrError.LexicalError(f,this.curLexState,e,g,k,this.curChar),0);}}},jd$1:function(a){this.jd_1[a]!=this.jjround&&(this.je_3[this.jjnewStateCnt++]=a,this.jd_1[a]=this.jjround)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjnextStates=
[];b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjstrLiteralImages=["",null,null,"(",")","[","]","/","//",".","..","\x3d","*",null,null,null,'"',null,'\\"',null];b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.lexStateNames=["DEFAULT","QUOTED_STRING_STATE"];b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjnewLexState=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,-1,-1];b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjtoToken=
[b.com_ibm_rave_codegenerator_lang_Long.fromBits(1048569,0)];b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager.jjtoSkip=[b.com_ibm_rave_codegenerator_lang_Long.fromBits(6,0)]});b.com_ibm_vis_template_ParameterResolveOrderComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){return null!=a.re_5&&null!=b.re_5?a.re_5-b.re_5:null==a.re_5&&null==b.re_5?a.ie_3-b.ie_3:null==a.re_5?1:-1}});b.com_ibm_vis_template_Template=b.com_ibm_init_declare({sr_1:"parameters",
se_19:"parameterValues",constructor:function(a,d){if(d)this.tp_1=d;else try{this.tp_1=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a)}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException(null,b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,a);throw c;}if(this.pr_5=this.tp_1[this.sr_1]){var e=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(this.pr_5);
this.pa_2=new b.com_ibm_rave_codegenerator_util_Map(b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(this.pr_5));this.ps_1=new b.com_ibm_rave_codegenerator_util_List;for(var g=0;g<e;++g){var k=b.com_ibm_vis_template_internal_TemplateFactory.createParameter(this.pr_5[g]);this.pa_2.put(k.id,k);k.ie_3=g;this.ps_1.add(k)}}if(k=this.tp_1[this.se_19])for(var e=0,g=b.com_ibm_vis_template_internal_TemplateFactory.createParameterValues(k).arrayIterator(),f=g.length;e<f;++e){var h=g[e];(k=this.getParameter(h.id))&&
k.setValue(h.vu_8)}b.com_ibm_rave_codegenerator_util_BasicFactory.remove(this.tp_1,this.sr_1);b.com_ibm_rave_codegenerator_util_BasicFactory.remove(this.tp_1,this.se_19)},constructor:function(a){try{this.tp_1=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a)}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException(null,b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,a);
throw d;}if(this.pr_5=this.tp_1[this.sr_1]){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(this.pr_5);this.pa_2=new b.com_ibm_rave_codegenerator_util_Map(b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(this.pr_5));this.ps_1=new b.com_ibm_rave_codegenerator_util_List;for(var e=0;e<c;++e)a=b.com_ibm_vis_template_internal_TemplateFactory.createParameter(this.pr_5[e]),this.pa_2.put(a.id,a),a.ie_3=e,this.ps_1.add(a)}if(a=this.tp_1[this.se_19])for(var c=0,e=b.com_ibm_vis_template_internal_TemplateFactory.createParameterValues(a).arrayIterator(),
g=e.length;c<g;++c){var k=e[c];(a=this.getParameter(k.id))&&a.setValue(k.vu_8)}b.com_ibm_rave_codegenerator_util_BasicFactory.remove(this.tp_1,this.sr_1);b.com_ibm_rave_codegenerator_util_BasicFactory.remove(this.tp_1,this.se_19)},canBeResolved:function(){if(this.pa_2)for(var a=0,b=this.pa_2.values().arrayIterator(),c=b.length;a<c;++a){var e=b[a];if(e.re_3&&!e.hasValue())return!1}return!0},resolve:function(){var a;try{a=b.com_ibm_rave_codegenerator_util_BasicFactory.serialize(this.resolveToJSON())}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,
b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException(null,b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL);throw d;}return a},resolveToJSON:function(){if(!this.canBeResolved())throw new b.com_ibm_vis_exceptions_internal_EngineException(null,b.com_ibm_vis_exceptions_ErrorCode.TEMPLATE_CANNOT_BE_RESOLVED);var a=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(this.tp_1),d=new b.com_ibm_vis_template_parser_JSONPathParser(a);if(this.pa_2){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.ps_1,
new b.com_ibm_vis_template_ParameterResolveOrderComparator);for(var c=0,e=this.ps_1.arrayIterator(),g=e.length;c<g;++c)e[c].resolve(d,this.pa_2)}d=this.validate(a);if(!d.isOK())throw new b.com_ibm_vis_exceptions_internal_SchemaValidationException(b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,null,d);return a},hasParameters:function(){return this.pr_5?0<b.com_ibm_rave_codegenerator_util_BasicFactory.getJSONArraySize(this.pr_5):!1},getParameters:function(){return this.pa_2?this.pa_2.values():null},
getParameterIds:function(){if(this.pa_2&&0<this.pa_2.size()){var a=this.pa_2.keySet();return a.toArray(Array(a.size()))}return null},getParameter:function(a){return this.pa_2?this.pa_2.get(a):null},setParameterValue:function(a,d){var c=this.pa_2.get(a);if(!c)throw new b.com_ibm_vis_exceptions_internal_EngineException(null,b.com_ibm_vis_exceptions_ErrorCode.PARAMETER_NOT_FOUND,a);c.setValue(d)},validate:function(a){b.com_ibm_init_requireSync("com/ibm/vis/layers/migrationLayer");return b.com_ibm_vis_internal_json_SpecValidator.validate(a)},
getTempl:function(){return this.tp_1}});b.com_ibm_vis_template_Template.createTemplateFromString=function(a){return new b.com_ibm_vis_template_Template(a,null)};b.com_ibm_vis_template_Template.createTemplateFromJSON=function(a){return new b.com_ibm_vis_template_Template(null,a)};b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/resourceHandlingLayer",function(){b.com_ibm_vis_engine_internal_nativeImpl_dataHandler_DataProviderUtil={splitCsvLine:function(a){a=
a.match(/([^\"\',]*((\'[^\']*\')|(\"[^\"]*\"))*)+/gm);for(var b=Math.round(a.length/2),c=Array(b),e=0;e<b;e++)c[e]=a[2*e];return c}};b.com_ibm_vis_engine_internal_extension_RAVEExtensionFactory=b.com_ibm_init_declare({getExtensionsSupported:function(){var a=this.getExtensionNames();return new b.com_ibm_rave_codegenerator_util_List(a)},supportsExtension:function(a){return this.getExtensionNames().contains(a)},createExtension:function(a){var b=this.makeExtension(a);return b?b:this.ne$1(a)},ne$1:function(a){if(!this.supportsExtension(a))throw new b.com_ibm_vis_exceptions_internal_EngineException("Extension Point '"+
a+" not supported",b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_SUPPORTED);return null}});b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_RAVEExtensionFactory,{makeExtension:function(a){return"http"==a?new b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_HttpURIHandler:"https"==a?new b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_HttpsURIHandler:"file"==a?new b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_FileURIHandler:
null},getExtensionNames:function(){b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory.en_6||(b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory.en_6=new b.com_ibm_rave_codegenerator_util_List,b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory.en_6.add("http"),b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory.en_6.add("https"),b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory.en_6.add("file"));
return b.com_ibm_vis_engine_internal_resource_uriHandlers_ResourceURIHandlerFactory.en_6}});b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_engine_internal_extension_RAVEExtension=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_resource_ResourceContentHandler=b.com_ibm_init_declare.implement(b.com_ibm_vis_engine_internal_extension_RAVEExtension);b.com_ibm_vis_engine_internal_resource_INativeResource=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_resource_BinaryNativeResource=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_INativeResource,{constructor:function(a,b,c){this.type=a;this.en_1=b;this.data=c},getData:function(){return this.data}});b.com_ibm_vis_engine_internal_resource_GraphicNativeResource=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_BinaryNativeResource,{width:0,height:0,blocked:!1,failed:!1,constructor:function(a,b,c,e){this.pathName=e;this.failed=!1},setImageName:function(a){this.imageName=a},getPathName:function(){return this.pathName},
getData:function(){return this.image},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(a){},setHeight:function(a){},isBlocked:function(){return this.blocked},handlesCallback:function(){return!1},addImageStyle:function(a){},setImageInText:function(){}});b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImpl=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_GraphicNativeResource,{imageStyles:null,constructor:function(a,
d,c,e){this.image=new Image;this.pathName=e;a=S.hitch(this,this.loadCallback);d=S.hitch(this,this.failCallback);this.blocked=!0;this.image.onload=a;this.image.onerror=d;this.image.onabort=d;this.currentVis=b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImageSupport.currentVisControl;this.resourceImageSupport=this.currentVis.resourceImageSupport;this.resourceImageSupport.imageLoadCount++;this.image.src=e;this.blocked=!this.image.complete},loadCallback:function(){this.blocked=
!1;this.repositionImage()||this.resourceImageSupport.addRedrawImage(this);this.resourceImageSupport.removeImageLoadingCount()&&this.currentVis.getSceneTree()&&this.resourceImageSupport.redrawImages(this.currentVis)},repositionImage:function(){if(null==this.imageStyles)return!0;if(this.imageStyles&&this.currentVis.getSceneTree()){for(var a=0;a<this.imageStyles.length;a++){var b=this.imageStyles[a].repositionImage(this.currentVis.getSceneTree());this.currentVis.getDirtyNodeManager().modifyNode(b)}return this.resourceImageSupport.redrawRequired=
!0}return!1},handlesCallback:function(){return!0},addImageStyle:function(a){null==this.imageStyles&&(this.imageStyles=[]);this.imageStyles.push(a)},setImageInText:function(){this.resourceImageSupport.fullRespecRequired=!0},failCallback:function(){this.blocked=!1;this.failed=!0;this.resourceImageSupport.removeImageLoadingCount()},isBlocked:function(){if(this.image.complete||0<this.image.height&&0<this.image.width)this.blocked=!1;this.blocked||(this.width=this.image.width,this.height=this.image.height,
0!=this.width&&0!=this.height)||(this.blocked=!0);return this.blocked},setWidth:function(a){this.width=a},setHeight:function(a){this.height=a}});b.com_ibm_vis_engine_internal_resource_TextNativeResource=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_INativeResource,{constructor:function(a,b,c){this.type=a;this.en_5=b;this.data=c},getData:function(){null==this.st_7&&this.data&&(this.en_5=null!=this.en_5?this.en_5:"utf-8",this.st_7=b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler.convertByteArrayToString(this.data,
this.en_5));return this.st_7},setStringData:function(a){this.st_7=a}});b.com_ibm_vis_engine_internal_resource_TextNativeResource.DN_1="utf-8";b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_ResourceContentHandler,{TEXT_RESOURCE:"text",BINARY_RESOURCE:"binary",GRAPHIC_RESOURCE:"graphic",getTextResource:function(a){this.resourceType=this.TEXT_RESOURCE;return this.getResource(a,this.resourceType)},getBinaryResource:function(a){this.resourceType=
this.BINARY_RESOURCE;return this.getResource(a,this.resourceType)},getGraphicResource:function(a){this.resourceType=this.GRAPHIC_RESOURCE;return this.getResource(a,this.resourceType)},getResource:function(a,b){var c=this.resolveToURI(a);return this.isValidURI(c,this.getProtocol())?this.getResourceFromURI(c,b):null},isValidURI:function(a,d){if(null==a||0==a.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Path for external resource cannot be null",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);
if(null!=d&&-1<a.indexOf(":")&&a.substring(0,a.indexOf(":"))!=d)throw new b.com_ibm_vis_exceptions_internal_EngineException("URL should start with '"+d+"'",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);return!0},getResourceFromURI:function(a,d){var c=null;if(this.GRAPHIC_RESOURCE!=d){var e=!1;b.com_ibm_init_xhr.get({url:a,sync:!0,load:function(a){c=a},error:function(){e=!0}});if(e)throw new b.com_ibm_vis_exceptions_internal_EngineException("Could not connect to given URL: '"+a+"'",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);
}return this.makeNativeResource(null,null,c,d,a)},getGraphicResourceFromUri:function(a,b){return this.makeNativeResource(null,null,null,b,a)},makeNativeResource:function(a,d,c,e,g){var k=null;return k=this.TEXT_RESOURCE==e?new b.com_ibm_vis_engine_internal_resource_TextNativeResource(a,d,c):this.GRAPHIC_RESOURCE==e?new b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_GraphicNativeResourceImpl(a,d,c,g):new b.com_ibm_vis_engine_internal_resource_BinaryNativeResource(a,d,c)},resolveToURI:function(a){return a},
getResourceType:function(){return this.resourceType}});b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler.getDefaultURIType=function(){return"http"};b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler.convertByteArrayToString=function(a,b){return a};b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_HttpURIHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler,{getProtocol:function(){return"http"}});b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_HttpsURIHandler=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler,{getProtocol:function(){return"https"}});b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_FileURIHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler,{getProtocol:function(){return"file"}});b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_RAVEExtensionFactory,{makeExtension:function(a){return"graphic"==
a?new b.com_ibm_vis_engine_internal_resource_format_GraphicFormatHandler:"csv"==a?new b.com_ibm_vis_engine_internal_resource_format_CsvFormatHandler:"json"==a?new b.com_ibm_vis_engine_internal_resource_format_JsonFormatHandler:null},getExtensionNames:function(){b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory.en_4||(b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory.en_4=new b.com_ibm_rave_codegenerator_util_List,b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory.en_4.add("graphic"),
b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory.en_4.add("json"),b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory.en_4.add("csv"));return b.com_ibm_vis_engine_internal_resource_format_ResourceFormatHandlerFactory.en_4}});b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_engine_internal_resource_ResourceFormatHandler=b.com_ibm_init_declare.implement(b.com_ibm_vis_engine_internal_extension_RAVEExtension);b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_ResourceFormatHandler,{getFormattedData:function(){this.cc$3();return this.getData()},getFormatType:function(){return this.fa_2},setFormatType:function(a){this.fa_2=a},cc$3:function(){if(!this.nativeObj)throw new b.com_ibm_vis_exceptions_internal_EngineException("No Native Resource set on the ResourceFormatHandler instance",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_RES_NATIVERES_NOT_SET);}});b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_JSON=
"json";b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_JPG="jpg";b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_JPEG="jpeg";b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_PNG="png";b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_BMP="bmp";b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_GIF="gif";b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler.RESOURCE_FORMAT_CSV=
"csv";b.com_ibm_vis_engine_internal_resource_format_GraphicFormatHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler,{getData:function(){return this.nativeObj},setNativeResource:function(a){this.nativeObj=a;a=this.nativeObj.getPathName();a=a.toLowerCase();a.CPVISEngineEndsWith("jpeg")||a.CPVISEngineEndsWith("jpg")?this.fa_2="jpg":a.CPVISEngineEndsWith("png")?this.fa_2="png":a.CPVISEngineEndsWith("bmp")?this.fa_2="bmp":a.CPVISEngineEndsWith("gif")&&(this.fa_2=
"gif")}});b.com_ibm_vis_engine_internal_resource_format_CsvFormatHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler,{de_3:44,constructor:function(){this.fa_2="csv"},ps$3:function(a){if(null==a)this.ct_2=null;else{a=a.split("\n");for(var d=Array(a.length),c=0,e=0,g=0;g<a.length;++g){var k=a[g],k=k.CPVISEngineTrim();if(""!=k&&0!=k.length&&!k.CPVISEngineStartsWith("#")){k=b.com_ibm_vis_engine_internal_nativeImpl_dataHandler_DataProviderUtil.splitCsvLine(k);
if(0!=e&&e!=k.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("all rows on csv file do not have same number of columns",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);e=k.length;d[c]=Array(k.length);for(var f=0;f<k.length;++f)k[f]=k[f].CPVISEngineTrim(),1<k[f].length&&34==k[f].charCodeAt(0)&&34==k[f].charCodeAt(k[f].length-1)&&(k[f]=k[f].substring(1,k[f].length-1)),d[c][f]=k[f];c++}}this.ct_2=Array(c);for(g=0;g<c;++g)for(this.ct_2[g]=Array(e),f=0;f<e;++f)this.ct_2[g][f]=
d[g][f]}},getData:function(){return this.ct_2},setNativeResource:function(a){this.nativeObj=a;a=this.nativeObj.getData();if(null==a||b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))this.ps$3(a);else throw new b.com_ibm_vis_exceptions_internal_EngineException("CSVFormatHandler can handle only String input",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);}});b.com_ibm_vis_engine_internal_resource_format_CsvFormatHandler.hash="#";b.com_ibm_vis_engine_internal_resource_format_JsonFormatHandler=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_format_AbstractFormatHandler,{constructor:function(){this.fa_2="json"},getData:function(){return this.jObj},setNativeResource:function(a){this.nativeObj=a;a=this.nativeObj.getData();if(null==a||b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))this.jObj=b.com_ibm_vis_engine_internal_resource_format_JsonFormatHandler.mc$1(a);else throw new b.com_ibm_vis_exceptions_internal_EngineException("JSONFormatHandler can handle only String input",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);}});b.com_ibm_vis_engine_internal_resource_format_JsonFormatHandler.mc$1=function(a){try{return b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a)}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_EngineException("Error parsing GeoJSON.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);throw d;}};b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_RAVEExtensionFactory,{getExtensionNames:function(){b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory.en_3||(b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory.en_3=new b.com_ibm_rave_codegenerator_util_List,b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory.en_3.add("geo"),b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory.en_3.add("image"),
b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory.en_3.add("data"));return b.com_ibm_vis_engine_internal_resource_content_ResourceContentHandlerFactory.en_3},makeExtension:function(a){return"geo"==a?new b.com_ibm_vis_engine_internal_resource_content_GeoDataContentHandler:"image"==a?new b.com_ibm_vis_engine_internal_resource_content_ImageContentHandler:"data"==a?new b.com_ibm_vis_engine_internal_resource_content_DataContentHandler:null}});b.com_ibm_init_statics.add(function(){});
b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_ResourceContentHandler,{getContent:function(){this.checkFormatHandler();return this.getResourceContent()},getType:function(){return this.type},getEncoding:function(){return this.en_2},getFormatHandler:function(){return this.formatHandler},setType:function(a){this.type=a},setEncoding:function(a){this.en_2=a},setFormatHandler:function(a){this.formatHandler=a},checkFormatHandler:function(){if(!this.formatHandler)throw new b.com_ibm_vis_exceptions_internal_EngineException("No ResourceFormatHandler set on the ResourceContentHandler instance",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_RES_FMT_HANDLER_NOT_SET);}});b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler.RESOURCE_TYPE_GEODATA="geodata";b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler.RESOURCE_TYPE_IMAGE="image";b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler.RESOURCE_TYPE_DATA="data";b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler.RESOURCE_ENCODING_TEXT="text";b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler.RESOURCE_ENCODING_BINARY=
"binary";b.com_ibm_vis_engine_internal_resource_content_GeoDataContentHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler,{constructor:function(){this.type="geodata";this.en_2="text"},validate:function(){return!0},getResourceContent:function(){return this.jObj=this.formatHandler.getFormattedData()}});b.com_ibm_vis_engine_internal_resource_content_ImageContentHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler,
{constructor:function(){this.type="image";this.en_2="binary"},validate:function(){return!0},getResourceContent:function(){return this.formatHandler.getFormattedData()}});b.com_ibm_vis_engine_internal_resource_content_DataContentHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_resource_content_AbstractContentHandler,{constructor:function(){this.type="data";this.en_2="text"},validate:function(){return!0},getResourceContent:function(){return this.data=this.formatHandler.getFormattedData()}});
b.com_ibm_vis_engine_internal_resource_uriHandlers_EmbeddedDataURIHandler=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_nativeImpl_uriHandlers_AbstractURIHandler,{getProtocol:function(){return"embedded"},setCurrentSpec:function(a){this.re_6=a?a.resource:null},getResource:function(a,d){var c=this.rt$1(a);if(null!=c&&"text"==d){var e=new b.com_ibm_vis_engine_internal_resource_TextNativeResource(null,null,null);e.setStringData(c);return e}return null},rt$1:function(a){if(!this.re_6)return null;
a=b.com_ibm_vis_engine_internal_resource_uriHandlers_EmbeddedDataURIHandler.er$1(a);if(null!=a)for(var d=0,c=this.re_6,e=c.length;d<e;++d){var g=c[d];if(a==g.id&&null!=g.embeddedData)return g.embeddedData}return null}});b.com_ibm_vis_engine_internal_resource_uriHandlers_EmbeddedDataURIHandler.er$1=function(a){if(null==a||45>a.length)return null;a=a.substring(29);var b=a.indexOfCharCode(34);return a.substring(0,b)};b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/mapLayer",
function(){b.com_ibm_vis_interaction_internal_osmmap_MapCoords=b.com_ibm_init_declare({ma_6:0,ma_5:0,mn_8:0,mn_7:0,modifyForOutRanges:function(a,d){var c=Math.abs(this.ma_5-this.ma_6),e=Math.abs(this.mn_7-this.mn_8);this.ma_6+=c*(0-a.min)/a.range;this.ma_5-=c*(a.max-1)/a.range;this.mn_8+=e*(0-d.min)/d.range;this.mn_7-=e*(d.max-1)/d.range;this.ma_6=b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.ma_6);this.ma_5=b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.ma_5);this.mn_8=b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.mn_8);
this.ma_6=b.com_ibm_vis_engine_internal_util_MathUtil.r3(this.ma_6)},getMinLat:function(){return this.ma_6},getMaxLat:function(){return this.ma_5},getMinLong:function(){return this.mn_8},getMaxLong:function(){return this.mn_7},setMinLat:function(a){this.ma_6=a},setMaxLat:function(a){this.ma_5=a},setMinLong:function(a){this.mn_8=a},setMaxLong:function(a){this.mn_7=a},getCenterLat:function(){return this.ma_6+(this.ma_5-this.ma_6)/2},getCenterLong:function(){return this.mn_8+(this.mn_7-this.mn_8)/2},
getLatRange:function(){return new b.com_ibm_vis_engine_internal_data_Range(this.ma_6,this.ma_5)},getLongRange:function(){return new b.com_ibm_vis_engine_internal_data_Range(this.mn_8,this.mn_7)}});b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper=b.com_ibm_init_declare({});b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarIndexOfCustomElement=function(a){var b=0,c=0;a=a.ga_5;for(var e=a.length;c<e;++c){for(var g=0,k=a[c].elements,f=k.length;g<f;++g)if("custom"==k[g].type)return b;
b++}return-2147483648};b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getMapBoundsFromScale=function(a){if(2!=a.coordinates.scales.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("The grammar with the custom element must have 2 and only 2 dimension.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);var d=a.coordinates.scales[0],c=a.coordinates.scales[1],e=new b.com_ibm_vis_interaction_internal_osmmap_MapCoords;e.ma_6=d.spans.get(0).getAdjustedInputRange().min;e.ma_5=
d.spans.get(0).getAdjustedInputRange().max;e.mn_8=c.spans.get(0).getAdjustedInputRange().min;e.mn_7=c.spans.get(0).getAdjustedInputRange().max;e.modifyForOutRanges(b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.gg$10(a,0),b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.gg$10(a,1));return e};b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarDataBounds=function(a){var d=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarIndexOfCustomElement(a);if(-2147483648==
d)throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot show a geo map without a custom element",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);return b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getMapBoundsFromScale(a.ga_5[d])};b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.gg$10=function(a,b){return a.coordinates.scales[b].spans.get(0).finalOutRange};b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.CO_5="custom";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE=
new b.com_ibm_vis_engine_internal_data_Range(-80,80);b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LONG_RANGE=new b.com_ibm_vis_engine_internal_data_Range(-180,180)});b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController=b.com_ibm_init_declare({constructor:function(a){this.le_62=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);this.le_63=b.com_ibm_rave_codegenerator_lang_Array.create([a],0);b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ie$57(this.le_63,b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LONG_RANGE.range);
b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ie$57(this.le_62,b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.range)},computeZoomLevel:function(a){var d=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarDataBounds(a);a=new b.com_ibm_vis_engine_internal_data_Range(d.ma_6,d.ma_5);d=new b.com_ibm_vis_engine_internal_data_Range(d.mn_8,d.mn_7);d=this.computeZoomLevelFromLatLongRanges(a.range,d.range);a=d[0];d=d[1];return a>d?a:d},computeZoomLevelFromLatLongRanges:function(a,
d){var c=b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ge$67(a,this.le_62),e=b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ge$67(d,this.le_63);return[c,e]},getZoomHops:function(a,d,c,e){if(d==c)return[0,0];d=d>c;var g=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarDataBounds(a),k=g.ma_5-g.ma_6;a=g.mn_7-g.mn_8;var f=e[0][1]-e[0][0];e=e[1][1]-e[1][0];var h=this.le_62[c];c=this.le_63[c];var l=0,m=0,p=l;if(d&&h>k||!d&&h<k)if(k=f/k*h,p=l=Math.abs(f-k)/
2,d&&(f=b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ga$18(!0,g.ma_6,g.ma_5,h),f[0]<b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min||f[1]>b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max))f=b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ge$68(f[0],f[1]),p=Math.abs(f[0]-g.ma_6),p*=k/h,g=Math.abs(f[1]-g.ma_5),l=k/h*g;if(d&&c>a||!d&&c<a)m=Math.abs(e-e/a*c)/2;return[p,l,m,m]},validateVerticalPanning:function(a,d,c){if(0==d[0])return d;
a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarDataBounds(a);var e=a.ma_5-a.ma_6;c=c[0][1]-c[0][0];var g=0,k=!1,f=e/c*d[0];0<f?a.ma_5+f>b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max&&(g=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max-a.ma_5,k=!0):a.ma_6+f<b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min&&(g=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min-a.ma_6,k=!0);k&&(d[0]=c/e*g);return d},
clampPanningAfterZoomIn:function(a,d,c,e){a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarDataBounds(a);c=c[0][1]-c[0][0];d=(a.ma_5-a.ma_6)/(d[0][1]-d[0][0])*c;a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ga$18(!0,a.ma_6,a.ma_5,d);var g=d/c*e,k=0,f=!1;0<g?a[1]+g>b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max&&(k=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max-a[1],f=!0):0>g&&a[0]+g<b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min&&
(k=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min-a[0],f=!0);f&&(e=c/d*k);return e}});b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ie$57=function(a,b){for(var c=0;c<a.length;++c)a[c]=b*Math.pow(.5,c)};b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ge$67=function(a,b){if(b[0]<a)return 0;for(var c=0;c<b.length;++c)if(b[c]<a)return a-b[c]<b[c-1]-a?c:c-1;return b[b.length-1]>a?b.length-1:-1};b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ga$18=
function(a,b,c,e){var g=0,k=0;a?(e-=c-b,g=b-e/2,k=c+e/2):(e=c-b-e,g=b+e/2,k=c-e/2);return[g,k]};b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController.ge$68=function(a,d){if(a<b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min){var c=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min-a;d+c<=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max?(a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min,d+=c):(a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min,
d=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max)}else d>b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max&&(c=d-b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max,a-c>=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min?(a-=c,d-=c):(a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.min,d=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.max));return[a,d]};b.com_ibm_vis_internal_MapControlsWidget=
U([fa,ma,C],{templateString:'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"MapControlsDiv"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d\'selector\'\r\n\t\tstyle\x3d"position: relative; height: 300px; width: 120px; top: 20px"\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_north\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 40px; height: 18px; top: 5%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_west\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 10px; height: 18px; top: 15%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_east\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 70px; height: 18px; top: 15%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_center\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 40px; height: 18px; top: 15%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_south\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 40px; height: 18px; top: 25%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_plus\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 40px; height: 18px; top: 35%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d\'button_minus\'\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; width: 18px; left: 40px; height: 18px; top: 80%; no-repeat center center"\r\n\t\t\tonmousedown\x3d"event.preventDefault()"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-type\x3d"dijit.form.VerticalSlider"\r\n\t\t\tdata-dojo-props\x3d"value:0, minimum:0, maximum:10, discreteValues:11, intermediateChanges:false, showButtons:false"\r\n\t\t\tstyle\x3d"z-index: 3; position: absolute; left: 47px; height: 123px; top: 40%;"\r\n\t\t\tdata-dojo-attach-point\x3d"vertical_slider"\x3e\x3c/div\x3e\r\n\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
currentZoomLevel:0,updateZoom:!0,prevSliderValue:0,initialZoomLevel:0,TOTAL_SLIDER_LEVELS:10,constructor:function(){this.zoomLevelController=new b.com_ibm_vis_interaction_internal_osmmap_OSMMapZoomController(this.TOTAL_SLIDER_LEVELS)},startup:function(){this.init()},setZoomLevel:function(a){this.vertical_slider.set("value",a,!1)},getZoomLevel:function(){return this.currentZoomLevel},moveUpSliderByOneTickWithoutZoomIn:function(){10>this.currentZoomLevel&&(updateZoom=!1,this.setZoomLevel(this.currentZoomLevel+
1),updateZoom=!0)},moveDownSliderByOneTickWithoutZoomOut:function(){0<this.currentZoomLevel&&(updateZoom=!1,this.setZoomLevel(this.currentZoomLevel-1),updateZoom=!0)},setMapInteractivity:function(a){this.mapInteractivity=a;this.vis=this.mapInteractivity.getVis();this.mapInteractivity.isSpecChanged()?(this.mapInteractivity.setZoomController(this.zoomLevelController),this.currentZoomLevel=this.initialZoomLevel=this.zoomLevelController.computeZoomLevel(this.vis),this.mapInteractivity.setCurrentZoomLevel(this.currentZoomLevel),
this.mapInteractivity.setInitialZoomLevel(this.initialZoomLevel),this.mapInteractivity.setMaxZoomLevel(this.TOTAL_SLIDER_LEVELS-1),this.mapInteractivity.setMinZoomLevel(0)):this.currentZoomLevel=this.mapInteractivity.getCurrentZoomLevel();this.updateZoom=!1;this.vertical_slider.set("value",this.currentZoomLevel,!1);this.updateZoom=!0},recomputeZoomLevel:function(){this.currentZoomLevel=this.zoomLevelController.computeZoomLevel(this.vis);this.mapInteractivity.setCurrentZoomLevel(this.currentZoomLevel);
this.updateZoom=!1;this.vertical_slider.set("value",this.currentZoomLevel,!1);this.updateZoom=!0},init:function(){this.setButtonImages();this.setButtonEvents()},sliderChange:function(a,b){if(null!=this.mapInteractivity&&this.updateZoom){var c=this.vertical_slider.get("value");this.currentZoomLevel!=c&&(this.currentZoomLevel<c?this.mapInteractivity.mapZoomInByFactor(c-this.currentZoomLevel):this.mapInteractivity.mapZoomOutByFactor(this.currentZoomLevel-c),this.currentZoomLevel=c)}},setButtonImages:function(){this.button_north.style.background=
"url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/north.png")+"')";this.button_south.style.background="url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/south.png")+"')";this.button_west.style.background="url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/west.png")+"')";this.button_east.style.background="url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/east.png")+
"')";this.button_plus.style.background="url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/plus.png")+"')";this.button_minus.style.background="url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/minus.png")+"')";this.button_center.style.background="url('"+b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("/MapControl/center.png")+"')"},setButtonEvents:function(){var a=function(a,b,e,g){x(a,b,function(a){a.stopPropagation();
g[e]()})};a(this.button_north,"mousedown","panSouth",this);a(this.button_south,"mousedown","panNorth",this);a(this.button_east,"mousedown","panWest",this);a(this.button_west,"mousedown","panEast",this);a(this.button_center,"mousedown","reset",this);a(this.button_plus,"mousedown","buttonPlus",this);a(this.button_minus,"mousedown","buttonMinus",this);x(this.vertical_slider,"change",S.hitch(this,"sliderChange"))},setSliderHeight:function(){this.vertical_slider.set("style","z-index: 3; position: absolute; left: 47px; height: 30%; top: 41%;")},
panEast:function(){this.mapInteractivity.mapPanEast(5)},panWest:function(){this.mapInteractivity.mapPanWest(5)},panSouth:function(){this.mapInteractivity.mapPanSouth(5)},panNorth:function(){this.mapInteractivity.mapPanNorth(5)},reset:function(){0==this.vertical_slider.get("value")?(this.currentZoomLevel=0,this.mapInteractivity.reset()):this.vertical_slider._setValueAttr(0)},buttonPlus:function(){10>this.currentZoomLevel&&this.vertical_slider._setValueAttr(this.currentZoomLevel+1)},buttonMinus:function(){0<
this.currentZoomLevel&&this.vertical_slider._setValueAttr(this.currentZoomLevel-1)}});b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_MapController=b.com_ibm_init_declare({buildControlsGUI:function(a){this.mapInteractivity=null!=a.parentInteractivity?a.parentInteractivity.getMapPanZoomInteractivity():null;this.controllerDiv=a.controlsDiv;a=a.parentInteractivity.getVisInstance().getGrammar()[0].graphSize;this.shouldCreateControls(a)&&(this.createControls(),null!=this.mapInteractivity&&this.setMapInteractivity(this.mapInteractivity))},
shouldCreateControls:function(a){return 150<a.getWidth()&&350<a.getHeight()?!0:!1},createControls:function(){dojo.forEach(m.findWidgets(this.controllerDiv),function(a){a.destroyRecursive()});this.mapControlsWidget=new b.com_ibm_vis_internal_MapControlsWidget;la("ie")&&this.mapControlsWidget.setSliderHeight();this.mapControlsWidget.startup();this.mapControlsWidget.placeAt(this.controllerDiv)},setMapInteractivity:function(a){this.mapControlsWidget.setMapInteractivity(a)},getMapControlsWidget:function(){return this.mapControlsWidget}});
b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper=void 0;b.com_ibm_vis_internal_MapWidget=function(){var a=function(a,b){var d="G"+b+"Coords",k=a.getRoot().getChildren().arrayIterator(),f,h,l;f=0;for(h=k.length;f<h;f++)if(l=k[f],d==l.getId())return l;return null},d=b.com_ibm_init_declare({tileSize:256,constructor:function(a,d,g,k,f,h){this.customConfig=a;this.grammarBounds=g;this.vis=k;this.scene=f;this.grammarIndex=h;this.bounds=[];this.bounds[0]=d.getMinLong();this.bounds[1]=
d.getMinLat();this.bounds[2]=d.getMaxLong();this.bounds[3]=d.getMaxLat();this.map=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Map(null,{controls:[],theme:null})},getMap:function(){this.map.getViewport().style.width=this.grammarBounds.getWidth()+"px";this.map.getViewport().style.height=this.grammarBounds.getHeight()+"px";var a=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Layer.OSM("OpenStreetMap",null,{sphericalMercator:!0,buffer:2});this.map.addLayer(a);
this.map.zoomToMaxExtent();a=b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Bounds.fromArray(this.bounds).transform(new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:4326"),new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:900913"));this.map.zoomToExtent(a);var d=this._getZoom(a,this.grammarBounds),g=(a.right-a.left)/this.map.getTileSize().w,g=this.map.getZoomForResolution(g,!0),k=(a.top-a.bottom)/
this.map.getTileSize().h,k=this.map.getZoomForResolution(k,!0),g=Math.max(g,k);9<=d&&(d=g);g=a.getCenterLonLat();this.map.setCenter(g,d);this._fitMapInBounds(this.vis,this.scene,this.grammarIndex,a);1>this.scaleFactor&&(a=Math.max(this.translateFactorX,this.translateFactorY)/(this.tileSize*this.scaleFactor),this.map.getLayersByName("OpenStreetMap")[0].buffer=Math.max(2,Math.ceil(a)));this.map.getViewport().style.position="absolute";return this.map},_fitMapInBounds:function(c,d,g,k){g=a(d,g);d=c=0;
if(g.getTransform()){var f=g.getTransform().getAffine();f&&(c=f.m02,d=f.m12)}g=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(g);c+=g.getX();d+=g.getY();f={};f.x=g.getX();f.y=g.getY();f.width=g.getWidth();f.height=g.getHeight();g=this._getMapBoundsFromScreen(f);var f=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.LonLat(k.left,k.top),h=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.LonLat(k.right,k.bottom);g=Math.max(g.lon/(h.lon-f.lon),
g.lat/(f.lat-h.lat));f=this.map.getViewPortPxFromLonLat(new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.LonLat(k.left,k.top));k=(f.x+this.grammarBounds.getWidth()/2)*g;f=(f.y+this.grammarBounds.getHeight()/2)*g;this.scaleFactor=g;this.translateFactorX=c-k;this.translateFactorY=d-f},_getMapBoundsFromScreen:function(a){var d={},g=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Pixel(a.x,a.y),k=this.map.getLonLatFromViewPortPx(g).transform(new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:900913"),
new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:4326")),g=new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Pixel(a.x+a.width,a.y+a.height);a=this.map.getLonLatFromViewPortPx(g).transform(new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:900913"),new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:4326"));a.lon<k.lon&&(a.lon=360+a.lon);k=k.transform(new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:4326"),
new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:900913"));a=a.transform(new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:4326"),new b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_OpenlayersWrapper.Projection("EPSG:900913"));d.lon=a.lon-k.lon;d.lat=k.lat-a.lat;return d},_getZoom:function(a,b){for(var d=Math.sqrt(Math.pow(a.top-a.bottom,2)+Math.pow(a.right-a.left,2)),k=Math.sqrt(Math.pow(b.getHeight(),2)+Math.pow(b.getWidth(),
2)),f=0,h=this.tileSize*d/4E7*Math.pow(f,2),l=null;h<k;)l=k-h,f++,h=this.tileSize*d/4E7*Math.pow(f,2);return null!=l&&l<h-k?f--:f}});d.getCoordinateSceneNode=a;return d}();b.com_ibm_vis_engine_internal_nativeImpl_mapHandler_MapLayerHandler=b.com_ibm_init_declare({constructor:function(a,b){this.vis=a;this.scene=b},createMap:function(){var a=this._getMapBoundsFromScale(),d=this.getBoundsFromCoordinates();this.mapWidget=new b.com_ibm_vis_internal_MapWidget(this.vis.customConfig,a,d,this.vis,this.scene,
this._getGrammarIndexCustomElement());return this.mapWidget.getMap()},getBoundsFromCoordinates:function(){var a=this._getCoordinateSceneNode(this._getGrammarIndexCustomElement());return b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(a)},_getCoordinateSceneNode:function(a){return b.com_ibm_vis_internal_MapWidget.getCoordinateSceneNode(this.scene,a)},getScale:function(){return this.mapWidget.scaleFactor},getTranslateX:function(){return this.mapWidget.translateFactorX},getTranslateY:function(){return this.mapWidget.translateFactorY},
_getMapBoundsFromScale:function(){var a=this._getGrammarOfCustomElement(),a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getMapBoundsFromScale(a);if(a.getMinLat()<b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.getMin()||a.getMaxLat()>b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.getMax())throw new b.com_ibm_vis_exceptions_internal_SpecException("Latitude span should be between '"+b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.getMin()+
"' and '"+b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.LAT_RANGE.getMax()+"'.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);return a},_getGrammarOfCustomElement:function(){var a=this._getGrammarIndexCustomElement();return 0>a?null:this.vis.getGrammar()[a]},_getGrammarIndexCustomElement:function(){var a=b.com_ibm_vis_interaction_internal_osmmap_OSMMapHelper.getGrammarIndexOfCustomElement(this.vis);return 0>a?-1:a}});b.com_ibm_vis_interaction_MapPanZoomInteractivity=b.com_ibm_init_declare.implement({reset:function(){},
setInitialZoomLevel:function(a){},setMinZoomLevel:function(a){},setMaxZoomLevel:function(a){},getCurrentZoomLevel:function(){},setCurrentZoomLevel:function(a){},mapZoomIn:function(){},mapZoomInByFactor:function(a){},mapZoomOut:function(){},mapZoomOutByFactor:function(a){},mapPanNorth:function(a){},mapPanSouth:function(a){},mapPanEast:function(a){},mapPanWest:function(a){},mapZoomInAroundCenter:function(a,b,c){},mapZoomInMarquee:function(a,b,c,e){},mapPan:function(a,b){}});b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl=
b.com_ibm_init_declare([b.com_ibm_vis_interaction_MapPanZoomInteractivity,b.com_ibm_vis_interaction_internal_InteractivityMethod],{ce_43:0,me_17:0,me_18:0,ie_19:0,st_23:!0,constructor:function(a,b){this.vis=b;this.it_8=a;this.viewportZoom=this.it_8.getViewportZoom()},getViewportZoom:function(){return this.viewportZoom},setViewportZoom:function(a){this.viewportZoom=a},mapZoomIn:function(){this.mapZoomInByFactor(1)},mapZoomInAroundCenter:function(a,d,c){if(this.ie$56(this.ce_43+a)){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,
this.vis,"stretch");var e=this.it_8.vis.ga_5[0].graphSize;d/=e.wt_2;var g=1-c/e.hh_1;c=this.getViewportZoom().getViewPort();e=this.gr$15(c);g=e[0][0]+g*(e[0][1]-e[0][0]);d=e[1][0]+d*(e[1][1]-e[1][0]);var e=this.mr_5.getZoomHops(this.vis,this.ce_43,this.ce_43+a,c),e=[[c[0][0]+e[0],c[0][1]-e[1]],[c[1][0]+e[2],c[1][1]-e[3]]],k=this.gr$15(e),g=g-(k[0][0]+k[0][1])/2;d-=(k[1][0]+k[1][1])/2;g=this.mr_5.clampPanningAfterZoomIn(this.vis,c,e,g);c=b.com_ibm_rave_codegenerator_lang_Array.create([2,2],0);c[0][0]=
e[0][0]+g;c[0][1]=e[0][1]+g;c[1][0]=e[1][0]+d;c[1][1]=e[1][1]+d;c[0][1]>=c[0][0]&&c[1][1]>=c[1][0]&&(this.ce_43+=a,this.su$4(c))}},setZoomController:function(a){this.mr_5=a},mapZoomOut:function(){this.mapZoomOutByFactor(1)},mapPan:function(a,d){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"stretch");var c=this.getViewportZoom().getViewPort(),e=this.gr$15(c),c=d*(e[0][1]-e[0][0]),e=[c,a*(e[1][1]-e[1][0])];0!=c&&(e=this.mr_5.validateVerticalPanning(this.vis,
e,this.getViewportZoom().getViewPort()));this.getViewportZoom().panBy(e)},mapPanNorth:function(a){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"stretch");a=[-(a/100),0];a=this.mr_5.validateVerticalPanning(this.vis,a,this.getViewportZoom().getViewPort());0!=a[0]&&this.getViewportZoom().panBy(a)},mapPanSouth:function(a){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"stretch");a=[a/100,0];a=this.mr_5.validateVerticalPanning(this.vis,
a,this.getViewportZoom().getViewPort());0!=a[0]&&this.getViewportZoom().panBy(a)},mapPanEast:function(a){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"stretch");a=[0,-(a/100)];this.getViewportZoom().panBy(a)},mapPanWest:function(a){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"stretch");a=[0,a/100];this.getViewportZoom().panBy(a)},mapZoomInMarquee:function(a,d,c,e){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,
this.vis,"stretch");d=1-d;a=1-a;var g=this.gr$15(this.viewportZoom.getViewPort());d=g[0][0]+d*(g[0][1]-g[0][0]);a=g[0][0]+a*(g[0][1]-g[0][0]);c=g[1][0]+c*(g[1][1]-g[1][0]);e=g[1][0]+e*(g[1][1]-g[1][0]);c=[[d,a],[c,e]];c[0][1]>=c[0][0]&&c[1][1]>=c[1][0]&&this.su$4(c)},reset:function(){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"fit");this.ce_43=this.ie_19;this.su$4([[0,1],[0,1]])},mapZoomInByFactor:function(a){if(this.ie$56(this.ce_43+a)){var d=this.mr_5.getZoomHops(this.vis,
this.ce_43,this.ce_43+a,this.getViewportZoom().getViewPort());b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,this.vis,"stretch");this.ce_43+=a;var c=this.getViewportZoom().getViewPort();a=c[0][0]+d[0];var e=c[0][1]-d[1],g=c[1][0]+d[2],d=c[1][1]-d[3];e>=a&&d>=g&&this.su$4([[a,e],[g,d]])}},mapZoomOutByFactor:function(a){if(this.ie$56(this.ce_43-a)){var d=this.mr_5.getZoomHops(this.vis,this.ce_43,this.ce_43-a,this.getViewportZoom().getViewPort());b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1(this.it_8,
this.vis,"stretch");this.ce_43-=a;var c=this.getViewportZoom().getViewPort();a=c[0][0]-d[0];var e=c[0][1]+d[1],g=c[1][0]-d[2],d=c[1][1]+d[3];e>=a&&d>=g&&this.su$4([[a,e],[g,d]])}},ie$56:function(a){return this.me_17>=a&&a>=this.me_18},getCurrentZoomLevel:function(){return this.ce_43},setMaxZoomLevel:function(a){this.me_17=a},setMinZoomLevel:function(a){this.me_18=a},setInitialZoomLevel:function(a){this.ie_19=a},sceneChanged:function(a){a&&(this.st_23=!0,this.ce_43=this.ie_19)},isSpecChanged:function(){return this.st_23},
setCurrentZoomLevel:function(a){this.ce_43=a},getVis:function(){return this.vis},su$4:function(a){this.st_23=!1;this.getViewportZoom().setViewport(a)},gr$15:function(a){var b=this.it_8.vis.ga_5[0].graphSize,c=a[0][1]-a[0][0],e=a[1][1]-a[1][0],g=this.ge$62(),k=a[1][0]+e*(0-g.x)/g.wt_3;a=a[0][0]+c*(0-g.y)/g.hh_2;return[[a,a+c*b.hh_1/g.hh_2],[k,k+e*b.wt_2/g.wt_3]]},ge$62:function(){return this.ge$63(b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.getGrammarIndexOfCustomElement(this.vis)).shape.getBounds()},
ge$63:function(a){return this.it_8.st_22.getSceneNodeById("G"+a+"Coords")},getType:function(){return 1002}});b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.uo$1=function(a,d,c){a=a.vis.ce_40;d=b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.getGrammarIndexOfCustomElement(d);if(-2147483648!=d&&(d=a.grammar[d].coordinates.transforms)){a=0;for(var e=d.length;a<e;++a){var g=d[a];if("projection"==g.type){g.projectionParameters.method=c;break}}}};b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.getGrammarIndexOfCustomElement=
function(a){var b=0,c=0;a=a.ga_5;for(var e=a.length;c<e;++c){for(var g=0,k=a[c].elements,f=k.length;g<f;++g)if("custom"==k[g].type)return b;b++}return-2147483648};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.FIT="fit";b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.SC_3="stretch";b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl.CO_4="custom"});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/dataTransformsLayer",
function(){b.com_ibm_vis_engine_internal_data_transform_Grouping=b.com_ibm_init_declare({on_2:0,constructor:function(a,b){this.dn_3=a;for(var c=0,e=0,g=a.arrayIterator(),k=g.length;e<k;++e)0<=g[e].outputIndex&&c++;this.on_2=c;this.iu_2=b},makeGroupings:function(){for(var a=new b.com_ibm_rave_codegenerator_util_Map,d=0;d<this.iu_2.length;++d){var c=this.me$7(this.iu_2[d].data,this.dn_3);if(null!=c){var e=a.get(c);e||(e=new b.com_ibm_rave_codegenerator_util_List,a.put(c,e));e.add(d)}}for(var d=Array(a.size()),
g=e=0,k=a.keySet().arrayIterator(),f=k.length;g<f;++g)c=k[g],d[e++]=c;b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);g=Array(a.size());k=e=0;for(f=d.length;k<f;++k){var c=d[k],h=new b.com_ibm_vis_engine_internal_data_transform_Group;h.setKey(c);h.setRows(a.get(c));g[e++]=h}return g},me$7:function(a,d){for(var c="",e=0,g=d.arrayIterator(),k=g.length;e<k;++e){var f=g[e],f=b.com_ibm_vis_engine_internal_data_transform_Grouping.binIfNeeded(a[f.inputIndex],f);if(f!=f)return null;var h=f,c=
h==h?c+(h+"|"):c+(f+"|")}return c},setRowValues:function(a,d,c,e){for(var g=a.get(0),f=0,h=this.dn_3.arrayIterator(),l=h.length;f<l;++f){var m=h[f];if(0<=m.outputIndex)for(var p=b.com_ibm_vis_engine_internal_data_transform_Grouping.binIfNeeded(this.iu_2[g].data[m.inputIndex],m),q=c;q<c+e;++q)d[q].data[m.outputIndex]=p,d[q].originalRows=a}},getOutputFieldCount:function(){return this.on_2},getInput:function(){return this.iu_2},setInput:function(a){this.iu_2=a}});b.com_ibm_vis_engine_internal_data_transform_Grouping.binIfNeeded=
function(a,b){if(a!=a)return NaN;var c=NaN;null!=b.parameters.binStart&&(c=b.parameters.binStart);var e=NaN;null!=b.derivedField.granularity&&(e=b.derivedField.granularity);return c!=c||e!=e?a:(Math.floor((a-c)/e)+.5)*e+c};b.com_ibm_vis_engine_internal_data_transform_Grouping.KO_2="|";b.com_ibm_vis_engine_internal_data_transform_Group=b.com_ibm_init_declare({getKey:function(){return this.key},setKey:function(a){this.key=a},getRows:function(){return this.rows},setRows:function(a){this.rows=a}});b.com_ibm_vis_engine_internal_data_DerivedData=
b.com_ibm_init_declare({constructor:function(a,b){this.gn_2=a;this.tr_1=b},getGrouping:function(){return this.gn_2},calculate:function(a){for(var d=this.gn_2.getOutputFieldCount()+this.tr_1.getOutputFieldCount(),c=this.gn_2.makeGroupings(),e=Array(this.tr_1.getTotalOutputCount(c,a)),g=0;g<e.length;++g)e[g]=b.com_ibm_vis_engine_internal_data_Row.createEmptyRow(d,g);for(var d=0,g=this.tr_1.getMultiplier(),f=this.gt$2(a,null),h=0,l=c.length;h<l;++h){var m=c[h],p=m.getRows(),q=this.tr_1.getOutputCount(p),
r;r=0==f?p.size()/a.length:this.gt$2(a,p)/f;this.gn_2.setRowValues(p,e,d,q);this.tr_1.setMultiplier(g*r);this.tr_1.setValues(a,m,e,d,q);d+=q}return e},gt$2:function(a,b){var c=0;if(b)for(var e=0;e<b.size();++e)c+=this.tr_1.getWeight(a[b.get(e)]);else for(var e=0,g=a.length;e<g;++e)c+=this.tr_1.getWeight(a[e]);return c},getTransform:function(){return this.tr_1}});b.com_ibm_vis_engine_internal_data_transform_TransformType=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_data_transform_TransformType.isType=
function(a,d){return null!=a&&a==b.com_ibm_vis_engine_internal_data_transform_TransformType.gp$4(d)?!0:!1};b.com_ibm_vis_engine_internal_data_transform_TransformType.gp$4=function(a){if(null!=a){var b=a.indexOfCharCode(46);return-1==b?a:a.substring(0,b)}return""};b.com_ibm_vis_engine_internal_data_transform_TransformType.SMOOTH="smooth";b.com_ibm_vis_engine_internal_data_transform_TransformType.DENSITY="density";b.com_ibm_vis_engine_internal_data_transform_TransformType.SUMMARY="summary";b.com_ibm_vis_engine_internal_data_transform_TransformType.PERCENT=
"percent";b.com_ibm_vis_engine_internal_data_transform_TransformType.DISTRIBUTION="distribution";b.com_ibm_vis_engine_internal_data_transform_TransformType.INTEGRATE="integrate";b.com_ibm_vis_engine_internal_data_transform_TransformType.ORDER="order";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_data_transform_TransformType.SMOOTH_REGRESSION="smooth.regression";b.com_ibm_vis_engine_internal_data_transform_TransformType.SMOOTH_KERNEL="smooth.kernel";b.com_ibm_vis_engine_internal_data_transform_TransformType.DENSITY_KERNEL=
"density.kernel";b.com_ibm_vis_engine_internal_data_transform_TransformType.DISTRIBUTION_NORMAL=b.com_ibm_vis_engine_internal_data_transform_TransformType.DISTRIBUTION+".normal"});b.com_ibm_vis_engine_internal_data_transform_Transform=b.com_ibm_init_declare({weightIndex:0,me_2:NaN,constructor:function(a,b,c){this.inputs=a;this.outputs=b;this.le_34=c;this.weightIndex=this.getInputIndex("weight")},getTotalOutputCount:function(a,b){return this.getFixedOutputCount()*a.length},getOutputCount:function(a){return this.getFixedOutputCount()},
getFixedOutputCount:function(){return 0},getInputIndex:function(a){if(null!=a)for(var b=0,c=this.inputs.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(a==g.role)return g.inputIndex}return-1},getOutputIndex:function(a){if(null!=a)for(var b=0,c=this.outputs.arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(a==g.role)return g.outputIndex}return-1},getOutputFieldCount:function(){return this.outputs.size()},getMatchingInputField:function(a){return this.getInputIndex(a.role)},getWeight:function(a){if(0>
this.weightIndex)return 1;a=a.data[this.weightIndex];return null!=a&&0<a?a:0},sortAndRemoveMissing:function(a,d,c,e,g){for(var f=new b.com_ibm_rave_codegenerator_util_List,h=0;h<e.size();++h){var l=e.get(h);if(!(0>=this.getWeight(a[l]))){var m=a[l].data[d];m==m&&(0>c||a[l].data[c]==a[l].data[c])&&f.add(l)}}c=b.com_ibm_rave_codegenerator_lang_Array.create([f.size()],0);for(h=e=0;h<f.size();++h)l=f.get(h),m=a[l].data[d],c[e++]=m;if(g)a=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(c);
else for(a=b.com_ibm_rave_codegenerator_lang_Array.create([c.length],0),l=0;l<a.length;++l)a[l]=l;for(l=0;l<a.length;++l)a[l]=f.get(a[l]);return a},setOverallData:function(a,d,c){if(0>=d.getWindowWidth()){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0;g<a.length;++g)e.add(g);e=this.sortAndRemoveMissing(a,c,-1,e,!0);d.setOverallDataDetails(a,c,e)}},getRange:function(a,d,c,e){for(var g=1.7976931348623157E308,f=4.9E-324,h=0;h<d.size();++h)var l=a[d.get(h)],g=Math.min(g,l.data[c]),f=Math.max(f,
l.data[c]);g!=g&&(g=e.min);f!=f&&(f=e.max);return new b.com_ibm_vis_engine_internal_data_Range(g,f)},finishOutputField:function(a,b,c){var e=a.inputIndex;0>e&&(e=this.getMatchingInputField(a));var g;0<=e&&(g=b[e]);this.finishMatchedOutputField(a,g,b,c)},finishMatchedOutputField:function(a,b,c,e){c=e[a.outputIndex];b&&c.copyDerivedInfo(b);a.outputRange&&(c.range=a.outputRange);c.granularity=a.outputGranularity},getLogger:function(){return this.le_34},setMultiplier:function(a){this.me_2=a},getMultiplier:function(){return this.me_2},
isPdf:function(){return!1}});b.com_ibm_vis_engine_internal_data_transform_Transform.get=function(a,b){return b?a[b.inputIndex]:NaN};b.com_ibm_vis_engine_internal_data_transform_Transform.set=function(a,b,c){b&&(a[b.outputIndex]=c)};b.com_ibm_vis_engine_internal_data_transform_Transform.ROLE_X="x";b.com_ibm_vis_engine_internal_data_transform_Transform.ROLE_Y="y";b.com_ibm_vis_engine_internal_data_transform_Transform.ROLE_ACCURACY="accuracy";b.com_ibm_vis_engine_internal_data_transform_Transform.ROLE_WEIGHT=
"weight";b.com_ibm_vis_engine_internal_data_transform_Smooth=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,{xI:0,yI:0,constructor:function(a,d,c,e){this.xI=this.getInputIndex("x");this.yI=this.getInputIndex("y");if(b.com_ibm_vis_engine_internal_data_transform_TransformType.SMOOTH_REGRESSION==e)this.type=new b.com_ibm_vis_engine_internal_data_transform_RegressionSmoothType;else if(b.com_ibm_vis_engine_internal_data_transform_TransformType.SMOOTH_KERNEL==e)this.type=
new b.com_ibm_vis_engine_internal_data_transform_KernelSmoothType;else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unknown smooth: "+e);},getFixedOutputCount:function(){var a=this.getOutputIndex("x");return 0<=a&&(a=this.outputs.get(a).derivedField,b.com_ibm_vis_engine_internal_grammar_units_Unit.get(a.unit,b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO).measure.categorical)?(a=this.inputs.get(this.xI),Math.round(a.inputRange.range)):this.type.getRowsCreated()},setValues:function(a,
b,c,e,g){this.setOverallData(a,this.type,this.xI);var f=this.sortAndRemoveMissing(a,this.xI,this.yI,b.getRows(),!0),h=this.cs$3(a,this.xI,this.yI,f);if(!(1E-12>h[0]||(b=this.ce$15(a,this.xI,this.yI,f,h),1E-12>b[0]))){g=a[f[0]].data[this.xI];var l=a[f[f.length-1]].data[this.xI];this.type.setGroupMoments(h[0],h[1],h[2],b[0],b[1],b[2]);this.type.setGroupData(a,this.xI,this.yI,this.weightIndex,f);a=this.cS$1(a,this.xI,this.yI,f);for(var f=0,h=this.outputs.arrayIterator(),m=h.length;f<m;++f)for(var p=
h[f],q=this.getFixedOutputCount(),r=0;r<q;++r){var t=g+(l-g)*r/(q-1);"x"==p.role?c[e+r].data[p.outputIndex]=t:"y"==p.role?c[e+r].data[p.outputIndex]=this.type.getPrediction(t):"accuracy"==p.role&&(c[e+r].data[p.outputIndex]=1-a/b[2])}}},cs$3:function(a,b,c,e){for(var g=0,f=0,h=0,l=0,m=e.length;l<m;++l)var p=e[l],q=this.getWeight(a[p]),g=g+q,r=a[p].data[c],f=f+q*a[p].data[b],h=h+q*r;return[g,f/g,h/g]},cS$1:function(a,b,c,e){for(var g=0,f=0,h=e.length;f<h;++f){var l=e[f],m=this.getWeight(a[l]),p=a[l].data[c],
l=this.type.getPrediction(a[l].data[b]);l==l&&(g+=m*(l-p)*(l-p))}return g},ce$15:function(a,b,c,e,g){for(var f=0,h=0,l=0,m=0,p=e.length;m<p;++m)var q=e[m],r=this.getWeight(a[q]),t=a[q].data[b],q=a[q].data[c],f=f+r*(t-g[1])*(t-g[1]),h=h+r*(q-g[2])*(q-g[2]),l=l+r*(t-g[1])*(q-g[2]);return[f,l,h]}});b.com_ibm_vis_engine_internal_data_transform_SmoothType=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_TransformType,{});b.com_ibm_vis_engine_internal_data_transform_RegressionSmoothType=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_SmoothType,{b1:0,b0:0,getRowsCreated:function(){return 2},setGroupMoments:function(a,b,c,e,g,f){this.b1=g/e;this.b0=c-this.b1*b},setGroupData:function(a,b,c,e,g){},getPrediction:function(a){return this.b0+this.b1*a},getDensity:function(a,b){return 1},getWindowWidth:function(){return 0},setOverallDataDetails:function(a,b,c){}});b.com_ibm_vis_engine_internal_data_transform_KernelSmoothType=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_SmoothType,
{h:0,xa_1:0,ya_1:0,constructor:function(){this.h=-1},getRowsCreated:function(){return 21},setGroupMoments:function(a,b,c,e,g,f){this.xa_1=b;this.ya_1=c},setGroupData:function(a,d,c,e,g){this.xt_1=b.com_ibm_rave_codegenerator_lang_Array.create([g.length],0);this.yt_1=b.com_ibm_rave_codegenerator_lang_Array.create([g.length],0);this.wt_4=b.com_ibm_rave_codegenerator_lang_Array.create([g.length],0);for(var f=0,h=0,l=g.length;h<l;++h){var m=g[h];this.xt_1[f]=a[m].data[d];0<=c&&(this.yt_1[f]=a[m].data[c]);
this.wt_4[f]=0<e?a[m].data[e]:1;f++}},setOverallDataDetails:function(a,d,c){this.xt_1=b.com_ibm_rave_codegenerator_lang_Array.create([c.length],0);for(var e=0,g=0,f=c.length;g<f;++g){var h=c[g],h=a[h].data[d];this.xt_1[e++]=h}c=4>this.xt_1.length?(this.xt_1[e-1]-this.xt_1[0])/2:this.xt_1[Math.round(3*(e-1)/4)]-this.xt_1[Math.round((e-1)/4)];for(h=d=0;h<e;++h)d+=this.xt_1[h];d/=this.xt_1.length;for(h=g=0;h<e;++h)f=this.xt_1[h],g+=(f-d)*(f-d);g=Math.sqrt(g/this.xt_1.length);this.h=2.34*(0<c?Math.min(c/
1.34,g):g)*Math.pow(a.length,-.2);a=this.xt_1[e-1]-this.xt_1[0];this.h<a/40&&(this.h=a/40);0==this.h&&(this.h=d/10);0==this.h&&(this.h=1)},getPrediction:function(a){for(var b=0,c=0,e=0,g=0,f=0,h=0;h<this.xt_1.length;++h){var l=this.wt_4[h]*this.K((a-this.xt_1[h])/this.h);if(0<l)var m=this.xt_1[h]-this.xa_1,p=this.yt_1[h]-this.ya_1,b=b+l,c=c+l*m,e=e+l*p,g=g+l*m*m,f=f+l*m*p}if(2>=b)return NaN;g=b*g-c*c;if(1E-8>=g)return this.ya_1+e/b;f=(b*f-c*e)/g;return(e-f*c)/b+f*(a-this.xa_1)+this.ya_1},getDensity:function(a,
b){for(var c=0,e=0,g=0;g<this.xt_1.length;++g)c+=this.wt_4[g]*this.K((a-this.xt_1[g])/this.h),e+=this.wt_4[g];b!=b&&(b=e);return b*c/(this.h*e)},getWindowWidth:function(){return this.h},K:function(a){return-1>a||1<a?0:.75*(1-a*a)}});b.com_ibm_vis_engine_internal_data_transform_Density=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,{xI:0,constructor:function(a,d,c){this.xI=this.getInputIndex("x");this.type=new b.com_ibm_vis_engine_internal_data_transform_KernelSmoothType;
d=0;a=a.arrayIterator();for(c=a.length;d<c;++d){var e=a[d];e.inputIndex==this.xI&&(this.rg_2=e.inputRange,1E-15>this.rg_2.range&&(this.rg_2=this.rg_2.expand(this.rg_2.min/4)),1E-15>this.rg_2.range&&(this.rg_2=this.rg_2.expand(1)))}},getFixedOutputCount:function(){return 41},isPdf:function(){return!0},setValues:function(a,b,c,e,g){this.setOverallData(a,this.type,this.xI);g=this.sortAndRemoveMissing(a,this.xI,-1,b.getRows(),!0);var f=this.ct$4(a,this.xI,g);if(!(1E-12>f[0])){this.type.setGroupMoments(f[0],
f[1],0,f[2],0,0);this.type.setGroupData(a,this.xI,-1,this.weightIndex,g);g=this.rg_2.expand(this.type.getWindowWidth());for(var h=0,l=this.outputs.arrayIterator(),m=l.length;h<m;++h)f=l[h],"x"==f.role&&(f.outputGranularity=g.range/this.getFixedOutputCount(),f.outputRange=this.rg_2);g=this.getRange(a,b.getRows(),this.xI,this.rg_2).expand(this.type.getWindowWidth());a=0;b=this.outputs.arrayIterator();for(h=b.length;a<h;++a)for(f=b[a],l=this.getFixedOutputCount(),m=0;m<l;++m){var p=g.fromZeroOne(m/(l-
1));"x"==f.role?c[e+m].data[f.outputIndex]=p:"y"==f.role&&(c[e+m].data[f.outputIndex]=this.type.getDensity(p,this.getMultiplier()))}}},ct$4:function(a,b,c){for(var e=0,g=0,f=0,h=c.length;f<h;++f)var l=c[f],m=this.getWeight(a[l]),e=e+m,l=a[l].data[b],g=g+m*l;for(var g=g/e,h=f=0,p=c.length;h<p;++h)l=c[h],m=this.getWeight(a[l]),l=a[l].data[b],f+=m*(l-g)*(l-g);return[e,g,f/e]}});b.com_ibm_vis_engine_internal_data_transform_AbstractSummaryOperation=b.com_ibm_init_declare({compute:function(a,b,c,e){var g=
this.getFullPreCalculationKey(c,b),f=a.getProperty(this.getFullPreCalculationKey(c,b));null==f&&(f=this.precomputeData(a,b,c,e),a.addProperty(g,f));return this.doCompute(a,b,c,e,f)},getFullPreCalculationKey:function(a,b){return a.getKey()+":"+b.inputIndex+":"+this.getOperationFamily()},finishOutputField:function(a,b,c,e){}});b.com_ibm_vis_engine_internal_data_transform_SummaryFunctionAdapter=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractSummaryOperation,{constructor:function(a){this.so_12=
a},getOperationFamily:function(){return this.so_12.getOperationFamily()},precomputeData:function(a,d,c,e){a=b.com_ibm_vis_engine_internal_data_transform_SummaryFunctionAdapter.gt$3(a,d,c,e);return this.so_12.precomputeData(a[0],a[1])},doCompute:function(a,d,c,e,g){a=b.com_ibm_vis_engine_internal_data_transform_SummaryFunctionAdapter.gt$3(a,d,c,e);return this.so_12.compute(a[0],a[1],g)}});b.com_ibm_vis_engine_internal_data_transform_SummaryFunctionAdapter.gt$3=function(a,d,c,e){c=c.getRows();for(var g=
c.size(),f=Array(g),h=b.com_ibm_rave_codegenerator_lang_Array.create([g],0),l=0;l<g;++l){var m=c.get(l);f[l]=0>d.inputIndex?null:e[m].data[d.inputIndex];h[l]=a.getWeight(e[m])}return[f,h]};b.com_ibm_vis_engine_internal_data_transform_WeightedValue=b.com_ibm_init_declare({vu_11:0,ch_4:0,wh_1:0,getValue:function(){return this.vu_11},setValue:function(a){this.vu_11=a},getWeight:function(){return this.wh_1},setWeight:function(a){this.wh_1=a},getCumulative_weight:function(){return this.ch_4},setCumulative_weight:function(a){this.ch_4=
a},constructor:function(a,b,c){this.vu_11=a;this.wh_1=b;this.ch_4=c},toString:function(){return this.vu_11+" ("+this.wh_1+" : +"+this.ch_4+")"}});b.com_ibm_vis_engine_internal_data_transform_StatisticalSummaryData=b.com_ibm_init_declare({th_1:0,constructor:function(a,b){this.th_1=b;this.we_1=a},getTotalWeight:function(){return this.th_1},setTotalWeight:function(a){this.th_1=a},getWeightedValues:function(){return this.we_1}});b.com_ibm_vis_engine_internal_data_transform_WeightedValueComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,
{compare:function(a,b){var c=a.getValue()-b.getValue(),e=0;0<c?e=1:0>c&&(e=-1);return e}});b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractSummaryOperation,{getOperationFamily:function(){return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.PRECALCULATION_KEY},precomputeData:function(a,d,c,e){return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.calculateDataDetails(a,
d,c.getRows(),e)},doCompute:function(a,b,c,e,g){return 0<g.getTotalWeight()?this.doCalculations(g,b,c.getRows(),e):null},computeValueIndex:function(a,b){for(var c=0,e=a.getWeightedValues().size();c<e-1;){var g=Math.floor((c+e)/2);if(a.getWeightedValues().get(g).getValue()==b){c=g;break}a.getWeightedValues().get(g).getValue()<b?c=g:e=g}return c}});b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.calculateDataDetails=function(a,d,c,e){for(var g=new b.com_ibm_rave_codegenerator_util_List(c.size()),
f=0,h=1.7976931348623157E308,l=0;l<c.size();++l){var m=c.get(l),p=a.getWeight(e[m]),m=e[m].data[d.inputIndex];0<p&&m==m&&(h=Math.min(p,h),f+=p,g.add(new b.com_ibm_vis_engine_internal_data_transform_WeightedValue(m,p,0)))}a=new b.com_ibm_vis_engine_internal_data_transform_StatisticalSummaryData(g,f);0<f&&(b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(g,new b.com_ibm_vis_engine_internal_data_transform_WeightedValueComparator),b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.ct$3(a,
g,h));return a};b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.ct$3=function(a,b,c){var e=0,g=1;1>c&&(g=1/c);a.setTotalWeight(a.getTotalWeight()*g);a=0;b=b.arrayIterator();for(c=b.length;a<c;++a){var f=b[a],e=e+f.getWeight()*g;f.setCumulative_weight(e)}};b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.interpolatePercentileValue=function(a,d){var c=Math.min(100,Math.max(0,d))/100*(a.getTotalWeight()+1),e=b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.computeCumulativeWeightIndex(a,
c);if(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getCumulativeWeight(a,e)>=c||e==a.getWeightedValues().size()-1)return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,e);c-=b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getCumulativeWeight(a,e);return 1<=c?b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,e+1):b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,
e)+c*(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,e+1)-b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,e))};b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.computeCumulativeWeightIndex=function(a,b){for(var c=0,e=a.getWeightedValues().size();c<e-1;){var g=Math.floor((c+e)/2);if(a.getWeightedValues().get(g).getCumulative_weight()==b){c=g;break}a.getWeightedValues().get(g).getCumulative_weight()<b?c=
g:e=g}return c};b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue=function(a,b){var c=Math.min(Math.max(b,0),a.getWeightedValues().size()-1);return a.getWeightedValues().get(c).getValue()};b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getCumulativeWeight=function(a,b){var c=Math.min(Math.max(b,0),a.getWeightedValues().size()-1);return a.getWeightedValues().get(c).getCumulative_weight()};b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.PRECALCULATION_KEY=
"STATISTICAL_OPERATION";b.com_ibm_vis_engine_internal_data_transform_Median=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation,{doCalculations:function(a,d,c,e){return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.interpolatePercentileValue(a,50)}});b.com_ibm_vis_engine_internal_data_transform_Median.TYPE="median";b.com_ibm_vis_engine_internal_data_transform_UpperHinge=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation,
{doCalculations:function(a,d,c,e){return b.com_ibm_vis_engine_internal_data_transform_UpperHinge.upperHinge(a)}});b.com_ibm_vis_engine_internal_data_transform_UpperHinge.upperHinge=function(a){return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.interpolatePercentileValue(a,75)};b.com_ibm_vis_engine_internal_data_transform_UpperHinge.TYPE="upperHinge";b.com_ibm_vis_engine_internal_data_transform_LowerHinge=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation,
{doCalculations:function(a,d,c,e){return b.com_ibm_vis_engine_internal_data_transform_LowerHinge.lowerHinge(a)}});b.com_ibm_vis_engine_internal_data_transform_LowerHinge.lowerHinge=function(a){return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.interpolatePercentileValue(a,25)};b.com_ibm_vis_engine_internal_data_transform_LowerHinge.TYPE="lowerHinge";b.com_ibm_vis_engine_internal_data_transform_LowerFence=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation,
{doCalculations:function(a,d,c,e){d=b.com_ibm_vis_engine_internal_data_transform_UpperHinge.upperHinge(a);c=b.com_ibm_vis_engine_internal_data_transform_LowerHinge.lowerHinge(a);d=c-1.5*(d-c);c=this.computeValueIndex(a,d);return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,c)>=d?b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,c):b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,c+1)}});b.com_ibm_vis_engine_internal_data_transform_LowerFence.TYPE=
"lowerFence";b.com_ibm_vis_engine_internal_data_transform_UpperFence=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation,{doCalculations:function(a,d,c,e){d=b.com_ibm_vis_engine_internal_data_transform_UpperHinge.upperHinge(a);c=b.com_ibm_vis_engine_internal_data_transform_LowerHinge.lowerHinge(a);d=this.computeValueIndex(a,d+1.5*(d-c));return b.com_ibm_vis_engine_internal_data_transform_AbstractStatisticsOperation.getValue(a,d)}});b.com_ibm_vis_engine_internal_data_transform_UpperFence.TYPE=
"upperFence";b.com_ibm_vis_engine_internal_data_transform_AbstractAggregateOperation=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractSummaryOperation,{getOperationFamily:function(){return null},precomputeData:function(a,b,c,e){return null},doCompute:function(a,b,c,e,g){var f,h=0,l=0;f=this.getInitialAggregateValue(b);c=c.getRows();for(var m=0;m<c.size();++m){var p=c.get(m),q=a.getWeight(e[p]);0>=q||(h+=q,l++,f=this.doAggregate(q,b,0<=b.inputIndex&&b.inputIndex<e[p].data.length?
e[p].data[b.inputIndex]:NaN,f,h,l,g))}return this.computeFinalResult(f,h,l,b,e,g)}});b.com_ibm_vis_engine_internal_data_transform_CountOperation=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractAggregateOperation,{constructor:function(a){this.func=a},precomputeData:function(a,d,c,e){if(b.com_ibm_vis_engine_internal_data_transform_CountOperation.PERCENT_OF_COUNT==this.func){c=d=0;for(var g=e.length;c<g;++c){var f=a.getWeight(e[c]);0>=f||(d+=f)}return d}return null},getInitialAggregateValue:function(a){return 0},
doAggregate:function(a,b,c,e,g,f,h){return-1==b.inputIndex||c==c?e+a:e},computeFinalResult:function(a,d,c,e,g,f){return b.com_ibm_vis_engine_internal_data_transform_CountOperation.PERCENT_OF_COUNT==this.func?100*a/f:a}});b.com_ibm_vis_engine_internal_data_transform_CountOperation.COUNT="count";b.com_ibm_vis_engine_internal_data_transform_CountOperation.PERCENT_OF_COUNT="percentOfCount";b.com_ibm_vis_engine_internal_data_transform_Unique=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractSummaryOperation,
{getOperationFamily:function(){return"STRINGS"},precomputeData:function(a,b,c,e){return null},doCompute:function(a,d,c,e,g){c=c.getRows();return b.com_ibm_vis_engine_internal_data_transform_Unique.mn$2(a,d,c,e)},finishOutputField:function(a,d,c,e){c=e[d.outputIndex];if(a=a.getProperty(b.com_ibm_vis_engine_internal_data_transform_Unique.ge$5(d))){c.categories=Array(a.size());d=0;e=a.keySet().arrayIterator();for(var g=e.length;d<g;++d){var f=e[d],h=a.get(f);c.categories[h]=f}}}});b.com_ibm_vis_engine_internal_data_transform_Unique.ge$5=
function(a){return a.inputIndex+":STRINGS"};b.com_ibm_vis_engine_internal_data_transform_Unique.mn$2=function(a,d,c,e){var g=a.getBase().fields[d.inputIndex],f=a.getProperty(b.com_ibm_vis_engine_internal_data_transform_Unique.ge$5(d));f||(f=new b.com_ibm_rave_codegenerator_util_Map,a.addProperty(b.com_ibm_vis_engine_internal_data_transform_Unique.ge$5(d),f));a=new b.com_ibm_rave_codegenerator_util_NumericMap;for(var h=0;h<c.size();++h)d=c.get(h),d=e[d].data[g.ie_4],null!=d&&a.put(d,d);c=Array(a.size());
e=d=0;a=a.keySet().arrayIterator();for(h=a.length;e<h;++e){var l=a[e];c[d++]=Math.round(l)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(c);var m;e=a=0;for(h=c.length;e<h;++e)d=c[e],d=g.getFormattedStringValue(d,d,null),null==m?m=d:null!=d&&(m=m+(0==a++%4?"\n":", ")+d);if(null==m)return null;g=f.get(m);null==g&&(g=f.size(),f.put(m,g));return g};b.com_ibm_vis_engine_internal_data_transform_Unique.NN_1="\n";b.com_ibm_vis_engine_internal_data_transform_Unique.CM_1=", ";b.com_ibm_vis_engine_internal_data_transform_Unique.SE_2=
"STRINGS";b.com_ibm_vis_engine_internal_data_transform_Unique.TYPE="uniques";b.com_ibm_vis_engine_internal_data_transform_PercentOperation=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractSummaryOperation,{getOperationFamily:function(){return"percent"},precomputeData:function(a,b,c,e){return null},doCompute:function(a,b,c,e,g){return 1}});b.com_ibm_vis_engine_internal_data_transform_PercentOperation.TYPE="percent";b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_AbstractAggregateOperation,{constructor:function(a){this.func=a},getInitialAggregateValue:function(a){return"sum"==this.func||"mean"==this.func?0:"min"==this.func?Infinity:"max"==this.func?-Infinity:null},doAggregate:function(a,d,c,e,g,f,h){if(c!=c)return e;if("sum"==this.func||"mean"==this.func)return e+a*c;if("min"==this.func)return Math.min(e,c);if("max"==this.func)return Math.max(e,c);throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unsupported summary: "+
this.func);},computeFinalResult:function(a,b,c,e,g,f){return"mean"==this.func?0==b||null==a?null:a/b:a}});b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation.MAX="max";b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation.MIN="min";b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation.MEAN="mean";b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation.SUM="sum";b.com_ibm_vis_engine_internal_data_transform_Summary=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,
{constructor:function(){this.ca_3=new b.com_ibm_rave_codegenerator_util_Map;(function(a,b,c,e){this.base=e;this.rt_2=null}).apply(this,arguments)},getBase:function(){return this.base},addProperty:function(a,b){this.ca_3.put(a,b)},getProperty:function(a){return this.ca_3.get(a)},it$2:function(){if(null==this.rt_2){for(var a=this.outputs.size(),b=0;b<a&&(null==this.rt_2||0==this.rt_2);++b)this.rt_2=this.outputs.get(b).parameters.replicate;null==this.rt_2&&(this.rt_2=!1)}return this.rt_2},getTotalOutputCount:function(a,
d){return this.it$2()?d.length:b.com_ibm_vis_engine_internal_data_transform_Transform.prototype.getTotalOutputCount.apply(this,[a,d])},getOutputCount:function(a){return this.it$2()?a.size():this.getFixedOutputCount()},getFixedOutputCount:function(){return 1},setValues:function(a,b,c,e,g){for(var f=this.it$2(),h=b.getRows(),l=0,m=this.outputs.arrayIterator(),p=m.length;l<p;++l)for(var q=m[l],r=this.mu$1(q,b,a),t=e;t<e+g;++t){var w=f&&null==q.parameters.summaryFunction?a[h.get(t-e)].data[q.inputIndex]:
null==r?NaN:r;c[t].data[q.outputIndex]=w}},mu$1:function(a,d,c){var e=a.parameters.summaryFunction;null==e&&(e="count");var g=b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.get(e);if(g)return g.compute(this,a,d,c);if(g=b.com_ibm_vis_engine_data_transform_internal_SummaryFunctionServiceUtility.getInstance().getSummaryFunction(e))return(new b.com_ibm_vis_engine_internal_data_transform_SummaryFunctionAdapter(g)).compute(this,a,d,c);throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unsupported summary: "+
e);},finishMatchedOutputField:function(a,d,c,e){b.com_ibm_vis_engine_internal_data_transform_Transform.prototype.finishMatchedOutputField.apply(this,[a,d,c,e]);d||(e[a.outputIndex].unit=b.com_ibm_vis_engine_internal_grammar_units_Unit.COUNT)},finishOutputField:function(a,d,c){b.com_ibm_vis_engine_internal_data_transform_Transform.prototype.finishOutputField.apply(this,[a,d,c]);var e=b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.get(a.parameters.summaryFunction);e&&e.finishOutputField(this,
a,d,c)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_data_transform_Summary.on_4=new b.com_ibm_rave_codegenerator_util_Map;b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("median",new b.com_ibm_vis_engine_internal_data_transform_Median);b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("upperHinge",new b.com_ibm_vis_engine_internal_data_transform_UpperHinge);b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("lowerHinge",new b.com_ibm_vis_engine_internal_data_transform_LowerHinge);
b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("lowerFence",new b.com_ibm_vis_engine_internal_data_transform_LowerFence);b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("upperFence",new b.com_ibm_vis_engine_internal_data_transform_UpperFence);b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("count",new b.com_ibm_vis_engine_internal_data_transform_CountOperation("count"));b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put(b.com_ibm_vis_engine_internal_data_transform_CountOperation.PERCENT_OF_COUNT,
new b.com_ibm_vis_engine_internal_data_transform_CountOperation(b.com_ibm_vis_engine_internal_data_transform_CountOperation.PERCENT_OF_COUNT));b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("uniques",new b.com_ibm_vis_engine_internal_data_transform_Unique);b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("percent",new b.com_ibm_vis_engine_internal_data_transform_PercentOperation);b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("min",new b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation("min"));
b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("max",new b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation("max"));b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("mean",new b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation("mean"));b.com_ibm_vis_engine_internal_data_transform_Summary.on_4.put("sum",new b.com_ibm_vis_engine_internal_data_transform_BasicAggregateOperation("sum"))});b.com_ibm_vis_engine_internal_data_transform_Percent=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,{getTotalOutputCount:function(a,b){return b.length},getOutputCount:function(a){return a.size()},setValues:function(a,b,c,e,g){b=b.getRows();g=0;for(var f=this.outputs.arrayIterator(),h=f.length;g<h;++g){var l=f[g];if(null==l.parameters.summaryFunction)for(var m=e,p=0;p<b.size();++p){var q=b.get(p),q=a[q].data[l.inputIndex];c[m++].data[l.outputIndex]=q}else{for(var r=0,p=0;p<b.size();++p)q=b.get(p),q=a[q].data[l.inputIndex],
q==q&&(r+=Math.abs(q));m=e;for(p=0;p<b.size();++p){var q=b.get(p),q=a[q].data[l.inputIndex],t=NaN;q==q&&(t=100*q/r);c[m++].data[l.outputIndex]=t}}}},finishMatchedOutputField:function(a,d,c,e){b.com_ibm_vis_engine_internal_data_transform_Transform.prototype.finishMatchedOutputField.apply(this,[a,d,c,e]);d||(e[a.outputIndex].unit=b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO)}});b.com_ibm_vis_engine_internal_data_transform_Distribution=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,
{xe_1:0,constructor:function(a,d,c,e){this.xe_1=this.getInputIndex("x");d=0;a=a.arrayIterator();for(c=a.length;d<c;++d){var g=a[d];g.inputIndex==this.xe_1&&(this.xg_1=g.inputRange)}if(b.com_ibm_vis_engine_internal_data_transform_TransformType.DISTRIBUTION_NORMAL==e)this.type=new b.com_ibm_vis_engine_internal_data_transform_NormalDistributionType;else throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unknown distribution: "+e);},getFixedOutputCount:function(){return 81},isPdf:function(){return!0},
setValues:function(a,d,c,e,g){if(0>this.xe_1)this.getLogger()&&this.getLogger().hasListeners()&&this.getLogger().error(b.com_ibm_vis_monitor_LogComponent.JavaEngine,"Unable to calculate distribution. No 'x' input was specified.");else if(g=this.sortAndRemoveMissing(a,this.xe_1,-1,d.getRows(),!0),2>g.length)this.getLogger()&&this.getLogger().hasListeners()&&this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.JavaEngine,"Unable to calculate distribution. At least 2 inputs are needed, we have "+
g.length);else{this.setOverallData(a,this.type,this.xe_1);var f=this.ct$5(a,this.xe_1,g);this.type.setGroupMoments(f[0],f[1],f[2]);g=this.xg_1.expand(this.type.getWindowWidth());for(var h=0,l=this.outputs.arrayIterator(),m=l.length;h<m;++h){var p=l[h];"x"==p.role&&(p.outputGranularity=g.range/this.getFixedOutputCount(),p.outputRange=this.xg_1)}g=this.getRange(a,d.getRows(),this.xe_1,this.xg_1).expand(3*f[2]);a=0;d=this.outputs.arrayIterator();for(f=d.length;a<f;++a)for(p=d[a],h=this.getFixedOutputCount(),
l=0;l<h;++l)m=g.fromZeroOne(l/(h-1)),"x"==p.role?c[e+l].data[p.outputIndex]=m:"y"==p.role&&(m=this.type.getDensity(m,this.getMultiplier()),c[e+l].data[p.outputIndex]=m)}},ct$5:function(a,d,c){if(0==c.length)return[0,0,0];for(var e=0,g=0,f=0,h=c.length;f<h;++f)var l=c[f],m=this.getWeight(a[l]),e=e+m,l=a[l].data[d],g=g+m*l;for(var g=g/e,h=f=0,p=c.length;h<p;++h)l=c[h],m=this.getWeight(a[l]),l=a[l].data[d],f+=m*(l-g)*(l-g);a=Math.sqrt(f/e);this.getLogger()&&this.getLogger().hasListeners()&&(this.getLogger().log(b.com_ibm_vis_monitor_LogLevel.Info,
b.com_ibm_vis_monitor_LogComponent.JavaEngine,"Distribution calculation","X Bar",g),this.getLogger().log(b.com_ibm_vis_monitor_LogLevel.Info,b.com_ibm_vis_monitor_LogComponent.JavaEngine,"Distribution calculation","Standard Deviation",a));return[e,g,a]}});b.com_ibm_vis_engine_internal_data_transform_NormalDistributionType=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_TransformType,{st_8:0,xBar:0,so_11:0,wt_5:-1,setGroupMoments:function(a,b,c){this.st_8=a;this.xBar=b;this.so_11=
c},getDensity:function(a,d){var c=a-this.xBar,e=b.com_ibm_vis_engine_internal_data_transform_NormalDistributionType.SP_1*this.so_11,c=Math.exp(-(c*c)/(2*this.so_11*this.so_11))/e;d!=d&&(d=this.st_8);return c*d},setOverallDataDetails:function(a,d,c){this.xt_2=b.com_ibm_rave_codegenerator_lang_Array.create([c.length],0);for(var e=0,g=0,f=c.length;g<f;++g){var h=c[g],h=a[h].data[d];this.xt_2[e++]=h}for(h=a=0;h<e;++h)a+=this.xt_2[h];a/=this.xt_2.length;for(h=d=0;h<e;++h)c=this.xt_2[h],d+=(c-a)*(c-a);
d=Math.sqrt(d/this.xt_2.length);this.wt_5=3*d},getWindowWidth:function(){return this.wt_5}});b.com_ibm_vis_engine_internal_data_transform_NormalDistributionType.EXPAND_LEVEL=3;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_data_transform_NormalDistributionType.SP_1=Math.sqrt(6.283185307179586)});b.com_ibm_vis_engine_internal_data_transform_Integrate=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,{tr_2:-1,se_24:!0,gl$3:function(a,d,c){a=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(a,
d);!a&&this.getLogger()&&this.getLogger().hasListeners()&&this.getLogger().error(b.com_ibm_vis_monitor_LogComponent.JavaEngine,String.format(c,d));return a},constructor:function(a,d,c){this.inY=this.gl$3(a,"y",b.com_ibm_vis_engine_internal_data_transform_Integrate.EL_2);this.inX=this.gl$3(a,"x",b.com_ibm_vis_engine_internal_data_transform_Integrate.EL_2);this.in_2=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(a,"yPercent");this.outX=this.gl$3(d,"x",b.com_ibm_vis_engine_internal_data_transform_Integrate.EL_3);
null!=this.outX.parameters.addTotalCategory&&(this.te_2=this.outX.parameters.addTotalCategory,this.tr_2=this.inX.categories.length);this.se_24=null!=this.outX.parameters.sortCategories?this.outX.parameters.sortCategories:!0;this.outY=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(d,"y");this.oY_1=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(d,"y0");this.oY_2=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(d,"y1");this.on_3=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(d,
"yPercent");this.op_1=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(d,"type");this.oo_1=b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4(d,"from")},sortCategories:function(){return this.se_24},hr$1:function(){return null!=this.te_2},getMatchingInputField:function(a){return"y0"==a.role||"y1"==a.role?this.getInputIndex("y"):"from"==a.role?this.getInputIndex("x"):this.getInputIndex(a.role)},ar$3:function(a){var d=Array(a.length+1);b.com_ibm_rave_codegenerator_lang_System.arraycopy(a,
0,d,0,a.length);d[a.length]=this.te_2;return d},finishMatchedOutputField:function(a,d,c,e){b.com_ibm_vis_engine_internal_data_transform_Transform.prototype.finishMatchedOutputField.apply(this,[a,d,c,e]);c=e[a.outputIndex];a==this.outX?this.hr$1()&&(c.categories=this.ar$3(c.categories)):d||(c.unit=b.com_ibm_vis_engine_internal_grammar_units_Unit.CATEGORICAL)},setValues:function(a,d,c,e,g){d=this.sortAndRemoveMissing(a,this.inX.inputIndex,-1,d.getRows(),this.se_24);g=0;for(var f,h=NaN,l=0,m=d.length;l<
m;++l){var p=a[d[l]].data,q=b.com_ibm_vis_engine_internal_data_transform_Transform.get(p,this.inX),r=b.com_ibm_vis_engine_internal_data_transform_Transform.get(p,this.inY),p=b.com_ibm_vis_engine_internal_data_transform_Transform.get(p,this.in_2);if(q==q){var t=c[e].data;b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.outX,q);b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.outY,r);q=NaN;r==r&&f&&h==h&&(q=f[this.outX.outputIndex]);r==r?(b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,
this.oY_1,g),p==p&&b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.on_3,g+p*r),g+=r,b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.oY_2,g)):this.getLogger()&&this.getLogger().hasListeners()&&this.getLogger().warning(b.com_ibm_vis_monitor_LogComponent.JavaEngine,"Missing y value.");b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.op_1,b.com_ibm_vis_engine_internal_data_transform_Integrate.gp$2(r));b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,
this.oo_1,q);this.tu$1(e,t);f=t;h=r}else this.getLogger()&&this.getLogger().hasListeners()&&this.getLogger().warning(b.com_ibm_vis_monitor_LogComponent.JavaEngine,"Missing x value.");e++}this.hr$1()&&f&&(t=c[e++].data,b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.outX,this.tr_2),b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.outY,g),b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.oY_1,g),b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,
this.oY_2,0),b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.op_1,b.com_ibm_vis_engine_internal_data_transform_Integrate.gp$3(g)),b.com_ibm_vis_engine_internal_data_transform_Transform.set(t,this.oo_1,h==h?f[this.outX.outputIndex]:null),this.tu$1(e,t))},tu$1:function(a,d){if(this.getLogger()&&this.getLogger().hasListeners()){for(var c=new b.com_ibm_rave_codegenerator_lang_StringBuilder,e=0,g=d.length;e<g;++e){var f=d[e];0<c.length()&&c.append(", ");c.append(f)}this.getLogger().info(b.com_ibm_vis_monitor_LogComponent.JavaEngine,
"output["+a+"]\x3d"+c.toString())}},getTotalOutputCount:function(a,b){return b.length+this.getFixedOutputCount()*a.length},getOutputCount:function(a){return a.size()+this.getFixedOutputCount()},getFixedOutputCount:function(){return this.hr$1()?1:0}});b.com_ibm_vis_engine_internal_data_transform_Integrate.gl$4=function(a,b){if(null!=b)for(var c=0,e=a.arrayIterator(),g=e.length;c<g;++c){var f=e[c];if(b==f.role)return f}return null};b.com_ibm_vis_engine_internal_data_transform_Integrate.gp$2=function(a){if(null!=
a){if(0<a)return 1;if(0>a)return 2}return 0};b.com_ibm_vis_engine_internal_data_transform_Integrate.gp$3=function(a){if(null!=a){if(0<a)return 4;if(0>a)return 5}return 3};b.com_ibm_vis_engine_internal_data_transform_Integrate.ROLE_TYPE="type";b.com_ibm_vis_engine_internal_data_transform_Integrate.ROLE_FROM="from";b.com_ibm_vis_engine_internal_data_transform_Integrate.ROLE_Y0="y0";b.com_ibm_vis_engine_internal_data_transform_Integrate.ROLE_Y1="y1";b.com_ibm_vis_engine_internal_data_transform_Integrate.ROLE_YPERCENT=
"yPercent";b.com_ibm_vis_engine_internal_data_transform_Integrate.EL_3='Missing required output role: "%s".';b.com_ibm_vis_engine_internal_data_transform_Integrate.EL_2='Missing required input role: "%s".';b.com_ibm_vis_engine_internal_data_transform_Integrate.TYPE_ZERO=0;b.com_ibm_vis_engine_internal_data_transform_Integrate.TYPE_ADD=1;b.com_ibm_vis_engine_internal_data_transform_Integrate.TYPE_SUB=2;b.com_ibm_vis_engine_internal_data_transform_Integrate.TYPE_NET_ZERO=3;b.com_ibm_vis_engine_internal_data_transform_Integrate.TYPE_NET_ADD=
4;b.com_ibm_vis_engine_internal_data_transform_Integrate.TYPE_NET_SUB=5;b.com_ibm_vis_engine_internal_data_transform_OrderTransformComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{constructor:function(a){this.sd_1=a},compare:function(a,d){for(var c=0,e=this.sd_1.arrayIterator(),g=e.length;c<g;++c){var f=e[c],h=a.data[f.inputIndex],l=d.data[f.inputIndex];if(h==h||l==l){var m=0;h!=h?m=-1:l!=l?m=1:h!=l&&(m=h<l?-1:1);if(0!=m)return b.com_ibm_vis_engine_internal_data_transform_OrderTransformComparator.ge$4(f)*
m}}return a.index<d.index?-1:1}});b.com_ibm_vis_engine_internal_data_transform_OrderTransformComparator.ge$4=function(a){return a.parameters.ascending?1:-1};b.com_ibm_vis_engine_internal_data_transform_Order=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_data_transform_Transform,{setValues:function(a,d,c,e,g){var f=b.com_ibm_vis_engine_internal_data_transform_Order.gd$3(this.outputs),h=d.getRows();d=Array(h.size());for(var l=0;l<h.size();++l)g=h.get(l),d[l]=a[g];g=new b.com_ibm_vis_engine_internal_data_transform_OrderTransformComparator(f);
b.com_ibm_rave_codegenerator_util_Arrays.sort(d,g);for(g=0;g<d.length;++g)for(a=c[e+g].data,f=0,h=this.outputs.arrayIterator(),l=h.length;f<l;++f){var m=h[f],p=b.com_ibm_vis_engine_internal_data_transform_Transform.get(d[g].data,m);b.com_ibm_vis_engine_internal_data_transform_Transform.set(a,m,p)}},getTotalOutputCount:function(a,b){for(var c=0,e=0;e<a.length;++e)c+=this.getOutputCount(a[e].getRows());return c},getOutputCount:function(a){return a.size()}});b.com_ibm_vis_engine_internal_data_transform_Order.gd$3=
function(a){for(var d=a.size(),c=new b.com_ibm_rave_codegenerator_util_NumericMap,d=d-1;0<=d;--d){var e=a.get(d);if(null!=e.role&&-1!=e.inputIndex&&e.role.CPVISEngineStartsWith("sort")){var e=e.role.substring(4),g=-1;e.CPVisEngineIsEmpty()?g=0:(e=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(e,10),null!=e&&(g=e));-1!=g&&c.put(d,g)}}for(var g=b.com_ibm_rave_codegenerator_lang_Array.create([c.size(),2],null),f=e=0,h=c.keySet().arrayIterator(),l=h.length;f<l;++f){var d=h[f],m=c.get(d);
g[e][0]=d;g[e++][1]=m}d=new b.com_ibm_vis_engine_internal_data_transform_SortFieldComparator;b.com_ibm_rave_codegenerator_util_Arrays.sort(g,d);c=new b.com_ibm_rave_codegenerator_util_List(c.size());for(d=0;d<g.length;++d)(e=a.get(g[d][0]))&&c.add(e);return c};b.com_ibm_vis_engine_internal_data_transform_Order.SL_2="sort";b.com_ibm_vis_engine_internal_data_transform_SortFieldComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){var c=a[1],e=b[1];return c==
e?a[0]-b[0]:c-e}});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/legendLayer",function(){b.com_ibm_vis_engine_internal_legend_LegendMaker=b.com_ibm_init_declare({le_47:0,constructor:function(){this.le_47=0},makeLegendFrames:function(a,d,c){if(c.elements&&c.aesthetics)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legends containing both 'aesthetics' and 'elements' are not supported.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);
c.elements||null!=c.method&&"simple"!=c.method?(b.com_ibm_init_requireSync("com/ibm/vis/layers/nonsimpleLegendLayer"),a=b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.makeLegends(a,d,c,this.le_47)):a=b.com_ibm_vis_engine_internal_legend_LegendMaker.md$7(a,d,c,this.le_47);this.le_47+=a.size();return a}});b.com_ibm_vis_engine_internal_legend_LegendMaker.md$7=function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f;f=c.aesthetics&&0<c.aesthetics.length?b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getSimpleAestheticsByReferences(c.aesthetics,
a):b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getDefaultSimpleLegendAesthetics(a.ga_5,d);for(var h=0,l=0,m=d.length;l<m;++l){var p=d[l];"simple"==p.method&&h++}h+=f.size();d=0;f=f.arrayIterator();for(l=f.length;d<l;++d)p=new b.com_ibm_vis_engine_internal_legend_SimpleLegend(a,c,e,f[d],h),g.add(p),e++;return g};b.com_ibm_vis_engine_internal_legend_SimpleLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_ContentFrame,{le_54:0,nd_5:0,constructor:function(a,d,c,e,g){this.pi_4=a;this.le_55=
d;this.le_54=c;this.ac_7=e;this.nd_5=g;this.sf_6=this.mf$2();this.setId("L"+c);this.setBackgroundIdSuffixes(b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_STROKE,b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_FILL);this.sl_11=d.boundsStyle;this.setRequiresBackgroundShape(!1)},mf$2:function(){var a,d,c,e;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.le_55.location,b.com_ibm_vis_spec_internal_BoundsSpec)){var g=this.le_55.location;null!=g.width&&(c=
a=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(g.width));null!=g.height&&(e=d=b.com_ibm_vis_engine_internal_layout_length_Lengths.fromSpec(g.height))}a&&d||(g=this.pi_4.getLegendPosition(this.le_55),g==b.com_ibm_vis_engine_internal_LegendPosition.TOP||g==b.com_ibm_vis_engine_internal_LegendPosition.BOTTOM?(a||(a=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFractionParent(1/this.nd_5),c=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed(Infinity)),d||(e=d=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFractionParent(.2))):
(a||(c=a=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFractionParent(.2)),d||(d=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFractionParent(1/this.nd_5),e=b.com_ibm_vis_engine_internal_layout_length_Lengths.makeFixed(Infinity))));return new b.com_ibm_vis_engine_internal_layout_SizeInfo(new b.com_ibm_vis_engine_internal_layout_length_Size(a,d),new b.com_ibm_vis_engine_internal_layout_length_Size(a,d),new b.com_ibm_vis_engine_internal_layout_length_Size(c,e))},getContentSizeInfo:function(a,
b){return this.sf_6},createContent:function(){var a=new b.com_ibm_rave_codegenerator_util_List,d=this.getBounds(),c=new b.com_ibm_vis_engine_internal_SizedContent(a,d.getExtent());if(0==this.ac_7.size())return c;for(var e=this.ac_7.get(0),g=e.valueProvider.getBaseField(),f=!1,h=0,l=this.ac_7.size();h<l;++h)if(4==this.ac_7.get(h).typeNumber){f=!0;break}l=b.com_ibm_vis_engine_internal_legend_SwatchType.makeForAesthetics(this.ac_7,this.le_55);f=new b.com_ibm_vis_engine_internal_legend_SimpleSwatch(this.pi_4,
l,this.le_55,l.me_15||!e.element?null:e.element.size,f);l=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND);l.setId("L"+this.le_54);var m;g&&(m=g.id,l.setField(m));a.add(l);this.le_55.boundsStyle?h=this.le_55.boundsStyle.copy():(h=new b.com_ibm_vis_spec_internal_StyleSpec,h.padding=0);h=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(h,d.getExtent());g=this.ml$22(l,g,d,h);h=new b.com_ibm_vis_geom_Rect(0,g,d.wt_3-h.left-
h.right,d.hh_2-g-h.top-h.bottom);m=new b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder(this.pi_4,this.le_55,this.le_54,h,m);e=e.scale.spans.get(0);d=new b.com_ibm_rave_codegenerator_util_List;g=!0;this.le_55.scale&&null!=this.le_55.scale.local&&(g=this.le_55.scale.local.valueOf());if(0<e.getCategoryCount())e.setupMaxTickCount(50),e.addTicks(d,g),this.be$6(l,d,m,f,e,!1);else{for(var a=[11,7,3,2],p=!1,h=0;!p&&h<a.length;++h)d.clear(),e.setupForTickCount(a[h],a[h]),e.addTicks(d,g),this.be$6(l,
d,m,f,e,!0)&&(p=!0);p||(m.clear(),m.build(l,!0))}return c},be$6:function(a,d,c,e,g,f){var h=e.sp_11,l=e.sz_7;e=e.be_7;var m=g.getInputUnit();c.clear();var p;0==g.getCategoryCount()?p=!0:(p=this.pi_4.getLegendPosition(this.le_55),p=(p==b.com_ibm_vis_engine_internal_LegendPosition.LEFT||p==b.com_ibm_vis_engine_internal_LegendPosition.RIGHT)&&this.ac_7.get(0).element.grammar.coordinates.containsStacking()&&!this.ac_7.get(0).element.grammar.coordinates.containsPolar());this.le_55.scale&&null!=this.le_55.scale.reverse&&
this.le_55.scale.reverse.valueOf()&&(p=!p);for(var q=this.ac_7.get(0).scale.reverse,r=!0,t=d.size(),w=0;r&&w<t;++w){var r=p?d.get(t-1-w):d.get(w),x=r.value,y=e.makeCustomShape(0,0,l.wt_2,l.hh_1,null),z=g.toZeroOne(x,m,!0);q&&(z=1-z);y=this.ac$11(y,h,x,z);r=c.addEntry(y,r)}if(!r&&f)return!1;c.build(a,!r||50<g.getCategoryCount());return!0},ml$22:function(a,d,c,e){var g;this.le_55.title?g=this.le_55.title:d&&(g=[null!=d.label?d.label:d.id]);if(!g||0==g.length)return 0;var f;this.le_55.titleStyle?(f=
this.le_55.titleStyle.copy(),f.align=null,f.valign=null):(f=new b.com_ibm_vis_spec_internal_StyleSpec,f.font=new b.com_ibm_vis_spec_internal_FontSpec,f.font.weight="bold",f.padding=2.5);var h=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(this.pi_4,f,"middle","start",null);e=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,c.wt_3-e.left-e.right,c.hh_2);g=h.makeLabel(g,e);if(!g)return 0;g.setID("L"+this.le_54+"T");d&&g.setField(d.id);a.addChild(g.createSceneNode());
a=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(f,c.getExtent(),2.5);return g.getBounds().hh_2+a.top+a.bottom},ac$11:function(a,b,c,e){switch(b.type){case 12:case 1:case 6:a=this.ac$12(a,c,e,430);break;case 2:case 8:case 7:a=this.ac$12(a,c,e,398);break;case 9:a=this.ac$12(a,c,e,394);break;case 3:a=this.ac$14(a,c,e);break;case 4:case 5:a=this.ac$13(a,c,e);break;case 10:a=this.ac$12(a,c,e,398);break;case 11:a=this.ac$12(a,c,e,391)}return a},ac$12:function(a,d,c,e){d=this.ac$15(a.getPart(0),
d,c,e);return new b.com_ibm_vis_engine_internal_struct_Schema(a.getX(),a.getY(),a.getWidth(),a.getHeight(),[d],a.isFilled())},ac$13:function(a,d,c){for(var e=a.getPart(0),g=a.getPart(1),f=0,h=this.ac_7.arrayIterator(),l=h.length;f<l;++f){var m=h[f],p=b.com_ibm_vis_engine_internal_legend_SimpleLegend.gp$12(m),q="outline"==p,p="both"==p;switch(m.typeNumber){case 2:case 128:case 256:if(q||p)g=m.applyValue(g,c,d,!1);q||(e=m.applyValue(e,c,d,!1));break;case 8:g=m.applyValue(g,c,d,!1)}}return new b.com_ibm_vis_engine_internal_struct_Schema(a.getX(),
a.getY(),a.getWidth(),a.getHeight(),[e,g],a.isFilled())},ac$14:function(a,d,c){var e=a.getPart(0),g=a.getPart(1);g.setGlyphLike();for(var f=0,h=this.ac_7.arrayIterator(),l=h.length;f<l;++f){var m=h[f],p=b.com_ibm_vis_engine_internal_legend_SimpleLegend.gr$13(m),q="line"==p,r="both"==p;switch(m.typeNumber){case 2:case 8:case 4:case 128:case 256:q||(g=m.applyValue(g,c,d,!1));if(q||r||null==p)e=m.applyValue(e,c,d,!1);break;case 32:g=m.applyValue(g,c,d,!1)}}return new b.com_ibm_vis_engine_internal_struct_Schema(a.getX(),
a.getY(),a.getWidth(),a.getHeight(),[e,g],a.isFilled())},ac$15:function(a,b,c,e){for(var g=0,f=this.ac_7.arrayIterator(),h=f.length;g<h;++g){var l=f[g];0!=(l.typeNumber&e)&&(a=l.applyValue(a,c,b,!1))}return a}});b.com_ibm_vis_engine_internal_legend_SimpleLegend.gp$12=function(a){a=a.spec;return null==a.modifies?null:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.modifies)?a.modifies:a.modifies.type};b.com_ibm_vis_engine_internal_legend_SimpleLegend.gr$13=function(a){a=a.spec;return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.modifies,
b.com_ibm_vis_spec_internal_ModifiesSpec)?a.modifies.part:null};b.com_ibm_vis_engine_internal_legend_SimpleSwatch=b.com_ibm_init_declare({constructor:function(a,d,c,e,g){this.sp_11=d;this.sz_7=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$1(d,c,e,g);g=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$2(d,c,e,g);d=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.me$66(d,c,e,this.sz_7,g);this.be_7=new b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder(d,g,a.vx_10)},getSwatchType:function(){return this.sp_11},
getSwatchBuilder:function(){return this.be_7},getSwatchSize:function(){return this.sz_7}});b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$1=function(a,d,c,e){d=d.itemStyle;switch(a.type){default:case 1:a=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$3(c,a.sl_21,d,e);break;case 2:case 3:case 7:case 8:a=new b.com_ibm_vis_geom_Dim(50,20);a=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(a,a,d);break;case 4:case 5:case 6:case 9:case 10:case 12:case 11:a=new b.com_ibm_vis_geom_Dim(20,
20),a=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(a,a,d)}return a};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$2=function(a,d,c,e){return 3==a.type?b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$3(c,a.sl_22,d.itemStyle,e):new b.com_ibm_vis_geom_Dim(0,0)};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mz$3=function(a,d,c,e){var g;g=a?new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1):new b.com_ibm_vis_geom_Dim(20,20);g=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(g,
g,d);!c||null==c.size&&null==c.width&&null==c.height?a&&e||(a=!0,d&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d.symbol)&&(d=d.symbol,a=!(d.CPVISEngineStartsWith("rect")||"i-beam"==d||"t-beam"==d)),a?(d=Math.max(10,Math.min(20,Math.min(g.wt_2,g.hh_1))),g.wt_2=d,g.hh_1=d):(d=g.wt_2,a=g.hh_1,c=new b.com_ibm_vis_engine_internal_data_Range(10,20),0>=d&&0>=a?a=d=20:0>=d?(d=0,a=c.clamp(a)):0>=a?(d=c.clamp(d),a=0):20<d||20<a?(c=20/Math.max(d,a),d*=c,a*=c):10>d&&10>a&&(c=10/Math.max(d,a),d*=
c,a*=c),g.wt_2=d,g.hh_1=a)):g=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(g,g,c);return g};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.me$66=function(a,d,c,e,g){var f=d.itemStyle;c=a.sl_21;var h;d=c;d||(d=new b.com_ibm_vis_spec_internal_StyleSpec,d.outline="#000");null==d.fill&&(d.fill="#aaa");if(d=b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(d,f))h=d.symbol,d=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(d,!1,!1,10);c||(c=new b.com_ibm_vis_spec_internal_StyleSpec,
c.fill="#000");(c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(c,f))&&(c=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(c,!0,!1,10));f=new b.com_ibm_vis_spec_internal_SymbolSpec;switch(a.type){default:case 1:a=[b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$17(h,d)];break;case 2:case 3:a=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$18(a,e,g,c);break;case 4:a=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$19(d,!0);break;case 5:a=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$19(d,
!1);break;case 6:a=[b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$17(null==h?"rect":h,d)];break;case 7:case 8:a=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec];a[0].type="path";a[0].style=c;a[0].path="M0,0.5L1,0.5";break;case 9:case 10:a=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec];a[0].type="rect";a[0].style=d;break;case 11:a=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec];a[0].type="letter-A";a[0].style=d;break;case 12:a=[b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$17("square",
d)]}f.shape=a;return f};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28=function(a,d,c,e){if(!a)return null;var g=a.copy();g.size=null;g.width=null;g.height=null;g.symbol=null;g.padding=null;!d||null==a.size||g.stroke&&null!=g.stroke.width||(g.stroke||(g.stroke=new b.com_ibm_vis_spec_internal_StrokeSpec),g.stroke.width=a.size);g.stroke&&null!=g.stroke.width&&(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(g.stroke.width,1,20),g.stroke.width=null==a?1:Math.min(a,
e));g.font&&(e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(g.font.size,20,20),g.font.size=null==e?12:b.com_ibm_vis_engine_internal_util_MathUtil.r3(Math.max(7.5,Math.min(e,15))));b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g.fill,b.com_ibm_vis_spec_internal_FillSpec)&&(e=g.fill.copy(),e.global=!1,g.fill=e);if(b.com_ibm_rave_codegenerator_util_BasicFactory.isEmpty(g.toJSON())){if(!c)return null;g.fill="#aaa"}return g};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$17=
function(a,d){var c=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;if(null!=a)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))c.style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(d,!1,!1,3),c.type=a;else if(a.shape){c.type="group";var e=a.shape.length;c.shape=Array(e);c.style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(d,!1,!1,3);for(var g=0;g<e;++g)c.shape[g]=a.shape[g].copy(),c.shape[g].style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(d,
a.shape[g].style),!1,!1,3),c.shape[g].style&&(c.shape[g].style.symbol=null)}else throw new b.com_ibm_vis_exceptions_internal_SpecException("Must specify shape array for custom symbol",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);else c.type="circle",c.style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(d,!1,!0,3);return c};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$18=function(a,d,c,e){var g=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;g.type="path";g.path="M0,0.5L1,0.5";
g.style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(e,!0,!1,10);if(3!=a.type)return[g];(a=a.sl_22)?(a=a.copy(),null==a.fill&&(a.fill="#aaa")):a=new b.com_ibm_vis_spec_internal_StyleSpec;a=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$17(a.symbol,a);a.bounds=new b.com_ibm_vis_spec_internal_BoundsSpec;e=c.wt_2/d.wt_2;d=c.hh_1/d.hh_1;a.bounds.left=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*(.5-e/2))+"%";a.bounds.width=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*e)+"%";
a.bounds.top=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*(.5-d/2))+"%";a.bounds.height=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*d)+"%";return[g,a]};b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mo$19=function(a,d){var c=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec,new b.com_ibm_vis_spec_internal_SymbolShapeSpec];c[0].type="path";c[0].style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(a,!1,!1,3);c[0].style||(c[0].style=new b.com_ibm_vis_spec_internal_StyleSpec,c[0].style.fill=
"#aaa");c[0].style.outline="transparent";c[1].type="path";c[1].style=b.com_ibm_vis_engine_internal_legend_SimpleSwatch.mc$28(a,!1,!1,3);c[1].style?null==c[1].style.outline&&null!=c[1].style.fill?c[1].style.fill=c[1].style.stroke?"#000":"transparent":(c[1].style.fill=c[1].style.outline,c[1].style.outline=null):(c[1].style=new b.com_ibm_vis_spec_internal_StyleSpec,c[1].style.fill=a?"#000":"transparent");d?(c[0].path="M0,1C0,0.7,0.4,0.6,0.5,0.5C0.6,0.4,0.7,0,1,0L1,1Z",c[1].path="M0,1C0,0.7,0.4,0.6,0.5,0.5C0.6,0.4,0.7,0,1,0"):
(c[0].path="M0,1L0.4,0.25L0.6,0.5L1.0,0.0L1.0,1.0Z",c[1].path="M0,1L0.4,0.25L0.6,0.5L1.0,0.0");return c};b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder=b.com_ibm_init_declare({le_57:0,tt_9:0,th_5:0,th_4:0,constructor:function(a,d,c,e,g){this.le_58=d;this.le_57=c;this.bd_10=e;this.fm_3=g;this.le_56=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(a,d.labelStyle,"start","middle",null);d.legendEntryStyle?(this.ll_12=d.legendEntryStyle.copy(),null==this.ll_12.fill&&
(this.ll_12.fill=b.com_ibm_vis_engine_internal_scene_StyleBuilder.TRANSPARENT),null==this.ll_12.outline&&(this.ll_12.outline=b.com_ibm_vis_engine_internal_scene_StyleBuilder.TRANSPARENT)):this.ll_12=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.TL_6;var f=e.getExtent();a=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(d.legendEntryStyle,f,2.5);c=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(d.itemStyle,f,0);g=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(d.itemBoxStyle,
f,0);d=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(d.labelStyle,f,0);this.tt_9=a.getHorizontal()+c.getHorizontal()+g.left+Math.max(3,g.right+d.right)+d.right;this.th_5=a.getVertical()+c.getVertical()+g.getVertical();this.th_4=a.getVertical()+d.getVertical();(e=this.le_56.makeLabel(["\u2026"],b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,e.wt_3,e.hh_2)))?(e=e.getBounds(),this.mz_14=new b.com_ibm_vis_geom_Dim(2*e.wt_3,e.hh_2+2)):this.mz_14=new b.com_ibm_vis_geom_Dim(14,
14);this.clear()},clear:function(){this.se_56=new b.com_ibm_rave_codegenerator_util_List;this.ll_11=new b.com_ibm_rave_codegenerator_util_List;this.mz_13=new b.com_ibm_vis_geom_Dim(0,0);this.mz_12=new b.com_ibm_vis_geom_Dim(this.mz_14.wt_2,this.mz_14.hh_1)},addEntry:function(a,d){var c=this.se_56.size(),e=a.getBounds(),g=Math.max(e.wt_3,this.mz_13.wt_2),e=Math.max(e.hh_2,this.mz_13.hh_1),f=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,this.bd_10.wt_3-this.tt_9-g,this.mz_14.hh_1),
h=this.mz_12.wt_2,l=this.mz_12.hh_1;if(f=this.le_56.makeLabelForContent(d.content,f))f=f.getBounds(),h=Math.max(f.wt_3,h),l=Math.max(f.hh_2,l);var f=g+this.mz_14.wt_2+this.tt_9,m=Math.max(e+this.th_5,l+this.th_4);if(Math.floor(this.bd_10.wt_3/f)*Math.floor(this.bd_10.hh_2/m)<c+1)return!1;this.mz_13.wt_2=g;this.mz_13.hh_1=e;this.mz_12.wt_2=h;this.mz_12.hh_1=l;this.se_56.add(a);this.ll_11.add(d);return!0},build:function(a,b){var c=this.mf$3(),e=c[0].wt_3,g=c[0].hh_2,f=Math.floor(this.bd_10.hh_2/g);
0==f&&(f=1);var h=Math.floor(this.bd_10.wt_3/e);0==h&&(h=1);var l=this.bd_10.x,m=this.bd_10.y,p=this.se_56.size(),q=0;if(b){p==f*h&&p--;var r=Math.floor(p/f);(h=this.mr$13(q++,l+r*e,m+p%f*g,c))&&a.addChild(h)}for(var t=0;t<p;++t)h=t%f,r=Math.floor(t/f),a.addChild(this.mr$12(t,q++,l+r*e,m+h*g,c))},mf$3:function(){var a=Math.max(this.mz_13.hh_1+this.th_5,this.mz_12.hh_1+this.th_4),d=Math.floor(this.bd_10.hh_2/a);0==d&&(d=1);d=Math.ceil(this.se_56.size()/d);0==d&&(d=1);var a=new b.com_ibm_vis_geom_Rect(0,
0,this.bd_10.wt_3/d,a),c=this.bd_10.getExtent(),d=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(this.le_58.legendEntryStyle,c,2.5).insetRect(a),e=this.mz_13.wt_2,g=this.mz_13.hh_1,f=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(this.le_58.itemStyle,c,0),h=e+f.getHorizontal(),l=g+f.getVertical(),m=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(this.le_58.itemBoxStyle,c,0),p=(d.hh_2-l-m.getVertical())/2,l=new b.com_ibm_vis_geom_Rect(d.x+
m.left,d.y+m.top+p,h,l),e=new b.com_ibm_vis_geom_Rect(l.x+f.left,l.y+f.top,e,g),c=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle(this.le_58.labelStyle,c,0),g=Math.max(3,m.right+c.left),h=d.wt_3-(h+m.left+g+c.right),m=this.mz_14.hh_1,p=(d.hh_2-m-c.getVertical())/2,p=new b.com_ibm_vis_geom_Rect(l.getX2()+g,d.y+p,h+c.left+c.right,m+c.top+c.bottom);return[a,d,l,e,p]},mr$12:function(a,d,c,e,g){d="L"+this.le_57+"LE"+d;var f=this.ll_11.get(a).value,h=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY);
h.setId(d);var l=this.le_58.itemBoxStyle?4:3,m=Array(l),p=0,q=new b.com_ibm_rave_codegenerator_util_List;m[p]=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.mc$27(g[1],c,e,this.ll_12);q.add(p++,!0);this.le_58.itemBoxStyle&&(m[p]=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.mc$27(g[2],c,e,this.le_58.itemBoxStyle),q.add(p++,!1));var r=this.se_56.get(a),t=g[3].getCenter();r.affine(1,c+t.x,1,e+t.y,!0);m[p]=r;q.add(p++,!0);r=b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.mc$27(g[4],
c,e,b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.TL_6);m[p]=r;q.add(p++,!0);for(p=0;p<l;++p)m[p].setField(this.fm_3),m[p].setValue(f);c=new b.com_ibm_vis_engine_internal_struct_Schema(c,e,g[0].wt_3,g[0].y,m,!0);c.setID(d+"SW0");c.setField(this.fm_3);c.setValue(f);b.com_ibm_vis_engine_internal_ImageStyle.addImageShape(c,h.getChildren());h.addChild(c.createSceneNode());for(p=0;p<q.size();++p)q.get(p).valueOf()&&m[p].setID(m[p].id+"Y");if(a=this.le_56.makeLabelForContent(this.ll_11.get(a).content,
r))a.setID(d+"T"),a.setField(this.fm_3),a.setValue(f),h.addChild(a.createSceneNode());return h},mr$13:function(a,d,c,e){var g=this.le_56.makeLabel(["\u2026"],b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,this.bd_10.wt_3,this.bd_10.hh_2));if(!g)return null;var f=g.getBounds();g.affine(1,d+e[0].getCenter().x-f.getCenter().x,1,c+2-f.y,!0);d=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY);a="L"+this.le_57+
"LE"+a;d.setId(a);g.setID(a+"SW0");d.addChild(g.createSceneNode());return d}});b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.mc$27=function(a,d,c,e){a=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(d+a.x,c+a.y,a.wt_3,a.hh_2);b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(a,e);return a};b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.makePaddingForStyle=function(a,d,c){if(!a||null==a.padding)return a=Math.max(0,c),new b.com_ibm_vis_engine_internal_struct_Insets(a,
a,a,a);a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(a.padding,d,d);return new b.com_ibm_vis_engine_internal_struct_Insets(Math.max(0,a.top),Math.max(0,a.left),Math.max(0,a.bottom),Math.max(0,a.right))};b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.DN_6=2.5;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.TL_6=new b.com_ibm_vis_spec_internal_StyleSpec;b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.TL_6.fill=b.com_ibm_vis_engine_internal_scene_StyleBuilder.TRANSPARENT;
b.com_ibm_vis_engine_internal_legend_SimpleLegendBuilder.TL_6.outline=b.com_ibm_vis_engine_internal_scene_StyleBuilder.TRANSPARENT});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/interactionLayer",function(){b.com_ibm_vis_engine_internal_util_SceneUtil=b.com_ibm_init_declare({constructor:function(a){this.sn_17=a},getSize:function(){var a=b.com_ibm_vis_engine_internal_struct_Shape.toRect(this.sn_17[0].shape).getExtent(),d=b.com_ibm_vis_engine_internal_util_SceneUtil.getBackTransform(this.sn_17);
return new b.com_ibm_vis_geom_Dim(a.wt_2*Math.abs(d.m00),a.hh_1*Math.abs(d.m11))}});b.com_ibm_vis_engine_internal_util_SceneUtil.getBounds=function(a){var d=a?a.shape:null;d||(d=a);return b.com_ibm_vis_engine_internal_util_SceneUtil.gd$14(a,d)};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$14=function(a,d){var c;d&&(c=d.type,c=null==c?b.com_ibm_vis_engine_internal_util_SceneUtil.getDefaultBounds(d):c.CPVISEngineStartsWith("rect")?b.com_ibm_vis_engine_internal_util_SceneUtil.gd$20(d):"image"==c?
b.com_ibm_vis_engine_internal_util_SceneUtil.gd$19(d):"circle"==c?b.com_ibm_vis_engine_internal_util_SceneUtil.gd$18(d):"ellipse"==c?b.com_ibm_vis_engine_internal_util_SceneUtil.gd$17(d):"line"==c?b.com_ibm_vis_engine_internal_util_SceneUtil.gd$16(d):"text"==c?b.com_ibm_vis_engine_internal_util_SceneUtil.gd$15(d,a.font):b.com_ibm_vis_engine_internal_util_SceneUtil.getDefaultBounds(d));if(a){var e=a.stroke;if(e&&c){var g=null,e=e.width;null!=e&&(g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e,
null,null));null==g&&(g=1);c=c.expand(g/2)}}return c};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$15=function(a,d){var c=a.x,e=a.y,g=a.width,f=a.height,h=a.align;if(!d)return null;var l=d.ascent;if(null==l||null==g||null==f)return null;null==c&&(c=0);null==e&&(e=0);null==h&&(h="start");e=new b.com_ibm_vis_geom_Rect(c,e-l,g,f);"middle"==h?e.x-=e.wt_3/2:"end"==h?e.x-=e.wt_3:"start"==h&&(e.x=c);return e};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$16=function(a){var d=a.x1,c=a.y1,e=a.x2;a=a.y2;
d=null==d?0:d;c=null==c?0:c;e=null==e?100:e;a=null==a?100:a;return new b.com_ibm_vis_geom_Rect(Math.min(d,e),Math.min(c,a),Math.abs(e-d),Math.abs(a-c))};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$17=function(a){var d=a.cx,c=a.cy,e=a.rx;a=a.ry;null==d&&(d=0);null==c&&(c=0);null==e&&(e=200);null==a&&(a=100);return new b.com_ibm_vis_geom_Rect(d-e,c-a,2*e,2*a)};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$18=function(a){var d=a.cx,c=a.cy;a=a.r;null==d&&(d=0);null==c&&(c=0);null==a&&(a=100);return new b.com_ibm_vis_geom_Rect(d-
a,c-a,2*a,2*a)};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$19=function(a){var d=a.x,c=a.y,e=a.width;a=a.height;null==e&&(e=0);null==a&&(a=0);null==d&&(d=0);null==c&&(c=0);return new b.com_ibm_vis_geom_Rect(d,c,e,a)};b.com_ibm_vis_engine_internal_util_SceneUtil.gd$20=function(a){var d=a.x,c=a.y,e=a.width;a=a.height;null==e&&(e=100);null==a&&(a=100);null==d&&(d=0);null==c&&(c=0);return new b.com_ibm_vis_geom_Rect(d,c,e,a)};b.com_ibm_vis_engine_internal_util_SceneUtil.getDefaultBounds=function(a){if(!a)return null;
var d=a.x,c=a.y,e=a.width;a=a.height;return null==e||null==a||null==d||null==c?null:new b.com_ibm_vis_geom_Rect(d,c,e,a)};b.com_ibm_vis_engine_internal_util_SceneUtil.getBackTransform=function(a){if(!a||0==a.length)return null;a=a[0];a=a.transform;return b.com_ibm_vis_scenetree_internal_CoreJSONSerializer.deserializeAffineNonNull(a)};b.com_ibm_vis_engine_internal_util_SceneUtil.EM_1="ellipse";b.com_ibm_vis_engine_internal_util_SceneUtil.IM_2="image";b.com_ibm_vis_engine_internal_util_SceneUtil.AN_1=
"ascent";b.com_ibm_vis_engine_internal_util_SceneUtil.AG_1="align";b.com_ibm_vis_engine_internal_util_SceneUtil.FONT="font";b.com_ibm_vis_engine_internal_util_SceneUtil.TR_2="transform";b.com_ibm_vis_engine_internal_util_SceneUtil.X="x";b.com_ibm_vis_engine_internal_util_SceneUtil.Y="y";b.com_ibm_vis_engine_internal_util_SceneUtil.R="r";b.com_ibm_vis_engine_internal_util_SceneUtil.X1="x1";b.com_ibm_vis_engine_internal_util_SceneUtil.X2="x2";b.com_ibm_vis_engine_internal_util_SceneUtil.Y1="y1";b.com_ibm_vis_engine_internal_util_SceneUtil.Y2=
"y2";b.com_ibm_vis_engine_internal_util_SceneUtil.RX="rx";b.com_ibm_vis_engine_internal_util_SceneUtil.RY="ry";b.com_ibm_vis_engine_internal_util_SceneUtil.CX="cx";b.com_ibm_vis_engine_internal_util_SceneUtil.CY="cy";b.com_ibm_vis_engine_internal_util_SceneUtil.DX="dx";b.com_ibm_vis_engine_internal_util_SceneUtil.DY="dy";b.com_ibm_vis_interaction_HighlightRepresentation=b.com_ibm_init_declare({oa_1:!1,constructor:function(a){this.oa_1=!0;this.setRepresentation(a)},setRepresentation:function(a){this.setStyle(a);
a=this.sl_23.overlay;null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a)&&(this.oa_1=a.valueOf())},setStyle:function(a){this.sl_23=a?a:b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject()},getStyle:function(){return this.sl_23},setOverlay:function(a){this.oa_1=a},isOverlay:function(){return this.oa_1}});b.com_ibm_vis_exp_Selection=b.com_ibm_init_declare({lastX:0,lastY:0,constructor:function(a){this.visControl=a;this._buildHighlights();this.visControl.getInteractivity().setHighlightRepresentation(12,
this.highlights[0])},changeHighlight:function(a){this.highlightIndex>=this.highlights.length&&(this.highlightIndex=0);var b=this.visControl.getInteractivity(),c=this.highlights[this.highlightIndex];this.highlightIndex++;b.setHighlightRepresentation(a,c)},selectOnEvent:function(a){var b=this.visControl.getInteractivity(),c=a.pageX;a=a.pageY;if(2>Math.abs(c-this.lastX)&&2>Math.abs(a-this.lastY))return this.lastSelectedItem;this.lastX=c;this.lastY=a;var e=b.getItemsAtPoint(c,a),c=[];for(a=0;a<e.length;a++)this._addItemsOfInterest(c,
e[a]);e=null;0<c.length&&(e=c[0]);var g=[];for(a=1;a<c.length;a++)g[a-1]=c[a];b=b.makeHighlightState();b.setSingle(e,0);b.setMultiple(g,12);b.apply();return this.lastSelectedItem=e},_addItemsOfInterest:function(a,b){var c=b.id;-1<c.indexOf("ack")||-1<c.indexOf("Out")||-1<c.indexOf("In")||-1<c.indexOf("Coords")||-1<c.indexOf("XH")||3>c.length||a.push(b)},_buildHighlights:function(){this.highlightIndex=0;this.highlights=[];var a=this._createHighlightRepresentation("rgba(0,255,255,0.2)","blue","2");
this.highlights[0]=a;a=this._createHighlightRepresentation("rgba(255,255,0,0.4)","#40e0d0","1");this.highlights[1]=a;a=this._createHighlightRepresentation(null,"black","4");this.highlights[2]=a;a=this._createHighlightRepresentation("rgba(240,166,48,0.4)","rgba(242,188,102,1.)","2");this.highlights[3]=a},_createHighlightRepresentation:function(a,d,c){var e={};e.fill=a;e.outline=d;a={};a.width=c;e.stroke=a;return new b.com_ibm_vis_interaction_HighlightRepresentation(e)}});b.com_ibm_vis_interaction_EffectTarget=
b.com_ibm_init_declare({constructor:function(){this.tt_10=new b.com_ibm_rave_codegenerator_util_Map(4);this.tD_1=new b.com_ibm_rave_codegenerator_util_Set},setTarget:function(a,d){if(b.com_ibm_vis_interaction_EffectTarget.vp$3(a)){var c=new b.com_ibm_rave_codegenerator_util_List(1);c.add(d);this.tt_10.put(a,c)}},setTargets:function(a,d){if(b.com_ibm_vis_interaction_EffectTarget.vp$3(a))if(d){for(var c=new b.com_ibm_rave_codegenerator_util_List(1),e=0,g=d.length;e<g;++e)c.add(d[e]);this.tt_10.put(a,
c)}else this.tt_10.remove(a)},addTargetedShape:function(a){if(a&&(this.tD_1.add(a.getID()),a.getHitChildren())){var b=0;a=a.getHitChildren();for(var c=a.length;b<c;++b)this.addTargetedShape(a[b])}},addTargetedShapes:function(a){if(a)for(var b=0,c=a.length;b<c;++b)this.addTargetedShape(a[b])},clearTargetedShapes:function(){this.tD_1.clear()},affectsId:function(a){if(0<this.tD_1.size()&&!this.tD_1.contains(a))return!1;for(var d=0,c=this.tt_10.keySet().arrayIterator(),e=c.length;d<e;++d){var g=c[d],
f=b.com_ibm_vis_interaction_EffectTarget.ge$58(a,g);if(-1==f)return!1;for(var h=!1,g=this.tt_10.get(g),l=g.size(),m=0;!h&&m<l;++m){var p=g.get(m);if(-1==p||p==f)h=!0}if(!h)return!1}return!0}});b.com_ibm_vis_interaction_EffectTarget.vp$3=function(a){return"G"==a||"E"==a||"F"==a||"L"==a};b.com_ibm_vis_interaction_EffectTarget.ge$58=function(a,d){if("L"==d&&76!=a.charCodeAt(0))return-1;var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID(a,d.charCodeAt(0));return null==c?-1:c};b.com_ibm_vis_interaction_EffectTarget.FACET=
"F";b.com_ibm_vis_interaction_EffectTarget.GRAMMAR="G";b.com_ibm_vis_interaction_EffectTarget.ELEMENT="E";b.com_ibm_vis_interaction_EffectTarget.LEGEND="L";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_EffectTarget.ANY=-1});b.com_ibm_vis_interaction_SceneItem=b.com_ibm_init_declare({getType:function(){},subType:function(){},getRows:function(){},getOriginalRows:function(){},coordinateFields:function(){},coordinateFieldsArray:function(){},coordinates:function(){},aestheticFields:function(){},
aestheticValues:function(){},tooltipText:function(){},getBidiTooltipText:function(){},meta:function(){},getMetaKeys:function(){},getMetaValue:function(a){},grammarIndex:function(){},elementIndex:function(){},dimensionIndex:function(){},facetIndex:function(){},getDataIndex:function(){},legendIndex:function(){},getHitChildren:function(){},getHitOutlinePoints:function(){},getSceneNode:function(){}});b.com_ibm_vis_internal_VisPanZoomControllerMarquee=b.com_ibm_init_declare({_MOVE_DELTA:5,_DEFAULT_MARQUEE_RATIO_RECT:new b.com_ibm_vis_geom_Rect(0,
0,.33,.33),_constrainMarquee:!0,_updateOnMove:!0,constructor:function(a,b){this._controller=a;this._visControl=a._getBaseControl();this._updateOnMove=b;this._init()},destroy:function(){this._removeInteractivity();this._restoreA11yProperties();null!=this._marqueeNode&&(ea.destroy(this._marqueeNode),this._marqueeNode=null)},getMarqueeNode:function(){return this._marqueeNode},update:function(a,b){this._sizeMarquee(a,b);this._positionMarquee(a,b);this._setConstraintBox()},reset:function(a,b){F.set(this._marqueeNode,
"left","0px");F.set(this._marqueeNode,"top","0px");this.update(a,b)},_init:function(){this._createMarqueeNode();ea.place(this._marqueeNode,this._visControl.domNode,"last");this.update(this._getDefaultMarqueeBounds(),this._DEFAULT_MARQUEE_RATIO_RECT);this._addInteractivity();this._setFocus()},_createMarqueeNode:function(){if(null==this._marqueeNode){var a={style:{MozBoxSizing:"border-box",webkitBoxSizing:"border-box",boxSizing:"border-box",border:"2px solid rgb(26, 133, 191)",backgroundColor:"rgba(26, 133, 191, 0.15)",
position:"absolute",top:"0px",left:"0px",webkitTapHighlightColor:"rgba(0,0,0,0)",cursor:"move",zIndex:"99"},id:"ravePanZoomMarquee"};8>=aa("ie")&&(a.style.backgroundColor="rgb(26, 133, 191)",a.style.background="none",a.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr\x3d#261A85BF, endColorstr\x3d#261A85BF)");this._marqueeNode=ea.create("div",a);8>=aa("ie")&&ea.create("img",{style:{height:"100%",width:"100%"},src:"data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAQAICVAEAOw\x3d\x3d"},
this._marqueeNode);this._setA11yProperties()}},_getDefaultMarqueeBounds:function(){var a=this._controller.getBaseControlSize();return new b.com_ibm_vis_geom_Rect(0,0,a.getWidth(),a.getHeight())},_sizeMarquee:function(a,b){var c=a.getHeight()*b.getHeight(),e=a.getWidth()*b.getWidth();F.set(this._marqueeNode,"height",c+"px");F.set(this._marqueeNode,"width",e+"px")},_positionMarquee:function(a,b){var c=a.getWidth()*b.getX(),e=a.getHeight()*b.getY();F.set(this._marqueeNode,"left",c+"px");F.set(this._marqueeNode,
"top",e+"px")},calculateMarqueeRatio:function(){var a=t.position(this._marqueeNode),a=a.w*a.h;if(0==a)return Number.NaN;var b=this._controller.getBaseControlSize(),b=b.getWidth()*b.getHeight();return Math.sqrt(b/a)},_addInteractivity:function(){this._createMarqueeMove();this._marqueeNode.tabIndex=0;this._connections=[];this._connections.push(x(this._marqueeNode,"keydown",S.hitch(this,this._keydownHandler)));this._connections.push(x(this._marqueeNode,"click",S.hitch(this,this._clickHandler)))},_removeInteractivity:function(){if(null!=
this._connections){for(var a=0;a<this._connections.length;a++)this._connections[a].remove();this._connections=null}},_createMarqueeMove:function(){var a=this._createMarqueeMover();this._marqueeMove=this._constrainMarquee?new ja.boxConstrainedMoveable(this._marqueeNode,{box:{l:this._constraintBox.left,t:this._constraintBox.top,w:this._constraintBox.width,h:this._constraintBox.height},within:!0,mover:a}):new l(this._marqueeNode,{mover:a})},_createMarqueeMover:function(){var a=null;return a=this._updateOnMove?
b.com_ibm_init_declare([K],{marquee:this,onMouseMove:function(a){K.prototype.onMouseMove.apply(this,arguments);this.marquee._modifyTarget()}}):b.com_ibm_init_declare([K],{marquee:this,onMouseUp:function(a){K.prototype.onMouseUp.apply(this,arguments);this.marquee._modifyTarget()}})},_clickHandler:function(a){this._setFocus()},_keydownHandler:function(a){switch(a.keyCode){case Z.UP_ARROW:h.stop(a);this._moveVert(!0);break;case Z.DOWN_ARROW:h.stop(a);this._moveVert(!1);break;case Z.RIGHT_ARROW:h.stop(a);
this._moveHoriz(!0);break;case Z.LEFT_ARROW:h.stop(a),this._moveHoriz(!1)}},_moveVert:function(a){var b=F.get(this._marqueeNode,"top");a=a?b-this._MOVE_DELTA:b+this._MOVE_DELTA;this._constrainMarquee&&(a=a<this._constraintBox.top?this._constraintBox.top:a,a=a>this._constraintBox.bottom?this._constraintBox.bottom:a);F.set(this._marqueeNode,"top",a+"px");this._modifyTarget()},_moveHoriz:function(a){var b=F.get(this._marqueeNode,"left");a=a?b+this._MOVE_DELTA:b-this._MOVE_DELTA;this._constrainMarquee&&
(a=a<this._constraintBox.left?this._constraintBox.left:a,a=a>this._constraintBox.right?this._constraintBox.right:a);F.set(this._marqueeNode,"left",a+"px");this._modifyTarget()},_setConstraintBox:function(){if(this._constrainMarquee){var a=this._visControl.getInteractivity().getPanZoom().getCurrentBounds(),b=t.getMarginBox(this._marqueeNode),c=a.getWidth(),e=a.getHeight(),g=a.getX(),a=a.getY(),f=b.w/2,h=b.h/2;this._constraintBox={left:g-f,right:g+c-f,top:a-h,bottom:a+e-h,width:c+b.w,height:e+b.h}}},
_setFocus:function(){this._marqueeNode.focus()},_modifyTarget:function(){this._controller.panTargetControl()},_setA11yProperties:function(){this._visControlAriaLabel=r.get(this._visControl.domNode,"aria-label");this._visControlRole=r.get(this._visControl.domNode,"role");this._visControl.setAriaLabel(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("visOverviewDisplayString"));r.set(this._visControl.domNode,"role","img");r.set(this._marqueeNode,"aria-label",b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("panZoomMarqueeDescription"));
r.set(this._marqueeNode,"aria-live","assertive");r.set(this._marqueeNode,"role","application")},_restoreA11yProperties:function(){this._visControl.setAriaLabel(this._visControlAriaLabel);r.set(this._visControl.domNode,"role",this._visControlRole)}});b.com_ibm_vis_widget_VisPanZoomController=b.com_ibm_init_declare({_init:!1,_updateMarqueeOnMove:!0,_lastDx:0,_lastDy:0,install:function(a,d){this._init=!0;this._baseControl=a;this._baseInteractivity=a.getInteractivity();this._baseControlSize=new b.com_ibm_vis_geom_Dim(a.width,
a.height);this._targetControl=d;this._targetInteractivity=d.getInteractivity();this._enableBaseEvents(!1);this._scaleBaseControl();this._createMarquee();this._resetPanCoordinates()},uninstall:function(){this._init&&(this._init=!1,this._destroyMarquee(),this._marquee=null,this._enableBaseEvents(!0),this._resetTargetControl(),this._resetBaseControl())},reset:function(){this._resetTargetControl();this._resetPanCoordinates()},update:function(){this._updateMarquee(!1);this._updatePanCoordinates(this._getPanCoordinates())},
setUpdateOnMove:function(a){this._updateMarqueeOnMove=a},getBaseControlSize:function(){return this._baseControlSize},_getBaseControl:function(){return this._baseControl},_getTargetControl:function(){return this._targetControl},_resetTargetControl:function(){null!=this._targetControl&&(this._targetInteractivity.getPanZoom().reset(),this._updateMarquee(!0))},_resetBaseControl:function(){null!=this._baseControl&&(this._baseInteractivity.getPanZoom().reset(),this._baseControl.resize({w:this._baseControlSize.getWidth(),
h:this._baseControlSize.getHeight()}))},_enableBaseEvents:function(a){var b=this._baseControl._getEventDispatcher();null!=b&&b.setEnabled(a)},_scaleBaseControl:function(){var a=Math.min(this._baseControl.width/this._targetControl.width,this._baseControl.height/this._targetControl.height),b=this._targetControl._vis.getSize();this._baseControl.width=b.getWidth();this._baseControl.height=b.getHeight();this._baseInteractivity.getPanZoom().setScale(a)},_scaleTargetControl:function(a){this._targetInteractivity.getPanZoom().scaleBy(a)},
panTargetControl:function(){var a=this._getPanCoordinates();this._targetInteractivity.getPanZoom().panByProportion(a.x-this._lastDx,a.y-this._lastDy);this._updatePanCoordinates(a)},_getPanCoordinates:function(){var a=this._marquee.getMarqueeNode(),b=F.get(a,"left"),a=F.get(a,"top"),c=this._baseInteractivity.getPanZoom().getCurrentBounds(),e=c.getWidth(),c=c.getHeight();return{x:-b/e,y:-a/c}},_updatePanCoordinates:function(a){this._lastDx=a.x;this._lastDy=a.y},_resetPanCoordinates:function(){this._updatePanCoordinates({x:0,
y:0})},_createMarquee:function(){this._marquee=new b.com_ibm_vis_internal_VisPanZoomControllerMarquee(this,this._updateMarqueeOnMove);var a=this._marquee.calculateMarqueeRatio();this._scaleTargetControl(a)},_destroyMarquee:function(){null!=this._marquee&&this._marquee.destroy()},_updateMarquee:function(a){if(null!=this._marquee){var b=this._baseInteractivity.getPanZoom().getCurrentBounds(),c=this._calculateTargetViewRatio();a?this._marquee.reset(b,c):this._marquee.update(b,c)}},_calculateTargetViewRatio:function(){var a=
this._targetControl.getInteractivity().getPanZoom().getCurrentBounds(),d=this._targetControl.width/a.getWidth(),c=this._targetControl.height/a.getHeight(),e=-a.getX()/a.getWidth(),a=-a.getY()/a.getHeight();return new b.com_ibm_vis_geom_Rect(e,a,d,c)}});b.com_ibm_vis_interaction_events_DefenderInteractivityListener=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_RaveListener,{update:function(a,d){if(b.com_ibm_vis_interaction_events_DefenderInteractivityListener.VIEWPORT_SELECT_EVENT==a.getType()){var c=
a,e=c.it_5;e.setScrollUnitStartPoint(c.x,c.y)}else if(b.com_ibm_vis_interaction_events_DefenderInteractivityListener.VIEWPORT_MOVE_EVENT==a.getType()){var c=a,e=c.it_5,g=e.getScrollUnitRenderer(),f=g.getFirstGrabber(),h=g.getSecondGrabber(),l=g.getMainGrabber(),g=g.getMedian(),c=e.updateScrollUnit(c.x,f,h,l,g,!0),c=e.getZoomChartSpec(c);e.getDefenderTargetInteractivity().ue_10=c}}});b.com_ibm_vis_interaction_events_DefenderInteractivityListener.VIEWPORT_SELECT_EVENT="viewport_select";b.com_ibm_vis_interaction_events_DefenderInteractivityListener.VIEWPORT_MOVE_EVENT=
"viewport_move";b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder=b.com_ibm_init_declare({hm_1:!1,constructor:function(){this.do_8=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);this.startTime=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);(function(a,d,c,e){this.sceneTree=a;this.sceneOwner=d;this.do_8=e;this.et_7=new b.com_ibm_rave_codegenerator_util_List;this.mm_1=new b.com_ibm_rave_codegenerator_util_List;this.me_12=new b.com_ibm_rave_codegenerator_util_List;this.hm_1=
!1}).apply(this,arguments)},getDuration:function(){return this.hm_1?this.do_8:1},start:function(){this.startTime=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(0);for(var a=!1,d=0,c=this.et_7.arrayIterator(),e=c.length;d<e;++d){var g=c[d];g.resetTimer();if(g.isAnimated()){a=!0;break}}a&&this.sceneOwner.execute(new b.com_ibm_vis_engine_internal_interaction_effect_EffectRunnable(this))},step:function(a){a*=this.do_8.valueOf();for(var b=0,c=this.et_7.arrayIterator(),e=c.length;b<e;++b)c[b].setTime(a);
this.sceneOwner.sceneEffectsChanged(1)},fireStartEffectsEvent:function(){for(var a=0,b=this.et_7.arrayIterator(),c=b.length;a<c;++a)b[a].fireOnEffectStartEvent()},fireEndEffectsEvent:function(){for(var a=0,b=this.et_7.arrayIterator(),c=b.length;a<c;++a)b[a].fireOnEffectEndEvent()},addEffect:function(a){this.et_7.add(a)},uninstallEffects:function(){this.hm_1=!1;if(0!=this.mm_1.size()){for(var a=this.sceneOwner.getDirtyNodeManager(),d=new b.com_ibm_rave_codegenerator_util_List,c=this.mm_1.size()-1;0<=
c;--c){var e=this.mm_1.get(c),g=this.me_12.get(c);0==g?d.add(e):1==g?(a.modifyNode(e),e.removeAnimateInfo(1),a.modifyNode(e)):(e.removeAnimateInfo(g),a.clearPersistentlyDirty(e))}c=0;d=d.arrayIterator();for(g=d.length;c<g;++c)e=d[c],a.removeNode(e),this.sceneTree.removeNodeID(e),e.getParent().removeChild(e);this.sceneOwner.sceneEffectsChanged(0)}},getSceneTree:function(){return this.sceneTree},addHighlightShapes:function(a,d,c){if(!d||0==d.size()||!a)return null;a=new b.com_ibm_vis_interaction_internal_HighlightMaker(a,
this.sceneTree);var e=this.sceneOwner.getDirtyNodeManager(),g=new b.com_ibm_rave_codegenerator_util_LinkedHashSet,f=0;d=d.arrayIterator();for(var h=d.length;f<h;++f){var l=d[f],m=this.sceneTree.findNode(l);if(m&&m.getParent()){var p=a.makeHighlight(m);p&&(p.setId("_"+c+l+".XH"),b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.mp$11(p,m),m.getParent().addChild(p),e.addNode(p),this.sceneTree.addNodeID(p),g.add(p))}}return g},removeAddedHighlightShapes:function(a){if(a){var b=this.sceneOwner.getDirtyNodeManager(),
c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c];g&&g.getParent()&&(b.removeNode(g),g.getParent().removeChild(g),this.sceneTree.removeNodeID(g))}}},addAnimatedMorph:function(a,d){b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightItem(a)||(this.hm_1=!0);this.mm_1.add(a);this.me_12.add(2);this.sceneOwner.getDirtyNodeManager().makePersistentlyDirty(a);a.putAnimateInfo(2,d)},addAnimatedStyle:function(a,d){b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightItem(a)||
(this.hm_1=!0);this.mm_1.add(a);this.me_12.add(3);this.sceneOwner.getDirtyNodeManager().makePersistentlyDirty(a);a.putAnimateInfo(3,d)},addAnimatedTransform:function(a,d){b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightItem(a)||(this.hm_1=!0);this.mm_1.add(a);this.me_12.add(6);this.sceneOwner.getDirtyNodeManager().makePersistentlyDirty(a);a.putAnimateInfo(6,d)},addAnimatedClip:function(a,d){b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightItem(a)||
(this.hm_1=!0);this.mm_1.add(a);this.me_12.add(5);this.sceneOwner.getDirtyNodeManager().makePersistentlyDirty(a);a.putAnimateInfo(5,d)},addAnimatedText:function(a,d){b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightItem(a)||(this.hm_1=!0);this.mm_1.add(a);this.me_12.add(4);this.sceneOwner.getDirtyNodeManager().makePersistentlyDirty(a);a.putAnimateInfo(4,d)},addTemporaryItem:function(a,b){this.mm_1.add(a);this.me_12.add(0);b||(b=this.sceneTree.root);b.addChild(a);this.sceneTree.addNodeID(a);
this.sceneOwner.getDirtyNodeManager().addNode(a)},addOverrideStyle:function(a,b){this.mm_1.add(a);this.me_12.add(1);this.sceneOwner.getDirtyNodeManager().modifyNode(a);a.putAnimateInfo(1,b);this.sceneOwner.getDirtyNodeManager().modifyNode(a)},removeOverrideStyle:function(a){this.sceneOwner.getDirtyNodeManager().modifyNode(a);a.removeAnimateInfo(1);this.sceneOwner.getDirtyNodeManager().modifyNode(a)}});b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightItem=function(a){return b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightID(a.getId())};
b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightID=function(a){return null!=a&&a.CPVISEngineEndsWith(".XH")};b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.mp$11=function(a,b){var c=a.getId(),e=a.getChildren(),g=b.getChildren();if(e&&0!=e.size())for(var f=0;f<e.size();++f){var h=e.get(f),l=g.get(f),m=l.getClipBounds(),l=l.getTransform();m?h.setClipBounds(m):h.setClipBounds(null);l?h.setTransform(l):h.setTransform(null);m=c.indexOf(".XH");m=c.substring(0,m-
1)+"_"+f+c.substring(m);h.setId(m)}else{var m=b.getClipBounds(),l=b.getTransform();m?a.setClipBounds(m):a.setClipBounds(null);l?a.setTransform(l):a.setTransform(null)}};b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.STYLE_EXT=".XH";b.com_ibm_vis_engine_internal_interaction_effect_EffectRunnable=b.com_ibm_init_declare({ae_22:!1,last:0,constructor:function(a){this.ee_10=a;this.ae_22=!1},getStartTime:function(){return this.ee_10.startTime},getDuration:function(){return this.ee_10.getDuration()},
begin:function(){this.ee_10.fireStartEffectsEvent();this.ee_10.startTime.equals(0)&&(this.ee_10.startTime=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer());var a=this.ee_10.sceneOwner.getDirtyNodeManager();a&&a.makeGloballyDirty();this.last=0;this.ae_22=!1},step:function(a){try{if(this.ee_10.sceneOwner.isInterrupted())return!0;this.ee_10.step(a);this.last=a}catch(d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,Error))return this._e$1(),this.ae_22=!0;throw d;}return!1},
_e$1:function(){this.ee_10.uninstallEffects();this.ee_10.fireEndEffectsEvent()},end:function(){this.ae_22||(1>this.last&&this.ee_10.step(1),this._e$1(),this.ae_22=!0)},run:function(){this.begin();for(var a=!0,d=this.ee_10.startTime;;){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.getSystemTimer(),e=c.subtract(d);if(a||20<Number.valueOf(e))if(a=!1,d=c,c=Number.valueOf(c.subtract(this.ee_10.startTime))/this.getDuration().valueOf(),this.step(c)||1<=c)break}this.end()}});b.com_ibm_vis_engine_internal_interaction_effect_EffectRunnable.MP_1=
50;b.com_ibm_vis_interaction_internal_HighlightMaker=b.com_ibm_init_declare({et_10:0,constructor:function(a,d){this.he_2=a;this.hl_3=b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.createSpecObject(this.he_2.getStyle(),"StyleSpec");this.se_58=d;var c=b.com_ibm_vis_interaction_internal_HighlightMaker.gk$3(this.hl_3);this.et_10=null!=c?(c+1)/2:0},makeHighlight:function(a){if(!a)return null;var d,c=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13(a);if(c){d=a.getId();var e=b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE==
c;if(e||0==d.indexOf("D"))if(e)a=a.getChildren(),a=a.get(0),c=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13(a);else if(e=a.getParent()){var g=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13(e);b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE==g&&(a=e.getChildren(),a=a.get(0),c=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13(a))}if(-1<d.indexOf("LE")){for(;b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY!=c;)if(e=a.getParent())a=e,c=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13(a);
d=this.mr$15(a);b.com_ibm_vis_interaction_internal_HighlightMaker.ai$9(a,d)}else b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isText(c)?(d=this.mx$1(a),b.com_ibm_vis_interaction_internal_HighlightMaker.ai$9(a,d)):d=this.mh$1(a)}else d=this.mh$1(a);return d},mh$1:function(a){var d;a.shape&&0==a.getChildren().size()?(d=this.mp$14(a),b.com_ibm_vis_interaction_internal_HighlightMaker.ai$9(a,d)):d=this.mh$2(a);return d},mp$14:function(a){var d=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$14(a);
this.pp$5(a,d,!0);a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode(a);a.setId(null);a.shape.setTransform(null);b.com_ibm_vis_interaction_internal_HighlightMaker.ad$10(d,a);return a},pp$5:function(a,d,c){var e=a.getShape(),g;if(e){var f=e.getFill();g=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13(a);if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT==g||b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT==g)f=null;e=(g=e.getStroke())?g.co_3:null;f&&d.setFill(f);
e&&d.setOutline(e);g&&d.setStroke(g)}c=this.mn$33(this.hl_3,g,c);b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyShapeStyle(d,c)},mn$33:function(a,d,c){if(!c||!d||null==d.dn_2)return a;a=a.copy();c=new b.com_ibm_vis_spec_internal_StrokeSpec;c.style=d.dn_2;c.width=d.wt_1;a.stroke=c;return a},mr$15:function(a){var d=a.getId(),c=this.getBoundsForLegendEntry(a);if(!c)return null;var e=d.indexOf("SW"),g=d.indexOf("T"),f="";-1<e?(g=d.substring(e+2),f=d.substring(0,e)+"T"+g):-1<g&&(e=d.substring(g+
1),f=d.substring(0,g)+"SW"+e);0<f.length&&(d=this.se_58.findNode(f))&&c.extendToRect(this.getBoundsForLegendEntry(d));c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(c.x,c.y,c.wt_3,c.hh_2);this.ek$1(c);this.pp$5(a,c,!1);a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(c);b.com_ibm_vis_interaction_internal_HighlightMaker.ad$10(c,a);if(c=a.shape.getFill())c=c.si_1.getRGBA(),b.com_ibm_vis_engine_internal_Fill.makeSolid(new b.com_ibm_vis_engine_internal_ColorNew(c[0],
c[1],c[2],.4));return a},mh$2:function(a){var d=a.getChildren();if(!d||0==d.size())return null;a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.HIGHLIGHT);for(var c=0,d=d.arrayIterator(),e=d.length;c<e;++c)a.addChildAt(0,this.makeHighlight(d[c]));return a},mx$1:function(a){var d=b.com_ibm_vis_interaction_internal_HighlightMaker.gp$14(a);if(!d)return null;this.ek$1(d);this.pp$5(a,d,!1);var c=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createShapeNode(d);
c.shape.setKey(a.getShape().getKey());b.com_ibm_vis_interaction_internal_HighlightMaker.ad$10(d,c);(a=c.shape.getFill())&&a.si_1&&(a=a.si_1.getRGBA(),b.com_ibm_vis_engine_internal_Fill.makeSolid(new b.com_ibm_vis_engine_internal_ColorNew(a[0],a[1],a[2],.4)));return c},ek$1:function(a){if(1002==a.getType()){if(0<this.et_10)for(var b=0;b<a.x.length;++b)a.x[b]-=this.et_10,a.y[b]-=this.et_10}else 0<this.et_10&&(a.setX(a.getX()-this.et_10),a.setWidth(a.getWidth()+2*this.et_10),a.setY(a.getY()-this.et_10),
a.setHeight(a.getHeight()+2*this.et_10))},getBoundsForLegendEntry:function(a){var b=a.getChildren();if(!b)return this.gl$18(a);a=b.size();return this.ge$61(b,a)},ge$61:function(a,b){for(var c=a.get(0),c=this.gl$18(c),e=1;e<b;++e){var g=a.get(e),f=this.gl$18(g),g=Math.min(c.x,f.x),h=Math.min(c.y,f.y),l=Math.max(c.x+c.wt_3,f.x+f.wt_3),f=Math.max(c.y+c.hh_2,f.y+f.hh_2);c.x=g;c.y=h;c.wt_3=l-g;c.hh_2=f-h}return c},gl$18:function(a){var d=b.com_ibm_vis_engine_internal_util_SceneTreeUtil.getBounds(a);if(d)return(a=
a.getTransform())?b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(d,a.getAffine()):d;d=a.getChildren();if(!d)return null;a=d.size();return this.ge$61(d,a)}});b.com_ibm_vis_interaction_internal_HighlightMaker.gk$3=function(a){var d;a.stroke&&(d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,2,2));return d};b.com_ibm_vis_interaction_internal_HighlightMaker.makeHighlightStroke=function(a,d,c){if(!d||!d.stroke&&null==d.outline)return a;var e,g,f,h;a?
(e=a.wt_1,g=a.co_3,f=a.join,h=a.cap,a=a.dn_2):(e=2,g=b.com_ibm_vis_engine_internal_ColorUtil.getDefaultStrokeColor(),a=h=f=null);if(d.stroke){var l=b.com_ibm_vis_interaction_internal_HighlightMaker.gk$3(d);null!=l&&(e=l);null!=d.stroke.join&&(f=d.stroke.join);null!=d.stroke.cap&&(h=d.stroke.cap);null!=d.stroke.style&&(a=d.stroke.style)}null!=d.outline&&(d=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(d.outline))&&(!c&&g&&(d=b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(d,g)),
g=d);return new b.com_ibm_vis_engine_internal_Stroke(e,a,f,h,g)};b.com_ibm_vis_interaction_internal_HighlightMaker.ai$9=function(a,d){b.com_ibm_vis_interaction_internal_HighlightMaker.ah$1(d,a);b.com_ibm_vis_interaction_internal_HighlightMaker.ah$2(d,a)};b.com_ibm_vis_interaction_internal_HighlightMaker.ah$1=function(a,d){if(a&&d&&d.getTransform()){var c=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl;c.setAffine(d.getTransform().getAffine());a.setTransform(c)}};b.com_ibm_vis_interaction_internal_HighlightMaker.ah$2=
function(a,d){if(a&&d){var c=d.getId();0>c.indexOfCharCode(69)||0!=c.indexOfCharCode(71)||-1<c.indexOf("LE")||b.com_ibm_vis_interaction_internal_HighlightMaker.ao$12(a,d,null)}};b.com_ibm_vis_interaction_internal_HighlightMaker.ao$12=function(a,d,c){if(d){var e=d.getClipBounds();e?(c&&c.getAffine()&&(e=c.getAffine().transformBoundingBox(e)),a.setClipBounds(e)):b.com_ibm_vis_interaction_internal_HighlightMaker.ao$12(a,d.getParent(),d.getTransform())}};b.com_ibm_vis_interaction_internal_HighlightMaker.gp$13=
function(a){if(a.getType())return a.getType();a=a.getShape().getType();return 1009==a||1007==a||1008==a?b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT:null};b.com_ibm_vis_interaction_internal_HighlightMaker.gp$14=function(a){var d=a.getShape().getNodeBounds();return d&&a.getShape().isFilled()?b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(d.x,d.y,d.wt_3,d.hh_2):b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(5,5,10,10)};b.com_ibm_vis_interaction_internal_HighlightMaker.ad$10=
function(a,d){var c;1002==a.getType()&&(c=a.getGlobalGradientGeometry());var e=a.getFill(),g=a.getStroke(),f=a.getEffect(),h=a.getOutline(),l=d.getShape();e&&(l.isFilled()?l.setFill(e):h&&l.setFill(b.com_ibm_vis_engine_internal_Fill.createFill(h,e.gn_1)));c&&l.setGlobalGradient(c);g&&l.setStroke(g);f&&l.setEffect(f);h&&l.setOutline(h)};b.com_ibm_vis_interaction_internal_HighlightMaker.BT_1=.4;b.com_ibm_vis_interaction_internal_HighlightMaker.DT_6=2;b.com_ibm_vis_engine_internal_nativeImpl_EventCoordinateHelper=
b.com_ibm_init_declare({constructor:function(a){this._visControl=a;this._includeScroll=!0},_setOrigin:function(){this._origin=t.position(b.com_ibm_vis_engine_internal_nativeImpl_render_RendererSniff.isSilverlight?this._visControl._renderer._surface._nodes[1]:this._visControl.domNode,this._includeScroll)},_originX:function(){this._setOrigin();return this._origin.x},_originY:function(){this._setOrigin();return this._origin.y},shiftX:function(a){return a-this._originX()},reverseShiftX:function(a){return a+
this._originX()},shiftY:function(a){return a-this._originY()},reverseShiftY:function(a){return a+this._originY()},shiftXarray:function(a){for(var b=this._originX(),c=[],e=0;e<a.length;e++)c[e]=a[e]-b;return c},shiftYarray:function(a){for(var b=this._originY(),c=[],e=0;e<a.length;e++)c[e]=a[e]-b;return c},includeScroll:function(){return this._includeScroll}});b.com_ibm_vis_interaction_Interactivity=b.com_ibm_init_declare({DRAG_STATE:87001,getItems:function(){},getAllItems:function(a){},createItemsForSceneTree:function(a,
b){},getItemsAtPoint:function(a,b){},getItemsAtPointForType:function(a,b,c){},getItemsInPolygon:function(a,b){},getItemsInPolygonForType:function(a,b,c){},getItemsForRows:function(a){},getItemsMatchingAnyRows:function(a){},getTooltipItem:function(a,b){},getMetaItem:function(a,b){},getItemsExcluding:function(a){},getMainHoverItem:function(a){},getCategory:function(a,b){},getFormattedLabel:function(a,b){},getMatchingRows:function(a,b){},makeHighlightState:function(){},setHighlightRepresentation:function(a,
b){},offsetSlices:function(a,b){},startDrag:function(a,b,c){},dragTo:function(a,b,c){},stopDrag:function(){},setZoomLimit:function(a){},setZoomUnit:function(a){},canZoomOnDefender:function(a,b){},linkDefenderInteractivity:function(a){},createDefenderViewPortEvent:function(a,b,c){},fireDefenderViewPortEvent:function(){},buildDefenderScene:function(){},isClickInScroll:function(){},addInteractivityListener:function(a){},initializeDefenderPosition:function(){},getChangeEffects:function(){},getGraphInteractivity:function(){},
getPanZoom:function(){},getMapPanZoomInteractivity:function(){},getViewportZoom:function(){},getNavigation:function(){},getPopup:function(){},getZOrder:function(){},rendererRedrawSceneTree:function(){}});b.com_ibm_vis_interaction_Interactivity.LINK_HIGHLIGHT=87005;b.com_ibm_vis_interaction_Interactivity.FROM_NODE_HIGHLIGHT=87006;b.com_ibm_vis_interaction_Interactivity.TO_NODE_HIGHLIGHT=87007;b.com_ibm_vis_interaction_Interactivity.TARGET_HIGHLIGHT=87008;b.com_ibm_vis_interaction_Interactivity.LINK_TARGET_HIGHLIGHT=
87009;b.com_ibm_vis_interaction_internal_InteractivityImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_Interactivity,{de_27:-1,constructor:function(){this.dr_3=new b.com_ibm_rave_codegenerator_util_List;this.ir_2=new b.com_ibm_vis_interaction_internal_InteractivityRegistry;(function(a,d,c,e,g){this.vis=a;this.de_28=g;this.st_22=new b.com_ibm_vis_interaction_internal_SceneState;this.highlightEffect=new b.com_ibm_rave_codegenerator_util_NumericMap;e=b.com_ibm_vis_interaction_internal_InteractivityImpl.co$9();
e=new b.com_ibm_vis_engine_internal_interaction_effect_StyleEffect(0,e,0,this.st_22);e.ee_9=c;this.highlightEffect.put(0,e);this.coordHelper=d;this.ze_3=new b.com_ibm_vis_interaction_internal_ZOrderImpl(this);this.ho_3=new b.com_ibm_vis_interaction_internal_HitDetection(a,null);this.ee_13=c;this.addDragProvider(new b.com_ibm_vis_interaction_internal_dragging_NodeDragging(this));this.addDragProvider(new b.com_ibm_vis_interaction_internal_dragging_LabelElementDragging(this));this.addDragProvider(new b.com_ibm_vis_interaction_internal_dragging_DataPointElementDragging(this));
this.scrollUnitRenderer=new b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer}).apply(this,arguments)},getDirtyNodeManager:function(){return this.de_28},getSceneState:function(){return this.st_22},getNavigation:function(){this.no_2||(b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility"),this.no_2=new b.com_ibm_vis_interaction_internal_navigation_NavigationImpl(this));return this.no_2},getVisInstance:function(){return this.vis},getCoordHelper:function(){return this.coordHelper},
setEventDispatcher:function(a){this.ee_13=a},visControlSizeChanged:function(a,b){var c=this.ir_2.get(1E3);c&&c.setCanvasSize(a,b)},addLinkHighlights:function(){var a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.fill="rgba(100,255,100,0.8)";a.outline="rgba(100,255,100,1.0)";var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.stroke=d;d.width=2;a=new b.com_ibm_vis_interaction_HighlightRepresentation(a);this.setHighlightRepresentation(87005,a);a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
a.outline="rgba(0, 102, 0 ,1.0)";a.fill="rgba(100,255,100,0.6)";d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.stroke=d;d.width=3;a=new b.com_ibm_vis_interaction_HighlightRepresentation(a);this.setHighlightRepresentation(87006,a);a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.outline="rgba(255, 51, 0,1.0)";a.fill="rgba(188,50,188,0.6)";d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.stroke=d;d.width=3;a=new b.com_ibm_vis_interaction_HighlightRepresentation(a);
this.setHighlightRepresentation(87007,a);a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.fill="rgba(255, 153, 0, 0.6)";a.outline="rgba(255, 153, 0, 1.0)";d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.stroke=d;d.width=6;a=new b.com_ibm_vis_interaction_HighlightRepresentation(a);this.setHighlightRepresentation(87009,a);a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.fill="rgba(50,255,150,0.8)";a.outline="black";d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
a.stroke=d;d.width=5;a=new b.com_ibm_vis_interaction_HighlightRepresentation(a);this.setHighlightRepresentation(87008,a)},updateStateWithSceneTree:function(a){this.st_22.setSceneTree(a);this.ho_3.setSceneTree(a);this.no_2&&this.no_2.sceneChanged()},getTooltipItem:function(a,b){a=this.coordHelper.shiftX(a);b=this.coordHelper.shiftY(b);return this.ho_3.getTooltipItem(a,b)},getMetaItem:function(a,b){a=this.coordHelper.shiftX(a);b=this.coordHelper.shiftY(b);return this.ho_3.getMetaItem(a,b)},getAllItems:function(a){var b=
this.ho_3.getAllItems();return a?this.decorate(b,0,0):b},createItemsForSceneTree:function(a,d){if(!a)return null;var c=(new b.com_ibm_vis_interaction_internal_HitDetection(this.vis,a)).getAllItems();d&&this.decorate(c,0,0);return c},getItems:function(){return this.getAllItems(!0)},getItemsExcluding:function(a){a=this.ho_3.getItemsExcluding(a);return this.decorate(a,0,0)},getItemsAtPoint:function(a,b){a=this.coordHelper.shiftX(a);b=this.coordHelper.shiftY(b);var c=this.ho_3.getItemsAtPoint(a,b);return this.decorate(c,
a,b)},getItemsAtPointForType:function(a,b,c){a=this.coordHelper.shiftX(a);b=this.coordHelper.shiftY(b);c=this.ho_3.getItemsAtPointForType(a,b,c);return this.decorate(c,a,b)},getItemsInPolygon:function(a,b){a=this.coordHelper.shiftXarray(a);b=this.coordHelper.shiftYarray(b);var c=this.ho_3.getItemsInPolygon(a,b);return this.decorate(c,a[0],b[0])},getItemsInPolygonForType:function(a,b,c){a=this.coordHelper.shiftXarray(a);b=this.coordHelper.shiftYarray(b);c=this.ho_3.getItemsInPolygonForType(a,b,c);
return this.decorate(c,a[0],b[0])},getItemsForRows:function(a){a=this.ho_3.getItemsForRows(a);return this.decorate(a,0,0)},getItemsMatchingAnyRows:function(a){a=this.ho_3.getItemsMatchingAnyRows(a);return this.decorate(a,0,0)},getCategory:function(a,b){var c=this.vis.getByID(a);if(!c)return null;var e=Math.round(b);return!c.categories||0>e||e>=c.categories.length?null:c.categories[e]},getFormattedLabel:function(a,b){var c=this.vis.getByID(a);return c?c.getFormattedStringValue(b,-1,null):null},getMatchingRows:function(a,
b){return this.vis.getMatchingRows(a,b,!0)},makeHighlightState:function(){return new b.com_ibm_vis_interaction_internal_HighlightStateImpl(this.highlightEffect,this)},getZOrder:function(){return this.ze_3},getGraphInteractivity:function(){this.gt_6||(this.gt_6=new b.com_ibm_vis_interaction_internal_GraphInteractivityImpl(this,this.vis));return this.gt_6},getMapPanZoomInteractivity:function(){var a=this.ir_2.get(1002);a||(b.com_ibm_init_requireSync("com/ibm/vis/layers/mapLayer"),a=new b.com_ibm_vis_interaction_internal_MapPanZoomInteractivityImpl(this,
this.vis),this.ir_2.register(a));return a},getViewportZoom:function(){var a=this.ir_2.get(1001);a||(a=new b.com_ibm_vis_interaction_internal_ViewportZoomImpl(this),this.ir_2.register(a));return a},getChangeEffects:function(){this.ct_10||(this.ct_10=new b.com_ibm_vis_engine_internal_interaction_effect_ChangeEffectsImpl(this.ee_13));return this.ct_10},setHighlightRepresentation:function(a,d){if(d){var c=this.highlightEffect.get(a);c?c.setRepresentation(d):(c=new b.com_ibm_vis_engine_internal_interaction_effect_StyleEffect(0,
d,a,this.st_22),c.ee_9=this.ee_13,this.highlightEffect.put(a,c),this.installMoreEffects())}else this.highlightEffect.remove(a)},dispose:function(){this.highlightEffect=null},decorate:function(a,d,c){try{for(var e=0,g=a.length;e<g;++e)a[e].decorateItem(this.vis,d,c);return a}catch(f){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_exceptions_VisException))return[];throw f;}},getMainHoverItem:function(a){if(1>a.length)return null;for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=0;c<a.length;++c){var e=a[c].id;b.com_ibm_vis_interaction_internal_InteractivityImpl.isInteresting(e)&&(0<e.indexOf("S")||0<e.indexOf("I"))&&d.add(a[c])}return b.com_ibm_vis_interaction_internal_InteractivityImpl.clipImageHighlight(d)},setScrollUnitStartPoint:function(a,b){this.sf$7();-1!=this.de_27&&this.scrollUnitRenderer.setStartPoint(this.coordHelper.shiftX(a)-this.translate.x,this.coordHelper.shiftY(b)-this.translate.y)},updateScrollUnit:function(a,b,c,e,g,f){var h;this.sf$7();-1!=this.de_27&&
(h=this.scrollUnitRenderer.updateScrollUnit(this.coordHelper.shiftX(a)-this.translate.x,b,c,e,g,f),h[0]=this.coordHelper.reverseShiftY(h[0]),h[1]=this.coordHelper.reverseShiftY(h[1]),h[2]=this.coordHelper.reverseShiftX(h[2]),h[3]=this.coordHelper.reverseShiftX(h[3]),f&&(this.scrollUnitRenderer.resetGrabbers(b,c,e,g),this.scrollUnitRenderer.updateSpec(this.getXCordinatesForSliderEndPoints(h),this.vis)));return h},getScrollUnitPosition:function(){var a;-1!=this.de_27&&(a=this.scrollUnitRenderer.getScrollUnitPosition(),
a[0]=this.coordHelper.reverseShiftY(a[0]),a[1]=this.coordHelper.reverseShiftY(a[1]),a[2]=this.coordHelper.reverseShiftX(a[2]),a[3]=this.coordHelper.reverseShiftX(a[3]));return a},buildDefenderScene:function(){var a=this.vis.setTypedSpecification(this.ue_10);return this.vis.makeSceneTree(null,a).getSceneTree()},getZoomChartSpec:function(a){!this.defenderObj&&this.defenderTargetInteractivity&&(this.defenderObj=new b.com_ibm_vis_engine_internal_interaction_defender_DefenderFocus(this.defenderTargetInteractivity.vis,
this.vis));a=this.getXCordinatesForSliderEndPoints(a);return 2==a.length?this.defenderObj.updateSpec(a):null},initializeDefenderPosition:function(){var a=this.getScrollUnitPosition();this.defenderObj=new b.com_ibm_vis_engine_internal_interaction_defender_DefenderFocus(this.defenderTargetInteractivity.vis,this.vis);this.sf$7();this.defenderTargetInteractivity.vis.clearZoomData();a=this.getZoomChartSpec(a);this.getDefenderTargetInteractivity().ue_10=a;this.getDefenderTargetInteractivity().setSceneTree(this.getDefenderTargetInteractivity().buildDefenderScene())},
getScrollUnitRenderer:function(){return this.scrollUnitRenderer},isClickInScroll:function(){return this.scrollUnitRenderer?this.scrollUnitRenderer.isBlnScroll():!1},getXCordinatesForSliderEndPoints:function(a){var d=b.com_ibm_rave_codegenerator_lang_Array.create([2],0),c=.5*(a[0]+a[1]),e=this.getItemsAtPointForType(a[2]+this.translate.x,c+this.translate.y,"coordinates");0!=e.length&&e[0].coordinates()&&(d[0]=e[0].coordinates()[1]);e=this.getItemsAtPointForType(a[3]+this.translate.x,c+this.translate.y,
"coordinates");0!=e.length&&e[0].coordinates()&&(d[1]=e[0].coordinates()[1]);return d},sf$7:function(){this.sa$4();var a=this.st_22.getSceneNodeById("G"+this.de_27+"Coords"),a=b.com_ibm_vis_interaction_internal_InteractivityImpl.gr$14(a);-1!=this.de_27&&a&&(this.translate=new b.com_ibm_vis_geom_Point(a[0],a[1]))},sa$4:function(){this.de_27=-1;for(var a=0;a<this.vis.ga_5.length;++a)for(var b=0,c=this.vis.ga_5[a].elements,e=c.length;b<e;++b)if("scrollUnit"==c[b].interactionType){this.de_27=a;break}},
offsetSlices:function(a,d){var c,e=this.vis.ce_40.grammar,g=this.vis.ce_40.data,f=0,h=0,l=0,h=0,m=a[0].getDataIndex(),p=a[0].elementIndex(),q=a[0].grammarIndex();c=e[q].elements[p].offset;for(var r=0,h=0;h<a.length;++h){var t=null;if(t=a[h].getRows())r+=t.length}r=b.com_ibm_rave_codegenerator_lang_Array.create([r],0);for(h=0;h<a.length;++h)if(t=a[h].getRows())for(l=0;l<t.length;l++,f++)r[f]=t[l];h=!1;c?(f=c.length-1,h=c[f].field?!1:!0):(c=Array(1),e[q].elements[p].offset=c,c[0]=new b.com_ibm_vis_spec_internal_AestheticSpec,
f=0,h=!0);c[f].palette?c[f].palette=[0,d]:(l=new b.com_ibm_vis_spec_internal_MappingSpec,l.at=1,l.size=d,e=new b.com_ibm_vis_spec_internal_MappingSpec,e.at=0,e.size=0,c[f].mapping=[e,l]);b.com_ibm_vis_interaction_internal_InteractivityImpl.ei_2++;h&&(l=new b.com_ibm_vis_spec_internal_FieldValueRefSpec,l.$ref="_o_f_f_s_e_t_"+b.com_ibm_vis_interaction_internal_InteractivityImpl.ei_2,c[f].field=l);if(h){l=new b.com_ibm_vis_spec_internal_FieldSpec;l.categories=["unexploded","explode_level_1"];l.id="_o_f_f_s_e_t_"+
b.com_ibm_vis_interaction_internal_InteractivityImpl.ei_2;l.label="offset";l.key=!1;c=g[m].fields.length;f=g[m].rows.length;e=Array(c+1);for(h=0;h<c;++h)e[h]=g[m].fields[h];e[h]=l;g[m].fields=e;e=b.com_ibm_rave_codegenerator_lang_Array.create([f,c+1],0);for(h=0;h<f;++h){for(l=0;l<c;++l)e[h][l]=g[m].rows[h][l];e[h][l]=0}for(h=0;h<r.length;++h)e[r[h]][c]=1;g[m].rows=e}else{for(h=0;h<g[m].fields.length&&g[m].fields[h].id!=c[f].field.$ref;++h);for(l=0;l<g[m].rows.length;++l)g[m].rows[l][h]=0;for(l=0;l<
r.length;++l)g[m].rows[r[l]][h]=1}g=this.vis.setTypedSpecification(this.vis.ce_40);g=this.vis.recreateSceneTree(null,g,0);this.setSceneTree(g.getSceneTree())},createDefenderViewPortEvent:function(a,d,c){this.dn_8=new b.com_ibm_vis_interaction_events_DefenderViewPortEvent(c,a,d,this);return this.dn_8.getDefenderViewPortEndPoints()},fireDefenderViewPortEvent:function(){this.dn_8&&(this.ee_13.notify(this.dn_8),this.dn_8=null)},getUpdatedDefenderSpec:function(){return this.ue_10},setUpdatedDefenderSpec:function(a){this.ue_10=
a},addInteractivityListener:function(a){this.ee_13.addListenerToGroup(b.com_ibm_vis_interaction_events_InteractivityEvent.EVENT_GROUP,a)},getPanZoom:function(){var a=this.ir_2.get(1E3);a||(a=new b.com_ibm_vis_interaction_internal_PanZoomImpl(this.getCanvasDimensions(),this),this.ir_2.register(a));return a},hasRegisteredType:function(a){return this.ir_2.get(a)},hasPanZoom:function(){return this.ir_2.get(1E3)},recreateSceneTree:function(){var a=this.vis.setTypedSpecification(this.vis.ce_40);return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serialize(this.vis.recreateSceneTree(null,
a,0).getSceneTree())},rebuildSceneTree:function(){var a=this.vis.setTypedSpecification(this.vis.ce_40);return this.vis.recreateSceneTree(null,a,0).getSceneTree()},getSelected:function(a){a=this.st_22.getSelected(a);return this.decorate(a,0,0)},startDrag:function(a,b,c){for(var e=this.vis.ga_5,g=!1,f=0,h=a.length;f<h;++f){for(var l=a[f],m=0,p=this.dr_3.arrayIterator(),q=p.length;m<q;++m){var r=p[m];if(r.isSupported(l,e)){r.startDrag(this.vis,l,a,b,c);this.sn_18=r;g=!0;break}}if(g)break}},dragTo:function(a,
b,c){if(this.sn_18){var e=this.DRAG_STATE;this.highlightEffect.get(e)||(e=0);this.sn_18.dragTo(a,b,c,e);this.rendererShowHighlights(this.sn_18.hm_2)}},stopDrag:function(){this.sn_18&&this.sn_18.stopDrag();this.sn_18=null},addDragProvider:function(a){this.dr_3.add(a)},setZoomLimit:function(a){a==a&&(this.dg_3=a)},setZoomUnit:function(a){this.vis.vx_10.zi_1=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(a,b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO)},getZoomLimit:function(){return this.dg_3},
getZoomUnit:function(){return this.vis.vx_10.zi_1},canZoomOnDefender:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(d,b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO);this.vis.vx_10.zi_1&&(c=this.vis.vx_10.zi_1);null==this.dg_3&&(this.dg_3=1);var e=a[1]-a[0],c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(this.dg_3,c,b.com_ibm_vis_engine_internal_grammar_units_Unit.get(d,b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO));return e>=c},linkDefenderInteractivity:function(a){a.defenderTargetInteractivity=
this;this.scrollUnitRenderer=a.getScrollUnitRenderer();a.de_27=0},getDefenderTargetInteractivity:function(){return this.defenderTargetInteractivity},updateScene:function(){var a=this.hasPanZoom()?this.getPanZoom():null,d=1,c=new b.com_ibm_vis_geom_Point(0,0);a&&(d=a.getScaleValue(),c=a.getPanValue());var e=this.vis.setTypedSpecification(this.vis.ce_40),e=this.vis.recreateSceneTree(this.vis.getSize(),e,0);this.setSceneTree(e.getSceneTree());a&&a.setPanAndScale(c.x,c.y,d)},applySelectionHighlightOnScene:function(a,
b,c){0<b.length&&(this.installHighlightEffectOnScene(a,c),this.makeHighlightState().setMultipleByID(b,c),this.highlightEffect.get(c).apply())},notifySceneChanged:function(a){for(var b=0,c=this.ir_2.getAll().arrayIterator(),e=c.length;b<e;++b)c[b].sceneChanged(a)}});b.com_ibm_vis_interaction_internal_InteractivityImpl.co$9=function(){var a=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.fill=b.com_ibm_vis_interaction_internal_InteractivityImpl.DL_5;a.outline=b.com_ibm_vis_interaction_internal_InteractivityImpl.DN_7;
var d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.stroke=d;d.width=2;return new b.com_ibm_vis_interaction_HighlightRepresentation(a)};b.com_ibm_vis_interaction_internal_InteractivityImpl.isInteresting=function(a){return null!=a&&!a.CPVISEngineStartsWith("_")&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isBackId(a)&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId(a)&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isStrokeId(a)&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isCoordsId(a)};
b.com_ibm_vis_interaction_internal_InteractivityImpl.clipImageHighlight=function(a){for(var d=a.size(),c=0;c<d;++c){var e=a.get(c);if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.IMAGE_HIGHLIGHT!=e.getSceneNode().getType())return e;for(var g=b.com_ibm_rave_codegenerator_util_BasicFactory.replace(e.getID(),"I","S"),f=c+1;f<d;++f)if(g==a.get(f).getID())return e}return null};b.com_ibm_vis_interaction_internal_InteractivityImpl.gr$14=function(a){if(!a)return null;var d=a.getTransform();if(!d||!d.getAffine())return null;
a=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);d=d.getAffine();a[0]=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.m02);a[1]=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.m12);return a};b.com_ibm_vis_interaction_internal_InteractivityImpl.DL_5="rgba(240,166,48,0.4)";b.com_ibm_vis_interaction_internal_InteractivityImpl.DN_7="rgba(0,255,0,1.0)";b.com_ibm_vis_interaction_internal_InteractivityImpl.GI_1="G";b.com_ibm_vis_interaction_internal_InteractivityImpl.CI_4="Coords";b.com_ibm_vis_interaction_internal_InteractivityImpl.ei_2=
0;b.com_ibm_vis_internal_VisControlInteractivity=b.com_ibm_init_declare([b.com_ibm_vis_interaction_internal_InteractivityImpl],{startTime:0,highlightRetained:!1,renderHighlight:!0,constructor:function(a,d,c,e,g){this.visControl=e;this.vis=a;this.threadHelper=new b.com_ibm_vis_engine_internal_nativeImpl_ThreadHelper;this.coordHelper=new b.com_ibm_vis_engine_internal_nativeImpl_EventCoordinateHelper(e);this.setEventDispatcher(e._getEventDispatcher())},getHighlightEffect:function(){return this.highlightEffect},
setSceneWithTransition:function(a,b){this.lastScene=this.scene;this.scene=a;var c=this.getChangeEffects().getChangeEffect(b);this.setStartEffect(c);this.installStartEffects();this.installMoreEffects();this.updateStateWithSceneTree(this.scene)},applySelection:function(a){},installHighlightEffectOnScene:function(a,d){if(null!=this.highlightEffect){var c=this.highlightEffect.get(d),e=new b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder(a,this.visControl,!1,0,0,-1);c.install(e)}},installHighlightEffect:function(a){installHighlightEffect(this.visControl._sceneTree,
a)},installMoreEffects:function(){var a=this.highlightEffect.values().toArray();if(!(1>a.length)){var d=this.highlightEffect.get(0);null==d&&(d=a[0]);d.isAnimated()?this.effectsBuilder=new b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder(this.visControl._sceneTree,this.visControl,!0,100,0,0):this.effectsBuilder=new b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder(this.visControl._sceneTree,this.visControl,!1,0,0,0);if(null!=this.visControl._sceneTree){for(d=0;d<a.length;d++)a[d].install(this.effectsBuilder);
this.effectsBuilder.start();this.scrollUnitRenderer&&null==this.scrollUnitRenderer.getScrollUnit()&&this.scrollUnitRenderer.install(new b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder(this.visControl._sceneTree,this.visControl,!0,1,0,0),this.vis)}}},installStartEffects:function(){if(this.hasStartEffects()&&!this.vis.getVisContext().isUpdateViewport()){var a=new b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder(this.visControl._sceneTree,this.visControl,this.startEffect.isAnimated(),
this.startEffect.getTime(),.2,.2);this.startEffect.installWithPrevious(a,this.lastScene);a.start()}},hasStartEffects:function(){return this.startEffect&&0<this.startTime},rendererShowHighlights:function(a){this.visControl.sceneEffectsChanged()},rendererRedrawSceneTree:function(){this.visControl.setRendererSize();this.visControl.getDirtyNodeManager().makeGloballyDirty();this.visControl.sceneEffectsChanged()},setStartEffect:function(a,b){this.startEffect=a;this.startTime=null==this.startEffect?0:this.startEffect.getTime()},
getValue:function(a,b){var c=this.visControl._renderer.originalSceneMap[a];if(null!=c)return c[b]},getCanvasDimensions:function(){return new b.com_ibm_vis_geom_Dim(this.visControl.width,this.visControl.height)},getScene:function(){return this.visControl._getScene()},setScene:function(a){this.visControl._setScene(a)},setSceneTree:function(a){this.visControl.setSceneTree(a)},executeInteractivity:function(a){this.threadHelper.executeInteractivity(a)},getPopup:function(){this.popup||(this.popup=new b.com_ibm_vis_internal_VisPopup(this.visControl));
return this.popup}});b.com_ibm_vis_interaction_HighlightState=b.com_ibm_init_declare({setSingle:function(a,b){},setMultiple:function(a,b){},setMultipleByID:function(a,b){},apply:function(){},applyForKey:function(a){},clearAddedSceneItems:function(){},clearAddedSceneItemsForKey:function(a){},setSingleWithZOrder:function(a,b,c){},setMultipleWithZOrder:function(a,b,c){},setSingleToFront:function(a,b){},setMultipleToFront:function(a,b){},setSingleToBack:function(a,b){},setMultipleToBack:function(a,b){},
setSingleWithZOrderWithReset:function(a,b,c){},setMultipleWithZOrderWithReset:function(a,b,c){},setSingleToFrontWithReset:function(a,b){},setMultipleToFrontWithReset:function(a,b){},setSingleToBackWithReset:function(a,b){},setMultipleToBackWithReset:function(a,b){}});b.com_ibm_vis_interaction_internal_InteractivityRegistry=b.com_ibm_init_declare({constructor:function(){this.map=new b.com_ibm_rave_codegenerator_util_LinkedMap},get:function(a){return this.map.get(a)},register:function(a){this.map.put(a.getType(),
a)},getAll:function(){return new b.com_ibm_rave_codegenerator_util_List(this.map.values())}});b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionFilter=b.com_ibm_init_declare.implement();b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionTypeFilter=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionFilter,{constructor:function(a){this.type=a},matches:function(a){return null==this.type||this.type==b.com_ibm_vis_interaction_internal_SceneItemImpl.getSceneType(a.getId())}});
b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ga$14=function(a,d){var c=d.id;if(null==c)return null;var e,g=b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ge$43(c),c=b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ee$5(c);null!=g&&null!=c&&a.ga_5&&g<a.ga_5.length&&(g=a.ga_5[g],g.elements&&c<g.elements.length&&(e=g.elements[c].getShapeTooltip(d)));return e};b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.getBidiTooltip=
function(a,d){if(d.hasTooltip())return d.getDisplayTooltip();var c=b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ga$14(a,d),e,g;null!=c&&((e=a.vx_10.le_37)&&(g=e.baseTextDirection),e=null!=g?"ltr"==g?"\u202a"+c+"\u202c":"rtl"==g?"\u202b"+c+"\u202c":b.com_ibm_vis_engine_internal_nativeImpl_BidiProcess.bidiProcess(c,0):b.com_ibm_vis_engine_internal_nativeImpl_BidiProcess.bidiProcess(c,0),d.setTooltip(e));return e};b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.getTooltip=
function(a,d){if(d.hasTooltip())return d.getDisplayTooltip();var c=b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ga$14(a,d);d.setTooltip(c);return c};b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ee$5=function(a){return b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.gI$4(a,69)};b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.ge$43=function(a){return b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.gI$4(a,71)};b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.gI$4=
function(a,d){if(null!=a){var c=a.indexOfCharCode(d)+1;if(0<c){var e=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(c,c+1));if(e!=e)return null;var g=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(c,c+2));if(g!=g)return Math.round(e);c=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a.substring(c,c+3));return Math.round(c!=c?g:c)}}return null};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker=b.com_ibm_init_declare({});b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.nodeToPoly=
function(a){if(!a.shape)return[];var d;d=(d=a.getRenderInfo().getRenderGeom())?b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.gt$36(d):b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.gt$36(a.shape.getNodeBounds());if((a=a.getNetTransform())&&!a.isIdentity())for(var c=d.length,e=0;e<c;++e)d[e]=a.transformPoint(d[e]);return d};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.gt$36=function(a){if(!a)return[];var d=a.getBounds();if(1>=d.wt_3&&1>=d.hh_2)return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.st$11(d.getCenterX(),
d.getCenterY());if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_CompositeGeom))return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.rt$5(d);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Rect))return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.rt$5(a);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Line))return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.on$1(a.x1,a.y1,a.x2,a.y2);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_geom_Circle))return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.ct$26(a);a=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_geom_Poly)?a:a.asBasic().asPoly();return a.ce_6?b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.el$3(a,d.getCenterX(),d.getCenterY()):b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.ol$2(a)};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.st$11=function(a,d){return[new b.com_ibm_vis_geom_Point(a-1,d-1),new b.com_ibm_vis_geom_Point(a-
1,d+1),new b.com_ibm_vis_geom_Point(a+1,d+1),new b.com_ibm_vis_geom_Point(a+1,d-1)]};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.rt$5=function(a){var d=a.getMinX()-1,c=a.getMinY()-1,e=a.getMaxX()+1;a=a.getMaxY()+1;return[new b.com_ibm_vis_geom_Point(d,c),new b.com_ibm_vis_geom_Point(d,a),new b.com_ibm_vis_geom_Point(e,a),new b.com_ibm_vis_geom_Point(e,c)]};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.ct$26=function(a){var d=(new b.com_ibm_vis_geom_Circle(a.x,a.y,a.r+1)).asPoly();
a=d.getPointCount();for(var c=d.x,d=d.y,e=Array(a),g=0;g<a;++g)e[g]=new b.com_ibm_vis_geom_Point(c[g],d[g]);return e};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.el$3=function(a,d,c){var e=a.getPointCount(),g=a.x;a=a.y;for(var f=Array(e),h=0;h<e;++h){var l=g[h];l<d?--l:l>d&&(l+=1);var m=a[h];m<c?--m:m>c&&(m+=1);f[h]=new b.com_ibm_vis_geom_Point(l,m)}return f};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.on$1=function(a,d,c,e){var g=b.com_ibm_rave_codegenerator_lang_Array.create([2],
0);b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.go$25(a,d,c,e,g);return[new b.com_ibm_vis_geom_Point(a-g[0],d-g[1]),new b.com_ibm_vis_geom_Point(a+g[1],d-g[0]),new b.com_ibm_vis_geom_Point(c+g[1],e-g[0]),new b.com_ibm_vis_geom_Point(c+g[0],e+g[1]),new b.com_ibm_vis_geom_Point(c-g[1],e+g[0]),new b.com_ibm_vis_geom_Point(a-g[1],d+g[0])]};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.ol$2=function(a){var d=a.getPointCount();if(0==d)return[];if(1==d)return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.st$11(a.x[0],
a.y[0]);if(2==d)return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.on$1(a.x[0],a.y[0],a.x[1],a.y[1]);var c=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),e=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),d=b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.dt$8(d,c,e,a.x,a.y);if(2==d)return b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.on$1(c[0],e[0],c[1],e[1]);a=Array(2*d+2);var g=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.go$25(c[0],
e[0],c[1],e[1],g);a[0]=new b.com_ibm_vis_geom_Point(c[0]-g[0],e[0]-g[1]);a[1]=new b.com_ibm_vis_geom_Point(c[0]+g[1],e[0]-g[0]);a[2*d+1]=new b.com_ibm_vis_geom_Point(c[0]-g[1],e[0]+g[0]);for(var f=1;f<d-1;++f)b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.go$26(c[f-1],e[f-1],c[f],e[f],c[f+1],e[f+1],g),a[f+1]=new b.com_ibm_vis_geom_Point(c[f]+g[0],e[f]+g[1]),a[2*d+1-f]=new b.com_ibm_vis_geom_Point(c[f]-g[0],e[f]-g[1]);b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.go$25(c[d-2],e[d-2],c[d-
1],e[d-1],g);a[d+1]=new b.com_ibm_vis_geom_Point(c[d-1]+g[0],e[d-1]+g[1]);a[d]=new b.com_ibm_vis_geom_Point(c[d-1]+g[1],e[d-1]-g[0]);a[d+2]=new b.com_ibm_vis_geom_Point(c[d-1]-g[1],e[d-1]+g[0]);for(f=0;f<2*d+2;++f);return a};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.dt$8=function(a,d,c,e,g){d[0]=e[0];c[0]=g[0];for(var f=1,h=new b.com_ibm_vis_geom_Point(d[0],c[0]),l=1;l<a-1;++l)1<=h.distanceToPt(e[l],g[l])&&(d[f]=e[l],c[f]=g[l],f++,h.x=e[l],h.y=g[l]);1<=h.distanceToPt(e[a-1],g[a-1])?(d[f]=
e[a-1],c[f]=g[a-1],f++):(d[f-1]=e[a-1],c[f-1]=g[a-1]);return f};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.go$25=function(a,b,c,e,g){a=c-a;b=e-b;e=Math.sqrt(a*a+b*b);g[0]=a/e;g[1]=b/e};b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.go$26=function(a,b,c,e,g,f,h){a=c-a;var l=e-b;b=Math.sqrt(a*a+l*l);a/=b;l/=b;c=g-c;e=f-e;b=Math.sqrt(c*c+e*e);c/=b;e/=b;.001>Math.abs(c-a)&&.001>Math.abs(e-l)?(h[0]=l,h[1]=-a):.001>Math.abs(c+a)&&.001>Math.abs(e+l)?(h[0]=-a,h[1]=-l):(f=a+c,e=l+e,b=Math.sqrt(f*
f+e*e),h[0]=e/b,h[1]=-f/b)};b.com_ibm_vis_interaction_internal_SceneItemImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_SceneItem,{re_19:!1,oe_20:!1,constructor:function(a){this.id=a.getId();this.type=b.com_ibm_vis_interaction_internal_SceneItemImpl.getSceneType(this.id);this.sd_7=a;var d=a.shape;this.bd_12=d?b.com_ibm_vis_interaction_internal_SceneItemImpl.gd$21(a,d):null;this.re_19=!1;this.ot_4=this.de_29=null},getID:function(){return null!=this.id?this.id:"none"},getType:function(){return this.type},
subType:function(){return b.com_ibm_vis_interaction_internal_SceneItemImpl.getSceneSubType(this.id,this.sd_7)},getRows:function(){if("legend"==this.getType())return null;if(!this.re_19&&(this.rows=this.ge$69(),!this.rows&&this.vis)){var a=this.aestheticFields(),b=this.coordinateFields();a?this.rows=this.vis.getMatchingRows(a,this.aestheticValues(),!1):b&&(this.rows=this.vis.getMatchingRows(b,this.coordinates(),!1))}this.re_19=!0;return this.rows},getDataIndex:function(){return this.de_29},setDataIndex:function(a){this.de_29=
a},getOriginalRows:function(){if("legend"==this.getType())return null;this.oe_20||(this.ow_2=this.ge$70(),this.oe_20=!0);return this.ow_2},ge$69:function(){var a=this.gp$15();if(!a)return null;var d=a.getRows(),a=a.getStructuralRows();if(!a)return d;if(!d)return a;for(var c=d.length,e=a.length,g=b.com_ibm_rave_codegenerator_lang_Array.create([c+e],0),f=0,h=0;h<c;++h)g[f++]=d[h];for(h=0;h<e;++h)g[f++]=a[h];return g},ge$70:function(){var a=this.gp$15();return a?a.getOriginalRows():null},coordinates:function(){return this.cd_9},
coordinateFields:function(){return this.ga$19(this.ca_9)},coordinateFieldsArray:function(){return this.ca_9},aestheticValues:function(){return this.ae_26},aestheticFields:function(){return this.aD_1},tooltipText:function(){var a,d=this.sd_7.shape;d&&(a=b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.getTooltip(this.vis,d));return a},getHitOutlinePoints:function(){this.ot_4||(this.ot_4=b.com_ibm_vis_interaction_internal_ImageMapPolyMaker.nodeToPoly(this.sd_7));return this.ot_4},getSceneNode:function(){return this.sd_7},
gp$15:function(){return this.sd_7?this.sd_7.shape:null},meta:function(){if(!this.sd_7)return null;var a=this.sd_7.getMetaMap();if(!a)return null;var d=a.keySet().toArray(Array(a.size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(d);for(var c=new b.com_ibm_rave_codegenerator_lang_StringBuilder,e=0;e<d.length;++e)0<e&&c.append(", "),c.append(d[e]),c.append(": "),c.append(a.get(d[e]));return c.toString()},getMetaKeys:function(){if(!this.sd_7)return null;var a=this.sd_7.getMetaMap();return a?
a.keySet().toArray(Array(a.size())):null},getMetaValue:function(a){if(!this.sd_7||null==a)return null;var b=this.sd_7.getMetaMap();return b?b.get(a):null},elementIndex:function(){return this.gI$9(69)},facetIndex:function(){return this.gI$9(70)},dimensionIndex:function(){return this.gI$9(65)},grammarIndex:function(){return this.gI$9(71)},legendIndex:function(){return this.gI$9(76)},getHitChildren:function(){return this.he_5},setHitChildren:function(a){this.he_5=a},iI$2:function(){return null!=this.id&&
this.id.CPVISEngineContains("Title")?!0:!1},gI$9:function(a){if(null!=this.id){var d=this.id.indexOfCharCode(a)+1,c=this.id.length;if(0<d&&d<c){var e=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(this.id.substring(d,d+1));if(e!=e)return null;if(d+1>=c)return Math.round(e);a=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(this.id.substring(d,d+2));if(a!=a)return Math.round(e);if(d+2>=c)return Math.round(a);d=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(this.id.substring(d,
d+3));return Math.round(d!=d?a:d)}}return null},equals:function(a){return this==a?!0:null!=a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_interaction_internal_SceneItemImpl)?this.getID()==a.getID():!1},hashCode:function(){return this.getID().hashCode()},getBounds:function(){return this.bd_12},setBounds:function(a){this.bd_12=a},decorateItem:function(a,d,c){this.vis=a;if(this.sd_7){var e=this.sd_7.getValue(),g=this.sd_7.getField();null!=e&&null!=g&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(e)?
"legend"==this.type?(this.aD_1=[g],this.ae_26=[e],this.setDataIndex(a.getMatchingData(this.aD_1))):(this.ca_9=[[g]],this.cd_9=[e],this.setDataIndex(a.getMatchingData(this.ga$19(this.ca_9)))):null!=e&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(e)?this.cd_9=b.com_ibm_vis_interaction_internal_SceneItemImpl.ta$5(e):null!=e&&null!=g&&b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(e)?"legend"==this.type&&(this.aD_1=[g,g],this.ae_26=b.com_ibm_rave_codegenerator_lang_Array.create([2],
0),this.ae_26[0]=e.min,this.ae_26[1]=e.max):null==e&&"legend"==this.type&&(null!=g?(this.aD_1=[g],this.ae_26=null,this.setDataIndex(a.getMatchingData(this.aD_1))):this.dd$2());e=this.grammarIndex();g=a.ga_5;if(null!=e&&g.length>e){e=g[e];if("element"==this.type)null!=this.elementIndex()&&(e=e.elements[this.elementIndex()],this.cd_9=e.getCoordinates(this.getRows()),this.ca_9=e.coordinateFieldsIDs,this.ae_26=e.getAestheticValues(this.getRows()),this.aD_1=e.aestheticFieldIDs,e.data&&this.setDataIndex(a.getDataIndex(e.data.id)));
else if(b.com_ibm_vis_interaction_SceneItemTypes.TYPE_COORDINATES==this.type){var g=new b.com_ibm_vis_geom_Point(0,0),f=this.sd_7.getNetTransform();f&&(g=f.transformPoint(g));this.cd_9=e.getDataValuesFor(d-g.x,c-g.y);this.ca_9=e.coordinates.coordinateFieldIDs}else"axis"!=this.type||this.dl$5()||(g=this.dimensionIndex(),0<g&&e.coordinates.containsCluster()?this.ca_9=e.coordinates.getAxisForDimension(g).getHierarchicalFieldIDs():0<=g&&g<e.coordinates.coordinateFieldIDs.length&&(e=e.coordinates.coordinateFieldIDs[g])&&
0<e.length&&(this.ca_9=[e]),e=this.getSceneNode().getValue(),null==e&&this.sd_7.getParent()&&(e=this.sd_7.getParent().getValue()),this.cd_9=b.com_ibm_vis_interaction_internal_SceneItemImpl.coordsFromValue(e));e=this.ga$19(this.ca_9);null==this.getDataIndex()&&e&&this.setDataIndex(a.getMatchingData(e))}}if(e=this.getHitChildren())for(g=0,f=e.length;g<f;++g)e[g].decorateItem(a,d,c)},dd$2:function(){var a=this.vis.ce_40;if(a.legends){var d=this.legendIndex(),c=this.elementIndex();if(null!=c&&d<a.legends.length&&
(a=a.legends[d].elements)&&a.length>c)for(var d=this.vis.ga_5,e=0,g=d.length;e<g;++e){var f=d[e];if(f.elements.length>c&&null!=a[c].$ref)for(var h=0,f=f.elements,l=f.length;h<l;++h){var m=f[h];a[c].$ref==m.id&&(m=m.do_6)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(m[0],b.com_ibm_vis_spec_internal_FieldValueRefSpec)&&(this.ca_9=Array(2),this.ca_9[0]=Array(1),this.ca_9[0][0]=m[0].$ref,this.cd_9=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),this.cd_9[0]=0)}}}},dl$5:function(){var a;
if(this.iI$2()){var d=this.getSceneNode().getShape();if(d&&(d=d.toString(),null!=d))for(var c=this.grammarIndex(),c=this.vis.ga_5[c].elements[0].data.fields,e=0,g=c.length;e<g;++e){var f=c[e];d==f.label&&(a=f.id)}}return null!=a?(this.ca_9=Array(2),this.ca_9[0]=Array(1),this.ca_9[0][0]=a,this.cd_9=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),this.cd_9[0]=0,!0):!1},ga$19:function(a){if(!a||0==a.length)return null;for(var b=a.length,c=Array(b),e=0;e<b;++e)c[e]=!a[e]||1<a[e].length?null:a[e][0];
return c},getBidiTooltipText:function(){var a,d=this.sd_7.shape;d&&(a=b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.getBidiTooltip(this.vis,d));return a}});b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem=function(a){return new b.com_ibm_vis_interaction_internal_SceneItemImpl(a)};b.com_ibm_vis_interaction_internal_SceneItemImpl.gd$21=function(a,b){var c=b.getNodeBounds(),e=a.getNetTransform();e&&(c=e.transformBoundingBox(c));return c};b.com_ibm_vis_interaction_internal_SceneItemImpl.getSceneType=
function(a){return null==a?"other":0==a.indexOf("L")?"legend":0<=a.indexOfCharCode(69)?0<=a.indexOfCharCode(83)||0<=a.indexOfCharCode(76)?"element":b.com_ibm_vis_interaction_SceneItemTypes.TYPE_COORDINATES:b.com_ibm_vis_engine_internal_util_SceneIdUtil.isCoordsId(a)?b.com_ibm_vis_interaction_SceneItemTypes.TYPE_COORDINATES:0<=a.indexOfCharCode(65)?"axis":0==a.indexOfCharCode(68)?"title":"frame"};b.com_ibm_vis_interaction_internal_SceneItemImpl.getSceneSubType=function(a,d){var c=b.com_ibm_vis_interaction_internal_SceneItemImpl.getSceneType(a);
if("element"==c){if(d&&(c=d.getMeta("part"),null!=c))return c;if(0<=a.indexOfCharCode(83))return"main";if(0<=a.indexOfCharCode(76))return"label"}else{if("axis"==c)return 0<=a.indexOf("Title")?"title":0<=a.indexOfCharCode(84)?"label":0<=a.indexOfCharCode(77)?"mark":0<=a.indexOfCharCode(78)?"minorMark":0<=a.indexOfCharCode(76)?"line":0<=a.indexOfCharCode(66)?"gridBand":"gridLine";if("legend"==c){if(0<a.indexOf("LE"))return 0<=a.indexOf("SW")?"swatch":0<=a.indexOfCharCode(84)?"label":b.com_ibm_vis_interaction_SceneItemTypes.SUBTYPE_LEGEND_ENTRY;
if(0<=a.indexOfCharCode(84)&&0>a.indexOf("LB"))return"title"}else if("frame"==c){if(0<=a.indexOf("Back"))return"vis";if(0<=a.indexOf("Out"))return"grammar";if(0<=a.indexOfCharCode(76))return"legend"}}return"none"};b.com_ibm_vis_interaction_internal_SceneItemImpl.coordsFromValue=function(a){return null==a?null:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?[a]:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?b.com_ibm_vis_interaction_internal_SceneItemImpl.ta$5(a):null};b.com_ibm_vis_interaction_internal_SceneItemImpl.ta$5=
function(a){a=a.split(";");for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),c=0;c<d.length;++c)d[c]=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a[c]);return d};b.com_ibm_vis_interaction_internal_SceneItemImpl.PART="part";b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionFilter,{ro_5:0,constructor:function(a,d){this.ro_5=a;if(d&&0!=d.length){this.re_18=new b.com_ibm_rave_codegenerator_util_NumericSet;
for(var c=0,e=d.length;c<e;++c)this.re_18.add(d[c])}else this.re_18=null},matches:function(a){if(!this.re_18)return!1;a=a.getShape();if(!a)return!1;a=a.getElementInfo().getRows();if(!a)return!1;if(0==this.ro_5){for(var b=0,c=a.length;b<c;++b){var e=a[b];if(!this.re_18.contains(e))return!1}return!0}b=0;for(c=a.length;b<c;++b)if(e=a[b],this.re_18.contains(e))return!0;return!1}});b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter.createAllRowsFilter=function(a){return new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter(0,
a)};b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter.createAnyRowsFilter=function(a){return new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter(1,a)};b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter.RL_1=0;b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter.RN_1=1;b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionExclusionFilter=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionFilter,
{constructor:function(a){if(a&&0!=a.length){this.em_3=new b.com_ibm_rave_codegenerator_util_Set;for(var d=0,c=a.length;d<c;++d){var e=a[d].id;null!=e&&this.em_3.add(e)}}else this.em_3=null},matches:function(a){return this.em_3&&(a=a.getId(),null!=a&&this.em_3.contains(a))?!1:!0}});b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionTooltipFilter=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionFilter,{matches:function(a){return(a=a.getShape())&&null!=a.getDisplayTooltip()}});
b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionMetaFilter=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionFilter,{matches:function(a){return(a=a.getMetaMap())&&0<a.size()}});b.com_ibm_vis_interaction_internal_HitDetection=b.com_ibm_init_declare({constructor:function(a,b){this.vis=a;this.tree=b},setSceneTree:function(a){this.tree=a},getAllItems:function(){return this.doHitDetection(null,null,!1,!1)},getItemsAtPoint:function(a,d){return this.doHitDetection(b.com_ibm_vis_interaction_internal_HitDetection.makePointPoly(a,
d),null,!0,!1)},getItemsAtPointForType:function(a,d,c){return this.doHitDetection(b.com_ibm_vis_interaction_internal_HitDetection.makePointPoly(a,d),new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionTypeFilter(c),!0,!1)},getItemsInPolygon:function(a,d){return this.doHitDetection(b.com_ibm_vis_interaction_internal_HitDetection.makePoly(a,d),null,!0,!1)},getItemsInPolygonForType:function(a,d,c){return this.doHitDetection(b.com_ibm_vis_interaction_internal_HitDetection.makePoly(a,d),new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionTypeFilter(c),
!0,!1)},getItemsForRows:function(a){return this.doHitDetection(null,b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter.createAllRowsFilter(a),!1,!1)},getItemsMatchingAnyRows:function(a){return this.doHitDetection(null,b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionRowsFilter.createAnyRowsFilter(a),!1,!1)},getItemsExcluding:function(a){return this.doHitDetection(null,new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionExclusionFilter(a),!1,!1)},getTooltipItem:function(a,
d){var c=this.doHitDetection(b.com_ibm_vis_interaction_internal_HitDetection.makePointPoly(a,d),b.com_ibm_vis_interaction_internal_HitDetection.TE_5,!0,!0);return 0<c.length?c[0]:null},getMetaItem:function(a,d){var c=this.doHitDetection(b.com_ibm_vis_interaction_internal_HitDetection.makePointPoly(a,d),b.com_ibm_vis_interaction_internal_HitDetection.ME_7,!0,!0);return 0<c.length?c[0]:null},getFilteredItems:function(a){return this.doHitDetection(null,a,!1,!1)},doHitDetection:function(a,d,c,e){if(!this.tree||
!this.tree.root)return b.com_ibm_vis_interaction_internal_HitDetection.NE_3;var g=new b.com_ibm_rave_codegenerator_util_List;this.do$3(g,this.tree.root,a,d,c,e);if(0==g.size())return b.com_ibm_vis_interaction_internal_HitDetection.NE_3;if(e)a=[b.com_ibm_vis_interaction_internal_HitDetection.ci$7(g.get(0))];else for(a=g.size(),a=Array(a),c=d=0,g=g.arrayIterator(),e=g.length;c<e;++c){var f=g[c];a[d++]=b.com_ibm_vis_interaction_internal_HitDetection.ci$7(f)}return a},do$3:function(a,d,c,e,g,f){if(!g||
!d.od_1){var h=c;if(c&&d.getTransform()){var l=d.getTransform().getAffine();l&&!l.isIdentity()&&(h=b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.coordinateTransform(c,l))}if(h&&(c=d.getClipBounds())&&0<h.distanceToGeom(c))return;if(c=this.do$4(d,h,e,f))if(a.add(c.toArray(Array(c.size()))),f)return;if(!d.shape&&(d=d.getChildren())&&0!=d.size())for(c=d.size()-1;0<=c&&!(this.do$3(a,d.get(c),h,e,g,f),f&&0<a.size());--c);}},do$4:function(a,d,c,e){if(!a.shape||null!=a.getId()&&a.getId().CPVISEngineStartsWith("_"))return null;
if(!d||b.com_ibm_vis_interaction_internal_HitDetection.il$20(d,a)){var g=a.getClipBounds();if(!d||!g||0>=d.distanceToGeom(g)){c!=b.com_ibm_vis_interaction_internal_HitDetection.TE_5||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isPartId(a.getId())||b.com_ibm_vis_engine_internal_grammar_label_TooltipEvaluator.getBidiTooltip(this.vis,a.shape);if((g=a.getChildren())&&0!=g.size()){for(var f=new b.com_ibm_rave_codegenerator_util_List,h=g.size()-1;0<=h;--h){var l=g.get(h),m=d;if(d&&l.getTransform()){var p=
l.getTransform().getAffine();p&&!p.isIdentity()&&(m=b.com_ibm_vis_engine_internal_geom_GeomInternalUtilities.coordinateTransform(d,p))}if(l=this.do$4(l,m,c,e))if(f.addAll(l),e)break}if(0==f.size())return null;f.add(a);return f}if(!c||c.matches(a)){var f=new b.com_ibm_rave_codegenerator_util_List;f.add(a);return f}}}return null}});b.com_ibm_vis_interaction_internal_HitDetection.il$20=function(a,d){var c;return(c=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.shape,b.com_ibm_vis_engine_internal_struct_Text)?
d.shape.getTextBounds():b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.shape,b.com_ibm_vis_engine_internal_struct_Schema)?d.shape.getBounds():d.getRenderInfo().getRenderGeom())?0>=a.distanceToGeom(c):!0};b.com_ibm_vis_interaction_internal_HitDetection.ci$7=function(a){if(1==a.length)return b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(a[0]);for(var d=a.length,c=Array(d-1),e=0;e<d-1;++e)c[e]=b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(a[e]);a=b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(a[d-
1]);a.setHitChildren(c);return a};b.com_ibm_vis_interaction_internal_HitDetection.makePoly=function(a,d){if(!a||!d||0==a.length||0==d.length||a.length!=d.length)return new b.com_ibm_vis_geom_Poly([NaN],[NaN],!0);var c=a.length,e=b.com_ibm_rave_codegenerator_util_Arrays.copyOf(a,c),c=b.com_ibm_rave_codegenerator_util_Arrays.copyOf(d,c),g=new b.com_ibm_vis_geom_Poly(e,c,!0),f=g.bd_1;return 0==f.wt_3||0==f.hh_2?0!=f.wt_3?(e=f.x,f=f.getX2(),new b.com_ibm_vis_geom_Poly([e,f,f,e],[c[0]-1,c[0]-1,c[0]+1,
c[0]+1],!0)):0!=f.hh_2?(c=f.y,f=f.getY2(),new b.com_ibm_vis_geom_Poly([e[0]-1,e[0]+1,e[0]+1,e[0]-1],[c,c,f,f],!0)):b.com_ibm_vis_interaction_internal_HitDetection.makePointPoly(e[0],c[0]):g};b.com_ibm_vis_interaction_internal_HitDetection.makePointPoly=function(a,d){return new b.com_ibm_vis_geom_Poly([a-1,a+1,a+1,a-1],[d-1,d-1,d+1,d+1],!0)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_internal_HitDetection.TE_5=new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionTooltipFilter;
b.com_ibm_vis_interaction_internal_HitDetection.ME_7=new b.com_ibm_vis_interaction_internal_hitdetection_HitDetectionMetaFilter;b.com_ibm_vis_interaction_internal_HitDetection.NE_3=[]});b.com_ibm_vis_interaction_internal_HighlightStateImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_HighlightState,{constructor:function(a,d){this.hc_1=a;this.it_7=d;for(var c=0,e=this.hc_1.values().arrayIterator(),g=e.length;c<g;++c)e[c].newTargetIds=new b.com_ibm_rave_codegenerator_util_LinkedSet},setSingle:function(a,
b){if(a){var c=this.hc_1.get(b);if(c){var e=a.getID();c.addTargetId(e)}}},setMultipleByID:function(a,b){var c=this.hc_1.get(b);if(c&&a)for(var e=0,g=a.length;e<g;++e)c.addTargetId(a[e])},setMultiple:function(a,b){if(a&&this.hc_1.get(b))for(var c=0,e=a.length;c<e;++c)this.setSingle(a[c],b)},apply:function(){for(var a=0,b=this.hc_1.values().arrayIterator(),c=b.length;a<c;++a){var e=b[a];e.hasChanged()&&(e.clear(),e.apply())}this.it_7&&this.it_7.rendererShowHighlights(null)},applyForKey:function(a){if(a=
this.hc_1.get(a))a.clear(),a.apply(),this.it_7&&this.it_7.rendererShowHighlights(null)},clearAddedSceneItems:function(){for(var a=0,b=this.hc_1.values().arrayIterator(),c=b.length;a<c;++a){var e=b[a];e.hasChanged()&&e.clear()}},clearAddedSceneItemsForKey:function(a){(a=this.hc_1.get(a))&&a.clear()},getAddedSceneItems:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.hc_1.values().arrayIterator(),e=c.length;d<e;++d){var g=c[d].getAddedSceneItems();if(g)for(var f=0,g=g.arrayIterator(),
h=g.length;f<h;++f)a.add(b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(g[f]))}return a.toArray(Array(a.size()))},getAddedSceneItemsForKey:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(a=this.hc_1.get(a)){var c=a.getAddedSceneItems();if(c){a=0;for(var c=c.arrayIterator(),e=c.length;a<e;++a){var g=c[a];g.setClipBounds(null);d.add(b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(g))}}}return d.toArray(Array(d.size()))},setSingleWithZOrder:function(a,b,c){this.it_7.getZOrder().setZOrder(a,
c);this.setSingle(a,b)},setMultipleWithZOrder:function(a,b,c){this.it_7.getZOrder().setZOrderMultiple(a,c);this.setMultiple(a,b)},setSingleToFront:function(a,b){this.it_7.getZOrder().moveToFront(a);this.setSingle(a,b)},setMultipleToFront:function(a,b){this.it_7.getZOrder().moveToFrontMultiple(a);this.setMultiple(a,b)},setSingleToBack:function(a,b){this.it_7.getZOrder().moveToBack(a);this.setSingle(a,b)},setMultipleToBack:function(a,b){this.it_7.getZOrder().moveToBackMultiple(a);this.setMultiple(a,
b)},setSingleWithZOrderWithReset:function(a,b,c){this.it_7.getZOrder().resetGroup(a);this.it_7.getZOrder().setZOrder(a,c);this.setSingle(a,b)},setMultipleWithZOrderWithReset:function(a,b,c){this.it_7.getZOrder().resetGroupMultiple(a);this.it_7.getZOrder().setZOrderMultiple(a,c);this.setMultiple(a,b)},setSingleToFrontWithReset:function(a,b){this.it_7.getZOrder().resetGroup(a);this.it_7.getZOrder().moveToFront(a);this.setSingle(a,b)},setMultipleToFrontWithReset:function(a,b){this.it_7.getZOrder().resetGroupMultiple(a);
this.it_7.getZOrder().moveToFrontMultiple(a);this.setMultiple(a,b)},setSingleToBackWithReset:function(a,b){this.it_7.getZOrder().resetGroup(a);this.it_7.getZOrder().moveToBack(a);this.setSingle(a,b)},setMultipleToBackWithReset:function(a,b){this.it_7.getZOrder().resetGroupMultiple(a);this.it_7.getZOrder().moveToBackMultiple(a);this.setMultiple(a,b)}});b.com_ibm_vis_interaction_GraphInteractivity=b.com_ibm_init_declare({hideChildrenOf:function(a,b,c,e){},hideParentsOf:function(a,b,c,e){},showChildrenOf:function(a,
b,c,e){},showChildrenForExpandLevel:function(a,b,c,e,g){},showParentsOf:function(a,b,c,e){},showParentsForExpandLevel:function(a,b,c,e,g){},showOnly:function(a,b,c,e){},showAll:function(a,b,c){},expandLineage:function(a,b,c,e,g,f){},collapseLineageAll:function(a,b){},getNodeLineageFieldValues:function(a){},getEdgeLineageFieldValues:function(a){}});b.com_ibm_vis_interaction_internal_GraphInteractivityImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_GraphInteractivity,{ge_5:0,ie_17:-1,fe_14:-1,
te_20:-1,ie_18:-1,oe_18:-1,co_11:-1,ce_42:0,constructor:function(a,b){this.vis=b;this.it_6=a;this.it$9()},hideChildrenOf:function(a,b,c,e){var g=this.co_11;this.iz$6(a,c,e);g!=this.co_11&&this.ud$1(g);this.ue$6(b,-1,!1,!1);this.um$2()},hideParentsOf:function(a,b,c,e){var g=this.co_11;this.iz$6(a,c,e);g!=this.co_11&&this.ud$1(g);this.ue$6(b,-1,!0,!1);this.um$2()},showChildrenOf:function(a,d,c,e){for(var g=0,f=d.length;g<f;++g){var h=d[g];if(h>this.nt_3.rows.length-1)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Passed node row is not available in data");
this.sd_6=this.nt_3.rows[h][this.ie_17];var l=this.cl_7.get(this.sd_6);this.showChildrenForExpandLevel(a,[h],null==l?1:l,c,e)}this.sd_6=null},showChildrenForExpandLevel:function(a,b,c,e,g){var f=this.co_11;this.iz$6(a,e,g);f!=this.co_11&&this.ud$1(f);this.ue$6(b,c,!1,!0);this.um$2()},showParentsOf:function(a,d,c,e){for(var g=0,f=d.length;g<f;++g){var h=d[g];if(h>this.nt_3.rows.length-1)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Passed node row is not available in data");this.sd_6=
this.nt_3.rows[h][this.ie_17];var l=this.cl_7.get(this.sd_6);this.showParentsForExpandLevel(a,[h],null==l?1:l,c,e)}this.sd_6=null},showParentsForExpandLevel:function(a,b,c,e,g){var f=this.co_11;this.iz$6(a,e,g);f!=this.co_11&&this.ud$1(f);this.ue$6(b,c,!0,!0);this.um$2()},showAll:function(a,b,c){this.showOnly(a,-1,b,c)},showOnly:function(a,b,c,e){this.iz$6(a,c,e);this.ct$25();this.ud$2(a,b,!0);this.um$2()},expandLineage:function(a,d,c,e,g,f){var h=!1,l;this.rt$4();if(d)d=new b.com_ibm_rave_codegenerator_util_List(1),
d.add(this.nt_3.rows[a][this.ie_17]),this.fe$9(d,!0,c,!1,!1),this.fe$9(d,!1,e,!1,!1);else{d=new b.com_ibm_rave_codegenerator_util_List(2);var m=Number.valueOf(b.com_ibm_rave_codegenerator_lang_Long.fromNumber(this.ge$60(this.lt_6.rows[a][this.fe_14]))),p=Number.valueOf(b.com_ibm_rave_codegenerator_lang_Long.fromNumber(this.ge$60(this.lt_6.rows[a][this.te_20])));l=[this.lt_6.rows[a][this.fe_14],this.lt_6.rows[a][this.te_20]];if(0<c||-1==c)d.add(m),this.fe$9(d,!0,-1==c?-1:c-1,!1,!1),d.removeAt(0);if(0<
e||-1==e)d.clear(),d.add(p),this.fe$9(d,!1,-1==e?-1:e-1,!1,!1);d.clear();0!=c&&d.add(m);0!=e&&d.add(p)}if(null!=g){c=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.nt_3.fields,g);if(-1==c)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Data field '"+g+"' does not exist.");g=this.nt_3.rows;for(a=0;a<g.length;++a)e=g[a][this.ie_17],m=this.at_5.contains(e)||this.ae_23.contains(e)||d.contains(e),e=g[a][c],0!=e&&(m?2==e&&(h=!0,g[a][c]=1):1==e&&(h=!0,g[a][c]=2))}if(null!=
f){d=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.lt_6.fields,f);if(-1==d)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Link field '"+f+"' does not exist.");g=this.lt_6.rows;for(a=0;a<g.length;++a)f=[g[a][this.fe_14],g[a][this.te_20]],f=l&&b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ia$5(l,f)||b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.ae_25,f)||b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.ae_24,
f),e=g[a][d],0!=e&&(f?2==e&&(h=!0,g[a][d]=1):1==e&&(h=!0,g[a][d]=2))}h&&this.it_6.updateScene()},collapseLineageAll:function(a,d){var c=!1;this.rt$4();if(null!=a){var e=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.nt_3.fields,a);if(-1==e)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Node field '"+a+"' does not exist.");for(var g=this.nt_3.rows,f=0;f<g.length;++f)1==g[f][e]&&(c=!0,g[f][e]=2)}if(null!=d){e=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.lt_6.fields,
d);if(-1==e)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Link field '"+d+"' does not exist.");g=this.lt_6.rows;for(f=0;f<g.length;++f)1==g[f][e]&&(c=!0,g[f][e]=2)}c&&this.it_6.updateScene()},getNodeLineageFieldValues:function(a){this.rt$4();var d=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.nt_3.fields,a);if(-1==d)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Node field '"+a+"' does not exist.");a=this.nt_3.rows;for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],
0),e=0;e<a.length;++e)c[e]=a[e][d];return c},getEdgeLineageFieldValues:function(a){this.rt$4();var d=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.lt_6.fields,a);if(-1==d)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Link field '"+a+"' does not exist.");a=this.lt_6.rows;for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),e=0;e<a.length;++e)c[e]=a[e][d];return c},setGrammarIndex:function(a){this.ge_5=a},rt$4:function(){var a=this.gn$33(),d=
this.gn$34();if(!a||!d)throw new b.com_ibm_vis_exceptions_internal_EngineException("Input specs do not represent a DAG graph.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);this.nc_3=a.positioning;this.lc_3=d.positioning;for(var c=0,e=this.vis.ce_40.data,g=e.length;c<g;++c){var f=e[c];f.id==a.data.$ref?this.nt_3=f:f.id==d.data.$ref&&(this.lt_6=f)}if(!(this.nc_3&&this.lc_3&&this.nt_3&&this.lt_6))throw new b.com_ibm_vis_exceptions_internal_EngineException("Input specs do not represent a DAG graph.",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);this.ie_17=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.nt_3.fields,this.nc_3.id.$ref);this.fe_14=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.lt_6.fields,this.lc_3.from.$ref);this.te_20=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.lt_6.fields,this.lc_3.to.$ref);this.it$8();this.ct$25()},iz$6:function(a,d,c){this.rt$4();if(a>this.nt_3.rows.length-1)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Passed center node row is not available in data");
this.co_11=a;this.ie_18=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.nt_3.fields,d);if(-1==this.ie_18)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("In icon field do not exists in data");this.oe_18=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59(this.nt_3.fields,c);if(-1==this.oe_18)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Out icon field do not exists in data");if(this.nc_3.prunedNodes)for(a=0;a<this.nc_3.prunedNodes.length;++a)this.pe_25.add(this.nc_3.prunedNodes[a]);
if(this.nc_3.prunedEdges)for(a=0;a<this.nc_3.prunedEdges.length;++a)this.pe_24.add(this.nc_3.prunedEdges[a]);this.nc_3.prunedNodes=null;this.nc_3.prunedEdges=null;this.lc_3.prunedEdges=null},ud$1:function(a){this.ud$2(this.co_11,-1,0>a);0<a&&a<=this.nt_3.rows.length-1&&(a=this.nt_3.rows[a][this.ie_17],this.ct_9.contains(a)&&this.st$10(a,!0,0),this.ce_41.contains(a)&&this.st$10(a,!1,0))},ue$6:function(a,d,c,e){for(var g=c?this.ie_18:this.oe_18,f=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List,
l=new b.com_ibm_rave_codegenerator_util_List,m=0;m<a.length;++m){if(a[m]>this.nt_3.rows.length-1)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Passed node row is not available in data");var p=this.nt_3.rows[a[m]][this.ie_17];l.add(p);this.nt_3.rows[a[m]][g]=e?this.gt$35(p,c,1):this.gt$35(p,c,0)}if(e)this.fe$9(l,c,d,!e,e),f=c?this.at_5:this.ae_23,h=c?this.ae_25:this.ae_24;else{m=0;l=l.arrayIterator();for(a=l.length;m<a;++m)p=l[m],this.ce_42=0,this.sd_6=p,g=new b.com_ibm_rave_codegenerator_util_List,
g.add(p),this.fe$9(g,c,d,!e,e),c?(f.addAll(this.at_5),h.addAll(this.ae_25)):(f.addAll(this.ae_23),h.addAll(this.ae_24)),this.it$8();this.sd_6=null}d=0;c=f.arrayIterator();for(l=c.length;d<l;++d)p=c[d],this.pe_25.contains(p)?e&&this.pe_25.remove(p):e||this.pe_25.add(p);for(m=0;m<h.size();++m)p=h.get(m),b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.pe_24,p)?e&&b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$3(this.pe_24,p):e||this.pe_24.add(p);if(e)for(e=0,f=f.arrayIterator(),
h=f.length;e<h;++e)p=f[e],this.cl_7.remove(p);this.it$8()},ud$2:function(a,d,c){if(!(0>a)){var e=new b.com_ibm_rave_codegenerator_util_List;e.add(this.nt_3.rows[a][this.ie_17]);this.fe$9(e,!0,d,!1,c);this.fe$9(e,!1,d,!1,c);this.ct_9=this.at_5;this.ce_41=this.ae_23;0<this.at_5.size()?this.nt_3.rows[a][this.ie_18]=this.il$19(this.at_5)?2:1:this.nt_3.rows[a][this.ie_18]=this.gt$35(this.nt_3.rows[a][this.ie_17],!0,0);0<this.ae_23.size()?this.nt_3.rows[a][this.oe_18]=this.il$19(this.ae_23)?2:1:this.nt_3.rows[a][this.oe_18]=
this.gt$35(this.nt_3.rows[a][this.ie_17],!1,0);for(a=0;a<this.nt_3.rows.length;++a)d=this.nt_3.rows[a][this.ie_17],e.contains(d)||this.at_5.contains(d)||this.ae_23.contains(d)||this.pe_25.contains(d)||this.pe_25.add(d);for(a=0;a<this.lt_6.rows.length;++a)e=[this.lt_6.rows[a][this.fe_14],this.lt_6.rows[a][this.te_20]],b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.ae_25,e)||b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.ae_24,e)||b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.pe_24,
e)||this.pe_24.add(e);this.it$8()}},um$2:function(){if(0<this.pe_25.size()){this.nc_3.prunedNodes=Array(this.pe_25.size());for(var a=0;a<this.pe_25.size();++a)this.nc_3.prunedNodes[a]=this.pe_25.get(a)}for(a=0;a<this.lt_6.rows.length;++a){var d=this.lt_6.rows[a][this.fe_14],c=this.lt_6.rows[a][this.te_20],e=[d,c];b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.pe_24,e)||(this.pe_25.contains(d)?(this.pe_24.add(e),this.ut$3(this.ge$60(c),1)):this.pe_25.contains(c)&&(this.pe_24.add(e),
this.ut$3(this.ge$60(d),1)))}if(0<this.pe_24.size()){this.nc_3.prunedEdges=Array(this.pe_24.size());for(a=0;a<this.pe_24.size();++a)this.nc_3.prunedEdges[a]=this.pe_24.get(a);this.lc_3.prunedEdges=this.nc_3.prunedEdges}this.it_6.updateScene()},fe$9:function(a,d,c,e,g){if(0!=c){0<c&&c--;var f=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List,l=new b.com_ibm_rave_codegenerator_util_List,m=d?this.te_20:this.fe_14,p=d?this.fe_14:this.te_20,q=!1,q=g?!0:!1,r=null!=
this.sd_6?!this.cl_7.containsKey(this.sd_6):!0,t=0;a=a.arrayIterator();for(var w=a.length;t<w;++t)for(var x=a[t],y=0;y<this.lt_6.rows.length;++y)if(x==this.lt_6.rows[y][m]){var z=this.lt_6.rows[y][p];g&&(q=d?!this.at_5.contains(z):!this.ae_23.contains(z));if(!e||this.pd$4(z,!d))if(f.add(z),r||this.ie$55(z,d))h.add(z),q&&this.st$10(z,d,c);z=Array(2);z[0]=this.lt_6.rows[y][this.fe_14];z[1]=this.lt_6.rows[y][this.te_20];l.add(z)}0<l.size()&&(d?this.ae_25.addAll(l):this.ae_24.addAll(l));q=d?b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$3(this.at_5,
f):b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$3(this.ae_23,f);0<f.size()&&!q&&(e&&this.ce_42++,d?this.at_5.addAll(f):this.ae_23.addAll(f),0!=c&&this.fe$9(h,d,c,e,g),e&&0<=this.sd_6&&this.cl_7.put(this.sd_6,this.ce_42))}},ie$55:function(a,b){var c=b?this.ie_18:this.oe_18,e=this.ge$60(a);return 0<=e&&e<=this.nt_3.rows.length-1&&2==this.nt_3.rows[e][c]?!0:!1},il$19:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b)if(!this.pe_25.contains(a[b]))return!0;return!1},pd$4:function(a,
d){for(var c=d?this.te_20:this.fe_14,e=d?this.fe_14:this.te_20,g=d?this.oe_18:this.ie_18,f=d?this.ae_23:this.at_5,h=0;h<this.lt_6.rows.length;++h)if(a==this.lt_6.rows[h][c]){var l=this.lt_6.rows[h][e],m=Array(2);m[0]=d?l:a;m[1]=d?a:l;if(!f.contains(l)&&!this.pe_25.contains(l)&&!b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(this.pe_24,m)&&(l=this.ge$60(l),0<=l&&l<=this.nt_3.rows.length-1&&1!=this.nt_3.rows[l][g]))return!1}if(d){if(this.ct_9&&this.ct_9.contains(a))return!1}else if(this.ce_41&&
this.ce_41.contains(a))return!1;return!0},gn$33:function(){for(var a,b=this.vis.ce_40.grammar[this.ge_5].elements,c=0,e=b.length;c<e;++c){var g=b[c],f=g.positioning;if(f&&(this.lo_7=f.method,"dag"==this.lo_7||"tree"==this.lo_7)){a=g;break}}return a},gn$34:function(){for(var a,b=this.vis.ce_40.grammar[this.ge_5].elements,c=0,e=b.length;c<e;++c){var g=b[c],f=g.positioning;if(f&&"link"==f.method){a=g;break}}return a},ut$3:function(a,b){0<=a&&a<=this.nt_3.rows.length-1&&(0!=this.nt_3.rows[a][this.ie_18]&&
(this.nt_3.rows[a][this.ie_18]=b),0!=this.nt_3.rows[a][this.oe_18]&&(this.nt_3.rows[a][this.oe_18]=b))},st$10:function(a,b,c){var e=this.ge$60(a);0<=e&&e<=this.nt_3.rows.length-1&&e!=this.co_11&&(this.nt_3.rows[e][this.ie_18]=b?this.gt$35(a,b,c):0,this.nt_3.rows[e][this.oe_18]=b?0:this.gt$35(a,b,c))},gt$35:function(a,d,c){var e=d?this.te_20:this.fe_14,g=d?this.fe_14:this.te_20,f=0;if(null==this.sd_6||0!=c)for(var h=0;h<this.lt_6.rows.length;++h){if(a==this.lt_6.rows[h][e]){f=0!=c?2:1;break}}else{var l;
d?(c=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$4(this.pe_25,this.at_5),l=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$5(this.pe_24,this.ae_25)):(c=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$4(this.pe_25,this.ae_23),l=b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$5(this.pe_24,this.ae_24));for(h=0;h<this.lt_6.rows.length;++h)if(a==this.lt_6.rows[h][e]){var f=1,m=this.lt_6.rows[h][g],p=Array(2);p[0]=d?m:a;p[1]=d?a:m;if(!c.contains(m)&&
!b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(l,p)){f=2;break}}}return f},ge$60:function(a){for(var b=0;b<this.nt_3.rows.length;++b)if(a==this.nt_3.rows[b][this.ie_17])return b;return-1},it$8:function(){this.at_5=new b.com_ibm_rave_codegenerator_util_List;this.ae_23=new b.com_ibm_rave_codegenerator_util_List;this.ae_25=new b.com_ibm_rave_codegenerator_util_List;this.ae_24=new b.com_ibm_rave_codegenerator_util_List;this.ce_42=0},ct$25:function(){this.pe_25=new b.com_ibm_rave_codegenerator_util_List;
this.pe_24=new b.com_ibm_rave_codegenerator_util_List},it$9:function(){this.cl_7=new b.com_ibm_rave_codegenerator_util_NumericMap}});b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ge$59=function(a,b){for(var c=0;c<a.length;++c)if(null!=b&&b==a[c].id)return c;return-1};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2=function(a,d){for(var c=0;c<a.size();++c)if(b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ia$5(d,a.get(c)))return!0;return!1};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ia$5=
function(a,b){return a[0]==b[0]&&a[1]==b[1]};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$3=function(a,b){for(var c=0;c<a.size();++c){var e=a.get(c);if(e[0]==b[0]&&e[1]==b[1]){a.remove(e);break}}};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$3=function(a,b){for(var c=0,e=b.arrayIterator(),g=e.length;c<g;++c)if(!a.contains(e[c]))return!1;return!0};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$4=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,
e=0,g=a.arrayIterator(),f=g.length;e<f;++e){var h=g[e];d.contains(h)||c.add(h)}return c};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.rs$5=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=a.arrayIterator(),f=g.length;e<f;++e){var h=g[e];b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.is$2(d,h)||c.add(h)}return c};b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.NT_2=0;b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.ET_5=1;b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.CT_4=
2;b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.LE_4="tree";b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.LA_1="dag";b.com_ibm_vis_interaction_internal_GraphInteractivityImpl.LN_1="link";b.com_ibm_vis_interaction_ViewportZoom=b.com_ibm_init_declare.implement({getGrammarCount:function(){},getGrammarDimension:function(a){},getViewPort:function(){},getViewport:function(){},setViewport:function(a){},setPanViewport:function(a){},panBy:function(a){},panByProportion:function(a){},
getGrammarViewPort:function(a){},getGrammarViewport:function(a){},setGrammarViewport:function(a,b){},panGrammarBy:function(a,b){},panGrammarByProportion:function(a,b){},screenToViewport:function(a,b,c,e){},pointInChart:function(a,b,c,e){},getGrammarChartCount:function(a){}});b.com_ibm_vis_interaction_internal_ViewportZoomImpl=b.com_ibm_init_declare([b.com_ibm_vis_interaction_ViewportZoom,b.com_ibm_vis_interaction_internal_InteractivityMethod],{ae_27:!1,constructor:function(a){this.it_13=a;this.sceneChanged(!1)},
initializeWithViewport:function(a,b,c){for(var e=0;e<this.vt_4.length;++e)this.vt_4[e].setViewport(a);this.ae_27=b;this.se_60=c;if(b)for(e=0;e<this.vt_4.length;++e)a=this.it_13.vis.ga_5[e].coordinates.transposesAxes(),this.me$76(this.go$32().getChildren(),0,0,a,e)},getType:function(){return 1001},sceneChanged:function(a){this.ae_27=!1;if(a||!this.vt_4){a=this.it_13.vis.ce_40;var d=a.grammar?a.grammar.length:0;this.vt_4=Array(d);for(var c=0;c<d;++c)this.vt_4[c]=new b.com_ibm_vis_interaction_internal_Viewport(a.grammar[c])}},
getGrammarCount:function(){return this.vt_4.length},getGrammarDimension:function(a){this.ce$41("getGrammarDimension",a);return this.vt_4[a].getDimensions()},getViewPort:function(){return this.getViewport()},getViewport:function(){if(0==this.vt_4.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("No grammars defined in ViewportZoom#getViewPort",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);return this.vt_4[0].getViewport()},getGrammarViewPort:function(a){return this.getGrammarViewport(a)},
getGrammarViewport:function(a){this.ce$41("getGrammarViewPort",a);return this.vt_4[a].getViewport()},do$5:function(a,d){b.com_ibm_vis_engine_internal_Vis.checkViewportArray("ViewportZoom#doZoom",a);this.ae_27=!1;if(null==d)for(var c=0;c<this.vt_4.length;++c)this.vt_4[c].setViewport(a);else this.vt_4[d].setViewport(a);this.un$5(!1,!1);this.render()},setGrammarViewport:function(a,d){this.ce$41("setGrammarViewport",d);b.com_ibm_vis_engine_internal_Vis.checkViewportArray("ViewportZoom#setGrammarViewport",
a);this.ve$7(a,d)&&(this.in$12(a,d)?this.da$3(a,d):this.do$5(a,d))},panBy:function(a){for(var b=0;b<this.vt_4.length;++b){for(var c=this.vt_4[b].getViewport(),e=Math.min(c.length,a.length),g=0;g<e;++g)c[g][0]+=a[g],c[g][1]+=a[g];this.da$3(c,b)}},panGrammarBy:function(a,b){this.ce$41("panGrammarBy",b);for(var c=this.vt_4[b].getViewport(),e=Math.min(c.length,a.length),g=0;g<e;++g)c[g][0]+=a[g],c[g][1]+=a[g];this.da$3(c,b)},panByProportion:function(a){for(var b=0;b<this.vt_4.length;++b){for(var c=this.vt_4[b].getViewport(),
e=Math.min(c.length,a.length),g=0;g<e;++g){var f=c[g][1]-c[g][0];c[g][0]+=f*a[g];c[g][1]+=f*a[g]}this.da$3(c,b)}},panGrammarByProportion:function(a,b){this.ce$41("panGrammarByProportion",b);for(var c=this.vt_4[b].getViewport(),e=Math.min(c.length,a.length),g=0;g<e;++g){var f=c[g][1]-c[g][0];c[g][0]+=f*a[g];c[g][1]+=f*a[g]}this.da$3(c,b)},un$5:function(a,b){this.se_60=this.it_13.vis.updateViewports(this.vt_4,a,b).getSceneTree()},ce$41:function(a,d){if(0>d||d>=this.vt_4.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal grammar index in ViewportZoom#"+
a+": "+d+" (specification has "+this.vt_4.length+" grammars)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);},ce$42:function(a,d,c){this.ce$41(a,d);var e=this.getGrammarChartCount(d);if(0>c||c>=e)throw new b.com_ibm_vis_exceptions_internal_EngineException("Illegal chart index in ViewportZoom#"+a+": "+c+" (grammar "+d+" has "+e+" grammars)",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);},in$12:function(a,d){var c=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);null==
d?(c[0]=0,c[1]=this.vt_4.length):(c[0]=d,c[1]=d+1);for(var e=c[0];e<c[1];++e)for(var g=0;g<a.length&&g<this.vt_4[e].getViewport().length;++g){var f=this.vt_4[e].getViewport()[g][1]-this.vt_4[e].getViewport()[g][0];if(!b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0(f,a[g][1]-a[g][0]))return!1}return!0},ir$5:function(a,d){var c=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);null==d?(c[0]=0,c[1]=this.vt_4.length):(c[0]=d,c[1]=d+1);for(var e=c[0];e<c[1];++e)for(var g=0;g<a.length&&g<
this.vt_4[e].getViewport().length;++g)if(!b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0(this.vt_4[e].getViewport()[g][0],a[g][0])||!b.com_ibm_vis_engine_internal_util_MathUtil.deltaEquals$0(this.vt_4[e].getViewport()[g][1],a[g][1]))return!1;return!0},ve$7:function(a,d){b.com_ibm_vis_engine_internal_Vis.checkViewportArray("ViewportZoom#setViewport",a);return this.ir$5(a,d)?!1:!0},setViewport:function(a){this.ve$7(a,null)&&(this.in$12(a,null)?this.da$3(a,null):this.do$5(a,null))},setPanViewport:function(a){this.ve$7(a,
null)&&(this.in$12(a,null)||this.do$5(a,null),this.da$3(a,null))},da$3:function(a,d){var c=!1,e=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);null==d?(e[0]=0,e[1]=this.vt_4.length):(e[0]=d,e[1]=d+1);for(var g=Array(this.vt_4.length),f=e[0];f<e[1];++f){var h;h=this.vt_4[f].getViewport();g[f]=b.com_ibm_rave_codegenerator_lang_Array.create([h.length],0);for(var l=0;l<h.length;++l)if(a.length>l){if(g[f][l]=(h[l][0]-a[l][0])/(a[l][1]-a[l][0]),0==l&&(g[f][l]=-g[f][l]),0>a[l][0]||1<a[l][1])c=!0}else g[f][l]=
0}if(c){for(f=e[0];f<e[1];++f)this.vt_4[f].setViewport(a);this.ae_27=!1;this.un$5(!1,!0);this.render()}else{c=!0;this.ae_27||(c=!1,this.ae_27=!0,this.un$5(!0,!0));e=this.it_13.vis.vx_10;e.setHandlingSceneTree(!0);for(f=0;f<this.vt_4.length;++f)if(null==d||f==d){this.vt_4[f].setViewport(a);var m=this.it_13.vis.ga_5[f].coordinates.transposesAxes();1==g[f].length?m?(h=m?g[f][0]:g[f][1],this.me$76(this.go$32().getChildren(),h,0,m,f)):(l=m?g[f][1]:g[f][0],this.me$76(this.go$32().getChildren(),0,l,m,f)):
1<g[f].length&&(h=m?g[f][0]:g[f][1],l=m?g[f][1]:g[f][0],this.me$76(this.go$32().getChildren(),h,l,m,f))}else m=this.it_13.vis.ga_5[f].coordinates.transposesAxes(),this.me$76(this.go$32().getChildren(),0,0,m,f);e.setHandlingSceneTree(!1);this.render();c&&this.it_13.vis.applyViewport(this.vt_4)}},render:function(){var a=this.it_13.vis.vx_10;a.setConstructionFlag(2,!0);this.it_13.setSceneTree(this.se_60);a.setConstructionFlag(2,!1)},me$76:function(a,d,c,e,g){var f=this.ie$59(a),h=this.se_60.findNode("G"+
g.toString()+"Coords").getPhysicalBounds(),l=d*h.wt_3,h=c*h.hh_2;e&&(l*=-1,h*=-1);var m=0;a=a.arrayIterator();for(var p=a.length;m<p;++m){var q=a[m];b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT.equals(q.getType())?this.mn$34(q,l,h,g):b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS.equals(q.getType())||b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK.equals(q.getType())?f||(this.mi$18(q,l,h,e,g),this.fn$11(q,this.ge$72(q),e,g)):b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET.equals(q.getType())&&
this.me$76(q.getChildren(),d,c,e,g)}},gd$22:function(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d){var e=a[d];if(b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES.equals(e.getClassId()))return e}return null},ud$3:function(a){var b=this.gn$38(a),c=0;a=a.getChildren().arrayIterator();for(var e=a.length;c<e;++c){var g=a[c],f=g.getPhysicalBounds();g.getClipBounds()&&g.setClipBounds(null);b.intersectsRect(f)?(g.od_1=!1,this.ud$3(g)):g.od_1=!0}},mn$34:function(a,b,c,e){0==b&&
0==c||this.ga$21(a)!=e||(a.translate(b,c),e=this.gn$38(a),e.translate(-b,-c),a.clipTo(e),this.ud$3(a))},ga$21:function(a){var b=a.getId();if(null!=b&&(b=this.ga$22(b),-1<b))return b;var c=0;a=a.getChildren().arrayIterator();for(var e=a.length;c<e;++c)if(b=this.ga$21(a[c]),-1<b)return b;return-1},ga$22:function(a){a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(a);return null!=a&&(a=a.substring(1),a=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(a),a==a)?a:-1},mi$18:function(a,
d,c,e,g){0==d&&0==c||this.ga$21(a)!=g||(g=this.ge$72(a),this.iv$1(g,e)?(a.translate(d,0),b.com_ibm_vis_interaction_internal_ViewportZoomImpl.mc$30(a,d,0)):(a.translate(0,c),b.com_ibm_vis_interaction_internal_ViewportZoomImpl.mc$30(a,0,c)))},go$32:function(){return this.se_60.root},fn$11:function(a,d,c,e){if(this.ga$21(a)==e){var g=0==d?0:1,f=this.vt_4[e].getViewport()[g],g=this.it_13.vis.ga_5[e].coordinates.getAxisForDimension(d).getScale(),h=g.getFirstVisibleTick(f),f=g.getLastVisibleTick(f);e=this.getCoordsBounds(e);
var l=this.gn$39(a),m=0;a=a.getChildren().arrayIterator();for(var p=a.length;m<p;++m){var q=a[m],r=q.getClassId(),t=this.gn$38(q).copy();t.wt_3=Math.max(1,t.wt_3);t.hh_2=Math.max(1,t.hh_2);if(b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE.equals(r)||b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SCHEMA_SHAPE.equals(r))q.getShape()&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(q.getShape(),b.com_ibm_vis_engine_internal_struct_Text)&&null!=q.getShape().getID()&&q.getShape().getID().CPVISEngineContains("Title")||
(this.iv$1(d,c)?(t.x=e.x-l.m02,t.wt_3=e.wt_3):(t.y=e.y-l.m12,t.hh_2=e.hh_2),q.clipTo(t),r=q.getPhysicalBounds(),q.od_1=!t.intersectsRect(r));else if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK.equals(q.getType())||b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL.equals(q.getType())){this.ck$4(q,d,c,g.getTicks().size()-1,h,f,t);for(var w=0,q=q.getChildren().arrayIterator(),x=q.length;w<x;++w){var y=q[w],r=y.getPhysicalBounds();y.od_1=!t.intersectsRect(r)}}}}},ck$4:function(a,
b,c,e,g,f,h){var l=a.getChildren();this.iv$1(b,c)?(b=g>e?e<l.size()?l.get(e).getPhysicalBounds().getX2()+1:l.get(l.size()-1).getPhysicalBounds().getX2()+1:0>g?l.get(0).getPhysicalBounds().x-1:g<l.size()?l.get(g).getPhysicalBounds().x:l.get(0).getPhysicalBounds().x,e=f>e?e<l.size()?l.get(e).getPhysicalBounds().getX2()+1:l.get(l.size()-1).getPhysicalBounds().getX2()+1:0>f?l.get(0).getPhysicalBounds().x-1:f<l.size()?l.get(f).getPhysicalBounds().getX2():l.get(l.size()-1).getPhysicalBounds().getX2(),h.x=
b,h.wt_3=e-b):(b=g>e?e<l.size()?l.get(e).getPhysicalBounds().y-1:l.get(l.size()-1).getPhysicalBounds().y-1:0>g?l.get(0).getPhysicalBounds().getY2()+1:g<l.size()?l.get(g).getPhysicalBounds().getY2():l.get(0).getPhysicalBounds().getY2(),e=f>e?e<l.size()?l.get(e).getPhysicalBounds().y-1:l.get(l.size()-1).getPhysicalBounds().y-1:0>f?l.get(0).getPhysicalBounds().getY2()+1:f<l.size()?l.get(f).getPhysicalBounds().y:l.get(l.size()-1).getPhysicalBounds().y,h.y=e,h.hh_2=b-e);a.clipTo(h)},gd$23:function(a){var d=
0;a=a.getChildren().arrayIterator();for(var c=a.length;d<c;++d){var e=a[d];if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK.equals(e.getType()))return e}return null},iv$1:function(a,b){return 0<a&&!b||0==a&&b},gn$38:function(a){var b=a.getClipBounds();b||(b=a.getPhysicalBounds());return b},gn$39:function(a){return a.getTransform()&&a.getTransform().getAffine()?a.getTransform().getAffine():b.com_ibm_vis_engine_internal_Affine.identity()},getCoordsBounds:function(a){for(var d=0,c=this.it_13.st_22.getSceneTree().root.getChildren().arrayIterator(),
e=c.length;d<e;++d){var g=c[d];if(b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES.equals(g.getClassId())&&this.ga$21(g)==a)return g.getPhysicalBounds()}return null},ge$72:function(a){var d=a.getId();if(null!=d)return b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID(d,65);d=0;a=a.getChildren().arrayIterator();for(var c=a.length;d<c;++d){var e=this.ge$72(a[d]);if(-1!=e)return e}return-1},ie$59:function(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d)if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET.equals(a[d].getType()))return!0;
return!1},ga$23:function(a){return this.it_13.vis.ga_5[a]},screenToViewport:function(a,b,c,e){this.ce$42("screenToViewport",a,b);return this.ga$23(a).screenToCoordinates(b,c,e)},pointInChart:function(a,b,c,e){this.ce$42("pointInChart",a,b);return this.ga$23(a).pointInChart(b,c,e)},getGrammarChartCount:function(a){this.ce$41("getGrammarChartCount",a);return this.ga$23(a).getChartCount()}});b.com_ibm_vis_interaction_internal_ViewportZoomImpl.uo$2=function(a){var b=0;a=a.grammar;for(var c=a.length;b<
c;++b){var e=a[b];if(e&&e.elements){for(var g=!1,f=0,h=e.elements,l=h.length;f<l;++f){var m=h[f];if(m&&"custom"==m.type){g=!0;break}}if(g&&e.coordinates&&e.coordinates.transforms)for(g=0,e=e.coordinates.transforms,f=e.length;g<f;++g)h=e[g],"projection"==h.type&&(h=h.projectionParameters,null!=h.method&&(h.method="stretch"))}}};b.com_ibm_vis_interaction_internal_ViewportZoomImpl.mc$30=function(a,d,c){var e=0;a=a.getChildren().arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];f.getShape()&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f.getShape(),
b.com_ibm_vis_engine_internal_struct_Text)&&null!=f.getShape().getID()&&f.getShape().getID().CPVISEngineContains("Title")&&f.translate(-d,-c)}};b.com_ibm_vis_engine_internal_interaction_effect_ChangeEffectsImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_ChangeEffects,{constructor:function(){this.ea_1=new b.com_ibm_rave_codegenerator_util_Map;(function(a){this.ee_8=a;this.easingFunctions=new b.com_ibm_rave_codegenerator_util_Map;this.easingFunctions.put("linear",new b.com_ibm_vis_engine_internal_interaction_easing_LinearEasingFunction);
this.easingFunctions.put(b.com_ibm_vis_interaction_EasingFunction.EASE_IN_OUT_QUAD,new b.com_ibm_vis_engine_internal_interaction_easing_QuadInOutEasingFunction);this.easingFunctions.put(b.com_ibm_vis_interaction_EasingFunction.EASE_OUT_BACK,new b.com_ibm_vis_engine_internal_interaction_easing_BackOutEasingFunction);this.easingFunctions.put(b.com_ibm_vis_interaction_EasingFunction.EASE_OUT_BOUNCE,new b.com_ibm_vis_engine_internal_interaction_easing_BounceOutEasingFunction)}).apply(this,arguments)},
makeTransitionEffect:function(a){a=new b.com_ibm_vis_engine_internal_interaction_effect_Transition(a);a.ee_9=this.ee_8;return a},makeGrowEffect:function(a){a=new b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect(a);a.ee_9=this.ee_8;return a},makeRevealEffect:function(a){a=new b.com_ibm_vis_engine_internal_interaction_effect_RevealEffect(a);a.ee_9=this.ee_8;return a},makeFadeInEffect:function(a){a=new b.com_ibm_vis_engine_internal_interaction_effect_FadeInEffect(a,1);a.ee_9=this.ee_8;return a},
makeFadeOutEffect:function(a){a=new b.com_ibm_vis_engine_internal_interaction_effect_FadeOutEffect(a,1);a.ee_9=this.ee_8;return a},makeFlyInEffect:function(a){a=new b.com_ibm_vis_engine_internal_interaction_effect_FlyInEffect(a,1);a.ee_9=this.ee_8;return a},makeSimultaneous:function(a,d){return b.com_ibm_vis_engine_internal_interaction_effect_CompositeEffect.makeCompositeEffect([a,d])},makeSimultaneousEffects:function(a){if(!a)throw new b.com_ibm_vis_exceptions_internal_EngineException("Null array passed to makeSimultaneousEffects",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);for(var d=0,c=0;c<a.length;++c)a[c]&&d++;if(0==d)throw new b.com_ibm_vis_exceptions_internal_EngineException("Array passed to makeSimultaneousEffects has no non-null effects",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);for(var e=Array(d),c=d=0;c<a.length;++c)a[c]&&(e[d++]=a[c]);return b.com_ibm_vis_engine_internal_interaction_effect_CompositeEffect.makeCompositeEffect(e)},makeSequential:function(a,d){throw new b.com_ibm_vis_exceptions_internal_EngineException("Combined sequential effects are not supported yet",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);},setChangeEffect:function(a,b){a?this.ea_1.put(b,a):this.ea_1.remove(b)},getChangeEffect:function(a){return this.ea_1.get(a)},addEffectListener:function(a){this.ee_8.addListenerToGroup(b.com_ibm_vis_interaction_events_EffectStartEvent.EVENT_GROUP,a);this.ee_8.addListenerToGroup(b.com_ibm_vis_interaction_events_EffectEndEvent.EVENT_GROUP,a)},removeEffectListener:function(a){this.ee_8.removeListenerFromGroup(b.com_ibm_vis_interaction_events_EffectStartEvent.EVENT_GROUP,
a);this.ee_8.removeListenerFromGroup(b.com_ibm_vis_interaction_events_EffectEndEvent.EVENT_GROUP,a)},getEasingFunction:function(a){return this.easingFunctions.get(a)}});b.com_ibm_vis_interaction_ChangeEffect=b.com_ibm_init_declare.implement({setTarget:function(a){},setTargets:function(a,b){},setStartTime:function(a){},setDuration:function(a){},setFadeInDuration:function(a,b){},setFadeOutDuration:function(a,b){},setMorphDuration:function(a,b){},getFadeInDuration:function(){},getFadeOutDuration:function(){},
getMorphDuration:function(){},getDirection:function(){},setDirection:function(a){},setEasingFunction:function(a){},getEasingFunction:function(){},addEffectListener:function(a){},removeEffectListener:function(a){}});b.com_ibm_vis_interaction_ChangeEffect.ALL=0;b.com_ibm_vis_interaction_ChangeEffect.ELEMENT=1;b.com_ibm_vis_interaction_ChangeEffect.NON_ELEMENT=2;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_ChangeEffect.NOTHING=-1});b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorTime=
b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_interaction_effect_Effect=b.com_ibm_init_declare([b.com_ibm_vis_interaction_ChangeEffect,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorTime],{targetShapes:0,animated:!1,startTime:0,duration:0,direction:0,cm_2:0,constructor:function(a){this.startTime=0;this.duration=1>a?1:a;this.animated=!0;this.targetIDs=new b.com_ibm_rave_codegenerator_util_LinkedSet;this.newTargetIds=new b.com_ibm_rave_codegenerator_util_LinkedSet;
this.fadeoutDuration=[0,.05];this.morphDuration=[.05,.95];this.fadeinDuration=[.95,1];this.direction=0},setStartTime:function(a){this.startTime=0>a?0:a},setDuration:function(a){this.duration=1>a?1:a},setFadeInDuration:function(a,d){this.fadeinDuration=b.com_ibm_vis_engine_internal_interaction_effect_Effect.ei$4(a,d,this.fadeinDuration)},setFadeOutDuration:function(a,d){this.fadeoutDuration=b.com_ibm_vis_engine_internal_interaction_effect_Effect.ei$4(a,d,this.fadeoutDuration)},setMorphDuration:function(a,
d){this.morphDuration=b.com_ibm_vis_engine_internal_interaction_effect_Effect.ei$4(a,d,this.morphDuration)},getFadeInDuration:function(){return[this.fadeinDuration[0],this.fadeinDuration[1]]},getFadeOutDuration:function(){return[this.fadeoutDuration[0],this.fadeoutDuration[1]]},getMorphDuration:function(){return[this.morphDuration[0],this.morphDuration[1]]},getDirection:function(){return this.direction},setDirection:function(a){if(0==a||1==a||2==a||3==a)this.direction=a},setTargetIDs:function(a){this.targetIDs=
a;this.setTarget(1E3)},getTargetIDs:function(){return this.targetIDs},getTargetShapes:function(){return this.targetShapes},isAnimated:function(){return this.animated},clear:function(){this.targetIDs=this.newTargetIds;this.newTargetIds=new b.com_ibm_rave_codegenerator_util_LinkedSet},getAddedSceneItems:function(){return this.addedSceneItems},install:function(a){this.builder=a;this.builder.addEffect(this);this.sceneSize=this.builder.sceneTree.sz_4;if(1E3!=this.targetShapes){this.targetIDs=new b.com_ibm_rave_codegenerator_util_LinkedSet;
a=0;for(var d=this.builder.sceneTree.getAllNodeIDs().arrayIterator(),c=d.length;a<c;++a){var e=d[a];this.isTarget(e)&&this.targetIDs.add(e)}}},installWithPrevious:function(a,b){this.install(a)},uninstall:function(a){},getInnerBounds:function(a){return this.builder.sceneTree.findNode(a+"Coords").shape.getNodeBounds()},makeFadingKeyFrames:function(a,b,c,e,g){var f=2;0<b&&f++;1>e&&f++;var f=Array(f),h=0;0<b&&(f[h++]=this.makeFadingKeyFrame(a,0,c));f[h++]=this.makeFadingKeyFrame(a,b,c);f[h++]=this.makeFadingKeyFrame(a,
e,g);1>e&&(f[h++]=this.makeFadingKeyFrame(a,1,g));return f},makeFadingKeyFrame:function(a,d,c){var e,g,f;a=a.getRenderInfo();a.getRenderFill()&&(e=this.ml$13(a.getRenderFill(),c));var h=a.getRenderStroke();h&&(g=h.createStrokeWithColor(h.co_3.fadeAlpha(c)));a.getRenderImage()&&(f=a.getRenderImage().ah_3*c);c=this.mt$17(a.getRenderEffects(),c);return new b.com_ibm_vis_engine_internal_interaction_effect_StyleKeyFrame(d,e,g,c,f)},ml$13:function(a,b){return a.fadeAlpha(b)},mt$17:function(a,d){if(!a)return null;
var c=a.glow;c&&(c=new b.com_ibm_vis_engine_internal_RenderEffect(c.co_2.fadeAlpha(d),c.se_4,c.dx,c.dy));var e=a.so_5;e&&(e=new b.com_ibm_vis_engine_internal_RenderEffect(e.co_2.fadeAlpha(d),e.se_4,e.dx,e.dy));return new b.com_ibm_vis_engine_internal_RenderEffects(c,e)},setStyle:function(a,b,c){a.setFill(b);a.setStroke(c)},makeSimpleStyleKeyFrame:function(a,d,c){var e=a.getRenderInfo(),g=e.getRenderFill(),f=e.getRenderStroke(),h=e.getRenderEffects(),e=e.getRenderImage()?e.getRenderImage().ah_3:null;
if((a=a.shape)&&a.isFilled())if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.fill,b.com_ibm_vis_spec_internal_FillSpec))g=b.com_ibm_vis_engine_internal_Gradient.makeFromSpec(d.fill,g.so_4).makePaintInfo(a.getLocalGradientGeometry(),a.getGlobalGradientGeometry());else{var l=b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(d.fill);if(l){var m=a.getFill();!c&&m?(g=m.si_1,m=m.gn_1,g?(l=b.com_ibm_vis_engine_internal_ColorUtil.makeCombinedColor(l,g),g=b.com_ibm_vis_engine_internal_GradientPaintInfo.makeSolid(l)):
m?(m=b.com_ibm_vis_engine_internal_Gradient.modifyGradientWithSolid(m,l),g=m.makePaintInfo(a.getLocalGradientGeometry(),a.getGlobalGradientGeometry())):g=b.com_ibm_vis_engine_internal_GradientPaintInfo.makeSolid(l)):g=b.com_ibm_vis_engine_internal_GradientPaintInfo.makeSolid(l)}}f=b.com_ibm_vis_interaction_internal_HighlightMaker.makeHighlightStroke(f,d,c);d.effect&&(h=b.com_ibm_vis_engine_internal_RenderEffects.makeFromStyle(d.effect));return new b.com_ibm_vis_engine_internal_interaction_effect_StyleKeyFrame(1,
g,f,h,e)},isTarget:function(a){if(-1==this.targetShapes||2==this.targetShapes&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElement(a)||1==this.targetShapes&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElement(a))return!1;if(!this.et_6||0==this.et_6.length)return!0;for(var d=0,c=this.et_6,e=c.length;d<e;++d)if(c[d].affectsId(a))return!0;return!1},addTargetId:function(a){this.newTargetIds.contains(a)||this.newTargetIds.add(a);this.targetShapes=1E3},hasChanged:function(){if(this.targetIDs.size()!=
this.newTargetIds.size())return!0;for(var a=0,b=this.newTargetIds.arrayIterator(),c=b.length;a<c;++a)if(!this.targetIDs.contains(b[a]))return!0;return!1},setTarget:function(a){this.targetShapes=a;this.et_6=null},setTargets:function(a,b){this.targetShapes=a;this.et_6=b},getStartTime:function(){return this.startTime},getDuration:function(){return this.duration},getTime:function(){return this.startTime+this.duration},addEffectListener:function(a){this.ee_9&&this.ee_9.addListenerToGroup(this,a)},removeEffectListener:function(a){this.ee_9&&
this.ee_9.removeListenerFromGroup(this,a)},getListeners:function(){return this.ee_9?this.ee_9.getListeners(this):new b.com_ibm_rave_codegenerator_util_HashSet},getEventDispatcher:function(){return this.ee_9},setEventDispatcher:function(a){this.ee_9=a},fireOnEffectStartEvent:function(){if(this.ee_9){var a=new b.com_ibm_vis_interaction_events_EffectStartEvent(this);this.ee_9.notify(a)}},fireOnEffectEndEvent:function(){if(this.ee_9){var a=new b.com_ibm_vis_interaction_events_EffectEndEvent(this);this.ee_9.notify(a);
this.ee_9.removeAllListenersFromGroup(this)}},setEasingFunction:function(a){this.eo_5=a},getEasingFunction:function(){return this.eo_5},resetTimer:function(){this.cm_2=0},setTime:function(a){this.cm_2=a},time:function(){if(this.cm_2<this.startTime)return 0;if(this.cm_2>this.startTime+this.duration)return 1;var a=(this.cm_2-this.startTime)/this.duration,b=this.getEasingFunction();return b?b.ease(a):a}});b.com_ibm_vis_engine_internal_interaction_effect_Effect.ei$4=function(a,b,c){return a>=b||1<a||
0>a||0>b||1<b?c:[a,b]};b.com_ibm_vis_engine_internal_interaction_effect_Effect.DEFINED=1E3;b.com_ibm_vis_engine_internal_interaction_effect_Transition=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a){this.setTarget(0);this.ar_3=new b.com_ibm_rave_codegenerator_util_Map},setTargets:function(a,d){throw new b.com_ibm_vis_exceptions_internal_EngineException("Transition can only target all shapes. No effect targets are allowed.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_TRANSITION_UNSUPPORTED_TARGET);
},installWithPrevious:function(a,d){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.installWithPrevious.apply(this,[a,d]);if(d&&d!=a.sceneTree){var c=new b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher(d,a.sceneTree);this.br$2(d,a.sceneTree,c);for(var e=0,g=c.featureGroups.arrayIterator(),f=g.length;e<f;++e){var h=g[e];this.pn$5(h)}e=0;c=c.featureGroups.arrayIterator();for(g=c.length;e<g;++e)h=c[e],this.au$4(a,h)}},br$2:function(a,d,c){this.ar_3.clear();var e=new b.com_ibm_rave_codegenerator_util_Map;
this.md$6(a,e);a=new b.com_ibm_rave_codegenerator_util_Map;this.md$6(d,a);for(var g=0,f=c.featureGroups.arrayIterator(),h=f.length;g<h;++g)if(d=f[g],b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisMarkGroup(d)){var l=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getAxisGroupID(d),m=e.get(l),p=a.get(l),q=new b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator;q.setInterpolator(d,m,p)&&this.ar_3.put(l,q)}g=0;c=c.featureGroups.arrayIterator();
for(f=c.length;g<f;++g)d=c[g],b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisTickGroup(d)&&(l=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getAxisGroupID(d),m=e.get(l),p=a.get(l),(q=this.ar_3.get(l))?q.setInterpolator(d,m,p):(q=new b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator,q.setInterpolator(d,m,p)&&this.ar_3.put(l,q)))},md$6:function(a,d){for(var c=0,e=a.root.getChildren().arrayIterator(),g=e.length;c<g;++c){var f=
e[c];if(f.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES){var h=f.ce_22.dimensions;if(h)for(var f=f.getId(),l=f.indexOf("Coords"),f=f.substring(0,l),l=0;l<h.length;++l){var m=f+"A"+l,p=this.go$17(h[l]);d.put(m,p)}}}},go$17:function(a){return(a=a.scale)&&a.spans&&0!=a.spans.length?(a=a.spans,1==a.length?a[0].method:"multiple"):"linear"},pn$5:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List,
g=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,h=0,l=a.matches.arrayIterator(),m=l.length;h<m;++h){var p=l[h];b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT==p.type?this.pc$6(p,c,e,g,f):b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLegendBackgroundId(p.source.getId())&&d.add(p)}a.removePairs(d);a.processLabelTransition(c,e,g,f)},pc$6:function(a,d,c,e,g){var f=b.com_ibm_vis_engine_internal_interaction_effect_Transition.getTextParts(a.source),h=
b.com_ibm_vis_engine_internal_interaction_effect_Transition.getTextParts(a.target);b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT!=a.source.getType()&&b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT!=a.target.getType()&&d.add(a);a=Math.min(f.size(),h.size());for(d=0;d<a;++d)c.add(new b.com_ibm_vis_engine_internal_interaction_morph_MorphablePair(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT,f.get(d),h.get(d)));for(d=a;d<f.size();++d)e.add(f.get(d));for(d=a;d<h.size();++d)g.add(h.get(d))},
fs$2:function(a,b){for(var c=0,e=b.unmatchedTargets.arrayIterator(),g=e.length;c<g;++c){var f=e[c];if(0==f.getChildren().size())this.ao$9(a,f);else for(var h=0,f=f.getChildren().arrayIterator(),l=f.length;h<l;++h)this.ao$9(a,f[h])}},ae$22:function(a,b){for(var c=0,e=b.unmatchedSources.arrayIterator(),g=e.length;c<g;++c){var f=e[c];if(0==f.getChildren().size())this.au$3(a,f,b);else for(var h=0,f=f.getChildren().arrayIterator(),l=f.length;h<l;++h)this.au$3(a,f[h],b)}},au$3:function(a,d,c){if(c.targetAddLocation){var e=
b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode(d);e.setId("_trans_"+d.getId());a.addTemporaryItem(e,c.targetAddLocation);this.ao$10(a,e)}},au$4:function(a,d){this.ao$6(a,d);b.com_ibm_vis_engine_internal_interaction_effect_Transition.iu$6(d)||this.au$5(a,d)||(this.ar$9(a,d),this.ae$22(a,d),this.fs$2(a,d))},ao$6:function(a,d){if(!b.com_ibm_vis_engine_internal_interaction_effect_Transition.iu$6(d)){d.targetGroup&&(this.ao$8(a,d.targetGroup,d.sourceClip,d.targetClip),this.ao$7(a,d.targetGroup,
d.sourceTransform,d.targetTransform));for(var c=0,e=d.matches.arrayIterator(),g=e.length;c<g;++c){var f=e[c],h=f.target,l=h.getId();if(b.com_ibm_vis_engine_internal_util_SceneIdUtil.isCoordsId(l)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId(l))f=f.source,this.ao$8(a,h,f.getClipBounds(),h.getClipBounds()),this.ao$7(a,h,f.getTransform(),h.getTransform())}}},ao$7:function(a,d,c,e){b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.transformDiffers(c,e)&&(c=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTransformInterpolator(this,
this.morphDuration[0],this.morphDuration[1],c,e),a.addAnimatedTransform(d,c))},ao$8:function(a,d,c,e){b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.geomDiffers(c,e)&&(c=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,this.morphDuration[0],this.morphDuration[1],c,e,!0),a.addAnimatedClip(d,c))},au$5:function(a,d){if(!b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisGroup(d))return!1;var c=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getAxisGroupID(d),
c=this.ar_3.get(c);if(!c)return!1;this.ar$9(a,d);for(var e=0,g=d.unmatchedTargets.arrayIterator(),f=g.length;e<f;++e){var h=g[e],l=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode(h),m=c.makeSourceAffine(h);m&&(m=new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator(this,this.morphDuration[0],this.morphDuration[1],m,l.getTransform()),a.addAnimatedTransform(h,m));m=c.getTransitionTimesForItems(h,h);m=this.me$51(h,!0,m);this.al$10(a,h,m)}e=0;g=d.unmatchedSources.arrayIterator();
for(f=g.length;e<f;++e){h=g[e];l=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.cloneNode(h);if(m=c.makeTargetAffine(h))m=new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator(this,this.morphDuration[0],this.morphDuration[1],l.getTransform(),m),a.addAnimatedTransform(l,m);l.setId("_trans_"+h.getId());a.addTemporaryItem(l,d.targetAddLocation);m=c.getTransitionTimesForItems(h,l);m=this.me$51(l,!1,m);this.al$10(a,l,m)}return!0},so$4:function(a){var d=b.com_ibm_rave_codegenerator_lang_Array.create([2],
0);d[0]=this.morphDuration[0]+(this.morphDuration[1]-this.morphDuration[0])*a[0];d[1]=this.morphDuration[0]+(this.morphDuration[1]-this.morphDuration[0])*a[1];return d},me$51:function(a,b,c){var e=this.so$4(c);if(0==c[0]&&1==c[1])return c=b?.001:1,b=b?1:.001,this.be$5(a,[[0,c],[e[0],c],[e[1],b],[1,b]]);if(b){b=c[0];c=e[0];var g=c+.001<e[1]?c+.001:(c+e[1])/2;return this.be$5(a,[[0,.001],[c,.001],[g,b],[e[1],1],[1,1]])}b=1-c[1];g=e[1];c=g-.001>e[0]?g-.001:(g+e[0])/2;return this.be$5(a,[[0,1],[e[0],
1],[c,b],[g,.001],[1,.001]])},be$5:function(a,b){for(var c=0==b[1][0]?1:0,e=1==b[b.length-2][0]?b.length-1:b.length,g=Array(e-c),f=c;f<e;++f)g[f-c]=this.makeFadingKeyFrame(a,b[f][0],b[f][1]);return g},ar$9:function(a,b){for(var c=0,e=b.matches.arrayIterator(),g=e.length;c<g;++c)this.addAnimatedMorph(a,e[c])},addAnimatedMorph:function(a,b){if(b.source.getRenderInfo().getRenderText()&&b.target.getRenderInfo().getRenderText())this.addTextMorph(a,b);else if(1005==b.source.shape.getType()&&1005==b.target.shape.getType())this.ap$5(a,
b);else if(1007==b.source.shape.getType()&&1007==b.target.shape.getType())this.ap$6(a,b);else{this.addGeomMorph(a,b);return}var c=this.me$52(b.source,b.target,!1);c&&this.al$10(a,b.target,c)},addTextMorph:function(a,d){var c=d.source.getRenderInfo(),e=d.target.getRenderInfo();if(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.textDiffers(c.getRenderText(),e.getRenderText())||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.transformDiffers(c.getTransform(),e.getTransform())){var g=
d.source.getTransform(),f=d.target.getTransform(),c=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTextInterpolator(this,this.morphDuration[0],this.morphDuration[1],c.getRenderText(),e.getRenderText(),g,f);a.addAnimatedText(d.target,c)}else c=d.source.getRenderInfo().getRenderBounds(),e=d.target.getRenderInfo().getRenderBounds(),b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.geomDiffers(c,e)&&(c=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,
this.morphDuration[0],this.morphDuration[1],c,e,!0),a.addAnimatedMorph(d.target,c))},ap$5:function(a,d){var c=d.target.shape,c=new b.com_ibm_vis_engine_internal_interaction_interpolation_WedgeInterpolator(this,this.morphDuration[0],this.morphDuration[1],d.source.shape.getGeom(),c.getGeom());a.addAnimatedMorph(d.target,c)},ap$6:function(a,d){var c;c=d.source.getTransform();var e=d.target.getTransform();c=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTransformInterpolator(this,
this.morphDuration[0],this.morphDuration[1],c,e);a.addAnimatedTransform(d.target,c)},addGeomMorph:function(a,d){var c=d.source.getRenderInfo().getRenderGeom(),e=d.source.getTransform(),g;c&&(e=b.com_ibm_vis_engine_internal_interaction_effect_Transition.tr$1(e,c.getCenter()),g=b.com_ibm_vis_engine_internal_interaction_effect_Transition.to$2(c,c.getCenter().negate()));var f=d.target.getRenderInfo().getRenderGeom(),c=d.target.getTransform(),h;f&&(c=b.com_ibm_vis_engine_internal_interaction_effect_Transition.tr$1(c,
f.getCenter()),h=b.com_ibm_vis_engine_internal_interaction_effect_Transition.to$2(f,f.getCenter().negate()));f=this.me$52(d.source,d.target,!0);this.al$10(a,d.target,f);g&&h&&(g=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,this.morphDuration[0],this.morphDuration[1],g,h,!0),a.addAnimatedMorph(d.target,g));e=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTransformInterpolator(this,this.morphDuration[0],this.morphDuration[1],
e,c);a.addAnimatedTransform(d.target,e)},ao$9:function(a,b){var c=this.makeFadingKeyFrames(b,this.fadeinDuration[0],0,this.fadeinDuration[1],1);this.al$10(a,b,c)},ao$10:function(a,b){var c=this.makeFadingKeyFrames(b,this.fadeoutDuration[0],1,this.fadeoutDuration[1],0);this.al$10(a,b,c)},al$10:function(a,d,c){if(null==d.getId()){var e=0;d=d.getChildren().arrayIterator();for(var g=d.length;e<g;++e)this.al$10(a,d[e],c)}else a.addAnimatedStyle(d,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getStyleInterpolator(this,
0,1,c))},me$52:function(a,d,c){var e=a.getRenderInfo(),g=d.getRenderInfo(),f=e.getRenderFill(),h=g.getRenderFill(),l=e.getRenderStroke(),m=g.getRenderStroke(),p=e.getRenderEffects(),q=g.getRenderEffects();return c||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.fillDiffers(f,h)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.strokeDiffers(l,m)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.effectsDiffers(p,q)?(e=e.getRenderGeom(),g=g.getRenderGeom(),c&&(f&&
e&&(f=f.moveBy(-e.getCenter().x,-e.getCenter().y)),h&&g&&(h=h.moveBy(-g.getCenter().x,-g.getCenter().y))),[new b.com_ibm_vis_engine_internal_interaction_effect_StyleKeyFrame(this.morphDuration[0],f,l,p,b.com_ibm_vis_engine_internal_interaction_effect_Transition.gh$14(a)),new b.com_ibm_vis_engine_internal_interaction_effect_StyleKeyFrame(this.morphDuration[1],h,m,q,b.com_ibm_vis_engine_internal_interaction_effect_Transition.gh$14(d))]):null}});b.com_ibm_vis_engine_internal_interaction_effect_Transition.getTextParts=
function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(0==a.getChildren().size())d.add(a);else{var c=0;a=a.getChildren().arrayIterator();for(var e=a.length;c<e;++c)for(var g=0,f=a[c].getChildren().arrayIterator(),h=f.length;g<h;++g)d.add(f[g])}return d};b.com_ibm_vis_engine_internal_interaction_effect_Transition.iu$6=function(a){return a.type&&b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isLegend(a.type)};b.com_ibm_vis_engine_internal_interaction_effect_Transition.tr$1=function(a,
d){var c=b.com_ibm_vis_engine_internal_Affine.makeTransform(d.x,d.y),e=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl;a?e.setAffine(a.getAffine()?a.getAffine().multiply(c):c):e.setAffine(c);return e};b.com_ibm_vis_engine_internal_interaction_effect_Transition.to$2=function(a,b){var c=a.copy();c.transform(1,b.x,1,b.y);return c};b.com_ibm_vis_engine_internal_interaction_effect_Transition.gh$14=function(a){return(a=a.getRenderInfo().getRenderImage())?a.ah_3:null};b.com_ibm_vis_engine_internal_interaction_effect_Transition.TI_2=
"_trans_";b.com_ibm_vis_engine_internal_interaction_effect_StyleKeyFrame=b.com_ibm_init_declare({step:0,constructor:function(a,b,c,e,g){this.step=a;this.fill=b;this.stroke=c;this.effects=e;this.imageAlpha=g},asObjects:function(){return[this.fill,this.stroke,this.imageAlpha,this.effects]}});b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup=b.com_ibm_init_declare({ue_7:0,hasSource:!1,hasTarget:!1,MR_3:6,MR_1:46,constructor:function(a,d,c){this.type=b.com_ibm_vis_scenetree_provisional_SceneNodeType.MULTI_TEXT==
d?b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT:d;this.baseId=a;this.ue_7=c;this.members=new b.com_ibm_rave_codegenerator_util_HashMap;this.hasTarget=this.hasSource=!1;this.matches=new b.com_ibm_rave_codegenerator_util_List;this.unmatchedSources=new b.com_ibm_rave_codegenerator_util_List;this.unmatchedTargets=new b.com_ibm_rave_codegenerator_util_List;this.targetClip=this.targetTransform=this.sourceClip=this.sourceTransform=this.targetAddLocation=null},addSource:function(a){this.hasSource=
!0;var d=this.type;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionText(a)&&(d=b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT);var c=this.ge$48(a);if(null!=c){var e=this.members.get(c);e||(e=new b.com_ibm_vis_engine_internal_interaction_morph_Matchable(d),this.members.put(c,e));e.addSource(a)}else this.ae$23(this.unmatchedSources,a)},setTargetAddLocation:function(a){if(!this.targetAddLocation&&a&&(a.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP||
a.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP))for(var d=0,c=a.getChildren().arrayIterator(),e=c.length;d<e;++d)if(!b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isFeatureGroupType(c[d])){this.targetAddLocation=a;break}},addTarget:function(a){this.hasTarget=!0;var b=this.ge$48(a);(b=this.members.get(b))?b.addTarget(a):this.ae$23(this.unmatchedTargets,a)},match:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.members.keySet().arrayIterator(),
g=e.length;c<g;++c){var f=e[c],h=this.members.get(f);if(1==h.sources.size()&&1==h.targets.size()){var f=h.sources.get(0),l=h.targets.get(0),m=new b.com_ibm_vis_engine_internal_interaction_morph_MorphablePair(h.type,f,l);this.rc$5(a,m);this.cr$12(f,l,h.type)&&this.matches.add(m)}else{if(m=this.ml$16(h))for(var l=0,p=m.arrayIterator(),q=p.length;l<q;++l)m=p[l],this.rc$5(a,m),this.cr$12(m.source,m.target,h.type)&&this.matches.add(m);b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)&&-1!=f.toString().indexOf("|L")?
d.add(f):(this.al$11(this.unmatchedSources,h.sources),this.al$11(this.unmatchedTargets,h.targets))}}a=0;d=d.arrayIterator();for(c=d.length;a<c;++a)f=d[a],h=this.members.get(f),this.al$11(this.unmatchedSources,h.sources),this.al$11(this.unmatchedTargets,h.targets);this.members.clear()},rc$5:function(a,d){var c=d.source.getId(),e=d.target.getId();null!=c&&null!=e&&(a.put(c,e),b.com_ibm_vis_engine_internal_util_SceneIdUtil.isPartId(c)&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isPartId(e)&&(c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getMainId(c),
e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getMainId(e),a.put(c,e)))},removePairs:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];this.matches.remove(e);this.ae$23(this.unmatchedSources,e.source);this.ae$23(this.unmatchedTargets,e.target)}},processLabelTransition:function(a,b,c,e){for(var g=0,f=a.arrayIterator(),h=f.length;g<h;++g)a=f[g],this.matches.remove(a);g=0;b=b.arrayIterator();for(f=b.length;g<f;++g)a=b[g],this.matches.add(a);a=0;c=c.arrayIterator();for(b=
c.length;a<b;++a)this.ae$23(this.unmatchedSources,c[a]);c=0;e=e.arrayIterator();for(a=e.length;c<a;++c)this.ae$23(this.unmatchedTargets,e[c])},ge$48:function(a){var d=a.shape.getKey();2==this.ue_7?d=null==a.getValue()?null:a.getValue():0==this.ue_7&&(d=a.getId());return null==d&&0!=this.ue_7?a.getId():null!=d&&b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionText(a)&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElementShape(a.getId())&&(a=""+d,!a.CPVISEngineEndsWith("|L"))?
a+"|L":d},ae$23:function(a,b){if(0==b.getChildren().size())a.add(b);else for(var c=0,e=b.getChildren().arrayIterator(),g=e.length;c<g;++c)a.add(e[c])},al$11:function(a,b){for(var c=0,e=b.arrayIterator(),g=e.length;c<g;++c)this.ae$23(a,e[c])},cr$12:function(a,d,c){return b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT==c?this.cr$13(a,d):b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,0)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,4)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,
d,3)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,8)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,5)},cr$13:function(a,d){if(a==d)return!1;var c=a.getChildren().size();if(c!=d.getChildren().size())return!0;if(0==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.textItemDiffer(a,d);if(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,5))return!0;for(var e=0;e<c;++e){var g=a.getChildren().get(e),f=d.getChildren().get(e),
h=g.getChildren().size();if(h!=f.getChildren().size()||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(g,f,5))return!0;for(var l=0;l<h;++l){var m=g.getChildren().get(l),p=f.getChildren().get(l);if(1009==m.shape.getType())if(1009==p.shape.getType()){if(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.textItemDiffer(m,p))return!0}else return!0;else return!0}}return!1},ml$16:function(a){if(0==a.targets.size())return null;for(var d=a.sources.toArray(Array(a.sources.size())),
c=a.targets.toArray(Array(a.targets.size())),e=new b.com_ibm_rave_codegenerator_util_List,g=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_vis_engine_internal_interaction_morph_MorphablePairComparator,l,m=new b.com_ibm_rave_codegenerator_util_NumericMap,p=0;p<c.length;++p){l||(l=new b.com_ibm_rave_codegenerator_util_List);for(var q=0;q<d.length;++q)if(d[q]){var r=new b.com_ibm_vis_engine_internal_interaction_morph_MorphablePair(a.type,d[q],
c[p]);this.si$7(r);if(r.score>=this.MR_1){f.add(r);this.rr$2(m,d[q]);e.add(d[q]);g.add(c[p]);d[q]=null;l=c[p]=null;break}r.score>this.MR_3&&l.add(r)}l&&0<l.size()&&(m.put(p,l),l=null)}this.rs$2(a.sources,e);this.rs$2(a.targets,g);d=new b.com_ibm_rave_codegenerator_util_List;c=0;e=m.keySet().arrayIterator();for(g=e.length;c<g;++c)l=m.get(e[c]),p=l.size(),3>p?d.addAll(l):2<p&&(b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(l,h),d.add(l.get(0)),d.add(l.get(1)));a=this.gr$12(a.sources,a.targets,
d);f.addAll(a);return f},gr$12:function(a,d,c){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(c,new b.com_ibm_vis_engine_internal_interaction_morph_MorphablePairComparator);for(var e=new b.com_ibm_rave_codegenerator_util_List;this.ac$10(e,a,d,c););return e},ac$10:function(a,b,c,e){if(1>e.size()||1>b.size()||1>c.size())return!1;var g=e.get(0);e.removeAt(0);b.remove(g.source);c.remove(g.target);this.rr$1(e,g);a.add(g);return!0},rr$1:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,
e=0,g=a.arrayIterator(),f=g.length;e<f;++e){var h=g[e];h.source!=d.source&&h.target!=d.target||c.add(h)}e=0;c=c.arrayIterator();for(g=c.length;e<g;++e)h=c[e],a.remove(h)},rs$2:function(a,b){for(var c=0,e=b.arrayIterator(),g=e.length;c<g;++c)a.remove(e[c])},rr$2:function(a,b){for(var c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c){for(var f=a.get(e[c]),h=null,l=0,m=f.arrayIterator(),p=m.length;l<p;++l){var q=m[l];if(q.source==b){h=q;break}}h&&f.remove(h)}},si$7:function(a){if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TEXT==
a.type)return this.sx$1(a);var d=b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,5)?0:2,d=d+(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,3)?0:4),d=d+(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,4)?0:8),d=d+(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,6)?0:16),d=d+(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,
7)?0:1),d=d+(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,0)?0:16);return a.score=d},sx$1:function(a){var d=b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,5)?0:2;if(!b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a.source,a.target,0)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(a.source.getId())||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(a.target.getId()))d=this.MR_1;
else var c=this.gt$30(a.source),e=this.gt$30(a.target),d=d+this.sr$9(c,e);return a.score=d},sr$9:function(a,b){for(var c="",e=0;e<b.length;++e)c+=b[e];for(var g="",e=0;e<a.length;++e)g+=a[e];for(var f=Math.floor(24/(a.length+b.length)),f=1>f?1:f,h=0,e=0;e<b.length;++e)-1!=g.indexOf(b[e])&&(h+=f);for(e=0;e<a.length;++e)-1!=c.indexOf(a[e])&&(h+=f);c=a.length==b.length?6+h:h;return 26<c?26:c},gt$30:function(a){var b=a.getChildren().size();if(0==b)return[a.getRenderInfo().getRenderText().getText()];for(var c=
Array(b),e=0;e<b;++e){var g=a.getChildren().get(e);c[e]=g.getRenderInfo().getRenderText().getText()}return c}});b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionShape=function(a){return a.getShape()&&0==a.getChildren().size()||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionMultiText(a)};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionText=function(a){return(a=a.getShape())?1007==a.getType()||1009==a.getType():!1};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionMultiText=
function(a){return(a=a.getShape())?1007==a.getType():!1};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.textItemDiffer=function(a,d){return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,1)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,2)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,4)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,d,5)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2(a,
d,0)};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ir$2=function(a,d,c){var e=a.getRenderInfo(),g=d.getRenderInfo();if(0==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.geomDiffers(e.getRenderGeom(),g.getRenderGeom());if(1==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.textDiffers(e.getRenderText(),g.getRenderText());if(0==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.geomDiffers(e.getRenderGeom(),g.getRenderGeom());
if(2==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.fr$1(e.getRenderText(),g.getRenderText());if(3==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.strokeDiffers(e.getRenderStroke(),g.getRenderStroke());if(4==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.fillDiffers(e.getRenderFill(),g.getRenderFill());if(8==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.effectsDiffers(e.getRenderEffects(),g.getRenderEffects());
if(5==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.transformDiffers(a.getTransform(),d.getTransform());if(6==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.mr$9(a.getMetaMap(),d.getMetaMap());if(7==c)return b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.sr$8(a.getId(),d.getId());throw new b.com_ibm_rave_codegenerator_io_WebEngineException;};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.sr$8=function(a,b){return null==a?null!=
b:a!=b};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.mr$9=function(a,b){if(!a)return b;if(!b||a.size()!=b.size())return!0;for(var c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c){var f=e[c];if(a.get(f)!=b.get(f))return!0}return!1};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.strokeDiffers=function(a,d){return a?d?a.wt_1!=d.wt_1?!0:b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.cr$14(a.co_3,d.co_3)||.01<Math.abs(a.wt_1-d.wt_1):!0:d};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.geomDiffers=
function(a,b){return a?b?a.type()!=b.type()||!a.similar(b):!0:b};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.transformDiffers=function(a,b){if(!a)return b;if(!b)return!0;var c=a.getAffine(),e=b.getAffine();return c?e?!c.similar(e):!0:e};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.fillDiffers=function(a,d){if(!a)return d;if(!d||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.cr$14(a.so_4,d.so_4)||a.cr_2.length!=d.cr_2.length||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ce$34(a,
d))return!0;for(var c=0;c<a.cr_2.length;++c)if(a.ot_1[c]!=d.ot_1[c]||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.cr$14(a.cr_2[c],d.cr_2[c]))return!0;return!1};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.effectsDiffers=function(a,d){return a?d?b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.effectDiffers(a.glow,d.glow)||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.effectDiffers(a.so_5,d.so_5):!0:d};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.effectDiffers=
function(a,d){return a?d?a.se_4!=d.se_4||a.dx!=d.dx||a.dy!=d.dy||b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.cr$14(a.co_2,d.co_2):!0:d};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.ce$34=function(a,b){return a.cr!=b.cr||a.cx!=b.cx||a.cy!=b.cy||a.x1!=b.x1||a.x2!=b.x2||a.y1!=b.y1||a.y2!=b.y2};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.cr$14=function(a,b){if(!a)return b;if(!b)return!0;var c=a.getRGBA(),e=b.getRGBA();return c[0]!=e[0]||c[1]!=e[1]||c[2]!=
e[2]||c[3]!=e[3]};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.textDiffers=function(a,b){return a?b&&a.getText()==b.getText()&&a.getAnchorPoint().similar(b.getAnchorPoint())?!1:!0:b};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.fr$1=function(a,b){var c=a?a.getFont():null,e=b?b.getFont():null;return c?e?c.getFamily()!=e.getFamily()||c.getSize()!=e.getSize():!0:e};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isFeatureGroupType=function(a){a=a.getType();
if(!a)return!1;switch(a){case b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET:case b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT:case b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND:return!0;default:return b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isAxis(a)}};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.getKey=function(a){a=a.getType();switch(a){case b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT:return 1;case b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND:return 2;
default:return b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isAxis(a)?2:0}};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.getBaseId=function(a){return null!=a.getId()?b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.baseIdForGroup(a.getId()):0<a.getChildren().size()?b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.getBaseId(a.getChildren().get(0)):null};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.baseIdForGroup=function(a){if(null==
a||1==a.length)return null;if(0==a.indexOf("L")){var b=a.indexOf("LE");if(0<b)return a.substring(0,b+2);b=a.indexOf("LC");return 0<b?a.substring(0,b+3):a}if(-1<a.indexOfCharCode(69)){b=a.indexOfCharCode(83);if(0<b)return a.substring(0,b+1);b=a.indexOfCharCode(76);if(0<b)return a.substring(0,b+1)}b=a.indexOfCharCode(65);if(-1<b){var c=a.indexOfCharCode(84);if(0<c)return a.substring(0,c+1);c=a.indexOfCharCode(78);if(0<c)return a.substring(0,c+1);b=a.indexOfCharCode(71,b);if(0<b)return a.substring(0,
b+1);b=a.indexOfCharCode(77);if(0<b)return a.substring(0,b+1);b=a.indexOfCharCode(76);if(0<b)return a.substring(0,b+1)}return 71==a.charCodeAt(0)?a.substring(0,2):a};b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.USE_ID_FOR_KEY=0;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.USE_KEY_FOR_KEY=1;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.USE_VALUE_FOR_KEY=2;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.IR_1=1;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.TR_1=
2;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.SR_2=4;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.FR_2=8;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.SR_1=16;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.MR_2=16;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CP_3=0;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CX_1=1;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CN_2=2;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CK_1=
3;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CL_2=4;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CR_3=5;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CT_3=6;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CI_3=7;b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.CT_2=8;b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher=b.com_ibm_init_declare({pe_22:0,constructor:function(a,d){this.st_21=new b.com_ibm_rave_codegenerator_util_Map;
this.featureGroups=new b.com_ibm_rave_codegenerator_util_List;this.pe_22=0;this.ia_8=new b.com_ibm_rave_codegenerator_util_Map;this.pn$6(a.root,!0);this.pn$6(d.root,!1);this.mc$10()},getIDMap:function(){return this.ia_8},pn$6:function(a,d){var c=this.gu$12(b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher.SCENE_ROOT_BASEID,b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher.SCENE_ROOT,0);d||c.setTargetAddLocation(a);this.pv$1(c,a,d)},pv$1:function(a,d,c){if(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isTransitionShape(d))c?
a.addSource(d):a.addTarget(d);else if(0!=d.getChildren().size()){c||a.setTargetAddLocation(d);var e=0;d=d.getChildren().arrayIterator();for(var g=d.length;e<g;++e){var f=d[e];if(b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher.nu$1(f)){var h=this.gu$12(b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.getBaseId(f),f.getType(),b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.getKey(f));this.sf$6(h,f,c);this.pv$1(h,f,c)}else this.pv$1(a,f,c)}}},sf$6:function(a,b,c){var e=
b.getTransform(),g=b.getClipBounds();c?(a.sourceTransform=e,a.sourceClip=g):(a.targetGroup=b,a.targetTransform=e,a.targetClip=g)},gu$12:function(a,d,c){null==a&&(a="PFG"+this.pe_22,this.pe_22++);var e=this.st_21.get(a);e||(e=new b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup(a,d,c),this.st_21.put(a,e),this.featureGroups.add(e));return e},mc$10:function(){for(var a=0,b=this.st_21.keySet().arrayIterator(),c=b.length;a<c;++a)this.st_21.get(b[a]).match(this.ia_8)}});b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher.nu$1=
function(a){return 0==a.getChildren().size()?!1:b.com_ibm_vis_engine_internal_interaction_morph_FeatureGroup.isFeatureGroupType(a)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher.SCENE_ROOT=b.com_ibm_vis_scenetree_provisional_SceneNodeType.ROOT;b.com_ibm_vis_engine_internal_interaction_morph_ItemMatcher.SCENE_ROOT_BASEID=b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString(b.com_ibm_vis_scenetree_provisional_SceneNodeType.ROOT)});b.com_ibm_vis_engine_internal_interaction_morph_Matchable=
b.com_ibm_init_declare({constructor:function(a){this.sources=new b.com_ibm_rave_codegenerator_util_List;this.targets=new b.com_ibm_rave_codegenerator_util_List;this.type=a},addSource:function(a){a&&this.sources.add(a)},addTarget:function(a){a&&this.targets.add(a)}});b.com_ibm_vis_engine_internal_interaction_morph_MorphablePair=b.com_ibm_init_declare({score:0,constructor:function(a,b,c){this.type=a;this.source=b;this.target=c}});b.com_ibm_vis_engine_internal_interaction_morph_MorphablePairComparator=
b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){return b.score-a.score}});b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator=b.com_ibm_init_declare({constructor:function(){this.source=new b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolatorScale;this.target=new b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolatorScale},isValid:function(){return this.source.vi_1&&this.target.vi_1&&this.source.ha_4==
this.target.ha_4},setInterpolator:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=0,f=a.matches.arrayIterator(),h=f.length;g<h;++g){var l=f[g];e.add(l.source)}e.addAll(a.unmatchedSources);for(var g=new b.com_ibm_rave_codegenerator_util_List,f=0,h=a.matches.arrayIterator(),m=h.length;f<m;++f)l=h[f],g.add(l.target);g.addAll(a.unmatchedTargets);a=this.source.setScale(e,d);c=this.target.setScale(g,c);return a&&c},makeSourceAffine:function(a){return this.mn$27(a,!0)},makeTargetAffine:function(a){return this.mn$27(a,
!1)},mn$27:function(a,d){if(!this.isValid()||!a.shape)return null;var c=a.shape;if(1009!=c.getType()&&1001!=c.getType())return null;var e=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getItemValue(a);if(e!=e)return null;var g;g=d?this.source.getLocation(e)-this.target.getLocation(e):this.target.getLocation(e)-this.source.getLocation(e);(e=a.getTransform().getAffine())||(e=b.com_ibm_vis_engine_internal_Affine.identity());1001==c.getType()&&(e=this.source.ha_4?e.translate(g,
0):e.translate(0,g));1009==c.getType()&&(this.source.ha_4?(c=g,g=0):c=0,e=e.translate(e.m00*c+e.m10*g,e.m01*c+e.m11*g));c=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl;c.setAffine(e);return c},getTransitionTimesForItems:function(a,d){var c=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getItemValue(a),e=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getItemValue(d);return c!=c||e!=e?[0,1]:this.getTransitionTimes(this.source.getLocation(c),
this.target.getLocation(e))},getTransitionTimes:function(a,b){var c=[0,1];if(!this.isValid())return c;var e=this.source.lg_1,g=this.target.lg_1,f=e.min-.05<=a&&a<=e.max+.05,h=g.min-.05<=b&&b<=g.max+.05;if(!f&&!h||f&&h)return c;a<e.min||b<g.min?(e=e.min,g=g.min):(e=e.max,g=g.max);g=e==a?0:(e-a)/(b-a-(g-e));f?c[1]=Math.max(g,.001):c[0]=Math.min(g,.999);return c}});b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisMarkGroup=function(a){return b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK==
a.type};b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisTickGroup=function(a){return b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK==a.type||b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK==a.type||b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MINOR==a.type};b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisGroup=function(a){return b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisTickGroup(a)||
b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL==a.type};b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getAxisGroupID=function(a){return b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.isAxisGroup(a)?a.baseId.substring(0,a.baseId.length-1):null};b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getItemValue=function(a){a=a.getValue();return b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?a:NaN};b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolatorScale=
b.com_ibm_init_declare({vi_1:!1,type:0,ha_4:!1,M:0,B:0,constructor:function(){this.type=0;this.ha_4=this.vi_1=!1;this.lg_1=new b.com_ibm_vis_engine_internal_data_Range(0,0);this.vg_4=new b.com_ibm_vis_engine_internal_data_Range(0,0);this.B=this.M=0},isValid:function(){return this.vi_1},isHorizontal:function(){return this.ha_4},getType:function(){return this.type},getLocation:function(a){return 1==this.type?0>=a?this.M*Math.log(.1*this.vg_4.min)+this.B:this.M*Math.log(a)+this.B:this.M*a+this.B},getExtent:function(){return this.lg_1},
getM:function(){return this.M},getB:function(){return this.B},getValueRange:function(){return this.vg_4},setScale:function(a,b){var c;if("linear"==b)c=0;else if("log"==b)c=1;else return!1;return this.vi_1?this.cm$4(c,a):this.pm$2(c,a)},pm$2:function(a,d){var c=d.size();if(2>c)return!1;var e=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),g=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),f=0,h,l,m,p,q=this.gf$3(d.get(0));if(!q)return!1;var r=0!=q[2];h=q[1];l=q[1];m=q[0];p=q[0];for(var t=
0,w=d.arrayIterator(),x=w.length;t<x;++t){q=this.gf$3(w[t]);if(!q||r!=(0!=q[2])||1==a&&0>=q[0])return!1;e[f]=q[0];g[f]=q[1];g[f]<h&&(h=g[f],m=e[f]);g[f]>l&&(l=g[f],p=e[f]);f++}if(m==p||h==l)return!1;if(2==c)return this.vi_1=!0,this.type=a,this.ha_4=r,0==a?(this.M=(l-h)/(p-m),this.B=h-this.M*m):(this.M=(l-h)/(Math.log(p)-Math.log(m)),this.B=h-this.M*Math.log(m)),this.lg_1=new b.com_ibm_vis_engine_internal_data_Range(h,l),this.vg_4=new b.com_ibm_vis_engine_internal_data_Range(m,p),!0;0==a?(c=(l-h)/
(p-m),q=h-c*m):(c=(l-h)/(Math.log(p)-Math.log(m)),q=h-c*Math.log(m));for(t=0;t<f;++t)if(w=0==a?c*e[t]+q:c*Math.log(e[t])+q,2<Math.abs(w-g[t]))return!1;this.vi_1=!0;this.type=a;this.ha_4=r;this.M=c;this.B=q;this.lg_1=new b.com_ibm_vis_engine_internal_data_Range(h,l);this.vg_4=new b.com_ibm_vis_engine_internal_data_Range(m,p);return!0},cm$4:function(a,b){if(a!=this.type)return!1;if(1>b.size())return!0;var c=this.gf$3(b.get(0));if(!c)return!1;for(var e=c[0],g=c[1],f=c[0],h=c[1],l=0,m=b.arrayIterator(),
p=m.length;l<p;++l){c=this.gf$3(m[l]);if(!c||this.ha_4!=(0!=c[2])||1==a&&0>=c[0])return!1;var q;q=0==a?this.M*c[0]+this.B:this.M*Math.log(c[0])+this.B;if(2<Math.abs(q-c[1]))return!1;c[1]<g&&(g=c[1],e=c[0]);c[1]>h&&(h=c[1],f=c[0])}this.lg_1=this.lg_1.unionValue(g);this.lg_1=this.lg_1.unionValue(h);this.vg_4=this.vg_4.unionValue(e);this.vg_4=this.vg_4.unionValue(f);return!0},gf$3:function(a){var d=b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolator.getItemValue(a);if(d!=d||1E3!=
a.shape.type())return null;a=a.getRenderInfo().getRenderGeom();var c=.01>=Math.abs(a.x2-a.x1),e=.01>=Math.abs(a.y2-a.y1);return c&&e||!c&&!e?null:c?[d,a.x1,1]:[d,a.y1,0]}});b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolatorScale.TYPE_LINEAR=0;b.com_ibm_vis_engine_internal_interaction_interpolation_AxisInterpolatorScale.TYPE_LOG=1;b.com_ibm_vis_scenetree_internal_ScenePartInterpolator=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator=
b.com_ibm_init_declare(b.com_ibm_vis_scenetree_internal_ScenePartInterpolator,{sm_5:0,em_2:0,lm_3:-1,constructor:function(a,b,c){this.te_16=a;this.sm_5=b<c?b:c;this.em_2=b<c?c:b},interpolate:function(){var a=this.time();if(null!=this.lu_5&&.001>=Math.abs(a-this.lm_3))return this.lu_5;this.lu_5=this.doInterpolate(a);this.lm_3=a;return this.lu_5},time:function(){return this.te_16.time()},calculateConversion:function(a,b){return null==b?null==a?0:2:null==a?1:3}});b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble=
function(a,b,c){return a+c*(b-a)};b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.EO_6=.001;b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.BOTH_NULL=0;b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.START_NULL=1;b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.END_NULL=2;b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.BOTH_NON_NULL=3;b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{constructor:function(a,d,c,e,g,f){f?(this.sr_5=b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.cs$6(b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ei$5(e,g)),this.end=b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.cs$6(b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ei$5(g,e))):(this.sr_5=b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ei$5(e,
g),this.end=b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ei$5(g,e))},doInterpolate:function(a){return 0==a?this.sr_5:1==a?this.end:this.sr_5&&this.end?b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.im$1(this.sr_5,this.end,a):.5>a?this.sr_5:this.end}});b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.cs$6=function(a){return a&&1003==a.type()?a.asClockwise():a};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ei$5=
function(a,b){if(a)return a;if(!b)return null;var c=b.getCenter(),e=b.copy();e.transform(0,c.x,0,c.y);return e};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.im$1=function(a,d,c){if(1007==a.type()||1007==d.type())return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.io$17(c,a,d);if(a.type()==d.type()){if(1002==a.type())return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ml$14(a,d,c);if(1001==a.type())return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ml$15(a,
d,c);if(1E3==a.type())return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.mn$28(a,d,c);if(1004==a.type())return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.mv$2(a,d,c)}return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.il$12(a.asBasic().asPoly(),d.asBasic().asPoly(),c)};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.mv$2=function(a,d,c){if(a.sameStructure(d)){for(var e=a.getX().length,g=
b.com_ibm_rave_codegenerator_lang_Array.create([e],0),f=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),h=0;h<e;++h)g[h]=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.getX()[h],d.getX()[h],c),f[h]=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.getY()[h],d.getY()[h],c);return new b.com_ibm_vis_geom_Curve(g,f,a.cl_2,a.isClosed())}return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.il$12(a.asBasic().asPoly(),
d.asBasic().asPoly(),c)};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ml$14=function(a,d,c){var e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.x,d.x,c),g=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.y,d.y,c),f=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.wt_3,d.wt_3,c);a=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.hh_2,
d.hh_2,c);return new b.com_ibm_vis_geom_Rect(e,g,f,a)};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.ml$15=function(a,d,c){var e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.r,d.r,c),g=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.x,d.x,c);a=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.y,d.y,c);return new b.com_ibm_vis_geom_Circle(g,a,e)};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.mn$28=
function(a,d,c){var e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.x1,d.x1,c),g=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.y1,d.y1,c),f=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.x2,d.x2,c);a=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.y2,d.y2,c);return new b.com_ibm_vis_geom_Line(e,g,f,a)};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.io$17=
function(a,d,c){for(var e=1007==d.type()?d.pt_1:[d],g=1007==c.type()?c.pt_1:[c],f=.5>=a?e.length:g.length,h=Array(f),l=0;l<f;++l)h[l]=l>=e.length?g[l]:l>=g.length?e[l]:b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.im$1(e[l],g[l],a);a=1007==d.type()?d.oe_3:c.oe_3;return new b.com_ibm_vis_geom_CompositeGeom(h,a)};b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.il$12=function(a,d,c){var e=a.x,g=d.x,f=e.length,h=g.length;if(h<f)return b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator.il$12(d,
a,1-c);var l=a.y,m=d.y;a=.5>c?a.ce_6:d.ce_6;d=b.com_ibm_rave_codegenerator_lang_Array.create([g.length],0);for(var p=b.com_ibm_rave_codegenerator_lang_Array.create([g.length],0),q=0;q<h;++q){var r=Math.round(q*f/h),r=Math.min(r,f-1);d[q]=(1-c)*e[r]+c*g[q];p[q]=(1-c)*l[r]+c*m[q]}return new b.com_ibm_vis_geom_Poly(d,p,a)};b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl=b.com_ibm_init_declare([b.com_ibm_vis_scenetree_provisional_TextInfo,b.com_ibm_vis_scenetree_provisional_TransformInfo],
{constructor:function(a,b,c,e,g,f,h,l){this.text=a;this.font=b;this.tg_3=c;this.tg_4=e;this.ao_3=g;this.size=f;this.an_12=h;this.an_11=l},getNonTransformedBounds:function(){this.bd_9||(this.bd_9=new b.com_ibm_vis_geom_Rect(this.size.wt_2/-2,this.size.hh_1/-2,this.size.wt_2,this.size.hh_1));return this.bd_9},getTransformInfo:function(){return this},getAffine:function(){return this.an_11},getText:function(){return this.text},getFont:function(){return this.font},getTextAlign:function(){return this.tg_3},
getTextVAlign:function(){return this.tg_4},getAnchorPoint:function(){return this.ao_3},getTextSize:function(){return this.size},requiredPreciseAscent:function(){return this.an_12}});b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl.makeFromInterpolated=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl(a.text,d,a.tg_3,a.tg_4,a.ao_3,c,a.an_12,e)};b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl.makeImpl=function(a,
d){if(!a)return null;var c=a.getAnchorPoint(),e=c.x,g=c.y,f=a.getTextAlign(),c=a.getTextSize();if("middle"!=f)var h=c.wt_2/2,e="end"==f?e-h:e+h;e=b.com_ibm_vis_engine_internal_Affine.makeTransform(e,g);e=d?d.multiply(e):e;return new b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl(a.getText(),a.getFont(),"middle",a.getTextVAlign(),new b.com_ibm_vis_geom_Point(0,0),c,a.requiredPreciseAscent(),e)};b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl.MIDDLE="middle";
b.com_ibm_vis_engine_internal_interaction_interpolation_TextInterpolator=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{co_9:0,constructor:function(a,b,c,e,g,f){this.sr_9=e;this.end=g;this.ao_4=f;this.co_9=this.co$7()},co$7:function(){var a=this.il$14(this.sr_9),b=this.il$14(this.end);return a&&b?this.sr_9.text==this.end.text?4:3:a?2:b?1:0},il$14:function(a){return a&&!a.getText().CPVISEngineTrim().CPVisEngineIsEmpty()},doInterpolate:function(a){var b;
switch(this.co_9){case 2:b=this.fade(this.sr_9,a);break;case 1:b=this.fade(this.end,1-a);break;case 4:b=this.ix$1(this.sr_9,a);break;case 3:b=this.ix$1(.5>a?this.sr_9:this.end,a)}return b},ix$1:function(a,d){var c=this.in$11(d),e=this.iz$5(d,c),g=this.ao_4.interpolate();return b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl.makeFromInterpolated(a,c,e,g)},iz$5:function(a,d){var c,e;e=this.sr_9.size;var g=this.end.size;if(3==this.co_9){var f=this.end.font.getSize()/this.sr_9.font.getSize();
.5>a?(c=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(e.wt_2,e.wt_2*f,a),e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(e.hh_1,e.hh_1*f,a)):(c=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(g.wt_2/f,g.wt_2,a),e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(g.hh_1/f,g.hh_1,a))}else c=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(e.wt_2,
g.wt_2,a),e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(e.hh_1,g.hh_1,a);return new b.com_ibm_vis_geom_Dim(c,e)},in$11:function(a){var d=this.sr_9.font,c=this.end.font,e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(d.getSize(),c.getSize(),a);return.5>a?d.modifySize(e):c.modifySize(e)},fade:function(a,b){return a},calculateConversion:function(){var a=arguments,d;0==a.length&&(d=this.co$7);return d?d.apply(this,a):
b.com_ibm_init_declare.invokeSuper(this,a)}});b.com_ibm_vis_engine_internal_interaction_interpolation_TextInterpolator.SX_1=4;b.com_ibm_vis_engine_internal_interaction_interpolation_TranslateAffineIterpolator=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{co_10:0,constructor:function(a,b,c,e,g){this.sr_10=e;this.end=g;this.co_10=this.calculateConversion(e,g)},doInterpolate:function(a){if(0==a)return this.sr_10;if(1==a)return this.end;var d;switch(this.co_10){case 1:d=
.5>=a?null:b.com_ibm_vis_engine_internal_Affine.makeTransform(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(0,this.end.m02,a),b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(0,this.end.m12,a));break;case 2:d=.5<a?null:b.com_ibm_vis_engine_internal_Affine.makeTransform(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_10.m02,0,a),b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_10.m12,
0,a));break;case 3:d=b.com_ibm_vis_engine_internal_Affine.makeTransform(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_10.m02,this.end.m02,a),b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_10.m12,this.end.m12,a))}return d}});b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData=b.com_ibm_init_declare({dl_7:!1,tx:0,ty:0,tt_8:0,sx:0,sy:0,constructor:function(a,b,c,e,g,f,h){this.an_13=
a;this.dl_7=b;this.tx=c;this.ty=e;this.tt_8=g;this.sx=f;this.sy=h},getAffine:function(){return this.an_13},isDecomposable:function(){return this.dl_7},getTx:function(){return this.tx},getTy:function(){return this.ty},getTheta:function(){return this.tt_8},getSx:function(){return this.sx},getSy:function(){return this.sy}});b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromTranslate=function(a,d){return new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData(new b.com_ibm_vis_engine_internal_Affine(1,
0,a,0,1,d),!0,a,d,0,1,1)};b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromAffine=function(a){if(!a||a.isIdentity())return b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.it_4;var d=a.m00,c=a.m01,e=a.m10,g=a.m11,f=a.m02,h=a.m12;if(0==e&&0==d||0==c&&0==g)return new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData(a,!1,f,h,NaN,NaN,NaN);var l=Math.sqrt(d*d+e*e),m=Math.sqrt(c*
c+g*g),p=Math.atan2(e,d),c=Math.atan2(0==c?0:-c,g);if(!(.001>Math.abs(p-c)))if(.001>Math.abs(Math.abs(p-c)-3.141592653589793))l=-l;else return new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData(a,!1,f,h,NaN,NaN,NaN);0!=e?(0<e*l*p||(p+=3.141592653589793,3.141592653589793<p&&(p-=6.283185307179586)),d=p):d=0<d*l?0:3.141592653589793;return new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData(a,!0,f,h,d,l,m)};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.it_4=
b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromTranslate(0,0)});b.com_ibm_vis_engine_internal_interaction_interpolation_GeneralAffineInterpolator=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{id_3:0,constructor:function(a,b,c,e,g,f){this.sr_4=e;this.end=g;this.id_3=0==f||1==f||3==f||7==f?f:7},doInterpolate:function(a){return this.interpolateWithTranslation(a,0,0)},interpolateWithTranslation:function(a,
d,c){var e=this.sr_4.an_13,g=this.end.an_13,f=.5>a?e:g;if(0==this.id_3)return new b.com_ibm_vis_engine_internal_Affine(f.m00,f.m01,f.m02+d,f.m10,f.m11,f.m12+c);e=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_4.tx,this.end.tx,a);g=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_4.ty,this.end.ty,a);if(1==this.id_3||!this.sr_4.dl_7||!this.end.dl_7)return new b.com_ibm_vis_engine_internal_Affine(f.m00,f.m01,
e+d,f.m10,f.m11,g+c);f=this.end.tt_8-this.sr_4.tt_8;3.141592653589793<f?f-=6.283185307179586:-3.141592653589793>f&&(f+=6.283185307179586);var h=this.sr_4.tt_8+a*f,f=Math.cos(h),h=Math.sin(h),l=0==h?0:-h,m;7==this.id_3?(m=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_4.sx,this.end.sx,a),a=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_4.sy,this.end.sy,a)):.5>a?(m=this.sr_4.sx,a=this.sr_4.sy):(m=this.end.sx,
a=this.end.sy);return new b.com_ibm_vis_engine_internal_Affine(m*f,m*l,e+d,a*h,a*f,g+c)}});b.com_ibm_vis_engine_internal_interaction_interpolation_GeneralAffineInterpolator.NONE=0;b.com_ibm_vis_engine_internal_interaction_interpolation_GeneralAffineInterpolator.TRANSLATE_ONLY=1;b.com_ibm_vis_engine_internal_interaction_interpolation_GeneralAffineInterpolator.TRANSLATE_ROTATE=3;b.com_ibm_vis_engine_internal_interaction_interpolation_GeneralAffineInterpolator.ALL=7;b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{id_4:0,constructor:function(a,d,c,e,g){a=e?e.getAffine():null;g=g?g.getAffine():null;this.st_20=b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromAffine(a);this.et_9=b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromAffine(g);this.id_4=7;this.rl_5=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl},
setInterpolationMode:function(a){this.id_4=a},doInterpolate:function(a){var d=this.st_20.an_13,c=this.et_9.an_13,e=.5>a?d:c,d=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.st_20.tx,this.et_9.tx,a),c=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.st_20.ty,this.et_9.ty,a);if(1!=this.id_4&&this.st_20.dl_7&&this.et_9.dl_7){e=this.et_9.tt_8-this.st_20.tt_8;3.141592653589793<e?e-=6.283185307179586:-3.141592653589793>
e&&(e+=6.283185307179586);var g=this.st_20.tt_8+a*e,e=Math.cos(g),g=Math.sin(g),f=0==g?0:-g,h;7==this.id_4?(h=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.st_20.sx,this.et_9.sx,a),a=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.st_20.sy,this.et_9.sy,a)):.5>a?(h=this.st_20.sx,a=this.st_20.sy):(h=this.et_9.sx,a=this.et_9.sy);a=new b.com_ibm_vis_engine_internal_Affine(h*e,h*f,d,a*g,a*e,c)}else a=new b.com_ibm_vis_engine_internal_Affine(e.m00,
e.m01,d,e.m10,e.m11,c);this.rl_5.setAffine(a);return this.rl_5}});b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator.TRANSLATE_ONLY=1;b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator.TRANSLATE_ROTATE=3;b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator.ALL=7;b.com_ibm_vis_engine_internal_interaction_interpolation_StyleInterpolator=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,
{constructor:function(a,d,c,e){this.fe_12=e;d=e.length-1;this.pt_9=Array(d);this.se_49=Array(d);this.et_8=Array(d);for(c=0;c<d;++c)this.pt_9[c]=new b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator(a,0,1,e[c].fill,e[c+1].fill),this.se_49[c]=new b.com_ibm_vis_engine_internal_interaction_interpolation_StrokeInterpolator(a,0,1,e[c].stroke,e[c+1].stroke),this.et_8[c]=new b.com_ibm_vis_engine_internal_interaction_interpolation_RenderEffectsInterpolator(a,0,1,e[c].effects,e[c+1].effects)},
doInterpolate:function(a){for(var d=-1,c=0;c<this.fe_12.length&&!(a<this.fe_12[c].step);++c)d=c;if(-1==d)return this.fe_12[0].asObjects();if(d==this.fe_12.length-1)return this.fe_12[d].asObjects();c=this.fe_12[d+1].step-this.fe_12[d].step;if(1E-6>c)return this.fe_12[d].asObjects();a=(a-this.fe_12[d].step)/c;return[this.pt_9[d].interpolate(),this.se_49[d].interpolate(),b.com_ibm_vis_engine_internal_interaction_interpolation_StyleInterpolator.ih$2(this.fe_12[d].imageAlpha,this.fe_12[d+1].imageAlpha,
a),this.et_8[d].interpolate()]}});b.com_ibm_vis_engine_internal_interaction_interpolation_StyleInterpolator.ih$2=function(a,b,c){return null==a?null==b?null:1+(b-1)*c:null==b?a*(1-c)+c:a*(1-c)+b*c};b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator=function(a,d,c,e,g,f){return new b.com_ibm_vis_engine_internal_interaction_interpolation_GeomInterpolator(a,
d,c,e,g,f)};b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTextInterpolator=function(a,d,c,e,g,f,h){f=f?f.getAffine():null;h=h?h.getAffine():null;e=b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl.makeImpl(e,f);g=b.com_ibm_vis_engine_internal_interaction_interpolation_TextInfoImpl.makeImpl(g,h);h=b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getAffineInterpolator(a,d,c,e.an_11,g.an_11);return new b.com_ibm_vis_engine_internal_interaction_interpolation_TextInterpolator(a,
d,c,e,g,h)};b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getAffineInterpolator=function(a,d,c,e,g){if(b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.il$13(e)&&b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.il$13(g))return new b.com_ibm_vis_engine_internal_interaction_interpolation_TranslateAffineIterpolator(a,d,c,e,g);e=e?b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromAffine(e):
b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromTranslate(0,0);g=g?b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromAffine(g):b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolatorData.makeTransformInterpolatorDataFromTranslate(0,0);return new b.com_ibm_vis_engine_internal_interaction_interpolation_GeneralAffineInterpolator(a,d,c,e,g,3)};b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.il$13=
function(a){return!a||a.translateOnly};b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTransformInterpolator=function(a,d,c,e,g){return new b.com_ibm_vis_engine_internal_interaction_interpolation_TransformInterpolator(a,d,c,e,g)};b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getStyleInterpolator=function(a,d,c,e){return new b.com_ibm_vis_engine_internal_interaction_interpolation_StyleInterpolator(a,d,c,e)};b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{co_7:0,constructor:function(a,d,c,e,g){this.sr_6=e;this.end=g;this.co_7=b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.gp$9(e)+10*b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.gp$9(g)},doInterpolate:function(a){if(0==a)return this.sr_6;if(1==a)return this.end;var d;switch(this.co_7){case 1:case 10:case 11:d=this.id$7(this.sr_6,this.end,a);break;case 2:d=
b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.ii$5(this.sr_6,null,a);break;case 20:d=b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.ii$5(this.end,null,1-a);break;case 12:d=b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.ii$5(this.sr_6,this.end,a);break;case 21:d=b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.ii$5(this.end,this.sr_6,1-a);break;case 22:d=b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.it$6(this.sr_6,
this.end,a)}return d},id$7:function(a,d,c){return(a=b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor(this.sr_6?this.sr_6.so_4:null,this.end?this.end.so_4:null,c))?b.com_ibm_vis_engine_internal_GradientPaintInfo.makeSolid(a):null}});b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.gp$9=function(a){return a?0<a.cr_2.length?2:a.so_4?1:0:0};b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.ii$5=function(a,d,c){d=d?d.so_4:null;for(var e=a.cr_2,g=
a.ot_1,f=Array(e.length),h=0;h<e.length;++h)f[h]=new b.com_ibm_vis_engine_internal_GradientStop(b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor(e[h],d,c),g[h]);return new b.com_ibm_vis_engine_internal_GradientPaintInfo(a.type,f,a.x1,a.y1,a.x2,a.y2,a.cx,a.cy,a.cr,null)};b.com_ibm_vis_engine_internal_interaction_interpolation_PaintInterpolator.it$6=function(a,d,c){var e=a.type,g=a.ot_1,f=d.ot_1;if(g.length!=f.length||e!=d.type)return.5>c?a:d;for(var h=a.cr_2,l=d.cr_2,m=Array(h.length),p=0;p<
h.length;++p){var q=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(g[p],f[p],c);m[p]=new b.com_ibm_vis_engine_internal_GradientStop(b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor(h[p],l[p],c),q)}g=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.x1,d.x1,c);f=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.x2,d.x2,c);h=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.y1,
d.y1,c);l=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.y2,d.y2,c);p=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.cx,d.cx,c);q=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.cy,d.cy,c);a=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.cr,d.cr,c);return new b.com_ibm_vis_engine_internal_GradientPaintInfo(e,m,g,h,f,l,p,q,a,null)};b.com_ibm_vis_engine_internal_interaction_interpolation_StrokeInterpolator=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{co_8:0,constructor:function(a,b,c,e,g){this.sr_8=e;this.end=g;this.co_8=this.calculateConversion(e,g)},doInterpolate:function(a){if(0==a)return this.sr_8;if(1==a)return this.end;var b;switch(this.co_8){case 1:b=this.ik$3(this.end,0,null,1-a);break;case 2:b=this.ik$3(this.sr_8,0,null,a);break;case 3:if(.5>a){b=this.end.wt_1;var c=this.end.co_3;b=this.ik$3(this.sr_8,b,c,a)}else b=this.sr_8.wt_1,c=this.sr_8.co_3,
b=this.ik$3(this.end,b,c,1-a)}return b},ik$3:function(a,d,c,e){d=b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(a.wt_1,d,e);c=b.com_ibm_vis_engine_internal_ColorUtil.interpolateColor(a.co_3,c,e);return new b.com_ibm_vis_engine_internal_Stroke(d,a.dn_2,a.join,a.cap,c)}});b.com_ibm_vis_engine_internal_interaction_interpolation_RenderEffectsInterpolator=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{constructor:function(a,
b,c,e,g){this.sr_7=e;this.end=g},doInterpolate:function(a){if(!this.sr_7&&!this.end)return null;if(0==a)return this.sr_7;if(1==a)return this.end;var d=this.sr_7?this.sr_7.so_5:null,c=this.end?this.end.so_5:null;return new b.com_ibm_vis_engine_internal_RenderEffects(b.com_ibm_vis_engine_internal_interaction_interpolation_RenderEffectsInterpolator.ic$2(a,this.sr_7?this.sr_7.glow:null,this.end?this.end.glow:null),b.com_ibm_vis_engine_internal_interaction_interpolation_RenderEffectsInterpolator.ic$2(a,
d,c))}});b.com_ibm_vis_engine_internal_interaction_interpolation_RenderEffectsInterpolator.ic$2=function(a,d,c){return d||c?d?c?new b.com_ibm_vis_engine_internal_RenderEffect(d.co_2.interpolateWithColor(c.co_2,a),b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(d.se_4,c.se_4,a),b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(d.dx,c.dx,a),b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(d.dy,
c.dy,a)):new b.com_ibm_vis_engine_internal_RenderEffect(d.co_2.fadeAlpha(1-a),d.se_4,d.dx,d.dy):new b.com_ibm_vis_engine_internal_RenderEffect(c.co_2.fadeAlpha(a),c.se_4,c.dx,c.dy):null};b.com_ibm_vis_engine_internal_interaction_interpolation_WedgeInterpolator=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator,{constructor:function(a,b,c,e,g){this.sr_11=e;this.end=g;this.mid=e.copy()},doInterpolate:function(a){this.mid.setOriginX(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_11.getOrigin().x,
this.end.getOrigin().x,a));this.mid.setOriginY(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_11.getOrigin().y,this.end.getOrigin().y,a));this.mid.setR1(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_11.getR1(),this.end.getR1(),a));this.mid.setR2(b.com_ibm_vis_engine_internal_interaction_interpolation_Interpolator.interpolateDouble(this.sr_11.getR2(),this.end.getR2(),a));var d=(this.end.getA1()+this.end.getA2())/
2,c=(this.sr_11.getA1()+this.sr_11.getA2())/2,d=d-c;3.141592653589793<d&&(d-=6.283185307179586);-3.141592653589793>=d&&(d+=6.283185307179586);c+=a*d;a=Math.abs(this.end.getA2()-this.end.getA1())*a+Math.abs(this.sr_11.getA2()-this.sr_11.getA1())*(1-a);this.mid.setA1(c-a/2);this.mid.setA2(c+a/2);return this.mid}});b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a){this.setTarget(1)},install:function(a){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.install.apply(this,
[a]);if(a.sceneTree){var d=new b.com_ibm_rave_codegenerator_util_List;this.ct$21(d,a.sceneTree.root);for(var c=0;c<d.size();++c){var e=d.get(c);this.ce$33(e.getChildren())&&(b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.iu$5(e)||this.io$7(e,a))}}},ce$33:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];if(this.isTarget(e.getId())||this.ce$33(e.getChildren()))return!0}return!1},ct$21:function(a,d){b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT==
d.getType()&&a.add(d);for(var c=0,e=d.getChildren().arrayIterator(),g=e.length;c<g;++c)this.ct$21(a,e[c])},io$7:function(a,d){var c;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_scenetree_internal_ElementGroupSceneNode)&&(c=a.getBaseline());if(c){var e=c.x1,g=c.y1,f=c.y2,h=.001>=Math.abs(e-c.x2),f=.001>=Math.abs(g-f);h&&f?this.io$10(a,c.getCenter(),d):(h||f)&&this.io$12(a,h,h?e:g,d)}else this.io$8(a,d)},io$8:function(a,d){for(var c=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBasicShapesOfElement(a),
e=new b.com_ibm_rave_codegenerator_util_Map,g=1,f=0,h=c.arrayIterator(),l=h.length;f<l;++f){var m=h[f],p=m.shape;if(p){var q=p.getBounds();q&&(g=Math.max(g,Math.max(q.wt_3,q.hh_2)),e.put(m.getId(),q))}}f=0;c=c.arrayIterator();for(h=c.length;f<h;++f)if(m=c[f],q=e.get(m.getId()))if(l=Math.max(q.wt_3,q.hh_2)/g,p=m.getRenderInfo().getRenderGeom())p=p.asBasic(),d.addAnimatedMorph(m,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,l,b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.projectToLocalCenter(p),
p,!1));else{if(!this.io$9(m,d,l))for(var p=q.getCenter(),q=0,m=this.gd$12(m).arrayIterator(),r=m.length;q<r;++q){var t=m[q],w=t.getRenderInfo().getRenderGeom();w&&d.addAnimatedMorph(t,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,l,b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pn$4(w,p),w,!1))}}else this.iI$1(m,d)},io$9:function(a,d,c){if(3!=a.getChildren().size())return!1;var e=a.getChildren().get(0),g=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBoxplotWhiskers(e);
if(!g)return!1;var f=.001>=Math.abs(g.pt_1[1].getBounds().hh_2),h=a.getChildren().get(1),l=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBoxplotBox(h);if(!l)return!1;a=a.getChildren().get(2);a=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBoxplotMedian(a,f);if(!a)return!1;f?(a=a.x1,f=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.ph$3(g,a,!0),a=new b.com_ibm_vis_geom_Rect(a,l.y,0,l.hh_2)):(a=a.y1,f=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.ph$3(g,
a,!1),a=new b.com_ibm_vis_geom_Rect(l.x,a,l.wt_3,0));d.addAnimatedMorph(e,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,c,f,g,!1));d.addAnimatedMorph(h,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,c,a,l,!1));return!0},io$10:function(a,b,c){this.io$11(a,b,c)},io$11:function(a,d,c){var e=0;a=this.gd$12(a).arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];if(f.shape){var h=f.getRenderInfo().getRenderGeom();
h&&c.addAnimatedMorph(f,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,1,b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pn$4(h,d),h,!1))}}},io$12:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_NumericMap,h=new b.com_ibm_rave_codegenerator_util_List,l=new b.com_ibm_rave_codegenerator_util_List,m=new b.com_ibm_rave_codegenerator_util_List;if(0!=a.getChildren().size()){this.pm$1(a.getChildren(),
d,g,f,h,l,m);a=0;for(var g=g.arrayIterator(),p=g.length;a<p;++a)this.iI$1(g[a],e);this.io$16(d,c,e,f);this.io$13(d,c,e,h);this.io$14(d,c,e,l);this.io$15(d,c,e,m)}},pm$1:function(a,d,c,e,g,f,h){var l=0;a=a.arrayIterator();for(var m=a.length;l<m;++l){var p=a[l],q=p.shape,r=p.getChildren();0<r.size()?b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(q,b.com_ibm_vis_engine_internal_struct_MultiPartText)?this.gs$4(c,r):this.pm$1(r,d,c,e,g,f,h):q&&(1002==q.type()?(q=p.getRenderInfo().getRenderGeom().getCenter(),
q=Math.round(1E3*(d?q.y:q.x)),r=e.get(q),r||(r=new b.com_ibm_rave_codegenerator_util_List,e.put(q,r)),r.add(p)):1004==q.type()||1003==q.type()?g.add(p):1E3==q.type()?f.add(p):1001==q.type()?h.add(p):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(q,b.com_ibm_vis_engine_internal_struct_Text)&&c.add(p))}},io$13:function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.gc$11(a,d,e),f=0,h=0;e=e.arrayIterator();for(var l=e.length;h<l;++h){var m=e[h],p=m.getRenderInfo().getRenderGeom().asBasic().asPoly(),
q,r;if(a){r=p.y;q=b.com_ibm_rave_codegenerator_lang_Array.create([p.y.length],0);for(var t=0;t<q.length;++t){q[t]=d;var w=p.x[t];w!=w||b.com_ibm_rave_codegenerator_lang_Double.isInfinite(w)||(f=Math.max(f,Math.abs(w-d)))}}else for(q=p.x,r=b.com_ibm_rave_codegenerator_lang_Array.create([p.x.length],0),t=0;t<r.length;++t)r[t]=d,w=p.y[t],w!=w||b.com_ibm_rave_codegenerator_lang_Double.isInfinite(w)||(f=Math.max(f,Math.abs(w-d)));q=new b.com_ibm_vis_geom_Poly(q,r,p.ce_6);c.addAnimatedMorph(m,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,
0,f/g,q,p,!1))}},io$14:function(a,d,c,e){for(var g=.01,f=0,h=e.arrayIterator(),l=h.length;f<l;++f)var m=h[f],p=m.getRenderInfo().getRenderGeom(),q=a?Math.max(Math.abs(p.x1-d),Math.abs(p.x2-d)):Math.max(Math.abs(p.y1-d),Math.abs(p.y2-d)),g=Math.max(g,q);f=0;e=e.arrayIterator();for(h=e.length;f<h;++f)m=e[f],p=m.getRenderInfo().getRenderGeom(),a?(l=new b.com_ibm_vis_geom_Line(d,p.y1,d,p.y2),q=Math.max(Math.abs(p.x1-d),Math.abs(p.x2-d))):(l=new b.com_ibm_vis_geom_Line(p.x1,d,p.x2,d),q=Math.max(Math.abs(p.y1-
d),Math.abs(p.y2-d))),c.addAnimatedMorph(m,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,q/g,l,p,!1))},io$15:function(a,d,c,e){for(var g=.01,f=0,h=e.arrayIterator(),l=h.length;f<l;++f)var m=h[f],p=m.getRenderInfo().getRenderGeom(),q=a?Math.abs(p.x-d):Math.abs(p.y-d),g=Math.max(g,q);f=0;e=e.arrayIterator();for(h=e.length;f<h;++f)m=e[f],p=m.getRenderInfo().getRenderGeom(),a?(l=new b.com_ibm_vis_geom_Circle(d,p.y,p.r),q=Math.abs(p.x-d)):(l=new b.com_ibm_vis_geom_Circle(p.x,
d,p.r),q=Math.abs(p.y-d)),c.addAnimatedMorph(m,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,q/g,l,p,!1))},io$16:function(a,d,c,e){for(var g=-Infinity,f=new b.com_ibm_rave_codegenerator_util_NumericMap,h=new b.com_ibm_rave_codegenerator_util_NumericMap,l=new b.com_ibm_rave_codegenerator_util_NumericMap,m=!0,p=0,q=e.keySet().arrayIterator(),r=q.length;p<r;++p){for(var t=q[p],w=e.get(t),x=!1,y=Infinity,z=-Infinity,C=0,E=w.arrayIterator(),F=E.length;C<
F;++C){var w=E[C],A=w.getRenderInfo().getRenderGeom();if(a){if(.5>=Math.abs(A.x-d)||.5>=Math.abs(A.getX2()-d))x=!0;y=Math.min(y,A.x);z=Math.max(z,A.getX2())}else{if(.5>=Math.abs(A.y-d)||.5>=Math.abs(A.getY2()-d))x=!0;y=Math.min(y,A.y);z=Math.max(z,A.getY2())}}w=z-y;g=Math.max(g,w);f.put(t,w);h.put(t,y);l.put(t,z);x||(m=!1)}p=0;q=e.keySet().arrayIterator();for(r=q.length;p<r;++p)for(t=q[p],x=f.get(t)/g,y=m?d:(h.get(t)+l.get(t))/2,z=0,t=e.get(t).arrayIterator(),C=t.length;z<C;++z){var w=t[z],A=w.getRenderInfo().getRenderGeom(),
E=A.x,F=A.y,H=A.wt_3,J=A.hh_2;a?(E=y,H=0):(F=y,J=0);E=new b.com_ibm_vis_geom_Rect(E,F,H,J);c.addAnimatedMorph(w,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,x,E,A,!1))}},iI$1:function(a,d){if(a){for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c)this.iI$1(e[c],d);a.shape&&(c=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.shape,b.com_ibm_vis_engine_internal_struct_Text)?this.makeFadingKeyFrames(a,.95,0,1,1):this.makeFadingKeyFrames(a,
.95,.001,1,1),d.addAnimatedStyle(a,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getStyleInterpolator(this,0,1,c)))}},gd$12:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;this.gs$4(d,a.getChildren());return d},gs$4:function(a,b){for(var c=0,e=b.arrayIterator(),g=e.length;c<g;++c){var f=e[c];0<f.getChildren().size()?this.gs$4(a,f.getChildren()):null!=f.getId()&&a.add(f)}}});b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.iu$5=function(a){var d=
!1;if(a.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)for(var d=!0,c=0;c<a.getChildren().size();++c)if(a.getChildren().get(c).getClassId()!=b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP){d=!1;break}return d};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.ph$3=function(a,d,c){for(var e=Array(a.pt_1.length),g=0;g<e.length;++g){var f=a.pt_1[g].asBasic();e[g]=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pt$3(f.asPoly(),
d,c)}return new b.com_ibm_vis_geom_CompositeGeom(e,a.oe_3)};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pt$3=function(a,d,c){for(var e=a.getPointCount(),g=b.com_ibm_rave_codegenerator_lang_Array.create([e],0),f=0;f<e;++f)g[f]=d;return c?new b.com_ibm_vis_geom_Poly(g,a.y,a.ce_6):new b.com_ibm_vis_geom_Poly(a.x,g,a.ce_6)};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBoxplotWhiskers=function(a){if("whiskers"!=a.getMeta("part"))return null;a=a.getRenderInfo().getRenderGeom();
var b=a.pt_1;if(4!=b.length)return null;var c=.001>=Math.abs(b[1].getBounds().hh_2),b=.001>=Math.abs(b[1].getBounds().wt_3);return c&&b||!c&&!b?null:a};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBoxplotBox=function(a){return a.shape&&1002==a.shape.type()&&"box"==a.getMeta("part")?a.getRenderInfo().getRenderBounds():null};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBoxplotMedian=function(a,b){if(!a.shape||1E3!=a.shape.type()||"median"!=a.getMeta("part"))return null;
var c=a.getRenderInfo().getRenderGeom();return b&&.001<Math.abs(c.x1-c.x2)||!b&&.001<Math.abs(c.y1-c.y2)?null:c};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBasicShapesOfElement=function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=0;a=a.getChildren().arrayIterator();for(var e=a.length;c<e;++c){var g=a[c];b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCHEMA==g.getType()?d.add(g):(g.getShape()&&d.add(g),0<g.getChildren().size()&&d.addAll(b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.getBasicShapesOfElement(g)))}return d};
b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.gc$11=function(a,d,c){var e=0,g=0;c=c.arrayIterator();for(var f=c.length;g<f;++g)for(var h=c[g].getRenderInfo().getRenderGeom().asBasic().asPoly(),h=a?h.x:h.y,l=0,m=h.length;l<m;++l){var p=h[l];p!=p||b.com_ibm_rave_codegenerator_lang_Double.isInfinite(p)||(e=Math.max(e,Math.abs(p-d)))}return e};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.projectToLocalCenter=function(a){return b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pn$4(a,
a.getCenter())};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pn$4=function(a,d){var c=a.type(),e=d.x,g=d.y;if(1E3==c)return new b.com_ibm_vis_geom_Line(e,g,e,g);if(1002==c)return new b.com_ibm_vis_geom_Rect(e,g,0,0);if(1005==c)return new b.com_ibm_vis_geom_RoundedRect(e,g,0,0,0);if(1001==c)return new b.com_ibm_vis_geom_Circle(e,g,0);if(1003==c){for(var c=a.getPointCount(),f=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),h=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),
l=0;l<c;++l)f[l]=e,h[l]=g;return new b.com_ibm_vis_geom_Poly(f,h,a.ce_6)}if(1004==c){c=a.getX().length;f=b.com_ibm_rave_codegenerator_lang_Array.create([c],0);h=b.com_ibm_rave_codegenerator_lang_Array.create([c],0);for(l=0;l<c;++l)f[l]=e,h[l]=g;return new b.com_ibm_vis_geom_Curve(f,h,a.cl_2,a.isClosed())}c=a.pt_1.length;e=Array(c);for(l=0;l<c;++l)e[l]=b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.pn$4(a.pt_1[l],d);return new b.com_ibm_vis_geom_CompositeGeom(e,a.oe_3)};b.com_ibm_vis_engine_internal_interaction_effect_GrowEffect.GROW_FINISHED=
.95;b.com_ibm_vis_engine_internal_interaction_effect_RevealEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a){this.setTarget(1)},install:function(a){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.install.apply(this,[a]);var d=a.sceneTree.root.getPhysicalBounds(),c=this.gr$11(d);if(0==this.targetShapes)a.addAnimatedClip(a.sceneTree.root,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,
0,1,c,d,!1));else for(var e=0,g=this.targetIDs.arrayIterator(),f=g.length;e<f;++e){var h=a.sceneTree.findNode(g[e]);a.addAnimatedClip(h,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getGeomInterpolator(this,0,1,c,d,!1))}},gr$11:function(a){return 0==this.direction?new b.com_ibm_vis_geom_Rect(a.x,a.y,0,a.hh_2):1==this.direction?new b.com_ibm_vis_geom_Rect(a.x+a.wt_3,a.y,0,a.hh_2):2==this.direction?new b.com_ibm_vis_geom_Rect(a.x,a.y,a.wt_3,0):new b.com_ibm_vis_geom_Rect(a.x,
a.y+a.hh_2,a.wt_3,0)}});b.com_ibm_vis_engine_internal_interaction_effect_FadeInEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a,b){this.setTarget(b)},install:function(a){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.install.apply(this,[a]);for(var d=0,c=this.targetIDs.arrayIterator(),e=c.length;d<e;++d){var g=a.sceneTree.findNode(c[d]),f=this.makeFadingKeyFrames(g,0,0,1,1);a.addAnimatedStyle(g,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getStyleInterpolator(this,
0,1,f))}}});b.com_ibm_vis_engine_internal_interaction_effect_FadeOutEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a,b){this.setTarget(b)},install:function(a){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.install.apply(this,[a]);for(var d=0,c=this.targetIDs.arrayIterator(),e=c.length;d<e;++d){var g=a.sceneTree.findNode(c[d]),f=this.makeFadingKeyFrames(g,0,1,1,0);a.addAnimatedStyle(g,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getStyleInterpolator(this,
0,1,f))}}});b.com_ibm_vis_engine_internal_interaction_effect_FlyInEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a,b){this.setTarget(b)},install:function(a){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.install.apply(this,[a]);for(var d=.6*Math.max(this.sceneSize.wt_2,this.sceneSize.hh_1),c=new b.com_ibm_vis_geom_Rect(0,0,this.sceneSize.wt_2,this.sceneSize.hh_1),e=0,g=this.targetIDs.arrayIterator(),f=g.length;e<f;++e){var h=
g[e],l=null,m=b.com_ibm_vis_engine_internal_interaction_effect_FlyInEffect.fI$2(h);null!=m&&(l=-1,b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElement(m)&&(l=m.indexOf("E")),l=0>l?c:this.getInnerBounds(m.substring(0,l)));var h=a.sceneTree.findNode(h),p=b.com_ibm_vis_engine_internal_interaction_effect_FlyInEffect.cl$7(h,l);h.getRenderInfo().getRenderGeom()&&(l=h.getTransform(),m=(m=l.getAffine())?m.translate(d*Math.cos(p),d*Math.sin(p)):b.com_ibm_vis_engine_internal_Affine.makeTransform(d*
Math.cos(p),d*Math.sin(p)),p=new b.com_ibm_vis_scenetree_provisional_TransformInfoImpl,p.setAffine(m),a.addAnimatedTransform(h,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getTransformInterpolator(this,0,1,p,l)))}}});b.com_ibm_vis_engine_internal_interaction_effect_FlyInEffect.fI$2=function(a){if(!b.com_ibm_vis_engine_internal_interaction_effect_EffectBuilder.isHighlightID(a))return a;var d=a.indexOfCharCode(71),c=a.indexOf(".XH");return-1!=d&&-1!=c?a.substring(d,c):
null};b.com_ibm_vis_engine_internal_interaction_effect_FlyInEffect.cl$7=function(a,b){var c=a.getRenderInfo().getRenderGeom();if(!c)return-1.5707963267948966;c=c.getCenter();return Math.atan2(c.y-b.hh_2/2,c.x-b.wt_3/2)};b.com_ibm_vis_engine_internal_interaction_effect_CompositeEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,{constructor:function(a,b){this.setTarget(-1);this.effects=b},getEffects:function(){return this.effects},install:function(a){b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.install.apply(this,
[a]);for(var d=0,c=this.effects,e=c.length;d<e;++d)c[d].install(a)},setStartTime:function(a){},setDuration:function(a){this.getDuration()},getStartTime:function(){return 0},getDuration:function(){for(var a=0,b=0,c=this.effects,e=c.length;b<e;++b)a=Math.max(a,c[b].getTime());return this.duration=a},getTime:function(){return this.getDuration()},fireOnEffectStartEvent:function(){},fireOnEffectEndEvent:function(){}});b.com_ibm_vis_engine_internal_interaction_effect_CompositeEffect.makeCompositeEffect=
function(a){if(!a||1>a.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("There should be at least one effect to make a composite effect",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_COMPOSITE_EFFECT_NO_CHILD);for(var d=0,c=0,e=a.length;c<e;++c){var g=a[c];if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_engine_internal_interaction_effect_Transition))throw new b.com_ibm_vis_exceptions_internal_EngineException("Use of Transition simultaneously with another effect is unsupported.",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_TRANSITION_UNSUPPORTED_SIMULTANEOUS_EFFECT);d=Math.max(d,g.getTime())}return new b.com_ibm_vis_engine_internal_interaction_effect_CompositeEffect(d,a)};b.com_ibm_vis_interaction_EasingFunction=b.com_ibm_init_declare.implement({ease:function(a){}});b.com_ibm_vis_interaction_EasingFunction.LINEAR="linear";b.com_ibm_vis_interaction_EasingFunction.EASE_IN_OUT_QUAD="easeInOutQuad";b.com_ibm_vis_interaction_EasingFunction.EASE_OUT_BOUNCE="easeOutBounce";b.com_ibm_vis_interaction_EasingFunction.EASE_OUT_BACK=
"easeOutBack";b.com_ibm_vis_engine_internal_interaction_easing_LinearEasingFunction=b.com_ibm_init_declare(b.com_ibm_vis_interaction_EasingFunction,{ease:function(a){return a}});b.com_ibm_vis_engine_internal_interaction_easing_QuadInOutEasingFunction=b.com_ibm_init_declare(b.com_ibm_vis_interaction_EasingFunction,{ease:function(a){a*=2;if(1>a)return.5*a*a;--a;return-.5*(a*(a-2)-1)}});b.com_ibm_vis_engine_internal_interaction_easing_BackOutEasingFunction=b.com_ibm_init_declare(b.com_ibm_vis_interaction_EasingFunction,
{ease:function(a){--a;return a*a*(2.70158*a+1.70158)+1}});b.com_ibm_vis_engine_internal_interaction_easing_BounceOutEasingFunction=b.com_ibm_init_declare(b.com_ibm_vis_interaction_EasingFunction,{ease:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+.9375;a-=2.625/2.75;return 7.5625*a*a+.984375}});b.com_ibm_vis_engine_internal_interaction_effect_StyleEffect=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_interaction_effect_Effect,
{id:0,constructor:function(a,d,c,e){this.st_19=e;this.setRepresentation(d);this.animated=!1;this.id=c;this.em_1=new b.com_ibm_rave_codegenerator_util_LinkedHashSet},setTargetIDs:function(a){a&&b.com_ibm_vis_engine_internal_interaction_effect_Effect.prototype.setTargetIDs.apply(this,[a]);this.st_19.setSelectedItemsIDs(a,this.id)},setRepresentation:function(a){this.ro_4=a},apply:function(){if(this.builder)if(this.setTargetIDs(this.newTargetIds),this.ro_4.isOverlay())this.addedSceneItems=this.builder.addHighlightShapes(this.ro_4,
this.newTargetIds,this.id);else{for(var a=b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil.createSpecObject(this.ro_4.getStyle(),"StyleSpec"),d=0,c=this.newTargetIds.arrayIterator(),e=c.length;d<e;++d){var g=c[d];(g=this.builder.sceneTree.findNode(g))&&this.sl$10(g,a)}a=0;d=this.newTargetIds.arrayIterator();for(c=d.length;a<c;++a)g=d[a],this.us$1(this.builder.sceneTree.findNode(g))}this.newTargetIds=new b.com_ibm_rave_codegenerator_util_LinkedSet},sl$10:function(a,d){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_scenetree_internal_CompositeSceneNode))for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c)this.sl$10(e[c],d);else c=[this.makeSimpleStyleKeyFrame(a,d,this.ro_4.isOverlay())],this.builder.addOverrideStyle(a,b.com_ibm_vis_engine_internal_interaction_interpolation_InterpolatorFactory.getStyleInterpolator(this,0,1,c))},us$1:function(a){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_scenetree_internal_CompositeSceneNode)){var d=0;a=a.getChildren().arrayIterator();
for(var c=a.length;d<c;++d)this.us$1(a[d])}else this.em_1.add(a)},clear:function(){this.remove()},remove:function(){for(var a=0,d=this.em_1.arrayIterator(),c=d.length;a<c;++a){var e=d[a];e&&this.builder.removeOverrideStyle(e)}this.em_1.clear();this.setTargetIDs(new b.com_ibm_rave_codegenerator_util_LinkedSet);this.builder&&this.builder.removeAddedHighlightShapes(this.addedSceneItems);this.addedSceneItems=null}});b.com_ibm_vis_engine_internal_interaction_defender_DefenderFocus=b.com_ibm_init_declare({constructor:function(a,
b){this.vis=a;this.controllerVis=b;this.thumbnailDataUnit=this.gi$5(a.ga_5)},updateSpec:function(a){if(2==a.length)for(var d=this.vis.ga_5,c=0;c<d.length;++c)b.com_ibm_vis_engine_internal_interaction_defender_DefenderFocus.isThumbnail(d[c])||(new b.com_ibm_vis_actions_internal_ZoomAction(d[c])).zoomToCoordinatesWithDataFilter([null,a[0]],[null,a[1]],!0,this.thumbnailDataUnit);return this.vis.ce_40},gi$5:function(a){for(var d,c=0;c<a.length;++c)if(b.com_ibm_vis_engine_internal_interaction_defender_DefenderFocus.isThumbnail(a[c]))for(var e=
this.controllerVis.ga_5[c].elements,g=0;g<e.length;++g){var f=e[g].positions[1].getBaseField();if(f&&null==d){d=f.unit.name;break}}return d}});b.com_ibm_vis_engine_internal_interaction_defender_DefenderFocus.isThumbnail=function(a){var b=!1;a=a.elements;for(var c=0,e=a.length;c<e;++c)if("scrollUnit"==a[c].interactionType){b=!0;break}return b};b.com_ibm_vis_actions_internal_ZoomAction=b.com_ibm_init_declare({constructor:function(a){this.grammar=a},zoomToCoordinatesWithDataFilter:function(a,d,c,e){if(a&&
d){for(var g=this.grammar.gSpec.coordinates.dimensions,f=this.grammar.elements,h=this.cw$1(f),l=0;l<g.length;++l){var m=new b.com_ibm_vis_spec_internal_SpanSpec;if(null!=a[l]&&null!=d[l]){if(c){for(var p=new b.com_ibm_rave_codegenerator_util_List,q=0;q<f.length;++q){var r=b.com_ibm_vis_actions_internal_ZoomAction.ge$34(f[q],l);-1!=r&&this.fw$1(a[l],d[l],r,f[q].data.id,p,h)}p.clear()}m.min=a[l];m.max=d[l];m.unit=e;p=new b.com_ibm_vis_spec_internal_ScaleSpec;p.spans=[m];g[l].scale=p}}h.clear()}},fw$1:function(a,
d,c,e,g,f){if(!g.contains(e)){var h=this.grammar.vis.retrieveZoomData(e);if(h&&0<h.length){h=this.go$13(h);a=this.gn$17(h,c,a);c=this.gn$18(h,c,d);for(d=new b.com_ibm_rave_codegenerator_util_List;a<=c;++a)d.add(h[a]);f=f.get(e);h=d.size();this.grammar.vis.ce_40.data[f].rows=d.toArray(Array(h));g.add(e)}}},go$13:function(a){for(var b=Array(a.length),c=0;c<a.length;++c)b[c]=a[c].data;return b},gn$17:function(a,b,c){var e,g=a[0][b];c<g&&(c=g);e=this.gd$8(a,c,b);g=a[e][b];0<e&&g>c&&e--;return e},gn$18:function(a,
b,c){var e,g=a[a.length-1][b];c>g&&(c=g);e=this.gd$8(a,c,b);g=a[e][b];e<a.length-1&&g<c&&e++;return e},gd$8:function(a,b,c){for(var e=0,g=a.length-1,f=0;e<=g;){var f=Math.round((e+g)/2),h=a[f][c];if(h<b)e=f+1;else if(h>b)g=f-1;else break}return f},cw$1:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_Map,c=0;c<a.length;++c)for(var e=a[c].data.id,g=this.grammar.vis.data,f=0;f<g.length;++f)if(g[f]&&0==b.com_ibm_rave_codegenerator_util_BasicFactory.compareTo(g[f].id,e)){var h=g[f].rows;d.put(e,
f);this.grammar.vis.retrieveZoomData(e)||this.grammar.vis.cacheZoomData(e,h)}return d}});b.com_ibm_vis_actions_internal_ZoomAction.ge$34=function(a,b){var c=a.positions[b];return c&&c.getBaseField()?c.getBaseField().ie_4:-1};b.com_ibm_vis_interaction_events_DefenderViewPortEvent=b.com_ibm_init_declare(b.com_ibm_vis_interaction_events_InteractivityEvent,{x:0,y:0,constructor:function(a,b,c,e){this.x=b;this.y=c;this.it_5=e},getDefenderViewPortEndPoints:function(){var a=this.it_5.getScrollUnitRenderer(),
b=a.getFirstGrabber(),c=a.getSecondGrabber(),e=a.getMainGrabber(),a=a.getMedian(),b=b.makeGeometryClone(),c=c.makeGeometryClone(),e=e.makeGeometryClone(),a=a.makeGeometryClone(),e=this.it_5.updateScrollUnit(this.x,b,c,e,a,!1);return this.it_5.getXCordinatesForSliderEndPoints(e)},updateEventForZoomLimit:function(a,d,c,e){var g=this.it_5.getZoomUnit();a=b.com_ibm_vis_engine_internal_grammar_units_Unit.get(a,b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO);var f=this.it_5.getZoomLimit(),g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convert(f,
g,a);e=e[1]-e[0];a=Math.abs(c-this.x);f=Math.abs(d-e);return d>g?(d=(g-e)/f*a,this.x=this.x>c?this.x-d:this.x+d,!0):!1},getX:function(){return this.x},getY:function(){return this.y},getInteractivity:function(){return this.it_5}});b.com_ibm_vis_interaction_PanZoom=b.com_ibm_init_declare.implement({reset:function(){},getScaleValue:function(){},getPanValue:function(){},panBy:function(a,b){},panByProportion:function(a,b){},centerAroundPoint:function(a,b){},setScale:function(a){},scaleBy:function(a){},
scaleAroundCenter:function(a){},panAndScaleBy:function(a,b,c){},scaleAroundAPoint:function(a,b,c){},fitToCanvas:function(){},getCurrentBounds:function(){}});b.com_ibm_vis_interaction_internal_PanZoomImpl=b.com_ibm_init_declare([b.com_ibm_vis_interaction_PanZoom,b.com_ibm_vis_interaction_internal_InteractivityMethod],{su_7:0,constructor:function(a,b){this.it_12=b;this.ci_3=a;this.su_7=1},sceneChanged:function(a){a&&this.gn$35()&&(this.su_7=1)},getScaleValue:function(){return this.su_7},getPanValue:function(){var a=
this.gn$35();return a?(a=a.root.getTransform().getAffine())?a.transform(0,0):new b.com_ibm_vis_geom_Point(0,0):new b.com_ibm_vis_geom_Point(0,0)},getCurrentBounds:function(){var a=this.gn$35();if(!a)return null;var d=a.getScaledSize();(a=a.root.getTransform().getAffine())||(a=b.com_ibm_vis_engine_internal_Affine.identity());return new b.com_ibm_vis_geom_Rect(a.m02,a.m12,d.wt_2,d.hh_1)},scaleBy:function(a){var b=this.gn$35();b&&(this.sa$5(b,a,!1),this.un$4())},setScale:function(a){var b=this.gn$35();
b&&(this.sa$5(b,a/this.su_7,!1),this.un$4())},scaleAroundAPoint:function(a,b,c){var e=this.gn$35();e&&(this.ca$14(e,b,c),this.scaleAroundCenter(a))},scaleAroundCenter:function(a){var b=this.gn$35();if(b){var c=this.ci_3.wt_2/2,e=this.ci_3.hh_1/2;this.sa$5(b,a,!1);this.ca$14(b,c*a,e*a);this.un$4()}},centerAroundPoint:function(a,b){var c=this.gn$35();c&&(this.ca$14(c,a,b),this.un$4())},fitToCanvas:function(){var a=this.gn$35();if(a){var b=this.getCurrentBounds();this.pa$7(a,-b.x,-b.y);var c=(b.hh_2<
b.wt_3?this.ci_3.wt_2:this.ci_3.hh_1)/(b.hh_2<b.wt_3?b.wt_3:b.hh_2),e=b.hh_2>b.wt_3?b.wt_3:b.hh_2,b=b.hh_2>b.wt_3?this.ci_3.wt_2:this.ci_3.hh_1;e*c>b&&(c=b/e);this.sa$5(a,c,!1);this.un$4()}},panBy:function(a,b){var c=this.gn$35();c&&(this.pa$7(c,a,b),this.un$4())},panByProportion:function(a,b){var c=this.gn$35();if(c){var e=this.getCurrentBounds();this.pa$7(c,a*e.wt_3,b*e.hh_2);this.un$4()}},panAndScaleBy:function(a,b,c){var e=this.gn$35();e&&(this.sa$5(e,c,!1),this.pa$7(e,a,b),this.un$4())},setPanAndScale:function(a,
b,c){var e=this.gn$35();e&&(this.ra$2(e),this.sa$5(e,c,!1),this.pa$7(e,a,b),this.un$4())},reset:function(){var a=this.gn$35();a&&(this.ra$2(a),this.un$4())},gn$35:function(){return this.it_12.st_22.getSceneTree()},un$4:function(){this.it_12.rendererRedrawSceneTree()},ra$2:function(a){a.root.getTransform().setAffine(b.com_ibm_vis_engine_internal_Affine.identity());this.su_7=1},sa$5:function(a,d,c){a=a.root.getTransform();var e=a.getAffine();e?c&&(e=new b.com_ibm_vis_engine_internal_Affine(1,e.m01,
e.m02,e.m10,1,e.m12)):e=b.com_ibm_vis_engine_internal_Affine.identity();e=new b.com_ibm_vis_engine_internal_Affine(d*e.m00,d*e.m01,d*e.m02,d*e.m10,d*e.m11,d*e.m12);a.setAffine(e);this.su_7*=d},pa$7:function(a,b,c){a.root.translate(b,c)},ca$14:function(a,b,c){this.pa$7(a,-(b-this.ci_3.wt_2/2),-(c-this.ci_3.hh_1/2))},setCanvasSize:function(a,d){this.ci_3=new b.com_ibm_vis_geom_Dim(a,d)},getType:function(){return 1E3}});b.com_ibm_vis_interaction_internal_SceneState=b.com_ibm_init_declare({constructor:function(){this.ja_3=
this.jn_5=this.se_59=null;this.sa_10=new b.com_ibm_rave_codegenerator_util_NumericMap},setScene:function(a){this.se_59=null;this.jn_5=a;this.ja_3=null},setSceneTree:function(a){this.se_59=a;this.ja_3=this.jn_5=null},getSceneTree:function(){return this.se_59},getScene:function(){!this.jn_5&&this.se_59&&(this.jn_5=b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serialize(this.se_59));return this.jn_5},getSceneNodeById:function(a){return this.se_59?this.se_59.findNode(a):null},getById:function(a){return this.se_59?
(a=this.se_59.findNode(a))?b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(a):null:null},getSceneJSONById:function(a){return this.ga$20().get(a)},setSelectedIds:function(a,b){!a||1>a.size()?this.sa_10.remove(b):this.sa_10.put(b,a)},setSelectedItemsIDs:function(a,b){a&&0!=a.size()?this.sa_10.put(b,a):this.sa_10.remove(b)},getSelectedIds:function(a){a=this.getSelectedItemIds(a);if(!a)return null;var d=new b.com_ibm_rave_codegenerator_util_List;d.addAll(a);return d},getSelectedItemIds:function(a){return this.sa_10.get(a)},
getSelected:function(a){var d=this.sa_10.get(a);if(!this.se_59||!d||1>d.size())return[];a=new b.com_ibm_rave_codegenerator_util_List;for(var c=0,d=d.arrayIterator(),e=d.length;c<e;++c){var g=this.se_59.findNode(d[c]);g&&a.add(b.com_ibm_vis_interaction_internal_SceneItemImpl.createItem(g))}return a.toArray(Array(a.size()))},getSelectionKeys:function(){return this.sa_10.keySet()},setSelected:function(a,d){if(!a||1>a.length)this.sa_10.remove(d);else{for(var c=new b.com_ibm_rave_codegenerator_util_LinkedSet,
e=0,g=a.length;e<g;++e){var f=a[e];f&&(f=f.id,null!=f&&c.add(f))}this.sa_10.put(d,c)}},getSelectionState:function(){for(var a=new b.com_ibm_rave_codegenerator_util_NumericMap,d=0,c=this.sa_10.keySet().arrayIterator(),e=c.length;d<e;++d){var g=c[d],f=this.sa_10.get(g),h=new b.com_ibm_rave_codegenerator_util_List;h.addAll(f);a.put(g,h)}return a},getSelectionStateMap:function(){return b.com_ibm_rave_codegenerator_util_Collections.unmodifiableMap(this.sa_10)},clearSelectionState:function(){this.sa_10.clear()},
ga$20:function(){this.ja_3||this.ma$9();return this.ja_3},ma$9:function(){this.ja_3=new b.com_ibm_rave_codegenerator_util_Map;if(this.se_59)for(var a=b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer.serialize(this.se_59),d=a.length,c=0;c<d;++c)this.aa$13(a[c])},aa$13:function(a){var b=a.id;null!=b&&95!=b.charCodeAt(0)&&this.ja_3.put(b,a);if(a=a.children)for(var b=a.length,c=0;c<b;++c)this.aa$13(a[c])}});b.com_ibm_vis_interaction_ZOrder=b.com_ibm_init_declare({setZOrder:function(a,b){},setZOrderMultiple:function(a,
b){},moveToFront:function(a){},moveToFrontMultiple:function(a){},moveToBack:function(a){},moveToBackMultiple:function(a){},resetZOrder:function(a){},resetZOrderMultiple:function(a){},resetGroup:function(a){},resetGroupMultiple:function(a){},apply:function(){}});b.com_ibm_vis_interaction_internal_ZOrderImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_ZOrder,{constructor:function(a){this.it_14=a},setZOrder:function(a,d){var c=b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem(a);if(c){var e=
c.getParent();this.setZOrderInternalSingle(e,c,d,!1)}},setZOrderMultiple:function(a,d){if(a&&0!=a.length)if(1==a.length)this.setZOrder(a[0],d);else for(var c=0,e=b.com_ibm_vis_interaction_internal_ZOrderImpl.makeGroups(a).entrySet().arrayIterator(),g=e.length;c<g;++c){var f=e[c];this.setZOrderInternalMultiple(f.key,f.value,d,!1)}},moveToFront:function(a){if(a=b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem(a)){var d=a.getParent();this.setZOrderInternalSingle(d,a,b.com_ibm_vis_interaction_internal_ZOrderImpl.getLastZOrder(d),
!1)}},moveToFrontMultiple:function(a){if(a&&0!=a.length)if(1==a.length)this.moveToFront(a[0]);else{var d=0;a=b.com_ibm_vis_interaction_internal_ZOrderImpl.makeGroups(a).entrySet().arrayIterator();for(var c=a.length;d<c;++d){var e=a[d],g=e.key;this.setZOrderInternalMultiple(g,e.value,b.com_ibm_vis_interaction_internal_ZOrderImpl.getLastZOrder(g),!1)}}},moveToBack:function(a){if(a=b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem(a)){var d=a.getParent();this.setZOrderInternalSingle(d,a,
b.com_ibm_vis_interaction_internal_ZOrderImpl.getFirstZOrder(d),!0)}},moveToBackMultiple:function(a){if(a&&0!=a.length)if(1==a.length)this.moveToBack(a[0]);else{var d=0;a=b.com_ibm_vis_interaction_internal_ZOrderImpl.makeGroups(a).entrySet().arrayIterator();for(var c=a.length;d<c;++d){var e=a[d],g=e.key;this.setZOrderInternalMultiple(g,e.value,b.com_ibm_vis_interaction_internal_ZOrderImpl.getFirstZOrder(g),!0)}}},resetZOrder:function(a){if(a=b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem(a)){var d=
a.getParent();this.setZOrderInternalSingle(d,a,a.ie_8,!1)}},resetZOrderMultiple:function(a){if(a&&0!=a.length)if(1==a.length)this.resetZOrder(a[0]);else{var d=0;a=b.com_ibm_vis_interaction_internal_ZOrderImpl.makeGroups(a).entrySet().arrayIterator();for(var c=a.length;d<c;++d){var e=a[d];this.resetZOrderInternalMultiple(e.key,e.value)}}},resetGroup:function(a){if(a=b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem(a))a=a.getParent(),this.resetGroupInternal(a)},resetGroupMultiple:function(a){if(a&&
0!=a.length)if(1==a.length)this.resetGroup(a[0]);else{var d=0;a=b.com_ibm_vis_interaction_internal_ZOrderImpl.makeGroups(a).entrySet().arrayIterator();for(var c=a.length;d<c;++d)this.resetGroupInternal(a[d].key)}},apply:function(){this.it_14.rendererRedrawSceneTree()},setZOrderInternalSingle:function(a,d,c,e){a=a.getChildren();for(var g=new b.com_ibm_rave_codegenerator_util_List,f=!1,h=0,l=a.arrayIterator(),m=l.length;h<m;++h){var p=l[h];if(p==d)this.setNodeZOrder(p,c);else{if(!f){var q=p.getId(),
r=p.ze_1;if(null!=q&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(q)||r>c||e&&r==c)g.add(d),f=!0}g.add(p)}}f||g.add(d);a.clear();a.addAll(g)},setZOrderInternalMultiple:function(a,d,c,e){if(1==d.size())this.setZOrderInternalSingle(a,d.iterator().next(),c,e);else{a=a.getChildren();for(var g=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_rave_codegenerator_util_List,l=f,m=0,p=a.arrayIterator(),q=p.length;m<q;++m){var r=p[m];
if(d.contains(r))g.add(r),this.setNodeZOrder(r,c);else{if(l==f){var t=r.getId(),w=r.ze_1;if(null!=t&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(t)||w>c||e&&w==c)l=h}l.add(r)}}a.clear();a.addAll(f);a.addAll(g);a.addAll(h)}},resetZOrderInternalMultiple:function(a,d){var c=d.size();if(1==c)c=d.iterator().next(),this.setZOrderInternalSingle(a,c,c.ie_8,!1);else{for(var e=a.getChildren(),g=e.size(),f=d.toArray(Array(c)),h=b.com_ibm_rave_codegenerator_lang_Array.create([c],0),l=0;l<
c;++l)this.setNodeZOrder(f[l],f[l].ie_8),h[l]=f[l].ie_8;for(var h=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(h),l=new b.com_ibm_rave_codegenerator_util_List,m=0,p=0;m<g||p<c;)if(m<g&&d.contains(e.get(m)))m++;else if(p==c)l.add(e.get(m++));else if(m==g)l.add(f[h[p++]]);else{var q=e.get(m),r=f[h[p]],t=q.getId();null!=t&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(t)||r.getZOrder()<q.getZOrder()?(l.add(r),p++):(l.add(q),m++)}e.clear();e.addAll(l)}},resetGroupInternal:function(a){for(var d=
a.getChildren(),c=0,e=!1,g=0,f=d.arrayIterator(),h=f.length;g<h;++g){var l=f[g],m=l.getId();if(null!=m&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(m))break;c++;this.setNodeZOrder(l,l.ie_8)&&(e=!0)}if(e&&!(2>c)){g=b.com_ibm_rave_codegenerator_lang_Array.create([c],0);for(e=0;e<c;++e)g[e]=d.get(e).getZOrder();f=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(g);g=new b.com_ibm_rave_codegenerator_util_List;for(e=0;e<c;++e)g.add(d.get(f[e]));a=a.getChildren().size();
for(e=c;e<a;++e)g.add(d.get(e));d.clear();d.addAll(g)}},setNodeZOrder:function(a,b){if(a.ze_1==b)return!1;a.setZOrder(b);this.it_14&&this.it_14.de_28&&this.it_14.de_28.modifyNode(a);return!0}});b.com_ibm_vis_interaction_internal_ZOrderImpl.makeGroups=function(a){for(var d=new b.com_ibm_rave_codegenerator_util_HashMap,c=0,e=a.length;c<e;++c){var g=b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem(a[c]);if(g){var f=g.getParent(),h=d.get(f);h||(h=new b.com_ibm_rave_codegenerator_util_HashSet,
d.put(f,h));h.add(g)}}return d};b.com_ibm_vis_interaction_internal_ZOrderImpl.findNodeForItem=function(a){if(!a)return null;var d=a.getID();if(!(b.com_ibm_vis_engine_internal_util_SceneIdUtil.identifiesElement(d)&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(d)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isElementGroup(d)))return null;a=a.getSceneNode();if(!a)return null;for(;a.getParent()&&a.getParent().getClassId()!=b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP;)a=
a.getParent();return a.getParent()&&a.getParent().getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP?a:null};b.com_ibm_vis_interaction_internal_ZOrderImpl.getLastZOrder=function(a){a=a.getChildren();for(var d=a.size()-1;0<=d;--d){var c=a.get(d);if(null==c.getId()||!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(c.getId()))return c.ze_1}return 0};b.com_ibm_vis_interaction_internal_ZOrderImpl.getFirstZOrder=function(a){a=a.getChildren();for(var d=a.size(),
c=0;c<d;++c){var e=a.get(c);if(null==e.getId()||!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(e.getId()))return e.ze_1}return 0};b.com_ibm_vis_interaction_internal_dragging_AbstractDragging=b.com_ibm_init_declare({mirrored:!1,needToDrawDragNode:!1,constructor:function(a){this.interactivity=a;this.hm_2=b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.NM_1},getHighlightedItems:function(){return this.hm_2},startDrag:function(a,d,c,e,g){this.grammar=a.ga_5;this.currentSpec=
a.ce_40;this.mirrored=a.getMirror();this.pn_23=new b.com_ibm_vis_geom_Point(e,g);this.totalAmountMoved=new b.com_ibm_vis_geom_Point(0,0);null!=d.grammarIndex()?(a=d.grammarIndex(),this.dd_2=this.grammar[a].getContentBounds()):this.dd_2=b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.getCoordBoundsForItem(d,this.interactivity);this.originalElements=this.selectDragItems(c);this.needToDrawDragNode=!0},dragTo:function(a,d,c,e){this.needToDrawDragNode&&(c||(c=this.interactivity.makeHighlightState()),
c.setMultiple(this.originalElements,e),c.applyForKey(e),this.hm_2=c.getAddedSceneItemsForKey(e),this.cx$1(),this.needToDrawDragNode=!1);e=a-this.pn_23.x;c=d-this.pn_23.y;if(0!=e||0!=c){for(var g=0,f=this.hm_2,h=f.length;g<h;++g){var l=f[g];if(l=l.getSceneNode().getPhysicalBounds()){var m=this.dd_2.wt_3-l.getX2(),p=this.dd_2.hh_2-l.getY2(),q=-l.x,r=-l.y;this.mirrored&&(q=l.getX2()-this.dd_2.wt_3,m=l.x);e=Math.min(Math.max(e,q),m);c=Math.min(Math.max(c,r),p)}}if(0!=e||0!=c){g=this.interactivity.de_28;
f=this.mirrored?-e:e;h=0;m=this.hm_2;for(p=m.length;h<p;++h)l=m[h],l=l.getSceneNode(),g.modifyNode(l),b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.td$1(l,f,c),g.modifyNode(l);this.totalAmountMoved=this.totalAmountMoved.add(e,c)}this.pn_23.x=a;this.pn_23.y=d}},stopDrag:function(){this.hm_2=b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.NM_1;this.totalAmountMoved=new b.com_ibm_vis_geom_Point(0,0);this.interactivity.updateScene()},getPhysicalSize:function(a){return new b.com_ibm_vis_geom_Dim(this.dd_2.wt_3,
this.dd_2.hh_2)},cx$1:function(){if(this.mirrored)for(var a=0;a<this.originalElements.length;++a){var b=this.originalElements[a].getSceneNode().getShape();b&&1009==b.getType()&&this.hm_2[a].getSceneNode().getTransform().mirror()}},getHighlightItems:function(){return this.hm_2}});b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.td$1=function(a,b,c){if(a.getRoot()){var e=a.getRoot().getScale();a.translate(b/e.x,c/e.y)}};b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.getCoordBoundsForItem=
function(a,d){for(var c=d.st_22.getSceneTree(),e=new b.com_ibm_vis_scenetree_internal_CompositeSceneNode,g=0,c=c.root.getChildren().arrayIterator(),f=c.length;g<f;++g){var h=c[g];h.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES&&e.addChild(h)}return e.getPhysicalBounds()};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.NM_1=[]});b.com_ibm_vis_interaction_internal_dragging_NodeDragging=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_dragging_AbstractDragging,
{grammarIndex:-1,elementIndex:-1,sX_3:!1,rt_11:!1,selectDragItems:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c){var g=a[c],f=g.grammarIndex(),h=g.elementIndex();if(null!=h&&null!=f&&(this.grammarIndex=f,this.elementIndex=h,b.com_ibm_vis_engine_internal_util_SceneIdUtil.isGraphNode(g,this.grammar[this.grammarIndex].elements[this.elementIndex]))){d.add(g);break}}a=Array(d.size());return d.toArray(a)},me$71:function(a,d){var c=this.getPhysicalSize(this.grammarIndex),
e=a.x/c.wt_2,c=(c.hh_1-a.y)/c.hh_1;if(this.sX_3)var g=c,c=e,e=g;this.rt_11&&(c=1-c);g=new b.com_ibm_vis_spec_internal_PositionOverrideSpec;g.node=d;g.x=e;g.y=c;this.lu_6.positionOverride=b.com_ibm_vis_interaction_internal_dragging_NodeDragging.md$15(this.lu_6.positionOverride,g)},isSupported:function(a,b){var c=a.grammarIndex(),e=a.elementIndex();return null!=c&&null!=e&&(c=b[c].elements[e],c.layout&&c.layout.isGraph())?!0:!1},stopDrag:function(){if(0!=this.totalAmountMoved.x||0!=this.totalAmountMoved.y){this.se$27();
for(var a=new b.com_ibm_rave_codegenerator_util_List,d=this.hm_2.length-1;0<=d;--d){var c=this.hm_2[d].getSceneNode().getPhysicalBounds();if(c){var c=c.getCenter(),e=this.originalElements[d].getRows();if(e)for(var g=0,f=e.length;g<f;++g){var h=e[g];a.contains(h)||(this.me$71(c,h),a.add(h))}}}}b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.prototype.stopDrag.apply(this)},se$27:function(){this.lu_6=this.currentSpec.grammar[this.grammarIndex].elements[this.elementIndex].positioning;this.rt_11=
this.sX_3=!1;"dag"!=this.lu_6.method&&"tree"!=this.lu_6.method&&(b.com_ibm_vis_internal_SpecConstants.RIGHTTOLEFT==this.lu_6.orientation?(this.sX_3=!0,this.rt_11=!1):b.com_ibm_vis_internal_SpecConstants.BOTTOMTOTOP==this.lu_6.orientation?(this.sX_3=!1,this.rt_11=!0):b.com_ibm_vis_internal_SpecConstants.LEFTTORIGHT==this.lu_6.orientation&&(this.rt_11=this.sX_3=!0))}});b.com_ibm_vis_interaction_internal_dragging_NodeDragging.md$15=function(a,b){var c;if(a){c=b.node;for(var e=-1,g=a.length,f=0;-1==e&&
f<g;++f)a[f].node==c&&(e=f);if(-1==e){c=Array(g+1);for(f=0;f<g;++f)c[f]=a[f];c[g]=b}else{for(f=e;f<g-1;++f)a[f]=a[f+1];a[g-1]=b;c=a}}else c=[b];return c};b.com_ibm_vis_interaction_internal_dragging_ElementDragging=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_dragging_AbstractDragging,{grammarIndex:-1,dataIndex:0,fx_1:0,fx_2:0,constructor:function(){this.on_7=new b.com_ibm_vis_geom_Point(0,0)},startDrag:function(a,d,c,e,g){b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.prototype.startDrag.apply(this,
[a,d,c,e,g]);this.on_7.x=e;this.on_7.y=g;-1!=this.grammarIndex&&(this.scales=this.grammar[0].coordinates.scales);this.setFieldIndex(this.originalElements)},me$70:function(){for(var a=0,d=0,c=new b.com_ibm_vis_engine_internal_data_Range(0,0),e=new b.com_ibm_vis_engine_internal_data_Range(0,0),g=this.currentSpec.data.length,f=Array(g+1),h=0;h<g;++h)if(f[h]=this.currentSpec.data[h],h==this.dataIndex){var l=f[h].rows,m=this.getPhysicalSize(this.grammarIndex);0<m.wt_2&&0<m.hh_1&&(this.scales[0]&&this.scales[0].spans&&
(c=this.scales[0].spans.get(0).getAdjustedInputRange()),this.scales[1]&&this.scales[1].spans&&(e=this.scales[1].spans.get(0).getAdjustedInputRange()),a=this.totalAmountMoved.x,d=this.totalAmountMoved.y,this.mirrored&&(a=-a),d/=m.hh_1,a=a/m.wt_2*e.range,d*=c.range);m=b.com_ibm_vis_interaction_internal_dragging_ElementDragging.ct$24(l[this.ee_11[0]][this.fx_1]+a,l[this.ee_11[0]][this.fx_2]-d,e,c);l[this.ee_11[0]][this.fx_1]=m[0];l[this.ee_11[0]][this.fx_2]=m[1]}},setFieldIndex:function(a){if(a){this.ee_11=
a[0].getRows();this.dataIndex=a[0].getDataIndex();a=a[0].coordinateFields();var b=this.currentSpec.data[this.dataIndex].fields;if(1<b.length)for(var c=0;c<b.length;++c)a[0]==b[c].id&&(this.fx_2=c),a[1]==b[c].id&&(this.fx_1=c)}},stopDrag:function(){0==this.totalAmountMoved.x&&0==this.totalAmountMoved.y||this.me$70();b.com_ibm_vis_interaction_internal_dragging_AbstractDragging.prototype.stopDrag.apply(this)}});b.com_ibm_vis_interaction_internal_dragging_ElementDragging.ct$24=function(a,b,c,e){var g=
[a,b];a>c.max?g[0]=c.max:a<c.min&&(g[0]=c.min);b>e.max?g[1]=e.max:b<e.min&&(g[1]=e.min);return g};b.com_ibm_vis_interaction_internal_dragging_ElementDragging.isLabel=function(a){a=a.getID();return null==a?!1:-1<a.indexOf("L")};b.com_ibm_vis_interaction_internal_dragging_ElementDragging.LABEL="L";b.com_ibm_vis_interaction_internal_dragging_LabelElementDragging=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_dragging_ElementDragging,{selectDragItems:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=0,e=a.length;c<e;++c){var g=a[c],f=g.grammarIndex();if(null!=g.elementIndex()&&null!=f&&b.com_ibm_vis_interaction_internal_dragging_ElementDragging.isLabel(g)){this.grammarIndex=f;d.add(g);break}}a=Array(d.size());return d.toArray(a)},isSupported:function(a,b){var c=a.grammarIndex(),e=a.elementIndex();if(null!=c&&null!=e){this.dataIndex=a.getDataIndex();var g=b[c].elements[e].data.fields;if(1<g.length&&!g[0].isCategorical()&&!g[1].isCategorical()&&(c=b[c].elements[e],(!c.layout||!c.layout.isGraph())&&
a.getID().CPVISEngineContains("L")&&(c=a.meta(),null!=c&&c.CPVISEngineContains("annotation: 1"))))return!0}return!1}});b.com_ibm_vis_interaction_internal_dragging_DataPointElementDragging=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_dragging_ElementDragging,{selectDragItems:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c){var g=a[c],f=g.grammarIndex();if(null!=g.elementIndex()&&null!=f&&!b.com_ibm_vis_interaction_internal_dragging_ElementDragging.isLabel(g)){this.grammarIndex=
f;d.add(g);break}}a=Array(d.size());return d.toArray(a)},isSupported:function(a,b){if(null!=a.getDataIndex()){this.dataIndex=a.getDataIndex();var c=a.grammarIndex(),e=a.elementIndex();if(null!=c&&null!=e){var g=b[c].elements[e].data.fields;if(1<g.length&&g[1]&&!g[0].isCategorical()&&!g[1].isCategorical()&&(c=b[c].elements[e],!(c.layout&&c.layout.isGraph()||"point"!=c.type)&&a.getID().CPVISEngineContains("S")))return!0}}return!1}});b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer=
b.com_ibm_init_declare({last:0,bl_2:!1,tt_7:0,install:function(a,b){a&&(this.be_5=a);if(this.shape=b.di_3)this.sr$7(),this.tt_7=this.gt$29()},setStartPoint:function(a,b){var c=this.gn$28(a,b);null!=c?(this.last=a,this.bl_2=!0,this.cr_5=c):this.bl_2=!1},updateScrollUnit:function(a,b,c,e,g,f){if(this.bl_2){var h=a-this.last;f&&(this.last=a);this.ri$3(h,b,c,e,g,f)}return this.getScrollUnitCoordinates(b.getGeom(),c.getGeom(),e.getGeom(),g.getGeom())},getScrollUnitPosition:function(){return this.getScrollUnitCoordinates(this.fe_11.getGeom(),
this.se_48.getGeom(),this.me_11.getGeom(),this.ma_3.getGeom())},ri$3:function(a,d,c,e,g,f){var h=!0,l=!0;Math.round(d.getX()).equals(Math.round(c.getX()))&&(h=this.se$22(a,d,e,g),l=!1);"median"!=this.cr_5&&b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.ME_5!=this.cr_5||!h?b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.FE_4==this.cr_5?this.de$7(a,d):b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.SE_4==this.cr_5&&this.de$7(a,c):this.mi$13(a,
d,c,e,g);this.aa$5(d,c,g);this.ve$3(d,d,c,g);this.ve$3(c,d,c,g);l&&this.ue$3(e,g);Math.round(d.getX()).equals(Math.round(c.getX()))&&this.se$22(a,d,e,g);f&&this.an$11()},ve$3:function(a,b,c,e){0>a.getX()?(a.setX(0),e.setX(a.getX()+a.getWidth()/2),e.setWidth(Math.abs(b.getX()-c.getX()))):a.getX()+a.getWidth()>this.tt_7&&(a.setX(this.tt_7-a.getWidth()),e.setWidth(Math.abs(b.getX()-c.getX())))},aa$5:function(a,b,c){var e=a.getX()<=b.getX()?a.getX():b.getX();b=a.getX()>=b.getX()?a.getX():b.getX();a=a.getWidth();
c.setX(e+a/2);c.setWidth(b-e)},de$7:function(a,b){a=this.ce$32(a,b.getGeom());b.setX(b.getX()+a)},an$11:function(){this.rf_3.setWidth(this.ma_3.getX()-this.rf_3.getX());this.rh_7.setX(this.ma_3.getX()+this.ma_3.getWidth());this.rh_7.setWidth(this.tt_7-this.rf_3.getWidth()-this.ma_3.getWidth())},se$22:function(a,b,c,e){var g=!0;e.setX(b.getX()+b.getWidth()/3);e.setWidth(b.getWidth()/3);c.setWidth(b.getHeight()/2);Math.round(b.getX()).equals(0)?c.setX(e.getX()):c.setX(e.getX()-b.getHeight()/2);0>c.getX()&&
0>=a?(c.setX(0),g=!1):c.getX()+c.getWidth()>this.tt_7&&(c.setX(this.tt_7-c.getWidth()),g=!1);return g},ue$3:function(a,b){a.setX(b.getX()+b.getWidth()/4);a.setWidth(b.getWidth()/2)},mi$13:function(a,b,c,e,g){a=this.ct$20(a);e.affine(1,a,1,0,!1);b.affine(1,a,1,0,!1);c.affine(1,a,1,0,!1);g.affine(1,a,1,0,!1)},ct$20:function(a){var b=this.fe_11.getX()<=this.se_48.getX()?this.fe_11.getX():this.se_48.getX(),c=this.fe_11.getX()>=this.se_48.getX()?this.fe_11.getX():this.se_48.getX(),e=this.fe_11.getWidth();
return 0>a&&0>a+b?-b:0<a&&a+c+e>this.tt_7?this.tt_7-(c+e):a},ce$32:function(a,b){return 0>a&&0>a+b.x?-b.x:0<a&&a+b.x+b.wt_3>this.tt_7?this.tt_7-(b.x+b.wt_3):a},sr$7:function(){for(var a=this.shape.getParts(),d=0;d<a.length;++d)b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.ME_5==a[d].getElementPart()?(this.me_11=a[d],this.me_11.setRelativeToParent(!1)):b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.FE_4==a[d].getElementPart()?(this.fe_11=a[d],this.fe_11.setRelativeToParent(!1)):
b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.SE_4==a[d].getElementPart()?(this.se_48=a[d],this.se_48.setRelativeToParent(!1)):"median"==a[d].getElementPart()?(this.ma_3=a[d],this.ma_3.setRelativeToParent(!1)):"rectLeft"==a[d].getElementPart()?(this.rf_3=a[d],this.rf_3.setRelativeToParent(!1)):"rectRight"==a[d].getElementPart()&&(this.rh_7=a[d],this.rh_7.setRelativeToParent(!1))},gn$28:function(a,b){var c;this.fe_11.getGeom().containsPt(a,b)?c=this.fe_11.getElementPart():this.se_48.getGeom().containsPt(a,
b)?c=this.se_48.getElementPart():this.ma_3.getGeom().containsPt(a,b)?c=this.ma_3.getElementPart():this.me_11.getGeom().containsPt(a,b)&&(c=this.me_11.getElementPart());return c},getScrollUnitCoordinates:function(a,d,c,e){var g=b.com_ibm_rave_codegenerator_lang_Array.create([4],0),f=a.wt_3/2;g[0]=e.y;g[1]=e.y+e.hh_2;a.x==d.x?(g[2]=c.x,g[3]=c.x+f>=this.tt_7?this.tt_7:c.x+f):(g[2]=e.x,g[3]=e.x+e.wt_3);return g},resetGrabbers:function(a,d,c,e){for(var g=this.shape.getParts(),f=0;f<g.length;++f)b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.ME_5==
g[f].getElementPart()?this.me_11=c:b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.FE_4==g[f].getElementPart()?this.fe_11=a:b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.SE_4==g[f].getElementPart()?this.se_48=d:"median"==g[f].getElementPart()&&(this.ma_3=e)},gt$29:function(){return this.rf_3.getGeom().wt_3+this.ma_3.getGeom().wt_3+this.rh_7.getGeom().wt_3},getScrollUnit:function(){return this.shape},isBlnScroll:function(){return this.bl_2},updateSpec:function(a,
b){if(2==a.length)for(var c=b.ga_5,e=0;e<c.length;++e)for(var g=c[e].elements,f=0,h=g.length;f<h;++f){var l=g[f];if("scrollUnit"==l.interactionType){this.ue$4(a,l);break}}return b.ce_40},ue$4:function(a,d){var c=d.spec,e=c.style,g=e.symbol,f=c.position,h=this.shape,c=h.getParts(),l=d.calculateDefaultShapeSize(e),e=l.wt_2,l=l.hh_1,m=this.ma_3.getGeom(),m=m.x+m.wt_3/2,p=h.getBounds().y+l/2,h=m-e/2,m=p-l/2,p=new b.com_ibm_vis_spec_internal_PositionSpec;p.field=f[1].field;p.value=(a[0]+a[1])/2;f[1]=p;
for(f=0;f<c.length;++f){var p=c[f],q=p.getElementPart();if("rectLeft"!=q&&"rectRight"!=q)for(var r=0;r<g.shape.length;++r){var t=g.shape[r];q==t.part&&b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.mp$10(t,p.getGeom(),h,m,e,l)}}},getFirstGrabber:function(){return this.fe_11},getSecondGrabber:function(){return this.se_48},getMedian:function(){return this.ma_3},getThumbNailWidth:function(){return this.tt_7},getMainGrabber:function(){return this.me_11},getClickedPart:function(){return this.cr_5},
getVis:function(){return this.vis}});b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.mp$10=function(a,d,c,e,g,f){var h=new b.com_ibm_vis_spec_internal_BoundsSpec;h.left=100*(d.x-c)/g+"%";h.top=100*(d.y-e)/f+"%";h.width=100*d.wt_3/g+"%";h.height=100*d.hh_2/f+"%";a.bounds=h};b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.RH_1="rectRight";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.RF_1="rectLeft";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.MA_5=
"median";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.SE_4="secondGrabber";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.FE_4="firstGrabber";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.ME_5="mainGrabber";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.PN_1="%";b.com_ibm_vis_engine_internal_interaction_defender_ScrollUnitRenderer.INTERACTION_SCROLL_UNIT="scrollUnit";b.com_ibm_vis_interaction_internal_PopupNotchLocation=
b.com_ibm_init_declare({zeroOneLocation:0,constructor:function(a,b){this.zeroOneLocation=a;this.side=b}});b.com_ibm_vis_interaction_Popup=b.com_ibm_init_declare.implement({showPopup:function(a,b,c){},hidePopup:function(){}});b.com_ibm_vis_interaction_internal_TouchPointSide=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_interaction_internal_TouchPointSide.TOP=new b.com_ibm_vis_interaction_internal_TouchPointSide("TOP");b.com_ibm_vis_interaction_internal_TouchPointSide.BOTTOM=
new b.com_ibm_vis_interaction_internal_TouchPointSide("BOTTOM");b.com_ibm_vis_interaction_internal_TouchPointSide.LEFT=new b.com_ibm_vis_interaction_internal_TouchPointSide("LEFT");b.com_ibm_vis_interaction_internal_TouchPointSide.RIGHT=new b.com_ibm_vis_interaction_internal_TouchPointSide("RIGHT");b.com_ibm_vis_interaction_internal_TouchPointSide.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_internal_TouchPointSide)};b.com_ibm_vis_interaction_internal_AbstractPopup=
b.com_ibm_init_declare(b.com_ibm_vis_interaction_Popup,{constructor:function(a){this.parentVisControl=a},showPopup:function(a,d,c){if(!a)throw new b.com_ibm_vis_exceptions_internal_SpecException("Spec string passed to create String is empty",b.com_ibm_vis_exceptions_ErrorCode.SPEC_IS_EMPTY);this.io_4=this.makeItemPosition(d,c);this.show(a)},hidePopup:function(){this.hide()},getPopupBounds:function(){var a,d,c,e,g=this.getPopupVisSize();a=g.wt_2;d=g.hh_1;e=this.getParentVisSize();g=e.hh_1;e=e.wt_2;
c=this.io_4.x;var f=e-this.io_4.getX2(),h=this.io_4.y,l=g-this.io_4.getY2(),m=Math.max(Math.max(c,f),Math.max(h,l));c==m?(c=Math.min(a,Math.min(e/2,c)),a=this.io_4.x-c,e=Math.min(d,g/2),d=Math.max(this.io_4.y+this.io_4.hh_2/2-e/2,0),d+e>=g&&(d=g-e)):f==m?(c=Math.min(a,Math.min(e/2,f)),a=this.io_4.x+this.io_4.wt_3,e=Math.min(d,g/2),d=Math.max(this.io_4.y+this.io_4.hh_2/2-e/2,0),d+e>=g&&(d=g-e)):h==m?(c=Math.min(a,e/2),a=Math.max(this.io_4.x+this.io_4.wt_3/2-c/2,0),a+c>e&&(a=e-c),e=Math.min(d,Math.min(g/
2,h)),d=this.io_4.y-e):(c=Math.min(a,e/2),a=Math.max(this.io_4.x+this.io_4.wt_3/2-c/2,0),a+c>e&&(a=e-c),e=Math.min(d,Math.min(g/2,l)),d=this.io_4.y+this.io_4.hh_2);return new b.com_ibm_vis_geom_Rect(a,d,c,e)},getPopupNotchLocation:function(a){var d;if(this.io_4.y>=a.y+a.hh_2){d=b.com_ibm_vis_interaction_internal_TouchPointSide.BOTTOM;var c=this.io_4.x+this.io_4.wt_3/2-a.x;a=c/a.wt_3;return new b.com_ibm_vis_interaction_internal_PopupNotchLocation(a,d)}if(a.y>=this.io_4.y+this.io_4.hh_2)return d=b.com_ibm_vis_interaction_internal_TouchPointSide.TOP,
c=this.io_4.x+this.io_4.wt_3/2-a.x,a=c/a.wt_3,new b.com_ibm_vis_interaction_internal_PopupNotchLocation(a,d);if(this.io_4.x>=a.x+a.wt_3)return d=b.com_ibm_vis_interaction_internal_TouchPointSide.RIGHT,c=this.io_4.y+this.io_4.hh_2/2-a.y,a=c/a.hh_2,new b.com_ibm_vis_interaction_internal_PopupNotchLocation(a,d);d=b.com_ibm_vis_interaction_internal_TouchPointSide.LEFT;c=this.io_4.y+this.io_4.hh_2/2-a.y;a=c/a.hh_2;return new b.com_ibm_vis_interaction_internal_PopupNotchLocation(a,d)},makeItemPosition:function(a,
d){var c=this.getParentVisSize();if(a){var e=a.bd_12;if(e.wt_3<c.wt_2/3&&e.hh_2<c.hh_1/3)return e}return d?new b.com_ibm_vis_geom_Rect(d.x-1,d.y-1,2,2):new b.com_ibm_vis_geom_Rect(c.wt_2/2-1,c.hh_1/2-1,2,2)},getParentVisSize:function(){return b.com_ibm_vis_interaction_internal_AbstractPopup.gz$30(this.parentVisControl)},getPopupVisSize:function(){return b.com_ibm_vis_interaction_internal_AbstractPopup.gz$30(this.getPopupVisControl())}});b.com_ibm_vis_interaction_internal_AbstractPopup.getNotchPanelBounds=
function(a,d){switch(d.side){default:case b.com_ibm_vis_interaction_internal_TouchPointSide.LEFT:return new b.com_ibm_vis_geom_Rect(0,0,.1*a.wt_3,a.hh_2);case b.com_ibm_vis_interaction_internal_TouchPointSide.RIGHT:return new b.com_ibm_vis_geom_Rect(.9*a.wt_3,0,.1*a.wt_3,a.hh_2);case b.com_ibm_vis_interaction_internal_TouchPointSide.TOP:return new b.com_ibm_vis_geom_Rect(0,0,a.wt_3,.1*a.hh_2);case b.com_ibm_vis_interaction_internal_TouchPointSide.BOTTOM:return new b.com_ibm_vis_geom_Rect(0,.9*a.hh_2,
a.wt_3,.1*a.hh_2)}};b.com_ibm_vis_interaction_internal_AbstractPopup.getNotchBounds=function(a,d){if(b.com_ibm_vis_interaction_internal_TouchPointSide.RIGHT.equals(d.side)||b.com_ibm_vis_interaction_internal_TouchPointSide.LEFT.equals(d.side)){var c=a.wt_3,e=a.hh_2*d.zeroOneLocation-c/2;0>e&&(e=0);e+c>a.hh_2&&(e=a.hh_2-c);return new b.com_ibm_vis_geom_Rect(0,e,c,c)}c=a.hh_2;e=a.wt_3*d.zeroOneLocation-c/2;0>e&&(e=0);e+c>a.wt_3&&(e=a.wt_3-c);return new b.com_ibm_vis_geom_Rect(e,0,c,c)};b.com_ibm_vis_interaction_internal_AbstractPopup.getPopupVisControlBounds=
function(a,d){switch(d.side){default:case b.com_ibm_vis_interaction_internal_TouchPointSide.LEFT:return new b.com_ibm_vis_geom_Rect(.1*a.wt_3,0,.9*a.wt_3,a.hh_2);case b.com_ibm_vis_interaction_internal_TouchPointSide.RIGHT:return new b.com_ibm_vis_geom_Rect(0,0,.9*a.wt_3,a.hh_2);case b.com_ibm_vis_interaction_internal_TouchPointSide.TOP:return new b.com_ibm_vis_geom_Rect(0,.1*a.hh_2,a.wt_3,.9*a.hh_2);case b.com_ibm_vis_interaction_internal_TouchPointSide.BOTTOM:return new b.com_ibm_vis_geom_Rect(0,
0,a.wt_3,.9*a.hh_2)}};b.com_ibm_vis_interaction_internal_AbstractPopup.getNotchGeometry=function(a,d){var c,e,g,f,h,l;switch(d.side){default:case b.com_ibm_vis_interaction_internal_TouchPointSide.LEFT:c=a.x;e=a.y+a.hh_2/2;g=a.x+a.wt_3;f=a.y;h=a.x+a.wt_3;l=a.y+a.hh_2;break;case b.com_ibm_vis_interaction_internal_TouchPointSide.RIGHT:c=a.x+a.wt_3;e=a.y+a.hh_2/2;g=a.x;f=a.y+a.hh_2;h=a.x;l=a.y;break;case b.com_ibm_vis_interaction_internal_TouchPointSide.TOP:c=a.x+a.wt_3/2;e=a.y;g=a.x+a.wt_3;f=a.y+a.hh_2;
h=a.x;l=a.y+a.hh_2;break;case b.com_ibm_vis_interaction_internal_TouchPointSide.BOTTOM:c=a.x+a.wt_3/2,e=a.y+a.hh_2,g=a.x,f=a.y,h=a.x+a.wt_3,l=a.y}var m=new b.com_ibm_rave_codegenerator_util_List;m.add(new b.com_ibm_vis_geom_Point(c,e));m.add(new b.com_ibm_vis_geom_Point(g,f));m.add(new b.com_ibm_vis_geom_Point(h,l));return m};b.com_ibm_vis_interaction_internal_AbstractPopup.gz$30=function(a){if(a=a.getInteractivity())if(a=a.st_22.getSceneTree())return a.getScaledSize();return new b.com_ibm_vis_geom_Dim(0,
0)};b.com_ibm_vis_interaction_internal_AbstractPopup.NOTCH_SHARE=.1;b.com_ibm_vis_internal_VisPopup=b.com_ibm_init_declare([b.com_ibm_vis_interaction_internal_AbstractPopup],{POPUP_DIV_ID:"ravePopupDiv",POPUP_VISCONTROL:"popupVisControl",NOTCH_DIV_ID:"notchDiv",VISCONTROL_DIV_ID:"visControlDiv",constructor:function(a){this._notchImages=[];this.makeDivs();this.makePopupVisControl();this.createDOMHierarchy();this.createKeyListener();this.popupVisControl.startup()},getPopupVisControl:function(){return this.popupVisControl},
show:function(a){this.hideDivs();this.popupVisControl.copyInfoFrom(this.parentVisControl);this.setSizeAndSpecToPopupVisControl(a);this.popupVisControl.initRenderer().then(S.hitch(this,function(){this.setBoundsAndDrawNotch()}));this.popupVisControl.domNode.focus();this.setAriaLabel(a);this.displayDivs()},setBoundsAndDrawNotch:function(){var a=this.getPopupBounds();this.notchLocation=this.getPopupNotchLocation(a);a.setX(a.getX()+this.parentVisControl.domNode.offsetLeft);a.setY(a.getY()+this.parentVisControl.domNode.offsetTop);
this.setBoundsToPopup(a);this.drawNotch()},setAriaLabel:function(a){this.popupVisControl.setAriaLabel("interactive chart")},hide:function(){this.hideDivs();this.parentVisControl.domNode.focus()},displayDivs:function(){this.setDisplayStyle([this.notchDiv,this.popupVisControl.domNode,this.visControlDiv],"block")},hideDivs:function(){this.popupDiv&&this.setDisplayStyle([this.notchDiv,this.popupVisControl.domNode,this.visControlDiv],"none")},setDisplayStyle:function(a,b){for(var c=0;c<a.length;c++)a[c].style.display=
b},getSizeFromSpec:function(a){var d=0,c=0;a.size&&(a.size.width&&(d=a.size.width),a.size.height&&(c=a.size.height));return new b.com_ibm_vis_geom_Dim(d,c)},setBoundsToPopup:function(a){this.setInnerDivBounds(a)},setBoundsToDiv:function(a,b){a.style.top=b.getY()+"px";a.style.left=b.getX()+"px";a.style.width=b.getWidth()+"px";a.style.height=b.getHeight()+"px"},keyDown:function(a){a.keyCode==Z.ESCAPE&&this.hide()},createKeyListener:function(){X.connect(this.popupVisControl.domNode,"onkeypress",this,
"keyDown")},makeDivs:function(){this.popupDiv=ea.create("div");this.popupDiv.id=this.POPUP_DIV_ID;this.popupDiv.style.position="absolute";this.popupDiv.style.zIndex=1E3;this.notchDiv=ea.create("div");this.notchDiv.id=this.NOTCH_DIV_ID;this.notchDiv.style.position="absolute";this.notchDiv.style.zIndex=1E3;this.visControlDiv=ea.create("div");this.visControlDiv.id=this.VISCONTROL_DIV_ID;this.visControlDiv.style.position="absolute";this.visControlDiv.style.backgroundColor="white";this.visControlDiv.style.border=
"1px solid black";this.visControlDiv.style.boxSizing="border-box";this.visControlDiv.style.overflow="auto";this.visControlDiv.style.zIndex=1E3},setInnerDivBounds:function(a){var d=b.com_ibm_vis_interaction_internal_AbstractPopup.getPopupVisControlBounds(a,this.notchLocation);d.setX(d.getX()+a.getX());d.setY(d.getY()+a.getY());this.setBoundsToDiv(this.visControlDiv,d);var d=b.com_ibm_vis_interaction_internal_AbstractPopup.getNotchPanelBounds(a,this.notchLocation),c=b.com_ibm_vis_interaction_internal_AbstractPopup.getNotchBounds(d,
this.notchLocation);c.setX(c.getX()+d.getX()+a.getX());c.setY(c.getY()+d.getY()+a.getY());this.setBoundsToDiv(this.notchDiv,c);this.notchRendererSize=c;c.setX(0);c.setY(0);this.notchPoints=b.com_ibm_vis_interaction_internal_AbstractPopup.getNotchGeometry(c,this.notchLocation)},drawNotch:function(){var a=this.notchPoints.get(0).getX(),d=this.notchPoints.get(0).getY(),c=this.notchPoints.get(1).getX(),e=this.notchPoints.get(1).getY(),g=this.notchPoints.get(2).getX(),f=this.notchPoints.get(2).getY(),
h;d<e&&d<f?h="up":d>e&&d>f?h="down":a>c&&a>g?h="right":a<c&&a<g&&(h="left");this._notchImages[h]||(this._notchImages[h]=new Image,this._notchImages[h].src=b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getResourceURL("popup/notch_"+h+".png"));this.notchDiv.firstChild&&this.notchDiv.removeChild(this.notchDiv.firstChild);a=this._notchImages[h].style;a.width=this.notchRendererSize.getWidth()+"px";a.height=this.notchRendererSize.getHeight()+"px";this.notchDiv.appendChild(this._notchImages[h])},
createDOMHierarchy:function(){this.visControlDiv.appendChild(this.popupVisControl.domNode);ea.place(this.visControlDiv,this.parentVisControl.domNode.parentNode);ea.place(this.notchDiv,this.parentVisControl.domNode.parentNode)},makePopupVisControl:function(){this.popupVisControl=new b.com_ibm_vis_widget_VisControl;this.popupVisControl.id=this.POPUP_VISCONTROL;this.popupVisControl.style.position="absolute"},setSizeAndSpecToPopupVisControl:function(a){var b=!1,c=this.getSizeFromSpec(a),e={w:c.getWidth(),
h:c.getHeight()};this.popupVisControl.initRenderer().then(function(c){0<e.w&&0<e.h&&(b=!0,c.resize(e));if(!b){var f=c.getInteractivity().getVisInstance().getSize();e.w=f.getWidth();e.h=f.getHeight();c.resize(e)}c.setSpecificationWithTransition(a,-1)})},getParentVisControlBounds:function(){var a=0,d=0,c=0,e=0;this.parentVisControl&&(a=this.parentVisControl.domNode.offsetLeft,d=this.parentVisControl.domNode.offsetTop,c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.parentVisControl.width,
0,0),e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.parentVisControl.height,0,0));return new b.com_ibm_vis_geom_Rect(a,d,c,e)}});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/utilities",function(){b.com_ibm_vis_services_internal_GetLayerNamesUtilities=b.com_ibm_init_declare({dispose:function(){this.vis&&this.vis.dispose()},setSpecificationDefaultVersion:function(a){null==a||a.CPVisEngineIsEmpty()?this.gi$13().so_19=
null:this.gi$13().so_19=b.com_ibm_vis_engine_internal_util_Version.parseVersion(a)},findKeywordSequence:function(a,d,c){if(!a)return!1;if(d.length-1==c)return b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,d[c]);var e=a[d[c]];c++;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(e)){a=!1;for(var g=e.length,f=0;f<g&&!a;++f)a=e[f],a=this.findKeywordSequence(a,d,c);return a}return this.findKeywordSequence(e,d,c)},hasNonSimpleLegends:function(a){var b=!1;a=a.legends;if(!a)return b;
for(var c=a.length,e=0;e<c;++e){var g=a[e];if(g&&(g=g.method,null!=g&&"simple"!=g)){b=!0;break}}return b},configureLayersWithOptions:function(a,d){0!=a&&(0<(a&24)&&d.add(b.com_ibm_vis_services_internal_GetLayerNamesUtilities.TEMPLATES_LAYER),0<(a&6)&&d.add(b.com_ibm_vis_services_internal_GetLayerNamesUtilities.MIGRATE_VALIDATE_LAYER),0<(a&1)&&d.add(b.com_ibm_vis_services_internal_GetLayerNamesUtilities.SAMPLE_DATA_PROVIDER_LAYER),0<(a&32)&&d.add(b.com_ibm_vis_services_internal_GetLayerNamesUtilities.INTERACTION_LAYER))},
migrateSpecIfNeeded:function(a,d){b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"version")||(d.add(b.com_ibm_vis_services_internal_GetLayerNamesUtilities.MIGRATE_VALIDATE_LAYER),this.gi$13().se_57=!0);try{var c=b.com_ibm_vis_engine_internal_util_Version.parseVersion(a.version);b.com_ibm_vis_engine_internal_Vis.CURRENT_VERSION.equals(c)||(a=this.gi$13().migrateAndValidateSpec(a),d.add(b.com_ibm_vis_services_internal_GetLayerNamesUtilities.MIGRATE_VALIDATE_LAYER))}finally{this.gi$13().se_57=
!1}return a},gi$13:function(){this.vis||(this.vis=new b.com_ibm_vis_engine_internal_Vis(null),this.vis.se_57=!1);return this.vis},toArray:function(a){var b=Array(a.size()),c=0,e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];b[c++]=f}return b}});b.com_ibm_vis_services_internal_GetLayerNamesUtilities.MIGRATE_VALIDATE_LAYER="com/ibm/vis/layers/migrationLayer.js";b.com_ibm_vis_services_internal_GetLayerNamesUtilities.TEMPLATES_LAYER="com/ibm/vis/layers/templateLayer.js";b.com_ibm_vis_services_internal_GetLayerNamesUtilities.SAMPLE_DATA_PROVIDER_LAYER=
"com/ibm/vis/layers/sampleDataProviderLayer.js";b.com_ibm_vis_services_internal_GetLayerNamesUtilities.INTERACTION_LAYER="com/ibm/vis/layers/interactionLayer.js";b.com_ibm_vis_services_internal_GetLayerNamesUtilities.VO_7="version";b.com_ibm_vis_services_GetLayerNames=b.com_ibm_init_declare({constructor:function(){this.he_8=new b.com_ibm_vis_services_internal_GetLayerNamesUtilities;this.impl=new b.com_ibm_vis_services_internal_GetLayerNamesGeneratedImpl(this.he_8)},dispose:function(){this.he_8.dispose()},
setSpecificationDefaultVersion:function(a){this.impl.setSpecificationDefaultVersion(a)},getRequiredLayers:function(a,d){if(!a)return b.com_ibm_vis_services_GetLayerNames.NR_1;var c=this.impl.getRequiredLayers(a,d);return 0==c.size()?b.com_ibm_vis_services_GetLayerNames.NR_1:this.he_8.toArray(c)},getRequiredLayersFromArray:function(a,d){if(!a||0==a.length)return b.com_ibm_vis_services_GetLayerNames.NR_1;for(var c=new b.com_ibm_rave_codegenerator_util_Set,e=0,g=a.length;e<g;++e){var f=this.impl.getRequiredLayers(a[e],
d);c.addAll(f)}return 0==c.size()?b.com_ibm_vis_services_GetLayerNames.NR_1:this.he_8.toArray(c)},getRequiredLayersForSpec:function(a,d){if(null==a)return b.com_ibm_vis_services_GetLayerNames.NR_1;var c;try{var e=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a);c=this.impl.getRequiredLayers(e,d)}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException("Error parsing/analyzing VizJSON",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,a);throw g;}return 0==c.size()?b.com_ibm_vis_services_GetLayerNames.NR_1:this.he_8.toArray(c)},getRequiredLayersFromSpecArray:function(a,d){if(!a||0==a.length)return b.com_ibm_vis_services_GetLayerNames.NR_1;for(var c=new b.com_ibm_rave_codegenerator_util_Set,e=0,g=a.length;e<g;++e){var f=a[e];try{var h=b.com_ibm_rave_codegenerator_util_BasicFactory.parse(f),l=this.impl.getRequiredLayers(h,d);c.addAll(l)}catch(m){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(m,
b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException("Error parsing/analyzing VizJSON",b.com_ibm_vis_exceptions_ErrorCode.SPEC_PARSE_FAIL,f);throw m;}}return this.he_8.toArray(c)}});b.com_ibm_vis_services_GetLayerNames.OPTIONS_INCLUDE_SAMPLE_DATA_PROVIDERS=1;b.com_ibm_vis_services_GetLayerNames.OPTIONS_SUPPORT_SPEC_MIGRATION=2;b.com_ibm_vis_services_GetLayerNames.OPTIONS_SUPPORT_SPEC_VALIDATION=4;b.com_ibm_vis_services_GetLayerNames.OPTIONS_SUPPORT_TEMPLATES=
8;b.com_ibm_vis_services_GetLayerNames.OPTIONS_SUPPORT_HIGH_CONTRAST=16;b.com_ibm_vis_services_GetLayerNames.OPTIONS_SUPPORT_INTERACTIVITY=32;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_services_GetLayerNames.NR_1=[]});b.com_ibm_vis_services_internal_GetLayerNamesGeneratedImpl=b.com_ibm_init_declare({constructor:function(a){this.he_9=a},setSpecificationDefaultVersion:function(a){this.he_9.setSpecificationDefaultVersion(a)},getRequiredLayers:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_Set,
e;a=this.he_9.migrateSpecIfNeeded(a,c);this.he_9.configureLayersWithOptions(d,c);e=["parameters","resolution"];this.he_9.findKeywordSequence(a,e,0)&&c.add("com/ibm/vis/layers/templateLayer.js");e=["data","provider"];this.he_9.findKeywordSequence(a,e,0)&&c.add("com/ibm/vis/layers/dataProviderLayer.js");e=["grammar","elements","positioning"];this.he_9.findKeywordSequence(a,e,0)&&c.add("com/ibm/vis/layers/graphLayoutsLayer.js");c.add("com/ibm/vis/main.js");b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,
"legends")&&c.add("com/ibm/vis/layers/legendLayer.js");e=["data","output"];this.he_9.findKeywordSequence(a,e,0)&&c.add("com/ibm/vis/layers/dataTransformsLayer.js");e=["data","type"];this.he_9.findKeywordSequence(a,e,0)&&c.add("com/ibm/vis/layers/dataTransformsLayer.js");e=["grammar","elements","positioning"];this.he_9.findKeywordSequence(a,e,0)&&c.add("com/ibm/vis/layers/layoutsLayer");b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"resource")&&c.add("com/ibm/vis/layers/resourceHandlingLayer.js");
this.he_9.hasNonSimpleLegends(a)&&c.add("com/ibm/vis/layers/nonsimpleLegendLayer");return c}});b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/advancedAccessibility",function(){b.com_ibm_vis_internal_accessibility_AtTreeBuilder=b.com_ibm_init_declare({constructor:function(){this.be_10=new b.com_ibm_vis_internal_accessibility_AccessibilityBuilder},buildTree:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=new b.com_ibm_rave_codegenerator_util_Map,
e=this.pa$9(a,c);if(1==e.size())e=c.get(e.get(0)),this.ae$39(d,e);else{a=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("graph");for(var g=0,f=e.arrayIterator(),h=f.length;g<h;++g){var l=f[g],e=c.get(l),l=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID(l,71)+1,l=a+" "+l,m=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;m.setStringProperty("label",l);m.setStringProperty("type",l);l=new b.com_ibm_vis_internal_accessibility_AccessibleNode(m,null);d.add(l);
this.ae$39(l.ce_45,e)}}return d},mu$8:function(a,d,c,e){var g=a.getChildren();if(g.isEmpty())return null;var f=a.getA11y()?a.getA11y():new b.com_ibm_vis_internal_accessibility_AccessibleInfo;if(null!=f.getStringProperty("linkFrom")){var h=this.getNodeGroup(a,d);h&&this.ae$36(a,h);return null}if("*"==a.link){h=new b.com_ibm_vis_internal_accessibility_AccessibleNode(f,a.getId());d=new b.com_ibm_rave_codegenerator_util_Map;c=new b.com_ibm_rave_codegenerator_util_List;e=0;for(var f=g.arrayIterator(),
l=f.length;e<l;++e){var g=f[e],m=g.getA11y();if(m){var p=m.getProperty("chordFrom"),q=m.getProperty("chordTo");if(null!=p||null!=q)p=g.getId(),m=new b.com_ibm_vis_internal_accessibility_AccessibleNode(m,p),d.put(p,m),h.addChild(m),c.add(g)}}this.ak$3(a,d,!0);return h.ce_45.isEmpty()?null:h}h=new b.com_ibm_vis_internal_accessibility_AccessibleNode(f,null);if(g.get(0).getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)for(a=0,l=g.arrayIterator(),m=l.length;a<m;++a)g=l[a],
g.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP&&(g=this.mu$8(g,d,1,1))&&h.addChild(g);else this.ae$40(h,a,f,!0,a.el_2);f.setLabelToBaseIfMissing();this.ae$35(f,c,e);this.mergeLabelAndGroupSum(f,"stackSum");this.mergeLabelAndGroupSum(f,"clusterSum");return h.ce_45.isEmpty()?null:h},ae$35:function(a,d,c){var e=a.getStringProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL);null==e&&(e=a.getStringProperty("label"));this.ae$37(a,e,d,c)},getNodeGroup:function(a,
b){for(var c=a.getA11y().getStringProperty("linkFrom"),e=b.size()-1;-1<e;--e){var g=b.get(e),f=g.getSceneIds();if(!f.isEmpty()&&f.get(0).CPVISEngineStartsWith(c))return g}return null},ae$36:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_Map;this.pa$8(c,d);this.ak$3(a,c,!1)},pa$8:function(a,b){for(var c=0,e=b.ce_45.arrayIterator(),g=e.length;c<g;++c){var f=e[c];this.pa$8(a,f);var h=f.getSceneId();null!=h&&a.put(h,f)}},ak$3:function(a,d,c){var e=0;a=a.getChildren().arrayIterator();for(var g=
a.length;e<g;++e){var f=a[e];if(f.getType()==b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT)this.ak$3(f,d,c);else{var h=f.getA11y(),l=d.get(h.getStringProperty("linkFrom")),m=d.get(h.getStringProperty("linkTo"));m&&l&&(h=c?new b.com_ibm_vis_internal_accessibility_AccessibleNode(h,f.getId()):null,f=new b.com_ibm_vis_internal_accessibility_AtLink(l,m,f.getId(),h),l.addLink(f),m.addLink(f))}}},mergeLabelAndGroupSum:function(a,d){var c=a.getStringProperty(d);if(null!=c){var e=a.getStringProperty("label"),
c=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(d)+" "+c,e=null==e?c:this.be_10.makeLabel(e,c);a.setStringProperty("label",e);a.pa_3.remove(d)}},md$16:function(a,d,c,e,g){a=a.getA11y()?a.getA11y():new b.com_ibm_vis_internal_accessibility_AccessibleInfo;var f=a.getStringProperty("label");null==f&&null!=d?(d=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(d),a.setStringProperty("label",d)):c&&(d=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(d),
a.setStringProperty("label",null==f?d:f+" "+d));this.ae$35(a,e,g);return new b.com_ibm_vis_internal_accessibility_AccessibleNode(a,null)},ae$37:function(a,d,c,e){1!=e&&(d=d+" "+(c+1)+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("of")+e);a.setStringProperty("type",d)},ae$38:function(a,d,c,e){if(c)for(var g=c.size(),f=0;f<g;++f){var h=c.get(f);if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE){e=(e=h.getA11y())?e:new b.com_ibm_vis_internal_accessibility_AccessibleInfo;
var l=e.getBooleanProperty("ignore");null!=l&&l.valueOf()||(this.ae$37(e,b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE)),f,g),a.add(new b.com_ibm_vis_internal_accessibility_AccessibleNode(e,h.getId())))}else if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT)(h=this.mu$8(h,a,f,g))&&a.add(h);else if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND)this.an$17(a,
h,e,f,g);else if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS)this.ai$12(a,h,f,g);else if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE){if(b.com_ibm_vis_engine_internal_util_SceneIdUtil.isGridBandId(b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(h)))continue;e=h.getA11y()?h.getA11y():new b.com_ibm_vis_internal_accessibility_AccessibleInfo;this.ae$35(e,f,g);l=new b.com_ibm_vis_internal_accessibility_AccessibleNode(e,null);this.ae$40(l,
h,e,!1,!1)&&(e.setLabelToBaseIfMissing(),a.add(l))}else d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET&&a.add(this.me$77(h));e=!1}},an$17:function(a,b,c,e,g){c=this.md$16(b,"legend",c,e,g);a.add(c);a=0;b=b.getChildren().arrayIterator();for(e=b.length;a<e;++a)this.ax$3(c,b[a])},ax$3:function(a,d){if(d.getType()==b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY)for(var c=0,e=d.getChildren().arrayIterator(),g=e.length;c<g;++c){var f=this.gx$2(e[c]);if(null!=f){c=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;
c.setStringProperty("label",f);a.addChild(new b.com_ibm_vis_internal_accessibility_AccessibleNode(c,d.getId()));break}}},gx$2:function(a){if(a=a.getShape())if(a=a.getTextInfo())return a.getText();return null},ae$39:function(a,d){for(var c=[b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE,b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS,b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND,b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE,
b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET],e=!0,g=0;g<c.length;++g){var f=c[g],h=d.get(f);f==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS||f==b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND?e=this.at$14(a,e,f,h):this.ae$38(a,f,h,e);h&&(e=!1)}},at$14:function(a,b,c,e){var g=0;e=this.si$8(e).arrayIterator();for(var f=e.length;g<f;++g)this.ae$38(a,c,e[g],b),b=!1;return b},si$8:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(!a)return d;
var c,e,g=0;a=a.arrayIterator();for(var f=a.length;g<f;++g){var h=a[g],l=h.getA11y().getStringProperty("label");if(null==l||l!=c)c=l,e=new b.com_ibm_rave_codegenerator_util_List,d.add(e);e.add(h)}return d},pa$9:function(a,d){for(var c=a.getChildren(),e=c.size(),g=new b.com_ibm_rave_codegenerator_util_List,f=0;f<e;++f){var h=c.get(f),l=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(h);if(l){var m=this.ge$74(h,l);if(null!=m){g.contains(m)||g.add(m);var p=d.get(m);p||(p=new b.com_ibm_rave_codegenerator_util_HashMap,
d.put(m,p));m=p.get(l);m||(m=new b.com_ibm_rave_codegenerator_util_List,p.put(l,m));m.add(h)}}}return g},ge$74:function(a,d){if(!a)return null;var c=a.getId();if(null==c&&d!=b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT&&d!=b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS&&d!=b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE&&d!=b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET)return null;c=null==c?this.ge$74(this.gl$22(a),d):b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(c);
return null==c?"G0":c},gl$22:function(a){var b=0;a=a.getChildren().arrayIterator();for(var c=a.length;b<c;++b){var e=a[b];if(e&&(null!=e.getId()||!e.getChildren().isEmpty()))return e}return null},gl$23:function(a,d){for(var c,e=0,g=a.getChildren().arrayIterator(),f=g.length;e<f;++e){var h=g[e],l=h.getClassId();l==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SHAPE||l==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.SCHEMA_SHAPE?this.il$23(h)?c=h:h.getShape().isPrimaryTextType()&&d.add(h):
l==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.GROUP&&b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL==h.getType()&&this.gl$23(h,d)}return c},ai$12:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f=this.gl$23(d,g);if(0!=g.size()||!f)for(d=this.md$16(d,null,!1,c,e),a.add(d),a=0,g=g.arrayIterator(),c=g.length;a<c;++a){e=g[a];f=e.getA11y();if(null==f.getStringProperty("label")){var h=this.gx$2(e);null!=h&&f.setStringProperty("label",h)}d.addChild(new b.com_ibm_vis_internal_accessibility_AccessibleNode(f,
e.getId()))}},il$23:function(a){a=a.getId();return null!=a&&-1!=a.indexOf("Title")},se$31:function(a){var d=a.getStringProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL);null==d&&(d=a.getStringProperty("label"));null!=d&&a.setStringProperty("type",d)},me$77:function(a){var d=a.getA11y()?a.getA11y():new b.com_ibm_vis_internal_accessibility_AccessibleInfo;this.se$31(d);var d=new b.com_ibm_vis_internal_accessibility_AccessibleNode(d,null),c=d.ce_45;a=(new b.com_ibm_vis_internal_accessibility_AtTreeBuilder).buildTree(a);
c.addAll(a);return d},ir$6:function(a){a=a.getProperty("base");if(!a)return!1;a=a.getBooleanProperty("ignore");return null!=a&&a},ae$40:function(a,d,c,e,g){if(this.ir$6(c))return!1;c=c.getProperty("base");var f;c?(f=c.getStringProperty("label"),c=c.copy(),c.setStringProperty("label",null)):c=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;if(g)this.ml$23(d,a,c);else{g=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma");var h=0;d=d.getChildren().arrayIterator();
for(var l=d.length;h<l;++h){var m=d[h],p=c.combine(m.getA11y()),q=p.getBooleanProperty("ignore");null!=q&&q.valueOf()||(this.buildLabel(e,f,m,p,g),a.addChild(new b.com_ibm_vis_internal_accessibility_AccessibleNode(p,m.getId())))}}return!0},buildLabel:function(a,b,c,e,g){null==e.getStringProperty("label")&&(a?(a=this.gx$2(c),null==a&&null==b?(b=e.getLabelFromSummary(g),null!=b&&e.setStringProperty("label",b)):(b=null==b?a:null==a?b:this.be_10.makeLabel(a,b),e.setStringProperty("label",b))):(a=this.gx$2(c),
null!=a&&e.setStringProperty("label",a)))},ml$23:function(a,d,c){for(var e=c.getStringProperty("label"),g=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma"),f=new b.com_ibm_rave_codegenerator_util_LinkedMap,h=new b.com_ibm_rave_codegenerator_util_Map,l=0,m=a.getChildren().arrayIterator(),p=m.length;l<p;++l){var q=m[l],r=c.combine(q.getA11y());a=r.getBooleanProperty("ignore");if(!(null!=a&&a.valueOf()||null==q.getId())){var t=q.getId(),w=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getElementMemberKeyFromId(t);
null!=w&&(this.buildLabel(!0,e,q,r,g),a=f.get(w),a||(h.put(w,q),a=new b.com_ibm_rave_codegenerator_util_List,f.put(w,a)),a.add(new b.com_ibm_vis_internal_accessibility_AccessibleNode(r,t)))}}c=0;e=f.keySet().arrayIterator();for(h=e.length;c<h;++c)for(w=e[c],a=f.get(w),w=a.get(0),d.addChild(w),l=a.size()-1;0<l;--l)w.mergeLabel(a.get(l),g)}});b.com_ibm_vis_internal_accessibility_AtTreeBuilder.G0="G0";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder=b.com_ibm_init_declare({getTitleLabel:function(a){return null==
a?null:a+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma")+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE))},getAxisTitleLabel:function(a,d){var c=this.getAxisDimensionKey(a);return d+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma")+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(c)},
getAccessibleInfo:function(a){var d=a.getA11y();d||(d=new b.com_ibm_vis_internal_accessibility_AccessibleInfo,a.a11y=d);return d},makeLabel:function(a,d){return a+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma")+d},getGridlineBase:function(){return b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("gridLine")},getAxisLabel:function(){return b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("axisLabel")},getAxisBase:function(a){a=
b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a);a=this.getAxisDimensionKey(a);return b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(a)},getAxisDimensionKey:function(a){a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID(a,65);return null==a||0!=a?"x":"y"},getLabelFromValue:function(a,d,c){d=null==c?b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("noValue"):d.getFormattedStringValue(c,0,null);return null==a?d:d+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma")+
a},getElementGroupLabel:function(){return b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.toString(b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT))},getTextFromChild:function(a){var b=a.getChildren();if(b&&0<b.size())for(var c=0;c<b.size();++c){var e=a.getChild(c);if(e.getShape().getTextInfo())return e.getShape().getTextInfo().getText()}return a.getShape().getTextInfo().getText()},makeChordLabel:function(a,d,
c,e,g){var f=new b.com_ibm_rave_codegenerator_lang_StringBuilder;g&&(g=g.makeTooltip(e))&&(g=g.getRegularTooltip(),f.append(g));0<f.length()&&f.append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma"));e=e.getRows()[0];f.append(a.getFormattedValue(e)).append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("to")).append(d.getFormattedValue(e));c&&f.append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma")).append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("size")).append(c.getFormattedValue(e));
return f.toString()}});b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.ROWS="rows";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.TEXT="text";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.VALUE="value";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.Y="y";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.X="x";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.AXIS="axis";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.LEGEND="legend";
b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.GRIDLINE="gridLine";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.AXISLABEL="axisLabel";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.FACET="facet";b.com_ibm_vis_internal_accessibility_AccessibilityBuilder.GRAPH="graph";b.com_ibm_vis_internal_accessibility_AccessibleDomBuilder=function(){var a=function(a){this.id=a};a.prototype.getID=function(){return this.id};return b.com_ibm_init_declare({a11yClassName:"raveA11y",
pathInfo:"ravePathInfo",constructor:function(a,c){this.widget=a;this.comma=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma");this.comma=this.comma.concat(" ");this.onscreen=c;this.i18n=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization},buildDomTree:function(a){this.removA11yTree(a);this.onscreen&&this.addDescription(a);for(var c=(new b.com_ibm_vis_internal_accessibility_AtTreeBuilder).buildTree(this.widget.getSceneTree().getRoot()),e=c.size(),g=0;g<e;g++)this.addBranch(a,
c.get(g))},addDescription:function(a){var b=this.widget.getAriaLabel();ea.create("span",null,a).innerHTML=b},addBranch:function(a,b){var e=b.getChildren(),g=e.size();props=this.convertToPropertyObject(b);props.role=0==g?"treeitem":"group";var f=0==g?"li":"ul";if(0==g){var h=b.sceneId;h&&0==h.indexOf("D")&&(f="h2")}if(props["aria-label"]||0!=g){var l={},h=this.addLinkProperties(b,props,l),m=ea.create(f,props,a);h&&this.addLinkInfoToDom(m,l);this.addInnerHtml(m,b,l);m.sceneids=b.getSceneIds();this.onscreen||
(m.style.position="absolute",m.style.left="-3000px",m.style.top="-3000px",m.style.width="100px");f=b.getAccessible().getProperties();this.addProperty(f,"type",m,this.pathInfo);m.adb=this;h?(m.atLinks=h,m.onfocus=function(){this.adb.showSelectedWithLinks(m)}):m.onfocus=function(){this.adb.showSelected(m)};m.onblur=function(){this.adb.showSelected(null)};m._chartPath=function(){m.chartPath||(m.chartPath=this.adb._buildChartPath(m));return m.chartPath};m.chartLocation=function(){if(!m.chartLoc){var a=
m._chartPath();m.chartLoc=a+" "+(0<m.childElementCount?"":m["aria-label"])}return m.chartLoc};for(f=0;f<g;f++)h=e.get(f),this.addBranch(m,h)}},removA11yTree:function(a){for(var b=a.childNodes.length-1;-1<b;b--)if(a.childNodes[b].className==this.a11yClassName){var e=a.childNodes[b];ea.empty(e);a.removeChild(e)}},_buildChartPath:function(a){var b=a.parentElement,e=this._getParentPath(b);if(a[this.pathInfo])return e+" "+a[this.pathInfo];for(var g=b.childElementCount,f=0,h=0;h<g;h++)if(b.children[h]==
a){f=h+1;break}return e=e+" "+this.i18n.getString("item")+" "+f+this.i18n.getString("of")+g},_getParentPath:function(a){return a._chartPath?a._chartPath():""},showSelectedWithLinks:function(a){var b=this.widget.interactivity();this.linkHighlights||(b.addLinkHighlights(),this.linkHighlights=!0);b=b.makeHighlightState();if(null!=a){var e=this._convertToPseudoSceneItems(a.sceneids);b.setMultiple(e,0)}e=this._convertLinksToPseudoSceneItems(a.atLinks);b.setMultiple(e,87005);b.apply()},showSelected:function(a){var b=
this.widget.interactivity().makeHighlightState();null!=a&&(a=this._convertToPseudoSceneItems(a.sceneids),b.setMultiple(a,0));b.apply()},_convertToPseudoSceneItems:function(b){if(null!=b){for(var c=b.size(),e=[],g=0;g<c;++g)e[g]=new a(b.get(g));return e}},_convertLinksToPseudoSceneItems:function(b){if(null!=b){for(var c=b.size(),e=[],g=0;g<c;g++)e.push(new a(b.get(g).getId()));return e}},addLinkInfoToDom:function(a,b){b.raveFlowToDomIds&&(a.raveFlowToDomIds=b.raveFlowToDomIds,a.raveFlowToNames=b.raveFlowToNames);
b.raveFlowFromDomIds&&(a.raveFlowFromDomIds=b.raveFlowFromDomIds,a.raveFlowFromNames=b.raveFlowFromNames)},addLinkProperties:function(a,c,e){var g=a.getAtLinks();if(null!=g){this.flowTo||(this.flowTo=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("flowTo"));this.flowFrom||(this.flowFrom=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("flowFrom"));c.id=a.getAtTreeId();for(var f=[],h=[],l=[],m=[],p=null,q=null,r=g.size(),t=0;t<r;t++){var w=g.get(t),x=
w.getOther(a),y=w.getDescriptionForLabel(a),x=x.getAtTreeId();w.isFrom(a)?(f.push(x),p=null==p?y:p+" "+y,h.push(y)):(l.push(x),q=null==q?y:q+" "+y,m.push(y))}p&&(e.raveFlowTo=p,e.raveFlowToDomIds=f,e.raveFlowToNames=h,c["aria-label"]=c["aria-label"]+this.flowTo+p);q&&(e.raveFlowFrom=q,e.raveFlowFromDomIds=l,e.raveFlowFromNames=m,c["aria-label"]=c["aria-label"]+this.flowFrom+q);return g}},convertToPropertyObject:function(a){if(null==a)return null;var c={};a=a.getAccessible();var e=a.getProperties(),
g=this.addProperty(e,"label",c,"aria-label");this.addProperty(e,"role",c,"role");this.addProperty(e,"hint",c,"aria-hint");var f=a.getProperty("fieldSummary");null!=f&&null==g&&(c["aria-label"]=f);null!=f&&(c.data=f);e=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(e);for(g=0;g<e.length;g++)f=e[g],b.com_ibm_vis_internal_accessibility_AccessibleInfo.isBooleanProperty(f)&&(c[f]=a.getBooleanProperty(f));c["class"]=this.a11yClassName;c.focusable=!0;return c},getFlowToMsg:function(){this.flowToMsg||
(this.flowToMsg=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("flowRelationsMsg"));return this.flowToMsg},getForString:function(){this.forString||(this.forString=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("for"));return this.forString},addInnerHtml:function(a,b,e){b=b.getAccessible();var g=b.getProperty("label");null==g&&(g=b.getProperty("fieldSummary"));a["aria-label"]=g;e.raveFlowTo&&(g=g+" at flow to "+e.raveFlowTo);e.raveFlowFrom&&(g=g+" at flow from "+
e.raveFlowFrom);a.innerHTML=g},addProperty:function(a,b,e,g){a=a.get(b);null!=a&&(e[g]=a);return a}})}();b.com_ibm_vis_interaction_AccessibleTreeNavigation=b.com_ibm_init_declare({constructor:function(a,d){this.widget=a;this.selectedNode=a.domNode;this.domBuilder=new b.com_ibm_vis_internal_accessibility_AccessibleDomBuilder(a,d);a.addListener("VisualizationReadyEvent",this)},reset:function(){this.selectedNode=this.widget.domNode;this.domBuilder.buildDomTree(this.widget.domNode,!0);this.selectedNode.setAttribute("tabindex",
0)},update:function(){this.reset()},move:function(a){var b=null;switch(a.keyCode){case Z.LEFT_ARROW:h.stop(a);this.selectedNode!=this.widget.domNode&&(b=this.selectedNode.parentElement);break;case Z.RIGHT_ARROW:h.stop(a);this.selectedNode.hasChildNodes()&&(b=this.selectedNode.firstElementChild)&&"raveA11y"!=b.className&&(b=b.nextElementSibling);break;case Z.UP_ARROW:h.stop(a);b=this.selectedNode.previousElementSibling;null==b&&this.selectedNode!=this.widget.domNode&&(b=this.selectedNode.parentElement);
break;case Z.DOWN_ARROW:h.stop(a);b=this.selectedNode.nextElementSibling;null==b&&this.selectedNode!=this.widget.domNode&&(b=this.selectedNode.parentElement);for(var c=0;b&&"raveA11y"!=b.className&&!(10<c);)b=b.nextElementSibling,c++;break;case Z.HOME:h.stop(a);b=this.selectedNode.parentElement;(b=b.firstElementChild)&&"raveA11y"!=b.className&&(b=b.nextElementSibling);break;case Z.END:h.stop(a);b=this.selectedNode.parentElement;b=b.lastElementChild;break;case Z.PAGE_DOWN:h.stop(a);for(var c=this.selectedNode.nextElementSibling,
e=0;20>e&&null!=c;e++)b=c,c=b.nextElementSibling;break;case Z.PAGE_UP:h.stop(a);c=this.selectedNode.previousElementSibling;for(e=0;20>e&&null!=c;e++)b=c,c=b.previousElementSibling;break;case 61:case 187:h.stop(a),b=this._linkMove(!a.shiftKey)}if(null!=b)return this.selectedNode.setAttribute("tabindex",-1),this.selectedNode=b,b.setAttribute("tabindex",0),b.focus(),this.selectedNode;switch(a.charOrCode){case "+":h.stop(a);b=this._linkMove(!1);null==b&&this.selectedNode.hasChildNodes()&&(b=this.selectedNode.firstElementChild)&&
"raveA11y"!=b.className&&(b=b.nextElementSibling);break;case "-":h.stop(a);this.selectedNode!=this.widget.domNode&&(b=this.selectedNode.parentElement);break;case "\x3d":h.stop(a),b=this._linkMove(!a.shiftKey)}null!=b&&(this.selectedNode.setAttribute("tabindex",-1),this.selectedNode=b,b.setAttribute("tabindex",0),b.focus());return this.selectedNode},_linkMove:function(a){if(this.selectedNode)if(a){if(a=this.selectedNode.raveFlowToDomIds)return 1==a.length?(a=a[0],document.getElementById(a)):this._getLinkChoice(this.selectedNode.raveFlowToNames,
a)}else if(a=this.selectedNode.raveFlowFromDomIds)return 1==a.length?(a=a[0],document.getElementById(a)):this._getLinkChoice(this.selectedNode.raveFlowFromNames,a)},_getLinkChoice:function(a,b){var c=this._getUserChoice(a);return document.getElementById(b[c])},_getUserChoice:function(a){for(var b="Flow to Relations, please enter",c=0;c<a.length;c++)b=b+"\n"+(c+1)+" for "+a[c];return(a=prompt(b))?a-1:0}});b.com_ibm_vis_internal_accessibility_AccessibleNode=b.com_ibm_init_declare({constructor:function(a,
d){this.info=a?a:new b.com_ibm_vis_internal_accessibility_AccessibleInfo;this.ce_45=new b.com_ibm_rave_codegenerator_util_List;this.sI_5=d},getAtTreeId:function(){null==this.tI_1&&(this.tI_1="raveA11y_"+b.com_ibm_vis_internal_accessibility_AccessibleNode.ue_11++);return this.tI_1},getAccessible:function(){return this.info},setAccessible:function(a){this.info=a},getChildren:function(){return this.ce_45},addChild:function(a){this.ce_45.add(a)},setSceneId:function(a){this.sI_5=a},addLink:function(a){this.lk_5||
(this.lk_5=new b.com_ibm_rave_codegenerator_util_List);this.lk_5.add(a)},getAtLinks:function(){return this.lk_5},getSceneIds:function(){var a=new b.com_ibm_rave_codegenerator_util_List;null!=this.sI_5&&a.add(this.sI_5);for(var d=0,c=this.ce_45.arrayIterator(),e=c.length;d<e;++d)a.addAll(c[d].getSceneIds());this.ld_1&&a.addAll(this.ld_1);return a},getSceneId:function(){return this.sI_5},mergeLabel:function(a,d){this.ld_1||(this.ld_1=new b.com_ibm_rave_codegenerator_util_List);this.ld_1.add(a.getSceneId());
var c=a.info.getStringProperty("label");if(null!=c){this.info.setStringProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL,c);var e=this.info.getStringProperty("label");null==e&&(e=this.info.getLabelFromSummary(d));this.info.setStringProperty("label",null==e?c:c+d+e)}},getLinkLabel:function(){var a=this.info.getStringProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SIMPLE_LABEL);return null==a?this.info.getStringProperty("label"):a}});b.com_ibm_vis_internal_accessibility_AccessibleNode.ue_11=
0;b.com_ibm_vis_internal_accessibility_AccessibleNode.IS_1="raveA11y_";b.com_ibm_vis_internal_accessibility_AtLink=b.com_ibm_init_declare({constructor:function(a,b,c,e){this.fromNode=a;this.toNode=b;this.sceneId=c;this.ld_2=e},getLink:function(){return this.ld_2},isFrom:function(a){return this.fromNode==a},isTo:function(a){return this.toNode==a},getId:function(){return this.sceneId},getDescriptionForLabel:function(a){a=this.getOther(a).getLinkLabel();this.ld_2&&(a=a+" ( "+this.ld_2.getLinkLabel()+
" )");return a},getOther:function(a){return this.isFrom(a)?this.toNode:this.isTo(a)?this.fromNode:null}});b.com_ibm_vis_interaction_internal_navigation_FeatureType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT=new b.com_ibm_vis_interaction_internal_navigation_FeatureType("ELEMENT");b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS=new b.com_ibm_vis_interaction_internal_navigation_FeatureType("AXIS");
b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND=new b.com_ibm_vis_interaction_internal_navigation_FeatureType("LEGEND");b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE=new b.com_ibm_vis_interaction_internal_navigation_FeatureType("GRIDLINE");b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET=new b.com_ibm_vis_interaction_internal_navigation_FeatureType("FACET");b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE=new b.com_ibm_vis_interaction_internal_navigation_FeatureType("TITLE");
b.com_ibm_vis_interaction_internal_navigation_FeatureType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_internal_navigation_FeatureType)};b.com_ibm_vis_interaction_internal_navigation_FeaturePart=b.com_ibm_init_declare({constructor:function(a,b){this.id=a;this.ao_5=b},getId:function(){return this.id},setNext:function(a){this.next=a},setPrevious:function(a){this.pu_3=a},setListX:function(a){(this.st_24=a)&&a.add(this)},setListY:function(a){(this.st_25=
a)&&a.add(this)},getListX:function(){return this.st_24},getListY:function(){return this.st_25},getAnchor:function(){return this.ao_5},changePart:function(a){var d=this;a==b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT?d=this.next?this.next:this:a==b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS&&(d=this.pu_3?this.pu_3:this);return d},toggleSelectedLink:function(){return this}});b.com_ibm_vis_interaction_navigation_FeatureShift=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,
{});b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT=new b.com_ibm_vis_interaction_navigation_FeatureShift("NEXT");b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS=new b.com_ibm_vis_interaction_navigation_FeatureShift("PREVIOUS");b.com_ibm_vis_interaction_navigation_FeatureShift.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_navigation_FeatureShift)};b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,
{isX:!1,constructor:function(a){this.isX=a},compare:function(a,b){var c=a.getAnchor(),e=b.getAnchor(),c=this.isX?c.x-e.x:c.y-e.y;return 1>c&&0<c?1:Math.floor(c)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X=new b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator(!0);b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y=new b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator(!1)});b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation=
b.com_ibm_init_declare({skipEquals:!1,constructor:function(a,b){this.featurePartsMap=a;this.info=b;this.skipEquals=!0},firstItem:function(a){var b=this.featurePartsMap.get(a);return b?b.getListX().get(0).id:a},lastItem:function(a){var b=this.featurePartsMap.get(a);if(!b)return a;a=b.getListX();b=a.size();return a.get(b-1).id},nextLesserX:function(a,d){var c=this.featurePartsMap.get(a);if(!c)return a;c=this.lr$1(d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY?this.info.hh_9:this.info.nh_3,
d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY,c);if(this.info.wp_1&&c.id==a)var c=c.getListX(),e=c.size()-1,c=c.get(e);return c.id},nextLesserY:function(a,d){var c=this.featurePartsMap.get(a);if(!c)return a;c=this.lr$2(d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY?this.info.hh_9:this.info.nh_3,d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY,c);if(this.info.wp_2&&c.id==a)var c=c.getListY(),e=c.size()-1,c=c.get(e);return c.id},nextGreaterX:function(a,d){var c=this.featurePartsMap.get(a);
if(!c)return a;c=this.gr$17(d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY?this.info.hh_9:this.info.nh_3,d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY,c);this.info.wp_1&&c.id==a&&(c=c.getListX().get(0));return c.id},nextGreaterY:function(a,d){var c=this.featurePartsMap.get(a);if(!c)return a;c=this.gr$16(d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY?this.info.hh_9:this.info.nh_3,d==b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY,c);this.info.wp_2&&c.id==a&&(c=
c.getListY().get(0));return c.id},gr$16:function(a,d,c){var e=c.getListY(),g=e.indexOf(c),f=e.size(),h=c,l=c.getAnchor().y;c=c.getAnchor().x;for(var m=b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation.BC_1,g=g+1;g<f;++g){var p=e.get(g),q=p.getAnchor().y;if(!(l>q||this.skipEquals&&l==q)){q-=l;q*=q;if(q>m)break;var r=p.getAnchor().x-c,r=r*r;d&&q<r||(q=a*r+q,q<m&&(h=p,m=q))}}return h},gr$17:function(a,d,c){for(var e=c.getListX(),g=e.indexOf(c),f=e.size(),h=c,l=c.getAnchor().x,m=b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation.BC_1,
g=g+1;g<f;++g){var p=e.get(g),q=p.getAnchor().x;if(!(l>q||this.skipEquals&&l==q)){q-=l;q*=q;if(q>m)break;var r=p.getAnchor().y-c.getAnchor().y,r=r*r;d&&r>q||(q+=a*r,q<m&&(h=p,m=q))}}return h},rs$6:function(a){for(var b=0;b<a.size();++b)a.get(b).id.CPVISEngineStartsWith("_")&&a.removeAt(b);return a},lr$1:function(a,d,c){var e=this.rs$6(c.getListX()),g=e.indexOf(c),f=c,h=c.getAnchor().x;c=c.getAnchor().y;for(var l=b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation.BC_1,g=g-1;-1<g;--g){var m=
e.get(g),p=m.getAnchor().x;if(!(h<p||this.skipEquals&&h==p)){p-=h;p*=p;if(p>l)break;var q=m.getAnchor().y-c,q=q*q;d&&q>p||(p+=a*q,p<l&&(f=m,l=p))}}return f},lr$2:function(a,d,c){var e=this.rs$6(c.getListY()),g=e.indexOf(c),f=c,h=c.getAnchor().y;c=c.getAnchor().x;for(var l=b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation.BC_1,g=g-1;-1<g;--g){var m=e.get(g),p=m.getAnchor().y;if(!(h<=p||this.skipEquals&&h==p)){p-=h;p*=p;if(p>l)break;var q=m.getAnchor().x-c,q=q*q;d&&p<q||(p=a*q+p,p<
l&&(f=m,l=p))}}return f},setSkipEquals:function(a){this.skipEquals=a}});b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation.BC_1=9E8;b.com_ibm_vis_interaction_internal_navigation_GraphNavigation=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation,{ip_2:!1,constructor:function(a,b,c){this.pI_2=c;this.ip_2=2>a.size()},setStartingFeatureMap:function(a){this.sa_8=a},isSingleGraph:function(){return this.ip_2},getKeys:function(){return this.featurePartsMap.keySet()},
firstGraphFeature:function(){return this.sa_8.get(this.pI_2).bI_3},removeNonNavigableGrammars:function(a){if(!this.ip_2){var d=a.splitByGraph(),c=new b.com_ibm_rave_codegenerator_util_List;a=new b.com_ibm_rave_codegenerator_util_List;for(var e=0,g=this.featurePartsMap.keySet().arrayIterator(),f=g.length;e<f;++e){var h=g[e],l=this.featurePartsMap.get(h);d.get(h)?a.add(h):(c.add(h),l.getListX().remove(l),l.getListY().remove(l))}if(!c.isEmpty()){d=0;c=c.arrayIterator();for(e=c.length;d<e;++d)h=c[d],
this.featurePartsMap.remove(h);a=this.featurePartsMap.get(a.get(0));h=a.getListX();b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(h,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a.getListY(),b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);this.pI_2=h.get(0).id}}},moveGraph:function(a,d,c,e){if(this.ip_2||!c)return d;var g=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(d),
f;c==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X?f=this.nextGreaterX(g,e):c==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X?f=this.nextLesserX(g,e):c==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_Y?f=this.nextLesserY(g,e):c==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_Y&&(f=this.nextGreaterY(g,e));if(f==g)return d;this.pI_2=f;a&&this.sa_8.put(g,a);return this.sa_8.get(f).bI_3}});b.com_ibm_vis_interaction_internal_navigation_SceneHelper=
b.com_ibm_init_declare({constructor:function(a){this.vis=a},getElementsSpec:function(a){var d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(a),d=b.com_ibm_rave_codegenerator_lang_Integer.parseInt(d.substring(1)),d=this.vis.ga_5[d];a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID(a,69);return d.elements[a].spec},getField:function(a){a=this.vis.getByID(a);return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_data_Field)?a:null},pa$6:function(a,
d,c){var e=0;a=a.getChildren().arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];if(f.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)this.pa$6(f,d,c);else{var h=f.getId();b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol(h)&&(f=f.getShape().getRows(),d.put(c.getRowValue(f[0]),h))}}},makeDataIdMap:function(a,d){var c=this.gl$19(d),e=new b.com_ibm_rave_codegenerator_util_NumericMap;this.pa$6(a,e,c);return e},gl$19:function(a){var b=this.getElementsSpec(a);
if(a=b.positioning)return this.getField(a.id.$ref);if(!b.position)return null;a=0;for(var b=b.position,c=b.length;a<c;++a){var e=b[a];if(e.field)return this.getField(e.field.$ref)}return null},getToField:function(a){return(a=this.getElementsSpec(a))&&a.positioning&&a.positioning.to?this.getField(a.positioning.to.$ref):null},getFromField:function(a){return(a=this.getElementsSpec(a))&&a.positioning&&a.positioning.from?this.getField(a.positioning.from.$ref):null},getSizeField:function(a){a=this.getElementsSpec(a).positioning.size;
return null!=a&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_FieldRefSpec)?this.getField(a.$ref):null},getTooltipProducer:function(a,d){var c=this.getElementsSpec(a);return c.tooltip?new b.com_ibm_vis_engine_internal_grammar_label_TooltipProducer(d.data,this.vis,null,c.tooltip[0]):null}});b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType=function(a){return a?b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureTypeFromTypeString(a.getType()):
null};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureTypeFromTypeString=function(a){if(!a)return null;switch(a){case b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT:return b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT;case b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_BACK:return b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE;case b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET:return b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET;
case b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND:return b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND;case b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE:return b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE;default:return b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil.isAxis(a)?b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS:null}};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.makeGraphNavigationAndCoordinateMap=
function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_Map,f,h=new b.com_ibm_rave_codegenerator_util_List,l=new b.com_ibm_rave_codegenerator_util_List,m=0;a=a.getChildren().arrayIterator();for(var p=a.length;m<p;++m){var q=a[m],r=q.getClassId(),t=q.getId();r==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES?b.com_ibm_vis_interaction_internal_navigation_SceneHelper.aa$12(d,q):b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET==q.getType()?b.com_ibm_vis_interaction_internal_navigation_SceneHelper.ad$11(q,
d):c&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId(t)&&(r=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(t),null!=r&&(q=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenter(q),q=new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(r,q),q.setListX(h),q.setListY(l),g.put(r,q),null==f&&(f=r)))}var w;c&&(b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(h,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X),b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(l,
b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y),w=new b.com_ibm_vis_interaction_internal_navigation_GraphNavigation(g,e.createCopy("G",!1),f));return w};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenter=function(a){return(a=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getBounds(a))?a.getCenter():null};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getBounds=function(a){var b=a.getShape();if(!b)return null;b=b.getNodeBounds();a=a.getTransform();
b&&a&&a.getAffine()&&(b=a.getAffine().transformBoundingBox(b));return b};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenterFromNodeOrChildren=function(a){var d=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenter(a);return d?d:b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenterFromChildren(a)};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenterFromChildren=function(a){var d,c=0;a=a.getChildren().arrayIterator();for(var e=a.length;c<e;++c){var g=
b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getBounds(a[c]);d?g&&(d=d.copy(),d.extendToRect(g)):d=g}return d?d.getCenter():null};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.aa$12=function(a,d){var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getCoordinateKey(d.getId());a.put(c,d)};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.ad$11=function(a,d){var c=a.getChildren();if(c)for(var e=0,c=c.arrayIterator(),g=c.length;e<g;++e){var f=c[e];b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.COORDINATES==
f.getClassId()?b.com_ibm_vis_interaction_internal_navigation_SceneHelper.aa$12(d,f):b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET==f.getType()&&b.com_ibm_vis_interaction_internal_navigation_SceneHelper.ad$11(f,d)}};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol=function(a){return null!=a&&-1<a.indexOf("S")&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isHighlightShape(a)};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementLabel=function(a){return null!=
a&&-1<a.indexOf("L")&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLabelPlaque(a)&&!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLeaderLine(a)};b.com_ibm_vis_interaction_internal_navigation_SceneHelper.ELEMENT_TYPE="elementType";b.com_ibm_vis_interaction_internal_navigation_SceneHelper.TITLE="Title";b.com_ibm_vis_interaction_internal_navigation_SceneHelper.T="T";b.com_ibm_vis_interaction_internal_navigation_SceneHelper.S="S";b.com_ibm_vis_interaction_navigation_MoveWeight=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,
{});b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL=new b.com_ibm_vis_interaction_navigation_MoveWeight("NORMAL");b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY=new b.com_ibm_vis_interaction_navigation_MoveWeight("HEAVY");b.com_ibm_vis_interaction_navigation_MoveWeight.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_navigation_MoveWeight)};b.com_ibm_vis_interaction_navigation_NavigationDirection=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,
{});b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X=new b.com_ibm_vis_interaction_navigation_NavigationDirection("GREATER_X");b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_Y=new b.com_ibm_vis_interaction_navigation_NavigationDirection("GREATER_Y");b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X=new b.com_ibm_vis_interaction_navigation_NavigationDirection("LESSER_X");b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_Y=new b.com_ibm_vis_interaction_navigation_NavigationDirection("LESSER_Y");
b.com_ibm_vis_interaction_navigation_NavigationDirection.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_navigation_NavigationDirection)};b.com_ibm_vis_interaction_navigation_NavigationLevel=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR=new b.com_ibm_vis_interaction_navigation_NavigationLevel("INTERIOR");b.com_ibm_vis_interaction_navigation_NavigationLevel.FACET=new b.com_ibm_vis_interaction_navigation_NavigationLevel("FACET");
b.com_ibm_vis_interaction_navigation_NavigationLevel.GRAPH=new b.com_ibm_vis_interaction_navigation_NavigationLevel("GRAPH");b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK=new b.com_ibm_vis_interaction_navigation_NavigationLevel("LINK");b.com_ibm_vis_interaction_navigation_NavigationLevel.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_interaction_navigation_NavigationLevel)};b.com_ibm_vis_interaction_KeyboardNavigation=b.com_ibm_init_declare({constructor:function(a){this.visControl=
a;this.selectedDomNode=a.domNode;a.addListener("VisualizationReadyEvent",this)},_getDomBuilder:function(){this._domBuilder||(this._domBuilder=new b.com_ibm_vis_internal_accessibility_AccessibleDomBuilder(this.visControl,!1));return this._domBuilder},_getNavigation:function(){this._navigation||(this._navigation=this.visControl.getInteractivity().getNavigation(),this._navigation.setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR));return this._navigation},_isAtEnabled:function(){return this.visControl.getGenerateAccessibility()},
reset:function(){this._isAtEnabled()?(this.selectedDomNode=this.visControl.domNode,this._getDomBuilder().buildDomTree(this.visControl.domNode,!1),this.selectedDomNode.setAttribute("tabindex",0)):(this._hasA11yTree(this.visControl.domNode)&&this._getDomBuilder().removA11yTree(this.visControl.domNode),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR))},update:function(){this.reset()},move:function(a){return this._isAtEnabled()?this._moveAt(a):this._navigationMove(a)},
setSelected:function(a){return a&&a.id&&!this._isAtEnabled()?this._getNavigation().setSelected(a):!1},_moveAt:function(a){var b=null;switch(a.keyCode){case Z.LEFT_ARROW:case 37:h.stop(a);this.selectedDomNode!=this.visControl.domNode&&(b=this.selectedDomNode.parentElement);break;case Z.RIGHT_ARROW:case 39:h.stop(a);this.selectedDomNode.hasChildNodes()&&(b=this.selectedDomNode.firstElementChild)&&"raveA11y"!=b.className&&this.selectedDomNode==this.visControl.domNode&&(b=this._findFirstRaveA11yChild());
break;case Z.UP_ARROW:case 38:h.stop(a);b=this.selectedDomNode.previousElementSibling;break;case Z.DOWN_ARROW:case 40:h.stop(a);b=this.selectedDomNode==this.visControl.domNode?this._findFirstRaveA11yChild():this.selectedDomNode.nextElementSibling;break;case Z.HOME:case 36:h.stop(a);b=this.selectedDomNode.parentElement;(b=b.firstElementChild)&&"raveA11y"!=b.className&&(b=b.nextElementSibling);break;case Z.END:case 35:h.stop(a);b=this.selectedDomNode.parentElement;b=b.lastElementChild;break;case Z.PAGE_DOWN:case 34:h.stop(a);
for(var c=this.selectedDomNode.nextElementSibling,e=0;20>e&&null!=c;e++)b=c,c=b.nextElementSibling;break;case Z.PAGE_UP:case 33:h.stop(a);c=this.selectedDomNode.previousElementSibling;for(e=0;20>e&&null!=c;e++)b=c,c=b.previousElementSibling;break;case 61:case 187:h.stop(a);b=this._linkMove(!a.shiftKey);break;case 49:return h.stop(a),this._getPathAsTooltip()}if(null!=b)return this.selectedDomNode.setAttribute("tabindex",-1),this.selectedDomNode=b,b.setAttribute("tabindex",0),b.focus(),this.selectedDomNode;
switch(a.charOrCode){case "+":h.stop(a);b=this._linkMove(!1);null==b&&this.selectedDomNode.hasChildNodes()&&(b=this.selectedDomNode.firstElementChild)&&"raveA11y"!=b.className&&(b=b.nextElementSibling);break;case "-":h.stop(a);this.selectedDomNode!=this.visControl.domNode&&(b=this.selectedDomNode.parentElement);break;case "\x3d":h.stop(a);b=this._linkMove(!a.shiftKey);break;case "1":return h.stop(a),this._getPathAsTooltip()}null!=b&&(this.selectedDomNode.setAttribute("tabindex",-1),this.selectedDomNode=
b,b.setAttribute("tabindex",0),b.focus());return this.selectedDomNode},_getPathAsTooltip:function(){if(this.selectedDomNode&&this.selectedDomNode.chartLocation){var a={};a.tt=this.selectedDomNode.chartLocation();a.tooltipText=function(){return a.tt};return a}return null},_navigationMove:function(a){var d=null;switch(a.keyCode){case Z.SPACE:case 32:h.stop(a);d=a.shiftKey?b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS:b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT;d=this._getNavigation().moveFeaturePart(d);
break;case Z.HOME:case 36:h.stop(a);d=this._getNavigation().firstItem();break;case Z.END:case 35:h.stop(a);d=this._getNavigation().lastItem();break;case Z.LEFT_ARROW:case 37:h.stop(a);d=a.shiftKey?b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY:b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL;d=this._getNavigation().move(b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X,d);break;case Z.RIGHT_ARROW:case 39:h.stop(a);d=a.shiftKey?b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY:
b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL;d=this._getNavigation().move(b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X,d);break;case Z.UP_ARROW:case 38:h.stop(a);d=a.shiftKey?b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY:b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL;d=this._getNavigation().move(b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_Y,d);break;case Z.DOWN_ARROW:case 40:h.stop(a);d=a.shiftKey?b.com_ibm_vis_interaction_navigation_MoveWeight.HEAVY:
b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL;d=this._getNavigation().move(b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_Y,d);break;case Z.ENTER:case 13:h.stop(a);d=this.navigation.move(null,null);this.showPopup(d);break;case Z.ESCAPE:case 27:h.stop(a);this.hidePopup();break;case 49:h.stop(a);d=this._getNavigation().nextFeature(b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT);break;case 50:h.stop(a);d=this._getNavigation().nextFeature(b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS);
break;case 51:h.stop(a);d=this._getNavigation().back();break;case 73:return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR);case 71:return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.GRAPH);case 70:return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.FACET);case 76:return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK);
case 52:return h.stop(a),this._getNavigation().linkSelectTarget();case 53:return h.stop(a),this._getNavigation().linkShift(b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT,b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL);case 54:return h.stop(a),this._getNavigation().linkShift(b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS,b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL);case 55:return h.stop(a),this._getNavigation().linkToggleTarget()}if(d||a.shiftKey||a.ctrlKey)return d;
switch(a.charOrCode){case " ":h.stop(a);d=a.shiftKey?b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS:b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT;d=this._getNavigation().moveFeaturePart(d);break;case "1":h.stop(a);d=this._getNavigation().nextFeature(b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT);break;case "2":h.stop(a);d=this._getNavigation().nextFeature(b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS);break;case "3":h.stop(a);d=this._getNavigation().back();
break;case "i":return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR);case "g":return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.GRAPH);case "f":return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.FACET);case "l":return h.stop(a),this._getNavigation().setMoveLevel(b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK);case "4":return h.stop(a),
this._getNavigation().linkSelectTarget();case "5":return h.stop(a),this._getNavigation().linkShift(b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT,b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL);case "6":return h.stop(a),this._getNavigation().linkShift(b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS,b.com_ibm_vis_interaction_navigation_MoveWeight.NORMAL);case "7":return h.stop(a),this._getNavigation().linkToggleTarget()}return d},_findFirstRaveA11yChild:function(){for(var a=
this.visControl.domNode,b=a.childNodes.length,c=0;c<b;c++)if("raveA11y"==a.childNodes[c].className)return a.childNodes[c]},_linkMove:function(a){if(this.selectedDomNode)if(a){if(a=this.selectedDomNode.raveFlowToDomIds)return 1==a.length?(a=a[0],document.getElementById(a)):this._getLinkChoice(this.selectedDomNode.raveFlowToNames,a)}else if(a=this.selectedDomNode.raveFlowFromDomIds)return 1==a.length?(a=a[0],document.getElementById(a)):this._getLinkChoice(this.selectedDomNode.raveFlowFromNames,a)},
_getLinkChoice:function(a,b){var c=this._getUserChoice(a);return document.getElementById(b[c])},_getUserChoice:function(a){for(var b=this._domBuilder.getFlowToMsg(),c=this._domBuilder.getForString(),e=0;e<a.length;e++)b=b+"\n"+(e+1)+c+a[e];return(a=prompt(b))?a-1:0},_hasA11yTree:function(a){for(var b=a.childNodes.length-1;-1<b;b--)if("raveA11y"==a.childNodes[b].className)return!0;return!1},setSpecProvider:function(a){this.specProvider=a},showPopup:function(a){if(this.specProvider&&this.specProvider.getSpec()){var b=
this.specProvider.getSpec();this.popup=this.visControl.getInteractivity().getPopup();this.popup.showPopup(b,a,null)}},hidePopup:function(){this.popup&&this.popup.hidePopup()},setAnnounce:function(a){this.announceNodeValue=a},announceSelection:function(a){},selectOnEvent:function(a){}});b.com_ibm_vis_internal_accessibility_AccessibilityInfo=b.com_ibm_init_declare({getRole:function(a){var d="button";switch(a){case b.com_ibm_vis_internal_accessibility_ControlAction.CLOSE_POPUP:case b.com_ibm_vis_internal_accessibility_ControlAction.OPEN_POPUP:d=
"button";break;case b.com_ibm_vis_internal_accessibility_ControlAction.TREE_CONTROL_COLLAPSE:case b.com_ibm_vis_internal_accessibility_ControlAction.TREE_CONTROL_EXPAND:d="treeitem";break;case b.com_ibm_vis_internal_accessibility_ControlAction.TOOLTIP:d="tooltip";break;case b.com_ibm_vis_internal_accessibility_ControlAction.TARGET_ROLE_TITLE:d="title"}return d},getHint:function(a){var d;switch(a){case b.com_ibm_vis_internal_accessibility_ControlAction.CLOSE_POPUP:d=b.com_ibm_vis_internal_accessibility_AccessibilityInfo.CE_8;
break;case b.com_ibm_vis_internal_accessibility_ControlAction.OPEN_POPUP:d=b.com_ibm_vis_internal_accessibility_AccessibilityInfo.OE_1;break;case b.com_ibm_vis_internal_accessibility_ControlAction.TREE_CONTROL_COLLAPSE:d=b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_8;break;case b.com_ibm_vis_internal_accessibility_ControlAction.TREE_CONTROL_EXPAND:d=b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_9;break;case b.com_ibm_vis_internal_accessibility_ControlAction.TOOLTIP:d=b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_7;
break;case b.com_ibm_vis_internal_accessibility_ControlAction.NODE_DRAG:d="dragHint"}return null==d?null:b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(d)},getLabelBase:function(a,d){var c;switch(a){case b.com_ibm_vis_internal_accessibility_Target.AXIS_LABEL:c=null==d||0!=d?"x":"y";break;case b.com_ibm_vis_internal_accessibility_Target.AXIS_TITLE:return c=null==d||0!=d?"x":"y",this.sm$3(),b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(c)+this.cm_3+
b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("title");case b.com_ibm_vis_internal_accessibility_Target.ELEMENT:case b.com_ibm_vis_internal_accessibility_Target.ELEMENT_LABEL:c="element";break;case b.com_ibm_vis_internal_accessibility_Target.GRID_LINE:c="gridLine";break;case b.com_ibm_vis_internal_accessibility_Target.LEGEND_ENTRY:c=b.com_ibm_vis_internal_accessibility_AccessibilityInfo.LE_5;break;case b.com_ibm_vis_internal_accessibility_Target.LEGEND_TITLE:c="legend";break;
case b.com_ibm_vis_internal_accessibility_Target.TITLE:c="title"}return null==c?null:b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(c)},sm$3:function(){null==this.cm_3&&(this.cm_3=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma"))}});b.com_ibm_vis_internal_accessibility_AccessibilityInfo.BO_2="button";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TI_4="tooltip";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_10="treeitem";
b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TL_7="title";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.OE_1="openPopupHint";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.CE_8="closePopupHint";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_8="treeCollapseHint";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_9="treeExpandHint";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_7="tooltipHint";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.DE_7=
"dragHint";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.YE_2="y";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.XE_2="x";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.LE_6="legend";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.LE_5="legendEntry";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.GE_3="gridLine";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.TE_6="title";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.EE_3="element";b.com_ibm_vis_internal_accessibility_AccessibilityInfo.CM_2=
"comma";b.com_ibm_vis_engine_internal_nativeImpl_AccessibilityInfoImpl=b.com_ibm_init_declare(b.com_ibm_vis_internal_accessibility_AccessibilityInfo,{});b.com_ibm_vis_internal_accessibility_ControlAction=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_internal_accessibility_ControlAction.TREE_CONTROL_EXPAND=new b.com_ibm_vis_internal_accessibility_ControlAction("TREE_CONTROL_EXPAND");b.com_ibm_vis_internal_accessibility_ControlAction.TREE_CONTROL_COLLAPSE=new b.com_ibm_vis_internal_accessibility_ControlAction("TREE_CONTROL_COLLAPSE");
b.com_ibm_vis_internal_accessibility_ControlAction.NODE_DRAG=new b.com_ibm_vis_internal_accessibility_ControlAction("NODE_DRAG");b.com_ibm_vis_internal_accessibility_ControlAction.OPEN_POPUP=new b.com_ibm_vis_internal_accessibility_ControlAction("OPEN_POPUP");b.com_ibm_vis_internal_accessibility_ControlAction.CLOSE_POPUP=new b.com_ibm_vis_internal_accessibility_ControlAction("CLOSE_POPUP");b.com_ibm_vis_internal_accessibility_ControlAction.TOOLTIP=new b.com_ibm_vis_internal_accessibility_ControlAction("TOOLTIP");
b.com_ibm_vis_internal_accessibility_ControlAction.TARGET_ROLE_TITLE=new b.com_ibm_vis_internal_accessibility_ControlAction("TARGET_ROLE_TITLE");b.com_ibm_vis_internal_accessibility_ControlAction.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_internal_accessibility_ControlAction)};b.com_ibm_vis_internal_accessibility_Target=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_internal_accessibility_Target.TITLE=new b.com_ibm_vis_internal_accessibility_Target("TITLE");
b.com_ibm_vis_internal_accessibility_Target.AXIS_TITLE=new b.com_ibm_vis_internal_accessibility_Target("AXIS_TITLE");b.com_ibm_vis_internal_accessibility_Target.AXIS_LABEL=new b.com_ibm_vis_internal_accessibility_Target("AXIS_LABEL");b.com_ibm_vis_internal_accessibility_Target.LEGEND_TITLE=new b.com_ibm_vis_internal_accessibility_Target("LEGEND_TITLE");b.com_ibm_vis_internal_accessibility_Target.LEGEND_ENTRY=new b.com_ibm_vis_internal_accessibility_Target("LEGEND_ENTRY");b.com_ibm_vis_internal_accessibility_Target.ELEMENT=
new b.com_ibm_vis_internal_accessibility_Target("ELEMENT");b.com_ibm_vis_internal_accessibility_Target.ELEMENT_LABEL=new b.com_ibm_vis_internal_accessibility_Target("ELEMENT_LABEL");b.com_ibm_vis_internal_accessibility_Target.GRID_LINE=new b.com_ibm_vis_internal_accessibility_Target("GRID_LINE");b.com_ibm_vis_internal_accessibility_Target.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_internal_accessibility_Target)};b.com_ibm_vis_internal_accessibility_AccessibilitySceneModifier=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_scenemodifier_SceneModifier,{constructor:function(a){this.vis=a;this.be_9=new b.com_ibm_vis_internal_accessibility_AccessibilityBuilder;this.he_6=new b.com_ibm_vis_interaction_internal_navigation_SceneHelper(a)},modifyScene:function(a){if(a){a.finalizeTree();for(var b=a.root.getChildrenCount(),c=0;c<b;++c){var e=a.root.getChild(c);this.at$13(e,a)}}},at$13:function(a,d){var c=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(a);
if(c)switch(c){case b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS:this.ai$11(a);break;case b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT:this.an$15(a);break;case b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET:this.ae$29(a,d);break;case b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE:this.ae$34(a,d);break;case b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND:this.ad$15(a);break;case b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE:this.al$13(a)}},
ae$29:function(a,d){this.ae$30(a);var c=new b.com_ibm_vis_scenetree_provisional_SceneTree;c.copyInfoFrom(d);for(var e=0,g=a.getChildren().arrayIterator(),f=g.length;e<f;++e)c.root.addChild(g[e]);g=this.gd$24(d);if(0<g.size())for(e=0,g=g.arrayIterator(),f=g.length;e<f;++e)c.root.addChild(g[e]);this.modifyScene(c)},ae$30:function(a){var d=this.be_9.getAccessibleInfo(a).getProperty("facet"),c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a),d=this.ge$73(d,c),d=null==d?b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("facet"):
d;this.an$16("label",d,a)},ge$73:function(a,d){var c=this.gI$10(d);if(!c)return null;var c=c.faceting.facetFields,e=a.split(b.com_ibm_rave_codegenerator_util_BasicFactory.getRegExBarString());if(e.length!=c.length)return null;for(var g=new b.com_ibm_rave_codegenerator_lang_StringBuilder,f=0;f<e.length;++f){var h=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(e[f],10),l=c[f].fl_10;0<f&&g.append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma"));g.append(null==
l.label?l.id:l.label).append(" ");g.append(this.be_9.getLabelFromValue(null,l,h))}return g.toString()},gI$10:function(a){a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(a);if(null==a)return null;a=a.substring(1);a=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(a,10);return this.vis.ga_5[a]},gd$24:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=a.root.getChildrenCount(),e=0;e<c;++e){var g=a.root.getChild(e);b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(g)==
b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND&&d.add(g)}return d},an$15:function(a){this.ad$12(a);this.an$16("label",this.be_9.getElementGroupLabel(),a);this.ae$31(a)},ae$31:function(a){var d=a.link;if(null!=d)if("*"==d)(new b.com_ibm_vis_internal_accessibility_ChordChartModifier(this.be_9,this.he_6)).addChordAccessibility(a);else for(var c=0,e=a.getParent().getChildren().arrayIterator(),g=e.length;c<g;++c){var f=e[c],h=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(f);
if(h==d){e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a);c=this.he_6.getFromField(e);e=this.he_6.getToField(e);c&&e&&(d=this.he_6.makeDataIdMap(f,d),this.af$3(a,d,c,e),this.be_9.getAccessibleInfo(a).setStringProperty("linkFrom",h));break}}},af$3:function(a,d,c,e){var g=0;a=a.getChildren().arrayIterator();for(var f=a.length;g<f;++g){var h=a[g];if(h.getType()==b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT)this.af$3(h,d,c,e);else if(b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol(h.getId())){var l=
h.getShape().getRows()[0],m=d.get(e.getRowValue(l)),l=d.get(c.getRowValue(l));null!=m&&null!=l&&(h=this.be_9.getAccessibleInfo(h),h.setStringProperty("linkFrom",l),h.setStringProperty("linkTo",m))}}},getIntRowValue:function(a,b){var c=b.getShape();return(c=c&&c.getElementInfo()?c.getElementInfo().getRows():null)?Math.round(a.getRowValue(c[0])):0},ad$12:function(a){var d=new b.com_ibm_rave_codegenerator_util_Map,c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a);null!=c&&this.ae$32(d,
c);this.ae$33(a,c,d,b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY,!0);this.ce$43(a,"field",!1,null);a.getChildren().isEmpty()||"interval"!=a.getElementType()||(d=this.gI$10(c),d.coordinates.containsStacking()&&!d.coordinates.containsPolar()&&this.addGroupSums(a,c,d,!1),d.coordinates.containsCluster()&&this.addGroupSums(a,c,d,!0))},addGroupSums:function(a,d,c,e){(d=this.gl$20(c,d,e))&&!d.isCategorical()&&(d.unit&&b.com_ibm_vis_engine_internal_grammar_units_Unit.isTime(d.unit)||this.af$4(a,
d,e,!0))},gl$20:function(a,d,c){var e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getIndexFromID(d,69);d=a.coordinates.spec.dimensions.length;a=a.elements[e].spec.position;return a?(c=a[c?0:2>d?a.length-1:a.length-2].field)?this.vis.getByID(c.$ref):null:null},af$4:function(a,d,c,e){for(var g=!0,f=0,h=0,l=a.getChildren().arrayIterator(),m=l.length;h<m;++h){var p=l[h];if(p.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)f+=this.af$4(p,d,c,!1),g=!1;else if(p=(p=p.getShape())&&
p.getElementInfo()?p.getElementInfo().getRows():null)p=d.getRowValue(p[0]),null==p||b.com_ibm_rave_codegenerator_lang_Double.isNaN(p)||(f+=p)}if(g||c&&!e)d=d.getFormattedStringValue(f,0,null),this.be_9.getAccessibleInfo(a).setStringProperty(c?"clusterSum":"stackSum",d);return f},ae$32:function(a,d){var c=this.he_6.getElementsSpec(d);this.ac$17(c,a);this.ad$13(c.label,a);var e=c.position;if(e)if("area"==c.type||"line"==c.type){var g=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(c.type),
g=new b.com_ibm_vis_internal_accessibility_CoordinateSummarizer(e,this.he_6,g);a.put(g.labelName,g)}else for(var f=0;f<e.length;++f)(g=e[f].field)&&this.addFieldToMap(a,g.$ref);if(c=this.gy$1(c))for(e=0,f=c.length;e<f;++e)g=c[e],this.addFieldToMap(a,g.$ref)},addFieldToMap:function(a,d){var c=this.he_6.getField(d);c&&(c=new b.com_ibm_vis_internal_accessibility_FieldSummarizer(c),a.put(d,c))},gy$1:function(a){if(!a.position&&!a.positioning){a=this.vis.ce_40;if(!a.augment)return null;a=a.augment;for(var b=
0,c=a.length;b<c;++b){var e=a[b];if(e.dataKeys)return e.dataKeys}}return null},ad$13:function(a,d){if(a)for(var c=0,e=a.length;c<e;++c)for(var g=0,f=a[c].content,h=f.length;g<h;++g){var l=f[g];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(l,b.com_ibm_vis_spec_internal_FieldValueRefSpec)&&(l=l.$ref,d.get(l)||(l=this.he_6.getField(l))&&new b.com_ibm_vis_internal_accessibility_FieldSummarizer(l))}},ac$17:function(a,b){this.aa$14(a.color,b);this.aa$14(a.dashing,b);this.aa$14(a.size,b);this.aa$14(a.split,
b);this.aa$14(a.styleBy,b);this.aa$14(a.symbol,b)},aa$14:function(a,d){if(a&&0<a.length&&a[0].field&&null!=a[0].field.$ref){var c=a[0].field.$ref,e=this.he_6.getField(c);e&&d.put(c,new b.com_ibm_vis_internal_accessibility_FieldSummarizer(e))}},ce$43:function(a,d,c,e){var g=a.getA11y();if(g){if(a=c?g.getProperty(d):null,g.setProperty(d,null),a){c=new b.com_ibm_rave_codegenerator_util_List;for(var f=a.length,h=0;h<f;++h){var l=e.get(a[h]);l&&c.add(l.labelName)}g.setProperty(d,c)}}else g=this.be_9.getAccessibleInfo(a),
d=this.be_9.getElementGroupLabel(),g.setStringProperty("label",d)},ae$33:function(a,d,c,e,g){if(0!=c.size()){g||this.mw$3(a,d,c);g=(g=a.getChildren())?g.size():0;for(var f=0;f<g;++f){var h=a.getChild(f);b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP==h.getClassId()?this.ae$33(h,d,c,e,!1):b.com_ibm_vis_engine_internal_util_SceneIdUtil.isLeaderLine(h.getId())||this.ad$14(h,c,e)}}},mw$3:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;this.aw$5(a,e);var g=c.keySet(),
g=g.toArray(Array(g.size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(g);var f=e.toArray(),h=new b.com_ibm_rave_codegenerator_lang_StringBuilder,e=this.be_9.getAccessibleInfo(a),l=e.getProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY);l||(l=new b.com_ibm_rave_codegenerator_util_HashMap,e.setProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY,l));(a=this.be_9.getAccessibleInfo(a.getParent()).getProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY))&&
l.putAll(a);for(var m=!0,p=0,q=g.length;p<q;++p){var r=c.get(g[p]),t=r.labelName;a&&null!=a.get(t)||(r=r.getCategoryForRows(f),null!=r&&(m||h.append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma")),l.put(t,r),h.append(t).append(": ").append(r),m=!1))}m?l.isEmpty()&&(e.pa_3.remove(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY),d=this.gI$10(d),d.coordinates.containsStacking()?e.setStringProperty("label",b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("stackGroup")):
d.coordinates.containsCluster()?e.setStringProperty("label",b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(b.com_ibm_vis_internal_accessibility_A11yConstants.CLUSTER_GROUP)):e.setStringProperty("label",b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("group"))):e.setStringProperty("label",h.toString())},aw$5:function(a,d){for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c){var f=e[c];if(f.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)this.aw$5(f,
d);else if(f=(f=f.getShape())&&f.getElementInfo()?f.getElementInfo().getRows():null)for(var h=0,l=f.length;h<l;++h)d.add(f[h])}},ad$14:function(a,d,c){var e=this.be_9.getAccessibleInfo(a),g=e.getProperty(c);g||(g=new b.com_ibm_rave_codegenerator_util_HashMap,e.setProperty(c,g));if(a=(a=a.getShape())&&a.getElementInfo()?a.getElementInfo().getRows():null){c=d.keySet();c=c.toArray(Array(c.size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(c);for(var e=0,f=c.length;e<f;++e){var h=d.get(c[e]),
l=this.gu$16(h.labelName,g),h=h.getForRows(a);null==h&&(h=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("noValue"));g.put(l,h)}}},gu$16:function(a,b){if(b.containsKey(a))for(var c=2;9999>c;++c)if(!b.containsKey(c))return a+"_"+c;return a},ad$15:function(a){var d=this.gl$21(a.getField());d&&(d=null==d.label?d.id:d.label,this.au$6("field",d,a));if((d=a.getChildren())&&0<d.size())for(var c=0;c<d.size();++c){var e=a.getChild(c),g=e.getType();if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE==
g&&(e=this.be_9.getTextFromChild(e),null!=e)){e=0==e.length?b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("legend"):e;this.an$16("label",e,a);break}}},ai$11:function(a){var d=a.getChildren();if(d&&0<d.size())for(var c=0;c<d.size();++c){var e=a.getChild(c),g=e.getId();null!=g&&0<g.indexOf("T")?(g=this.be_9.getAxisTitleLabel(e.getId(),e.getShape().getTextInfo().getText()),this.an$16("label",g,a),this.an$16("label",g,e)):b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL!=
e.getType()||e.getA11y()||(g=new b.com_ibm_vis_internal_accessibility_AccessibleInfo,g.setStringProperty("label",this.be_9.getAxisLabel()),e.a11y=g)}g=this.be_9.getAxisBase(a);this.an$16("label",g,a)},al$13:function(a){var b=a.getChildren();if(b&&0<b.size())for(var c=0;c<b.size();++c){var e=a.getChild(c);0>e.getId().indexOf("LB")&&(e=this.be_9.getTitleLabel(e.getShape().getTextInfo().getText()),this.an$16("label",e,a))}else e=this.be_9.getTitleLabel(a.getShape().getTextInfo().getText()),this.an$16("label",
e,a)},ma$10:function(a,d){var c,e=this.gr$20(b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS,a,d);if(e)for(var g=0,e=e.getChildren().arrayIterator(),f=e.length;g<f;++g){var h=e[g];if(h.getType()==b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL){c=h;break}}if(!c||c.getChildren().isEmpty())return null;g=new b.com_ibm_rave_codegenerator_util_Map;e=0;c=c.getChildren().arrayIterator();for(f=c.length;e<f;++e){var h=c[e],l=h.getId(),m=l.indexOfCharCode(84);g.put(l.substring(m+
1),h)}return g},gr$20:function(a,d,c){for(var e=c.root.getChildrenCount(),g=0;g<e;++g){var f=c.root.getChild(g);if(b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(f)==a&&d==b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(f))return f}return null},ae$34:function(a,d){var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a),e=c.substring(0,c.length-1);if(c=this.ma$10(e,d)){var g=this.be_9.getGridlineBase();this.an$16("label",g,a);e=e.length+
1;if((g=a.getChildren())&&0<g.size())for(var f=0;f<g.size();++f){var h=a.getChild(f),l=h.getId().substring(e);(l=c.get(l))&&l.getShape()&&l.getShape().getTextInfo()&&(l=l.getShape().getTextInfo().getText(),this.an$16("label",l,h))}}},an$16:function(a,b,c){c=this.be_9.getAccessibleInfo(c);null==c.getProperty(a)&&c.setStringProperty(a,b)},au$6:function(a,d,c){c=this.be_9.getAccessibleInfo(c);var e=c.getProperty("base");e||(e=new b.com_ibm_vis_internal_accessibility_AccessibleInfo,c.setProperty("base",
e));e.setProperty(a,d)},gl$21:function(a){a=this.vis.getByID(a);return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_data_Field)?a:null}});b.com_ibm_vis_internal_accessibility_AccessibilitySceneModifier.T="T";b.com_ibm_vis_internal_accessibility_ChordChartModifier=b.com_ibm_init_declare({constructor:function(a,b){this.be_11=a;this.he_7=b},addChordAccessibility:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_NumericMap,c=new b.com_ibm_rave_codegenerator_util_NumericMap,
e=new b.com_ibm_rave_codegenerator_util_List,g=0,f=a.getChildren().arrayIterator(),h=f.length;g<h;++g){var l=f[g],m=l.getA11y();m?(this.aa$15(d,l,"chordFrom",m)||this.aa$15(c,l,"chordTo",m)||!b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol(l.getId())||e.add(l),m.setProperty(b.com_ibm_vis_internal_accessibility_AccessibleInfo.SUMMARY,null)):b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol(l.getId())&&e.add(l)}h=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a);
a=this.he_7.getToField(h);g=this.he_7.getFromField(h);f=this.he_7.getSizeField(h);h=this.he_7.getTooltipProducer(h,a);l=this.mr$18(g,d);m=this.mr$18(a,c);this.pe$18(a,l,m);this.pe$18(g,m,l);for(var p=0,e=e.arrayIterator(),q=e.length;p<q;++p){var r=e[p],t=r.getShape(),w=t.getRows(),x=this.gu$17(c,m,a,w[0]),w=this.gu$17(d,l,g,w[0]),r=this.be_11.getAccessibleInfo(r);r.setStringProperty("linkFrom",w.getId());r.setStringProperty("linkTo",x.getId());r.setStringProperty("label",this.be_11.makeChordLabel(g,
a,f,t,h))}this.al$14(d,g,"chordFrom");this.al$14(c,a,"chordTo")},aa$15:function(a,b,c,e){c=e.getProperty(c);if(null==c)return!1;a.put(c,b);return!0},al$14:function(a,b,c){var e=0;a=a.values().arrayIterator();for(var g=a.length;e<g;++e){var f=this.be_11.getAccessibleInfo(a[e]),h=f.getProperty(c),h=b.getFormattedStringValue(h,0,null);null!=h&&f.setStringProperty("label",h)}},gu$17:function(a,b,c,e){e=c.getRowValue(e);return(a=a.get(e))?a:b.get(this.ta$6(c,e))},ta$6:function(a,b){var c=Math.round(b);
return a.categories[c]},pe$18:function(a,b,c){var e=0;a=a.categories;for(var g=a.length;e<g;++e){var f=a[e],h=c.get(f);h||(h=b.get(f))&&c.put(f,h)}},mr$18:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0,g=d.keySet().arrayIterator(),f=g.length;e<f;++e){var h=g[e],l=Math.round(h);c.put(a.categories[l],d.get(h))}return c}});b.com_ibm_vis_internal_accessibility_Summarizer=b.com_ibm_init_declare({getName:function(){return this.labelName},getCategoryForRows:function(a){return null}});
b.com_ibm_vis_internal_accessibility_CoordinateSummarizer=b.com_ibm_init_declare(b.com_ibm_vis_internal_accessibility_Summarizer,{x:0,y:0,constructor:function(a,d,c){this.se$32(a,d);this.cA_1=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("changesAt");this.to=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("to");this.flat=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("flat");this.pv_2=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("positive");
this.nv_4=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("negative");this.ce_46=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.CS_1);this.st_26=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.ST_1)+" ";this.cm_4=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma");this.at=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("at");
this.type=c},se$32:function(a,d){this.y=0;var c="",e=a[0].field;e?(this.yl_1=d.getField(e.$ref),c=null==this.yl_1.label?this.yl_1.id:this.yl_1.label):(e=a[0].value,null!=e&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(e)&&(this.y=e));var g=a.length-1;this.x=0;var f="";(e=a[g].field)?(this.xl_1=d.getField(e.$ref),f=null==this.xl_1.label?this.xl_1.id:this.xl_1.label):(e=a[g].value,null!=e&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(e)&&(this.x=e));this.labelName=f+" "+c},getForRows:function(a){if(!a||
0==a.length)return null;for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.length;c<e;++c)d.add(this.mr$19(a[c]));b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(d,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);if(1==a.length)return d.get(0).id;a=b.com_ibm_rave_codegenerator_lang_Array.create([a.length-1],0);for(var g=d.get(0).getAnchor().y,c=0;c<a.length;++c)e=d.get(c+1).getAnchor().y,g=e-g,a[c]=0==g?0:0<g?1:-1,g=e;e=new b.com_ibm_rave_codegenerator_util_List;
for(c=0;c<a.length-1;++c)a[c]!=a[c+1]&&e.add(c+1);c=new b.com_ibm_rave_codegenerator_lang_StringBuilder;this.bo$6(e,a,d,c);c.append(" ");this.be$7(d,c);return c.toString()},be$7:function(a,b){b.append(this.ce_46).append(" ");for(var c=!0,e=0,g=a.arrayIterator(),f=g.length;e<f;++e){var h=g[e];c||b.append(this.cm_4);b.append(h.id).append(" ");c=!1}},bo$6:function(a,d,c,e){e.append(this.type).append(" ");var g=a.size();if(0==g)e.append(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(0==
d[0]?"isFlat":0<d[0]?b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.HP_3:b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.HP_2));else{e.append(this.st_26);var f=0==d[0]?this.flat:0<d[0]?this.pv_2:this.nv_4;e.append(f).append(" ");e.append(this.cA_1);for(var h=0;h<g;++h)0<h&&e.append(this.cm_4).append(this.at).append(" "),f=a.get(h),e.append(c.get(f).id).append(" ").append(this.to),f=0==d[f]?this.flat:0<d[f]?this.pv_2:this.nv_4,e.append(f)}},mr$19:function(a){var d=this.xl_1?this.xl_1.getFormattedValue(a):
this.x+"",c=this.yl_1?this.yl_1.getFormattedValue(a):this.y+"",d=d+" "+c,c=this.xl_1?this.xl_1.getRowValue(a):this.x;a=this.yl_1?this.yl_1.getRowValue(a):this.x;a=new b.com_ibm_vis_geom_Point(c,a);return new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(d,a)}});b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.CS_1="coordinates";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.TO="to";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.CA_4="changesAt";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.NV_1=
"negative";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.PV_1="positive";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.FLAT="flat";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.ST_1="slopeStarts";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.HP_2="hasNegativeSlope";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.HP_3="hasPositiveSlope";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.IA_3="isFlat";b.com_ibm_vis_internal_accessibility_CoordinateSummarizer.AT=
"at";b.com_ibm_vis_internal_accessibility_FieldSummarizer=b.com_ibm_init_declare(b.com_ibm_vis_internal_accessibility_Summarizer,{constructor:function(a){this.fl_14=a;this.labelName=null==a.label?a.id:a.label},getForRows:function(a){var b=a.length;if(1==b)return this.fl_14.getFormattedValue(a[0]);if(this.fl_14.isCategorical())a=this.mr$21(a,b);else return this.mr$20(a,b);return a},mr$20:function(a,d){for(var c,e,g=0;g<d;++g){var f=this.fl_14.getRowValue(a[g]);null==f||b.com_ibm_rave_codegenerator_lang_Double.isNaN(f)||
(null==c?c=f:c<f&&(c=f),null==e?e=f:e>f&&(e=f))}if(null==e)return b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("noValue");g=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("range");f=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma");e=this.fl_14.getFormattedStringValue(e,0,null);c=this.fl_14.getFormattedStringValue(c,0,null);return g+e+f+c},getCategoryForRows:function(a){if(!this.fl_14.isCategorical()||!a||1>a.length)return null;
var b=this.fl_14.getFormattedValue(a[0]);if(null==b)return null;for(var c=1;c<a.length;++c){var e=this.fl_14.getFormattedValue(a[c]);if(b!=e)return null}return b},mr$21:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=new b.com_ibm_rave_codegenerator_util_Map,g=0;g<d;++g){var f=this.fl_14.getFormattedValue(a[g]);null==f&&(f="");var h=e.get(f);null==h?e.put(f,1):e.put(f,h+1)}f="";g=0;h=e.keySet();h=h.toArray(Array(h.size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(h);
for(var l=0,m=h.length;l<m;++l){var p=h[l];0<g&&(f=f.concat(", "));f=f.concat(p+":"+e.get(p));g++}c.put("count",f);c.put("type",b.com_ibm_vis_internal_accessibility_FieldSummarizer.CA_5);return c}});b.com_ibm_vis_internal_accessibility_FieldSummarizer.VE_2="values";b.com_ibm_vis_internal_accessibility_FieldSummarizer.CN_3="count";b.com_ibm_vis_internal_accessibility_FieldSummarizer.CA_5="categorical";b.com_ibm_vis_internal_accessibility_A11yConstants=b.com_ibm_init_declare({});b.com_ibm_vis_internal_accessibility_A11yConstants.COMMA=
"comma";b.com_ibm_vis_internal_accessibility_A11yConstants.NO_VALUE="noValue";b.com_ibm_vis_internal_accessibility_A11yConstants.STACK_GROUP="stackGroup";b.com_ibm_vis_internal_accessibility_A11yConstants.CLUSTER_GROUP="clusterGroup";b.com_ibm_vis_internal_accessibility_A11yConstants.GROUP="group";b.com_ibm_vis_internal_accessibility_A11yConstants.TO="to";b.com_ibm_vis_internal_accessibility_A11yConstants.SIZE="size";b.com_ibm_vis_internal_accessibility_A11yConstants.CHORD_SELF_LINK="*";b.com_ibm_vis_internal_accessibility_A11yConstants.LEGEND=
"legend";b.com_ibm_vis_internal_accessibility_AccessibilityValidation=b.com_ibm_init_declare({});b.com_ibm_vis_internal_accessibility_AccessibilityValidation.addAccessibility=function(a,d,c){if(d){b.com_ibm_vis_internal_accessibility_AccessibilityValidation.validateAccessibilityStyleSpec(d);var e=new b.com_ibm_vis_internal_accessibility_AccessibleInfo;e.fromStyle(d);c&&(d=new b.com_ibm_vis_internal_accessibility_AccessibleInfo,d.setProperty("base",e),e=d);a.a11y=e}};b.com_ibm_vis_internal_accessibility_AccessibilityValidation.validateAccessibilityStyleSpec=
function(a){if(a&&a.state){var d=new b.com_ibm_rave_codegenerator_util_Set,c=0;a=a.state;for(var e=a.length;c<e;++c){var g=a[c];if(null==g.key||null==g.value)throw new b.com_ibm_vis_exceptions_internal_SpecException("In accessibility styles, all state properties must have both key and value",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(!b.com_ibm_vis_internal_accessibility_AccessibleInfo.isBooleanProperty(g.key))throw new b.com_ibm_vis_exceptions_internal_SpecException("In accessibility styles, '"+
g.key+"' may not be used as a state property",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(d.contains(g.key))throw new b.com_ibm_vis_exceptions_internal_SpecException("In accessibility styles, keys must all be distinct; key '"+g.key+"' is duplicated",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);d.add(g.key)}}};b.com_ibm_vis_internal_accessibility_AccessibilityValidation.validateAccessibilityAestheticSpec=function(a,d){if(null==d.key)throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetic must have a 'key'",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);var c=null!=d.value,e=d.field&&null!=d.field.$ref;if(!c&&!e||c&&e)throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetic must have a 'field' or 'value' but not both",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(e){c=a.getByID(d.field.$ref);if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,b.com_ibm_vis_engine_internal_data_Field))throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetic 'field' with ID '"+
d.field.$ref+"' does not exist",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(d.palette&&!c.isCategorical())throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetics with a palette may not be based on a continuous field",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}c=b.com_ibm_vis_internal_accessibility_AccessibleInfo.isStringProperty(d.key);e=b.com_ibm_vis_internal_accessibility_AccessibleInfo.isBooleanProperty(d.key);if(!c&&!e)throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetic 'key' '"+
d.key+"' is not a legal key",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(null!=d.modifies&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d.modifies)&&null!=d.modifies.part)throw new b.com_ibm_vis_exceptions_internal_SpecException("Accessibility aesthetics may not use modifies.part",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);b.com_ibm_vis_internal_accessibility_AccessibilityValidation.vn$1(d,c);b.com_ibm_vis_internal_accessibility_AccessibilityValidation.vt$1(d,
c);if(null!=d.nullValue)if(c){if(!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d.nullValue)&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d.nullValue))throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic nullValue for key '"+d.key+"' must be a string or number",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}else if(!b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(d.nullValue))throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic nullValue for key '"+
d.key+"' must be a boolean",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_vis_internal_accessibility_AccessibilityValidation.vn$1=function(a,d){if(a.mapping)if(d){for(var c=!1,e=!1,g=0,f=a.mapping,h=f.length;g<h;++g){var l=f[g];if(l){if(null!=l.text&&null!=l.value||null!=l.state)throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic mapping for key '"+a.key+"' may use 'text' or 'value' but not both, and may not use 'state'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
null!=l.text&&(c=!0);null!=l.value&&(e=!0)}}if(c&&e)throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic mapping for key '"+a.key+"' has a mix of 'text' and 'value', all stops must use the same property",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}else for(c=0,e=a.mapping,g=e.length;c<g;++c)if((l=e[c])&&(null!=l.text||null!=l.value))throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic palette values for key '"+a.key+"' may use 'state', but not 'text' or 'value'",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_vis_internal_accessibility_AccessibilityValidation.vt$1=function(a,d){if(a.palette)if(d)for(var c=0,e=a.palette,g=e.length;c<g;++c){var f=e[c];if(null!=f&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(f))throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic palette values for key '"+a.key+"' must be strings or numbers",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);
}else for(c=0,e=a.palette,g=e.length;c<g;++c)if(f=e[c],null!=f&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(f))throw new b.com_ibm_vis_exceptions_internal_SpecException("The accessibility aesthetic palette values for key '"+a.key+"' must be booleans",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_vis_internal_accessibility_ContrastConverter=b.com_ibm_init_declare({lO_1:!1,mz_7:0,constructor:function(a,b){this.mz_7=b;this.setParameters(a)},setParameters:function(a){this.pm_2=
a.copy();this.pm_2.getDefaultFontSize()<this.mz_7&&this.pm_2.setDefaultFontSize(this.mz_7);this.ho_1=this.makeContrastTool()},makeContrastTool:function(){var a=this.pm_2.bo_1,d=b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance(b.com_ibm_vis_engine_internal_ColorUtil.createColorFromString(a).getRGBA()),c=this.pm_2.to_1,e=b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance(b.com_ibm_vis_engine_internal_ColorUtil.createColorFromString(c).getRGBA());if(.2446178304415757<d)return d/
e<b.com_ibm_vis_internal_accessibility_ContrastTool.contrastThreshold&&(c="black",e=.05),new b.com_ibm_vis_internal_accessibility_LightBackgroundContrastTool(this.pm_2.getDefaultFontSize(),this.pm_2.fo_1,this.pm_2.bx_1,c,e,a,d);e/d<b.com_ibm_vis_internal_accessibility_ContrastTool.contrastThreshold&&(c="white",e=1.05);return new b.com_ibm_vis_internal_accessibility_DarkBackgroundContrastTool(this.pm_2.getDefaultFontSize(),this.pm_2.fo_1,this.pm_2.bx_1,c,e,a,d)},ia$2:function(a){if(!a||null==a.$ref)return!1;
this.fa_3||(this.fa_3=this.ma$2());a=this.fa_3.get(a.$ref);return null==a?!1:a},ma$2:function(){var a=new b.com_ibm_rave_codegenerator_util_Map;if(this.dc_1)for(var d=0,c=this.dc_1,e=c.length;d<e;++d){var g=c[d];if(g.fields)for(var f=0,h=g.fields,l=h.length;f<l;++f){var m=h[f];a.put(m.id,m.categories||"categorical"==m.unit)}if(g.group)for(f=0,g=g.group,h=g.length;f<h;++f)l=g[f],l.output&&a.put(l.output.id,!0)}return a},expandBoundsSpec:function(a){!a||!this.pm_2.mr_1||1>=this.pm_2.fo_1||(null==a.left&&
null==a.right&&(a.width=this.ez$1(a.width)),null==a.top&&null==a.bottom&&(a.height=this.ez$1(a.height)))},expandSizeSpec:function(a){!a||!this.pm_2.mr_1||1>=this.pm_2.fo_1||(a.width=this.ez$1(a.width),a.height=this.ez$1(a.height))},ez$1:function(a){return null!=a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?a*this.pm_2.fo_1:a},cr$6:function(a){if(a)for(var b=this.gt$11(a),c=0,e=a.length;c<e;++c)this.ca$9(a[c],b)},gt$11:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,
c=0,e=a.length;c<e;++c)this.addFacetTargets(a[c],d);return d},addFacetTargets:function(a,b){a.facet&&a.facet.targetElement&&null!=a.facet.targetElement.$ref&&b.add(a.facet.targetElement.$ref)},ca$9:function(a,b){if(a.coordinates&&a.coordinates.dimensions)for(var c=a.coordinates.dimensions,e=0,g=c.length;e<g;++e)this.ce$18(c[e].axis);this.lO_1=!this.ia$3(a.coordinates);a.coordinates&&(a.coordinates.style=this.ho_1.adjustBackground(a.coordinates.style,!1));null==a.labelCollisionMethod&&(a.labelCollisionMethod=
"full");if(c=a.elements)for(e=0,g=c.length;e<g;++e)this.convertElement(c[e],b);a.style&&(a.style=this.ho_1.adjustBackground(a.style,!0));this.expandBoundsSpec(a.bounds);if(a.facet&&a.facet.fields)for(c=0,e=a.facet.fields,g=e.length;c<g;++c){var f=e[c];f&&f.axis&&this.convertAxis(f.axis)}},ia$3:function(a){if(!a||!a.transforms)return!1;var b=0;a=a.transforms;for(var c=a.length;b<c;++b)if("polar"==a[b].type)return!0;return!1},convertElement:function(a,b){"text"==a.type?this.cn$13(a):"area"==a.type||
"polygon"==a.type?this.cn$12(a,b):"edge"==a.type||"path"==a.type||"line"==a.type?this.convertLineElement(a):this.cn$12(a,b);this.ce$17(a)},ce$17:function(a){if(a.positioning){var d=b.com_ibm_vis_internal_accessibility_LayoutStyleInfo.getTargetedStyles(a.positioning.method);if(d){for(var c=Array(d.length),e=0;e<d.length;++e)c[e]=d[e].getSpec(a.styles),this.cl$3(c[e],d[e]);a.styles=c}}},cl$3:function(a,b){a.style=b.tl_2?this.ho_1.adjustText(a.style,!0):b.lk_1?this.ho_1.adjustColorTowardText(a.style,
!0):this.ho_1.adjustElementAwayFromText(a.style);this.pm_2.ar_1&&a.style&&(a.style.outline=this.ho_1.showOutline(a.style.outline))},cn$12:function(a,b){this.mo$4(a,!1);b.contains(a.id)?a.style=this.ho_1.adjustFacetElementFillTowardBackground(a.style):a.style=this.ho_1.adjustElementAwayFromText(a.style);this.pm_2.ar_1&&a.style&&(a.style.outline=this.ho_1.showOutline(a.style.outline));var c=a.label;if(c)for(var e=0,g=c.length;e<g;++e){var f=c[e];if(f.color){var h=this.ia$2(f.color.field);this.ho_1.adjustColorAestheticTowardForeground(f.color,
h)}f.style=this.ho_1.adjustText(f.style,!0);null!=f.lineMinSize&&(f.lineStyle=this.ho_1.adjustForegroundGuide(f.lineStyle,!0))}if(a.styleBy)for(c=0,e=a.styleBy,g=e.length;c<g;++c)f=e[c],f.field&&this.ho_1.adjustStyleByAestheticTowardBackground(f);if(a.styles)for(c=0,e=a.styles,g=e.length;c<g;++c)f=e[c],f.style=this.ho_1.adjustElementAwayFromText(f.style)},mo$4:function(a,d){if(a.label)for(var c=0,e=a.label,g=e.length;c<g;++c){var f=e[c];f.style=this.ho_1.adjustColorText(f.style,!0);f.backgroundStyle=
this.ho_1.adjustBackground(f.backgroundStyle,!1)}if((c=a.color)&&(this.pm_2.uo_1||this.pm_2.uo_2)){for(var e=new b.com_ibm_rave_codegenerator_util_List,g=new b.com_ibm_rave_codegenerator_util_Map,h=0,l=c.length;h<l;++h)f=c[h],f.field&&(e.add(f.field),g.put(f.field.$ref,f.field.$ref)),this.pm_2.ar_1&&"both"==f.modifies&&(f.modifies=null);this.rd$4(a.font,g);this.rd$4(a.dashing,g);this.rd$4(a.size,g);this.rd$4(a.symbol,g);if(!g.isEmpty()&&this.pm_2.uo_1){for(var f=new b.com_ibm_rave_codegenerator_util_List,
h=0,l=e.arrayIterator(),m=l.length;h<m;++h){var p=l[h];null!=g.get(p.$ref)&&f.add(p)}this.addLabelAesthetic(a,f)}this.pm_2.uo_2&&this.addTooltips(a,e);if(a.label||d)for(e=0,g=c.length;e<g;++e)f=c[e],f.field&&(h=this.ia$2(f.field),d?this.ho_1.adjustColorAestheticTowardForeground(f,h):this.ho_1.adjustColorAestheticTowardBackground(f,h))}},rd$4:function(a,b){if(a)for(var c=0,e=a.length;c<e;++c){var g=a[c];g.field&&null!=g.field.$ref&&b.remove(g.field.$ref)}},convertLineElement:function(a){this.mo$4(a,
!0);var b=a.label;a.style=this.ho_1.adjustColorTowardText(a.style,!0);if(b)for(var c=0,e=b.length;c<e;++c){var g=b[c];g.color&&this.ho_1.adjustColorAestheticTowardForeground(g.color,!0);g.style=this.ho_1.adjustColorTowardText(g.style,!0)}if(a.styleBy)for(b=0,a=a.styleBy,c=a.length;b<c;++b)e=a[b],e.field&&this.ho_1.adjustStyleByAestheticTowardForeground(e)},addLabelAesthetic:function(a,d){if(!d.isEmpty())if(a.label&&a.label[0].content){this.ae$5(a,d);for(var c=0,e=a.label,g=e.length;c<g;++c){var f=
e[c];f.style=this.ho_1.adjustText(f.style,!0)}}else c=new b.com_ibm_vis_spec_internal_ElementLabelSpec,e=new b.com_ibm_rave_codegenerator_util_List,c.content=this.addFieldValues(d,e,!0),c.style=new b.com_ibm_vis_spec_internal_StyleSpec,this.ho_1.updateFont(c.style),this.lO_1&&(c.style.location="callout",c.lineStyle=new b.com_ibm_vis_spec_internal_StyleSpec,c.lineStyle.fill=this.ho_1.foregroundColor,c.lineStyle.stroke=new b.com_ibm_vis_spec_internal_StrokeSpec,c.lineStyle.stroke.width=2),a.label=[c]},
addTooltips:function(a,d){if(!d.isEmpty()&&!a.tooltip){var c=new b.com_ibm_vis_spec_internal_TooltipSpec,e=new b.com_ibm_rave_codegenerator_util_List;c.content=this.addFieldValues(d,e,!0);a.tooltip=[c]}},ae$5:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=new b.com_ibm_rave_codegenerator_util_List,g=a.label[0],f=0,h=g.content,l=h.length;f<l;++f){var m=h[f];e.add(m);b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(m,b.com_ibm_vis_spec_internal_FieldValueRefSpec)&&(m=m.$ref,
c.put(m,m))}f=new b.com_ibm_rave_codegenerator_util_List;h=0;l=d.arrayIterator();for(m=l.length;h<m;++h){var p=l[h];null==c.get(p.$ref)&&(f.add(p),c.put(p.$ref,p.$ref))}f.isEmpty()||(g.content=this.addFieldValues(f,e,!1))},addFieldValues:function(a,b,c){var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];c||(c=!1,b.add(", "));b.add(f)}return b.toArray()},cn$13:function(a){a.positioning||(a.style=this.ho_1.adjustColorText(a.style,!0),a.textBackgroundStyle=this.ho_1.adjustElementAwayFromText(a.textBackgroundStyle));
a.style=this.ho_1.adjustText(a.style,!0);if(a.label)for(var b=0,c=a.label,e=c.length;b<e;++b){var g=c[b];g.backgroundStyle=this.ho_1.adjustElementAwayFromText(g.backgroundStyle);g.style=this.ho_1.adjustText(g.style,!0)}if(a.color||a.styleBy){if(a.color)for(b=0,c=a.color,e=c.length;b<e;++b){var g=c[b],f=this.ia$2(g.field);this.ho_1.adjustColorAestheticTowardForeground(g,f)}if(a.styleBy)for(b=0,a=a.styleBy,c=a.length;b<c;++b)e=a[b],e.field&&this.ho_1.adjustStyleByAestheticTowardForeground(e)}},ce$18:function(a){if(null!=
a)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a))for(var d=0,c=a.length;d<c;++d)this.convertAxis(a[d]);else this.convertAxis(a)},convertAxis:function(a){a.gridBand=null;a.lineStyle=this.ho_1.adjustForegroundGuide(a.lineStyle,!0);a.gridStyle=this.ho_1.adjustForegroundGuide(a.gridStyle,!1);a.markStyle=this.ho_1.adjustMarkStyle(a.markStyle);a.boxStyle=this.ho_1.adjustBackground(a.boxStyle,!1);a.titleStyle=this.ho_1.adjustText(a.titleStyle,!0);a.tickStyle=this.ho_1.adjustTickStyle(a.tickStyle)},
cd$6:function(a){if(a)for(var b=0,c=a.length;b<c;++b)this.convertLegend(a[b])},convertLegend:function(a){a.tickStyle=this.ho_1.adjustText(a.tickStyle,!0);a.boundsStyle=this.ho_1.adjustBackground(a.boundsStyle,!1);a.titleStyle=this.ho_1.adjustColorText(a.titleStyle,!0);a.tickStyle&&!a.labelStyle?(a.labelStyle=a.tickStyle,a.tickStyle=null):a.labelStyle=this.ho_1.adjustText(a.labelStyle,!0);null!=a.location&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.location,b.com_ibm_vis_spec_internal_BoundsSpec)&&
this.expandBoundsSpec(a.location);a.itemBoxStyle=this.ho_1.adjustBackground(a.itemBoxStyle,!1)},ce$19:function(a){if(a)for(var b=0,c=a.length;b<c;++b)this.cl$4(a[b])},cl$4:function(a){a.backgroundStyle=this.ho_1.adjustBackground(a.backgroundStyle,!1);a.style=this.ho_1.adjustColorText(a.style,!0)},convert:function(a){this.fa_3=null;this.ce$19(a.titles);this.cd$6(a.legends);this.dc_1=a.data;var d=new b.com_ibm_vis_spec_internal_StyleSpec;d.fill="white";a.style=this.ho_1.adjustBackground(d,!1);this.expandSizeSpec(a.size);
this.cr$6(a.grammar);this.dc_1=null},getContrastParameters:function(){return this.pm_2.copy()}});b.com_ibm_vis_internal_accessibility_ContrastConverter.CU_2="callout";b.com_ibm_vis_internal_accessibility_ContrastTool=b.com_ibm_init_declare({foregroundLumaniance:0,backgroundLumaniance:0,isLightBackground:!1,fo_5:0,mz_8:0,boldText:!1,constructor:function(a,b,c,e,g,f,h){var l=1>b?1:b;this.fo_5=2<l?2:l;this.mz_8=Math.ceil(a*b);this.foregroundColor=e;this.foregroundLumaniance=g;this.backgroundColor=f;
this.backgroundLumaniance=h;this.boldText=c},adjustForegroundGuide:function(a,d){if(!a&&!d||this.isTransparentObject(a,d))return a;var c=a?a:new b.com_ibm_vis_spec_internal_StyleSpec;c.fill=this.foregroundColor;return c},adjustMarkStyle:function(a){return this.il$2(a)?a:this.adjustForegroundGuide(a,!0)},adjustTickStyle:function(a){return this.il$2(a)?a:this.adjustText(a,!0)},il$2:function(a){return a&&null==a.fill&&!a.stroke&&null==a.width&&!a.font&&null==a.size&&null==a.height&&null==a.outline&&
null==a.symbol&&null==a.padding&&!a.accessibility&&null==a.snap&&null==a.align&&null==a.alignEdge&&null==a.angle&&null==a.cornerRadius&&!a.effect&&null==a.endArrow&&!a.image&&null==a.location&&null==a.outlineMethod&&null==a.startArrow&&null==a.valign},adjustColorText:function(a,d){if(this.isTransparentObject(a,d))return a;var c=a?a:new b.com_ibm_vis_spec_internal_StyleSpec;if(null==c.fill)c.fill=this.foregroundColor;else{var e=c.fill,g=this.getFillSpec(e);g?c.fill=this.shiftFillTowardForeground(g):
(e=this.getColor(e),c.fill=this.sr$3(e))}this.updateFont(c);return c},adjustText:function(a,d){if(!a&&!d)return null;if(this.isTransparentObject(a,d)||a&&null==a.fill&&!d)return a;var c=a?a:new b.com_ibm_vis_spec_internal_StyleSpec;c.fill=this.foregroundColor;c.effect=null;this.updateFont(c);return c},gt$12:function(a){for(var d=b.com_ibm_vis_engine_internal_ColorUtil.getDefaultColors(),c=Array(d.length),e=0;e<c.length;++e){var g=d[e],g=a?this.shiftTowardForeground(g):this.shiftTowardBackground(g);
c[e]=this.convertToColorSpec(g)}return c},sr$3:function(a){if(this.ic$1(a))return this.foregroundColor;a=this.shiftTowardForeground(a);return this.convertToColorSpec(a)},ic$1:function(a){a=a.getRGBA();return a[0]==a[1]&&a[0]==a[2]},isLightBackground:function(){return this.isLightBackground},adjustFacetElementFillTowardBackground:function(a){if(this.isTransparentObject(a,!0))return this.updateFont(a),this.replaceOutline(a,this.foregroundColor),a;if(!a)return a=new b.com_ibm_vis_spec_internal_StyleSpec,
a.fill=this.nearBackgroundFillColor,a;var d=a.fill,c=this.getFillSpec(d);null==a.fill?a.fill=this.nearBackgroundFillColor:c?a.fill=this.shiftFillTowardBackground(c,7):(d=this.getColor(d),this.ic$1(d)?a.fill=this.nearBackgroundFillColor:(d=this.shiftBack(d,7),a.fill=this.convertToColorSpec(d)));this.updateFont(a);this.replaceOutline(a,this.foregroundColor);return a},getFacetElementDefaultColor:function(){return this.nearBackgroundFillColor},adjustElementAwayFromText:function(a){if(this.isTransparentObject(a,
!0))return this.updateFont(a),this.replaceOutline(a,this.foregroundColor),a;if(!a)return a=new b.com_ibm_vis_spec_internal_StyleSpec,a.fill=this.defaultFillColor,a;var d=a.fill,c=this.getFillSpec(d);null==a.fill?a.fill=this.defaultFillColor:c?a.fill=this.shiftFillTowardBackground(c,b.com_ibm_vis_internal_accessibility_ContrastTool.contrastThreshold):(d=this.getColor(d),this.ic$1(d)?a.fill=this.defaultFillColor:(d=this.shiftTowardBackground(d),a.fill=this.convertToColorSpec(d)));this.updateFont(a);
this.replaceOutline(a,this.foregroundColor);return a},replaceOutline:function(a,b){a&&null!=a.outline&&!this.isTransparentColor(a.outline,!1)&&(a.outline=b)},adjustColorTowardText:function(a,d){if(this.isTransparentObject(a,d))return a;var c=a?a:new b.com_ibm_vis_spec_internal_StyleSpec;if(null==c.fill)return c.fill=this.foregroundColor,c;var c=a.fill,e=this.getFillSpec(c);e?a.fill=this.shiftFillTowardForeground(e):(c=this.getColor(c),a.fill=this.sr$3(c));this.updateFont(a);return a},updateFont:function(a){if(a){var d=
a.font;d?(null==d.size?d.size=this.mz_8:(a=this.mz_8,b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d.size)?(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d.size,a,a),d.size=Math.ceil(a*this.fo_5)):b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d.size)&&(d.size=Math.ceil(d.size*this.fo_5))),this.boldText&&(d.weight="bold")):a.font=this.me$13()}},isTransparentObject:function(a,b){return a||b?a?this.isTransparentColor(a.fill,b):!1:!0},convertToColorSpec:function(a){if(!a)return null;
var d=new b.com_ibm_vis_spec_internal_ColorSpec;a=a.getRGBA();d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3];return d},sf$1:function(a,b){return b?a+(255-a)/5:.8*a},setForeAndBackground:function(a){a=a?a:new b.com_ibm_vis_spec_internal_StyleSpec;a.fill=this.backgroundColor;this.replaceOutline(a,this.foregroundColor);return a},isTransparentColor:function(a,d){if(null==a)return!d;if("transparent"==a)return!0;var c=b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_ColorSpec)?a:
null;return c?null!=c.a&&0==c.a?!0:0==b.com_ibm_vis_engine_internal_ColorUtil.createColorFromColorSpec(c).getRGBA()[3]:!1},getFillSpec:function(a){return b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_FillSpec)?a:null},getColor:function(a){return this.getFillSpec(a)?null:b.com_ibm_vis_engine_internal_ColorUtil.toCanonicalColor(a)},isAlphaZero:function(a){return.01>a[3]},shiftFillTowardBackground:function(a,b){for(var c=a.colors,e=0,g=c.length;e<g;++e){var f=c[e];
if(!this.io$1(f.color)){var h=this.getColor(f.color),h=this.shiftBack(h,b);f.color=this.convertToColorSpec(h)}}return a},io$1:function(a){return!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_spec_internal_ColorSpec)||null==a.l&&null==a.v?!1:!0},shiftFillTowardForeground:function(a){for(var b=a.colors,c=0,e=b.length;c<e;++c){var g=b[c],f=this.getColor(g.color),f=this.shiftTowardForeground(f);g.color=this.convertToColorSpec(f)}return a},shiftTowardBackground:function(a){return this.shiftBack(a,
b.com_ibm_vis_internal_accessibility_ContrastTool.contrastThreshold)},shiftBack:function(a,d){if(!a)return a;var c=a.getRGBA(),e=this.getContrastRatioWithForeground(c);this.isLightBackground||(c[3]=this.shiftAlpha(c[3]));for(var g=0;8>g&&e<d;)c[0]=this.sf$1(c[0],this.isLightBackground),c[1]=this.sf$1(c[1],this.isLightBackground),c[2]=this.sf$1(c[2],this.isLightBackground),e=this.getContrastRatioWithForeground(c),g++;return new b.com_ibm_vis_engine_internal_ColorNew(this.rn$2(c[0]),this.rn$2(c[1]),
this.rn$2(c[2]),c[3])},rn$2:function(a){a=Math.round(a);return 255<a?255:a},shiftAlpha:function(a){0<a&&1>a&&(a+=(1-a)/2);return a},shiftTowardForeground:function(a){if(!a)return a;a=a.getRGBA();var d=this.getContrastRatioWithBackground(a);a[3]=this.shiftAlpha(a[3]);for(var c=0;8>c&&d<b.com_ibm_vis_internal_accessibility_ContrastTool.contrastThreshold;)a[0]=this.sf$1(a[0],!this.isLightBackground),a[1]=this.sf$1(a[1],!this.isLightBackground),a[2]=this.sf$1(a[2],!this.isLightBackground),d=this.getContrastRatioWithBackground(a),
c++;return new b.com_ibm_vis_engine_internal_ColorNew(this.rn$2(a[0]),this.rn$2(a[1]),this.rn$2(a[2]),a[3])},adjustColorAestheticTowardBackground:function(a,b){var c=a.palette;if(c)for(var e=0;e<c.length;++e){var g=this.getColor(c[e]),g=this.shiftTowardBackground(g);c[e]=this.convertToColorSpec(g)}if(e=a.mapping){for(var f=b&&!c,h=!1,l=0,m=e.length;l<m;++l){var p=e[l];f&&null!=p.atLabel&&(h=!0);g=this.getColor(p.color);g=this.shiftTowardBackground(g);p.color=this.convertToColorSpec(g)}h&&(a.palette=
this.gt$12(!1))}c||e||(b?a.palette=this.gt$12(!1):a.mapping=this.getShiftedDefaultMapping(!1));return a},adjustColorAestheticTowardForeground:function(a,b){var c=a.palette;if(c)for(var e=0;e<c.length;++e){var g=this.getColor(c[e]),g=this.shiftTowardForeground(g);c[e]=this.convertToColorSpec(g)}if(e=a.mapping){for(var f=b&&!c,h=!1,l=0,m=e.length;l<m;++l){var p=e[l];f&&null!=p.atLabel&&(h=!0);g=this.getColor(p.color);g=this.shiftTowardForeground(g);p.color=this.convertToColorSpec(g)}h&&(a.palette=this.gt$12(!0))}c||
e||(b?a.palette=this.gt$12(!0):a.mapping=this.getShiftedDefaultMapping(!0));return a},me$13:function(){var a=new b.com_ibm_vis_spec_internal_FontSpec;a.size=this.mz_8;this.boldText&&(a.weight="bold");return a},adjustStyleByAestheticTowardBackground:function(a){var b=a.palette;if(b)for(var c=0;c<b.length;++c)b[c]=this.adjustElementAwayFromText(b[c]);if(a=a.mapping)for(b=0,c=a.length;b<c;++b){var e=a[b];e.style=this.adjustElementAwayFromText(e.style)}},adjustStyleByAestheticTowardForeground:function(a){var b=
a.palette;if(b)for(var c=0;c<b.length;++c)b[c]=this.an$3(b[c]);if(a=a.mapping)for(b=0,c=a.length;b<c;++b){var e=a[b];e.style=this.an$3(e.style)}},an$3:function(a){if(this.isTransparentObject(a,!0)||!a||null==a.fill)return a;var b=a.fill,c=this.getFillSpec(b);c?a.fill=this.shiftFillTowardForeground(c):(b=this.getColor(b),a.fill=this.sr$3(b));return a},showOutline:function(a){if(null==a)return this.foregroundColor;a=this.getColor(a);return this.sr$3(a)},makeDefaultMappings:function(a){for(var d=Array(a.length),
c=100/(a.length-1),e=0;e<a.length;++e){var g=new b.com_ibm_vis_spec_internal_MappingSpec;g.color=a[e];var f=b.com_ibm_vis_engine_internal_util_MathUtil.r3(c*e);g.at=f.toString()+"%";d[e]=g}return d},getForegroundColor:function(){return this.foregroundColor}});b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance=function(a){return.2126*b.com_ibm_vis_internal_accessibility_ContrastTool.lu$3(a[0])+.7152*b.com_ibm_vis_internal_accessibility_ContrastTool.lu$3(a[1])+.0722*b.com_ibm_vis_internal_accessibility_ContrastTool.lu$3(a[2])+
.05};b.com_ibm_vis_internal_accessibility_ContrastTool.lu$3=function(a){return 10.0164>a?3.035269835488375E-4*a:Math.pow(.9478672985781991*(.00392156862745098*a+.055),2.4)};b.com_ibm_vis_internal_accessibility_ContrastTool.BLACK_LUMINANCE=.05;b.com_ibm_vis_internal_accessibility_ContrastTool.WHITE_LUMINANCE=1.05;b.com_ibm_vis_internal_accessibility_ContrastTool.dG_1=.00392156862745098;b.com_ibm_vis_internal_accessibility_ContrastTool.tl_1=10.0164;b.com_ibm_vis_internal_accessibility_ContrastTool.ln_5=
3.035269835488375E-4;b.com_ibm_vis_internal_accessibility_ContrastTool.hi_1=.9478672985781991;b.com_ibm_vis_internal_accessibility_ContrastTool.contrastThreshold=4.75;b.com_ibm_vis_internal_accessibility_ContrastTool.BOLD="bold";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_internal_accessibility_ContrastTool.YELLOW_LUMINANCE=.9778});b.com_ibm_vis_internal_accessibility_LightBackgroundContrastTool=b.com_ibm_init_declare(b.com_ibm_vis_internal_accessibility_ContrastTool,{constructor:function(a,
b,c,e,g,f,h){this.isLightBackground=!0;this.defaultFillColor="#aaaaaa";this.nearBackgroundFillColor="#ebebeb"},adjustBackground:function(a,b){return this.isTransparentObject(a,b)?a:this.setForeAndBackground(a)},getContrastRatioWithForeground:function(a){return this.isAlphaZero(a)?99:b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance(a)/this.foregroundLumaniance},getContrastRatioWithBackground:function(a){return this.isAlphaZero(a)?99:this.backgroundLumaniance/b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance(a)},
getShiftedDefaultMapping:function(a){for(var d=Array(11),c=0;11>c;++c){var e=b.com_ibm_vis_engine_internal_ColorUtil.temperature(.1*c),e=a?this.shiftTowardForeground(e):this.shiftTowardBackground(e);d[c]=this.convertToColorSpec(e)}return this.makeDefaultMappings(d)}});b.com_ibm_vis_internal_accessibility_DarkBackgroundContrastTool=b.com_ibm_init_declare(b.com_ibm_vis_internal_accessibility_ContrastTool,{constructor:function(a,b,c,e,g,f,h){this.isLightBackground=!1;this.defaultFillColor="#787878";
this.nearBackgroundFillColor="#363636"},adjustBackground:function(a,b){return this.isTransparentObject(a,b)?(this.replaceOutline(a,this.foregroundColor),a):this.setForeAndBackground(a)},getContrastRatioWithForeground:function(a){if(this.isAlphaZero(a))return 99;a=b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance(a);return a<this.foregroundLumaniance?this.foregroundLumaniance/a:a/this.foregroundLumaniance},getContrastRatioWithBackground:function(a){return this.isAlphaZero(a)?99:b.com_ibm_vis_internal_accessibility_ContrastTool.getLuminance(a)/
this.backgroundLumaniance},getShiftedDefaultMapping:function(a){for(var d=Array(11),c=0;11>c;++c){var e=b.com_ibm_vis_engine_internal_ColorUtil.temperature(.1*c),e=a?this.shiftTowardForeground(e):this.shiftTowardBackground(e);d[c]=this.convertToColorSpec(e)}return this.makeDefaultMappings(d)}});b.com_ibm_vis_internal_accessibility_LayoutStyleInfo=b.com_ibm_init_declare({tl_2:!1,lk_1:!1,constructor:function(a,b,c){this.tl_2=b;this.lk_1=c;this.key=a},isTextStyle:function(){return this.tl_2},isLineLike:function(){return this.lk_1},
ml$2:function(){var a=new b.com_ibm_vis_spec_internal_TargetedStyleSpec;a.target=this.key;return a},getSpec:function(a){if(!a)return this.ml$2();for(var b=0,c=a.length;b<c;++b){var e=a[b];if(this.key==e.target)return e}return this.ml$2()}});b.com_ibm_vis_internal_accessibility_LayoutStyleInfo.getTargetedStyles=function(a){if("treemap"==a){a=Array(14);for(var d=0;6>d;++d){var c="level_"+d;a[d]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo(c,!1,!1);c="level_label_"+d;a[d+6]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo(c,
!0,!1)}a[12]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("level_leaf",!1,!1);a[13]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("level_label_leaf",!0,!1);return a}if("chord"==a)return a=Array(2),a[0]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("arc",!1,!1),a[1]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("arctext",!0,!1),a;if("fishbone"==a){a=Array(3);for(d=0;d<a.length;++d)c="level_edge_"+d,a[d]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo(c,
!1,!0);return a}return"calendar"==a?(a=Array(3),a[0]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("month",!0,!1),a[1]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("dayOfWeek",!0,!1),a[2]=new b.com_ibm_vis_internal_accessibility_LayoutStyleInfo("separator",!1,!0),a):null};b.com_ibm_vis_interaction_navigation_Navigation=b.com_ibm_init_declare({setSelected:function(a){},setMoveLevel:function(a){},move:function(a,b){},moveFeaturePart:function(a){},nextFeature:function(a){},first:function(){},
firstItem:function(){},lastItem:function(){},back:function(){},linkToggleTarget:function(){},linkShift:function(a){},linkSelectTarget:function(){}});b.com_ibm_vis_interaction_internal_navigation_NavigationImpl=b.com_ibm_init_declare(b.com_ibm_vis_interaction_navigation_Navigation,{io_6:!1,ho_4:!1,constructor:function(a){this.it_11=a;this.sc_13=new b.com_ibm_rave_codegenerator_util_List;this.na_8=new b.com_ibm_rave_codegenerator_util_Map;this.oe_19=new b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer;
this.be_8=new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder(a);this.sa_9=null;this.le_60=b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR},sceneChanged:function(){this.sc_13=new b.com_ibm_rave_codegenerator_util_List;this.na_8=new b.com_ibm_rave_codegenerator_util_Map;this.io_6=!1;this.sa_9=null},moveFeaturePart:function(a){var b=this.gI$7();if(null==b)return this.first();if(!a)return this.it_11.getSelected(0)[0];a=this.go$29(b).partMove(b,a);return this.se$29(a)},
go$29:function(a){a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(a);a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.stripFacetIndexFromId(a);return this.go$30(a)},firstItem:function(){return this.fe$10(!0)},lastItem:function(){return this.fe$10(!1)},fe$10:function(a){var d=this.gI$7();if(null==d)return this.first();if(this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR){var c=this.go$29(d);a=a?c.firstItem(d):c.lastItem(d);return this.se$29(a)}return this.it_11.getSelected(0)[0]},
move:function(a,d){if(this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.INTERIOR)a=this.se$28(a);else{if(this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.FACET)return a=this.se$28(a),this.me$75(a,d);if(this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.GRAPH)return this.mp$16(a,d)}return this.moveInterior(a,d)},se$28:function(a){this.io_6&&(a==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X?a=b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X:
a==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X&&(a=b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X));return a},moveInterior:function(a,d){var c=this.gI$7();if(null==c)return this.first();if(!a)return this.it_11.getSelected(0)[0];var e=this.go$29(c);a==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X?c=e.nextGreaterX(c,d):a==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_Y?c=e.nextGreaterY(c,d):a==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X?
c=e.nextLesserX(c,d):a==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_Y&&(c=e.nextLesserY(c,d));return this.se$29(c)},setMoveLevel:function(a){if(a){var d=this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK&&a!=b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK;this.le_60=a;this.sn$18(d)}},sn$18:function(a){var d=this.go$31();d&&(this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK?d.linkSetSelected(this.gI$7(),this.it_11,!0):a&&this.he$4(this.it_11.getSelected(0)[0]))},
nextFeature:function(a){var d=this.gI$7();if(null==d)return this.first();var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getFacetIndex(d),d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(d);a=this.ne$5(a,c,d);return this.se$29(a)},ne$5:function(a,d,c){var e=this.ga$16().nextFeature(b.com_ibm_vis_engine_internal_util_SceneIdUtil.stripFacetIndexFromId(c),a);c=this.go$30(e);if(null==d||!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isFaceted(e))return c.pointOfRegard();var e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.setFacetIndexInId(e,
d),g;try{g=c.getPointOfRegardForFacet(e)}catch(f){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,Error))throw f;}return null==g?this.ne$5(a,d,e):g},mp$16:function(a,d){var c=this.gI$7();if(null==c)return this.first();var e=this.ga$16(),g=e.getGraphNavigation(),e=e.getInfo(b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(c));this.sr$10(c);g=g.moveGraph(e,c,a,d);if(c==g)return this.it_11.getSelected(0)[0];c=this.go$29(g);if(!c)return this.it_11.getSelected(0)[0];c=c.pointOfRegard();
return this.se$29(c)},sr$10:function(a){if(null!=a){var b=this.go$29(a);b&&b.setPointOfRegard(a)}},me$75:function(a,b){var c=this.gI$7();if(null==c)return this.first();var e=this.go$29(c).moveFacet(c,a,b);return c==e?this.it_11.getSelected(0)[0]:this.se$29(e)},ga$16:function(){if(!this.sa_9){var a=this.it_11.st_22.getSceneTree();a&&(this.sa_9=this.oe_19.createSceneMap(a));this.io_6=this.it_11.vis.getMirror()}return this.sa_9},first:function(){var a=this.ga$16().getFirstFeature();if(null==a)return null;
a=this.go$30(a);if(!a)return this.first();a=a.pointOfRegard();return this.se$29(a)},setSelected:function(a){a=this.ge$66(a);if(!a)return!1;var b=a.id,c=this.gI$7();this.ac$16(b)&&(this.sr$10(c),this.sr$10(b),this.it_11.st_22.setSelected([a],0),this.hn$2(b)||this.he$4(a));return!0},ge$66:function(a){var d=a.id;if(!b.com_ibm_vis_engine_internal_util_SceneIdUtil.isNavigable(d))return null;var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.clipLegendIdToNavigableId(d);return d==c?a:this.it_11.st_22.getById(c)},
hn$2:function(a){if(this.le_60!=b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK)return!1;var d=this.go$30(b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(a));return d.doesLinkMove()?(d.linkSetSelected(a,this.it_11,!0),!0):!1},back:function(){if(2>this.sc_13.size())return this.sc_13.clear(),this.first();this.pc$7();var a=this.sc_13.get(this.sc_13.size()-1),b=this.se$30(a);this.hn$2(a)||this.he$4(b);return b},pc$7:function(){this.sc_13.removeAt(this.sc_13.size()-1)},se$29:function(a){a=
this.se$30(a);this.setSelected(a);return a},se$30:function(a){var d=this.it_11.st_22,c=new b.com_ibm_rave_codegenerator_util_List;c.add(a);d.setSelectedItemsIDs(c,0);return this.it_11.getSelected(0)[0]},gI$7:function(){var a=this.it_11.st_22.getSelectedIds(0);if(!a||a.isEmpty())return null;a=a.get(0);return b.com_ibm_vis_engine_internal_util_SceneIdUtil.isNavigable(a)?a:null},ac$16:function(a){var b=this.sc_13.size();if(0!=b&&this.sc_13.get(b-1)==a)return!1;this.sc_13.add(a);return!0},go$30:function(a){var d=
this.ga$17(a);if(this.le_60==b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK&&d){if(d.doesLinkMove())return d;var c=d.getInfo();if(c.lf_2){c=this.ga$17(c.lf_2.bI_3);if(!c)return d;c=b.com_ibm_vis_interaction_internal_navigation_LinkNavigationBuilder.buildLinkNavigations(d,c,this.it_11);this.ho_4||(this.it_11.addLinkHighlights(),this.ho_4=!0);this.na_8.put(a,c[0]);d=c[0];1<c.length&&(a=c[1].getInfo().bI_3,this.na_8.put(a,c[1]))}else c.nf_1&&(c=this.ga$17(c.nf_1.bI_3),c.doesLinkMove()||(c=
b.com_ibm_vis_interaction_internal_navigation_LinkNavigationBuilder.buildLinkNavigations(c,d,this.it_11),this.na_8.put(a,c[0]),1<c.length&&(a=c[1].getInfo().bI_3,this.na_8.put(a,c[1]),d=c[1])))}return d},ga$17:function(a){var b=this.na_8.get(a);if(!b){b=this.bo$5(a);if(!b)return this.ga$16().setNotNavigable(a),null;this.na_8.put(a,b)}return b},bo$5:function(a){a=this.ga$16().getInfo(a);return this.be_8.getFeatureNavigation(a,this.it_11.st_22.getSceneTree())},he$4:function(a){var b=this.it_11.makeHighlightState();
b.setSingle(a,0);b.apply()},go$31:function(){if(this.le_60!=b.com_ibm_vis_interaction_navigation_NavigationLevel.LINK)return null;var a=this.gI$7();null==a&&(this.first(),a=this.gI$7());a=this.go$29(a);return a.doesLinkMove()?a:null},linkToggleTarget:function(){var a=this.go$31();a&&a.linkToggleTarget(this.gI$7(),this.it_11)},linkShift:function(a){var b=this.go$31();b&&b.linkShift(this.gI$7(),a,this.it_11)},linkSelectTarget:function(){var a=this.go$31();return a?this.se$29(a.linkSelectTarget(this.it_11)):
this.tn$8()},tn$8:function(){var a=this.gI$7();if(null==a)return this.first();a=this.go$29(a).toggleLink(a);return this.se$29(a)}});b.com_ibm_vis_interaction_internal_navigation_NavigationImpl.HH_2=0;b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer=b.com_ibm_init_declare({constructor:function(){this.pe$17();this.orderedTypes=[b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE,b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS,b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND,
b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE]},createSceneMap:function(a){var d=new b.com_ibm_vis_interaction_internal_navigation_OrganizerMap,c=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.makeGraphNavigationAndCoordinateMap(a.root,d.getCoordMap(),!0,this.standardElement);this.ge$65(a.root,d);c.removeNonNavigableGrammars(d);a=new b.com_ibm_rave_codegenerator_util_Map;var e;if(c.ip_2)e=this.pe$16(a,
d);else{for(var d=d.splitByGraph(),g=null,f=new b.com_ibm_rave_codegenerator_util_Map,h=0,l=c.getKeys().arrayIterator(),m=l.length;h<m;++h){var p=l[h],g=d.get(p),g=this.pe$16(a,g);f.put(p,g);e||(e=g)}c.setStartingFeatureMap(f);a.putAll(f)}return new b.com_ibm_vis_interaction_internal_navigation_SceneMap(a,e,c)},pe$16:function(a,b){for(var c,e,g=0,f=this.orderedTypes,h=f.length;g<h;++g){var l=f[g];if(l=b.getFeatureList(l))!c&&0<l.size()&&(c=l.get(0)),e=this.ai$10(l,e,a)}for(;b.hasFacets();)for(b=b.getFacets(),
g=0,f=this.orderedTypes,h=f.length;g<h;++g)if(l=f[g],l=b.getFeatureList(l))e=this.ai$10(l,e,a),c||(c=e);e!=c&&(e.next=c,c.pu_4=e);return c},ai$10:function(a,b,c){if(!a)return b;var e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];c.get(f.bI_3)||(b&&(b.next=f),f.pu_4=b,c.put(f.bI_3,f),b=f)}return b},ge$65:function(a,d){for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c){var f=e[c],h=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(f);if(h&&(b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS!=
h||this.il$21(f))){var l=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(f),l=b.com_ibm_vis_engine_internal_util_SceneIdUtil.stripFacetIndexFromId(l);b.com_ibm_vis_engine_internal_util_SceneIdUtil.isGridBandId(l)||(h==b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET?f.getChildren()&&(h=d.getFacets(),this.ge$65(f,h)):(f=this.mf$4(f,h,l,d),d.addFeature(f)))}}},mf$4:function(a,d,c,e){if(null==c)return null;if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT){var g=
a.getElementType();d=this.elementTemplates.get(g);if(!d)d=this.standardElement;else if("interval"==g&&(g=e.getCoords(c),g=g.ce_22.transforms))for(var f=0;f<g.length;++f)if("stack"==g[f].type){g.length>f+1&&"polar"==g[f+1].type&&(d=this.standardElement);break}d=d.createCopy(c,e.isFacet());a=a.link;if(null!=a)if("*"==a)d=this.elementTemplates.get("chord"),d=d.createCopy(c,e.isFacet()),d.cu_5=!0;else for(c=0,e=e.getFeatureList(b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT).arrayIterator(),
g=e.length;c<g;++c)if(f=e[c],a==f.bI_3){f.setLinks(d);d.setNodes(f);break}return d}if(d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS||d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE)if(g=e.getCoords(c),g=g.ce_22.transforms)for(f=0;f<g.length;++f)if("polar"==g[f].type)return d=d==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS?this.circularTemplates.get("polar"):this.circularTemplates.get("gridline"),d.createCopy(c,e.isFacet());d=this.typeTemplates.get(d);
return d.createCopy(c,e.isFacet())},pe$17:function(){this.typeTemplates=new b.com_ibm_rave_codegenerator_util_HashMap;this.elementTemplates=new b.com_ibm_rave_codegenerator_util_Map;this.circularTemplates=new b.com_ibm_rave_codegenerator_util_Map;var a=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,3,27,!1,!1,!0,null);this.standardElement=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,
3,27,!1,!1,!1,a);var d=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,.01,27,!1,!1,!1,a);this.elementTemplates.put("interval",d);d=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,1,27,!1,!1,!1,a);this.elementTemplates.put("edge",d);d=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT,
1,27,!1,!1,!1,a);this.elementTemplates.put("chord",d);d=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS,1,27,!1,!1,!1,a);this.circularTemplates.put("polar",d);a=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE,1,27,!1,!1,!1,a);this.circularTemplates.put("gridline",a);this.at$11(b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS);
this.at$11(b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE);this.at$11(b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND);this.at$11(b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE)},at$11:function(a){var d=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,a,1.1,27,!1,!1,!0,null),d=new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(null,a,.01,27,!0,!0,!1,d);this.typeTemplates.put(a,d)},il$21:function(a){var d=a.getChildren();
if(!d)return!1;a=0;for(var d=d.arrayIterator(),c=d.length;a<c;++a){var e=d[a],g=e.getType();if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL==g)return!0;e=e.getId();if(null!=e&&-1!=e.indexOf("T"))return!0}return!1}});b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer.EDGE="edge";b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer.CR_4="chord";b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer.IA_2="interval";b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer.PA_1=
"polar";b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer.GN_1="gridline";b.com_ibm_vis_interaction_internal_navigation_FeatureOrganizer.T="T";b.com_ibm_vis_interaction_internal_navigation_OrganizerMap=b.com_ibm_init_declare({constructor:function(){this.fa_5=new b.com_ibm_rave_codegenerator_util_HashMap},addFeature:function(a){if(a){var d=a.type,c=this.fa_5.get(d);c||(c=new b.com_ibm_rave_codegenerator_util_List,this.fa_5.put(d,c));c.add(a)}},getFeatureList:function(a){return this.fa_5.get(a)},
isFacet:function(){return this.pn_25},getFacets:function(){this.ft_8||(this.ft_8=new b.com_ibm_vis_interaction_internal_navigation_OrganizerMap,this.ft_8.pn_25=this);return this.ft_8},getCoords:function(a){return this.ca_8?this.ca_8.get(b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(a)):this.pn_25&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isFaceted(a)?this.pn_25.gr$19(a):null},gr$19:function(a){a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(a);for(var d=0,c=this.ca_8.keySet().arrayIterator(),
e=c.length;d<e;++d){var g=c[d];if(-1<g.indexOf(a))return this.ca_8.get(g)}return null},getCoordMap:function(){this.ca_8||(this.ca_8=new b.com_ibm_rave_codegenerator_util_Map);return this.ca_8},hasFacets:function(){return this.ft_8&&!this.ft_8.fa_5.isEmpty()},splitByGraph:function(){if(this.fa_5.isEmpty()&&!this.hasFacets())return null;for(var a=new b.com_ibm_rave_codegenerator_util_Map,d=0,c=this.fa_5.keySet().arrayIterator(),e=c.length;d<e;++d)for(var g=0,f=this.fa_5.get(c[d]).arrayIterator(),h=
f.length;g<h;++g){var l=f[g],m=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getGraphIndex(l.bI_3),m=null==m?"G0":m,p=a.get(m);p||(p=new b.com_ibm_vis_interaction_internal_navigation_OrganizerMap,a.put(m,p));p.addFeature(l)}if(this.hasFacets())for(d=this.ft_8.splitByGraph(),c=0,e=d.keySet().arrayIterator(),g=e.length;c<g;++c)m=e[c],p=a.get(m),p||(p=new b.com_ibm_vis_interaction_internal_navigation_OrganizerMap,a.put(m,p)),p.ft_8=d.get(m);return a}});b.com_ibm_vis_interaction_internal_navigation_SceneMap=
b.com_ibm_init_declare({constructor:function(a,b,c){this.fa_6=a;this.fs_8=b;this.go_2=c},getGraphNavigation:function(){return this.go_2},nextFeature:function(a,d){if(!d)return a;var c=this.fa_6.get(a);if(!c)return this.getFirstFeature();var e=b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT==d?c.next:c.pu_4;e||(e=c);return e.bI_3},getFirstFeature:function(){return this.fs_8?this.fs_8.bI_3:null},getInfo:function(a){return this.fa_6.get(a)},setNotNavigable:function(a){if(a=this.fa_6.get(a)){var b=
a.next,c=a.pu_4;a==this.fs_8&&(this.fs_8=b);b&&c&&(c.next=b,b.pu_4=c)}}});b.com_ibm_vis_interaction_internal_navigation_NavigationInfo=b.com_ibm_init_declare({fe_15:!1,hh_9:0,nh_3:0,wp_1:!1,wp_2:!1,cu_5:!1,constructor:function(a,b,c,e,g,f,h,l){this.bI_3=a;this.type=b;this.nh_3=c;this.hh_9=e;this.wp_1=g;this.wp_2=f;this.fe_15=h;this.ff_3=l},createCopy:function(a,d){return new b.com_ibm_vis_interaction_internal_navigation_NavigationInfo(a,this.type,this.nh_3,this.hh_9,d?!1:this.wp_1,d?!1:this.wp_2,
d,d?this.ff_3:null)},setPrevious:function(a){this.pu_4=a},setNext:function(a){this.next=a},getBaseId:function(){return this.bI_3},getType:function(){return this.type},isFaceted:function(){return this.fe_15},getFacetMoveInfo:function(){return this.ff_3},getWrapX:function(){return this.wp_1},getWrapY:function(){return this.wp_2},getNormalWeight:function(){return this.nh_3},getHeavyWeight:function(){return this.hh_9},getNext:function(){return this.next},getPrevious:function(){return this.pu_4},setLinks:function(a){this.lf_2=
a},setNodes:function(a){this.nf_1=a},getNodes:function(){return this.nf_1},getLinks:function(){return this.lf_2},setChordLayout:function(a){this.cu_5=a},isChordLayout:function(){return this.cu_5}});b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder=b.com_ibm_init_declare({CLIP:"clip",X:"x",Y:"y",TR_3:"transform",constructor:function(a){this.it_9=a},getFeatureNavigation:function(a,d){var c=d.root;return a.fe_15?a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT?
this.makeFacetedElementNavigation(a,c):a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS?this.makeFacetedAxisNavigation(a,c):a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE?this.makeFacetedGridlineNavigation(a,c):null:a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT?this.makeElementNavigation(a,c):a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS||a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND||
a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE?this.mo$20(a,c):a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE?this.makeUnfacetedGridlineNavigation(a,c):null},makeFacetedElementNavigation:function(a,d){for(var c=d.getChildren(),e=new b.com_ibm_vis_interaction_internal_navigation_FacetNavigationBuilder(a),g=e.pa_5,f=a.bI_3,h=0,c=c.arrayIterator(),l=c.length;h<l;++h){var m=c[h];if(b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET==b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(m)){var p=
e.getFacetItems(m,f,!0,this);if(p)for(var q=0,p=p.arrayIterator(),r=p.length;q<r;++q){var t=this.me$72(a,p[q],g,m);e.addFacet(t)}}}return e.makeNavigation()},me$72:function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(d);if(this.ep$1(d))c=this.ch$4(d,a,null,c);else{var f=new b.com_ibm_rave_codegenerator_util_Map;this.addToPartKeyMap(a,f,d,g);a=new b.com_ibm_rave_codegenerator_util_Map;for(var h=new b.com_ibm_rave_codegenerator_util_List,l=new b.com_ibm_rave_codegenerator_util_Map,
m=0,p=f.keySet().arrayIterator(),q=p.length;m<q;++m){var r=p[m],t=this.aa$10(f,r,l,!1,d);a.put(r,t);h.add(r)}h=new b.com_ibm_vis_interaction_internal_navigation_ElementShiftBuilder(g,h);h.addShifts(l,f);c.putAll(l);c=h.getFirst(a)}f=new b.com_ibm_vis_geom_Point(0,0);f=this.ar$12(d,f);f=this.ar$12(e,f);d=new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(g,f);return new b.com_ibm_vis_interaction_internal_navigation_FacetLocator(c,d)},makeFacetedAxisNavigation:function(a,d){for(var c=new b.com_ibm_vis_interaction_internal_navigation_FacetNavigationBuilder(a),
e=a.bI_3,g=0,f=d.getChildren().arrayIterator(),h=f.length;g<h;++g){var l=f[g];if(b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET==b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(l)){var m=c.getFacetItems(l,e,!1,this);if(m)for(var p=0,m=m.arrayIterator(),q=m.length;p<q;++p){var r=m[p],t=new b.com_ibm_rave_codegenerator_util_Map,r=this.me$73(a,r,t,l);c.pa_5.putAll(t);c.addFacet(r)}}}return c.makeNavigation()},makeFacetedGridlineNavigation:function(a,d){for(var c=
new b.com_ibm_vis_interaction_internal_navigation_FacetNavigationBuilder(a),e=c.pa_5,g=a.bI_3,f=0,h=d.getChildren().arrayIterator(),l=h.length;f<l;++f){var m=h[f];if(b.com_ibm_vis_interaction_internal_navigation_FeatureType.FACET==b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(m)){var p=c.getFacetItems(m,g,!1,this);if(p)for(var q=0,p=p.arrayIterator(),r=p.length;q<r;++q){var t=p[q],w=this.ae$27(t,e),x=this.ar$12(m,new b.com_ibm_vis_geom_Point(0,0)),t=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(t),
x=new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(t,x),w=new b.com_ibm_vis_interaction_internal_navigation_FacetLocator(w,x);c.addFacet(w)}}}return c.makeNavigation()},makeUnfacetedGridlineNavigation:function(a,b){for(var c=a.bI_3,e=0,g=b.getChildren().arrayIterator(),f=g.length;e<f;++e){var h=g[e];if(this.mI$3(h,c))return this.makeGridlineNavigation(h,a)}return null},makeGridlineNavigation:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_Map,e=this.ae$27(a,c),g=b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.makeFacetMapForUnfacetedChart(d,
e),e=e.id,e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(e);return new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation(c,d,g,e)},me$73:function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(d),f=new b.com_ibm_rave_codegenerator_util_Map;this.addToPartKeyMap(a,f,d,g);if(f.isEmpty())return null;a=new b.com_ibm_rave_codegenerator_util_Map;for(var h=new b.com_ibm_rave_codegenerator_util_List,l=0,m=f.keySet().arrayIterator(),p=m.length;l<p;++l){var q=
m[l],r=this.aa$10(f,q,c,!1,d);a.put(q,r);h.add(q)}h=new b.com_ibm_vis_interaction_internal_navigation_AxisShiftBuilder(g,h);h.addShifts(c,f);c=h.getFirst(a);d=this.ar$12(d,new b.com_ibm_vis_geom_Point(0,0));d=this.ar$12(e,d);e=new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(g,d);return new b.com_ibm_vis_interaction_internal_navigation_FacetLocator(c,e)},ae$27:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List,g,f=0,h=a.getChildren().arrayIterator(),
l=h.length;f<l;++f){var m=h[f],p=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenter(m),q=m.getId();p&&null!=q&&!m.isEffect()&&(m=new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(q,p),d.put(q,m),m.setListX(c),m.setListY(e),g||(g=m))}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(c,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(e,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);
return g},mo$20:function(a,b){for(var c=a.bI_3,e=0,g=b.getChildren().arrayIterator(),f=g.length;e<f;++e){var h=g[e];if(this.mI$3(h,c))return this.makeUnfacetedNavigation(h,a)}return null},makeUnfacetedNavigation:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_Map;this.addToPartKeyMap(d,c,a,d.bI_3);return 1>c.size()?null:this.mo$21(c,d,a)},makeElementNavigation:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0,g=d.getChildren().arrayIterator(),f=g.length;e<f;++e){var h=
g[e];if(this.mI$3(h,a.bI_3)&&this.isFirstChildVisible(h)){if(a.cu_5)return b.com_ibm_vis_interaction_internal_navigation_ChordNavigationBuilder.getChordNavigation(this.it_9,a,h);if(this.ep$1(h))return c=new b.com_ibm_rave_codegenerator_util_Map,g=this.ch$4(h,a,null,c),e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(g.id),g=b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.makeFacetMapForUnfacetedChart(a,g),new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation(c,
a,g,e);this.addToPartKeyMap(a,c,h,a.bI_3)}}for(var h=new b.com_ibm_rave_codegenerator_util_Map,e=new b.com_ibm_rave_codegenerator_util_Map,g=new b.com_ibm_rave_codegenerator_util_List,f=0,l=c.keySet().arrayIterator(),m=l.length;f<m;++f){var p=l[f],q=this.aa$10(c,p,h,!1,null);e.put(p,q);g.add(p)}g=new b.com_ibm_vis_interaction_internal_navigation_ElementShiftBuilder(a.bI_3,g);g.addShifts(h,c);g=g.getFirst(e);e=g.id;e=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(e);g=b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.makeFacetMapForUnfacetedChart(a,
g);return new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation(h,a,g,e)},ae$28:function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a),f=g.length,h=new b.com_ibm_rave_codegenerator_util_Map,l=new b.com_ibm_rave_codegenerator_util_Map;this.at$10(a,d,c,e,f,h,l);a=new b.com_ibm_rave_codegenerator_util_List;d=0;c=l.keySet().arrayIterator();for(e=c.length;d<e;++d){var m=c[d];a.add(m);for(var f=new b.com_ibm_rave_codegenerator_util_List,p=new b.com_ibm_rave_codegenerator_util_List,
q=0,m=l.get(m).arrayIterator(),r=m.length;q<r;++q){var t=m[q];t.setListX(f);t.setListY(p)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(f,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(p,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y)}(new b.com_ibm_vis_interaction_internal_navigation_ElementShiftBuilder(g,a)).addShifts(h,null)},at$10:function(a,d,c,e,g,f,h){var l=0;a=a.getChildren().arrayIterator();
for(var m=a.length;l<m;++l){var p=a[l],q=this.mr$17(p,d,c);e.put(q.id,q);var r=b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.makeKey(g,q.id);if(null!=r){var t=h.get(r);t||(t=new b.com_ibm_rave_codegenerator_util_List,h.put(r,t));t.add(q);f.put(q.id,q);this.at$10(p,d,c,e,g,f,h)}}},ch$4:function(a,d,c,e){var g=a.getChildren(),f;0<g.size()&&(f=g.get(0).getId());var h;null==f||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isElementGroup(f)?h=this.me$74(d,c,e,g):this.ae$28(a,d,c,e);return!c&&
h?h.get(0):null},me$74:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f=new b.com_ibm_rave_codegenerator_util_List,h=0;e=e.arrayIterator();for(var l=e.length;h<l;++h){var m=e[h],p=this.mr$17(m,a,d);c.put(p.id,p);p.setListX(g);p.setListY(f);this.ch$4(m,a,p,c)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(g,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(f,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);
return g},mr$17:function(a,d,c){return(d=a.getPhysicalBounds())?new b.com_ibm_vis_interaction_internal_navigation_GroupPart(a.getId(),d.getCenter(),c):null},ep$1:function(a){a=a.getChildren();if(a.isEmpty())return!1;a=a.get(0).getId();return null!=a&&b.com_ibm_vis_engine_internal_util_SceneIdUtil.isElementGroup(a)},mo$21:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_Map,g=new b.com_ibm_rave_codegenerator_util_Map,f=new b.com_ibm_rave_codegenerator_util_List,h=d.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND,
l=0,m=a.keySet().arrayIterator(),p=m.length;l<p;++l){var q=m[l],r=this.aa$10(a,q,e,h,c);g.put(q,r);f.add(q)}var t;d.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT?t=new b.com_ibm_vis_interaction_internal_navigation_ElementShiftBuilder(d.bI_3,f):d.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS?t=new b.com_ibm_vis_interaction_internal_navigation_AxisShiftBuilder(d.bI_3,f):h?t=new b.com_ibm_vis_interaction_internal_navigation_LegendShiftBuilder(d.bI_3):
d.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE&&(t=new b.com_ibm_vis_interaction_internal_navigation_TitleShiftBuilder(d.bI_3));t.addShifts(e,a);c=t.getFirst(g);t=h?t.getLast():null;a=b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.makeFacetMapForUnfacetedChart(d,c);c=c.id;g=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(c);return h?new b.com_ibm_vis_interaction_internal_navigation_ListNavigation(e,d,a,g,c,t.id):new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation(e,
d,a,g)},aa$10:function(a,d,c,e,g){var f=a.get(d);a=new b.com_ibm_rave_codegenerator_util_List;d=new b.com_ibm_rave_codegenerator_util_List;g=0;for(var f=f.arrayIterator(),h=f.length;g<h;++g){var l=f[g],m=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenter(l),p=l.getId();if(!m)if(e){if(m=b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getCenterFromChildren(l),!m)continue}else continue;l=new b.com_ibm_vis_interaction_internal_navigation_FeaturePart(p,m);l.setListX(a);l.setListY(d);
c.put(p,l)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(d,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);return a},ar$12:function(a,d){var c=a.getTransform();return c&&c.getAffine()?c.getAffine().transformPoint(d):new b.com_ibm_vis_geom_Point(0,0)},addToPartKeyMap:function(a,d,c,e){var g=c.getId();if(null!=g&&!c.isEffect()){var f=this.ge$64(g,
e,a);null!=f&&this.addToMapList(d,c,f)}if((f=c.getChildren())&&!f.isEmpty()){var h=a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND&&b.com_ibm_vis_interaction_internal_navigation_SceneHelper.getFeatureType(c)==b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND,l=a.type==b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE;(null==g||h||l||b.com_ibm_vis_scenetree_provisional_SceneNodeType.SCHEMA==c.getType())&&this.ay$2(a,d,e,f)}},ge$64:function(a,d,
c){c=c.type;return b.com_ibm_vis_interaction_internal_navigation_FeatureType.ELEMENT==c?b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.makeKey(d.length,a):b.com_ibm_vis_interaction_internal_navigation_FeatureType.AXIS==c?b.com_ibm_vis_interaction_internal_navigation_AxisShiftBuilder.makeKey(a):b.com_ibm_vis_interaction_internal_navigation_FeatureType.TITLE==c?b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder.makeTitleKey(a):b.com_ibm_vis_interaction_internal_navigation_FeatureType.GRIDLINE==
c?"G":b.com_ibm_vis_interaction_internal_navigation_FeatureType.LEGEND==c?b.com_ibm_vis_interaction_internal_navigation_LegendShiftBuilder.makeKey(a):null},ay$2:function(a,b,c,e){var g=0;e=e.arrayIterator();for(var f=e.length;g<f;++g)this.addToPartKeyMap(a,b,e[g],c)},addToMapList:function(a,d,c){if(0!=c.length){var e=a.get(c);e||(e=new b.com_ibm_rave_codegenerator_util_List,a.put(c,e));e.add(d)}},isFirstChildVisible:function(a){var b=a.getClipBounds();if(!b)return!0;a=a.getChildren();if(a.isEmpty())return!1;
a=a.get(0);var c=a.getShape();return c?(a=c.getNodeBounds())?b.containsRect(a)||b.intersectsRect(a):!0:this.isFirstChildVisible(a)},mI$3:function(a,d){var c=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(a);return d==c}});b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.makeFacetMapForUnfacetedChart=function(a,d){var c=new b.com_ibm_vis_interaction_internal_navigation_FacetLocator(d,d),e=new b.com_ibm_rave_codegenerator_util_Map;e.put(a.bI_3,c);return e};
b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.B="B";b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.N="N";b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.TEXT="text";b.com_ibm_vis_interaction_internal_navigation_FacetNavigationBuilder=b.com_ibm_init_declare({constructor:function(a){this.info=a;this.fa_4=new b.com_ibm_rave_codegenerator_util_Map;this.pa_5=new b.com_ibm_rave_codegenerator_util_Map;this.xs_3=new b.com_ibm_rave_codegenerator_util_List;
this.ys_3=new b.com_ibm_rave_codegenerator_util_List},addFacet:function(a){if(a){var b=a.io_5;b.setListX(this.xs_3);b.setListY(this.ys_3);this.fa_4.put(b.id,a)}},getFacetItems:function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f=0;a=a.getChildren().arrayIterator();for(var h=a.length;f<h;++f){var l=a[f],m=b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(l),m=b.com_ibm_vis_engine_internal_util_SceneIdUtil.stripFacetIndexFromId(m);d==m?c&&!e.isFirstChildVisible(l)||
g.add(l):b.com_ibm_vis_scenetree_provisional_SceneNodeType.FACET==l.getType()&&(l=this.getFacetItems(l,d,!1,e))&&g.addAll(l)}return g.isEmpty()?null:g},makeNavigation:function(){if(this.xs_3.isEmpty())return null;b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.xs_3,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.ys_3,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);var a=this.xs_3.get(0).id;
return new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation(this.pa_5,this.info,this.fa_4,a)},getPartsMap:function(){return this.pa_5}});b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation,{constructor:function(a,b,c,e){this.facetNavigation=this.bo$4(c,b,e)},bo$4:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_Map,g=0,f=a.keySet().arrayIterator(),h=f.length;g<h;++g){var l=
a.get(f[g]).io_5;e.put(l.id,l)}return new b.com_ibm_vis_interaction_internal_navigation_FacetNavigation(e,d,a,c)},pointOfRegard:function(){return this.facetNavigation.facetForPointOfRegard().pr_8.id},setPointOfRegard:function(a){a=this.featurePartsMap.get(a);this.facetNavigation.setPointOfRegard(a)},moveFacet:function(a,b,c){var e=this.featurePartsMap.get(a);return this.facetNavigation.moveFacet(a,b,c,e)},getPointOfRegardForFacet:function(a){return(a=this.facetNavigation.getFacet(a))?a.pr_8.id:null},
partMove:function(a,b){var c=this.featurePartsMap.get(a);return c?c.changePart(b).id:a},doesLinkMove:function(){return!1},getInfo:function(){return this.info},getFeaturePartMap:function(){return this.featurePartsMap},toggleLink:function(a){var b=this.featurePartsMap.get(a);return b?b.toggleSelectedLink().id:a}});b.com_ibm_vis_interaction_internal_navigation_FacetNavigation=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_DirectionalNavigation,{ie_20:!1,constructor:function(a,b,
c,e){this.ft_7=c;this.ie_20=2>c.size();this.pI_1=e},facetForPointOfRegard:function(){return this.ft_7.get(this.pI_1)},moveFacet:function(a,d,c,e){if(this.ie_20||!d)return a;a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(a);var g=this.ft_7.get(a);g&&g.setPointOfRegard(e);var f;d==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_X?f=this.nextGreaterX(a,c):d==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_X?f=this.nextLesserX(a,c):d==b.com_ibm_vis_interaction_navigation_NavigationDirection.LESSER_Y?
f=this.nextLesserY(a,c):d==b.com_ibm_vis_interaction_navigation_NavigationDirection.GREATER_Y&&(f=this.nextGreaterY(a,c));return this.ft_7.get(f).pr_8.id},getFacet:function(a){return this.ft_7.get(a)},setPointOfRegard:function(a){if(a){var d=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(a.id),c=this.ft_7.get(d);c&&(c.setPointOfRegard(a),this.pI_1=d)}},getFacets:function(){return this.ft_7},getPointOfRegardString:function(){return this.pI_1}});b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder=
b.com_ibm_init_declare({baseIdLength:0,constructor:function(a){this.baseIdLength=a.length},makeKeyMap:function(a){this.orderedKeys=a.toArray(Array(a.size()));this.ka_1=new b.com_ibm_rave_codegenerator_util_Map;for(a=0;a<this.orderedKeys.length;++a)this.ka_1.put(this.orderedKeys[a],a)},getFirst:function(a){a=a.get(this.orderedKeys[0]);return!a||a.isEmpty()?null:a.get(0)}});b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder.makeTitleKey=function(a){return-1!=a.indexOf("LB")||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isPartId(a)?
null:"T"};b.com_ibm_vis_interaction_internal_navigation_ElementShiftBuilder=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder,{constructor:function(a,b){1<b.size()?this.sa_7=this.ma$7(a,b):this.orderedKeys=[b.isEmpty()?null:b.get(0)]},ma$7:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=new b.com_ibm_rave_codegenerator_util_List,g=0,f=d.arrayIterator(),h=f.length;g<h;++g){var l=f[g],m=b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.create(a,
l);c.put(l,m);e.add(m)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(e,e.get(0));this.orderedKeys=Array(e.size());for(g=0;g<this.orderedKeys.length;++g)this.orderedKeys[g]=e.get(g).getKey();f=e.get(0);h=e.size();for(g=1;g<h;++g)l=e.get(g),f.setNext(l),f=l;f.setNext(e.get(0));return c},addShifts:function(a,d){if(this.sa_7)for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0,g=a.keySet().arrayIterator(),f=g.length;e<f;++e){var h=g[e];null==c.get(h)&&this.ag$4(h,a,c)}},ag$4:function(a,b,
c){c.put(a,a);for(var e=b.get(a),g=e,f=this.nI$2(a);a!=f;){var h=b.get(f);c.put(f,f);h&&(h.setPrevious(g),g.setNext(h),g=h);f=this.nI$2(f)}g!=e&&(g.setNext(e),e.setPrevious(g))},nI$2:function(a){var d=b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.makeKey(this.baseIdLength,a);return this.sa_7.get(d).getNextId(a)}});b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{constructor:function(a,b,c){this.base=
a;this.pi_5=b;this.si_8=c},setNext:function(a){this.next=a},getNextId:function(a){if(!this.next)return a;a=a.substring(this.base.length+1);if(null!=this.si_8){var b=a.indexOf(this.si_8);a=a.substring(0,b)}return this.next.mI$2(a)},mI$2:function(a){a=this.base+this.pi_5+a;null!=this.si_8&&(a+=this.si_8);return a},compare:function(a,d){var c=null==a.si_8?!1:0==a.si_8.indexOf("_"),e=null==d.si_8?!1:0==d.si_8.indexOf("_");if(c!=e)return c?1:-1;if(c)return c=a.si_8.substring(1),c=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(c,
10),e=d.si_8.substring(1),e=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(e,10),c-e;c="S"==a.pi_5;if(c!=("S"==d.pi_5))return c?-1:1;c=a.si_8.substring(1);c=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(c,10);e=d.si_8.substring(1);e=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(e,10);return c-e},getKey:function(){return null==this.si_8?this.pi_5:this.pi_5+this.si_8}});b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.makeKey=function(a,b){if(0<
b.indexOf("LN")||0<b.indexOf("LB"))return null;var c=b.substring(a,a+1),e=b.indexOf("P",a+1),g=b.indexOf("_",a+1);return 0<g&&0<e?null:0<e?c+b.substring(e):0<g?c+b.substring(g):c};b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.create=function(a,d){if(1==d.length)return new b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter(a,d,null);var c=d.substring(0,1),e=d.substring(1);return new b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter(a,c,e)};b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.P=
"P";b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.S="S";b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.LN_2="LN";b.com_ibm_vis_interaction_internal_navigation_ElementIdShifter.LC_2="LB";b.com_ibm_vis_interaction_internal_navigation_FacetLocator=b.com_ibm_init_declare({constructor:function(a,b){this.pr_8=a;this.io_5=b},getLocator:function(){return this.io_5},pointOfRegard:function(){return this.pr_8},setPointOfRegard:function(a){a&&(this.pr_8=a)}});b.com_ibm_vis_interaction_internal_navigation_AxisShiftBuilder=
b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder,{hl_5:!1,hl_4:!1,constructor:function(a,d){this.bI_2=a;for(var c=0,e=d.arrayIterator(),g=e.length;c<g;++c){var f=e[c];"Title"==f?this.hl_5=!0:"T"==f&&(this.hl_4=!0)}c=new b.com_ibm_rave_codegenerator_util_List;this.hl_5&&c.add("Title");this.hl_4&&c.add("T");this.makeKeyMap(c)},addShifts:function(a,d){if(!(2>this.orderedKeys.length)){var c=this.fl$3(a);if(c){for(var e=!1,g,f=0,h=a.keySet().arrayIterator(),
l=h.length;f<l;++f){var m=h[f],p=a.get(m);p!=c&&(p.setNext(c),p.setPrevious(c),e||(m=m.substring(this.baseIdLength+1),null!=m&&(m=m.CPVisEngineReplace("_",""),m=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(m,10),0==m?(c.setNext(p),c.setPrevious(p),e=!0):5E5>m&&(g=p))))}e||(c.setNext(g),c.setPrevious(g))}}},fl$3:function(a){var b=a.get(this.bI_2+"Title");if(b)return b;for(var b=0,c=a.keySet().arrayIterator(),e=c.length;b<e;++b){var g=c[b];if(-1<g.indexOf("Title"))return a.get(g)}return null}});
b.com_ibm_vis_interaction_internal_navigation_AxisShiftBuilder.makeKey=function(a){return 0<a.indexOf("Title")?-1==a.indexOf("_")?"Title":null:-1<a.indexOf("T")?"T":null};b.com_ibm_vis_interaction_internal_navigation_AxisShiftBuilder.BE_5=5E5;b.com_ibm_vis_interaction_internal_navigation_ChordNavigationBuilder=b.com_ibm_init_declare({constructor:function(a){this.he_3=new b.com_ibm_vis_interaction_internal_navigation_SceneHelper(a.vis)},getFeatureNavigation:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_NumericMap,
e=new b.com_ibm_rave_codegenerator_util_NumericMap,g=new b.com_ibm_rave_codegenerator_util_Map,f=new b.com_ibm_rave_codegenerator_util_List,h=0,l=d.getChildren().arrayIterator(),m=l.length;h<m;++h){var p=l[h],q=p.getA11y();q?this.aa$9(c,p,"chordFrom",q)||this.aa$9(e,p,"chordTo",q)||f.add(p):f.add(p)}h=this.he_3.getToField(a.bI_3);l=this.he_3.getFromField(a.bI_3);m=this.mr$16(l,c);p=this.mr$16(h,e);this.pe$15(h,m,p);this.pe$15(l,p,m);for(var q=0,f=f.arrayIterator(),r=f.length;q<r;++q){var t=f[q],w=
t.getId();if(b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol(w)){var x=t.shape,y=x.getRows(),t=this.gu$13(e,p,h,y[0]),y=this.gu$13(c,m,l,y[0]),z=this.go$27(x,y.getAnchor()),x=this.go$27(x,t.getAnchor());g.put(w,new b.com_ibm_vis_interaction_internal_navigation_ChordPart(w,z,x,y,t))}}h=new b.com_ibm_rave_codegenerator_util_List;l=new b.com_ibm_rave_codegenerator_util_List;m=0;p=c.values().arrayIterator();for(q=p.length;m<q;++m)c=p[m],c.sort(),c.setListX(h),c.setListY(l),g.put(c.id,
c);m=0;e=e.values().arrayIterator();for(p=e.length;m<p;++m)c=e[m],c.sort(),c.setListX(h),c.setListY(l),g.put(c.id,c);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(h,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(l,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);e=h.get(0);c=b.com_ibm_vis_interaction_internal_navigation_FeatureNavigationBuilder.makeFacetMapForUnfacetedChart(a,e);g=new b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation(g,
a,c,b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(e.id));g.setSkipEquals(!1);return g},go$27:function(a,d){var c=a.getType();if(1003==c||1002==c){for(var c=a.x,e=a.y,g=d.x,f=d.y,h=c[0],l=c[0],m=(g-h)*(g-h)+(f-l)*(f-l),p=1;p<c.length;++p){var q=(g-c[p])*(g-c[p])+(f-e[p])*(f-e[p]);q<m&&(m=q,h=c[p],l=e[p])}return new b.com_ibm_vis_geom_Point(h,l)}return a.getCenter()},pe$15:function(a,b,c){var e=0;a=a.categories;for(var g=a.length;e<g;++e){var f=a[e],h=c.get(f);h||(h=b.get(f))&&c.put(f,h)}},
mr$16:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0,g=d.keySet().arrayIterator(),f=g.length;e<f;++e){var h=g[e],l=Math.round(h);c.put(a.categories[l],d.get(h))}return c},gu$13:function(a,b,c,e){e=c.getRowValue(e);return(a=a.get(e))?a:b.get(this.ta$4(c,e))},ta$4:function(a,b){var c=Math.round(b);return a.categories[c]},aa$9:function(a,d,c,e){c=e.getProperty(c);if(null==c)return!1;e=d.getPhysicalBounds();d=new b.com_ibm_vis_interaction_internal_navigation_ChordGroupPart(d.getId(),
e.getCenter());a.put(c,d);return!0}});b.com_ibm_vis_interaction_internal_navigation_ChordNavigationBuilder.getChordNavigation=function(a,d,c){return(new b.com_ibm_vis_interaction_internal_navigation_ChordNavigationBuilder(a)).getFeatureNavigation(d,c)};b.com_ibm_vis_interaction_internal_navigation_ChordPart=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePart,{au_1:!1,constructor:function(a,b,c,e,g){this.from=e;this.to=g;this.aT_1=c;e.addChord(this);g.addChord(this)},setActiveGroup:function(a){this.au_1=
a==this.from},toggleActiveChordGroup:function(){this.au_1=!this.au_1},isFrom:function(a){return a==this.from},toggleSelectedLink:function(){this.from.setPointOfRegard(this);this.to.setPointOfRegard(this);return(this.au_1=!this.au_1)?this.from:this.to},getAnchor:function(){return this.au_1?b.com_ibm_vis_interaction_internal_navigation_FeaturePart.prototype.getAnchor.apply(this):this.aT_1},getListX:function(){return this.au_1?this.from.getChordListX():this.to.getChordListX()},getListY:function(){return this.au_1?
this.from.getChordListY():this.to.getChordListY()},changePart:function(a){return b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS==a?this.au_1?this.from:this.to:this}});b.com_ibm_vis_interaction_internal_navigation_ChordGroupPart=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePart,{constructor:function(a,d){this.xs_2=new b.com_ibm_rave_codegenerator_util_List;this.ys_2=new b.com_ibm_rave_codegenerator_util_List},setPointOfRegard:function(a){this.pr_7=a},addChord:function(a){this.xs_2.add(a);
this.ys_2.add(a)},getChordListX:function(){return this.xs_2},getChordListY:function(){return this.ys_2},sort:function(){for(var a=0,d=this.xs_2.arrayIterator(),c=d.length;a<c;++a){var e=d[a];e.setActiveGroup(this)}a=0;d=this.ys_2.arrayIterator();for(c=d.length;a<c;++a)e=d[a],e.setActiveGroup(this);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.xs_2,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.ys_2,
b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y)},changePart:function(a){if(b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT==a){a=0;for(var d=this.xs_2.arrayIterator(),c=d.length;a<c;++a)d[a].setActiveGroup(this);return this.pr_7?this.pr_7:this.xs_2.get(0)}return this}});b.com_ibm_vis_interaction_internal_navigation_GroupPart=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePart,{constructor:function(a,b,c){c&&c.al$12(this)},al$12:function(a){a.pn_24=
this;this.ce_44||(this.ce_44=new b.com_ibm_rave_codegenerator_util_List);this.ce_44.add(a)},changePart:function(a){return b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT==a?this.ce_44?this.pr_9?this.pr_9:this.ce_44.get(0):b.com_ibm_vis_interaction_internal_navigation_FeaturePart.prototype.changePart.apply(this,[a]):b.com_ibm_vis_interaction_navigation_FeatureShift.PREVIOUS==a&&this.pn_24?(this.pn_24.pr_9=this,this.pn_24):this}});b.com_ibm_vis_interaction_internal_navigation_LegendShiftBuilder=
b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder,{ma$8:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_Map,c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c)for(var f=0,h=a.get(e[c]).arrayIterator(),l=h.length;f<l;++f){var m=h[f],p=m.getType();b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY==p&&(p=m.getId(),d.put(p,m))}return d},addShifts:function(a,d){for(var c=this.ma$8(d),e=new b.com_ibm_rave_codegenerator_util_List,g=new b.com_ibm_rave_codegenerator_util_List,
f=new b.com_ibm_rave_codegenerator_util_List,h=0,l=a.keySet().arrayIterator(),m=l.length;h<m;++h){var p=a.get(l[h]);p.setListX(g);p.setListY(f);c.get(p.id)||e.add(p)}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(g,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.X);b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(f,b.com_ibm_vis_interaction_internal_navigation_FeaturePartComparator.Y);this.orderedKeys=Array(1);0<e.size()?(this.fs_7=e.get(0),c=f.size(),this.last=
0<c?f.get(c-1):this.fs_7):0<f.size()&&(this.fs_7=f.get(0),this.last=f.get(f.size()-1))},getFirst:function(a){return this.fs_7},getLast:function(){return this.last}});b.com_ibm_vis_interaction_internal_navigation_LegendShiftBuilder.makeKey=function(a){if(null==a||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isBackId(a)||b.com_ibm_vis_engine_internal_util_SceneIdUtil.isPartId(a))return null;var d=a.indexOf("T");return 0<d?d==a.length-1?"T":null:-1==a.indexOf("LE")?null:0<a.indexOf("S")?null:"LE"};
b.com_ibm_vis_interaction_internal_navigation_LegendShiftBuilder.LE="LE";b.com_ibm_vis_interaction_internal_navigation_TitleShiftBuilder=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeaturePartShiftBuilder,{addShifts:function(a,b){for(var c=0,e=a.keySet().arrayIterator(),g=e.length;c<g;++c)this.fs_9=a.get(e[c])},getFirst:function(a){return this.fs_9}});b.com_ibm_vis_interaction_internal_navigation_ListNavigation=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation,
{constructor:function(a,b,c,e,g,f){this.fI_2=g;this.lI_2=f},firstItem:function(a){return this.fI_2},lastItem:function(a){return this.lI_2}});b.com_ibm_vis_interaction_internal_navigation_LinkNavigationBuilder=b.com_ibm_init_declare({constructor:function(a){this.it_10=a;this.he_4=new b.com_ibm_vis_interaction_internal_navigation_SceneHelper(a.vis)},go$28:function(a,d){for(var c=this.mk$6(a,d),e=this.il$22(d.getInfo()),g=new b.com_ibm_rave_codegenerator_util_Map,f=new b.com_ibm_rave_codegenerator_util_Map,
h=e?new b.com_ibm_rave_codegenerator_util_Map:null,l=0,c=c.arrayIterator(),m=c.length;l<m;++l){var p=c[l];this.aa$11(g,p.fromNode.id,p);this.aa$11(f,p.toNode.id,p);e&&h.put(p.link.id,p)}l=e?Array(2):Array(1);l[0]=new b.com_ibm_vis_interaction_internal_navigation_LinkNavigation(a.featurePartsMap,a.getInfo(),a.facetNavigation.getFacets(),a.facetNavigation.getPointOfRegardString());l[0].setToNodes(g,f,e);e&&(l[1]=new b.com_ibm_vis_interaction_internal_navigation_LinkNavigation(d.featurePartsMap,d.getInfo(),
d.facetNavigation.getFacets(),d.facetNavigation.getPointOfRegardString()),l[1].setToLinks(h));return l},il$22:function(a){a=this.he_4.getElementsSpec(a.bI_3);return a.label||a.color||a.size||a.dashing||a.styleBy},aa$11:function(a,d,c){var e=a.get(d);e||(e=new b.com_ibm_rave_codegenerator_util_List,a.put(d,e));e.add(c)},mk$6:function(a,d){for(var c=a.getInfo().bI_3,e=this.gu$14(c),c=this.he_4.makeDataIdMap(e,c),e=a.featurePartsMap,g=new b.com_ibm_rave_codegenerator_util_NumericMap,f=0,h=c.keySet().arrayIterator(),
l=h.length;f<l;++f){var m=h[f],p=c.get(m);g.put(m,e.get(p))}return this.mp$15(g,d.featurePartsMap,d.getInfo().bI_3)},mp$15:function(a,d,c){var e=this.he_4.getFromField(c),g=this.he_4.getToField(c),f=new b.com_ibm_rave_codegenerator_util_List;c=this.gu$14(c);this.pk$1(c,f,a,d,e,g);return f},pk$1:function(a,d,c,e,g,f){var h=0;a=a.getChildren().arrayIterator();for(var l=a.length;h<l;++h){var m=a[h];if(m.getClassId()==b.com_ibm_vis_scenetree_provisional_SceneNodeClassId.ELEMENT_GROUP)this.pk$1(m,d,c,
e,g,f);else if(b.com_ibm_vis_interaction_internal_navigation_SceneHelper.isElementSymbol(m.getId())){var p=m.getShape().getRows()[0],q=this.gr$18(f,p,c),p=this.gr$18(g,p,c),m=e.get(m.getId());q&&p&&m&&d.add(new b.com_ibm_vis_interaction_internal_navigation_NavLink(p,q,m))}}},gr$18:function(a,b,c){return c.get(a.getRowValue(b))},gu$14:function(a){for(var d=0,c=this.it_10.st_22.getSceneTree().root.getChildren().arrayIterator(),e=c.length;d<e;++d){var g=c[d];if(a==b.com_ibm_vis_engine_internal_util_SceneIdUtil.getBaseIdForSceneNode(g))return g}return null}});
b.com_ibm_vis_interaction_internal_navigation_LinkNavigationBuilder.buildLinkNavigations=function(a,d,c){return(new b.com_ibm_vis_interaction_internal_navigation_LinkNavigationBuilder(c)).go$28(a,d)};b.com_ibm_vis_interaction_internal_navigation_LinkNavigation=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_FeatureNavigation,{in_12:!1,ll_13:!1,constructor:function(a,d,c,e){this.la_7=new b.com_ibm_rave_codegenerator_util_Map},doesLinkMove:function(){return!0},linkToggleTarget:function(a,
b){if(this.tn_6=this.gt$37(a))this.tn_6.toggleTarget(b),this.tn_6.highlightState(b)},setToLinks:function(a){this.la_6=a;this.in_12=!0},setToNodes:function(a,b,c){this.lo_8=a;this.lo_9=b;this.ll_13=c;this.in_12=!1},linkSetSelected:function(a,b,c){this.tn_6=this.gt$37(a);c&&this.tn_6&&this.tn_6.highlightState(b)},linkShift:function(a,b,c){if(this.tn_6=this.gt$37(a))this.tn_6.shift(b,c),this.tn_6.highlightState(c)},linkSelectTarget:function(a){var b=this.tn_6.select();this.ir$4(b)?this.linkSetSelected(b,
a,!0):this.setPointOfRegard(this.tn_6.getId());return b},ir$4:function(a){a=b.com_ibm_vis_engine_internal_util_SceneIdUtil.baseId(a);return this.info.bI_3==a},gt$37:function(a){var b=this.la_7.get(a);b||(b=this.mt$24(a),this.la_7.put(a,b));return b},mt$24:function(a){if(this.in_12){var d=this.la_6.get(a);return new b.com_ibm_vis_interaction_internal_navigation_LinkNav(d)}var d=this.lo_8.get(a),c=this.lo_9.get(a);a=this.featurePartsMap.get(a);return d||c?new b.com_ibm_vis_interaction_internal_navigation_NodeNav(d,
c,this.ll_13,a):new b.com_ibm_vis_interaction_internal_navigation_IslandNode(a)}});b.com_ibm_vis_interaction_internal_navigation_LinkNavState=b.com_ibm_init_declare({addToHighlightState:function(a,b,c,e,g){if(c){if(g)a.st_22.setSelectedItemsIDs(c,e),a=a.getSelected(e);else{g=a.st_22;var f=c.size();a=Array(f);for(var h=0;h<f;++h)a[h]=g.getById(c.get(h))}b.setMultiple(a,e)}},addHighlight:function(a,d,c,e,g){var f=new b.com_ibm_rave_codegenerator_util_List;f.add(c);this.addToHighlightState(a,d,f,e,g)},
toggleTarget:function(a){}});b.com_ibm_vis_interaction_internal_navigation_LinkNavState.HIGHLIGHT=0;b.com_ibm_vis_interaction_internal_navigation_LinkNav=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_LinkNavState,{targetIsFromNode:!1,constructor:function(a){this.link=a},shift:function(a,b){this.targetIsFromNode=!this.targetIsFromNode;this.highlightState(b)},select:function(){return this.targetIsFromNode?this.link.fromNode.id:this.link.toNode.id},highlightState:function(a){var b=
a.makeHighlightState();this.addHighlight(a,b,this.link.link.id,0,!0);this.addHighlight(a,b,this.targetIsFromNode?this.link.fromNode.id:this.link.toNode.id,87008,!1);b.apply()},getId:function(){return this.link.link.id}});b.com_ibm_vis_interaction_internal_navigation_IslandNode=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_LinkNavState,{constructor:function(a){this.in_11=a},shift:function(a,b){this.highlightState(b)},select:function(){return this.in_11.id},highlightState:function(a){var b=
a.makeHighlightState();this.addHighlight(a,b,this.in_11.id,0,!0);b.apply()},getId:function(){return this.in_11.id}});b.com_ibm_vis_interaction_internal_navigation_NodeNav=b.com_ibm_init_declare(b.com_ibm_vis_interaction_internal_navigation_LinkNavState,{il_7:!1,le_61:!1,constructor:function(a,d,c,e){this.fo_6=a;if(this.to_6=d)b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.to_6,new b.com_ibm_vis_interaction_internal_navigation_NavLinkComparator(e)),this.tn_7=this.to_6.get(0);this.fo_6&&
(b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.fo_6,new b.com_ibm_vis_interaction_internal_navigation_NavLinkComparator(e)),this.tn_7=this.fo_6.get(0));this.il_7=c;this.ao_6=e},shift:function(a,d){this.ne$6(b.com_ibm_vis_interaction_navigation_FeatureShift.NEXT==a);this.highlightState(d)},toggleTarget:function(a){this.le_61=!this.le_61;this.highlightState(a)},ne$6:function(a){var b=this.to_6?this.to_6.indexOf(this.tn_7):-1;-1<b?this.tn_7=a?this.gx$1(this.to_6,b,this.fo_6):this.gu$15(this.to_6,
b,this.fo_6):(b=this.fo_6?this.fo_6.indexOf(this.tn_7):-1,-1<b&&(this.tn_7=a?this.gx$1(this.fo_6,b,this.to_6):this.gu$15(this.fo_6,b,this.to_6)))},gx$1:function(a,b,c){var e=a.size();return b+1<e?a.get(b+1):c?c.get(0):a.get(0)},gu$15:function(a,b,c){return 0<b?a.get(b-1):c?c.get(c.size()-1):a.get(a.size()-1)},select:function(){return this.gI$8(!0)},gI$8:function(a){return this.le_61==a?this.tn_7.link.id:this.tn_7.toNode==this.ao_6?this.tn_7.fromNode.id:this.tn_7.toNode.id},at$12:function(a,b,c,e){if(a){var g=
0;a=a.arrayIterator();for(var f=a.length;g<f;++g){var h=a[g];h!=this.tn_7&&(b.add(h.link.id),c.add(e?h.toNode.id:h.fromNode.id))}}},highlightState:function(a){var d=a.makeHighlightState();this.addHighlight(a,d,this.ao_6.id,0,!0);this.addHighlight(a,d,this.gI$8(!0),87008,!1);this.addHighlight(a,d,this.gI$8(!1),87009,!1);var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List,g=new b.com_ibm_rave_codegenerator_util_List;this.at$12(this.to_6,c,g,!1);this.at$12(this.fo_6,
c,e,!0);this.addToHighlightState(a,d,c,87005,!1);this.addToHighlightState(a,d,g,87007,!1);this.addToHighlightState(a,d,e,87006,!1);d.apply()},getId:function(){return this.ao_6.id}});b.com_ibm_vis_interaction_internal_navigation_NavLinkComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{constructor:function(a){this.node=a},compare:function(a,b){var c=a.isFrom(this.node),e=b.isFrom(this.node);if(c&&!e)return-1;if(!c&&e)return 1;c?(c=a.toNode.getAnchor(),e=b.toNode.getAnchor()):
(c=a.fromNode.getAnchor(),e=b.fromNode.getAnchor());var g=c.x-e.x;if(0>g)return-1;if(0<g)return 1;c=c.y-e.y;return 0>c?-1:0<c?1:0}});b.com_ibm_vis_interaction_internal_navigation_NavLink=b.com_ibm_init_declare({constructor:function(a,b,c){this.fromNode=a;this.toNode=b;this.link=c},getFrom:function(){return this.fromNode},getTo:function(){return this.toNode},getLink:function(){return this.link},isFrom:function(a){return a==this.fromNode}});b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber=
b.com_ibm_init_declare({constructor:function(a){this.spec=a},getDescription:function(){if(1<this.spec.grammar.length)return null;var a=this.spec.grammar[0].elements;if(1<a.length)return null;var d=b.com_ibm_vis_internal_accessibility_description_DescriptionRules.findBestMatch(a[0],this.spec.grammar[0]);if(!d)return null;a=this.co$10(d,a[0],this.spec.grammar[0].facet);if(!a)return null;for(var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder(a.get(0)),c=a.size(),e=1;e<c;++e)d.append("  \n").append(a.get(e));
return d.toString()},co$10:function(a,d,c){var e=this.gl$32();e||(e=new b.com_ibm_rave_codegenerator_util_List);var g=a.getMatchingFacet(c);g?e.add(g.updateChartName(a.rm_4)):e.add(a.rm_4);var f=a.info,h=this.gt$41(d),l=this.ge$78(d,0),m=this.ge$78(d,1);a=this.gs$5(m,l,d,a,h);a=a.toArray(Array(a.size()));d=this.bn$3(a,h);var p=m&&l&&m!=l?1:0;f.rowCount&&this.an$19(h,e);f.categories&&(this.ae$43(m,l,a,e),this.an$18(g,c,e));c=this.bo$7(a);if(f.maxValues&&0<d.length&&h){var g=this.ge$79(h,d,a,p,!0),
q="maxValues"+g.length;this.ae$44(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(q),g,c,e)}f.minValues&&0<d.length&&h&&(g=this.ge$79(h,d,a,p,!1),q="minValues"+g.length,this.ae$44(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(q),g,c,e));f.rangeY&&l&&h&&(c=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("y"),this.ag$5(h,l,e,c));f.rangeX&&m&&h&&(f=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("x"),this.ag$5(h,
m,e,f));return e.isEmpty()?null:e},an$18:function(a,d,c){if(a&&d){var e=0;d=d.fields;for(var g=d.length;e<g;++e){var f=d[e].field;if(f&&null!=f.$ref&&(f=this.gI$11(f.$ref))){var h=this.gm$2(f),h=new b.com_ibm_rave_codegenerator_lang_StringBuilder(a.getFacetName(h));if(f.categories){var l=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("categories"),m=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("has");h.append(m).append(f.categories.length).append(l)}c.add(h.toString())}}}},
bo$7:function(a){if(!a||1>a.length)return null;for(var d=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma"),c=new b.com_ibm_rave_codegenerator_lang_StringBuilder("("),e=0;e<a.length;++e)c.append(this.gm$2(a[e])),e<a.length-1&&c.append(d);c.append(")");return c.toString()},bn$3:function(a,d){for(var c=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0),e=0;e<a.length;++e)c[e]=this.ge$80(a[e],d);return c},gs$5:function(a,d,c,e,g){var f=new b.com_ibm_rave_codegenerator_util_List;
this.al$15(a,f);this.al$15(d,f);if(d=e.aes)for(a=0,c=d.getFields(c,g).arrayIterator(),g=c.length;a<g;++a)this.al$15(c[a],f);return f},al$15:function(a,b){a&&!b.contains(a)&&b.add(a)},ag$5:function(a,d,c,e){if(a=this.gg$11(a,d)){var g=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("range"),f=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma");d=null==e?this.gm$2(d)+g+b.com_ibm_vis_engine_internal_util_MathUtil.s4(a.min).toString()+f+b.com_ibm_vis_engine_internal_util_MathUtil.s4(a.max).toString():
this.gm$2(d)+" "+e+g+b.com_ibm_vis_engine_internal_util_MathUtil.s4(a.min).toString()+f+b.com_ibm_vis_engine_internal_util_MathUtil.s4(a.max).toString();c.add(d)}},ae$43:function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("has"),f=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("categories");if(a&&a.categories)e.add(this.gm$2(a)+g+a.categories.length+f);else if(d&&d.categories)e.add(this.gm$2(d)+g+d.categories.length+f);else if(c&&
0<c.length)for(a=0;a<c.length;++a)c[a].categories&&e.add(this.gm$2(c[a])+g+c[a].categories.length+f)},an$19:function(a,d){var c=a.rows.length;d.add(b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("dataHas")+c+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("rows"))},ae$44:function(a,d,c,e){if(d&&!(1>d.length)){var g=new b.com_ibm_rave_codegenerator_lang_StringBuilder;null!=a&&g.append(a).append(" ");null!=c&&g.append(c).append(" ");a=b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("comma");
for(c=0;c<d.length;++c)0<c&&g.append(a),g.append(d[c].toString());e.add(g.toString())}},gl$32:function(){if(!this.spec.titles)return null;var a=new b.com_ibm_rave_codegenerator_util_List,d=this.mn$35(this.spec.titles[0]);null!=d&&a.add(d);return a.isEmpty()?null:a},mn$35:function(a){var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder;a=a.content;for(var c=0,e=a.length;c<e;++c){var g=a[c];b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g)?d.append(g):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,
b.com_ibm_vis_spec_internal_StringValueSpec)?d.append(g.value):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_vis_spec_internal_FieldValueRefSpec)&&(g=this.gI$11(g.$ref))&&d.append(this.gm$2(g))}return 0<d.length()?d.toString():null},gm$2:function(a){return null==a.label||1>a.label.length?a.id:a.label},ge$78:function(a,b){if(!a.position||a.position.length<b+1)return null;var c=a.position[b].field;return c?this.gI$11(c.$ref):null},gt$41:function(a){if(!a.data)return!this.spec.data||
1>this.spec.data.length?null:this.spec.data[0];a=a.data.$ref;for(var b=0,c=this.spec.data,e=c.length;b<e;++b){var g=c[b];if(g.id==a)return g}return null},gg$11:function(a,d){for(var c=this.ge$80(d,a),e=1.7976931348623157E308,g=4.9E-324,f=0,h=a.rows,l=h.length;f<l;++f){var m=h[f];m[c]==m[c]&&(m=m[c],e>m&&(e=m),g<m&&(g=m))}return new b.com_ibm_vis_engine_internal_data_Range(e,g)},ge$79:function(a,d,c,e,g){var f=new b.com_ibm_rave_codegenerator_util_List,h=0;a=a.rows;for(var l=a.length;h<l;++h){var m=
a[h];m[e]==m[e]&&f.add(new b.com_ibm_vis_internal_accessibility_description_A11yValueTuple(m,d))}d=f.size();if(2>d)return[];h=f.toArray(Array(f.size()));b.com_ibm_rave_codegenerator_util_Arrays.sort(h,new b.com_ibm_vis_internal_accessibility_description_A11yValueTupleComparator(e));e=11<d?3:4>d?1:2;a=Array(e);if(g)for(g=0;g<e;++g)a[g]=h[g],a[g].format(c);else for(d--,g=0;g<e;++g)a[g]=f.get(d-g),a[g].format(c);return a},ge$80:function(a,b){for(var c=0;c<b.fields.length;++c)if(b.fields[c]==a)return c;
return 0},gI$11:function(a){for(var b=0,c=this.spec.data,e=c.length;b<e;++b){var g=c[b];if(g.fields)for(var f=0,g=g.fields,h=g.length;f<h;++f){var l=g[f];if(a==l.id)return l}}return null}});b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.CE_9="categories";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.HAS="has";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.RG_2="range";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.ROWS=
"rows";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.DA_2="dataHas";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.ME_9="minValues";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.ME_8="maxValues";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.YI_1="y";b.com_ibm_vis_internal_accessibility_description_SimpleChartDescriber.XI_1="x";b.com_ibm_vis_internal_accessibility_description_DataInfo=b.com_ibm_init_declare({minValues:!1,
maxValues:!1,rowCount:!1,categories:!1,rangeX:!1,rangeY:!1,facet:!1});b.com_ibm_vis_internal_accessibility_description_AestheticInfo=b.com_ibm_init_declare({constructor:function(a,b){this.ac_8=a;this.re_20=b},getFields:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,g=this.ac_8,f=g.length;e<f;++e)this.ai$13(g[e],a,d,c);return c},getRequiredAesthetics:function(){if(this.rc_2)return this.rc_2;if(!this.re_20)return null;for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0;d<
this.re_20.length;++d)this.re_20[d]&&a.add(this.ac_8[d]);return this.rc_2=a.toArray(Array(a.size()))},ai$13:function(a,b,c,e){var g;"color"==a?g=this.gi$12(b.color,c):"styleBy"==a?g=this.gi$12(b.styleBy,c):"label"==a?this.ae$41(b.label,c,e):"styleBy"==a?g=this.gi$12(b.styleBy,c):"dashing"==a?g=this.gi$12(b.styleBy,c):"size"==a&&(g=this.gi$12(b.size,c));g&&e.add(g)},ae$41:function(a,b,c){if(a)for(var e=0,g=a.length;e<g;++e)this.ae$42(a[e],c,b)},ae$42:function(a,d,c){var e=0;a=a.content;for(var g=a.length;e<
g;++e){var f=a[e];b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_spec_internal_FieldValueRefSpec)&&(f=this.ge$75(f.$ref,c))&&d.add(f)}},gi$12:function(a,b){return!a||1>a.length?null:this.gl$24(a[0],b)},gl$24:function(a,b){return a.field?this.ge$75(a.field.$ref,b):null},ge$75:function(a,b){if(b.fields)for(var c=0,e=b.fields,g=e.length;c<g;++c){var f=e[c];if(a==f.id)return f}return null}});b.com_ibm_vis_internal_accessibility_description_DescriptionRule=b.com_ibm_init_declare({dn_9:0,
mu_3:0,constructor:function(a,b,c,e,g,f,h,l){this.ep_3=a;this.rm_4=b;this.info=c;this.dn_9=e;this.lo_10=g;this.td_1=f;this.aes=h;this.fo_7=l},addChild:function(a){this.ce_47||(this.ce_47=new b.com_ibm_rave_codegenerator_util_List);this.ce_47.add(a)},getName:function(){return this.rm_4},getInfo:function(){return this.info},findMatch:function(a,b){this.mc$31(a,b);if(0==this.mu_3)return null;var c=this;if(this.ce_47)for(var e=0,g=this.ce_47.arrayIterator(),f=g.length;e<f;++e){var h=g[e].findMatch(a,
b);h&&h.mu_3>c.mu_3&&(c=h)}return c},mc$31:function(a,b){this.mu_3=0;if(a.type==this.ep_3&&this.facetPasses(b.facet))if(this.mu_3=this.hc$2(a),0>this.mu_3)this.mu_3=0;else{var c=this.dc$2(b.coordinates),e=this.le$8(a);c&&e?e&&null!=this.lo_10?this.mu_3+=2:(c=this.tc$3(b.coordinates),this.mu_3+=0==c?1:2+c):this.mu_3++}},facetPasses:function(a){return a?this.fo_7?this.getMatchingFacet(a):!1:this.aa$16()},getMatchingFacet:function(a){if(!a||!this.fo_7)return null;for(var b=0,c=this.fo_7,e=c.length;b<
e;++b){var g=c[b];if(g.matches(a))return g}return null},aa$16:function(){if(!this.fo_7)return!0;for(var a=0,b=this.fo_7,c=b.length;a<c;++a)if(!b[a].isOptional())return!1;return!0},hc$2:function(a){var b=this.aes.getRequiredAesthetics();if(!b||1>b.length)return 0;for(var c=0,e=0,g=b.length;e<g;++e){var f=b[e];if("color"==f){if(!a.color)return-10;c++}else if("styleBy"==f){if(!a.styleBy)return-10;c++}else if("label"==f){if(!a.label)return-10;c++}else if("dashing"==f){if(!a.dashing)return-10;c++}else if("size"==
f){if(!a.size)return-10;c++}}return c},dc$2:function(a){return a.dimensions?a.dimensions.length==this.dn_9:0==this.dn_9},le$8:function(a){return null==this.lo_10?!a.positioning:a.positioning&&this.lo_10==a.positioning.method},tc$3:function(a){return this.td_1||a.transforms&&0!=a.transforms.length?this.td_1&&a.transforms&&0!=a.transforms.length?this.td_1[0]==a.transforms[0].type?this.td_1.length!=a.transforms.length?1:1==this.td_1.length?2:this.td_1[1]==a.transforms[1].type?2:1:0:0:2},getAestheticInfo:function(){return this.aes},
toString:function(){return this.rm_4}});b.com_ibm_vis_internal_accessibility_description_FacetInfo=b.com_ibm_init_declare({nd_6:0,oa_2:!1,constructor:function(a,b,c,e,g){this.mo_15=a;this.pi_7=e;this.name=c;this.nd_6=b;this.oa_2=g},matches:function(a){return a?this.mo_15==a.method&&this.nd_6==a.fields.length:!1},isOptional:function(){return this.oa_2},updateChartName:function(a){return null==this.name?this.pi_7+" "+a:this.name},getFacetName:function(a){return null==this.pi_7?b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("facetBy")+
a:this.pi_7+b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString("by")+a}});b.com_ibm_vis_internal_accessibility_description_FacetInfo.BY="by";b.com_ibm_vis_internal_accessibility_description_FacetInfo.FB_1="facetBy";b.com_ibm_vis_internal_accessibility_description_DescriptionRules=b.com_ibm_init_declare({});b.com_ibm_vis_internal_accessibility_description_DescriptionRules.ge$76=function(){b.com_ibm_vis_internal_accessibility_description_DescriptionRules.re_21||(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.re_21=
b.com_ibm_vis_internal_accessibility_description_DescriptionRules.be$8());return b.com_ibm_vis_internal_accessibility_description_DescriptionRules.re_21};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.findBestMatch=function(a,d){for(var c=0,e=b.com_ibm_vis_internal_accessibility_description_DescriptionRules.ge$76().arrayIterator(),g=e.length;c<g;++c){var f=e[c].findMatch(a,d);if(f)return f}return null};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.be$8=function(){var a=
new b.com_ibm_rave_codegenerator_util_List;a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$31());a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$30());a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$27());a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$28());a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$29());a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$26());
a.add(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$25());return a};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$25=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;a.categories=!0;a.rangeX=!0;a.rangeY=!0;var d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["color"],null);return new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("schema:boxplot",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.BO_3),
a,2,null,null,d,null)};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs=function(a){return b.com_ibm_vis_engine_internal_nativeImpl_Internationalization.getString(a)};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$26=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;a.categories=!0;a.rangeX=!0;a.rangeY=!0;a.maxValues=!0;a.minValues=!0;var d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["size","color","styleBy"],
null);return new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("text",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("wordCloud"),a,2,"cloud",null,d,null)};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$27=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;a.categories=!0;a.rangeX=!0;a.rangeY=!0;a.maxValues=!0;a.minValues=!0;var d=["size","color"],c=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(d,
null),e=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("point",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("scatter"),a,2,null,null,c,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40()),g=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["size","styleBy","color","label"],null),g=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("point",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CO_6),
a,2,"calendar",null,g,null);e.addChild(g);c=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("point",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.BO_4),a,2,"bubble",null,c,null);e.addChild(c);d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(d,[!0,!1]);a=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("point",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("bubblePlot"),
a,2,null,null,d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());e.addChild(a);return e};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$28=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;a.categories=!0;a.rangeX=!0;a.rangeY=!0;var d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["color"],null),c=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("area",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("areaChart"),
a,2,null,null,d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40()),e=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("area",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SR_3),a,2,null,["stack"],d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(e);a=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("area",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_6),
a,2,null,["cluster"],d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(a);return c};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$29=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;a.categories=!0;var d=["color"],d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(d,null),c=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("edge",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("linkChart"),
a,2,null,null,d,null),d=[],d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(d,null),a=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("edge",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("chordChart"),a,2,"chord",null,d,null);c.addChild(a);return c};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$30=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;a.categories=!0;a.rangeX=!0;a.rangeY=
!0;var d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["color","dashing"],null),c=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("line",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("lineChart"),a,2,null,null,d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40()),e=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("line",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SR_5),
a,2,null,["stack"],d,null);c.addChild(e);a=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("line",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_7),a,2,null,["cluster"],d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(a);return c};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40=function(){return[b.com_ibm_vis_internal_accessibility_description_DescriptionRules.ge$77(!0),
b.com_ibm_vis_internal_accessibility_description_DescriptionRules.ge$77(!1)]};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.ge$77=function(a){if(a)return b.com_ibm_vis_internal_accessibility_description_DescriptionRules.pi_6||(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.pi_6=new b.com_ibm_vis_internal_accessibility_description_FacetInfo("panelHorizontal",1,null,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("paneled"),!0)),b.com_ibm_vis_internal_accessibility_description_DescriptionRules.pi_6;
b.com_ibm_vis_internal_accessibility_description_DescriptionRules.pr_10||(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.pr_10=new b.com_ibm_vis_internal_accessibility_description_FacetInfo("panel",1,null,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("paneled"),!0));return b.com_ibm_vis_internal_accessibility_description_DescriptionRules.pr_10};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gl$31=function(){var a=new b.com_ibm_vis_internal_accessibility_description_DataInfo;
a.categories=!0;a.maxValues=!0;a.minValues=!0;var d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["color"],null),c=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("barChart"),a,2,null,null,d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40()),e=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("pieChart"),
a,1,null,["stack","polar"],d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(e);e=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("roseChart"),a,2,null,["polar"],d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(e);e=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SR_4),
a,2,null,["stack"],d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(e);var e=["cluster"],g=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_8),a,2,null,e,d,b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gt$40());c.addChild(g);g=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",
b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_8),a,3,null,e,d,null);c.addChild(g);d=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs(b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_9),a,2,null,["cluster","stack"],d,null);c.addChild(d);d=new b.com_ibm_vis_internal_accessibility_description_AestheticInfo(["label",
"color"],null);a=new b.com_ibm_vis_internal_accessibility_description_DescriptionRule("interval",b.com_ibm_vis_internal_accessibility_description_DescriptionRules.gs("treemap"),a,0,"treemap",null,d,null);c.addChild(a);return c};b.com_ibm_vis_internal_accessibility_description_DescriptionRules.PE_5="paneled";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.BO_3="boxAndWhiskerPlot";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.WU_1="wordCloud";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CU_5=
"cloud";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CO_6="calendarPlot";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.BO_5="bubblePlot";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SO_2="scatter";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.AR_1="areaChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SR_3="stackedAreaChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_6=
"clusteredAreaChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.LR_1="lineChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SR_5="stackedLineChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_7="clusteredLineChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.BO_4="bubbleCloudPlot";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.LR_2="linkChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_5=
"chordChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.BR_1="barChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.SR_4="stackedBarChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_8="clusteredBarChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.CR_9="clusterStackedBarChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.PR_1="pieChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.RR_1=
"roseChart";b.com_ibm_vis_internal_accessibility_description_DescriptionRules.TA_8="treemap";b.com_ibm_init_statics.add(function(){});b.com_ibm_vis_internal_accessibility_description_A11yValueTuple=b.com_ibm_init_declare({constructor:function(a,d){this.ve_9=Array(d.length);for(var c=0;c<d.length;++c)this.ve_9[c]=new b.com_ibm_vis_internal_accessibility_description_A11yValue(a[d[c]])},format:function(a){for(var b=0;b<a.length;++b){var c=this.ve_9[b],e=a[b];c&&e&&c.setFormattedValueFromCategories(e.categories)}},
getValue:function(a){return this.ve_9[a]},toString:function(){if(!this.ve_9||1>this.ve_9.length)return null;for(var a=new b.com_ibm_rave_codegenerator_lang_StringBuilder("("),d=0;d<this.ve_9.length;++d)this.ve_9[d]&&a.append(this.ve_9[d].getAsString()),this.ve_9.length!=d+1&&a.append(", ");a.append(")");return a.toString()}});b.com_ibm_vis_internal_accessibility_description_A11yValue=b.com_ibm_init_declare({value:0,constructor:function(a){this.value=a},setFormattedValueFromCategories:function(a){if(a){var b=
Math.round(this.value);this.fu_2=a[b]}},getAsString:function(){return null==this.fu_2?b.com_ibm_vis_engine_internal_util_MathUtil.s4(this.value).toString():this.fu_2}});b.com_ibm_vis_internal_accessibility_description_A11yValueTupleComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{col:0,constructor:function(a){this.col=a},compare:function(a,b){var c=a.getValue(this.col),e=b.getValue(this.col);return c.value<e.value?1:c.value>e.value?-1:0}});b.com_ibm_init_statics.initialize()});
b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/migrationLayer",function(){b.com_ibm_vis_internal_json_RaveSchema=b.com_ibm_init_declare({constructor:function(){this.re_2=new b.com_ibm_rave_codegenerator_util_Map;(function(a){this.sm_1=a;this.rc$2(a,!1)}).apply(this,arguments)},resolve:function(a){return this.re_2.get(a)},rc$2:function(a,d){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a))if(d)for(var c=0,e=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),g=e.length;c<
g;++c){var f=e[c];this.rc$2(a[f],!1)}else for(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"id")&&this.re_2.put(a.id,a),c=0,e=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a),g=e.length;c<g;++c)f=e[c],this.rc$2(a[f],"properties"==f);else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a))for(f=a.length,c=0;c<f;++c)this.rc$2(a[c],!1)},getSchema:function(){return this.sm_1}});b.com_ibm_vis_internal_json_RaveSchema.ID="id";b.com_ibm_vis_internal_json_RaveSchema.PE_1=
"properties";b.com_ibm_vis_internal_json_SchemaValidator=b.com_ibm_init_declare({it_2:!1,constructor:function(){this.ra_2=new b.com_ibm_rave_codegenerator_util_Map;this.ia_3=new b.com_ibm_rave_codegenerator_util_Map;(function(a){this.sm_2=a}).apply(this,arguments)},validate:function(a){var d=b.com_ibm_vis_internal_json_SchemaValidator.ok();this.ce$7(d,this.sm_2.sm_1,a,null,null,!0);this.ce$4();return d},ce$4:function(){this.ce$6();this.ce$5()},ce$5:function(){for(var a=0,d=this.ra_2.keySet().arrayIterator(),
c=d.length;a<c;++a){var e=d[a];if(0!=this.ra_2.get(e).size())for(var g=this.ra_2.get(e),f=0,h=g.keySet().arrayIterator(),l=h.length;f<l;++f){var m=h[f],p=g.get(m);if(null!=p&&p!=b.com_ibm_vis_internal_json_SchemaValidator.RC_1){var q=this.ia_3.get(e);if(null!=q&&(q.CPVISEngineStartsWith("Derived")&&q.CPVISEngineEndsWith(p)&&(q=p),q!=p))throw new b.com_ibm_vis_exceptions_internal_SpecException('The reference to the Id : "'+e+'" at the location '+m+" is incorrect. It is a reference of the type : "+
b.com_ibm_vis_internal_json_SchemaValidator.tm$1(q)+" , while it should be a reference of type : "+b.com_ibm_vis_internal_json_SchemaValidator.tm$1(p)+".",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_REFERENCE_TYPE);}}}},ce$6:function(){this.re$2();for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.ra_2.keySet().arrayIterator(),e=c.length;d<e;++d){var g=c[d];this.ia_3.containsKey(g)||a.add(g)}if(!a.isEmpty())throw a=b.com_ibm_vis_internal_json_SchemaValidator.cn$3(a),new b.com_ibm_vis_exceptions_internal_SpecException("The reference is not defined in the spec: "+
a,b.com_ibm_vis_exceptions_ErrorCode.SPEC_UNDEFINED_REFERENCE);},re$2:function(){for(var a=this.ra_2.keySet(),d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=a.arrayIterator(),g=e.length;c<g;++c)for(var f=e[c],h=this.ra_2.get(f),l=0,m=h.keySet().arrayIterator(),p=m.length;l<p;++l){var q=h.get(m[l]);(null==q||q.CPVISEngineContains("Field"))&&this.it_2&&d.add(f)}0<d.size()&&a.removeAll(d)},ce$7:function(a,d,c,e,g,f){e=b.com_ibm_vis_internal_json_SchemaValidator.ct$2(e,g);g=d.$ref;null!=g&&(d=this.sm_2.resolve(g));
this.cp$2(a,d.type,c,e,f);if(null!=c){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(c)){g=d.items;if(null!=g)if(f=c.length,b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(g))for(var h=0;h<f;++h)this.ce$7(a,g[h],c[h],e,h,!0);else for(h=0;h<f;++h)this.ce$7(a,g,c[h],e,h,!1);f=c.length;g=d.minItems;null!=g&&f<b.com_ibm_rave_codegenerator_lang_Integer.parseInt(g.toString())&&a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(105,e,"'"+f+"' is less than the minimum array size "+b.com_ibm_rave_codegenerator_lang_Integer.parseInt(d.minItems.toString())+
"."));g=d.maxItems;null!=g&&f>b.com_ibm_rave_codegenerator_lang_Integer.parseInt(g.toString())&&a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(106,e,"'"+f+"' is greater than the maximum array size "+b.com_ibm_rave_codegenerator_lang_Integer.parseInt(g.toString())+"."))}else f=d.properties,null!=f&&this.cc$2(a,d,f,c,d[b.com_ibm_vis_internal_json_SchemaValidator.AE_1],e);f=d.minimum;null!=f&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c)&&f>c&&a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(107,
e,"'"+c+"' is less than the minimum value of "+f+"."));f=d.maximum;null!=f&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(c)&&f<c&&a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(108,e,"'"+c+"' is greater than the maximum value of "+f+"."));f=d["enum"];null!=f&&b.com_ibm_vis_internal_json_SchemaValidator.vm$1(a,c,e,d,f)}},aa$1:function(a,d,c){var e=this.ra_2.get(a);e?e.put(c,d):(e=new b.com_ibm_rave_codegenerator_util_Map,e.put(c,d),this.ra_2.put(a,e))},cp$2:function(a,d,c,e,g){if(null!=
d)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)&&b.com_ibm_vis_internal_json_SchemaValidator.cp$1(d,c,g)&&a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(103,e,"Value of type '"+b.com_ibm_vis_internal_json_SchemaValidator.gp$1(c)+"' found, but '"+d+"' is required.")),b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(d)){for(var f=null,h=null,l=d.length,m=null,p=0;p<l;++p){var q=d[p];b.com_ibm_rave_codegenerator_util_BasicFactory.isString(q)?b.com_ibm_vis_internal_json_SchemaValidator.cp$1(q,
c,g)?f=b.com_ibm_vis_internal_json_SchemaValidator.eo$2(103,e,"Value of type '"+b.com_ibm_vis_internal_json_SchemaValidator.gp$1(c)+"' found, but '"+q+"' is required."):h=f=null:(f=b.com_ibm_vis_internal_json_SchemaValidator.ok(),this.cp$2(f,q,c,e,g));if(!f||f.isOK())break;m||(m=Array(l));m[p]=q;h=b.com_ibm_vis_internal_json_SchemaValidator.gi$1(h,f)}f&&!f.isOK()&&h&&(h.isERROR()?(d=b.com_ibm_vis_internal_json_SchemaValidator.bn$1(m),c=b.com_ibm_vis_internal_json_SchemaValidator.eo$2(103,e,"Value '"+
c+"' of type '"+b.com_ibm_vis_internal_json_SchemaValidator.gp$1(c)+"' found, but one of "+d+" is required."),c.add(h),a.add(c)):a.add(h))}else b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(d)&&this.ce$7(a,d,c,e,null,g)},cc$2:function(a,d,c,e,g,f){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(c)){b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(e)||a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(101,f,"An object is required."));for(var h=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(c),
l=0,m=h.length;l<m;++l){var p=h[l],q=c[p],r=b.com_ibm_vis_internal_json_SchemaValidator.iu$1(q,"required");if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(e,p)){var t=e[p];if("id"==p&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(t))this.ia_3.put(t,d.classType);else if("$ref"==p)if(null!=d.$ref)this.aa$1(t,d.$ref,f);else{var w=d.referTo;null!=w?this.aa$1(t,w,f):this.aa$1(t,null,f)}else"provider"==p&&(this.it_2=!0);this.ce$7(a,q,t,f,p,r)}else r&&a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(102,
f,"Missing required value '"+p+"'."))}}if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(e))for(d=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(e),h=0,l=d.length;h<l;++h)p=d[h],null==c||b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(c,p)||(b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(g)&&!g.valueOf()?a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(100,f,"The property "+p+" is not defined in the schema and the schema does not allow additional properties.")):
a.add(b.com_ibm_vis_internal_json_SchemaValidator.wn$1(1,f,"The property '"+p+"' is not defined in the schema.",e,p)))}});b.com_ibm_vis_internal_json_SchemaValidator.tm$1=function(a){return a.CPVisEngineReplace("Spec","")};b.com_ibm_vis_internal_json_SchemaValidator.cn$3=function(a){for(var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,c=0;c<a.size()-1;++c)d.append(a.get(c)),d.appendChar(44);d.append(a.get(c));return d.toString()};b.com_ibm_vis_internal_json_SchemaValidator.ct$2=function(a,
d){var c;null==a?c=null==d?"":d.toString():b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)?c=a+"["+d+"]":b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)?(c=a,a.CPVisEngineIsEmpty()||(c+="."),c+=d.toString()):c=a;return c};b.com_ibm_vis_internal_json_SchemaValidator.vm$1=function(a,d,c,e,g){e=g.length;for(var f,h=0;h<e;++h){var l=g[h];if(l==d||null!=l&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(l)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d)&&l==d||
b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(l)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(d)&&l.valueOf()==d.valueOf()||b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(l)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)&&l==d)){f=null;break}f||(f=Array(e));f[h]=l}f&&(g=b.com_ibm_vis_internal_json_SchemaValidator.bn$1(f),a.add(b.com_ibm_vis_internal_json_SchemaValidator.eo$2(104,c,"Value of '"+d.toString()+"' does not exist in the enumeration "+g+".")))};
b.com_ibm_vis_internal_json_SchemaValidator.cp$1=function(a,d,c){var e=!1;"any"!=a&&("null"==a?e=null!=d:null==d?e=c:"number"==a?e=!b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d):"array"==a?e=!b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(d):"integer"==a?b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)&&0==d%1||(e=!0):b.com_ibm_vis_internal_json_SchemaValidator.gp$1(d)!=a&&(e=a.equals("double")?"number"!=b.com_ibm_vis_internal_json_SchemaValidator.gp$1(d):!0));return e};
b.com_ibm_vis_internal_json_SchemaValidator.gi$1=function(a,d){if(!a)return d;if(!d)return a;if(b.com_ibm_vis_internal_json_SchemaValidator.hp$1(a))return d;if(b.com_ibm_vis_internal_json_SchemaValidator.hp$1(d))return a;var c=b.com_ibm_vis_internal_json_SchemaValidator.un$1(a.ce_8),e=b.com_ibm_vis_internal_json_SchemaValidator.un$1(d.ce_8);if(c<e)return a;if(e<c)return d;if(a.st_1<d.st_1)return a;if(d.st_1<a.st_1)return d;c=b.com_ibm_vis_internal_json_SchemaValidator.en$2(a.ce_8);e=b.com_ibm_vis_internal_json_SchemaValidator.en$2(d.ce_8);
return c<e?a:e<c?d:a.ce_8.size()<=d.ce_8.size()?a:d};b.com_ibm_vis_internal_json_SchemaValidator.hp$1=function(a){if(103==a.code)return!0;var b=a.ce_8;if(b){a=0;for(var b=b.arrayIterator(),c=b.length;a<c;++a)if(103==b[a].code)return!0}return!1};b.com_ibm_vis_internal_json_SchemaValidator.en$2=function(a){var b=0,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)2==a[c].st_1&&b++;return b};b.com_ibm_vis_internal_json_SchemaValidator.un$1=function(a){var b=0,c=0;a=a.arrayIterator();for(var e=a.length;c<
e;++c){var g=a[c];1!=g.code&&100!=g.code||b++}return b};b.com_ibm_vis_internal_json_SchemaValidator.gp$1=function(a){if(null==a)return"null";if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))return"string";if(b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a))return"boolean";if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return"number";if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a))return"array";if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a))return"object";
throw new b.com_ibm_rave_codegenerator_io_WebEngineException("Unexpected type for value '"+a+"'.");};b.com_ibm_vis_internal_json_SchemaValidator.iu$1=function(a,d){if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,d)){var c=a[d];if(b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(c))return c.valueOf()}return!1};b.com_ibm_vis_internal_json_SchemaValidator.ok=function(){return new b.com_ibm_vis_internal_json_Diagnostic(0,-1,null,null)};b.com_ibm_vis_internal_json_SchemaValidator.eo$2=
function(a,d,c){return b.com_ibm_vis_internal_json_SchemaValidator.ci$2(2,a,d,c,null,null)};b.com_ibm_vis_internal_json_SchemaValidator.wn$1=function(a,d,c,e,g){return b.com_ibm_vis_internal_json_SchemaValidator.ci$2(1,a,d,c,e,g)};b.com_ibm_vis_internal_json_SchemaValidator.ci$2=function(a,d,c,e,g,f){a=new b.com_ibm_vis_internal_json_Diagnostic(a,d,c,e);g&&(d=new b.com_ibm_rave_codegenerator_util_List(2),d.add(g),d.add(f),a.data=d);return a};b.com_ibm_vis_internal_json_SchemaValidator.fixWarnings=
function(a){var d=!1;if(1==a.st_1&&1==a.code){var c=a.data;c&&2==c.size()&&b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(c.get(0))&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(c.get(1))&&(b.com_ibm_rave_codegenerator_util_BasicFactory.remove(c.get(0),c.get(1)),d=!0)}if(a=a.ce_8)for(c=0;c<a.size();++c)d=b.com_ibm_vis_internal_json_SchemaValidator.fixWarnings(a.get(c))||d;return d};b.com_ibm_vis_internal_json_SchemaValidator.bn$1=function(a){for(var d=new b.com_ibm_rave_codegenerator_lang_StringBuilder,
c=0;c<a.length;++c)null!=a[c]&&(0<d.length()&&d.append(", "),d.append("'"),d.append(a[c]),d.append("'"));return d.toString()};b.com_ibm_vis_internal_json_SchemaValidator.SPEC="Spec";b.com_ibm_vis_internal_json_SchemaValidator.DE_3="Derived";b.com_ibm_vis_internal_json_SchemaValidator.UNEXPECTED_OBJECT_CODE=1;b.com_ibm_vis_internal_json_SchemaValidator.UNEXPECTED_OBJECT_STRICT_CODE=100;b.com_ibm_vis_internal_json_SchemaValidator.REQUIRED_OBJECT_CODE=101;b.com_ibm_vis_internal_json_SchemaValidator.REQUIRED_VALUE_CODE=
102;b.com_ibm_vis_internal_json_SchemaValidator.BAD_TYPE_CODE=103;b.com_ibm_vis_internal_json_SchemaValidator.BAD_ENUM_CODE=104;b.com_ibm_vis_internal_json_SchemaValidator.MIN_ITEMS_CODE=105;b.com_ibm_vis_internal_json_SchemaValidator.MAX_ITEMS_CODE=106;b.com_ibm_vis_internal_json_SchemaValidator.MIN_VALUE_CODE=107;b.com_ibm_vis_internal_json_SchemaValidator.MAX_VALUE_CODE=108;b.com_ibm_vis_internal_json_SchemaValidator.TN_2="any";b.com_ibm_vis_internal_json_SchemaValidator.TL_3="null";b.com_ibm_vis_internal_json_SchemaValidator.TE_2=
"integer";b.com_ibm_vis_internal_json_SchemaValidator.TE_3="number";b.com_ibm_vis_internal_json_SchemaValidator.TA_4="boolean";b.com_ibm_vis_internal_json_SchemaValidator.TC_2="object";b.com_ibm_vis_internal_json_SchemaValidator.TA_3="array";b.com_ibm_vis_internal_json_SchemaValidator.TN_3="string";b.com_ibm_vis_internal_json_SchemaValidator.REF="$ref";b.com_ibm_vis_internal_json_SchemaValidator.ID="id";b.com_ibm_vis_internal_json_SchemaValidator.IM_1="items";b.com_ibm_vis_internal_json_SchemaValidator.PE_2=
"properties";b.com_ibm_vis_internal_json_SchemaValidator.TYPE="type";b.com_ibm_vis_internal_json_SchemaValidator.RE_1="required";b.com_ibm_vis_internal_json_SchemaValidator.MU_3="minimum";b.com_ibm_vis_internal_json_SchemaValidator.MU_2="maximum";b.com_ibm_vis_internal_json_SchemaValidator.MM_2="minItems";b.com_ibm_vis_internal_json_SchemaValidator.MM_1="maxItems";b.com_ibm_vis_internal_json_SchemaValidator.ENUM="enum";b.com_ibm_vis_internal_json_SchemaValidator.AE_1="additionalProperties";b.com_ibm_vis_internal_json_SchemaValidator.CP_2=
"classType";b.com_ibm_vis_internal_json_SchemaValidator.PE_3="provider";b.com_ibm_vis_internal_json_SchemaValidator.FL_1="Field";b.com_ibm_vis_internal_json_SchemaValidator.RC_1="ReferenceSpec";b.com_ibm_vis_internal_json_SchemaValidator.RT_1="referTo";b.com_ibm_vis_internal_json_SpecValidator=b.com_ibm_init_declare({});b.com_ibm_vis_internal_json_SpecValidator.validate=function(a){return b.com_ibm_vis_internal_json_SpecValidator.validateWith(a,null)};b.com_ibm_vis_internal_json_SpecValidator.validateWith=
function(a,d){var c=d;if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"version"))c=b.com_ibm_vis_engine_internal_util_Version.parseVersion(a.version);else if(!d)throw new b.com_ibm_vis_exceptions_internal_SpecException("A 'version' is required.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);return b.com_ibm_vis_internal_json_SpecValidator.validateAs(a,c)};b.com_ibm_vis_internal_json_SpecValidator.validateAs=function(a,d){if(0>d.compareTo(b.com_ibm_vis_internal_json_SpecValidator.FS_1))return new b.com_ibm_vis_internal_json_Diagnostic(1,
1001,null,"The specification could not be validated because its version is less than "+b.com_ibm_vis_internal_json_SpecValidator.FS_1.toString());var c=b.com_ibm_vis_internal_json_SpecValidator.ra_3.get(d);if(!c&&(c=b.com_ibm_vis_internal_json_SpecValidator.ra_3.get(d),!c)){var e;try{if(e=b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getRaveSchema(d))c=new b.com_ibm_vis_internal_json_RaveSchema(e),b.com_ibm_vis_internal_json_SpecValidator.ra_3.put(d,c);else throw new b.com_ibm_vis_exceptions_internal_SpecException("Could not find a valid schema to validate specification 'version': "+
d+". The schema is invalid or empty. Consider disabling validation.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);}catch(g){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(g,b.com_ibm_rave_codegenerator_io_WebEngineException))throw new b.com_ibm_vis_exceptions_internal_SpecException("Could not find a schema to validate specification 'version': "+d+". The schema failed to load. Consider disabling validation.",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);throw g;}}return(new b.com_ibm_vis_internal_json_SchemaValidator(c)).validate(a)};
b.com_ibm_vis_internal_json_SpecValidator.TOO_OLD_CODE=1001;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_internal_json_SpecValidator.FS_1=new b.com_ibm_vis_engine_internal_util_Version(1,2,0);b.com_ibm_vis_internal_json_SpecValidator.VO_5="version";b.com_ibm_vis_internal_json_SpecValidator.ra_3=new b.com_ibm_rave_codegenerator_util_HashMap(6)});b.com_ibm_vis_engine_internal_migration_MigrationStrategy=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_migration_JSONMigration=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,{constructor:function(){this.se_8=new b.com_ibm_rave_codegenerator_util_List},migrate:function(a){return this.dt$2(a,!1)},getMigrated:function(a){return this.dt$2(a,!0)},dt$2:function(a,d){this.se$3();var c=this.getTargetVersion(),e=!1,g;if(!this.se_8.isEmpty()&&b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"version")){for(var f=b.com_ibm_vis_engine_internal_util_Version.parseVersion(a.version),h=null,
l=0;l<this.se_8.size();++l){var m=this.se_8.get(l);0>=m.getTargetVersion().compareTo(c)&&0>f.compareTo(m.getTargetVersion())&&(g||(g=d?b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(a):a),h&&0>h.compareTo(m.getTargetVersion())&&(g.version=h.toString(),h=null),m.migrate(g)&&(h=m.getTargetVersion(),e=!0))}h&&(g.version=h.toString())}return e?g:null},getStrategies:function(){return this.se_8},addStrategy:function(a){this.se_8.add(a)},getTargetVersion:function(){if(this.se_8.isEmpty())return null;
this.se$3();return this.se_8.get(this.se_8.size()-1).getTargetVersion()},se$3:function(){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(this.se_8,new b.com_ibm_vis_engine_internal_migration_MigrationStrategyComparator)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_JSONMigration.VERSION="version"});b.com_ibm_vis_engine_internal_migration_MigrationStrategyComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,d){var c=
a.getTargetVersion().compareTo(d.getTargetVersion());0==c&&(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy)&&!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy)?c=1:!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,
b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy)&&(c=-1));return c}});b.com_ibm_vis_engine_internal_migration_EvaluationContext=b.com_ibm_init_declare({constructor:function(){this.ve_1=new b.com_ibm_rave_codegenerator_util_Map;this.pe_4=new b.com_ibm_rave_codegenerator_util_HashMap;(function(a,b){this.cx_3=a;this.pn_2=b}).apply(this,arguments)},getParent:function(){return this.pn_2},reset:function(){this.ve_1.clear();this.pe_4.clear()},getContext:function(){return this.cx_3},
getVariables:function(){return this.ve_1},getProperties:function(){return this.pe_4},getVariable:function(a){var b;this.ve_1.containsKey(a)?b=this.ve_1.get(a):this.pn_2&&(b=this.pn_2.getVariable(a));return b},getProperty:function(a){var b;this.pe_4.containsKey(a)?b=this.pe_4.get(a):this.pn_2&&(b=this.pn_2.getProperty(a));return b},getResolvedValue:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){if(a.CPVISEngineStartsWith("$"))return this.getVariable(a.substring(1));if(a.CPVISEngineStartsWith("\\$"))return a.substring(1)}return a}});
b.com_ibm_vis_engine_internal_migration_StrategyReference=b.com_ibm_init_declare({constructor:function(a,b){this.id=a;this.pr_4=b},get:function(a){a=a.getProperty(b.com_ibm_vis_engine_internal_migration_StrategyReference.VERSION_PROPERTY);if(!a)throw new b.com_ibm_rave_codegenerator_io_WebEngineException("No 'version' property found in the evaluation context.");return b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(this.id,new b.com_ibm_vis_engine_internal_migration_ExtensionParameter(a,
this.pr_4))}});b.com_ibm_vis_engine_internal_migration_StrategyReference.parse=function(a){var d;a&&(d=new b.com_ibm_vis_engine_internal_migration_StrategyReference(a.id,a.parameters));return d};b.com_ibm_vis_engine_internal_migration_StrategyReference.VERSION_PROPERTY="StrategyReference.version";b.com_ibm_vis_engine_internal_migration_ExtensionParameter=b.com_ibm_init_declare({constructor:function(a,b){this.vo_2=a;this.pr_3=b},getVersion:function(){return this.vo_2},getParameters:function(){return this.pr_3}});
b.com_ibm_vis_engine_internal_migration_PathExpression=b.com_ibm_init_declare({constructor:function(a){a=b.com_ibm_vis_engine_internal_migration_PathSegment.split(a,46);for(var d=0,c=a.length;d<c;++d)for(var e=b.com_ibm_vis_engine_internal_migration_PathExpression.sy$1(a[d]),g=0,f=e.length;g<f;++g)this.ln_1=new b.com_ibm_vis_engine_internal_migration_PathSegment(e[g],this.ln_1)},convertVariableDeclarationToReference:function(){var a=this.ln_1;do a.convertVariableDeclarationToReference();while(a=a.pn_3)},
evaluate:function(a){return this.ln_1.evaluate(a)},next:function(a){return this.ln_1.next(a)},assign:function(a,b){this.ln_1.assign(a,b)},concat:function(a,b){this.ln_1.concat(a,b)},remove:function(a){return this.ln_1.remove(a)}});b.com_ibm_vis_engine_internal_migration_PathExpression.sy$1=function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=a.length,e=new b.com_ibm_rave_codegenerator_lang_StringBuilder,g=0,f=0,h=0;h<c;++h){var l=a.charCodeAt(h);0==g&&93==f?91==l&&(g++,d.add(e.toString()),
e=new b.com_ibm_rave_codegenerator_lang_StringBuilder):91==l||40==l?g++:93!=l&&41!=l||g--;e.appendChar(l);f=l}d.add(e.toString());return d.toArray(Array(d.size()))};b.com_ibm_vis_engine_internal_migration_PathSegment=b.com_ibm_init_declare({ia_1:!1,ia_2:!1,dg_1:!1,ae_2:!1,io_3:!1,io_1:!1,it_1:!1,all:!1,or_1:0,on_1:0,io_2:!1,constructor:function(){this.rt_1="$";(function(a,d){if(this.pn_3=d)d.cl_3=this;var c,e=a.indexOfCharCode(91);if(0<=e){if(c=a.substring(0,e),this.ia_1=!0,this.ia_2=0==c.length,
e=a.substring(e+1,a.length-1),0<e.length&&(this.ae_2=!0,e=b.com_ibm_vis_engine_internal_migration_PathSegment.split(e,58),this.rr_1=e[0],this.pe$1(!0),"*"==this.rr_1?this.io_1=this.io_3=!0:this.rr_1.CPVISEngineStartsWith("$$")&&(this.io_3=!0),2==e.length&&(this.dg_1=!0,this.rn_1=e[1],this.pe$1(!1),"*"==this.rr_1)))throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid range '"+this.rr_1+String.fromCharCode(58)+this.rn_1+"'.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);
}else c=a;if(c.CPVISEngineStartsWith("//"))if(this.ae_2)this.pn_3=new b.com_ibm_vis_engine_internal_migration_PathSegment(c,this.pn_3),this.pn_3.cl_3=this,this.ia_2=!0,c="";else{for(e=this.pn_3;e;){if(e.all)throw new b.com_ibm_vis_exceptions_internal_EngineException("Only one path segment with '//' is allowed in a qualified path.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);e=e.pn_3}this.all=this.ia_1=!0;c=c.substring(2)}else if(c.CPVISEngineStartsWith("/")){if(this.pn_3)throw new b.com_ibm_vis_exceptions_internal_EngineException("A root reference with '/' is only allowed as the first segment in a qualified path.",
b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);this.io_2=!0;c=c.substring(1)}if(c.CPVISEngineStartsWith("$"))this.it_1=!0,this.pn_4=c.substring(1);else if(c.CPVISEngineStartsWith("%")){if(this.pn_3||this.all||this.io_2)throw new b.com_ibm_vis_exceptions_internal_EngineException("An object reference with '%' is only allowed as the first segment in a qualified path.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);this.vc_1=c.substring(1);this.pn_4=""}else this.pn_4=
b.com_ibm_vis_engine_internal_migration_PathSegment.ut$1(c)}).apply(this,arguments)},convertVariableDeclarationToReference:function(){this.io_3=!1;this.rt_1="$$";this.io_1&&(this.rr_1=this.rt_1+this.gl$2())},gl$2:function(){for(var a=0,b=this;b=b.pn_3;)b.io_1&&a++;return""+a},pe$1:function(a){var d=a?this.rr_1:this.rn_1,c=!0,e=b.com_ibm_vis_engine_internal_migration_PathSegment.split(d,43);2!=e.length&&(c=!1,e=b.com_ibm_vis_engine_internal_migration_PathSegment.split(d,45));2==e.length&&(d=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(e[1],
10),c||(d=0-d),a?(this.rr_1=e[0],this.or_1=d):(this.rn_1=e[0],this.on_1=d))},getParent:function(){return this.pn_3},evaluate:function(a){return this.ct$1(a,!1)},ge$3:function(a,d){var c;if(this.dg_1){var e=d.pe_4.get(this);if(!e){var e=this.pg$1(d,this.rr_1,this.or_1),g=this.pg$1(d,this.rn_1,this.on_1);-1==e&&(e=g);-1==g&&(g=e);if(-1==e&&-1==g)throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid range ["+this.rr_1+"-"+this.rn_1+"]",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);
e=new b.com_ibm_vis_engine_internal_migration_ArrayRange(e,g);d.pe_4.put(this,e)}c=e.current}else this.io_3||this.all?(e=d.pe_4.get(this),e||(e=0,g=a.length-1,this.all?e=new b.com_ibm_vis_engine_internal_migration_SpecifiedArrayRange(e,g,a):(c=this.io_1?this.gl$2():this.rr_1.substring(2),e=new b.com_ibm_vis_engine_internal_migration_VariableArrayRange(e,g,c),d.ve_1.put(c,e.current)),d.pe_4.put(this,e)),c=e.current):c=this.pg$1(d,this.rr_1,this.or_1);return c},next:function(a){if(this.ia_1){var d=
a.pe_4.get(this);!d&&(this.dg_1||this.io_3||this.all)&&(d=this.gc$4(a,!1),null!=d&&(d=this.ga$3(d,a))&&this.ge$3(d,a),d=a.pe_4.get(this));if(d)return d.current<d.end?(d.current++,b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_migration_VariableArrayRange)&&a.ve_1.put(d.variable,d.current),!0):this.pn_3&&this.pn_3.next(a)?(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_migration_VariableArrayRange)&&a.ve_1.remove(d.variable),
a.pe_4.remove(this),!0):!1}return this.pn_3?this.pn_3.next(a):!1},ct$1:function(a,d){var c=b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST;if(null!=this.vc_1){var e=this.gc$5(a);if(this.ia_1){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(e))if(this.ae_2){var g=this.ge$3(e,a);g<e.length&&(c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(e[g]))}else c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(e)}else c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(e);
return c}var f=this.gt$1(a),h=this.gc$4(a,d);if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(h)&&"length"==f)return new b.com_ibm_vis_engine_internal_migration_EvaluationResult(h.length);if(null!=h)if(this.ia_1&&(this.ae_2||this.all))if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(h)||b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(h)){e=this.ga$3(h,a);g=-1;if(this.ae_2&&(!e&&d&&(e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),h[f]=e),d))for(g=this.ge$3(e,
a),f=e.length;g>=f;)h=null,this.cl_3&&f==g&&(h=this.cl_3.ia_2?b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray():b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject()),e.push(h),f++;e&&(-1==g&&(g=this.ge$3(e,a)),g<e.length&&(c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(e[g])))}else c=b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST;else this.ia_2&&b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(h)?c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(h):
b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(h)&&b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(h,f)&&(c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(h[f])),d&&null==c.vu_3&&(c=this.ia_1?b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray():b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),h[f]=c,c=new b.com_ibm_vis_engine_internal_migration_EvaluationResult(c));return c},gc$4:function(a,d){var c;if(null!=this.vc_1)c=a.getVariable(this.vc_1);
else if(this.pn_3){var e=this.pn_3.ct$1(a,d);e!=b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST&&(c=e.vu_3)}else if(c=a.cx_3,this.io_2)for(e=a;e=e.getParent();)c=e.cx_3;return c},gc$5:function(a){return a.getVariable(this.vc_1)},assign:function(a,d){var c=this.gc$4(a,!0),e=this.gt$1(a);if(this.ia_1&&this.ae_2){var g=this.ga$3(c,a);g||(g=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),c[e]=g);for(c=this.ge$3(g,a);c>=g.length;)g.push(null);b.com_ibm_rave_codegenerator_util_BasicFactory.setAt(g,
d,c)}else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(c))c[e]=d;else throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to assign a value to '"+e+"' due to an invalid value in the path.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);},concat:function(a,d){if(this.ia_1&&!this.ae_2){var c=this.ct$1(a,!0);if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(d))b.com_ibm_rave_codegenerator_util_BasicFactory.addAll(c.vu_3,d);else if(c.isArray())c.vu_3.push(d);
else throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to concat a value to '"+this.gt$1(a)+"' due to an invalid value in the path.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);}else throw new b.com_ibm_vis_exceptions_internal_EngineException("Concatenation is not supported for '"+this.gt$1(a)+"' because it is not an array.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_INVALID_PATH_EXPRESSION);},remove:function(a){var d=!1,c;c=this.pn_3?this.pn_3.ct$1(a,
!1).vu_3:a.cx_3;null!=c&&(this.ia_1&&this.ae_2?(c=this.ga$3(c,a))&&this.ge$3(c,a)<c.length&&(d=!0,b.com_ibm_rave_codegenerator_util_BasicFactory.removeAt(c,this.ge$3(c,a)),a=a.pe_4.get(this))&&(a.current--,a.end--):b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(c)&&(a=this.gt$1(a),b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(c,a)&&(d=!0,b.com_ibm_rave_codegenerator_util_BasicFactory.remove(c,a))));return d},pg$1:function(a,d,c){return d.CPVISEngineStartsWith(this.rt_1+"(")?
(a=(new b.com_ibm_vis_engine_internal_migration_PathExpression(d.substring(this.rt_1.length+1,d.length-1))).evaluate(a).vu_3,null==a?-1:a+c):d.CPVISEngineStartsWith(this.rt_1)?a.getVariable(d.substring(this.rt_1.length))+c:b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(d,10)+c},gt$1:function(a){return this.it_1?a.getVariable(this.pn_4):this.pn_4},ga$3:function(a,d){var c,e=this.gt$1(d);this.ia_2?b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a)&&(c=a):this.all?(c=d.pe_4.get(this))?
c=c.array:(c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray(),this.oc$1(d,a,c)):b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)&&(e=a[e],b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(e)&&(c=e));return c},oc$1:function(a,d,c){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(d)){var e=this.gt$1(a);b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(d,e)&&(this.cl_3?c.push(d[e]):c.push(d));for(var e=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(d),
g=0,f=e.length;g<f;++g)this.oc$1(a,d[e[g]],c)}else if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(d))for(e=d.length,g=0;g<e;++g)this.oc$1(a,d[g],c)}});b.com_ibm_vis_engine_internal_migration_PathSegment.ut$1=function(a){return a.CPVISEngineStartsWith("\\$")||a.CPVISEngineStartsWith("\\%")?a.substring(1):a};b.com_ibm_vis_engine_internal_migration_PathSegment.split=function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=a.length,g=new b.com_ibm_rave_codegenerator_lang_StringBuilder,
f=0,h=0;h<e;++h){var l=a.charCodeAt(h);if(91==l||40==l)f++;else if(93==l||41==l)f--;else if(l==d&&0==f){c.add(g.toString());g=new b.com_ibm_rave_codegenerator_lang_StringBuilder;continue}g.appendChar(l)}c.add(g.toString());return c.toArray(Array(c.size()))};b.com_ibm_vis_engine_internal_migration_PathSegment.AT_1="length";b.com_ibm_vis_engine_internal_migration_PathSegment.ALL="//";b.com_ibm_vis_engine_internal_migration_PathSegment.WILD="*";b.com_ibm_vis_engine_internal_migration_PathSegment.ROOT=
"/";b.com_ibm_vis_engine_internal_migration_PathSegment.VAR="$";b.com_ibm_vis_engine_internal_migration_PathSegment.VARD="$$";b.com_ibm_vis_engine_internal_migration_PathSegment.VB_1="%";b.com_ibm_vis_engine_internal_migration_PathSegment.RG_1=58;b.com_ibm_vis_engine_internal_migration_PathSegment.PLUS=43;b.com_ibm_vis_engine_internal_migration_PathSegment.MU_1=45;b.com_ibm_vis_engine_internal_migration_ArrayRange=b.com_ibm_init_declare({end:0,current:0,constructor:function(a,b){this.end=b;this.current=
a}});b.com_ibm_vis_engine_internal_migration_SpecifiedArrayRange=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_ArrayRange,{constructor:function(a,b,c){this.array=c}});b.com_ibm_vis_engine_internal_migration_VariableArrayRange=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_ArrayRange,{constructor:function(a,b,c){this.variable=c}});b.com_ibm_vis_engine_internal_migration_EvaluationResult=b.com_ibm_init_declare({constructor:function(a){this.vu_3=a},getValue:function(){return this.vu_3},
isArray:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(this.vu_3)},isObject:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(this.vu_3)},isString:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.vu_3)},isNumber:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(this.vu_3)},isBoolean:function(){return b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(this.vu_3)}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST=
new b.com_ibm_vis_engine_internal_migration_EvaluationResult(null)});b.com_ibm_vis_engine_internal_migration_ConverterReference=b.com_ibm_init_declare({constructor:function(a,b){this.id=a;this.pr_2=b},get:function(){return b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(this.id,this.pr_2)}});b.com_ibm_vis_engine_internal_migration_ConverterReference.parse=function(a){var d;a&&(d=new b.com_ibm_vis_engine_internal_migration_ConverterReference(a.id,a.parameters));return d};
b.com_ibm_vis_engine_internal_migration_Guard=b.com_ibm_init_declare({hu_1:!1,constructor:function(a,d,c,e,g,f){this.eo_1=null!=a?new b.com_ibm_vis_engine_internal_migration_PathExpression(a):null;this.hu_1=d;this.vu_4=c;this.type=e;this.li_1=g;this.gd_1=f},execute:function(a){a=this.dt$1(new b.com_ibm_vis_engine_internal_migration_EvaluationContext(a.cx_3,a));return"not"==this.li_1?!a:a},dt$1:function(a){if(this.eo_1){do{var b=this.eo$1(a)&&this.ed$1(a);if("or"==this.li_1){if(b)return!0}else if(!b)return!1}while(this.eo_1.next(a));
return"or"==this.li_1?!1:!0}return this.ed$1(a)},ed$1:function(a){if(this.gd_1){for(var b=0,c=this.gd_1.arrayIterator(),e=c.length;b<e;++b){var g=c[b].execute(a);if("or"==this.li_1){if(g)return!0}else if(!g)return!1}return"or"==this.li_1?!1:!0}return!0},eo$1:function(a){var d=this.eo_1.evaluate(a);if(null!=this.type&&d!=b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST){var c=!0;"string"==this.type?c=d.isString():"object"==this.type?c=d.isObject():"array"==this.type?c=d.isArray():
"number"==this.type?c=d.isNumber():"boolean"==this.type&&(c=d.isBoolean());if(!c)return!1}if(!this.hu_1)return d!=b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST;if(d==b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST)return!1;a=a.getResolvedValue(this.vu_4);return b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?d.isString()&&a==d.vu_3:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a)?d.isNumber()&&a==d.vu_3:b.com_ibm_rave_codegenerator_util_BasicFactory.isBoolean(a)?
d.isBoolean()&&a.valueOf()==d.vu_3.valueOf():b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a)?d.isArray()&&b.com_ibm_rave_codegenerator_util_BasicFactory.isEqual(a,d.vu_3):b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)?d.isObject()&&b.com_ibm_rave_codegenerator_util_BasicFactory.isEqual(a,d.vu_3):a==d.vu_3}});b.com_ibm_vis_engine_internal_migration_Guard.parse=function(a){for(var d=a?a.length:0,c=new b.com_ibm_rave_codegenerator_util_List(d),e=0;e<d;++e){var g=a[e];c.add(new b.com_ibm_vis_engine_internal_migration_Guard(g.expression,
b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(g,"value"),g.value,g.type,g.logic,b.com_ibm_vis_engine_internal_migration_Guard.parse(g.guard)))}return c};b.com_ibm_vis_engine_internal_migration_Guard.NOT="not";b.com_ibm_vis_engine_internal_migration_Guard.OR="or";b.com_ibm_vis_engine_internal_migration_Guard.TN_1="string";b.com_ibm_vis_engine_internal_migration_Guard.TC_1="object";b.com_ibm_vis_engine_internal_migration_Guard.TA_1="array";b.com_ibm_vis_engine_internal_migration_Guard.TE_1=
"number";b.com_ibm_vis_engine_internal_migration_Guard.TA_2="boolean";b.com_ibm_vis_engine_internal_migration_Mapping=b.com_ibm_init_declare({hu_2:!1,constructor:function(a,d,c,e,g,f,h,l,m,p,q,r){this.se_9=d;this.ce_10=c;this.so_6=null!=e?new b.com_ibm_vis_engine_internal_migration_PathExpression(e):null;this.mg_5=l;this.eg_1=m;this.gd_2=p;this.hu_2=q;this.vu_5=r;this.mo_4=null!=f?f:"set";if(a)for(this.cn_4=Array(a.length),d=0;d<a.length;++d)this.cn_4[d]=new b.com_ibm_vis_engine_internal_migration_PathExpression(a[d]);
else this.cn_4=null;a=null!=g?new b.com_ibm_vis_engine_internal_migration_PathExpression(g):null;this.so_6&&!a&&"delete"!=this.mo_4&&(a=new b.com_ibm_vis_engine_internal_migration_PathExpression(e),a.convertVariableDeclarationToReference());this.to_2=a;if(h)for(this.ve_2=new b.com_ibm_rave_codegenerator_util_Map,e=0,a=b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(h),g=a.length;e<g;++e)d=a[e],this.ve_2.put(d,new b.com_ibm_vis_engine_internal_migration_PathExpression(h[d]));else this.ve_2=null},
execute:function(a){var d=!1;if(this.cn_4)for(var c=0,e=this.cn_4,g=e.length;c<g;++c){var f=e[c];do{var h=f.evaluate(a);h!=b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST&&(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(h.vu_3)||b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(h.vu_3))&&this.dt$3(new b.com_ibm_vis_engine_internal_migration_EvaluationContext(h.vu_3,a))&&(d=!0)}while(f.next(a))}else d=this.dt$3(new b.com_ibm_vis_engine_internal_migration_EvaluationContext(a.cx_3,
a));return d},dt$3:function(a){var b=!1;if(this.ie$26(a)){if(this.se_9){var c=this.se_9.get(a);c&&(b=c.migrate(a.cx_3))}if(this.so_6||this.to_2)"move"==this.mo_4||"copy"==this.mo_4||"concat"==this.mo_4||"init"==this.mo_4||"set"==this.mo_4?this.en$1(a)&&(b=!0,"move"==this.mo_4&&(a.reset(),this.do$1(a))):"delete"==this.mo_4&&this.do$1(a)&&(b=!0);this.eg$1(a,this.mg_5)&&(b=!0)}else this.eg$1(a,this.eg_1)&&(b=!0);return b},en$1:function(a){var d=!1;do{var c=null;if(this.so_6&&(c=this.so_6.evaluate(a),
c==b.com_ibm_vis_engine_internal_migration_EvaluationResult.DOES_NOT_EXIST))continue;this.ee$1(a);if("concat"==this.mo_4)this.to_2.concat(a,this.cr$3(a,b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(c.vu_3)));else{d="init"==this.mo_4?c&&c.isArray()||!c&&b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(a.cx_3)?b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray():c&&c.isObject()||!c&&b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a.cx_3)?b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject():
null:"set"==this.mo_4?this.cr$3(a,this.hu_2?b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(this.vu_5):c.vu_3):"copy"==this.mo_4?this.cr$3(a,b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(c.vu_3)):this.cr$3(a,c.vu_3);do this.to_2.assign(a,d);while(this.to_2.next(a))}d=!0}while(this.so_6&&this.so_6.next(a));return d},cr$3:function(a,b){if(this.ce_10){var c=this.ce_10.get();if(c)return c.convert(a,b)}return b},do$1:function(a){var b=!1;do this.ee$1(a),this.so_6.remove(a)&&(b=!0);
while(this.so_6.next(a));return b},eg$1:function(a,b){var c=!1;if(b){this.ee$1(a);for(var e=0,g=b.arrayIterator(),f=g.length;e<f;++e)g[e].execute(a)&&(c=!0)}return c},ie$26:function(a){if(this.gd_2){this.ee$1(a);for(var b=0,c=this.gd_2.arrayIterator(),e=c.length;b<e;++b)if(!c[b].execute(a))return!1}return!0},ee$1:function(a){if(this.ve_2)for(var b=0,c=this.ve_2.entrySet().arrayIterator(),e=c.length;b<e;++b){var g=c[b];a.ve_1.put(g.key,g.value.evaluate(a).vu_3)}}});b.com_ibm_vis_engine_internal_migration_Mapping.parse=
function(a){for(var d=a?a.length:0,c=new b.com_ibm_rave_codegenerator_util_List(d),e=0;e<d;++e){var g=a[e];c.add(new b.com_ibm_vis_engine_internal_migration_Mapping(b.com_ibm_vis_engine_internal_migration_Mapping.pa$1(g,"context"),b.com_ibm_vis_engine_internal_migration_StrategyReference.parse(g.strategy),b.com_ibm_vis_engine_internal_migration_ConverterReference.parse(g.converter),g.source,g.target,g.method,g.variables,b.com_ibm_vis_engine_internal_migration_Mapping.parse(g.mapping),b.com_ibm_vis_engine_internal_migration_Mapping.parse(g.elseMapping),
b.com_ibm_vis_engine_internal_migration_Guard.parse(g.guard),b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(g,"value"),g.value))}return c};b.com_ibm_vis_engine_internal_migration_Mapping.pa$1=function(a,d){var c=a[d];if(null==c)return null;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(c))return[c];if(b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(c)){for(var e=Array(c.length),g=0;g<e.length;++g)e[g]=c[g];return e}return null};b.com_ibm_vis_engine_internal_migration_Mapping.MOVE=
"move";b.com_ibm_vis_engine_internal_migration_Mapping.COPY="copy";b.com_ibm_vis_engine_internal_migration_Mapping.DT_1="delete";b.com_ibm_vis_engine_internal_migration_Mapping.CA_1="concat";b.com_ibm_vis_engine_internal_migration_Mapping.INIT="init";b.com_ibm_vis_engine_internal_migration_Mapping.SET="set";b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,{constructor:function(a,b){this.vo_1=a;this.mg_4=
b},getTargetVersion:function(){return this.vo_1},migrate:function(a){var d=!1;a=new b.com_ibm_vis_engine_internal_migration_EvaluationContext(a,null);a.pe_4.put(b.com_ibm_vis_engine_internal_migration_StrategyReference.VERSION_PROPERTY,this.vo_1);for(var c=0,e=this.mg_4.arrayIterator(),g=e.length;c<g;++c)e[c].execute(a)&&(d=!0);return d}});b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy.parse=function(a){for(var d=a.length,c=new b.com_ibm_rave_codegenerator_util_List(d),e=0;e<
d;++e){var g=a[e];c.add(new b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy(b.com_ibm_vis_engine_internal_util_Version.parseVersion(g.targetVersion),b.com_ibm_vis_engine_internal_migration_Mapping.parse(g.mapping)))}b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(c,new b.com_ibm_vis_engine_internal_migration_MigrationStrategyComparator);return c};b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,
{getTargetVersion:function(){return b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.VO_2},migrate:function(a){var d=!1;if(a=a.legends){var c=a.length;0<c&&(1!=c||0<b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a[0]).length)&&(d=b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.me$1(a))}return d}});b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.me$1=function(a){for(var d=!1,c=a.length,e=0;e<c;++e){var g=a[e].content;g&&(d=b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.me$2(g)||
d)}return d};b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.me$2=function(a){for(var d=!1,c=a.length,e,g,f=0;f<c;++f){var h=a[f],l=e&&0<e.length,m=b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(h,"aesthetics"),p=m||f==c-1;if(b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(h,"text")){e||(e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray());var q=h.text;b.com_ibm_rave_codegenerator_util_BasicFactory.isArray(q)?b.com_ibm_rave_codegenerator_util_BasicFactory.addAll(e,
q):e.push(q);g||(g=h.textStyle)}l&&(d=!0,b.com_ibm_rave_codegenerator_util_BasicFactory.removeAt(a,f-1),f--,c--);p&&(d=!0,e?h.text=e:(m&&(h.text=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray()),g||(g=h.textStyle)||(g=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject())),g&&(h.titleStyle=g),g=e=null)}return d};b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.TL_1="textStyle";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.LD_2=
"legends";b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.CN_1="content";b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.TEXT="text";b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.TL_2="titleStyle";b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.AC_1="aesthetics";b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3.VO_2=new b.com_ibm_vis_engine_internal_util_Version(1,3,0)});b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,{getTargetVersion:function(){return b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.VO_1},migrate:function(a){var d=!1;if(a){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();a.type="circle";var e=a.r,g=a.x,f=a.y;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(e)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(g)&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)){if(e.CPVISEngineEndsWith("%%")||
g.CPVISEngineEndsWith("%%")||f.CPVISEngineEndsWith("%%"))throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to migrate the spec because it has %% used for Shape bounds. Please consider using % or absolute values.",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_COULD_NOT_BE_DONE);e.CPVISEngineEndsWith("%")&&g.CPVISEngineEndsWith("%")&&f.CPVISEngineEndsWith("%")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,f,"%")):e.CPVISEngineEndsWith("px")&&g.CPVISEngineEndsWith("px")&&
f.CPVISEngineEndsWith("px")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,f,"px")):e.CPVISEngineEndsWith("pt")&&g.CPVISEngineEndsWith("pt")&&f.CPVISEngineEndsWith("pt")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,f,"pt")):e.CPVISEngineEndsWith("pc")&&g.CPVISEngineEndsWith("pc")&&f.CPVISEngineEndsWith("pc")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,f,"pc")):e.CPVISEngineEndsWith("cm")&&
g.CPVISEngineEndsWith("cm")&&f.CPVISEngineEndsWith("cm")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,f,"cm")):e.CPVISEngineEndsWith("mm")&&g.CPVISEngineEndsWith("mm")&&f.CPVISEngineEndsWith("mm")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,f,"mm")):e.CPVISEngineEndsWith("in")&&g.CPVISEngineEndsWith("in")&&f.CPVISEngineEndsWith("in")?(d=!0,c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2(e,g,
f,"in")):(e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e,null,null),g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(g,null,null),f=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f,null,null),null!=e&null!=g&&null!=f&&(c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ci$1(e,g,f),d=!0))}else e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(e,null,null),g=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(g,
null,null),f=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(f,null,null),null!=e&null!=g&&null!=f&&(c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ci$1(e,g,f),d=!0);if(d)a.bounds=c,b.com_ibm_rave_codegenerator_util_BasicFactory.remove(a,"r"),b.com_ibm_rave_codegenerator_util_BasicFactory.remove(a,"x"),b.com_ibm_rave_codegenerator_util_BasicFactory.remove(a,"y");else throw new b.com_ibm_vis_exceptions_internal_EngineException("Unable to migrate the Symbol Spec for circle Shape.This could be due to [i] Use of Preferred Size Spec [ii] Use of %% [iii] Using different Units for x,y and r",
b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_COULD_NOT_BE_DONE);}return d}});b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ce$2=function(a,d,c,e){var g=d.length,f=c.length,h=e.length;a=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ts$2(a.substring(0,a.length-h));d=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ts$2(d.substring(0,g-h));c=b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ts$2(c.substring(0,f-h));f=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();
f.width=2*a+e;f.height=2*a+e;f.left=d-a+e;f.top=c-a+e;return f};b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ci$1=function(a,d,c){var e=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();e.width=2*a;e.height=2*a;e.left=d-a;e.top=c-a;return e};b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.ts$2=function(a){try{var d=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a);return d!=d?null:d}catch(c){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c,
Error))throw new b.com_ibm_vis_exceptions_internal_EngineException("Could not parse the string value to convert it to a numeric value",b.com_ibm_vis_exceptions_ErrorCode.MIGRATION_COULD_NOT_BE_DONE);throw c;}};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0.VO_1=new b.com_ibm_vis_engine_internal_util_Version(3,0,0)});b.com_ibm_vis_engine_internal_migration_spec_LevelMigrator5_0=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,
{getTargetVersion:function(){return b.com_ibm_vis_engine_internal_migration_spec_LevelMigrator5_0.VO_4},migrate:function(a){var d=!1;if(a){var c=a.positioning,e=c.levels,g=c.levelLabelStyles,c=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONArray();if(e)for(var f=0;f<e.length;++f){var d=e[f],h=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();h.field=d;c.push(h);d=!0}if(g)if(h=g.internal,g=g.leaf,0!=c.length&&h){for(f=0;f<e.length-1;++f){var d=h[f],d=d.content,l=c[f];d&&(l.labelContent=
d)}g&&(d=g.content,l=c[e.length-1],d&&(l.labelContent=d));d=!0}else{if(h){for(f=0;f<h.length;++f)d=h[f],d=d.content,l=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),d&&(l.labelContent=d),c.push(l);d=!0}g&&(d=g.content,l=0!=c.length?c[c.length-1]:b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),d&&(l.labelContent=d),0!=c.length&&c.push(l),d=!0)}d&&(a=a.positioning,b.com_ibm_rave_codegenerator_util_BasicFactory.remove(a,"levels"),a.levels=c)}return d}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_LevelMigrator5_0.VO_4=
new b.com_ibm_vis_engine_internal_util_Version(5,0,0)});b.com_ibm_vis_engine_internal_migration_spec_LevelLabelMigrator5_0=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,{getTargetVersion:function(){return b.com_ibm_vis_engine_internal_migration_spec_LevelLabelMigrator5_0.VO_3},migrate:function(a){var d=!1;if(a){var c=a.styles,e=a.positioning.levelLabelStyles;if(e){a=e.internal;e=e.leaf;if(a)for(var g=0;g<a.length;++g){(d=a[g].style)||(d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject());
var f=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();f.target="level_label_"+g;f.style=d;c.push(f);d=!0}e&&((d=e.style)||(d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject()),f=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject(),f.target="level_label_leaf",f.style=d,c.push(f),d=!0)}}return d}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_LevelLabelMigrator5_0.VO_3=new b.com_ibm_vis_engine_internal_util_Version(5,
0,0)});b.com_ibm_vis_engine_internal_migration_spec_LegendLocationStrategy=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_MigrationStrategy,{constructor:function(){this.vo_3=new b.com_ibm_vis_engine_internal_util_Version(5,1,0)},getTargetVersion:function(){return this.vo_3},migrate:function(a){var d=!1;if(a=a.legends){var c=a.length;0<c&&(1!=c||0<b.com_ibm_rave_codegenerator_util_BasicFactory.keySet(a[0]).length)&&(d=this.mn$1(a))}return d},mn$1:function(a){for(var d=a.length,c=new b.com_ibm_rave_codegenerator_util_List,
e=new b.com_ibm_rave_codegenerator_util_List,g=0;g<d;++g){var f=a[g],h=f.location;null!=h?e.add(h):c.add(f)}if(c.isEmpty())return!1;a=this.gd$2(e);if(!a)return!1;d=0;c=c.arrayIterator();for(e=c.length;d<e;++d)f=c[d],f.location=a;return!0},gd$2:function(a){var d=0,c,e=0;a=a.arrayIterator();for(var g=a.length;e<g;++e){var f=a[e];if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(f)&&(f=f.width,null!=f&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(f)&&!f.CPVISEngineEndsWith("%%")&&
f.CPVISEngineEndsWith("%"))){var h=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(f.substring(0,f.length-1))/100;h>d&&(d=h,c=f)}}if(null==c)return null;d=b.com_ibm_rave_codegenerator_util_BasicFactory.createJSONObject();d.width=c;return d}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_LegendLocationStrategy.LD_1="legends";b.com_ibm_vis_engine_internal_migration_spec_LegendLocationStrategy.LO_1="location"});b.com_ibm_vis_engine_internal_migration_Converter=
b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_migration_spec_MigrationUnitConverter=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_Converter,{me_1:1,constructor:function(a){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isObject(a)){var d=a.multiplier;b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)&&(this.me_1=d);b.com_ibm_rave_codegenerator_util_BasicFactory.containsKey(a,"unit")&&(a=a.unit,b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)&&
(this.unit=a))}},convert:function(a,d){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(d)){var c=b.com_ibm_vis_engine_internal_migration_spec_MigrationUnitConverter.r3(d*this.me_1);0==c%1&&(c=b.com_ibm_rave_codegenerator_lang_Long.fromNumber(c));return null==this.unit?c:c+this.unit}return d}});b.com_ibm_vis_engine_internal_migration_spec_MigrationUnitConverter.r3=function(a){return Math.round(1E3*a)/1E3};b.com_ibm_vis_engine_internal_migration_spec_MigrationUnitConverter.MULTIPLIER="multiplier";
b.com_ibm_vis_engine_internal_migration_spec_MigrationUnitConverter.UNIT="unit";b.com_ibm_vis_engine_internal_migration_spec_StringFormatConverter=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_Converter,{convert:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_lang_StringBuilder,e=0,g=d.length;e<g;++e)c.append(a.getResolvedValue(d[e]));return c.toString()}});b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,
{newInstance:function(a,d){if(null!=a){if(a.CPVISEngineStartsWith(b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.CI_1))return b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.ce$3(a,d);if(a.CPVISEngineStartsWith("migration.")&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_migration_ExtensionParameter))return b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.cg$3(a,d)}return null}});
b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.cg$3=function(a,d){var c,e=d.vo_2;e.equals(new b.com_ibm_vis_engine_internal_util_Version(1,3,0))?b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LD_3==a&&(c=new b.com_ibm_vis_engine_internal_migration_spec_LegendMigrator1_3):e.equals(new b.com_ibm_vis_engine_internal_util_Version(3,0,0))?b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.CP_1==a&&(c=new b.com_ibm_vis_engine_internal_migration_spec_CircleShapeMigrator3_0):
e.equals(new b.com_ibm_vis_engine_internal_util_Version(5,0,0))?b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LL_1==a?c=new b.com_ibm_vis_engine_internal_migration_spec_LevelMigrator5_0:b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LE_1==a&&(c=new b.com_ibm_vis_engine_internal_migration_spec_LevelLabelMigrator5_0):e.equals(new b.com_ibm_vis_engine_internal_util_Version(5,1,0))&&b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LD_3==
a&&(c=new b.com_ibm_vis_engine_internal_migration_spec_LegendLocationStrategy);return c};b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.ce$3=function(a,d){var c;b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.UE_1==a?c=new b.com_ibm_vis_engine_internal_migration_spec_MigrationUnitConverter(d):b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.SE_1==a&&(c=new b.com_ibm_vis_engine_internal_migration_spec_StringFormatConverter(d));
return c};b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.MI_2="migration.";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.CI_1="migration.converter.";b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LD_3="migration.legends";b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.CP_1="migration.circleShape";b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LL_1=
"migration.levels";b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.LE_1="migration.levelsLabel";b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.UE_1=b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.CI_1+"units";b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.SE_1=b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory.CI_1+"stringFormat"});b.com_ibm_vis_engine_internal_migration_spec_SpecMigration=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_migration_JSONMigration,{getMigrated:function(a){(a=b.com_ibm_vis_engine_internal_migration_JSONMigration.prototype.getMigrated.apply(this,[a]))&&(a.version=this.getTargetVersion().toString());return a},migrate:function(a){var d=b.com_ibm_vis_engine_internal_migration_JSONMigration.prototype.migrate.apply(this,[a]);a.version=this.getTargetVersion().toString();return d},getTargetVersion:function(){return b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.TO_1}});
b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.getInstance=function(){if(!b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.ic_2&&!b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.ic_2){b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_migration_spec_SpecMigrationExtensionFactory);var a=new b.com_ibm_vis_engine_internal_migration_spec_SpecMigration,d=b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil.getDeclarativeSpecMigrationStrategies();
if(d)for(var c=0,d=b.com_ibm_vis_engine_internal_migration_DeclarativeMigrationStrategy.parse(d).arrayIterator(),e=d.length;c<e;++c)a.addStrategy(d[c]);b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.ic_2=a}return b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.ic_2};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.TO_1=b.com_ibm_vis_engine_internal_util_Version.parseVersion("7.2")});b.com_ibm_vis_services_MigrationService=b.com_ibm_init_declare({});
b.com_ibm_vis_services_MigrationService.getMigratedSpecification=function(a,d){var c=b.com_ibm_rave_codegenerator_util_BasicFactory.deepClone(a),e=!1;d&&(e=b.com_ibm_vis_services_MigrationService.vo$1(c));(b.com_ibm_vis_engine_internal_migration_spec_SpecMigration.getInstance().migrate(c)||e)&&d&&b.com_ibm_vis_services_MigrationService.vo$1(c);return c};b.com_ibm_vis_services_MigrationService.getMigratedSpecificationFromString=function(a,d){return b.com_ibm_vis_services_MigrationService.getMigratedSpecification(b.com_ibm_rave_codegenerator_util_BasicFactory.parse(a),
d)};b.com_ibm_vis_services_MigrationService.vo$1=function(a){var d=!1;a=b.com_ibm_vis_internal_json_SpecValidator.validate(a);if(1==a.st_1)b.com_ibm_vis_internal_json_SchemaValidator.fixWarnings(a),d=1001==a.code;else if(2==a.st_1)throw new b.com_ibm_vis_exceptions_internal_SchemaValidationException(b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE,a.toString(),a);return d};b.com_ibm_init_statics.initialize()});b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/nonsimpleLegendLayer",
function(){b.com_ibm_vis_engine_internal_legend_nonsimple_ElementLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_ContentFrame,{constructor:function(a,d,c){this.setId("L"+c);this.setBackgroundIdSuffixes(b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_STROKE,b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_FILL);this.sl_11=d.boundsStyle;this.setRequiresBackgroundShape(!1);null!=d.location&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.location,
b.com_ibm_vis_spec_internal_BoundsSpec)&&(this.sd_5=new b.com_ibm_vis_engine_internal_Bounds(d.location,a.vx_10.lx_1));this.sn_11=this.mn$30(a,d,c)},getContentSizeInfo:function(a,b){return this.sn_11.getContentSizeInfo(a,b)},createContent:function(){return this.sn_11.createContent()},layoutWithBounds:function(a,d,c){b.com_ibm_vis_engine_internal_ContentFrame.prototype.layoutWithBounds.apply(this,[a,d,c]);this.sn_11.layoutWithBounds(a,d,c)},mn$30:function(a,d,c){var e=this.mt$18(a,d),g=new b.com_ibm_vis_spec_internal_VisJSONSpec;
g.style=new b.com_ibm_vis_spec_internal_StyleSpec;g.style.fill="transparent";g.version="7.2";g.data=this.me$53(a,e);g.grammar=[new b.com_ibm_vis_spec_internal_GrammarSpec];g.grammar[0].elements=[new b.com_ibm_vis_spec_internal_ElementsSpec];var f=g.grammar[0].elements[0];f.type="point";f.symbol=this.mi$15(a,e,d);e=b.com_ibm_vis_engine_internal_Vis.createVisWithContext(a.vx_10);e.setTypedSpecification(g).isSpecSet();g=new b.com_ibm_rave_codegenerator_util_List;g.add(e.ga_5[0].elements[0].aesthetics[0]);
e=new b.com_ibm_vis_spec_internal_LegendSpec;e.boundsStyle=d.boundsStyle;e.columns=d.columns;e.itemBoxStyle=d.itemBoxStyle;e.itemStyle=d.itemStyle;e.labelStyle=d.labelStyle;e.legendEntryStyle=d.legendEntryStyle;e.location=d.location;e.multiline=d.multiline;e.orientation=d.orientation;e.rows=d.rows;e.scale=d.scale;e.title=d.title?b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend.makeTitleContent(a,d.title):["Elements"];e.titleStyle=d.titleStyle;a=new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend(a,
e,c,g,!1);a.setFieldInfo(!1);return a},mt$18:function(a,d){var c=new b.com_ibm_rave_codegenerator_util_List;if(0==d.elements.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend 'elements' must have at least one element reference",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);for(var e=0,g=d.elements,f=g.length;e<f;++e){var h=g[e];if(!h||null==h.$ref)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend 'elements' must each be non-null and have a non-null '$ref' to an element",
b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);var l=a.getByID(h.$ref);if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(l,b.com_ibm_vis_engine_internal_grammar_element_Element))throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend 'elements' reference '"+h.$ref+"' is not an element",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);c.add(l)}return c},me$53:function(a,d){var c=d.size(),e=new b.com_ibm_vis_spec_internal_DataSpec;e.fields=[new b.com_ibm_vis_spec_internal_FieldSpec];
e.fields[0].id=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementLegend.FI_3;e.fields[0].categories=Array(c);e.rows=Array(c);for(var g=0;g<c;++g)e.fields[0].categories[g]=this.me$54(a,d.get(g)),e.rows[g]=[g];return[e]},me$54:function(a,d){for(var c=d.do_6,c=c&&0!=c.length?b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend.makeTitleContent(a,c):[""],e="",g=0,f=c.length;g<f;++g){var h=c[g];b.com_ibm_rave_codegenerator_util_BasicFactory.isString(h)?e+=h:b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(h)?
e+=b.com_ibm_rave_codegenerator_util_BasicFactory.unformattedNumber(h):b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,b.com_ibm_vis_spec_internal_StringValueSpec)&&(e+=h.value)}return e},mi$15:function(a,d,c){a=new b.com_ibm_vis_spec_internal_AestheticSpec;a.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;a.field.$ref=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementLegend.FI_3;var e=d.size();a.palette=Array(e);for(var g=0;g<e;++g){var f=d.get(g),h=b.com_ibm_vis_engine_internal_legend_SwatchType.makeForElement(f,
c),f=new b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch(h,f,null,!0,!1,null),h=new b.com_ibm_vis_spec_internal_SymbolSpec;h.shape=[f.makeSwatchSpecification(c.itemStyle)];a.palette[g]=h}return[a]}});b.com_ibm_vis_engine_internal_legend_nonsimple_ElementLegend.FI_3="elementLegendField";b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_ContentFrame,{legendIndex:0,dn_6:5,constructor:function(a,d,c,e){this.parentVis=a;this.legendSpec=
d;this.legendIndex=c;(this.aesthetics=e)&&0!=e.size()?this.firstAesthetic=e.get(0):this.firstAesthetic=null;this.setId("L"+c);this.setBackgroundIdSuffixes(b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_STROKE,b.com_ibm_vis_engine_internal_util_SceneIdUtil.LEGEND_BACKGROUND_FILL);this.sl_11=d.boundsStyle;this.setRequiresBackgroundShape(!1)},addVersion:function(a){a.version="7.2"},makeGrammarStyle:function(){var a=new b.com_ibm_vis_spec_internal_StyleSpec;a.fill="transparent";return a},
getTitleSize:function(a,d){var c=new b.com_ibm_vis_spec_internal_VisJSONSpec;c.titles=this.makeTitles();this.addVersion(c);var e=c.titles?c:null;if(!e)return new b.com_ibm_vis_geom_Dim(0,0);c.size=new b.com_ibm_vis_spec_internal_SizeSpec;c.size.width=a;c=this.parentVis.getLegendVis();e=c.setTypedSpecification(e);e=c.makeSceneTree(null,e);return e.getSceneTree().sz_4},makeTitles:function(){if(this.legendSpec.title&&0==this.legendSpec.title.length)return null;var a;if(this.legendSpec.title)a=b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend.makeTitleContent(this.parentVis,
this.legendSpec.title);else{var d=null;this.firstAesthetic&&this.firstAesthetic.valueProvider&&(d=this.firstAesthetic.valueProvider.getBaseField());if(d)a=d.label,null==a&&(a=d.id),null==a&&(a="Field");else return null;a=[a]}d=new b.com_ibm_vis_spec_internal_TitleSpec;d.type="title";d.content=a;d.style=this.legendSpec.titleStyle;this.legendSpec.titleStyle&&this.legendSpec.titleStyle.font&&null!=this.legendSpec.titleStyle.font.weight||(d.style||(d.style=new b.com_ibm_vis_spec_internal_StyleSpec),d.style.font||
(d.style.font=new b.com_ibm_vis_spec_internal_FontSpec,d.style.font.weight="bold"),null==d.style.padding&&(d.style.padding=this.dn_6));return[d]},setDefaultTitlePadding:function(a){this.dn_6=a}});b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend.makeTitleContent=function(a,d){for(var c=Array(d.length),e=0;e<d.length;++e)if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d[e],b.com_ibm_vis_spec_internal_FieldValueRefSpec)){var g=d[e],f=a.getByID(g.$ref);if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,
b.com_ibm_vis_engine_internal_data_Field)){var h=new b.com_ibm_vis_spec_internal_StringValueSpec;h.style=g.style;h.value=null==f.label?f.id:f.label;c[e]=h}else c[e]=""}else b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d[e],b.com_ibm_vis_spec_internal_ArgumentSpec)||b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d[e],b.com_ibm_vis_spec_internal_ImageSpec)?c[e]="":c[e]=d[e];return c};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend,
{ia_10:!1,af_2:!1,nw_1:0,nn_9:0,VE_1:2,TO_2:5,constructor:function(a,d,c,e,g){this.setDefaultTitlePadding(0);b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.ve$4(d);this.se_53=new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer(this.aesthetics,a.vx_10,d);c=a.getLegendPosition(d);null!=d.orientation?this.ia_10="horizontal"==d.orientation:this.se_53.isOrientationSpecialCase()?this.ia_10=this.se_53.isSpecialCaseHorizontal():this.ia_10=c==b.com_ibm_vis_engine_internal_LegendPosition.TOP||
c==b.com_ibm_vis_engine_internal_LegendPosition.BOTTOM;this.sp_10=g?b.com_ibm_vis_engine_internal_legend_SwatchType.makeForFallback():b.com_ibm_vis_engine_internal_legend_SwatchType.makeForAesthetics(this.aesthetics,d);this.af_2=!0;this.sp_10.me_15&&(this.aesthetics.clear(),this.aesthetics.add(this.firstAesthetic));this.do_11=new b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator(d.scale,this.aesthetics,!this.ia_10);this.en_20=this.firstAesthetic.element;this.le_52=this.firstAesthetic.labelProducer;
g=new b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch(this.sp_10,this.en_20,this.le_52,!1,b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.hn$1(this.aesthetics),this.se_53);c=new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLabel(d,this.do_11,this.parentVis);this.lr_7=new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry(a.vx_10,d,g,c,this.se_53);this.nn_9=this.nw_1=0;this.lf_1=this.lh_4=this.lt_5=null;null!=d.location&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.location,
b.com_ibm_vis_spec_internal_BoundsSpec)&&(this.sd_5=new b.com_ibm_vis_engine_internal_Bounds(d.location,a.vx_10.lx_1))},setFieldInfo:function(a){this.af_2=a},getContentSizeInfo:function(a,d){if(this.lf_1&&b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.dl$4(a,this.lt_5)&&b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.dl$4(d,this.lh_4))return this.lf_1;this.lt_5=a;this.lh_4=d;this.lr_7&&(this.lr_7.reset(),this.lr_7.layout());if(this.se_53.in_9)try{var c=this.parentVis.getLegendVis(),
e=this.se$24(a,d,!1),e=c.makeSceneTree(null,e),g=e.getSceneTree().sz_4,f=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(g.wt_2,g.hh_1);this.lf_1=new b.com_ibm_vis_engine_internal_layout_SizeInfo(f,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,f)}catch(h){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(h,Error))c=this.getTitleSize(a,d),f=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(c.wt_2,c.hh_1),this.lf_1=new b.com_ibm_vis_engine_internal_layout_SizeInfo(f,
b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,f);else throw h;}else g=this.gz$27(a,d,null),f=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(g.wt_2,g.hh_1),this.lf_1=new b.com_ibm_vis_engine_internal_layout_SizeInfo(f,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,f);return this.lf_1},gz$27:function(a,d,c){c=this.getTitleSize(a,d);if(!this.do_11.be_6)return c;this.cr$16(a,d,c);var e=this.lr_7.makeStyleSpec(),g=e.width,f=e.height,h=(new b.com_ibm_vis_engine_internal_scene_CustomGlyphBuilder(e.symbol,
new b.com_ibm_vis_geom_Dim(g,f),this.parentVis.vx_10)).makeCustomShape(0,0,g,f,e).getBounds(),e=h.wt_3,h=h.hh_2;11==this.sp_10.type&&(h+=this.TO_2);g=Math.max(g,e);f=Math.max(f,h);g=Math.max(c.wt_2,g*this.nn_9)+this.VE_1;c=c.hh_1+f*this.nw_1+this.VE_1;null!=a&&(g=a);null!=d&&(c=d);return new b.com_ibm_vis_geom_Dim(g,c)},createContent:function(){var a=this.getContentBounds().getExtent(),d=new b.com_ibm_rave_codegenerator_util_List;try{var c=this.getTitleSize(a.wt_2,a.hh_1),e=new b.com_ibm_vis_geom_Dim(a.wt_2,
Math.max(c.hh_1,a.hh_1));this.se_53.recalculateSizes();var g=this.parentVis.getLegendVis(),f=this.se$24(e.wt_2,e.hh_1,!0),f=g.makeSceneTree(e,f),h=f.getSceneTree(),l=new b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter(h.root,this.legendIndex,this.do_11.fm_2,"swatch");l.setFieldInfo(this.af_2);var m=l.getLegend(),p=new b.com_ibm_vis_geom_Rect(0,0,a.wt_2,a.hh_1);m.setClipBounds(p);d.add(m);return new b.com_ibm_vis_engine_internal_SizedContent(d,a)}catch(q){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(q,
Error))throw q;}return new b.com_ibm_vis_engine_internal_SizedContent(d,a)},se$24:function(a,d,c){var e=this.parentVis.getLegendVis(),g=e.vx_10.formatContext.integratorNumberFormatter,f=this.do_11.fm_2;g&&g.addMapping(b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.FIELD_ID,f);return e.setTypedSpecification(this.me$61(a,d,c))},cn$28:function(a,b,c){var e=this.do_11.getRowCount();if(0==e)this.nn_9=this.nw_1=1;else if(this.nn_9=this.nw_1=0,null!=this.legendSpec.rows&&(this.nw_1=this.legendSpec.rows,
0>this.nw_1&&(this.nw_1=0)),null!=this.legendSpec.columns&&(this.nn_9=this.legendSpec.columns,0>this.nn_9&&(this.nn_9=0)),0<this.nw_1||0<this.nn_9)0==this.nn_9&&(this.nn_9=Math.ceil(e/this.nw_1)),0==this.nw_1&&(this.nw_1=Math.ceil(e/this.nn_9));else{var g=this.lr_7.getSize(),f=e;null!=a&&null!=b&&this.do_11.isNumeric()&&(f=21);null==a||null==b&&!this.ia_10||(this.nn_9=Math.min(f,Math.max(1,Math.floor((a-2)/g.wt_2))));null==b||null==a&&this.ia_10||(this.nw_1=Math.min(f,Math.max(1,Math.floor((b-2-c.hh_1)/
g.hh_1))));0<this.nw_1||0<this.nn_9?(0==this.nn_9&&(this.nn_9=Math.ceil(e/this.nw_1)),0==this.nw_1&&(this.nw_1=Math.ceil(e/this.nn_9))):this.ia_10?(this.nw_1=1,this.nn_9=e):(this.nw_1=e,this.nn_9=1)}},me$61:function(a,d,c){this.cr$16(a,d,null);var e=new b.com_ibm_vis_spec_internal_VisJSONSpec;e.style=new b.com_ibm_vis_spec_internal_StyleSpec;e.style.fill="transparent";this.addVersion(e);if(null!=a||null!=d)e.size=new b.com_ibm_vis_spec_internal_SizeSpec,e.size.width=a,e.size.height=d;if(0==this.aesthetics.size())return e;
e.titles=this.makeTitles();this.parentVis.vx_10.isUpdateDataOnly()&&this.do_11.reset();if(!this.do_11.be_6)return e;e.data=this.do_11.getDataSpec();d=new b.com_ibm_vis_spec_internal_GrammarSpec;e.grammar=[d];d.style=new b.com_ibm_vis_spec_internal_StyleSpec;d.style.fill="transparent";d.labelCollisionMethod="none";d.coordinates=new b.com_ibm_vis_spec_internal_CoordinatesSpec;a=new b.com_ibm_vis_spec_internal_ElementsSpec;d.elements=[a];a.type="point";a.positioning=new b.com_ibm_vis_spec_internal_LayoutSpec;
a.positioning.method="pack";a.positioning.orientation=this.ia_10?"left-to-right":"top-to-bottom";a.positioning.packParameters=new b.com_ibm_vis_spec_internal_PackParametersSpec;a.positioning.packParameters.method="grid";a.positioning.packParameters.rows=this.nw_1;a.positioning.packParameters.columns=this.nn_9;a.style=this.lr_7.makeStyleSpec();a.label=this.me$62();(new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator(this.sp_10,this.en_20,this.do_11,this.aesthetics,this.se_53)).copyApplicableAesthetics(a);
a.meta=this.mi$17();this.se_53&&this.se_53.in_9&&this.do_11.te_17&&(d=this.do_11.te_17,c&&(c=this.se_53.getDataColumns(d,a),this.ie$54(c)&&this.un$3(e.data,a,c)));return e},un$3:function(a,d,c){var e=!1,g=d.size,f=d.font,e=d.styleBy;if(g||f||e){if(g)g=g[g.length-1],e=this.updateField(g);else if(f)g=f[f.length-1],e=this.updateField(g);else{f=Array(e.length+1);for(g=0;g<e.length;++g)f[g]=e[g];g=e[e.length-1].copy();this.updateField(g);g.mapping=this.mn$32(e[e.length-1].mapping);g.palette=this.mt$21(e[e.length-
1].palette);f[e.length]=g;d.styleBy=f;e=!0}this.appendFieldsForSizeClipping(a,e);this.an$14(a,c);if(a=d.color){c=Array(a.length+1);for(g=0;g<a.length;++g)c[g]=a[g];a=c}else a=Array(1);d.color=a;c=new b.com_ibm_vis_spec_internal_AestheticSpec;a[a.length-1]=c;c.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;c.field.$ref=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.CO_3;a=new b.com_ibm_vis_spec_internal_ModifiesSpec;a.part=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_TOO_LARGE_SYMBOL;
a.type="both";a.descendants=!0;e=Array(2);e[0]="black";e[1]="transparent";c.palette=e;c.modifies=a;this.lr_7.modifyStyleForSizeClipping(d.style)}},updateField:function(a){var d=a.palette;a.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;a.field.$ref=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.SU_1;return d},mt$21:function(a){if(!a)return null;for(var b=Array(a.length),c=0;c<a.length;++c)b[c]=this.ml$19(a[c]);return b},mn$32:function(a){if(!a)return null;for(var d=Array(a.length),
c=0;c<a.length;++c)d[c]=new b.com_ibm_vis_spec_internal_MappingSpec,d[c].at=a[c].at,d[c].style=this.ml$19(a[c].style);return d},ml$19:function(a){if(!a)return null;var d=new b.com_ibm_vis_spec_internal_StyleSpec;d.size=a.size;d.height=a.height;d.width=a.width;a.size=null;a.height=null;a.width=null;a.font&&null!=a.font.size&&(d.font=new b.com_ibm_vis_spec_internal_FontSpec,d.font.size=a.font.size,a.font.size=null,a.font.setCachedObject(null));return d},an$14:function(a,b){for(var c=a[0].rows,e=0;e<
c.length;++e)c[e]=this.ao$11(c[e],b[0][e],b[1][e])},ao$11:function(a,d,c){for(var e=b.com_ibm_rave_codegenerator_lang_Array.create([a.length+2],0),g=0;g<a.length;++g)e[g]=a[g];e[a.length]=null!=d?d:NaN;e[a.length+1]=null!=c?c:NaN;return e},appendFieldsForSizeClipping:function(a,d){for(var c=a[0].fields,e=Array(c.length+2),g=0;g<c.length;++g)e[g]=c[g];g=new b.com_ibm_vis_spec_internal_FieldSpec;g.id=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.SU_1;d&&(g.unit="categorical");e[c.length]=
g;g=new b.com_ibm_vis_spec_internal_FieldSpec;g.id=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.CO_3;g.unit="categorical";e[c.length+1]=g;a[0].fields=e},ie$54:function(a){if(!a)return!1;a=a[1];for(var b=0;b<a.length;++b)if(1>a[b])return!0;return!1},cr$16:function(a,d,c){this.lr_7.layout();this.lr_7.makeStyleSpec();c=c?c:this.getTitleSize(a,d);this.cn$28(a,d,c);var e=this.lr_7.getSize();e.wt_2*=this.nn_9;e.hh_1*=this.nw_1;for(var g=!1,f=0;!g&&25>f&&this.sc$8(a,d,c,e);){f++;var h=this.nw_1,
l=this.nn_9;this.cn$28(null,null,c);var m=new b.com_ibm_vis_geom_Dim(1.7976931348623157E308,1.7976931348623157E308);null!=a&&(m.wt_2=Math.floor((a-2)/this.nn_9));null!=d&&(m.hh_1=Math.floor((d-c.hh_1-2)/this.nw_1));this.lr_7.reduceSize(m)?(this.cn$28(a,d,c),e=this.lr_7.getSize(),e.wt_2*=this.nn_9,e.hh_1*=this.nw_1):(this.nw_1=h,this.nn_9=l,g=!0)}this.ai$7(a,d)},sc$8:function(a,b,c,e){var g=this.do_11.getRowCount(),f=null!=this.legendSpec.rows&&null!=this.legendSpec.columns,h=this.lr_7.canReduceHorizontal(),
l=this.lr_7.canReduceVertical();return this.nw_1*this.nn_9<g&&!f?h||l:null!=a&&e.wt_2>a-2+.001&&h||null!=b&&e.hh_1>b-c.hh_1-2+.001&&l?!0:!1},ai$7:function(a,b){if(null!=a&&null!=b&&this.do_11.be_6&&this.do_11.isNumeric()){var c=this.nw_1*this.nn_9,e=c;this.do_11.setDesiredTickCount(e);var g=this.lr_7.measureLabelSize().wt_2,f=this.lr_7.getLabelSize().wt_2,h=this.do_11.getRowCount();if(h>c||21<e)for(21<e&&(e=22,this.do_11.setDesiredTickCount(e));2<e&&(h>c||g>f);)e--,this.do_11.setDesiredTickCount(e),
h=this.do_11.getRowCount(),g=this.lr_7.measureLabelSize().wt_2,f=this.lr_7.getLabelSize().wt_2}},me$62:function(){var a=new b.com_ibm_vis_spec_internal_ElementLabelSpec,d=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;d.$ref=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.STRING_ID;a.content=[d];a.modifies=new b.com_ibm_vis_spec_internal_ModifiesSpec;a.modifies.part=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_LABEL;if(this.legendSpec.labelStyle){if(a.style=
this.legendSpec.labelStyle.copy(),a.style.padding=null,null==a.style.align&&(a.style.align="start"),null==a.style.valign||a.style.valign==b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE)a.style.valign="start"}else a.style=new b.com_ibm_vis_spec_internal_StyleSpec,a.style.align="start",a.style.valign="start";a.style.location="inside";return[a]},mi$17:function(){var a=new b.com_ibm_vis_spec_internal_AestheticSpec;a.key="value";a.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;
a.field.$ref=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.VALUE_ID;a.scale=this.do_11.getScaleSpec();return[a]}});b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.ve$4=function(a){if(a&&a.scale&&a.scale.spans&&0<a.scale.spans.length&&a.scale.spans[0].categories){a=a.scale.spans[0].categories;for(var d=new b.com_ibm_rave_codegenerator_util_NumericSet,c=0,e=a.length;c<e;++c){var g=a[c];if(d.contains(g))throw new b.com_ibm_vis_exceptions_internal_SpecException("In legend specifications, scale.spans[0].categories may not contain duplicates ("+
g+" appears more than once)",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);d.add(g)}}};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.hn$1=function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b)if("dashing"==a[b].type)return!0;return!1};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.dl$4=function(a,b){return null==a&&null==b?!0:null==a||null==b?!1:a==b};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.SU_1="legendSizeValue";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.CO_3=
"legendClipColor";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.MK_3=2;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.MK_2=21;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.EN_3=2;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.TC_4=.001;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend.LEGEND_META_VALUE="value";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer=b.com_ibm_init_declare({en_21:400,in_10:!1,in_9:!1,wi_1:Infinity,hi_2:Infinity,
constructor:function(){this.sz_6=new b.com_ibm_vis_geom_Dim(20,20);(function(a,d,c){this.ac_6=a;this.vx_7=d;this.ll_10=c?c.scale:null;this.il_6=c?c.itemStyle:null;this.in_9=(this.in_10=this.sn$15())||this.cn$29();this.ma_4=new b.com_ibm_rave_codegenerator_util_HashMap;this.sn$14(a.get(0).element);this.sc_10=this.sc$9();this.ce$39()}).apply(this,arguments)},sc$9:function(){var a=new b.com_ibm_rave_codegenerator_util_List;if(this.ac_6)for(var d=0,c=this.ac_6.arrayIterator(),e=c.length;d<e;++d){var g=
c[d];"size"==g.type&&a.add(g)}return a},isStrokeChanging:function(){return this.in_10},isSizeChanging:function(){return this.in_9},getSwatchSize:function(a){return this.in_9?this.sz_6:a},recalculateSizes:function(){if(this.in_9){var a=this.ac_6.get(0).element;this.ma_4=new b.com_ibm_rave_codegenerator_util_HashMap;this.sn$14(a);this.mc_7=this.mc_6=null;this.ce$39()}},sn$14:function(a){if(this.in_9){if(this.il_6&&null!=this.il_6.size){var d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.il_6.size,
null,null);null!=d&&(this.sz_6=new b.com_ibm_vis_geom_Dim(d,d))}else this.sz_6=a.getLegendSymbolSize();a.extent&&(this.en_21=Math.min(a.extent.wt_2,a.extent.hh_1))}},modifyStyleSize:function(a,d){this.in_9&&a&&(d?(this.setSizeInfo(a,d.style),a.font)?null==a.font.size&&(a.font.size=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(this.vx_7.getMinimumFontSize()),a.font.setCachedObject(null)):(a.font=new b.com_ibm_vis_spec_internal_FontSpec,a.font.size=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(this.vx_7.getMinimumFontSize())):
this.setSizeInfo(a,this.ac_6.get(0).element.spec.style))},modifySizeAesthetics:function(a){if(this.in_9&&a&&!(1>this.sc_10.size()))for(var d=0,c=0;c<a.length;++c)if(a[c].scale&&(a[c].scale.reverse=!1),null!=a[c].modifies&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a[c].modifies,b.com_ibm_vis_spec_internal_ModifiesSpec)){var e=a[c].modifies;b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL==e.part?d=this.me$64(a[c],d,!0):b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE==
e.part&&(d=this.me$64(a[c],d,!1))}},me$64:function(a,b,c){if(this.ac_6.size()<=b)return b;var e=this.sc_10.get(b);if(e=this.ma_4.get(e))a.palette=null,c||2>e.length?(a.mapping=e[0],b++):a.mapping=e[1];return b},setSizeInfo:function(a,b){b&&(null!=b.size&&(a.size=b.size,a.height=b.size,a.width=b.size),null!=b.width&&(a.width=b.width),null!=b.height&&(a.height=b.height),b.font&&(a.font=b.font.copy()))},sn$15:function(){for(var a=0,b=this.ac_6.arrayIterator(),c=b.length;a<c;++a)if(this.ck$3(b[a]))return!0;
return!1},cn$29:function(){for(var a=0,d=this.ac_6.arrayIterator(),c=d.length;a<c;++a)if(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.isSizeChangingAesthetic(d[a],this.vx_7))return!0;return!1},getMaxSymbolSwatch:function(){return this.mc_7},getMaxStrokeSwatch:function(){return this.mc_6},ce$39:function(){for(var a=0,d=this.ac_6.arrayIterator(),c=d.length;a<c;++a){var e=d[a];b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.isSizeChangingAesthetic(e,this.vx_7)&&this.uz$1(e)}this.mc_7&&
(this.mc_7.wt_2=Math.min(this.mc_7.wt_2,this.wi_1),this.mc_7.hh_1=Math.min(this.mc_7.hh_1,this.hi_2));this.mc_6&&(this.mc_6.wt_2=Math.min(this.mc_6.wt_2,this.wi_1),this.mc_6.hh_1=Math.min(this.mc_6.hh_1,this.hi_2))},uz$1:function(a){if("size"==a.type)if(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.it$7(a))this.ae$26(a);else{var d=this.gp$10(a),c=this.ck$3(a),d=[this.ui$2(a,d,c)];this.ma_4.put(a,d)}else"font"==a.type?(d=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getLetterA(a.element.spec.style,
this.vx_7),this.ui$2(a,d,!1)):"styleBy"==a.type&&(d=this.gp$10(a),c=this.ck$3(a),this.ui$2(a,d,c))},ae$26:function(a){var d=this.gp$10(a),c=this.ui$2(a,d,!0),d=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$28(a.element.spec.symbolStyle,this.sz_6.wt_2,this.sz_6.hh_1,this.en_21),e=new b.com_ibm_vis_geom_Dim(this.en_21,this.en_21),d=new b.com_ibm_vis_engine_internal_grammar_element_PointBuilder(this.vx_7,null,e,d,a.element.spec.symbolStyle),d=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$54(d),
c=[this.ui$2(a,d,!1),c];this.ma_4.put(a,c)},gp$10:function(a){if(a.labelProducer){var d=a.labelProducer.getAesthetics();if(d)for(var c=0,e=d.length;c<e;++c)if(d[c]==a)return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getLetterA(a.labelProducer.style,this.vx_7)}c=a.element;d=c.spec.style;if("point"==c.spec.type)return this.gp$11(d);if("interval"==c.spec.type)return a=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$28(d,this.sz_6.wt_2,this.sz_6.hh_1,this.en_21),b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,
0,a.wt_2,a.hh_1);if(this.ck$3(a))return a=b.com_ibm_vis_engine_internal_struct_ShapeLine.make(0,10,50,10),d=this.gn$32(d),b.com_ibm_vis_engine_internal_scene_StyleBuilder.scaleStrokeSize(a,d),a;if("text"==c.type)return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getLetterA(d,this.vx_7);if(c.isLineWithPoints)return a=this.gp$11(c.spec.symbolStyle),a.setMeta("part","symbol"),a;a=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$28(d,this.sz_6.wt_2,this.sz_6.hh_1,this.en_21);
return b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,a.wt_2,a.hh_1)},gp$11:function(a){var d=new b.com_ibm_vis_geom_Dim(this.en_21,this.en_21);a=new b.com_ibm_vis_engine_internal_grammar_element_PointBuilder(this.vx_7,null,d,this.sz_6,a);return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$54(a)},gn$32:function(a){return a?a.stroke&&null!=a.stroke.width?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,1,this.en_21):null!=a.size?
b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,1,this.en_21):1:1},ck$3:function(a){var d=a.element;return"edge"!=d.type&&"path"!=d.type&&("line"!=d.type||d.spec.symbolStyle&&null!=a.spec.modifies)?!1:b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.isSizeChangingAesthetic(a,this.vx_7)},ul$3:function(a,d,c,e){var g=0,f=0,h=1009==c.getType(),l=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),m=new b.com_ibm_rave_codegenerator_util_List,p=a.scale.spans.get(0),
q=p.getAdjustedInputRange(),r=0;q&&(r=q.min);var t=e?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,d,r,c):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,d,r,c,l,h),g=t.wt_2,f=t.hh_1,w=this.me$65(e,t,"0%",h,l[0]),x=0;q&&(x=q.max);var q=e?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,d,x,c):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,d,x,c,
l,h),g=Math.max(g,q.wt_2),f=Math.max(f,q.hh_1),y=!0,z=!0,C=a.spec.mapping;if(C){for(var E=0,F=C.length;E<F;++E){var A=C[E];b.com_ibm_rave_codegenerator_util_BasicFactory.isString(A.at)?(t=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(A.at,1,1),null!=t&&0<=t&&1>=t&&(y&&0<t&&m.add(w),1==t&&(z=!1),y=!1,t=p.zeroOneToDataValue(t),null!=t&&(t=e?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,d,t,c):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,
d,t,c,l,h),g=Math.max(g,t.wt_2),f=Math.max(f,t.hh_1),m.add(this.me$65(e,t,A.at,h,l[0]))))):b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(A.at)&&(t=A.at,y&&t>r&&m.add(w),t>=x&&(z=!1),y=!1,t=e?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,d,t,c):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,d,t,c,l,h),g=Math.max(g,t.wt_2),f=Math.max(f,t.hh_1),m.add(this.me$65(e,t,A.at,h,l[0])))}z&&m.add(this.me$65(e,q,"100%",h,
l[0]))}else m.add(w),m.add(this.me$65(e,q,"100%",h,l[0]));this.updateMaxDim(e,g,f);return m.toArray(Array(m.size()))},me$65:function(a,d,c,e,g){var f=new b.com_ibm_vis_spec_internal_MappingSpec;f.at=c;e?f.size=g:a?f.size=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.hh_1):this.ac_6.get(0).element.grammar.coordinates.containsTranspose()?f.size=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.hh_1):f.size=b.com_ibm_vis_engine_internal_util_MathUtil.r3(d.wt_2);return f},ul$4:function(a,d,c,e,g,f){var h=
0,l=0,m=1009==g.getType(),p=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),q=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$55(this.ll_10);if(q){d=Array(q.length);for(c=0;c<q.length;++c){var r=q[c],t=f?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,e,r,g):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,e,r,g,p,m),h=Math.max(h,t.wt_2),l=Math.max(l,t.hh_1);d[c]=this.me$65(f,t,q[c],m,p[0])}this.updateMaxDim(f,
h,l);return d}if(d)for(q=c.getUsedCategories(),d=Array(q.length),c=0;c<q.length;++c)t=f?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,e,q[c],g):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,e,q[c],g,p,m),h=Math.max(h,t.wt_2),l=Math.max(l,t.hh_1),d[c]=this.me$65(f,t,q[c],m,p[0]);else for(h=a.scale.spans.get(0).getInputRange(),r=h.min,q=h.max,d=Array(Math.floor(q)),t=f?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,
e,r,g):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,e,r,g,p,m),h=t.wt_2,l=t.hh_1,d[0]=this.me$65(f,t,r,m,p[0]),r+=1,c=1;r<q;)t=f?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,e,r,g):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,e,r,g,p,m),h=Math.max(h,t.wt_2),l=Math.max(l,t.hh_1),d[c]=this.me$65(f,t,r,m,p[0]),r+=1,c++;this.updateMaxDim(f,h,l);return d},updateMaxDim:function(a,d,c){d=
new b.com_ibm_vis_geom_Dim(d,c);a?this.mc_6=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.unionDim(this.mc_6,d):this.mc_7=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.unionDim(this.mc_7,d)},ui$2:function(a,b,c){var e=a.valueProvider.getBaseField(),g=e.ie_4,f=!a.scale.isLocalUndefined()&&a.scale.localScale;return a.scale.isCategorical()?this.ul$4(a,f,e,g,b,c):this.ul$3(a,g,b,c)},setMaxHeight:function(a){this.hi_2=a;this.mc_7&&(this.mc_7.hh_1=Math.min(this.mc_7.hh_1,this.hi_2));
this.mc_6&&(this.mc_6.hh_1=Math.min(this.mc_6.hh_1,this.hi_2))},setMaxWidth:function(a){this.wi_1=a;this.mc_7&&(this.mc_7.wt_2=Math.min(this.mc_7.wt_2,this.wi_1));this.mc_6&&(this.mc_6.wt_2=Math.min(this.mc_6.wt_2,this.wi_1))},getDataColumns:function(a,b){if(!a||Infinity==this.hi_2&&Infinity==this.wi_1)return null;for(var c=this.ge$57(a),e=Array(a.length),g=-1,f=-1,h=-1,l=0;l<a.length;++l)c[l].hh_1>this.hi_2||c[l].wt_2>this.wi_1?e[l]=0:(e[l]=1,f<c[l].wt_2&&(f=c[l].wt_2,h=l),g<c[l].hh_1&&(g=c[l].hh_1,
h=l));c=Array(a.length);if(this.ms$3(g,f))for(l=0;l<a.length;++l)c[l]=1>e[l]?a[h]:a[l];else if(this.ht$2(b))for(h=this.addLargeSizeToAesethticWithPalette(a,b,h),l=0;l<a.length;++l)c[l]=1>e[l]?h:l%h;else for(this.addLargeSizeToAesethticWithMapping(b),l=0;l<a.length;++l)c[l]=1>e[l]?null:a[l];return[c,e]},ht$2:function(a){if(a.size)a=a.size[a.size.length-1];else if(a.font)a=a.font[a.font.length-1];else return!0;return a.palette},addLargeSizeToAesethticWithPalette:function(a,d,c){a=Math.min(this.hi_2,
this.wi_1);d.size?(d=d.size[d.size.length-1],a=this.updateAestheticWithLargeSymbolSizePalette(d,.85*a)):d.font?(d=d.font[d.font.length-1],c=new b.com_ibm_vis_spec_internal_FontSpec,c.size=Math.floor(a),a=this.updateAestheticWithLargeSymbolSizePalette(d,c)):a=0>c?0:c;return a},addLargeSizeToAesethticWithMapping:function(a){var d=Math.min(this.hi_2,this.wi_1);if(a.size)a=a.size[a.size.length-1],a.nullValue=.85*d;else if(a.font){a=a.font[a.font.length-1];var c=new b.com_ibm_vis_spec_internal_FontSpec;
c.size=Math.floor(d);a.nullValue=c}},updateAestheticWithLargeSymbolSizePalette:function(a,b){var c=0;if(a.palette){for(var c=a.palette.length,e=Array(c+1),g=0;g<c;++g)e[g]=a.palette[g];e[c]=b;a.palette=e}return c},ms$3:function(a,b){return Infinity!=this.hi_2&&a>.8*this.hi_2||Infinity!=this.wi_1&&b>.8*this.wi_1},ge$57:function(a){for(var d=Array(a.length),c=0,e=this.ac_6.arrayIterator(),g=e.length;c<g;++c){var f=e[c];if(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.isSizeChangingAesthetic(f,
this.vx_7))for(var f=this.gi$9(f,a),h=0;h<a.length;++h)this.ue$5(d,h,f[h])}return d},ue$5:function(a,b,c){a[b]?a[b].hh_1<c.hh_1&&(a[b]=c):a[b]=c},gi$9:function(a,d){if(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.it$7(a))return this.gt$34(a,d);for(var c=Array(d.length),e=this.gp$10(a),g=a.valueProvider.getBaseField().ie_4,f=this.ck$3(a),h=1009==e.getType(),l=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),m=0;m<d.length;++m)c[m]=f?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,
g,d[m],e):b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,g,d[m],e,l,h);return c},gt$34:function(a,d){for(var c=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$28(a.element.spec.symbolStyle,this.sz_6.wt_2,this.sz_6.hh_1,this.en_21),e=new b.com_ibm_vis_geom_Dim(this.en_21,this.en_21),c=new b.com_ibm_vis_engine_internal_grammar_element_PointBuilder(this.vx_7,null,e,c,a.element.spec.symbolStyle),c=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$54(c),
e=this.gp$10(a),g=Array(d.length),f=a.valueProvider.getBaseField().ie_4,h=b.com_ibm_rave_codegenerator_lang_Array.create([1],0),l=0;l<d.length;++l){var m=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth(a,f,d[l],e),p=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds(a,f,d[l],c,h,!1);this.ue$5(g,l,m);this.ue$5(g,l,p)}return g},reset:function(){this.hi_2=this.wi_1=Infinity},isOrientationSpecialCase:function(){for(var a=0,d=this.ac_6.arrayIterator(),
c=d.length;a<c;++a){var e=d[a],g=e.element.type;if((b.com_ibm_vis_engine_internal_grammar_element_Element.ELEMENT_SCHEMA_BOXPLOT==g||"interval"==g)&&b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.isSizeChangingAesthetic(e,this.vx_7))return!0}return!1},isSpecialCaseHorizontal:function(){return this.ac_6.get(0).element.grammar.coordinates.containsTranspose()}});b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.isSizeChangingAesthetic=function(a,d){if(!a.valueProvider.getBaseField())return!1;
if("size"==a.type)return"area"!=a.element.type&&"polygon"!=a.element.type;if("font"==a.type){var c=a.scale.isCategorical()&&a.spec.palette?a.spec.palette:b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.extractFontPaletteFromMapping(a.spec.mapping);return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.changesFontSize(c,d)}return"styleBy"==a.type?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.sizeChangesInStyle(a.spec.palette,d,a.element.spec.style):!1};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.unionDim=
function(a,d){if(!a)return d;if(!d)return a;var c=Math.max(a.wt_2,d.wt_2),e=Math.max(a.hh_1,d.hh_1);return new b.com_ibm_vis_geom_Dim(c,e)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.it$7=function(a){return a.element.isLineWithPoints&&null==a.spec.modifies};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$54=function(a){return a.make(b.com_ibm_vis_engine_internal_grammar_coordinate_Position.NO_COORDS,-1,!1)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getLetterA=
function(a,d){var c=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(d.getMinimumFontSize()),c=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$28(a,c,c,400);return b.com_ibm_vis_engine_internal_scene_SymbolBuilder.makeSymbol("letter-A",0,0,c.wt_2,c.hh_1,a,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$28=function(a,d,c,e){if(!a)return new b.com_ibm_vis_geom_Dim(d,c);d=null!=a.width?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.width,
d,e):null!=a.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,d,e):d;a=null!=a.height?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.height,c,e):null!=a.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,c,e):c;return new b.com_ibm_vis_geom_Dim(d,a)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$55=function(a){return!a||!a.spans||1>a.spans.length||!a.spans[0].categories?null:a.spans[0].categories};
b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticBounds=function(a,d,c,e,g,f){a=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ai$8(a,d,c,e);f&&g&&(g[0]=a.getFont().size);if(1010==a.getType())return g=a.getWidth(),f=a.getHeight(),new b.com_ibm_vis_geom_Dim(g,f);g=a.getBounds();return new b.com_ibm_vis_geom_Dim(g.wt_3,g.hh_2)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ai$8=function(a,d,c,e){var g=e.makeGeometryClone();g.copyInfoFrom(e);d=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.makeRow(d,
c);return a.apply(g,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.makeRow=function(a,d){var c=b.com_ibm_vis_engine_internal_data_Row.createEmptyRow(a+1,0);c.data[a]=d;return c};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getPostAestheticStokeWidth=function(a,d,c,e){return(a=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ai$8(a,d,c,e).getStroke())?new b.com_ibm_vis_geom_Dim(50,a.wt_1):new b.com_ibm_vis_geom_Dim(50,1)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.changesFontSize=
function(a,d){if(!a||2>a.length)return!1;for(var c=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(d.getMinimumFontSize()),e=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$56(a[0],c),g=1;g<a.length;++g){var f=e-b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$56(a[g],c);if(-.5>f||.5<f)return!0}return!1};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.ge$56=function(a,d){return null==a||b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,
b.com_ibm_vis_spec_internal_FontSpec)?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$29(a,d):b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,d,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.gz$29=function(a,d){return a&&null!=a.size?b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.size,d,400):d};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.extractFontPaletteFromMapping=function(a){if(!a||1>a.length)return null;
for(var b=Array(a.length),c=0;c<a.length;++c)b[c]=a[c].font;return b};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.sizeChangesInStyle=function(a,d,c){if(!a||2>a.length)return!1;var e=-20;c&&(null!=c.width?e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c.width,20,400):null!=c.height?e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c.height,20,400):null!=c.size&&(e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c.size,
20,400)));c=Array(a.length);var g=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getSize(a[0],e,400);c[0]=null==a[0]?null:a[0].font;for(var f=1;f<a.length;++f){var h=g-b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getSize(a[f],e,400);if(-.5>h||.5<h)return!0;c[f]=null==a[f]?null:a[f].font}return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.changesFontSize(c,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.getSize=function(a,d,c){return!a||null==
a.size&&null==a.width&&null==a.height?d:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(null!=a.width?a.width:null==a.height?a.size:a.height,d,c)};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.SYMBOL_LENGTH=50;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.DEFAULT_SYMBOL_WIDTH=20;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.DEFAULT_EXTENT=400;b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch=b.com_ibm_init_declare({en_18:!1,
sm_6:0,constructor:function(a,b,c,e,g,f){this.sp_8=a;this.en_17=b;this.le_48=c;this.en_18=e;this.sm_6=g?3:10;this.se_50=f},makeSwatchSpecification:function(a){var d=this.makeSwatchSizes(a),c=this.sp_8.sl_21,e,g=c;(this.se_50&&!this.se_50.in_10||!this.se_50)&&3<b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.gt$33(g)&&(g=g.copy(),g.stroke.width=3);g||(g=new b.com_ibm_vis_spec_internal_StyleSpec,g.fill="#aaa",g.outline="#000");if(g=b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(g,
a))e=g.symbol,g=this.mc$13(g,!1);c||(c=new b.com_ibm_vis_spec_internal_StyleSpec,c.fill="#000");(c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(c,a))&&(c=this.mc$13(c,!0));a=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;a.type="group";a.style=new b.com_ibm_vis_spec_internal_StyleSpec;if(this.se_50&&this.se_50.in_10){var f=Math.max(this.se_50.mc_6.hh_1,d[0].hh_1);a.style.width=d[0].wt_2;a.style.height=f}else this.se_50&&this.se_50.in_9?(a.style.width=d[0].wt_2,a.style.height=d[0].hh_1,
this.se_50.modifyStyleSize(a.style,this.le_48)):(a.style.width=d[0].wt_2,a.style.height=d[0].hh_1);a.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SWATCH;switch(this.sp_8.type){default:case 1:d=[this.makePointElementSpecification(e,g)];break;case 2:case 3:d=this.makeLineElementSpecification(d,c);break;case 4:case 5:d=this.makeAreaElementSpecification(g);break;case 6:d=[this.makePointElementSpecification(null==e?"rect":e,g)];break;case 7:case 8:d=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec];
d[0].part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL;d[0].type="path";d[0].style=c;d[0].path="M0,0.5L1,0.5";break;case 9:case 10:d=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec];d[0].part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL;d[0].type="rect";d[0].style=g;break;case 11:d=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec];d[0].part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL;
d[0].type="letter-A";d[0].style=g;this.se_50&&this.se_50.in_9&&this.se_50.modifyStyleSize(g,this.le_48);break;case 12:d=[this.makePointElementSpecification("square",g)]}a.shape=d;return a},makeSwatchSizes:function(a){var d,c;switch(this.sp_8.type){default:case 1:d=this.gz$26(this.sp_8.sl_21,a);break;case 2:case 3:case 7:case 8:d=new b.com_ibm_vis_geom_Dim(20,20);d=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(d,d,a);break;case 4:case 5:case 6:case 9:case 10:case 12:d=new b.com_ibm_vis_geom_Dim(20,
20);this.se_50&&(d=this.se_50.getSwatchSize(d),20>d.hh_1&&(d.hh_1=20));d=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(d,d,a);break;case 11:d=new b.com_ibm_vis_geom_Dim(20,20),d=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(d,d,a)}3==this.sp_8.type?this.se_50&&this.se_50.in_9?(c=this.se_50.mc_7)||(c=this.gz$26(this.sp_8.sl_22,a)):c=this.gz$26(this.sp_8.sl_22,a):c=new b.com_ibm_vis_geom_Dim(0,0);return[d,c]},gz$26:function(a,d){var c;c=this.en_17.size?new b.com_ibm_vis_geom_Dim(this.en_17.size.wt_2,
this.en_17.size.hh_1):new b.com_ibm_vis_geom_Dim(20,20);c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(c,c,a);if(!d||null==d.size&&null==d.width&&null==d.height){var e=!0;a&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.symbol)&&(e=!a.symbol.CPVISEngineStartsWith("rect"));if(e)e=Math.max(10,Math.min(20,Math.min(c.wt_2,c.hh_1))),c.wt_2=e,c.hh_1=e;else{var e=c.wt_2,g=c.hh_1,f=new b.com_ibm_vis_engine_internal_data_Range(10,20);0>=e&&0>=g?g=e=20:0>=e?(e=0,g=f.clamp(g)):
0>=g?(e=f.clamp(e),g=0):20<e||20<g?(f=20/Math.max(e,g),e*=f,g*=f):10>e&&10>g&&(f=10/Math.max(e,g),e*=f,g*=f);c.wt_2=e;c.hh_1=g}}else c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifySizeByStyle(c,c,d);return c},makePointElementSpecification:function(a,d){var c=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;c.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL;if(null!=a)if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a))c.style=this.mc$13(d,
!1),c.type=a;else if(a.shape){c.type="group";var e=a.shape.length;c.shape=Array(e);for(var g=0;g<e;++g)c.shape[g]=a.shape[g].copy(),c.shape[g].style=this.mc$13(b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(d,a.shape[g].style),!1),c.shape[g].style&&(c.shape[g].style.symbol=null)}else throw new b.com_ibm_vis_exceptions_internal_SpecException("Must specify shape array for custom symbol",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);else c.type="circle",c.style=this.mc$13(d,
!1);return c},makeLineElementSpecification:function(a,d){var c=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;c.type="path";c.path="M0,0.5L1,0.5";c.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE;c.style=this.mc$13(d,!0);if(3!=this.sp_8.type)return[c];var e=this.sp_8.sl_22,e=this.makePointElementSpecification(e?e.symbol:null,e);e.bounds=new b.com_ibm_vis_spec_internal_BoundsSpec;var g=a[1].wt_2/a[0].wt_2,f=a[1].hh_1/a[0].hh_1;e.bounds.left=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*
(.5-g/2))+"%";e.bounds.width=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*g)+"%";e.bounds.top=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*(.5-f/2))+"%";e.bounds.height=b.com_ibm_vis_engine_internal_util_MathUtil.r3(100*f)+"%";return[c,e]},makeAreaElementSpecification:function(a){var d=[new b.com_ibm_vis_spec_internal_SymbolShapeSpec,new b.com_ibm_vis_spec_internal_SymbolShapeSpec];d[0].type="path";d[0].part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAFILL;
d[0].style=this.mc$13(a,!1);d[0].style||(d[0].style=new b.com_ibm_vis_spec_internal_StyleSpec,d[0].style.fill="#aaa");d[0].style.outline="transparent";d[1].type="path";d[1].part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE;d[1].style=this.mc$13(a,!1);d[1].style?null==d[1].style.outline&&null!=d[1].style.fill?d[1].style.fill=d[1].style.stroke?"#000":"transparent":(d[1].style.fill=d[1].style.outline,d[1].style.outline=null):(d[1].style=new b.com_ibm_vis_spec_internal_StyleSpec,
d[1].style.fill=a?"#000":"transparent");4==this.sp_8.type?(d[0].path="M0,1C0,0.7,0.4,0.6,0.5,0.5C0.6,0.4,0.7,0,1,0L1,1Z",d[1].path="M0,1C0,0.7,0.4,0.6,0.5,0.5C0.6,0.4,0.7,0,1,0"):(d[0].path="M0,1L0.4,0.25L0.6,0.5L1.0,0.0L1.0,1.0Z",d[1].path="M0,1L0.4,0.25L0.6,0.5L1.0,0.0");return d},mc$13:function(a,d){if(!a)return null;var c=a.copy();c.size=null;c.width=null;c.height=null;c.symbol=null;c.padding=null;!d||null==a.size||c.stroke&&null!=c.stroke.width||(c.stroke||(c.stroke=new b.com_ibm_vis_spec_internal_StrokeSpec),
c.stroke.width=a.size);if(c.stroke&&null!=c.stroke.width){var e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c.stroke.width,1,20);c.stroke.width=null==e?1:this.se_50&&this.se_50.in_10?e:Math.min(e,this.sm_6)}c.font&&(e=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c.font.size,20,20),c.font.size=null==e?12:b.com_ibm_vis_engine_internal_util_MathUtil.r3(Math.max(7.5,Math.min(e,15))));b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(c.fill,b.com_ibm_vis_spec_internal_FillSpec)&&
(e=c.fill.copy(),e.global=!1,c.fill=e);return b.com_ibm_rave_codegenerator_util_BasicFactory.isEmpty(c.toJSON())?null:c}});b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.gt$33=function(a){return a&&a.stroke?(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.stroke.width,1,1),null==a?1:a):1};b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SWATCH="legendentry_swatch9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL=
"legendentry_symbol9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE="legendentry_line9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAFILL="legendentry_areafill9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE="legendentry_areaoutline9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.MAX_STROKE_WIDTH=3;b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator=
b.com_ibm_init_declare({be_6:!1,aa_7:!1,le_50:!1,se_51:!1,dn_7:0,constructor:function(a,d,c){this.sl_19=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.gl$13(d);a?(this.le_50=null!=a.reverse&&a.reverse,this.le_49=a.spans?a.spans[0].categories:null,this.aa_7=null==a.local?this.sl_19.isCategorical():a.local):(this.le_50=!1,this.le_49=null,this.aa_7=this.sl_19.isCategorical());(a=d.get(0).valueProvider.getBaseField())?(this.fe_13=a.getFieldSpec(),this.fm_2=a.id):this.fm_2=this.fe_13=
null;c&&(!this.sl_19.isCategorical()||b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.sd$10(d.get(0))&&this.sl_19.isCategorical())&&(this.le_50=!this.le_50);this.be_6=(d=this.sl_19.getTicks())&&0<d.size();this.se_51=this.sl_19.reverse;this.dn_7=7;this.rn_6=null},reset:function(){this.data=null},getFieldName:function(){return this.fm_2},hasLegendEntries:function(){return this.be_6},getDataSpec:function(){return this.be_6?[this.bl$6()]:null},bl$6:function(){if(!this.be_6)return this.dk_1=
new b.com_ibm_rave_codegenerator_util_List,this.data=this.rn_6=null;if(this.data)return this.data;var a=this.sl_19.spans.get(0);this.data=new b.com_ibm_vis_spec_internal_DataSpec;this.data.fields=[new b.com_ibm_vis_spec_internal_FieldSpec,new b.com_ibm_vis_spec_internal_FieldSpec,new b.com_ibm_vis_spec_internal_FieldSpec];var d=this.data.fields[0];d.id=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.FIELD_ID;d.unit=a.getInputUnit().name;this.fe_13&&(d.format=this.fe_13.format,d.granularity=
this.fe_13.granularity);this.data.fields[1].id=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.VALUE_ID;this.data.fields[2].id=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.STRING_ID;if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_grammar_scale_ContinuousScaleSpan)){var c=a.makeCopyWithoutTickInfo(),a=new b.com_ibm_rave_codegenerator_util_List;c.setupForTickCount(this.dn_7,this.dn_7);c.addTicks(a,!0)}else a=this.sl_19.getTicks();
this.rn_6=null;if(this.sl_19.isCategorical()){this.rn_6=new b.com_ibm_rave_codegenerator_util_NumericMap;for(var e=Array(a.size()),c=0;c<a.size();++c){var g=a.get(c);g.content&&(e[c]=g.content.getText());this.rn_6.put(g.value,c)}d.categories=e}this.aa_7&&(a=this.sl_19.getTicksForData());this.dk_1=a=this.le$7(this.fe$8(a));this.data.fields[2].categories=this.getLegendLabels();d=a.size();this.data.rows=Array(d);this.te_17=b.com_ibm_rave_codegenerator_lang_Array.create([d],0);for(c=0;c<d;++c)e=this.le_50?
d-1-c:c,g=a.get(e).value,this.sl_19.isCategorical()&&(g=this.rn_6.get(g)),this.te_17[c]=g,this.data.rows[c]=[g,g,e];return this.data},makeRecodedMapping:function(a){if(!this.sl_19.isCategorical()||!a)return a;this.bl$6();if(!this.rn_6)return a;for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0;c<a.length;++c){var e=a[c];if(null!=e.at){var g=e.at;if(this.rn_6.containsKey(g)){var f=e.copy();f.at=this.rn_6.get(g);d.add(f)}}else if(null!=e.atLabel){for(var g=!1,h=-1,l=-1,f=this.data.fields,m=0;m<
f.length;++m){for(var p=0;p<f[m].categories.length;++p)if(f[m].categories[p]==e.atLabel){h=m;l=p;g=!0;break}if(1==g)break}p=this.data.rows;for(m=0;m<p.length;++m)p[m][h]==l&&(g=m,this.rn_6.containsKey(g)&&(f=e.copy(),f.at=this.rn_6.get(g),d.add(f)))}}a=d.size();e=Array(a);for(c=0;c<a;++c)e[c]=d.get(c);return e},fe$8:function(a){if(!this.le_49)return a;for(var d=new b.com_ibm_rave_codegenerator_util_NumericMap,c=0,e=a.arrayIterator(),g=e.length;c<g;++c)a=e[c],d.put(a.value,a);for(var c=0,e=new b.com_ibm_rave_codegenerator_util_List,
g=0,f=this.le_49,h=f.length;g<h;++g)if(a=d.get(f[g]))if(e.add(a),c++,80<=c)break;return e},le$7:function(a){if(80>=a.size())return a;for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0;80>=c;++c)d.add(a.get(c));return d},getRowCount:function(){var a=this.bl$6();return a?a.rows.length:0},getScaleSpec:function(){var a=new b.com_ibm_vis_spec_internal_ScaleSpec;a.local=!1;a.reverse=this.se_51;if(!this.sl_19.isCategorical()){var d=this.sl_19.spans.get(0);a.spans=[new b.com_ibm_vis_spec_internal_SpanSpec];
a.spans[0].min=d.getAdjustedInputRange().min;a.spans[0].max=d.getAdjustedInputRange().max;b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan)&&(a.spans[0].method="log")}return a},setDesiredTickCount:function(a){this.dn_7=Math.max(0,a);this.data=null},getDesiredTickCount:function(){return this.dn_7},getLegendLabels:function(){this.bl$6();for(var a=this.dk_1.size(),b=Array(a),c=0;c<a;++c)this.dk_1.get(c).getContent()&&(b[c]=this.dk_1.get(c).getContent().getText());
return b},isNumeric:function(){return!this.sl_19.isCategorical()},getTickValues:function(){return this.te_17}});b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.sd$10=function(a){var b=a.element.grammar.coordinates;a=b.containsStacking();b=!((b.containsPolar()||b.containsTranspose())&&1==b.scales.length);return a&&b};b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.gl$13=function(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d){var e=a[d];if(e.scale)return e.scale}throw new b.com_ibm_rave_codegenerator_io_WebEngineException;
};b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.FIELD_ID="legendField";b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.VALUE_ID="legendValue";b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.STRING_ID="legendString";b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.ME_6=80;b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLabel=b.com_ibm_init_declare({mn_6:!1,me_14:0,mt_8:0,constructor:function(a,d,c){this.le_51=a;this.do_10=d;
this.vis=c;this.mn_6=null!=a.multiline&&"consistent"==a.multiline;this.font=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(a.labelStyle?a.labelStyle.font:null,c.vx_10.getMinimumFontSize(),c.vx_10.uc_1)},measureLabelSize:function(a){var d=this.mt$20(this.font);if(a&&this.do_10.be_6&&this.do_10.isNumeric()){a=this.do_10.getDesiredTickCount();this.do_10.setDesiredTickCount(2);d=Math.max(d,this.mt$20(this.font));this.do_10.setDesiredTickCount(50);d=Math.max(d,this.mt$20(this.font));if(null!=
this.le_51.rows||null!=this.le_51.columns){var c=null!=this.le_51.rows?this.le_51.rows:1;0>=c&&(c=1);var e=null!=this.le_51.columns?this.le_51.columns:1;0>=e&&(e=1);c*=e;2<c&&(this.do_10.setDesiredTickCount(c),d=Math.max(d,this.mt$20(this.font)))}d+=this.font.measureString(".");this.do_10.setDesiredTickCount(a)}return new b.com_ibm_vis_geom_Dim(Math.ceil(d)+1,this.font.getHeight()*this.ge$52(null))},ge$52:function(a){if(!this.mn_6)return 1;var b=1;if(this.do_10.be_6)for(var c=0,e=this.do_10.getLegendLabels(),
g=e.length;c<g;++c){var f=e[c];if(null!=f){for(var h=0,l=f.indexOfCharCode(10),m=0<l?f.substring(0,l):f,h=h+this.ge$53(m,a);0<l;)f=f.substring(l+1),l=f.indexOfCharCode(10),m=0<l?f.substring(0,l):f,h+=this.ge$53(m,a);b=Math.max(b,h)}}return b},ge$53:function(a,d){if(null==d)return 1;var c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,d,1.7976931348623157E308);return(c=b.com_ibm_vis_engine_internal_grammar_label_LabelProducer.makeSimpleInside(this.vis,this.le_51.labelStyle,this.le_51.labelStyle?
this.le_51.labelStyle.align:"middle",this.le_51.labelStyle?this.le_51.labelStyle.valign:"middle",null).makeLabel([a],c))?c.getNumLines():1},mt$20:function(a){var b=0;if(this.do_10.be_6)for(var c=0,e=this.do_10.getLegendLabels(),g=e.length;c<g;++c){var f=e[c];if(null!=f){for(var h=f.indexOfCharCode(10);0<h;)if(this.mn_6)var l=f.substring(0,h),b=Math.max(b,a.measureString(l)),f=f.substring(h+1),h=f.indexOfCharCode(10);else f=f.substring(0,h)+"\u2026",h=-1;b=Math.max(b,a.measureString(f))}}return b},
getLabelSize:function(){this.lz_2||(this.lz_2=this.measureLabelSize(!0));return this.lz_2},resetLabelSize:function(){this.lz_2=null},isMultiline:function(){return this.mn_6},setAvailableWidth:function(a){if(null==a)return!1;a=this.lz_2&&a==this.lz_2.wt_2?a:Math.max(a,2*this.font.size);var d=this.me_14;this.mt_8!=a&&(this.mt_8=a,this.me_14=this.ge$52(a));var c=this.me_14*this.font.getHeight();this.lz_2?(d=d!=this.me_14||this.lz_2.wt_2!=a||this.lz_2.hh_1!=c,this.lz_2.wt_2=a,this.lz_2.hh_1=c):(this.lz_2=
new b.com_ibm_vis_geom_Dim(a,c),d=!0);return d},getMaxLines:function(){return this.me_14},setMaxLines:function(a){this.lz_2.hh_1=a*this.font.getHeight();this.me_14=a},getMinimumSize:function(){return new b.com_ibm_vis_geom_Dim(2*this.font.size,this.font.getHeight())}});b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry=b.com_ibm_init_declare({fz_1:0,constructor:function(a,b,c,e,g){this.vx_6=a;this.le_53=b;this.ec_1=c;this.se_55=e;this.se_54=g},layout:function(){var a=this.se_55.getLabelSize(),
d=this.se_55.mn_6;this.so_18=this.ec_1.makeSwatchSpecification(this.le_53.itemStyle);var c;c=this.se_54&&this.se_54.mc_7?this.se_54.mc_7:new b.com_ibm_vis_geom_Dim(this.so_18.style.width,this.so_18.style.height);d||(this.fz_1=b.com_ibm_vis_engine_internal_scene_FontHelper.getDefaultFontSize(this.vx_6.getMinimumFontSize()),this.le_53.labelStyle&&this.le_53.labelStyle.font&&null!=this.le_53.labelStyle.font.size&&(d=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.le_53.labelStyle.font.size,
10,10),null!=d&&(this.fz_1=d)),a.hh_1=1.5*this.fz_1);d=new b.com_ibm_vis_geom_Dim(10,10);this.ln_14=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.ml$21(this.le_53.legendEntryStyle,d,2.5);this.sn_14=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.ml$21(this.le_53.itemStyle,d,0);this.sn_13=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.ml$21(this.le_53.itemBoxStyle,d,0);this.ln_13=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.ml$21(this.le_53.labelStyle,
d,0);this.cu$6(c,a)},getSwatchSpecification:function(){var a=this.sc_9.getExtent(),d=this.lc_1.getExtent();this.cu$6(a,d);a=new b.com_ibm_vis_spec_internal_SymbolSpec;a.bounds=new b.com_ibm_vis_spec_internal_BoundsSpec;a.bounds.width=this.lc_2.wt_3;a.bounds.height=this.lc_2.hh_2;a.shape=Array(this.le_53.itemBoxStyle?4:3);d=0;a.shape[d++]=this.me$63(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_ENTRY,"rect",this.lc_2,this.le_53.legendEntryStyle);if(this.le_53.itemBoxStyle){var c=
new b.com_ibm_vis_spec_internal_StyleSpec;c.fill="#aaa";c.outline=null;c=b.com_ibm_vis_engine_internal_scene_StyleBuilder.mergeStyles(c,this.le_53.itemBoxStyle);a.shape[d++]=this.me$63(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_SWATCHBOX,"rect",this.sc_8,c)}a.shape[d++]=this.so_18;this.so_18.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SWATCH;this.so_18.bounds=new b.com_ibm_vis_spec_internal_BoundsSpec;this.so_18.bounds.left=
this.sc_9.x;this.so_18.bounds.top=this.sc_9.y;this.so_18.bounds.width=this.sc_9.wt_3;this.so_18.bounds.height=this.sc_9.hh_2;this.so_18.style&&(this.so_18.style.width=null,this.so_18.style.height=null);a.shape[d++]=this.me$63(b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_LABEL,"rect",this.lc_1,null);return a},modifyStyleForSizeClipping:function(a){a=a.symbol;for(var d=Array(a.shape.length+1),c=0;c<a.shape.length;++c)d[c]=a.shape[c];c=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;
c.part=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_TOO_LARGE_SYMBOL;c.type="group";c.bounds=new b.com_ibm_vis_spec_internal_BoundsSpec;c.bounds.left=this.oc_1.x;c.bounds.top=this.oc_1.y;c.bounds.width=this.oc_1.wt_3;c.bounds.height=this.oc_1.hh_2;var e=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;e.type="circle";e.style=new b.com_ibm_vis_spec_internal_StyleSpec;e.style.fill="transparent";e.style.outline="black";var g=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;
g.type="path";g.path="M0.2,0.4L0.2,0.2L0.4,0.2M0.2,0.20L0.8,0.8M0.6,0.8L0.80,0.80L0.8,0.6M0.8,0.4L0.8,0.2L0.6,0.2M0.8,0.20L0.2,0.8M0.4,0.8L0.2,0.8L0.2,0.6";g.style=new b.com_ibm_vis_spec_internal_StyleSpec;g.style.fill="black";c.shape=[e,g];d[a.shape.length]=c;a.shape=d},getSize:function(){return new b.com_ibm_vis_geom_Dim(this.lc_2.wt_3+this.ln_14.getHorizontal(),this.lc_2.hh_2+this.ln_14.getVertical())},cu$6:function(a,d){var c;c=this.se_54?b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.unionDim(this.se_54.mc_7,
a):new b.com_ibm_vis_geom_Dim(a.wt_2,a.hh_1);var e=0+this.sn_13.left,g=e+this.sn_14.left,f=g+c.wt_2,h=f+this.sn_14.right,l=h+this.sn_13.right+5+this.ln_13.left,m=l+d.wt_2,p=Math.ceil(m+this.ln_13.right),q=this.sn_13.getVertical()+this.sn_14.getVertical()+c.hh_1,r=this.ln_13.getVertical()+d.hh_1,t=Math.max(q,r),w=0+this.sn_13.top,x=0+this.ln_13.top,y=x+d.hh_1,z=this.gg$9();if("middle"==z)q<r&&(w=0+this.sn_13.top+(t-q)/2);else if("end"==z)q<r&&(w=0+t-q);else if(z==b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE){t=
this.sn_13.top+this.sn_14.top+c.hh_1/2;z=null;this.le_53.labelStyle&&(z=this.le_53.labelStyle.font);var z=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(z,this.vx_6.getMinimumFontSize(),this.vx_6.uc_1),C=this.ln_13.top+z.getHeight()/2,E=t-C;0>E?(Math.max(q+Math.abs(E),r),w=C-c.hh_1/2-this.sn_14.top):(Math.max(q,r+E),x=t-z.getHeight()/2,y=x+d.hh_1)}q=w+this.sn_14.top;c=q+c.hh_1;r=c+this.sn_14.bottom;t=Math.max(r+this.sn_13.bottom,y+this.ln_13.bottom);t=Math.ceil(0+t);this.lc_2=new b.com_ibm_vis_geom_Rect(0,
0,p-0,t-0);this.sc_8=new b.com_ibm_vis_geom_Rect(e,w,h-e,r-w);this.sc_9=new b.com_ibm_vis_geom_Rect(g+(f-g-a.wt_2)/2,q+(c-q-a.hh_1)/2,a.wt_2,a.hh_1);this.lc_1=new b.com_ibm_vis_geom_Rect(l,x,m-l,y-x);e=this.sc_9.wt_3;g=this.sc_9.hh_2;f=Math.min(e,g);this.oc_1=new b.com_ibm_vis_geom_Rect(this.sc_9.getMinX()+(e-f)/2,this.sc_9.getMinY()+(g-f)/2,f,f)},gg$9:function(){return this.le_53.labelStyle&&null!=this.le_53.labelStyle.valign?this.le_53.labelStyle.valign:b.com_ibm_vis_engine_internal_Alignment.VALIGN_MIDDLE_1ST_LINE},
me$63:function(a,d,c,e){var g=new b.com_ibm_vis_spec_internal_SymbolShapeSpec;g.type=d;g.part=a;g.bounds=new b.com_ibm_vis_spec_internal_BoundsSpec;g.bounds.left=c.x;g.bounds.top=c.y;g.bounds.width=c.wt_3;g.bounds.height=c.hh_2;g.style=this.ml$20(e);return g},ml$20:function(a){a=a?a.copy():new b.com_ibm_vis_spec_internal_StyleSpec;a.symbol=null;a.size=null;a.width=null;a.height=null;a.padding=null;null==a.fill&&(a.fill="transparent");null==a.outline&&(a.outline="transparent");return a},makeStyleSpec:function(){this.se_55.setAvailableWidth(this.se_55.getLabelSize().wt_2);
var a=this.getSize(),d=new b.com_ibm_vis_spec_internal_StyleSpec;d.height=a.hh_1;d.width=a.wt_2;d.padding=this.le_53.legendEntryStyle&&null!=this.le_53.legendEntryStyle.padding?this.le_53.legendEntryStyle.padding:2.5;d.symbol=this.getSwatchSpecification();return d},measureLabelSize:function(){return this.se_55.measureLabelSize(!1)},getLabelSize:function(){return this.se_55.getLabelSize()},canReduceHorizontal:function(){var a=this.se_55.getMinimumSize();return!(this.lc_1.wt_3<=a.wt_2&&20>=this.sc_9.wt_3)},
canReduceVertical:function(){return 1<this.se_55.me_14||20<this.sc_9.hh_2&&this.se_54},reduceSize:function(a){var d=this.getSize(),c=!1,e=!1,g;this.se_54&&(g=this.se_54.mc_7);var f=this.lc_1.wt_3,h=f,l=this.sc_9.wt_3;if(a.wt_2<d.wt_2){var m=this.se_55.getMinimumSize(),m=Math.max(m.wt_2,f+(a.wt_2-d.wt_2));m<f&&(h=m);if(this.se_54&&a.wt_2<d.wt_2-f+h){var m=a.wt_2-(d.wt_2-f-l)-h,p=20;if(this.le_53&&this.le_53.itemStyle&&null!=this.le_53.itemStyle.width){var q=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(this.le_53.itemStyle.width,
20,20);null!=q&&(p=q)}m=Math.max(m,p);m<l&&(this.se_54.setMaxWidth(m),c=!0)}}l=this.se_55.me_14;d.hh_1>a.hh_1&&1<l?(this.se_55.setMaxLines(l-1),e=!0):d.hh_1>a.hh_1&&g&&20<g.hh_1&&(c=Math.max(20,g.hh_1+(a.hh_1-d.hh_1)),this.se_54.setMaxHeight(c),c=!0);h!=f&&(f=this.se_55.setAvailableWidth(h),e=e||f);(e=c||e)&&this.layout();return e},reset:function(){this.se_54&&this.se_54.reset();this.se_55.resetLabelSize();this.lc_2=null}});b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.ml$21=function(a,
d,c){if(!a||null==a.padding)return a=Math.max(0,c),new b.com_ibm_vis_engine_internal_struct_Insets(a,a,a,a);a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(a.padding,d,d);return new b.com_ibm_vis_engine_internal_struct_Insets(Math.max(0,a.top),Math.max(0,a.left),Math.max(0,a.bottom),Math.max(0,a.right))};b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_ENTRY="legendentry_entry9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_SWATCHBOX=
"legendentry_swatchBox9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_LABEL="legendentry_label9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.SWATCHLEGENDENTRY_TOO_LARGE_SYMBOL="legendentry_tooLargesymbol9238749274";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegendEntry.DEFAULT_LEGEND_ENTRY_PADDING=2.5;b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter=b.com_ibm_init_declare({af_1:!1,constructor:function(a,
b,c,e){this.bI_1="L"+b;this.fl_12=c;this.sn_12=a;this.lp_2=e;this.af_1=!0},setFieldInfo:function(a){this.af_1=a},getLegend:function(){this.bn_7||(this.bn_7=this.cn$26());return this.bn_7},cn$26:function(){var a=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND);this.af_1&&null!=this.fl_12&&a.setField(this.fl_12);this.at$9(a);"stagger"==this.lp_2?this.cn$27(a,!0,!0):"continuous"==this.lp_2?this.cn$27(a,!1,!0):"axis"==this.lp_2?
this.cn$27(a,!1,!1):this.ae$25(a);return a},at$9:function(a){a.setId(this.bI_1);null!=this.fl_12&&a.setField(this.fl_12);b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.ak$2(this.sn_12,this.bI_1,a);this.addTitles(this.bI_1,a)},cn$27:function(a,b,c){c?this.ar$10(0,a,b):this.an$13(a);this.createAxisLegendEntries(1,a)},getElement:function(a){for(var d=this.sn_12.getChildrenCount(),c=0,e=0;e<d;++e){var g=this.sn_12.getChild(e);if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.ELEMENT==
g.getType()){if(c==a)return g;c++}}return null},ar$10:function(a,d,c){var e=this.getElement(0);if(e){var g=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY);a=this.bI_1+"LE"+a;g.setId(a);a+="SW";b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.ae$24(e,a,g);c&&(c=this.getElement(1),b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.ae$24(c,a,g));(e=e.getTransform())&&g.setTransform(e);
this.af_1&&null!=this.fl_12&&g.setField(this.fl_12);d.addChild(g)}},createAxisLegendEntries:function(a,d){if(d){var c=this.getAxis();if(c){var e=c.getTransform(),g=this.gl$14(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_MARK,c),c=this.gl$14(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS_LABEL,c);if(g||c){var f=new b.com_ibm_rave_codegenerator_util_HashMap;g&&this.aa$7(f,g);c&&this.aa$7(f,c);for(var g=new b.com_ibm_rave_codegenerator_util_Map,h=new b.com_ibm_rave_codegenerator_util_List,
l=0,m=f.keySet().arrayIterator(),p=m.length;l<p;++l)if(c=this.mr$11(f.get(m[l]),a)){var q=c.getId();g.put(q,c);h.add(q);e&&c.setTransform(e);this.af_1&&null!=this.fl_12&&c.setField(this.fl_12)}e=h.toArray(Array(h.size()));c=b.com_ibm_rave_codegenerator_lang_Array.create([e.length],0);h=this.bI_1+"LE";for(f=0;f<e.length;++f)c[f]=b.com_ibm_rave_codegenerator_util_BasicFactory.parseDouble(e[f].substring(h.length));h=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(c);for(f=0;f<e.length;++f)c=
g.get(e[h[f]]),d.addChild(c)}}}},getAxis:function(){for(var a=this.sn_12.getChildrenCount(),d=0;d<a;++d){var c=this.sn_12.getChild(d);if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.AXIS==c.getType())return c}return null},an$13:function(a){var d=this.getAxis();if(d){var c=this.gn$31(d);if(c){var e=new b.com_ibm_rave_codegenerator_util_List;e.add(c);if(c=this.mr$10(e,this.bI_1+"LE0"))a.addChild(c),(a=d.getTransform())&&c.setTransform(a)}}},gn$31:function(a){var b=a.getChildren();if(!b||b.isEmpty())return null;
a=0;for(var b=b.arrayIterator(),c=b.length;a<c;++a){var e=b[a];if(0<e.getId().indexOf("L"))return e}return null},addTitles:function(a,b){var c=this.getTitle();if(c){c.setId(a+"T");var e=c.getChildren();2==e.size()?(e.get(0).setId(a+"TLB"),e.get(1).setId(a+"T_0")):1==e.size()&&e.get(0).setId(a+"T_0");if(this.af_1&&null!=this.fl_12){c.setField(this.fl_12);for(var g=0,e=e.arrayIterator(),f=e.length;g<f;++g)e[g].setField(this.fl_12)}b.addChild(c)}},getTitle:function(){for(var a=this.sn_12.getChildrenCount(),
d=0;d<a;++d){var c=this.sn_12.getChild(d);if(b.com_ibm_vis_scenetree_provisional_SceneNodeType.TITLE==c.getType())return c}return null},cI$1:function(a,d){var c=b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.gi$8(a),e=0<a.indexOf("T")?"T":"SW";return d+e+c},mr$10:function(a,d){var c=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY);c.setId(d);for(var e=0,g=a.arrayIterator(),f=g.length;e<f;++e){var h=
g[e],l=h.getId(),l=this.cI$1(l,d);h.setId(l);this.af_1&&null!=this.fl_12&&h.setField(this.fl_12);c.addChild(h)}return c},gl$14:function(a,b){var c=b.getChildren();if(!c||c.isEmpty())return null;for(var e=0,c=c.arrayIterator(),g=c.length;e<g;++e){var f=c[e],h=f.getType();if(a==h)return f}return null},mr$11:function(a,b){var c=a.get(0).getId(),c=this.mI$1(c,b);return this.mr$10(a,c)},ge$50:function(a){var b=a.indexOf("M")+1;0==b&&(b=a.indexOf("T")+1);var c=a.indexOfCharCode(95,b);return 0<c?a.substring(b,
c):a.substring(b)},mI$1:function(a,d){var c=this.ge$50(a);0!=d&&(c=b.com_ibm_vis_engine_internal_nativeImpl_IntegerUtil.parseInt(c,10)+d);return c=this.bI_1+"LE"+c},aa$7:function(a,d){if(d&&0!=d.getChildrenCount())for(var c=d.getChildrenCount(),e=0;e<c;++e){var g=d.getChild(e),f=g.getValue(),h=a.get(f);h||(h=new b.com_ibm_rave_codegenerator_util_List,a.put(f,h));h.add(g)}},ae$25:function(a){var d=this.getElement(0);if(d){var c=d.getChildren();if(c&&!c.isEmpty()){for(var e=0,d=d.getTransform(),g=new b.com_ibm_rave_codegenerator_util_LinkedMap,
f=0,c=c.arrayIterator(),h=c.length;f<h;++f){var l=c[f],m=l.getId(),p=m.indexOf("S");if(-1<p)m=m.substring(p+1),this.aa$8(g,l,m);else if(p=m.indexOf("L"),-1<p){var q=m.indexOf("P"),m=m.substring(p+1,q);this.aa$8(g,l,m)}}f=0;c=g.keySet().arrayIterator();for(h=c.length;f<h;++f){var m=c[f],r=g.get(m),l=b.com_ibm_vis_scenetree_internal_SceneNodeFactory.createGroupNode(b.com_ibm_vis_scenetree_provisional_SceneNodeType.LEGEND_ENTRY),m=this.bI_1+"LE"+e;l.setId(m);for(var q=p=0,r=r.arrayIterator(),t=r.length;q<
t;++q){var w=r[q],p=this.cl$8(w,m,p);l.addChild(w)}d&&l.setTransform(d);a.addChild(l);e++}}}},aa$8:function(a,d,c){var e=a.get(c);e||(e=new b.com_ibm_rave_codegenerator_util_List,a.put(c,e));e.add(d)},cl$8:function(a,b,c){-1<a.getId().indexOf("S")?(b=b+"SW"+c,c++):b+="T";this.cr$15(a,b);return c},cr$15:function(a,d){a.setId(d);a.setRows(null);for(var c=0,e=a.getChildren().arrayIterator(),g=e.length;c<g;++c){var f=e[c],h=f,l=h.getMetaMap();l&&(l=l.get("part"),(l.CPVISEngineContains("legendentry_entry")||
l.CPVISEngineContains("legendentry_swatchbox")||l.CPVISEngineContains("legendentry_label"))&&h.setId(f.getId()+"Y"))}var c=a.getMeta("value"),m;null!=c&&(m=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(c));this.st$9(a,m)},st$9:function(a,b){this.af_1&&null!=this.fl_12&&(a.setField(this.fl_12),a.setValue(b));a.clearMetaMap();var c=a.getChildren();if(c)for(var e=0,c=c.arrayIterator(),g=c.length;e<g;++e)this.st$9(c[e],b)},et$4:function(a){a=a.getMetaMap();if(!a)return null;var b=a.get("value");
a.clear();return b}});b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.ae$24=function(a,b,c){if(a){var e=a.getChildren();a=c.getChildrenCount();for(var g=0,e=e.arrayIterator(),f=e.length;g<f;++g){var h=e[g];h.setId(b+a);h.setRows(null);c.addChild(h);a++}}};b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.ak$2=function(a,d,c){for(var e=a.getChildrenCount(),g=0;g<e;++g){var f=a.getChild(g),h=f.getId();if(b.com_ibm_vis_engine_internal_util_SceneIdUtil.isBackId(h)){var l=
d+"-back";b.com_ibm_vis_engine_internal_util_SceneIdUtil.isOutId(h)&&(l+="outline");f.setId(l);c.addChild(f)}}};b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.gi$8=function(a){var b=a.indexOfCharCode(95,1);return 0<b?a.substring(b):""};b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.LE="LE";b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter.VU_1="value";b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator=b.com_ibm_init_declare({constructor:function(a,
b,c,e,g){this.sp_9=a;this.en_19=b;this.do_9=c;this.ac_5=e;this.se_52=g},copyApplicableAesthetics:function(a){switch(this.sp_9.type){case 1:this.mc$16(a);break;case 2:this.mc$17(a);break;case 3:this.mc$18(a);break;case 4:case 5:this.mc$22(a);break;case 6:this.mc$23(a);break;case 7:this.mc$20(a);break;case 8:this.mc$19(a);break;case 9:this.mc$21(a);break;case 10:this.mc$25(a);break;case 11:this.mc$24(a);break;case 12:this.mc$26(a)}this.se_52&&this.se_52.modifySizeAesthetics(a.size)},mc$16:function(a){a.color=
this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.size=this.cc$12("size",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.symbol=this.cc$12("symbol",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.styleBy=this.cc$12("styleBy",
b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1)},mc$17:function(a){a.color=this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,null,!1);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,null,!1);a.size=this.cc$12("size",
b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,null,!1);a.styleBy=this.cc$12("styleBy",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,null,!0);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,null,!1)},mc$18:function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=!1;this.en_19.spec.symbolStyle&&null!=this.en_19.spec.symbolStyle.symbol&&!b.com_ibm_rave_codegenerator_util_BasicFactory.isString(this.en_19.spec.symbolStyle.symbol)&&
(c=!0);a.color=this.cc$10("color",!c);a.dashing=this.cc$10("dashing",!c);a.size=this.cc$10("size",!0);for(var e=0,g=this.ac_5.arrayIterator(),f=g.length;e<f;++e){var h=g[e];if("styleBy"==h.type&&h.spec.palette){var l=h.spec.palette,m=l.length,p=this.ge$51(h.spec),q="line"==p.part,r="symbol"==p.part,t=null!=p.part&&!q&&!r;if(null==p.part||q){var w=new b.com_ibm_vis_spec_internal_ModifiesSpec;w.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE;q=this.ci$5(h.spec,
w,!1);q.palette=Array(m);for(var w=!1,x=0;x<m;++x){var y=l[x],z=new b.com_ibm_vis_spec_internal_StyleSpec;q.palette[x]=z;z.fill=y.fill;z.effect=y.effect;z.stroke=y.stroke;z.startArrow=y.startArrow;z.endArrow=y.endArrow;if(null!=z.fill||z.effect||z.stroke||null!=z.startArrow||null!=z.endArrow)w=!0}w&&d.add(q)}if(null==p.part||r||t){w=new b.com_ibm_vis_spec_internal_ModifiesSpec;t?w.part=p.part:(w.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,w.descendants=
!0);q=this.ci$5(h.spec,w,!0);q.palette=Array(m);w=!1;for(x=0;x<m;++x)if(y=l[x],z=new b.com_ibm_vis_spec_internal_StyleSpec,q.palette[x]=z,z.symbol=y.symbol,r&&c&&null==z.symbol||(z.fill=y.fill,z.outline=y.outline,z.effect=y.effect,z.stroke=y.stroke,z.image=y.image),null!=z.fill||null!=z.outline||z.effect||z.stroke||null!=z.symbol||z.image)w=!0;w&&d.add(q)}}}a.styleBy=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(d);c=0;e=this.ac_5.arrayIterator();for(g=e.length;c<g;++c)h=
e[c],"symbol"==h.type&&(q=h.spec,w=this.ge$51(q),null==w.part||"symbol"==w.part?(w.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,d.add(this.ci$5(q,w,!1))):"line"!=w.part&&d.add(this.ci$5(q,w,!1)));a.symbol=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(d);a.visibility=this.cc$10("visibility",!0)},cc$10:function(a,d){for(var c="size"==a,e=new b.com_ibm_rave_codegenerator_util_List,g=0,f=this.ac_5.arrayIterator(),h=f.length;g<
h;++g){var l=f[g];if(a==l.type){var l=l.spec,m=this.ge$51(l);null==m.part?(m.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,e.add(this.ci$5(l,m,!1)),m.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,m.descendants=!c,e.add(this.ci$5(l,m,!1))):"line"==m.part?(m.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_LINE,e.add(this.ci$5(l,m,!1))):"symbol"==m.part?d&&(m.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
m.descendants=!c,e.add(this.ci$5(l,m,!1))):e.add(this.ci$5(l,m,!1))}}return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(e)},mc$19:function(a){a.color=this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.size=this.cc$12("size",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
null,!1);a.styleBy=this.cc$12("styleBy",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!0);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1)},mc$20:function(a){a.color=this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
null,!1);a.size=this.cc$12("size",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.styleBy=this.cc$12("styleBy",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!0);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1)},mc$21:function(a){a.color=this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
null,!1);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.styleBy=this.cc$12("styleBy",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!0);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1)},mc$22:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.ac_5.arrayIterator(),g=e.length;c<
g;++c){var f=e[c];if("color"==f.type){var h=f.spec,l=this.ge$51(h);"outline"==l.type?(l.type="fill",l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE):"both"==l.type?(l.type="fill",l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAFILL,d.add(this.ci$5(h,l,!1)),l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE):(l.type="fill",l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAFILL);
d.add(this.ci$5(h,l,!1))}}a.color=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(d);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE,null,!1);c=0;e=this.ac_5.arrayIterator();for(g=e.length;c<g;++c)if(f=e[c],"styleBy"==f.type&&f.spec.palette){var m=f.spec.palette,p=m.length,l=new b.com_ibm_vis_spec_internal_ModifiesSpec;l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAFILL;
h=this.ci$5(f.spec,l,!1);h.palette=Array(p);for(var l=!1,q=0;q<p;++q){var r=m[q],t=new b.com_ibm_vis_spec_internal_StyleSpec;h.palette[q]=t;t.fill=r.fill;t.effect=r.effect;t.image=r.image;if(null!=t.fill||t.effect||t.image)l=!0}l&&d.add(h);l=new b.com_ibm_vis_spec_internal_ModifiesSpec;l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE;h=this.ci$5(f.spec,l,!0);h.palette=Array(p);l=!1;for(q=0;q<p;++q)if(r=m[q],t=new b.com_ibm_vis_spec_internal_StyleSpec,
h.palette[q]=t,t.fill=r.outline,t.stroke=r.stroke,null!=t.fill||t.stroke)l=!0;l&&d.add(h)}a.styleBy=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(d);c=0;e=this.ac_5.arrayIterator();for(g=e.length;c<g;++c)f=e[c],"visibility"==f.type&&(h=f.spec,l=this.ge$51(h),l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAFILL,d.add(this.ci$5(h,l,!1)),l.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_AREAOUTLINE,
d.add(this.ci$5(h,l,!1)));a.visibility=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(d)},mc$23:function(a){var d;this.se_52&&this.se_52.in_9&&this.en_19.spec.style&&null!=this.en_19.spec.style.symbol&&("i-beam"==this.en_19.spec.style.symbol||"t-beam"==this.en_19.spec.style.symbol)&&(d="outline");a.color=this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,d,!1);a.dashing=this.cc$12("dashing",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
null,!1);d=this.en_19.grammar.coordinates.containsTranspose()?"height":"width";a.size=this.cc$12("size",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,d,!1);a.styleBy=this.cc$12("styleBy",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!0);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.symbol=this.cc$12("symbol",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
null,!1)},mc$24:function(a){a.color=this.cc$12("color",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.font=this.cc$12("font",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.size=this.cc$12("size",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1);a.styleBy=this.cc$12("styleBy",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,
null,!0);a.visibility=this.cc$12("visibility",b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,null,!1)},mc$25:function(a){a.color=this.cc$11("color",!1);a.size=this.cc$11("size",!1);a.dashing=this.cc$11("dashing",!1);a.styleBy=this.cc$11("styleBy",!0);a.visibility=this.cc$11("visibility",!1)},cc$11:function(a,d){for(var c="size"==a,e=new b.com_ibm_rave_codegenerator_util_List,g=0,f=this.ac_5.arrayIterator(),h=f.length;g<h;++g){var l=f[g];if(a==l.type){var l=l.spec,
m=this.ge$51(l);null==m.part&&(m.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL,m.descendants=!c);e.add(this.ci$5(l,m,d))}}return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(e)},mc$26:function(a){for(var d=new b.com_ibm_rave_codegenerator_util_List,c=0,e=this.ac_5.arrayIterator(),g=e.length;c<g;++c){var f=e[c];if("color"==f.type){var f=f.spec,h=new b.com_ibm_vis_spec_internal_ModifiesSpec;h.part=b.com_ibm_vis_engine_internal_legend_nonsimple_ElementSwatch.SWATCHLEGENDENTRY_SYMBOL;
h.type="fill";d.add(this.ci$5(f,h,!1))}}a.color=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(d)},cc$12:function(a,d,c,e){for(var g="size"==a,f=new b.com_ibm_rave_codegenerator_util_List,h=0,l=this.ac_5.arrayIterator(),m=l.length;h<m;++h){var p=l[h];if(a==p.type){var p=p.spec,q=this.ge$51(p);null==q.part&&(q.part=d,q.descendants=!g);null!=c&&(q.type=c);"interval"!=this.en_19.type||"symbol"!=a||p.palette||(p.palette=["rectangle","i-beam","t-beam"]);f.add(this.ci$5(p,q,
e))}}return b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3(f)},ge$51:function(a){var d;null==a.modifies?d=new b.com_ibm_vis_spec_internal_ModifiesSpec:b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.modifies)?(d=new b.com_ibm_vis_spec_internal_ModifiesSpec,d.type=a.modifies):d=a.modifies.copy();return d},ci$5:function(a,d,c){var e=new b.com_ibm_vis_spec_internal_AestheticSpec;e.key=a.key;e.mapping=this.do_9.makeRecodedMapping(a.mapping);e.nullValue=a.nullValue;
if(c)if(a.palette){c=a.palette.length;e.palette=Array(c);for(var g=0;g<c;++g){var f=a.palette[g].copy();f.symbol=null;e.palette[g]=f}}else e.palette=null;else e.palette=a.palette;e.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;e.field.$ref=b.com_ibm_vis_engine_internal_legend_nonsimple_LegendDataCreator.FIELD_ID;e.scale=this.do_9.getScaleSpec();e.modifies=d.copy();return e}});b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchAestheticCreator.ta$3=function(a){var b=a.size();if(0==b)return null;
b=a.toArray(Array(b));a.clear();return b};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_legend_LegendAesthetics,{});b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultSwatchLegendAesthetics=function(a,d){return b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getDefaultSimpleLegendAesthetics(a,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getSwatchAestheticsByReferences=
function(a,d){return b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getSimpleAestheticsByReferences(a,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultStaggerLegendAesthetics=function(a,d){return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.mc$14(a,d,0)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getStaggerAestheticsByReferences=function(a,d){return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.me$55(a,
d,0)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultContinuousLegendAesthetics=function(a,d){return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.mc$14(a,d,1)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getContinuousAestheticsByReferences=function(a,d){return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.me$55(a,d,1)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultAxisLegendAesthetics=
function(a,d){return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.mc$14(a,d,2)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getAxisAestheticsByReferences=function(a,d){return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.me$55(a,d,2)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.mc$14=function(a,d,c){d=b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getReferencedAestheticIDs(d);for(var e=
new b.com_ibm_rave_codegenerator_util_List,g=b.com_ibm_vis_engine_internal_legend_LegendAesthetics.isFacetChart(a),f=0,h=a.length;f<h;++f)for(var l=0,m=a[f].elements,p=m.length;l<p;++l){var q=m[l];if(q.aesthetics&&0!=q.aesthetics.length)for(var r=0,q=q.aesthetics,t=q.length;r<t;++r){var w=q[r];if(b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.il$17(w,c,g,d)){var x=new b.com_ibm_rave_codegenerator_util_List;x.add(w);e.add(x)}}}return e};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.il$17=
function(a,d,c,e){var g=null!=a.scale.localScale&&a.scale.localScale.valueOf();return a.valueProvider.getBaseField()&&(!g||!c)&&(null==a.id||!e.contains(a.id))&&b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.il$18(a,d)};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.me$55=function(a,d,c){if(1!=a.length)throw new b.com_ibm_vis_exceptions_internal_SpecException("The aesthetics "+b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getIDsAsString(a)+
" cannot be displayed together in a "+b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.LE_3[c]+" legend, only one aesthetic is supported",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);a=b.com_ibm_vis_engine_internal_legend_LegendAesthetics.getAestheticsByReferences(a,d);d=0;for(var e=a.arrayIterator(),g=e.length;d<g;++d){var f=e[d];if(!b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.il$18(f,c))throw new b.com_ibm_vis_exceptions_internal_SpecException("The aesthetic '"+
f.id+"' cannot be displayed by a "+b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.LE_3[c]+"legend",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_LEGENDS);}c=new b.com_ibm_rave_codegenerator_util_List;c.add(a);return c};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.il$18=function(a,b){if(0==b||1==b)return"color"==a.type&&!a.scale.isCategorical();if(2==b){if("size"!=a.type)return!1;var c=a.valueProvider.getBaseField();return c?!c.isCategorical()&&
(!a.spec.mapping||0==a.spec.mapping.length||2==a.spec.mapping.length):!0}return!1};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.isStaggerLegendable=function(a){return"color"==a.type&&!a.scale.isCategorical()&&a.valueProvider.getBaseField()&&2<=a.scale.getAllTicks().size()};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.isContinuousLegendable=function(a){return"color"==a.type&&!a.scale.isCategorical()&&2<=a.scale.getAllTicks().size()};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.SE_5=
0;b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.CU_4=1;b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.AXIS=2;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.LE_3=["stagger","continuous","axis"]});b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_legend_nonsimple_BaseLegend,{verticalLegend:!1,maxAxisLabelWidth:-1,expandedWidth:0,
constructor:function(a,d,c,e){this.sl_11=d.boundsStyle;null!=d.orientation?this.verticalLegend="horizontal"!=d.orientation:(c=a.getLegendPosition(d),this.verticalLegend=c==b.com_ibm_vis_engine_internal_LegendPosition.LEFT||c==b.com_ibm_vis_engine_internal_LegendPosition.RIGHT);null!=d.location&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.location,b.com_ibm_vis_spec_internal_BoundsSpec)&&(this.sd_5=new b.com_ibm_vis_engine_internal_Bounds(d.location,a.vx_10.lx_1))},getSwatchSize:function(a){if(!this.legendSpec.itemStyle)return a;
var b;b=this.verticalLegend?this.gz$22(this.legendSpec.itemStyle.width,this.legendSpec.itemStyle.size):this.gz$22(this.legendSpec.itemStyle.height,this.legendSpec.itemStyle.size);return null==b?a:b},gz$22:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a,100,100);return null!=c?c:b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(d,100,100)},validateContinuousColorAesthetics:function(a,d){if(!this.aesthetics||1!=this.aesthetics.size()||
"color"!=this.firstAesthetic.type)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend.method "+a+" requires a single color aesthetic",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);var c=this.firstAesthetic.valueProvider.getUnit();if(c&&c.measure.categorical)throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend.method  "+a+"  requires a continuous (not categorical) color aesthetic",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);if(!d&&this.isAestheticLogScale(this.firstAesthetic))throw new b.com_ibm_vis_exceptions_internal_SpecException("Legend.method  "+
a+"  does not support log scales",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);},makeAxisSpec:function(a,d,c){var e=new b.com_ibm_vis_spec_internal_AxisSpec;e.opposite=this.isAxisOpposite();var g=this.getLabelStyle();d&&!g?e.tickStyle=this.makeDefaultLabelStyle():g&&(e.tickStyle=g.copy(),null!=e.tickStyle.valign&&(e.tickStyle.valign=null,b.com_ibm_rave_codegenerator_util_BasicFactory.isEmpty(e.tickStyle.toJSON())&&(e.tickStyle=this.makeDefaultLabelStyle())));e.markStyle=this.legendSpec.markStyle?
this.legendSpec.markStyle.copy():new b.com_ibm_vis_spec_internal_StyleSpec;null==e.markStyle.size&&(e.markStyle.size=a?5:0);d=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;e.preferredSize=d;g=this.getAxisWidth();d.max=0<this.expandedWidth?g+this.expandedWidth:g+10;d.min=this.verticalLegend&&c?d.max:0<this.expandedWidth?g+this.expandedWidth:g;this.verticalLegend||a||(e.method="horizontal");return e},isAngleText:function(a){return a?null!=a.angle&&90!=a.angle:!1},makeVisStyle:function(a,d,c,e,g,
f){var h=new b.com_ibm_vis_spec_internal_StyleSpec;h.fill="transparent";var l=new b.com_ibm_vis_spec_internal_PaddingSpec;this.verticalLegend?(this.isAxisOpposite()?l.left=d:l.right=d,a&&(l.bottom=Math.ceil(d+this.getLabelFont().getHeight()/2)),c&&(l.top=Math.ceil(e))):(l.left=f?Math.ceil(d+this.getMaxAxisLabelWidth()/2):d,l.bottom=d,l.right=f?Math.ceil(d+this.getMaxAxisLabelWidth()/2):d,this.isAngleText(this.getLabelStyle())&&(l.left=Math.ceil(this.getLabelFont().size+d)),g&&(l.top=Math.ceil(e)));
h.padding=l;return h},getPadding:function(a){if(!a)return 0;a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(a,new b.com_ibm_vis_geom_Dim(100,100));return this.verticalLegend?a.getHorizontal():a.getVertical()},getValidTickValues:function(){var a=new b.com_ibm_rave_codegenerator_util_List,d=this.firstAesthetic,c=d.valueProvider.getCategories();if(c&&this.legendSpec.scale&&this.legendSpec.scale.spans&&this.legendSpec.scale.spans[0].categories){for(var c=new b.com_ibm_rave_codegenerator_util_List(this.legendSpec.scale.spans[0].categories.length),
e=0,g=this.legendSpec.scale.spans[0].categories,f=g.length;e<f;++e)c.add(g[e]);e=0;d=d.scale.getAllTicks().arrayIterator();for(g=d.length;e<g;++e)f=d[e],c.contains(f.value)&&a.add(f.value)}else if(c&&this.ia$4())for(d=0;d<c.length;++d)a.add(d);else a=this.getValidTicksNumerical(d.scale);return a},getValidTicksNumerical:function(a){var d=new b.com_ibm_rave_codegenerator_util_List;if(this.ia$4())var c=0,e=a.getAllTicks().arrayIterator(),g=e.length;else c=0,e=a.getTicksForData().arrayIterator(),g=e.length;
for(;c<g;++c)a=e[c],d.add(a.value);return d},getNumberOfTicksInScale:function(a){return this.ia$4()?a.getAllTicks().size():a.getTicksForData().size()},ia$4:function(){return this.legendSpec.scale&&null!=this.legendSpec.scale.local&&!this.legendSpec.scale.local},buildSpansForDimension:function(a,d,c){var e=new b.com_ibm_vis_spec_internal_SpanSpec;e.fit="exact";for(var g=a.get(0),f=a.get(0),h=1;h<a.size();++h)g=Math.min(g,a.get(h)),f=Math.max(f,a.get(h));a=(f-g)/(a.size()-1);if(d&&(d=this.firstAesthetic,
this.aa$6(d)&&d.scale.spans.get(0).getAdjustedInputRange())){var h=d.scale.spans.get(0).getAdjustedInputRange().min,l=d.scale.spans.get(0).getAdjustedInputRange().max;if(h<=g||l>=f)g=h,f=l,a=d.scale.spans.get(0).getTickSize()}e.min=g;e.max=f;e.tickDelta=a*c;this.isAestheticLogScale(this.firstAesthetic)&&(e.method="log");return[e]},isAestheticLogScale:function(a){return this.aa$6(a)&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.scale.spans.get(0),b.com_ibm_vis_engine_internal_grammar_scale_LogScaleSpan)},
aa$6:function(a){return a.scale&&0<a.scale.spans.size()&&a.scale.spans.get(0)},getDefaultAxisWidth:function(a){if(this.verticalLegend){var d=1;a=this.getEffectiveMarkSize(a);var c=this.getLabelStyle(),c=c?c:this.makeDefaultLabelStyle(),e=new b.com_ibm_vis_geom_Dim(100,100),c=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(c,e).getHorizontal();return a+d+this.getMaxAxisLabelWidth()+c}d=1;a=this.getEffectiveMarkSize(a);c=(c=this.getLabelStyle())?c:this.makeDefaultLabelStyle();c=this.getPadding(c);
return a+d+this.getLabelFont().getHeight()+c},makeDefaultLabelStyle:function(){var a=new b.com_ibm_vis_spec_internal_StyleSpec,d=new b.com_ibm_vis_spec_internal_PaddingSpec,c=this.getPad();this.verticalLegend?this.isAxisOpposite()?d.left=c:d.right=c:this.isAxisOpposite()?d.bottom=c:d.top=c;a.padding=d;return a},getLabelFont:function(){var a=this.getLabelStyle(),d;a&&(d=a.font);return b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(d,this.parentVis.vx_10.getMinimumFontSize(),this.parentVis.vx_10.uc_1)},
ct$22:function(){var a=this.getValidTickValues(),d=this.getLabelStyle(),c=this.getLabelFont(),e=new b.com_ibm_vis_geom_Dim(1E3,400);if(!this.firstAesthetic.spec.field){var g=this.firstAesthetic.spec.value,g=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(""+g,0,0,"start","middle",c,d,null,"...",e,this.parentVis.vx_10.tx_1);return g.getWidth()}for(var f=this.parentVis.getByID(this.firstAesthetic.spec.field.$ref),h=0,l=a.size(),m=0;m<l;++m)g=f.getFormattedStringValue(a.get(m),0,
null),g=b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue(g,0,0,"start","middle",c,d,null,"...",e,this.parentVis.vx_10.tx_1),h=Math.max(h,g.getWidth());return h},getMaxAxisLabelWidth:function(){-1==this.maxAxisLabelWidth&&(this.maxAxisLabelWidth=this.ct$22());return this.maxAxisLabelWidth},isAestheticExactScale:function(){return this.firstAesthetic.spec.scale&&this.firstAesthetic.spec.scale.spans&&null!=this.firstAesthetic.spec.scale.spans[0].fit&&"exact"==this.firstAesthetic.spec.scale.spans[0].fit},
isScaleReverse:function(){return this.legendSpec.scale&&null!=this.legendSpec.scale.reverse&&this.legendSpec.scale.reverse},isAxisOpposite:function(){var a=null==this.legendSpec.mirroredLabels?!1:this.legendSpec.mirroredLabels;return this.verticalLegend?!a:a},getEffectiveMarkSize:function(a){if(!this.legendSpec.markStyle)return a;if("end"==this.legendSpec.markStyle.align)return 1;a="start"==this.legendSpec.markStyle.align?1:.52;var d=5;null!=this.legendSpec.markStyle.size&&b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(this.legendSpec.markStyle.size)&&
(d=this.legendSpec.markStyle.size);return Math.ceil(d*a)},getLabelStyle:function(){var a;this.legendSpec.labelStyle?a=this.legendSpec.labelStyle:this.legendSpec.tickStyle&&(a=this.legendSpec.tickStyle);return a},makeTransforms:function(){if(!this.verticalLegend){var a=Array(1);a[0]=new b.com_ibm_vis_spec_internal_TransformSpec;a[0].type="transpose";return a}return null},makeCoordSpec:function(a,d,c,e,g,f){var h=new b.com_ibm_vis_spec_internal_CoordinatesSpec,l=[new b.com_ibm_vis_spec_internal_DimensionSpec];
h.dimensions=l;l[0].axis=Array(1);l[0].axis[0]=this.makeAxisSpec(d,c,e);l[0].scale=new b.com_ibm_vis_spec_internal_ScaleSpec;l[0].scale.spans=this.buildSpansForDimension(a,g,f);this.isScaleReverse()&&(l[0].scale.reverse=!0);h.transforms=this.makeTransforms();return h},makePositionSpecsWithFields:function(a,d){var c=new b.com_ibm_vis_spec_internal_PositionSpec;c.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;c.field.$ref=a;var e=new b.com_ibm_vis_spec_internal_PositionSpec;e.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;
e.field.$ref=d;return[c,e]},getUnitForAestheticField:function(){var a=this.firstAesthetic.valueProvider.getBaseField();return a?a.unit.name:b.com_ibm_vis_engine_internal_grammar_units_Unit.RATIO.name},getAvailableSize:function(){var a=this.parentVis.getExtent();return null!=this.legendSpec.location&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(this.legendSpec.location,b.com_ibm_vis_spec_internal_BoundsSpec)?(a=(new b.com_ibm_vis_engine_internal_Bounds(this.legendSpec.location,null)).getRect(a),
new b.com_ibm_vis_geom_Dim(a.wt_3-5,a.hh_2-5)):a},createContent:function(){return new b.com_ibm_vis_engine_internal_SizedContent(this.makeScene(),null)}});b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.TRANSPARENT="transparent";b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.DEFAULT_COLOR_GRADIENT_SWATCH_SIZE=15;b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.DEFAULT_STAGGER_SWATCH_SIZE=20;b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.PAD=
5;b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.MIN_Y_FIELD="minYForLegend";b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.Y_FIELD="yForLegend";b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.AVAILABLE_SIZE_BUFFER=5;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.LOG="log";b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.COLOR="color";b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.HORIZONTAL_ORIENTATION=
"horizontal"});b.com_ibm_vis_engine_internal_legend_nonsimple_SizeAxisLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend,{mt_6:!1,mh_5:!1,ct_8:0,constructor:function(a,d,c,e){this.fl_13=this.firstAesthetic.valueProvider.getBaseField();a=this.firstAesthetic.mp_1;null==a?this.mh_5=this.mt_6=!0:"width"==a?(this.mt_6=!0,this.mh_5=!1):(this.mt_6="height"==a?!1:!0,this.mh_5=!0);null==d.orientation&&this.mt_6!=this.mh_5&&(this.verticalLegend=this.mh_5);d=this.getLabelFont().size;
this.maker=new b.com_ibm_vis_engine_internal_legend_nonsimple_SizeAxisScaleMaker(this.firstAesthetic,d,this.mt_6,this.mh_5);this.maker.makeScaleSpecForNumerical();d=this.getEffectiveMarkSize(5);a=0;if(c=this.gl$15())a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(c,new b.com_ibm_vis_geom_Dim(100,100)),a=this.verticalLegend?a.getHorizontal():a.getVertical();this.ct_8=d+1+this.getMaxAxisLabelWidth()+a;this.cf_4=null},getContentSizeInfo:function(a,d){if(this.cf_4)return this.cf_4;try{var c=
this.se$23(),c=this.parentVis.getLegendVis().makeSceneTree(null,c),e=c.getSceneTree().sz_4,g=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(e.wt_2,e.hh_1);this.cf_4=new b.com_ibm_vis_engine_internal_layout_SizeInfo(g,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,g)}catch(f){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,Error))this.cf_4=new b.com_ibm_vis_engine_internal_layout_SizeInfo(b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,
b.com_ibm_vis_engine_internal_layout_length_Size.ZERO);else throw f;}return this.cf_4},makeScene:function(){var a=this.parentVis.getLegendVis(),d=this.se$23(),c=new b.com_ibm_rave_codegenerator_util_List;try{var d=a.makeSceneTree(null,d),e=d.getSceneTree(),g=(new b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter(e.root,this.legendIndex,this.fl_13?this.fl_13.id:null,"axis")).getLegend();c.add(g)}catch(f){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,Error))throw f;
}return c},getAxisWidth:function(){return this.ct_8},se$23:function(){var a=this.parentVis.getLegendVis();a.copyVisContextSettings(this.parentVis.vx_10);var b=this.me$56();return a.setTypedSpecification(b)},me$56:function(){var a=new b.com_ibm_vis_spec_internal_VisJSONSpec;a.grammar=Array(1);a.grammar[0]=new b.com_ibm_vis_spec_internal_GrammarSpec;a.grammar[0].coordinates=this.mi$16();a.grammar[0].bounds=this.md$13();a.grammar[0].axisPadding=!1;a.grammar[0].style=new b.com_ibm_vis_spec_internal_StyleSpec;
a.titles=this.makeTitles();var d=!this.legendSpec.title||0<this.legendSpec.title.length;a.style=this.makeVisStyle(!0,5,!d,5,!d,!0);this.addVersion(a);return a},md$13:function(){var a=new b.com_ibm_vis_spec_internal_BoundsSpec;this.verticalLegend?a.height=Math.ceil(this.maker.getAxisLength()):a.width=Math.ceil(this.maker.getAxisLength());return a},mi$16:function(){var a=new b.com_ibm_vis_spec_internal_CoordinatesSpec,d=Array(1);d[0]=new b.com_ibm_vis_spec_internal_DimensionSpec;a.dimensions=d;d[0].axis=
Array(1);d[0].axis[0]=this.mn$31();d[0].axis[0].method="horizontal";d[0].scale=this.maker.makeScaleSpecForNumerical();this.isScaleReverse()&&d[0].scale&&(d[0].scale.reverse=!0);this.verticalLegend||(a.transforms=Array(1),a.transforms[0]=new b.com_ibm_vis_spec_internal_TransformSpec,a.transforms[0].type="transpose");return a},gl$15:function(){var a=this.getLabelStyle();return!a||b.com_ibm_vis_engine_internal_grammar_scale_Axis.isEmpty(a)?null:a.copy()},mn$31:function(){var a=new b.com_ibm_vis_spec_internal_AxisSpec;
a.opposite=this.isAxisOpposite();a.tickStyle=this.gl$15();this.legendSpec.markStyle&&(a.markStyle=this.legendSpec.markStyle.copy());this.legendSpec.lineStyle&&(a.lineStyle=this.legendSpec.lineStyle.copy());a.preferredSize=new b.com_ibm_vis_spec_internal_PreferredSizeSpec;a.preferredSize.preferred="100%";a.outsideTickLabels=!0;return a},getModifiesWidth:function(){return this.mt_6},getModifiesHeight:function(){return this.mh_5},getPad:function(){return 5}});b.com_ibm_vis_engine_internal_legend_nonsimple_SizeAxisLegend.METHOD=
"axis";b.com_ibm_vis_engine_internal_legend_nonsimple_SizeAxisScaleMaker=b.com_ibm_init_declare({mc_5:0,mt_7:!1,mh_6:!1,at_4:0,constructor:function(a,b,c,e){this.ai_4=a;this.mc_5=1.25*b;this.mt_7=c;this.mh_6=e;this.sl_20=a.scale;b=a.valueProvider.getBaseField();this.unit=a.valueProvider.getUnit();this.sg_1=this.sl_20.spans.get(0).getAdjustedInputRange();this.mg_6=this.gg$8(a.spec.mapping);this.dg_2=b?b.getDataRange():this.sg_1;this.ez_2=null;this.at_4=0;this.ag_5=null},getAxisLength:function(){return this.at_4},
getAxisRange:function(){return this.ag_5},makeScaleSpecForNumerical:function(){this.at_4=0;this.ag_5=null;var a=this.sl_20.spans.get(0).getInputRange();if(!this.dg_2||this.dg_2.isEmpty())if(!(this.ai_4.spec.scale&&this.ai_4.spec.scale.spans&&0<this.ai_4.spec.scale.spans.length)||null==this.ai_4.spec.scale.spans[0].min&&null==this.ai_4.spec.scale.spans[0].max)return null;this.ez_2=this.ai_4.element.calculateDefaultShapeSize(this.ai_4.element.spec.style);var d,c,e;this.mg_6?a.min>this.mg_6.max?e=a=
c=d=a.min:a.max<this.mg_6.min?e=a=c=d=a.max:0==this.mg_6.range?(d=a.min,c=a.max,a=this.mg_6.min,e=this.mg_6.max):(d=Math.max(a.min,this.mg_6.min),c=Math.min(a.max,this.mg_6.max),a=d,e=c):(d=a.min,c=a.max,a=d,e=c);var g=this.getElementSizeForValue(d),f=this.getElementSizeForValue(c);this.at_4=Math.max(g,f);0==this.at_4&&(f=this.at_4=1);this.ag_5=new b.com_ibm_vis_engine_internal_data_Range(d,c);d=Math.max(g,f);return Math.abs(f-g)<this.mc_5||30>=d||this.mg_6&&0==this.mg_6.range?this.mu$7(a,g,e,f):
this.me$57(a,g,e,f)},me$57:function(a,d,c,e){var g=Math.min(d,e),f=new b.com_ibm_vis_spec_internal_SpanSpec;f.fit="exact";f.outRange=new b.com_ibm_vis_spec_internal_SpanOutRangeSpec;this.unit&&(f.unit=this.unit.name);(d=e<d)?(f.min=c,f.max=a,f.outRange.min=0,f.outRange.max=Math.max(1E-5,1-g/this.at_4)):(f.min=a,f.max=c,f.outRange.min=Math.min(.99999,g/this.at_4),f.outRange.max=1);this.ai_4.spec&&this.ai_4.spec.scale&&this.ai_4.spec.scale.spans&&0<this.ai_4.spec.scale.spans.length&&(a=this.ai_4.spec.scale.spans[0])&&
(f.tickDelta=a.tickDelta,"log"==a.method&&(f.method="log"));a=new b.com_ibm_vis_spec_internal_ScaleSpec;a.spans=[f];a.reverse=d;return a},mu$7:function(a,d,c,e){var g=new b.com_ibm_vis_spec_internal_ScaleSpec;if(Math.abs(e-d)>=this.mc_5)return g.spans=[this.ma$6(e,c),this.ma$6(d,a)],g;if(e>=d)return g.spans=[this.ma$6(e,c)],g;g.spans=[this.ma$6(d,a)];return g},ma$6:function(a,d){var c=new b.com_ibm_vis_spec_internal_SpanSpec;c.tickDelta=1;c.outRange=new b.com_ibm_vis_spec_internal_SpanOutRangeSpec;
var e=Math.min(.99999,a/this.at_4);c.outRange.min=e;c.outRange.max=e+1E-5;c.min=d;c.max=d;this.unit&&(c.unit=this.unit.name);return c},getElementSizeForValue:function(a){var d=this.sl_20.toZeroOneClamped(a,this.unit),d=null==d?1:d,c;this.mt_7!=this.mh_6?c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,this.ez_2.wt_2,this.ez_2.hh_1):(c=Math.min(this.ez_2.wt_2,this.ez_2.hh_1),c=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,c,c));this.ai_4.element.styleShape(c);
a=this.ai_4.applyValue(c,d,a,!1).getBounds();return this.mt_7?a.wt_3:a.hh_2},gg$8:function(a){if(!a||0==a.length)return null;for(var d=b.com_ibm_vis_engine_internal_data_Range.EMPTY,c=0;c<a.length;++c){var e=this.gA$2(a[c]);e==e&&(d=d.unionValue(e))}return d.isEmpty()?null:d},gA$2:function(a){a=a.at;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(a))return a;if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)){if(a.CPVISEngineEndsWith("%")){if(!this.sg_1||this.sg_1.isEmpty())return NaN;
a=b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a.substring(0,a.length-1))/100;return this.sg_1.fromZeroOne(a)}return b.com_ibm_rave_codegenerator_lang_Double.parseDouble(a)}return this.sg_1.min}});b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend,{constructor:function(a,b,c,e){this.validateContinuousColorAesthetics("stagger",!1);this.cf_5=null},getContentSizeInfo:function(a,d){if(this.cf_5)return this.cf_5;
var c=this.parentVis.getLegendVis(),e=this.setLegendVisSpec(),e=c.makeSceneTree(null,e),e=e.getSceneTree().sz_4,c=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(e.wt_2,e.hh_1),g=this.getAvailableSize();if(g&&(e.wt_2>g.wt_2||e.hh_1>g.hh_1))return this.cf_5=new b.com_ibm_vis_engine_internal_layout_SizeInfo(b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO);e=this.verticalLegend?
new b.com_ibm_vis_engine_internal_layout_length_Size(c.wt_9,b.com_ibm_vis_engine_internal_layout_length_Lengths.UNLIMITED):new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.UNLIMITED,c.hh_8);return this.cf_5=new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,e)},makeScene:function(){var a=this.parentVis.getLegendVis(),d=this.setLegendVisSpec(),c=this.getExtent(),d=this.un$2(c,d),d=a.makeSceneTree(c,
d),a=d.getSceneTree(),d=this.firstAesthetic.valueProvider.getBaseField()?this.firstAesthetic.valueProvider.getBaseField().id:null,a=(new b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter(a.root,this.legendIndex,d,"stagger")).getLegend(),d=new b.com_ibm_rave_codegenerator_util_List;d.add(a);return d},un$2:function(a,b){var c=this.getSwatchSize(20),e=0,g=0;this.verticalLegend?(e=this.getTitleSize(a.wt_2,null).hh_1,e=Math.floor(a.hh_1-e-2)):(g=this.getMaxAxisLabelWidth(),e=Math.floor(a.wt_2-
g-5));return this.ut$2(b,a,e,c,g)},ut$2:function(a,b,c,e,g){var f=this.parentVis.getLegendVis();if(c<2*e)return a;a=this.mk$4(b,c,e);a=this.getValidTicksNumerical(a);this.gl_1=null;g=this.verticalLegend?1:Math.ceil((g+2)/e);e=this.makeVisSpec(e,a,!1,g);this.addColorPaletteAndUpdateElement(a,e);this.verticalLegend&&(g=Math.ceil(this.getLabelFont().size/2),e.grammar[0].bounds.top=g);return f.setTypedSpecification(e)},mk$4:function(a,d,c){var e=this.firstAesthetic.scale,g=new b.com_ibm_vis_spec_internal_ScaleSpec;
g.reverse=e.reverse;g.local=e.localScale;e=e.spans.get(0);d=Math.floor(d/c);d=Math.min(d,15);c=1E6;for(var f=1,h,l=d;c>d&&0<l;)h=this.ml$17(a,g,e),l=Math.floor(d*f),h.initializeForRequiredTickCount(l),c=this.getNumberOfTicksInScale(h),f-=.1;return h},ml$17:function(a,d,c){a=new b.com_ibm_vis_engine_internal_grammar_scale_Scale(d,a);a.addSpan(c.makeCopyWithoutTickInfo());return a},setLegendVisSpec:function(){if(!this.firstAesthetic)return null;var a=this.parentVis.getLegendVis(),b=this.getValidTickValues(),
c=this.makeVisSpec(this.getSwatchSize(20),b,!0,1);this.addColorPaletteAndUpdateElement(b,c);return a.setTypedSpecification(c)},addColorPaletteAndUpdateElement:function(a,d){var c=this.firstAesthetic.element.spec.style;c||(c=new b.com_ibm_vis_spec_internal_StyleSpec);d.grammar[0].elements[0].color[0].palette=this.mt$19(a,c,this.aesthetics);this.cl$9(d,c)},cl$9:function(a,d){var c=a.grammar[0].elements[0],e=new b.com_ibm_vis_spec_internal_StyleSpec;e.size=c.style.size;e.fill=d.fill;e.stroke=d.stroke;
e.outline=b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.TRANSPARENT;c.style=e.copy()},mt$19:function(a,d,c){a=this.mk$5(a);d?b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d.fill,b.com_ibm_vis_spec_internal_FillSpec)&&(d=d.copy(),d.fill=null):d=new b.com_ibm_vis_spec_internal_StyleSpec;for(var e=c.get(0),g="outline"==e.mp_1,f=e.valueProvider.getBaseField(),e=Array(a.length),f=f?f.ie_4:0,h=0;h<e.length;++h){var l=b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchSizer.makeRow(f,
a[h]),m=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,20,20);b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(m,d);for(var p=0,q=c.arrayIterator(),r=q.length;p<r;++p)q[p].apply(m,l);l=g?m.getOutline():m.getFill().si_1;e[h]=b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.ce$38(l)}return e},mk$5:function(a){for(var d=a.size(),c=b.com_ibm_rave_codegenerator_lang_Array.create([d-1],0),e=a.get(0),g=1;g<d;++g){var f=a.get(g);c[g-1]=(e+f)/2;e=f}return c},makeVisSpec:function(a,
d,c,e){var g=new b.com_ibm_vis_spec_internal_VisJSONSpec;g.data=this.makeDataSpecs(d);var f=new b.com_ibm_vis_spec_internal_GrammarSpec;f.axisPadding=!1;f.coordinates=this.makeCoordSpec(d,!1,!0,!1,c,e);f.bounds=this.makeGrammarBounds(a,d);f.elements=this.mc$15(a);f.style=this.makeGrammarStyle();g.grammar=[f];g.titles=this.makeTitles();a=!g.titles;g.style=this.makeVisStyle(!0,5,a,5,a,!1);this.addVersion(g);return g},getAxisWidth:function(){return this.getDefaultAxisWidth(0)},mc$15:function(a){var d=
Array(2);d[0]=this.me$58(a,b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.MIN_Y_FIELD,"yForLegend",!0);d[1]=this.me$58(a,"0%","100%",!1);a=new b.com_ibm_vis_spec_internal_StrokeSpec;a.width=0;d[0].style.stroke=a;d[1].style.fill=b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.TRANSPARENT;this.ml$18(d[1].style);a=new b.com_ibm_vis_spec_internal_AestheticSpec;a.field=new b.com_ibm_vis_spec_internal_FieldValueRefSpec;a.field.$ref="color";d[0].color=[a];return d},ml$18:function(a){var b=
this.legendSpec.itemStyle;b?(a.outline=b.outline,a.outlineMethod=b.outlineMethod,a.stroke=b.stroke):a.outline="black"},me$58:function(a,d,c,e){var g=new b.com_ibm_vis_spec_internal_ElementsSpec;g.type="interval";g.position=e?this.makePositionSpecsWithFields(d,c):this.me$59(d,c);g.style=new b.com_ibm_vis_spec_internal_StyleSpec;g.style.size=a;return g},me$59:function(a,d){var c=new b.com_ibm_vis_spec_internal_PositionSpec;c.value=a;var e=new b.com_ibm_vis_spec_internal_PositionSpec;e.value=d;return[c,
e]},makeGrammarBounds:function(a,d){var c=new b.com_ibm_vis_spec_internal_BoundsSpec,e=this.gl$16(d.size());c.width=e.wt_2;c.height=e.hh_1;return c},gl$16:function(a){this.gl_1||(this.gl_1=this.cl$10(a));return this.gl_1},cl$10:function(a){var d=this.getSwatchSize(20),c=this.getAxisWidth(),e=(a-1)*d;this.verticalLegend?(a=d+c+1,d=e):(a=e,d=c+d+1);return new b.com_ibm_vis_geom_Dim(Math.ceil(a),Math.ceil(d))},makeDataSpecs:function(a){var d=Array(1);d[0]=new b.com_ibm_vis_spec_internal_DataSpec;b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.aw$4(a,
d[0]);this.ad$9(a.size(),d[0]);return d},ad$9:function(a,d){var c=Array(3);c[0]=new b.com_ibm_vis_spec_internal_FieldSpec;c[0].id="color";var e=this.getUnitForAestheticField();c[0].categories=b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.me$60(a);c[1]=new b.com_ibm_vis_spec_internal_FieldSpec;c[1].id=b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.MIN_Y_FIELD;c[1].unit=e;c[2]=new b.com_ibm_vis_spec_internal_FieldSpec;c[2].id="yForLegend";c[2].unit=e;d.fields=c},getPad:function(){return 2}});
b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.me$60=function(a){for(var b=Array(a),c=0;c<a;++c)b[c]="A";return b};b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.aw$4=function(a,b){for(var c=a.size(),e=Array(c-1),g=a.get(0),f=g,h=1;h<c;++h)g=a.get(h),e[h-1]=[h-1,f,g],f=g;b.rows=e};b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.ce$38=function(a){var d=new b.com_ibm_vis_spec_internal_ColorSpec;a=a.getRGBA();d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3];return d};b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.METHOD=
"stagger";b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend.MK_1=15;b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend,{constructor:function(a,b,c,e){this.validateContinuousColorAesthetics("continuous",!0);this.cf_3=null},getAxisWidth:function(){return this.getDefaultAxisWidth(5)},getContentSizeInfo:function(a,d){if(this.cf_3)return this.cf_3;var c=this.parentVis.getLegendVis(),e=this.setLegendVisSpec(),
e=c.makeSceneTree(null,e),c=e.getSceneTree().sz_4,e=this.gz$24(),g=this.getAvailableSize();if(g&&(e.wt_2>g.wt_2||e.hh_1>g.hh_1))return this.cf_3=new b.com_ibm_vis_engine_internal_layout_SizeInfo(b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO);this.verticalLegend?(c=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(c.wt_2,c.hh_1),e=new b.com_ibm_vis_engine_internal_layout_length_Size(c.wt_9,
b.com_ibm_vis_engine_internal_layout_length_Lengths.UNLIMITED)):(c=b.com_ibm_vis_engine_internal_layout_length_Size.makeFixed(c.wt_2,Math.max(c.hh_1,e.hh_1)),e=new b.com_ibm_vis_engine_internal_layout_length_Size(b.com_ibm_vis_engine_internal_layout_length_Lengths.UNLIMITED,c.hh_8));return this.cf_3=new b.com_ibm_vis_engine_internal_layout_SizeInfo(c,b.com_ibm_vis_engine_internal_layout_length_Size.ZERO,e)},makeScene:function(){var a=this.parentVis.getLegendVis(),d=this.setLegendVisSpec(),c=this.getExtent(),
d=this.updateForExtent(c,d),d=a.makeSceneTree(c,d),a=d.getSceneTree(),d=this.firstAesthetic.valueProvider.getBaseField()?this.firstAesthetic.valueProvider.getBaseField().id:null,a=(new b.com_ibm_vis_engine_internal_legend_nonsimple_SceneToLegendConverter(a.root,this.legendIndex,d,"continuous")).getLegend(),d=new b.com_ibm_rave_codegenerator_util_List;d.add(a);return d},setLegendVisSpec:function(){if(!this.firstAesthetic)return null;var a=this.parentVis.getLegendVis(),b=this.getValidTickValues(),b=
this.makeVisSpec(this.getSwatchSize(15),b);return a.setTypedSpecification(b)},updateForExtent:function(a,b){b.isSpecSet();var c=this.parentVis.getLegendVis(),e=c.ce_40;e.grammar[0].coordinates.dimensions[0].scale.spans[0].tickDelta=null;return c.setTypedSpecification(e)},gz$23:function(){this.ti_6||(this.ti_6=this.getTitleSize(null,null));return this.ti_6},gz$24:function(){var a=this.gz$25(),d=a.wt_2+2,a=a.hh_1+2,c=this.gz$23(),e=c.hh_1,g=this.gn$29(e),g=b.com_ibm_vis_engine_internal_struct_Insets.makeForStyle(this.makeVisStyle(!0,
5,0<g,g,!1,!0),new b.com_ibm_vis_geom_Dim(100,100)),d=d+g.getHorizontal(),a=a+g.getVertical(),a=a+e,c=c.wt_2;c>d&&(d=c+g.getHorizontal());return new b.com_ibm_vis_geom_Dim(d,a)},gz$25:function(){this.gi_1||(this.gi_1=this.computeGrammarSizeWithoutTitle());return this.gi_1},computeGrammarSizeWithoutTitle:function(){var a=this.getSwatchSize(15),d=this.getValidTickValues(),c=this.getLabelFont().getHeight(),e;this.verticalLegend?(e=a+this.getAxisWidth()+11,a=1.25*d.size()*c):(e=1.25*d.size()*c,a=a+this.getAxisWidth()+
1);return new b.com_ibm_vis_geom_Dim(Math.ceil(e),Math.ceil(a))},makeVisSpec:function(a,d){var c=new b.com_ibm_vis_spec_internal_VisJSONSpec;c.data=this.makeDataSpecs(d);var e=new b.com_ibm_vis_spec_internal_GrammarSpec;e.coordinates=this.makeCoordSpec(d,!0,this.verticalLegend,!0,!0,1);e.bounds=this.makeGrammarBounds();e.elements=this.mc$12(a);e.style=this.makeGrammarStyle();c.grammar=[e];c.titles=this.makeTitles();e=this.gn$29(this.gz$23().hh_1);c.style=this.makeVisStyle(!0,5,0<e,e,!1,!0);this.addVersion(c);
return c},gn$29:function(a){return 0<a?0:this.getLabelFont().getHeight()/2-5},mc$12:function(a){var d=Array(1),c=new b.com_ibm_vis_spec_internal_ElementsSpec;c.type="interval";c.position=this.makePositionSpecsWithFields(b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.MIN_Y_FIELD,"yForLegend");if(this.legendSpec.itemStyle)c.style=this.legendSpec.itemStyle.copy();else{c.style=new b.com_ibm_vis_spec_internal_StyleSpec;c.style.outline="black";var e=this.aesthetics.get(0).element.spec.style;
e&&(c.style.fill=e.fill)}c.style.size=a;this.ul$2(c.style);d[0]=c;return d},makeDataSpecs:function(a){var d=Array(1);d[0]=new b.com_ibm_vis_spec_internal_DataSpec;var c=a.get(0);a=a.get(a.size()-1);this.isAestheticExactScale()&&(a=this.firstAesthetic.scale.spans.get(0),c=a.zeroOneToDataValue(0),a=a.zeroOneToDataValue(1));b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.aw$3(d[0],c,a);this.ad$8(d[0]);return d},ad$8:function(a){var d=Array(2);d[0]=new b.com_ibm_vis_spec_internal_FieldSpec;
var c=this.getUnitForAestheticField();d[0].id=b.com_ibm_vis_engine_internal_legend_nonsimple_AbstractAxisLegend.MIN_Y_FIELD;d[0].unit=c;d[1]=new b.com_ibm_vis_spec_internal_FieldSpec;d[1].id="yForLegend";d[1].unit=c;a.fields=d},gn$30:function(a){for(var d,c=new b.com_ibm_rave_codegenerator_util_List(10),e,g=0;1>=g;)d=new b.com_ibm_vis_spec_internal_ColorOffsetSpec,d.offset=g,e=this.isScaleReverse()?b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.go$18(d.offset,this.aesthetics,a):
b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.go$18(1-d.offset,this.aesthetics,a),e=b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.ce$37(e),d.color=e,c.add(0,d),g+=.1;return c},ul$2:function(a){var d=this.go$20(a),c=b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.go$19(a),e=b.com_ibm_vis_engine_internal_ColorUtil.createColor(),e=b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.co$8(e,this.aesthetics,d,c);if(this.firstAesthetic.mn_5)for(var c=
this.firstAesthetic.scale.reverse,g=this.firstAesthetic.mn_5.size(),d=new b.com_ibm_rave_codegenerator_util_List,f=0;f<g;++f){var h=this.firstAesthetic.mn_5.getStop(f);c&&(h=1-h);d.add(0,this.go$21(h,f,this.aesthetics,e))}else d=this.gn$30(e);e=new b.com_ibm_vis_spec_internal_FillSpec;e.angle=this.verticalLegend?270:180;e.type="linear";e.colors=d.toArray(Array(d.size()));a.fill=e},go$20:function(a){if(!a||null==a.fill)return null;if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.fill,b.com_ibm_vis_spec_internal_FillSpec)){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.fill))return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromString(a.fill);
if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.fill,b.com_ibm_vis_spec_internal_ColorSpec))return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromColorSpec(a.fill)}return null},go$21:function(a,d,c,e){var g=b.com_ibm_vis_engine_internal_ColorUtil.createColor();e&&(g=g.combineWithColor(e));for(e=0;e<c.size();++e){var f=c.get(e),h=a,l=f.mn_5.getValue(d);if(0>h){if(d!=f.mn_5.size()-1){var m=f.mn_5.getStop(d+1);0<=m&&(f=f.mn_5.getValue(d+1),l=l.interpolateWithColor(f,(0-h)/(m-h)))}h=
0}else 1<h&&(0!=d&&(m=f.mn_5.getStop(d-1),1>=m&&(f=f.mn_5.getValue(d-1),l=l.interpolateWithColor(f,(h-1)/(h-m)))),h=1);g=g.combineWithColor(l);e==c.size()-1&&(a=h)}d=new b.com_ibm_vis_spec_internal_ColorOffsetSpec;this.isScaleReverse()?d.offset=a:d.offset=1-a;d.color=b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.ce$37(g);return d},makeGrammarBounds:function(){var a=new b.com_ibm_vis_spec_internal_BoundsSpec,d=this.gz$25();this.verticalLegend?a.width=d.wt_2:a.height=d.hh_1;return a},
getPad:function(){return 5}});b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.aw$3=function(a,d,c){var e=Array(1),g=b.com_ibm_rave_codegenerator_lang_Array.create([2],0);g[0]=d;g[1]=c;e[0]=g;a.rows=e};b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.ce$37=function(a){var d=new b.com_ibm_vis_spec_internal_ColorSpec;a=a.getRGBA();d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3];return d};b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.go$18=function(a,d,c){for(var e=
b.com_ibm_vis_engine_internal_ColorUtil.createColor(),e=e.combineWithColor(c),e=e.combineWithColor(d.get(0).pe_13.getDefaultForNumeric(a,null)),g=1;g<d.size();++g)c=d.get(g).pe_13.getDefaultForNumeric(a,null),e=e.combineWithColor(c);return e};b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.go$19=function(a){if(null==a.outline)return null;if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.outline,b.com_ibm_vis_spec_internal_FillSpec)){if(b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a.outline))return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromString(a.outline);
if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a.outline,b.com_ibm_vis_spec_internal_ColorSpec))return b.com_ibm_vis_engine_internal_ColorUtil.createColorFromColorSpec(a.outline)}return null};b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.co$8=function(a,b,c,e){"outline"==b.get(0).mp_1?e&&(a=a.combineWithColor(e)):c&&(a=a.combineWithColor(c));return a};b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.VN_1=270;b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.HN_1=
180;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.METHOD="continuous";b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend.LL_2="linear"});b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker=b.com_ibm_init_declare({});b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.makeLegends=function(a,d,c,e){if(c.elements)return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$8(a,
c,e);if("swatch"==c.method||null==c.method)return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$12(a,d,c,e);if("axis"==c.method)return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$9(a,d,c,e);if("stagger"==c.method)return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$10(a,d,c,e);if("continuous"==c.method)return b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$11(a,d,c,e);throw new b.com_ibm_vis_exceptions_internal_EngineException("Bad spec.method '"+
c.method+"' in NonSimpleLegendMaker",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$8=function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_List;0<d.elements.length&&(a=new b.com_ibm_vis_engine_internal_legend_nonsimple_ElementLegend(a,d,c),e.add(a));return e};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$9=function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f;f=c.aesthetics&&
0<c.aesthetics.length?b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getAxisAestheticsByReferences(c.aesthetics,a):b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultAxisLegendAesthetics(a.ga_5,d);d=0;f=f.arrayIterator();for(var h=f.length;d<h;++d){var l=new b.com_ibm_vis_engine_internal_legend_nonsimple_SizeAxisLegend(a,c,e,f[d]);g.add(l);e++}return g};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$10=function(a,d,
c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f;f=c.aesthetics&&0<c.aesthetics.length?b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getStaggerAestheticsByReferences(c.aesthetics,a):b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultStaggerLegendAesthetics(a.ga_5,d);d=0;f=f.arrayIterator();for(var h=f.length;d<h;++d){for(var l=f[d],m=!0,p=0,q=l.arrayIterator(),r=q.length;p<r;++p)if(!b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.isStaggerLegendable(q[p])){m=
!1;break}l=m?new b.com_ibm_vis_engine_internal_legend_nonsimple_StaggerLegend(a,c,e,l):new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend(a,c,e,l,!0);g.add(l);e++}return g};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$11=function(a,d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f;f=c.aesthetics&&0<c.aesthetics.length?b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getContinuousAestheticsByReferences(c.aesthetics,a):b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultContinuousLegendAesthetics(a.ga_5,
d);d=0;f=f.arrayIterator();for(var h=f.length;d<h;++d){for(var l=f[d],m=!0,p=0,q=l.arrayIterator(),r=q.length;p<r;++p)if(!b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.isContinuousLegendable(q[p])){m=!1;break}l=m?new b.com_ibm_vis_engine_internal_legend_nonsimple_ColorGradientLegend(a,c,e,l):new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend(a,c,e,l,!0);g.add(l);e++}return g};b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendMaker.md$12=function(a,
d,c,e){var g=new b.com_ibm_rave_codegenerator_util_List,f;f=c.aesthetics&&0<c.aesthetics.length?b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getSwatchAestheticsByReferences(c.aesthetics,a):b.com_ibm_vis_engine_internal_legend_nonsimple_NonSimpleLegendAesthetics.getDefaultSwatchLegendAesthetics(a.ga_5,d);d=0;f=f.arrayIterator();for(var h=f.length;d<h;++d){var l=new b.com_ibm_vis_engine_internal_legend_nonsimple_SwatchLegend(a,c,e,f[d],!1);g.add(l);e++}return g};b.com_ibm_init_statics.initialize()});
b.com_ibm_init_requireSync.registerLoader("com/ibm/vis/layers/layoutsLayer",function(){b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{sf_4:!1,constructor:function(a,b){this.sf_4=b},needsAestheticsPreApplied:function(){return!0},makeElementShapes:function(a,d){this.en_9=d;var c=this.adapter.getStyle();this.pn_11=c?b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(c.padding,d,d):b.com_ibm_vis_engine_internal_struct_Insets.NONE;
for(var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List(a),g=0,f=0;f<a;++f){var h=this.adapter.makeItemAtSimpleCoordinates([0,0],f,!0);h&&(c.add(h),h=h.asBasic().getEnclosingCircle().r+Math.max(this.pn_11.getHorizontal(),this.pn_11.getVertical())/2,g+=3.141592653589793*h*h,e.add(h))}h=e.toArray();this.resizeShapes(c,h,g);this.pc$4(h);for(var g=new b.com_ibm_rave_codegenerator_util_List,f=e=0,l=c.arrayIterator(),m=l.length;f<m;++f){var h=l[f],p=h.getCenter(),
q=this.ln_6[e];q&&(h.affine(1,d.wt_2/2+q.x-p.x,1,d.wt_2/2+q.y-p.y,!1),g.add(h));e++}this.scaleTo(c);return g},placeSimpleCircles:function(a,b){this.en_9=b;this.pc$4(a);return this.ln_6},pc$4:function(a){this.ri_1=b.com_ibm_rave_codegenerator_lang_Array.create([a.length],0);for(var d=a.length,c=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(a),e=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),g=0;g<d;++g){var f=c[d-g-1];e[f]=g;this.ri_1[g]=a[f]}this.ln_6=Array(d);this.ee_3=new b.com_ibm_rave_codegenerator_util_List;
0<d&&(this.ln_6[0]=new b.com_ibm_vis_geom_Point(0,0));1<d&&(this.ln_6[1]=new b.com_ibm_vis_geom_Point(this.ri_1[0]+this.ri_1[1],0));if(2<d){var f=this.ri_1[0],h=this.ri_1[1],g=this.ri_1[2],c=b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.ge$16(g,f,h,null);this.ln_6[2]=c;a=f*f+h*h+g*g;f=h*h*(h+f)+g*g*c.x;c=g*g*c.y;for(g=0;3>g;++g)this.ln_6[g].x-=f/a,this.ln_6[g].y-=c/a;this.ag$2(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(0,1));this.ag$2(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(1,
0));this.ag$2(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(0,2));this.ag$2(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(2,0));this.ag$2(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(1,2));this.ag$2(new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(2,1))}for(g=3;g<d;++g)this.pg$2(g);a=Array(this.ln_6.length);for(g=0;g<d;++g)a[g]=this.ln_6[e[g]];this.ln_6=a},pg$2:function(a){for(var d=this.ri_1[a],c=new b.com_ibm_vis_geom_Point(0,
0),e=0;e<this.ee_3.size();++e){var g=this.ee_3.get(e),f=g.cr,h=-1!=f;if(!h||d<=f){var f=g.e1,l=g.e2;b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.pn$2(this.ln_6[f],this.ri_1[f],this.ln_6[l],this.ri_1[l],d,c);if(!(h?0:g.nearShapes?this.ie$31(c,d,g):this.in$1(c,d,a))){this.ln_6[a]=c;g.cr=b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.gu$7(d,this.ri_1[f],this.ri_1[l]);d=new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(a,l);c=new b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData(f,
a);this.ag$2(d);this.ag$2(c);g.nearShapes?(d.nearShapes=g.nearShapes,c.nearShapes=g.nearShapes,g.nearShapes.add(a)):!g.nearShapes&&h&&(d.nearShapes=new b.com_ibm_rave_codegenerator_util_List,d.nearShapes.add(a),d.nearShapes.add(f),d.nearShapes.add(l),d.nearShapes.add(g.e3),c.nearShapes=d.nearShapes);g.e3=a;break}}}},ag$2:function(a){var b=this.gc$8(a);a.touchPointDistance=b;var c=this.ee_3.size();if(0==c)this.ee_3.add(a);else{var e=0;if(b<this.ee_3.get(e).touchPointDistance)this.ee_3.add(0,a);else if(--c,
b>=this.ee_3.get(c).touchPointDistance)this.ee_3.add(a);else{for(;c>e+1;){var g=Math.floor((e+c)/2),f=this.ee_3.get(g).touchPointDistance;b<f?c=g:e=g}this.ee_3.add(c,a)}}},gc$8:function(a){var b=this.ln_6[a.e1],c=this.ln_6[a.e2],e=this.ri_1[a.e1],g=this.ri_1[a.e2];a=(b.x*g+c.x*e)/(e+g);b=(b.y*g+c.y*e)/(e+g);return this.sf_4?(c=Math.abs(a)/this.en_9.wt_2,b=Math.abs(b)/this.en_9.hh_1,Math.max(c,b)):a*a+b*b},ie$31:function(a,b,c){var e=c.nearShapes,g=c.e1;c=c.e2;for(var f=0,h=e.size();f<h;++f){var l=
e.get(f);if(l!=g&&l!=c){var m=b+this.ri_1[l]-.01,l=this.ln_6[l];if(Math.abs(a.x-l.x)<m&&Math.abs(a.y-l.y)<m&&a.distance(l)<m)return!0}}return!1},in$1:function(a,b,c){for(var e=0;e<c;++e){var g=b+this.ri_1[e]-.01,f=this.ln_6[e];if(Math.abs(a.x-f.x)<g&&Math.abs(a.y-f.y)<g&&a.distance(f)<g)return!0}return!1},scaleTo:function(a){var d=b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.ge$17(a),c=Math.min(this.en_9.wt_2/(d[0].range+this.pn_11.left+this.pn_11.right),this.en_9.hh_1/(d[1].range+this.pn_11.top+
this.pn_11.bottom)),e=-d[0].min,g=-d[1].min,f=(this.en_9.wt_2-c*d[0].range)/2,d=(this.en_9.hh_1-c*d[1].range)/2,h=0;a=a.arrayIterator();for(var l=a.length;h<l;++h)a[h].affine(c,e*c+f,c,g*c+d,!0)},resizeShapes:function(a,b,c){var e=0;this.sf_4?e=this.en_9.wt_2*this.en_9.hh_1:(e=.5*Math.min(this.en_9.wt_2,this.en_9.hh_1),e*=3.141592653589793*e);c=e/c;if(!(.001>Math.abs(c-1))){var g=e=0;a=a.arrayIterator();for(var f=a.length;g<f;++g){var h=a[g];h.affine(c,0,c,0,!0);b[e++]=h.asBasic().getEnclosingCircle().r+
Math.max(this.pn_11.getHorizontal(),this.pn_11.getVertical())/2}}}});b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.gu$7=function(a,b,c){a=1/a;b=1/b;c=1/c;return 1/(a+b+c+2*Math.sqrt(a*b+b*c+c*a))};b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.pn$2=function(a,d,c,e,g,f){var h=d+e,l=(c.x-a.x)/h;c=(c.y-a.y)/h;d=b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.ge$16(g,d,e,f);e=d.x*c+d.y*l+a.y;d.x=d.x*l-d.y*c+a.x;d.y=e;return d};b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.ge$16=
function(a,d,c,e){var g=d+c;d+=a;a=c+a;g=(g*g+d*d-a*a)/2/g;d=Math.sqrt(d*d-g*g);if(!e)return new b.com_ibm_vis_geom_Point(g,d);e.x=g;e.y=d;return e};b.com_ibm_vis_engine_internal_grammar_layout_BubbleLayout.ge$17=function(a){var d=[b.com_ibm_vis_engine_internal_data_Range.EMPTY,b.com_ibm_vis_engine_internal_data_Range.EMPTY],c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var g=a[c].getBounds();d[0]=d[0].unionValue(g.x).unionValue(g.x+g.wt_3);d[1]=d[1].unionValue(g.y).unionValue(g.y+g.hh_2)}return d};
b.com_ibm_vis_engine_internal_grammar_layout_BubbleEdgeData=b.com_ibm_init_declare({e1:0,e2:0,e3:-1,cr:-1,touchPointDistance:0,constructor:function(a,b){this.e1=a;this.e2=b}});b.com_ibm_vis_engine_internal_grammar_layout_SwimlaneLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{constructor:function(a){a=a.getSpec();this.ll_4=a.layer.$ref;this.sl_8=null==a.size?null:a.size.$ref},makeElementShapes:function(a,d){var c=this.ge$21(a),e=this.adapter.getSharedLayoutInfo().le_35;
if(!e)return new b.com_ibm_rave_codegenerator_util_List;for(var g=new b.com_ibm_rave_codegenerator_util_List,f=0,h=0,l=c.length;h<l;++h){var m=c[h],p=this.adapter.getFieldNumericValue(this.ll_4,m);if(p==p){p=1;if(null!=this.sl_8){var q=this.adapter.getFieldNumericValue(this.sl_8,m);q==q&&(p=Math.round(q))}if(1>p||f+p>e.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Swim lane count and sizes must not exceed layers defined in the graph layout",b.com_ibm_vis_exceptions_ErrorCode.SWIM_LANE_DATA,
"SwimlaneLayout");q=this.makeSwimlaneBounds(d,e,f,p);g.add(this.adapter.makeItemInRect(q,m));f+=p}}return g},makeSwimlaneBounds:function(a,d,c,e){for(var g=d[c],f=1;f<e;++f)var h=d[c+f],g=g.unionValue(h.min).unionValue(h.max);return this.adapter.isSwapXY()?new b.com_ibm_vis_geom_Rect(g.min*a.wt_2,0,g.range*a.wt_2,a.hh_1):new b.com_ibm_vis_geom_Rect(0,a.hh_1*(1-g.max),a.wt_2,g.range*a.hh_1)},ge$21:function(a){for(var d=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),c=0;c<a;++c){var e=this.adapter.getFieldNumericValue(this.ll_4,
c);d[c]=e!=e?4.9E-324:e}return b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(d)}});b.com_ibm_vis_engine_internal_grammar_layout_graph_FishboneLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_graph_AbstractGraphLayout,{bt_3:0,cl_5:0,da_6:0,ia_7:0,dt_3:0,isGraph:function(){return!1},layoutNodes:function(a){this.cf_2=new b.com_ibm_rave_codegenerator_util_List;this.ch_7=new b.com_ibm_rave_codegenerator_util_List;this.ne_14=new b.com_ibm_rave_codegenerator_util_List;
this.pd_4=this.fd$1();for(var d=this.pd_4.getChildren(),c=0;c<d.size();++c){var e=d.get(c);0==c%2?this.cf_2.add(e):this.ch_7.add(e)}this.ln_8=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.adapter.getSpec().padding,new b.com_ibm_vis_geom_Dim(0,0),a);this.bt_3=this.gt$15(0);this.adapter.isSwapXY()&&(this.bt_3=this.bt_3*a.wt_2/a.hh_1);this.ip$2(a)},ip$2:function(a){var d=a.hh_1-this.pd_4.getNodeHeight(a.hh_1);this.da_6=.03*d;this.ia_7=.03*d;this.dt_3=30;this.cl_5=1.0471975511965976;
var c=a.wt_2/2-this.bt_3-this.gt$16(a),e=d-this.ia_7-(this.gh$7(a)+this.da_6)*this.cf_2.size();this.cl_5=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.atan(c/e));if(0<this.cl_5&&1.0471975511965976>this.cl_5)this.cl_5=1.0471975511965976,e=this.ga$9(c,a);else if(0>this.cl_5||1.5707963267948966<this.cl_5)this.cl_5=1.5707963267948966,e=0,this.da_6=5;this.dt_3=0;c=this.adapter.isSwapXY()?a.hh_1/a.wt_2:a.wt_2/a.hh_1;this.dt_3=.8*((d-this.ia_7-e)/this.cf_2.size()-this.da_6-this.gh$7(a));1<c&&(this.dt_3/=
c);0>this.dt_3&&(this.dt_3=0)},placeInExtent:function(a){var b=this.pd_4.getNodeHeight(a.hh_1),c=a.hh_1-.5*b;this.pd$1(c,a);c-=b;this.pe$7(this.cf_2,c,a,!0);this.pe$7(this.ch_7,c-this.ia_7,a,!1)},pd$1:function(a,b){this.pd_4.setX(.5);this.pd_4.setY(a/b.hh_1);var c=.5*b.wt_2,e=this.pd_4.getNodeHeight(b.hh_1),g=.5*b.wt_2,f=b.hh_1;this.ln_8&&(c+=this.ln_8.left,g+=this.ln_8.left,e+=this.ln_8.top,f+=this.ln_8.top);this.ne_14.add(this.mn$18(c,e,g,f,this.pd_4.row,0))},pe$7:function(a,b,c,e){for(var g=0;g<
a.size();++g){var f=a.get(g),h=f.getNodeHeight(c.hh_1),l=f.getNodeWidth(c.wt_2),m=this.ga$9(c.wt_2/2-this.bt_3-l,c);b=0==g?b-(m-h/2+this.da_6):b-h/2;e?f.setX(l/(2*c.wt_2)):f.setX(1-l/(2*c.wt_2));f.setY(b/c.hh_1);var h=e?l:c.wt_2-l,l=c.hh_1-b,p=e?(c.wt_2-this.bt_3)/2:(c.wt_2+this.bt_3)/2,m=c.hh_1-b-m;this.ln_8&&(h+=this.ln_8.left,p+=this.ln_8.left,l+=this.ln_8.top,m+=this.ln_8.top);this.ne_14.add(this.mn$18(h,l,p,m,f.row,1));this.pe$8(f,p,m,c,e);b-=this.ch$1(f,c)+this.da_6}},pe$8:function(a,d,c,e,
g){var f=a.getChildren(),h=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(this.cl_5)),l=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(this.cl_5)),m=d;c=e.hh_1-c;var p=e.hh_1/e.wt_2,q=f.size(),r=a.getNodeWidth(e.wt_2),t=this.ct$8(a,e),w=t-r,x=(e.wt_2-this.bt_3)/2;a=0;var y=!1,z=0,C=this.gt$15(1);this.adapter.isSwapXY()&&(C*=p);x-r<w?(a=(x-t)/(q-1),y=!0):a=(x-t)/(q+1);for(r=0;r<q;++r){t=f.get(r);if(0<t.getChildren().size())throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a fishbone graph. More than three level are currently not supported.",
b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID,"");var w=t.getNodeHeight(e.hh_1),E=t.getNodeWidth(e.wt_2),x=0==r&&y?E:a+E,m=m+(g?-x:x),x=g?m+E/2:m-E/2;0<r&&(g&&x>z||!g&&x<z)&&(x=z);z=x;E=g?d-m-E/2:m-d-E/2;E-=this.bt_3/2*(r/q);this.adapter.isSwapXY()&&(E*=p);E=c-(E*h/l+this.dt_3+w/2);t.setX((x-this.ln_8.left)/e.wt_2);t.setY((E+this.ln_8.top)/e.hh_1);var w=e.hh_1-E-w/2,E=x,F=w-this.dt_3+C/2;0>F-w&&this.ne_14.add(this.mn$18(x,w,E,F,t.row,2))}},mn$18:function(a,d,c,e,f,h){a=[a,c];c=[d,e];var l=b.com_ibm_rave_codegenerator_lang_Array.create([2],
0);d=0<h?"arrow":null;e=0==h?"arrow":null;l[0]=77;l[1]=76;h=this.adapter.getTargetedStyle("level_edge_"+h);f=this.adapter.makeItemFromPath(a,c,l,!1,f);a=h?h.symbol:null;a=b.com_ibm_rave_codegenerator_util_BasicFactory.isString(a)?a:null;f.setEdgeProperties(!1,a,!h||null==h.startArrow&&null==h.endArrow?e:h.startArrow,!h||null==h.startArrow&&null==h.endArrow?d:h.endArrow);h?b.com_ibm_vis_engine_internal_scene_StyleBuilder.setUnfilled(f,h,null):(b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultFillStyle(f),
b.com_ibm_vis_engine_internal_scene_StyleBuilder.setDefaultStrokeStyle(f));return f},gt$15:function(a){a=this.adapter.getTargetedStyle("level_edge_"+a);return b.com_ibm_vis_engine_internal_scene_StyleBuilder.getStrokeWidth(a)},gt$16:function(a){for(var b=0,c=0,e=this.pd_4.getChildren().arrayIterator(),f=e.length;c<f;++c)var h=e[c].getNodeWidth(a.wt_2),b=Math.max(b,h);return b},gt$17:function(a){for(var b=0,c=0,e=this.pd_4.getChildren().arrayIterator(),f=e.length;c<f;++c)b=Math.max(b,this.ct$8(e[c],
a));return b},gh$7:function(a){for(var b=0,c=0,e=this.pd_4.getChildren().arrayIterator(),f=e.length;c<f;++c)b=Math.max(b,this.ch$1(e[c],a));return b},ch$1:function(a,b){for(var c=a.getNodeHeight(b.hh_1)/2,e=0,f=a.getChildren().arrayIterator(),h=f.length;e<h;++e)c=Math.max(c,f[e].getNodeHeight(b.hh_1));return c+=a.getNodeHeight(b.hh_1)/2+this.dt_3},ct$8:function(a,b){for(var c=a.getNodeWidth(b.wt_2),e=0,f=a.getChildren().arrayIterator(),h=f.length;e<h;++e)c+=f[e].getNodeWidth(b.wt_2);return c},fd$1:function(){if(!this.nodes||
0==this.nodes.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a fishbone graph. No problem nodes present.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID);for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.nodes,e=c.length;d<e;++d){var f=c[d];this.checkForCycle(f);if(!f.inLink||0==f.inLink.length)a.add(f);else if(1<f.inLink.length)throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a fishbone graph. A fishbone graph cannot have a node with more than one parent node.",
b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID,"Node "+f.id);}if(1<a.size())throw new b.com_ibm_vis_exceptions_internal_EngineException("Cannot create a fishbone graph. A fishbone graph cannot have more than one problem node.",b.com_ibm_vis_exceptions_ErrorCode.DATA_INVALID,"");return a.get(0)},ga$9:function(a,d){var c=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.cos(this.cl_5)),e=b.com_ibm_vis_engine_internal_util_MathUtil.r(Math.sin(this.cl_5)),c=a*c/e;this.adapter.isSwapXY()&&(c=c*d.hh_1/
d.wt_2);return c},getPreferredSize:function(a){var d=0,c=0,d=new b.com_ibm_vis_geom_Dim(5E3,5E3);this.makeElementShapes(a,d);this.dt_3=0;c=this.pd_4.getNodeHeight(d.hh_1)+0+(this.gh$7(d)+this.da_6)*this.cf_2.size()+this.ia_7;d=2*this.gt$17(d)+this.bt_3;return this.adapter.isSwapXY()?new b.com_ibm_vis_geom_Dim(c,d):new b.com_ibm_vis_geom_Dim(d,c)},makeNonElementShapes:function(a){return this.ne_14},setupNodeLayering:function(a){}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapBoundsSetter=
b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayoutAdapter=b.com_ibm_init_declare({constructor:function(a){this.layout=a},computePaddedBounds:function(a,d){if(this.layout){var c=this.layout.getStyleSpec(a.getLevel(),0==a.getChildCount());if(c&&null!=c.padding){var e=d.getExtent();if(c=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(c.padding,e,e)){c=c.insetRect(d);if(c.hasExtent())return c;throw new b.com_ibm_vis_exceptions_internal_EngineException("Padding value specified is too high",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);}}}return d},getStyle:function(a){return a?this.layout.getStyleSpec(a.getLevel(),0==a.getChildCount()):null}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.squarify=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts("squarify");b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.pivotBySize=
new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts("pivotBySize");b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.sliceAndDice=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts("sliceAndDice");b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.sliceAndDiceVertical=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts("sliceAndDiceVertical");b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stack=
new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts("stack");b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stackFillSpace=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts("stackFillSpace");b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts)};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout=
b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_grammar_layout_Layout,b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapBoundsSetter],{ll_5:!1,hl_1:!1,constructor:function(a){this.spec=a.getSpec();null!=this.spec.leafOnly&&(this.ll_5=this.spec.leafOnly.valueOf());var d=this.spec.layout;null==d?d=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.PZ_2:b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.vu$2(d);var c=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayoutAdapter(this);
b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms.registerExtensions();this.ah_5=b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(d,c);this.be_2=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder;this.na_2=new b.com_ibm_rave_codegenerator_util_Map;this.hl_1=!1;"full"==a.getLabelCollisionHandling()&&(this.hl_1=!0)},respectsTransforms:function(){var a=this.adapter.getTransform();if(!a)return!0;for(var b=0,c=a.length;b<c;++b){var e=
a[b];if("transpose"!=e.type&&"polar"!=e.type)return!1}return!0},makeElementShapes:function(a,d){var c=this.spec.parent,e=this.spec.size,f;e&&(f=e.$ref);if(c)c=null,this.spec.parent&&(c=this.spec.parent.$ref),e=null,this.spec.id&&(e=this.spec.id.$ref),this.tree=this.be_2.buildRecursiveTree(a,c,e,this.adapter,f);else if(c=this.spec.levels,e=new b.com_ibm_rave_codegenerator_util_List,c){for(var h=0,l=c.length;h<l;++h)e.add(c[h].field.$ref);this.tree=this.be_2.buildNonRecursiveTree(a,e,this.adapter,f)}this.ah_5.createBounds(this.tree,
this.getPaddedBounds(d),this);f=new b.com_ibm_rave_codegenerator_util_List;this.ae$11(this.tree,f);this.setRowIndicesToInteriorShapes(f);return f},setRowIndicesToInteriorShapes:function(a){var d=0;a=a.arrayIterator();for(var c=a.length;d<c;++d){var e=a[d],f=e.getTemporaryTreeMapNodeInfo();if(f&&0!=f.getChildCount()){var h=new b.com_ibm_rave_codegenerator_util_List;this.ae$10(f,h);for(var f=b.com_ibm_rave_codegenerator_lang_Array.create([h.size()],0),l=0;l<f.length;++l)f[l]=h.get(l);e.setRows(f)}}},
ae$10:function(a,b){a.ho_2&&b.add(a.rowIndex);if(0!=a.getChildCount())for(var c=0,e=a.getChildren().arrayIterator(),f=e.length;c<f;++c)this.ae$10(e[c],b)},ae$11:function(a,b){if(a&&a.bounds&&(this.ll_5&&0==a.getChildCount()||!this.ll_5)){var c=this.adapter.makeItemInRect(a.bounds,a.rowIndex);c&&(c.setTemporaryTreeMapNodeInfo(a),0<a.getChildCount()&&c.setNeedsConsistentLabels(!1),b.add(c))}if(0<a.getChildCount())for(var c=0,e=a.getChildren().arrayIterator(),f=e.length;c<f;++c)this.ae$11(e[c],b)},getStyleSpec:function(a,
b){return 0>a?null:this.ge$23(a,b)},iu$4:function(){return b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stack.name()==this.spec.layout},ge$23:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.gI$2(a,!1,d),c=this.adapter.getTargetedStyle(c),e=this.iu$4();if(d&&!e||c)return c;e&&(d=!1);for(e=a;!c&&0<=e;)c=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.gI$2(e,!1,d),c=this.adapter.getTargetedStyle(c),e--;return c},getLabelSpec:function(a,
b){return 0>a?null:this.ge$24(a,b)},ge$24:function(a,d){var c=new b.com_ibm_vis_spec_internal_ElementLabelSpec,e=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.gI$2(a,!0,d),e=this.adapter.getTargetedStyle(e),f=this.iu$4();if(!e&&(!d&&!f||f))for(f&&(d=!1),f=a;!e&&0<=f;)e=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.gI$2(f,!0,d),e=this.adapter.getTargetedStyle(e),f--;c.style=e;c.content=this.spec.levels&&this.spec.levels[a]?this.spec.levels[a].labelContent:
null;return c.style||c.content?c:null},applyStyles:function(a){var d=a.getTemporaryTreeMapNodeInfo();return d?(d=this.getStyleSpec(d.getLevel(),0==d.getChildCount()))?(b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(a,d),(d=this.adapter.getStyle())&&null!=d.fill&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.modifyPaletteFill(a,d),!0):!1:!1},applyLabels:function(a,d,c){var e=a.getTemporaryTreeMapNodeInfo();if(!e)return!1;0<e.getChildCount()&&a.setNeedsConsistentLabels(!1);var f=this.getLabelSpec(e.getLevel(),
0==e.getChildCount());if(f){if(f.content){f.style||(f.style=new b.com_ibm_vis_spec_internal_StyleSpec);null==f.style.location&&(f.style.location="inside");var h=this.adapter.makeLabelShape(f,a);if(h){var l=a.isVisible()&&h.isVisible();h.setVisible(l);if(!this.hl_1||!b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.overlapsAncestorLabel(h,e,this.na_2)){var m=a.id,p=m.indexOfCharCode(83),q=m.substring(0,p),m=m.substring(p+1);if(f=this.adapter.makeLabelBackgroundShape(f,h,a))f.setVisible(l),
f.setID(q+"LB"+m);h.setID(q+"L"+m);c&&h.disableTooltip();d.addPlaqueAndLabelForShape(a,h,f,!1,null);this.na_2.put(e.id,h)}}}return!0}return!1},setBounds:function(a,b){-1<a.rowIndex&&(a.bounds=b.copy())}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.vu$2=function(a){if(b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.pivotBySize.name()!=a&&b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.squarify.name()!=a&&b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.sliceAndDice.name()!=
a&&b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.sliceAndDiceVertical.name()!=a&&b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stack.name()!=a&&b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stackFillSpace.name()!=a)throw new b.com_ibm_vis_exceptions_internal_SpecException("The layout '"+a+"' is not valid for the method 'treemap'. ",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_VALUE);};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.gI$2=
function(a,b,c){var e="level_";b&&(e+="label_");return c?e+"leaf":e+a};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.overlapsAncestorLabel=function(a,b,c){for(b=b.getParent();b;){var e=c.get(b.id);if(e&&(e=e.getBounds(),a.getBounds().intersectsRect(e)))return!0;b=b.getParent()}return!1};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.HIDE="hide";b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.PZ_2="pivotBySize";b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayout.DT_2=
1;b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNodeAreaComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{inverse:!1,constructor:function(a){this.inverse=a},compare:function(a,b){var c;a?b?(c=Math.round(a.area-b.area),0==c&&(c=a.rowIndex-b.rowIndex)):c=-1:c=b?1:0;this.inverse&&(c*=-1);return c}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapAlgorithm,{constructor:function(a){this.ae_7=a},getTreeMapLayoutAdapter:function(){return this.ae_7},createBounds:function(a,b,c){-1!=a.rowIndex&&c.setBounds(a,b);if(0<a.getChildCount()){this.le$4(a,b);b=0;a=a.getChildren().arrayIterator();for(var e=a.length;b<e;++b){var f=a[b];f.bounds&&this.createBounds(f,f.bounds,c)}}},le$4:function(a,d){var c=d;this.ae_7&&(c=this.ae_7.computePaddedBounds(a,d));var e=c.wt_3*c.hh_2,
f=a.getAggregatedSize(!1);if(0<a.getSize())var e=e*(a.getSize()/f),h=b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.gt$14(c),e=e/h,c=b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.iu$3(c)?new b.com_ibm_vis_geom_Rect(c.x,c.y,c.wt_3,c.hh_2-e):new b.com_ibm_vis_geom_Rect(c.x,c.y,c.wt_3-e,c.hh_2),e=c.wt_3*c.hh_2,f=f-a.getSize();if(0<a.getChildCount()){for(var h=new b.com_ibm_rave_codegenerator_util_List,l=0,m=a.getChildren().arrayIterator(),p=m.length;l<p;++l){var q=m[l];
q.area=e*(q.getAggregatedSize(!1)/f);0<q.area&&h.add(q)}b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.se$12(h);this.sf$3(h,c,b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.gt$14(c))}},sf$3:function(a,d,c){for(var e=new b.com_ibm_rave_codegenerator_util_List;!a.isEmpty();){if(1==a.size()+e.size()){(1==a.size()?a.get(0):e.get(0)).bounds=d;break}if(2<=a.size()&&0==e.size()){var f=a.get(0);e.add(f);a.remove(f)}var f=this.worstAspectRatio(e,c),h=a.get(0),l=new b.com_ibm_rave_codegenerator_util_List;
l.addAll(e);l.add(h);h=this.worstAspectRatio(l,c);f>=h?(h=a.get(0),e.add(h),a.remove(h)):(d=b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$1(e,d,c),c=b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.gt$14(d),e=new b.com_ibm_rave_codegenerator_util_List)}0==a.size()&&0<e.size()&&b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$1(e,d,c)},worstAspectRatio:function(a,b){if(!a||0==a.size())return 1.7976931348623157E308;for(var c=0,e=1.7976931348623157E308,
f=0,h,l=0,m=a.arrayIterator(),p=m.length;l<p;++l)h=m[l].area,0!=h&&(c+=h,e>h&&(e=h),f<h&&(f=h));if(0==c)return 4.9E-324;h=b*b;c*=c;e=c/(h*e);f=h*f/c;return e>f?e:f}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$1=function(a,d,c){return b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.iu$3(d)?b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$3(a,d,c):b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$2(a,d,c)};b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$2=
function(a,d,c){for(var e=0,f=0,h=a.arrayIterator(),l=h.length;f<l;++f)var m=h[f],e=e+m.area;c=e/c;f=e=0;a=a.arrayIterator();for(h=a.length;f<h;++f){var m=a[f],l=m.area/c,p=new b.com_ibm_vis_geom_Rect(d.x,d.y+e,c,l);m.bounds=p;e+=l}return new b.com_ibm_vis_geom_Rect(d.x+c,d.y,d.wt_3-c,d.hh_2)};b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.lo$3=function(a,d,c){for(var e=0,f=0,h=a.arrayIterator(),l=h.length;f<l;++f)var m=h[f],e=e+m.area;c=e/c;f=e=0;a=a.arrayIterator();for(h=a.length;f<
h;++f){var m=a[f],l=m.area/c,p=new b.com_ibm_vis_geom_Rect(d.x+e,d.y,l,c);m.bounds=p;e+=l}return new b.com_ibm_vis_geom_Rect(d.x,d.y+c,d.wt_3,d.hh_2-c)};b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.gt$14=function(a){return a.wt_3<a.hh_2?a.wt_3:a.hh_2};b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.iu$3=function(a){return a.wt_3<a.hh_2};b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify.se$12=function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a,
new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNodeAreaComparator(!0))};b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapAlgorithm,{constructor:function(a){this.ae_5=a},createBounds:function(a,b,c){a&&this.ld$1(a,b,c)},ld$1:function(a,d,c){-1<a.rowIndex&&(c.setBounds(a,d),d=a.bounds);var e=a.getSize();0<e&&(d=b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.ge$22(d,e,a.getAggregatedSize(!1)));
this.ae_5&&(d=this.ae_5.computePaddedBounds(a,d));this.le$3(a.getChildren(),d,c)},le$3:function(a,d,c){if(a&&0!=a.size())if(1==a.size()){var e=a.get(0);this.ld$1(e,d,c)}else{var f=b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.pe$4(a),e=a.get(f),h=new b.com_ibm_rave_codegenerator_util_List,l=0;if(0<f){for(var m=0;m<f;++m)h.add(a.get(m));l=b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.sum(h)}var m=0,p=new b.com_ibm_rave_codegenerator_util_List;if(f<a.size()-1){for(m=
f+1;m<a.size();++m)p.add(a.get(m));m=b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.sum(p)}var q=d.wt_3*d.hh_2;if(0!=q){var r=l+e.getAggregatedSize(!1)+m;a=l*q/r;f=m*q/r;q=e.getAggregatedSize(!1)*q/r;l=new b.com_ibm_rave_codegenerator_util_List;(m=b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.iu$2(d))?(q/=d.hh_2,r=f/d.hh_2,a=new b.com_ibm_vis_geom_Rect(d.x,d.y,a/d.hh_2,d.hh_2),f=new b.com_ibm_vis_geom_Rect(a.x+a.wt_3,d.y,q,d.hh_2),q=new b.com_ibm_vis_geom_Rect(f.x+
f.wt_3,d.y,r,d.hh_2),d=new b.com_ibm_vis_geom_Rect(f.x,d.y+d.hh_2,f.wt_3,0)):(q/=d.wt_3,r=f/d.wt_3,a=new b.com_ibm_vis_geom_Rect(d.x,d.y,d.wt_3,a/d.wt_3),f=new b.com_ibm_vis_geom_Rect(d.x,d.y+a.hh_2,d.wt_3,q),q=new b.com_ibm_vis_geom_Rect(d.x,f.y+f.hh_2,d.wt_3,r),d=new b.com_ibm_vis_geom_Rect(d.x+d.wt_3,d.y+a.hh_2,0,f.hh_2));this.tc$1(f,q,d,m,p,l);this.ld$1(e,f,c);0<h.size()&&this.le$3(h,a,c);0<l.size()&&this.le$3(l,d,c);0<p.size()&&this.le$3(p,q,c)}}},addToPivot:function(a,d,c,e,f,h,l){if(0==e.size())return!1;
var m=new b.com_ibm_vis_geom_Rect(a.x,a.y,a.wt_3,a.hh_2),p=d.hh_2*d.wt_3,q=a.hh_2*a.wt_3,r=e.get(f),p=p*r.getAggregatedSize(!1)/b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.sum(e);if(h){if(h=p/d.hh_2,m.wt_3+=h,m.hh_2=q/m.wt_3,b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.aspectRatio(a)>b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.aspectRatio(m))return a.wt_3=m.wt_3,a.hh_2=m.hh_2,d.x=a.x+a.wt_3,d.wt_3-=h,c.wt_3=m.wt_3,c.hh_2=d.hh_2-m.hh_2,
c.y=a.y+a.hh_2,a=e.get(f),e.remove(a),l.add(a),0!=e.size()}else if(h=p/d.wt_3,m.hh_2+=h,m.wt_3=q/m.hh_2,b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.aspectRatio(a)>b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.aspectRatio(m))return a.wt_3=m.wt_3,a.hh_2=m.hh_2,d.y=a.y+a.hh_2,d.hh_2-=h,c.wt_3=d.wt_3-a.wt_3,c.hh_2=a.hh_2,c.x=a.x+a.wt_3,a=e.get(f),e.remove(a),l.add(a),0!=e.size();return!1},tc$1:function(a,b,c,e,f,h){for(var l=0;l<f.size()&&this.addToPivot(a,b,c,
f,l,e,h);++l);}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.ge$22=function(a,d,c){if(!a.hasExtent())return new b.com_ibm_vis_geom_Rect(0,0,0,0);d=(c-d)/c*a.hh_2*a.wt_3;return a.wt_3>a.hh_2?new b.com_ibm_vis_geom_Rect(a.x,a.y,d/a.hh_2,a.hh_2):new b.com_ibm_vis_geom_Rect(a.x,a.y,a.wt_3,d/a.wt_3)};b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.sum=function(a){var b=0,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c)b+=a[c].getAggregatedSize(!1);return b};b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.pe$4=
function(a){for(var b=0,c=a.get(b).getAggregatedSize(!1),e=0;e<a.size();++e)a.get(e).getAggregatedSize(!1)>c&&(b=e,c=a.get(b).getAggregatedSize(!1));return b};b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.iu$2=function(a){return a.wt_3>a.hh_2};b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize.aspectRatio=function(a){return Math.max(a.wt_3,a.hh_2)/Math.min(a.wt_3,a.hh_2)};b.com_ibm_vis_engine_internal_grammar_layout_treemap_SliceAndDice=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapAlgorithm,
{ha_2:!1,constructor:function(a){this.ae_6=a},setHorizontal:function(a){this.ha_2=a},createBounds:function(a,b,c){c.setBounds(a,b);this.ld$2(a,b,c,this.ha_2)},ld$2:function(a,d,c,e){var f=a.getChildren(),h=d;this.ae_6&&(h=this.ae_6.computePaddedBounds(a,d));if(f&&!f.isEmpty()){d=h.x;for(var l=h.y,m=h.wt_3,h=h.hh_2,p=0,f=f.arrayIterator(),q=f.length;p<q;++p){var r=f[p],t;if(e){var w=m*r.getAggregatedSize(!1)/a.getAggregatedSize(!1);t=new b.com_ibm_vis_geom_Rect(d,l,w,h);d+=w}else w=h*r.getAggregatedSize(!1)/
a.getAggregatedSize(!1),t=new b.com_ibm_vis_geom_Rect(d,l,m,w),l+=w;c.setBounds(r,t);this.ld$2(r,r.bounds,c,!e)}}}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_StackTreeMap=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapAlgorithm,{th_2:0,fc_3:!1,constructor:function(a){this.ae_8=a},createBounds:function(a,b,c){this.od_2=b;this.th_2=a.getHeight();this.ca$10(a,b,c)},ca$10:function(a,d,c){if(a){var e=d.y,f=this.gh$5(a);a.isDummyRoot||(c.setBounds(a,new b.com_ibm_vis_geom_Rect(d.x,
d.y,d.wt_3,f)),e+=this.gh$5(a));if(0!=a.getChildCount()){var f=a.getAggregatedSize(this.fc_3),h=d.x;if(0<a.getSize()){var l=a.getSize()/f*d.wt_3,m=this.gn$7(a);"middle"==m?h+=l/2:"end"==m&&(h+=l)}l=0;a=a.getChildren().arrayIterator();for(m=a.length;l<m;++l){var p=a[l],q=p.getAggregatedSize(this.fc_3)/f,q=d.wt_3*q,q=b.com_ibm_vis_engine_internal_util_MathUtil.r3(q),r=new b.com_ibm_vis_geom_Rect(h,e,q,this.gh$5(p));this.ca$10(p,r,c);h+=q}}}},gn$7:function(a){return 0<a.getChildCount()&&!this.fc_3&&
(a=this.ae_8.getStyle(a.getChild(0)))?null!=a.align?a.align:"start":"start"},gh$5:function(a){if(a=this.ae_8.getStyle(a))if(a=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(a.height,this.od_2.hh_2,this.od_2.hh_2),null!=a)return a;return Math.round(this.od_2.hh_2/this.th_2)},setFillSpace:function(a){this.fc_3=a}});b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_treemap_StackTreeMap.DN_3="start"});b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms=
b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,d){var c;null!=d&&b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(d,b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayoutAdapter)&&(c=d);return b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.squarify.name()==a?new b.com_ibm_vis_engine_internal_grammar_layout_treemap_Squarify(c):b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.pivotBySize.name()==
a?new b.com_ibm_vis_engine_internal_grammar_layout_treemap_PivotBySize(c):b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.sliceAndDice.name()==a?(c=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_SliceAndDice(c),c.setHorizontal(!1),c):b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.sliceAndDiceVertical.name()==a?(c=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_SliceAndDice(c),c.setHorizontal(!0),c):b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stack.name()==
a?c=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_StackTreeMap(c):b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeMapLayouts.stackFillSpace.name()==a?(c=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_StackTreeMap(c),c.fc_3=!0,c):null}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms.re_11||(b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms.re_11=
!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms))};b.com_ibm_vis_engine_internal_grammar_layout_treemap_DefaultTreeMapAlgorithms.re_11=!1;b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder=b.com_ibm_init_declare({buildNonRecursiveTree:function(a,d,c,e){for(var f=d.size(),h=new b.com_ibm_rave_codegenerator_util_Map,l=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.mo$10(),
m=!1,p=!1,q,r=0;r<a;++r){q?q.clear():q=new b.com_ibm_rave_codegenerator_util_List;var t=0,w=null;if(null!=e){var x=c.getFieldNumericValue(e,r);x==x&&(w=x)}for(var x=null,y=l,z=!1,C=null,E=0;E<f&&!z;++E){var z=E==f-1,F=d.get(E),H=c.getFieldNumericValue(F,r);null==H||0>H?z=y.ho_2=!0:(x=null==x?H.toString():x+","+H,C=h.get(x));if(!C){H=c.getFieldNumericValue(F,r);if(H!=H)break;F=c.getFieldStringValue(F,r);null==F&&(F="");F+=H;E==f-1&&null!=w?t=w:null==e&&(t=1);if(z&&0==t)continue;C=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNode(F,
null,t,r);z&&(C.ho_2=!0);y.addChild(C);h.put(x,C)}else if(z){null!=w&&(t=w);if(0==t)continue;C.setSize(t);C.setIndex(r)}y=C}!m&&0>t&&(m=!0);!p&&0<t&&(p=!0)}p&&!m||this.pe$5(l,p&&m);return b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.go$9(l)},buildRecursiveTree:function(a,d,c,e,f){for(var h=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.mo$10(),l=new b.com_ibm_rave_codegenerator_util_List,m=new b.com_ibm_rave_codegenerator_util_Map,p=new b.com_ibm_rave_codegenerator_util_Map,
q=new b.com_ibm_rave_codegenerator_util_List,r=!1,t=!1,w=0;w<a;++w){var x=0,y=e.getFieldStringValue(c,w);if(null!=y){if(null!=f){var z=e.getFieldNumericValue(f,w);if(z!=z)continue;x=z;!t&&0>x&&(t=!0);!r&&0<x&&(r=!0)}else x=1;z=null;null!=d&&(z=e.getFieldStringValue(d,w));x=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNode(y,z,x,w);x.ho_2=!0;null!=z?(l.add(x),m.put(y,w),p.put(z,w),q.add(z)):h.addChild(x)}}b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.at$5(h,m,p,q);
if(0==h.getChildCount())return h;this.me$19(l,h,p);h=b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.go$9(h);this.pe$5(h,r&&t);return h},me$19:function(a,b,c){for(var e=0,f=a.size();0<a.size();){if(e>a.size()-1){if(f==a.size())break;f=a.size();e=0}var h=a.get(e);if(null!=h.parentId){var l=this.fn$4(b,h.parentId,c);l?(l.addChild(h),a.remove(h)):e++}else a.remove(h)}},pe$5:function(a,b){var c=a.getSize();0>c&&!b&&a.setSize(-c);for(var c=0,e=a.getChildCount();c<e;++c){var f=a.getChild(c);
this.pe$5(f,b);0==f.getChildCount()&&(f=f.getSize(),0==f||b&&0>f)&&(a.removeChild(c),c--,e--)}},fn$4:function(a,b,c){for(var e=a.getChildCount(),f=0;f<e;++f){var h=a.getChild(f);if(b==h.id)return h}for(f=0;f<e;++f)if(h=a.getChild(f),c.containsKey(h.id)&&(h=this.fn$4(h,b,c)))return h;return null}});b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.mo$10=function(){var a=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNode(null,null,0,-1);a.isDummyRoot=!0;return a};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.at$5=
function(a,d,c,e){if(0==a.getChildCount()){var f=new b.com_ibm_rave_codegenerator_util_Map,h=0;e=e.arrayIterator();for(var l=e.length;h<l;++h){var m=e[h];if(!f.containsKey(m)&&!d.containsKey(m)){var p=c.get(m);f.put(m,p);m=new b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNode(m,null,0,p);a.addChild(m)}}}};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.go$9=function(a){1==a.getChildCount()&&(a=a.getChild(0));return a};b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.DU_1=
0;b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeBuilder.CU_3=1;b.com_ibm_vis_engine_internal_grammar_layout_treemap_TreeNode=b.com_ibm_init_declare({rowIndex:0,isDummyRoot:!1,size:0,na_3:!1,area:0,ho_2:!1,constructor:function(a,b,c,e){this.id=a;this.parentId=b;this.size=c;this.na_3=!0;this.rowIndex=e},getAggregatedSize:function(a){if(null==this.sz_5||this.na_3){var b=this.size;if(this.ce_25){a&&(b=0);for(var c=0,e=this.ce_25.arrayIterator(),f=e.length;c<f;++c)b+=e[c].getAggregatedSize(a)}this.sz_5=
b;this.na_3=!1}return this.sz_5},getLevel:function(){return this.pd_2?this.pd_2.getLevel()+1:this.isDummyRoot||0>this.rowIndex?-1:0},addChild:function(a){if(a){var d=this.na_4?this.na_4.get(a.id):null;d?d.setSize(d.getSize()+a.getSize()):(this.ce_25||(this.ce_25=new b.com_ibm_rave_codegenerator_util_List,this.na_4=new b.com_ibm_rave_codegenerator_util_Map),this.ce_25.add(a),this.na_4.put(a.id,a),a.pd_2=this);this.needsAggregation()}},removeChild:function(a){a<this.getChildCount()&&(a=this.ce_25.get(a))&&
(this.ce_25.remove(a),this.na_4.remove(a.id),a.pd_2=null,this.needsAggregation())},getChild:function(a){return this.ce_25.get(a)},getChildCount:function(){return this.ce_25?this.ce_25.size():0},getSize:function(){return this.size},setSize:function(a){this.size=a},needsAggregation:function(){this.na_3=!0;this.pd_2&&this.pd_2.needsAggregation()},getParent:function(){return this.pd_2},getChildren:function(){return this.ce_25},setIndex:function(a){this.rowIndex=a},dataRowSpecified:function(a){this.ho_2=
a},hasDataRowSpecified:function(){return this.ho_2},getHeight:function(){var a=0;if(this.ce_25)for(var b=0,c=this.ce_25.arrayIterator(),e=c.length;b<e;++b)a=Math.max(a,c[b].getHeight());return this.isDummyRoot?a:a+1}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_CloudLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{constructor:function(a){b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms.registerExtensions()},needsAestheticsPreApplied:function(){return!0},
makeElementShapes:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=new b.com_ibm_rave_codegenerator_util_List,f=0;f<a;++f){var h=this.adapter.makeItemAtSimpleCoordinates([1,1],f,!0);h&&e.add(h)}h=b.com_ibm_vis_engine_internal_struct_Insets.NONE;(f=this.adapter.getStyle())&&(h=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(f.padding,d,d));this.le$2(e,new b.com_ibm_vis_geom_Rect(0,0,d.wt_2,d.hh_1),h);for(var f=0,e=e.arrayIterator(),l=e.length;f<l;++f)h=e[f],c.add(h);
return c},le$2:function(a,d,c){var e=b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.newInstance(this.adapter.getSpec().layout,null);if(!e)throw new b.com_ibm_vis_exceptions_internal_SpecException("The 'cloud' method cannot handle a layout '"+this.adapter.getSpec().layout+"'",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);if(e.isAlignable()){var f=this.adapter.getStyle();f&&(e.setHorizontalAlignment(f.align),e.setVerticalAlignment(f.valign),e.alignBaseLine(null==
f.valign?!1:"end"==f.valign))}b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(e,b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm)&&this.ph$2(e);e.layoutShapes(a,d,c)},ph$2:function(a){var b=this.adapter.getSpec().spiralParameters;b&&(a.setOrientations(b.orientations),null!=b.orientationScheme&&a.setOrientationScheme(b.orientationScheme),null!=b.spiralType&&a.setSpiralType(b.spiralType),null!=b.fitAll&&a.setFitAll(b.fitAll))},getDefaultShapeSize:function(a,b){return a}});
b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_extension_ExtensionFactory,{newInstance:function(a,d){return"flow"==a?new b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_FlowLayoutAlgorithm:"spiral"==a?new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm:null}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms.registerExtensions=function(){b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms.ie_9||
(b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms.ie_9=!0,b.com_ibm_vis_engine_internal_extension_RAVEExtensionManager.INSTANCE.registerDefaultFactory(new b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms))};b.com_ibm_vis_engine_internal_grammar_layout_cloud_DefaultCloudAlgorithms.ie_9=!1;b.com_ibm_vis_engine_internal_grammar_layout_cloud_CloudAlgorithm=b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_cloud_Alignable=
b.com_ibm_init_declare.implement();b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_FlowLayoutAlgorithm=b.com_ibm_init_declare([b.com_ibm_vis_engine_internal_grammar_layout_cloud_CloudAlgorithm,b.com_ibm_vis_engine_internal_grammar_layout_cloud_Alignable],{bn_3:!1,constructor:function(){this.vg_1=this.ag_1="middle"},layoutShapes:function(a,b,c){this.sd$7(a,b);if(b=this.du$1(a,0,1,1,b,c)){this.ag_1=null==this.ag_1?"middle":this.ag_1;this.vg_1=null==this.vg_1?"middle":this.vg_1;b.alignRows(this.ag_1,
this.vg_1);this.bn_3&&b.alignBaseLine(this.vg_1);b=b.getAllBounds();var e=c=0;a=a.arrayIterator();for(var f=a.length;e<f;++e){var h=a[e];if(h){var l=b.get(c++),m=h.getBounds();h.affine(1,l.x-m.x,1,l.y-m.y,!1)}}}else a.removeAll(a)},sd$7:function(a,b){for(var c=0,e=0,f=a.arrayIterator(),h=f.length;e<h;++e){var l=f[e],l=l.getBounds().hh_2;l>c&&(c=l)}e=0;f=a.arrayIterator();for(h=f.length;e<h;++e){var l=f[e],m=b.hh_2/c;l.scale(m,m)}},du$1:function(a,b,c,e,f,h){var l=(b+c)/2;return(e=this.lu$4(a,l/e,
f,h))?e.canAddAnotherRow()?.01>=c-b?e:this.du$1(a,l,c,l,f,h):e:1E-5>=c-b?e:this.du$1(a,b,l,l,f,h)},lu$4:function(a,d,c,e){c=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_ShapeFlow(c,e);for(var f=0,h=a.arrayIterator(),l=h.length;f<l;++f)(e=h[f])&&e.scale(d,d);d=0;a=a.arrayIterator();for(f=a.length;d<f;++d)if((e=a[d])&&!c.addShape(e))return null;return c},setHorizontalAlignment:function(a){this.ag_1=a},setVerticalAlignment:function(a){this.vg_1=a},alignBaseLine:function(a){this.bn_3=a},
isAlignable:function(){return!0}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_FlowLayoutAlgorithm.TU_1=1E-5;b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_FlowLayoutAlgorithm.TF_1=.01;b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_ShapeFlow=b.com_ibm_init_declare({constructor:function(a,d){this.bd_5=a;this.pn_13=d;this.rows=new b.com_ibm_rave_codegenerator_util_List},canAddAnotherRow:function(){return this.co_6?this.co_6.y+this.co_6.rh_3<this.bd_5.y+this.bd_5.hh_2:0<
this.bd_5.hh_2},addShape:function(a){var b=this.getCurrentRow();return b.addShape(a)?!0:(b=this.mo$6(b),b.addShape(a))},ao$3:function(a,d,c,e){a=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_FlowRow(a,d,c,e,this.pn_13);this.rows.add(a);return a},mo$6:function(a){return a?this.co_6=this.ao$3(this.bd_5.x,a.y+a.rh_3,this.bd_5.wt_3,this.bd_5.y+this.bd_5.hh_2-(a.y+a.rh_3)):this.co_6=this.ao$3(this.bd_5.x,this.bd_5.y,this.bd_5.wt_3,this.bd_5.hh_2)},getCurrentRow:function(){this.co_6||(this.co_6=
this.ao$3(this.bd_5.x,this.bd_5.y,this.bd_5.wt_3,this.bd_5.hh_2));return this.co_6},getAllBounds:function(){for(var a=new b.com_ibm_rave_codegenerator_util_List,d=0,c=this.rows.arrayIterator(),e=c.length;d<e;++d)for(var f=0,h=c[d].rm_2.arrayIterator(),l=h.length;f<l;++f)a.add(h[f].getBounds());return a},alignRows:function(a,b){for(var c=0,e=this.rows.arrayIterator(),f=e.length;c<f;++c)e[c].alignAllRowBounds(a,b)},alignBaseLine:function(a){for(var b=0,c=this.rows.arrayIterator(),e=c.length;b<e;++b)c[b].adjustForDescent(a)}});
b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_FlowRow=b.com_ibm_init_declare({x:0,y:0,at_3:0,ah_4:0,ct_5:0,rh_3:0,mn_3:0,rt_6:0,constructor:function(a,d,c,e,f){this.x=a;this.y=d;this.ct_5=a;this.at_3=c;this.ah_4=e;this.pn_12=f;this.rm_2=new b.com_ibm_rave_codegenerator_util_List},addShape:function(a){var d=a.getBounds().wt_3+this.pn_12.left+this.pn_12.right,c=a.getBounds().hh_2+this.pn_12.top+this.pn_12.bottom;if(this.x+this.at_3>=this.ct_5+d&&this.ah_4>=c){var e=new b.com_ibm_vis_geom_Rect(this.ct_5+
this.pn_12.left,this.y+this.pn_12.top,a.getBounds().wt_3,a.getBounds().hh_2);this.rh_3<c&&(this.rh_3=c);this.ct_5+=d;this.rt_6+=d;this.rm_2.add(new b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_RowItem(e,a));b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text)&&(a=a.getFont().getDescent(),a>this.mn_3&&(this.mn_3=a));return!0}return!1},getMaxDescent:function(){return this.mn_3},getRowHeight:function(){return this.rh_3},getY:function(){return this.y},
getRowItems:function(){return this.rm_2},alignAllRowBounds:function(a,b){for(var c=0,e=this.rm_2.arrayIterator(),f=e.length;c<f;++c){var h=e[c].getBounds();h.y=this.y;"middle"==this.cg_3?h.x-=(this.at_3-this.rt_6)/2:"end"==this.cg_3&&(h.x-=this.at_3-this.rt_6);var l=this.rh_3-h.hh_2,m=this.at_3-this.rt_6;"middle"==a&&(m/=2);"middle"==b&&(l/=2);"start"!=a&&(h.x+=m);"start"!=b&&(h.y+=l)}this.cg_3=a},adjustForDescent:function(a){for(var d=0,c=this.rm_2.arrayIterator(),e=c.length;d<e;++d){var f=c[d],
h=f.getBounds(),f=f.getShape();if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,b.com_ibm_vis_engine_internal_struct_Text))break;var l=this.rh_3-h.hh_2;"middle"==a&&(l/=2);"end"!=a&&(h.y+=l);h.y-=this.mn_3-f.getFont().getDescent()}},getX:function(){return this.x},getRowWidth:function(){return this.rt_6}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_flow_RowItem=b.com_ibm_init_declare({constructor:function(a,b){this.bd_4=a;this.sp_5=b},getBounds:function(){return this.bd_4},getShape:function(){return this.sp_5}});
b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.roundRobin=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme("roundRobin");b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.sequential=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme("sequential");
b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme)};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_lang_Enum,{});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.rectangular=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType("rectangular");
b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.round=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType("round");b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.values=function(){return b.com_ibm_rave_codegenerator_lang_Enum.values(b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType)};b.com_ibm_vis_engine_internal_nativeImpl_TextRaster=b.com_ibm_init_declare({constructor:function(a){this.size=a;this.init()},init:function(){this.myCanvas=
document.createElement("canvas");if(!this.myCanvas||"undefined"===typeof this.myCanvas.getContext)throw new b.com_ibm_vis_exceptions_internal_EngineException("Browser has no support for HTML5 Canvas.Cannot proceed.",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);this.myCanvas.width=this.size.getWidth();this.myCanvas.height=this.size.getHeight()},getSize:function(){return this.size},place:function(a,b,c,e,f){this._hasText=!0;var h=this.myCanvas.getContext("2d");h.save();f&&null!=
f&&h.translate(f.getX(),f.getY());f=a.font.getBold()?"bold":"";var l=a.font.getStyle();null==l&&(l="");var m=a.font.getSize(),p=a.font.getFamily();h.font=f+" "+l+" "+m+"px "+p;h.textBaseline="alphabetic";h.fillStyle="white";0!=c&&(h.translate(b.getX(),b.getY()),h.rotate(c),h.translate(-b.getX(),-b.getY()));h.fillText(a.text,b.getX(),b.getY());null!=e&&(h.strokeStyle="white",h.strokeRect(e.getX(),e.getY(),e.getWidth(),e.getWidth()));h.restore()},placeText:function(a,b,c,e){this.place(a,b,c,e,null)},
placeTextRaster:function(a,b){for(var c=a._getImageData(),e=this._getImageData(),f=4*b.getX(),h=b.getY(),l=4*a.size.getWidth(),m=4*a.size.getHeight(),p=4*this.size.getWidth(),f=p*h+f,h=0;h<m;h++)for(var q=h*l,r=h*p+f,t=0;t<l;t+=4)c[q+t]&&(e[r+t]=1)},refreshImageData:function(){this.imageData=this.myCanvas.getContext("2d").getImageData(0,0,this.size.getWidth(),this.size.getHeight()).data},_getImageData:function(){this.imageData||(this._hasText?this.refreshImageData():this.imageData=this.myCanvas.getContext("2d").createImageData(this.size.getWidth(),
this.size.getHeight()).data);return this.imageData},collidesWith:function(a,b){for(var c=this._getImageData(),e=a._getImageData(),f=4*b.getX(),h=4*b.getWidth(),l=b.getHeight(),m=4*a.size.getWidth(),f=f+b.getY()*m,p=4,q=0;q<l;q++){for(var r=q*h,t=q*m+f,w=p;w<h;w+=8)if(0<(c[r+w]&e[t+w]))return!0;p=4==p?0:4}return!1},dispose:function(){delete this.myCanvas;this.imageData=null},printRaster:function(){this.printData(this._getImageData())},printData:function(a){for(var b=0;b<a.length;b++)this.size.getWidth(),
this.size.getWidth()}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_PlacedText=b.com_ibm_init_declare({al_6:0,constructor:function(a,b,c,e){this.text=a;this.lo_2=b;this.al_6=c;this.be_1=e},getText:function(){return this.text},getLocation:function(){return this.lo_2},getAngle:function(){return this.al_6},translate:function(a,d){this.lo_2=new b.com_ibm_vis_geom_Point(this.lo_2.x+a,this.lo_2.y+d);this.be_1.transform(1,a,1,d)},getBorder:function(){return this.be_1}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_Spiral=
b.com_ibm_init_declare({constructor:function(a){this.origin=a},translateOrigin:function(a,b){this.origin.x+=a;this.origin.y+=b}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_RoundSpiral=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_Spiral,{t:0,constructor:function(){this.p=new b.com_ibm_vis_geom_Point(0,0);(function(a){}).apply(this,arguments)},nextPoint:function(){var a=.1*this.t++;this.p.x=Math.round(this.origin.x+a*Math.cos(a));this.p.y=Math.round(this.origin.y+
a*Math.sin(a));return this.p}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_RectangularSpiral=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_Spiral,{cn_8:2,constructor:function(){this.p=new b.com_ibm_vis_geom_Point(0,0);(function(a){}).apply(this,arguments)},nextPoint:function(){var a=this.cn_8;this.cn_8++;var b=0,c=0;if(0<=a){var e=Math.floor(Math.sqrt(a+.25)-.5),f=e*(e+1),h=((e&1)<<1)-1,l=h*(e+1>>1),b=b+l,c=c+l,l=f+(e+1);a<l?b-=h*(a-f+1):(b-=h*(e+
1),c-=h*(a-l+1))}this.p.x=Math.round(this.origin.x+5*b);this.p.y=Math.round(this.origin.y+10*c);return this.p}});b.com_ibm_vis_engine_internal_util_TextApproxHeightComparator=b.com_ibm_init_declare(b.com_ibm_rave_codegenerator_util_Comparator,{compare:function(a,b){return a?b?b.getApproximateHeight()-a.getApproximateHeight():-1:b?1:0}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_cloud_CloudAlgorithm,
{fl_6:!0,constructor:function(){this.on_5=[0];this.om_1=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.roundRobin;this.sp_6=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.rectangular;this.rh_4=new b.com_ibm_rave_codegenerator_util_Map},layoutShapes:function(a,d,c){a=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.pu$1(a);b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.sh$2(a);d=
d.getExtent();c=new b.com_ibm_vis_engine_internal_nativeImpl_TextRaster(new b.com_ibm_vis_geom_Dim(Math.floor(d.wt_2),Math.floor(d.hh_1)));try{for(var e=new b.com_ibm_vis_geom_Rect(0,0,c.getSize().wt_2,c.getSize().hh_1),f=new b.com_ibm_rave_codegenerator_util_List,h=new b.com_ibm_vis_geom_Point(0,0),l=0,m=0,p=a.arrayIterator(),q=p.length;m<q;++m){var r=p[m],t=this.gr$5(l);b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.cp$3(r);for(var w=r,x=w.getBounds(),y=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.id$3(x),
z=!1,C=0,E=t.length;C<E;++C){var F=t[C],H=b.com_ibm_vis_engine_internal_util_MathUtil.r3(3.141592653589793*F/180),A=this.cd$9(y,H),J=A.getExtent(),M=new b.com_ibm_vis_engine_internal_nativeImpl_TextRaster(J),B=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.go$8(w,F);B.x+=2;B.y+=2;M.placeText(w,B,H,b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.ge$19(w,B));for(var K=this.ma$3(e,l),N=K.nextPoint();;){if(b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.id$2(N,
e))if(this.fl_6){c=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.mt$6(c,f,K,a.size());var L=c.getSize();e.wt_3=L.wt_2;e.hh_2=L.hh_1}else break;if(e.containsPt(N.x,N.y)&&(A.transform(1,Math.round(N.x-A.x),1,Math.round(N.y-A.y)),e.containsRect(A)&&!M.collidesWith(c,A))){var P=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.go$8(w,F);P.x=N.x+P.x+2;P.y=N.y+P.y+2;r.affine(1,P.x-x.x,1,P.y-w.getPreciseAscent()-x.y,!0);h.x=A.x;h.y=A.y;c.placeTextRaster(M,
h);var G=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.ge$19(w,P),Q=new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_PlacedText(w,P,H,G);f.add(Q);z=!0;l++;M.dispose();break}N=K.nextPoint()}if(z)break}if(!z){if(this.fl_6)throw new b.com_ibm_vis_exceptions_internal_EngineException("Spiral layout requested that all shapes fit, but they cannot fit",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_LAYOUT_DOES_NOT_FIT);var R=r.getBounds();r.affine(1,R.x-1E3,1,R.y-
1E3,!0)}}this.fl_6&&b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.si$4(a,d,c.getSize());this.rl$1(f)}finally{c.dispose()}},rl$1:function(a){var b=0;a=a.arrayIterator();for(var c=a.length;b<c;++b){var e=a[b],f=e.getAngle();0!=f&&this.rx$1(e.getText(),f)}},gr$5:function(a){return b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.roundRobin.equals(this.om_1)?[this.on_5[a%this.on_5.length]]:this.on_5},ma$3:function(a,d){var c=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.getOriginForSpiral(a,
d);return b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.round.equals(this.sp_6)?new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_RoundSpiral(c):new b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_RectangularSpiral(c)},rx$1:function(a,d){var c=this.mr$3(d),e=a.getBounds().x,f=a.getPreciseAscent()+a.getBounds().y,c=(new b.com_ibm_vis_engine_internal_Affine(1,0,e,0,1,f)).multiply(c),c=c.multiply(new b.com_ibm_vis_engine_internal_Affine(1,0,-e,0,1,-f));a.setTransform(c)},
mr$3:function(a){var d=this.rh_4.get(a);d||(d=b.com_ibm_vis_engine_internal_Affine.makeRotation(a,0,0),this.rh_4.put(a,d));return d},setOrientations:function(a){if(a){for(var d=0,c=a.length;d<c;++d){var e=a[d];if(90<e||-90>e)throw new b.com_ibm_vis_exceptions_internal_EngineException("Invalid orientation "+e+". Orientation angle has to be specified between +90 and -90, both inclusive",b.com_ibm_vis_exceptions_ErrorCode.ENGINE_ILLEGAL_ARGUMENT);}this.on_5=a}},setOrientationScheme:function(a){b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.sequential.name()==
a?this.om_1=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.sequential:this.om_1=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralOrientationScheme.roundRobin},setSpiralType:function(a){b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.round.name()==a?this.sp_6=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.round:this.sp_6=b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralType.rectangular},setFitAll:function(a){this.fl_6=
a},cd$9:function(a,d){var c=a;0!=d&&(c=b.com_ibm_vis_engine_internal_struct_Shape.transformBounds(c,this.mr$3(d)));var e=Math.floor(c.x),f=Math.floor(c.y),h=Math.ceil(c.wt_3),c=Math.ceil(c.hh_2);return new b.com_ibm_vis_geom_Rect(e,f,h,c)},isAlignable:function(){return!1}});b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.si$4=function(a,d,c){d!==c&&0<a.size()&&(d=Math.max(c.wt_2/d.wt_2,c.hh_1/d.hh_1),b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.sl$5(a,
1/d))};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.sl$5=function(a,b){for(var c=0,e=a.arrayIterator(),f=e.length;c<f;++c)e[c].affine(b,0,b,0,!0)};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.mt$6=function(a,d,c,e){var f=a.getSize();e=(e-d.size())/e;e=Math.max(1.1,1+e*Math.min(e,1.5*e));var h=new b.com_ibm_vis_geom_Dim(Math.round(f.wt_2*e),Math.round(f.hh_1*e));e=new b.com_ibm_vis_engine_internal_nativeImpl_TextRaster(h);var l=
Math.round((h.wt_2-f.wt_2)/2),f=Math.round((h.hh_1-f.hh_1)/2);c.translateOrigin(l,f);e.placeTextRaster(a,new b.com_ibm_vis_geom_Point(l,f));c=0;d=d.arrayIterator();for(h=d.length;c<h;++c){var m=d[c];m.getText().affine(1,l,1,f,!0);m.translate(l,f)}a.dispose();return e};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.cp$3=function(a){if(!b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(a,b.com_ibm_vis_engine_internal_struct_Text))throw new b.com_ibm_vis_exceptions_internal_EngineException("A spiral layout is not supported by shapes other than text shapes",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.pu$1=function(a){var d=new b.com_ibm_rave_codegenerator_util_List,c=0;a=a.arrayIterator();for(var e=a.length;c<e;++c){var f=a[c];b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.cp$3(f);f.align="start";f.valign="end";f.setNeedsPreciseHeight(!0);d.add(f)}return d};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.getOriginForSpiral=
function(a,d){var c=1,c=a.wt_3>a.hh_2?Math.ceil(a.wt_3/a.hh_2):Math.ceil(a.hh_2/a.wt_3),e=b.com_ibm_vis_engine_internal_util_MathUtil.r3(1/(c+1)),f=.4,h=.4;a.wt_3>a.hh_2?f=(d%c+1)*e:a.wt_3<a.hh_2&&(h=(d%c+1)*e);return new b.com_ibm_vis_geom_Point(Math.round(a.x+f*a.wt_3),Math.round(a.y+h*a.hh_2))};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.go$8=function(a,d){if(0>d&&-90<=d){d=-d;var c=a.getPreciseAscent(),e=a.getBounds().wt_3,f=3.141592653589793*d/180,h=Math.cos(f),
f=Math.sin(f),h=e*f+c*h;return new b.com_ibm_vis_geom_Point(Math.round(c*f),Math.round(h))}return 0<d&&90>=d?(c=a.getPreciseAscent(),e=a.getPreciseDescent(),f=3.141592653589793*d/180,h=Math.cos(f),e*=Math.cos(1.5707963267948966-f),h*=c,new b.com_ibm_vis_geom_Point(Math.round(e),Math.round(h))):new b.com_ibm_vis_geom_Point(0,Math.round(a.getPreciseAscent()))};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.sh$2=function(a){b.com_ibm_rave_codegenerator_util_BasicFactory.sortList(a,
new b.com_ibm_vis_engine_internal_util_TextApproxHeightComparator)};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.id$2=function(a,b){return a.x>=b.x&&a.x<=b.x+b.wt_3||a.y>=b.y&&a.y<=b.y+b.hh_2?!1:!0};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.ge$19=function(a,d){var c=Math.floor(d.x),c=c-1,e=Math.floor(d.y),e=e-Number.valueOf(b.com_ibm_rave_codegenerator_lang_Long.fromNumber(1).add(Math.round(a.getPreciseAscent()))),f=Math.ceil(a.getPreciseHeight()),
h=Math.ceil(a.getWidth());return new b.com_ibm_vis_geom_Rect(c,e,h+1,f+1)};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.id$3=function(a){return new b.com_ibm_vis_geom_Rect(a.x-2,a.y-2,a.wt_3+4,a.hh_2+4)};b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.II_1=2;b.com_ibm_vis_engine_internal_grammar_layout_cloud_spiral_SpiralLayoutAlgorithm.MO_1=1.1;b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,
{ce_23:!1,cx:0,cy:0,ru_3:0,we_3:0,we_4:0,constructor:function(a){this.fl_5=a.getSpec().from.$ref;this.tl_3=a.getSpec().to.$ref;this.sl_7=null==a.getSpec().size?null:a.getSpec().size.$ref;this.sa_4=new b.com_ibm_rave_codegenerator_util_HashMap;this.ce_23=a.getSpec().combineCategories},respectsTransforms:function(){return!1},makeElementShapes:function(a,d){this.se$10(d);var c,e,f=new b.com_ibm_rave_codegenerator_util_List;if(this.ce_23){var h=this.buildCombinedSpans(-3.141592653589793,3.141592653589793,
a);this.ac$6(h,f);c=this.gn$6(h,"from");e=this.gn$6(h,"to")}else c=this.bn$2(this.fl_5,-1.5707963267948966,-4.71238898038469,a,"from"),e=this.bn$2(this.tl_3,-1.5707963267948966,1.5707963267948966,a,"to"),this.ac$6(c,f),this.ac$6(e,f);for(var h=new b.com_ibm_rave_codegenerator_util_NumericMap,l=0,m=e.length;l<m;++l){var p=e[l];h.put(p.toValue,p)}m=0;p=this.adapter.getAllFieldValuesAsNumeric(this.tl_3);e=Array(a);for(var q=b.com_ibm_rave_codegenerator_lang_Array.create([a],0),r=0,t=c.length;r<t;++r)for(var w=
c[r],x=w.getSortedRows(p),y=0,z=x.length;y<z;++y){var l=x[y],C=h.get(p[l]),E=this.gh$4(l),F=w.getChordRange(E),C=C.getChordRange(E),F=this.mp$3(F,C,l);e[m]=F;q[m]=-E;m++}c=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(q);for(l=0;l<c.length;++l)(F=e[c[l]])&&f.add(F);return f},gn$6:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_List,e=0,f=a.length;e<f;++e){var h=a[e];("from"==d&&h.fromRows||"to"==d&&h.toRows)&&c.add(h)}return c.toArray(Array(c.size()))},se$10:function(a){var d=
a.getMin()/2;this.cx=a.wt_2/2;this.cy=a.hh_1/2;a=Math.min(20,d/2);var c=this.adapter.getTargetedStyle("arc");c&&(c=b.com_ibm_vis_engine_internal_grammar_units_UnitConverter.convertLength(c.size,a,d),null!=c&&(a=Math.min(c,d-1)));this.we_4=d;this.we_3=this.we_4-a;this.ru_3=this.we_3-3},ac$6:function(a,d){for(var c=0,e=a.length;c<e;++c){var f=a[c],h=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.createWedge(this.cx,this.cy,this.we_3,this.we_4,f.a,f.b);f.isFromValue?h.getA11yInfo().setProperty("chordFrom",
f.getValue()):h.getA11yInfo().setProperty("chordTo",f.getValue());this.sa_4.put(h,f);d.add(h)}},mp$3:function(a,d,c){a=(new b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordBuilder(a.min,a.max,d.min,d.max,this.ru_3)).build();a.affine(1,this.cx,1,this.cy,!1);a.setRow(c);return a},applyLabels:function(a,d,c){var e=this.sa_4.get(a);if(!e)return!1;c=new b.com_ibm_vis_spec_internal_ElementLabelSpec;c.style=this.adapter.getTargetedStyle("arctext");c.style||(c.style=new b.com_ibm_vis_spec_internal_StyleSpec);
c.style.font||(c.style.font=new b.com_ibm_vis_spec_internal_FontSpec,c.style.font.size=Math.min(this.we_4-this.we_3-2,12));c.style.location="outside";c.style.angle="perpendicular";c.content=[e.name];var f=this.adapter.makeLabelShape(c,a),h=this.we_4*Math.min(.2617993877991494,Math.abs(e.b-e.a));if(f&&f.getBounds().wt_3>h){f=Math.floor(e.name.length*h/f.getBounds().wt_3);if(!(2<f))return!0;e=e.name.substring(0,f-2)+"...";c.content=[e];f=this.adapter.makeLabelShape(c,a)}d.addPlaqueAndLabelForShape(a,
f,null,!1,null);return!0},buildCombinedSpans:function(a,d,c){var e=new b.com_ibm_rave_codegenerator_util_NumericMap,f=this.ba$5(this.fl_5,c,e,"from"),h=new b.com_ibm_rave_codegenerator_util_NumericMap,f=f+this.ba$5(this.tl_3,c,h,"to");c=this.cn$14(e,h);e=c.keySet().toArray(Array(c.keySet().size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(e);for(var h=e.length,f=1.05*f,l=.05*(d-a)/h,m=Array(h),p=a+l/2,q=0;q<h;++q){var r=c.get(e[q]),t=r.spanWeight*(d-a)/f;r.setExtent(p,p+t);p+=t+l;
m[q]=r}return m},cn$14:function(a,d){for(var c=new b.com_ibm_rave_codegenerator_util_Map,e=0,f=a.values().arrayIterator(),h=f.length;e<h;++e){var l=f[e];c.put(l.name,l)}e=0;f=d.values().arrayIterator();for(h=f.length;e<h;++e)if(l=f[e],c.keySet().contains(l.name)){var m=this.fa$1(c,l.name);m.toRows=l.toRows;m.toValue=l.toValue;m.spanWeight+=l.spanWeight}else c.put(l.name,l);return c},fa$1:function(a,b){for(var c=0,e=a.values().arrayIterator(),f=e.length;c<f;++c){var h=e[c];if(b==h.name)return h}return null},
bn$2:function(a,d,c,e,f){var h=new b.com_ibm_rave_codegenerator_util_NumericMap;f=this.ba$5(a,e,h,f);a=b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.ge$18(h.keySet());e=a.length;f*=1.05;for(var l=.05*(c-d)/e,m=Array(e),p=d+l/2,q=0;q<e;++q){var r=h.get(a[q]),t=r.spanWeight*(c-d)/f;r.setExtent(p,p+t);p+=t+l;m[q]=r}return m},ba$5:function(a,d,c,e){for(var f=0,h=0;h<d;++h){var l=this.adapter.getFieldNumericValue(a,h),m=this.gh$4(h);if(l==l&&0<m){var p=c.get(l);p||(p=this.adapter.getFieldStringValue(a,
h),p=new b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordSpan(p,l,e),c.put(l,p));p.addChord(h,m,e);f+=m}}return f},gh$4:function(a){if(null==this.sl_7)return 1;a=this.adapter.getFieldNumericValue(this.sl_7,a);return a!=a?0:a}});b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.ge$18=function(a){a=a.toArray(Array(a.size()));b.com_ibm_rave_codegenerator_util_BasicFactory.sortArray(a);return a};b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.GO_1=.05;b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.AL_2=
"arc";b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.AL_1="arctext";b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.FROM="from";b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordLayout.TO="to";b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordBuilder=b.com_ibm_init_declare({a1:0,a2:0,a3:0,a4:0,r:0,constructor:function(a,d,c,e,f){this.a1=a;this.a2=d;this.a3=c;this.a4=e;this.r=f;this.xx=new b.com_ibm_rave_codegenerator_util_List;this.yy=new b.com_ibm_rave_codegenerator_util_List;
this.type=new b.com_ibm_rave_codegenerator_util_List},ar$5:function(a,b,c){var e=Math.abs(b-c);if(!(.001>a||.001>e)){e=Math.ceil((e-.01)/1.5707963267948966);1>e&&(e=1);4<e&&(e=4);for(var f=(b-c)/(2*e),h=Math.cos(f),l=Math.sin(f),h=[[(4-h)/3,(1-h)*(3-h)/(3*l)],[(4-h)/3,-(1-h)*(3-h)/(3*l)],[h,-l]],l=0;l<e;++l){for(var m=Math.cos(f-b),p=Math.sin(f-b),q=0;3>q;++q){var r,t;l==e-1&&2==q?(r=a*Math.cos(c),t=a*Math.sin(c)):(r=a*(m*h[q][0]+p*h[q][1]),t=a*(-p*h[q][0]+m*h[q][1]));this.ar$6(0==q?67:44,r,t)}b-=
2*f}}},ar$6:function(a,b,c){this.type.add(a);this.xx.add(b);this.yy.add(c)},build:function(){this.ar$6(77,this.r*Math.cos(this.a1),this.r*Math.sin(this.a1));this.ar$5(this.r,this.a1,this.a2);this.ar$6(81,0,0);this.ar$6(44,this.r*Math.cos(this.a3),this.r*Math.sin(this.a3));this.ar$5(this.r,this.a3,this.a4);this.ar$6(81,0,0);this.ar$6(44,this.r*Math.cos(this.a1),this.r*Math.sin(this.a1));this.ar$6(90,0,0);for(var a=b.com_ibm_rave_codegenerator_lang_Array.create([this.type.size()],0),d=0;d<a.length;++d)a[d]=
this.type.get(d);return new b.com_ibm_vis_engine_internal_struct_Path(this.xx.toArray(),this.yy.toArray(),!0,a)}});b.com_ibm_vis_engine_internal_grammar_layout_chord_ChordSpan=b.com_ibm_init_declare({a:0,b:0,spanWeight:0,fromValue:0,toValue:0,isFromValue:!1,aW_1:0,constructor:function(a,d,c){this.name=a;"from"==c?(this.fromValue=d,this.fromRows=new b.com_ibm_rave_codegenerator_util_List,this.isFromValue=!0):(this.toValue=d,this.toRows=new b.com_ibm_rave_codegenerator_util_List,this.isFromValue=!1)},
getChordRange:function(a){var d=new b.com_ibm_vis_engine_internal_data_Range(this.a+(this.b-this.a)*this.aW_1/this.spanWeight,this.a+(this.b-this.a)*(this.aW_1+a)/this.spanWeight);this.aW_1+=a;return d},setExtent:function(a,b){this.a=a;this.b=b},getSortedRows:function(a){for(var d=this.fromRows.size(),c=b.com_ibm_rave_codegenerator_lang_Array.create([d],0),e=0;e<d;++e)c[e]=a[this.fromRows.get(e)];a=b.com_ibm_rave_codegenerator_util_BasicFactory.makeSortOrder(c);for(e=0;e<d;++e)a[e]=this.fromRows.get(a[e]);
return a},addChord:function(a,b,c){"from"==c?this.fromRows.add(a):this.toRows.add(a);this.spanWeight+=b},getValue:function(){return this.isFromValue?this.fromValue:this.toValue},isFrom:function(){return this.isFromValue}});b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout=b.com_ibm_init_declare(b.com_ibm_vis_engine_internal_grammar_layout_Layout,{constructor:function(a){this.dl_3=a.getSpec().date.$ref;var d=a.getFieldUnit(this.dl_3);if(!d||d.getMatchingLevel(b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE)!=
b.com_ibm_vis_engine_internal_grammar_units_UnitMatchingCodes.UNIT_MATCH)throw new b.com_ibm_vis_exceptions_internal_SpecException("Calendar layout requires a field with unit\x3ddate for the positioning.date attribute",b.com_ibm_vis_exceptions_ErrorCode.SPEC_INVALID_PARAMETERS);this.me_5=new b.com_ibm_vis_spec_internal_ElementLabelSpec;this.me_5.style=new b.com_ibm_vis_spec_internal_StyleSpec;d=a.getTargetedStyle("month");this.populateLabelSpec(this.me_5.style,d,!0);this.de_12=new b.com_ibm_vis_spec_internal_ElementLabelSpec;
this.de_12.style=new b.com_ibm_vis_spec_internal_StyleSpec;d=a.getTargetedStyle("dayOfWeek");this.populateLabelSpec(this.de_12.style,d,!1);this.sl_6=new b.com_ibm_vis_spec_internal_StyleSpec;a=a.getTargetedStyle("separator");this.populateSeparatorSpec(this.sl_6,a);this.ne_10=null;this.nonElementShapeSet=new b.com_ibm_rave_codegenerator_util_HashSet},populateLabelSpec:function(a,d,c){a.location="outside";a.align=c?"middle":"end";a.valign="middle";a.font=new b.com_ibm_vis_spec_internal_FontSpec;a.padding=
new b.com_ibm_vis_spec_internal_PaddingSpec;c?(c=this.adapter.getElementSize().hh_1,a.padding.top=c,a.padding.bottom=c):(c=this.adapter.getElementSize().wt_2,a.padding.left=c,a.padding.right=c);d&&(null!=d.fill&&(a.fill=d.fill),d.font&&(a.font=d.font),null!=d.padding&&(a.padding=d.padding),d.effect&&(a.effect=d.effect),d.accessibility&&(a.accessibility=d.accessibility))},populateSeparatorSpec:function(a,d){a.stroke=new b.com_ibm_vis_spec_internal_StrokeSpec;a.stroke.width=1;var c=this.adapter.getElementSize().wt_2;
a.padding=new b.com_ibm_vis_spec_internal_PaddingSpec;a.padding.left=c;a.padding.right=c;a.symbol="line";d&&(null!=d.fill&&(a.fill=d.fill),d.stroke&&(a.stroke=d.stroke),null!=d.padding&&(a.padding=d.padding),null!=d.outline&&(a.outline=d.outline),null!=d.size&&(a.size=d.size),null!=d.width&&(a.width=d.width),d.accessibility&&(a.accessibility=d.accessibility),null!=d.symbol&&b.com_ibm_rave_codegenerator_util_BasicFactory.isString(d.symbol)&&"elbow"==d.symbol&&(a.symbol=d.symbol))},needsAestheticsPreApplied:function(){return!1},
respectsTransforms:function(){return!1},applyStyles:function(a){return!a.getRows()&&!this.nonElementShapeSet.contains(a)},getPreferredSize:function(a){a=this.adapter.getElementSize();var d=this.computeSeparatorGap(b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.DZ_5),c=this.computeYearGap(b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.DZ_5),e=this.computeDayOfWeekGap(b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.DZ_5),f=Math.round(1*
this.adapter.getElementSize().hh_1);b.com_ibm_rave_codegenerator_util_BasicFactory.isNumber(this.de_12.style.font.size)&&(this.de_12.style.font.size=Math.min(f,this.de_12.style.font.size),this.de_12.style.font.setCachedObject(null));var f=this.adapter.getFieldRange(this.dl_3),h=this.adapter.getFieldTimeZone(this.dl_3),f=b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.expandRangeToMonthBoundaries(f,h),l=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(f.min,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE,
h),h=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(f.max,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE,h),h=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getYear(h)-b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getYear(l),c=(h+1)*(7+c)-c/2,f=365.25<f.range||0<h?365.25:f.range,d=f/7*1+11*f/365.25*d+e,e=this.adapter.getPadding(b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(0,0,a.wt_2,a.hh_1),b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.DZ_5);
a=new b.com_ibm_vis_geom_Dim(a.wt_2+e.getHorizontal(),a.hh_1+e.getVertical());return new b.com_ibm_vis_geom_Dim(d*a.getMin(),c*a.getMin())},computeSeparatorGap:function(a){var d=this.adapter.getElementSize();return b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.sl_6.padding,new b.com_ibm_vis_geom_Dim(d.wt_2,d.hh_1),a).getHorizontal()/d.wt_2},computeYearGap:function(a){var d=this.adapter.getElementSize();a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.me_5.style.padding,
new b.com_ibm_vis_geom_Dim(d.wt_2,d.hh_1),a);var c=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(this.me_5.style.font,this.adapter.getVisContext().getMinimumFontSize(),this.adapter.getVisContext().uc_1).getHeight();return(a.getVertical()+c)/d.hh_1},computeDayOfWeekGap:function(a){var d=this.adapter.getElementSize();a=b.com_ibm_vis_engine_internal_struct_Insets.makeForStylePadding(this.de_12.style.padding,new b.com_ibm_vis_geom_Dim(d.wt_2,d.hh_1),a);var c=b.com_ibm_vis_engine_internal_scene_FontHelper.makeFromSpec$1(this.de_12.style.font,
this.adapter.getVisContext().getMinimumFontSize(),this.adapter.getVisContext().uc_1),c=c.getWidth(b.com_ibm_vis_engine_internal_struct_Text.createTextWithShapedValue("W",0,0,"end","middle",c,this.de_12.style,null,"...",d,!1));return(a.getHorizontal()+c)/d.wt_2},makeElementShapes:function(a,d){var c=this.computeSeparatorGap(d),e=this.computeYearGap(d),f=this.computeDayOfWeekGap(d),h=this.adapter.getFieldRange(this.dl_3),l=this.adapter.getFieldTimeZone(this.dl_3),h=b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.expandRangeToMonthBoundaries(h,
l),m=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(h.min,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE,l),p=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(h.max,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE,l);0<b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getYear(p)-b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getYear(m)&&b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.floorToUnitMultiple(m,b.com_ibm_vis_engine_internal_grammar_units_Unit.YEAR,
1);var q=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getMonth(m),r=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getYear(m),p=r,t=e/2,w=f,x=Math.floor(b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(m,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE)+.1),y=Math.ceil(h.max-.1),z=Array(y-x+1),C=b.com_ibm_rave_codegenerator_lang_Array.create([y-x+1],0),E=new b.com_ibm_rave_codegenerator_util_List,F=b.com_ibm_rave_codegenerator_lang_Array.create([12],
0),H=b.com_ibm_rave_codegenerator_lang_Array.create([12],0),A=new b.com_ibm_rave_codegenerator_util_List;A.add(t);for(var J=new b.com_ibm_vis_engine_internal_data_Range(0,0),M=0,B=!1,K=0;K<=y-x;++K){z[K]=new b.com_ibm_vis_geom_Point(w,t+1*b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.da$2(m));var N=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(m,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE)>=h.min;N?(F[q-1]++,H[q-1]+=z[K].x+.5,J=J.unionValue(z[K].x),
J=J.unionValue(z[K].x+1),M=Math.max(M,z[K].y+1),C[K]=2):C[K]=0;b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(m,b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY,1);var L=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getYear(m),P=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getMonth(m);0==b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.da$2(m)&&(w+=1);L!=r?(w=f,t+=7+e,A.add(t),r=L,q=P,B=!0):P!=q&&(N&&(B=!1,E.add([z[K].x+1+c/
2,t,z[K].y+1])),w+=c,q=P)}B?A.removeAt(A.size()-1):E.removeAt(E.size()-1);c=Math.min(d.wt_2/J.range,d.hh_1/M);e=-(d.wt_2*J.min)/J.range;f=new b.com_ibm_rave_codegenerator_util_List;for(K=0;K<a;++K)L=this.adapter.getFieldNumericValue(this.dl_3,K),null==L||L<h.min||L>h.max||(L=Math.floor(L-x),C[L]=1,L=z[L],m=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(e+L.x*c,L.y*c,1*c,1*c),L=m.getGeom(),m=this.adapter.getPadding(m,d),L=m.insetRect(L),L=this.adapter.makeItemInRect(L,K),f.add(L));this.ne_10=
new b.com_ibm_rave_codegenerator_util_List;this.nonElementShapeSet=new b.com_ibm_rave_codegenerator_util_HashSet;for(K=0;K<=y-x;++K)2==C[K]&&(L=z[K],m=b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateRect(e+L.x*c,L.y*c,1*c,1*c),L=m.getGeom(),m=this.adapter.getPadding(m,d),L=m.insetRect(L),L=this.adapter.makeDummyItemInRect(L),b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(L,this.adapter.getStyle()),this.ne_10.add(L),this.nonElementShapeSet.add(L));if(null!=this.sl_6.fill)if("line"==
this.sl_6.symbol)for(K=0;K<E.size();++K)J=E.get(K),L=e+c*J[0],x=e+c*(J[0]-1),y=c*J[1],z=c*(J[2]-.5),C=c*(J[2]+.5),J=c*(J[1]+7),C>J&&(x=L,C=J),L=new b.com_ibm_vis_engine_internal_struct_ShapePoly([L,L,x,x],[y,z,C,J],!1,null),this.sl_6&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(L,this.sl_6),this.ne_10.add(L);else if("elbow"==this.sl_6.symbol)for(K=0;K<E.size();++K)J=E.get(K),L=e+c*J[0],x=e+c*(J[0]-1),m=e+c*(J[0]-.5),y=c*J[1],z=c*(J[2]-.5),C=c*(J[2]+.5),J=c*(J[1]+7),C>J&&(m=x=L,C=J),
L=new b.com_ibm_vis_engine_internal_struct_ShapePoly([L,L,m,m,x,x],[y,z,z,C,C,J],!1,null),this.sl_6&&b.com_ibm_vis_engine_internal_scene_StyleBuilder.setFilled(L,this.sl_6),this.ne_10.add(L);for(E=0;E<A.size();++E){L=c*(A.get(E)-1);x=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.makeDateTime(1970,1,5,12,0,0);for(K=0;7>K;++K)y=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getFormattedDate(x,"EEE",this.adapter.getVisContext().ll_3).substring(0,1),this.de_12.content=[y],(y=
this.adapter.makeLabelShape(this.de_12,b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(0,c*(A.get(E)+1*(K+.5)),1)))&&this.ne_10.add(y),b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(x,b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY,1);for(K=0;12>K;++K)0<F[K]&&(x=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.makeDateTime(p+E,K+1,15,12,0,0),y=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(x,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE),
y>h.max||y<h.min||(x=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.formatDate(x,b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH,null,this.adapter.getVisContext().ll_3,l),y=e+c*H[K]/F[K],this.me_5.content=[x],(y=this.adapter.makeLabelShape(this.me_5,b.com_ibm_vis_engine_internal_struct_ShapeFactory2.CreateCircle(y,L,1)))&&this.ne_10.add(y)))}return f},makeNonElementShapes:function(a){if(!this.ne_10)throw new b.com_ibm_vis_exceptions_internal_EngineException("In CalendarLayout, makeElementShapes was not called before makeNonElementShapes",
b.com_ibm_vis_exceptions_ErrorCode.ENGINE_UNSUPPORTED_OPERATION);return this.ne_10}});b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.expandRangeToMonthBoundaries=function(a,d){var c=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(a.min,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE,d),e=b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.toDate(a.max,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE,d);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.floorToUnitMultiple(c,
b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH,1);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.floorToUnitMultiple(e,b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH,1);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(e,b.com_ibm_vis_engine_internal_grammar_units_Unit.MONTH,1);b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.increment(e,b.com_ibm_vis_engine_internal_grammar_units_Unit.DAY,-1);return new b.com_ibm_vis_engine_internal_data_Range(b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(c,
b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE),b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.fromDateObject(e,b.com_ibm_vis_engine_internal_grammar_units_Unit.DATE))};b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.da$2=function(a){return(b.com_ibm_vis_engine_internal_nativeImpl_DateUtil.INSTANCE.getDayOfWeek(a)+6)%7};b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.DAY_OF_WEEK_STYLE="dayOfWeek";b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.MONTH_STYLE=
"month";b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.SEPARATOR_STYLE="separator";b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.SA_1=1;b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_internal_grammar_layout_calendar_CalendarLayout.DZ_5=new b.com_ibm_vis_geom_Dim(800,400)});b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate=b.com_ibm_init_declare({constructor:function(){this.de_11=new b.com_ibm_rave_codegenerator_util_Map},register:function(a){if(a){var d=
a.getDiagramIDList();if(!d)throw new b.com_ibm_vis_exceptions_internal_EngineException(b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NO_2,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION);for(var c=0,e=d.length;c<e;++c){var f=d[c];if(null==f)throw new b.com_ibm_vis_exceptions_internal_EngineException(b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NO_1,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION);this.de_11.put(f,a)}}},unregister:function(a){if(a){a=
a.getDiagramIDList();if(!a)throw new b.com_ibm_vis_exceptions_internal_EngineException(b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NO_2,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION);for(var d=!1,c=0,e=a.length;c<e;++c){var f=a[c];null==f&&(d=!0);this.de_11.remove(f)}if(d)throw new b.com_ibm_vis_exceptions_internal_EngineException(b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NO_1,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION);
}},getDiagram:function(a){var d=this.de_11.get(a);if(!d){var c=b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.BE_2+a+"'";throw new b.com_ibm_vis_exceptions_internal_SpecException(c,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_NOT_FOUND,a);}try{var e=d.getDiagram(a);if(!e)throw c=b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NA_2+a+"'",new b.com_ibm_vis_exceptions_internal_EngineException(c,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION);return e}catch(f){if(b.com_ibm_rave_codegenerator_lang_Object.isInstanceOf(f,
Error))throw c=b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.DO_11+f.getMessage()+b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.FE_3+a+"'",new b.com_ibm_vis_exceptions_internal_EngineException(c,b.com_ibm_vis_exceptions_ErrorCode.EXTENSION_POINT_EXCEPTION);throw f;}},supports:function(a){return this.de_11.containsKey(a)}});b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.getInstance=function(){return b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.IC_7};
b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NA_2="The DiagramFactory returned null for id '";b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.FE_3="' for provider id '";b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.DO_11="The DiagramFactory threw exception '";b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.ET_3="'";b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.BE_2="No registered DiagramFactory found for providerID '";
b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NO_1="A DiagramFactory returned a null ID";b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.NO_2="A DiagramFactory returned a null list of IDs";b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.IC_7=new b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate});b.com_ibm_vis_engine_diagramService_DiagramFactory=b.com_ibm_init_declare.implement({getDiagramIDList:function(){},
getDiagram:function(a){}});b.com_ibm_vis_engine_diagramService_Diagram=b.com_ibm_init_declare({connector:null,initialize:function(a){this.connector=a},calculatePreferredSize:function(){},build:function(a){},connectsExistingShapes:function(){}});b.com_ibm_vis_engine_diagramService_DiagramService=b.com_ibm_init_declare({constructor:function(){this.delegate=b.com_ibm_vis_engine_diagramService_internal_DiagramServiceDelegate.getInstance()},registerFactory:function(a){this.delegate.register(a)},unregisterFactory:function(a){this.delegate.unregister(a)}});
b.com_ibm_vis_engine_diagramService_DiagramService.getInstance=function(){return b.com_ibm_vis_engine_diagramService_DiagramService.IC_6};b.com_ibm_init_statics.add(function(){b.com_ibm_vis_engine_diagramService_DiagramService.IC_6=new b.com_ibm_vis_engine_diagramService_DiagramService});b.com_ibm_init_statics.initialize()});if("function"===typeof f&&f.amd){var ka=function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/layoutsLayer")},$=function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/migrationLayer")},
ia=function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/advancedAccessibility")},ga=function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/interactionLayer")},ca=function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/templateLayer")},ra=function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/dataProviderLayer")};f("com/ibm/rave/codegenerator/lang/Object",function(){return b.com_ibm_rave_codegenerator_lang_Object});f("com/ibm/rave/codegenerator/lang/Array",function(){return b.com_ibm_rave_codegenerator_lang_Array});
f("com/ibm/init/statics",function(){return b.com_ibm_init_statics});f("com/ibm/rave/codegenerator/lang/Character",function(){return b.com_ibm_rave_codegenerator_lang_Character});f("com/ibm/rave/codegenerator/lang/Error",function(){return b.com_ibm_rave_codegenerator_lang_Error});f("com/ibm/rave/codegenerator/lang/String",function(){return b.com_ibm_rave_codegenerator_lang_String});f("com/ibm/rave/codegenerator/lang/Double",function(){return b.com_ibm_rave_codegenerator_lang_Double});f("com/ibm/rave/codegenerator/lang/Integer",
function(){return b.com_ibm_rave_codegenerator_lang_Integer});f("com/ibm/rave/codegenerator/lang/Number",function(){return b.com_ibm_rave_codegenerator_lang_Number});f("com/ibm/rave/codegenerator/lang/Math",function(){return b.com_ibm_rave_codegenerator_lang_Math});f("com/ibm/init/ready",function(){return b.com_ibm_init_ready});f("com/ibm/rave/codegenerator/util/Arrays",function(){return b.com_ibm_rave_codegenerator_util_Arrays});f("com/ibm/init/xhr",function(){return b.com_ibm_init_xhr});f("com/ibm/init/resolver",
function(){return b.com_ibm_init_resolver});f("com/ibm/vis/widget/Environment",function(){return b.com_ibm_vis_widget_Environment});f("com/ibm/vis/engine/internal/nativeImpl/LocaleUtil",function(){return b.com_ibm_vis_engine_internal_nativeImpl_LocaleUtil});f("com/ibm/rave/codegenerator/lang/System",function(){return b.com_ibm_rave_codegenerator_lang_System});f("com/ibm/init/declare",function(){return b.com_ibm_init_declare});f("com/ibm/rave/codegenerator/io/WebEngineException",function(){return b.com_ibm_rave_codegenerator_io_WebEngineException});
f("com/ibm/rave/codegenerator/util/Iterator",function(){return b.com_ibm_rave_codegenerator_util_Iterator});f("com/ibm/rave/codegenerator/util/ListIterator",function(){return b.com_ibm_rave_codegenerator_util_ListIterator});f("com/ibm/rave/codegenerator/util/List",function(){return b.com_ibm_rave_codegenerator_util_List});f("com/ibm/rave/codegenerator/util/BasicFactory",function(){return b.com_ibm_rave_codegenerator_util_BasicFactory});f("com/ibm/rave/codegenerator/util/Set",function(){return b.com_ibm_rave_codegenerator_util_Set});
f("com/ibm/rave/codegenerator/util/HashSet",function(){return b.com_ibm_rave_codegenerator_util_HashSet});f("com/ibm/rave/codegenerator/util/HashMapIterator",function(){return b.com_ibm_rave_codegenerator_util_HashMapIterator});f("com/ibm/rave/codegenerator/util/HashMapEntryIterator",function(){return b.com_ibm_rave_codegenerator_util_HashMapEntryIterator});f("com/ibm/rave/codegenerator/util/HashMapKeyIterator",function(){return b.com_ibm_rave_codegenerator_util_HashMapKeyIterator});f("com/ibm/rave/codegenerator/util/HashMapValueIterator",
function(){return b.com_ibm_rave_codegenerator_util_HashMapValueIterator});f("com/ibm/rave/codegenerator/util/MapIterator",function(){return b.com_ibm_rave_codegenerator_util_MapIterator});f("com/ibm/rave/codegenerator/util/MapEntryIterator",function(){return b.com_ibm_rave_codegenerator_util_MapEntryIterator});f("com/ibm/rave/codegenerator/util/MapKeyIterator",function(){return b.com_ibm_rave_codegenerator_util_MapKeyIterator});f("com/ibm/rave/codegenerator/util/MapValueIterator",function(){return b.com_ibm_rave_codegenerator_util_MapValueIterator});
f("com/ibm/rave/codegenerator/util/Map",function(){return b.com_ibm_rave_codegenerator_util_Map});f("com/ibm/rave/codegenerator/util/HashMap",function(){return b.com_ibm_rave_codegenerator_util_HashMap});f("com/ibm/vis/exceptions/VisException",function(){return b.com_ibm_vis_exceptions_VisException});f("com/ibm/vis/exceptions/internal/SpecException",function(){return b.com_ibm_vis_exceptions_internal_SpecException});f("com/ibm/rave/codegenerator/lang/Enum",function(){return b.com_ibm_rave_codegenerator_lang_Enum});
f("com/ibm/vis/exceptions/ErrorCode",function(){return b.com_ibm_vis_exceptions_ErrorCode});f("com/ibm/vis/exceptions/ErrorCodeDescriptions",function(){return b.com_ibm_vis_exceptions_ErrorCodeDescriptions});f("com/ibm/rave/codegenerator/lang/Long",function(){return b.com_ibm_rave_codegenerator_lang_Long});f("com/ibm/rave/codegenerator/IncludeLayer",function(){return b.com_ibm_rave_codegenerator_IncludeLayer});f("com/ibm/vis/interaction/SceneItemTypes",function(){return b.com_ibm_vis_interaction_SceneItemTypes});
f("com/ibm/vis/interaction/internal/util/PipelineUtil",function(){return b.com_ibm_vis_interaction_internal_util_PipelineUtil});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableType",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableType});f("com/ibm/vis/scenetree/provisional/serialize/json/JSONSerializer",function(){return b.com_ibm_vis_scenetree_provisional_serialize_json_JSONSerializer});f("com/ibm/vis/scenetree/provisional/serialize/json/JSONDeSerializer",
function(){return b.com_ibm_vis_scenetree_provisional_serialize_json_JSONDeSerializer});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableArtifact",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArtifact});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableComposite",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableComposite});f("com/ibm/rave/codegenerator/util/LinkedMap",function(){return b.com_ibm_rave_codegenerator_util_LinkedMap});
f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializablePrimitive",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitive});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableEmptyComposite",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableEmptyComposite});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializablePrimitiveArray",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializablePrimitiveArray});
f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableStringMap",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringMap});f("com/ibm/vis/engine/NumberFormatter",function(){return b.com_ibm_vis_engine_NumberFormatter});f("com/ibm/vis/engine/LocalizedNumberFormatter",function(){return b.com_ibm_vis_engine_LocalizedNumberFormatter});f("com/ibm/vis/engine/StringFormatter",function(){return b.com_ibm_vis_engine_StringFormatter});f("com/ibm/vis/engine/DateFormatter",
function(){return b.com_ibm_vis_engine_DateFormatter});f("com/ibm/vis/engine/LocalizedDateFormatter",function(){return b.com_ibm_vis_engine_LocalizedDateFormatter});f("com/ibm/vis/engine/DataFormatter",function(){return b.com_ibm_vis_engine_DataFormatter});f("com/ibm/vis/interaction/ChangeEffects",function(){return b.com_ibm_vis_interaction_ChangeEffects});f("com/ibm/vis/engine/LocalizationSettings",function(){return b.com_ibm_vis_engine_LocalizationSettings});f("com/ibm/vis/interaction/events/RaveEvent",
function(){return b.com_ibm_vis_interaction_events_RaveEvent});f("com/ibm/vis/interaction/events/EffectEndEvent",function(){return b.com_ibm_vis_interaction_events_EffectEndEvent});f("com/ibm/vis/interaction/events/EffectStartEvent",function(){return b.com_ibm_vis_interaction_events_EffectStartEvent});f("com/ibm/vis/interaction/events/SpecChangeEvent",function(){return b.com_ibm_vis_interaction_events_SpecChangeEvent});f("com/ibm/vis/interaction/events/VisControlBeingDestroyedEvent",function(){return b.com_ibm_vis_interaction_events_VisControlBeingDestroyedEvent});
f("com/ibm/vis/interaction/events/VisControlDestroyEvent",function(){return b.com_ibm_vis_interaction_events_VisControlDestroyEvent});f("com/ibm/vis/interaction/events/VisControlStartupEvent",function(){return b.com_ibm_vis_interaction_events_VisControlStartupEvent});f("com/ibm/vis/interaction/events/VisualizationReadyEvent",function(){return b.com_ibm_vis_interaction_events_VisualizationReadyEvent});f("com/ibm/vis/interaction/events/VisualizationRenderEvent",function(){return b.com_ibm_vis_interaction_events_VisualizationRenderEvent});
f("com/ibm/vis/interaction/events/InteractivityEvent",function(){return b.com_ibm_vis_interaction_events_InteractivityEvent});f("com/ibm/vis/interaction/events/RaveListener",function(){return b.com_ibm_vis_interaction_events_RaveListener});f("com/ibm/vis/monitor/LogComponent",function(){return b.com_ibm_vis_monitor_LogComponent});f("com/ibm/vis/monitor/LogEntry",function(){return b.com_ibm_vis_monitor_LogEntry});f("com/ibm/vis/monitor/LogLevel",function(){return b.com_ibm_vis_monitor_LogLevel});f("com/ibm/vis/monitor/LogListener",
function(){return b.com_ibm_vis_monitor_LogListener});f("com/ibm/vis/monitor/Logger",function(){return b.com_ibm_vis_monitor_Logger});f("com/ibm/vis/engine/internal/nativeImpl/NativeTextMeasure",function(){return b.com_ibm_vis_engine_internal_nativeImpl_NativeTextMeasure});f("com/ibm/init/requireSync",function(){return b.com_ibm_init_requireSync});f("com/ibm/vis/exceptions/internal/EngineException",function(){return b.com_ibm_vis_exceptions_internal_EngineException});f("com/ibm/vis/scenetree/provisional/serialize/IRaveSerializable",
function(){return b.com_ibm_vis_scenetree_provisional_serialize_IRaveSerializable});f("com/ibm/vis/geom/Geom",function(){return b.com_ibm_vis_geom_Geom});f("com/ibm/vis/geom/BasicGeom",function(){return b.com_ibm_vis_geom_BasicGeom});f("com/ibm/vis/geom/Point",function(){return b.com_ibm_vis_geom_Point});f("com/ibm/vis/geom/Line",function(){return b.com_ibm_vis_geom_Line});f("com/ibm/vis/geom/CompositeGeom",function(){return b.com_ibm_vis_geom_CompositeGeom});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableArray",
function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableArray});f("com/ibm/vis/geom/Rect",function(){return b.com_ibm_vis_geom_Rect});f("com/ibm/vis/geom/Dim",function(){return b.com_ibm_vis_geom_Dim});f("com/ibm/vis/geom/Circle",function(){return b.com_ibm_vis_geom_Circle});f("com/ibm/vis/geom/Poly",function(){return b.com_ibm_vis_geom_Poly});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableDoubleArray",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableDoubleArray});
f("com/ibm/vis/geom/NonBasicGeom",function(){return b.com_ibm_vis_geom_NonBasicGeom});f("com/ibm/vis/geom/Curve",function(){return b.com_ibm_vis_geom_Curve});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableObject",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableObject});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableBooleanArray",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableBooleanArray});
f("com/ibm/vis/geom/RoundedRect",function(){return b.com_ibm_vis_geom_RoundedRect});f("com/ibm/vis/geom/Wedge",function(){return b.com_ibm_vis_geom_Wedge});f("com/ibm/vis/scenetree/provisional/serialize/RaveSerializationException",function(){return b.com_ibm_vis_scenetree_provisional_serialize_RaveSerializationException});f("com/ibm/vis/geom/GeomFactory",function(){return b.com_ibm_vis_geom_GeomFactory});f("com/ibm/rave/codegenerator/lang/StringBuilder",function(){return b.com_ibm_rave_codegenerator_lang_StringBuilder});
f("com/ibm/vis/scenetree/provisional/ColorProperty",function(){return b.com_ibm_vis_scenetree_provisional_ColorProperty});f("com/ibm/vis/scenetree/provisional/ShapeInfo",function(){return b.com_ibm_vis_scenetree_provisional_ShapeInfo});f("com/ibm/vis/scenetree/provisional/TransformInfo",function(){return b.com_ibm_vis_scenetree_provisional_TransformInfo});f("com/ibm/vis/scenetree/provisional/TransformInfoImpl",function(){return b.com_ibm_vis_scenetree_provisional_TransformInfoImpl});f("com/ibm/vis/geom/PointTransform",
function(){return b.com_ibm_vis_geom_PointTransform});f("com/ibm/vis/scenetree/provisional/SceneNode",function(){return b.com_ibm_vis_scenetree_provisional_SceneNode});f("com/ibm/vis/scenetree/provisional/SceneNodeClassId",function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeClassId});f("com/ibm/vis/scenetree/provisional/StyleInfo",function(){return b.com_ibm_vis_scenetree_provisional_StyleInfo});f("com/ibm/vis/scenetree/provisional/TextInfo",function(){return b.com_ibm_vis_scenetree_provisional_TextInfo});
f("com/ibm/vis/engine/internal/grammar/units/Unit",function(){return b.com_ibm_vis_engine_internal_grammar_units_Unit});f("com/ibm/vis/engine/internal/data/Range",function(){return b.com_ibm_vis_engine_internal_data_Range});f("com/ibm/vis/scenetree/provisional/FillProperty",function(){return b.com_ibm_vis_scenetree_provisional_FillProperty});f("com/ibm/vis/scenetree/provisional/ShapeProperty",function(){return b.com_ibm_vis_scenetree_provisional_ShapeProperty});f("com/ibm/vis/engine/internal/resource/ResourceService",
function(){return b.com_ibm_vis_engine_internal_resource_ResourceService});f("com/ibm/vis/engine/internal/nativeImpl/SpecUtil",function(){return b.com_ibm_vis_engine_internal_nativeImpl_SpecUtil});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableStringArray",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableStringArray});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableCharArray",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableCharArray});
f("com/ibm/vis/scenetree/provisional/FontInfo",function(){return b.com_ibm_vis_scenetree_provisional_FontInfo});f("com/ibm/vis/engine/internal/util/Version",function(){return b.com_ibm_vis_engine_internal_util_Version});f("com/ibm/vis/engine/internal/nativeImpl/ResourceUtil",function(){return b.com_ibm_vis_engine_internal_nativeImpl_ResourceUtil});f("com/ibm/rave/codegenerator/util/NumericMap",function(){return b.com_ibm_rave_codegenerator_util_NumericMap});f("com/ibm/vis/scenetree/provisional/SceneNodeType",
function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeType});f("com/ibm/rave/codegenerator/util/Comparator",function(){return b.com_ibm_rave_codegenerator_util_Comparator});f("com/ibm/vis/engine/internal/nativeImpl/DateUtil",function(){return b.com_ibm_vis_engine_internal_nativeImpl_DateUtil});f("com/ibm/vis/engine/internal/nativeImpl/FormatObject",function(){return b.com_ibm_vis_engine_internal_nativeImpl_FormatObject});f("com/ibm/vis/scenetree/provisional/SceneNodeTypeUtil",function(){return b.com_ibm_vis_scenetree_provisional_SceneNodeTypeUtil});
f("com/ibm/rave/codegenerator/util/Collections",function(){return b.com_ibm_rave_codegenerator_util_Collections});f("com/ibm/vis/scenetree/provisional/ElementInfo",function(){return b.com_ibm_vis_scenetree_provisional_ElementInfo});f("com/ibm/vis/scenetree/provisional/serialize/objects/SerializableIntegerArray",function(){return b.com_ibm_vis_scenetree_provisional_serialize_objects_SerializableIntegerArray});f("com/ibm/vis/scenetree/provisional/FieldInfo",function(){return b.com_ibm_vis_scenetree_provisional_FieldInfo});
f("com/ibm/vis/engine/internal/util/SceneIdUtil",function(){return b.com_ibm_vis_engine_internal_util_SceneIdUtil});f("com/ibm/vis/scenetree/provisional/SceneTree",function(){return b.com_ibm_vis_scenetree_provisional_SceneTree});f("com/ibm/vis/geom/GeomType",function(){return b.com_ibm_vis_geom_GeomType});f("com/ibm/vis/internal/json/Diagnostic",function(){return b.com_ibm_vis_internal_json_Diagnostic});f("com/ibm/vis/engine/internal/asynchronous/AsynchAction",function(){return b.com_ibm_vis_engine_internal_asynchronous_AsynchAction});
f("com/ibm/rave/codegenerator/util/LinkedHashMap",function(){return b.com_ibm_rave_codegenerator_util_LinkedHashMap});f("com/ibm/rave/codegenerator/util/LinkedHashSet",function(){return b.com_ibm_rave_codegenerator_util_LinkedHashSet});f("com/ibm/rave/codegenerator/util/NumericSet",function(){return b.com_ibm_rave_codegenerator_util_NumericSet});f("com/ibm/rave/codegenerator/util/LinkedSet",function(){return b.com_ibm_rave_codegenerator_util_LinkedSet});f("com/ibm/vis/engine/diagramService/TextGeom",
function(){return b.com_ibm_vis_engine_diagramService_TextGeom});f("com/ibm/vis/engine/diagramService/DiagramConnector",function(){return b.com_ibm_vis_engine_diagramService_DiagramConnector});f("com/ibm/vis/engine/configuration/ContrastParameters",function(){return b.com_ibm_vis_engine_configuration_ContrastParameters});f("com/ibm/vis/interaction/events/SceneTreeReadyEvent",function(){return b.com_ibm_vis_interaction_events_SceneTreeReadyEvent});f("com/ibm/vis/engine/configuration/HighContrastState",
function(){return b.com_ibm_vis_engine_configuration_HighContrastState});f("com/ibm/vis/scenetree/internal/SceneNodeJSONSerializer",function(){return b.com_ibm_vis_scenetree_internal_SceneNodeJSONSerializer});f("com/ibm/vis/scenetree/internal/CoreJSONSerializer",function(){return b.com_ibm_vis_scenetree_internal_CoreJSONSerializer});f("com/ibm/vis/engine/internal/asynchronous/AsynchronousService",function(){return b.com_ibm_vis_engine_internal_asynchronous_AsynchronousService});f("com/ibm/vis/widget/VisControlLifecycleListener",
function(){return b.com_ibm_vis_widget_VisControlLifecycleListener});f("com/ibm/vis/widget/VisualizationEventListener",function(){return b.com_ibm_vis_widget_VisualizationEventListener});f("com/ibm/vis/widget/VisControl",function(){return b.com_ibm_vis_widget_VisControl});f("com/ibm/vis/widget/VisWidget",function(){return b.com_ibm_vis_widget_VisWidget});f("com/ibm/vis/widget/VisControlMobile",function(){return b.com_ibm_vis_widget_VisControlMobile});f("com/ibm/vis/widget/VisWidgetMobile",function(){return b.com_ibm_vis_widget_VisWidgetMobile});
f("com/ibm/vis/engine/data/transform/SummaryFunctionService",function(){return b.com_ibm_vis_engine_data_transform_SummaryFunctionService});f("com/ibm/vis/engine/configuration/IVisConfiguration",function(){return b.com_ibm_vis_engine_configuration_IVisConfiguration});f("com/ibm/vis/engine/configuration/VisConfiguration",function(){return b.com_ibm_vis_engine_configuration_VisConfiguration});f("com/ibm/vis/engine/dataProviderService/DataProviderField",function(){ra();return b.com_ibm_vis_engine_dataProviderService_DataProviderField});
f("com/ibm/vis/engine/dataProviderService/DataProviderListener",function(){ra();return b.com_ibm_vis_engine_dataProviderService_DataProviderListener});f("com/ibm/vis/engine/dataProviderService/DataProvider",function(){ra();return b.com_ibm_vis_engine_dataProviderService_DataProvider});f("com/ibm/vis/engine/dataProviderService/DataProviderFactory",function(){ra();return b.com_ibm_vis_engine_dataProviderService_DataProviderFactory});f("com/ibm/vis/engine/dataProviderService/DataProviderService",function(){ra();
return b.com_ibm_vis_engine_dataProviderService_DataProviderService});f("com/ibm/vis/template/Parameter",function(){ca();return b.com_ibm_vis_template_Parameter});f("com/ibm/vis/template/StringParameter",function(){ca();return b.com_ibm_vis_template_StringParameter});f("com/ibm/vis/template/ParameterType",function(){ca();return b.com_ibm_vis_template_ParameterType});f("com/ibm/vis/template/BooleanParameter",function(){ca();return b.com_ibm_vis_template_BooleanParameter});f("com/ibm/vis/template/LongIntegerParameter",
function(){ca();return b.com_ibm_vis_template_LongIntegerParameter});f("com/ibm/vis/template/DoubleParameter",function(){ca();return b.com_ibm_vis_template_DoubleParameter});f("com/ibm/vis/template/LengthParameter",function(){ca();return b.com_ibm_vis_template_LengthParameter});f("com/ibm/vis/template/ravetype/AbstractDataType",function(){ca();return b.com_ibm_vis_template_ravetype_AbstractDataType});f("com/ibm/vis/template/ravetype/RaveLength",function(){ca();return b.com_ibm_vis_template_ravetype_RaveLength});
f("com/ibm/vis/template/ravetype/RaveDataType",function(){ca();return b.com_ibm_vis_template_ravetype_RaveDataType});f("com/ibm/vis/template/ColorParameter",function(){ca();return b.com_ibm_vis_template_ColorParameter});f("com/ibm/vis/template/ravetype/RaveColor",function(){ca();return b.com_ibm_vis_template_ravetype_RaveColor});f("com/ibm/vis/template/CompositeParameter",function(){ca();return b.com_ibm_vis_template_CompositeParameter});f("com/ibm/vis/template/SizeParameter",function(){ca();return b.com_ibm_vis_template_SizeParameter});
f("com/ibm/vis/template/FontParameter",function(){ca();return b.com_ibm_vis_template_FontParameter});f("com/ibm/vis/template/PaletteParameter",function(){ca();return b.com_ibm_vis_template_PaletteParameter});f("com/ibm/vis/template/ColorPaletteParameter",function(){ca();return b.com_ibm_vis_template_ColorPaletteParameter});f("com/ibm/vis/template/StyleByPaletteParameter",function(){ca();return b.com_ibm_vis_template_StyleByPaletteParameter});f("com/ibm/vis/template/ravetype/RaveStyle",function(){ca();
return b.com_ibm_vis_template_ravetype_RaveStyle});f("com/ibm/vis/template/ravetype/RaveGradientFill",function(){ca();return b.com_ibm_vis_template_ravetype_RaveGradientFill});f("com/ibm/vis/template/ravetype/RaveColorOffset",function(){ca();return b.com_ibm_vis_template_ravetype_RaveColorOffset});f("com/ibm/vis/template/parser/JSONPathParser",function(){ca();return b.com_ibm_vis_template_parser_JSONPathParser});f("com/ibm/rave/codegenerator/io/StringReader",function(){ca();return b.com_ibm_rave_codegenerator_io_StringReader});
f("com/ibm/vis/template/parser/JSONPathExpressionParserConstants",function(){ca();return b.com_ibm_vis_template_parser_JSONPathExpressionParserConstants});f("com/ibm/vis/template/parser/JSONPathExpressionParser",function(){ca();return b.com_ibm_vis_template_parser_JSONPathExpressionParser});f("com/ibm/vis/template/parser/ParseException",function(){ca();return b.com_ibm_vis_template_parser_ParseException});f("com/ibm/vis/template/parser/TokenMgrError",function(){ca();return b.com_ibm_vis_template_parser_TokenMgrError});
f("com/ibm/vis/template/parser/JSONMatcher",function(){ca();return b.com_ibm_vis_template_parser_JSONMatcher});f("com/ibm/vis/template/parser/Token",function(){ca();return b.com_ibm_vis_template_parser_Token});f("com/ibm/vis/template/parser/SimpleCharStream",function(){ca();return b.com_ibm_vis_template_parser_SimpleCharStream});f("com/ibm/vis/template/parser/JSONPathExpressionParserTokenManager",function(){ca();return b.com_ibm_vis_template_parser_JSONPathExpressionParserTokenManager});f("com/ibm/vis/template/ParameterResolveOrderComparator",
function(){ca();return b.com_ibm_vis_template_ParameterResolveOrderComparator});f("com/ibm/vis/template/Template",function(){ca();return b.com_ibm_vis_template_Template});f("com/ibm/vis/interaction/MapPanZoomInteractivity",function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/mapLayer");return b.com_ibm_vis_interaction_MapPanZoomInteractivity});f("com/ibm/vis/engine/internal/util/SceneUtil",function(){ga();return b.com_ibm_vis_engine_internal_util_SceneUtil});f("com/ibm/vis/interaction/HighlightRepresentation",
function(){ga();return b.com_ibm_vis_interaction_HighlightRepresentation});f("com/ibm/vis/exp/Selection",function(){ga();return b.com_ibm_vis_exp_Selection});f("com/ibm/vis/interaction/EffectTarget",function(){ga();return b.com_ibm_vis_interaction_EffectTarget});f("com/ibm/vis/interaction/SceneItem",function(){ga();return b.com_ibm_vis_interaction_SceneItem});f("com/ibm/vis/widget/VisPanZoomController",function(){ga();return b.com_ibm_vis_widget_VisPanZoomController});f("com/ibm/vis/interaction/events/DefenderInteractivityListener",
function(){ga();return b.com_ibm_vis_interaction_events_DefenderInteractivityListener});f("com/ibm/vis/interaction/Interactivity",function(){ga();return b.com_ibm_vis_interaction_Interactivity});f("com/ibm/vis/interaction/HighlightState",function(){ga();return b.com_ibm_vis_interaction_HighlightState});f("com/ibm/vis/interaction/GraphInteractivity",function(){ga();return b.com_ibm_vis_interaction_GraphInteractivity});f("com/ibm/vis/interaction/ViewportZoom",function(){ga();return b.com_ibm_vis_interaction_ViewportZoom});
f("com/ibm/vis/interaction/ChangeEffect",function(){ga();return b.com_ibm_vis_interaction_ChangeEffect});f("com/ibm/vis/interaction/EasingFunction",function(){ga();return b.com_ibm_vis_interaction_EasingFunction});f("com/ibm/vis/interaction/events/DefenderViewPortEvent",function(){ga();return b.com_ibm_vis_interaction_events_DefenderViewPortEvent});f("com/ibm/vis/interaction/PanZoom",function(){ga();return b.com_ibm_vis_interaction_PanZoom});f("com/ibm/vis/interaction/ZOrder",function(){ga();return b.com_ibm_vis_interaction_ZOrder});
f("com/ibm/vis/interaction/Popup",function(){ga();return b.com_ibm_vis_interaction_Popup});f("com/ibm/vis/services/GetLayerNames",function(){b.com_ibm_init_requireSync("com/ibm/vis/layers/utilities");return b.com_ibm_vis_services_GetLayerNames});f("com/ibm/vis/internal/accessibility/AtTreeBuilder",function(){ia();return b.com_ibm_vis_internal_accessibility_AtTreeBuilder});f("com/ibm/vis/interaction/AccessibleTreeNavigation",function(){ia();return b.com_ibm_vis_interaction_AccessibleTreeNavigation});
f("com/ibm/vis/interaction/navigation/FeatureShift",function(){ia();return b.com_ibm_vis_interaction_navigation_FeatureShift});f("com/ibm/vis/interaction/navigation/MoveWeight",function(){ia();return b.com_ibm_vis_interaction_navigation_MoveWeight});f("com/ibm/vis/interaction/navigation/NavigationDirection",function(){ia();return b.com_ibm_vis_interaction_navigation_NavigationDirection});f("com/ibm/vis/interaction/navigation/NavigationLevel",function(){ia();return b.com_ibm_vis_interaction_navigation_NavigationLevel});
f("com/ibm/vis/interaction/KeyboardNavigation",function(){ia();return b.com_ibm_vis_interaction_KeyboardNavigation});f("com/ibm/vis/interaction/navigation/Navigation",function(){ia();return b.com_ibm_vis_interaction_navigation_Navigation});f("com/ibm/vis/internal/json/SpecValidator",function(){$();return b.com_ibm_vis_internal_json_SpecValidator});f("com/ibm/vis/engine/internal/migration/spec/SpecMigration",function(){$();return b.com_ibm_vis_engine_internal_migration_spec_SpecMigration});f("com/ibm/vis/services/MigrationService",
function(){$();return b.com_ibm_vis_services_MigrationService});f("com/ibm/vis/engine/diagramService/DiagramFactory",function(){ka();return b.com_ibm_vis_engine_diagramService_DiagramFactory});f("com/ibm/vis/engine/diagramService/Diagram",function(){ka();return b.com_ibm_vis_engine_diagramService_Diagram});f("com/ibm/vis/engine/diagramService/DiagramService",function(){ka();return b.com_ibm_vis_engine_diagramService_DiagramService})}w()})})()}return{load:function(q,z,p){z(["dojo/_base/kernel","dojo/_base/config",
"dojo/has"],function(f,l,q){window.requirejs&&(f=window.requirejs.s.contexts._.config,l.forceGfxRenderer=f.forceGfxRenderer,l.gfxRenderer=f.gfxRenderer);"dojotoolkit.org"==define.amd.vendor&&q("dojo-v1x-i18n-Api")?C(p):(q.add("dojo-v1x-i18n-Api",0,null,!0),z(["dojox/date/timezone"],function(){C(p)}))})}}});define(["tm1webRave/amdcompatibility!"],1);
//# sourceMappingURL=main.js.map