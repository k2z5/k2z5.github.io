//>>built
require({cache:{"tm1web/subseteditor/_TreePaneFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dijit/focus"],function(m,n,l,k){return m(null,{dimensionTree:null,subsetTree:null,_activeTree:null,postCreate:function(){this.inherited(arguments);this._activeTree=this.subsetTree;this.own(this.subsetTree.on("focus",n.hitch(this,"_onSubsetTreeFocus")));this.dimensionTree&&this.own(this.dimensionTree.on("focus",n.hitch(this,"_onDimensionTreeFocus")))},_onSubsetTreeFocus:function(){this._activeTree=
this.subsetTree},_onDimensionTreeFocus:function(){this._activeTree=this.dimensionTree}})})},"dojo/request/default":function(){define(["exports","require","../has"],function(m,n,l){var k=l("config-requestProvider");k||(k="./xhr");m.getPlatformDefaultId=function(){return"./xhr"};m.load=function(g,b,h,e){n(["platform"==g?"./xhr":k],function(f){h(f)})}})},"dojo/date":function(){define(["./_base/kernel","./has","./_base/lang"],function(m,n,l){var k={getDaysInMonth:function(g){var b=g.getMonth();return 1==
b&&k.isLeapYear(g)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(g){g=g.getFullYear();return!(g%400)||!(g%4)&&!!(g%100)},getTimezoneName:function(g){var b=g.toString(),h="",e=b.indexOf("(");if(-1<e)h=b.substring(++e,b.indexOf(")"));else if(e=/([A-Z\/]+) \d{4}$/,b=b.match(e))h=b[1];else if(b=g.toLocaleString(),e=/ ([A-Z\/]+)$/,b=b.match(e))h=b[1];return"AM"==h||"PM"==h?"":h},compare:function(g,b,h){g=new Date(+g);b=new Date(+(b||new Date));"date"==h?(g.setHours(0,0,0,0),b.setHours(0,
0,0,0)):"time"==h&&(g.setFullYear(0,0,0),b.setFullYear(0,0,0));return g>b?1:g<b?-1:0},add:function(g,b,h){var e=new Date(+g),f=!1,a="Date";switch(b){case "day":break;case "weekday":var d;(b=h%5)?d=parseInt(h/5):(b=0<h?5:-5,d=0<h?(h-5)/5:(h+5)/5);var c=g.getDay(),p=0;6==c&&0<h?p=1:0==c&&0>h&&(p=-1);c+=b;if(0==c||6==c)p=0<h?2:-2;h=7*d+b+p;break;case "year":a="FullYear";f=!0;break;case "week":h*=7;break;case "quarter":h*=3;case "month":f=!0;a="Month";break;default:a="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+
"s"}if(a)e["set"+a](e["get"+a]()+h);f&&e.getDate()<g.getDate()&&e.setDate(0);return e},difference:function(g,b,h){b=b||new Date;h=h||"day";var e=b.getFullYear()-g.getFullYear(),f=1;switch(h){case "quarter":g=g.getMonth();b=b.getMonth();g=Math.floor(g/3)+1;b=Math.floor(b/3)+1;f=b+4*e-g;break;case "weekday":e=Math.round(k.difference(g,b,"day"));h=parseInt(k.difference(g,b,"week"));f=e%7;if(0==f)e=5*h;else{var a=0,d=g.getDay();b=b.getDay();h=parseInt(e/7);f=e%7;g=new Date(g);g.setDate(g.getDate()+7*
h);g=g.getDay();if(0<e)switch(!0){case 6==d:a=-1;break;case 0==d:a=0;break;case 6==b:a=-1;break;case 0==b:a=-2;break;case 5<g+f:a=-2}else if(0>e)switch(!0){case 6==d:a=0;break;case 0==d:a=1;break;case 6==b:a=2;break;case 0==b:a=1;break;case 0>g+f:a=2}e=e+a-2*h}f=e;break;case "year":f=e;break;case "month":f=b.getMonth()-g.getMonth()+12*e;break;case "week":f=parseInt(k.difference(g,b,"day")/7);break;case "day":f/=24;case "hour":f/=60;case "minute":f/=60;case "second":f/=1E3;case "millisecond":f*=b.getTime()-
g.getTime()}return Math.round(f)}};l.mixin(l.getObject("date",!0,m),k);return k})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(m,n,l){function k(a){return h[a]=new Function("item","index","array",a)}function g(a){var d=!a;return function(c,p,f){var e=0,b=c&&c.length||0,g;b&&"string"==typeof c&&(c=c.split(""));"string"==typeof p&&(p=h[p]||k(p));if(f)for(;e<b;++e){if(g=!p.call(f,c[e],e,c),a^g)return!g}else for(;e<b;++e)if(g=!p(c[e],e,c),a^g)return!g;return d}}function b(a){var d=
1,c=0,p=0;a||(d=c=p=-1);return function(b,h,g,k){if(k&&0<d)return f.lastIndexOf(b,h,g);k=b&&b.length||0;var l=a?k+p:c;g===e?g=a?c:k+p:0>g?(g=k+g,0>g&&(g=c)):g=g>=k?k+p:g;for(k&&"string"==typeof b&&(b=b.split(""));g!=l;g+=d)if(b[g]==h)return g;return-1}}var h={},e,f={every:g(!1),some:g(!0),indexOf:b(!0),lastIndexOf:b(!1),forEach:function(a,d,c){var p=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=h[d]||k(d));if(c)for(;p<f;++p)d.call(c,a[p],p,a);else for(;p<f;++p)d(a[p],
p,a)},map:function(a,d,c,p){var f=0,e=a&&a.length||0;p=new (p||Array)(e);e&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=h[d]||k(d));if(c)for(;f<e;++f)p[f]=d.call(c,a[f],f,a);else for(;f<e;++f)p[f]=d(a[f],f,a);return p},filter:function(a,d,c){var p=0,f=a&&a.length||0,e=[],b;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=h[d]||k(d));if(c)for(;p<f;++p)b=a[p],d.call(c,b,p,a)&&e.push(b);else for(;p<f;++p)b=a[p],d(b,p,a)&&e.push(b);return e},clearCache:function(){h={}}};l.mixin(m,
f);return f})},"tm1web/grid/utility/MoveDirection":function(){define({UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),function(m,n,l,k,g,b,h,e,f){var a=b("dojox.grid.DataGrid",h,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,
_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new e(this)},get:function(a,
c){if(c&&"_item"==this.field&&!this.fields)return c;if(c&&this.fields){var p=[],f=this.grid.store;n.forEach(this.fields,function(a){p=p.concat(f.getValues(c,a))});return p}return c||"string"!==typeof a?c?this.field?"_item"==this.field?c:this.grid.store.getValue(c,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<this.updateDelay){var a=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,a=!0);this.updating||
(this.beginUpdate(),a=!0);if(a){var c=this;this._endUpdateDelay=setTimeout(function(){delete c._endUpdateDelay;c.endUpdate()},this.updateDelay)}}},_onSet:function(a,c,p,f){this._checkUpdateStatus();a=this.getItemIndex(a);-1<a&&this.updateRow(a)},_createItem:function(a,c){var p=this._hasIdentity?this.store.getIdentity(a):k.toJson(this.query)+":idx:"+c+":sort:"+k.toJson(this.getSortProps());return this._by_idty[p]={idty:p,item:a}},_addItem:function(a,c,p){this._by_idx[c]=this._createItem(a,c);p||this.updateRow(c)},
_onNew:function(a,c){this._checkUpdateStatus();var p=this.get("rowCount");this._addingItem=!0;this.updateRowCount(p+1);this._addingItem=!1;this._addItem(a,p);this.showMessage()},_onDelete:function(a){this._checkUpdateStatus();a=this._getItemIndex(a,!0);if(0<=a){this._pages=[];this._eop=this._bop=-1;var c=this._by_idx[a];this._by_idx.splice(a,1);delete this._by_idty[c.idty];this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(a)&&
(this.selection.deselect(a),this.selection.selected.splice(a,1))},_onRevert:function(){this._refresh()},setStore:function(a,c,p){this._requestsPending(0)||(this._setQuery(c,p),this._setStore(a),this._refresh(!0))},setQuery:function(a,c){this._requestsPending(0)||(this._setQuery(a,c),this._refresh(!0))},setItems:function(a){this.items=a;this._setStore(this.store);this._refresh(!0)},_setQuery:function(a,c){this.query=a;this.queryOptions=c||this.queryOptions},_setStore:function(a){this.store&&this._store_connects&&
n.forEach(this._store_connects,this.disconnect,this);if(this.store=a){a=this.store.getFeatures();var c=[];this._canEdit=!!a["dojo.data.api.Write"]&&!!a["dojo.data.api.Identity"];this._hasIdentity=!!a["dojo.data.api.Identity"];a["dojo.data.api.Notification"]&&!this.items&&(c.push(this.connect(this.store,"onSet","_onSet")),c.push(this.connect(this.store,"onNew","_onNew")),c.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&c.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=
c}},_onFetchBegin:function(a,c){this.scroller&&(this.rowCount!=a&&(c.isRender?(this.scroller.init(a,this.keepRows,this.rowsPerPage),this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(a)),a?this.showMessage():(this.views.render(),this._resize(),this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(a,c){this.scroller&&(a&&0<a.length&&(n.forEach(a,function(a,d){this._addItem(a,
c.start+d,!0)},this),this.updateRows(c.start,a.length),c.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),g("ie")&&f.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[c.start]=!1)},_onFetchError:function(a,c){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[c.start]=
!1;this.onFetchError(a,c)},onFetchError:function(a,c){},_fetch:function(a,c){a=a||0;if(this.store&&!this._pending_requests[a]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[a]=!0;try{if(this.items){var p=this.items,f=this.store;this.rowsPerPage=p.length;var e={start:a,count:this.rowsPerPage,isRender:c};this._onFetchBegin(p.length,e);var b=0;n.forEach(p,function(a){f.isItemLoaded(a)||b++});if(0===b)this._onFetchComplete(p,e);else{var h=
function(a){b--;0===b&&this._onFetchComplete(p,e)};n.forEach(p,function(a){f.isItemLoaded(a)||f.loadItem({item:a,onItem:h,scope:this})},this)}}else this.store.fetch({start:a,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:c,onBegin:l.hitch(this,"_onFetchBegin"),onComplete:l.hitch(this,"_onFetchComplete"),onError:l.hitch(this,"_onFetchError")})}catch(g){this._onFetchError(g,{start:a,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);
this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(a){var c=this._by_idx[a];return!c||c&&!c.item?(this._preparePage(a),null):c.item},getItemIndex:function(a){return this._getItemIndex(a,!1)},_getItemIndex:function(a,c){if(!c&&!this.store.isItem(a))return-1;for(var p=this._hasIdentity?this.store.getIdentity(a):null,f=0,e=this._by_idx.length;f<e;f++){var b=this._by_idx[f];if(b&&(p&&b.idty==p||b.item===a))return f}return-1},filter:function(a,
c){this.query=a;c&&this._clearData();this._fetch()},_getItemAttr:function(a,c){var p=this.getItem(a);return p?this.store.getValue(p,c):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(a){return this._pending_requests[a]},_rowToPage:function(a){return this.rowsPerPage?Math.floor(a/this.rowsPerPage):a},_pageToRow:function(a){return this.rowsPerPage?this.rowsPerPage*
a:a},_preparePage:function(a){(a<this._bop||a>=this._eop)&&!this._addingItem&&(a=this._rowToPage(a),this._needPage(a),this._bop=a*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(a){this._pages[a]||(this._pages[a]=!0,this._requestPage(a))},_requestPage:function(a){a=this._pageToRow(a);0<Math.min(this.rowsPerPage,this.get("rowCount")-a)&&(this._requests++,this._requestsPending(a)||setTimeout(l.hitch(this,"_fetch",a,!1),1))},getCellName:function(a){return a.field},
_refresh:function(a){this._clearData();this._fetch(0,a)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var a=this.getCell(this.getSortIndex());if(a){var c=a.sortDesc,p=!(0<this.sortInfo);return[{attribute:a.field,descending:"undefined"==typeof c?p:p?!c:c}]}return this.sortFields?this.sortFields:null},styleRowState:function(a){if(this.store&&this.store.getState){for(var c=this.store.getState(a.index),
p="",f=0,e=["inflight","error","inserting"],b;b=e[f];f++)if(c[b]){p=" dojoxGridRow-"+b;break}a.customClasses+=p}},onStyleRow:function(a){this.styleRowState(a);this.inherited(arguments)},canEdit:function(a,c){return this._canEdit},_copyAttr:function(a,c){var p=this.getItem(a);return this.store.getValue(p,c)},doStartEdit:function(a,c){this._cache[c]||(this._cache[c]=this._copyAttr(c,a.field));this.onStartEdit(a,c)},doApplyCellEdit:function(a,c,p){this.store.fetchItemByIdentity({identity:this._by_idx[c].idty,
onItem:l.hitch(this,function(f){var e=this.store.getValue(f,p);"number"==typeof e?a=isNaN(a)?a:parseFloat(a):"boolean"==typeof e?a="true"==a?!0:"false"==a?!1:a:e instanceof Date&&(e=new Date(a),a=isNaN(e.getTime())?a:e);this.store.setValue(f,p,a);this.onApplyCellEdit(a,c,p)})})},doCancelEdit:function(a){this._cache[a]&&(this.updateRow(a),delete this._cache[a]);this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(a,c){this.onApplyEdit(a)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();
var a=l.hitch(this,function(a){a.length&&(n.forEach(a,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:a}):a(this.selection.getSelected())}}});a.cell_markupFactory=function(a,c,p){var e=l.trim(f.attr(c,"field")||"");e&&(p.field=e);p.field=p.field||p.name;if(e=l.trim(f.attr(c,"fields")||""))p.fields=e.split(",");a&&a(c,p)};a.markupFactory=function(d,c,p,f){return h.markupFactory(d,c,p,l.partial(a.cell_markupFactory,
f))};return a})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(m,n,l,k){var g={fieldToObject:function(b){var h=null;if(b=n.byId(b)){var e=b.name,f=(b.type||"").toLowerCase();if(e&&f&&!b.disabled)if("radio"==f||"checkbox"==f)b.checked&&(h=b.value);else if(b.multiple)for(h=[],b=[b.firstChild];b.length;)for(e=b.pop();e;e=e.nextSibling)if(1==e.nodeType&&"option"==e.tagName.toLowerCase())e.selected&&h.push(e.value);else{e.nextSibling&&b.push(e.nextSibling);e.firstChild&&
b.push(e.firstChild);break}else h=b.value}return h},toObject:function(b){var h={};b=n.byId(b).elements;for(var e=0,f=b.length;e<f;++e){var a=b[e],d=a.name,c=(a.type||"").toLowerCase();if(d&&c&&0>"file|submit|image|reset|button".indexOf(c)&&!a.disabled){var p=h,q=d,a=g.fieldToObject(a);if(null!==a){var s=p[q];"string"==typeof s?p[q]=[s,a]:m.isArray(s)?s.push(a):p[q]=a}"image"==c&&(h[d+".x"]=h[d+".y"]=h[d].x=h[d].y=0)}}return h},toQuery:function(b){return l.objectToQuery(g.toObject(b))},toJson:function(b,
h){return k.stringify(g.toObject(b),null,h?4:0)}};return g})},"tm1web/share/_CellContextMenuBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/dom-geometry","./_ContextMenuBase"],function(m,n,l,k,g){return m(g,{dataGrid:null,_selectedArea:null,_currentCell:null,_openMyself:function(b){this._selectedArea=this._getSelectedArea();(this._currentCell=this._getCurrentCell())&&this.inherited(arguments)},onClose:function(){l("ie")&&this._currentCell.focus()},_getCoords:function(){var b=
k.position(this._currentCell,!0);b.x+=10;b.y+=10;return b},_getCurrentCellCoord:function(){return this.dataGrid.GetCoordinate(this._currentCell)},_getSelectedArea:function(){return null},_getCurrentCell:function(){return null}})})},"tm1web/widgets/WarningAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(m,n,l,k,g,b){var h=m("tm1web.widgets.WarningAlert",b,{buildRendering:function(){this.inherited(arguments);
k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",g.get("ARIA_IMG_WARNING_STR"))}});h.show=function(e){var f=new l;e.className="tm1webWarningDialog tm1webMessageDialog";alertDialog=new h(e);var a=n.after(alertDialog,"onHide",function(){a.remove();f.resolve()});alertDialog.show();return f.promise};return h})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(m,
n,l){l.ArrayList=function(k){var g=[];k&&(g=g.concat(k));this.count=g.length;this.add=function(b){g.push(b);this.count=g.length};this.addRange=function(b){if(b.getIterator)for(b=b.getIterator();!b.atEnd();)this.add(b.get());else for(var h=0;h<b.length;h++)g.push(b[h]);this.count=g.length};this.clear=function(){g.splice(0,g.length);this.count=0};this.clone=function(){return new l.ArrayList(g)};this.contains=function(b){for(var h=0;h<g.length;h++)if(g[h]==b)return!0;return!1};this.forEach=function(b,
h){m.forEach(g,b,h)};this.getIterator=function(){return new l.Iterator(g)};this.indexOf=function(b){for(var h=0;h<g.length;h++)if(g[h]==b)return h;return-1};this.insert=function(b,h){g.splice(b,0,h);this.count=g.length};this.item=function(b){return g[b]};this.remove=function(b){b=this.indexOf(b);0<=b&&g.splice(b,1);this.count=g.length};this.removeAt=function(b){g.splice(b,1);this.count=g.length};this.reverse=function(){g.reverse()};this.sort=function(b){b?g.sort(b):g.sort()};this.setByIndex=function(b,
h){g[b]=h;this.count=g.length};this.toArray=function(){return[].concat(g)};this.toString=function(b){return g.join(b||",")}};return l.ArrayList})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(m,n,l,k,g){var b=new m,h;l(function(){var e=g.getBox();b._rlh=n(window,"resize",function(){var a=g.getBox();if(e.h!=a.h||e.w!=a.w)e=a,b.emit("resize")});if(8==k("ie")){var f=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=f&&(f=
screen.deviceXDPI,b.emit("resize"))},500)}k("ios")&&(n(document,"focusin",function(a){h=a.target}),n(document,"focusout",function(a){h=null}))});b.getEffectiveBox=function(e){e=g.getBox(e);var f=h&&h.tagName&&h.tagName.toLowerCase();k("ios")&&h&&!h.readOnly&&("textarea"==f||"input"==f&&/^(color|email|number|password|search|tel|text|url)$/.test(h.type))&&(e.h*=0==orientation||180==orientation?.66:.4,f=h.getBoundingClientRect(),e.h=Math.max(e.h,f.top+f.height));return e};return b})},"tm1web/websheet/spreading/SpreadDialogEqualLeaves":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dijit/form/RadioButton ../../utility/message-localizer ../../cubeview/TitlePanel ./SpreadDialogBase".split(" "),
function(m,n,l,k,g,b,h){return m(h,{constructor:function(){this._AllPopulatedMode="";this._InitializeSpreadDialogEqualLeaves()},_InitializeSpreadDialogEqualLeaves:function(){},_CreateContent:function(){this._DataValue=this._CreateValueContent(this._Dialog.containerNode,g.get("SPREAD_LABEL_VALUE"),"tm1webDataSpread_valueLabel",this._cellInfo.numericValue,"tm1webDataSpread_value");this._CreateApplyToContent();this._CreateActionContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,
"tm1webDataSpread_buttonContainer tm1webDialogButtons")},_CreateApplyToContent:function(){var e=(new b(g.get("SPREAD_SECTION_APPLY"),null,null,"")).Create(this._Dialog.containerNode);this._CreateApplyToRadionButtonList(e)},_CreateApplyToRadionButtonList:function(e){this._CreateApplyToChoiceRadioButton(g.get("SPREAD_LABEL_POPULATED"),!0,"",e);this._CreateApplyToChoiceRadioButton(g.get("SPREAD_LABEL_ALL"),!1,"*",e)},_CreateApplyToChoiceRadioButton:function(e,f,a,d){_this=this;d=this._CreateCheckBoxLabelDiv(d);
var c=new k({name:"ApplyToChoice",value:a});c.setChecked(f);c.onClick=function(){_this._OnLeafCellsChoiceRadioButtonClick(this,a)};l.place(c.domNode,d);this._CreateCheckBoxLabel(e,d,c.id);return c},_OnLeafCellsChoiceRadioButtonClick:function(e,f){e.checked&&(this._AllPopulatedMode=f)},_GetControlString:function(){var e=this._CommandString,e=e+this._ActionValue+this._AllPopulatedMode;return e+=n.trim(this._DataValue.value)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html dojo/i18n!./nls/common ./a11yclick".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A,z,B,E,F,I,M,O,H){var J=new g;J.resolve(!0);m=k("dijit._DialogBase"+(r("dojo-bidi")?"_NoBidi":""),[A,B,E,z],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:v.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:.9,closable:!0,
_setClosableAttr:function(a){this.closeButtonNode.style.display=a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=d.getLocalization("dijit","common")||H;p.mixin(this,a);this.inherited(arguments)},postCreate:function(){f.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);l.after(this,"onExecute",p.hitch(this,"hide"),!0);l.after(this,"onCancel",p.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();
this._position();this.autofocus&&D.isTop(this)&&(this._getFocusItems(),w.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();w.focus(this._firstFocusItem)},_endDrag:function(){var a=e.position(this.domNode),c=t.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),c.h-a.h);a.x=Math.min(Math.max(a.x,0),c.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==r("ie")?x:
u)(a,{handle:this.titleBar}),l.after(this._moveable,"onMoveStop",p.hitch(this,"_endDrag"),!0)):h.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":n.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:p.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!h.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,c=t.getBox(this.ownerDocument),d=this._relativePosition,p=d?null:
e.position(a);f.set(a,{left:Math.floor(c.l+(d?d.x:(c.w-p.w)/2))+"px",top:Math.floor(c.t+(d?d.y:(c.h-p.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==c.TAB){this._getFocusItems();var d=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):d==this._firstFocusItem&&a.shiftKey?(w.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):d!=this._lastFocusItem||a.shiftKey||(w.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&
a.keyCode==c.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return J.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),D.hide(this));var c=t.get(this.ownerDocument);this._modalconnects.push(q(c,"scroll",p.hitch(this,"resize",null)));this._modalconnects.push(q(this.domNode,"keydown",p.hitch(this,"_onKey")));f.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var d;this._fadeInDeferred=new g(p.hitch(this,function(){d.stop();delete this._fadeInDeferred}));c=this._fadeInDeferred.promise;d=a.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:p.hitch(this,function(){D.show(this,this.underlayAttrs)}),onEnd:p.hitch(this,function(){this.autofocus&&D.isTop(this)&&(this._getFocusItems(),w.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();
return c},hide:function(){if(!this._alreadyInitialized||!this.open)return J.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var c;this._fadeOutDeferred=new g(p.hitch(this,function(){c.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(p.hitch(this,"onHide"));var d=this._fadeOutDeferred.promise;c=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,function(){this.domNode.style.display="none";D.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();
this._scrollConnected&&(this._scrollConnected=!1);for(var f;f=this._modalconnects.pop();)f.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return d},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),n.forEach([this.domNode,this.containerNode,
this.titleBar,this.actionBarNode],function(a){a&&f.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var c=t.getBox(this.ownerDocument);c.w*=this.maxRatio;c.h*=this.maxRatio;var d=e.position(this.domNode);d.w>=c.w||d.h>=c.h?(a={w:Math.min(d.w,c.w),h:Math.min(d.h,c.h)},this._shrunk=!0):this._shrunk=!1}if(a){e.setMarginBox(this.domNode,a);c=[];this.titleBar&&c.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&c.push({domNode:this.actionBarNode,
region:"bottom"});d={domNode:this.containerNode,region:"center"};c.push(d);var p=M.marginBox2contentBox(this.domNode,a);M.layoutChildren(this.domNode,p,c);this._singleChild?(c=M.marginBox2contentBox(this.containerNode,d),this._singleChild.resize({w:c.w,h:c.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();r("touch")||a||this._position()}},_layoutChildren:function(){n.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();D.hide(this);this.inherited(arguments)}});r("dojo-bidi")&&(m=k("dijit._DialogBase",m,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var P=k("dijit.Dialog",
[I,m],{});P._DialogBase=m;var D=P._DialogLevelManager={_beginZIndex:950,show:function(a,c){C[C.length-1].focus=w.curNode;var d=C[C.length-1].dialog?C[C.length-1].zIndex+2:P._DialogLevelManager._beginZIndex;f.set(a.domNode,"zIndex",d);F.show(c,d-1);C.push({dialog:a,underlayAttrs:c,zIndex:d})},hide:function(a){if(C[C.length-1].dialog==a){C.pop();var c=C[C.length-1];1==C.length?F.hide():F.show(c.underlayAttrs,c.zIndex-1);if(a.refocus&&(a=c.focus,!c.dialog||a&&b.isDescendant(a,c.dialog.domNode)||(c.dialog._getFocusItems(),
a=c.dialog._firstFocusItem),a))try{a.focus()}catch(d){}}else c=n.indexOf(n.map(C,function(a){return a.dialog}),a),-1!=c&&C.splice(c,1)},isTop:function(a){return C[C.length-1].dialog==a}},C=P._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];w.watch("curNode",function(a,c,d){a=C[C.length-1].dialog;if(d&&a&&!a._fadeOutDeferred&&d.ownerDocument==a.ownerDocument){do if(d==a.domNode||h.contains(d,"dijitPopup"))return;while(d=d.parentNode);a.focus()}});return P})},"dijit/_ConfirmDialogMixin":function(){define(["../dojo/_base/declare",
"./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(m,n,l,k){return m("dijit/_ConfirmDialogMixin",n,{actionBarTemplate:k,buttonOk:l.buttonOk,_setButtonOkAttr:{node:"okButton",attribute:"label"},buttonCancel:l.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"tm1web/workbook/WidgetCache":function(){define(["dojo/_base/declare"],function(m){return m(null,{constructor:function(){this._widgets={}},add:function(m,
l){if(this._widgets[m])throw Error("Cache for widget with ID already exists: "+m);this._widgets[m]=l},get:function(m){return this._widgets[m]},clear:function(){return this._clear(!0)},_clear:function(m){if(m){m=this._widgets;for(var l in m)m.hasOwnProperty(l)&&m[l].destroy()}this._widgets={}},destroy:function(){this.clear(!0)}})})},"dojox/html/metrics":function(){define("../main dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),
function(m,n,l,k,g,b,h,e){var f=l.getObject("html.metrics",!0,m);f.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},c;k("ie")&&(c=h.doc.documentElement.style.fontSize||"",c||(h.doc.documentElement.style.fontSize="100%"));var d=h.doc.createElement("div"),p=d.style;p.position="absolute";p.left="-100px";p.top="0";p.width="30px";p.height="1000em";p.borderWidth="0";p.margin="0";p.padding="0";p.outline=
"0";p.lineHeight="1";p.overflow="hidden";h.body().appendChild(d);for(var f in a)p.fontSize=f,a[f]=16*Math.round(12*d.offsetHeight/16)/12/1E3;k("ie")&&(h.doc.documentElement.style.fontSize=c);h.body().removeChild(d);return a};var a=null;f.getCachedFontMeasurements=function(c){if(c||!a)a=f.getFontMeasurements();return a};var d=null,c={};f.getTextBox=function(a,p,f){var b,q;if(d)b=d;else{b=d=h.doc.createElement("div");var g=h.doc.createElement("div");g.appendChild(b);q=g.style;q.overflow="scroll";q.position=
"absolute";q.left="0px";q.top="-10000px";q.width="1px";q.height="1px";q.visibility="hidden";q.borderWidth="0";q.margin="0";q.padding="0";q.outline="0";h.body().appendChild(g)}b.className="";q=b.style;q.borderWidth="0";q.margin="0";q.padding="0";q.outline="0";if(1<arguments.length&&p)for(var k in p)k in c||(q[k]=p[k]);2<arguments.length&&f&&(b.className=f);b.innerHTML=a;q=e.position(b);q.w=b.parentNode.scrollWidth;return q};var p=16,q=16;f.getScrollbar=function(){return{w:p,h:q}};f._fontResizeNode=
null;f.initOnFontResize=function(a){var c=f._fontResizeNode=h.doc.createElement("iframe");a=c.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";k("ie")?c.onreadystatechange=function(){"complete"==c.contentWindow.document.readyState&&(c.onresize=f._fontresize)}:c.onload=function(){c.contentWindow.onresize=f._fontresize};c.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");
h.body().appendChild(c);f.initOnFontResize=function(){}};f.onFontResize=function(){};f._fontresize=function(){f.onFontResize()};b.addOnUnload(function(){var a=f._fontResizeNode;a&&(k("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),f._fontResizeNode=null)});g(function(){try{var a=h.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";h.body().appendChild(a);
p=a.offsetWidth-a.clientWidth;q=a.offsetHeight-a.clientHeight;h.body().removeChild(a);delete a}catch(c){}"fontSizeWatch"in n.config&&n.config.fontSizeWatch&&f.initOnFontResize()});return f})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(m,n,l,k,g,b){function h(a,c){var d=c.parentNode;d&&d.insertBefore(a,c)}function e(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(c){}for(var d;d=a.lastChild;)a.removeChild(d)}var f=
{option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,d={},c=0,p="__"+n._scopeName+"ToDomId",q;for(q in f)f.hasOwnProperty(q)&&(n=f[q],n.pre="option"==q?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+n.join("\x3e\x3c")+"\x3e",n.post="\x3c/"+n.reverse().join("\x3e\x3c/")+"\x3e");var s;8>=l("ie")&&(s=function(a){a.__dojo_html5_tested=
"yes";var c=r("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==c.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(c){a.createElement(c)});t(c)});m.toDom=function(e,b){b=b||k.doc;var h=b[p];h||(b[p]=h=++c+"",d[h]=b.createElement("div"));8>=l("ie")&&!b.__dojo_html5_tested&&b.body&&s(b);e+="";var q=e.match(a),g=q?q[1].toLowerCase():
"",h=d[h];if(q&&f[g])for(q=f[g],h.innerHTML=q.pre+e+q.post,q=q.length;q;--q)h=h.firstChild;else h.innerHTML=e;if(1==h.childNodes.length)return h.removeChild(h.firstChild);for(g=b.createDocumentFragment();q=h.firstChild;)g.appendChild(q);return g};m.place=function(a,c,d){c=g.byId(c);"string"==typeof a&&(a=/^\s*</.test(a)?m.toDom(a,c.ownerDocument):g.byId(a));if("number"==typeof d){var p=c.childNodes;!p.length||p.length<=d?c.appendChild(a):h(a,p[0>d?0:d])}else switch(d){case "before":h(a,c);break;case "after":d=
a;(p=c.parentNode)&&(p.lastChild==c?p.appendChild(d):p.insertBefore(d,c.nextSibling));break;case "replace":c.parentNode.replaceChild(a,c);break;case "only":m.empty(c);c.appendChild(a);break;case "first":if(c.firstChild){h(a,c.firstChild);break}default:c.appendChild(a)}return a};var r=m.create=function(a,c,d,p){var f=k.doc;d&&(d=g.byId(d),f=d.ownerDocument);"string"==typeof a&&(a=f.createElement(a));c&&b.set(a,c);d&&m.place(a,d,p);return a};m.empty=function(a){e(g.byId(a))};var t=m.destroy=function(a){if(a=
g.byId(a)){var c=a;a=a.parentNode;c.firstChild&&e(c);a&&(l("ie")&&a.canHaveChildren&&"removeNode"in c?c.removeNode(!1):a.removeChild(c))}}})},"tm1web/grid/selection/RightSelectionOverlay":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget".split(" "),function(m,n,l,k,g,b){return m(b,{constructor:function(b){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,e){this._setStyle(e.left+
e.width,b.top,b.width-(e.left-b.left+e.width),b.height)}})})},"dojo/date/locale":function(){define("../_base/kernel ../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(m,n,l,k,g,b,h,e,f,a){function d(a,c,d,p){return p.replace(/([a-z])\1*/ig,function(f){var b,h,s=f.charAt(0);f=f.length;var k=["abbr","wide","narrow"];switch(s){case "G":b=c[4>f?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":b=a.getFullYear();
switch(f){case 1:break;case 2:if(!d.fullYear){b=String(b);b=b.substr(b.length-2);break}default:h=!0}break;case "Q":case "q":b=Math.ceil((a.getMonth()+1)/3);h=!0;break;case "M":case "L":b=a.getMonth();3>f?(b+=1,h=!0):(s=["months","L"==s?"standAlone":"format",k[f-3]].join("-"),b=c[s][b]);break;case "w":b=q._getWeekOfYear(a,0);h=!0;break;case "d":b=a.getDate();h=!0;break;case "D":b=q._getDayOfYear(a);h=!0;break;case "e":case "c":if(b=a.getDay(),2>f){b=(b-g.getFirstDayOfWeek(d.locale)+8)%7;break}case "E":b=
a.getDay();3>f?(b+=1,h=!0):(s=["days","c"==s?"standAlone":"format",k[f-3]].join("-"),b=c[s][b]);break;case "a":s=12>a.getHours()?"am":"pm";b=d[s]||c["dayPeriods-format-wide-"+s];break;case "h":case "H":case "K":case "k":h=a.getHours();switch(s){case "h":b=h%12||12;break;case "H":b=h;break;case "K":b=h%12;break;case "k":b=h||24}h=!0;break;case "m":b=a.getMinutes();h=!0;break;case "s":b=a.getSeconds();h=!0;break;case "S":b=Math.round(a.getMilliseconds()*Math.pow(10,f-3));h=!0;break;case "v":case "z":if(b=
q._getZone(a,!0,d))break;f=4;case "Z":s=q._getZone(a,!1,d);s=[0>=s?"+":"-",e.pad(Math.floor(Math.abs(s)/60),2),e.pad(Math.abs(s)%60,2)];4==f&&(s.splice(0,0,"GMT"),s.splice(3,0,":"));b=s.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+p);}h&&(b=e.pad(b,f));return b})}function c(a,c,d,p){var f=function(a){return a};c=c||f;d=d||f;p=p||f;var b=a.match(/(''|[^'])+/g),e="'"==a.charAt(0);l.forEach(b,function(a,p){a?(b[p]=(e?d:c)(a.replace(/''/g,"'")),e=!e):b[p]=""});
return p(b.join(""))}function p(a,c,d,p){p=h.escapeString(p);d.strict||(p=p.replace(" a"," ?a"));return p.replace(/([a-z])\1*/ig,function(p){var f;f=p.charAt(0);var b=p.length,e="",h="";d.strict?(1<b&&(e="0{"+(b-1)+"}"),2<b&&(h="0{"+(b-2)+"}")):(e="0?",h="0{0,2}");switch(f){case "y":f="\\d{2,4}";break;case "M":case "L":f=2<b?"\\S+?":"1[0-2]|"+e+"[1-9]";break;case "D":f="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+e+"[1-9][0-9]|"+h+"[1-9]";break;case "d":f="3[01]|[12]\\d|"+e+"[1-9]";break;case "w":f="[1-4][0-9]|5[0-3]|"+
e+"[1-9]";break;case "E":case "e":case "c":f=".+?";break;case "h":f="1[0-2]|"+e+"[1-9]";break;case "k":f="1[01]|"+e+"\\d";break;case "H":f="1\\d|2[0-3]|"+e+"\\d";break;case "K":f="1\\d|2[0-4]|"+e+"[1-9]";break;case "m":case "s":f="[0-5]\\d";break;case "S":f="\\d{"+b+"}";break;case "a":b=d.am||c["dayPeriods-format-wide-am"];e=d.pm||c["dayPeriods-format-wide-pm"];f=b+"|"+e;d.strict||(b!=b.toLowerCase()&&(f+="|"+b.toLowerCase()),e!=e.toLowerCase()&&(f+="|"+e.toLowerCase()),-1!=f.indexOf(".")&&(f+="|"+
f.replace(/\./g,"")));f=f.replace(/\./g,"\\.");break;default:f=".*"}a&&a.push(p);return"("+f+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var q={};n.setObject("date.locale",q,m);q._getZone=function(a,c,d){return c?k.getTimezoneName(a):a.getTimezoneOffset()};q.format=function(a,p){p=p||{};var f=b.normalizeLocale(p.locale),e=p.formatLength||"short",f=q._getGregorianBundle(f),h=[],g=n.hitch(this,d,a,f,p);if("year"==p.selector)return c(f["dateFormatItem-yyyy"]||"yyyy",g);var s;"date"!=p.selector&&(s=p.timePattern||
f["timeFormat-"+e])&&h.push(c(s,g));"time"!=p.selector&&(s=p.datePattern||f["dateFormat-"+e])&&h.push(c(s,g));return 1==h.length?h[0]:f["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,c){return h[c]})};q.regexp=function(a){return q._parseInfo(a).regexp};q._parseInfo=function(a){a=a||{};var d=b.normalizeLocale(a.locale),d=q._getGregorianBundle(d),f=a.formatLength||"short",e=a.datePattern||d["dateFormat-"+f],h=a.timePattern||d["timeFormat-"+f],f="date"==a.selector?e:"time"==a.selector?
h:d["dateTimeFormat-"+f].replace(/\{(\d+)\}/g,function(a,c){return[h,e][c]}),g=[];return{regexp:c(f,n.hitch(this,p,g,d,a)),tokens:g,bundle:d}};q.parse=function(a,c){var d=/[\u200E\u200F\u202A\u202E]/g,p=q._parseInfo(c),f=p.tokens,b=p.bundle,d=(new RegExp("^"+p.regexp.replace(d,"")+"$",p.strict?"":"i")).exec(a&&a.replace(d,""));if(!d)return null;var e=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],g="",d=l.every(d,function(a,d){if(!d)return!0;var p=f[d-1],q=p.length,p=p.charAt(0);switch(p){case "y":if(2!=
q&&c.strict)h[0]=a;else if(100>a)a=Number(a),p=""+(new Date).getFullYear(),q=100*p.substring(0,2),p=Math.min(Number(p.substring(2,4))+20,99),h[0]=a<p?q+a:q-100+a;else{if(c.strict)return!1;h[0]=a}break;case "M":case "L":if(2<q){if(q=b["months-"+("L"==p?"standAlone":"format")+"-"+e[q-3]].concat(),c.strict||(a=a.replace(".","").toLowerCase(),q=l.map(q,function(a){return a.replace(".","").toLowerCase()})),a=l.indexOf(q,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":q=b["days-"+("c"==
p?"standAlone":"format")+"-"+e[q-3]].concat();c.strict||(a=a.toLowerCase(),q=l.map(q,function(a){return a.toLowerCase()}));a=l.indexOf(q,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":q=c.am||b["dayPeriods-format-wide-am"];p=c.pm||b["dayPeriods-format-wide-pm"];if(!c.strict){var s=/\./g;a=a.replace(s,"").toLowerCase();q=q.replace(s,"").toLowerCase();p=p.replace(s,"").toLowerCase()}if(c.strict&&a!=q&&a!=p)return!1;g=a==p?"p":a==q?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<
a)return!1;h[3]=a;break;case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),p=+h[3];"p"===g&&12>p?h[3]=p+12:"a"===g&&12==p&&(h[3]=0);p=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);c.strict&&p.setFullYear(h[0]);var s=f.join(""),m=-1!=s.indexOf("d"),s=-1!=s.indexOf("M");if(!d||s&&p.getMonth()>h[1]||m&&p.getDate()>h[2])return null;if(s&&p.getMonth()<h[1]||m&&p.getDate()<h[2])p=k.add(p,"hour",1);return p};var s=[];q.addCustomFormats=function(a,c){s.push({pkg:a,name:c})};q._getGregorianBundle=
function(a){var c={};l.forEach(s,function(d){d=b.getLocalization(d.pkg,d.name,a)||c;c=n.mixin(c,d)},this);return c};q.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");q.getNames=function(a,c,d,p){var f;p=q._getGregorianBundle(p);a=[a,d,c];"standAlone"==d&&(d=a.join("-"),f=p[d],1==f[0]&&(f=void 0));a[1]="format";return(f||p[a.join("-")]).concat()};q.isWeekend=function(a,c){var d=g.getWeekend(c),p=(a||new Date).getDay();d.end<d.start&&(d.end+=7,p<d.start&&(p+=7));return p>=d.start&&
p<=d.end};q._getDayOfYear=function(a){return k.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};q._getWeekOfYear=function(a,c){1==arguments.length&&(c=0);var d=(new Date(a.getFullYear(),0,1)).getDay(),p=(d-c+7)%7,p=Math.floor((q._getDayOfYear(a)+p-1)/7);d==c&&p++;return p};return q})},"tm1web/utility/date":function(){define("dojo/date/locale dojo/json dojo/Deferred ../share/http-session-initializer ../share/service-loader!TM1Service ../share/TM1Utility".split(" "),function(m,n,l,k,g,b){function h(){g.getDateTimeFormats({callback:function(a){if(a){a=
n.parse(a);for(var d in f)if(f[d]in a)for(var e=a[f[d]],h=0;h<e.length;h++)switch(-1==b.indexOf(c,e[h])&&c.push(e[h]),f[d]){case f.TIME_SHORT:case f.TIME_LONG:-1==b.indexOf(s,e[h])&&s.push(e[h]);break;case f.DATE_SHORT:case f.DATE_LONG:-1==b.indexOf(q,e[h])&&q.push(e[h]);default:-1==b.indexOf(p,e[h])&&p.push(e[h])}}else console.error("Fail to get locale json file.");x.resolve()}})}function e(a,c){return m.parse(a,{selector:"date",datePattern:c})}var f={DATE_SHORT:"dateFormat-short",DATE_LONG:"dateFormat-long",
TIME_SHORT:"timeFormat-short",TIME_LONG:"timeFormat-long",DATETIME_SHORT:"dateTimeFormat-short",DATETIME_LONG:"dateTimeFormat-long"},a=new Date(1899,11,31),d=(new Date(1900,2,1)).valueOf(),c=[],p=[],q=[],s=[],r=[],t=new Date(1970,0,1,0,0,0,0),u=new Date(2010,10,10,10,10,10,10),x=new l,w=!1;return{load:function(a,c,d){x?(w||(w=!0,k.init().then(h)),x.then(function(){x=null;d(1)})):d(1)},parseToSerial:function(a,c){var d=this.parse(a,c);return null==d?null:this.getExcelSerialFromJSDate(d)},getExcelSerialFromJSDate:function(c){var p=
c.valueOf();p>=d&&(p+=864E5);p-=a.valueOf();c=c.getTimezoneOffset()-a.getTimezoneOffset();return(p-6E4*c)/864E5},parse:function(a,d,p,f){if(d){var h=e(a,d);if(h)return p&&(p.format=d),this.isTimeFormat(d)&&(h.setFullYear(1899),h.setMonth(11),h.setDate(31)),h}if(!0===f)return null;for(d=0;d<c.length;d++)if(h=e(a,c[d]))return p&&(p.format=c[d]),-1!=b.indexOf(s,c[d])&&(h.setFullYear(1899),h.setMonth(11),h.setDate(31)),h;return null},isTimeFormat:function(a){if(!a||-1!=b.indexOf(r,a)||-1!=b.indexOf(p,
a))return!1;if(-1!=b.indexOf(s,a))return!0;var c=null;try{c=e(m.format(u,{selector:"time",timePattern:a}),a)}catch(d){return r.push(a),!1}var f=1970==c.getFullYear()&&0==c.getMonth()&&1==c.getDate()&&(10==c.getHours()||10==c.getMinutes()||10==c.getSeconds()||10==c.getMilliseconds());f?s.push(a):c.getTime()==t.getTime()&&r.push(a);return f},isDateFormat:function(a){if(!a||-1!=b.indexOf(r,a)||-1!=b.indexOf(s,a))return!1;if(-1!=b.indexOf(q,a))return!0;if(-1!=b.indexOf(p,a))return!1;var c=null;try{c=
e(m.format(u,{selector:"date",datePattern:a}),a)}catch(d){return r.push(a),!1}var f=(2010==c.getFullYear()||10==c.getMonth()||10==c.getDate())&&0==c.getHours()&&0==c.getMinutes()&&0==c.getSeconds()&&0==c.getMilliseconds();f?(q.push(a),p.push(a)):c.getTime()==t.getTime()&&r.push(a);return f},canParse:function(a,d,p,f){if(d){var b=e(a,d);if(b)return p&&(p.format=d),!0}if(!0===f)return!1;for(d=0;d<c.length;d++)if(b=e(a,c[d]))return p&&(p.format=c[d]),!0;return!1}}})},"tm1web/share/DataEntryShortcutParser":function(){define("dojo/_base/declare ./SpreadSyntaxValidator ./NumberType ../cubeview/ViewCellType ../utility/number ../utility/string".split(" "),
function(m,n,l,k,g,b){return m(null,{constructor:function(){this._spreadSyntaxValidator=this._regexpGenericShortcutWithOperand=this._regexpCharacters=this._regexpNumber=this._regexpDirection=this._regexpLinearTextCPShortcut=this._regexpCompoundTextCPShortcut=this._regexpGrowTextCPShortcut=this._regexpGrowCPShortcut=this._regexpGrowLinearCPShortcut=this._regexpGrowCompoundCPShortcut=null;this._initializeDataEntryShortcuts()},_initializeDataEntryShortcuts:function(){this._separators=b.regexEscape(g.group+
g.decimal);this._spreadSyntaxValidator=new n;this._regexpGrowCompoundCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+C(om(pound)?)?[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowLinearCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+L(in(ear)?)?[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowTextCPShortcut=
/G(ro(w)?)?/i;this._regexpCompoundTextCPShortcut=/C(om(pound)?)?/i;this._regexpLinearTextCPShortcut=/L(in(ear)?)?/i;this._regexpDirection=/[\<\>\|\^]+/;this._regexpNumber=new RegExp("[0-9"+this._separators+"\\-]+","");this._regexpCharacters=RegExp("[a-zA-Z]+","ig");this._regexpGenericShortcutWithOperand=new RegExp("[A-Z\\+]+[0-9"+this._separators+"\\-]+","gi")},resolveShortcuts:function(b,e,f){var a=b;if(null==a)return null;if(this._spreadSyntaxValidator.isValid(a))return a;a=this._resolveReleaseShortcut(a,
f);if("RH"==a||"RC"==a)return a;a=this._resolveHoldShortcut(a,f);if("H"==a||"HC"==a)return a;a=this._resolveKShortcut(a,f);if(null==a)return b;a=this._resolveMShortcut(a,f);if(null==a)return b;if(null!=a.match(this._regexpGrowCompoundCPShortcut)||null!=a.match(this._regexpGrowLinearCPShortcut)||null!=a.match(this._regexpGrowCPShortcut))return a=this._resolveGrowthPlanningShortcut(a,e),null==a?b:a;a=this._resolveDirection(a);if(null==a)return b;e=a.direction;a=a.modifiedValue;a=this._resolvePlanningShortcuts(a,
e,f);if(null==a)return b;f=a.resolvedShortcut;a=a.modifiedValue;return""==f&&g.canParse(a,l.DECIMAL)?(""!=e&&(a="R"+e+a),a):null==a||0<a.length?b:f},_resolveDirection:function(b){var e=b.match(this._regexpDirection),f="";if(null!=e&&1==e.length&&null!=e[0])if(0==b.indexOf(e[0])||b.indexOf(e[0])==b.length-e[0].length)f=e[0],b=b.replace(e[0],"");else return null;return null!=e&&1<e.length?null:{modifiedValue:b,direction:f}},_resolvePlanningShortcuts:function(b,e,f){var a="",d=b.match(this._regexpGenericShortcutWithOperand);
if(null!=d&&1==d.length)try{for(var c=0;c<d.length;c++)if(null!=d[c]){var p=d[c].match(this._regexpNumber),q=d[c].replace(p,"");if(null!=p&&null!=p[0]&&(p=p[0],returnValue=this._resolveAddShortcut(q,p,e,f),returnValue.isShortcutFound||(returnValue=this._resolveSubtractShortcut(q,p,e,f)),returnValue.isShortcutFound||(returnValue=this._resolveIncreaseShortcut(q,p,e,f)),returnValue.isShortcutFound||(returnValue=this._resolveDecreaseShortcut(q,p,e,f)),returnValue.isShortcutFound||(returnValue=this._resolvePercentShortcut(q,
p,e,f)),returnValue.isShortcutFound)){var g=returnValue.stringToReplace,a=returnValue.resolvedShortcut;b=b.replace(d[c],g);break}}}catch(r){return null}return{modifiedValue:b,resolvedShortcut:a}},_resolveKShortcut:function(b,e){return this._resolveMultiplierShortcut(b,e,"K",1E3)},_resolveMShortcut:function(b,e){return this._resolveMultiplierShortcut(b,e,"M",1E6)},_resolveMultiplierShortcut:function(b,e,f,a){var d=new RegExp("[0-9"+this._separators+"]+"+f,"gi");if(null!=b.match(new RegExp(f+"[0-9"+
this._separators+"]+","gi")))return null;d=b.match(d);if(null!=d&&1==d.length&&null!=d[0])for(var c=0;c<d.length;c++){var p=d[c],p=p.replace(f.toLowerCase(),""),p=p.replace(f.toUpperCase(),"");if(e.cellType==k.STR||g.canParse(p)){var q=g.parse(p),q=q*a;0<=p.indexOf(g.decimal)&&(p=p.split(g.decimal)[1].length,p=p-a.toString().length+1,p=Math.max(0,p),q=q.toFixed(p));q=g.format(q,!0);b=b.replace(d[c],q)}else return null}return b},_resolveHoldShortcut:function(b,e){return this._resolveAllHoldShortcuts(b,
e,"Hol(d)?","H","HC")},_resolveReleaseShortcut:function(b,e){return this._resolveAllHoldShortcuts(b,e,"Rel(ease)?","RH","RC")},_resolveAllHoldShortcuts:function(b,e,f,a,d){return null!=b.match(new RegExp(f,"i"))?lastEditedCell.cellInfo.isConsolidated?d:a:b},_resolveAddShortcut:function(b,e,f){return this._resolveArithmeticShortcut(b,e,f,"\\+|Add","R+","P+")},_resolveSubtractShortcut:function(b,e,f){return this._resolveArithmeticShortcut(b,e,f,"\\~|Sub(tract)?","R~","P~")},_resolveIncreaseShortcut:function(b,
e,f){return this._resolveArithmeticShortcut(b,e,f,"Inc(rease)?","P%+","P%+")},_resolveDecreaseShortcut:function(b,e,f){return this._resolveArithmeticShortcut(b,e,f,"Dec(rease)?","P%~","P%~")},_resolvePercentShortcut:function(b,e,f){return this._resolveArithmeticShortcut(b,e,f,"Per(cent)?","P%","P%")},_resolveArithmeticShortcut:function(b,e,f,a,d,c){var p=!1,q="",s="";a=b.match(new RegExp(a,"i"));null!=a&&(q=b.replace(a[0],""),p=!0);p&&g.canParse(e,l.DECIMAL)?s=""!=f?d+f+e:c+e:p=!1;return{stringToReplace:q,
isShortcutFound:p,resolvedShortcut:s}},_resolveGrowthPlanningShortcut:function(b,e){var f=b;try{var a=this._resolveDirection(f);if(null==a)return null;var d=a.direction,f=a.modifiedValue,a="";if("G"!=f.substring(0,1).toUpperCase()){var c=f.search(/G/i);0<=c&&(a=f.substring(0,c),f=f.replace(f.substring(0,c),""))}else a=e;c="";f=f.replace(this._regexpGrowTextCPShortcut,"");f=f.replace(this._regexpCompoundTextCPShortcut,"");c=f=f.replace(this._regexpLinearTextCPShortcut,"");null==a&&(a="");null==d&&
(d="");null==c&&(c="");return"GR"+d+a+":"+c}catch(p){return null}}})})},"tm1web/share/DialogUnderlayEx":function(){define(["dojo/_base/declare","dijit/DialogUnderlay","dojo/topic"],function(m,n,l){return m(n,{hide:function(){this.bgIframe&&this.inherited(arguments)},show:function(){this.inherited(arguments);setTimeout(function(){l.publish("TM1Web-DialogUnderlayDisplayed")},0)},layout:function(){this.inherited(arguments);this.bgIframe||this.open||(this.domNode.style.display="none")}})})},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare",
"dojo/dom","./_Widget","./_TemplatedMixin"],function(m,n,l,k){return m("dijit.ToolbarSeparator",[l,k],{templateString:'\x3cdiv class\x3d"dijitToolbarSeparator dijitInline" role\x3d"presentation"\x3e\x3c/div\x3e',buildRendering:function(){this.inherited(arguments);n.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(m,n,l){return m("dijit.form.RadioButton",[n,l],{baseClass:"dijitRadio"})})},
"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(m,n,l,k,g,b){return m("dijit.MenuSeparator",[l,k,g],{templateString:b,buildRendering:function(){this.inherited(arguments);n.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(m,
n,l,k){return m("dijit.form.ToggleButton",[l,k],{baseClass:"dijitToggleButton",setChecked:function(g){n.deprecated("setChecked("+g+") is deprecated. Use set('checked',"+g+") instead.","","2.0");this.set("checked",g)}})})},"tm1web/grid/selection/_BorderOffsetMixin":function(){define(["dojo/_base/declare"],function(m){return m(null,{_getOffset:function(){return 2}})})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),
function(m,n,l,k,g,b,h,e){function f(a){var c="";a=a.childNodes;for(var d=0,b;b=a[d];d++)8!=b.nodeType&&(c=1==b.nodeType?c+f(b):c+b.nodeValue);return c}var a={},d=0,c=n._scopeName+"attrid";l.add("dom-textContent",function(a,c,d){return"textContent"in d});m.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};m.get=function(a,c){a=g.byId(a);var d=c.toLowerCase(),
d=m.names[d]||c;return"textContent"!=d||l("dom-textContent")?a[d]:f(a)};m.set=function(p,f,s){p=g.byId(p);if(2==arguments.length&&"string"!=typeof f){for(var r in f)m.set(p,r,f[r]);return p}r=f.toLowerCase();r=m.names[r]||f;if("style"==r&&"string"!=typeof s)return b.set(p,s),p;if("innerHTML"==r)return l("ie")&&p.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(p),p.appendChild(h.toDom(s,p.ownerDocument))):p[r]=s,p;if("textContent"==r&&!l("dom-textContent"))return h.empty(p),
p.appendChild(p.ownerDocument.createTextNode(s)),p;if(k.isFunction(s)){var t=p[c];t||(t=d++,p[c]=t);a[t]||(a[t]={});var n=a[t][r];if(n)e.disconnect(n);else try{delete p[r]}catch(x){}s?a[t][r]=e.connect(p,r,s):p[r]=null;return p}p[r]=s;return p}})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(m,n,l,k){return m("dijit.CheckedMenuItem",l,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:k,
checked:!1,_setCheckedAttr:function(g){this.domNode.setAttribute("aria-checked",g?"true":"false");this._set("checked",g)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(g){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(g)}})})},"tm1web/celledit/shortcut-parser":function(){define(["../share/DataEntryShortcutParser"],function(m){return new m})},"tm1web/workbook/controls/Factory":function(){define("dojo/_base/declare dojo/_base/lang ./Type ./ActionButton ./ActiveXComboBox ./CheckBox ./ComboBox ./Image ./Label ./ListBox ./OptionButton ./TextBox".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){return m(null,{model:null,constructor:function(a){n.mixin(this,a)},newInstance:function(p){var q;switch(p.type){case l.ActionButton:q=k;break;case l.ActiveXComboBox:q=g;break;case l.CheckBox:q=b;break;case l.ComboBox:q=h;break;case l.Image:q=e;break;case l.Label:q=f;break;case l.ListBox:q=a;break;case l.OptionButton:q=d;break;case l.TextBox:q=c;break;default:return null}return new q(p)}})})},"tm1web/mobile/_ScrollDeltaMixin":function(){define(["dojo/_base/declare"],
function(m){return m(null,{_retainStartCoordinates:!0,_currentX:null,_currentY:null,_onTouchStart:function(m){m.touches&&this._setCoordinates(this._getPageX(m),this._getPageY(m))},_onTouchMove:function(m){if(m.touches&&!(1<m.touches.length)){var l=this._getPageX(m);m=this._getPageY(m);this._handleTouchMove(this._getDeltaX(l),this._getDeltaY(m));this._retainStartCoordinates||this._setCoordinates(l,m)}},_handleTouchMove:function(m,l){},_onTouchEnd:function(m){this._setCoordinates(null,null)},_setCoordinates:function(m,
l){this._currentX=m;this._currentY=l},_getDeltaX:function(m){return this._currentX-m},_getDeltaY:function(m){return this._currentY-m},_getPageX:function(m){return m.touches[0].pageX},_getPageY:function(m){return m.touches[0].pageY}})})},"tm1web/utility/css-loader":function(){define(["dojo/_base/window","dojo/on","dojo/Deferred","dojo/dom-construct","./url"],function(m,n,l,k,g){var b=m.doc.getElementsByTagName("head")[0],h={},e=function(a,d){var c={remove:function(){k.destroy(a);a=c=null;delete h[d]}};
return h[d]=c},f=function(a){var d=new l,c=d.promise,p=g.compact(a),f=h[p];if(f)return d.resolve(f),c;a=k.create("link",{type:"text/css",rel:"stylesheet",href:p},b);f=e(a,p);if("onload"in a)n.once(a,"load, error",function(a){"load"===a.type?d.resolve(f):(f.remove(),d.reject(p+" failed to load."))});else d.resolve(f);return c};return{load:function(a,d,c){if(3<=arguments.length&&"string"===typeof a&&"function"===typeof d&&"function"===typeof c){var p=d.toUrl(a);f(p).then(function(){c(1)})}else return f(a)}}})},
"tm1web/utility/message-localizer":function(){define(["dojo/_base/lang","dojo/i18n!../common/nls/CommonMessages"],function(m,n){return{get:function(l){if(l in n){var k=n[l];return 1<arguments.length?m.replace(k,Array.prototype.slice.call(arguments,1)):k}console.error("Localized string not found for key: "+l);return"^"+l}}})},"tm1web/workbook/celledit/PickListValueSaver":function(){define("dojo/_base/declare ../../widgets/ErrorAlert ../../cubeview/ViewCellType ../../utility/message-localizer ./_CellListValueSaver ../../config-settings ../../config-settings!".split(" "),
function(m,n,l,k,g,b){return m(g,{_isRecalcOnChangeRequired:function(){return b.recalculateOnPicklistChange},_checkInputString:function(b,e,f){""===b&&f.cellType===l.NUM?this.inherited("_checkInputString",["0",e,f]):this.inherited(arguments)},_handleInvalidUserInput:function(b,e,f){n.show({message:k.get("INVALID_VALUE"),title:k.get("EDITING_ERROR_TITLE_STR")});this._saveDeferred.resolve(!1,!1)}})})},"tm1web/subseteditor/ElementType":function(){define({Consolidated:"Consolidated",Simple:"Simple",String:"String"})},
"tm1web/share/http-session-initializer":function(){define(["dojo/Deferred","./service-loader!TM1Service"],function(m,n){var l;return{init:function(){if(l)return l.promise;l=new m;n.initializeHttpSession({callback:function(){l.resolve();setTimeout(function(){l=null},1E4)},errorHandler:function(k){l.reject(k);l=null}});return l.promise}}})},"tm1web/utility/units":function(){define(["dojo/_base/window","dojo/dom-construct"],function(m,n){var l=function(){var k=n.create("div",{style:{width:"1in",height:"1in"}},
m.doc.body),g=k.offsetWidth/72;n.destroy(k);return g}();return{toPx:function(k){return k*l},toPt:function(k){return k/l}}})},"tm1web/websheet/spreading/SpreadDialogClear":function(){define(["dojo/_base/declare","./SpreadDialogBase"],function(m,n){return m(n,{constructor:function(){this._InitializeSpreadDialogClear()},_InitializeSpreadDialogClear:function(){},_CreateContent:function(){this._CreateExtendContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},
_GetControlString:function(){var l;l="C";0<(this._DirectionValue&1)&&(l+="\x3c");0<(this._DirectionValue&2)&&(l+="\x3e");0<(this._DirectionValue&4)&&(l+="^");0<(this._DirectionValue&8)&&(l+="|");return l}})})},"tm1web/subseteditor/TreeUpdateSynchronizer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dijit/Destroyable"],function(m,n,l,k){return m(k,{_pendingUpdate:null,_executionCount:0,constructor:function(g){this._attachListeners(g)},_attachListeners:function(g){var b=
this;this.own(l.around(g,"_expandNode",function(h){return function(){return b._execute(this,h,arguments)}}));this.own(l.around(g,"_collapseNode",function(h){return function(){return b._execute(this,h,arguments)}}));this.own(l.around(g,"_onFetch",function(h){return function(e){if(0<b._executionCount)b._pendingUpdate=n.hitch(this,h,e);else return b._execute(this,h,arguments)}}))},_execute:function(g,b,h){this._executionCount++;return b.apply(g,h).then(n.hitch(this,"_onExecuteComplete"))},_onExecuteComplete:function(){this._executionCount--;
if(0>=this._executionCount&&this._pendingUpdate){var g=this._pendingUpdate;this._pendingUpdate=null;this._executionCount++;g().then(n.hitch(this,"_onExecuteComplete"))}},destroy:function(){this.inherited(arguments);this._pendingUpdate=null}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(m,n){return m("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},
_getFocusItems:function(){var l=n._getTabNavigable(this.domNode);this._firstFocusItem=l.lowest||l.first||this.closeButtonNode||this.domNode;this._lastFocusItem=l.last||l.highest||this._firstFocusItem}})})},"tm1web/workbook/VerticalAlignmentType":function(){define({Top:"Top",Center:"Center",Bottom:"Bottom",Justify:"Justify"})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p){function q(){}function s(a){return function(c,d,p,f){return c&&"string"==typeof d&&c[d]==q?c.on(d.substring(2).toLowerCase(),h.hitch(p,f)):a.apply(l,arguments)}}m.around(l,"connect",s);b.connect&&m.around(b,"connect",s);return k("dijit._Widget",[d,c,p],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(a){this._toConnect={};for(var c in a)this[c]===
q&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===q?l.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,c)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){b.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?e("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),
function(m,n,l,k,g,b,h){return m("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(b){this._set("list",b)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(b){return new RegExp("^"+b.replace(/(\\.)|(\*)|(\?)|\W/g,function(f,a,d,c){return d?".*":c?".":a?a:"\\"+f})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&
(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(b){if(!this.disabled&&!this.readOnly){var f=b.charOrCode;if(!("type"in b&&"key"==b.type.substring(0,3)&&(b.altKey||(b.ctrlKey||b.metaKey)&&"x"!=f&&"v"!=f||f==n.SHIFT))){this._prev_key_backspace=
b=!1;switch(f){case n.DELETE:case n.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:b="string"==typeof f||229==f}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(e){this._abortQuery();var f=this,a=l.clone(this.query),d={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},c=
g.substitute(this.queryExpr,[e.replace(/([\\\*\?])/g,"\\$1")]),p,h=function(){var c=f._fetchHandle=f.store.query(a,d);f.disabled||f.readOnly||p!==f._lastQuery||b(c,function(e){f._fetchHandle=null;f.disabled||f.readOnly||p!==f._lastQuery||b(c.total,function(c){e.total=c;var p=f.pageSize;if(isNaN(p)||p>e.total)p=e.total;e.nextPage=function(c){d.direction=c=!1!==c;d.count=p;c?(d.start+=e.length,d.start>=e.total&&(d.count=0)):(d.start-=p,0>d.start&&(d.count=Math.max(p+d.start,0),d.start=0));0>=d.count?
(e.length=0,f.onSearch(e,a,d)):h()};f.onSearch(e,a,d)})},function(a){f._fetchHandle=null;f._cancelingQuery||console.error(f.declaredClass+" "+a.toString())})};l.mixin(d,this.fetchProperties);this.store._oldAPI?p=c:(p=this._patternToRegExp(c),p.toString=function(){return c});this._lastQuery=a[this.searchAttr]=p;this._queryDeferHandle=this.defer(h,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;b&&(this.store=
h.byId(b))}this.inherited(arguments)}})})},"tm1web/grid/selection/RightBorderSelection":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget ./_BorderOffsetMixin".split(" "),function(m,n,l,k,g,b,h){return m([b,h],{constructor:function(b){this.inherited(arguments);this._borderOffset=3},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,f){this._setStyle(b.left+b.width,b.top,-1,b.height+this._borderOffset)}})})},
"tm1web/websheet/spreading/SpreadDialogStraightLine":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/form/RadioButton ../../utility/message-localizer ../../cubeview/TitlePanel ./SpreadDialogBase dijit/registry".split(" "),function(m,n,l,k,g,b,h,e,f){return m(e,{constructor:function(){this._ActionValue=this._DirectionValue="";this._EndValue=this._StartValue=null;this._HorizontalVerticalValue="\x3e";this._InitializeSpreadDialogStraightLine()},_InitializeSpreadDialogStraightLine:function(){},
_CreateContent:function(){this._CreateValuesContent(this._Dialog.containerNode);this._CreateExtendContent(this._Dialog.containerNode);this._CreateUpdateActionContent();this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons");"GR"==this._CommandString&&(this._EndValue.value="")},_CreateValueTextBox:function(a,d,c){c=this.CreatePanel("",c);var p=f.getUniqueId("tm1webValueTextBoxLabelInline"),b=this.CreateA11yLabel(d,"","tm1webValueTextBoxLabelInline",
p);k.place(b,c);b.innerHTML=a;a=k.create("input");a.value=this._convertFloat(this._cellInfo.numericValue);l.add(a,"tm1webValueTextBox");a.setAttribute("type","text");a.setAttribute("id",p);k.place(a,c);k.place(c,d);return a},_CreateValuesContent:function(a){a=(new h("",null,null,"tm1webSpreadStraightLineBox tm1webValueStraightLineSet")).Create(a);this._StartValue=this._CreateValueTextBox(this._StartValueTitle,a,"tm1webValueDiv");this._EndValue=this._CreateValueTextBox(this._EndValueTitle,a,"tm1webValueDiv")},
_CreateExtendContent:function(a){a=(new h(b.get("SPREAD_SECTION_EXTEND"),null,null,"tm1webSpreadStraightLineBox tm1webExtendStraightLineSet tm1webExtendStraightLineSetExtend")).Create(a);this._CreateExtendRadionButtonList(a)},_CreateExtendRadionButtonList:function(a){var d=this.CreatePanel();k.place(d,a);l.add(d,"tm1webDataSpreadHorizontalContainer");this._CreateExtendChoiceRadioButton(b.get("SPREAD_LABEL_HORIZONTAL"),!1,"\x3c\x3e",d);this._CreateExtendChoiceRadioButton(b.get("SPREAD_LABEL_RIGHT"),
!0,"\x3e",d);this._CreateExtendChoiceRadioButton(b.get("SPREAD_LABEL_LEFT"),!1,"\x3c",d);d=this.CreatePanel();k.place(d,a);l.add(d,"tm1webDataSpreadHorizontalContainer");this._CreateExtendChoiceRadioButton(b.get("SPREAD_LABEL_VERTICAL"),!1,"^|",d);this._CreateExtendChoiceRadioButton(b.get("SPREAD_LABEL_DOWN"),!1,"|",d);this._CreateExtendChoiceRadioButton(b.get("SPREAD_LABEL_UP"),!1,"^",d)},_CreateExtendChoiceRadioButton:function(a,d,c,p){_this=this;var f=this.CreatePanel();k.place(f,p);l.add(f,"tm1webRadioLayout");
p=this._CreateCheckBoxLabelDiv(f);c=new g({name:"ExtendChoice",value:c});c.setChecked(d);c.onClick=function(){_this._OnExtendRadioButtonClick(this)};k.place(c.domNode,p);this._CreateCheckBoxLabel(a,p,c.id);return c},_OnExtendRadioButtonClick:function(a){a.checked&&(this._HorizontalVerticalValue=a.value)},_GetControlString:function(){var a=this._CommandString,a=a+this._ActionValue+this._HorizontalVerticalValue,d=this._StartValue.value,a=a+n.trim(d),d=this._EndValue.value;return a+=":"+n.trim(d)},_CreateUpdateActionContent:function(){var a=
(new h(b.get("SPREAD_SECTION_UPDATE"),null,null,"tm1webSpreadingUpdateActions")).Create(this._Dialog.containerNode);this._CreateRadioButtonList(a)}})})},"tm1web/workbook/utility/flexbox":function(){define({setVerticalAlignment:function(m,n){var l=this.getVerticalAlignmentProperty(m.style);l&&("MsFlexAlign"===l&&(n=n.replace(/flex-/,"")),m.style[l]=n)},getVerticalAlignment:function(m){var n=this.getVerticalAlignmentProperty(m);if(!n)return null;m=m[n];"MsFlexAlign"!==n||"start"!==m&&"end"!==m||(m=
"flex-"+m);return m},getVerticalAlignmentProperty:function(m){if("alignItems"in m)return"alignItems";if("WebkitAlignItems"in m)return"WebkitAlignItems";if("MsFlexAlign"in m)return"MsFlexAlign";console.error("Flexbox is not supported.");return null}})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(m){return m})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/sniff","./TextBox"],function(m,n,l,k){return m("dijit.form.SimpleTextarea",k,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&
n.add(this.textbox,"dijitTextAreaCols")},filter:function(g){g&&(g=g.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(g){if(this.maxLength){var b=parseInt(this.maxLength),h=this.textbox.value.replace(/\r/g,""),b=h.length-b;if(0<b){var e=this.textbox;if(e.selectionStart){var f=e.selectionStart,a=0;l("opera")&&(a=(this.textbox.value.substring(0,f).match(/\r/g)||[]).length);this.textbox.value=h.substring(0,f-b-a)+h.substring(f-a);e.setSelectionRange(f-b,f-b)}else this.ownerDocument.selection&&
(e.focus(),h=this.ownerDocument.selection.createRange(),h.moveStart("character",-b),h.text="",h.select())}}this.inherited(arguments)}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(m,n,l){return l("dijit.Destroyable",null,{destroy:function(k){this._destroyed=!0},own:function(){var k=["destroyRecursive","destroy","remove"];m.forEach(arguments,function(g){function b(){e.remove();m.forEach(f,function(a){a.remove()})}var h,e=n.before(this,"destroy",
function(a){g[h](a)}),f=[];g.then?(h="cancel",g.then(b,b)):m.forEach(k,function(a){"function"===typeof g[a]&&(h||(h=a),f.push(n.after(g,a,b,!0)))})},this);return arguments}})})},"dojo/request":function(){define(["./request/default!"],function(m){return m})},"tm1web/utility/percent":function(){define(["dojo/i18n!dojo/cldr/nls/number","./string"],function(m,n){var l=m.percentFormat.match(/(.*?)([#,0]+)(.*)/),k=String.fromCharCode(32),g=l[1].replace(/\s+/g,k),b=l[3].replace(/\s+/g,k),h=m.minusSign,e=
m.plusSign,f=m.percentSign;return{removeFormat:function(a){var d="",c=g,p=a.replace(/\s\%/g," %");a&&0<a.length&&a.charAt(0)==h&&(c=h+c,d=h);return(a=n.removePreSuffix(p,c,b))?d+a:a},addFormat:function(a){var d="";a.charAt(0)==h&&(a=a.substring(1,a.length),d=h);return d+n.addPreSuffix(a,g,b)},getRange:function(a){if(null==this.removeFormat(a))return null;var d=0;0<g.length&&a&&0<a.length&&(a.charAt(0)==h||a.charAt(0)==e)&&(d=1);return{start:g.length+d,end:a.length-b.length}},formatUsesPrefixedPercent:function(){return-1!=
g.indexOf(f)},removePlusSignBeforePercent:function(a){return 2>a.length?a:a.charAt(0)==e&&a.charAt(1)==f?a.substring(1,a.length):a},pushMinusSignBehindPercent:function(a){return a&&1<a.length&&a.charAt(0)==h&&a.charAt(1)==f?f+h+a.substring(2,a.length):a}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(m,n,l,k,g,b,h){var e=function(){},f=Object.freeze||function(){},a=m.Deferred=function(d){function c(a){if(s)throw Error("This deferred has already been resolved");
h=a;s=!0;p()}function p(){for(var a;!a&&w;){var c=w;w=w.next;if(a=c.progress==e)s=!1;var d=m?c.error:c.resolved;g("config-useDeferredInstrumentation")&&m&&n.instrumentRejected&&n.instrumentRejected(h,!!d);if(d)try{var p=d(h);p&&"function"===typeof p.then?p.then(b.hitch(c.deferred,"resolve"),b.hitch(c.deferred,"reject"),b.hitch(c.deferred,"progress")):(d=a&&void 0===p,a&&!d&&(m=p instanceof Error),c.deferred[d&&m?"reject":"resolve"](d?h:p))}catch(f){c.deferred.reject(f)}else m?c.deferred.reject(h):
c.deferred.resolve(h)}}var h,s,r,t,m,x,w,v=this.promise=new l;this.isResolved=v.isResolved=function(){return 0==t};this.isRejected=v.isRejected=function(){return 1==t};this.isFulfilled=v.isFulfilled=function(){return 0<=t};this.isCanceled=v.isCanceled=function(){return r};this.resolve=this.callback=function(a){this.fired=t=0;this.results=[a,null];c(a)};this.reject=this.errback=function(a){m=!0;this.fired=t=1;g("config-useDeferredInstrumentation")&&n.instrumentRejected&&n.instrumentRejected(a,!!w);
c(a);this.results=[null,a]};this.progress=function(a){for(var c=w;c;){var d=c.progress;d&&d(a);c=c.next}};this.addCallbacks=function(a,c){this.then(a,c,e);return this};v.then=this.then=function(c,d,f){var b=f==e?this:new a(v.cancel);c={resolved:c,error:d,progress:f,deferred:b};w?x=x.next=c:w=x=c;s&&p();return b.promise};var y=this;v.cancel=this.cancel=function(){if(!s){var a=d&&d(y);s||(a instanceof Error||(a=new k(a)),a.log=!1,y.reject(a))}r=!0};f(v)};b.extend(a,{addCallback:function(a){return this.addCallbacks(b.hitch.apply(m,
arguments))},addErrback:function(a){return this.addCallbacks(null,b.hitch.apply(m,arguments))},addBoth:function(a){var c=b.hitch.apply(m,arguments);return this.addCallbacks(c,c)},fired:-1});a.when=m.when=h;return a})},"tm1web/workbook/controls/ComboBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/text!./templates/ComboBox.html dijit/_TemplatedMixin ./_Control ../../utility/message-localizer ../../widgets/AlertDialog".split(" "),function(m,n,l,k,g,b,h){return m("tm1web.workbook.controls.ComboBox",
[g,k],{templateString:l,values:null,buildRendering:function(){this.inherited(arguments)},update:function(b){this.inherited(arguments);this.set("values",b.values)},_setValuesAttr:function(){for(var b=this.values,f=b.length,a=document.createDocumentFragment(),d=!1,c=0;c<f;c++)n.create("option",{textContent:b[c],selected:this._isSelected(c)},a),d|=this._isSelected(c);2>this.domNode.size&&!d&&(b=n.create("option",{disabled:!0,selected:!0,hidden:!0,innerHTML:""}),a.insertBefore(b,a.firstChild));n.place(a,
this.domNode,"only")},_isSelected:function(b){return b===this.selectedIndex},_onChange:function(e){e=this.domNode.selectedIndex;this.domNode.length>this.values.length&&e--;this._set("selectedIndex",e);this.model.setComboBoxSelectedIndex(this.controlId,e).otherwise(function(f){h.show({message:b.get("SRV_ERR_STR")})})}})})},"tm1web/subseteditor/BottomToolbar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/store/Memory dojo/Deferred dojo/dom-class dojo/aspect dijit/registry dijit/Toolbar ../utility/message-localizer ../share/SkeletonMixin ../share/Label ./FindBar ./_TreePaneFocusMixin".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){return m([f,d,q],{model:null,postCreate:function(){this.inherited(arguments);b.add(this.domNode,"tm1webSubsetEditorBottomToolbar");this._addSkeletonChildren();this._addFindBar();this._attachObservers()},_attachObservers:function(){this._attachSubsetChangeListener();this._attachAliasChangeListener();var a=n.hitch(this,"_onMetaDataChange");this.own(h.after(this.model,"onMetaDataChange",a,!0));this.model.getMetaData().then(a)},_attachSubsetChangeListener:function(){this._onSubsetChangeHandle=
this._skeletonChildren.subsetSelect.on("change",n.hitch(this,"_onSubsetChange"))},_attachAliasChangeListener:function(){this._onAliasChangeHandle=this._skeletonChildren.aliasSelect.on("change",n.hitch(this,"_onAliasChange"))},_onMetaDataChange:function(a){this._updateSubsetCombo(a.subsets,a.selectedSubset);this._updateAliasCombo(a.aliases,a.selectedAlias);this._skeletonChildren.expandAboveButton.set("checked",a.expandAbove)},_onSubsetChange:function(a){this.model.setSubset(a)},_onAliasChange:function(a){"$_noalias_$"===
a&&(a="");this.model.setAlias(a)},_updateSubsetCombo:function(c,d){var p=this._skeletonChildren.subsetSelect,f=p.get("value"),b=[],e="";l.forEach(c,function(c){var p=c.name;p?c.isPublic||(p=a.get("SUBSET_PRIVATE_STR",p)):p=a.get("UNNAMED_PARENS");b.push({name:p,id:c.id});d.name===c.name&&d.isPublic===c.isPublic&&(e=c.id)});var h=p.get("store");h&&h.setData?h.setData(b):p.set("store",new k({data:b}));if(e!==f){var q=p.on("change",n.hitch(this,function(){q.remove();this._attachSubsetChangeListener()}));
this._onSubsetChangeHandle.remove();p.set("value",e)}},_updateAliasCombo:function(c,d){var p=this._skeletonChildren.aliasSelect,f=p.get("value");noAlias=a.get("NO_ALIAS_SELECTED_PARENS");items=[];items.push({name:noAlias,id:"$_noalias_$"});d||(d="$_noalias_$");l.forEach(c,function(a){items.push({name:a.caption,id:a.name})});var b=p.get("store");b&&b.setData?b.setData(items):p.set("store",new k({data:items}));if(d!==f){var e=p.on("change",n.hitch(this,function(){e.remove();this._attachAliasChangeListener()}));
this._onAliasChangeHandle.remove();p.set("value",d)}},_addFindBar:function(){this.findBar=(new p({subsetTree:this.subsetTree,dimensionTree:this.dimensionTree})).placeAt(this.domNode,"after");this.findBar.domNode.style.display="none";this.findBar.startup()},_createSkeletonChildren:function(){var d=this._skeletonChildren;d.findButton=this._newToggleButton(a.get("FIND_IN_SUBSET_STR"),"tm1webSubsetEditorIconFind","FindButton",n.hitch(this,"_toggleFind"));d.subsetSelectLabel=new c({selectable:!1,content:a.get("SUBSET_LABEL_STR")});
d.subsetSelect=this._newFilteringSelect("Subset","SubsetCombo");d.aliasSelectLabel=new c({selectable:!1,content:a.get("ALIAS_LABEL_STR")});d.aliasSelect=this._newFilteringSelect("Alias","AliasCombo");d.subsetSelectLabel.domNode.setAttribute("for",d.subsetSelect.id);d.aliasSelectLabel.domNode.setAttribute("for",d.aliasSelect.id);d.expandAboveButton=this._newButton(a.get("EXPAND_ABOVE_STR"),"tm1webSubsetEditorIconTreeAbove","ExpandAboveButton",n.hitch(this,"_expandAbove"))},_generateSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateFindInSubsetGroup());a.add(this._generateExpandAboveGroup());return a},_generateFindInSubsetGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.findButton);a.add(c.subsetSelectLabel);a.add(c.subsetSelect);a.add(c.aliasSelectLabel);a.add(c.aliasSelect);return a},_generateExpandAboveGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.expandAboveButton);return a},_getItemIdPrefix:function(){return"tm1web_subseteditor_BottomToolbar_"},
toggleFind:function(){var a=this._skeletonChildren.findButton;a.set("checked",!a.get("checked"));this._toggleFind()},_toggleFind:function(){var a=this._skeletonChildren.findButton.get("checked");this.findBar.domNode.style.display=a?"":"none";a?(this.findBar.resize(),this.findBar.focus()):this._activeTree.get("tree").clearFound()},_expandAbove:function(){this.model.setExpandAbove(this._skeletonChildren.expandAboveButton.get("checked"))}})})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],
function(m,n){return m.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:n("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:n("mac")&&!n("air")?n("safari")?91:224:17}})},"dojox/grid/_RowSelector":function(){define(["../main","dojo/_base/declare","./_View"],function(m,n,l){return m.grid._RowSelector=n("dojox.grid._RowSelector",l,{defaultWidth:"2em",noscroll:!0,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",
arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden"},getWidth:function(){return this.viewWidth||this.defaultWidth},buildRowContent:function(k,g){g.innerHTML='\x3ctable class\x3d"dojoxGridRowbarTable" style\x3d"width:'+(this.contentWidth||0)+'px;height:1px;" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd class\x3d"dojoxGridRowbarInner"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'},renderHeader:function(){},
updateRow:function(){},resize:function(){this.adaptHeight()},adaptWidth:function(){!("contentWidth"in this)&&this.contentNode&&0<this.contentNode.offsetWidth&&(this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth)},doStyleRowNode:function(k,g){var b=["dojoxGridRowbar dojoxGridNonNormalizedCell"];this.grid.rows.isOver(k)&&b.push("dojoxGridRowbarOver");this.grid.selection.isSelected(k)&&b.push("dojoxGridRowbarSelected");g.className=b.join(" ")},domouseover:function(k){this.grid.onMouseOverRow(k)},
domouseout:function(k){if(!this.isIntraRowEvent(k))this.grid.onMouseOutRow(k)}})})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(m,n,l){var k=m.NodeList;n.extend(k,{_buildArrayFromCallback:function(g){for(var b=[],h=0;h<this.length;h++){var e=g.call(this[h],this[h],b);e&&(b=b.concat(e))}return b},_getUniqueAsNodeList:function(g){for(var b=[],h=0,e;e=g[h];h++)1==e.nodeType&&-1==l.indexOf(b,e)&&b.push(e);return this._wrap(b,null,this._NodeListCtor)},
_getUniqueNodeListWithParent:function(g,b){var h=this._getUniqueAsNodeList(g),h=b?m._filterResult(h,b):h;return h._stash(this)},_getRelatedUniqueNodes:function(g,b){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(b),g)},children:function(g){return this._getRelatedUniqueNodes(g,function(b,h){return n._toArray(b.childNodes)})},closest:function(g,b){return this._getRelatedUniqueNodes(null,function(h,e){do if(m._filterResult([h],g,b).length)return h;while(h!=b&&(h=h.parentNode)&&
1==h.nodeType);return null})},parent:function(g){return this._getRelatedUniqueNodes(g,function(b,h){return b.parentNode})},parents:function(g){return this._getRelatedUniqueNodes(g,function(b,h){for(var e=[];b.parentNode;)b=b.parentNode,e.push(b);return e})},siblings:function(g){return this._getRelatedUniqueNodes(g,function(b,h){for(var e=[],f=b.parentNode&&b.parentNode.childNodes,a=0;a<f.length;a++)f[a]!=b&&e.push(f[a]);return e})},next:function(g){return this._getRelatedUniqueNodes(g,function(b,
h){for(var e=b.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e})},nextAll:function(g){return this._getRelatedUniqueNodes(g,function(b,h){for(var e=[],f=b;f=f.nextSibling;)1==f.nodeType&&e.push(f);return e})},prev:function(g){return this._getRelatedUniqueNodes(g,function(b,h){for(var e=b.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e})},prevAll:function(g){return this._getRelatedUniqueNodes(g,function(b,h){for(var e=[],f=b;f=f.previousSibling;)1==f.nodeType&&e.push(f);return e})},
andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(g,b){return 0!=b%2})},odd:function(){return this.filter(function(g,b){return 0==b%2})}});return k})},"tm1web/widgets/AlertDialog":function(){define(["dojo/_base/declare","dojo/aspect","dojo/Deferred","dojo/dom-class","./ConfirmDialog"],function(m,n,l,k,g){var b=
m("tm1web.widgets.AlertDialog",g,{buildRendering:function(){this.inherited(arguments);k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,"dijitHidden")}});b.show=function(h){var e=new l;h=new b(h);var f=n.after(h,"onHide",function(){f.remove();e.resolve()});h.show();return e.promise};return b})},"tm1web/mobile/on/longpress":function(){define(["dojo/_base/declare","./_Tap"],function(m,n){return new (m(n,{defaultEvent:"longpress",touchOnly:!0,holdThreshold:1E3,_overriddenEvent:"tap.hold",
_moveRadius:5,move:function(l,k){l.context&&this._hasMoved(l,k)&&(clearTimeout(l.tapTimeOut),this._touchStartEvent=null,delete l.context)},_hasMoved:function(l,k){var g=Math.abs(l.context.x-k.screenX),b=Math.abs(l.context.y-k.screenY);return g>this._moveRadius&&b>this._moveRadius}}))})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),function(m,n,l,k,g,b){b=n("dijit.form.MultiSelect"+
(k("dojo-bidi")?"_NoBidi":""),b,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(b){b.getSelected().forEach(function(e){this.containerNode.appendChild(e);this.domNode.scrollTop=this.domNode.offsetHeight;e=b.domNode.scrollTop;b.domNode.scrollTop=0;b.domNode.scrollTop=e},this);this._set("value",this.get("value"))},
getSelected:function(){return g("option",this.containerNode).filter(function(b){return b.selected})},_getValueAttr:function(){return m.map(this.getSelected(),function(b){return b.value})},multiple:!0,_setMultipleAttr:function(b){},_setValueAttr:function(b){k("android")?g("option",this.containerNode).orphan().forEach(function(e){var f=e.ownerDocument.createElement("option");f.value=e.value;f.selected=-1!=m.indexOf(b,e.value);f.text=e.text;f.originalText=e.originalText;this.containerNode.appendChild(f)},
this):g("option",this.containerNode).forEach(function(e){e.selected=-1!=m.indexOf(b,e.value)});this.inherited(arguments)},invertSelection:function(b){var e=[];g("option",this.containerNode).forEach(function(f){f.selected||e.push(f.value)});this._setValueAttr(e,!(!1===b||null==b))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(b){b&&l.setMarginBox(this.domNode,b)},postCreate:function(){this._set("value",this.get("value"));this.inherited(arguments)}});k("dojo-bidi")&&
(b=n("dijit.form.MultiSelect",b,{addSelected:function(b){b.getSelected().forEach(function(b){b.text=this.enforceTextDirWithUcc(this.restoreOriginalText(b),b.text)},this);this.inherited(arguments)},_setTextDirAttr:function(b){this.textDir==b&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",b),g("option",this.containerNode).forEach(function(b){this._created||b.value!==b.text||(b.value=b.text);b.text=this.enforceTextDirWithUcc(b,b.originalText||b.text)},this))}}));return b})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser require".split(" "),
function(m,n,l,k,g,b,h,e){h.isDebug&&l(["./_firebug/firebug"]);return m})},"tm1web/widgets/WarningOptionsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred ./ConfirmDialog ../utility/message-localizer dojo/dom-class dojox/html/entities".split(" "),function(m,n,l,k,g,b,h,e){var f=m("tm1web.widgets.WarningDialog",g,{buildRendering:function(){this.inherited(arguments);h.add(this.cancelButton.domNode,"tm1webBtnSecondary");this.containerNode.setAttribute("aria-label",
b.get("ARIA_IMG_WARNING_STR"))}});f.show=function(a){var d=new k;a.className="tm1webWarningDialog tm1webMessageDialog";warningDialog=new f(a);var c=l.after(warningDialog,"onCancel",function(){c.remove();p.remove();d.reject(!1)}),p=l.after(warningDialog,"_onSubmit",function(){c.remove();p.remove();d.resolve(!0)});warningDialog.show(a);return d.promise};return f})},"tm1web/websheet/spreading/RelativeSpreadDialogBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-construct dojo/aspect dijit/Dialog dijit/registry dijit/form/Button ../../utility/message-localizer ./SpreadDialogCommon".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return m(d,{constructor:function(){this.selectButton=this._ApplyPageContainer=this._SelectPageContainer=this._ApplyPageButtonContainer=this._SelectPageButtonContainer=this._RefCellVal=this._Dialog=null;this._InitializeRelativeSpreadDialogBase()},_InitializeRelativeSpreadDialogBase:function(){},Initialize:function(){this._CreateDialog()},_CreateDialog:function(a){this._Dialog=new h({title:this._Title},null);this.own(b.after(this._Dialog,"onHide",n.hitch(this._Dialog,
"destroyRecursive")));k.add(this._Dialog.domNode,a);k.add(this._Dialog.domNode,"tm1webFormDialog");this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){},_CreateBaseLayout:function(){this._SelectPageButtonContainer=this.CreatePanel("","tm1webDataRelativeSpread_selectButtonContainer tm1webDialogButtons");this._ApplyPageButtonContainer=this.CreatePanel("","tm1webDataRelativeSpread_applyButtonContainer tm1webDialogButtons");g.place(this._SelectPageButtonContainer,this._Dialog.containerNode);
g.place(this._ApplyPageButtonContainer,this._Dialog.containerNode);k.remove(this._SelectPageButtonContainer,"tm1webHidden");k.add(this._ApplyPageButtonContainer,"tm1webHidden");this._CreateSelectPageButtonContent(this._SelectPageButtonContainer);this._CreateApplyPageButtonContent(this._ApplyPageButtonContainer)},_CreateSelectPageButtonContent:function(c){this.selectButton=this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_SELECT"),this._OnSelect,c,"tm1WebBtnPrimary");this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_CANCEL"),
this._OnCancel,c,"tm1webBtnSecondary")},_CreateApplyPageButtonContent:function(c){this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_GO_BACK"),this._OnBack,c,"tm1webBtnSecondary");this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_APPLY"),this._OnApply,c,"tm1WebBtnPrimary");this._CreateButton(a.get("SPREAD_BUTTON_RELATIVE_CANCEL"),this._OnCancel,c,"tm1webBtnSecondary")},_CreateButton:function(a,d,b,e){a=new f({label:a,onClick:n.hitch(this,d)});k.add(a.domNode,e);g.place(a.domNode,b);return a},_OnSelect:function(){alert("have to be overriden")},
_OnBack:function(){k.add(this._ApplyPageButtonContainer,"tm1webHidden");k.add(this._ApplyPageContainer,"tm1webHidden");k.remove(this._SelectPageButtonContainer,"tm1webHidden");k.remove(this._SelectPageContainer,"tm1webHidden")},_OnCancel:function(){this.Destroy()},_OnApply:function(){},_OnSpread:function(a){l.publish(this._ObjectId+"-SetSheetsNeedRefresh",!0);l.publish(this._ObjectId+"-UpdateGrid",a)},Show:function(){this._Dialog.show()},Destroy:function(){this._Dialog.hide()}})})},"tm1web/share/service-loader":function(){define("dojo/_base/lang dojo/request/script dojo/sniff dojo/on dojo/aspect dojo/topic dojo/dom-construct dojo/dom-class ../utility/url ../utility/message-localizer ./DialogUnderlayEx dojo/domReady!".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){var c=null,p={},q={},s=f.toUrl("tm1web")+"/../../",r=f.isXDomainUrl(s),s=s+(r?"dwrx":"dwr");r&&(window.pathToDwrServlet=s);var t=n.get(s+"/engine.js").then(function(){window.pathToDwrServlet=void 0;c=window.dwr.engine;v();r&&A();if(""in p){for(var a=p[""],d=a.length,b=0;b<d;b++)a[b](1);delete p[""]}c.setOverrideContextPath("/");q[""]=1;t=void 0}),u=!0,x=null,w=!0,v=function(){c.setErrorHandler(function(c,d){y(c,d)?(!0===u&&(J.disableSessionTimeoutAlerts(750),alert(a.get("SESSION_TIMEOUT_STR")),
J.disableSessionTimeoutAlerts(750)),J.onSessionTimeout()):alert(null==c||""==c?a.get("SRV_ERR_STR"):c)})},y=function(a,c){return"com.ibm.cognos.tm1.web.session.SessionNotFoundException"===c.javaClassName},A=function(){g.around(c.batch,"constructRequest",function(a){return function(d){var p=a.apply(this,arguments);if(d.transport===c.transport.scriptTag){var b=p.url,b=b+((0>b.indexOf("?")?"?":"\x26")+"tm1webOrigin\x3d"+encodeURIComponent("origin"in location?location.origin:location.protocol+"//"+location.host));
p.url=b}else d.transport===c.transport.xhr&&(b=d.req)&&"withCredentials"in b&&(b.withCredentials=!0);return p}})},z=function(a){n.get(s+"/interface/"+a+".js").then(function(){var c=window[a];c._path=s;M(a);q[a]=c;for(var d=p[a],b=d.length,f=0;f<b;f++)d[f](c);delete p[a]})},B=0,E=null,F=null,I={CubeViewService:"Toggle dataSpread1 dataSpread2 Pivot SwapRowsAndColumns hold SuppressZerosBoth SuppressZerosRows SuppressZerosCols ChangeDisplayMode ChartTypeChanged Hide ShowAllHidden Sort ExpandToLevel SortTopBottom changeCellValue Navigate NavigateToPage saveData recalculate Paste deleteRange LoadData refreshMetadata saveView".split(" "),
TM1PlanningService:"TakeOwnership RejectNode SubmitNode ResetViews ResetView CommitSandbox ResetSandbox submitLeafChildren SwitchSandbox Redo Undo saveViewDataChanges".split(" "),SandboxService:["redo","undo"],TM1Service:["deleteNavigationTreeNode"],WebSheetService:"switchSheet dataSpread1 getHyperlinkWorkbookObjectId changeCellValue recalculate rebuildCurrentSheet rebuildCurrentWorkbook setCheckBoxChecked setComboBoxSelectedIndex selectRange setListBoxSelectedIndices setOptionButtonChecked getValidation toggle scrollWebSheet executeActionButton getActionButtonConfirmMessage loadWebSheet getCssFilePath pasteIntoSelectedArea deleteFromSelectedArea".split(" "),
SubsetService:"createCubeViewSubsetSession createWebSheetSubsetSession loadSubset submit copyElements moveElements setNamedSubset setAlias setExpandAbove saveSubset saveSubsetAs cut copy paste pasteAbove pasteBelow sort subsetAll reloadSubset keepSelectedElements deleteSelectedElements filterByLevel filterByAttribute filterByExpression getAttributeNames getAttributeValues expandSelectedConsolidations expandAll collapseSelectedConsolidations collapseAll insertParentsOfSelectedElements createConsolidationFromSubset createConsolidationFromSelectedElements".split(" "),
WorkbookService:"open recalculate rebuildWorksheet rebuildWorkbook refresh setCheckBoxChecked setOptionButtonChecked setTextBoxChecked setListBoxSelectedIndices setComboBoxSelectedIndex setComboBoxSelectedValue getActionButtonProcessConfirmation executeActionButton addCellAnnotation toggle paste spread relativeSpread hold copy paste autoFitColumns".split(" ")},M=function(a){var c=window[a],p=a in I,b;for(b in c)if("function"===typeof c[b]&&c.hasOwnProperty(b)){var f=p&&0<=I[a].indexOf(b);g.around(c,
b,m.partial(function(a,c){return function(){var p=arguments,b=p[p.length-1],f=null;!b||"object"!==typeof b||"function"!==typeof b.callback&&"function"!==typeof b.errorHandler&&"function"!==typeof b.exceptionHandler||(f=b);f?(b=H({requiresOverlay:a,callbackScope:f.callbackScope||f.scope||this,errorHandlerScope:f.exceptionScope||f.scope||this,callback:f.callback,errorHandler:f.exceptionHandler||f.errorHandler}),p[p.length-1].callback=b.callback,p[p.length-1].errorHandler=b.errorHandler,delete p[p.length-
1].exceptionHandler):Array.prototype.push.call(p,H({requiresOverlay:a}));a&&(w&&(E||(E=new d({tabindex:"-1"}),e.add(E.domNode,"tm1webAjaxCover")),E.domNode.style.cursor="wait",E.show(),0>=B&&(F=document.activeElement,E.domNode.focus())),B++);c.apply(this,arguments)}},f))}},O=function(){if(B&&(B--,0==B&&E)){E.domNode.style.cursor="";if(document.activeElement==E.domNode)if(F)try{F.focus()}catch(a){E.domNode.blur()}else E.domNode.blur();E.hide()}},H=function(a){return{callback:function(){a.requiresOverlay&&
O();var c=a.callback;"function"===typeof c&&c.apply(a.callbackScope,arguments)},errorHandler:function(d,p){a.requiresOverlay&&O();var b=a.errorHandler;"function"!==typeof b||y(d,p)?c._errorHandler(d,p):b.apply(a.errorHandlerScope,arguments)}}},J={load:function(a,c,d){a in q?d(q[a]):a in p?p[a].push(d):(p[a]=[d],t?""!==a&&t.then(function(){z(a,d)}):z(a,d))},normalize:function(a,c){return c(a)},onSessionTimeout:function(){b.publish("TM1Web-SessionTimeout")},disableSessionTimeoutAlerts:function(a){x&&
clearTimeout(x);"undefined"!==typeof a&&(x=setTimeout(function(){u=!0;x=null},Math.max(0,a)));u=!1},disableOverlay:function(){w=!1},getEngine:function(){return c}};return J})},"dojox/grid/_Layout":function(){define("dojo/_base/kernel ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-geometry ./cells ./_RowSelector".split(" "),function(m,n,l,k,g,b,h){return l("dojox.grid._Layout",null,{constructor:function(b){this.grid=b},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(b,
f,a,d,c){var p=this.structure[b].cells[0],h=this.structure[f].cells[0],g=null,r=g=0;b=0;for(var l;l=p[b];b++)if(l.index==a){g=b;break}g=p.splice(g,1)[0];g.view=this.grid.views.views[f];b=0;for(l=null;l=h[b];b++)if(l.index==d){r=b;break}c||(r+=1);h.splice(r,0,g);if(a=this.grid.getCell(this.grid.getSortIndex()))a._currentlySorted=this.grid.getSortAsc();this.cells=[];for(b=a=0;f=this.structure[b];b++)for(d=0;c=f.cells[d];d++)for(p=0;l=c[p];p++)l.index=a,this.cells.push(l),"_currentlySorted"in l&&(h=
a+1,h*=l._currentlySorted?1:-1,this.grid.sortInfo=h,delete l._currentlySorted),a++;k.forEach(this.cells,function(a){var c=a.markup[2].split(" ");parseInt(c[1].substring(5))!=a.index&&(c[1]='idx\x3d"'+a.index+'"',a.markup[2]=c.join(" "))});this.grid.setupHeaderMenu()},setColumnVisibility:function(e,f){var a=this.cells[e];if(a.hidden==f){a.hidden=!f;var d=a.view,c=d.viewWidth;c&&"auto"!=c&&(d._togglingColumn=b.getMarginBox(a.getHeaderNode()).w||0);d.update();return!0}return!1},addCellDef:function(b,
f,a){var d=this,c=function(a){var c=0;1<a.colSpan?c=0:(c=a.width||d._defaultCellProps.width||d.defaultWidth,isNaN(c)||(c+="em"));return c};b={grid:this.grid,subrow:b,layoutIndex:f,index:this.cells.length};if(a&&a instanceof h)return f=g.clone(a),b.unitWidth=c(f._props),f=g.mixin(f,this._defaultCellProps,a._props,b);f=a.type||a.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||h.Cell;g.isString(f)&&(f=g.getObject(f));b.unitWidth=c(a);return new f(g.mixin({},this._defaultCellProps,
a,b))},addRowDef:function(b,f){for(var a=[],d=0,c=0,p=!0,h=0,g;g=f[h];h++)g=this.addCellDef(b,h,g),a.push(g),this.cells.push(g),p&&g.relWidth?d+=g.relWidth:g.width&&(g=g.width,"string"==typeof g&&"%"==g.slice(-1)?c+=window.parseInt(g,10):"auto"==g&&(p=!1));d&&p&&k.forEach(a,function(a){a.relWidth&&(a.width=a.unitWidth=a.relWidth/d*(100-c)+"%")});return a},addRowsDef:function(b){var f=[];if(g.isArray(b))if(g.isArray(b[0]))for(var a=0,d;b&&(d=b[a]);a++)f.push(this.addRowDef(a,d));else f.push(this.addRowDef(0,
b));return f},addViewDef:function(b){this._defaultCellProps=b.defaultCell||{};b.width&&"auto"==b.width&&delete b.width;return g.mixin({},b,{cells:this.addRowsDef(b.rows||b.cells)})},setStructure:function(b){this.fieldIndex=0;this.cells=[];var f=this.structure=[];if(this.grid.rowSelector){var a={type:n._scopeName+".grid._RowSelector"};if(g.isString(this.grid.rowSelector)){var d=this.grid.rowSelector;"false"==d?a=null:"true"!=d&&(a.width=d)}else this.grid.rowSelector||(a=null);a&&f.push(this.addViewDef(a))}var c=
function(a){return"name"in a||"field"in a||"get"in a},a=function(a){return g.isArray(a)&&(g.isArray(a[0])||c(a[0]))?!0:!1},d=function(a){return null!==a&&g.isObject(a)&&("cells"in a||"rows"in a||"type"in a&&!c(a))};if(g.isArray(b)){for(var p=!1,h=0,s;s=b[h];h++)if(d(s)){p=!0;break}if(p)for(h=0;s=b[h];h++)a(s)?f.push(this.addViewDef({cells:s})):d(s)&&f.push(this.addViewDef(s));else f.push(this.addViewDef({cells:b}))}else d(b)&&f.push(this.addViewDef(b));this.cellCount=this.cells.length;this.grid.setupHeaderMenu()}})})},
"dojo/data/util/filter":function(){define(["../../_base/kernel","../../_base/lang"],function(m,n){var l={};n.setObject("data.util.filter",l,m);l.patternToRegExp=function(k,g){for(var b="^",h=null,e=0;e<k.length;e++)switch(h=k.charAt(e),h){case "\\":b+=h;e++;b+=k.charAt(e);break;case "*":b+=".*";break;case "?":b+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":b+="\\";default:b+=h}b+="$";return g?new RegExp(b,"mi"):new RegExp(b,
"m")};return l})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(m,n,l,k){var g=l.getObject("dnd",!0,n);g.getCopyKeyState=function(b){return b[m("mac")?"metaKey":"ctrlKey"]};g._uniqueId=0;g.getUniqueId=function(){var b;do b=n._scopeName+"Unique"+ ++g._uniqueId;while(k.byId(b));return b};g._empty={};g.isFormElement=function(b){b=b.target;3==b.nodeType&&(b=b.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+b.tagName.toLowerCase()+
" ")};return g})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(m,n){return function(l,k,g,b){var h=l&&"function"===typeof l.then,e=h&&l instanceof n;if(!h)return 1<arguments.length?k?k(l):l:(new m).resolve(l);e||(h=new m(l.cancel),l.then(h.resolve,h.reject,h.progress),l=h.promise);return k||g||b?l.then(k,g,b):l}})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(m,
n,l,k,g){return n("dijit.tree.ForestStoreModel",g,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(b){this.root={store:this,root:!0,id:b.rootId,label:b.rootLabel,children:b.rootChildren}},mayHaveChildren:function(b){return b===this.root||this.inherited(arguments)},getChildren:function(b,h,e){b===this.root?this.root.children?h(this.root.children):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(b){this.root.children=b;h(b)}),onError:e}):this.inherited(arguments)},
isItem:function(b){return b===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(b){if(b.identity==this.root.id){var h=b.scope||l.global;b.onItem&&b.onItem.call(h,this.root)}else this.inherited(arguments)},getIdentity:function(b){return b===this.root?this.root.id:this.inherited(arguments)},getLabel:function(b){return b===this.root?this.root.label:this.inherited(arguments)},newItem:function(b,h,e){return h===this.root?(this.onNewRootItem(b),this.store.newItem(b)):this.inherited(arguments)},
onNewRootItem:function(){},pasteItem:function(b,h,e,f,a){if(h===this.root&&!f)this.onLeaveRoot(b);this.inherited(arguments,[b,h===this.root?null:h,e===this.root?null:e,f,a]);if(e===this.root)this.onAddToRoot(b)},onAddToRoot:function(b){},onLeaveRoot:function(b){},_requeryTop:function(){var b=this.root.children||[];this.store.fetch({query:this.query,onComplete:k.hitch(this,function(h){this.root.children=h;if(b.length!=h.length||m.some(b,function(b,f){return h[f]!=b}))this.onChildrenChange(this.root,
h)})})},onNewItem:function(b,h){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(b){-1!=m.indexOf(this.root.children,b)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(b,h,e,f){this._requeryTop();this.inherited(arguments)}})})},"dijit/layout/_ScrollingTabControllerButtonMixin":function(){define(["dojo/_base/declare","dojo/text!./templates/_ScrollingTabControllerButton.html"],function(m,n){return m("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",
templateString:n,tabIndex:"",isFocusable:function(){return!1}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){return l("dijit.Menu",s,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,
refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):n.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return p.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||
null},bindDomNode:function(d){d=k.byId(d,this.ownerDocument);var b;if("iframe"==d.tagName.toLowerCase()){var p=d;b=this._iframeContentWindow(p);b=c.body(b.document)}else b=d==c.body(this.ownerDocument)?this.ownerDocument.documentElement:d;var h={node:d,iframe:p};g.set(d,"_dijitMenu"+this.id,this._bindings.push(h));var q=f.hitch(this,function(c){var d=this.selector,b=d?function(c){return a.selector(d,c)}:function(a){return a},f=this;return[a(c,b(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();
a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||f._scheduleOpen(this,p,{x:a.pageX,y:a.pageY},a.target)}),a(c,b("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==e.F10||this.leftClickToOpen&&a.keyCode==e.SPACE)a.stopPropagation(),a.preventDefault(),f._scheduleOpen(this,p,null,a.target),this._lastKeyDown=(new Date).getTime()})]});h.connects=b?q(b):[];p&&(h.onloadHandler=f.hitch(this,function(){var a=this._iframeContentWindow(p),a=c.body(a.document);h.connects=q(a)}),p.addEventListener?
p.addEventListener("load",h.onloadHandler,!1):p.attachEvent("onload",h.onloadHandler))},unBindDomNode:function(a){var c;try{c=k.byId(a,this.ownerDocument)}catch(d){return}a="_dijitMenu"+this.id;if(c&&g.has(c,a)){for(var b=g.get(c,a)-1,p=this._bindings[b],f;f=p.connects.pop();)f.remove();(f=p.iframe)&&(f.removeEventListener?f.removeEventListener("load",p.onloadHandler,!1):f.detachEvent("onload",p.onloadHandler));g.remove(c,a);delete this._bindings[b]}},_scheduleOpen:function(a,c,d,p){this._openTimer||
(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:p,delegatedTarget:a,iframe:c,coords:d})},1))},_openMyself:function(a){function c(){m.refocus&&n&&n.focus();q.close(m)}var p=a.target,f=a.iframe,e=a.coords,g=!e;this.currentTarget=a.delegatedTarget;if(e){if(f){a=b.position(f,!0);var p=this._iframeContentWindow(f),p=b.docScroll(p.document),s=h.getComputedStyle(f),r=h.toPixelValue,l=(d("ie")&&d("quirks")?0:r(f,s.paddingLeft))+(d("ie")&&d("quirks")?r(f,s.borderLeftWidth):
0),f=(d("ie")&&d("quirks")?0:r(f,s.paddingTop))+(d("ie")&&d("quirks")?r(f,s.borderTopWidth):0);e.x+=a.x+l-p.x;e.y+=a.y+f-p.y}}else e=b.position(p,!0),e.x+=10,e.y+=10;var m=this,f=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var n=!a||k.isDescendant(a,this.domNode)?f:a;q.open({popup:this,x:e.x,y:e.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();g||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);
q.close(this)}},destroy:function(){n.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(m,n,l,k,g,b){function h(a,d){var c=a.getAttributeNode&&a.getAttributeNode(d);return!!c&&c.specified}var e={innerHTML:1,textContent:1,className:1,htmlFor:n("ie"),value:1},f={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};
m.has=function(a,d){var c=d.toLowerCase();return e[b.names[c]||d]||h(k.byId(a),f[c]||d)};m.get=function(a,d){a=k.byId(a);var c=d.toLowerCase(),p=b.names[c]||d,q=a[p];if(e[p]&&"undefined"!=typeof q)return q;if("textContent"==p)return b.get(a,p);if("href"!=p&&("boolean"==typeof q||l.isFunction(q)))return q;c=f[c]||d;return h(a,c)?a.getAttribute(c):null};m.set=function(a,d,c){a=k.byId(a);if(2==arguments.length){for(var p in d)m.set(a,p,d[p]);return a}p=d.toLowerCase();var h=b.names[p]||d,s=e[h];if("style"==
h&&"string"!=typeof c)return g.set(a,c),a;if(s||"boolean"==typeof c||l.isFunction(c))return b.set(a,d,c);a.setAttribute(f[p]||d,c);return a};m.remove=function(a,d){k.byId(a).removeAttribute(f[d.toLowerCase()]||d)};m.getNodeProp=function(a,d){a=k.byId(a);var c=d.toLowerCase(),p=b.names[c]||d;if(p in a&&"href"!=p)return a[p];c=f[c]||d;return h(a,c)?a.getAttribute(c):null}})},"tm1web/utility/url":function(){define(["dojo/_base/lang","dojo/io-query","dojox/validate/regexp","./string"],function(m,n,l,
k){var g=l.url({scheme:!0,allowLocal:!0,allowNamed:!0}),b=l.url({allowLocal:!0,allowNamed:!0});l=l.host({allowLocal:!0,allowNamed:!0});g=g.replace("(?:\\?[^?#\\s/]*)?","(?:\\?[^?#\\s]*)?");b=b.replace("(?:\\?[^?#\\s/]*)?","(?:\\?[^?#\\s]*)?");l=g.substring(0,g.indexOf(l)+l.length);l=l.replace("|^[^-][a-zA-Z0-9_-]*","|[^-][a-zA-Z0-9_-]*");var h=new RegExp("^("+g+")$","i"),e=new RegExp("^("+b+")$","i"),f=new RegExp("^("+l+")","i");return{isXDomainUrl:function(a){return(a.startsWith?a.startsWith("."):
0==a.indexOf("."))?!1:(a=a.match(/^([^\/\:]+\:)\/\/([^\/]+)/))&&(a[1]!=location.protocol||a[2]!=location.host)},toUrl:function(a,d){d||(d=require);var c=d.toUrl(a);!k.endsWith(a,"main")&&k.endsWith(c,"/main")&&(c=c.substring(0,c.length-5));return c},isUrl:function(a,d){var c=!1;(c=d||null==d?h.test(a):e.test(a))||(c=/^((https?):\/\/)/.test(a));return c},compact:function(a){var d="",c=a,p=a.match(f);p&&(d=p[0],c=c.substring(d.length));var c=c.split("/"),p=[],b=c.length&&!c[0];!d&&b&&(b=!1,d="/");for(var e=
0;e<c.length;e++){var h=c[e];if(h&&"."!==h){if(".."===h&&!p.length&&d)throw Error("The specified URL was invalid: "+a);".."===h&&p.length&&".."!==p[p.length-1]?p.pop():p.push(h)}}return d+(b&&p.length?"/":"")+p.join("/")},getQueryString:function(){var a=location.search;a&&(a=a.substring(1));return a},getQueryObject:function(){return n.queryToObject(this.getQueryString())},setQueryString:function(a){var d=n.objectToQuery(a);location.search=d?"?"+n.objectToQuery(a):""},appendToQueryString:function(a){this.setQueryString(m.mixin(this.getQueryObject(),
a))}}})},"tm1web/grid/selection/TopBorderSelection":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget ./_BorderOffsetMixin".split(" "),function(m,n,l,k,g,b,h){return m([b,h],{constructor:function(b){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,f){this._setStyle(b.left,b.top,b.width,-1)}})})},"dijit/ConfirmDialog":function(){define(["../dojo/_base/declare","./Dialog",
"./_ConfirmDialogMixin"],function(m,n,l){return m("dijit/ConfirmDialog",[n,l],{})})},"tm1web/workbook/controls/ImageMap":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_TemplatedMixin","dijit/_WidgetBase"],function(m,n,l,k){return m("tm1web.workbook.controls.ImageMap",[k,l],{templateString:'\x3cmap name\x3d"${name}" class\x3d"tm1webGridControl"\x3e\x3c/map\x3e',buildRendering:function(g){this.inherited(arguments);var b=this.imageMap,h=null;if("Column"==b.type||"Bar"==b.type||
"Waterfall"==b.type)h="rect";else if("Point"==b.type||"Radar"==b.type||"Area"==b.type)h="circle";else return;for(var e=0;e<b.dataPoints.length;e++){var f=b.dataPoints[e],a=null;"rect"==h?a=f.left+","+f.top+","+f.right+","+f.bottom:"circle"==h&&(a=f.left+","+f.top+","+f.radius);a=n.create("area",{id:"",coords:a,shape:h,title:f.value},this.domNode);null!=f.drillString&&(a.drillInfo={drillList:f.drillString,cellReference:f.cellReference})}}})})},"tm1web/share/SpreadSyntaxValidator":function(){define(["dojo/_base/declare",
"./NumberType","../utility/number"],function(m,n,l){var k={NullFunction:0,Repeat:1,EqualSpread:2,ProportionalSpread:3,PercentChange:4,Clear:5,Hold:6,HoldConsolidation:7,Release:8,ReleaseConsolidate:9,ReleaseAll:10,PercentGrowth:11,StraightLine:12,RelativeProportionalSpread:13,RelativePercentAdjustement:14,RepeatLeaves:15,EqualSpreadLeaves:16,ClearLeaves:17,WeightedLeaves:18,WeightedLeavesDefault:19};return m(null,{isValid:function(g){var b,h,e;e=g.length;if(1>e)return!1;for(var f=0,a=1;f<e;){for(;f<
e&&" "==g.charAt(f);)f++;if(f>=e)break;switch(a){case 0:return!1;case 1:h=this._getSpreadType(g);if(h==k.NullFunction)return!1;h==k.Repeat||h==k.EqualSpread||h==k.ProportionalSpread||h==k.Clear||h==k.Hold?f++:f+=2;if(f>=e&&(h==k.Clear||h==k.ClearLeaves||h==k.Hold||h==k.HoldConsolidation||h==k.Release||h==k.ReleaseConsolidate||h==k.ReleaseAll)){a=0;break}a=2;break;case 2:b=g.charAt(f);"+"!=b&&"~"!=b||f++;a=3;break;case 3:if(h==k.Repeat||h==k.EqualSpread||h==k.ProportionalSpread||h==k.PercentChange||
h==k.Clear||h==k.Hold||h==k.HoldConsolidation||h==k.Release||h==k.ReleaseConsolidate||h==k.PercentGrowth||h==k.StraightLine){for(a=0;4>a;a++)switch(b=g.charAt(f),b){case "\x3e":case "|":case "\x3c":case "^":f++}a=h==k.Clear||h==k.Hold||h==k.HoldConsolidation||h==k.Release||h==k.ReleaseConsolidate?0:4}else if(h==k.RelativeProportionalSpread||h==k.RelativePercentAdjustment)a=4;else if(h==k.RepeatLeaves||h==k.EqualSpreadLeaves||h==k.WeightedLeaves||h==k.WeightedLeavesDefault||h==k.ClearLeaves)b=g.charAt(f),
"*"==b&&f++,a=h==k.ClearLeaves?0:4;else if(h==k.ReleaseAll){b=g.charAt(f);if(" "!=b)return!1;f++}break;case 4:b=g.substr(f);e=b.indexOf(":");if(0<e){if(h!=k.PercentGrowth&&h!=k.StraightLine)return!1;g=g.substr(f,e);h=b.substr(e+1);return l.canParse(g,n.DECIMAL)&&l.canParse(h,n.DECIMAL)}return h==k.PercentGrowth||h==k.StraightLine?!1:l.canParse(b,n.DECIMAL);case 5:a=0}}return 0==a},_getSpreadType:function(g){var b,h=0;b=g.length;if(0>=b)return k.NullFunction;for(h=0;h<b;)switch(b=this._upperCaseCharAt(g,
h),b){case "R":switch(b=this._upperCaseCharAt(g,++h),b){case "H":return k.Release;case "C":return k.ReleaseConsolidate;case "A":return k.ReleaseAll;case "P":return k.RelativeProportionalSpread;case "%":return k.RelativePercentAdjustment;default:return k.Repeat}case "S":switch(b=this._upperCaseCharAt(g,++h),b){case "L":return k.StraightLine;default:return k.EqualSpread}case "P":switch(b=this._upperCaseCharAt(g,++h),b){case "%":return k.PercentChange;default:return k.ProportionalSpread}case "G":switch(b=
this._upperCaseCharAt(g,++h),b){case "R":return k.PercentGrowth;default:return k.NullFunction}case "C":return k.Clear;case "H":switch(b=this._upperCaseCharAt(g,++h),b){case "C":return k.HoldConsolidation;default:return k.Hold}case "L":switch(b=this._upperCaseCharAt(g,++h),b){case "R":return k.RepeatLeaves;case "S":return k.EqualSpreadLeaves;case "C":return k.ClearLeaves}case "W":switch(b=this._upperCaseCharAt(g,++h),b){case "X":return k.WeightedLeaves;case "D":return k.WeightedLeavesDefault}default:return k.NullFunction}return k.NullFunction},
_upperCaseCharAt:function(g,b){return g.charAt(b).toUpperCase()}})})},"tm1web/celledit/spread-syntax-validator":function(){define(["../share/SpreadSyntaxValidator"],function(m){return new m})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(m,n,l,k,g,b,h,e,f,a,d){function c(a,c){a.canDelete&&t._remove(a.id,c.options.frameDoc,!0)}function p(a){A&&A.length&&(g.forEach(A,
function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),A=[]);return a.options.jsonp?!a.data:!0}function q(a){return!!this.scriptLoaded}function s(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function r(a,c){if(this.canDelete){var d=this.response.options;A.push({id:this.id,frameDoc:d.ioArgs?d.ioArgs.frameDoc:d.frameDoc});d.ioArgs&&(d.ioArgs.frameDoc=null);d.frameDoc=null}c?this.reject(c):this.resolve(a)}function t(a,d,f){var e=l.parseArgs(a,l.deepCopy({},d));a=
e.url;d=e.options;var g=l.deferred(e,c,p,d.jsonp?null:d.checkString?s:q,r);b.mixin(g,{id:u+x++,canDelete:!1});d.jsonp&&((new RegExp("[?\x26]"+d.jsonp+"\x3d")).test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+d.jsonp+"\x3d"+(d.frameDoc?"parent.":"")+u+"_callbacks."+g.id),g.canDelete=!0,y[g.id]=function(a){e.data=a;g.handleResponse(e)});l.notify&&l.notify.emit("send",e,g.promise.cancel);if(!d.canAttach||d.canAttach(g)){var k=t._attach(g.id,a,d.frameDoc);if(!d.jsonp&&!d.checkString)var m=h(k,w,function(a){if("load"===
a.type||v.test(k.readyState))m.remove(),g.scriptLoaded=a})}n(g);return f?g:g.promise}a.add("script-readystatechange",function(a,c){return"undefined"!==typeof c.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=m.id.replace(/[\/\.\-]/g,"_"),x=0,w=a("script-readystatechange")?"readystatechange":"load",v=/complete|loaded/,y=k.global[u+"_callbacks"]={},A=[];t.get=t;t._attach=function(a,c,p){p=p||d.doc;var b=p.createElement("script");
b.type="text/javascript";b.src=c;b.id=a;b.async=!0;b.charset="utf-8";return p.getElementsByTagName("head")[0].appendChild(b)};t._remove=function(a,c,d){f.destroy(e.byId(a,c));y[a]&&(d?y[a]=function(){delete y[a]}:delete y[a])};t._callbacksProperty=u+"_callbacks";return t})},"tm1web/workbook/celledit/_CellListStore":function(){define("dojo/_base/declare dojo/store/util/QueryResults dojo/Deferred dojo/when dojo/string dojo/regexp ../../celledit/AsyncSimpleQueryEngine".split(" "),function(m,n,l,k,g,
b,h){return m(null,{model:null,_method:null,_cellInfoProperty:null,constructor:function(b){m.safeMixin(this,b)},_getData:function(){if(this.cellInfo[this._cellInfoProperty])return this.cellInfo[this._cellInfoProperty];if(this._loadPromise)return this._loadPromise;var b=this;return this._loadPromise=this.model[this._method](this._getRowIndex(),this._getColumnIndex()).then(function(f){for(var a=Array(f?f.length:0),d=0;d<f.length;d++)a[d]={id:d,value:b._getDisplayValue(f[d])};b.cellInfo[b._cellInfoProperty]=
a;b._loadPromise=null;return a}).otherwise(function(){b._loadPromise=null})},_getDisplayValue:function(b){return b},_getRowIndex:function(){return this.rowIndex},_getColumnIndex:function(){return this.colIndex},get:function(b){return k(this._getData(),function(f){return f[b]})},contains:function(e){e={value:new RegExp("^"+b.escapeString(e)+"$","mi")};return k(this.query(e),function(b){return 0<b.total})},getIdentity:function(b){return b.id},query:function(b,f){return n(h(b,f)(this._getData()))}})})},
"tm1web/grid/selection/TopSelectionOverlay":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget".split(" "),function(m,n,l,k,g,b){return m(b,{constructor:function(b){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,e){this._setStyle(e.left,b.top,e.width,e.top-b.top)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct",
"./ValidationTextBox"],function(m,n,l,k){return m("dijit.form.MappedTextBox",k,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(g){return g.toString?g.toString():""},toString:function(){var g=this.filter(this.get("value"));return null!=g?"string"==typeof g?g:this.serialize(g,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);
this.valueNode=l.place("\x3cinput type\x3d'hidden'"+(this.name&&!n("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"tm1web/widgets/_StopPropagationMixin":function(){define(["dojo/_base/declare","dojo/on"],function(m,n){return m(null,{_stopPropagationEvents:null,postCreate:function(){this.inherited(arguments);this.own(n(this.domNode,this._stopPropagationEvents,function(l){l.stopPropagation()}))}})})},
"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(m,n,l){var k=n.getObject("grid.util",!0,m);k.na="...";k.rowIndexTag="gridRowIndex";k.gridViewTag="gridView";k.fire=function(g,b,h){var e=g&&b&&g[b];return e&&(h?e.apply(g,h):g[b]())};k.setStyleHeightPx=function(g,b){if(0<=b){var h=g.style,e=b+"px";g&&h.height!=e&&(h.height=e)}};k.mouseEvents="mouseover mouseout mousedown mouseup click dblclick contextmenu".split(" ");k.keyEvents=["keyup","keydown","keypress"];k.funnelEvents=
function(g,b,h,e){e=e?e:k.mouseEvents.concat(k.keyEvents);for(var f=0,a=e.length;f<a;f++)b.connect(g,"on"+e[f],h)};k.removeNode=function(g){(g=l.byId(g))&&g.parentNode&&g.parentNode.removeChild(g);return g};k.arrayCompare=function(g,b){for(var h=0,e=g.length;h<e;h++)if(g[h]!=b[h])return!1;return g.length==b.length};k.arrayInsert=function(g,b,h){g.length<=b?g[b]=h:g.splice(b,0,h)};k.arrayRemove=function(g,b){g.splice(b,1)};k.arraySwap=function(g,b,h){var e=g[b];g[b]=g[h];g[h]=e};return k})},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/dom-class"],function(m,n,l){return m("dojox.grid._RowManager",null,{constructor:function(k){this.grid=k},linesToEms:2,overRow:-2,prepareStylingRow:function(k,g){return{index:k,node:g,odd:Boolean(k&1),selected:!!this.grid.selection.isSelected(k),over:this.isOver(k),customStyles:"",customClasses:"dojoxGridRow"}},styleRowNode:function(k,g){var b=this.prepareStylingRow(k,g);this.grid.onStyleRow(b);this.applyStyles(b)},applyStyles:function(k){k.node.className=k.customClasses;var g=
k.node.style.height,b=k.node,h=k.customStyles+";"+(k.node._style||"");void 0==b.style.cssText?b.setAttribute("style",h):b.style.cssText=h;k.node.style.height=g},updateStyles:function(k){this.grid.updateRowStyles(k)},setOverRow:function(k){var g=this.overRow;this.overRow=k;g!=this.overRow&&(n.isString(g)||0<=g)&&this.updateStyles(g);this.updateStyles(this.overRow)},isOver:function(k){return this.overRow==k&&!l.contains(this.grid.domNode,"dojoxGridColumnResizing")}})})},"tm1web/config-settings":function(){define(["dojo/_base/Deferred",
"dojo/sniff","./share/http-session-initializer","./share/service-loader!TM1Service"],function(m,n,l,k){var g=new m,b=null;l.init().then(function(){k.getTM1WebConfigSettings({callback:function(h){b=h;g.resolve();g=null}})});return{load:function(b,e,f){g&&!g.isFulfilled()?g.then(function(){f(1)}):f(1)},getAdminHost:function(){return b.adminHostName},getTM1Server:function(){return b.tm1ServerName},getMaxExportSheetCount:function(){return b.maxExportSheetCount},getCubeviewerStringWrapCellWidth:function(){return b.cubeviewerStringWrapCellWidth},
recalculateOnPicklistChange:function(){return b.recalculateOnPicklistChange},recalculateOnValidationListChange:function(){return b.recalculateOnValidationListChange},isLegacyUrlApiSessionDiscoveryEnabled:function(){return b.legacyUrlApiSessionDiscoveryEnabled},isRecalcOnActivateEnabled:function(){return b.recalcOnActivateEnabled},getWebSheetBackgroundRecalculationMode:function(){return b.webSheetBackgroundRecalculationMode},getTM1WebSSOUrl:function(){return b.tm1WebSSOUrl},getTm1ServerSecurityMode:function(){return b.tm1ServerSecurityMode},
isNativeWebsheetScrollingEnabled:function(){return b.nativeWebsheetScrollingInIEEnabled||!n("trident")},getCustomCamLogoutUrl:function(){return b.customCAMLogoutURL},isCamLoginApiRedirectEnabled:function(){return b.camLoginApiRedirectEnabled},isCellListSearchCharacterRemovalEnabled:function(){return b.cellListSearchCharacterRemovalEnabled},getTM1DatabaseLabel:function(){return b.TM1DatabaseLabel},isCubeViewerHiddenDimensionsEnabled:function(){return b.cubeViewerHiddenDimensionsEnabled},isNpsEnabled:function(){return b.npsEnabled},
isNpsDev:function(){return b.npsDev},npsTenantRequiredAge:function(){return b.npsTenantRequiredAge},npsUserRequiredAge:function(){return b.npsUserRequiredAge},getNpsEmbedScript:function(){return b.npsEmbedScript}}})},"tm1web/share/_LoadingOverlayMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dijit/focus dijit/registry dojo/domReady!".split(" "),function(m,n,l,k,g){return m(null,{_loadingOverlayNode:null,_loadingCount:0,_createLoadingOverlay:function(){this._loadingOverlayNode=
n.create("div",{tabIndex:"-1",className:"tm1webLoadingOverlay",style:{display:"none"}},function(b){for(var h;b;)h=b,b=g.getEnclosingWidget(b.domNode.parentNode);return h.containerNode||h.domNode}(this))},_setLoadingAttr:function(b){this._loadingOverlayNode||this._createLoadingOverlay();var h=this._loadingOverlayNode;b?(0===this._loadingCount&&(this._refocusNode=k.curNode,l.set(h,"display",""),k.focus(h)),this._loadingCount++):(1===this._loadingCount&&((b=this._refocusNode)&&(0<b.offsetWidth||0<b.offsetHeight)&&
k.focus(b),delete this._refocusNode,l.set(h,"display","none")),this._loadingCount=Math.max(0,this._loadingCount-1))},_getLoadingAttr:function(){return 0<this._loadingCount},destroy:function(){this.inherited(arguments);this._loadingOverlayNode&&n.destroy(this._loadingOverlayNode)}})})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,
c){return n("dojo.dnd.Moveable",[b],{handle:"",delay:0,skip:!1,constructor:function(a,c){this.node=k.byId(a);c||(c={});this.handle=c.handle?k.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:d;this.events=[h(this.handle,f.press,l.hitch(this,"onMouseDown")),h(this.handle,"dragstart",l.hitch(this,"onSelectStart")),h(this.handle,"selectstart",l.hitch(this,"onSelectStart"))]},markupFactory:function(a,c,d){return new d(c,
a)},destroy:function(){m.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!a.isFormElement(c)){if(this.delay)this.events.push(h(this.handle,f.move,l.hitch(this,"onMouseMove")),h(this.handle,f.release,l.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);c.stopPropagation();c.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>
this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var c=0;2>c;++c)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(c){this.skip&&a.isFormElement(c)||(c.stopPropagation(),c.preventDefault())},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){e.publish("/dnd/move/start",a);g.add(c.body(),"dojoMove");g.add(this.node,"dojoMoveItem")},onMoveStop:function(a){e.publish("/dnd/move/stop",
a);g.remove(c.body(),"dojoMove");g.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,c){this.onMoving(a,c);var d=a.node.style;d.left=c.l+"px";d.top=c.t+"px";this.onMoved(a,c)},onMoving:function(){},onMoved:function(){}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/kernel","../../_base/array","../../_base/lang","../../when"],function(m,n,l,k){var g=function(b){function h(f){b[f]=function(){var a=arguments,d=k(b,function(c){Array.prototype.unshift.call(a,
c);return g(n[f].apply(n,a))});if("forEach"!==f||e)return d}}if(!b)return b;var e=!!b.then;e&&(b=l.delegate(b));h("forEach");h("filter");h("map");null==b.total&&(b.total=k(b,function(b){return b.length}));return b};l.setObject("store.util.QueryResults",g,m);return g})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(m,
n,l,k,g,b,h,e,f){return n("dijit.form.CheckBox",[h,e],{templateString:f,baseClass:"dijitCheckBox",_setValueAttr:function(a,d){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,d)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&g("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");
this.inherited(arguments)},_onBlur:function(){this.id&&g("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/nls/common":function(){define({root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"tm1web/workbook/Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect ../mobile/sniff ../utility/units ../utility/message-localizer ../widgets/AlertDialog ../grid/Controller ./celledit/Controller ./MobileScrollingController".split(" "),
function(m,n,l,k,g,b,h,e,f,a){return m(e,{CellEditController:f,constructor:function(d){k("mobile-device")&&this.own(new a(this.grid.gridPanes))},_attachEventListeners:function(){this.inherited(arguments);this.own(l.after(this.model,"onAutoFitSelectedColumns",n.hitch(this,"_onAutoFitSelectedColumns"),!0))},_add:function(a,c){if(a.length){var b=this;return this.model.get(a).then(function(a){var d=a.data;a=a.controls;for(var f=b._getGridPaneControllers(),e=f.length,h=0;h<e;h++)f[h].addCells(d,c),f[h].addControls(a)})}},
onShow:function(){this.model.setActive()},_onAutoFitSelectedColumns:function(a){for(var c={},p=a.length,f=this._getGridPaneControllers()[0],e=0;e<p;e++){var k=a[e],l=f.getMaxRequiredWidth(k);if(!(0>=l)){var m,n;for(n in k)if(k.hasOwnProperty(n)){m=k[n].index;break}null==m?console.error("Column index could not be determined."):c[m]=g.toPt(l)}}var w=this;this.model.resizeColumns(c).then(function(){w._selectionController.selectRange({startRow:w.model.getStartSelectedCell().x,endRow:w.model.getEndSelectedCell().x,
startColumn:w.model.getStartSelectedCell().y,endColumn:w.model.getEndSelectedCell().y},!1)}).otherwise(function(a){h.show({message:b.get("SRV_ERR_STR")})})}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(m,n,l,k){return m("dijit.form.Textarea",[k,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);n.set(this.textbox,{overflowY:"hidden",
overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(m,n,l,k,g,b,h,e,f){return m("dijit.form.DropDownButton",[b,h,e],{baseClass:"dijitDropDownButton",templateString:f,_fillContent:function(){if(this.srcNodeRef){var a=
l("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=l("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=k.byNode(a));delete this.dropDownContainer}this.dropDown&&g.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var d=this.dropDown,c=d.on("load",n.hitch(this,function(){c.remove();
a()}));d.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(m,n){var l={};m.regexp=l;l.escapeString=function(k,g){return k.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(b){return g&&-1!=g.indexOf(b)?b:"\\"+b})};l.buildGroupRE=function(k,g,b){if(!(k instanceof Array))return g(k);for(var h=[],e=0;e<k.length;e++)h.push(g(k[e]));return l.group(h.join("|"),b)};l.group=function(k,g){return"("+
(g?"?:":"")+k+")"};return l})},"dojo/_base/config":function(){define(["../has","require"],function(m,n){var l={},k=n.rawConfig,g;for(g in k)l[g]=k[g];var k={gfxRenderer:"canvas,svg,vml,silverlight",defaultDuration:100,parseOnLoad:0,async:1,noGlobals:1},b;for(b in k)!k.hasOwnProperty(b)||b in l||(l[b]=k[b]);if(!l.locale){var h;"undefined"!==typeof navigator&&navigator.languages&&navigator.languages[0]?h=navigator.languages[0]:"undefined"!==typeof document&&(document.documentElement.lang||"").trim()?
h=document.documentElement.lang:"undefined"!==typeof requirejs&&requirejs.s.contexts._.config&&requirejs.s.contexts._.config.locale?h=requirejs.s.contexts._.config.locale:"undefined"!=typeof navigator&&(h=navigator.language||navigator.userLanguage);h&&(l.locale=h.toLowerCase())}return l})},"dojox/grid/_FocusManager":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/event dojo/_base/sniff dojo/query ./util dojo/_base/html".split(" "),function(m,n,
l,k,g,b,h,e,f){return l("dojox.grid._FocusManager",null,{constructor:function(a){this.grid=a;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(k.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(k.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(k.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(k.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));
this._connects.push(k.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(k.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(k.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(k.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(k.connect(this.grid,"postrender",this,"_delayedHeaderFocus"))},destroy:function(){m.forEach(this._connects,k.disconnect);m.forEach(this._headerConnects,
k.disconnect);delete this.grid;delete this.cell},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:!1,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders()},isFocusCell:function(a,d){return this.cell==a&&this.rowIndex==d},isLastFocusCell:function(){return this.cell?this.rowIndex==this.grid.rowCount-1&&this.cell.index==this.grid.layout.cellCount-
1:!1},isFirstFocusCell:function(){return this.cell?0===this.rowIndex&&0===this.cell.index:!1},isNoFocusCell:function(){return 0>this.rowIndex||!this.cell},isNavHeader:function(){return!!this._colHeadNode},getHeaderIndex:function(){return this._colHeadNode?m.indexOf(this._findHeaderCells(),this._colHeadNode):-1},_focusifyCellNode:function(a){var d=this.cell&&this.cell.getNode(this.rowIndex);if(d&&(f.toggleClass(d,this.focusClass,a),a)){a=this.scrollIntoView();try{if(b("webkit")||!this.grid.edit.isEditing())e.fire(d,
"focus"),a&&(this.cell.view.scrollboxNode.scrollLeft=a)}catch(c){}}},_delayedCellFocus:function(){if(!this.isNavHeader()&&this.grid.focused){var a=this.cell&&this.cell.getNode(this.rowIndex);if(a)try{this.grid.edit.isEditing()||(f.toggleClass(a,this.focusClass,!0),this._colHeadNode&&this.blurHeader(),e.fire(a,"focus"))}catch(d){}}},_delayedHeaderFocus:function(){this.isNavHeader()&&this.focusHeader()},_initColumnHeaders:function(){m.forEach(this._headerConnects,k.disconnect);this._headerConnects=
[];for(var a=this._findHeaderCells(),d=0;d<a.length;d++)this._headerConnects.push(k.connect(a[d],"onfocus",this,"doColHeaderFocus")),this._headerConnects.push(k.connect(a[d],"onblur",this,"doColHeaderBlur"))},_findHeaderCells:function(){for(var a=h("th",this.grid.viewsHeaderNode),d=[],c=0;c<a.length;c++){var b=a[c],e=f.hasAttr(b,"tabIndex"),g=f.attr(b,"tabIndex");e&&0>g&&d.push(b)}return d},_setActiveColHeader:function(a,d,c){this.grid.domNode.setAttribute("aria-activedescendant",a.id);null!=c&&0<=
c&&c!=d&&f.toggleClass(this._findHeaderCells()[c],this.focusClass,!1);f.toggleClass(a,this.focusClass,!0);this._colHeadNode=a;this._colHeadFocusIdx=d;this._scrollHeader(this._colHeadFocusIdx)},scrollIntoView:function(){var a=this.cell?this._scrollInfo(this.cell):null;if(!a||!a.s)return null;var d=this.grid.scroller.findScrollTop(this.rowIndex);a.n&&a.sr&&(a.n.offsetLeft+a.n.offsetWidth>a.sr.l+a.sr.w?a.s.scrollLeft=a.n.offsetLeft+a.n.offsetWidth-a.sr.w:a.n.offsetLeft<a.sr.l&&(a.s.scrollLeft=a.n.offsetLeft));
a.r&&a.sr&&(d+a.r.offsetHeight>a.sr.t+a.sr.h?this.grid.setScrollTop(d+a.r.offsetHeight-a.sr.h):d<a.sr.t&&this.grid.setScrollTop(d));return a.s.scrollLeft},_scrollInfo:function(a,d){if(a){var c=a.view.scrollboxNode,b={w:c.clientWidth,l:c.scrollLeft,t:c.scrollTop,h:c.clientHeight},f=a.view.getRowNode(this.rowIndex);return{c:a,s:c,sr:b,n:d?d:a.getNode(this.rowIndex),r:f}}return null},_scrollHeader:function(a){var d=null;if(this._colHeadNode){var c=this.grid.getCell(a);if(!c)return;d=this._scrollInfo(c,
c.getNode(0))}d&&d.s&&d.sr&&d.n&&(d.n.offsetLeft+d.n.offsetWidth>d.sr.l+d.sr.w?d.s.scrollLeft=d.n.offsetLeft+d.n.offsetWidth-d.sr.w:d.n.offsetLeft<d.sr.l?d.s.scrollLeft=d.n.offsetLeft:7>=b("ie")&&c&&c.view.headerNode&&(c.view.headerNode.scrollLeft=d.s.scrollLeft))},_isHeaderHidden:function(){var a=this.focusView;if(!a)for(var d=0,c;c=this.grid.views.views[d];d++)if(c.headerNode){a=c;break}return a&&"none"==f.getComputedStyle(a.headerNode).display},colSizeAdjust:function(a,d,c){var b=this._findHeaderCells(),
f=this.focusView;if(!f||!f.header.tableMap.map)for(var e=0,h;h=this.grid.views.views[e];e++)if(h.header.tableMap.map){f=h;break}e=b[d];!f||d==b.length-1&&0===d||(f.content.baseDecorateEvent(a),a.cellNode=e,a.cellIndex=f.content.getCellNodeIndex(a.cellNode),a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null,f.header.canResize(a)&&(d={l:c},a=f.header.colResizeSetup(a,!1),f.header.doResizeColumn(a,null,d),f.update()))},styleRow:function(a){},setFocusIndex:function(a,d){this.setFocusCell(this.grid.getCell(d),
a)},setFocusCell:function(a,d){a&&!this.isFocusCell(a,d)&&(this.tabbingOut=!1,this._colHeadNode&&this.blurHeader(),this._colHeadNode=this._colHeadFocusIdx=null,this.focusGridView(),this._focusifyCellNode(!1),this.cell=a,this.rowIndex=d,this._focusifyCellNode(!0));if(b("opera"))setTimeout(n.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);else this.grid.onCellFocus(this.cell,this.rowIndex)},next:function(){if(this.cell){var a=this.rowIndex,d=this.cell.index+1,c=this.grid.layout.cellCount-
1,b=this.grid.rowCount-1;d>c&&(d=0,a++);a>b&&(d=c,a=b);if(this.grid.edit.isEditing()&&(c=this.grid.getCell(d),!this.isLastFocusCell()&&(!c.editable||this.grid.canEdit&&!this.grid.canEdit(c,a)))){this.cell=c;this.rowIndex=a;this.next();return}this.setFocusIndex(a,d)}},previous:function(){if(this.cell){var a=this.rowIndex||0,d=(this.cell.index||0)-1;0>d&&(d=this.grid.layout.cellCount-1,a--);0>a&&(d=a=0);if(this.grid.edit.isEditing()){var c=this.grid.getCell(d);if(!this.isFirstFocusCell()&&!c.editable){this.cell=
c;this.rowIndex=a;this.previous();return}}this.setFocusIndex(a,d)}},move:function(a,d){var c=0>d?-1:1;if(this.isNavHeader()){var b=this._findHeaderCells(),e=currentIdx=m.indexOf(b,this._colHeadNode);for(currentIdx+=d;0<=currentIdx&&currentIdx<b.length&&"none"==b[currentIdx].style.display;)currentIdx+=c;0<=currentIdx&&currentIdx<b.length&&this._setActiveColHeader(b[currentIdx],currentIdx,e)}else if(this.cell){var h=this.grid.scroller,b=this.rowIndex,e=this.grid.rowCount-1,g=Math.min(e,Math.max(0,b+
a));a&&(0<a?g>h.getLastPageRow(h.page)&&this.grid.setScrollTop(this.grid.scrollTop+h.findScrollTop(g)-h.findScrollTop(b)):0>a&&g<=h.getPageRow(h.page)&&this.grid.setScrollTop(this.grid.scrollTop-h.findScrollTop(b)-h.findScrollTop(g)));for(var h=this.grid.layout.cellCount-1,k=this.cell.index,l=Math.min(h,Math.max(0,k+d)),n=this.grid.getCell(l);0<=l&&l<h&&n&&!0===n.hidden;)l+=c,n=this.grid.getCell(l);n&&!0!==n.hidden||(l=k);c=n.getNode(g);!c&&a?0<=g+a&&g+a<=e&&this.move(0<a?++a:--a,d):c&&"none"!==f.style(c,
"display")||!d?(this.setFocusIndex(g,l),a&&this.grid.updateRow(b)):0<=l+d&&l+d<=h&&this.move(a,0<d?++d:--d)}},previousKey:function(a){this.grid.edit.isEditing()?(g.stop(a),this.previous()):this.isNavHeader()||this._isHeaderHidden()?(this.tabOut(this.grid.domNode),null!=this._colHeadFocusIdx&&(f.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,!1),this._colHeadFocusIdx=null),this._focusifyCellNode(!1)):(this.grid.domNode.focus(),g.stop(a))},nextKey:function(a){a.target===
this.grid.domNode&&null==this._colHeadFocusIdx?(this.focusHeader(),g.stop(a)):this.isNavHeader()?(this.blurHeader(),this.findAndFocusGridCell()||this.tabOut(this.grid.lastFocusNode),this._colHeadNode=this._colHeadFocusIdx=null):this.grid.edit.isEditing()?(g.stop(a),this.next()):this.tabOut(this.grid.lastFocusNode)},tabOut:function(a){this.tabbingOut=!0;a.focus()},focusGridView:function(){e.fire(this.focusView,"focus")},focusGrid:function(a){this.focusGridView();this._focusifyCellNode(!0)},findAndFocusGridCell:function(){var a=
!0,d=0===this.grid.rowCount;this.isNoFocusCell()&&!d?(d=0,this.grid.getCell(d).hidden&&(d=this.isNavHeader()?this._colHeadFocusIdx:0),this.setFocusIndex(0,d)):this.cell&&!d?(this.focusView&&!this.focusView.rowNodes[this.rowIndex]&&this.grid.scrollToRow(this.rowIndex),this.focusGrid()):a=!1;this._colHeadNode=this._colHeadFocusIdx=null;return a},focusHeader:function(){var a=this._findHeaderCells(),d=this._colHeadFocusIdx;this._isHeaderHidden()?this.findAndFocusGridCell():this._colHeadFocusIdx||(this.isNoFocusCell()?
this._colHeadFocusIdx=0:this._colHeadFocusIdx=this.cell.index);for(this._colHeadNode=a[this._colHeadFocusIdx];this._colHeadNode&&0<=this._colHeadFocusIdx&&this._colHeadFocusIdx<a.length&&"none"==this._colHeadNode.style.display;)this._colHeadFocusIdx++,this._colHeadNode=a[this._colHeadFocusIdx];this._colHeadNode&&"none"!=this._colHeadNode.style.display?(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode&&(this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode),this.headerMenu.bindDomNode(this.grid.domNode),
this._contextMenuBindNode=this.grid.domNode),this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,d),this._scrollHeader(this._colHeadFocusIdx),this._focusifyCellNode(!1)):this.findAndFocusGridCell()},blurHeader:function(){f.removeClass(this._colHeadNode,this.focusClass);f.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var a=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(a);
this._contextMenuBindNode=a}},doFocus:function(a){a&&a.target!=a.currentTarget?g.stop(a):this._clickFocus||(this.tabbingOut||this.focusHeader(),this.tabbingOut=!1,g.stop(a))},doBlur:function(a){g.stop(a)},doContextMenu:function(a){this.headerMenu||g.stop(a)},doLastNodeFocus:function(a){this.tabbingOut?this._focusifyCellNode(!1):0<this.grid.rowCount?(this.isNoFocusCell()&&this.setFocusIndex(0,0),this._focusifyCellNode(!0)):this.focusHeader();this.tabbingOut=!1;g.stop(a)},doLastNodeBlur:function(a){g.stop(a)},
doColHeaderFocus:function(a){this._setActiveColHeader(a.target,f.attr(a.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());g.stop(a)},doColHeaderBlur:function(a){f.toggleClass(a.target,this.focusClass,!1)},_mouseDown:function(a){this._clickFocus=m.some(this.grid.views.views,function(d){return d.scrollboxNode===a.target})},_mouseUp:function(a){this._clickFocus=!1}})})},"tm1web/share/Label":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(m,n,l,k,g,b){return m([g,b],{baseClass:"tm1webLabel",templateString:"\x3clabel class\x3d${baseClass}\x3e${content}\x3c/label\x3e",content:"",selectable:!0,_setContentAttr:function(b){this.content=b;this.destroyDescendants();k.empty(this.domNode);var e=b;n.isObject(b)&&b.domNode?e=b.domNode:n.isString(b)&&(e=k.toDom(b));k.place(e,this.domNode)},_setSelectableAttr:function(b){this.selectable=b;l.setSelectable(this.domNode,b)}})})},"tm1web/utility/setImmediate":function(){define(function(){var m=
window.setImmediate,n=window.clearImmediate;m||function(){var l=1,k=[];window.addEventListener("message",function(g){if(g.source===window&&"com.bn.NobleJS.setImmediate"===g.data&&(g.stopPropagation(),k.length))if(g=k.shift(),g.handler.apply)g.handler.apply(g.that,g.args);else throw Error("Can't implement evaluated handler.");},!1);m=function(g){var b=Array.prototype.slice.call(arguments,1);k.push({handle:l,handler:g,args:b,that:this});window.postMessage("com.bn.NobleJS.setImmediate","*");return l++};
n=function(g){for(var b=0;b<k.length;b++)if(k[b].handle===g){k.splice(b,1);break}}}();return function(){var l=m.apply(this,arguments);return{remove:function(){null!==l&&(n(l),l=null)}}}})},"dijit/layout/_ScrollingTabControllerMenuButton":function(){define("dojo/_base/declare dojo/_base/array ../registry ../Menu ../MenuItem ../form/Button ../_HasDropDown ./_ScrollingTabControllerButtonMixin".split(" "),function(m,n,l,k,g,b,h,e){return m("dijit.layout._ScrollingTabControllerMenuButton",[b,h,e],{containerId:"",
tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(b){this.dropDown=new k({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var a=l.byId(this.containerId);n.forEach(a.getChildren(),function(d){var c=new g({id:d.id+"_stcMi",label:d.title,iconClass:d.iconClass,disabled:d.disabled,ownerDocument:this.ownerDocument,dir:d.dir,lang:d.lang,textDir:d.textDir||a.textDir,onClick:function(){a.selectChild(d)}});this.dropDown.addChild(c)},
this);b()},closeDropDown:function(b){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}})})},"dojo/Evented":function(){define(["./aspect","./on"],function(m,n){function l(){}var k=m.after;l.prototype={on:function(g,b){return n.parse(this,g,b,function(h,e){return k(h,"on"+e,b,!0)})},emit:function(g,b){var h=[this];h.push.apply(h,arguments);return n.emit.apply(n,h)}};return l})},"dojo/debounce":function(){define([],
function(){return function(m,n){var l;return function(){l&&clearTimeout(l);var k=this,g=arguments;l=setTimeout(function(){m.apply(k,g)},n)}}})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),function(m,n,l,k,g,b,h,e){return m("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var f=b.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",
zIndex:"1999",margin:"0px"}}),a=this.manager.source,d,c=b.create("tbody",null,f),p=b.create("tr",null,c),e=b.create("td",null,p),g=Math.min(5,this.manager.nodes.length),r=0;h("highcontrast")&&b.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},e);b.create("span",{innerHTML:a.generateText?this._generateText():""},e);for(k.set(p,{"class":"dojoDndAvatarHeader",style:{opacity:.9}});r<g;++r)a.creator?d=a._normalizedCreator(a.getItem(this.manager.nodes[r].id).data,"avatar").node:(d=this.manager.nodes[r].cloneNode(!0),
"tr"==d.tagName.toLowerCase()&&(p=b.create("table"),b.create("tbody",null,p).appendChild(d),d=p)),d.id="",p=b.create("tr",null,c),e=b.create("td",null,p),e.appendChild(d),k.set(p,{"class":"dojoDndAvatarItem",style:{opacity:(9-r)/10}});this.node=f},destroy:function(){b.destroy(this.node);this.node=!1},update:function(){g.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(h("highcontrast")){var b=l.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="\x3c ":this.manager.canDropFlag||
this.manager.copy?this.manager.canDropFlag||(a="x"):a="o";b.innerHTML=a}e("tr.dojoDndAvatarHeader td span"+(h("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(m,n){var l=/[&<>'"\/]/g,k={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;",
"/":"\x26#x2F;"},g={};m.string=g;g.escape=function(b){return b?b.replace(l,function(b){return k[b]}):""};g.rep=function(b,h){if(0>=h||!b)return"";for(var e=[];;){h&1&&e.push(b);if(!(h>>=1))break;b+=b}return e.join("")};g.pad=function(b,h,e,f){e||(e="0");b=String(b);h=g.rep(e,Math.ceil((h-b.length)/e.length));return f?b+h:h+b};g.substitute=function(b,h,e,f){f=f||m.global;e=e?n.hitch(f,e):function(a){return a};return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,d,c){a=n.getObject(d,
!1,h);c&&(a=n.getObject(c,!1,f).call(f,a,d));return e(a,d).toString()})};g.trim=String.prototype.trim?n.trim:function(b){b=b.replace(/^\s+/,"");for(var h=b.length-1;0<=h;h--)if(/\S/.test(b.charAt(h))){b=b.substring(0,h+1);break}return b};return g})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(m,n){return m("dijit._Contained",null,{_getSibling:function(l){var k=this.domNode;do k=k[l+"Sibling"];while(k&&1!=k.nodeType);return k&&n.byNode(k)},getPreviousSibling:function(){return this._getSibling("previous")},
getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var l=this.getParent();return l&&l.getIndexOfChild?l.getIndexOfChild(this):-1}})})},"dojox/grid/_Builder":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/window dojo/_base/event dojo/_base/sniff dojo/_base/connect dojo/dnd/Moveable dojox/html/metrics ./util dojo/_base/html dojo/dom-geometry".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c){var p=m.grid,q=function(a){return 0<=a.rowIndex?a.rowIndex:
n.indexOf(a.parentNode.childNodes,a)},s=function(a,c){return a&&((a.rows||0)[c]||a.childNodes[c])},r=function(a){for(;a&&"TABLE"!=a.tagName;a=a.parentNode);return a},t=function(a){var c=a.toUpperCase();return function(a){return a.tagName!=c}},u=a.rowIndexTag,x=a.gridViewTag,w=p._Builder=l.extend(function(a){a&&(this.view=a,this.grid=a.grid)},{view:null,_table:'\x3ctable class\x3d"dojoxGridRowTable" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"',getTableArray:function(){var a=
[this._table];this.view.viewWidth&&a.push([' style\x3d"width:',this.view.viewWidth,';"'].join(""));a.push("\x3e");return a},generateCellMarkup:function(a,c,d,b){var p=[],f;b?(f=a.index!=a.grid.getSortIndex()?"":0<a.grid.sortInfo?'aria-sort\x3d"ascending"':'aria-sort\x3d"descending"',a.id||(a.id=this.grid.id+"Hdr"+a.index),f=['\x3cth tabIndex\x3d"-1" aria-readonly\x3d"true" role\x3d"columnheader"',f,' id\x3d"',a.id,'"']):f=['\x3ctd tabIndex\x3d"-1" role\x3d"gridcell"',this.grid.editable&&!a.editable?
'aria-readonly\x3d"true"':""];a.colSpan&&f.push(' colspan\x3d"',a.colSpan,'"');a.rowSpan&&f.push(' rowspan\x3d"',a.rowSpan,'"');f.push(' class\x3d"dojoxGridCell ');a.classes&&f.push(a.classes," ");d&&f.push(d," ");p.push(f.join(""));p.push("");f=['" idx\x3d"',a.index,'" style\x3d"'];c&&";"!=c[c.length-1]&&(c+=";");f.push(a.styles,c||"",a.hidden?"display:none;":"");a.unitWidth&&f.push("width:",a.unitWidth,";");p.push(f.join(""));p.push("");f=['"'];a.attrs&&f.push(" ",a.attrs);f.push("\x3e");p.push(f.join(""));
p.push("");p.push(b?"\x3c/th\x3e":"\x3c/td\x3e");return p},isCellNode:function(a){return Boolean(a&&a!=k.doc&&d.attr(a,"idx"))},getCellNodeIndex:function(a){return a?Number(d.attr(a,"idx")):-1},getCellNode:function(a,c){for(var d=0,b;(b=s(a.firstChild,d))&&b.cells;d++)for(var p=0,f;f=b.cells[p];p++)if(this.getCellNodeIndex(f)==c)return f;return null},findCellTarget:function(a,c){for(var d=a;d&&(!this.isCellNode(d)||d.offsetParent&&x in d.offsetParent.parentNode&&d.offsetParent.parentNode[x]!=this.view.id)&&
d!=c;)d=d.parentNode;return d!=c?d:null},baseDecorateEvent:function(a){a.dispatch="do"+a.type;a.grid=this.grid;a.sourceView=this.view;a.cellNode=this.findCellTarget(a.target,a.rowNode);a.cellIndex=this.getCellNodeIndex(a.cellNode);a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null},findTarget:function(a,c){for(var d=a;d&&d!=this.domNode&&(!(c in d)||x in d&&d[x]!=this.view.id);)d=d.parentNode;return d!=this.domNode?d:null},findRowTarget:function(a){return this.findTarget(a,u)},isIntraNodeEvent:function(a){try{return a.cellNode&&
a.relatedTarget&&d.isDescendant(a.relatedTarget,a.cellNode)}catch(c){return!1}},isIntraRowEvent:function(a){try{var c=a.relatedTarget&&this.findRowTarget(a.relatedTarget);return!c&&-1==a.rowIndex||c&&a.rowIndex==c.gridRowIndex}catch(d){return!1}},dispatchEvent:function(a){return a.dispatch in this?this[a.dispatch](a):!1},domouseover:function(a){a.cellNode&&a.cellNode!=this.lastOverCellNode&&(this.lastOverCellNode=a.cellNode,this.grid.onMouseOver(a));this.grid.onMouseOverRow(a)},domouseout:function(a){if(a.cellNode&&
a.cellNode==this.lastOverCellNode&&!this.isIntraNodeEvent(a,this.lastOverCellNode)&&(this.lastOverCellNode=null,this.grid.onMouseOut(a),!this.isIntraRowEvent(a)))this.grid.onMouseOutRow(a)},domousedown:function(a){if(a.cellNode)this.grid.onMouseDown(a);this.grid.onMouseDownRow(a)},_getTextDirStyle:function(a,c,d){return""}});m=p._ContentBuilder=l.extend(function(a){w.call(this,a)},w.prototype,{update:function(){this.prepareHtml()},prepareHtml:function(){for(var a=this.grid.get,c=this.view.structure.cells,
d=0,b;b=c[d];d++)for(var p=0,f;f=b[p];p++)f.get=f.get||void 0==f.value&&a,f.markup=this.generateCellMarkup(f,f.cellStyles,f.cellClasses,!1),!this.grid.editable&&f.editable&&(this.grid.editable=!0)},generateHtml:function(c,d){var b=this.getTableArray(),f,p=this.view.structure.cells,e=this.grid.getItem(d);a.fire(this.view,"onBeforeRow",[d,p]);for(var h=0,q;q=p[h];h++)if(!q.hidden&&!q.header){b.push(q.invisible?'\x3ctr class\x3d"dojoxGridInvisible"\x3e':"\x3ctr\x3e");for(var g=0,s,k,r;s=q[g];g++)k=s.markup,
f=s.customClasses=[],r=s.customStyles=[],k[5]=s.format(d,e),k[1]=f.join(" "),k[3]=r.join(";"),(f=s.textDir||this.grid.textDir)&&(k[3]+=this._getTextDirStyle(f,s,d)),b.push.apply(b,k);b.push("\x3c/tr\x3e")}b.push("\x3c/table\x3e");return b.join("")},decorateEvent:function(a){a.rowNode=this.findRowTarget(a.target);if(!a.rowNode)return!1;a.rowIndex=a.rowNode[u];this.baseDecorateEvent(a);a.cell=this.grid.getCell(a.cellIndex);return!0}});var v=p._HeaderBuilder=l.extend(function(a){this.moveable=null;w.call(this,
a)},w.prototype,{_skipBogusClicks:!1,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap?this.tableMap.mapRows(this.view.structure.cells):this.tableMap=new p._TableMap(this.view.structure.cells)},generateHtml:function(c,d){var b,f=this.getTableArray(),p=this.view.structure.cells;a.fire(this.view,"onBeforeRow",[-1,p]);for(var e=0,h;h=p[e];e++)if(!h.hidden){f.push(h.invisible?'\x3ctr class\x3d"dojoxGridInvisible"\x3e':"\x3ctr\x3e");for(var q=0,g,s;g=h[q];q++)g.customClasses=[],g.customStyles=
[],this.view.simpleStructure&&(g.draggable&&(g.headerClasses?-1==g.headerClasses.indexOf("dojoDndItem")&&(g.headerClasses+=" dojoDndItem"):g.headerClasses="dojoDndItem"),g.attrs?-1==g.attrs.indexOf("dndType\x3d'gridColumn_")&&(g.attrs+=" dndType\x3d'gridColumn_"+this.grid.id+"'"):g.attrs="dndType\x3d'gridColumn_"+this.grid.id+"'"),s=this.generateCellMarkup(g,g.headerStyles,g.headerClasses,!0),s[5]=void 0!=d?d:c(g),s[3]=g.customStyles.join(";"),(b=g.textDir||this.grid.textDir)&&(s[3]+=this._getTextDirStyle(b,
g,d)),s[1]=g.customClasses.join(" "),f.push(s.join(""));f.push("\x3c/tr\x3e")}f.push("\x3c/table\x3e");return f.join("")},getCellX:function(a){var d;d=t("th");for(var b=a.target;b&&d(b);b=b.parentNode);(d=b)?(d=c.position(d),a=a.clientX-d.x):a=a.layerX;return a},decorateEvent:function(a){this.baseDecorateEvent(a);a.rowIndex=-1;a.cellX=this.getCellX(a);return!0},prepareResize:function(a,c){do{var d=a.cellIndex;a.cellNode=d?a.cellNode.parentNode.cells[d+c]:null;a.cellIndex=a.cellNode?this.getCellNodeIndex(a.cellNode):
-1}while(a.cellNode&&"none"==a.cellNode.style.display);return Boolean(a.cellNode)},canResize:function(a){if(!a.cellNode||1<a.cellNode.colSpan)return!1;a=this.grid.getCell(a.cellIndex);return!a.noresize&&a.canResize()},overLeftResizeArea:function(a){if(d.hasClass(k.body(),"dojoDndMove"))return!1;if(b("ie")){var c=a.target;if(d.hasClass(c,"dojoxGridArrowButtonNode")||d.hasClass(c,"dojoxGridArrowButtonChar")||d.hasClass(c,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?0<a.cellIndex&&
0<a.cellX&&a.cellX<this.overResizeWidth&&this.prepareResize(a,-1):a.cellNode&&0<a.cellX&&a.cellX<this.overResizeWidth},overRightResizeArea:function(a){if(d.hasClass(k.body(),"dojoDndMove"))return!1;if(b("ie")){var c=a.target;if(d.hasClass(c,"dojoxGridArrowButtonNode")||d.hasClass(c,"dojoxGridArrowButtonChar")||d.hasClass(c,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?a.cellNode&&a.cellX>=a.cellNode.offsetWidth-this.overResizeWidth:0<a.cellIndex&&a.cellX>=a.cellNode.offsetWidth-
this.overResizeWidth&&this.prepareResize(a,-1)},domousemove:function(a){if(!this.moveable){var c=this.overRightResizeArea(a)?"dojoxGridColResize":this.overLeftResizeArea(a)?"dojoxGridColResize":"";c&&!this.canResize(a)&&(c="dojoxGridColNoResize");d.toggleClass(a.sourceView.headerNode,"dojoxGridColNoResize","dojoxGridColNoResize"==c);d.toggleClass(a.sourceView.headerNode,"dojoxGridColResize","dojoxGridColResize"==c);c&&g.stop(a)}},domousedown:function(a){this.moveable||((this.overRightResizeArea(a)||
this.overLeftResizeArea(a))&&this.canResize(a)?this.beginColumnResize(a):(this.grid.onMouseDown(a),this.grid.onMouseOverRow(a)))},doclick:function(a){return this._skipBogusClicks?(g.stop(a),!0):!1},colResizeSetup:function(a,c){var p=d.contentBox(a.sourceView.headerNode);if(c){this.lineDiv=document.createElement("div");var e=d.position(a.sourceView.headerNode,!0),h=d.contentBox(a.sourceView.domNode),q=a.pageX;!this.grid.isLeftToRight()&&8>b("ie")&&(q-=f.getScrollbar().w);d.style(this.lineDiv,{top:e.y+
"px",left:q+"px",height:h.h+p.h+"px"});d.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=q;k.body().appendChild(this.lineDiv)}for(var e=[],h=this.tableMap.findOverlappingNodes(a.cellNode),q=0,g;g=h[q];q++)e.push({node:g,index:this.getCellNodeIndex(g),width:g.offsetWidth});h=a.sourceView;g=this.grid.isLeftToRight()?1:-1;for(var s=a.grid.views.views,q=[],r=h.idx+g,l;l=s[r];r+=g)q.push({node:l.headerNode,left:window.parseInt(l.headerNode.style.left)});g=h.headerContentNode.firstChild;
return{scrollLeft:a.sourceView.headerNode.scrollLeft,view:h,node:a.cellNode,index:a.cellIndex,w:d.contentBox(a.cellNode).w,vw:p.w,table:g,tw:d.contentBox(g).w,spanners:e,followers:q}},beginColumnResize:function(a){this.moverDiv=document.createElement("div");d.style(this.moverDiv,{position:"absolute",left:0});k.body().appendChild(this.moverDiv);d.addClass(this.grid.domNode,"dojoxGridColumnResizing");var c=this.moveable=new e(this.moverDiv),b=this.colResizeSetup(a,!0);c.onMove=l.hitch(this,"doResizeColumn",
b);h.connect(c,"onMoveStop",l.hitch(this,function(){this.endResizeColumn(b);b.node.releaseCapture&&b.node.releaseCapture();this.moveable.destroy();delete this.moveable;this.moveable=null;d.removeClass(this.grid.domNode,"dojoxGridColumnResizing")}));a.cellNode.setCapture&&a.cellNode.setCapture();c.onMouseDown(a)},doResizeColumn:function(a,c,b){var f=b.l,f={deltaX:f,w:a.w+(this.grid.isLeftToRight()?f:-f),vw:a.vw+f,tw:a.tw+f};this.dragRecord={inDrag:a,mover:c,leftTop:b};f.w>=this.minColWidth&&(c?d.style(this.lineDiv,
"left",this.lineDiv._origLeft+f.deltaX+"px"):this.doResizeNow(a,f))},endResizeColumn:function(a){if(this.dragRecord){var c=this.dragRecord.leftTop,c=this.grid.isLeftToRight()?c.l:-c.l,c=c+(Math.max(a.w+c,this.minColWidth)-(a.w+c));b("webkit")&&a.spanners.length&&(c+=d._getPadBorderExtents(a.spanners[0].node).w);this.doResizeNow(a,{deltaX:c,w:a.w+c,vw:a.vw+c,tw:a.tw+c});delete this.dragRecord}d.destroy(this.lineDiv);d.destroy(this.moverDiv);d.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=
!0;a.view.update();this._skipBogusClicks=!1;this.grid.onResizeColumn(a.index)},doResizeNow:function(a,c){a.view.convertColPctToFixed();if(a.view.flexCells&&!a.view.testFlexCells()){var d=r(a.node);d&&(d.style.width="")}for(var f,p,d=0;f=a.spanners[d];d++)p=f.width+c.deltaX,0<p&&(f.node.style.width=p+"px",a.view.setColWidth(f.index,p));if(this.grid.isLeftToRight()||!b("ie"))for(d=0;f=a.followers[d];d++)p=f.left+c.deltaX,f.node.style.left=p+"px";a.node.style.width=c.w+"px";a.view.setColWidth(a.index,
c.w);a.view.headerNode.style.width=c.vw+"px";a.view.setColumnsWidth(c.tw);this.grid.isLeftToRight()||(a.view.headerNode.scrollLeft=a.scrollLeft+c.deltaX)}});p._TableMap=l.extend(function(a){this.mapRows(a)},{map:null,mapRows:function(a){if(a.length){this.map=[];var c;for(c=0;a[c];c++)this.map[c]=[];for(var d=0;c=a[d];d++)for(var b=0,f=0,p,e;p=c[b];b++){for(;this.map[d][f];)f++;this.map[d][f]={c:b,r:d};e=p.rowSpan||1;p=p.colSpan||1;for(var h=0;h<e;h++)for(var q=0;q<p;q++)this.map[d+h][f+q]=this.map[d][f];
f+=p}}},dumpMap:function(){for(var a=0,c;c=this.map[a];a++)for(var d=0;c[d];d++);},getMapCoords:function(a,c){for(var d=0,b;b=this.map[d];d++)for(var f=0,p;p=b[f];f++)if(p.c==c&&p.r==a)return{j:d,i:f};return{j:-1,i:-1}},getNode:function(a,c,d){return(a=a&&a.rows[c])&&a.cells[d]},_findOverlappingNodes:function(a,c,d){var b=[];c=this.getMapCoords(c,d);d=0;for(var f;f=this.map[d];d++)d!=c.j&&(f=(f=f[c.i])?this.getNode(a,f.r,f.c):null)&&b.push(f);return b},findOverlappingNodes:function(a){return this._findOverlappingNodes(r(a),
q(a.parentNode),0<=a.cellIndex?a.cellIndex:n.indexOf(a.parentNode.cells,a))}});return{_Builder:w,_HeaderBuilder:v,_ContentBuilder:m}})},"tm1web/grid/Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/promise/all dojo/Deferred dojo/aspect dojo/topic dijit/Destroyable ../utility/dom ./selection/SelectionController ./utility/MoveDirection ./ClipboardController ../widgets/AlertDialog ../utility/message-localizer".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p){return m(h,{grid:null,
model:null,CellEditController:null,constructor:function(a){n.mixin(this,a);this.model=this.grid.model;this.own(this._selectionController=new f({controller:this}));this.own(this._clipboardController=new d({model:this.model,grid:this.grid}));this.own(this._cellEditController=new this.CellEditController(this.model,this.grid));this._attachEventListeners()},_attachEventListeners:function(){this.own(g.after(this.model,"onValueChange",n.hitch(this,"updateCell"),!0),g.after(this.model,"onDataChange",n.hitch(this,
"_refresh")),g.after(this.model,"onMetadataChange",n.hitch(this,"refresh")),g.after(this.model,"onSelectionChanged",n.hitch(this,"selectRange"),!0))},load:function(){if(this._loaded)return l([]);this._loadDeferred||(this._loadDeferred=new k);this.model.onLoadPromise.then(n.hitch(this,function(){if(!this._loading&&this._isVisible()){this._loading=!0;var a=this;this._load().then(function(){delete a._loading;a.updateSelection(a.model.getSelectedArea(),a.model.getStartCellArea(),!0);a._loaded=!0;a.model._loaded=
!0;a._loadDeferred.resolve();a._loadDeferred=null}).otherwise(function(d){a._loadDeferred.reject(d);a._loadDeferred=null;c.show({message:p.get("WORKBOOK_OPEN_FAILED_STR")})})}})).otherwise(function(a){this._loadDeferred.reject(a);this._loadDeferred=null;c.show({message:p.get("WORKBOOK_OPEN_FAILED_STR")})});return this._loadDeferred.promise},_load:function(){this._updateGridPanePositions();for(var a=this._getGridPaneControllers(),c=a.length,d=[],b=0;b<c;b++)d=d.concat(a[b].load());return this._add(d)},
_isVisible:function(){var a=this.grid.domNode;return a&&e.isVisible(a)},onTouchStart:function(a){this._selectionController.onTouchStart(a)},onMouseDown:function(a){this._selectionController.onMouseDown(a)},onMouseMove:function(a){this._selectionController.onMouseMove(a)},onMouseUp:function(a){this._selectionController.onMouseUp(a)},copy:function(){return this._clipboardController.copy()},paste:function(){return this._clipboardController.paste()},scrollPage:function(c){var d=this.grid.gridPanes.bottomRight;
horizontalScrollOffset=verticalScrollOffset=0;c==a.UP?verticalScrollOffset=-d.domNode.clientHeight:c==a.DOWN?verticalScrollOffset=d.domNode.clientHeight:c==a.LEFT?horizontalScrollOffset=-d.domNode.clientWidth:c==a.RIGHT&&(horizontalScrollOffset=d.domNode.clientWidth);d.domNode.scrollTop+=verticalScrollOffset;d.domNode.scrollLeft+=horizontalScrollOffset;d.onScroll()},updateSelection:function(a,c,d){for(var b=this._getGridPaneControllers(),f=b.length,p=0;p<f;p++)b[p].updateSelection(a,c);d&&this._scrollIfNeeded(a)},
_scrollIfNeeded:function(a){var c=this.grid.gridPanes.bottomRight;freezePaneProperties=this.model.getFreezePaneProperties();frozenHeight=freezePaneProperties.frozenHeight;frozenWidth=freezePaneProperties.frozenWidth;a.top+a.height>frozenHeight+c.domNode.clientHeight+c.domNode.scrollTop?(c.domNode.scrollTop+=a.top+a.height-c.domNode.clientHeight-frozenHeight-c.domNode.scrollTop,c.onScroll()):a.top<frozenHeight+c.domNode.scrollTop&&a.maxRow>=freezePaneProperties.firstUnfrozenRowIndex&&(c.domNode.scrollTop+=
a.top-frozenHeight-c.domNode.scrollTop,c.onScroll());a.left+a.width>frozenWidth+c.domNode.clientWidth+c.domNode.scrollLeft?(c.domNode.scrollLeft+=a.left+a.width-c.domNode.clientWidth-frozenWidth-c.domNode.scrollLeft,c.onScroll()):a.left<frozenWidth+c.domNode.scrollLeft&&a.maxCol>=freezePaneProperties.firstUnfrozenColumnIndex&&(c.domNode.scrollLeft+=a.left-frozenWidth-c.domNode.scrollLeft,c.onScroll())},getBottomRightPaneSize:function(){var a=this.grid.gridPanes.bottomRight;return{height:a.domNode.clientHeight,
width:a.domNode.clientWidth}},_updateGridPanePositions:function(){var a=this.model,c=this.grid,d=a.getFreezePaneProperties(),b=a.getWidth(),a=a.getHeight(),f=d.frozenWidth,d=d.frozenHeight,p=c.domNode.offsetHeight,h=c.domNode.offsetWidth,g=c.gridPanes,c=g.topLeft,k=g.topRight,l=g.bottomLeft,m=g.bottomRight;m.setMarginBox({t:d,l:f,w:Math.max(0,h-f),h:Math.max(0,p-d)});m.setContainerSize({w:b-f,h:a-d});g=e.getHorizontalScrollbarHeight(m.domNode);m=e.getVerticalScrollbarWidth(m.domNode);c&&(c.setMarginBox({t:0,
l:0,w:f,h:d}),c.setContainerSize({w:f,h:d}));k&&(k.setMarginBox({t:0,l:f,w:Math.max(0,h-f-m),h:d}),k.setContainerSize({w:b-f,h:d}),this._setScrollGutterSize(this.grid._rightScrollGutterNode,d,m));l&&(l.setMarginBox({t:d,l:0,w:f,h:Math.max(0,p-d-g)}),l.setContainerSize({w:f,h:a-d}),this._setScrollGutterSize(this.grid._bottomScrollGutterNode,g,f))},_getGridPaneControllers:function(){var a=[],c=this.grid.gridPanes,d;for(d in c)c.hasOwnProperty(d)&&a.push(c[d].controller);return a},_setScrollGutterSize:function(a,
c,d){e.setStyle(a,{display:c&&d?"":"none",height:c+"px",width:d+"px"})},refresh:function(){if(!this._loaded)return this.load();if(!this._isVisible())return l([]);this._updateGridPanePositions();return this._refresh()},_refresh:function(){if(!this._isVisible())return l([]);for(var a=this._getGridPaneControllers(),c=a.length,d=[],b=0;b<c;b++)d=d.concat(a[b].getQuery());return this._add(d,!0)},onResize:function(){this._loaded?this._isVisible()&&(this._updateGridPanePositions(),this._onChange()):this.load().then(n.hitch(this,
"onResize"))},onScroll:function(){return this._onChange()},_onChange:function(){for(var a=this._getGridPaneControllers(),c=a.length,d=[],b=0;b<c;b++)d=d.concat(a[b].onChange());return this._add(d)},_add:function(a,c){if(a.length){var d=this;return this.model.get(a).then(function(a){a=a.data;for(var b=d._getGridPaneControllers(),f=b.length,p=0;p<f;p++)b[p].addCells(a,c)})}},updateCell:function(a){for(var c=this._getGridPaneControllers(),d=c.length,b=0;b<d;b++)c[b].updateCell(a)},selectRange:function(a){this._loadDeferred?
this._loadDeferred.then(n.hitch(this,function(){this._selectionController.selectRange(a)})):this._selectionController.selectRange(a)},getCell:function(a,c){for(var d=this._getGridPaneControllers(),b=d.length,f=null,p=0;p<b&&null==f;p++)f=d[p].getCell(a,c);return f}})})},"tm1web/cubeview/ViewCellType":function(){define({NUM:"NUM",STR:"STR",ERR:"ERR"})},"tm1web/grid/utility/box":function(){define({intersects:function(m,n){return!(m.t+m.h<=n.t||n.t+n.h<=m.t||m.l+m.w<=n.l||n.l+n.w<=m.l)},contains:function(m,
n){return n.t>=m.t&&n.l>=m.l&&n.t+n.h<=m.t+m.h&&n.l+n.w<=m.l+m.w},equals:function(m,n){return m.t===n.t&&m.l===n.l&&m.h===n.h&&m.w===n.w},computeDifference:function(m,n){var l=[];if(!this.intersects(m,n)||this.contains(n,m))return l;var k=m.t+m.h,g=m.l+m.w,b=n.t+n.h,h=n.l+n.w,e=n.t-m.t;0<e&&l.push({t:m.t,l:m.l,h:e,w:m.w});e=k-b;0<e&&l.push({t:b,l:m.l,h:e,w:m.w});e=m.t>n.t?m.t:n.t;k=(k>b?b:k)-e;b=n.l-m.l;0<b&&l.push({t:e,l:m.l,h:k,w:b});g-=h;0<g&&l.push({t:e,l:h,h:k,w:g});return l}})},"dijit/_Container":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(m,n,l,k){return n("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(g,b){var h=this.containerNode;if(0<b){for(h=h.firstChild;0<b;)1==h.nodeType&&b--,h=h.nextSibling;h?b="before":(h=this.containerNode,b="last")}l.place(g.domNode,h,b);this._started&&!g._started&&g.startup()},removeChild:function(g){"number"==typeof g&&(g=this.getChildren()[g]);
g&&(g=g.domNode)&&g.parentNode&&g.parentNode.removeChild(g)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(g,b){k.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var h=this.getChildren(),e=m.indexOf(h,g);return h[e+b]},getIndexOfChild:function(g){return m.indexOf(this.getChildren(),g)}})})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){var t=l("dijit.layout._Splitter",[p,q],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=n(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",c=b.getMarginBox(this.child.domNode)[a],d=m.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],
a=b.getContentBox(d.domNode)[a]-10;return Math.min(this.child.maxSize,c+a)},_startDrag:function(c){this.cover||(this.cover=g.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));k.add(this.cover,"dijitSplitterCoverActive");this.fake&&g.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),k.add(this.domNode,"dijitSplitterShadow"),g.place(this.fake,this.domNode,"after"));k.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&k.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var p=this._factor,e=this.horizontal,q=e?"pageY":"pageX",s=c[q],r=this.domNode.style,e=e?"h":"w",l=h.getComputedStyle(this.child.domNode),m=b.getMarginBox(this.child.domNode,l)[e],n=this._computeMaxSize(),t=Math.max(this.child.minSize,b.getPadBorderExtents(this.child.domNode,l)[e]+10),e=this.region,u="top"==e||"bottom"==e?"top":"left",O=parseInt(r[u],10),H=this._resize,
J=f.hitch(this.container,"_layoutChildren",this.child.id),e=this.ownerDocument;this._handlers=this._handlers.concat([a(e,d.move,this._drag=function(a,c){var d=a[q]-s,b=p*d+m,f=Math.max(Math.min(b,n),t);(H||c)&&J(f);r[u]=d+O+p*(f-b)+"px"}),a(e,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),a(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();a.preventDefault()}),a(e,d.release,f.hitch(this,"_stopDrag"))]);c.stopPropagation();c.preventDefault()},_onMouse:function(a){a=
"mouseover"==a.type||"mouseenter"==a.type;k.toggle(this.domNode,"dijitSplitterHover",a);k.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&k.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&g.destroy(this.fake),k.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
n(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var c=this.horizontal,d=1;switch(a.keyCode){case c?e.UP_ARROW:e.LEFT_ARROW:d*=-1;case c?e.DOWN_ARROW:e.RIGHT_ARROW:break;default:return}c=b.getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*d;this.container._layoutChildren(this.child.id,Math.max(Math.min(c,this._computeMaxSize()),this.child.minSize));
a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),u=l("dijit.layout._Gutter",[p,q],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});l=l("dijit.layout.BorderContainer",s,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:t,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var c=a.region,d=a.isLeftToRight();"leading"==c&&(c=d?"left":"right");"trailing"==c&&(c=d?"right":"left");c&&"center"!=c&&(a.splitter||this.gutters)&&!a._splitterWidget&&(d=a.splitter?this._splitterClass:u,f.isString(d)&&
(d=f.getObject(d)),d=new d({id:a.id+"_splitter",container:this,child:a,region:c,live:this.liveSplitters}),d.isSplitter=!0,a._splitterWidget=d,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),g.place(d.domNode,a.domNode,c?"before":"after"),d.startup())},layout:function(){this._layoutChildren()},removeChild:function(a){var c=a._splitterWidget;c&&(c.destroy(),delete a._splitterWidget);this.inherited(arguments)},getChildren:function(){return m.filter(this.inherited(arguments),function(a){return!a.isSplitter})},
getSplitter:function(a){return m.filter(this.getChildren(),function(c){return c.region==a})[0]._splitterWidget},resize:function(a,c){if(!this.cs||!this.pe){var d=this.domNode;this.cs=h.getComputedStyle(d);this.pe=b.getPadExtents(d,this.cs);this.pe.r=h.toPixelValue(d,this.cs.paddingRight);this.pe.b=h.toPixelValue(d,this.cs.paddingBottom);h.set(d,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,c){if(this._borderBox&&this._borderBox.h){var d=[];m.forEach(this._getOrderedChildren(),
function(a){d.push(a);a._splitterWidget&&d.push(a._splitterWidget)});r.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},d,a,c)}},destroyRecursive:function(){m.forEach(this.getChildren(),function(a){var c=a._splitterWidget;c&&c.destroy();delete a._splitterWidget});this.inherited(arguments)}});l.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};f.mixin(l.ChildWidgetProperties,s.ChildWidgetProperties);f.extend(c,l.ChildWidgetProperties);
l._Splitter=t;l._Gutter=u;return l})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p){return n("dojo.dnd.Mover",[f],{constructor:function(c,f,e){function h(a){a.preventDefault();a.stopPropagation()}this.node=b.byId(c);this.marginBox={l:f.pageX,t:f.pageY};this.mouseButton=f.button;f=this.host=e;c=c.ownerDocument;
this.events=[a(c,d.move,l.hitch(this,"onFirstMove")),a(c,d.move,l.hitch(this,"onMouseMove")),a(c,d.release,l.hitch(this,"onMouseUp")),a(c,"dragstart",h),a(c.body,"selectstart",h)];p.autoScrollStart(c);if(f&&f.onMoveStart)f.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var c=this.marginBox;this.host.onMove(this,{l:c.l+a.pageX,t:c.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(k("webkit")&&k("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&
this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var c=this.node.style,d,b=this.host;switch(c.position){case "relative":case "absolute":d=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=h.getMarginBox(this.node);d=g.doc.body;var f=e.getComputedStyle(d),p=h.getMarginBox(d,f),f=h.getContentBox(d,f);d=c.l-(f.l-p.l);c=c.t-(f.t-p.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(b&&b.onFirstMove)b.onFirstMove(this,
a);this.events.shift().remove()},destroy:function(){m.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"tm1web/workbook/model/utility/error-handler":function(){define(["dojo/topic","../../../utility/message-localizer","../../../widgets/ErrorAlert"],function(m,n,l){return{handle:function(k,g){return"com.ibm.cognos.tm1.common.ActionValidatorException"==k.javaClassName?(l.show({title:n.get("LIMITS_EXCEEDED_ERROR_TITLE"),
message:n.get("LIMITS_EXCEEDED_ERROR")}).then(function(){m.publish(g+"-closePage",!0)}),!0):!1}}})},"tm1web/workbook/controls/CheckBoxState":function(){define({Checked:"Checked",Unchecked:"Unchecked",Mixed:"Mixed"})},"tm1web/mobile/_ScrollHandlerMixin":function(){define(["dojo/_base/declare","./_ScrollDeltaMixin"],function(m,n){return m(n,{_retainStartCoordinates:!1,_onTouchMove:function(l){!l.touches||1<l.touches.length||(l.preventDefault(),this.inherited(arguments))},_handleTouchMove:function(l,
k){this._scroll(l,k)},_scroll:function(l,k){}})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(m,n,l,k,g,b){function h(){for(var d=+new Date,c=0,b;c<a.length&&(b=a[c]);c++){var h=b.response,g=h.options;b.isCanceled&&b.isCanceled()||b.isValid&&!b.isValid(h)?(a.splice(c--,1),e._onAction&&e._onAction()):b.isReady&&b.isReady(h)?(a.splice(c--,1),b.handleResponse(h),
e._onAction&&e._onAction()):b.startTime&&b.startTime+(g.timeout||0)<d&&(a.splice(c--,1),b.cancel(new n("Timeout exceeded",h)),e._onAction&&e._onAction())}e._onInFlight&&e._onInFlight(b);a.length||(clearInterval(f),f=null)}function e(d){d.response.options.timeout&&(d.startTime=+new Date);d.isFulfilled()||(a.push(d),f||(f=setInterval(h,50)),d.response.options.sync&&h())}var f=null,a=[];e.cancelAll=function(){try{k.forEach(a,function(a){try{a.cancel(new l("All requests canceled."))}catch(d){}})}catch(d){}};
g&&b&&g.doc.attachEvent&&b(g.global,"unload",function(){e.cancelAll()});return e})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(m,n,l,k,g,b,h,e,f){return m("dijit.form.ComboBoxMixin",[e,b],{dropDownClass:h,hasDownArrow:!0,templateString:f,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},
_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||k.mixin(a,{_oldAPI:!0,get:function(a){var c=new n;this.fetchItemByIdentity({identity:a,onItem:function(a){c.resolve(a)},onError:function(a){c.reject(a)}});return c.promise},query:function(a,c){var b=new n(function(){f.abort&&f.abort()});b.total=new n;var f=this.fetch(k.mixin({query:a,
onBegin:function(a){b.total.resolve(a)},onComplete:function(a){b.resolve(a)},onError:function(a){b.reject(a)}},c));return g(b)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var d=this.declaredClass;k.mixin(this.store,{getValue:function(a,b){l.deprecated(d+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");
return a[b]},getLabel:function(a){l.deprecated(d+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){l.deprecated(d+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],k.hitch(this,function(d){(new d({objectStore:this})).fetch(a)}))}})}}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w){function v(a){return function(c){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(e.hitch(this,a,c))}}var y=n("dijit.form._SelectMenu",p,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,c=this.parentWidget.value;
e.isArray(c)&&(c=c[c.length-1]);c&&m.forEach(this.parentWidget._getChildren(),function(d){d.option&&c===d.option.value&&(a=!0,this.focusChild(d,!1))},this);a||this.inherited(arguments)}});g=n("dijit.form.Select"+(a("dojo-bidi")?"_NoBidi":""),[d,c,t],{baseClass:"dijitSelect dijitValidationTextBox",templateString:x,_buttonInputDisabled:a("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new y({id:this.id+"_menu",parentWidget:this});k.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(a.value||a.label){var c=e.hitch(this,"_setValueAttr",a);a=new q({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,
onClick:c,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a}return new s({ownerDocument:this.ownerDocument})},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",
a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=u.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,c,d,b){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{m.forEach(this._getChildren(),function(a){a.destroyRecursive()});
var c=new q({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(c)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);l.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",
_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=("text"===this.labelType?(a||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,
"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var c=a?"":this._missingMsg;c&&this.focused&&this._hasBeenBlurred?r.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode);this._set("message",c);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);
r.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=(b.getLocalization("dijit.form","validate",this.lang)||w).missingMessage},postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var a=this._keyNavCodes;delete a[h.LEFT_ARROW];delete a[h.RIGHT_ARROW]},_setStyleAttr:function(a){this.inherited(arguments);
k.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);r.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){r.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
a("dojo-bidi")&&(g=n("dijit.form.Select",g,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));g._Menu=y;g.prototype._onContainerKeydown=v("_onContainerKeydown");g.prototype._onContainerKeypress=v("_onContainerKeypress");return g})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t){var u=k("dijit.Calendar",[p,q,s],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){e.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new u._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",a.hitch(this,"_onKeyDown")),d(this.dateRowsNode,"mouseover",a.hitch(this,"_onDayMouseOver")),d(this.dateRowsNode,"mouseout",a.hitch(this,"_onDayMouseOut")),d(this.dateRowsNode,"mousedown",a.hitch(this,"_onDayMouseDown")),d(this.dateRowsNode,"mouseup",a.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var c=
new this.dateClassObj(this.currentFocus);c.setDate(1);c.setMonth(a);a=this.dateModule.getDaysInMonth(c);var d=this.currentFocus.getDate();c.setDate(Math.min(d,a));this._setCurrentFocusAttr(c)},_onDayMouseOver:function(a){(a=b.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!b.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(b.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||
a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",b.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),b.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!b.contains(a,"dijitCalendarDisabledDate")&&(b.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&b.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var c=-1,d,b=this.currentFocus;switch(a.keyCode){case f.RIGHT_ARROW:c=1;case f.LEFT_ARROW:d="day";this.isLeftToRight()||(c*=-1);break;case f.DOWN_ARROW:c=1;case f.UP_ARROW:d="week";break;case f.PAGE_DOWN:c=1;case f.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case f.END:b=this.dateModule.add(b,"month",1),d="day";case f.HOME:b=new this.dateClassObj(b);b.setDate(1);break;default:return!0}d&&(b=this.dateModule.add(b,d,c));this._setCurrentFocusAttr(b);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});u._MonthDropDownButton=k("dijit.Calendar._MonthDropDownButton",t,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new u._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
d);this.containerNode.innerHTML=(6==c("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+d[a.getMonth()]+"\x3c/div\x3e"}});u._MonthDropDown=k("dijit.Calendar._MonthDropDown",[q,r,s],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";m.forEach(a,function(a,c){h.create("div",{className:"dijitCalendarMonthLabel",month:c,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(g.get(a.target,"month"))},onChange:function(){}});return u})},"tm1web/mobile/on/tap":function(){define(["dojox/gesture/tap","../sniff"],function(m,n){return n("mobile-device")?m:"click"})},"dojo/topic":function(){define(["./Evented"],function(m){var n=new m;return{publish:function(l,k){return n.emit.apply(n,
arguments)},subscribe:function(l,k){return n.on.apply(n,arguments)}}})},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(m,n,l){var k=m.getObject("validate.regexp",!0,l);return k=l.validate.regexp={ipAddress:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowDottedDecimal&&(g.allowDottedDecimal=!0);"boolean"!=typeof g.allowDottedHex&&(g.allowDottedHex=!0);"boolean"!=typeof g.allowDottedOctal&&(g.allowDottedOctal=!0);"boolean"!=typeof g.allowDecimal&&
(g.allowDecimal=!0);"boolean"!=typeof g.allowHex&&(g.allowHex=!0);"boolean"!=typeof g.allowIPv6&&(g.allowIPv6=!0);"boolean"!=typeof g.allowHybrid&&(g.allowHybrid=!0);var b=[];g.allowDottedDecimal&&b.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");g.allowDottedHex&&b.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");g.allowDottedOctal&&b.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");g.allowDecimal&&b.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
g.allowHex&&b.push("0[xX]0*[\\da-fA-F]{1,8}");g.allowIPv6&&b.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");g.allowHybrid&&b.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");g="";0<b.length&&(g="("+b.join("|")+")");return g},host:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowIP&&(g.allowIP=!0);"boolean"!=typeof g.allowLocal&&(g.allowLocal=!1);"boolean"!=typeof g.allowPort&&(g.allowPort=!0);"boolean"!=typeof g.allowNamed&&
(g.allowNamed=!1);var b=g.allowPort?"(\\:\\d+)?":"",h="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";g.allowIP&&(h+="|"+k.ipAddress(g));g.allowLocal&&(h+="|localhost");g.allowNamed&&(h+="|^[^-][a-zA-Z0-9_-]*");return"("+h+")"+b},url:function(g){g="object"==typeof g?g:{};"scheme"in g||(g.scheme=[!0,!1]);return n.buildGroupRE(g.scheme,function(b){return b?"(https?|ftps?)\\://":""})+k.host(g)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowCruft&&(g.allowCruft=!1);g.allowPort=!1;var b="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+k.host(g);g.allowCruft&&(b="\x3c?(mailto\\:)?"+b+"\x3e?");return b},emailAddressList:function(g){g="object"==typeof g?g:{};"string"!=typeof g.listSeparator&&(g.listSeparator="\\s;,");var b=k.emailAddress(g);return"("+b+"\\s*["+g.listSeparator+"]\\s*)*"+b+"\\s*["+g.listSeparator+"]?\\s*"},numberFormat:function(g){g=
"object"==typeof g?g:{};"undefined"==typeof g.format&&(g.format="###-###-####");return n.buildGroupRE(g.format,function(b){return n.escapeString(b,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowTerritories&&(g.allowTerritories=!0);"boolean"!=typeof g.allowMilitary&&(g.allowMilitary=!0);
var b="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";g.allowTerritories&&(b+="|AS|FM|GU|MH|MP|PW|PR|VI");g.allowMilitary&&(b+="|AA|AE|AP");return"("+b+")"}}}})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(m,n,l,k,g){var b={};m.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(h){b[h]=k[h]});l.mixin(b,{defaultDuration:n.defaultDuration||200});l.mixin(g,b);return g})},"tm1web/workbook/model/Store":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","./utility/error-handler","../../share/service-loader!WorkbookService"],function(m,n,l,k,g){return m(null,{constructor:function(b){n.mixin(this,b)},getMetadata:function(){var b=new l,h=this.objectId;g.open(this.sessionToken,h,{callback:function(e){b.resolve(e)},errorHandler:function(e,f){k.handle(f,
h)||b.reject(f)}});return b.promise},recalculate:function(b,h,e){var f=new l,a=this.objectId;g.recalculate(this.sessionToken,a,b,h,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){k.handle(c,a)||f.reject(d,c)}});return f.promise},rebuildActiveForms:function(b,h,e,f){var a=new l,d=this.objectId;b?g.rebuildWorkbook(this.sessionToken,d,h,e,f,{callback:function(c){a.resolve(c)},errorHandler:function(c,b){k.handle(b,d)||a.reject(c,b)}}):g.rebuildWorksheet(this.sessionToken,d,h,e,f,{callback:function(c){a.resolve(c)},
errorHandler:function(c,b){k.handle(b,d)||a.reject(c,b)}});return a.promise},setActiveWorksheet:function(b,h){var e=new l,f=this.objectId;g.setActiveWorksheet(this.sessionToken,f,b,h,{callback:function(){e.resolve()},errorHandler:function(a,d){k.handle(d,f)||e.reject(a,d)}});return e.promise},resetData:function(b,h,e){var f=new l,a=this.objectId;g.resetData(this.sessionToken,a,b,h,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){k.handle(c,a)||f.reject(d,c)}});return f.promise},getObjectId:function(b){var h=
new l,e=this.objectId;g.getObjectId(this.sessionToken,e,b,{callback:function(b){h.resolve(b)},errorHandler:function(b,a){k.handle(a,e)||h.reject(b,a)}});return h.promise},close:function(){var b=new l,h=this.objectId;g.close(this.sessionToken,h,{callback:function(){b.resolve()},errorHandler:function(e,f){k.handle(f,h)||b.reject(e,f)}});return b.promise}})})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),
function(m,n,l,k,g,b,h,e,f){l=l("dojo.data.ItemFileReadStore",[b],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return f.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName=
"_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==a.urlPreventCache&&(this.urlPreventCache=a.urlPreventCache?!0:!1);void 0!==a.hierarchical&&(this.hierarchical=a.hierarchical?!0:!1);a.clearOnClose&&(this.clearOnClose=!0);"failOk"in a&&(this.failOk=a.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+
": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,d,c){a=this.getValues(a,d);return 0<a.length?a[0]:c},getValues:function(a,d){this._assertIsItem(a);this._assertIsAttribute(d);return(a[d]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var d=[],c;for(c in a)c!==this._storeRefPropName&&c!==this._itemNumPropName&&c!==this._rootItemPropName&&c!==this._reverseRefMap&&
d.push(c);return d},hasAttribute:function(a,d){this._assertIsItem(a);this._assertIsAttribute(d);return d in a},containsValue:function(a,d,c){var b=void 0;"string"===typeof c&&(b=h.patternToRegExp(c,!1));return this._containsValue(a,d,c,b)},_containsValue:function(a,d,c,b){return k.some(this.getValues(a,d),function(a){if(null!==a&&!n.isObject(a)&&b){if(a.toString().match(b))return!0}else if(c===a)return!0})},isItem:function(a){return a&&a[this._storeRefPropName]===this&&this._arrayOfAllItems[a[this._itemNumPropName]]===
a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},getLabelAttributes:function(a){return this._labelAttr?[this._labelAttr]:null},filter:function(a,d,c){var b=[],f,e;if(a.query){var g;f=a.queryOptions?a.queryOptions.ignoreCase:!1;var k={};for(e in a.query)g=a.query[e],"string"===typeof g?k[e]=h.patternToRegExp(g,
f):g instanceof RegExp&&(k[e]=g);for(f=0;f<d.length;++f){var l=!0,m=d[f];if(null===m)l=!1;else for(e in a.query)g=a.query[e],this._containsValue(m,e,g,k[e])||(l=!1);l&&b.push(m)}}else for(f=0;f<d.length;++f)e=d[f],null!==e&&b.push(e);c(b,a)},_fetchItems:function(a,d,c){var b=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),d);else if(this._jsonFileUrl!==this._ccUrl?(m.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:n.hitch(b,"filter"),findCallback:n.hitch(b,d)});else{this._loadInProgress=!0;var f=g.get({url:b._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});f.addCallback(function(f){try{b._getItemsFromLoadedData(f),
b._loadFinished=!0,b._loadInProgress=!1,b.filter(a,b._getItemsArray(a.queryOptions),d),b._handleQueuedFetches()}catch(e){b._loadFinished=!0,b._loadInProgress=!1,c(e,a)}});f.addErrback(function(d){b._loadInProgress=!1;c(d,a)});var e=null;a.abort&&(e=a.abort);a.abort=function(){f&&-1===f.fired&&f.cancel();e&&e.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,b.filter(a,this._getItemsArray(a.queryOptions),d)}catch(h){c(h,a)}else c(Error(this.declaredClass+
": No JSON source data was provided as either URL or a nested Javascript object."),a)},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var d=this._queuedFetches[a],c=d.args,b=d.filter,d=d.findCallback;b?b(c,this._getItemsArray(c.queryOptions),d):this.fetchItemByIdentity(c)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(a){this.clearOnClose&&this._loadFinished&&
!this._loadInProgress&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(a){function d(a){return null!==a&&"object"===typeof a&&(!n.isArray(a)||b)&&!n.isFunction(a)&&(a.constructor==Object||n.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===typeof a._type&&"undefined"===typeof a._value&&f.hierarchical}function c(a){f._arrayOfAllItems.push(a);for(var b in a){var p=
a[b];if(p)if(n.isArray(p))for(var e=0;e<p.length;++e){var h=p[e];d(h)&&c(h)}else d(p)&&c(p)}}var b=!1,f=this;this._labelAttr=a.label;var e,h;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(e=0;e<this._arrayOfTopLevelItems.length;++e)h=this._arrayOfTopLevelItems[e],n.isArray(h)&&(b=!0),c(h),h[this._rootItemPropName]=!0;var g={},k;for(e=0;e<this._arrayOfAllItems.length;++e)for(k in h=this._arrayOfAllItems[e],h){if(k!==this._rootItemPropName){var l=h[k];null!==l?n.isArray(l)||(h[k]=[l]):
h[k]=[null]}g[k]=k}for(;g[this._storeRefPropName];)this._storeRefPropName+="_";for(;g[this._itemNumPropName];)this._itemNumPropName+="_";for(;g[this._reverseRefMap];)this._reverseRefMap+="_";if(g=a.identifier)for(this._itemsByIdentity={},this._features["dojo.data.api.Identity"]=g,e=0;e<this._arrayOfAllItems.length;++e)if(h=this._arrayOfAllItems[e],a=h[g],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+
this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+g+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+g+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=h;else this._features["dojo.data.api.Identity"]=Number;for(e=0;e<this._arrayOfAllItems.length;++e)h=this._arrayOfAllItems[e],h[this._storeRefPropName]=this,h[this._itemNumPropName]=
e;for(e=0;e<this._arrayOfAllItems.length;++e)for(k in h=this._arrayOfAllItems[e],h)for(a=h[k],g=0;g<a.length;++g)if(l=a[g],null!==l&&"object"==typeof l){if("_type"in l&&"_value"in l){var m=l._type,v=this._datatypeMap[m];if(v)if(n.isFunction(v))a[g]=new v(l._value);else if(n.isFunction(v.deserialize))a[g]=v.deserialize(l._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+
m+"'");}if(l._reference){l=l._reference;if(n.isObject(l))for(m=0;m<this._arrayOfAllItems.length;++m){var v=this._arrayOfAllItems[m],y=!0,A;for(A in l)v[A]!=l[A]&&(y=!1);y&&(a[g]=v)}else a[g]=this._getItemByIdentity(l);this.referenceIntegrity&&(l=a[g],this.isItem(l)&&this._addReferenceToMap(l,h,k))}else this.isItem(l)&&this.referenceIntegrity&&this._addReferenceToMap(l,h,k)}},_addReferenceToMap:function(a,d,c){},getIdentity:function(a){var d=this._features["dojo.data.api.Identity"];return d===Number?
a[this._itemNumPropName]:(a=a[d])?a[0]:null},fetchItemByIdentity:function(a){var d,c;if(this._loadFinished)d=this._getItemByIdentity(a.identity),a.onItem&&(c=a.scope?a.scope:m.global,a.onItem.call(c,d));else{var b=this;this._jsonFileUrl!==this._ccUrl?(m.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=
this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,c=g.get({url:b._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),c.addCallback(function(c){var f=a.scope?a.scope:m.global;try{b._getItemsFromLoadedData(c),b._loadFinished=!0,b._loadInProgress=!1,d=b._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(f,d),b._handleQueuedFetches()}catch(e){b._loadInProgress=
!1,a.onError&&a.onError.call(f,e)}}),c.addErrback(function(c){b._loadInProgress=!1;a.onError&&a.onError.call(a.scope?a.scope:m.global,c)})):this._jsonData&&(b._getItemsFromLoadedData(b._jsonData),b._jsonData=null,b._loadFinished=!0,d=b._getItemByIdentity(a.identity),a.onItem&&(c=a.scope?a.scope:m.global,a.onItem.call(c,d)))}},_getItemByIdentity:function(a){var d=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(d=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,
a)&&(d=this._arrayOfAllItems[a]);void 0===d&&(d=null);return d},getIdentityAttributes:function(a){a=this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;this._jsonFileUrl!==this._ccUrl?(m.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=
this.data&&(this._jsonData=this.data,this.data=null);if(this._jsonFileUrl){var d=g.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});d.addCallback(function(c){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(c),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(d){throw d;}});d.addErrback(function(a){throw a;
})}else this._jsonData&&(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0)}});n.extend(l,e);return l})},"tm1web/workbook/controls/ActionButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/text!./templates/ActionButton.html dijit/_TemplatedMixin ../../widgets/ConfirmDialog ../../widgets/AlertDialog ../../utility/message-localizer ../model/ActionButtonCalculationType ./_Control".split(" "),function(m,n,l,k,g,b,h,e,f){return m("tm1web.workbook.control.ActionButton",
[f,k],{templateString:l,caption:"",autoResize:!1,hasConfirmation:!1,preCalculationType:e.None,_setStyleAttr:function(a){this.inherited(arguments);this.autoResize&&(this.domNode.style.width="auto")},_setCaptionAttr:function(a){a=a||"";this._set("caption",a);this.domNode.textContent=a},update:function(a){this.inherited(arguments);this.set("caption",a.caption)},_onClick:function(a){this.hasConfirmation?this.model.getActionButtonProcessConfirmation(this.controlId).then(n.hitch(this,"_confirmExecution")).otherwise(function(a){b.show({message:h.get("SRV_ERR_STR")})}):
this._execute()},_confirmExecution:function(a){g.show({message:a,okButtonLabel:h.get("CONTINUE_STR")}).then(n.hitch(this,"_execute"),n.hitch(this,"_cancelExecution"))},_cancelExecution:function(){this.preCalculationType&&this.preCalculationType!=e.None&&(this.model.workbookModel.setNeedsRefresh(),this.model.onDataChange())},_execute:function(){this.model.executeActionButton(this.controlId).otherwise(function(a){a=a&&"dwr.engine.http.502"===a.name?h.get("ACTION_BUTTON_HTTP_502_PROXY_ERROR"):h.get("SRV_ERR_STR");
b.show({message:a})})}})})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(m,n,l,k,g){return m("dijit.form.ComboButton",k,{templateString:g,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},
_focusedNode:null,_onButtonKeyDown:function(b){b.keyCode==n[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(l.focus(this._popupStateNode),b.stopPropagation(),b.preventDefault())},_onArrowKeyDown:function(b){b.keyCode==n[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(l.focus(this.titleNode),b.stopPropagation(),b.preventDefault())},focus:function(b){this.disabled||l.focus("start"==b?this.titleNode:this._popupStateNode)}})})},"tm1web/grid/selection/BottomBorderSelection":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget ./_BorderOffsetMixin".split(" "),
function(m,n,l,k,g,b,h){return m([b,h],{constructor:function(b){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,f){this._setStyle(b.left,b.top+b.height,b.width,-1)}})})},"tm1web/workbook/controls/AnchorType":function(){define({MoveResize:"MoveResize",MoveNoResize:"MoveNoResize",NoMoveNoResize:"NoMoveNoResize"})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(m,
n,l,k){return m("dijit.form.RangeBoundTextBox",l,{rangeMessage:"",rangeCheck:function(g,b){return("min"in b?0<=this.compare(g,b.min):!0)&&("max"in b?0>=this.compare(g,b.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var g=this.get("value");if(null==g)return!1;var b=!1;"min"in this.constraints&&(b=this.constraints.min,b=0>this.compare(g,"number"==typeof b&&0<=b&&0!=g?0:b));!b&&"max"in this.constraints&&(b=this.constraints.max,
b=0<this.compare(g,"number"!=typeof b||0<b?b:0));return b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(g){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(g))},getErrorMessage:function(g){var b=this.get("value");return null==b||""===b||"number"==typeof b&&isNaN(b)||this.isInRange(g)?this.inherited(arguments):this.rangeMessage},postMixInProperties:function(){this.inherited(arguments);
this.rangeMessage||(this.messages=n.getLocalization("dijit.form","validate",this.lang)||k,this.rangeMessage=this.messages.rangeMessage)}})})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(m,n,l){function k(f){if("string"==typeof f||f instanceof String){if(f&&!b.test(f))return h[0]=f,h;f=f.split(b);f.length&&!f[0]&&f.shift();f.length&&!f[f.length-1]&&f.pop();return f}return f?n.filter(f,function(a){return a}):[]}var g,b=/\s+/,h=[""],e={};return g={contains:function(b,
a){return 0<=(" "+l.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=l.byId(b);a=k(a);var d=b.className,c,d=d?" "+d+" ":" ";c=d.length;for(var p=0,e=a.length,h;p<e;++p)(h=a[p])&&0>d.indexOf(" "+h+" ")&&(d+=h+" ");c<d.length&&(b.className=d.substr(1,d.length-2))},remove:function(b,a){b=l.byId(b);var d;if(void 0!==a){a=k(a);d=" "+b.className+" ";for(var c=0,p=a.length;c<p;++c)d=d.replace(" "+a[c]+" "," ");d=m.trim(d)}else d="";b.className!=d&&(b.className=d)},replace:function(b,a,d){b=
l.byId(b);e.className=b.className;g.remove(e,d);g.add(e,a);b.className!==e.className&&(b.className=e.className)},toggle:function(b,a,d){b=l.byId(b);if(void 0===d){a=k(a);for(var c=0,p=a.length,e;c<p;++c)e=a[c],g[g.contains(b,e)?"remove":"add"](b,e)}else g[d?"add":"remove"](b,a);return d}}})},"dojox/html/entities":function(){define(["../main","dojo/_base/lang"],function(m,n){var l=n.getObject("html.entities",!0,m),k=function(b,h){var e,f;if(h._encCache&&h._encCache.regexp&&h._encCache.mapper&&h.length==
h._encCache.length)e=h._encCache.mapper,f=h._encCache.regexp;else{e={};f=["["];var a;for(a=0;a<h.length;a++)e[h[a][0]]="\x26"+h[a][1]+";",f.push(h[a][0]);f.push("]");f=new RegExp(f.join(""),"g");h._encCache={mapper:e,regexp:f,length:h.length}}return b=b.replace(f,function(a){return e[a]})},g=function(b,h){var e,f;if(h._decCache&&h._decCache.regexp&&h._decCache.mapper&&h.length==h._decCache.length)e=h._decCache.mapper,f=h._decCache.regexp;else{e={};f=["("];var a;for(a=0;a<h.length;a++){var d="\x26"+
h[a][1]+";";a&&f.push("|");e[d]=h[a][0];f.push(d)}f.push(")");f=new RegExp(f.join(""),"g");h._decCache={mapper:e,regexp:f,length:h.length}}return b=b.replace(f,function(a){return e[a]})};l.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];l.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac",
"not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7",
"Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1",
"aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb",
"ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],
["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1",
"thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203",
"exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],
["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],
["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];l.encode=function(b,h){b&&(h?b=k(b,h):(b=k(b,l.html),b=k(b,l.latin)));return b};l.decode=function(b,h){b&&(h?b=g(b,h):(b=g(b,l.html),b=g(b,l.latin)));return b};
return l})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(m,n,l,k,g,b,h,e,f,a){function d(a,c,d){return s&&d?function(a,c){return b(a,d,c)}:t?function(d,f){var p=b(d,c,function(a){f.call(this,a);F=(new Date).getTime()}),e=b(d,a,function(a){(!F||(new Date).getTime()>F+1E3)&&f.call(this,a)});return{remove:function(){p.remove();e.remove()}}}:function(c,d){return b(c,a,d)}}function c(a){do if(void 0!==
a.dojoClick)return a;while(a=a.parentNode)}function p(d,f,p){if(!e.isRight(d)){var h=c(d.target);if(x=!d.target.disabled&&h&&h.dojoClick)if(v=(w="useTarget"==x)?h:d.target,w&&d.preventDefault(),y=d.changedTouches?d.changedTouches[0].pageX-a.global.pageXOffset:d.clientX,A=d.changedTouches?d.changedTouches[0].pageY-a.global.pageYOffset:d.clientY,z=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,B=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,!u){d=function(c){a.doc.addEventListener(c,function(a){x&&
!a._dojo_click&&(new Date).getTime()<=E+1E3&&("INPUT"!=a.target.tagName||!k.contains(a.target,"dijitOffScreen"))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"!=c||"INPUT"==a.target.tagName&&"radio"!=a.target.type&&"checkbox"!=a.target.type||"TEXTAREA"==a.target.tagName||"AUDIO"==a.target.tagName||"VIDEO"==a.target.tagName||a.preventDefault())},!0)};var g=function(c){x=w?l.isDescendant(a.doc.elementFromPoint(c.changedTouches?c.changedTouches[0].pageX-a.global.pageXOffset:
c.clientX,c.changedTouches?c.changedTouches[0].pageY-a.global.pageYOffset:c.clientY),v):x&&(c.changedTouches?c.changedTouches[0].target:c.target)==v&&Math.abs((c.changedTouches?c.changedTouches[0].pageX-a.global.pageXOffset:c.clientX)-y)<=z&&Math.abs((c.changedTouches?c.changedTouches[0].pageY-a.global.pageYOffset:c.clientY)-A)<=B};u=!0;a.doc.addEventListener(f,function(a){e.isRight(a)||(g(a),w&&a.preventDefault())},!0);a.doc.addEventListener(p,function(a){if(!e.isRight(a)&&(g(a),x)){var c=function(c){var d=
document.createEvent("MouseEvents");d._dojo_click=!0;d.initMouseEvent(c,!0,!0,a.view,a.detail,f.screenX,f.screenY,f.clientX,f.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return d};E=(new Date).getTime();var d=w?v:a.target;"LABEL"===d.tagName&&(d=l.byId(d.getAttribute("for"))||d);var f=a.changedTouches?a.changedTouches[0]:a,p=c("mousedown"),h=c("mouseup"),q=c("click");setTimeout(function(){b.emit(d,"mousedown",p);b.emit(d,"mouseup",h);b.emit(d,"click",q);E=(new Date).getTime()},0)}},!0);
d("click");d("mousedown");d("mouseup")}}}var q=5>h("ios"),s=h("pointer-events")||h("MSPointer"),r=function(){var a={},c;for(c in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[c]=h("MSPointer")?"MSPointer"+c.charAt(0).toUpperCase()+c.slice(1):"pointer"+c;return a}(),t=h("touch-events"),u,x,w=!1,v,y,A,z,B,E,F,I;h("touch")&&(s?f(function(){a.doc.addEventListener(r.down,function(a){p(a,r.move,r.up)},!0)}):f(function(){function c(a){var d=g.delegate(a,{bubbles:!0});6<=h("ios")&&(d.touches=a.touches,d.altKey=
a.altKey,d.changedTouches=a.changedTouches,d.ctrlKey=a.ctrlKey,d.metaKey=a.metaKey,d.shiftKey=a.shiftKey,d.targetTouches=a.targetTouches);return d}I=a.body();a.doc.addEventListener("touchstart",function(a){F=(new Date).getTime();var c=I;I=a.target;b.emit(c,"dojotouchout",{relatedTarget:I,bubbles:!0});b.emit(I,"dojotouchover",{relatedTarget:c,bubbles:!0});p(a,"touchmove","touchend")},!0);b(a.doc,"touchmove",function(d){F=(new Date).getTime();var f=a.doc.elementFromPoint(d.pageX-(q?0:a.global.pageXOffset),
d.pageY-(q?0:a.global.pageYOffset));f&&(I!==f&&(b.emit(I,"dojotouchout",{relatedTarget:f,bubbles:!0}),b.emit(f,"dojotouchover",{relatedTarget:I,bubbles:!0}),I=f),b.emit(f,"dojotouchmove",c(d))||d.preventDefault())});b(a.doc,"touchend",function(d){F=(new Date).getTime();var f=a.doc.elementFromPoint(d.pageX-(q?0:a.global.pageXOffset),d.pageY-(q?0:a.global.pageYOffset))||a.body();b.emit(f,"dojotouchend",c(d))})}));n={press:d("mousedown","touchstart",r.down),move:d("mousemove","dojotouchmove",r.move),
release:d("mouseup","dojotouchend",r.up),cancel:d(e.leave,"touchcancel",s?r.cancel:null),over:d("mouseover","dojotouchover",r.over),out:d("mouseout","dojotouchout",r.out),enter:e._eventHandler(d("mouseover","dojotouchover",r.over)),leave:e._eventHandler(d("mouseout","dojotouchout",r.out))};return m.touch=n})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(m){return m.cache})},"tm1web/subseteditor/TreeNode":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/Deferred dojo/dom-class dojo/dom-construct dojo/fx dijit/_base/manager dijit/Tree dijit/_Container".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){function c(a){return n.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}return m(a._TreeNode,{buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"tm1webSubsetEditorTreeNode")},expand:function(){this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);if(this._expandDeferred)return c(this._expandDeferred);this._wipeOut&&this._wipeOut.stop();this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded",
"true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role","group");b.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");this.containerNode.style.display="";var a=new g;a.resolve();return c(a)},collapse:function(){if(this._collapseDeferred)return c(this._collapseDeferred);this._expandDeferred&&(this._expandDeferred.cancel(),
delete this._expandDeferred);this._wipeIn&&this._wipeIn.stop();this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");b.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this.containerNode.style.display="none";var a=new g;a.resolve();return c(a)},setChildItems:function(a){var b=this.tree,f=b.model,e=[],h=b.focusedChild,g=this.getChildren();
l.forEach(g,function(a){d.prototype.removeChild.call(this,a)},this);this.defer(function(){l.forEach(g,function(a){if(!a._destroyed&&!a.getParent()){var c=function(a){var d=f.getIdentity(a.item),p=b._itemNodesMap[d];1==p.length?delete b._itemNodesMap[d]:(d=l.indexOf(p,a),-1!=d&&p.splice(d,1));l.forEach(a.getChildren(),c)};b.dndController.removeTreeNode(a);c(a);if(b.persist){var d=l.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),p;for(p in b._openedNodes)p.substr(0,d.length)==
d&&delete b._openedNodes[p];b._saveExpandedNodes()}b.lastFocusedChild&&!dom.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;h&&!dom.isDescendant(h,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&f.mayHaveChildren(this.item)?(this.isExpandable=!0,l.forEach(a,function(a){var c=f.getIdentity(a),d=b._itemNodesMap[c],p;if(d)for(var h=0;h<d.length;h++)if(d[h]&&!d[h].getParent()){p=d[h];p.set("indent",this.indent+1);break}p||(p=this.tree._createTreeNode({item:a,
tree:b,isExpandable:f.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),d?d.push(p):b._itemNodesMap[c]=[p]);this.addChild(p);(this.tree.autoExpand&&f.isItemLoaded(a)||this.tree._state(p))&&e.push(b._expandNode(p))},this),l.forEach(this.getChildren(),function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);
a=k(e);this.tree._startPaint(a);return c(a)},setFound:function(a,c){var d=this.label.substring(0,a),b=this.label.substring(a,c),f=this.label.substring(c);this.labelNode.innerHTML=d+"\x3cspan class\x3d'tm1webTreeNodeLabelFound'\x3e"+b+"\x3c/span\x3e"+f},clearFound:function(){this.set("label",this.label)},_setIndentAttr:function(a){"indent"in this.item&&(arguments[0]=this.item.indent);this.inherited(arguments)}})})},"tm1web/workbook/celledit/ValidationList":function(){define(["dojo/_base/declare","./_CellList",
"./ValidationListStore","./ValidationListValueSaver"],function(m,n,l,k){return m("tm1web.workbook.celledit.ValidationList",n,{_Store:l,_ValueSaver:k})})},"tm1web/subseteditor/FilterByLevelDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByLevelDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/MultiSelect ../utility/message-localizer ../widgets/_StopPropagationMixin dojo/query".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p){return m([g,e,f,c],{templateString:h,_levelsCombo:null,_levelsComboNode:null,_submitButton:null,_cancelButton:null,title:d.get("FILTER_BY_LEVEL_TITLE_STR"),_selectLevelsLabel:d.get("SELECT_LEVELS_STR"),_submitButtonLabel:d.get("OK_STR"),_cancelButtonLabel:d.get("CANCEL_STR"),_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._addLevels()},_addLevels:function(){this._levelsCombo=new a({className:"tm1webMultiSelect"},this._levelsComboNode);
this.own(this._levelsCombo.on("change",l.hitch(this,"_onChange")));p(".tm1webFilterByLevelLabel",this.domNode).attr("for",this._levelsCombo.id);for(var c=0;c<this.levelsCount;c++)k.create("option",{innerHTML:d.get("SUBSET_LEVEL",c),value:c},this._levelsCombo.domNode)},_onChange:function(a){this._submitButton.set("disabled",0>=a.length)},_submit:function(){var a=this._levelsCombo.get("value");this.model.filterByLevel(a,l.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){m._xhrObj=s._create;var t=m.config;m.objectToQuery=k.objectToQuery;m.queryToObject=k.queryToObject;m.fieldToObject=b.fieldToObject;m.formToObject=b.toObject;m.formToQuery=b.toQuery;m.formToJson=b.toJson;m._blockAsync=!1;var u=m._contentHandlers=m.contentHandlers={text:function(a){return a.responseText},json:function(a){return f.fromJson(a.responseText||null)},"json-comment-filtered":function(a){e.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var c=a.indexOf("/*"),d=a.lastIndexOf("*/");if(-1==c||-1==d)throw Error("JSON was not comment filtered");return f.fromJson(a.substring(c+2,d))},javascript:function(a){return m.eval(a.responseText)},xml:function(a){var c=a.responseXML;c&&n("dom-qsa2.1")&&!c.querySelectorAll&&n("dom-parser")&&(c=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(n("ie")&&(!c||!c.documentElement)){var b=function(a){return"MSXML"+a+".DOMDocument"},b=["Microsoft.XMLDOM",b(6),b(4),b(3),
b(2)];d.some(b,function(d){try{var b=new ActiveXObject(d);b.async=!1;b.loadXML(a.responseText);c=b}catch(f){return!1}return!0})}return c},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};m._ioSetArgs=function(c,d,f,p){var e={args:c,url:c.url},q=null;if(c.form){var q=g.byId(c.form),s=q.getAttributeNode("action");e.url=e.url||(s?s.value:null);q=b.toObject(q)}s=[{}];q&&s.push(q);c.content&&s.push(c.content);c.preventCache&&
s.push({"dojo.preventCache":(new Date).valueOf()});e.query=k.objectToQuery(a.mixin.apply(null,s));e.handleAs=c.handleAs||"text";var l=new h(function(a){a.canceled=!0;d&&d(a);var c=a.ioArgs.error;c||(c=Error("request cancelled"),c.dojoType="cancel",a.ioArgs.error=c);return c});l.addCallback(f);var r=c.load;r&&a.isFunction(r)&&l.addCallback(function(a){return r.call(c,a,e)});var n=c.error;n&&a.isFunction(n)&&l.addErrback(function(a){return n.call(c,a,e)});var u=c.handle;u&&a.isFunction(u)&&l.addBoth(function(a){return u.call(c,
a,e)});l.addErrback(function(a){return p(a,l)});t.ioPublish&&m.publish&&!1!==e.args.ioPublish&&(l.addCallbacks(function(a){m.publish("/dojo/io/load",[l,a]);return a},function(a){m.publish("/dojo/io/error",[l,a]);return a}),l.addBoth(function(a){m.publish("/dojo/io/done",[l,a]);return a}));l.ioArgs=e;return l};var x=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,c){c.ioArgs.args.failOk||console.error(a);return a},v=function(a){0>=y&&(y=0,t.ioPublish&&m.publish&&
(!a||a&&!1!==a.ioArgs.args.ioPublish)&&m.publish("/dojo/io/stop"))},y=0;p.after(q,"_onAction",function(){--y});p.after(q,"_onInFlight",v);m._ioCancelAll=q.cancelAll;m._ioNotifyStart=function(a){t.ioPublish&&m.publish&&!1!==a.ioArgs.args.ioPublish&&(y||m.publish("/dojo/io/start"),y+=1,m.publish("/dojo/io/send",[a]))};m._ioWatch=function(c,d,b,f){c.ioArgs.options=c.ioArgs.args;a.mixin(c,{response:c.ioArgs,isValid:function(a){return d(c)},isReady:function(a){return b(c)},handleResponse:function(a){return f(c)}});
q(c);v(c)};m._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};m.xhr=function(a,c,d){var b,f=m._ioSetArgs(c,function(a){b&&b.cancel()},x,w),p=f.ioArgs;"postData"in c?p.query=c.postData:"putData"in c?p.query=c.putData:"rawBody"in c?p.query=c.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&m._ioAddQueryToUrl(p);var e={method:a,handleAs:"text",timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:p};"undefined"!==
typeof c.headers&&(e.headers=c.headers);"undefined"!==typeof c.contentType&&(e.headers||(e.headers={}),e.headers["Content-Type"]=c.contentType);"undefined"!==typeof p.query&&(e.data=p.query);"undefined"!==typeof c.sync&&(e.sync=c.sync);m._ioNotifyStart(f);try{b=s(p.url,e,!0)}catch(h){return f.cancel(),f}f.ioArgs.xhr=b.response.xhr;b.then(function(){f.resolve(f)}).otherwise(function(a){p.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);f.reject(a)});
return f};m.xhrGet=function(a){return m.xhr("GET",a)};m.rawXhrPost=m.xhrPost=function(a){return m.xhr("POST",a,!0)};m.rawXhrPut=m.xhrPut=function(a){return m.xhr("PUT",a,!0)};m.xhrDelete=function(a){return m.xhr("DELETE",a)};m._isDocumentOk=function(a){return r.checkStatus(a.status)};m._getText=function(a){var c;m.xhrGet({url:a,sync:!0,load:function(a){c=a}});return c};a.mixin(m.xhr,{_xhrObj:m._xhrObj,fieldToObject:b.fieldToObject,formToObject:b.toObject,objectToQuery:k.objectToQuery,formToQuery:b.toQuery,
formToJson:b.toJson,queryToObject:k.queryToObject,contentHandlers:u,_ioSetArgs:m._ioSetArgs,_ioCancelAll:m._ioCancelAll,_ioNotifyStart:m._ioNotifyStart,_ioWatch:m._ioWatch,_ioAddQueryToUrl:m._ioAddQueryToUrl,_isDocumentOk:m._isDocumentOk,_getText:m._getText,get:m.xhrGet,post:m.xhrPost,put:m.xhrPut,del:m.xhrDelete});return m.xhr})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){var p=m("dijit.DialogUnderlay",[e,f],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){k.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(b(this.domNode,"keydown",n.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,c=this.domNode.style;c.display="none";var d=h.getBox(this.ownerDocument);c.top=d.t+"px";c.left=d.l+"px";a.width=d.w+"px";a.height=d.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var c=h.get(this.ownerDocument);this._modalConnects=[d.on("resize",n.hitch(this,"layout")),b(c,"scroll",
n.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});p.show=function(a,d){var b=p._singleton;!b||b._destroyed?b=c._underlay=p._singleton=new p(a):a&&b.set(a);g.set(b.domNode,"zIndex",d);b.open||b.show()};p.hide=function(){var a=
p._singleton;a&&!a._destroyed&&a.hide()};return p})},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday",
"dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E",eraNarrow:["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM",
"dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z",
"field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday",
"dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday",
"quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],eraAbbr:["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}",
"field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"field-zone":"Zone","months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})",
"dayPeriods-format-abbr-pm":"PM","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),eraNames:["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":"SMTWTFS".split(""),"field-month":"Month","days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})",
"dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}",
"dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},aa:!0,af:!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,
"ar-iq":!0,"ar-jo":!0,"ar-lb":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-sy":!0,"ar-tn":!0,as:!0,asa:!0,ast:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,byn:!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-bw":!0,"en-bz":!0,"en-ca":!0,"en-gb":!0,"en-hk":!0,"en-ie":!0,"en-in":!0,"en-mt":!0,"en-nz":!0,"en-pk":!0,"en-sg":!0,"en-za":!0,
"en-zw":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,"es-cl":!0,"es-co":!0,"es-gt":!0,"es-hn":!0,"es-mx":!0,"es-pa":!0,"es-pe":!0,"es-pr":!0,"es-us":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ca":!0,"fr-ch":!0,fur:!0,fy:!0,ga:!0,gd:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,
ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,ksh:!0,"ku-tr":!0,kw:!0,ky:!0,lag:!0,lg:!0,lkt:!0,ln:!0,lo:!0,lt:!0,lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,"ne-in":!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nus:!0,nyn:!0,om:!0,or:!0,os:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,"ru-ua":!0,rw:!0,rwk:!0,sah:!0,saq:!0,sbp:!0,se:!0,seh:!0,ses:!0,sg:!0,
sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-cyrl-ba":!0,"sr-latn":!0,"sr-latn-me":!0,ssy:!0,sv:!0,"sv-fi":!0,sw:!0,swc:!0,ta:!0,te:!0,teo:!0,th:!0,ti:!0,"ti-er":!0,to:!0,tr:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,vi:!0,vo:!0,vun:!0,wae:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hant-mo":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,
zu:!0})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(m,n){return m("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(l){var k=this.checked;this._set("checked",!k);var g=this.inherited(arguments);this.set("checked",g?this.checked:k);return g},_setCheckedAttr:function(l,k){this._set("checked",l);var g=this.focusNode||this.domNode;this._created&&n.get(g,"checked")!=!!l&&n.set(g,"checked",!!l);g.setAttribute(this._aria_attr,
String(l));this._handleOnChange(l,k)},postCreate:function(){this.inherited(arguments);var l=this.focusNode||this.domNode;this.checked&&l.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(m){return function(n,l){function k(b){b=m.filter(b,n);var h=l&&l.sort;
h&&b.sort("function"==typeof h?h:function(b,a){for(var d,c=0;d=h[c];c++){var p=b[d.attribute],e=a[d.attribute],p=null!=p?p.valueOf():p,e=null!=e?e.valueOf():e;if(p!=e)return!!d.descending==(null==p||p>e)?-1:1}return 0});if(l&&(l.start||l.count)){var e=b.length;b=b.slice(l.start||0,(l.start||0)+(l.count||Infinity));b.total=e}return b}switch(typeof n){default:throw Error("Can not query with a "+typeof n);case "object":case "undefined":var g=n;n=function(b){for(var h in g){var e=g[h];if(e&&e.test){if(!e.test(b[h],
b))return!1}else if(e!=b[h])return!1}return!0};break;case "string":if(!this[n])throw Error("No filter function "+n+" was found in store");n=this[n];case "function":}k.matches=n;return k}})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(m,n,l,k,g,b,h,e){var f=n("dijit._TemplatedMixin",e,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var d=
this.declaredClass,c=this;return h.substitute(a,this,function(a,b){"!"==b.charAt(0)&&(a=k.getObject(b.substr(1),!1,c));if("undefined"==typeof a)throw Error(d+" template:"+b);return null==a?"":"!"==b.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=m(this.templatePath,
{sanitize:!0}));var a=f.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),d;if(k.isString(a)){if(d=l.toDom(this._stringRepl(a),this.ownerDocument),1!=d.nodeType)throw Error("Invalid template: "+a);}else d=a.cloneNode(!0);this.domNode=d}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var d=this.containerNode;if(a&&d)for(;a.hasChildNodes();)d.appendChild(a.firstChild)}});f._templateCache={};f.getCachedTemplate=
function(a,d,c){var b=f._templateCache,e=a,g=b[e];if(g){try{if(!g.ownerDocument||g.ownerDocument==(c||document))return g}catch(k){}l.destroy(g)}a=h.trim(a);if(d||a.match(/\$\{([^\}]+)\}/g))return b[e]=a;d=l.toDom(a,c);if(1!=d.nodeType)throw Error("Invalid template: "+a);return b[e]=d};b("ie")&&g(window,"unload",function(){var a=f._templateCache,d;for(d in a){var c=a[d];"object"==typeof c&&l.destroy(c);delete a[d]}});return f})},"tm1web/subseteditor/TopToolbar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/aspect dojo/when dojo/dom-class dijit/registry dijit/focus dijit/Toolbar dijit/Dialog ../utility/clipboard ../utility/message-localizer ../share/SkeletonMixin ./_TreePaneFocusMixin ./SaveAsDialog ./SortType ./FilterByLevelDialog ./FilterByAttributeDialog ./FilterByExpressionDialog ./CreateConsolidationDialog ../widgets/WarningOptionsDialog dojo/query".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A){return m([a,q,s],{_toolbarState:null,_subsetTreeClipboardEmpty:null,_subsetTreeHasAttributes:!1,_dimensionTreeClipboardEmpty:null,_dimensionTreeHasAttributes:!1,_allowUserDefinedCalculations:!0,postCreate:function(){this.inherited(arguments);this._allowUserDefinedCalculations=this.model.getIsAllowedUserDefinedCalculations();this._addSkeletonChildren();this._attachEventListeners();this.subsetTree.get("model").getMetaData(n.hitch(this,function(a){this._setSubsetTreeClipboardEmpty(a);
this._setSubsetTreeHasAttributes(a)}));this.dimensionTree.get("model").getMetaData(n.hitch(this,function(a){this._setDimensionTreeClipboardEmpty(a);this._setDimensionTreeHasAttributes(a)}));this._onSubsetTreeFocus();this._onSubsetTreeSelect();h.add(this.domNode,"tm1webToolbar")},_setSubsetTreeClipboardEmpty:function(a){this._subsetTreeClipboardEmpty=a.clipboardEmpty},_setDimensionTreeClipboardEmpty:function(a){this._dimensionTreeClipboardEmpty=a.clipboardEmpty},_setSubsetTreeHasAttributes:function(a){this._subsetTreeHasAttributes=
a.hasAttributes},_setDimensionTreeHasAttributes:function(a){this._dimensionTreeHasAttributes=a.hasAttributes},_attachEventListeners:function(){this.own(g.after(this.subsetTree.get("model"),"onMetaDataChange",n.hitch(this,"_onSubsetTreeMetaDataChange"),!0));this.own(this.subsetTree.on("focus",n.hitch(this,"_onSubsetTreeFocus")));this.own(this.subsetTree.on("select",n.hitch(this,"_onSubsetTreeSelect")));this.own(g.after(this.dimensionTree.get("model"),"onMetaDataChange",n.hitch(this,"_onDimensionTreeMetaDataChange"),
!0));this.own(this.dimensionTree.on("focus",n.hitch(this,"_onDimensionTreeFocus")));this.own(this.dimensionTree.on("select",n.hitch(this,"_onDimensionTreeSelect")))},_onSubsetTreeMetaDataChange:function(a){this._setSubsetTreeClipboardEmpty(a);this._activeTree===this.subsetTree&&this._onSubsetTreeFocus()},_onSubsetTreeFocus:function(){this.inherited(arguments);var a=this.subsetTree.get("model").hasSelectedItems();this._toolbarState=a?3:2;this._customizeToolbarForSubsetTree(a)},_onSubsetTreeSelect:function(){var a=
this._toolbarState,c=this.subsetTree.get("model").hasSelectedItems();this._toolbarState=c?3:2;a!==this._toolbarState&&this._customizeToolbarForSubsetTree(c)},_customizeToolbarForSubsetTree:function(a){var c=this._skeletonChildren;this._customizeToolbar(a);l.forEach([c.saveButton,c.saveAsButton,c.reloadButton],function(a){a.set("disabled",!1)});c.customConsolidationButton.set("disabled",!this._allowUserDefinedCalculations);c.pasteButton.set("disabled",this._subsetTreeClipboardEmpty&&this._dimensionTreeClipboardEmpty);
c.filterByAttributeItem.set("disabled",!this._subsetTreeHasAttributes);l.forEach([c.cutButton,c.pasteAboveItem,c.pasteBelowItem,c.createConsolidationFromSelectedElementsItem],function(c){c.set("disabled",!a)})},_onDimensionTreeMetaDataChange:function(a){this._setDimensionTreeClipboardEmpty(a);this._activeTree===this.dimensionTree&&this._onDimensionTreeFocus()},_onDimensionTreeFocus:function(){this.inherited(arguments);var a=this.dimensionTree.get("model").hasSelectedItems();this._toolbarState=a?1:
0;this._customizeToolbarForDimensionTree(a)},_onDimensionTreeSelect:function(){var a=this._toolbarState,c=this.dimensionTree.get("model").hasSelectedItems();this._toolbarState=c?1:0;a!==this._toolbarState&&this._customizeToolbarForDimensionTree(c)},_customizeToolbarForDimensionTree:function(a){var c=this._skeletonChildren;this._customizeToolbar(a);l.forEach([c.saveButton,c.saveAsButton,c.reloadButton,c.cutButton,c.pasteButton,c.customConsolidationButton],function(a){a.set("disabled",!0)});c.copyButton.set("disabled",
!a);c.filterByAttributeItem.set("disabled",!this._dimensionTreeHasAttributes)},_customizeToolbar:function(a){var c=this._skeletonChildren;l.forEach([c.subsetAllButton,c.filterButton,c.sortButton,c.treeExpandButton,c.expandSelectedConsolidationsItem],function(a){a.set("disabled",!1)});l.forEach([c.copyButton,c.keepButton,c.deleteButton,c.drillDownSelectedConsolidationsItem,c.expandSelectedConsolidationsItem,c.collapseSelectedConsolidationsItem,c.insertParentsOfSelectedElementButton],function(c){c.set("disabled",
!a)})},_createSkeletonChildren:function(){var a=this._skeletonChildren;a.saveButton=this._newButton(p.get("SAVE_SUBSET_STR"),"tm1webSubsetEditorIconSaveSubset","SaveSubsetButton",n.hitch(this,"_saveSubset"));a.saveAsButton=this._newButton(p.get("SAVE_SUBSET_AS_STR"),"tm1webSubsetEditorIconSaveSubsetAs","SaveSubsetAsButton",n.hitch(this,"_saveSubsetAs"));a.reloadButton=this._newButton(p.get("RELOAD_SUBSET_STR"),"tm1webSubsetEditorIconReloadSubset","ReloadSubsetButton",n.hitch(this,"_reloadSubset"));
a.subsetAllButton=this._newButton(p.get("SUBSET_ALL_STR"),"tm1webSubsetEditorIconSubsetAll ","SubsetAllButton",n.hitch(this,"_subsetAll"));a.cutButton=this._newButton(p.get("CUT_STR"),"tm1webSubsetEditorIconCut","tm1webSubsetEditorIconCut",n.hitch(this,"cut"));a.copyButton=this._newButton(p.get("COPY_STR"),"tm1webSubsetEditorIconCopy","tm1webSubsetEditorIconCopy",n.hitch(this,"copy"));a.pasteItem=this._newMenuItem(p.get("PASTE_STR"),"","tm1webSubsetEditorIconPaste",n.hitch(this,"paste"));a.pasteAboveItem=
this._newMenuItem(p.get("PASTE_ABOVE_STR"),"","tm1webSubsetEditorIconPasteAbove",n.hitch(this,"pasteAbove"));a.pasteBelowItem=this._newMenuItem(p.get("PASTE_BELOW_STR"),"","tm1webSubsetEditorIconPasteBelow",n.hitch(this,"pasteBelow"));var c=this._newMenu(this._generatePasteMenuSkeleton());a.pasteButton=this._newDropDownButton(p.get("PASTE_STR"),"tm1webSubsetEditorIconPaste",c,"tm1webSubsetEditorIconPaste");a.keepButton=this._newButton(p.get("KEEP_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconKeepSelectedElements",
"KeepSelectedElementsButton",n.hitch(this,"_keepSelectedElements"));a.deleteButton=this._newButton(p.get("DELETE_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconDeleteSelected","deleteSelectedElementsButton",n.hitch(this,"_deleteSelectedElements"));a.filterByLevelItem=this._newMenuItem(p.get("FILTER_BY_LEVEL_STR"),"tm1webSubsetEditorIconFilterSubsetByLevel","FilterByLevelItem",n.hitch(this,"_filterByLevel"));a.filterByAttributeItem=this._newMenuItem(p.get("FILTER_BY_ATTRIBUTE_STR"),"tm1webSubsetEditorIconFilterSubsetByAttribute",
"FilterByAttributeItem",n.hitch(this,"_filterByAttribute"));a.filterByExpressionItem=this._newMenuItem(p.get("FILTER_BY_EXPRESSION_STR"),"tm1webSubsetEditorIconFilterSubsetByExpression","FilterByExpressionItem",n.hitch(this,"_filterByExpression"));c=this._newMenu(this._generateFilterMenuSkeleton());a.filterButton=this._newDropDownButton(p.get("FILTER_SUBSET_STR"),"tm1webSubsetEditorIconFilterSubset",c,"FilterSubsetDropDownButton");a.sortAscendingItem=this._newMenuItem(p.get("SORT_ASCENDING_STR"),
"tm1webSubsetEditorIconSortSubsetAscending","SortAscendingItem",n.hitch(this,"_sort",t.Ascending));a.sortDescendingItem=this._newMenuItem(p.get("SORT_DESCENDING_STR"),"tm1webSubsetEditorIconSortSubsetDescending","SortDescendingItem",n.hitch(this,"_sort",t.Descending));a.sortHierarchicallyItem=this._newMenuItem(p.get("SORT_HIERARCHICALLY_STR"),"tm1webSubsetEditorIconSortSubsetHierarchically","SortHierarchicallyItem",n.hitch(this,"_sort",t.Hierarchically));a.sortByIndexAscendingItem=this._newMenuItem(p.get("SORT_BY_INDEX_ASCENDING_STR"),
"tm1webSubsetEditorIconSortSubsetIndexAscending","SortByIndexAscendingItem",n.hitch(this,"_sort",t.IndexAscending));a.sortByIndexDescendingItem=this._newMenuItem(p.get("SORT_BY_INDEX_DESCENDING_STR"),"tm1webSubsetEditorIconSortSubsetIndexDescending","SortByIndexDescendingItem",n.hitch(this,"_sort",t.IndexDescending));c=this._newMenu(this._generateSortMenuSkeleton());a.sortButton=this._newDropDownButton(p.get("SORT_SUBSET_STR"),"tm1webSubsetEditorIconSortSubset",c,"SortSubsetDropDownButton");a.drillDownSelectedConsolidationsItem=
this._newMenuItem(p.get("DRILL_DOWN_SELECTED_CONSOLIDATIONS_STR"),"","DrillDownSelectedConsolidationsItem",n.hitch(this,"_expandSelectedConsolidations",!1));a.expandSelectedConsolidationsItem=this._newMenuItem(p.get("EXPAND_SELECTED_CONSOLIDATIONS_STR"),"","ExpandSelectedConsolidationsItem",n.hitch(this,"_expandSelectedConsolidations",!0));a.expandTreeFullyItem=this._newMenuItem(p.get("EXPAND_TREE_FULLY_STR"),"","ExpandTreeFullyItem",n.hitch(this,"_expandTreeFully"));c=this._newMenu(this._generateTreeExpandMenuSkeleton());
a.treeExpandButton=this._newDropDownButton(p.get("TREE_EXPAND_STR"),"tm1webSubsetEditorIconExpandTree",c,"TreeExpandDropDownButton");a.collapseSelectedConsolidationsItem=this._newMenuItem(p.get("COLLAPSE_SELECTED_CONSOLIDATIONS_STR"),"","CollapseSelectedConsolidationsItem",n.hitch(this,"_collapseSelectedConsolidations"));a.collapseTreeFullyItem=this._newMenuItem(p.get("COLLAPSE_TREE_FULLY_STR"),"","CollapseTreeFullyItem",n.hitch(this,"_collapseTreeFully"));c=this._newMenu(this._generateTreeCollapseMenuSkeleton());
a.treeCollapseButton=this._newDropDownButton(p.get("TREE_COLLAPSE_STR"),"tm1webSubsetEditorIconCollapseTree",c,"TreeCollapseDropDownButton");a.insertParentsOfSelectedElementButton=this._newButton(p.get("INSERT_PARENTS_OF_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconInsertParentsOfSelectedElement","InsertParentsOfSelectedElementButton",n.hitch(this,"_insertParentsOfSelectedElements"));a.createConsolidationFromSubsetItem=this._newMenuItem(p.get("CREATE_CONSOLIDATION_FROM_SUBSET_STR"),"","CreateConsolidationFromSubsetItem",
n.hitch(this,"_createConsolidationFromSubset"));a.createConsolidationFromSelectedElementsItem=this._newMenuItem(p.get("CREATE_CONSOLIDATION_FROM_SELECTED_ELEMENTS_STR"),"","CreateConsolidationFromSelectedElementsItem",n.hitch(this,"_createConsolidationFromSelectedElements"));c=this._newMenu(this._generateCustomConsolidationMenuSkeleton());a.customConsolidationButton=this._newDropDownButton(p.get("CREATE_CUSTOM_CONSOLIDATION_STR"),"tm1webSubsetEditorIconCustomConsolidation",c,"CustomConsolidationDropDownButton")},
_generateSkeleton:function(){var a=this._newSkeleton();a.add(this._generateSaveLoadGroup());a.add(this._generateCopyPasteGroup());a.add(this._generateKeepDeleteGroup());a.add(this._generateFilterMenuGroup());a.add(this._generateSortMenuGroup());a.add(this._generateTreeGroup());a.add(this._generateCustomConsolidationMenuGroup());return a},_generatePasteMenuSkeleton:function(){var a=this._newSkeleton(),c=this._newGroup(),d=this._skeletonChildren;c.add(d.pasteItem);c.add(d.pasteAboveItem);c.add(d.pasteBelowItem);
a.add(c);return a},_generateSaveLoadGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.saveButton);a.add(c.saveAsButton);a.add(c.reloadButton);a.add(c.subsetAllButton);return a},_generateCopyPasteGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.cutButton);a.add(c.copyButton);a.add(c.pasteButton);return a},_generateKeepDeleteGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.keepButton);a.add(c.deleteButton);return a},_generateFilterMenuSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateFilterGroup());return a},_generateFilterGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.filterByLevelItem);a.add(c.filterByAttributeItem);a.add(c.filterByExpressionItem);return a},_generateFilterMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.filterButton);return a},_generateSortMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateSortGroup());return a},_generateSortGroup:function(){var a=this._newGroup(),
c=this._skeletonChildren;a.add(c.sortAscendingItem);a.add(c.sortDescendingItem);a.add(c.sortHierarchicallyItem);a.add(c.sortByIndexAscendingItem);a.add(c.sortByIndexDescendingItem);return a},_generateSortMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.sortButton);return a},_generateTreeExpandMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateTreeExpandGroup());return a},_generateTreeExpandGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;
a.add(c.drillDownSelectedConsolidationsItem);a.add(c.expandSelectedConsolidationsItem);a.add(c.expandTreeFullyItem);return a},_generateTreeCollapseMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateTreeCollapseGroup());return a},_generateTreeCollapseGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.collapseSelectedConsolidationsItem);a.add(c.collapseTreeFullyItem);return a},_generateTreeGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.treeExpandButton);
a.add(c.treeCollapseButton);a.add(c.insertParentsOfSelectedElementButton);return a},_generateCustomConsolidationMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateCustomConsolidationGroup());return a},_generateCustomConsolidationGroup:function(){var a=this._newGroup(),c=this._skeletonChildren;a.add(c.createConsolidationFromSubsetItem);a.add(c.createConsolidationFromSelectedElementsItem);return a},_generateCustomConsolidationMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.customConsolidationButton);
return a},_getItemIdPrefix:function(){return"tm1web_subseteditor_SubsetEditorMainToolbar_"},_saveSubset:function(){this.model.getMetaData().then(n.hitch(this,function(a){if(a.selectedSubset.name){var c=n.hitch(this,function(){this.model.saveSubset()});this.subsetTree.get("model").getMetaData(function(d){a.selectedSubset.dynamic&&d.modified?y.show({message:p.get("SUBSET_BY_EXPRESSION")+"\n"+p.get("SAVING_DYNAMIC_SUBSET"),okButtonLabel:p.get("SUBSET_EXPRESSION_WARNING_OK_STR"),cancelButtonLabel:p.get("CANCEL_STR"),
title:p.get("SUBSET_EXPRESSION_WARNING_TITLE_STR"),onExecute:function(){c()}}):c()})}else this._saveSubsetAs()}))},_saveSubsetAs:function(){var a=new r({model:this.model,subsetModel:this.subsetTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_reloadSubset:function(){this._activeTree.get("model").reloadSubset()},_subsetAll:function(){this._activeTree.get("model").subsetAll()},_cut:function(){this._activeTree.get("model").cut()},cut:function(){c.set(" ");this._cut()},_copy:function(){this._activeTree.get("model").copy()},
copy:function(){c.set(" ");this._copy()},_paste:function(a){this._activeTree.get("model").paste(a)},paste:function(){b(c.get(!0),n.hitch(this,"_paste"))},_pasteAbove:function(a){this._activeTree.get("model").pasteAbove(a)},pasteAbove:function(){b(c.get(!0),n.hitch(this,"_pasteAbove"))},_pasteBelow:function(a){this._activeTree.get("model").pasteBelow(a)},pasteBelow:function(){b(c.get(!0),n.hitch(this,"_pasteBelow"))},_keepSelectedElements:function(){this._activeTree.get("model").keepSelectedElements()},
_deleteSelectedElements:function(){this._activeTree.get("model").deleteSelectedElements()},_filterByLevel:function(){this._activeTree.get("model").getMetaData(n.hitch(this,function(a){var c=new u({levelsCount:a.levelsCount,model:this._activeTree.get("model"),onHide:function(){c.destroyRecursive();c=null}});c.show()}))},_filterByAttribute:function(){var a=new x({model:this._activeTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_filterByExpression:function(){var a=new w({model:this._activeTree.get("model"),
onHide:function(){a.destroyRecursive();a=null}});A(".tm1webFilterByExpressionLabel",a.id).attr("for",a._textBox.id);a.show()},_sort:function(a){this._activeTree.get("model").sort(a)},_drillDownSelectedConsolidations:function(){},_expandSelectedConsolidations:function(a){this._activeTree.get("model").expandSelectedConsolidations(a)},_expandTreeFully:function(){this._activeTree.get("model").expandAll()},_collapseSelectedConsolidations:function(){this._activeTree.get("model").collapseSelectedConsolidations()},
_collapseTreeFully:function(){this._activeTree.get("model").collapseAll()},_insertParentsOfSelectedElements:function(){this._activeTree.get("model").insertParentsOfSelectedElements()},_createConsolidationFromSubset:function(){var a=new v({model:this.model,subsetModel:this._activeTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_createConsolidationFromSelectedElements:function(){this._activeTree.get("model").createConsolidationFromSelectedElements()}})})},"tm1web/utility/string":function(){define({regexEscape:function(m){return m.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,
"\\$1")},equalsIgnoreCase:function(m,n,l){null==l&&(l=!1);return"string"===typeof m&&"string"===typeof n?m.match(new RegExp("^("+this.regexEscape(n)+")$","i")):l?m===n:m==n},endsWith:function(m,n){var l=m.length-n.length,k=m.indexOf(n,l);return 0<=k&&l===k},addPreSuffix:function(m,n,l){return(n?n:"")+m+(l?l:"")},removePreSuffix:function(m,n,l){var k=m.indexOf(n),g=m.lastIndexOf(l);return 0===k&&-1!=g&&g===m.length-l.length?m.substring(n.length,g):null}})},"tm1web/subseteditor/ExpandAboveTreeNode":function(){define(["dojo/_base/declare",
"dojo/text!./templates/ExpandAboveTreeNode.html","./TreeNode"],function(m,n,l){return m(l,{templateString:n})})},"tm1web/workbook/DomController":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/dom-construct dojo/sniff ../utility/setImmediate ../utility/dom ../utility/message-localizer ../widgets/AlertDialog ../grid/utility/box ../grid/DomController ./controls/Factory ./utility/flexbox ./CellFactory ./WidgetCache ./CellType ./HandleCache".split(" "),function(m,
n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u){return m(c,{_controlBuilder:null,CellFactory:s,constructor:function(a){this.own(this._widgetCache=new r);this.own(this._pendingCellFittings=new u);this._controlFactory=new p({model:this.model})},generateCells:function(a){this.inherited(arguments);for(var c in a)if(a.hasOwnProperty(c)){if(c>this._getLastRowIndex())break;else if(c<this._getFirstRowIndex())continue;var d=a[c],b;for(b in d)if(d.hasOwnProperty(b)){var f=d[b];f&&this._fitCellContent(f)}}},_fitCellContent:function(a){a.valueMayOverflow&&
(this._pendingCellFittings.remove(a.rowIndex,a.index),a.type===t.String||a.type===t.Empty?a.wraps?this._adjustWrappedVeritcalAlignment(a):this._dynamicallyMerge(a):this._transformOverflow(a))},_adjustWrappedVeritcalAlignment:function(a){var c=this;this._addPendingCellFitting(function(a,d){var b=l.getComputedStyle(d);if(c._getRequiredHeight(d,a,b)>c.model.getRowHeight(a.rowIndex))c._isVerticallyAlignedCenter(b)&&c._addPendingCellFitting(function(a,c){q.setVerticalAlignment(c,"flex-start")},a,d);else{var f=
q.getVerticalAlignmentProperty(d.style);f&&d.style[f]&&c._addPendingCellFitting(function(a,c){c.style[f]=""},a,d)}},a)},_isVerticallyAlignedCenter:function(a){return"center"===q.getVerticalAlignment(a)},_transformOverflow:function(a){var c=this;this._addPendingCellFitting(function(a,d){var b=c.model.getCellWidth(a.rowIndex,a.index);(a.requiredWidth=c._getRequiredWidth(d,a))-3>b?c._addPendingCellFitting(function(a,d){var b=c._getCellContentNode(d);b.textContent=b.textContent.replace(/./g,"#")},a,d):
a.valueMayOverflow=!1},a)},_dynamicallyMerge:function(a){if(this._canDynamicallyMerge(a)){var c=this;this._addPendingCellFitting(function(a,d){var f=l.getComputedStyle(d),p=c.model.getColumnWidth(a.index),e=a.requiredWidth=c._getRequiredWidth(d,a,f),h=b("ff")?5:4;e-h>p?c._addPendingCellFitting(function(a,d){switch(f.justifyContent){case "flex-end":c._mergeLeft(d,a,e,p);break;case "center":c._mergeCenter(d,a,e,p);break;default:c._mergeRight(d,a,e,p)}},a,d):a.valueMayOverflow=!1},a)}},_addPendingCellFitting:function(a,
c,d){var b=this._cache,f=c.rowIndex,p=c.index,e=this._pendingCellFittings;e.add(h(function(){e.remove(f,p);d||(d=b.getCell(f,p));d&&d.parentNode&&a(c,d)}),f,p)},_getRequiredWidth:function(a,c,d){var b=c.requiredWidth;if(null==b){if(c.wraps)return this._getWrappedCellRequiredWidth(a,c);d||(d=l.getComputedStyle(a));return this._getCellRequiredWidth(a,d)}return b},_getWrappedCellRequiredWidth:function(a,c){var d=this.model.getRowHeight(c.rowIndex);a.style.height="auto";a.style.width="auto";a.style.whiteSpace=
"pre";if(a.offsetHeight>=d)return this._getCellRequiredWidth(a,l.getComputedStyle(a));a.style.whiteSpace="pre-wrap";a.style.width="1px";for(var b=a.offsetWidth;a.offsetHeight>d;){var b=Math.ceil(1.05*b),f=b+"px";a.style.width=f;a.style.minWidth=f}return b},_getCellRequiredWidth:function(a,c){return e.getGutters(a,c).w+this._getCellContentNode(a).scrollWidth+1},_mergeRight:function(a,c,d,b){var f=c.rowIndex,p=b;c=c.index+1;for(var e=this.model.getLastColumnIndex();d>p&&this._canMergeIntoCell(f,c,e);)p+=
this.model.getColumnWidth(c),c++;b!==p&&this._merge(a,p)},_mergeLeft:function(a,c,d,b){var f=c.rowIndex,p=b;c=c.index;for(var e=c-1,h=this.model.getLastColumnIndex();d>p&&this._canMergeIntoCell(f,e,h);)c=e,p+=this.model.getColumnWidth(e),e--;b!==p&&this._merge(a,p,c)},_mergeCenter:function(a,c,d,b){var f=c.rowIndex,p=b;c=c.index;for(var e=c-1,h=c+1,g=this.model.getLastColumnIndex(),q=!0,k=!0;(q||k)&&!(q&&(this._canMergeIntoCell(f,e,g)?(c=e,p+=this.model.getColumnWidth(e),e--):q=!1),k&&(this._canMergeIntoCell(f,
h,g)?(p+=this.model.getColumnWidth(h),h++):k=!1),p>=d););b!==p&&this._merge(a,p,c)},_merge:function(a,c,d){a.style.width=c+"px";a.style.zIndex=1;null!=d&&(a.style.left=this.model.getColumnPosition(d,!this._hasFrozenColumns())+"px")},_canMergeIntoCell:function(a,c,d){return c>d||0>c||this.model.isMergedCell(a,c)||this.model.isMergedChildCell(a,c)?!1:(a=this.model.getCell(a,c))&&!a.displayValue&&!a.comment&&!a.hasPickList&&!a.hasValidationList&&!a.hasInputMessage&&!a.hasFormula},_canDynamicallyMerge:function(a){return a.valueMayOverflow&&
!a.wraps&&!this.model.isMergedCell(a.rowIndex,a.index)},_getRequiredHeight:function(a,c,d){c=this._getCellContentNode(a);return e.getGutters(a,d).h+c.scrollHeight},generateControls:function(a){for(var c in a){var d=a[c];if(this._isControlVisible(d)){var b=this._widgetCache.get(c),d=this._getControlParams(d);b?b.update(d):(b=this._controlFactory.newInstance(d))&&this._widgetCache.add(b.controlId,b);b&&b.placeAt(this.gridPane)}}},_isControlVisible:function(a){var c=this.gridPane,c={t:c.getTop(),l:c.getLeft(),
w:c.getWidth(),h:c.getHeight()};a=a.style;return d.intersects({t:a.top,l:a.left,w:a.width,h:a.height},c)},_getControlParams:function(a){a=n.mixin({model:this.model},a);this._adjustControlStyles(a);return a},_adjustControlStyles:function(a){if(a.style){a.style=n.mixin({},a.style);a=a.style;var c=this.gridPane;a.top=a.top-c.getTop()+"px";a.left=a.left-c.getLeft()+"px";a.height+="px";a.width+="px"}},_getCellStyle:function(a){return this.inherited(arguments)+" "+this._getAlignmentStyle(a)},_getAlignmentStyle:function(a){return"tm1webGridCell"+
a.type},removeAll:function(a){this.inherited(arguments);this._pendingCellFittings.clear();a&&this._widgetCache.clear()},getMaxRequiredWidth:function(a){var c=g.create("div",{className:"tm1webWorkbookMaxRequiredWidthContainer"}),d="",b=0,f;for(f in a)a.hasOwnProperty(f)&&(d+=this._cellFactory.getTemplate(a[f]),b++);var p=g.toDom(d),d=[],e=0;for(f in a)if(a.hasOwnProperty(f)){var h=1<b?p.childNodes[e++]:p,q=a[f];this._setCellProperties(h,q,!0);d.push({cellNode:h,cellInfo:q})}c.appendChild(p);this.gridPane.containerNode.appendChild(c);
for(var e=a=0;e<b;e++)f=d[e],h=f.cellNode,q=f.cellInfo,a=Math.max(a,this._getRequiredWidth(h,q));g.destroy(c);return a},updateCell:function(c){this.inherited(arguments);this._fitCellContent(c);var d=c.rowIndex,b=c.index;if(c.wraps&&this.model.wasDefaultRowHeight(d)&&!this.model.isMergedCell(d,b)){var p=this._cache.getCell(d,b);p&&p.parentNode&&(b=this.model.getRowHeight(d),p=Math.min(550,this._getRequiredHeight(p,c)),b<p&&this.model.setRowHeight(d,p).otherwise(function(c){a.show({message:f.get("SRV_ERR_STR")})}))}}})})},
"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v){var y=n("dijit.form._SliderMover",d,{onMouseMove:function(a){var c=
this.widget,d=c._abspos;d||(d=c._abspos=g.position(c.sliderBarContainer,!0),c._setPixelValue_=e.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());a=a[c._mousePixelCoord]-d[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?d[c._pixelCount]-a:a,d[c._pixelCount],!1)},destroy:function(a){d.prototype.destroy.apply(this,arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,!0)}});l=n("dijit.form.HorizontalSlider",[x,w],{templateString:v,value:0,showButtons:!0,minimum:0,maximum:100,
discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:s.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(a){this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey||this._setValueAttr(this.value,
!0)},_onKeyDown:function(a){if(!(this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey)){switch(a.keyCode){case h.HOME:this._setValueAttr(this.minimum,!1);break;case h.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?h.RIGHT_ARROW:h.LEFT_ARROW:case !1===this._descending?h.DOWN_ARROW:h.UP_ARROW:case !1===this._descending?h.PAGE_DOWN:h.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?h.LEFT_ARROW:h.RIGHT_ARROW:case !1===this._descending?
h.UP_ARROW:h.DOWN_ARROW:case !1===this._descending?h.PAGE_UP:h.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){this.disabled||this.readOnly||(f("ie")||r.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&!this.readOnly&&this.clickSelect){r.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var c=g.position(this.sliderBarContainer,
!0),d=a[this._mousePixelCoord]-c[this._startingPixelCoord];this._setPixelValue(this._isReversed()?c[this._pixelCount]-d:d,c[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,c,d){if(!this.disabled&&!this.readOnly){var b=this.discreteValues;if(1>=b||Infinity==b)b=c;b--;a=Math.round(a/(c/b));this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/b+this.minimum,this.maximum),this.minimum),d)}},_setValueAttr:function(a,c){this._set("value",a);this.valueNode.value=
a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var d=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,b=!1===this._descending?this.remainingBar:this.progressBar,f=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(c&&0<this.slideDuration&&b.style[this._progressPixelSize]){var p=this,e={},h=parseFloat(b.style[this._progressPixelSize]),g=this.slideDuration*
(d-h/100);0!=g&&(0>g&&(g=0-g),e[this._progressPixelSize]={start:h,end:100*d,units:"%"},this._inProgressAnim=k.animateProperty({node:b,duration:g,onAnimate:function(a){f.style[p._progressPixelSize]=100-parseFloat(a[p._progressPixelSize])+"%"},onEnd:function(){delete p._inProgressAnim},properties:e}),this._inProgressAnim.play())}else b.style[this._progressPixelSize]=100*d+"%",f.style[this._progressPixelSize]=100*(1-d)+"%"},_bumpValue:function(a,c){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var d=
b.getComputedStyle(this.sliderBarContainer),f=g.getContentBox(this.sliderBarContainer,d),d=this.discreteValues;if(1>=d||Infinity==d)d=f[this._pixelCount];d--;f=(this.value-this.minimum)*d/(this.maximum-this.minimum)+a;0>f&&(f=0);f>d&&(f=d);f=f*(this.maximum-this.minimum)/d+this.minimum;this._setValueAttr(f,c)}},_onClkBumper:function(a){this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},
_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==h.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==h.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(m.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},
this),this.inherited(arguments))},_typematicCallback:function(a,c,d){if(-1==a)this._setValueAttr(this.value,!0);else this[c==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](d)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=c('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));
this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(t.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),t.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(q(this.domNode,p.wheel,e.hitch(this,"_mouseWheeled")));var c=n(y,{widget:this});this._movable=new a(this.sliderHandle,{mover:c});this._layoutHackIE7()},
destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});l._Mover=y;return l})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){var s=n("dojo.dnd.Manager",[b],{constructor:function(){this.source=this.avatar=
null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:h("touch")?0:16,OFFSET_Y:h("touch")?-64:16,overSource:function(c){this.avatar&&(this.target=c&&"Disabled"!=c.targetState?c:null,this.canDropFlag=Boolean(this.target),this.avatar.update());a.publish("/dnd/source/over",c)},outSource:function(c){this.avatar?this.target==c&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),a.publish("/dnd/source/over",null)):a.publish("/dnd/source/over",null)},startDrag:function(c,
b,e){function h(a){a.preventDefault();a.stopPropagation()}p.autoScrollStart(k.doc);this.source=c;this.nodes=b;this.copy=Boolean(e);this.avatar=this.makeAvatar();k.body().appendChild(this.avatar.node);a.publish("/dnd/start",c,b,this.copy);this.events=[f(k.doc,d.move,l.hitch(this,"onMouseMove")),f(k.doc,d.release,l.hitch(this,"onMouseUp")),f(k.doc,"keydown",l.hitch(this,"onKeyDown")),f(k.doc,"keyup",l.hitch(this,"onKeyUp")),f(k.doc,"dragstart",h),f(k.body(),"selectstart",h)];c="dojoDnd"+(e?"Copy":"Move");
g.add(k.body(),c)},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){g.remove(k.body(),["dojoDndCopy","dojoDndMove"]);m.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new q(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var d=this.avatar;d&&(p.autoScrollNodes(a),d=d.node.style,
d.left=a.pageX+this.OFFSET_X+"px",d.top=a.pageY+this.OFFSET_Y+"px",d=Boolean(this.source.copyState(c.getCopyKeyState(a))),this.copy!=d&&this._setCopyStatus(d));h("touch")&&a.preventDefault()},onMouseUp:function(d){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(c.getCopyKeyState(d)));a.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,d);a.publish("/dnd/drop",this.source,this.nodes,b,this.target,d)}else a.publish("/dnd/cancel");this.stopDrag()}},
onKeyDown:function(c){if(this.avatar)switch(c.keyCode){case e.CTRL:c=Boolean(this.source.copyState(!0));this.copy!=c&&this._setCopyStatus(c);break;case e.ESCAPE:a.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==e.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();g.replace(k.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?
"Move":"Copy"))}});c._manager=null;s.manager=c.manager=function(){c._manager||(c._manager=new s);return c._manager};return s})},"tm1web/workbook/controls/ListBox":function(){define("dojo/_base/declare dojo/_base/array ./ComboBox ./_ScrollableMixin ../../widgets/AlertDialog ../../utility/message-localizer".split(" "),function(m,n,l,k,g,b){return m("tm1web.workbook.controls.ListBox",[l,k],{buildRendering:function(){this.inherited(arguments);this.domNode.size=2;this.multiSelect&&(this.domNode.multiple=
!0)},_isSelected:function(b){return 0<=this.selectedIndices.indexOf(b)},_onChange:function(){var h=[];n.forEach(this.domNode.options,function(b,f){b.selected&&h.push(f)});this._set("selectedIndices",h);this.model.setListBoxSelectedIndices(this.controlId,h).otherwise(function(e){g.show({message:b.get("SRV_ERR_STR")})})}})})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(m){function n(){throw new TypeError("abstract");}return m.extend(function(){},{then:function(l,k,g){n()},cancel:function(l,
k){n()},isResolved:function(){n()},isRejected:function(){n()},isFulfilled:function(){n()},isCanceled:function(){n()},always:function(l){return this.then(l,l)},otherwise:function(l){return this.then(null,l)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(m,
n,l,k,g,b,h,e){return n("dijit._KeyNavMixin",e,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);l.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var f=this._keyNavCodes={};f[k.HOME]=g.hitch(this,"focusFirstChild");f[k.END]=g.hitch(this,"focusLastChild");f[this.isLeftToRight()?k.LEFT_ARROW:k.RIGHT_ARROW]=g.hitch(this,"_onLeftArrow");f[this.isLeftToRight()?k.RIGHT_ARROW:k.LEFT_ARROW]=g.hitch(this,"_onRightArrow");f[k.UP_ARROW]=g.hitch(this,"_onUpArrow");
f[k.DOWN_ARROW]=g.hitch(this,"_onDownArrow")}var a=this,f="string"==typeof this.childSelector?this.childSelector:g.hitch(this,"childSelector");this.own(b(this.domNode,"keypress",g.hitch(this,"_onContainerKeypress")),b(this.domNode,"keydown",g.hitch(this,"_onContainerKeydown")),b(this.domNode,"focus",g.hitch(this,"_onContainerFocus")),b(this.containerNode,b.selector(f,"focusin"),function(d){a._onChildFocus(h.getEnclosingWidget(this),d)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},
_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),b.set("tabIndex",this.tabIndex),
b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){l.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){l.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&
this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,d,c){b&&this.focusChild(b)},_keyboardSearchCompare:function(b,a){var d=b.domNode,d=(b.label||(d.focusNode?d.focusNode.label:"")||d.innerText||d.textContent||"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&d==a?-1:0},_onContainerKeydown:function(b){var a=this._keyNavCodes[b.keyCode];
a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),this._searchString=""):b.keyCode!=k.SPACE||!this._searchTimer||b.ctrlKey||b.altKey||b.metaKey||(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b," "))},_onContainerKeypress:function(b){b.charCode<=k.SPACE||b.ctrlKey||b.altKey||b.metaKey||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(b,a){var d=null,c,p=0;g.hitch(this,function(){this._searchTimer&&
this._searchTimer.remove();this._searchString+=a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;c=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var f=this.focusedChild||null;if(1==b||!f)if(f=this._getNextFocusableChild(f,1),!f)return;b=f;do{var e=this._keyboardSearchCompare(f,c);e&&0==p++&&(d=f);if(-1==e){p=-1;break}f=this._getNextFocusableChild(f,1)}while(f!=b)})();this.onKeyboardSearch(d,
b,c,p)},_onChildBlur:function(){},_getNextFocusableChild:function(b,a){var d=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=d&&b.isFocusable())return b}while(b!=d);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var d=h.byNode(b);if(d)return d}return null}})})},"dojox/collections/Set":function(){define(["./_base",
"./ArrayList"],function(m,n){m.Set=new function(){function l(k){return k.constructor==Array?new n(k):k}this.union=function(k,g){k=l(k);g=l(g);for(var b=new n(k.toArray()),h=g.getIterator();!h.atEnd();){var e=h.get();b.contains(e)||b.add(e)}return b};this.intersection=function(k,g){k=l(k);g=l(g);for(var b=new n,h=g.getIterator();!h.atEnd();){var e=h.get();k.contains(e)&&b.add(e)}return b};this.difference=function(k,g){k=l(k);g=l(g);for(var b=new n,h=k.getIterator();!h.atEnd();){var e=h.get();g.contains(e)||
b.add(e)}return b};this.isSubSet=function(k,g){k=l(k);g=l(g);for(var b=k.getIterator();!b.atEnd();)if(!g.contains(b.get()))return!1;return!0};this.isSuperSet=function(k,g){k=l(k);g=l(g);for(var b=g.getIterator();!b.atEnd();)if(!k.contains(b.get()))return!1;return!0}};return m.Set})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(m,n,l){return m("dojox.grid.DataSelection",l,{constructor:function(k){k.keepSelection&&(this.preserver=
new n(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var k=l.prototype.getFirstSelected.call(this);return-1==k?null:this.grid.getItem(k)},getNextSelected:function(k){k=this.grid.getItemIndex(k);k=l.prototype.getNextSelected.call(this,k);return-1==k?null:this.grid.getItem(k)},getSelected:function(){for(var k=[],g=0,b=this.selected.length;g<b;g++)this.selected[g]&&k.push(this.grid.getItem(g));return k},addToSelection:function(k){if("none"!=this.mode){var g=
null,g="number"==typeof k||"string"==typeof k?k:this.grid.getItemIndex(k);l.prototype.addToSelection.call(this,g)}},deselect:function(k){if("none"!=this.mode){var g=null,g="number"==typeof k||"string"==typeof k?k:this.grid.getItemIndex(k);l.prototype.deselect.call(this,g)}},deselectAll:function(k){var g=null;k||"number"==typeof k?(g="number"==typeof k||"string"==typeof k?k:this.grid.getItemIndex(k),l.prototype.deselectAll.call(this,g)):this.inherited(arguments)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),
function(m,n,l,k,g,b,h,e){var f=n("dijit.form._TextBoxMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,d,c){var b;void 0!==a&&(b=this.filter(a),"string"!=typeof c&&(c=null===b||"number"==typeof b&&isNaN(b)?"":this.filter(this.format(b,this.constraints)),0!=this.compare(b,this.filter(this.parse(c,this.constraints)))&&
(c=null)));null==c||"number"==typeof c&&isNaN(c)||this.textbox.value==c||(this.textbox.value=c,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,[b,d])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(h(this.textbox,"keydown, keypress, paste, cut, input, compositionend",
b.hitch(this,function(a){var d;if("keydown"==a.type){d=a.keyCode;switch(d){case g.SHIFT:case g.ALT:case g.CTRL:case g.META:case g.CAPS_LOCK:case g.NUM_LOCK:case g.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(d){case g.NUMPAD_0:case g.NUMPAD_1:case g.NUMPAD_2:case g.NUMPAD_3:case g.NUMPAD_4:case g.NUMPAD_5:case g.NUMPAD_6:case g.NUMPAD_7:case g.NUMPAD_8:case g.NUMPAD_9:case g.NUMPAD_MULTIPLY:case g.NUMPAD_PLUS:case g.NUMPAD_ENTER:case g.NUMPAD_MINUS:case g.NUMPAD_PERIOD:case g.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==g.SPACE)return;d=!1;for(var c in g)if(g[c]===a.keyCode){d=!0;break}if(!d)return}}(d=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(d=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==g.SPACE?String.fromCharCode(a.keyCode):a.keyCode);d||(d=229);if("keypress"==a.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},e;for(e in a)/^(layer[XY]|returnValue|keyLocation)$/.test(e)||(c=a[e],"function"!=typeof c&&"undefined"!=typeof c&&(f[e]=c));b.mixin(f,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})),h(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=b.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(a){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=h.once(this.domNode,"mouseup, touchend",b.hitch(this,function(a){this._isTextSelected()||f.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});k("dojo-bidi")&&(f=n("dijit.form._TextBoxMixin",f,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));f._setSelectionRange=e._setSelectionRange=function(a,d,c){a.setSelectionRange&&a.setSelectionRange(d,c)};f.selectInputText=e.selectInputText=function(a,d,
c){a=l.byId(a);isNaN(d)&&(d=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),f._setSelectionRange(a,d,c)}catch(b){}};return f})},"tm1web/workbook/model/Model":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/aspect dijit/Destroyable ./WorksheetModel ./Store".split(" "),function(m,n,l,k,g,b,h,e){return m(b,{sessionToken:null,objectId:null,_store:null,_worksheetModels:null,_activeWorksheetIndex:0,constructor:function(b){n.mixin(this,b);this._onLoadDeferred=
new k;this._store=new e({sessionToken:this.sessionToken,objectId:this.objectId});var a=this;this._store.getMetadata().then(n.hitch(this,"_onLoad")).otherwise(function(d){a.onLoadFail(d)})},_onLoad:function(b){this._metadata=b;this._worksheetModels=Array(b.sheets.length);var a=b.activeWorksheetMetadata,d=a.index;this._activeWorksheetIndex=d;this._worksheetModels[d]=new h({sessionToken:this.sessionToken,objectId:this.objectId,index:d,metadata:a,autoRecalculate:this._metadata.autoRecalculate,workbookModel:this});
this._addActionListener(this._worksheetModels[d]);a=this._onLoadDeferred;this._onLoadDeferred=null;this.onStateChange(b.state);a.resolve()},_addActionListener:function(b){g.after(b,"onAction",this.onAction.bind(this))},getWorksheetModel:function(b){var a=new k,d=this,c=function(){d._worksheetModels[b]||(d._worksheetModels[b]=new h({sessionToken:d.sessionToken,objectId:d.objectId,index:b,autoRecalculate:d._metadata.autoRecalculate,workbookModel:d}));d._addActionListener(d._worksheetModels[b]);a.resolve(d._worksheetModels[b])};
this._onLoadDeferred?this._onLoadDeferred.then(c).otherwise(function(c){a.reject(c)}):c();return a.promise},getWorksheetNames:function(){return this._getMetadataProperty("sheets")},getStyleSheetUrl:function(){return this._getMetadataProperty("styleSheetUrl")},getActiveWorksheetMetadata:function(){return this._getMetadataProperty("activeWorksheetMetadata")},getShowTabs:function(){return this._getMetadataProperty("showTabs")},_getMetadataProperty:function(b){var a=new k,d=this,c=function(){a.resolve(d._metadata[b])};
this._onLoadDeferred?this._onLoadDeferred.then(c).otherwise(function(c){a.reject(c)}):c();return a.promise},setActiveWorksheet:function(b){var a=this._activeWorksheetIndex;b!==a&&(this._store.setActiveWorksheet(b,this._worksheetModels[a].getSelectedAnchorCell()),this.onActiveSheetChange(b));this._activeWorksheetIndex=b},onStateChange:function(b){},onNotifyRecalc:function(){},onSetActiveSheet:function(b,a){},onLoadFail:function(b){this.rejectLoadDeferred(b)},rejectLoadDeferred:function(b){this._onLoadDeferred.reject(b);
this._onLoadDeferred=null},navigateToWorkbook:function(b,a,d,c){var p=new k;this._store.getObjectId(b).then(n.hitch(this,function(b){b?(this.onNavigateToWorkbook({objectId:b,title:c,sheetName:a,bookmark:d}),p.resolve()):p.reject()}));return p.promise},onNavigateToWorkbook:function(b){},selectRange:function(b){var a=new k;this.getWorksheetModel(this._activeWorksheetIndex).then(function(d){d.selectRange(b);a.resolve()});return a.promise},rebuildActiveForms:function(b){var a=this,d=new k,c=this._activeWorksheetIndex;
this.getWorksheetModel(c).then(function(p){p._setQueuedAction(function(e){a._store.rebuildActiveForms(b,c,e,p.getSelectedAnchorCell()).then(function(c){a.updateWorkbookData(p,c);d.resolve()})});p.onDataChange()});return d.promise},recalculate:function(){var b=this,a=new k,d=this._activeWorksheetIndex;this.getWorksheetModel(d).then(function(c){c._setQueuedAction(function(p){b._store.recalculate(d,p,c.getSelectedAnchorCell()).then(function(d){b.updateWorkbookData(c,d);a.resolve()}).otherwise(function(c){a.reject(c)})});
c.onDataChange()});return a.promise},updateWorkbookData:function(b,a){for(var d=this._worksheetModels,c=d.length,p=a.changedMetadata,e=0;e<c;e++){var h=d[e];h.clearCache();h.setUnsavedDataChanges(!1);h===b&&h.setData(a.gridData);if(e in p)h.setMetadata(p[e]);else if(h===b)h.onDataChange()}this.onStateChange(a.state)},setNeedsRefresh:function(){l.forEach(this._worksheetModels,n.hitch(this,function(b){b._loaded?b._setQueuedAction(function(a){b._refresh(a)}):b.refreshMetadata()}))},hasUnsavedDataChanges:function(){return l.some(this._worksheetModels,
function(b){return!!b&&b.hasUnsavedDataChanges()})},autoFitSelectedColumns:function(){return this.getWorksheetModel(this._activeWorksheetIndex).then(function(b){return b.autoFitSelectedColumns()})},resetData:function(){var b=this,a=new k,d=this._activeWorksheetIndex;this.getWorksheetModel(d).then(function(c){c._setQueuedAction(function(p){b._store.resetData(d,p,c.getSelectedAnchorCell()).then(function(d){b.updateWorkbookData(c,d);a.resolve()})});c.onDataChange()});return a.promise},isConsolidationEditAllowed:function(){return this.isSpreadingAllowed()&&
this._metadata.allowConsolidationEdit},isSpreadingAllowed:function(){return this._metadata.allowSpreading},onActionButtonExecution:function(b){},onAction:function(b){},onTitleDimensionElementChange:function(b){},onActiveSheetChange:function(b){},onMetadataChange:function(){},onDataChange:function(){},onValueChange:function(b){},close:function(){this.destroy();return this._store.close()}})})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(m,n,l,k,g,b,h){var e={_isElementShown:function(b){var a=k.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=l.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return l.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var d=b.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;a=d.body}catch(c){try{a=b.contentWindow.document.body}catch(p){return!1}}return a&&
("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}},effectiveTabIndex:function(b){return l.get(b,"disabled")?void 0:l.has(b,"tabIndex")?+l.get(b,"tabIndex"):e.hasDefaultTabStop(b)?0:void 0},isTabNavigable:function(b){return 0<=e.effectiveTabIndex(b)},isFocusable:function(b){return-1<=e.effectiveTabIndex(b)},_getTabNavigable:function(f){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}function d(c){return n[a(c)]||c}var c,p,h,g,k,m,n={},x=e._isElementShown,w=e.effectiveTabIndex,v=function(d){for(d=d.firstChild;d;d=d.nextSibling)if(!(1!=d.nodeType||9>=b("ie")&&"HTML"!==d.scopeName)&&x(d)){var f=w(d);if(0<=f){if(0==f)c||(c=d),p=d;else if(0<f){if(!h||f<g)g=f,h=d;if(!k||f>=m)m=f,k=d}f=a(d);l.get(d,"checked")&&f&&(n[f]=d)}"SELECT"!=d.nodeName.toUpperCase()&&v(d)}};x(f)&&v(f);return{first:d(c),last:d(p),lowest:d(h),highest:d(k)}},getFirstInTabbingOrder:function(b,
a){var d=e._getTabNavigable(n.byId(b,a));return d.lowest?d.lowest:d.first},getLastInTabbingOrder:function(b,a){var d=e._getTabNavigable(n.byId(b,a));return d.last?d.last:d.highest}};g.mixin(h,e);return e})},"tm1web/workbook/HandleCache":function(){define(["dojo/_base/declare","../grid/model/Cache"],function(m,n){return m(n,{clear:function(){this._cancelHandles();this.inherited(arguments)},_cancelHandles:function(){var l=this._rows,k;for(k in l)l.hasOwnProperty(k)||(handle=l[k],handle.remove())},remove:function(l,
k){var g=this.inherited(arguments);g&&g.remove()},destroy:function(){this.clear();this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(m,n,l,k,g,b,h,e,f,a,d){e=m("dijit.form.TextBox"+(h("dojo-bidi")?"_NoBidi":""),[e,f],{templateString:a,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',
_buttonInputDisabled:h("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>h("ie")&&this.defer(function(){try{var a=l.getComputedStyle(this.domNode);if(a){var d=a.fontFamily;
if(d){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=d}}}catch(f){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=n.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(b(this._phspan,"mousedown",function(a){a.preventDefault()}),b(this._phspan,"touchend, pointerup, MSPointerUp",g.hitch(this,function(){this.focus()}))));this._phspan.innerHTML=
"";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,d,b){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){k.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.",
"","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){k.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),h("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});
9>h("ie")&&(e.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},d._setSelectionRange=f._setSelectionRange=function(a,d,b){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",d),a.moveEnd("character",b-d),a.select())});h("dojo-bidi")&&(e=m("dijit.form.TextBox",e,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));
return e})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(m,n,l,k,g,b,h,e){new Date("X");return k("dijit.form._DateTimeTextBox",[b,h],{templateString:e,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:n.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(b,a){var d=this._isInvalidDate(b),c=this._isInvalidDate(a);if(d||c)return d&&c?0:d?-1:1;var d=this.format(b,this._unboundedConstraints),c=this.format(a,this._unboundedConstraints),p=this.parse(d,this._unboundedConstraints),e=this.parse(c,this._unboundedConstraints);return d==c?0:m.compare(p,e,this._selector)},autoWidth:!0,format:function(b,a){return b?this.dateLocaleModule.format(b,a):""},parse:function(b,a){return this.dateLocaleModule.parse(b,a)||(this._isEmpty(b)?
null:void 0)},serialize:function(b,a){b.toGregorian&&(b=b.toGregorian());return l.toISOString(b,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(b){b=b||{};this.dateModule=b.datePackage?g.getObject(b.datePackage,!1):m;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?g.getObject(b.datePackage+".locale",!1):n;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},
buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(b){b.selector=this._selector;b.fullYear=!0;var a=l.fromISOString;"string"==typeof b.min&&(b.min=a(b.min));"string"==typeof b.max&&(b.max=a(b.max));this.inherited(arguments);this._unboundedConstraints=g.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(b){return!b||
isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,a,d){void 0!==b&&("string"==typeof b&&(b=l.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));this.inherited(arguments);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,a){var d=this._get("value");"value"==b&&d instanceof Date&&0==this.compare(a,d)||this.inherited(arguments)},
_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this._set("dropDownDefaultValue",b)},openDropDown:function(b){this.dropDown&&this.dropDown.destroy();var a=g.isString(this.popupClass)?g.getObject(this.popupClass,!1):this.popupClass,d=this,c=this.get("value");this.dropDown=new a({onChange:function(a){d.set("value",a,!0)},id:this.id+"_popup",dir:d.dir,lang:d.lang,value:c,textDir:d.textDir,currentFocus:this._isInvalidDate(c)?this.dropDownDefaultValue:c,constraints:d.constraints,
filterString:d.filterString,datePackage:d.datePackage,isDisabledDate:function(a){return!d.rangeCheck(a,d.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,a){this._setValueAttr(this.parse(b,this.constraints),a,b)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){l=l("dijit.layout.StackContainer",q,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",h.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var b=this.getChildren();m.forEach(b,this._setupChild,this);this.persist?this.selectedChildWidget=c.byId(n(this.id+"_selectedChild")):
m.some(b,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var d=this.selectedChildWidget;!d&&b[0]&&(d=this.selectedChildWidget=b[0],d.selected=!0);a.publish(this.id+"-startup",{children:b,selected:d,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var c=a.domNode,b=g.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+
this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),d=a["aria-label"]||a.title||a.label;d&&b.setAttribute("aria-label",d);g.place(c,b);a._wrapper=b;this.inherited(arguments);"none"==c.style.display&&(c.style.display="block");a.domNode.removeAttribute("title")},addChild:function(c,b){this.inherited(arguments);this._started&&(a.publish(this.id+"-addChild",c,b),this.layout(),this.selectedChildWidget||this.selectChild(c))},removeChild:function(c){var b=m.indexOf(this.getChildren(),c);
this.inherited(arguments);g.destroy(c._wrapper);delete c._wrapper;this._started&&a.publish(this.id+"-removeChild",c);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===c&&(this.selectedChildWidget=void 0,this._started)){var d=this.getChildren();d.length&&this.selectChild(d[Math.max(b-1,0)])}this._started&&this.layout()}},selectChild:function(b,f){var p;b=c.byId(b);this.selectedChildWidget!=b&&(p=this._transition(b,this.selectedChildWidget,f),this._set("selectedChildWidget",b),a.publish(this.id+
"-selectChild",b),this.persist&&n(this.id+"_selectedChild",this.selectedChildWidget.id));return d(p||!0)},_transition:function(a,c){c&&this._hideChild(c);var b=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return b},_adjacent:function(a){var c=this.getChildren(),b=m.indexOf(c,this.selectedChildWidget),b=b+(a?1:c.length-1);return c[b%c.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),
!0)},_onKeyDown:function(c){a.publish(this.id+"-containerKeyDown",{e:c,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var c=this.getChildren();a.isFirstChild=a==c[0];a.isLastChild=a==c[c.length-1];a._set("selected",!0);a._wrapper&&k.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&
k.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;m.forEach(this.getChildren(),function(c){a||this.removeChild(c);c.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});l.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};h.extend(p,
l.ChildWidgetProperties);return l})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(m,n,l,k,g,b){return n("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var h=[];g("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(k.hitch(this,function(e){e.name==this.name&&e.form==this.focusNode.form&&(e=b.getEnclosingWidget(e))&&h.push(e)}));
return h},_setCheckedAttr:function(b){this.inherited(arguments);this._created&&b&&m.forEach(this._getRelatedWidgets(),k.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(b){return null==b?"on":b},_onClick:function(b){return this.checked||this.disabled?(b.stopPropagation(),b.preventDefault(),!1):this.readOnly?(b.stopPropagation(),b.preventDefault(),m.forEach(this._getRelatedWidgets(),k.hitch(this,function(b){l.set(this.focusNode||this.domNode,"checked",b.checked)})),
!1):this.inherited(arguments)}})})},"tm1web/workbook/model/ActionButtonCalculationType":function(){define({None:"None",Recalculate:"Recalculate",Rebuild:"Rebuild"})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(m,n,l){var k={global:m.global,doc:m.global.document||null,body:function(g){g=g||m.doc;return g.body||g.getElementsByTagName("body")[0]},setContext:function(g,b){m.global=k.global=g;m.doc=k.doc=b},withGlobal:function(g,b,h,e){var f=m.global;try{return m.global=
k.global=g,k.withDoc.call(null,g.document,b,h,e)}finally{m.global=k.global=f}},withDoc:function(g,b,h,e){var f=k.doc,a=l("quirks"),d=l("ie"),c,p,q;try{return m.doc=k.doc=g,m.isQuirks=l.add("quirks","BackCompat"==m.doc.compatMode,!0,!0),l("ie")&&(q=g.parentWindow)&&q.navigator&&(c=parseFloat(q.navigator.appVersion.split("MSIE ")[1])||void 0,(p=g.documentMode)&&5!=p&&Math.floor(c)!=p&&(c=p),m.isIE=l.add("ie",c,!0,!0)),h&&"string"==typeof b&&(b=h[b]),b.apply(h,e||[])}finally{m.doc=k.doc=f,m.isQuirks=
l.add("quirks",a,!0,!0),m.isIE=l.add("ie",d,!0,!0)}}};n.mixin(m,k);return k})},"dojo/_base/json":function(){define(["./kernel","../json"],function(m,n){m.fromJson=function(l){return eval("("+l+")")};m._escapeString=n.stringify;m.toJsonIndentStr="\t";m.toJson=function(l,k){return n.stringify(l,function(g,b){if(b){var h=b.__json__||b.json;if("function"==typeof h)return h.call(b)}return b},k&&m.toJsonIndentStr)};return m})},"tm1web/grid/model/Model":function(){define("dojo/_base/declare dojo/_base/lang dojo/promise/all dojo/Deferred dijit/Destroyable ../../utility/setImmediate ../../utility/units ./Cache ../utility/MoveDirection".split(" "),
function(m,n,l,k,g,b,h,e,f){return m(g,{_Cache:e,_Store:null,store:null,_cache:null,_hasUnsavedDataChanges:!1,constructor:function(a){n.mixin(this,a);this.store=new this._Store(this._getStoreParams());this._cache=new this._Cache(this._getCacheParams());this._mergedCells=new e;this._mergedChildCells=new e;this._mergedCellsByColumn=new e;this._mergedChildCellsByColumn=new e;this._startCellArea=this._selectedArea=this._endSelectedCell=this._startSelectedCell=null;this._load()},onMetadataChange:function(){},
onDataChange:function(){},onValueChange:function(a){},onActionButtonExecution:function(a){},_getStoreParams:function(){},_getCacheParams:function(){},_load:function(){this.refreshMetadata()},refreshMetadata:function(){var a=new k,b=this.onLoadPromise=a.promise;this.store.getMetadata().then(n.hitch(this,function(c){this.setMetadata(c);a.resolve()}));return b},setMetadata:function(a,b){this._metadata=a;var c=a.defaultColumnWidth,f=a.defaultRowHeight;b||(a.defaultColumnWidth=h.toPx(c),a.defaultRowHeight=
h.toPx(f));this._cacheMergedCells();this._calculateRowPositions(b);this._calculateColumnPositions(b);this._calculateFreezePaneProperties();this._setInitialSelection();this._adjustSelection();this.onMetadataChange()},_setInitialSelection:function(){if(!this._startSelectedCell){var a=this._metadata.selectedCell;this.setStartSelectedCell({x:a.row,y:a.column})}},_cacheMergedCells:function(){this._mergedCells.clear();this._mergedChildCells.clear();this._mergedCellsByColumn.clear();this._mergedChildCellsByColumn.clear();
for(var a=0;a<this._metadata.mergedCells.length;++a){var b=this._metadata.mergedCells[a],c={rowSpan:b.rowSpan,columnSpan:b.columnSpan};this._mergedCells.add(c,b.row,b.column);this._mergedCellsByColumn.add(c,b.column,b.row);if(1<b.columnSpan&&1<b.rowSpan)for(var c={parentRow:b.row,parentCol:b.column},f=b.row;f<b.row+b.rowSpan;++f)for(var e=b.column;e<b.column+b.columnSpan;++e){if(f!=c.parentRow||e!=c.parentCol)this._mergedChildCells.add(c,f,e),this._mergedChildCellsByColumn.add(c,e,f)}else if(1<b.columnSpan)for(c=
{parentRow:b.row,parentCol:b.column},e=b.column;e<b.column+b.columnSpan;++e)e!=c.parentCol&&(this._mergedChildCells.add(c,b.row,e),this._mergedChildCellsByColumn.add(c,e,b.row));else if(1<b.rowSpan)for(c={parentRow:b.row,parentCol:b.column},f=b.row;f<b.row+b.rowSpan;++f)f!=c.parentRow&&(this._mergedChildCells.add(c,f,b.column),this._mergedChildCellsByColumn.add(c,b.column,f))}},_calculateFreezePaneProperties:function(){var a=this._metadata,b=a.freezePanes;b||(b={rows:0,columns:0});for(var c=b.rows,
f=0,e=a.rows,h=-1,g=0;g<c;g++)h=e[g].index,f+=this.getRowHeight(h);c=this._freezePaneProperties={frozenHeight:f,unfrozenHeight:this.getHeight()-f,lastFrozenRowIndex:h,firstUnfrozenRowIndex:e[g].index};b=b.columns;f=0;a=a.columns;e=-1;for(g=0;g<b;g++)e=a[g].index,f+=this.getColumnWidth(e);c.frozenWidth=f;c.unfrozenWidth=this.getWidth()-f;c.lastFrozenColumnIndex=e;c.firstUnfrozenColumnIndex=a[g].index},_adjustSelection:function(){this._startSelectedCell&&(this._startSelectedCell.x>this.getRowCount()-
1&&(this._startSelectedCell.x=this.getRowCount()-1),this._startSelectedCell.y>this.getColumnCount()-1&&(this._startSelectedCell.y=this.getColumnCount()-1),this._endSelectedCell.x>this.getRowCount()-1&&(this._endSelectedCell.x=this.getRowCount()-1),this._endSelectedCell.y>this.getColumnCount()-1&&(this._endSelectedCell.y=this.getColumnCount()-1),this._selectedArea=this._getSelectedAreaProperties())},_calculateRowPositions:function(a){this._rowPositions=this._calculatePositions(this._metadata.rows,
"height",this._metadata.defaultRowHeight,a)},_calculateColumnPositions:function(a){this._columnPositions=this._calculatePositions(this._metadata.columns,"width",this._metadata.defaultColumnWidth,a)},_calculatePositions:function(a,b,c,f){var e=a.length,g=Array(e),k=0;a.firstIndex=a[0].index;a.lastIndex=a[e-1].index;for(var l=0;l<e;l++){g[l]=k;var m=a[l][b],m=null!=m?a[l][b]=f?m:h.toPx(m):c,k=k+m}a[b]=k;return g},get:function(a){a=this._packCachedCells(a);var d=a.data;a=a.uncachedCells;var c=new k;
a.length?this._loadUncachedCells(a,d).then(function(){c.resolve(d)}):b(function(){c.resolve(d)});return c.promise},clearCache:function(){this._cache.clear()},clearCell:function(a,b){this._cache.remove(a,b)},clearCells:function(a){for(var b=0;b<a.length;b++)for(var c=a[b],f=c.startRow;f<=c.endRow;f++)for(var e=c.startColumn;e<=c.endColumn;e++)this._cache.remove(f,e)},_packCachedCells:function(a){a=this._addUncachedMergedCells(a);for(var b={},c=this._cache,f=[],e=a.length,h=0;h<e;h++)for(var g=a[h],
k=g.endRow,l=g.startColumn,m=g.endColumn,g=g.startRow;g<=k;g++){b[g]||(b[g]={});for(var n=b[g],v=l;v<=m;v++){var y=c.get(g,v);y||v in n||this.isMergedChildCell(g,v)||f.push({row:g,column:v});n[v]=y}}return{data:b,uncachedCells:f}},_loadUncachedCells:function(a,b){var c=new k,f=this;this.store.query(a).then(function(a){f._cacheCells(a,b);c.resolve()});return c.promise},_cacheCells:function(a,b){for(var c=a.rows,f=c.length,e=this._cache,h=0;h<f;h++){var g=c[h],k=g.index;b&&!b[k]&&(b[k]={});for(var g=
g.cells,l=g.length,m=0;m<l;m++){var n=g[m];n.rowIndex=k;e.add(n,k,n.index);n.changed&&this.setUnsavedDataChanges(!0);b&&(b[k][n.index]=n)}}},setData:function(a,b){b||this.clearCache();this._cacheCells(a)},set:function(a){for(var b=a.length,c=this._cache,f=0;f<b;f++){var e=a[f];c.add(e,e.rowIndex,e.index);e.changed&&this.setUnsavedDataChanges(!0)}},areGridLinesVisible:function(){return this._metadata.gridLinesVisible},getStyle:function(a){var b=this._metadata,c=b.style||"";return c+=" "+(b.rows[a.rowIndex].style||
"")+" "+(b.columns[a.index].style||"")+" "+(a.style||"")},getRowCount:function(){return this._metadata.rows.length},getColumnCount:function(){return this._metadata.columns.length},getDefaultRowHeight:function(){return this._metadata.defaultRowHeight},getDefaultColumnWidth:function(){return this._metadata.defaultColumnWidth},getRowPosition:function(a,b){var c=this._rowPositions[a];b&&(c-=this.getFreezePaneProperties().frozenHeight);return c},getColumnPosition:function(a,b){var c=this._columnPositions[a];
b&&(c-=this.getFreezePaneProperties().frozenWidth);return c},getCell:function(a,b){return this._cache.get(a,b)},getCellHeight:function(a,b){var c=this.getRowHeight(a),f=this._mergedCells.get(a,b);if(f)for(var e=1;e<f.rowSpan;++e)c+=this.getRowHeight(a+e);return c},getCellWidth:function(a,b){var c=this.getColumnWidth(b),f=this._mergedCells.get(a,b);if(f)for(var e=1;e<f.columnSpan;++e)c+=this.getColumnWidth(b+e);return c},getRowHeight:function(a){a=this._metadata.rows[a].height;return null==a?this.getDefaultRowHeight():
a},getColumnWidth:function(a){a=this._metadata.columns[a].width;return null==a?this.getDefaultColumnWidth():a},getWidth:function(){return this._metadata.columns.width},getHeight:function(){return this._metadata.rows.height},getFreezePaneProperties:function(){return this._freezePaneProperties},getFirstRowIndex:function(){return this._metadata.rows.firstIndex},getFirstColumnIndex:function(){return this._metadata.columns.firstIndex},getLastRowIndex:function(){return this._metadata.rows.lastIndex},getLastColumnIndex:function(){return this._metadata.columns.lastIndex},
getCellAtPosition:function(a,b){var c=this.getRowAtPosition(b),f=c,e=this.getColumnAtPosition(a),h=e;if(c=this._mergedChildCells.get(c,e))f=c.parentRow,h=c.parentCol;return{x:f,y:h}},getRowAtPosition:function(a,b){b&&(a+=this.getFreezePaneProperties().frozenHeight);return this._findIndex(a,this.getRowCount()-1,"getRowPosition","getRowHeight")},getColumnAtPosition:function(a,b){b&&(a+=this.getFreezePaneProperties().frozenWidth);return this._findIndex(a,this.getColumnCount()-1,"getColumnPosition","getColumnWidth")},
getStartSelectedCell:function(){return this._startSelectedCell},setStartSelectedCellByPosition:function(a,b){var c=this.getCellAtPosition(a,b);this.setStartSelectedCell(c)},setStartSelectedCell:function(a){this._startSelectedCell=a;this.setEndSelectedCell(a);this._startCellArea=this._selectedArea},setEndSelectedCellByPosition:function(a,b){var c=this.getCellAtPosition(a,b);this.setEndSelectedCell(c)},setEndSelectedCell:function(a){this._endSelectedCell=a;this._selectedArea=this._getSelectedAreaProperties()},
getEndSelectedCell:function(){return this._endSelectedCell},getSelectedArea:function(){return this._selectedArea},getStartCellArea:function(){return this._startCellArea},_getSelectedAreaProperties:function(){var a=this._getSelectedAreaWidth(),b=this._getSelectedAreaHeight();return{left:this.getColumnPosition(a.minCol),top:this.getRowPosition(b.minRow),height:b.height,width:a.width,minRow:b.minRow,maxRow:b.maxRow,minCol:a.minCol,maxCol:a.maxCol}},_getSelectedAreaWidth:function(){minCol=Math.min(this._startSelectedCell.y,
this._endSelectedCell.y);minRow=Math.min(this._startSelectedCell.x,this._endSelectedCell.x);maxCol=Math.max(this._startSelectedCell.y,this._endSelectedCell.y);maxRow=Math.max(this._startSelectedCell.x,this._endSelectedCell.x);for(var a=0,b=!0,c=new e;b;)for(var b=!1,f=minRow;f<=maxRow&&0==b;f++){var h=0;if(0==a||this._mergedChildCells.getRow(f)||this._mergedCells.getRow(f)){for(var g=minCol;g<=maxCol;g++){var k=this._mergedChildCells.get(f,g);if(k&&-1!=k.parentRow&&-1!=k.parentCol){var l=k.parentRow;
parentCol=k.parentCol;c.get(l,parentCol)||(minCol>parentCol&&(b=!0,minCol=parentCol),minRow>l&&(b=!0,minRow=l),k=this._mergedCells.get(l,parentCol),maxRow<l+k.rowSpan-1&&(b=!0,maxRow=l+k.rowSpan-1),maxCol<parentCol+k.columnSpan-1&&(b=!0,maxCol=parentCol+k.columnSpan-1),h+=this.getCellWidth(l,parentCol),c.add(!0,l,parentCol))}else c.get(f,g)||(minCol>g&&(b=!0,minCol=g),minRow>f&&(b=!0,minRow=f),this.isMergedCell(f,g)&&(k=this._mergedCells.get(f,g),maxRow<f+k.rowSpan-1&&(b=!0,maxRow=f+k.rowSpan-1),
maxCol<g+k.columnSpan-1&&(b=!0,maxCol=g+k.columnSpan-1)),h+=this.getCellWidth(f,g),c.add(!0,f,g))}h>a&&(a=h);c.clear()}}return{width:a,minCol:minCol,maxCol:maxCol}},_getSelectedAreaHeight:function(){minCol=Math.min(this._startSelectedCell.y,this._endSelectedCell.y);maxCol=Math.max(this._startSelectedCell.y,this._endSelectedCell.y);Math.min(this._startSelectedCell.x,this._endSelectedCell.x);Math.max(this._startSelectedCell.x,this._endSelectedCell.x);for(var a=0,b=!0,c=new e;b;)for(var b=!1,f=minCol;f<=
maxCol&&0==b;f++){var h=0;if(0==a||this._mergedChildCellsByColumn.getRow(f)||this._mergedCellsByColumn.getRow(f)){for(var g=minRow;g<=maxRow;g++){var k=this._mergedChildCells.get(g,f);k&&-1!=k.parentRow&&-1!=k.parentCol?(parentRow=k.parentRow,parentCol=k.parentCol,c.get(parentRow,parentCol)||(minRow>parentRow&&(b=!0,minRow=parentRow),minCol>parentCol&&(b=!0,minCol=parentCol),k=this._mergedCells.get(parentRow,parentCol),maxRow<parentRow+k.rowSpan-1&&(b=!0,maxRow=parentRow+k.rowSpan-1),maxCol<parentCol+
k.columnSpan-1&&(b=!0,maxCol=parentCol+k.columnSpan-1),h+=this.getCellHeight(parentRow,parentCol),c.add(!0,parentRow,parentCol))):c.get(g,f)||(minRow>g&&(b=!0,minRow=g),minCol>f&&(b=!0,minCol=f),this.isMergedCell(g,f)&&(k=this._mergedCells.get(g,f),maxRow<g+k.rowSpan-1&&(b=!0,maxRow=g+k.rowSpan-1),maxCol<f+k.columnSpan-1&&(b=!0,maxCol=f+k.columnSpan-1)),h+=this.getCellHeight(g,f),c.add(!0,g,f))}h>a&&(a=h);c.clear()}}return{height:a,minRow:minRow,maxRow:maxRow}},getNextCell:function(a,b,c){var e=a.x,
h=e,g=a.y,k=g,l=this._mergedCells.get(e,g);l&&(k=g+l.columnSpan-1,h=e+l.rowSpan-1);if(b==f.LEFT&&0==g||b==f.UP&&0==e||b==f.DOWN&&h==this.getLastRowIndex()||b==f.RIGHT&&k==this.getLastColumnIndex())return a;b==f.LEFT?c?g=this._freezePaneProperties.firstUnfrozenColumnIndex:--g:b==f.RIGHT?g=c?this.getLastColumnIndex():k+1:b==f.UP?c?e=this._freezePaneProperties.firstUnfrozenRowIndex:--e:b==f.DOWN&&(e=c?this.getLastRowIndex():h+1);return(a=this._mergedChildCells.get(e,g))?{x:a.parentRow,y:a.parentCol}:
{x:e,y:g}},getNextPageCell:function(a,b,c){var e=a.x,h=e,g=a.y,k=g,l=this._mergedCells.get(e,g);l&&(k=g+l.columnSpan-1,h=e+l.rowSpan-1);if(b==f.LEFT&&0==g||b==f.UP&&0==e||b==f.DOWN&&h==this.getLastRowIndex()||b==f.RIGHT&&k==this.getLastColumnIndex())return a;if(b==f.RIGHT){b=c.width;b=g<=this._freezePaneProperties.lastFrozenColumnIndex?b+this._freezePaneProperties.frozenWidth:b+this.getColumnPosition(g);if(b>this._freezePaneProperties.frozenWidth+this._freezePaneProperties.unfrozenWidth)return a;
g=this.getColumnAtPosition(b)}else if(b==f.LEFT){b=this.getColumnPosition(g)+this.getColumnWidth(g)-c.width;if(0>b)return a;g=this.getColumnAtPosition(b);if(a.y>this._freezePaneProperties.lastFrozenColumnIndex&&g<=this._freezePaneProperties.lastFrozenColumnIndex)return a}else if(b==f.DOWN){b=c.height;b=e<=this._freezePaneProperties.lastFrozenRowIndex?b+this._freezePaneProperties.frozenHeight:b+this.getRowPosition(e);if(b>this._freezePaneProperties.frozenHeight+this._freezePaneProperties.unfrozenHeight)return a;
e=this.getRowAtPosition(b)}else if(b==f.UP){b=this.getRowPosition(e)+this.getRowHeight(e)-c.height;if(0>b)return a;e=this.getRowAtPosition(b);if(a.x>this._freezePaneProperties.lastFrozenRowIndex&&e<=this._freezePaneProperties.lastFrozenRowIndex)return a}return(a=this._mergedChildCells.get(e,g))?{x:a.parentRow,y:a.parentCol}:{x:e,y:g}},getBottomRightCell:function(){return{x:this.getLastRowIndex(),y:this.getLastColumnIndex()}},getTopLeftCell:function(){return{x:this._freezePaneProperties.firstUnfrozenRowIndex,
y:this._freezePaneProperties.firstUnfrozenColumnIndex}},isPointInSelection:function(a,b){return a>=this._selectedArea.left&&a<=this._selectedArea.left+this._selectedArea.width&&b>=this._selectedArea.top&&b<=this._selectedArea.top+this._selectedArea.height?!0:!1},getSelectedCells:function(){for(var a=[],b=this._selectedArea.minRow;b<=this._selectedArea.maxRow;b++)for(var c=this._selectedArea.minCol;c<=this._selectedArea.maxCol;c++)this.isMergedChildCell(b,c)||a.push({row:b,column:c});return a},isMergedChildCell:function(a,
b){return null!=this._mergedChildCells.get(a,b)},isMergedCell:function(a,b){return null!=this._mergedCells.get(a,b)},getMergedCells:function(){return this._mergedCells.getCache()},getCache:function(){return this._cache},_addUncachedMergedCells:function(a){var b=this._cache,c=this._mergedCells.getCache(),f=[],e;for(e in c)for(var h in c[e]){var g=Number(e),k=Number(h);if(!(0>g||0>k)){for(var l=a.length,m=!1,n=0;n<l;n++){var v=a[n];if(g>=v.startRow&&g<=v.endRow&&k>=v.startColumn&&k<=v.endColumn){m=
!0;break}}m||b.get(g,k)||(v={},v.startRow=g,v.endRow=g,v.startColumn=k,v.endColumn=k,f=f.concat(v))}}return a.concat(f)},getRowSpan:function(a,b){var c=this._mergedCells.get(a,b);return c?c.rowSpan:1},getColumnSpan:function(a,b){var c=this._mergedCells.get(a,b);return c?c.columnSpan:1},_findIndex:function(a,b,c,f){if(0>a)throw Error("The specified coorindate must not be less than zero: "+a);for(var e=0;b>=e;){var h=Math.floor(e+(b-e)/2),g=this[c](h),k=g+this[f](h);if(a<g)b=h-1;else if(a>k)e=h+1;else return h}return b},
isSingleCellSelected:function(){return this._startSelectedCell.x===this._endSelectedCell.x&&this._startSelectedCell.y===this._endSelectedCell.y},isReadOnly:function(a,b){var c=this.getCell(a,b);return!c||c.readOnly},hasUnsavedDataChanges:function(){return this._hasUnsavedDataChanges},setUnsavedDataChanges:function(a){this._hasUnsavedDataChanges=a},_setRowHeight:function(a,b){this._metadata.rows[a].height=b;this.setMetadata(this._metadata,!0)},setRowHeight:function(a,b){if(this.getRowHeight(a)===b)return l([]);
this._setRowHeight(a,b);return this.store.setRowHeight(a,h.toPt(b))},wasDefaultRowHeight:function(a){return this._metadata.rows[a].wasDefaultHeight}})})},"tm1web/celledit/AsyncSimpleQueryEngine":function(){define(["dojo/_base/lang","dojo/store/util/SimpleQueryEngine","dojo/when"],function(m,n,l){return function(k,g){var b=n(k,g);return function(h){h=l(h,b);h.then&&(h=m.delegate(h),h.total=h.then(function(b){return b.total}));return h}}})},"tm1web/subseteditor/ElementSelector":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/when dojo/dom-geometry dojo/dom-style dojo/text!./templates/ElementSelector.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/TooltipDialog ../utility/message-localizer ./dndSelector ./Model ./TreePane ./SubsetEditor ./FindBar ../widgets/WarningOptionsDialog".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t){return m("tm1web.subseteditor.ElementSelector",[a,e,f],{openSubsetEditorButtonVisible:!0,openSubsetEditorButtonDisabled:!1,readOnly:!1,baseClass:"tm1webElementSelector",templateString:h,_treeNode:null,_findBarNode:null,_findBar:null,_buttonContainerNode:null,_openSubsetEditorButton:null,_subsetEditorOpened:!1,_buttonLabel:d.get("OPEN_SUBSET_EDITOR_STR"),_model:null,constructor:function(a){this._model=a._model?a._model:new p({objectId:a.objectId,sheetIndex:a.sheetIndex,
dimension:a.dimension,rowIndex:a.rowIndex,columnIndex:a.columnIndex,element:a.element,readOnly:a.readOnly})},postCreate:function(){this.inherited(arguments);this._load()},_load:function(){var a=this;this._model.getSubsetStoreModel().then(function(b){var f=a._tree=new q({model:b,dndController:c,onChange:n.hitch(a,"_layoutChildren"),onLoad:n.hitch(a,"onLoad")},a._treeNode);f.on("select",function(c){var f=function(){var d=a._submitDeferred=new l;a._model.submit().then(function(){a.onSubmit(c.get("label"),
b.getElementIndex(c.get("item")),a._lastSelectedSubset,a._lastSelectedAlias);d.resolve();a._submitDeferred=null})};a._model.getMetaData().then(function(c){b.getMetaData(function(b){a._lastSelectedSubset=c.selectedSubset.name;a._lastSelectedAlias=c.selectedAlias;c.selectedSubset.dynamic&&b.modified?(a._pendingDialogDeferred=new l,t.show({message:d.get("DYNAMIC_SUBSET_MODIFIED")+"\n"+d.get("USE_STATIC_SUBSET"),okButtonLabel:d.get("SUBSET_WARNING_OK_STR"),cancelButtonLabel:d.get("CANCEL_STR"),title:d.get("SUBSET_WARNING_TITLE_STR"),
onExecute:function(){f()}}).always(function(){a._pendingDialogDeferred.resolve()})):f()})})});a._findBar=(new r({subsetTree:f})).placeAt(a._findBarNode);a._findBar.startup()})},onSubmit:function(a,c){},onOpen:function(a){this.inherited(arguments);this._best=a;this._originalConnectorRight=this._getConnectorRightPixels();this._tree.set("maxHeight",this._computeMaxTreeHeight());this._tree.set("maxWidth",this._computeMaxTreeWidth());this._layoutChildren();this._findBar._textBox.focus()},_computeMaxTreeHeight:function(){return this._computeMaxTreeSize("h")},
_computeMaxTreeWidth:function(){return this._computeMaxTreeSize("w")},_computeMaxTreeSize:function(a){var c=this._best.spaceAvailable[a],b=g.getMarginBox(this.domNode)[a];a=g.getContentBox(this._treeNode)[a];return c-(b-a)},_layoutChildren:function(){var a;this._requiresAdjustment()&&(a=g.getMarginBox(this._popupWrapper));this._tree.resize();this._findBar.resize();this._adjustPosition(a)},_isConnectorRightAligned:function(){return this._best&&0<=this._best.corner.indexOf("R")},_isOpenedAbove:function(){return this._best&&
0<=this._best.aroundCorner.indexOf("T")},_requiresAdjustment:function(){return this._isConnectorRightAligned()||this._isOpenedAbove()},_adjustPosition:function(a){if(a){var c=g.getMarginBox(this._popupWrapper);if(this._isConnectorRightAligned()){var b=c.w-a.w,d=this._getConnectorRightPixels();this._connectorNode.style.right=Math.max(this._originalConnectorRight,d+b)+"px"}this._isOpenedAbove()&&(a=c.t-(c.h-a.h),0>a&&(c=this._tree.get("maxHeight"),this._tree.set("maxHeight",c+a),a=0),g.setMarginBox(this._popupWrapper,
{t:a}))}},_getConnectorRightPixels:function(){var a=b.getComputedStyle(this._connectorNode);return b.toPixelValue(this._connectorNode,a.right)},_openSubsetEditor:function(){this._subsetEditorOpened=!0;var a=new s({model:this._model,readOnly:this.readOnly,onHide:function(){a.destroyRecursive();a=null},onSubmit:this.onSubmit});a.show()},_setOpenSubsetEditorButtonDisabledAttr:function(a){this._openSubsetEditorButton.set("disabled",a)},_setOpenSubsetEditorButtonVisibleAttr:function(a){this._buttonContainerNode.style.display=
a?"":"none"},destroy:function(){var a=this.getInherited(arguments),c=arguments;k(this._pendingDialogDeferred,n.hitch(this,function(){k(this._submitDeferred,n.hitch(this,function(){this._subsetEditorOpened||this._model.destroy();a.apply(this,c)}))}))}})})},"tm1web/workbook/controls/_ScrollableMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojo/debounce ../../utility/message-localizer ../../widgets/AlertDialog".split(" "),function(m,n,l,k,g,b,h){return m(null,{scrollTop:0,
buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"tm1webGridScrollableControl")},postCreate:function(){this.inherited(arguments);this._attachEventListeners()},_attachEventListeners:function(){this.inherited(arguments);this.own(k(this.domNode,"scroll",g(n.hitch(this,"_onScroll"),100)))},_onScroll:function(){if(!this._destroyed){var e=this.domNode.scrollTop;this._set("scrollTop",e);this.model.setControlScrollTop(this.controlId,e).otherwise(function(f){h.show({message:b.get("SRV_ERR_STR")})})}},
update:function(b){this.inherited(arguments);this.set("scrollTop",b.scrollTop)},_setScrollTopAttr:function(b){this._set("scrollTop",b);this.domNode.scrollTop!=b&&this.defer(function(){this.domNode.scrollTop=b})}})})},"dojo/cldr/nls/number":function(){define({root:{scientificFormat:"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]",infinity:"\u221e",superscriptingExponent:"\u00d7",list:";",percentSign:"%",minusSign:"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T",
"currencySpacing-afterCurrency-insertBetween":"\u00a0",nan:"NaN",plusSign:"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]",currencyFormat:"\u00a4\u00a0#,##0.00",perMille:"\u2030",group:",",percentFormat:"#,##0%","decimalFormat-long":"000T",decimalFormat:"#,##0.###",decimal:".","currencySpacing-beforeCurrency-insertBetween":"\u00a0",exponential:"E"},af:!0,"af-na":!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,"ar-eg":!0,"ar-lb":!0,"ar-ly":!0,
"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-qa":!0,"ar-sa":!0,"ar-sy":!0,"ar-tn":!0,"ar-ye":!0,as:!0,asa:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,"de-ch":!0,"de-li":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,"el-cy":!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-in":!0,"en-us-posix":!0,"en-za":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,"es-bo":!0,"es-cl":!0,"es-co":!0,
"es-cr":!0,"es-ec":!0,"es-gq":!0,"es-mx":!0,"es-py":!0,"es-uy":!0,"es-ve":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ch":!0,"fr-lu":!0,ga:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,"ku-tr":!0,kw:!0,ky:!0,lg:!0,ln:!0,lo:!0,lt:!0,lu:!0,
luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nr:!0,nso:!0,nus:!0,nyn:!0,om:!0,or:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,rw:!0,rwk:!0,saq:!0,sbp:!0,seh:!0,ses:!0,sg:!0,sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-latn":!0,ss:!0,st:!0,sv:!0,sw:!0,swc:!0,ta:!0,"ta-my":!0,"ta-sg":!0,
te:!0,teo:!0,th:!0,ti:!0,tn:!0,to:!0,tr:!0,ts:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,ve:!0,vi:!0,vun:!0,xh:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,zu:!0})},"tm1web/subseteditor/Model":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/when ./SubsetStore ./SubsetStoreModel".split(" "),function(m,
n,l,k,g,b){return m(null,{objectId:null,dimension:null,rowIndex:null,columnIndex:null,element:null,readOnly:!1,lazyLoadDimensionSubset:!0,_sessionId:null,_subsetId:null,_dimensionId:null,_subsetStoreModel:null,_dimensionStoreModel:null,_onLoadDeferred:null,_sessionInfo:null,constructor:function(b){n.mixin(this,b);this._assertParamsValid();this._load()},_assertParamsValid:function(){if(!this.objectId)throw"No objectId was specified";if(null!=this.rowIndex){if(null==this.columnIndex)throw"A column index must be specified in addition to a row index";
if(isNaN(this.rowIndex))throw"rowIndex must be a numeric type.";}if(null!=this.columnIndex){if(null==this.rowIndex)throw"A row index must be specified in addition to a column index";if(isNaN(this.columnIndex))throw"columnIndex must be a numeric type.";}if(null==this.rowIndex&&null==this.columnIndex&&!this.dimension)throw"Either dimension or (rowIndex and columnIndex) must be specified";},_load:function(){var b=this._onLoadDeferred=new l,e=this;null!=this.rowIndex?SubsetService.createWebSheetSubsetSession(this.objectId,
null==this.sheetIndex?-1:this.sheetIndex,this.rowIndex,this.columnIndex,!this.lazyLoadDimensionSubet,{callback:function(f){e._sessionInfo=f;b.resolve();delete e._onLoadDeferred},scope:this,errorHandler:function(f){b.reject(f);delete e._onLoadDeferred}}):null!=this.element?SubsetService.createSpreadSubsetSession(this.objectId,this.dimension,this.element,!this.lazyLoadDimensionSubset,{callback:function(f){e._sessionInfo=f;b.resolve();delete e._onLoadDeferred},scope:this,errorHandler:function(f){b.reject(f);
delete e._onLoadDeferred}}):SubsetService.createCubeViewSubsetSession(this.objectId,this.dimension,!this.lazyLoadDimensionSubset,{callback:function(f){e._sessionInfo=f;b.resolve();delete e._onLoadDeferred},scope:this,errorHandler:function(f){b.reject(f);delete e._onLoadDeferred}})},_getSessionId:function(){return this._sessionInfo.sessionId},getIsAllowedUserDefinedCalculations:function(){return this._sessionInfo.allowUserDefinedCalculations},getServerName:function(){return this._sessionInfo.serverName},
getSubsetStoreModel:function(){this._assertNotDestroyed();var h=new l;this._subsetStoreModel?h.resolve(this._subsetStoreModel):k(this._onLoadDeferred,n.hitch(this,function(){this._subsetStoreModel=new b({store:new g({sessionId:this._getSessionId(),subsetId:this._sessionInfo.subsetId,_subsetInfo:this._sessionInfo.subsetInfo,sheetIndex:this.sheetIndex,objectId:this.objectId})});h.resolve(this._subsetStoreModel)}));return h.promise},getDimensionStoreModel:function(){this._assertNotDestroyed();var h=
new l;this._dimensionStoreModel?h.resolve(this._dimensionStoreModel):k(this._onLoadDeferred,n.hitch(this,function(){this._dimensionStoreModel=new b({store:new g({sessionId:this._getSessionId(),subsetId:this._sessionInfo.dimensionId,_subsetInfo:this._sessionInfo.dimensionInfo})});h.resolve(this._dimensionStoreModel)}));return h.promise},submit:function(){this._assertNotDestroyed();var b=new l,e=this;this.getSubsetStoreModel().then(function(f){k(f.store.setSelectedPromise,n.hitch(e,function(){this.readOnly?
b.resolve():SubsetService.submit(this._getSessionId(),{callback:function(){b.resolve()},scope:this,errorHandler:function(a,d){b.reject(a,d)}})}))});return b.promise},setAlias:function(b){this._assertNotDestroyed();var e=new l,f=this;k(this._onLoadDeferred,function(){SubsetService.setAlias(f._getSessionId(),b,{callback:function(a){f._sessionInfo=a;f._onChange();e.resolve()},scope:this,errorHandler:function(a,b){e.reject(a,b)}})});return e.promise},setSubset:function(b){this._assertNotDestroyed();var e=
new l,f=this;k(this._onLoadDeferred,function(){SubsetService.setNamedSubset(f._getSessionId(),b,{callback:function(a){f._sessionInfo=a;f._onChange();e.resolve()},scope:this,errorHandler:function(a,b){e.reject(a,b)}})});return e.promise},setExpandAbove:function(b){this._assertNotDestroyed();var e=new l,f=this;k(this._onLoadDeferred,function(){SubsetService.setExpandAbove(f._getSessionId(),!!b,{callback:function(a){f._sessionInfo=a;f._onChange();e.resolve()},scope:this,errorHandler:function(a,b){e.reject(a,
b)}})});return e.promise},_onChange:function(){this._subsetStoreModel&&this._sessionInfo.subsetInfo&&this._updateStoreModel(this._subsetStoreModel,this._sessionInfo.subsetInfo);this._dimensionStoreModel&&this._sessionInfo.dimensionInfo&&this._updateStoreModel(this._dimensionStoreModel,this._sessionInfo.dimensionInfo);this.onMetaDataChange(this._sessionInfo.metaData)},_updateStoreModel:function(b,e){b.store._update(e);b.store._onChange()},getMetaData:function(){this._assertNotDestroyed();var b=new l;
k(this._onLoadDeferred,n.hitch(this,function(){b.resolve(this._sessionInfo.metaData)}));return b.promise},onMetaDataChange:function(b){},saveSubset:function(){this._assertNotDestroyed();var b=new l,e=this;k(this._onLoadDeferred,function(){SubsetService.saveSubset(e._sessionInfo.sessionId,e._sessionInfo.subsetId,{callback:function(f){e._sessionInfo=f;e._onChange();b.resolve()},scope:this,errorHandler:function(f,a){alert(f);b.reject(f,a)}})});return b.promise},saveSubsetAs:function(b,e,f){this._assertNotDestroyed();
var a=new l,d=this;k(this._onLoadDeferred,function(){SubsetService.saveSubsetAs(d._sessionInfo.sessionId,d._sessionInfo.subsetId,b,e,f,{callback:function(c){d._sessionInfo=c;d._onChange();a.resolve()},scope:this,errorHandler:function(c,b){a.reject(c,b)}})});return a.promise},getLevelsCount:function(){this._assertNotDestroyed();var b=new l;k(this._onLoadDeferred,n.hitch(this,function(){b.resolve(this._sessionInfo.levelsCount)}));return b.promise},_assertNotDestroyed:function(){if(this._destroyed)throw"Model has already been destroyed.";
},destroy:function(){var b=new l;this._subsetStoreModel&&this._subsetStoreModel.destroy();this._dimensionStoreModel&&this._dimensionStoreModel.destroy();k(this._onLoadDeferred,n.hitch(this,function(){SubsetService.destroy(this.objectId,this._getSessionId(),{callback:function(){b.resolve()},scope:this,errorHandler:function(){b.cancel()}})}));this._destroyed=!0;return b.promise}})})},"tm1web/workbook/GridPaneController":function(){define(["dojo/_base/declare","../grid/GridPaneController","./DomController"],
function(m,n,l){return m(n,{DomController:l,addControls:function(k){this._domController.generateControls(k)},getMaxRequiredWidth:function(k){return this._domController.getMaxRequiredWidth(k)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(m,n,l,k,g,b,h,e,f,a){return n("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",
tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);l.set(this.focusNode,"disabled",b);this.valueNode&&l.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",m.forEach(g.isArray(b)?
b:[b],function(c){c=this[c];e("webkit")||a.hasDefaultTabStop(c)?c.setAttribute("tabIndex","-1"):c.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(h(this.focusNode,"focus",function(){k.remove();c.remove()}))[0],b=e("pointer-events")?"pointerup":e("MSPointer")?"MSPointerUp":e("touch-events")?"touchend, mouseup":"mouseup",k=this.own(h(this.ownerDocumentBody,b,g.hitch(this,function(a){k.remove();
c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){f.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=k.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,c){return"number"==typeof a&&"number"==typeof c?isNaN(a)&&isNaN(c)?0:a-c:a>c?1:a<c?-1:0},onChange:function(){},
_onChangeActive:!1,_handleOnChange:function(a,c){void 0!=this._lastValueReported||null!==c&&this._onChangeActive||(this._resetValue=this._lastValueReported=a);this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);(this.intermediateChanges||c||void 0===c)&&this._pendingOnChange&&(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=
this.defer(function(){this._onChangeHandle=null;this.onChange(a)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"tm1web/workbook/celledit/_CellValueMixin":function(){define("dojo/_base/declare ../../cubeview/ViewCellType ../CellType ../../share/NumberType ../../utility/date ../../utility/dom ../../utility/number ../../utility/date!".split(" "),
function(m,n,l,k,g,b,h){return m(null,{_getCurrentValue:function(b){if(b.cellType==n.NUM){if(b.type==l.DateTime)return b.displayValue;if(h.isNaN(b.value))return"";var f=h.format(b.value,!0);return this._isPercentCell(b)?(b=h.convert(f,k.PERCENT,!0),null==b?f:b):f}return null!=b.value?b.value:""},_isPercentCell:function(b){if(b.percent)return!0;var f=this._isPercentValue(b);f&&(b.percent=!0);return f},_isPercentValue:function(b){return b.cellType===n.NUM&&h.canParse(b.displayValue,k.PERCENT)}})})},
"dojo/json":function(){define(["./has"],function(m){var n="undefined"!=typeof JSON;m.add("json-parse",n);m.add("json-stringify",n&&'{"a":1}'==JSON.stringify({a:0},function(k,g){return g||1}));if(m("json-stringify"))return JSON;var l=function(k){return('"'+k.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:m("json-parse")?JSON.parse:function(k,g){if(g&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(k))throw new SyntaxError("Invalid characters in JSON");
return eval("("+k+")")},stringify:function(k,g,b){function h(f,a,d){g&&(f=g(d,f));var c;c=typeof f;if("number"==c)return isFinite(f)?f+"":"null";if("boolean"==c)return f+"";if(null===f)return"null";if("string"==typeof f)return l(f);if("function"==c||"undefined"==c)return e;if("function"==typeof f.toJSON)return h(f.toJSON(d),a,d);if(f instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,b){a=f["getUTC"+c]()+(b?1:0);return 10>a?"0"+
a:a});if(f.valueOf()!==f)return h(f.valueOf(),a,d);var p=b?a+b:"",k=b?" ":"",m=b?"\n":"";if(f instanceof Array){var k=f.length,n=[];for(d=0;d<k;d++)c=h(f[d],p,d),"string"!=typeof c&&(c="null"),n.push(m+p+c);return"["+n.join(",")+m+a+"]"}n=[];for(d in f){var t;if(f.hasOwnProperty(d)){if("number"==typeof d)t='"'+d+'"';else if("string"==typeof d)t=l(d);else continue;c=h(f[d],p,d);"string"==typeof c&&n.push(m+p+t+":"+k+c)}}return"{"+n.join(",")+m+a+"}"}var e;"string"==typeof g&&(b=g,g=null);return h(k,
"","")}}})},"dojox/uuid/generateRandomUuid":function(){define(["../main","./_base"],function(m){m.uuid.generateRandomUuid=function(){function m(){for(var b=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>b.length;)b="0"+b;return b}var l=m(),k=m(),k=k.substring(0,4)+"-4"+k.substring(5,8),g=m(),g="8"+g.substring(1,4)+"-"+g.substring(4,8),b=m();return l=(l+"-"+k+"-"+g+b).toLowerCase()};return m.uuid.generateRandomUuid})},"tm1web/workbook/CellContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class ../websheet/CellContextMenu ../utility/message-localizer ../widgets/AlertDialog ../share/service-loader!WorkbookService".split(" "),
function(m,n,l,k,g,b,h){return m(k,{Service:h,_getSelectedArea:function(){var b=this.dataGrid.model.getSelectedArea();if(null==b)return null;var f=this.dataGrid.model.getStartSelectedCell(),a=this.dataGrid.model.getEndSelectedCell();return{StartCell:f,EndCell:a,bottomRight:{y:b.maxCol,x:b.maxRow},leftTop:{y:b.minCol,x:b.minRow}}},_getCurrentCell:function(){if(this._selectedArea){var b=this._selectedArea.StartCell,f=this.dataGrid.model.getCell(b.x,b.y);if(b=this.dataGrid.getCell(b.x,b.y)){var a=b.cellInfo=
n.mixin({},f);a.colIndex=f.index;a.drillList=f.drillString;a.numericValue=f.value;a.readOnly=!!f.readOnly;a.isPrimaryKey=void 0;a.isTM1Cell=!!a.isTM1Cell;a.isConsolidated=!!f.consolidated;a.hold=!!f.held;a.annotated=!!f.annotated;return b}}return null},_getCurrentCellCoord:function(){return{rowIndex:this._currentCell.cellInfo.rowIndex,colIndex:this._currentCell.cellInfo.colIndex}},_validate:function(b,f){return f?!0:this.dataGrid.isInGrid(b.coords)},_getItemIdPrefix:function(){return"tm1web_workbook_cellcontextmenu_"},
_isSingleCellSelected:function(){return this.dataGrid.model.isSingleCellSelected()},_hold:function(b){this.dataGrid.model.hold(b)},_drill:function(e){var f=this;this.dataGrid.model.drill(this._currentCell.cellInfo.rowIndex,this._currentCell.cellInfo.colIndex,e).then(function(a){f._onDrill(a,e)}).otherwise(function(a){b.show({message:g.get("SRV_ERR_STR")})})},_copy:function(b){this.dataGrid.copy()},_paste:function(b){this.dataGrid.paste()}})})},"tm1web/share/ChartContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on ../cubeview/ContextMenu ../widgets/ErrorAlert ../utility/message-localizer".split(" "),
function(m,n,l,k,g,b,h,e){return m(b,{constructor:function(b,a,d,c){this._panel=b;this.ObjectId=a;this._service=d;this._drillMap=c;this._InitializeContextMenu()},_InitializeContextMenu:function(){this.own(g(this._panel,"mouseup",n.hitch(this,"_ShowContextMenu")));this._InitializeMenuLabels()},_InitializeMenuLabels:function(){this.MenuLabels.DRILL=e.get("DRILL_STR")},_ShowContextMenu:function(b){if(2==b.button&&(b=b.target,null!=b)){var a=!1;"AREA"==b.nodeName?(this._currentArea=b,a=!0):"rect"!=b.nodeName&&
"circle"!=b.nodeName&&"path"!=b.nodeName||null==this._drillMap||(this._currentArea=this._drillMap[b.id],a=!0);a&&this._currentArea&&(this.ContextMenu=this._GenerateContextMenu(),this.ContextMenu.bindDomNode(b),this.ContextMenu.onClose=n.hitch(this,"_OnContextMenuClose"))}},_GenerateContextMenu:function(){var b=this._currentArea.drillInfo?this._currentArea.drillInfo.drillList:null,b=null==b||""==b,b=[{label:this.MenuLabels.DRILL,disabled:b,iconClass:"tm1webContextmenu_icon_drill",data:"Drill",subMenu:b?
null:this._generateDrillSubMenu()}];return this._CreateMenu(b)},_generateDrillSubMenu:function(){for(var b=this._currentArea.drillInfo.drillList.split(","),a=[],d=0;d<b.length;d++)a[d]={label:b[d],iconClass:"",data:b[d]};this._BatchAddHandler(a,this._doDrill);return this._CreateMenu(a)},_doDrill:function(b){this._service.getDrillView(this.ObjectId,this._currentArea.drillInfo.cellRow,this._currentArea.drillInfo.cellCol,b.Data,{callback:this._onDoDrill,arg:b.Data,scope:this})},_onDoDrill:function(b,
a){b?b.objectId?b.relational?l.publish(this.ObjectId+"-RelationalDrillThrough",a,b.colNames,b.gridData,b.objectId):l.publish(this.ObjectId+"-TM1WidgetIdentityCreated",{objectId:b.objectId},b.viewName):h.show({message:e.get("response"),title:e.get("DRILL_ERROR_TITLE_STR")}):h.show({message:e.get("DRILL_ERROR"),title:e.get("DRILL_ERROR_TITLE_STR")})}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(m){return m.dojox})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){var p=n("dojo.dnd.Selector",c,{constructor:function(b,c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(f(this.node,a.press,k.hitch(this,"onMouseDown")),f(this.node,a.release,k.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new e,b=d._empty,c;for(c in this.selection)c in b||a.push(g.byId(c));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,b){this._addItemClass(g.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=d._empty,c;for(c in this.selection)if(!(c in a)){var f=g.byId(c);this.delItem(c);b.destroy(f)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||l.global;var c=this.selection,f=d._empty,e;for(e in c)e in f||a.call(b,this.getItem(e),e,this)},sync:function(){p.superclass.sync.call(this);
this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=d._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);m.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,d){var f=this._normalizedCreator;this._normalizedCreator=function(b,c){var d=f.call(this,b,c);a?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,"Selected"),this._removeItemClass(d.node,"Anchor"));return d};p.superclass.insertNodes.call(this,b,c,d);this._normalizedCreator=f;return this},destroy:function(){p.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!d.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,h.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){d.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,f;c<b.length&&(f=b[c],f!=this.anchor&&f!=this.current);++c);for(++c;c<b.length;++c){f=b[c];if(f==this.anchor||f==this.current)break;this._addItemClass(f,"Selected");this.selection[f.id]=
1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?d.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):d.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):
(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&
(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=f(this.node,a.move,k.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=d._empty,b;for(b in this.selection)if(!(b in a)){var c=g.byId(b);c&&this._removeItemClass(c,"Selected")}this.selection=
{};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return p})},"dojox/grid/_Scroller":function(){define("dijit/registry dojo/_base/declare dojo/_base/lang dojo/_base/array ./util dojo/_base/html".split(" "),function(m,n,l,k,g,b){var h=function(f){f&&k.forEach(m.toArray(),function(a){a.domNode&&b.isDescendant(a.domNode,f,!0)&&a.destroy()})},e=function(f,a){for(var d=[],c=0,e;e=f.childNodes[c];){c++;var h=b.byId(e);(h&&
h.tagName?h.tagName.toLowerCase():"")==a&&d.push(e)}return d};return n("dojox.grid._Scroller",null,{constructor:function(b){this.setContentNodes(b);this.pageHeights=[];this.pageNodes=[];this.stack=[]},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(b,a,d){switch(arguments.length){case 3:this.rowsPerPage=d;case 2:this.keepRows=
a;case 1:this.rowCount=b}this.defaultPageHeight=(0<this.grid.rowHeight?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();this.scrollboxNode&&(this.scrollboxNode.scrollTop=0,this.scroll(0),this.scrollboxNode.onscroll=l.hitch(this,"onscroll"))},_getPageCount:function(b,a){return b?Math.ceil(b/a)||1:0},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;
delete this.scrollboxNode},setKeepInfo:function(b){this.keepPages=(this.keepRows=b)?Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2):this.keepPages},setContentNodes:function(b){this.colCount=(this.contentNodes=b)?this.contentNodes.length:0;this.pageNodes=[];for(b=0;b<this.colCount;b++)this.pageNodes[b]=[]},getDefaultNodes:function(){return this.pageNodes[0]||[]},invalidate:function(){this._invalidating=!0;this.invalidateNodes();this.pageHeights=[];this.height=this.pageCount?(this.pageCount-1)*
this.defaultPageHeight+this.calcLastPageHeight():0;this.resize();this._invalidating=!1},updateRowCount:function(b){this.invalidateNodes();this.rowCount=b;b=this.pageCount;0===b&&(this.height=1);this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<b)for(--b;b>=this.pageCount;b--)this.height-=this.getPageHeight(b),delete this.pageHeights[b];else this.pageCount>b&&(this.height+=this.defaultPageHeight*(this.pageCount-b-1)+this.calcLastPageHeight());this.resize()},pageExists:function(b){return Boolean(this.getDefaultPageNode(b))},
measurePage:function(b){return this.grid.rowHeight?((b+1)*this.rowsPerPage>this.rowCount?this.rowCount-b*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight:(b=this.getDefaultPageNode(b))&&b.innerHTML?b.offsetHeight:void 0},positionPage:function(b,a){for(var d=0;d<this.colCount;d++)this.pageNodes[d][b].style.top=a+"px"},repositionPages:function(b){for(var a=this.getDefaultNodes(),d=0,c=0;c<this.stack.length;c++)d=Math.max(this.stack[c],d);var e=(c=a[b])?this.getPageNodePosition(c)+this.getPageHeight(b):
0;for(b+=1;b<=d;b++){if(c=a[b]){if(this.getPageNodePosition(c)==e)break;this.positionPage(b,e)}e+=this.getPageHeight(b)}},installPage:function(b){for(var a=0;a<this.colCount;a++)this.contentNodes[a].appendChild(this.pageNodes[a][b])},preparePage:function(b,a){for(var d=a?this.popPage():null,c=0;c<this.colCount;c++){var e=this.pageNodes[c],h=null===d?this.createPageNode():this.invalidatePageNode(d,e);h.pageIndex=b;e[b]=h}},renderPage:function(b){var a=[],d;for(d=0;d<this.colCount;d++)a[d]=this.pageNodes[d][b];
d=0;for(b*=this.rowsPerPage;d<this.rowsPerPage&&b<this.rowCount;d++,b++)this.renderRow(b,a)},removePage:function(b){var a=0;for(b*=this.rowsPerPage;a<this.rowsPerPage;a++,b++)this.removeRow(b)},destroyPage:function(f){for(var a=0;a<this.colCount;a++){var d=this.invalidatePageNode(f,this.pageNodes[a]);d&&b.destroy(d)}},pacify:function(b){},pacifying:!1,pacifyTicks:200,setPacifying:function(b){this.pacifying!=b&&(this.pacifying=b,this.pacify(this.pacifying))},startPacify:function(){this.startPacifyTicks=
(new Date).getTime()},doPacify:function(){var b=(new Date).getTime()-this.startPacifyTicks>this.pacifyTicks;this.setPacifying(!0);this.startPacify();return b},endPacify:function(){this.setPacifying(!1)},resize:function(){this.scrollboxNode&&(this.windowHeight=this.scrollboxNode.clientHeight);for(var b=0;b<this.colCount;b++)g.setStyleHeightPx(this.contentNodes[b],Math.max(1,this.height));b=!this._invalidating;if(!b){var a=this.grid.get("autoHeight");"number"==typeof a&&a<=Math.min(this.rowsPerPage,
this.rowCount)&&(b=!0)}b&&this.needPage(this.page,this.pageTop);b=this.page<this.pageCount-1?this.rowsPerPage:this.rowCount%this.rowsPerPage||this.rowsPerPage;a=this.getPageHeight(this.page);this.averageRowHeight=0<a&&0<b?a/b:0},calcLastPageHeight:function(){if(!this.pageCount)return 0;var b=(this.rowCount%this.rowsPerPage||this.rowsPerPage)*this.defaultRowHeight;return this.pageHeights[this.pageCount-1]=b},updateContentHeight:function(b){this.height+=b;this.resize()},updatePageHeight:function(b,
a,d){if(this.pageExists(b)){var c=this.getPageHeight(b),e=this.measurePage(b);void 0===e&&(e=c);this.pageHeights[b]=e;if(c!=e){this.updateContentHeight(e-c);var h=this.grid.get("autoHeight");"number"==typeof h&&h>this.rowCount||!0===h&&!a?d?(a=this.grid.viewsNode.style,a.height=parseInt(a.height)+e-c+"px",this.repositionPages(b)):this.grid.sizeChange():this.repositionPages(b)}return e}return 0},rowHeightChanged:function(b,a){this.updatePageHeight(Math.floor(b/this.rowsPerPage),!1,a)},invalidateNodes:function(){for(;this.stack.length;)this.destroyPage(this.popPage())},
createPageNode:function(){var f=document.createElement("div");b.attr(f,"role","presentation");f.style.position="absolute";f.style[this.grid.isLeftToRight()?"left":"right"]="0";return f},getPageHeight:function(b){b=this.pageHeights[b];return void 0!==b?b:this.defaultPageHeight},pushPage:function(b){return this.stack.push(b)},popPage:function(){return this.stack.shift()},findPage:function(b){for(var a=0,d=0,c=0;a<this.pageCount&&!(c=this.getPageHeight(a),d+c>=b);a++,d+=c);this.page=a;this.pageTop=d},
buildPage:function(b,a,d){this.preparePage(b,a);this.positionPage(b,d);this.installPage(b);this.renderPage(b);this.pushPage(b)},needPage:function(b,a){var d=this.getPageHeight(b);this.pageExists(b)?this.positionPage(b,a):(this.buildPage(b,!this.grid._autoHeight&&this.keepPages&&this.stack.length>=this.keepPages,a),d=this.updatePageHeight(b,!0));return d},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop)},scroll:function(b){this.grid.scrollTop=b;if(this.colCount){this.startPacify();this.findPage(b);
for(var a=this.height,d=this.getScrollBottom(b),c=this.page,e=this.pageTop;c<this.pageCount&&(0>d||e<d);c++)e+=this.needPage(c,e);this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,b);this.lastVisibleRow=this.getLastVisibleRow(c-1,e,d);a!=this.height&&this.repositionPages(c-1);this.endPacify()}},getScrollBottom:function(b){return 0<=this.windowHeight?b+this.windowHeight:-1},processNodeEvent:function(b,a){for(var d=b.target;d&&d!=a&&d.parentNode&&d.parentNode.parentNode!=a;)d=d.parentNode;
if(!d||!d.parentNode||d.parentNode.parentNode!=a)return!1;b.topRowIndex=d.parentNode.pageIndex*this.rowsPerPage;var c=b.topRowIndex,e;a:{e=0;for(var h,g=d.parentNode;h=g.childNodes[e++];)if(h==d){--e;break a}e=-1}b.rowIndex=c+e;b.rowTarget=d;return!0},processEvent:function(b){return this.processNodeEvent(b,this.contentNode)},renderRow:function(b,a){},removeRow:function(b){},getDefaultPageNode:function(b){return this.getDefaultNodes()[b]},positionPageNode:function(b,a){},getPageNodePosition:function(b){return b.offsetTop},
invalidatePageNode:function(b,a){var d=a[b];d&&(delete a[b],this.removePage(b,d),h(d),d.innerHTML="");return d},getPageRow:function(b){return b*this.rowsPerPage},getLastPageRow:function(b){return Math.min(this.rowCount,this.getPageRow(b+1))-1},getFirstVisibleRow:function(b,a,d){if(!this.pageExists(b))return 0;var c=this.getPageRow(b),p=this.getDefaultNodes();b=e(p[b],"div");for(var p=0,h=b.length;p<h&&a<d;p++,c++)a+=b[p].offsetHeight;return c?c-1:c},getLastVisibleRow:function(b,a,d){if(!this.pageExists(b))return 0;
var c=this.getDefaultNodes(),p=this.getLastPageRow(b);b=e(c[b],"div");for(c=b.length-1;0<=c&&a>d;c--,p--)a-=b[c].offsetHeight;return p+1},findTopRow:function(b){for(var a=this.getDefaultNodes(),a=e(a[this.page],"div"),d=0,c=a.length,p=this.pageTop,h;d<c;d++)if(h=a[d].offsetHeight,p+=h,p>=b)return this.offset=h-(p-b),d+this.page*this.rowsPerPage;return-1},findScrollTop:function(b){var a=Math.floor(b/this.rowsPerPage),d=0,c;for(c=0;c<a;c++)d+=this.getPageHeight(c);this.pageTop=d;this.page=a;this.needPage(a,
this.pageTop);c=this.getDefaultNodes();var p=e(c[a],"div"),a=b-this.rowsPerPage*a;c=0;for(b=p.length;c<b&&c<a;c++)d+=p[c].offsetHeight;return d},dummy:0})})},"tm1web/workbook/HyperlinkType":function(){define({Invalid:"Invalid",External:"External",Workbook:"Workbook",SheetReference:"SheetReference"})},"tm1web/grid/DomController":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/on dojo/text!./templates/MeshRow.html dojo/text!./templates/MeshColumn.html dojo/text!./templates/CellRow.html dojo/text!./templates/Cell.html dijit/Destroyable ../utility/url ./DomCache ./model/Cache".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s){var r=!!p.getQueryObject().test;return m(c,{model:null,gridPane:null,_cache:null,CellFactory:null,_mergedCellAnchorsCache:null,_domContentRange:null,constructor:function(a){n.mixin(this,a);this.own(this._cache=new q,this._cellFactory=new this.CellFactory(this.model,this.gridPane));this._mergedCellAnchorsCache=new s},_hasFrozenRows:function(){return this.gridPane.hasFrozenRows},_hasFrozenColumns:function(){return this.gridPane.hasFrozenColumns},_getFirstRowIndex:function(){var a=
this.model,b=a.getFreezePaneProperties();return this._hasFrozenRows()?a.getFirstRowIndex():b.firstUnfrozenRowIndex},_getFirstColumnIndex:function(){var a=this.model,b=a.getFreezePaneProperties();return this._hasFrozenColumns()?a.getFirstColumnIndex():b.firstUnfrozenColumnIndex},_getLastRowIndex:function(){var a=this.model,b=a.getFreezePaneProperties();return this._hasFrozenRows()?b.lastFrozenRowIndex:a.getLastRowIndex()},_getLastColumnIndex:function(){var a=this.model,b=a.getFreezePaneProperties();
return this._hasFrozenColumns()?b.lastFrozenColumnIndex:a.getLastColumnIndex()},generateCells:function(a){var b=this._generateCellRows(a),c;for(c in a)if(a.hasOwnProperty(c)){if(c>this._getLastRowIndex())break;var d=a[c],e={},f=this._cache.getCellRow(c),p=document.createDocumentFragment(),h="",k;for(k in d)if(d.hasOwnProperty(k)){var l=d[k];if(l){c=l.rowIndex;var q=l.index;if(q>this._getLastColumnIndex())break;var m=c+this.model.getRowSpan(c,q)-1,s=q+this.model.getColumnSpan(c,q)-1;if(this.model.isMergedCell(c,
q)&&!this._mergedCellAnchorsCache.get(c,q)){var r=n.clone(l);r.endRow=m;r.endColumn=s;r.keepRendered=!0;this._mergedCellAnchorsCache.add(r,c,q)}s<this._getFirstColumnIndex()||m<this._getFirstRowIndex()||((q=this._cache.getCell(l.rowIndex,l.index))?(this._setCellProperties(q,l),q.parentNode||p.appendChild(q)):(e[k]=l,h+=this._cellFactory.getTemplate(l)))}}d=Object.keys(e).length;h=g.toDom(h);l=0;for(k in e)q=1<d?h.childNodes[l++]:h,m=e[k],this._setCellProperties(q,m),this._cache.addCell(q,m.rowIndex,
m.index);p.appendChild(h);f||(b.appendChild(this._createCellRowNodes([c])),f=this._cache.getCellRow(c));f.appendChild(p)}b&&this.gridPane.containerNode.appendChild(b)},updateCell:function(a){var b=this._cache.getCell(a.rowIndex,a.index);b&&b.parentNode&&this._setCellProperties(b,a)},_setCellProperties:function(a,b,c){k.replace(a,this._getCellStyle(b));var d=b.rowIndex,e=b.index,f=this.model.getCellWidth(d,e),p=this.model.getCellHeight(d,e);a.style.left=this.model.getColumnPosition(e,!this._hasFrozenColumns())+
"px";a.style.width=f+"px";a.style.height=p+"px";this._adjustPadding(a,f,p);this.model.isMergedCell(d,e)&&(a.style.zIndex=1);r&&(a.setAttribute("row-index",d),a.setAttribute("column-index",e));this._cellFactory.setProperties(a,{cellInfo:b,objectId:this.model.objectId,sheetIndex:this.model.index,autoRecalculate:this.model.autoRecalculate,skipEventRegistration:!!c})},_adjustPadding:function(a,b,c){var d=this._getBaseCellPadding();b<d.w&&(a.style.paddingRight="0px",a.style.paddingLeft="0px");c<d.h&&(a.style.paddingTop=
"0px",a.style.paddingBottom="0px")},_getBaseCellPadding:function(){if(!this._baseCellPadding){var a=g.toDom(this._cellFactory.getTemplate());a.style.visibility="hidden";this.gridPane.containerNode.appendChild(a);this._baseCellPadding=b.getPadExtents(a);g.destroy(a)}return this._baseCellPadding},_getCellStyle:function(a){return this._cellFactory.getClassName(a)+(this.model.areGridLinesVisible()?" tm1webGridCellDefaultBorder ":" ")+this.model.getStyle(a)},_getCellContentNode:function(a){return a.lastElementChild},
_generateCellRows:function(a){a=Object.keys(a);var b=this._getCachedNodes(a,"getCellRow");a=b.fragment;b=b.uncachedIndices;b.length&&(b=this._createCellRowNodes(b),a.appendChild(b));return a},_createCellRowNodes:function(b){return this._createNodes(b,a,"width",this.gridPane.getWidth(),"height","getRowHeight","top","getRowPosition",this._hasFrozenRows(),"addCellRow")},generateMeshRows:function(a,b){var c=this._getCachedNodes(this._createRange(a,b),"getMeshRow"),d=c.fragment,c=c.uncachedIndices;c.length&&
(meshNodes=this._createNodes(c,e,"width",this.gridPane.getWidth(),"height","getRowHeight","top","getRowPosition",this._hasFrozenRows(),"addMeshRow"),d.appendChild(meshNodes));this.gridPane._meshRowContainerNode.appendChild(d)},generateMeshColumns:function(a,b){var c=this._getCachedNodes(this._createRange(a,b),"getMeshColumn"),d=c.fragment,c=c.uncachedIndices;c.length&&(c=this._createNodes(c,f,"height",this.gridPane.getHeight(),"width","getColumnWidth","left","getColumnPosition",this._hasFrozenColumns(),
"addMeshColumn"),d.appendChild(c));this.gridPane._meshColumnContainerNode.appendChild(d)},_getCachedNodes:function(a,b){for(var c=document.createDocumentFragment(),d=[],e=0;e<a.length;e++){var f=Number(a[e]),p=this._cache[b](f);p?p.parentNode||c.appendChild(p):d.push(f)}return{fragment:c,uncachedIndices:d}},_createNodes:function(a,b,c,d,e,f,p,h,k,q){var m=a.length;b=l.rep(b,m);b=g.toDom(b);for(var s=b.childNodes,n=0;n<m;n++){var r=1<m?s[n]:b,H=a[n];r.style[p]=this.model[h](H,!k)+"px";r.style[e]=this.model[f](H)+
"px";r.style[c]=d+"px";this._cache[q](r,H)}return b},removeMeshRows:function(a,b,c,d){this._removeMeshNodes(a,b,c,d,"getMeshRow")},removeMeshColumns:function(a,b,c,d){this._removeMeshNodes(a,b,c,d,"getMeshColumn")},_removeMeshNodes:function(a,b,c,d,e){for(;a<=b;a++)if(a>=c&&a<=d)a=d;else{var f=this._cache[e](a);f.parentNode&&f.parentNode.removeChild(f)}},removeCells:function(a,b){for(var c=a.length,d=b.startRow,e=b.endRow,f=0;f<c;f++){for(var p=a[f],h=p.startRow,g=p.endRow,k=p.startColumn,p=p.endColumn,
l=Object.keys(this._mergedCellAnchorsCache.getCache()),q=h;q<=g;q++)if(q>=d&&q<=e)q=e;else{var m=!1;if(0<=l.indexOf(String(q)))for(var s in this._mergedCellAnchorsCache.getRow(q)){var n=Number(s),r=this._mergedCellAnchorsCache.get(q,n);if(r.endRow>=d&&r.endColumn>=b.startColumn){m=!0;break}else r.keepRendered=!1,this._mergedCellAnchorsCache.add(r,q,n)}m||(m=this._cache.getCellRow(q))&&m.parentNode&&m.parentNode.removeChild(m)}for(q=h;q<=g;q++)for(s=k;s<=p;s++){if(0<=l.indexOf(String(q))&&(r=this._mergedCellAnchorsCache.get(q,
s)))if(r.endRow>=d&&r.endColumn>=b.startColumn){r.keepRendered=!0;this._mergedCellAnchorsCache.add(r,q,s);continue}else r.keepRendered=!1,this._mergedCellAnchorsCache.add(r,q,s);(h=this._cache.getCell(q,s))&&h.parentNode&&(h.parentNode.removeChild(h),this._cellFactory.clearCellEventHandlers(q,s))}}this._removeMergedCellsOutOfLoadedRange(b)},removeAll:function(a){var b=this.gridPane._meshColumnContainerNode,c=this.gridPane.containerNode,d=c.childNodes,e=d.length;this._emptyNode(this.gridPane._meshRowContainerNode);
this._emptyNode(b);this._mergedCellAnchorsCache.clear();for(b=0;b<e;b++)this._emptyNode(d[b]);this._emptyNode(c);a&&this._cache.clear();this._cellFactory.clearEventHandlers()},_emptyNode:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},getCell:function(a,b){return a>this._getLastRowIndex()||b>this._getLastColumnIndex()?null:this._cache.getCell(a,b)},setDomContentRange:function(a){this._domContentRange=a},_createRange:function(a,b){for(var c=[],d=a;d<=b;d++)c.push(d);return c},_removeMergedCellsOutOfLoadedRange:function(a){var b=
a.startRow;a=a.startColumn;var c=this._mergedCellAnchorsCache.getCache(),d;for(d in c)for(var e in c[d]){var f=Number(d),p=Number(e),h=this._mergedCellAnchorsCache.get(f,p);if(h.keepRendered&&(h.endRow<b||h.endColumn<a)){var g=this._cache.getCellRow(d);g.childNodes&&g.parentNode&&1===g.childNodes.length&&(g.parentNode.removeChild(g),h.keepRendered=!1,this._mergedCellAnchorsCache.add(h,f,p));(g=this._cache.getCell(d,e))&&g.parentNode&&(g.parentNode.removeChild(g),this._cellFactory.clearCellEventHandlers(d,
e),h.keepRendered=!1,this._mergedCellAnchorsCache.add(h,f,p))}}},appendMergedCells:function(a){var b=this._domContentRange.startRow,c=this._domContentRange.startColumn,d=this.model.getMergedCells(),e;for(e in d)for(var f in d[e]){var p=d[e][f],h=Number(e),g=Number(f),k=p.rowSpan+h-1,p=p.columnSpan+g-1;if(k>b&&p>c&&(h<=b||g<=c)){var l=this._mergedCellAnchorsCache.get(h,g);if(!l){l=this.model.getCache().get(e,f);if(!l)continue;l=n.clone(l);l.endRow=k;l.endColumn=p;l.keepRendered=!1}l.keepRendered||
(0<=Object.keys(a).indexOf(String(l.rowIndex))?a[l.rowIndex][l.index]=l:(k={},k[l.index]=l,a[l.rowIndex]=k),l.keepRendered=!0,this._mergedCellAnchorsCache.add(l,h,g))}}return a}})})},"tm1web/workbook/MobileScrollingController":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/Destroyable","../mobile/_ScrollHandlerMixin"],function(m,n,l,k,g){return m([k,g],{_gridPanes:null,_activeGridPane:null,constructor:function(b){this._gridPanes=b;this._attachEvents()},_attachEvents:function(){var b=
this._gridPanes,h;for(h in b)if(b.hasOwnProperty(h)){var e=b[h],f=e.domNode;this.own(l(f,"touchstart",n.hitch(this,"_onTouchStart",e)),l(f,"touchmove",n.hitch(this,"_onTouchMove")),l(f,"touchend",n.hitch(this,"_onTouchEnd")))}},_onTouchStart:function(b,h){this._activeGridPane=b;this.inherited(arguments,[h])},_onTouchEnd:function(b){this._setCoordinates(null,null)},_setCoordinates:function(b,h){this._currentX=b;this._currentY=h},_getDeltaX:function(b){return this._activeGridPane.hasFrozenColumns?0:
this.inherited(arguments)},_getDeltaY:function(b){return this._activeGridPane.hasFrozenRows?0:this.inherited(arguments)},_scroll:function(b,h){var e=this._gridPanes.bottomRight.domNode;e.scrollLeft+=b;e.scrollTop+=h}})})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(m,n,l,k){var g=m.Color=function(b){b&&this.setColor(b)};g.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,
0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};n.extend(g,{r:255,g:255,b:255,a:1,_set:function(b,h,e,f){this.r=b;this.g=h;this.b=e;this.a=f},setColor:function(b){n.isString(b)?g.fromString(b,this):n.isArray(b)?g.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof g||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,
this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var h=this.r+", "+this.g+", "+this.b;return(b?"rgba("+h+", "+this.a:"rgb("+h)+")"},toString:function(){return this.toCss(!0)}});g.blendColors=m.blendColors=function(b,h,e,f){var a=f||new g;l.forEach(["r","g","b","a"],function(d){a[d]=b[d]+(h[d]-b[d])*e;"a"!=d&&(a[d]=Math.round(a[d]))});
return a.sanitize()};g.fromRgb=m.colorFromRgb=function(b,h){var e=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return e&&g.fromArray(e[1].split(/\s*,\s*/),h)};g.fromHex=m.colorFromHex=function(b,h){var e=h||new g,f=4==b.length?4:8,a=(1<<f)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;l.forEach(["b","g","r"],function(d){var c=b&a;b>>=f;e[d]=4==f?17*c:c});e.a=1;return e};g.fromArray=m.colorFromArray=function(b,h){var e=h||new g;e._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));
isNaN(e.a)&&(e.a=1);return e.sanitize()};g.fromString=m.colorFromString=function(b,h){var e=g.named[b];return e&&g.fromArray(e,h)||g.fromRgb(b,h)||g.fromHex(b,h)};return g})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(m,n,l,k,g,b,h,e,f,a,d){l.isAsync||a(0,function(){d(["./fx/Toggler"])});l=l.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var c=
function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;k.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};c.prototype=new n;m.extend(c,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=g.after(this._current,"onAnimate",m.hitch(this,"_onAnimate"),!0),this._onEndCtx=g.after(this._current,"onEnd",m.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=g.after(this._current,"beforeBegin",m.hitch(this,function(){this._fire("beforeBegin")}),!0),d=g.after(this._current,"onBegin",m.hitch(this,function(a){this._fire("onBegin",arguments)}),
!0),e=g.after(this._current,"onPlay",m.hitch(this,function(a){this._fire("onPlay",arguments);c.remove();d.remove();e.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=g.after(this._current,"onAnimate",m.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=g.after(this._current,"onEnd",m.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=g.after(this._current,"onPause",
m.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;k.some(this._animations,function(a,b){if(c<=a.duration)return this._current=a,this._index=b,!0;c-=a.duration;return!1},this);this._current&&this._current.gotoPercent(c/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var b=g.after(this._current,"onStop",m.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});m.extend(c,a);l.chain=function(a){return new c(a)};var p=function(a){this._animations=a||[];this._connects=[];this.duration=
this._finished=0;k.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(g.after(a,"onEnd",m.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new b.Animation({curve:[0,1],duration:this.duration});var c=this;k.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){c._connects.push(g.after(c._pseudoAnimation,a,function(){c._fire(a,arguments)},!0))})};m.extend(p,{_doAction:function(a,b){k.forEach(this._animations,
function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;k.forEach(this._animations,function(a){a.gotoPercent(a.duration<
c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();k.forEach(this._connects,function(a){a.remove()})}});m.extend(p,a);l.combine=function(a){return new p(a)};l.wipeIn=function(a){var c=a.node=h.byId(a.node),d=c.style,f;a=b.animateProperty(m.mixin({properties:{height:{start:function(){f=d.overflow;d.overflow=
"hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var a=e.get(c,"height");return Math.max(a,1)},end:function(){return c.scrollHeight}}}},a));var p=function(){d.height="auto";d.overflow=f};g.after(a,"onStop",p,!0);g.after(a,"onEnd",p,!0);return a};l.wipeOut=function(a){var c=(a.node=h.byId(a.node)).style,d;a=b.animateProperty(m.mixin({properties:{height:{end:1}}},a));g.after(a,"beforeBegin",function(){d=c.overflow;c.overflow="hidden";c.display=
""},!0);var e=function(){c.overflow=d;c.height="auto";c.display="none"};g.after(a,"onStop",e,!0);g.after(a,"onEnd",e,!0);return a};l.slideTo=function(a){var c=null,d=null,p=function(a){return function(){var b=e.getComputedStyle(a),p=b.position;c="absolute"==p?a.offsetTop:parseInt(b.top)||0;d="absolute"==p?a.offsetLeft:parseInt(b.left)||0;"absolute"!=p&&"relative"!=p&&(b=f.position(a,!0),c=b.y,d=b.x,a.style.position="absolute",a.style.top=c+"px",a.style.left=d+"px")}}(a.node=h.byId(a.node));p();a=
b.animateProperty(m.mixin({properties:{top:a.top||0,left:a.left||0}},a));g.after(a,"beforeBegin",p,!0);return a};return l})},"tm1web/subseteditor/SubsetEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/array dojo/promise/all dojo/Deferred dojo/sniff dojo/dom-construct dojo/dom-geometry dojo/dom-class dojo/dom dojo/on dojo/aspect dojo/keys dijit/registry dijit/focus dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dojo/text!./templates/SubsetEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojox/html/entities dojox/layout/ResizeHandle dojox/layout/ToggleSplitter ../utility/message-localizer ../utility/dom ../widgets/_MaximizeableDialogMixin ./TopToolbar ./BottomToolbar ./Model ./TreePane ./SubsetTree ./DimensionTree ./TreePaneHeader ../widgets/WarningOptionsDialog".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A,z,B,E,F,I,M,O,H,J,P,D,C,G,S){return m("tm1web.subseteditor.SubsetEditor",[t,y,A,M],{model:null,baseClass:"tm1webSubsetEditor",templateString:v,_lastSelected:"",_topToolbar:null,_topToolbarNode:null,_bottomToolbar:null,_bottomToolbarNode:null,_treeContainer:null,_submitButton:null,_cancelButton:null,_submitButtonLabel:F.get("OK_STR"),_cancelButtonLabel:F.get("CANCEL_STR"),_elasticScroll:!1,constructor:function(a){a.model||(this.model=new J({objectId:a.objectId,
dimension:a.dimension,rowIndex:a.rowIndex,columnIndex:a.columnIndex,element:a.element,readOnly:a.readOnly,lazyLoadDimensionSubset:!1}));this._loadDeferred=new b},buildRendering:function(){this.inherited(arguments);this._treeContainer.set("_splitterClass",E)},postCreate:function(){this.inherited(arguments);this._resizeHandle=(new B({targetId:this.id,activeResize:!0,minWidth:400,minHeight:185})).placeAt(this.domNode);var a=this,c=this.model,d=this._treeContainer,e=this._loadDeferred;c.getDimensionStoreModel().then(function(f){c.getSubsetStoreModel().then(function(p){var h=
new b,k=new b;g([h,k]).then(function(){e.resolve()});var l=a._dimensionTree=new P({region:"left",splitter:!0,style:{width:"49%"},Tree:C,model:f,onLoad:function(){h.resolve()}}),q=new G({model:c,getLabel:function(a){return F.get("AVAILABLE_ELEMENTS_HEADER",c.dimension)}});l.addChild(q);var q=a._subsetTree=new P({region:"center",model:p,dimensionTree:l.get("tree"),onLoad:function(){k.resolve()}}),m=new G({model:c,subsetModel:p,getLabel:function(a){a=a.selectedSubset;var b=a.name;b?a.isPublic||(b=F.get("SUBSET_PRIVATE_STR",
b)):b=F.get("UNNAMED_PARENS");return F.get("SUBSET_HEADER",c.dimension,b)+(this.get("subsetModified")?" *":"")},onMetaDataChange:function(b){this.inherited("onMetaDataChange",arguments);a.set("title",a._getTitleText(b))}});q.addChild(m);q.on("select",function(b){a._lastSelected=b.get("label");a._lastSelectedIndex=p.getElementIndex(b.get("item"))});a._addContents();d.addChild(l);d.addChild(q);a._attachEventListeners()})})},_getTitleText:function(a){var b=a.selectedSubset;a=(a=b.name)?b.isPublic?F.get("SUBSET_PUBLIC_STR",
a):F.get("SUBSET_PRIVATE_STR",a):F.get("UNNAMED_PARENS");b=z.encode(F.get("SUBSET_EDITOR_TITLE"));a=z.encode(F.get("SUBSET_EDITOR_SUBTITLE",this.model.getServerName(),this.model.dimension,a));return b+"\x3cspan class\x3d'tm1webSubsetEditorTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webSubsetEditorSubtitle'\x3e"+a+"\x3c/span\x3e"},_addContents:function(){this._topToolbar=new O({model:this.model,subsetTree:this._subsetTree,dimensionTree:this._dimensionTree},this._topToolbarNode);this._bottomToolbar=
new H({model:this.model,subsetTree:this._subsetTree,dimensionTree:this._dimensionTree},this._bottomToolbarNode)},_attachEventListeners:function(){this.own(c(document.documentElement,"keydown",n.hitch(this,"_onKeyDown")));var a=this;this.own(p.around(this._bottomToolbar,"_toggleFind",function(b){return function(){var c=a._bottomToolbar.findBar.domNode,d=c.offsetHeight,e=a._treeContainer,f=e.domNode,f={w:f.offsetWidth,h:f.offsetHeight};b.apply(this,arguments);f.h+=d-c.offsetHeight;e.resize(f)}}));this.own(p.after(this._dimensionTree,
"onFocus",n.hitch(this,"_setDimensionTreeActive")));this.own(p.after(this._subsetTree,"onFocus",n.hitch(this,"_setSubsetTreeActive")))},_onKeyDown:function(a){function b(a,e){return e&&d.isDescendant(a,c._dimensionTree.domNode)||d.isDescendant(a,c._subsetTree.domNode)?!0:!1}var c=this;h("mac")&&a.metaKey||!h("mac")&&a.ctrlKey?"F"===String.fromCharCode(a.keyCode)?(this._bottomToolbar.toggleFind(),l.stop(a)):"C"===String.fromCharCode(a.keyCode)&&b(a.target,!0)?(this._topToolbar.copy(),l.stop(a)):"V"===
String.fromCharCode(a.keyCode)&&b(a.target)&&(this._topToolbar.paste(),l.stop(a)):a.keyCode===q.DELETE&&b(a.target,!0)&&(this._topToolbar._deleteSelectedElements(),l.stop(a))},_setDimensionTreeActive:function(){a.remove(this._dimensionTree.domNode,"tm1webTreePaneInactive");a.add(this._subsetTree.domNode,"tm1webTreePaneInactive");this._subsetTree.get("tree").clearFound()},_setSubsetTreeActive:function(){a.remove(this._subsetTree.domNode,"tm1webTreePaneInactive");a.add(this._dimensionTree.domNode,"tm1webTreePaneInactive");
this._dimensionTree.get("tree").clearFound()},show:function(){var a=this.getInherited(arguments),c=arguments,d=this,e=new b;this._loadDeferred.then(function(){a.apply(d,c).then(function(){r.focus(d._subsetTree.domNode);e.resolve()})});return e},_layoutChildren:function(){this.inherited(arguments);if(!this._isElasticScroll()){var a=this._treeContainer,b=this.containerNode,c=I.getContentBox(b);k.forEach(b.children,function(b){b!==a.domNode&&(c.h-=f.getMarginBox(b).h)});a.resize(c)}},_isElasticScroll:function(){if(h("mobile-device")){if(0!=
f.docScroll().y)return this._elasticScroll=!0;if(1==this._elasticScroll)return this._elasticScroll=!1,!0}return!1},execute:function(){if(this.readOnly){var a=new b;a.resolve();return a.promise}return this.model.submit()},_onSubmit:function(){var a=this,b=function(){a.execute().then(function(){a.onExecute();a.onSubmit(a._lastSelected,a._lastSelectedIndex,a._lastSelectedSubset,a._lastSelectedAlias)})};this.model.getMetaData().then(function(c){a._subsetTree.get("model").getMetaData(function(d){a._lastSelectedSubset=
c.selectedSubset.name;a._lastSelectedAlias=c.selectedAlias;c.selectedSubset.dynamic&&d.modified?S.show({message:F.get("DYNAMIC_SUBSET_MODIFIED")+"\n"+F.get("USE_STATIC_SUBSET"),okButtonLabel:F.get("SUBSET_WARNING_OK_STR"),cancelButtonLabel:F.get("CANCEL_STR"),title:F.get("SUBSET_WARNING_TITLE_STR"),onExecute:function(){b()}}):b()})})},onSubmit:function(){},destroy:function(){this.inherited(arguments);this.model.destroy();this._resizeHandle.destroyRecursive()}})})},"tm1web/on/mousewheel":function(){define(["dojo/sniff",
"dojo/on"],function(m,n){var l=function(){return m("mozilla")?"DOMMouseScroll":"mousewheel"};return{call:function(k,g,b){return n(g,l(),b)},toString:l}})},"tm1web/utility/clipboard":function(){define(["dojo/sniff","dojo/Deferred","dojo/on","../widgets/InfoAlert","./message-localizer"],function(m,n,l,k,g){var b=!1,h=null;return{get:function(e){if(window.clipboardData&&!b){var f=window.clipboardData.getData("Text");if(null!=f&&window.clipboardData.setData("Text",f))return f;if(null===f)return null}if(m("chrome")||
m("ff")){var a=new n,f=new CustomEvent("tm1webPaste",{bubbles:!1,cancelable:!0});if(!document.documentElement.dispatchEvent(f)){var d=l(document.documentElement,"tm1webPasteResponse"+f.timeStamp,function(b){d.remove();a.resolve(b.detail.value)});return a.promise}}e&&!b&&(e=g.get("PASTE_CLIPBOARD_OFF_STR")+"\n"+g.get("LOCAL_DATA_USED_STR"),k.show({message:e,title:g.get("PASTE_CLIPBOARD_OFF_TITLE_STR")}),b=!0);return h},set:function(e){if(!window.clipboardData||!window.clipboardData.setData("Text",
e)){if(m("chrome")||m("ff")){var f=new CustomEvent("tm1webCopy",{bubbles:!1,cancelable:!0,detail:{value:e}});if(!document.documentElement.dispatchEvent(f))return!0}b||(f=g.get("COPY_CLIPBOARD_OFF_STR")+"\n"+g.get("LOCAL_DATA_USED_STR"),k.show({message:f,title:g.get("COPY_CLIPBOARD_OFF_TITLE_STR")}),b=!0);h=e;return!0}}}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(m,n,l,k,g){var b=Object.freeze||function(){},
h=function(a,b,f,h,g){2===b&&d.instrumentRejected&&0===a.length&&d.instrumentRejected(f,!1,h,g);for(g=0;g<a.length;g++)e(a[g],b,f,h)},e=function(b,e,h,g){var k=b[e],l=b.deferred;if(k)try{var m=k(h);if(0===e)"undefined"!==typeof m&&a(l,e,m);else{if(m&&"function"===typeof m.then){b.cancel=m.cancel;m.then(f(l,1),f(l,2),f(l,0));return}a(l,1,m)}}catch(n){a(l,2,n)}else a(l,e,h);2===e&&d.instrumentRejected&&d.instrumentRejected(h,!!k,g,l.promise)},f=function(b,d){return function(e){a(b,d,e)}},a=function(a,
b,d){if(!a.isCanceled())switch(b){case 0:a.progress(d);break;case 1:a.resolve(d);break;case 2:a.reject(d)}},d=function(a){var f=this.promise=new k,g=this,m,n,t,u=!1,x=[];Error.captureStackTrace&&(Error.captureStackTrace(g,d),Error.captureStackTrace(f,d));this.isResolved=f.isResolved=function(){return 1===m};this.isRejected=f.isRejected=function(){return 2===m};this.isFulfilled=f.isFulfilled=function(){return!!m};this.isCanceled=f.isCanceled=function(){return u};this.progress=function(a,b){if(m){if(!0===
b)throw Error("This deferred has already been fulfilled.");return f}h(x,0,a,null,g);return f};this.resolve=function(a,b){if(m){if(!0===b)throw Error("This deferred has already been fulfilled.");return f}h(x,m=1,n=a,null,g);x=null;return f};var w=this.reject=function(a,b){if(m){if(!0===b)throw Error("This deferred has already been fulfilled.");return f}Error.captureStackTrace&&Error.captureStackTrace(t={},w);h(x,m=2,n=a,t,g);x=null;return f};this.then=f.then=function(a,b,c){var h=[c,a,b];h.cancel=
f.cancel;h.deferred=new d(function(a){return h.cancel&&h.cancel(a)});m&&!x?e(h,m,n,t):x.push(h);return h.deferred.promise};this.cancel=f.cancel=function(b,d){if(!m){if(a){var e=a(b);b="undefined"===typeof e?b:e}u=!0;if(!m)return"undefined"===typeof b&&(b=new l),w(b),b;if(2===m&&n===b)return b}else if(!0===d)throw Error("This deferred has already been fulfilled.");};b(f)};d.prototype.toString=function(){return"[object Deferred]"};g&&g(d);return d})},"tm1web/workbook/model/utility/control-adjuster":function(){define(["../../controls/AnchorType"],
function(m){return{adjust:function(n,l,k,g){if(!(l>n.toAnchor.row||n.anchorType===m.NoMoveNoResize)){var b=n.toAnchor,h=b.offsetTop,e=b.originalOffsetTop,f=n.fromAnchor,a=f.offsetTop,d=f.originalOffsetTop,c=g-k;if(!(n.anchorType!==m.MoveResize||l<f.row||l>b.row)){var p=c;l===b.row?p=0>c?Math.min(0,g-h):Math.min(c,e-h):l===f.row&&(p=0>c?Math.max(c,a-k):Math.max(0,c-(d-a)));n.style.height+=p}b=n.toAnchor;h=b.offsetTop;e=b.originalOffsetTop;f=n.fromAnchor;a=f.offsetTop;d=f.originalOffsetTop;k=g-k;var c=
n.style.top,p=h,q=a;l<f.row?c+=k:l==b.row?p=g<h?g:Math.min(e,g):l===f.row&&(q=g<a?g:Math.min(d,g),c+=q-a);n.style.top=c;f.offsetTop=q;b.offsetTop=p}}}})},"tm1web/share/AddAnnotationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/dom-class dojo/dom-construct dijit/Dialog dijit/form/Button dijit/form/SimpleTextarea ../utility/message-localizer ../widgets/AlertDialog ./Base ./service-loader!TM1PlanningService".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p){return m(c,
{constructor:function(a,b,c,d){this._objectId=a;this._cell=b;this._dataGrid=c;this._service=d;this._textArea=this._dialog=null;this._initializeAddAnnoationDialog()},_initializeAddAnnoationDialog:function(){this._dialog=new h({title:a.get("ADD_COMMENT_TITLE_STR")});g.add(this._dialog.domNode,"tm1webAddAnnotationDialog tm1webFormDialog");this._addContent();this._addEvents()},_addContent:function(){this._textArea=new f({intermediateChanges:!0});b.place(this._textArea.domNode,this._dialog.domNode);g.add(this._textArea.domNode,
"tm1webAddAnnotationDialogTextArea");this._addButtons();k.after(this._textArea,"onChange",n.hitch(this,function(){this._okButton.set("disabled",0==this._textArea.displayedValue.trim().length)}),!0)},_addButtons:function(){var c=document.createElement("div");b.place(c,this._dialog.domNode);g.add(c,"tm1webDialogButtons");this._okButton=this._createButton(a.get("OK_STR"),c,this._onOk,"tm1WebBtnPrimary");this._okButton.set("disabled",!0);g.add(this._okButton,"tm1WebBtnPrimary");this._cancelButton=this._createButton(a.get("CANCEL_STR"),
c,this.close,"tm1webBtnSecondary");g.add(this._cancelButton,"tm1webBtnSecondary")},_createButton:function(a,c,d,f){a=new e({label:a,onClick:n.hitch(this,d)});g.add(a.domNode,"tm1webButton "+f);b.place(a.domNode,c);return a},_addEvents:function(){this.own(k.after(this._dialog,"onHide",n.hitch(this,"destroy")))},_onOk:function(){var b=this._textArea.displayedValue.trim(),c=this._cell.cellInfo;window.appId?p.addCellAnnotation(appId,nodeId,nodeViewIndex,this._objectId,c.rowIndex,c.colIndex,b,{callback:this._onAddAnnotation,
scope:this}):this._dataGrid.model?this._dataGrid.model.addCellAnnotation(c.rowIndex,c.colIndex,b).otherwise(function(b){d.show({message:a.get("SRV_ERR_STR")})}):this._service.addCellAnnotation(this._objectId,c.rowIndex,c.colIndex,b,{callback:this._onAddAnnotation,scope:this});this.close()},_onAddAnnotation:function(a){a?this._dataGrid.model?this._dataGrid.model.recalculate():this._service.recalculate(this._objectId,{callback:this._onRecalculate,scope:this}):delete this._objectId;delete this._service},
_onRecalculate:function(a){l.publish(this._objectId+"-UnsavedDataStateChanged",!1);l.publish(this._objectId+"-SetSheetsNeedRefresh",!0);l.publish(this._objectId+"-UpdateGrid",a);delete this._objectId},show:function(){this._dialog.show()},close:function(){this._dialog.hide()},destroy:function(){this.inherited(arguments);this._dialog.destroyRecursive();delete this._cell;delete this._dialog;delete this._textArea}})})},"tm1web/workbook/celledit/PickListStore":function(){define(["dojo/_base/declare","../../utility/number",
"../CellType","./_CellListStore"],function(m,n,l,k){return m(k,{_method:"getPickList",_cellInfoProperty:"pickListItems",_getDisplayValue:function(g){var b=this.inherited(arguments);if(this.cellInfo.type==l.Number)try{return n.format(b)}catch(h){}return b}})})},"tm1web/subseteditor/SubsetStoreModel":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/aspect dijit/tree/ForestStoreModel ./ElementType".split(" "),function(m,n,l,k,g,b){return m(g,{query:"root",childrenAttrs:["children"],
deferItemLoadingUntilExpand:!0,constructor:function(){this.root.id||(this.root.id=this.rootId);this.root.label||(this.root.label=this.rootLabel);this.connects.push(k.after(this.store,"onFetch",l.hitch(this,"onFetch"),!0));this.connects.push(k.after(this.store,"onMetaDataChange",l.hitch(this,"onMetaDataChange"),!0));this.connects.push(k.after(this.store,"onFind",l.hitch(this,"onFind"),!0))},areEqual:function(b,e){return this.getIdentity(b)===this.getIdentity(e)&&b.name===e.name},mayHaveChildren:function(h){return h.root||
h.type===b.Consolidated},removeChildren:function(b,e,f){this.store.isItemLoaded(b)?this.store.unloadItem({item:b,onItem:e,onError:f}):e(b.children)},setCurrentPage:function(b,e,f){this.store.setCurrentPage({page:b,onComplete:e,onError:f})},isItemLoaded:function(b){return this.store.isItemLoaded(b)},isSelected:function(b){return this.store.isSelected(b)},getSelected:function(){return this.store.getSelected()},setSelected:function(b,e){b&&this.store.setSelected(b,e)},newItem:function(b,e,f){this.newItems([b],
e,f)},newItems:function(b,e,f){var a=e;this.getIdentity(e)==this.getIdentity(this.root)&&(a={id:-1});this.store.newItems(b,{parent:a,insertIndex:null!=f?f:-1})},pasteItem:function(b,e,f,a,d){this.pasteItems([b],e,f,a,d)},pasteItems:function(b,e,f,a,d){e=f;this.getIdentity(f)==this.getIdentity(this.root)&&(e={id:-1});this.store.pasteItems({items:b,copy:a},{parent:e,insertIndex:null!=d?d:-1})},getMetaData:function(b){this.store.getMetaData({onComplete:b})},getAttributeNames:function(b,e){this.store.getAttributeNames({onComplete:b,
onError:e})},getAttributeValues:function(b,e,f){this.store.getAttributeValues({attribute:b,onComplete:e,onError:f})},_find:function(b,e,f){this.store.find({pattern:b,startIndex:e,direction:f})},find:function(b,e){this._find(b,e,"current")},findNext:function(b,e){this._find(b,e,"next")},findPrevious:function(b,e){this._find(b,e,"prev")},sort:function(b){this.store.sort(b)},expandSelectedConsolidations:function(b){this.store.expandSelectedConsolidations(b)},expandAll:function(){this.store.expandAll()},
collapseSelectedConsolidations:function(){this.store.collapseSelectedConsolidations()},collapseAll:function(){this.store.collapseAll()},onFetch:function(b){this.root.children=b},onMetaDataChange:function(b){},onFind:function(b,e,f,a){},hasSelectedItems:function(){return this.store.hasSelectedItems()},reloadSubset:function(){this.store.reloadSubset()},subsetAll:function(){this.store.subsetAll()},cut:function(){this.store.cut()},copy:function(){this.store.copy()},paste:function(b){this.store.paste(b)},
pasteAbove:function(b){this.store.pasteAbove(b)},pasteBelow:function(b){this.store.pasteBelow(b)},filterByLevel:function(b,e,f){this.store.filterByLevel({levels:b,onComplete:e,onError:f})},filterByAttribute:function(b,e,f,a){this.store.filterByAttribute({attributeName:b,attributeValue:e,onComplete:f,onError:a})},filterByExpression:function(b,e,f){this.store.filterByExpression({expression:b,onComplete:e,onError:f})},keepSelectedElements:function(){this.store.keepSelectedElements()},deleteSelectedElements:function(){this.store.deleteSelectedElements()},
insertParentsOfSelectedElements:function(){this.store.insertParentsOfSelectedElements()},createConsolidationFromSubset:function(b,e,f){this.store.createConsolidationFromSubset({namedSubsetId:b,onComplete:e,onError:f})},createConsolidationFromSelectedElements:function(b,e){this.store.createConsolidationFromSelectedElements({onComplete:b,onError:e})},getElementIndex:function(b){return this.store.getElementIndex(b)}})})},"dojo/data/util/sorter":function(){define(["../../_base/kernel","../../_base/lang"],
function(m,n){var l={};n.setObject("data.util.sorter",l,m);l.basicComparator=function(k,g){var b=-1;null===k&&(k=void 0);null===g&&(g=void 0);if(k==g)b=0;else if(k>g||null==k)b=1;return b};l.createSortFunction=function(k,g){function b(a,b,c,d){return function(e,f){var p=d.getValue(e,a),h=d.getValue(f,a);return b*c(p,h)}}for(var h=[],e,f=g.comparatorMap,a=l.basicComparator,d=0;d<k.length;d++){e=k[d];var c=e.attribute;if(c){e=e.descending?-1:1;var p=a;f&&("string"!==typeof c&&"toString"in c&&(c=c.toString()),
p=f[c]||a);h.push(b(c,e,p,g))}}return function(a,b){for(var c=0;c<h.length;){var d=h[c++](a,b);if(0!==d)return d}return 0}};return l})},"tm1web/workbook/controls/TextBox":function(){define("dojo/_base/declare dojo/text!./templates/TextBox.html dojo/on dijit/_TemplatedMixin ./_Control ./_ScrollableMixin ../../utility/message-localizer ../../widgets/AlertDialog".split(" "),function(m,n,l,k,g,b,h,e){return m("tm1web.workbook.controls.TextBox",[g,k,b],{templateString:n,text:"",_setTextAttr:function(b){this.domNode.value=
b||""},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"keydown, keyup, keypress",function(b){b.stopPropagation()}))},update:function(b){this.inherited(arguments);this.set("text",b.text)},_onChange:function(b){b=this.domNode.value;b!==this._value&&(this._set("value",b),this.model.setTextBoxText(this.controlId,b).otherwise(function(a){e.show({message:h.get("SRV_ERR_STR")})}))}})})},"tm1web/utility/event":function(){define(["dojo/sniff"],function(m){return{isCopyKeyDown:function(n){return n.altKey||
n.shiftKey?!1:m("mac")?n.metaKey&&!n.ctrlKey:n.ctrlKey&&!n.metaKey},isModifierKeyDown:function(m,l){return m.ctrlKey||m.metaKey||m.altKey||m.shiftKey&&!l}}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(m,n){if(7>=m("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var k={};m("ie")?k.byId=function(b,h){if("string"!=typeof b)return b;var e=h||n.doc,f=b&&e.getElementById(b);if(!f||f.attributes.id.value!=b&&f.id!=b){e=e.all[b];if(!e||e.nodeName)e=[e];for(var a=
0;f=e[a++];)if(f.attributes&&f.attributes.id&&f.attributes.id.value==b||f.id==b)return f}else return f}:k.byId=function(b,h){return("string"==typeof b?(h||n.doc).getElementById(b):b)||null};k.isDescendant=function(b,h){try{for(b=k.byId(b),h=k.byId(h);b;){if(b==h)return!0;b=b.parentNode}}catch(e){}return!1};m.add("css-user-select",function(b,h,e){if(!e)return!1;b=e.style;h=["Khtml","O","Moz","Webkit"];e=h.length;var f="userSelect";do if("undefined"!==typeof b[f])return f;while(e--&&(f=h[e]+"UserSelect"));
return!1});var g=m("css-user-select");k.setSelectable=g?function(b,h){k.byId(b).style[g]=h?"":"none"}:function(b,h){b=k.byId(b);var e=b.getElementsByTagName("*"),f=e.length;if(h)for(b.removeAttribute("unselectable");f--;)e[f].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");f--;)e[f].setAttribute("unselectable","on")};return k})},"dojo/window":function(){define("./_base/kernel ./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),
function(m,n,l,k,g,b,h,e){l.add("rtl-adjust-position-for-verticalScrollBar",function(a,d){var c=k.body(d),f=e.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),h=e.create("div",{style:{overflow:"hidden",direction:"ltr"}},f,"last"),g=0!=b.position(h).x;f.removeChild(h);c.removeChild(f);return g});l.add("position-fixed-support",function(a,d){var c=k.body(d),f=e.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},c,"last"),h=e.create("span",{style:{position:"fixed",left:"0",top:"0"}},f,"last"),g=b.position(h).x!=b.position(f).x;f.removeChild(h);c.removeChild(f);return g});var f={getBox:function(a){a=a||k.doc;var d="BackCompat"==a.compatMode?k.body(a):a.documentElement,c=b.docScroll(a);if(l("touch")){var e=f.get(a);a=e.innerWidth||d.clientWidth;d=e.innerHeight||d.clientHeight}else a=d.clientWidth,d=d.clientHeight;return{l:c.x,t:c.y,w:a,h:d}},get:function(a){if(l("ie")&&
f!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(a,d){try{a=g.byId(a);var c=a.ownerDocument||k.doc,e=k.body(c),f=c.documentElement||e.parentNode,m=l("ie"),n=l("webkit");if(a!=e&&a!=f)if(!(l("mozilla")||m||n||l("opera")||l("trident"))&&"scrollIntoView"in a)a.scrollIntoView(!1);else{var t="BackCompat"==c.compatMode,u=Math.min(e.clientWidth||
f.clientWidth,f.clientWidth||e.clientWidth),x=Math.min(e.clientHeight||f.clientHeight,f.clientHeight||e.clientHeight),c=n||t?e:f,w=d||b.position(a),v=a.parentNode,n=function(a){return 6>=m||7==m&&t?!1:l("position-fixed-support")&&"fixed"==h.get(a,"position").toLowerCase()},y=this,A=function(a,b,c){"BODY"==a.tagName||"HTML"==a.tagName?y.get(a.ownerDocument).scrollBy(b,c):(b&&(a.scrollLeft+=b),c&&(a.scrollTop+=c))};if(!n(a))for(;v;){v==e&&(v=c);var z=b.position(v),B=n(v),E="rtl"==h.getComputedStyle(v).direction.toLowerCase();
if(v==c){z.w=u;z.h=x;c==f&&(m||l("trident"))&&E&&(z.x+=c.offsetWidth-z.w);if(0>z.x||!m||9<=m||l("trident"))z.x=0;if(0>z.y||!m||9<=m||l("trident"))z.y=0}else{var F=b.getPadBorderExtents(v);z.w-=F.w;z.h-=F.h;z.x+=F.l;z.y+=F.t;var I=v.clientWidth,M=z.w-I;0<I&&0<M&&(E&&l("rtl-adjust-position-for-verticalScrollBar")&&(z.x+=M),z.w=I);I=v.clientHeight;M=z.h-I;0<I&&0<M&&(z.h=I)}B&&(0>z.y&&(z.h+=z.y,z.y=0),0>z.x&&(z.w+=z.x,z.x=0),z.y+z.h>x&&(z.h=x-z.y),z.x+z.w>u&&(z.w=u-z.x));var O=w.x-z.x,H=w.y-z.y,J=O+w.w-
z.w,P=H+w.h-z.h,D,C;0<J*O&&(v.scrollLeft||v==c||v.scrollWidth>v.offsetHeight)&&(D=Math[0>O?"max":"min"](O,J),E&&(8==m&&!t||9<=m||l("trident"))&&(D=-D),C=v.scrollLeft,A(v,D,0),D=v.scrollLeft-C,w.x-=D);0<P*H&&(v.scrollTop||v==c||v.scrollHeight>v.offsetHeight)&&(D=Math.ceil(Math[0>H?"max":"min"](H,P)),C=v.scrollTop,A(v,0,D),D=v.scrollTop-C,w.y-=D);v=v!=c&&!B&&v.parentNode}}}catch(G){console.error("scrollIntoView: "+G),a.scrollIntoView(!1)}}};return m.window=f})},"tm1web/subseteditor/_Tree":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojo/aspect dojo/window dijit/Tree ../share/_LoadingOverlayMixin ./TreeUpdateSynchronizer ./TreeNode ./ExpandAboveTreeNode ./ElementType ./dndSource".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){function s(a){return n.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}return m("tm1web.subseteditor._Tree",[e,f],{dndController:q,showRoot:!1,autoExpand:!0,_collapseDeferred:null,_updateSynchronizer:null,expandAbove:!1,constructor:function(){this._updateSynchronizer=new a(this)},postCreate:function(){this.dndParams=this.dndParams.concat(["model"]);this.inherited(arguments);this.own(b.after(this.model,"onFetch",
n.hitch(this,"_onFetch"),!0),b.after(this.model,"onFind",n.hitch(this,"_onFind"),!0),b.after(this.model,"onMetaDataChange",n.hitch(this,"_onMetaDataChange"),!0),b.after(this.dndController,"userSelect",n.hitch(this,function(a){this.onSelect(a)}),!0))},getIconClass:function(a,b){switch(a.type){case p.Consolidated:return"tm1webSubsetEditorIconConsolidation";case p.Simple:return"tm1webSubsetEditorIconNumericLeaf";case p.String:return"tm1webSubsetEditorIconStringLeaf"}},getLabelClass:function(a,b){return a.type==
p.Consolidated?"tm1webSubsetEditorTreeLabelBold":this.inherited(arguments)},_keyboardSearch:function(){},_onFind:function(a,b,c,d){this.clearFound();null!=a&&(a=a in this._itemNodesMap?this._itemNodesMap[a][0]:null)&&(a.setFound(b,c),this._foundNode=a,!1===d&&h.scrollIntoView(a.rowNode))},clearFound:function(){this._foundNode&&(this._foundNode._destroyed||this._foundNode.clearFound(),delete this._foundNode)},onSelect:function(a){},_setExpandAboveAttr:function(a){a!=this.expandAbove&&(this.expandAbove=
!!a,this._setRootChildren())},_onKeyPress:function(a){a.target!==this.domNode&&this.inherited(arguments)},_setRootChildren:function(a){var b=this.rootNode,c=this,d=this.model,e=this.domNode.parentNode.scrollTop,f=this.lastFocused?this.lastFocused.item:null;this.set("loading",!0);this._destroyDescendants(b);b._expandNodeDeferred&&delete b._expandNodeDeferred;var p=function(a){var p=new k;b.setChildItems(a).then(function(){c._expandNode(b).then(function(){c.domNode.parentNode.scrollTop=e;c.set("selectedItems",
d.getSelected());p.resolve();c.set("loading",!1);if(null!==f){var a;a=d.getIdentity(f);a in c._itemNodesMap&&(a=c._itemNodesMap[a][0],d.areEqual(f,a.item)&&c.focusNode(a))}c.defer("onChange")})});return s(p)};if(a)return p(a);var h=new k;this.model.getChildren(this.model.root,function(a){p(a).then(function(){h.resolve()})});return s(h)},_collapseNode:function(a){if(a._collapseNodeDeferred)return a._collapseNodeDeferred;this.set("loading",!0);var b=this.model,c=a.item,d=this,e=a._collapseNodeDeferred=
new k;g(a._expandNodeDeferred,function(){a._expandNodeDeferred&&delete a._expandNodeDeferred;a.markProcessing();b.removeChildren(c,function(){a.unmarkProcessing();var b=a.collapse();b.then(function(){d._destroyDescendants(a);a.state="NotLoaded";c.children=null;a.makeExpandable();d.set("loading",!1);e.resolve()});d._startPaint(b)},function(a){d.set("loading",!1);console.error(d,": error moving children: ",a)})});return s(e)},_destroyDescendants:function(a){l.forEach(a.getChildren(),function(a){this.dndController.removeTreeNode(a);
var b=a.getParent();b&&b.removeChild(a);this._removeMappedNode(a);this._destroyDescendants(a);a.destroy()},this)},_removeMappedNode:function(a){var b=this.model.getIdentity(a.item);if(b in this._itemNodesMap){var c=l.filter(this._itemNodesMap[b],function(b){return a!==b});0<c.length?this._itemNodesMap[b]=c:delete this._itemNodesMap[b]}},_load:function(){var a=this.getInherited(arguments),b=arguments;this.pendingCommandsPromise.then(n.hitch(this,function(){this.set("selectedItems",this.model.getSelected())}));
setTimeout(n.hitch(this,function(){a.apply(this,b)}),0)},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,c=a.item,d=this;a._loadDeferred||(this.set("loading",!0),g(a._collapseNodeDeferred,function(){a._collapseNodeDeferred&&delete a._collapseNodeDeferred;a.markProcessing();a._loadDeferred=new k;b.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b);d.set("loading",!1)});c.children=b},function(b){d.set("loading",
!1);console.error(_this,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)})}));var e=a._loadDeferred.then(n.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(e);return e},_createTreeNode:function(a){return this.expandAbove?new c(a):new d(a)},_onFetch:function(a){return this._setRootChildren(a)},_onMetaDataChange:function(a){a.expandAbove!=this.expandAbove&&(this.expandAbove=a.expandAbove)},onChange:function(){},destroy:function(){this.inherited(arguments);
this._updateSynchronizer.destroy()}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(m,n){n.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var l=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],k=l.length,g=function(a,b,c){c||(c=a[0]&&m.scopeMap[a[0]]?m.scopeMap[a.shift()][1]:m.global);try{for(var e=0;e<a.length;e++){var f=a[e];if(!(f in
c))if(b)c[f]={};else return;c=c[f]}return c}catch(h){}},b=Object.prototype.toString,h=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},e=/\{([^\}]+)\}/g,f={_extraNames:l,_mixin:function(a,b,c){var e,f,h,g={};for(e in b)f=b[e],e in a&&(a[e]===f||e in g&&g[e]===f)||(a[e]=c?c(f):f);if(n("bug-for-in-skips-shadowed")&&b)for(h=0;h<k;++h)e=l[h],f=b[e],e in a&&(a[e]===f||e in g&&g[e]===f)||(a[e]=c?c(f):f);return a},mixin:function(a,b){a||(a={});for(var c=1,e=arguments.length;c<e;c++)f._mixin(a,
arguments[c]);return a},setObject:function(a,b,c){var e=a.split(".");a=e.pop();return(c=g(e,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return g(a?a.split("."):[],b,c)},exists:function(a,b){return void 0!==f.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===b.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||
f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var c=1,e=arguments.length;c<e;c++)f._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,b){var c=f._toArray(arguments,2),e=f.isString(b);return function(){var h=f._toArray(arguments),
g=e?(a||m.global)[b]:b;return g&&g.apply(a||this,c.concat(h))}},hitch:function(a,b){if(2<arguments.length)return f._hitchArgs.apply(m,arguments);b||(b=a,a=null);if(f.isString(b)){a=a||m.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return a?function(){return b.apply(a,arguments||[])}:b},delegate:function(){function a(){}return function(b,c){a.prototype=b;var e=new a;a.prototype=null;c&&f._mixin(e,c);return e}}(),
_toArray:n("ie")?function(){function a(a,b,e){e=e||[];for(b=b||0;b<a.length;b++)e.push(a[b]);return e}return function(b){return(b.item?a:h).apply(this,arguments)}}():h,partial:function(a){return f.hitch.apply(m,[null].concat(f._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var b,c,e;if(f.isArray(a))for(b=[],
c=0,e=a.length;c<e;++c)c in a&&b.push(f.clone(a[c]));else b=a.constructor?new a.constructor:{};return f._mixin(b,a,f.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||e,f.isFunction(b)?b:function(a,c){return f.getObject(c,!1,b)})}};f.mixin(m,f);return f})},"tm1web/grid/GridPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-geometry dojo/on dojo/text!./templates/GridPane.html dijit/_WidgetBase dijit/_TemplatedMixin ./GridPaneController ./selection/SelectionOverlay".split(" "),
function(m,n,l,k,g,b,h,e,f,a){return m("tm1web.grid.GridPane",[h,e],{templateString:b,_meshRowContainerNode:null,_meshColumnContainerNode:null,containerNode:null,model:null,grid:null,hasFrozenRows:!1,hasFrozenColumns:!1,controller:null,Controller:f,selectionOverlay:null,postCreate:function(){this.inherited(arguments);this._attachEventListeners();this.own(this.controller=new this.Controller({grid:this.grid,gridPane:this}));this.own(this.selectionOverlay=new a);this.domNode.appendChild(this.selectionOverlay.domNode)},
_attachEventListeners:function(){this.own(g(this.domNode,"scroll",n.hitch(this,"_onScroll")))},updateSelection:function(a,b){this.selectionOverlay.updateSelection(this._updateCoordinates(a),this._updateCoordinates(b))},_updateCoordinates:function(a){return{left:a.left-this.domNode.offsetLeft,top:a.top-this.domNode.offsetTop,width:a.width,height:a.height}},setMarginBox:function(a){k.setMarginBox(this.domNode,a)},setContainerSize:function(a){l.forEach([this._meshRowContainerNode,this._meshColumnContainerNode,
this.containerNode],function(b){b.style.height=a.h+"px";b.style.width=a.w+"px"})},getWidth:function(){var a=this.model.getFreezePaneProperties();return this.hasFrozenColumns?a.frozenWidth:a.unfrozenWidth},getHeight:function(){var a=this.model.getFreezePaneProperties();return this.hasFrozenRows?a.frozenHeight:a.unfrozenHeight},getTop:function(){return this.hasFrozenRows?0:this.model.getFreezePaneProperties().frozenHeight},getLeft:function(){return this.hasFrozenColumns?0:this.model.getFreezePaneProperties().frozenWidth},
_onScroll:function(a){var b=this.domNode;this.hasFrozenColumns&&0!==b.scrollLeft&&(b.scrollLeft=0);this.hasFrozenRows&&0!==b.scrollTop&&(b.scrollTop=0);this.onScroll(a)},onScroll:function(a){},getGridRange:function(){}})})},"dojo/sniff":function(){define(["./has"],function(m){var n=navigator,l=n.userAgent,n=n.appVersion,k=parseFloat(n);m.add("air",0<=l.indexOf("AdobeAIR"));m.add("wp",parseFloat(l.split("Windows Phone")[1])||void 0);m.add("msapp",parseFloat(l.split("MSAppHost/")[1])||void 0);m.add("khtml",
0<=n.indexOf("Konqueror")?k:void 0);m.add("edge",parseFloat(l.split("Edge/")[1])||void 0);m.add("opr",parseFloat(l.split("OPR/")[1])||void 0);m.add("webkit",!m("wp")&&!m("edge")&&parseFloat(l.split("WebKit/")[1])||void 0);m.add("chrome",!m("edge")&&!m("opr")&&parseFloat(l.split("Chrome/")[1])||void 0);m.add("android",!m("wp")&&parseFloat(l.split("Android ")[1])||void 0);m.add("safari",!(0<=n.indexOf("Safari"))||m("wp")||m("chrome")||m("android")||m("edge")||m("opr")?void 0:parseFloat(n.split("Version/")[1]));
m.add("mac",0<=n.indexOf("Macintosh"));m.add("quirks","BackCompat"==document.compatMode);if(!m("wp")&&l.match(/(iPhone|iPod|iPad)/)){var g=RegExp.$1.replace(/P/,"p"),b=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",b=parseFloat(b.replace(/_/,".").replace(/_/g,""));m.add(g,b);m.add("ios",b)}m.add("bb",(0<=l.indexOf("BlackBerry")||0<=l.indexOf("BB10"))&&parseFloat(l.split("Version/")[1])||void 0);m.add("trident",parseFloat(n.split("Trident/")[1])||void 0);m.add("svg","undefined"!==typeof SVGAngle);m("webkit")||
(0<=l.indexOf("Opera")&&m.add("opera",9.8<=k?parseFloat(l.split("Version/")[1])||k:k),!(0<=l.indexOf("Gecko"))||m("wp")||m("khtml")||m("trident")||m("edge")||m.add("mozilla",k),m("mozilla")&&m.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0),document.all&&!m("opera")&&(l=parseFloat(n.split("MSIE ")[1])||void 0,(n=document.documentMode)&&5!=n&&Math.floor(l)!=n&&(l=n),m.add("ie",l)),m.add("wii","undefined"!=typeof opera&&opera.wiiremote));return m})},"tm1web/grid/ClipboardController":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/promise/all dojo/on dojo/when dijit/Destroyable ../widgets/ErrorAlert ../utility/clipboard ../utility/message-localizer ../utility/event".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return m(h,{controller:null,constructor:function(a){n.mixin(this,a);this._attachEventsListeners()},_attachEventsListeners:function(){this.own(g(this.grid.domNode,"keydown",n.hitch(this,"_onKeyDown")))},_onKeyDown:function(a){if(d.isCopyKeyDown(a))switch(a.keyCode){case 67:this.copy();l.stop(a);break;case 86:this.paste(),l.stop(a)}},copy:function(){return this.model.copy()},paste:function(){if(this._isReadOnly())return k([]);var c=f.get(!0);return b(c,n.hitch(this,function(b){if(b){b=
b.split(/\r?\n/);var c=b.length;1<c&&""===b[c-1]&&b.pop();return this.model.paste(b).then(function(b){b&&b.invalidValues&&e.show({message:a.get("PASTE_FAILURES"),title:a.get("PASTE_FAILURES_TITLE_STR")})})}}))},_isReadOnly:function(){if(!this.model.isSingleCellSelected())return!1;var a=this.model.getSelectedArea();return this.model.isReadOnly(a.minRow,a.minCol)}})})},"tm1web/share/_ContextMenuBase":function(){define("dojo/_base/declare dojo/on dijit/MenuSeparator ../mobile/on/longpress ../widgets/ContextMenu ./Base ./SkeletonMixin".split(" "),
function(m,n,l,k,g,b,h){return m([g,b,h],{objectId:null,_Separator:l,startup:function(){this._generateContextMenu();this.inherited(arguments)},_openMyself:function(b){var f=!b.coords;f&&(b.coords=this._getCoords());this._validate(b,f)&&(this._adjustContextMenu(),this.inherited(arguments))},_generateContextMenu:function(){this._addSkeletonChildren()},_getCoords:function(){return null},_validate:function(b,f){return!1},_adjustContextMenu:function(){}})})},"tm1web/subseteditor/dndSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-geometry dojo/dnd/Manager dojo/dnd/common dijit/tree/dndSource dijit/tree/_dndSelector dijit/registry ./_dndMixin ../mobile/sniff".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return m([h,a],{itemCreator:function(a,b,d){return l.map(a,function(a){return(a=f.byNode(a))&&a.item?n.clone(a.item):{}})},onMouseDown:function(a){d("mobile-device")||a.target!==this.tree.domNode&&this.inherited(arguments)},onDndDrop:function(a,b,d){if("Over"==this.containerState){var e=this.tree,f=e.model,h=this.targetAnchor;this.isDragging=!1;var g;"Before"==this.dropPosition||"After"==this.dropPosition?(e=h.getParent()&&h.getParent().item||e.item,g=h.getIndexInParent(),
"After"==this.dropPosition&&(g=h.getIndexInParent()+1)):e=h&&h.item||e.item;b=this.itemCreator(b,h.rowNode,d);a==this?f.pasteItems(b,null,e,d,g):f.newItems(b,e,g)}this.onDndCancel()},_onDragMouse:function(a){function b(a){var c=a.getChildren();return 0<c.length?b(c[c.length-1]):a}function d(a){var b=a.getChildren();return 0<b.length?d(b[0]):a}var e=g.manager(),f=this.targetAnchor,h=this.current,l=this.dropPosition,m="Over";h&&0<this.betweenThreshold&&(this.targetBox&&f==h||(this.targetBox=k.position(h.rowNode,
!0)),a.pageY-this.targetBox.y<=this.betweenThreshold?m="Before":a.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(m="After"));0==this.tree.rootNode.getChildren().length?h=this.tree.rootNode:h||(1==this.tree.expandAbove?(h=d(this.tree.rootNode),m="Before"):(h=b(this.tree.rootNode),m="After"));if(h!=f||m!=l){f&&this._removeItemClass(f.rowNode,l);h&&this._addItemClass(h.rowNode,m);if(h)if(h==this.tree.rootNode&&"Over"!=m)e.canDrop(!1);else{a=!1;if(e.source==this)for(var n in this.selection)if(this.selection[n].item===
h.item){a=!0;break}a?e.canDrop(!1):this.checkItemAcceptance(h.rowNode,e.source,m.toLowerCase())&&!this._isParentChildDrop(e.source,h.rowNode)?setTimeout(function(){e.canDrop(!0)},0):e.canDrop(!1)}else e.canDrop(!1);this.targetAnchor=h;this.dropPosition=m}},onMouseMove:function(a){if(!this.isDragging||"Disabled"!=this.targetState){e.prototype.onMouseMove.apply(this,arguments);var d=g.manager();if(this.isDragging)this._onDragMouse(a);else if(this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>=
this.dragThreshold||Math.abs(a.pageY-this._lastY)>=this.dragThreshold)){var f=this.getSelectedTreeNodes();f.length&&(f=f.slice().sort(function(a,b){return a.item.id-b.item.id}),f=l.map(f,function(a){return a.domNode}),d.startDrag(this,f,this.copyState(b.getCopyKeyState(a))),this._onDragMouse(a,!0))}}}})})},"tm1web/workbook/ChartContextMenu":function(){define(["dojo/_base/declare","../share/ChartContextMenu","../widgets/AlertDialog","../utility/message-localizer"],function(m,n,l,k){return m(n,{_doDrill:function(g){var b=
this;this._panel.model.executeChartDrill(this._currentArea.drillInfo.cellReference,g.Data).then(function(h){b._onDoDrill(h,g.Data)}).otherwise(function(b){l.show({message:k.get("SRV_ERR_STR")})})}})})},"tm1web/workbook/controls/ActiveXComboBox":function(){define("dojo/_base/declare dojo/store/Memory dojo/on dojo/dom-class dojo/dom-style dojo/dom-construct dojox/html/entities dijit/form/ComboBox ./_ControlMixin ../../utility/message-localizer ../../widgets/AlertDialog".split(" "),function(m,n,l,k,
g,b,h,e,f,a,d){return m("tm1web.workbook.controls.ActiveXComboBox",[e,f],{buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"tm1webGridControl "+this.styleId);k.add(this.textbox.parentNode,this.styleId);k.add(this.textbox,"tm1webTextBox");g.set(this._buttonNode,{height:"100%"});g.set(this.textbox,{height:"100%"})},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"keydown, keyup, keypress",function(a){a.stopPropagation()}))},update:function(a){this.inherited(arguments);
this.set("values",a.values);this.set("selectedValue",a.selectedValue)},_setValuesAttr:function(){for(var a=this.values,b=a.length,d=Array(b),e=0;e<b;e++){var f=a[e];d[e]={id:f,name:h.encode(f)}}this.set("store",new n({data:d}))},_setDisabledAttr:function(a){this.inherited(arguments);this.textbox.disabled=a},_setSelectedValueAttr:function(a){this._set("selectedValue",a);this.set("value",a)},onChange:function(b){this._set("selectedValue",b);this.model.setComboBoxSelectedValue(this.controlId,b).otherwise(function(b){d.show({message:a.get("SRV_ERR_STR")})})},
loadDropDown:function(){this.inherited(arguments);k.add(this.dropDown.domNode,this.styleId+" tm1webActiveXComboBox")},_startSearchFromInput:function(){this.inherited(arguments);k.add(this.dropDown.domNode,this.styleId+" tm1webActiveXComboBox")}})})},"tm1web/workbook/model/WorksheetStore":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/promise/all dojo/store/util/QueryResults ./utility/error-handler ../../share/service-loader!WorkbookService".split(" "),function(m,n,l,k,g,
b,h){return m(null,{constructor:function(b){this.objectId=b.objectId;this.sessionToken=b.sessionToken;this.index=b.index},get:function(b){},query:function(e){var f=new l,a=this.objectId;h.getData(this.sessionToken,a,this.index,this._toRanges(e),{callback:function(a){f.resolve(new g(a))},errorHandler:function(d,c){b.handle(c,a)||f.reject(d)}});return f.promise},_toRanges:function(b){var f=[],a=b.length;b.sort(function(a,b){return a.row===b.row?a.column-b.column:a.row-b.row});for(var d=0,c=null;d<a;d++){for(var h=
{startRow:b[d].row,startColumn:b[d].column,endRow:b[d].row,endColumn:b[d].column};d+1<a&&h.endRow===b[d+1].row&&h.endColumn+1===b[d+1].column;)h.endColumn++,d++;c?c.startColumn===h.startColumn&&c.endColumn===h.endColumn&&c.endRow+1===h.startRow?c.endRow++:(f.push(c),c=h):c=h;d===a-1&&f.push(c)}return f},getMetadata:function(){var e=new l,f=this.objectId;h.getMetadata(this.sessionToken,f,this.index,{callback:function(a){e.resolve(a)},errorHandler:function(a,d){b.handle(d,f)||e.reject(d)}});return e.promise},
setCheckBoxChecked:function(e,f){var a=new l,d=this.objectId;h.setCheckBoxChecked(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)}});return a.promise},setOptionButtonChecked:function(e){var f=new l,a=this.objectId;h.setOptionButtonChecked(this.sessionToken,a,this.index,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,a)||f.reject(d)},scope:this});return f.promise},setTextBoxText:function(e,f){var a=
new l,d=this.objectId;h.setTextBoxText(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},setListBoxSelectedIndices:function(e,f){var a=new l,d=this.objectId;h.setListBoxSelectedIndices(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},setComboBoxSelectedIndex:function(e,f){var a=new l,d=
this.objectId;h.setComboBoxSelectedIndex(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},setComboBoxSelectedValue:function(e,f){var a=new l,d=this.objectId;h.setComboBoxSelectedValue(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},setControlScrollTop:function(e,f){var a=new l,d=this.objectId;
h.setControlScrollTop(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)}});return a.promise},getActionButtonProcessConfirmation:function(e,f){var a=new l,d=this.objectId;h.getActionButtonProcessConfirmation(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c,e)}});return a.promise},executeActionButton:function(e,f){var a=new l,d=this.objectId;h.executeActionButton(this.sessionToken,
d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(e)}});return a.promise},refresh:function(e){var f=new l,a=this.objectId;h.refresh(this.sessionToken,a,this.index,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,a)||f.reject(d,c)}});return f.promise},toggle:function(e){var f=new l,a=this.objectId;h.toggle(this.sessionToken,a,this.index,e.ranges,e.selectedCell,e.activeFormId,e.subsetIndex,e.elementIndex,e.displayType,
{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,a)||f.reject(d)},scope:this});return f.promise},getRange:function(e){var f=new l,a=this.objectId;h.getRange(this.sessionToken,a,this.index,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,a)||f.reject(d)},scope:this});return f.promise},getCubes:function(e,f){var a=new l,d=this.objectId;h.getCubes(this.sessionToken,d,this.index,e.rowIndex,e.colIndex,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,
e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},getRefCellDimensionData:function(e,f){var a=new l,d=this.objectId;h.getRefCellDimensionData(this.sessionToken,d,this.index,e.rowIndex,e.colIndex,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},getRefCellValue:function(e,f,a,d){var c=new l,p=this.objectId;h.getRefCellValue(this.sessionToken,p,this.index,e,f,a,d.rowIndex,d.colIndex,{callback:function(a){c.resolve(a)},
errorHandler:function(a,d){b.handle(d,p)||c.reject(a)},scope:this});return c.promise},copy:function(e){var f=new l,a=this.objectId;h.copy(this.sessionToken,a,this.index,{startRow:e.minRow,startColumn:e.minCol,endRow:e.maxRow,endColumn:e.maxCol},{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,a)||f.reject(d)},scope:this});return f.promise},paste:function(e,f,a,d){var c=new l,p=this.objectId;h.paste(this.sessionToken,p,this.index,e,f,{startRow:d.minRow,startColumn:d.minCol,
endRow:d.maxRow,endColumn:d.maxCol},a,{callback:function(a){c.resolve(a)},errorHandler:function(a,d){b.handle(d,p)||c.reject(a)},scope:this});return c.promise},spread:function(e,f,a,d){var c=new l,p=this.objectId;h.spread(this.sessionToken,p,this.index,e,f,{startRow:d.minRow,startColumn:d.minCol,endRow:d.maxRow,endColumn:d.maxCol},a,{callback:function(a){c.resolve(a)},errorHandler:function(a,d){b.handle(d,p)||c.reject(arguments)},scope:this});return c.promise},relativeSpread:function(e,f,a,d,c){var p=
new l,g=this.objectId;h.relativeSpread(this.sessionToken,g,this.index,e,f,{startRow:d.rowIndex,startColumn:d.colIndex,endRow:d.rowIndex,endColumn:d.colIndex},a,c,{callback:function(a){p.resolve(a)},errorHandler:function(a,c){b.handle(c,g)||p.reject(arguments)},scope:this});return p.promise},hold:function(e,f,a,d){var c=new l,p=this.objectId;h.hold(this.sessionToken,p,this.index,e,f,{startRow:a.minRow,startColumn:a.minCol,endRow:a.maxRow,endColumn:a.maxCol},d,{callback:function(a){c.resolve(a)},errorHandler:function(a,
d){b.handle(d,p)||c.reject(a)},scope:this});return c.promise},executeChartDrill:function(e,f){var a=new l,d=this.objectId;h.executeChartDrill(this.sessionToken,d,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},drill:function(e,f,a){var d=new l,c=this.objectId;h.getDrillView(this.sessionToken,c,this.index,e,f,a,{callback:function(a){d.resolve(a)},errorHandler:function(a,e){b.handle(e,c)||d.reject(a)},scope:this});return d.promise},
addCellAnnotation:function(e,f,a,d,c){var p=new l,g=this.objectId;h.addCellAnnotation(this.sessionToken,g,this.index,e,f,a,d,c,{callback:function(a){p.resolve(a)},errorHandler:function(a,c){b.handle(c,g)||p.reject(a)},scope:this});return p.promise},getCellAnnotations:function(e,f){var a=new l,d=this.objectId;h.getCellAnnotations(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)},scope:this});return a.promise},changeCellValue:function(e){var f=
new l,a=this.objectId;h.setValue(this.sessionToken,a,this.index,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,a)||f.reject(d)}});return f.promise},getPickList:function(e,f){var a=new l,d=this.objectId;h.getPicklist(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)}});return a.promise},getValidationList:function(e,f){var a=new l,d=this.objectId;h.getValidationList(this.sessionToken,d,this.index,
e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)}});return a.promise},autoFitColumns:function(e,f){var a=new l,d=this.objectId;h.autoFitColumns(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c,e)}});return a.promise},resizeColumns:function(e){var f=new l,a=this.objectId;h.resizeColumns(this.sessionToken,a,this.index,e,{callback:function(a){f.resolve(a)},errorHandler:function(d,c){b.handle(c,
a)||f.reject(d,c)}});return f.promise},deleteFromSelectedArea:function(e,f,a){var d=new l,c=this.objectId;h.deleteFromSelectedArea(this.sessionToken,c,this.index,e,f,a,{callback:function(a){d.resolve(a)},errorHandler:function(a,e){b.handle(e,c)||d.reject(a)}});return d.promise},getValidation:function(e,f){var a=new l,d=this.objectId;h.getValidation(this.sessionToken,d,this.index,e,f,{callback:function(b){a.resolve(b)},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)}});return a.promise},setRowHeight:function(e,
f){var a=new l,d=this.objectId;h.setRowHeight(this.sessionToken,d,this.index,e,f,{callback:function(){a.resolve()},errorHandler:function(c,e){b.handle(e,d)||a.reject(c)}});return a.promise}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(m,n,l){var k={},g={},b={length:0,add:function(b){if(g[b.id])throw Error("Tried to register widget with id\x3d\x3d"+b.id+" but that id is already registered");g[b.id]=b;this.length++},remove:function(b){g[b]&&(delete g[b],
this.length--)},byId:function(b){return"string"==typeof b?g[b]:b},byNode:function(b){return g[b.getAttribute("widgetId")]},toArray:function(){var b=[],e;for(e in g)b.push(g[e]);return b},getUniqueId:function(b){var e;do e=b+"_"+(b in k?++k[b]:k[b]=0);while(g[e]);return"dijit"==l._scopeName?e:l._scopeName+"_"+e},findWidgets:function(b,e){function f(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var c=b.getAttribute("widgetId");c?(c=g[c])&&a.push(c):b!==e&&f(b)}}var a=[];f(b);return a},_destroyAll:function(){l._curFocus=
null;l._prevFocus=null;l._activeStack=[];m.forEach(b.findWidgets(n.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var e=1==b.nodeType&&b.getAttribute("widgetId");if(e)return g[e];b=b.parentNode}return null},_hash:g};return l.registry=b})},"tm1web/workbook/controls/Image":function(){define("dojo/_base/declare dojo/_base/lang dojo/text!./templates/Image.html dojo/dom-class dojo/mouse dojo/on dijit/_TemplatedMixin ../../mobile/on/tap ../../mobile/sniff ../../share/TM1Utility ../../utility/message-localizer ../../widgets/AlertDialog ../HyperlinkType ./_Control ./ImageMap".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s){return m("tm1web.workbook.controls.Image",[q,h],{templateString:l,fileName:"",map:null,hyperlink:null,buildRendering:function(){function b(a,c){var d=new XMLHttpRequest;d.onload=function(){var a=new FileReader;a.onloadend=function(){c(a.result)};a.readAsDataURL(d.response)};d.open("GET",a);d.responseType="blob";d.send()}this.inherited(arguments);this.domNode.src=a.tm1WebRoot+"excelsheet/"+encodeURI(this.fileName);if(f("ie")||f("trident")){var c=this;b(c.domNode.src,
function(a){c.domNode.src=a.replace("text/plain","image/png")})}if(this.imageMap&&this.imageMap.dataPoints&&0<this.imageMap.dataPoints.length){var d={name:"chartMap"+this.id,imageMap:this.imageMap};this.map=new s(d);this.domNode.useMap="#"+d.name}},update:function(a){this.inherited(arguments);this.set("hyperlink",a.hyperlink)},_setHyperlinkAttr:function(a){var c=this.domNode;this._set("hyperlink",a);this._hyperlinkHandle&&(this._hyperlinkHandle.remove(),this._hyperlinkHandle=null);a&&a.type&&a.type!==
p.Invalid?(k.add(c,"tm1webHyperlink"),c.title=a.screenTip,this._hyperlinkHandle=this.own(b(c,e,n.hitch(this,"_onHyperlinkNavigate")))[0]):(k.remove(c,"tm1webHyperlink"),c.title="")},_onHyperlinkNavigate:function(a){if(g.isLeft(a)||f("mobile-device"))switch(a=this.hyperlink,a.type){case p.External:window.open(a.location,"_blank");break;case p.SheetReference:this.model.workbookModel.onSetActiveSheet(a.sheetName,a.bookmark);break;case p.Workbook:this.model.workbookModel.navigateToWorkbook(a.location,
a.sheetName,a.bookmark,a.screenTip).otherwise(function(a){c.show({message:d.get("WORKBOOK_OPEN_FAILED_STR")})})}},destroy:function(){this.inherited(arguments);this.map&&this.map.destroy()},placeAt:function(a){this.inherited(arguments);this.map&&this.map.placeAt(a)}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(m,n,l,k,g,b){return n("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(b){var e=
[];m.forEach(b||this.getChildren(),function(b){"value"in b?e.push(b):e=e.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return e},reset:function(){m.forEach(this._getDescendantFormWidgets(),function(b){b.reset&&b.reset()})},validate:function(){var h=!1;return m.every(m.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var f=e.disabled||!e.validate||e.validate();f||h||(b.scrollIntoView(e.containerNode||e.domNode),e.focus(),h=!0);return f}),function(b){return b})},
setValues:function(b){l.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(b){var e={};m.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(e[a.name]||(e[a.name]=[])).push(a)});for(var f in e)if(e.hasOwnProperty(f)){var a=e[f],d=k.getObject(f,!1,b);void 0!==d&&(d=[].concat(d),"boolean"==typeof a[0].checked?m.forEach(a,function(a){a.set("value",-1!=m.indexOf(d,a._get("value")))}):a[0].multiple?
a[0].set("value",d):m.forEach(a,function(a,b){a.set("value",d[b])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};m.forEach(this._getDescendantFormWidgets(),function(e){var f=e.name;if(f&&!e.disabled){var a=e.get("value");"boolean"==typeof e.checked?/Radio/.test(e.declaredClass)?!1!==a?k.setObject(f,a,b):(a=k.getObject(f,!1,b),void 0===a&&k.setObject(f,null,b)):
(e=k.getObject(f,!1,b),e||(e=[],k.setObject(f,e,b)),!1!==a&&e.push(a)):(e=k.getObject(f,!1,b),"undefined"!=typeof e?k.isArray(e)?e.push(a):k.setObject(f,[e,a],b):k.setObject(f,a,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var b=m.map(this._descendants,function(b){return b.get("state")||""});return 0<=m.indexOf(b,"Error")?"Error":0<=m.indexOf(b,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(b){this._descendants=
this._getDescendantFormWidgets();m.forEach(this._descendants,function(b){b._started||b.startup()});b||this._onChildChange()},_onChildChange:function(b){b&&"state"!=b&&"disabled"!=b||this._set("state",this._getState());b&&"value"!=b&&"disabled"!=b&&"checked"!=b||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=
this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var b=this;this.own(g(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(e){e.target!=b.domNode&&b._onChildChange(e.type.replace("attrmodified-",""))}));this.watch("state",function(b,f,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"tm1web/grid/DomCache":function(){define(["dojo/_base/declare","dojo/dom-construct"],
function(m,n){return m(null,{constructor:function(){this._meshRows={};this._meshColumns={};this._cellRows={};this._cells={}},getMeshRow:function(l){return this._meshRows[l]},addMeshRow:function(l,k){if(this._meshRows[k])throw Error("Cache for row at index already exists: "+k);this._meshRows[k]=l},getMeshColumn:function(l){return this._meshColumns[l]},addMeshColumn:function(l,k){if(this._meshColumns[k])throw Error("Cache for column at index already exists: "+k);this._meshColumns[k]=l},getCellRow:function(l){return this._cellRows[l]},
addCellRow:function(l,k){if(this._cellRows[k])throw Error("Cache for cell container at index already exists: "+k);this._cellRows[k]=l},getCell:function(l,k){var g=this._cells[l];return g?g[k]:null},addCell:function(l,k,g){if(!this._cells[k])this._cells[k]={};else if(this._cells[k][g])throw Error("Cache for cell already exists: row["+k+"], column["+g+"]");this._cells[k][g]=l},clear:function(){this._clear(!0)},_clear:function(l){if(l){this._destroy(this._meshRows);this._destroy(this._meshColumns);this._destroy(this._cellRows);
for(var k in this._cells)this._destroy(this._cells[k])}this._meshRows={};this._meshColumns={};this._cellRows={};this._cells={}},_destroy:function(l){for(var k in l)n.destroy(l[k])},destroy:function(){this._clear(!0)}})})},"tm1web/mobile/on/_Tap":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/gesture/tap"],function(m,n,l){return m(l.Tap,{_overriddenEvent:"",subEvents:[],fire:function(k,g){g.type===this._overriddenEvent&&(n.mixin(g,this._touchStartEvent),g.type=this.defaultEvent,this._touchStartEvent=
null);this.inherited(arguments)},press:function(k,g){this.inherited(arguments);k.context&&(this._touchStartEvent=g)}})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(m,n,l,k,g,b,h,e){e.add("config-bgIframe",e("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||e("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var f=new function(){var a=[];this.pop=function(){var b;
a.length?(b=a.pop(),b.style.display=""):(9>e("ie")?(b="\x3ciframe src\x3d'"+(l.dojoBlankHtmlUrl||m.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",b=document.createElement(b)):(b=k.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",b.setAttribute("role","presentation"),g.set(b,"opacity",.1)),b.tabIndex=-1);return b};this.push=function(b){b.style.display=
"none";a.push(b)}};n.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(e("config-bgIframe")){var d=this.iframe=f.pop();a.appendChild(d);7>e("ie")||e("quirks")?(this.resize(a),this._conn=h(a,"resize",b.hitch(this,"resize",a))):g.set(d,{width:"100%",height:"100%"})}};b.extend(n.BackgroundIframe,{resize:function(a){this.iframe&&g.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),
f.push(this.iframe),delete this.iframe)}});return n.BackgroundIframe})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p){c=m("dijit.layout._TabButton"+(g("dojo-bidi")?"_NoBidi":""),e.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},
templateString:c,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);n.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);k.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=b.getLocalization("dijit","common")||p,this.closeNode&&l.set(this.closeNode,"title",a.itemClose))},
_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)l.remove(this.closeNode,"title");else{var c=b.getLocalization("dijit","common")||p;l.set(this.closeNode,"title",c.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||this.params.title||(this.iconNode.alt=h.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});g("dojo-bidi")&&(c=m("dijit.layout._TabButton",c,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,
this.iconNode.alt)}}));m=m("dijit.layout.TabController",e,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:c,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var c=new a({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return k.contains(a,
"dijitClosable")&&!k.contains(a,"dijitTabDisabled")}});this.own(c);var e=b.getLocalization("dijit","common")||p,h=this;c.addChild(new d({label:e.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=f.byNode(this.getParent().currentTarget);h.onCloseButtonClick(a.page)}}))}});m.TabButton=c;return m})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s){return n("dijit._MenuBase",[c,s,q,p],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){g.toggle(this.domNode,"dijitMenuActive",a);g.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=d.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var c=this,f="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(e(this.containerNode,e.selector(f,h.enter),function(){c.onItemHover(d.byNode(this))}),e(this.containerNode,e.selector(f,h.leave),function(){c.onItemUnhover(d.byNode(this))}),e(this.containerNode,e.selector(f,a),function(a){c.onItemClick(d.byNode(this),a);a.stopPropagation()}),
e(this.containerNode,e.selector(f,"focusin"),function(){c._onItemFocus(d.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,d){this.inherited(arguments);if(a&&(-1==d||a.popup&&1==d))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),!a.popup||a.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,c){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var d=a.popup;d.parentMenu=this;this.own(this._mouseoverHandle=e.once(d.domNode,"mouseover",b.hitch(this,"_onPopupHover")));var f=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){c&&
f.focusChild(a);f._cleanUp()},onExecute:b.hitch(this,"_cleanUp",!0),onClose:function(){f._mouseoverHandle&&(f._mouseoverHandle.remove(),delete f._mouseoverHandle)}},c);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(k.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"tm1web/subseteditor/_dndMixin":function(){define(["dojo/_base/declare",
"dojo/_base/array","dijit/tree/_dndSelector"],function(m,n){return m(null,{model:null,userSelect:function(l,k,g){this._userSelect=!0;this._multiSelect=k;this.inherited(arguments);this._multiSelect=this._userSelect=!1},setSelection:function(l){if(this._userSelect){var k=[];n.forEach(l,function(g){k.push(g.item)});this.model.setSelected(k,this._multiSelect)}this.inherited(arguments)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff dojo/text!./templates/ScrollingTabController.html ./TabController ./utils ../_WidgetsInTemplateMixin dojo/NodeList-dom ../a11yclick ./_ScrollingTabControllerButton ./_ScrollingTabControllerMenuButton".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){return n("dijit.layout.ScrollingTabController",[c,q],{baseClass:"dijitTabController dijitScrollingTabController",templateString:d,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,
"")+"None",l.add(a,"tabStrip-disabled"));l.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);g.set(this.domNode,"visibility","");this._postStartup=!0;this.own(e(this.containerNode,"attrmodified-label, attrmodified-iconclass",h.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);g.set(this.containerNode,"width",g.get(this.containerNode,"width")+200+"px")},onRemoveChild:function(a,b){var c=this.pane2button(a.id);
this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=f("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=k.getMarginSize(a).w,!0;g.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();if(a.length){var b=a[this.isLeftToRight()?0:a.length-
1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||g.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=p.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;k.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);this._buttons.style("display",b?"":"none");
this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());this._postResize=!0;return{h:this._contentBox.h,
w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit")?this.scrollNode.scrollLeft:g.get(this.containerNode,"width")-g.get(this.scrollNode,"width")+(8<=a("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(b){if(this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit"))return b;var c=g.get(this.containerNode,"width")-g.get(this.scrollNode,"width");return(8<=a("ie")?-1:1)*(b-c)},onSelectChild:function(a){var b=this.pane2button(a.id);
if(b){b=b.domNode;if(b!=this._selectedTab&&(this._selectedTab=b,this._postResize)){var c=this._getScroll();(c>b.offsetLeft||c+g.get(this.scrollNode,"width")<b.offsetLeft+g.get(b,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=g.get(this.scrollNode,"width"),c=g.get(this.containerNode,"width")-b,d=this._getTabsWidth();if(a.length&&d>b)return{min:this.isLeftToRight()?0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?
a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:c};a=this.isLeftToRight()?0:c;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=g.get(this.scrollNode,"width"),c=this._getScrollBounds(),a=a.offsetLeft+g.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,c.min),c.max)},createSmoothScroll:function(a){if(0<arguments.length){var c=this._getScrollBounds();a=Math.min(Math.max(a,c.min),c.max)}else a=this._getScrollForSelectedTab();this._anim&&"playing"==
this._anim.status()&&this._anim.stop();var d=this,e=this.scrollNode,f=new b.Animation({beforeBegin:function(){this.curve&&delete this.curve;var c=e.scrollLeft,h=d._convertToScrollLeft(a);f.curve=new b._Line(c,h)},onAnimate:function(a){e.scrollLeft=a}});this._anim=f;this._setButtonClass(a);return f},_getBtnNode:function(a){for(a=a.target;a&&!l.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},doSlideLeft:function(a){this.doSlide(-1,
this._getBtnNode(a))},doSlide:function(a,b){if(!b||!l.contains(b,"dijitTabDisabled")){var c=.75*g.get(this.scrollNode,"width")*a,c=this._getScroll()+c;this._setButtonClass(c);this.createSmoothScroll(c).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(m,n,l,k){return m("dijit.form._ListMouseMixin",
k,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(g,b){this._setSelectedAttr(b,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(b)})},_onMouseDown:function(g,
b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(b,!1)},_onMouseUp:function(g,b){this._isDragging=!1;var h=this.selected,e=this._hoveredNode;h&&b==h?this.defer(function(){this._onClick(g,h)}):e&&this.defer(function(){this._onClick(g,e)})},_onMouseOut:function(g,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(g,
b){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=b;this.onHover(b);this._isDragging&&this._setSelectedAttr(b,!1)}})})},"tm1web/planning/PlanningBase":function(){define(["dojo/_base/declare","../share/Base"],function(m,n){return m(n,{constructor:function(){}})})},"dojo/io-query":function(){define(["./_base/lang"],function(m){var n={};return{objectToQuery:function(l){var k=encodeURIComponent,g=[],b;for(b in l){var h=l[b];if(h!=
n[b]){var e=k(b)+"\x3d";if(m.isArray(h))for(var f=0,a=h.length;f<a;++f)g.push(e+k(h[f]));else g.push(e+k(h))}}return g.join("\x26")},queryToObject:function(l){var k=decodeURIComponent;l=l.split("\x26");for(var g={},b,h,e=0,f=l.length;e<f;++e)if(h=l[e],h.length){var a=h.indexOf("\x3d");0>a?(b=k(h),h=""):(b=k(h.slice(0,a)),h=k(h.slice(a+1)));"string"==typeof g[b]&&(g[b]=[g[b]]);m.isArray(g[b])?g[b].push(h):g[b]=h}return g}}})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return n("dijit.tree._dndSelector",d,{constructor:function(){this.selection={};this.anchor=null;this.events.push(e(this.tree.domNode,f.press,k.hitch(this,"onMouseDown")),e(this.tree.domNode,f.release,k.hitch(this,"onMouseUp")),e(this.tree.domNode,f.move,k.hitch(this,"onMouseMove")),e(this.tree.domNode,a.press,k.hitch(this,"onClickPress")),e(this.tree.domNode,a.release,k.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,
d;for(d in b)a.push(b[d]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(a){var d=m.filter(this.getSelectedTreeNodes(),function(d){return!b.isDescendant(d.domNode,a.domNode)});this.setSelection(d);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},
setSelection:function(a){var b=this.getSelectedTreeNodes();m.forEach(this._setDifference(b,a),k.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));m.forEach(this._setDifference(a,b),k.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){m.forEach(b,function(a){a.__exclude__=!0});var d=m.filter(a,function(a){return!a.__exclude__});m.forEach(b,function(a){delete a.__exclude__});
return d},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),b=[],d=[];m.forEach(a,function(a){var c=a.getTreePath();d.push(a);b.push(c)},this);a=m.map(d,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",d);this.tree._set("selectedNode",d[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(a.target,
this.current))){"mousedown"==a.type&&h.isLeft(a)&&a.preventDefault();var b="keydown"==a.type?this.tree.focusedChild:this.current;if(b){var d=g.getCopyKeyState(a),e=b.id;this.singular||a.shiftKey||!this.selection[e]?(this._doDeselect=!1,this.userSelect(b,d,a.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,g.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=
!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var d=doc.createRange();d.setStartBefore(a);var e=doc.createRange();e.setStartBefore(b);return d.compareBoundaryPoints(d.END_TO_END,e)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
},userSelect:function(a,b,d){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(d&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);d=this.anchor;0>b?b=d:(b=a,a=d);for(d=[];b!=a;)d.push(b),b=this.tree._getNext(b);d.push(a);this.setSelection(d)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
b){b=b||l.global;for(var d in this.selection)a.call(b,this.getItem(d),d,this)}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(m,n,l,k,g,b){m=k("dijit._OnDijitClickMixin",null,{connect:function(h,e,f){return this.inherited(arguments,[h,"ondijitclick"==e?b:e,f])}});m.a11yclick=b;return m})},"tm1web/workbook/controls/_Control":function(){define(["dojo/_base/declare","dijit/_WidgetBase","./_ControlMixin"],
function(m,n,l){return m("tm1web.workbook.controls._Control",[n,l])})},"tm1web/subseteditor/FilterByExpressionDialog":function(){define("dojo/_base/declare dojo/_base/lang dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByExpressionDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin".split(" "),function(m,n,l,k,g,b,h,e,f){return m([l,b,h,f],{templateString:g,_textBox:null,_submitButton:null,_cancelButton:null,title:e.get("FILTER_BY_EXPRESSION_TITLE_STR"),
_enterExpressionLabel:e.get("ENTER_EXPRESSION_STR"),_expressionExampleLabel:e.get("EXPRESSION_EXAMPLE_STR"),_submitButtonLabel:e.get("OK_STR"),_cancelButtonLabel:e.get("CANCEL_STR"),_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._textBox.watch("state",n.hitch(this,"_onValidStateChange"));this._textBox.validator=function(a){return!this._isEmpty(a)}},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._textBox.get("value");
this.model.filterByExpression(a,n.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"tm1web/mobile/sniff":function(){define(["dojo/sniff"],function(m){m.add("mobile-device",m("ios")||m("android")||m("bb"));return m})},"tm1web/widgets/ContextMenu":function(){define(["dojo/_base/declare","dojo/on","dijit/Menu","../mobile/on/longpress","../mobile/sniff"],function(m,n,l,k,g){return m(l,{bindDomNode:function(b){this.inherited(arguments);if(g("mobile-device")){var h=this._bindings[this._bindings.length-
1],e=this;h.connects.push(n(h.node,k,function(b){e._scheduleOpen(this,h.iframe,{x:b.pageX,y:b.pageY},b.target)}))}}})})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){k=n("dijit.layout._StackButton",q,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",
buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});n=n("dijit.layout.StackController",[d,c,p],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:k,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(b){return a.byId(this.id+"_"+b)},postCreate:function(){this.inherited(arguments);this.own(e.subscribe(this.containerId+
"-startup",b.hitch(this,"onStartup")),e.subscribe(this.containerId+"-addChild",b.hitch(this,"onAddChild")),e.subscribe(this.containerId+"-removeChild",b.hitch(this,"onRemoveChild")),e.subscribe(this.containerId+"-selectChild",b.hitch(this,"onSelectChild")),e.subscribe(this.containerId+"-containerKeyDown",b.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(h(this.containerNode,"click",b.hitch(this,function(b){var c=a.getEnclosingWidget(b.target);if(c!=this.containerNode&&
!c.disabled&&c.page)for(b=b.target;b!==this.containerNode;b=b.parentNode)if(l.contains(b,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);break}else if(b==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(c){this.textDir=c.textDir;m.forEach(c.children,this.onAddChild,this);if(c.selected)this.onSelectChild(c.selected);var d=a.byId(this.containerId).containerNode,e=b.hitch(this,"pane2button");c={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",
tooltip:"title",disabled:"disabled",textdir:"textdir"};var f=function(a,b){return h(d,"attrmodified-"+a,function(a){var c=e(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},g;for(g in c)this.own(f(g,c[g]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,c){var d=new (b.isString(this.buttonWidget)?b.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,
ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(d,c);a.controlButton=d;if(!this._currentChild)this.onSelectChild(a);d=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+d.id:d.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",d)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=
null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(b){if(b){if(this._currentChild){var c=this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(b.id);c.set("checked",!0);this._currentChild=b;c.focusNode.setAttribute("tabIndex","0");a.byId(this.containerId)}},onButtonClick:function(b){var c=this.pane2button(b.id);f.focus(c.focusNode);this._currentChild&&this._currentChild.id===
b.id&&c.set("checked",!0);a.byId(this.containerId).selectChild(b)},onCloseButtonClick:function(b){a.byId(this.containerId).closeChild(b);this._currentChild&&(b=this.pane2button(this._currentChild.id))&&f.focus(b.focusNode||b.domNode)},adjacent:function(a){this.isLeftToRight()||this.tabPosition&&!/top|bottom/.test(this.tabPosition)||(a=!a);var b=this.getChildren(),c=m.indexOf(b,this.pane2button(this._currentChild.id)),d=b[c],e;do c=(c+(a?1:b.length-1))%b.length,e=b[c];while(e.disabled&&e!=d);return e},
onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var c=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case g.LEFT_ARROW:case g.UP_ARROW:a._djpage||(c=!1);break;case g.PAGE_UP:a.ctrlKey&&(c=!1);break;case g.RIGHT_ARROW:case g.DOWN_ARROW:a._djpage||(c=!0);break;case g.PAGE_DOWN:a.ctrlKey&&(c=!0);break;case g.HOME:for(var d=this.getChildren(),e=0;e<d.length;e++){var f=d[e];if(!f.disabled){this.onButtonClick(f.page);break}}a.stopPropagation();a.preventDefault();break;case g.END:d=this.getChildren();
for(e=d.length-1;0<=e;e--)if(f=d[e],!f.disabled){this.onButtonClick(f.page);break}a.stopPropagation();a.preventDefault();break;case g.DELETE:case 87:this._currentChild.closable&&(a.keyCode==g.DELETE||a.ctrlKey)&&(this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault());break;case g.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==c&&(this.onButtonClick(this.adjacent(c).page),a.stopPropagation(),a.preventDefault())}}},
onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});n.StackButton=k;return n})},"tm1web/subseteditor/CreateConsolidationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/store/Memory dojo/text!./templates/CreateConsolidationDialog.html dijit/Dialog dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin".split(" "),function(m,n,l,k,g,b,h,e,f,a){return m([b,h,e,a],{templateString:g,title:f.get("CREATE_CONSOLIDATION_FROM_SUBSET_TITLE_STR"),
_selectLabel:f.get("SELECT_SUBSET"),_submitButtonLabel:f.get("OK_STR"),_cancelButtonLabel:f.get("CANCEL_STR"),model:null,subsetModel:null,_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._subsetSelect.watch("state",n.hitch(this,"_onValidStateChange"));var a=this._subsetSelect;this.model.getMetaData().then(function(b){b=l.map(b.subsets,function(a){var b=a.name;a.isPublic||(b=f.get("SUBSET_PRIVATE_STR",b));return{name:b,id:a.id}});a.set("store",new k({data:b}))})},
_onValidStateChange:function(a,b,e){this._submitButton.set("disabled",!!e)},_submit:function(){var a=this._subsetSelect.get("value");this.subsetModel.createConsolidationFromSubset(a,n.hitch(this,function(){this._onSubmit()}),function(a,b){alert(f.get("SRV_ERR_STR"))})}})})},"tm1web/share/ElementDisplayType":function(){define({DisplayNone:"DisplayNone",DisplayPlus:"DisplayPlus",DisplayMinus:"DisplayMinus"})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],
function(m,n,l){return m("dijit.form.DateTextBox",l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:n,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"tm1web/workbook/CellFactory":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-construct dojo/dom-class dojo/dom-attr dijit/popup dojo/text!./templates/AFHeaderCell.html dojo/text!./templates/AFHeaderCellImage.html dojo/text!./templates/SubnmCell.html dojo/text!./templates/IconSetCell.html dojo/text!../grid/templates/Cell.html dojox/html/entities ../mobile/sniff ../mobile/on/tap ../utility/dom ../utility/message-localizer ../utility/html ../share/ElementDisplayType ../subseteditor/ElementSelector ../share/TM1Utility ../widgets/AlertDialog ./Comment ./VerticalAlignmentType ./HyperlinkType dojo/keys".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A,z,B,E,F){var I=u.get("EXPAND_TOOLTIP_STR"),M=u.get("COLLAPSE_TOOLTIP_STR"),O=function(){var a=g.toDom(p),b=a.className;g.destroy(a);return b}(),H=function(){var a=g.toDom(d),b=a.className;g.destroy(a);return b}(),J=function(){var a=g.toDom(f),b=a.className;g.destroy(a);return b}(),P=function(){var a=g.toDom(c),b=a.className;g.destroy(a);return b}();return m("tm1web.workbook.CellFactory",null,{_model:null,constructor:function(a,b){this._model=
a;this._gridPane=b;this._eventHandlers={}},getClassName:function(a){return a.isSubnm?H:a.isAFHeader?J:a.iconSetPath?P:O},getTemplate:function(b){return b?b.isSubnm?d:b.isAFHeader?b.allowExpandCollapse?a:f:b.iconSetPath?c:p:p},setProperties:function(a,b){var c=b.cellInfo,d=b.skipEventRegistration;c.isSubnm?this._setSUBNMProperties(a,b):c.isAFHeader?this._setAFHeaderProperties(a,c,d):c.iconSetPath?this._setIconSetProperties(a,c):this._setBaseCellProperties(a,c);c.conditionalStyle&&this._setConditionalStyle(a,
c);c.hyperlink&&this._setHyperlinkProperties(a,c,d);c.sparklineChart&&this._setSparklineChart(a,c.sparklineChart,b.objectId);c.comment&&this._setCommentProperties(a,c,d);c.changed&&this._setChanged(a);c.sandboxValueChanged&&this._setSandboxValueChanged(a);c.held&&this._setHeld(a);c.annotated&&this._setAnnotated(a);c.formatColor&&this._setFormatColor(a,c)},_setBaseCellProperties:function(a,b){a.lastElementChild.textContent=b.displayValue},_setChanged:function(a){b.add(a,"tm1webGridCellChanged")},_setSandboxValueChanged:function(a){b.add(a,
"tm1webGridCellSandboxChanged")},_setSparklineChart:function(a,b,c){b="url('"+y.tm1WebRoot+"CellImageServlet?objectId\x3d"+c+"\x26"+b+"\x26type\x3dsparkline\x26tm1web.preventCache\x3d"+Date.now()+"')";t.setStyle(a,{backgroundImage:b,backgroundRepeat:"no-repeat"})},_setConditionalStyle:function(a,b){t.setStyle(a,b.conditionalStyle)},_setHeld:function(a){b.add(a,"tm1webGridCellHeld")},_setAnnotated:function(a){b.add(a,"tm1webGridCellAnnotation")},_setIconSetProperties:function(a,c){var d=a.children[0],
e=a.children[1];""===c.displayValue?b.add(a,"tm1webGridCellIconSetHideValue"):b.add(a,"tm1webGridCellIconSet  tm1webGridCellIconSetAlign"+(c.verticalAlignment||"Top"));d.src=y.tm1WebRoot+"excelsheet/"+c.iconSetPath;e.textContent=c.displayValue},_setHyperlinkProperties:function(a,c,d){c.hyperlink.type&&c.hyperlink.type!=E.Invalid&&(b.add(a,"tm1webHyperlink"),h.set(a.lastElementChild,"link",x.encodeAttribute(c.hyperlink.bookmark)),h.set(a.lastElementChild,"title",x.encodeAttribute(c.hyperlink.screenTip)),
d||this._attachHyperlinkEvents(a.lastElementChild,c))},_setAFHeaderProperties:function(a,c,d){var e=c.allowExpandCollapse?a.lastElementChild.firstElementChild:null,f=a.lastElementChild.lastElementChild;switch(c.displayType){case w.DisplayMinus:c.allowExpandCollapse&&(e.alt=M,e.title=M,b.add(e,"tm1webPlusMinusSheetIcon tm1webCellMinusIcon"),d||this._attachAFHeaderEvents(e,c));break;case w.DisplayPlus:c.allowExpandCollapse&&(e.alt=I,e.title=I,b.add(e,"tm1webPlusMinusSheetIcon tm1webCellPlusIcon"),d||
this._attachAFHeaderEvents(e,c));break;default:c.allowExpandCollapse&&b.add(e,"tm1webCellBlankIcon")}c.firstCellOfGroup||this._hasConditionalFormatFontColorChanged(c)||b.add(a,"tm1webGridAFHeaderCellNoValue");c.wraps&&(b.add(f,"tm1webAFHeaderLabelWrapped"),c.allowExpandCollapse&&b.add(f,"tm1webAFHeaderImage"));f.textContent=c.displayValue;a.style.paddingLeft=11*c.level*c.indent+3+"px"},_hasConditionalFormatFontColorChanged:function(a){return null!=a.conditionalStyle&&null!=a.conditionalStyle.color?
!0:!1},_setCommentProperties:function(a,c,d){if(!d){d=c.comment;b.add(a,"tm1webGridCellComment");var e=new z({connectId:[a],label:x.encodeNewLines(q.encode(d.note)),width:d.width,height:d.height,styleId:d.styleId});this._addEventHandler(c.rowIndex,c.index,{remove:function(){e.destroy()}})}},_setFormatColor:function(a,b){a.style.color=b.formatColor},_attachHyperlinkEvents:function(a,b){this._addEventHandler(b.rowIndex,b.index,k(a,r,n.hitch(this,function(a){if(0==a.button||s("mobile-device"))switch(b.hyperlink.type){case E.External:window.open(b.hyperlink.location,
"_blank");break;case E.SheetReference:this._model.workbookModel.onSetActiveSheet(b.hyperlink.sheetName,b.hyperlink.bookmark);break;case E.Workbook:this._model.workbookModel.navigateToWorkbook(b.hyperlink.location,b.hyperlink.sheetName,b.hyperlink.bookmark,b.value||b.hyperlink.screenTip).otherwise(function(a){A.show({message:u.get("WORKBOOK_OPEN_FAILED_STR")})})}})))},_attachAFHeaderEvents:function(a,b){var c=n.hitch(this,function(a,b){this._model.toggle(a).otherwise(function(a){A.show({message:u.get("SRV_ERR_STR")})})},
{activeFormId:b.activeFormId,subsetIndex:b.subsetIndex,elementIndex:b.elementIndex,displayType:b.displayType});this._addEventHandler(b.rowIndex,b.index,k(a,r,c));this._addEventHandler(b.rowIndex,b.index,k(this._gridPane.grid.domNode,"keydown",n.hitch(this,function(a){var d=this._model.getStartSelectedCell(),d=this._model.getCell(d.x,d.y);a.keyCode==F.SPACE&&b.rowIndex==d.rowIndex&&b.index==d.index&&c()})))},_setSUBNMProperties:function(a,b){a.lastElementChild.textContent=b.cellInfo.displayValue;var c=
b.cellInfo;if(!b.skipEventRegistration){var d=this,f=n.hitch(this,function(c,f){var h=b.cellInfo.dimensionName,g=b.sheetIndex,p=b.cellInfo.rowIndex,k=b.cellInfo.index,l=new v({objectId:b.objectId,sheetIndex:g,dimension:h,rowIndex:p,columnIndex:k,onClose:function(){l.destroyRecursive();l=null},onSubmit:function(a,c,f,m){e.close(l);var q=d._model.workbookModel;b.autoRecalculate||q.hasUnsavedDataChanges()?d._model.recalculate():(d._model.clearCell(b.cellInfo.rowIndex,b.cellInfo.index),d._model.onDataChange());
d._model.onTitleDimensionElementChange({dimension:h,sheetIndex:g,rowIndex:p,columnIndex:k,subset:f,alias:m,element:a,elementIndex:c});d._model.workbookModel.onNotifyRecalc()},onBlur:function(){e.close(l)},onCancel:function(){e.close(l)},onLoad:function(){e.open({popup:l,around:a})}})});this._addEventHandler(b.cellInfo.rowIndex,b.cellInfo.index,k(a,r,f));this._addEventHandler(c.rowIndex,c.index,k(this._gridPane.grid.domNode,"keydown",n.hitch(this,function(a){var b=this._model.getStartSelectedCell(),
b=this._model.getCell(b.x,b.y);a.keyCode==F.SPACE&&c.rowIndex==b.rowIndex&&c.index==b.index&&f()})))}},_addEventHandler:function(a,b,c){this._eventHandlers[a]||(this._eventHandlers[a]={});this._eventHandlers[a][b]||(this._eventHandlers[a][b]=[]);this._eventHandlers[a][b].push(c)},clearEventHandlers:function(){var a=this._eventHandlers,b;for(b in a)if(a.hasOwnProperty(b)){var c=a[b],d;for(d in c)if(c.hasOwnProperty(d)&&c[d])for(var e=c[d],f=e.length,h=0;h<f;h++)e[h].remove()}this._eventHandlers={}},
clearCellEventHandlers:function(a,b){var c=this._eventHandlers[a];if(c&&c[b]){for(var d=c[b],e=d.length,f=0;f<e;f++)d[f].remove();c[b]=null}},destroy:function(){this.clearEventHandlers()}})})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(m,n,l,k){function g(a,b,c,e,f,h){h=h||"px";a=a.style;isNaN(b)||(a.left=b+h);isNaN(c)||(a.top=c+h);0<=e&&(a.width=e+h);0<=f&&(a.height=f+h)}function b(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&
"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==e.boxModel||"table"==a.tagName.toLowerCase()||b(a)}var e={boxModel:"content-box"};m("ie")&&(e.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");e.getPadExtents=function(a,b){a=l.byId(a);var c=b||k.getComputedStyle(a),e=k.toPixelValue,f=e(a,c.paddingLeft),h=e(a,c.paddingTop),g=e(a,c.paddingRight),c=e(a,c.paddingBottom);return{l:f,t:h,r:g,b:c,w:f+g,h:h+c}};e.getBorderExtents=function(a,b){a=l.byId(a);
var c=k.toPixelValue,e=b||k.getComputedStyle(a),f="none"!=e.borderLeftStyle?c(a,e.borderLeftWidth):0,h="none"!=e.borderTopStyle?c(a,e.borderTopWidth):0,g="none"!=e.borderRightStyle?c(a,e.borderRightWidth):0,c="none"!=e.borderBottomStyle?c(a,e.borderBottomWidth):0;return{l:f,t:h,r:g,b:c,w:f+g,h:h+c}};e.getPadBorderExtents=function(a,b){a=l.byId(a);var c=b||k.getComputedStyle(a),f=e.getPadExtents(a,c),c=e.getBorderExtents(a,c);return{l:f.l+c.l,t:f.t+c.t,r:f.r+c.r,b:f.b+c.b,w:f.w+c.w,h:f.h+c.h}};e.getMarginExtents=
function(a,b){a=l.byId(a);var c=b||k.getComputedStyle(a),e=k.toPixelValue,f=e(a,c.marginLeft),h=e(a,c.marginTop),g=e(a,c.marginRight),c=e(a,c.marginBottom);return{l:f,t:h,r:g,b:c,w:f+g,h:h+c}};e.getMarginBox=function(a,b){a=l.byId(a);var c=b||k.getComputedStyle(a),f=e.getMarginExtents(a,c),h=a.offsetLeft-f.l,g=a.offsetTop-f.t,n=a.parentNode,t=k.toPixelValue;if(m("mozilla")){var u=parseFloat(c.left),c=parseFloat(c.top);isNaN(u)||isNaN(c)?n&&n.style&&(n=k.getComputedStyle(n),"visible"!=n.overflow&&
(h+="none"!=n.borderLeftStyle?t(a,n.borderLeftWidth):0,g+="none"!=n.borderTopStyle?t(a,n.borderTopWidth):0)):(h=u,g=c)}else(m("opera")||8==m("ie")&&!m("quirks"))&&n&&(n=k.getComputedStyle(n),h-="none"!=n.borderLeftStyle?t(a,n.borderLeftWidth):0,g-="none"!=n.borderTopStyle?t(a,n.borderTopWidth):0);return{l:h,t:g,w:a.offsetWidth+f.w,h:a.offsetHeight+f.h}};e.getContentBox=function(a,b){a=l.byId(a);var c=b||k.getComputedStyle(a),f=a.clientWidth,h=e.getPadExtents(a,c),g=e.getBorderExtents(a,c);f?(c=a.clientHeight,
g.w=g.h=0):(f=a.offsetWidth,c=a.offsetHeight);m("opera")&&(h.l+=g.l,h.t+=g.t);return{l:h.l,t:h.t,w:f-h.w-g.w,h:c-h.h-g.h}};e.setContentSize=function(a,b,c){a=l.byId(a);var f=b.w;b=b.h;h(a)&&(c=e.getPadBorderExtents(a,c),0<=f&&(f+=c.w),0<=b&&(b+=c.h));g(a,NaN,NaN,f,b)};var f={l:0,t:0,w:0,h:0};e.setMarginBox=function(a,d,c){a=l.byId(a);var p=c||k.getComputedStyle(a);c=d.w;var n=d.h,s=h(a)?f:e.getPadBorderExtents(a,p),p=e.getMarginExtents(a,p);if(m("webkit")&&b(a)){var r=a.style;0<=c&&!r.width&&(r.width=
"4px");0<=n&&!r.height&&(r.height="4px")}0<=c&&(c=Math.max(c-s.w-p.w,0));0<=n&&(n=Math.max(n-s.h-p.h,0));g(a,d.l,d.t,c,n)};e.isBodyLtr=function(a){a=a||n.doc;return"ltr"==(n.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};e.docScroll=function(a){a=a||n.doc;var b=n.doc.parentWindow||n.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=m("quirks")?n.body(a):a.documentElement)&&{x:e.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};m("ie")&&(e.getIeDocumentElementOffset=
function(a){a=a||n.doc;a=a.documentElement;if(8>m("ie")){var b=a.getBoundingClientRect(),c=b.left,b=b.top;7>m("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}});e.fixIeBiDiScrollLeft=function(a,b){b=b||n.doc;var c=m("ie");if(c&&!e.isBodyLtr(b)){var f=m("quirks"),h=f?n.body(b):b.documentElement,g=n.global;6==c&&!f&&g.frameElement&&h.scrollHeight>h.clientHeight&&(a+=h.clientLeft);return 8>c||f?a+h.clientWidth-h.scrollWidth:-a}return a};e.position=function(a,b){a=l.byId(a);
var c=n.body(a.ownerDocument),f=a.getBoundingClientRect(),f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top};if(9>m("ie")){var h=e.getIeDocumentElementOffset(a.ownerDocument);f.x-=h.x+(m("quirks")?c.clientLeft+c.offsetLeft:0);f.y-=h.y+(m("quirks")?c.clientTop+c.offsetTop:0)}b&&(c=e.docScroll(a.ownerDocument),f.x+=c.x,f.y+=c.y);return f};e.getMarginSize=function(a,b){a=l.byId(a);var c=e.getMarginExtents(a,b||k.getComputedStyle(a)),f=a.getBoundingClientRect();return{w:f.right-f.left+c.w,h:f.bottom-
f.top+c.h}};e.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!m("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,c=m("quirks")?b.body:b.documentElement,f=e.getIeDocumentElementOffset(b);a.pageX=a.clientX+e.fixIeBiDiScrollLeft(c.scrollLeft||0,b)-f.x;a.pageY=a.clientY+(c.scrollTop||0)-f.y}};return e})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),
function(m,n,l,k,g,b){return m("dijit.form._FormValueMixin",b,{readOnly:!1,_setReadOnlyAttr:function(b){n.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,e){this._handleOnChange(b,e)},_handleOnChange:function(b,e){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=
!1;this._setValueAttr(this._resetValue,!0)}})})},"dojo/date/stamp":function(){define(["../_base/kernel","../_base/lang","../_base/array"],function(m,n,l){var k={};n.setObject("date.stamp",k,m);k.fromISOString=function(g,b){k._isoRegExp||(k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var h=k._isoRegExp.exec(g),e=null;if(h){h.shift();h[1]&&h[1]--;h[6]&&(h[6]*=1E3);b&&(b=new Date(b),l.forEach(l.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return b["get"+a]()}),function(a,b){h[b]=h[b]||a}));e=new Date(h[0]||1970,h[1]||0,h[2]||1,h[3]||0,h[4]||0,h[5]||0,h[6]||0);100>h[0]&&e.setFullYear(h[0]||1970);var f=0,a=h[7]&&h[7].charAt(0);"Z"!=a&&(f=60*(h[8]||0)+(Number(h[9])||0),"-"!=a&&(f*=-1));a&&(f-=e.getTimezoneOffset());f&&e.setTime(e.getTime()+6E4*f)}return e};k.toISOString=function(g,b){var h=function(a){return 10>a?"0"+a:a};b=b||{};var e=[],f=b.zulu?"getUTC":"get",a="";"time"!=b.selector&&(a=g[f+"FullYear"](),a=["0000".substr((a+
"").length)+a,h(g[f+"Month"]()+1),h(g[f+"Date"]())].join("-"));e.push(a);if("date"!=b.selector){a=[h(g[f+"Hours"]()),h(g[f+"Minutes"]()),h(g[f+"Seconds"]())].join(":");f=g[f+"Milliseconds"]();b.milliseconds&&(a+="."+(100>f?"0":"")+h(f));if(b.zulu)a+="Z";else if("time"!=b.selector)var f=g.getTimezoneOffset(),d=Math.abs(f),a=a+((0<f?"-":"+")+h(Math.floor(d/60))+":"+h(d%60));e.push(a)}return e.join("T")};return k})},"tm1web/websheet/spreading/SpreadDialogCommon":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/form/Button dijit/form/CheckBox dijit/form/RadioButton ../../utility/message-localizer ../../utility/number ../../cubeview/CubeViewBase ../../cubeview/TitlePanel dijit/registry".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){return m(a,{constructor:function(a){n.mixin(this,a);this._InitializeSpreadDialogCommon()},_InitializeSpreadDialogCommon:function(){},_convertFloat:function(a){if(void 0==a||null==a||""==a)return a;"string"==typeof a&&(a=f.parse(a));return f.format(a)},_CreateValueContent:function(a,b,d,e,f){var h=this.CreatePanel("","tm1webDataSpread_valueContainer");k.place(h,a);a=c.getUniqueId("tm1webDataSpread_valueContainer");this.CreateA11yLabel(h,b,d,a);return this.CreateTextBox(h,
this._convertFloat(e),f,a)},_CreatePercentageValueContent:function(a,b,d,e,f,h,g,l,m){var n=this.CreatePanel("","tm1webRelativeSpreadControl_valueContainer");k.place(n,a);a=c.getUniqueId(d);this.CreateA11yLabel(n,b,d,a);b=this.CreateTextBox(n,e,f,a);d=c.getUniqueId(g);this.CreateA11yLabel(n,h,g,d);h=this.CreateTextBox(n,this._convertFloat(l),m,d);h.disabled=!0;return{valueTextbox:b,refCellTextbox:h}},_CreateExtendContent:function(a){a=(new d(e.get("SPREAD_SECTION_EXTEND"),null,null,"")).Create(this._Dialog.containerNode);
this._CreateCheckBoxList(a);return a},_CreateCheckBoxList:function(a){this._CreateDirectionChoiceCheckbox(e.get("SPREAD_LABEL_LEFT"),!1,1,a);this._CreateDirectionChoiceCheckbox(e.get("SPREAD_LABEL_RIGHT"),!1,2,a);this._CreateDirectionChoiceCheckbox(e.get("SPREAD_LABEL_UP"),!1,4,a);this._CreateDirectionChoiceCheckbox(e.get("SPREAD_LABEL_DOWN"),!1,8,a)},_CreateDirectionChoiceCheckbox:function(a,c,d,e){_this=this;e=this._CreateCheckBoxLabelDiv(e);var f=new b({name:"DirectionChoice",value:d});f.setChecked(c);
f.onClick=function(){_this._OnCheckBoxClick(f.checked,d)};k.place(f.domNode,e);this._CreateCheckBoxLabel(a,e,f.id);return f},_OnCheckBoxClick:function(a){alert("has to be overriden")},_CreateCheckBoxLabelDiv:function(a){var b=document.createElement("Div");l.add(b,"tm1webRelativeSpreadControlDiv");k.place(b,a);return b},_CreateCheckBoxLabel:function(a,b,c){var d=document.createElement("label");d.innerHTML=a;d.setAttribute("for",c);k.place(d,b)},_CreateActionContent:function(a){a=(new d(e.get("SPREAD_SECTION_UPDATE"),
null,null,"")).Create(a);this._CreateRadioButtonList(a);return a},_CreateRadioButtonList:function(a){this._CreateActionChoiceRadioButton(e.get("SPREAD_LABEL_REPLACE"),!0,"",a);this._CreateActionChoiceRadioButton(e.get("SPREAD_LABEL_ADD"),!1,"+",a);this._CreateActionChoiceRadioButton(e.get("SPREAD_LABEL_SUBTRACT"),!1,"~",a)},_CreateActionChoiceRadioButton:function(a,b,c,d){_this=this;d=this._CreateCheckBoxLabelDiv(d);var e=new h({name:"ActionChoice",value:c});e.setChecked(b);e.onClick=function(){_this._OnRadioButtonClick(e.checked,
c)};k.place(e.domNode,d);this._CreateCheckBoxLabel(a,d,e.id);return e},_OnRadioButtonClick:function(a,b){alert("has to be overriden")},_CreateButtonContent:function(a,b){var c=this.CreatePanel();k.place(c,a);l.add(c,b);this._CreateButton(e.get("SPREAD_BUTTON_APPLY"),this._OnApply,c,"tm1WebBtnPrimary");this._CreateButton(e.get("SPREAD_BUTTON_CANCEL"),this._OnCancel,c,"tm1webBtnSecondary");return c},_CreateButton:function(a,b,c,d){a=new g({label:a,onClick:n.hitch(this,b)});l.add(a.domNode,"tm1webDataSpread_button");
l.add(a.domNode,d);k.place(a.domNode,c)},_OnCancel:function(){alert("has to be overriden")},_OnApply:function(){alert("has to be overriden")}})})},"tm1web/share/SkeletonMixin":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/store/Memory dijit/Menu dijit/MenuItem dijit/PopupMenuItem dijit/ToolbarSeparator dijit/MenuSeparator dijit/form/Button dijit/form/DropDownButton dijit/form/ToggleButton dijit/form/ComboButton dijit/form/ComboBox dijit/form/Select dijit/form/FilteringSelect dijit/registry dojox/collections/ArrayList ../planning/TM1CheckedMenuItem".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x){return m(null,{_skeletonChildren:null,_Separator:e,constructor:function(){this._skeletonChildren={}},_addSkeletonChildren:function(){this._createSkeletonChildren();this._generateSkeleton().forEach(function(a){this._addGroup(a)},this)},_createSkeletonChildren:function(){},_generateSkeleton:function(){},_newGroup:function(){return new u},_newSkeleton:function(){return new u},_addMenuGroup:function(a,b){this._addSubGroup(a,b,f)},_addGroup:function(a){this._addSubGroup(this,
a,this._Separator)},_addSubGroup:function(a,b,c){0!=b.count&&(0<a.getChildren().length&&a.addChild(new c),b.forEach(function(b){a.addChild(b)}))},_newButton:function(b,c,d,e){return this._newSpecifiedButton(a,b,c,d,e)},_newToggleButton:function(a,b,d,e){return this._newSpecifiedButton(c,a,b,d,e)},_newComboButton:function(a,b,c,d){return this._newSpecifiedButton(p,a,b,c,d)},_newDropDownButton:function(a,b,c,e,f){a=this._newSpecifiedButton(d,a,b,e,f);a.set("dropDown",c);return a},_newSpecifiedButton:function(a,
b,c,d,e){b={label:b,iconClass:c,showLabel:!1,id:this._generateItemId(d)};e&&(b.onClick=e);return new a(b)},_newMenu:function(a){var b=new g;a.forEach(function(a){this._addMenuGroup(b,a)},this);return b},_newMenuItem:function(a,c,d,e){return this._newSpecifiedMenuItem(b,a,c,d,e)},_newPopupMenuItem:function(a,b,c,d,e){a=this._newSpecifiedMenuItem(h,a,b,d,e);a.set("popup",c);return a},_newCheckedMenuItem:function(a,b,c,d){return this._newSpecifiedMenuItem(x,a,b,c,d)},_newSpecifiedMenuItem:function(a,
b,c,d,e){b={label:b,iconClass:c,id:this._generateItemId(d)};e&&(b.onClick=e);return new a(b)},_newComboBox:function(a,b){return this._newSpecificSelect(q,a,b)},_newSelect:function(a,b){return new s({title:a,search:"name",id:this._generateItemId(b)})},_newFilteringSelect:function(a,b){return this._newSpecificSelect(r,a,b)},_newSpecificSelect:function(a,b,c){return new a({title:b,store:new k,search:"name",id:this._generateItemId(c)})},_getItemIdPrefix:function(){},_generateItemId:function(a){return t.getUniqueId(this._getItemIdPrefix()+
(a||"Item"))}})})},"tm1web/share/_CellContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/when ./_CellContextMenuBase ../widgets/ErrorAlert ../utility/clipboard ../utility/message-localizer ../cubeview/ViewCellType ./AddAnnotationDialog ./BrowseAnnotationsDialog".split(" "),function(m,n,l,k,g,b,h,e,f,a,d){return m(g,{Service:null,SpreadDialogProportional:null,SpreadDialogEqualLeaves:null,SpreadDialogStraightLine:null,SpreadDialogClear:null,RelativeSpreadDialog:null,
_dataSpreadMenu:null,_holdsMenu:null,_drillMenu:null,_getCurrentCell:function(){return this._selectedArea?this._selectedArea.StartCell:null},_adjustContextMenu:function(){var a=this._currentCell.cellInfo,b=a&&void 0!=a.isPrimaryKey;k(h.get(!1),n.hitch(this,function(d){d=null==d||-1<d.indexOf("window.clipboardData,getData")||a.readOnly||b;this._skeletonChildren.paste.set("disabled",d)}));var d=(a.cellType!=f.NUM||null==a.hold)&&this._isSingleCellSelected()||void 0!=this.allowSpreading&&!this.allowSpreading||
b,e=!a.isConsolidated&&this._isSingleCellSelected()||!this._isSingleCellSelected(),g=a.isFlexView||e,l=a.drillList,l=null==l||""==l||!this._isSingleCellSelected()||a.isFlexView,m=void 0!=this._currentCell.cellInfo.isTM1Cell&&!this._currentCell.cellInfo.isTM1Cell||a.isFlexView||!this._currentCell.cellInfo.annotated||!this._isSingleCellSelected(),x=!this._isSingleCellSelected()||void 0!=this._currentCell.cellInfo.isTM1Cell&&!this._currentCell.cellInfo.isTM1Cell||a.isFlexView;this._skeletonChildren.addComment.set("disabled",
x);this._skeletonChildren.browseComments.set("disabled",m);this._skeletonChildren.dataSpread.set("disabled",d);this._skeletonChildren.holds.set("disabled",d);this._skeletonChildren.drill.set("disabled",l);this._skeletonChildren.relativeProportionalSpread.set("disabled",g);this._skeletonChildren.relativePercentAjustmentSpread.set("disabled",g);this._skeletonChildren.repeatLeavesSpread.set("disabled",e);this._skeletonChildren.equalLeavesSpread.set("disabled",e);l||(this._drillMenu=this._newMenu(this._generateDrillMenuSkeleton()),
this._skeletonChildren.drill.set("popup",this._drillMenu));this._currentCell.cellInfo.readOnly&&(this._skeletonChildren.dataSpread.set("disabled",!0),this._skeletonChildren.holds.set("disabled",!0))},_createCopyPasteSkeletonChildren:function(){this._skeletonChildren.copy=this._newMenuItem(e.get("COPY_STR"),"tm1webContextmenu_icon_copy","Copy",n.hitch(this,this._copy,this._getCopyPasteId()));this._skeletonChildren.paste=this._newMenuItem(e.get("PASTE_STR"),"tm1webContextmenu_icon_paste","Paste",n.hitch(this,
this._paste,this._getCopyPasteId()))},_createDataSpreadSkeletonChildren:function(){this._skeletonChildren.proportionalSpread=this._newMenuItem(e.get("PROPORTIONAL_SPREAD_STR"),"tm1webContextmenu_icon_spread_proportion","proportionalSpread",n.hitch(this,this._showSpreadDialogProportionalType,e.get("SPREAD_TITLE_PROPORTIONAL_SPREAD"),e.get("SPREAD_LABEL_VALUE"),"P"));this._skeletonChildren.equalSpread=this._newMenuItem(e.get("EQUAL_SPREAD_STR"),"tm1webContextmenu_icon_spread_equal","equalSpread",n.hitch(this,
this._showSpreadDialogProportionalType,e.get("SPREAD_TITLE_EQUAL_SPREAD"),e.get("SPREAD_LABEL_VALUE"),"S"));this._skeletonChildren.repeatSpread=this._newMenuItem(e.get("REPEAT_SPREAD_STR"),"tm1webContextmenu_icon_spread_repeat","repeatSpread",n.hitch(this,this._showSpreadDialogProportionalType,e.get("SPREAD_TITLE_REPEAT"),e.get("SPREAD_LABEL_VALUE"),"R"));this._skeletonChildren.clearSpread=this._newMenuItem(e.get("CLEAR_SPREAD_STR"),"tm1webContextmenu_icon_spread_clear","clearSpread",n.hitch(this,
this._showSpreadDialogClearType,e.get("SPREAD_TITLE_CLEAR")));this._skeletonChildren.percentChangeSpread=this._newMenuItem(e.get("PC_SPREAD_STR"),"tm1webContextmenu_icon_spread_percent_chg","percentChangeSpread",n.hitch(this,this._showSpreadDialogProportionalType,e.get("SPREAD_TITLE_PERCENT_CHANGE"),e.get("SPREAD_LABEL_CHANGE"),"P%"));this._skeletonChildren.straightLineSpread=this._newMenuItem(e.get("SL_SPREAD_STR"),"tm1webContextmenu_icon_spread_straightline","straightLineSpread",n.hitch(this,this._showSpreadDialogStraightLineType,
e.get("SPREAD_TITLE_STRAIGHT_LINE"),"SL",e.get("SPREAD_LABEL_START"),e.get("SPREAD_LABEL_END")));this._skeletonChildren.growthPercentSpread=this._newMenuItem(e.get("GP_SPREAD_STR"),"tm1webContextmenu_icon_spread_growth","growthPercentSpread",n.hitch(this,this._showSpreadDialogStraightLineType,e.get("SPREAD_TITLE_GROWTH"),"GR",e.get("SPREAD_LABEL_START"),e.get("SPREAD_LABEL_GROWTH")));this._skeletonChildren.relativeProportionalSpread=this._newMenuItem(e.get("RP_SPREAD_STR"),"tm1webContextmenu_icon_spread_proportion_reltv",
"relativeProportionalSpread",n.hitch(this,this._showRelativeSpreadDialogType,e.get("SPREAD_TITLE_RELATIVE_PROPORTIONAL"),!1));this._skeletonChildren.relativePercentAjustmentSpread=this._newMenuItem(e.get("RP_ADJ_SPREAD_STR"),"tm1webContextmenu_icon_spread_percnt_chg_reltv","relativePercentAjustmentSpread",n.hitch(this,this._showRelativeSpreadDialogType,e.get("SPREAD_TITLE_RELATIVE_PERCENT"),!0));this._skeletonChildren.repeatLeavesSpread=this._newMenuItem(e.get("RL_SPREAD_STR"),"tm1webContextmenu_icon_spread_repeat_leaves",
"repeatLeavesSpread",n.hitch(this,this._showSpreadDialogEqualLeaveType,e.get("SPREAD_TITLE_REPEAT_LEAVES"),"LR"));this._skeletonChildren.equalLeavesSpread=this._newMenuItem(e.get("EL_SPREAD_STR"),"tm1webContextmenu_icon_spread_equal_leaves","equalLeavesSpread",n.hitch(this,this._showSpreadDialogEqualLeaveType,e.get("SPREAD_TITLE_EQUAL_SPREAD_LEAVES"),"LS"))},_createHoldsSkeletonChildren:function(){this._skeletonChildren.leavesHold=this._newMenuItem(e.get("HL_SPREAD_STR"),"tm1webContextmenu_icon_hold_holdleaf",
"leavesHold",n.hitch(this,this._hold,"H"));this._skeletonChildren.consolidateHold=this._newMenuItem(e.get("HC_SPREAD_STR"),"tm1webContextmenu_icon_hold_holdcon","consolidateHold",n.hitch(this,this._hold,"HC"));this._skeletonChildren.releaseLeafHolds=this._newMenuItem(e.get("RLH_SPREAD_STR"),"tm1webContextmenu_icon_hold_releaseleaf","releaseLeafHolds",n.hitch(this,this._hold,"RH"));this._skeletonChildren.releaseConsolidateHolds=this._newMenuItem(e.get("RC_SPREAD_STR"),"tm1webContextmenu_icon_hold_release_con",
"releaseConsolidateHolds",n.hitch(this,this._hold,"RC"));this._skeletonChildren.releaseAllHolds=this._newMenuItem(e.get("RA_SPREAD_STR"),"tm1webContextmenu_icon_hold_release_all","releaseAllHolds",n.hitch(this,this._hold,"RA"))},_createSubMenuSkeletonChildren:function(){this._dataSpreadMenu=this._newMenu(this._generateDataSpreadMenuSkeleton());this._holdsMenu=this._newMenu(this._generateHoldsMenuSkeleton());this._drillMenu=this._newMenu(this._generateDrillMenuSkeleton());this._skeletonChildren.dataSpread=
this._newPopupMenuItem(e.get("DATA_SPREAD_STR"),"tm1webContextmenu_icon_spread",this._dataSpreadMenu,"dataSpread");this._skeletonChildren.holds=this._newPopupMenuItem(e.get("HOLDS_STR"),"tm1webContextmenu_icon_hold",this._holdsMenu,"holds");this._skeletonChildren.drill=this._newPopupMenuItem(e.get("DRILL_STR"),"tm1webContextmenu_icon_drill",this._drillMenu,"drill")},_createSkeletonChildren:function(){this._createCopyPasteSkeletonChildren();this._createDataSpreadSkeletonChildren();this._createHoldsSkeletonChildren();
this._createSubMenuSkeletonChildren();this._createCommentSkeletonChildren()},_generateSkeleton:function(){var a=this._newSkeleton();a.add(this._generateCopyPasteGroup());a.add(this._generateFunctionGroup());a.add(this._generateCommentGroup());return a},_generateDataSpreadMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateDataSpreadGroup());return a},_generateHoldsMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateHoldsGroup());return a},_generateDrillMenuSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateDrillGroup());return a},_generateCopyPasteGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.copy);a.add(this._skeletonChildren.paste);return a},_generateFunctionGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.dataSpread);a.add(this._skeletonChildren.holds);a.add(this._skeletonChildren.drill);return a},_generateDataSpreadGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.proportionalSpread);a.add(this._skeletonChildren.equalSpread);
a.add(this._skeletonChildren.repeatSpread);a.add(this._skeletonChildren.clearSpread);a.add(this._skeletonChildren.percentChangeSpread);a.add(this._skeletonChildren.straightLineSpread);a.add(this._skeletonChildren.growthPercentSpread);a.add(this._skeletonChildren.relativeProportionalSpread);a.add(this._skeletonChildren.relativePercentAjustmentSpread);a.add(this._skeletonChildren.repeatLeavesSpread);a.add(this._skeletonChildren.equalLeavesSpread);return a},_generateHoldsGroup:function(){var a=this._newGroup();
a.add(this._skeletonChildren.leavesHold);a.add(this._skeletonChildren.consolidateHold);a.add(this._skeletonChildren.releaseLeafHolds);a.add(this._skeletonChildren.releaseConsolidateHolds);a.add(this._skeletonChildren.releaseAllHolds);return a},_generateDrillGroup:function(){var a=this._newGroup();if(this._currentCell&&this._currentCell.cellInfo&&this._currentCell.cellInfo.drillList)for(var b=this._currentCell.cellInfo.drillList.split(","),d=0;d<b.length;d++)a.add(this._newMenuItem(b[d],"","drill"+
d,n.hitch(this,this._drill,b[d])));return a},_copy:function(a){l.publish(a+"-Copy")},_paste:function(a){l.publish(a+"-Paste")},_showSpreadDialogProportionalType:function(a,b,d){a=new this.SpreadDialogProportional({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:d,_ValueTitle:b,Service:this.Service});a.Initialize();a.Show()},_showSpreadDialogEqualLeaveType:function(a,b){var d=new this.SpreadDialogEqualLeaves({_Title:a,
_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:b,_ValueTitle:"",Service:this.Service});d.Initialize();d.Show()},_showSpreadDialogStraightLineType:function(a,b,d,e){a=new this.SpreadDialogStraightLine({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:b,_StartValueTitle:d,_EndValueTitle:e,Service:this.Service});a.Initialize();
a.Show()},_showSpreadDialogClearType:function(a){a=new this.SpreadDialogClear({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),Service:this.Service});a.Initialize();a.Show()},_showRelativeSpreadDialogType:function(a,b){var d=new this.RelativeSpreadDialog({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_IsPercentage:b,Service:this.Service});
d.Initialize();d.Show()},_hold:function(a){},_drill:function(a){this.Service.getDrillView(this.objectId,this._currentCell.cellInfo.rowIndex,this._currentCell.cellInfo.colIndex,a,{callback:this._onDrill,arg:a,scope:this})},_onDrill:function(a,d){if(a)if(a.objectId){if(a.relational?l.publish(this.objectId+"-RelationalDrillThrough",d,a.colNames,a.gridData,a.objectId,this.Service):l.publish(this.objectId+"-TM1WidgetIdentityCreated",{objectId:a.objectId,drilledView:!0},a.viewName),this.dataGrid.onDrillThrough&&
"function"===typeof this.dataGrid.onDrillThrough)this.dataGrid.onDrillThrough({drillThroughScript:d,drillThroughCubeName:a.orignCubeName,drillThroughCellCoord:a.cellCoord,isRelational:!0===a.relational})}else b.show({message:e.get(a),title:e.get("DRILL_ERROR_TITLE_STR")});else b.show({message:e.get("DRILL_ERROR"),title:e.get("DRILL_ERROR_TITLE_STR")})},_getCopyPasteId:function(){return null},_isSingleCellSelect:function(){return!1},_onHold:function(a){},_createCommentSkeletonChildren:function(){this._skeletonChildren.addComment=
this._newMenuItem(e.get("ADD_COMMENT_STR"),"tm1webContextmenuIconComment","AddComment",n.hitch(this,"_addComment"));this._skeletonChildren.browseComments=this._newMenuItem(e.get("BROWSE_COMMENTS_STR"),"tm1webContextmenuIconBrowseComments","BrowseComments",n.hitch(this,"_browseComments"))},_generateCommentGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.addComment);a.add(this._skeletonChildren.browseComments);return a},_addComment:function(){(new a(this.objectId,this._currentCell,
this.dataGrid,this.Service)).show()},_browseComments:function(){(new d(this.objectId,this._currentCell,this.dataGrid,this.Service)).show()}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(m,n,l,k,g,b,h,e,f,a,d){n=n("dijit.form._AutoCompleterMixin",d,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",
maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(e("ie")){var d=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();d.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",d),b=String(a.text).replace(/\r/g,"").length}catch(f){}}return b},_setCaretPos:function(b,d){d=parseInt(d);a.selectInputText(b,d,d)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",
a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(b!=k.ALT&&b!=k.CTRL&&b!=k.META&&b!=k.SHIFT){var d=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!(a.altKey||a.ctrlKey||a.metaKey))switch(this._opened&&(e=d.getHighlightedOption()),b){case k.PAGE_DOWN:case k.DOWN_ARROW:case k.PAGE_UP:case k.UP_ARROW:this._opened&&this._announceOption(e);a.stopPropagation();a.preventDefault();break;case k.ENTER:if(e){if(e==d.nextButton){this._nextSearch(1);
a.stopPropagation();a.preventDefault();break}else if(e==d.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case k.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;e&&this._selectOption(e);case k.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(b){var d=
this.focusNode;a.selectInputText(d,d.value.length);var e=this.ignoreCase?"toLowerCase":"substr";0==b[e](0).indexOf(this.focusNode.value[e](0))?(e=this.autoComplete?this._getCaretPos(d):d.value.length,e+1>d.value.length&&(d.value=b,a.selectInputText(d,e))):(d.value=b,a.selectInputText(d))},_openResultList:function(a,b,d){var e=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();a.length||0!=d.start?(this._nextSearch=this.dropDown.onPage=g.hitch(this,function(b){a.nextPage(-1!==b);
this.focus()}),this.dropDown.createOptions(a,d,g.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in d?(d.direction?this.dropDown.highlightFirstOption():d.direction||this.dropDown.highlightLastOption(),e&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(b[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)):this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;!b||a!=b._messages.previousMessage&&a!=b._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=
this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0);this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,d){var e="";a&&(d||(d=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),e=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):d);this.set("value",e,b,d,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var d=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(d,this.searchAttr):d[this.searchAttr]).toString();this.set("item",d,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",l.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (g.isString(this.dropDownClass)?g.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:g.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},
_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new f({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=b('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",
a[0].id));this.inherited(arguments);m.after(this,"onSearch",g.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var d=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),e=this.queryExpr.indexOf("${0}");b=h.escapeString(b);return this._escapeHtml(a.replace(new RegExp((0==
e?"^":"")+"("+b+")"+(e==this.queryExpr.length-4?"$":""),d),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},
_setValueAttr:function(a,b,d,e){this._set("item",e||null);null==a&&(a="");this.inherited(arguments)}});e("dojo-bidi")&&n.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return n})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){n=
n("dojo.dnd.Container",f,{skipForm:!1,allowNested:!1,constructor:function(a,c){this.node=b.byId(a);c||(c={});this.creator=c.creator||null;this.skipForm=c.skipForm;this.parent=c.dropParent&&b.byId(c.dropParent);this.map={};this.current=null;this.containerState="";h.add(this.node,"dojoDndContainer");c&&c._skipStartup||this.startup();this.events=[d(this.node,p.over,k.hitch(this,"onMouseOver")),d(this.node,p.out,k.hitch(this,"onMouseOut")),d(this.node,"dragstart",k.hitch(this,"onSelectStart")),d(this.node,
"selectstart",k.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||l.global;var c=this.map,d=q._empty,e;for(e in c)e in d||a.call(b,c[e],e,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return c((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=
this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=q.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<
a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){m.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=q._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){this.skipForm&&q.isFormElement(a)||(a.stopPropagation(),a.preventDefault())},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";h.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){h.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){h.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=
a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&h.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var c=(this.creator||this.defaultCreator).call(this,a,b);k.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=q.getUniqueId());h.add(c.node,"dojoDndItem");return c}});q._createNode=function(a){return a?function(b){return e.create(a,{innerHTML:b})}:q._createSpan};q._createTrTd=function(a){var b=e.create("tr");e.create("td",
{innerHTML:a},b);return b};q._createSpan=function(a){return e.create("span",{innerHTML:a})};q._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};q._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?q._createTrTd:q._createNode(q._defaultCreatorNodes[a]);return function(a,c){var d=a&&k.isObject(a),e,f;d&&a.tagName&&a.nodeType&&a.getAttribute?(e=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],f=a):(e=d&&a.data?a.data:
a,d=d&&a.type?a.type:["text"],f=("avatar"==c?q._createSpan:b)(String(e)));f.id||(f.id=q.getUniqueId());return{node:f,data:e,type:d}}};return n})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(m,n,l,k){function g(b){var c=a[b.options.handleAs];b.data=c?c(b):b.data||b.text;return b}k.add("activex","undefined"!==typeof ActiveXObject);k.add("dom-parser",function(a){return"DOMParser"in a});var b;if(k("activex")){var h=["Msxml2.DOMDocument.6.0",
"Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],e;b=function(a){function b(a){try{var c=new ActiveXObject(a);c.async=!1;c.loadXML(g);f=c;e=a}catch(d){return!1}return!0}var f=a.data,g=a.text;f&&k("dom-qsa2.1")&&!f.querySelectorAll&&k("dom-parser")&&(f=(new DOMParser).parseFromString(g,"application/xml"));f&&f.documentElement||e&&b(e)||l.some(h,b);return f}}var f=function(a){return k("native-xhr2-blob")||"blob"!==a.options.handleAs||"undefined"===typeof Blob?a.xhr.response:new Blob([a.xhr.response],
{type:a.xhr.getResponseHeader("Content-Type")})},a={javascript:function(a){return n.eval(a.text||"")},json:function(a){return m.parse(a.text||null)},xml:b,blob:f,arraybuffer:f,document:f};g.register=function(b,c){a[b]=c};return g})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(m,n,l,k,g,b,h){function e(a,d,c,e){var f=b.getEffectiveBox(a.ownerDocument);a.parentNode&&"body"==String(a.parentNode.tagName).toLowerCase()||
g.body(a.ownerDocument).appendChild(a);var h=null;m.some(d,function(b){var d=b.corner,g=b.pos,k=0,l={w:{L:f.l+f.w-g.x,R:g.x-f.l,M:f.w}[d.charAt(1)],h:{T:f.t+f.h-g.y,B:g.y-f.t,M:f.h}[d.charAt(0)]},m=a.style;m.left=m.right="auto";c&&(k=c(a,b.aroundCorner,d,l,e),k="undefined"==typeof k?0:k);var r=a.style,t=r.display,E=r.visibility;"none"==r.display&&(r.visibility="hidden",r.display="");m=n.position(a);r.display=t;r.visibility=E;t={L:g.x,R:g.x-m.w,M:Math.max(f.l,Math.min(f.l+f.w,g.x+(m.w>>1))-m.w)}[d.charAt(1)];
E={T:g.y,B:g.y-m.h,M:Math.max(f.t,Math.min(f.t+f.h,g.y+(m.h>>1))-m.h)}[d.charAt(0)];g=Math.max(f.l,t);r=Math.max(f.t,E);t=Math.min(f.l+f.w,t+m.w);E=Math.min(f.t+f.h,E+m.h);t-=g;E-=r;k+=m.w-t+(m.h-E);if(null==h||k<h.overflow)h={corner:d,aroundCorner:b.aroundCorner,x:g,y:r,w:t,h:E,overflow:k,spaceAvailable:l};return!k});h.overflow&&c&&c(a,h.aroundCorner,h.corner,h.spaceAvailable,e);d=h.y;var k=h.x,t=g.body(a.ownerDocument);/relative|absolute/.test(l.get(t,"position"))&&(d-=l.get(t,"marginTop"),k-=l.get(t,
"marginLeft"));t=a.style;t.top=d+"px";t.left=k+"px";t.right="auto";return h}var f={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return h.place={at:function(a,b,c,h,g){c=m.map(c,function(a){var c={corner:a,aroundCorner:f[a],pos:{x:b.x,y:b.y}};h&&(c.pos.x+="L"==a.charAt(1)?h.x:-h.x,c.pos.y+="T"==a.charAt(0)?h.y:-h.y);return c});return e(a,c,g)},around:function(a,b,c,f,h){function g(a,b){E.push({aroundCorner:a,corner:b,pos:{x:{L:y,R:y+z,M:y+(z>>1)}[a.charAt(1)],y:{T:A,B:A+B,M:A+(B>>1)}[a.charAt(0)]}})}var r;if("string"==
typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(r=n.position(b,!0),/^(above|below)/.test(c[0])){var t=n.getBorderExtents(b),u=b.firstChild?n.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=n.getBorderExtents(a),w=a.firstChild?n.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};r.y+=Math.min(t.t+u.t,x.t+w.t);r.h-=Math.min(t.t+u.t,x.t+w.t)+Math.min(t.b+u.b,x.b+w.b)}}else r=b;if(b.parentNode)for(t="absolute"==l.getComputedStyle(b).position,b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){u=
n.position(b,!0);x=l.getComputedStyle(b);/relative|absolute/.test(x.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(x.overflow)){var w=Math.min(r.y+r.h,u.y+u.h),v=Math.min(r.x+r.w,u.x+u.w);r.x=Math.max(r.x,u.x);r.y=Math.max(r.y,u.y);r.h=w-r.y;r.w=v-r.x}"absolute"==x.position&&(t=!0);b=b.parentNode}var y=r.x,A=r.y,z="w"in r?r.w:r.w=r.width,B="h"in r?r.h:(k.deprecated("place.around: dijit/place.__Rectangle: { x:"+y+", y:"+A+", height:"+r.height+", width:"+z+" } has been deprecated.  Please use { x:"+
y+", y:"+A+", h:"+r.height+", w:"+z+" }","","2.0"),r.h=r.height),E=[];m.forEach(c,function(a){var b=f;switch(a){case "above-centered":g("TM","BM");break;case "below-centered":g("BM","TM");break;case "after-centered":b=!b;case "before-centered":g(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":g(b?"TL":"TR",b?"TR":"TL");g(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":g(b?"BL":"BR",b?"TL":"TR");g(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":g(b?
"TL":"TR",b?"BL":"BR");g(b?"TR":"TL",b?"BR":"BL");break;default:g(a.aroundCorner,a.corner)}});a=e(a,E,h,{w:z,h:B});a.aroundNodePos=r;return a}}})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(m,n,l){return m("dijit.form.ComboBox",[n,l],{})})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(m,n,l,k,g,b,h,e,f){return b("dijit.layout._LayoutWidget",[n,l,k],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();a&&a.isLayoutContainer||(this.resize(),this.own(g.on("resize",m.hitch(this,"resize"))))}},resize:function(a,b){var c=this.domNode;a&&e.setMarginBox(c,a);var h=b||
{};m.mixin(h,a||{});"h"in h&&"w"in h||(h=m.mixin(e.getMarginBox(c),h));var g=f.getComputedStyle(c),k=e.getMarginExtents(c,g),l=e.getBorderExtents(c,g),h=this._borderBox={w:h.w-(k.w+l.w),h:h.h-(k.h+l.h)},k=e.getPadExtents(c,g);this._contentBox={l:f.toPixelValue(c,g.paddingLeft),t:f.toPixelValue(c,g.paddingTop),w:h.w-k.w,h:h.h-k.h};this.layout()},layout:function(){},_setupChild:function(a){h.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,
b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){h.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"tm1web/workbook/model/ControlCache":function(){define(["dojo/_base/declare"],function(m){return m(null,{constructor:function(){this._controls={}},get:function(m){return this._controls},getControl:function(m){return this._controls[m]},add:function(m){for(var l=0;l<m.length;l++)this._controls[m[l].controlId]=
m[l]},updateCheckedState:function(m,l){var k=this._controls,g=this._controls[m];if(g)if(g.state)g.state=l?"Checked":"Unchecked";else if("undefined"!==typeof g.checked){g.checked=l;for(var b in k)if(k.hasOwnProperty(b)){var h=k[b];h.group&&h.controlId!==m&&h.group===g.group&&(h.checked=!l)}}},updateSelectedIndices:function(m,l){var k=this._controls[m];if(k){var g=l.length;k.selectedIndices=Array(g);for(var b=0;b<g;b++)k.selectedIndices[b]=l[b]}},updateSelectedIndex:function(m,l){var k=this._controls[m];
k&&(k.selectedIndex=l)},updateSelectedValue:function(m,l){var k=this._controls[m];k&&(k.selectedValue=l)},updateText:function(m,l){var k=this._controls[m];k&&(k.text=l)},updateScrollTop:function(m,l){var k=this._controls[m];k&&(k.scrollTop=l)},clear:function(){this._controls={}}})})},"tm1web/share/NumberType":function(){define({DECIMAL:"decimal",PERCENT:"percent"})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(m,n,l,k){var g={};m.colors=
g;var b=function(b,f,a){0>a&&++a;1<a&&--a;var d=6*a;return 1>d?b+(f-b)*d:1>2*a?f:2>3*a?b+(f-b)*(2/3-a)*6:b};m.colorFromRgb=l.fromRgb=function(e,f){var a=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var d=a[2].split(/\s*,\s*/),c=d.length,a=a[1];if("rgb"==a&&3==c||"rgba"==a&&4==c)return a=d[0],"%"==a.charAt(a.length-1)?(a=k.map(d,function(a){return 2.56*parseFloat(a)}),4==c&&(a[3]=d[3]),l.fromArray(a,f)):l.fromArray(d,f);if("hsl"==a&&3==c||"hsla"==a&&4==c){var a=(parseFloat(d[0])%
360+360)%360/360,h=parseFloat(d[1])/100,g=parseFloat(d[2])/100,h=.5>=g?g*(h+1):g+h-g*h,g=2*g-h,a=[256*b(g,h,a+1/3),256*b(g,h,a),256*b(g,h,a-1/3),1];4==c&&(a[3]=d[3]);return l.fromArray(a,f)}}return null};var h=function(b,f,a){b=Number(b);return isNaN(b)?a:b<f?f:b>a?a:b};l.prototype.sanitize=function(){this.r=Math.round(h(this.r,0,255));this.g=Math.round(h(this.g,0,255));this.b=Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};g.makeGrey=l.makeGrey=function(b,f){return l.fromArray([b,b,
b,f])};n.mixin(l.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,
169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,
34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,
250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,
104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,
192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,
222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return l})},"dojox/grid/cells/_base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dijit/_Widget ../util".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c){var p=n("dojox.grid._DeferredTextWidget",d,{deferred:null,_destroyOnRemove:!0,postCreate:function(){this.deferred&&this.deferred.addBoth(l.hitch(this,function(a){this.domNode&&
(this.domNode.innerHTML=a)}))}}),q=function(){setTimeout(l.hitch.apply(m,arguments),0)},s=n("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:!1,alwaysEditing:!1,formatter:null,defaultValue:"...",value:null,hidden:!1,noresize:!1,draggable:!0,_valueProp:"value",_formatPending:!1,constructor:function(a){this._props=a||{};l.mixin(this,a);void 0===this.draggable&&(this.draggable=!0)},_defaultFormat:function(b,c){var d=this.grid.formatterScope||this,e=this.formatter;e&&d&&"string"==typeof e&&
(e=this.formatter=d[e]);d=b!=this.defaultValue&&e?e.apply(d,c):b;if("undefined"==typeof d)return this.defaultValue;d&&d.addBoth&&(d=new p({deferred:d},a.create("span",{innerHTML:this.defaultValue})));return d&&d.declaredClass&&d.startup?"\x3cdiv class\x3d'dojoxGridStubNode' linkWidget\x3d'"+d.id+"' cellIdx\x3d'"+this.index+"'\x3e"+this.defaultValue+"\x3c/div\x3e":d},format:function(a,b){var c=this.grid.edit.info,d=this.get?this.get(a,b):this.value||this.defaultValue,d=d&&d.replace&&this.grid.escapeHTMLInData?
d.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):d;return this.editable&&(this.alwaysEditing||c.rowIndex==a&&c.cell==this)?this.formatEditing(c.value?c.value:d,a):this._defaultFormat(d,[d,a,this])},formatEditing:function(a,b){},getNode:function(a){return this.view.getCellNode(a,this.index)},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index)},getEditNode:function(a){return(this.getNode(a)||0).firstChild||0},canResize:function(){var a=this.unitWidth;return a&&"auto"!==a},isFlex:function(){var a=
this.unitWidth;return a&&l.isString(a)&&("auto"==a||"%"==a.slice(-1))},applyEdit:function(a,b){this.getNode(b)&&this.grid.edit.applyCellEdit(a,this,b)},cancelEdit:function(a){this.grid.doCancelEdit(a)},_onEditBlur:function(a){this.grid.edit.isEditCell(a,this.index)&&this.grid.edit.apply()},registerOnBlur:function(a,b){this.commitOnBlur&&g.connect(a,"onblur",function(a){setTimeout(l.hitch(this,"_onEditBlur",b),250)})},needFormatNode:function(a,b){this._formatPending=!0;q(this,"_formatNode",a,b)},cancelFormatNode:function(){this._formatPending=
!1},_formatNode:function(a,b){this._formatPending&&(this._formatPending=!1,h("ie")||e.setSelectable(this.grid.domNode,!0),this.formatNode(this.getEditNode(b),a,b))},formatNode:function(a,b,c){h("ie")?q(this,"focus",c,a):this.focus(c,a)},dispatchEvent:function(a,b){if(a in this)return this[a](b)},getValue:function(a){return this.getEditNode(a)[this._valueProp]},setValue:function(a,b){var c=this.getEditNode(a);c&&(c[this._valueProp]=b)},focus:function(a,b){var d=b||this.getEditNode(a);try{c.fire(d,
"focus"),c.fire(d,"select")}catch(e){}},save:function(a){this.value=this.value||this.getValue(a)},restore:function(a){this.setValue(a,this.value)},_finish:function(a){e.setSelectable(this.grid.domNode,!1);this.cancelFormatNode()},apply:function(a){this.applyEdit(this.getValue(a),a);this._finish(a)},cancel:function(a){this.cancelEdit(a);this._finish(a)}});s.markupFactory=function(a,b){var c=l.trim(f.get(a,"formatter")||"");c&&(b.formatter=l.getObject(c)||c);if(c=l.trim(f.get(a,"get")||""))b.get=l.getObject(c);
c=function(b,c,d){var e=l.trim(f.get(a,b)||"");e&&(c[d||b]="false"!=e.toLowerCase())};c("sortDesc",b);c("editable",b);c("alwaysEditing",b);c("noresize",b);c("draggable",b);if(c=l.trim(f.get(a,"loadingText")||f.get(a,"defaultValue")||""))b.defaultValue=c;c=function(b,c,d){var e=l.trim(f.get(a,b)||"")||void 0;e&&(c[d||b]=e)};c("styles",b);c("headerStyles",b);c("cellStyles",b);c("classes",b);c("headerClasses",b);c("cellClasses",b)};var r=s.Cell=n("dojox.grid.cells.Cell",s,{constructor:function(){this.keyFilter=
this.keyFilter},keyFilter:null,formatEditing:function(a,b){this.needFormatNode(a,b);a&&a.replace&&(a=a.replace(/"/g,"\x26quot;"));return'\x3cinput class\x3d"dojoxGridInput" type\x3d"text" value\x3d"'+a+'"\x3e'},formatNode:function(a,b,c){this.inherited(arguments);this.registerOnBlur(a,c)},doKey:function(a){this.keyFilter&&-1==String.fromCharCode(a.charCode).search(this.keyFilter)&&k.stop(a)},_finish:function(a){this.inherited(arguments);var b=this.getEditNode(a);try{c.fire(b,"blur")}catch(d){}}});
r.markupFactory=function(a,b){s.markupFactory(a,b);var c=l.trim(f.get(a,"keyFilter")||"");c&&(b.keyFilter=new RegExp(c))};(s.RowIndex=n("dojox.grid.cells.RowIndex",r,{name:"Row",postscript:function(){this.editable=!1},get:function(a){return a+1}})).markupFactory=function(a,b){r.markupFactory(a,b)};(s.Select=n("dojox.grid.cells.Select",r,{options:null,values:null,returnIndex:-1,constructor:function(a){this.values=this.values||this.options},formatEditing:function(a,b){this.needFormatNode(a,b);for(var c=
['\x3cselect class\x3d"dojoxGridSelect"\x3e'],d=0,e,f;void 0!==(e=this.options[d])&&void 0!==(f=this.values[d]);d++)f=f.replace?f.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):f,e=e.replace?e.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):e,c.push("\x3coption",a==f?" selected":"",' value\x3d"'+f+'"',"\x3e",e,"\x3c/option\x3e");c.push("\x3c/select\x3e");return c.join("")},_defaultFormat:function(a,c){var d=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var e=b.indexOf(this.values,
d);0<=e&&(d=this.options[e])}return d},getValue:function(a){var b=this.getEditNode(a);if(b)return a=b.selectedIndex,b=b.options[a],-1<this.returnIndex?a:b.value||b.innerHTML}})).markupFactory=function(a,b){r.markupFactory(a,b);var c=l.trim(f.get(a,"options")||"");if(c){var d=c.split(",");d[0]!=c&&(b.options=d)}if(c=l.trim(f.get(a,"values")||""))d=c.split(","),d[0]!=c&&(b.values=d)};var t=s.AlwaysEdit=n("dojox.grid.cells.AlwaysEdit",r,{alwaysEditing:!0,_formatNode:function(a,b){this.formatNode(this.getEditNode(b),
a,b)},applyStaticValue:function(a){var b=this.grid.edit;b.applyCellEdit(this.getValue(a),this,a);b.start(this,a,!0)}});t.markupFactory=function(a,b){r.markupFactory(a,b)};(s.Bool=n("dojox.grid.cells.Bool",t,{_valueProp:"checked",formatEditing:function(a,b){return'\x3cinput class\x3d"dojoxGridInput" type\x3d"checkbox"'+(a?' checked\x3d"checked"':"")+' style\x3d"width: auto" /\x3e'},doclick:function(a){"INPUT"==a.target.tagName&&this.applyStaticValue(a.rowIndex)}})).markupFactory=function(a,b){t.markupFactory(a,
b)};return s})},"dojo/cldr/supplemental":function(){define(["../_base/kernel","../_base/lang","../i18n"],function(m,n,l){var k={};n.setObject("cldr.supplemental",k,m);k.getFirstDayOfWeek=function(g){g={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,
pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(g)];return void 0===g?1:g};k._region=function(g){g=l.normalizeLocale(g);g=g.split("-");var b=g[1];b?4==b.length&&(b=g[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",
es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",
mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",
ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",
cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",
kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",
nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",
tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return b};k.getWeekend=function(g){var b=k._region(g);g={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,
bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===g&&(g=6);void 0===b&&(b=0);return{start:g,end:b}};return k})},"dojo/number":function(){define("./_base/kernel ./_base/lang ./i18n ./i18n!./cldr/nls/number ./string ./regexp".split(" "),function(m,n,l,k,g,b){var h={};m.number=h;h.format=function(b,a){a=n.mixin({},a||{});var d=l.normalizeLocale(a.locale),d=l.getLocalization("dojo.cldr","number",d)||k;a.customs=d;d=a.pattern||d[(a.type||"decimal")+"Format"];return isNaN(b)||Infinity==
Math.abs(b)?null:h._applyPattern(b,d,a)};h._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;h._applyPattern=function(b,a,d){d=d||{};var c=d.customs.group,e=d.customs.decimal;a=a.split(";");var g=a[0];a=a[0>b?1:0]||"-"+g;if(-1!=a.indexOf("%"))b*=100;else if(-1!=a.indexOf("\u2030"))b*=1E3;else if(-1!=a.indexOf("\u00a4"))c=d.customs.currencyGroup||c,e=d.customs.currencyDecimal||e,a=a.replace(/\u00a4{1,3}/,function(a){return d[["symbol","currency","displayName"][a.length-1]]||d.currency||""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");
var k=h._numberPatternRE,g=g.match(k);if(!g)throw Error("unable to find a number expression in pattern: "+a);!1===d.fractional&&(d.places=0);return a.replace(k,h._formatAbsolute(b,g[0],{decimal:e,group:c,places:d.places,round:d.round}))};h.round=function(b,a,d){d=10/(d||10);return(d*+b).toFixed(a)/d};if(0==(.9).toFixed()){var e=h.round;h.round=function(b,a,d){var c=Math.pow(10,-a||0),h=Math.abs(b);if(!b||h>=c)c=0;else if(h/=c,.5>h||.95<=h)c=0;return e(b,a,d)+(0<b?c:-c)}}h._formatAbsolute=function(b,
a,d){d=d||{};!0===d.places&&(d.places=0);Infinity===d.places&&(d.places=6);a=a.split(".");var c="string"==typeof d.places&&d.places.indexOf(","),e=d.places;c?e=d.places.substring(c+1):0<=e||(e=(a[1]||[]).length);0>d.round||(b=h.round(b,e,d.round));b=String(Math.abs(b)).split(".");var k=b[1]||"";a[1]||d.places?(c&&(d.places=d.places.substring(0,c)),c=void 0!==d.places?d.places:a[1]&&a[1].lastIndexOf("0")+1,c>k.length&&(b[1]=g.pad(k,c,"0",!0)),e<k.length&&(b[1]=k.substr(0,e))):b[1]&&b.pop();e=a[0].replace(",",
"");c=e.indexOf("0");-1!=c&&(c=e.length-c,c>b[0].length&&(b[0]=g.pad(b[0],c)),-1==e.indexOf("#")&&(b[0]=b[0].substr(b[0].length-c)));var e=a[0].lastIndexOf(","),l,m;-1!=e&&(l=a[0].length-e-1,a=a[0].substr(0,e),e=a.lastIndexOf(","),-1!=e&&(m=a.length-e-1));a=[];for(e=b[0];e;)c=e.length-l,a.push(0<c?e.substr(c):e),e=0<c?e.slice(0,c):"",m&&(l=m,delete m);b[0]=a.reverse().join(d.group||",");return b.join(d.decimal||".")};h.regexp=function(b){return h._parseInfo(b).regexp};h._parseInfo=function(e){e=e||
{};var a=l.normalizeLocale(e.locale),a=l.getLocalization("dojo.cldr","number",a)||k,d=e.pattern||a[(e.type||"decimal")+"Format"],c=a.group,g=a.decimal,m=1;if(-1!=d.indexOf("%"))m/=100;else if(-1!=d.indexOf("\u2030"))m/=1E3;else{var n=-1!=d.indexOf("\u00a4");n&&(c=a.currencyGroup||c,g=a.currencyDecimal||g)}a=d.split(";");1==a.length&&a.push("-"+a[0]);a=b.buildGroupRE(a,function(a){a="(?:"+b.escapeString(a,".")+")";return a.replace(h._numberPatternRE,function(a){var b={signed:!1,separator:e.strict?
c:[c,""],fractional:e.fractional,decimal:g,exponent:!1};a=a.split(".");var d=e.places;1==a.length&&1!=m&&(a[1]="###");1==a.length||0===d?b.fractional=!1:(void 0===d&&(d=e.pattern?a[1].lastIndexOf("0")+1:Infinity),d&&void 0==e.fractional&&(b.fractional=!0),!e.places&&d<a[1].length&&(d+=","+a[1].length),b.places=d);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,1<a.length&&(b.groupSize2=a.pop().length));return"("+h._realNumberRegexp(b)+")"})},!0);n&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,
function(a,c,d,h){a=b.escapeString(e[["symbol","currency","displayName"][d.length-1]]||e.currency||"");c=c?"[\\s\\xa0]":"";h=h?"[\\s\\xa0]":"";return e.strict?c+a+h:(c&&(c+="*"),h&&(h+="*"),"(?:"+c+a+h+")?")}));return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:c,decimal:g,factor:m}};h.parse=function(b,a){var d=h._parseInfo(a),c=(new RegExp("^"+d.regexp+"$")).exec(b);if(!c)return NaN;var e=c[1];if(!c[1]){if(!c[2])return NaN;e=c[2];d.factor*=-1}e=e.replace(new RegExp("["+d.group+"\\s\\xa0]","g"),
"").replace(d.decimal,".");return e*d.factor};h._realNumberRegexp=function(e){e=e||{};"places"in e||(e.places=Infinity);"string"!=typeof e.decimal&&(e.decimal=".");"fractional"in e&&!/^0/.test(e.places)||(e.fractional=[!0,!1]);"exponent"in e||(e.exponent=[!0,!1]);"eSigned"in e||(e.eSigned=[!0,!1]);var a=h._integerRegexp(e),d=b.buildGroupRE(e.fractional,function(a){var b="";a&&0!==e.places&&(b="\\"+e.decimal,b=Infinity==e.places?"(?:"+b+"\\d+)?":b+("\\d{"+e.places+"}"));return b},!0),c=b.buildGroupRE(e.exponent,
function(a){return a?"([eE]"+h._integerRegexp({signed:e.eSigned})+")":""}),a=a+d;d&&(a="(?:(?:"+a+")|(?:"+d+"))");return a+c};h._integerRegexp=function(e){e=e||{};"signed"in e||(e.signed=[!0,!1]);"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="";var a=b.buildGroupRE(e.signed,function(a){return a?"[-+]":""},!0),d=b.buildGroupRE(e.separator,function(a){if(!a)return"(?:\\d+)";a=b.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var d=e.groupSize,h=e.groupSize2;return h?(a="(?:0|[1-9]\\d{0,"+
(h-1)+"}(?:["+a+"]\\d{"+h+"})*["+a+"]\\d{"+d+"})",0<d-h?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*)"},!0);return a+d};return h})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(m,n,l,k,g,b,h,e,f,a){return n("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,
startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(f.on("resize",b.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;h("\x3e *",this.containerNode).some(function(f){var h=e.byNode(f);h&&h.resize?a.push(h):!/script|link|style/i.test(f.nodeName)&&f.offsetHeight&&(b=!0)});
this._singleChild=1!=a.length||b?null:a[0];l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(d,c){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();d&&k.setMarginBox(this.domNode,d);var e=this.containerNode;if(e===this.domNode){var f=c||{};
b.mixin(f,d||{});"h"in f&&"w"in f||(f=b.mixin(k.getMarginBox(e),f));this._contentBox=a.marginBox2contentBox(e,f)}else this._contentBox=k.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||k.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),b,e=0;b=a[e++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&
"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"tm1web/subseteditor/TreePaneHeader":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-class",
"dijit/layout/ContentPane"],function(m,n,l,k,g){return m(g,{model:null,subsetModel:null,region:"top",_subsetModified:!1,postCreate:function(){this.inherited(arguments);l.setSelectable(this.containerNode,!1);k.add(this.domNode,"tm1webTreePaneHeader");if(this.subsetModel){var b=n.hitch(this,"_onSubsetMetaDataChange");this.subsetModel.getMetaData(b);this.connect(this.subsetModel,"onMetaDataChange",b)}b=n.hitch(this,"onMetaDataChange");this.model.getMetaData().then(b);this.connect(this.model,"onMetaDataChange",
b)},_onSubsetMetaDataChange:function(b){this._subsetModified=b.modified;this.model.getMetaData().then(n.hitch(this,function(){this.model.getMetaData().then(n.hitch(this,"onMetaDataChange"))}))},_getSubsetModifiedAttr:function(){return this._subsetModified},onMetaDataChange:function(b){this.set("content",this.getLabel(b))},getLabel:function(b){}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(m,n,l,k){var g=m("dijit.form._ButtonMixin"+
(l("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(b){b.stopPropagation();b.preventDefault();this.disabled||this.valueNode.click(b);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var h=b.defaultPrevented;if(!h&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var e=this.domNode;e.parentNode;e=e.parentNode){var f=k.byNode(e);if(f&&"function"==typeof f._onSubmit){f._onSubmit(b);
b.preventDefault();h=!0;break}}return!h},postCreate:function(){this.inherited(arguments);n.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b}});l("dojo-bidi")&&(g=m("dijit.form._ButtonMixin",g,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return g})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],
function(m,n,l){function k(h){setTimeout(function(){b.apply(g,h)},0)}var g=new l,b=g.emit;g.emit=null;n.prototype.trace=function(){var b=m._toArray(arguments);this.then(function(e){k(["resolved",e].concat(b))},function(e){k(["rejected",e].concat(b))},function(e){k(["progress",e].concat(b))});return this};n.prototype.traceRejected=function(){var b=m._toArray(arguments);this.otherwise(function(e){k(["rejected",e].concat(b))});return this};return g})},"tm1web/workbook/model/WorksheetModel":function(){define("dojo/_base/declare dojo/_base/lang dojo/promise/all dojo/Deferred ../../utility/units ../../utility/clipboard ../../grid/model/Model ./utility/control-adjuster ./WorksheetStore ./ControlCache ./ActionButtonCalculationType".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return m(h,{_Store:f,_controlCache:null,workbookModel:null,objectId:null,constructor:function(){this._controlCache=new a},_load:function(){this.metadata?(this.onLoadPromise=l([]),this.setMetadata(this.metadata),delete this.metadata):this.inherited(arguments)},_getStoreParams:function(){return{sessionToken:this.sessionToken,objectId:this.objectId,index:this.index}},get:function(a){if(this._queuedAction)return this._queuedAction(a),(new k).promise;var b=this._packCachedCells(a),
d=b.data,e=this._packCachedControls(a);a=b.uncachedCells;var f=new k;a.length?this._loadUncachedCells(a,d,e).then(function(){f.resolve({data:d,controls:e})}).otherwise(function(a){f.reject(a)}):setTimeout(function(){f.resolve({data:d,controls:e})},0);return f.promise},_packCachedControls:function(a){return this._controlCache.get(a)},getRawRowIndex:function(a){return this._metadata.rows[a].rawIndex},getRawColumnIndex:function(a){return this._metadata.columns[a].rawIndex},_setQueuedAction:function(a){var b=
this;this._queuedAction=function(d){b._queuedAction=null;a(d)}},_loadUncachedCells:function(a,b,d){var e=new k,f=this;this.store.query(a).then(function(a){f._cacheCells(a,b);f._cacheControls(a.controls,d);e.resolve()}).otherwise(function(a){e.reject(a)});return e.promise},_adjustControlUnits:function(a){for(var b=a&&a.length||0,d=0;d<b;d++){var e=a[d],f=e.style,h=e.fromAnchor,e=e.toAnchor;f&&(f.height=g.toPx(f.height),f.width=g.toPx(f.width),f.top=g.toPx(f.top),f.left=g.toPx(f.left));h&&(h.offsetTop=
g.toPx(h.offsetTop),h.originalOffsetTop=g.toPx(h.originalOffsetTop));e&&(e.offsetTop=g.toPx(e.offsetTop),e.originalOffsetTop=g.toPx(e.originalOffsetTop))}},_cacheControls:function(a,b){if(b)for(var d=0;d<a.length;d++)b[a[d].controlId]=a[d];this._adjustControlUnits(a);this._controlCache.add(a)},clearCache:function(){this.inherited(arguments);this._controlCache.clear()},getSelectedAnchorCell:function(){var a=this.getStartSelectedCell();return a?{row:a.x,column:a.y}:null},setData:function(a,b){this.inherited(arguments);
this._cacheControls(a.controls)},setCheckBoxChecked:function(a,b){var d=new k;this.store.setCheckBoxChecked(a,b).then(n.hitch(this,function(e){e?(this._controlCache.updateCheckedState(a,b),this.set(e),this.onDataChange(),d.resolve()):this.workbookModel.recalculate().then(function(){d.resolve()})}));return d.promise},setOptionButtonChecked:function(a){var b=new k;this.store.setOptionButtonChecked(a).then(n.hitch(this,function(d){d?(this._controlCache.updateCheckedState(a,!0),this.set(d),this.onDataChange(),
b.resolve()):this.workbookModel.recalculate().then(function(){b.resolve()})}));return b.promise},setTextBoxText:function(a,b){var d=new k;this.store.setTextBoxText(a,b).then(n.hitch(this,function(e){e?(this._controlCache.updateText(a,b),this.set(e),this.onDataChange(),d.resolve()):this.workbookModel.recalculate().then(function(){d.resolve()})}));return d.promise},setListBoxSelectedIndices:function(a,b){var d=new k;this.store.setListBoxSelectedIndices(a,b).then(n.hitch(this,function(e){e?(this._controlCache.updateSelectedIndices(a,
b),this.set(e),this.onDataChange(),d.resolve()):this.workbookModel.recalculate().then(function(){d.resolve()})}));return d.promise},setComboBoxSelectedIndex:function(a,b){var d=new k;this.store.setComboBoxSelectedIndex(a,b).then(n.hitch(this,function(e){e?(this._controlCache.updateSelectedIndex(a,b),this.set(e),this.onDataChange(),d.resolve()):this.workbookModel.recalculate().then(function(){d.resolve()})}));return d.promise},setComboBoxSelectedValue:function(a,b){var d=new k;this.store.setComboBoxSelectedValue(a,
b).then(n.hitch(this,function(e){e?(this._controlCache.updateSelectedValue(a,b),this.set(e),this.onDataChange(),d.resolve()):this.workbookModel.recalculate().then(function(){d.resolve()})}));return d.promise},setControlScrollTop:function(a,b){var d=this._controlCache;return this.store.setControlScrollTop(a,b).then(function(){d.updateScrollTop(a,b)})},getActionButtonProcessConfirmation:function(a){var b=new k,d=this._controlCache.getControl(a);d&&null!=d.confirmation?b.resolve(d.confirmation):this.store.getActionButtonProcessConfirmation(a,
this.getSelectedAnchorCell()).then(function(a){d&&(d.confirmation=a);b.resolve(a)});return b.promise},onEvent:function(a){this.workbookModel.onAction(a)},_onEvent:function(a,b){this.onEvent({action:a,state:"started"});b.always(n.hitch(this,function(){this.onEvent({action:a,state:"finished"})}));return b},executeActionButton:function(a){var b=this;return this._onEvent("executeActionButton",this.store.executeActionButton(a,this.getSelectedAnchorCell()).then(function(a){function c(){return a&&!a.replace&&
(a.calculation!==d.None||a.tiProcessCalculation!==d.None||a.objectId===b.objectId&&a.navigationCalculation!==d.None)}c()&&b.workbookModel.setNeedsRefresh();b.workbookModel.onActionButtonExecution(a);if(c())b.onDataChange();return a}))},refresh:function(){var a=new k,b=this;this._setQueuedAction(function(d){b._refresh(d).then(function(){a.resolve()})});this.onDataChange();return a.promise},_refresh:function(a){var b=this;return this.store.refresh(a).then(function(a){b.workbookModel.updateWorkbookData(b,
a)})},toggle:function(a){var b=new k,d=this;this._setQueuedAction(function(e){d.store.toggle(n.mixin({ranges:e,selectedCell:d.getSelectedAnchorCell()},a)).then(function(a){d.workbookModel.updateWorkbookData(d,a,!0);b.resolve()}).otherwise(function(a,c){b.reject(a)})});this.onDataChange();return b.promise},selectRange:function(a){var b=new k,d=this;this.store.getRange(a).then(function(a){if(a.valid)d.onSelectionChanged(a);b.resolve()}).otherwise(function(a){b.reject(a)});return b.promise},getCubes:function(a,
b){return this.store.getCubes(a,b)},getRefCellDimensionData:function(a,b){return this.store.getRefCellDimensionData(a,b)},getRefCellValue:function(a,b,d,e){return this.store.getRefCellValue(a,b,d,e)},copy:function(){return this.store.copy(this.getSelectedArea()).then(b.set)},paste:function(a){var b=this,d=new k;this._setQueuedAction(function(e){b.store.paste(e,b.getSelectedAnchorCell(),a,b.getSelectedArea()).then(function(a){if(a){if(a.pastedRange){for(var c=a.pastedRange,e=c.startRow;e<=c.endRow;e++)for(var f=
c.startColumn;f<=c.endColumn;f++)b._cache.remove(e,f);b.setData(a.workbookData.gridData,!0)}else b.workbookModel.updateWorkbookData(b,a.workbookData);b.onDataChange()}d.resolve(a)})});this.onDataChange();return d.promise},spread:function(a,b,d){b=b||this.getSelectedAnchorCell();d=d||this.getSelectedArea();var e=this,f=new k;this._setQueuedAction(function(h){e.store.spread(h,b,a,d).then(function(a){a&&(e.workbookModel.updateWorkbookData(e,a),e.onDataChange());f.resolve(a)},function(a){f.reject(a)})});
this.onDataChange();return f.promise},relativeSpread:function(a,b,d){var e=this,f=new k;this._setQueuedAction(function(h){e.store.relativeSpread(h,e.getSelectedAnchorCell(),a,b,d).then(function(a){a&&(e.workbookModel.updateWorkbookData(e,a),e.onDataChange());f.resolve(a)},function(a){f.reject(a)})});this.onDataChange();return f.promise},hold:function(a){var b=this,d=new k;this._setQueuedAction(function(e){b.store.hold(e,b.getSelectedAnchorCell(),b.getSelectedArea(),a).then(function(a){a&&(b.workbookModel.updateWorkbookData(b,
a),b.onDataChange());d.resolve(a)})});this.onDataChange();return d.promise},drill:function(a,b,d){return this.store.drill(a,b,d)},executeChartDrill:function(a,b){return this.store.executeChartDrill(a,b)},addCellAnnotation:function(a,b,d){var e=this,f=new k;this._setQueuedAction(function(h){e.store.addCellAnnotation(h,e.getSelectedAnchorCell(),a,b,d).then(function(a){a&&(e.workbookModel.updateWorkbookData(e,a),e.onDataChange());f.resolve(a)})});this.onDataChange();return f.promise},getCellAnnotations:function(a,
b){return this.store.getCellAnnotations(a,b)},onSelectionChanged:function(a){},setActive:function(){this._metadata?this.workbookModel.setActiveWorksheet(this._metadata.index):this.index&&this.workbookModel.setActiveWorksheet(this.index)},changeCellValue:function(a){var b=new k,d=this;this.store.changeCellValue(a).then(function(e){e?(d._cacheCells({rows:[{cells:[e],index:a.row}]}),d.onValueChange(e)):d.workbookModel.recalculate();b.resolve(e)}).otherwise(function(a,c){b.reject(a,c)});return b.promise},
getPickList:function(a,b){var d=new k;this.store.getPickList(a,b).then(function(a){d.resolve(a)}).otherwise(function(a){d.reject(a)});return d.promise},getValidationList:function(a,b){var d=new k;this.store.getValidationList(a,b).then(function(a){d.resolve(a)}).otherwise(function(a){d.reject(a)});return d.promise},autoFitSelectedColumns:function(){var a=this;return this.store.autoFitColumns(this.getSelectedArea().minCol,this.getSelectedArea().maxCol).then(function(b){for(var d=b.length,e=0;e<d;e++){var f=
b[e],h;for(h in f)f.hasOwnProperty(h)&&(f[h].rowIndex=Number(h))}a.onAutoFitSelectedColumns(b)})},onAutoFitSelectedColumns:function(a){},resizeColumns:function(a){var b=this;return this.store.resizeColumns(a).then(function(a){b.setMetadata(a)})},recalculate:function(){return this.workbookModel.recalculate()},onTitleDimensionElementChange:function(a){this.workbookModel.onTitleDimensionElementChange(a)},deleteFromSelectedArea:function(){var a=new k,b=this;this._setQueuedAction(function(d){var e=b.getSelectedArea();
d=b._getVisibleSelectedRanges(d,e);var f={startRow:e.minRow,startColumn:e.minCol,endRow:e.maxRow,endColumn:e.maxCol};b.store.deleteFromSelectedArea(f,b.getSelectedAnchorCell(),d).then(function(d){if(d){b.clearCells([f]);for(var e=[],h=0;h<d.length;h++){var g=d[h];(e[g.rowIndex]?e[g.rowIndex]:e[g.rowIndex]={cells:[],index:g.rowIndex}).cells.push(g)}var g=[],k=Object.keys(e);for(h in k)g.push(e[k[h]]);b._cacheCells({rows:g});b.onDataChange()}else b.workbookModel.recalculate();a.resolve(d)}).otherwise(function(b){a.reject(b)})});
this.onDataChange();return a.promise},_getVisibleSelectedRanges:function(a,b){for(var d=[],e=0,f=0;f<a.length;f++)this._intersects(a[f],b)&&(d[e++]={startRow:b.minRow>a[f].startRow?b.minRow:a[f].startRow,startColumn:b.minCol>a[f].startColumn?b.minCol:a[f].startColumn,endRow:b.maxRow<a[f].endRow?b.maxRow:a[f].endRow,endColumn:b.maxCol<a[f].endColumn?b.maxCol:a[f].endColumn});return d},_intersects:function(a,b){return!(a.endRow<b.minRow||b.maxRow<a.startRow||a.endColumn<b.minCol||b.maxCol<a.startColumn)},
getValidation:function(a,b){var d=new k;this.store.getValidation(a,b).then(function(a){d.resolve(a)}).otherwise(function(a){d.reject(a)});return d.promise},isReadOnly:function(a,b){return this.inherited(arguments)||this.getCell(a,b).consolidated&&!this.isConsolidationEditAllowed()},isConsolidationEditAllowed:function(){return this.workbookModel.isConsolidationEditAllowed()},isSpreadingAllowed:function(){return this.workbookModel.isSpreadingAllowed()},_setRowHeight:function(a,b){var d=this._controlCache.get(),
f;for(f in d)d.hasOwnProperty(f)&&e.adjust(d[f],a,this.getRowHeight(a),b);this.inherited(arguments)},onMetadataChange:function(){this.workbookModel.onMetadataChange()},onDataChange:function(){this.workbookModel.onDataChange()},onValueChange:function(a){this.workbookModel.onValueChange(a)}})})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(m,n,l,k){return l("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],
newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(g){k.mixin(this,g);this.connects=[];g=this.store;if(!g.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");g.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([n.after(g,"onNew",k.hitch(this,"onNewItem"),!0),n.after(g,"onDelete",k.hitch(this,"onDeleteItem"),!0),n.after(g,"onSet",k.hitch(this,"onSetItem"),
!0)]))},destroy:function(){for(var g;g=this.connects.pop();)g.remove()},getRoot:function(g,b){this.root?g(this.root):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(b){if(1!=b.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+b.length+" items, but must return exactly one");this.root=b[0];g(this.root)}),onError:b})},mayHaveChildren:function(g){return m.some(this.childrenAttrs,function(b){return this.store.hasAttribute(g,b)},this)},getChildren:function(g,b,h){var e=
this.store;if(e.isItemLoaded(g)){for(var f=[],a=0;a<this.childrenAttrs.length;a++)var d=e.getValues(g,this.childrenAttrs[a]),f=f.concat(d);var c=0;this.deferItemLoadingUntilExpand||m.forEach(f,function(a){e.isItemLoaded(a)||c++});0==c?b(f):m.forEach(f,function(a,d){e.isItemLoaded(a)||e.loadItem({item:a,onItem:function(a){f[d]=a;0==--c&&b(f)},onError:h})})}else{var p=k.hitch(this,arguments.callee);e.loadItem({item:g,onItem:function(a){p(a,b,h)},onError:h})}},isItem:function(g){return this.store.isItem(g)},
fetchItemByIdentity:function(g){this.store.fetchItemByIdentity(g)},getIdentity:function(g){return this.store.getIdentity(g)},getLabel:function(g){return this.labelAttr?this.store.getValue(g,this.labelAttr):this.store.getLabel(g)},newItem:function(g,b,h){var e={parent:b,attribute:this.childrenAttrs[0]},f;this.newItemIdAttr&&g[this.newItemIdAttr]?this.fetchItemByIdentity({identity:g[this.newItemIdAttr],scope:this,onItem:function(a){a?this.pasteItem(a,null,b,!0,h):(f=this.store.newItem(g,e))&&void 0!=
h&&this.pasteItem(f,b,b,!1,h)}}):(f=this.store.newItem(g,e))&&void 0!=h&&this.pasteItem(f,b,b,!1,h)},pasteItem:function(g,b,h,e,f){var a=this.store,d=this.childrenAttrs[0];b&&m.forEach(this.childrenAttrs,function(c){if(a.containsValue(b,c,g)){if(!e){var f=m.filter(a.getValues(b,c),function(a){return a!=g});a.setValues(b,c,f)}d=c}});if(h)if("number"==typeof f){var c=a.getValues(h,d).slice();c.splice(f,0,g);a.setValues(h,d,c)}else a.setValues(h,d,a.getValues(h,d).concat(g))},onChange:function(){},onChildrenChange:function(){},
onDelete:function(){},onNewItem:function(g,b){b&&this.getChildren(b.item,k.hitch(this,function(h){this.onChildrenChange(b.item,h)}))},onDeleteItem:function(g){this.onDelete(g)},onSetItem:function(g,b){if(-1!=m.indexOf(this.childrenAttrs,b))this.getChildren(g,k.hitch(this,function(b){this.onChildrenChange(g,b)}));else this.onChange(g)}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(m,n){var l=n.prototype.onMove;return m("dojo.dnd.TimedMoveable",n,{timeout:40,
constructor:function(k,g){g||(g={});g.timeout&&"number"==typeof g.timeout&&0<=g.timeout&&(this.timeout=g.timeout)},onMoveStop:function(k){k._timer&&(clearTimeout(k._timer),l.call(this,k,k._leftTop));n.prototype.onMoveStop.apply(this,arguments)},onMove:function(k,g){k._leftTop=g;if(!k._timer){var b=this;k._timer=setTimeout(function(){k._timer=null;l.call(b,k,k._leftTop)},this.timeout)}}})})},"tm1web/subseteditor/FilterByAttributeDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByAttributeDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory dijit/form/FilteringSelect ../utility/message-localizer ../widgets/_StopPropagationMixin dojo/query".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){return m([g,e,f,p],{templateString:h,_attributeNamesSelect:null,_attributeValuesSelect:null,_submitButton:null,_cancelButton:null,title:c.get("FILTER_BY_ATTRIBUTE_TITLE_STR"),_selectAttributeLabel:c.get("SELECT_ATTRIBUTE_STR"),_selectValueLabel:c.get("SELECT_VALUE_TO_MATCH_STR"),_submitButtonLabel:c.get("OK_STR"),_cancelButtonLabel:c.get("CANCEL_STR"),_invalidMessage:c.get("VALUE_REQUIRED_STR"),_stopPropagationEvents:"keydown",constructor:function(){this._loadDeferred=
new k},postCreate:function(){this.inherited(arguments);this.model.getAttributeNames(l.hitch(this,"_populateAttributeNamesSelect"));this._attributeValuesSelect.set("store",new a);this.own(this._attributeNamesSelect.on("change",l.hitch(this,"_onChange")));this._attributeValuesSelect.watch("state",l.hitch(this,"_onValidStateChange"));q(".tm1webFilterByAttributeLabel",this.domNode).attr("for",this._attributeNamesSelect.id);q(".tm1webFilterByAttributeMatchedValueLabel",this.domNode).attr("for",this._attributeValuesSelect.id)},
_populateAttributeNamesSelect:function(b){this._attributeNamesSelect.set("store",new a({data:n.map(b,function(a){return{id:a,name:a}})}));this._loadDeferred.resolve();delete this._loadDeferred},_populateAttributeValuesSelect:function(a){a=n.map(a,function(a){return{id:a,name:a}});var b=this._attributeValuesSelect;b.get("store").setData(a);0<a.length&&(b.set("value",a[0].id),this._submitButton.set("disabled",!1));b.set("required",!0)},_onChange:function(){var a=this._attributeValuesSelect,b=this._attributeNamesSelect;
a.get("store").setData([]);a.set("value",null);b.isValid()&&(a.set("required",!1),this._submitButton.set("disabled",!0),this.model.getAttributeValues(b.get("value"),l.hitch(this,"_populateAttributeValuesSelect")))},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._attributeNamesSelect.get("value"),b=this._attributeValuesSelect.get("value");this.model.filterByAttribute(a,b,l.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})},show:function(){var a=
this.getInherited(arguments),b=arguments,c=this,d=new k;this._loadDeferred.then(function(){a.apply(c,b).then(function(){d.resolve()})});return d}})})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(m,n,l,k){function g(b){if((b.keyCode===m.ENTER||b.keyCode===m.SPACE)&&!/input|button|textarea/i.test(b.target.nodeName))for(b=b.target;b;b=b.parentNode)if(b.dojoClick)return!0}var b;l(document,"keydown",function(e){g(e)?(b=e.target,e.preventDefault()):b=null});
l(document,"keyup",function(e){g(e)&&e.target==b&&(b=null,l.emit(e.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type}))});var h=function(b,f){b.dojoClick=!0;return l(b,"click",f)};h.click=h;h.press=function(b,f){var a=l(b,k.press,function(a){("mousedown"!=a.type||n.isLeft(a))&&f(a)}),d=l(b,"keydown",function(a){a.keyCode!==m.ENTER&&a.keyCode!==m.SPACE||f(a)});return{remove:function(){a.remove();d.remove()}}};h.release=
function(b,f){var a=l(b,k.release,function(a){("mouseup"!=a.type||n.isLeft(a))&&f(a)}),d=l(b,"keyup",function(a){a.keyCode!==m.ENTER&&a.keyCode!==m.SPACE||f(a)});return{remove:function(){a.remove();d.remove()}}};h.move=k.move;return h})},"tm1web/common/nls/CommonMessages":function(){define({root:{ABOUT_TM1WEB:'Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2007, 2019. IBM, the IBM logo, ibm.com, Cognos and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. A current list of IBM trademarks is available on the Web at www.ibm.com/legal/copytrade.shtml. Other product and service names might be trademarks of IBM or other companies. This Program is licensed under the terms of the license agreement accompanying the Program. This license agreement may be either located in a Program directory folder or library identified as "License" or "Non_IBM_License", if applicable, or provided as a printed license agreement. Please read the agreement carefully before using the Program. By using the Program you agree to these terms. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.',
ABOUT_PRODUCT_NAME:"About IBM\u00ae Planning Analytics 2.0",CONTRIBUTOR_COPYRIGHT:'Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2011, 2019. IBM, the IBM logo, ibm.com, Cognos, and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. A current list of IBM trademarks is available on the Web at www.ibm.com/legal/copytrade.shtml. Other product and service names might be trademarks of IBM or other companies. This Program is licensed under the terms of the license agreement accompanying the Program. This license agreement may be either located in a Program directory folder or library identified as "License" or "Non_IBM_License", if applicable, or provided as a printed license agreement. Please read this agreement carefully before using the Program. By using the Program, licensee agrees to these terms.  If you are using the Program on behalf of licensee, you represent and warrant either that licensee has accepted these terms or that you have full authority to bind licensee to these terms. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.',
CONTRIBUTOR_VERSION:"Version 11.0",LICENSED_MATERIALS_STR:"Licensed Materials - Property of IBM Corp.",COPYRIGHT_STR:"Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2007, 2019. IBM, the IBM logo, ibm.com, Cognos and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. Other product and service names might be trademarks of IBM or other companies.",TOP_STR:"Top",TOP_TOOLTIP_STR:"Top page of this column",
BOTTOM_STR:"Bottom",BOTTOM_TOOLTIP_STR:"Bottom page of this column",PAGE_UP_STR:"Page Up",PAGE_UP_TOOLTIP_STR:"1 page up",PAGE_DOWN_STR:"Page down",PAGE_DOWN_TOOLTIP_STR:"1 page down",PREVIOUS_PAGE_TOOLTIP_STR:"Previous page",NEXT_PAGE_TOOLTIP_STR:"Next page",DISPLAY_PAGES_TOOLTIP_STR:"Display pages",PAGE_STR:"Display pages",DIMENSION_DROP_PANEL_DRAG_THIS:"Drag to move dimension '{0}' to another location.",DIMENSION_DROP_PANEL_DIM_STR:"Dimension {0}",DIMENSION_DROP_PANEL_OPEN_SUBSET_EDITOR_STR:"Open subset editor",
HIDDEN_DIMENSION_DROP_PANEL_STR:"Hidden",HIDDEN_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Hidden dimensions drop area",COLUMN_DIMENSION_DROP_PANEL_STR:"Columns",COLUMN_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Column dimensions drop area",ROW_DIMENSION_DROP_PANEL_STR:"Rows",ROW_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Row dimensions drop area",TITLE_DIMENSION_DROP_PANEL_STR:"Context",TITLE_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Context dimensions drop area",EXPAND_TOOLTIP_STR:"Expand",COLLAPSE_TOOLTIP_STR:"Collapse",NO_TOP_OR_BOTTOM_STR:"No top or bottom",
CUSTOM_STR:"Custom...",TOP_OR_BOTTOM_STR:"Top or bottom",NUMBER_OF_ITEMS_STR:"Number of items",EXPORT_ROWS_CURRENT_PAGE:"Export rows in current page",EXPORT_ROWS_BEGINNING:"Export rows from beginning to current page",EXPORT_ROWS_VIEW:"Export all rows in the view",EXPORT_PAGES_LABEL:"Number of rows to export",EXPORT_DIMENSIONS_LABEL:"Title dimensions to export",EXPORT_AUTO_FIT_LABEL:"Autofit row height",EXPORT_AUTO_FIT_ROW_HEIGHT_LABEL:"Autofit",MAX_EXPORT_SHEET_NUM_EXCEEDED:"The number of exported sheets exceeds the allowed maximum of {0} sheets. Try changing selections which can reduce the number of sheets.",
TOTAL_SHEETS_LABEL:"Number of sheets to export",EXPORT_TITLE_LABEL:"Export",CANCEL_EXPORT:"Cancel export",METRIC_DIAGRAM_POOR:"Poor",METRIC_DIAGRAM_AVERAGE:"Average",METRIC_DIAGRAM_EXCELLENT:"Excellent",METRIC_DIAGRAM_METRICS:"Metrics",METRIC_DIAGRAM_NOT_LIVE:"Metrics not live",METRIC_DIAGRAM_WORSE:"Worse",METRIC_DIAGRAM_NO_CHANGE:"No change",METRIC_DIAGRAM_BETTER:"Better",METRIC_DIAGRAM_EVEN:"Even",METRIC_DIAGRAM_INCOMPLETE:"Incomplete",ABOUT_HELP_STR:"About TM1\u00ae Application Web",m_cultureCode:"en",
OPEN_STR:"Open",CLOSE_STR:"Close",CLOSE_ALL_STR:"Close all",CLOSE_OTHERS_STR:"Close others",COPY_STR:"Copy",PASTE_STR:"Paste",DATA_SPREAD_STR:"Data spread",HOLDS_STR:"Holds",DRILL_STR:"Drill",PROPORTIONAL_SPREAD_STR:"Proportional spread...",EQUAL_SPREAD_STR:"Equal spread...",REPEAT_SPREAD_STR:"Repeat...",CLEAR_SPREAD_STR:"Clear...",PC_SPREAD_STR:"Percent change...",SL_SPREAD_STR:"Straight line...",GP_SPREAD_STR:"Growth percent...",RP_SPREAD_STR:"Relative proportional spread...",RP_ADJ_SPREAD_STR:"Relative percent adjustment...",
RL_SPREAD_STR:"Repeat leaves...",EL_SPREAD_STR:"Equal spread leaves...",HL_SPREAD_STR:"Hold leaves",HC_SPREAD_STR:"Hold consolidate",RLH_SPREAD_STR:"Release leaf holds",RC_SPREAD_STR:"Release consolidate",RA_SPREAD_STR:"Release all holds",SPREAD_DESC_PROP_STR:"Distributes a specified value among cells proportional to existing cell values.",SPREAD_DESC_EQ_STR:"Distributes a specified value equally across the cells in a view.",SPREAD_DESC_EQ_LEAVES_STR:"Distributes a specified value equally across all leaves of a consolidated cell. You can choose to distribute the value to all leaves of the consolidation or only to those leaves that already contain non-zero values.",
SPREAD_DESC_RPT_STR:"Repeats a specified value across cells in a view.",SPREAD_DESC_RPT_LEAVES_STR:"Copies a specified value to the leaves of a consolidation. You can either copy the value to all leaves of the consolidation, or copy the value only to those leaves that already contain non-zero values.",SPREAD_DESC_PCT_CHANGE_STR:"Multiplies the current cell values by a specified percentage. The product of that multiplication can then replace, be added to, or be subtracted from the existing cell values.",
SPREAD_DESC_STR_LINE_STR:"Populates cube cells by linear interpolation between two specified endpoints. For example, if you have a start value of 100 and an end value of 200, the midpoint value would be 150.",SPREAD_DESC_REL_PROP_STR:"Spreads values to the leaves of a consolidation proportional to the leaves of a reference cell. The reference cell can be in the cube from which you initiate spreading or in a different cube.",SPREAD_DESC_REL_PCT_ADJ_STR:"Spreads values to the leaves of a consolidation by applying a percentage adjustment to the leaves of a reference cell.",
SPREAD_DESC_STRT_LINE_STR:"Distributes a specified value among cells proportional to existing cell values.",SPREAD_DESC_PCT_GROWTH_STR:"Takes an initial value as a starting point, and sequentially increments all values in a selected range of cells by the specified percentage.",SPREAD_DESC_CLEAR_STR:"Clears values from cells in a view. When you apply the Clear method to a parent cell, all children of the parent are set to zero.",SLICE_TO_EXCEL_STR:"Slice to Excel",SNAP_TO_EXCEL_STR:"Snapshot to Excel",
EXPORT_TO_PDF_STR:"Export to PDF",LOGOUT_CHECK:"Navigating away will end your TM1 Web session.",DELETE_VIEW_STR:"Delete...",DELETE_VIEW_TITLE_STR:"Delete node",CONFIRM_DELETE_NAV_TREE_NODE:"Are you sure you want to delete '{0}'?",ASCENDING_STR:"Ascending",DESCENDING_STR:"Descending",DONT_SORT_STR:"Don't sort",TOP_3_STR:"Top 3",TOP_5_STR:"Top 5",TOP_10_STR:"Top 10",BOTTOM_3_STR:"Bottom 3",BOTTOM_5_STR:"Bottom 5",BOTTOM_10_STR:"Bottom 10",CHART_TYPE_STR:"Chart type",CHART_PROP_STR:"Chart properties",
SUP_ZERO_ROW_COL_STR:"Suppress zeros on rows and columns",SUP_ZERO_ROW_STR:"Suppress zeros on rows",SUP_ZERO_COL_STR:"Suppress zeros on columns",YES_STR:"Yes",NO_STR:"No",CANCEL_STR:"Cancel",JANUARY_STR:"January",FEBRUARY_STR:"February",MARCH_STR:"March",APRIL_STR:"April",MAY_STR:"May",JUNE_STR:"June",JULY_STR:"July",AUGUST_STR:"August",SEPTEMBER_STR:"September",OCTOBER_STR:"October",NOVEMBER_STR:"November",DECEMBER_STR:"December",DECIMAL_THOUSAND_SEP_STR:"Use '{0}' as the decimal separator and '{1}' as the thousand separator.",
UNDO_STR:"Undo",REDO_STR:"Redo",WARN_UNSAVED_DATA_STR:"Changes you made to '{0}' have not been saved.{1} Press OK to continue, or Cancel to stay on the current object.",CREATE_SANDBOX_STR:"Create sandbox...",DELETE_SANDBOX_STR:"Delete sandbox...",COPY_CLIPBOARD_OFF_TITLE_STR:"Copying to clipboard",COPY_CLIPBOARD_OFF_STR:"Copying to the clipboard is currently turned off by your browser.",PASTE_CLIPBOARD_OFF_TITLE_STR:"Pasting from clipboard",PASTE_CLIPBOARD_OFF_STR:"Pasting from clipboard is currently turned off by your browser.",
LOCAL_DATA_USED_STR:"Local data will be used.",SPREAD_TITLE_PROPORTIONAL_SPREAD:"Proportional spread",SPREAD_TITLE_EQUAL_SPREAD:"Equal spread",SPREAD_TITLE_REPEAT:"Repeat",SPREAD_TITLE_CLEAR:"Clear",SPREAD_TITLE_PERCENT_CHANGE:"Percent change",SPREAD_TITLE_STRAIGHT_LINE:"Straight line",SPREAD_TITLE_GROWTH:"Growth percent",SPREAD_TITLE_RELATIVE_PROPORTIONAL:"Relative proportional spread",SPREAD_TITLE_RELATIVE_PERCENT:"Relative percent adjustment",REFERENCE_CELL_VALUE:"Reference cell value",PERCENT_ADJUSTMENT:"% adjustment",
SPREAD_TITLE_REPEAT_LEAVES:"Repeat leaves",SPREAD_TITLE_EQUAL_SPREAD_LEAVES:"Equal spread leaves",SPREAD_LABEL_VALUE:"Value",SPREAD_LABEL_START:"Start value",SPREAD_LABEL_END:"End value",SPREAD_LABEL_GROWTH:"% growth",SPREAD_LABEL_CHANGE:"% change",SPREAD_SECTION_EXTEND:"Extend",SPREAD_LABEL_LEFT:"Left",SPREAD_LABEL_RIGHT:"Right",SPREAD_LABEL_UP:"Up",SPREAD_LABEL_DOWN:"Down",SPREAD_LABEL_HORIZONTAL:"Horizontal",SPREAD_LABEL_VERTICAL:"Vertical",SPREAD_LABEL_REPLACE:"Replace",SPREAD_SECTION_UPDATE:"Update action",
SPREAD_LABEL_ADD:"Add",SPREAD_LABEL_SUBTRACT:"Subtract",SPREAD_SECTION_APPLY:"Apply to",SPREAD_LABEL_POPULATED:"Populated leaf cells",SPREAD_LABEL_ALL:"All leaf cells",SPREAD_BUTTON_APPLY:"Apply",SPREAD_BUTTON_CANCEL:"Cancel",SPREAD_LABEL_RELATIVE_CUBE:"Cube",SPREAD_LABEL_RELATIVE_VALUE:"Value",SPREAD_BUTTON_RELATIVE_CANCEL:"Cancel",SPREAD_BUTTON_RELATIVE_SUBMIT:"Submit",SPREAD_BUTTON_RELATIVE_GO_BACK:"Back",SPREAD_BUTTON_RELATIVE_SELECT:"Select",SPREAD_BUTTON_RELATIVE_APPLY:"Apply",SPREAD_TBL_HDR_RELATIVE_DIMENSIONS:"Dimensions",
SPREAD_TBL_HDR_RELATIVE_ELMT_NAME:"Element name",RESET_ALL_VIEW_TAB_STR:"Reset both views and tabs",RESET_CUR_VIEW_STR:"Reset current view",RESET_RESET_VIEW_STR:"Reset view",RESET_TABS_STR:"Reset tabs",RESET_ALL_VIEWS_STR:"Reset all views",TAKEOWNERSHIP_TOOLTIP_STR:"Take ownership",SUBMIT_TOOLTIP_STR:"Submit",SUBMITLEAVES_TOOLTIP_STR:"Submit leaves",REJECT_TOOLTIP_STR:"Reject",APP_HELP_STR:"TM1\u00ae Application Web help",TAB_HELP_STR:"View help",ABOUT_STR:"About",COMMIT_TOOLTIP_STR:"Commit",WORKFLOW_OWNERSHIP_STR:"Take ownership",
WORKFLOW_SUBMIT_STR:"Submit",WORKFLOW_REJECT_STR:"Reject",SAVE_VIEW_TOOLTIP_STR:"Save view",METRIC_STRATEGY_DIAGRAMS_STR:"Strategy diagrams",RESET_DATA_STR:"Reset data",ACTION_MENU_TOOLTIP_STR:"Actions menu",EXPORT_TOOLTIP_STR:"Export",RESET_TOOLTIP_STR:"Reset",UNDO_TOOLTIP_STR:"Undo",REDO_TOOLTIP_STR:"Redo",SWAP_ROWS_COLS_TOOLTIP_STR:"Swap rows and columns",RECALC_TOOLTIP_STR:"Recalculate",SAVE_AS_MENU_STR:"Save as...",SAVE_AS_TITLE_STR:"Save as",SAVE_DATA_CHANGES_MENU_STR:"Save data changes",REVIEW_DATA_CHANGES_TOOLTIP_STR:"Review data changes",
RECALCULATE_TOOLTIP_STR:"Recalculate",AUTO_RECALCULATE_ON_TOOLTIP_STR:"Automatic recalculation currently on",AUTO_RECALCULATE_OFF_TOOLTIP_STR:"Automatic recalculation currently off",VIEW_CHART_TOOLTIP_STR:"View chart",VIEW_CHARTGRID_TOOLTIP_STR:"View chart and grid",VIEW_GRID_TOOLTIP_STR:"View grid",CHART_PROP_TOOLTIP_STR:"Chart properties",CHART_TYPE2_STR:"Type",SANDBOX_TOOLTIP_STR:"Sandbox",CLOSE_VIEW_TOOLTIP_STR:"Close View",SELECT_SANDBOX_TOOLTIP_STR:"Select sandbox",SUPPRESS_ZEROES_MENU_STR:"Suppress zero values",
HELP_TOOLTIP_STR:"Help",REBUILD_ACTIVE_FORMS_TOOLTIP_STR:"Rebuild current sheet",REBUILD_WORKBOOK_TOOLTIP_STR:"Rebuild current book",AUTO_FIT_COLUMNS_TOOLTIP_STR:"Autofit selected column width",POINT_CHART_STR:"Point",BUBBLE_CHART_STR:"Bubble",LINE_CHART_STR:"Line",SPLINE_CHART_STR:"Spline",STEP_LINE_CHART_STR:"Step line",BAR_CHART_STR:"Bar",STACKED_BAR_CHART_STR:"Stacked bar",COLUMN_CHART_STR:"Column",STACKED_COL_CHART_STR:"Stacked column",AREA_CHART_STR:"Area",SPLINE_AREA_CHART_STR:"Spline area",
STACKED_AREA_CHART_STR:"Stacked area",PIE_CHART_STR:"Pie",DOUGHNUT_CHART_STR:"Doughnut",RANGE_CHART_STR:"Range",SPLINE_RANGE_CHART_STR:"Spline range",RANGE_COLUMN_CHART_STR:"Range column",WORKFLOW_SUBMIT_SURE_STR:"Are you sure you would like to submit this node?",WORKFLOW_SUBMIT_SURE_LEAVES_STR:"Are you sure you would like to submit all leaves?",WORKFLOW_REJECT_SURE_STR:"Are you sure you want to reject '{0}'?",OK_STR:"OK",SANDBOX_CREATE_FROM_STR:"Create sandbox from",SANDBOX_COPY_STR:"Sandbox copy",
SELECT_SANDBOX_COPY_STR:"Select sandboxes to copy",SANDBOX_NAME_STR:"Sandbox name",SANDBOX_NEW_STR:"Create new",SANDBOX_COPY2_STR:"Copy from existing sandbox",CREATE_STR:"Create",NO_SANDBOX_SELECTED_STR:"No sandbox is selected",SANDBOX_CREATION_STR:"Create sandbox",ENTER_NAME_FOR_SANDBOX_STR:"Enter a name for sandbox.",SANDBOX_CREATION_FAILED_STR:"Sandbox failed to be created.",SANDBOX_DELETE_STR:"Delete sandbox",SELECT_SANDBOXES_TO_DELETE_STR:"Select sandboxes to delete",DELETE_STR:"Delete",SOME_SANDBOX_DELETE_FAILED_STR:"Some checked sandboxes failed to be deleted.",
CURRENT_OWNER_STR:"Current owner",CURRENT_OWNERSHIPNODE_STR:"Current ownership node",AVAILABLE_STR:"Available",RESERVED_STR:"Reserved",WORK_IN_PROGRESS_STR:"Work in progress",READY_STR:"Ready",INCOMPLETE_STR:"Incomplete",LOCKED_STR:"Locked",NONE_STR:"None",SANDBOX_COPY_FAILED_STR:"Failed to copy sandbox.",SWITCHING_SANDBOX_FAILED_STR:"Switching sandbox failed.",SESSION_TIMEOUT_STR:"Session timed out.",CUBE_NO_PERMISSION_FOR_ANY:"You don't have permission to access any cube.",NODE_OWNER_ACTIVE_WARNING_MESSAGE:"One or more users are currently working with data for Nodes represented by this Take Ownership action.  Continuing with this action will revoke their ownership, and may impact their in-progress work.",
NODE_OWNER_INACTIVE_WARNING_MESSAGE:"Taking ownership for this Node will revoke ownership from owner(s) who are not actively working with their Node data.  Impacted user(s) can reacquire ownership through a subsequent Take Ownership action.",NODE_BOUNCE_OWNER_ACTIVE_WARNING_MESSAGE:"The node you are about to reject is a descendant of a node actively being worked on by another user.  Continuing with the rejection will revoke their ownership and may impact their in-progress work.",NODE_BOUNCE_OWNER_INACTIVE_WARNING_MESSAGE:"The node you are about to reject is a descendant of a node owned by another non-active user.  Continuing with the rejection will revoke their ownership, however they can reacquire ownership through a subsequent Take Ownership action.",
APPLICATION_INACTIVE_WARNING_MESSAGE:"This application is not active.",TM1_WEB_APPLICATION_STR:"IBM\u00ae Cognos\u00ae TM1\u00ae Application Web",WARNING:"Warning",CONTINUE_STR:"Continue",SORT_STR:"Sort",SORT_BY_VALUE_STR:"Sort by value",SORT_BY_LABEL_STR:"Sort by label",HIDE_STR:"Hide",SHOW_ALL_HIDDEN_STR:"Show all hidden",EXPAND_TO_LEVEL_STR:"Expand to level",LEVEL_STR:"Level",SELECT_A_PAGE_AND_PRESS_GOTO_PAGE:"Select a page and click to go to the page",ADD_COMMENT_STR:"Add comment...",ADD_COMMENT_TITLE_STR:"Add comment",
BROWSE_COMMENTS_STR:"Browse comments...",BROWSE_COMMENTS_TITLE_STR:"Browse comments",COMMENT_STR:"Comment",USER_STR:"User",DATE_STR:"Date",LOGIN_STR:"Login",REFRESH_STR:"Refresh",ADMIN_HOST_STR:"Admin host",TM1_SERVER_STR:"TM1 server",USER_NAME_STR:"User name",PASSWORD_STR:"Password",CHANGE_PASSWORD_STR:"Change password",NEW_PASSWORD_STR:"New password",CONFIRM_NEW_PASSWORD_STR:"Confirm new password",NATIVE_AUTHENTICATION:"Native authentication",WINDOWS_AUTHENTICATION:"Windows authentication",PASSWORD_UPDATE_TITLE_STR:"Password update",
PASSWORD_CHANGED_STR:"Password has been changed.",PASSWORD_NOT_CHANGED_STR:"Password was not changed.",LOGIN_FAILED_STR:"Login failed",PASSWORD_WARNING_STR:"Passwords did not match.",OPEN_SUBSET_EDITOR_STR:"Open subset editor",INVALID_DATE_VALUE:"Enter a date in the short date format corresponding to your locale.",INVALID_LIST:"A user has restricted values that can be entered into this cell.",IF_ENTER_NUMERIC:"If you are trying to enter a numeric value:",IF_ENTER_DATE:"If you are trying to enter a DateTime value:",
SAVE_VIEW_MENU_STR:"Save view",SAVE_VIEW_TITLE_STR:"Save view as",CURRENT_VIEWS_STR:"Current views",PRIVATE_VIEW_STR:"Private",VIEW_TYPE_STR:"View type",DEFAULT_VIEW_STR:"Default",VIEW_NAME_STR:"View name",STOP_STR:"STOP",INFORMATION_STR:"INFORMATION",WARNING_STR:"WARNING",EXPORTING_PAGE_STR:"Exporting Page {0} of {1}",CURRENTLY_PUBLISHING_STR:"Currently publishing...",INVALID_REFERENCE_STR:"Reference is not valid.",VIEW_FILTER_LABEL_STR:"Limit the results to the top or bottom items of a selected set.",
FILTER_TITLE_CUSTOM_STR:"Custom",PRODUCT_NAME:"IBM\u00ae Cognos\u00ae TM1\u00ae Web",METRIC_IMPACT_DIAGRAM_STR:"Impact diagram",METRIC_DIAGRAM_STR:"Metric diagram",WELCOME_STR:"Welcome",LOG_OUT_STR:"Log Out",HOME_STR:"Home",REFRESH_NAV_TREE_STR:"Refresh navigation tree",COLLAPSE_ALL_NODES_STR:"Collapse all nodes",EXPAND_ALL_NODES_STR:"Expand all nodes",ADD_DIMENSION_HERE_STR:"Add a dimension here",RECALC_NEEDED_FOR_CHART_DATA_STR:'No data available. Click "Recalculate" to update the chart.',CANNOT_FIND_STR:"Cannot find '{0}'.",
CANNOT_DELETE_CONTROL_OBJECT_STR:"You can't delete a control object.",NO_DELETE_PERMISSION_STR:"You do not have permission to delete '{0}'.",CANNOT_DELETE_STR:"Cannot delete '{0}'.",APPLICATION_STR:"Applications",VIEW_STR:"Views",JUST_PAGE_STR:"Page",JUST_OF_STR:"of",JUST_ROWS_STR:"of",INSERT_ROW_STR:"Insert a row",DELETE_ROW_STR:"Delete row",INSERT_ROW_MSG_STR:"Enter the values for the new row:",DELETE_ROW_MSG_STR:"Are you sure you would like to delete this row?",NON_ADMIN_SAVE_VIEW_STR:"You do not have administrative privileges on this server, and therefore can't save a public view.",
APP_WILL_CLOSE_STR:"None of the views were able to open. The application will now close.",VIEW_ERROR_NAME_STR:"Unable to open view '{0}'.",VIEW_NOT_FOUND_ERROR_NAME_STR:"View '{0}' can't be found.",SAVE_SUBSET_STR:"Save subset",SAVE_SUBSET_AS_STR:"Save subset as...",RELOAD_SUBSET_STR:"Reload subset",SUBSET_ALL_STR:"Subset all",CUT_STR:"Cut",KEEP_SELECTED_ELEMENTS_STR:"Keep selected element(s)",DELETE_SELECTED_ELEMENTS_STR:"Delete selected element(s)",NAV_A11Y_APPLICATIONS:"Applications",NAV_A11Y_FOLDER:"Folder",
NAV_A11Y_FOLDER_PRIVATE:"Private folder",NAV_A11Y_WEBSHEET:"Websheet",NAV_A11Y_WEBSHEET_PRIVATE:"Private websheet",NAV_A11Y_WEBSHEET_EXTERNAL:"External websheet",NAV_A11Y_WEBSHEET_EXTERNAL_PRIVATE:"Private external websheet",NAV_A11Y_CUBE:"Cube",NAV_A11Y_VIEW_PRIVATE:"Private view",NAV_A11Y_REF_PRIVATE:"Private reference",NAV_A11Y_VIEW_REF_PRIVATE:"Private view and private reference",NAV_A11Y_VIEWS:"Views",NAV_A11Y_CUBE_VIEW:"Cube view",NAV_A11Y_ADMIN_FOLDER:"Admin folder",NAV_A11Y_ADMIN_CLIENT:"Admin client",
NAV_A11Y_ADMIN_CUBE:"Admin cube",NAV_A11Y_ADMIN_DIMS:"Admin dimensions",NAV_A11Y_ADMIN_PASSWORD:"Admin password",NAV_A11Y_PROCESS:"Process",NAV_A11Y_CHORES:"Chores",NAV_A11Y_CUBE_PRIVATE:"Private cube",NAV_A11Y_PDF:"PDF file",NAV_A11Y_PDF_PRIVATE:"Private PDF file",NAV_A11Y_TXT:"Text file",NAV_A11Y_TXT_PRIVATE:"Private text file",NAV_A11Y_PPT:"Powerpoint file",NAV_A11Y_PPT_PRIVATE:"Private Powerpoint file",NAV_A11Y_WRD:"Word file",NAV_A11Y_WRD_PRIVATE:"Private Word file",NAV_A11Y_XLS:"Excel file",
NAV_A11Y_XLS_PRIVATE:"Private Excel file",NAV_A11Y_ZIP:"ZIP file",NAV_A11Y_ZIP_PRIVATE:"Private ZIP file",NAV_A11Y_IMG:"Image file",NAV_A11Y_IMG_PRIVATE:"Private image file",NAV_A11Y_URL:"Hyperlink file",NAV_A11Y_URL_PRIVATE:"Private hyperlink file",NAV_A11Y_ACCESS:"Access file",NAV_A11Y_ACCESS_PRIVATE:"Private Access file",NAV_A11Y_EMAIL:"Email file",NAV_A11Y_EMAIL_PRIVATE:"Private email file",NAV_A11Y_MPP:"Project file",NAV_A11Y_MPP_PRIVATE:"Private project file",NAV_A11Y_BIN:"Binary file",NAV_A11Y_BIN_PRIVATE:"Private binary file",
ARIA_IMG_ERROR_STR:"Error",ARIA_IMG_WARNING_STR:"Warning",ARIA_IMG_INFO_STR:"Information",APP_ID_TITLE_STR:"Application ID error",SAVE_ERROR_TITLE_STR:"Save error",SRV_ERR_TITLE_STR:"Server error",SRV_ERR_STR:"An error has occurred.",CUBEVIEW_LOAD_ERROR_TITLE_STR:"Cubeview loading error",VIEW_NOT_FOUND_ERROR:"View can't be found.",MEMORY_EXCEEDED:"Maximum memory for action exceeded.",VIEW_ERROR:"Unable to open view.",DRILL_ERROR_TITLE_STR:"Drill error",DRILL_ERROR:"Drill Process returned an error. The element or other information might be empty.",
ACTION_BUTTON_NAVIGATION_ERROR_ARG_STR:"Failed to open the target workbook '{0}' as the file does not exist.",ACTION_BUTTON_NAVIGATION_ERROR:"Failed to open the target workbook. The file does not exist.",ACTION_BUTTON_HTTP_502_PROXY_ERROR:"The request timed out. The process is still running. Please check the server logs to confirm completion of the process.",WORKBOOK_OPEN_FAILED_TITLE_STR:"Workbook error",WORKBOOK_OPEN_FAILED_STR:"Failed to open the target workbook. Make sure that the file has not been renamed or deleted.",
PASTE_FAILURES_TITLE_STR:"Paste error",PASTE_FAILURES:"At least one value was invalid and therefore could not be pasted.",SPREADING_NO_UPDATABLE_CELL_TITLE_STR:"Data spread error",SPREADING_NO_UPDATABLE_CELL_STR:"Spreading failed because the contents of the cells can't be modified.",SPREADING_FAILED_STR:"Data spread failed.",LOGON_TO_SERVER_FAILED_TITLE_STR:"Authentication error",LOGON_TO_SERVER_FAILED_STR:"Logging on to the server failed.",SANDBOX_NAME_MISSING_STR:"New name for copied sandbox is not specified.",
SANDBOX_WARNING_TITLE_STR:"Create Sandbox",SUBSET_EXPRESSION_WARNING_TITLE_STR:"Loss of expression",SUBSET_BY_EXPRESSION:"This subset was created using an expression.",SAVING_DYNAMIC_SUBSET:"Saving the modified subset will delete the expression and convert the subset into a static subset.",SUBSET_EXPRESSION_WARNING_OK_STR:"Create static subset",INVALID_NUMERIC_STR:"A numeric value is required.",EDITING_ERROR_TITLE_STR:"Edit error",INVALID_VALUE:"The value you entered is not the expected format.",
SUBSET_WARNING_TITLE_STR:"Static copy required",DYNAMIC_SUBSET_MODIFIED:"This dynamic subset has been modified.",USE_STATIC_SUBSET:"A static copy of the subset will be used.",SUBSET_WARNING_OK_STR:"Create static copy",FILTER_SUBSET_STR:"Filter subset",FILTER_BY_LEVEL_STR:"Filter by level...",FILTER_BY_ATTRIBUTE_STR:"Filter by attribute...",FILTER_BY_EXPRESSION_STR:"Filter by expression...",FILTER_BY_LEVEL_TITLE_STR:"Filter by level",FILTER_BY_ATTRIBUTE_TITLE_STR:"Filter by attribute",FILTER_BY_EXPRESSION_TITLE_STR:"Filter by expression",
SORT_SUBSET_STR:"Sort subset",SORT_ASCENDING_STR:"Sort ascending",SORT_DESCENDING_STR:"Sort descending",SORT_HIERARCHICALLY_STR:"Sort hierarchically",SORT_BY_INDEX_ASCENDING_STR:"Sort by ascending index",SORT_BY_INDEX_DESCENDING_STR:"Sort by descending index",TREE_EXPAND_STR:"Tree expand",DRILL_DOWN_SELECTED_CONSOLIDATIONS_STR:"Drill down selected consolidations",EXPAND_SELECTED_CONSOLIDATIONS_STR:"Expand selected consolidations",EXPAND_TREE_FULLY_STR:"Expand tree fully",TREE_COLLAPSE_STR:"Tree collapse",
COLLAPSE_SELECTED_CONSOLIDATIONS_STR:"Collapse selected consolidations",COLLAPSE_TREE_FULLY_STR:"Collapse tree fully",INSERT_PARENTS_OF_SELECTED_ELEMENTS_STR:"Insert parents of selected elements",CREATE_CUSTOM_CONSOLIDATION_STR:"Create custom consolidation",CREATE_CONSOLIDATION_FROM_SUBSET_STR:"Create consolidation from subset...",CREATE_CONSOLIDATION_FROM_SUBSET_TITLE_STR:"Create consolidation from subset",CREATE_CONSOLIDATION_FROM_SELECTED_ELEMENTS_STR:"Create consolidation from selected elements",
FIND_IN_SUBSET_STR:"Find in subset",EXPAND_ABOVE_STR:"Expand above",FIND_NEXT_STR:"Find next",FIND_PREVIOUS_STR:"Find previous",FIND_IN_SUBSET_PLACEHOLDER_STR:"Find in subset...",PASTE_ABOVE_STR:"Paste above",PASTE_BELOW_STR:"Paste below",UNNAMED_PARENS:"(unnamed)",SUBSET_PRIVATE_STR:"{0} (Private)",SUBSET_PUBLIC_STR:"{0} (Public)",SUBSET_EDITOR_TITLE:"Subset editor",SUBSET_EDITOR_SUBTITLE:"{0} \x3e {1} \x3e {2}",NO_ALIAS_SELECTED_PARENS:"(no alias selected)",SUBSET_LABEL_STR:"Subset",ALIAS_LABEL_STR:"Alias",
SUBSET_NAME_STR:"Subset name",SAVE_PUBLIC_STR:"Save public",OVERWRITE_EXISTING_SUBSET_STR:"Overwrite existing subset",SUBSET_PAGE_STATUS:"Page: {0} of {1}",AVAILABLE_ELEMENTS_HEADER:"Available elements: {0}",SUBSET_HEADER:"Subset: {0} \x3e {1}",PUBLIC_SUBSET_EXISTS:"This public subset already exists.",PRIVATE_SUBSET_EXISTS:"This private subset already exists.",SELECT_LEVELS_STR:"Select level(s)",SUBSET_LEVEL:"Level {0}",SELECT_ATTRIBUTE_STR:"Select attribute",SELECT_VALUE_TO_MATCH_STR:"Select value to match",
ENTER_EXPRESSION_STR:"Expression",EXPRESSION_EXAMPLE_STR:"Example: A* will match all elements starting with the letter A.",SELECT_SUBSET:"Subset",VALUE_REQUIRED_STR:"This value is required.",UNSUPPORTED_OBJECT_TYPE:"The specified object type is unsupported.",WORKBOOK_FAILED_TITLE_STR:"Workbook error",BUILD:"Build ",PA_VERSION:"IBM\u00ae Planning Analytics 2.0",EXPORT_NUM_ROWS:"rows",CELL_COUNT_EXCEEDED:"The Websheet export is too large.  Reduce the size of your export by selecting fewer dimensions or reducing the number of rows or columns from the report.",
CELL_COUNT_EXCEEDED_CV:"The Cubeview export is too large.  Reduce the size of your export by selecting fewer dimensions on rows or columns, or smaller subsets of data.",EXPORT_PREVENTED_ERR:"Export prevented",LIMITS_EXCEEDED_ERROR_TITLE:"Limits exceeded",LIMITS_EXCEEDED_ERROR:"The action has been terminated because it exceeds the configured maximum memory limit."},cs:!0,da:!0,de:!0,es:!0,fi:!0,fr:!0,hr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nl:!0,no:!0,nb:!0,pl:!0,pt:!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,
tr:!0,"zh-cn":!0,"zh-hans":!0,"zh-tw":!0,"zh-hant":!0})},"tm1web/workbook/celledit/ValueSaver":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/topic ../../cubeview/ViewCellType ../../share/service-loader ../../widgets/ErrorAlert ../../utility/date ../../utility/message-localizer ../../utility/number ../../celledit/spread-syntax-validator ../../celledit/shortcut-parser ./_CellValueMixin ./validation-checker ../../utility/date!".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,
q){return m(p,{value:null,dataGrid:null,activeCell:null,model:null,constructor:function(a){n.mixin(this,a)},save:function(){this._saveDeferred=new l;this._isCommitRequired()?this._commitCellEdit():this._saveDeferred.resolve(this._getSaveResult(!1,!1));return this._saveDeferred.promise},_getSaveResult:function(a,b){return{valueChanged:a,recalculated:b}},_getCoordinate:function(a){return this.dataGrid.GetCoordinate(a)},_isCommitRequired:function(){if(!this.activeCell)return!1;var a=this.value,b=this._getCurrentValue(this.activeCellInfo);
return a!=b||this._needsRecalc&&this.activeCellInfo.changed},_commitCellEdit:function(){if(this.activeCellInfo){var a=this.value,b=this._getCurrentValue(this.activeCellInfo);this.activeCellInfo.cellType==g.NUM&&(0<a.trim().length&&(a=a.trim()),a=c.resolveShortcuts(a,b,this.activeCellInfo));this.activeCellInfo.cellType==g.NUM&&d.isValid(a)?(this._needsRecalc=!1,this._spread(a,this._getActiveCellForSpread(this.activeCellInfo),this._getSelectedAreaForSpread(this.activeCellInfo))):this._changeCellValue(a,
this.activeCell,this.activeCellInfo)}else this._saveDeferred.resolve(this._getSaveResult(!1,!1))},_getActiveCellForSpread:function(a){return{row:a.rowIndex,column:a.index}},_getSelectedAreaForSpread:function(a){return{maxCol:a.index,maxRow:a.rowIndex,minCol:a.index,minRow:a.rowIndex}},_spread:function(a,b,c){this.model.spread(a,b,c).otherwise(n.hitch(this,function(a){h.show({title:f.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR"),message:f.get("SPREADING_FAILED_STR")})}))},_changeCellValue:function(a,
b,c){this._checkInputString(a,b,c)},_checkInputString:function(b,c,d){if(-1<d.validationIndex){if(this._isPercentValue(d,b)){var e=a.convert(b);b=null==e?b:e}this.model.getValidation(d.rowIndex,d.index).then(n.hitch(this,"_onValidation",{cellValue:b,editCell:c,editCellInfo:d}))}else this._isPercentValue(c,d,b)&&(e=a.convert(b),b=null==e?b:e),b=this.cellCheck(c,d,b),null!=b?this.model.changeCellValue({row:d.rowIndex,col:d.index,value:b}).then(n.hitch(this,"_onChangeCellValue",d.rowIndex,d.index)).otherwise(n.hitch(this,
"_onChangeCellValueError")):this._handleInvalidFormat()},_onValidation:function(a,b){var c=n.clone(a.editCell);n.mixin(c,{cellInfo:a.editCellInfo});q.check(a.cellValue,b,c)&&(c=this.cellCheck(a.editCell,a.editCellInfo,a.cellValue),null!=c?this.model.changeCellValue({row:a.editCellInfo.rowIndex,col:a.editCellInfo.index,value:c}).then(n.hitch(this,"_onChangeCellValue",a.editCellInfo.rowIndex,a.editCellInfo.index)).otherwise(n.hitch(this,"_onChangeCellValueError")):this._handleInvalidFormat())},_onChangeCellValueError:function(a,
c){"java.lang.IllegalArgumentException"===c.javaClassName?h.show({message:f.get("INVALID_VALUE"),title:f.get("EDITING_ERROR_TITLE_STR")}):"java.lang.NumberFormatException"===c.javaClassName?h.show({message:f.get("INVALID_VALUE"),title:f.get("INVALID_NUMERIC_STR")}):b.getEngine()._errorHandler(a,c);this._saveDeferred.resolve(this._getSaveResult(!1,!1))},_onChangeCellValue:function(a,b){this._saveDeferred.resolve(this._getSaveResult(!0,!1))},cellCheck:function(b,c,d){if(c.cellType!=g.NUM||a.canParse(d)||
!d)return d;b=e.parseToSerial(d,c.format);return null!=b?(c.editDateTime=d,a.format(b,!0)):null},_handleInvalidFormat:function(){var b=f.get("EDITING_ERROR_TITLE_STR"),c=[f.get("INVALID_VALUE"),f.get("IF_ENTER_NUMERIC"),f.get("DECIMAL_THOUSAND_SEP_STR",a.decimal,a.group),f.get("IF_ENTER_DATE"),f.get("INVALID_DATE_VALUE")];h.show({message:c,title:b});this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})})},"tm1web/websheet/spreading/SpreadDialogBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/dom-class dijit/Dialog ./SpreadDialogCommon ../../utility/message-localizer ../../widgets/ErrorAlert".split(" "),
function(m,n,l,k,g,b,h,e,f){return m(h,{constructor:function(){this._Dialog=null;this._InitializeSpreadDialogBase()},_InitializeSpreadDialogBase:function(){this._DirectionValue=0;this._ActionValue="";this._DataValue=null},Initialize:function(){this._CreateDialog()},_CreateDialog:function(){this._Dialog=new b({title:this._Title},null);this.own(k.after(this._Dialog,"onHide",n.hitch(this._Dialog,"destroyRecursive")));g.add(this._Dialog.domNode,"tm1webDataSpreadDialog tm1webFormDialog");this._CreateLayout();
this._Dialog.startup()},_CreateLayout:function(){this._CreateContent()},_CreateContent:function(){this._DataValue=this._CreateValueContent(this._Dialog.containerNode,this._ValueTitle,"tm1webDataSpread_valueLabel",this._cellInfo.numericValue,"tm1webDataSpread_value");this._CreateExtendContent(this._Dialog.containerNode);this._CreateActionContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},_OnRadioButtonClick:function(a,
b){a&&(this._ActionValue=b)},_OnCheckBoxClick:function(a,b){a&&(this._DirectionValue|=b)},_OnCancel:function(){this.Destroy()},_OnApply:function(){var a=function(a,b){"SpreadFailed_NoUpdatableCell"==a?f.show({message:e.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:e.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):f.show({message:b.localizedMessage,title:e.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})};this._dataGrid.model?this._dataGrid.model.spread(this._GetControlString()).otherwise(function(b){a(b[0],
b[1])}):this.Service.dataSpread1(this._ObjectId,-1,-1,this._GetControlString(),{callback:this._OnSpread,scope:this,errorHandler:a});this.Destroy()},_OnSpread:function(a){l.publish(this._ObjectId+"-SetSheetsNeedRefresh",!0);l.publish(this._ObjectId+"-UpdateGrid",a);l.publish("RecalcActivePanels",this._ObjectId)},_GetControlString:function(){var a;a=""+this._ActionValue;0<(this._DirectionValue&1)&&(a+="\x3c");0<(this._DirectionValue&2)&&(a+="\x3e");0<(this._DirectionValue&4)&&(a+="^");0<(this._DirectionValue&
8)&&(a+="|");a+=n.trim(this._DataValue.value);return a=this._CommandString+a},Show:function(){this._Dialog.show()},Destroy:function(){this._Dialog.hide()}})})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(m,n,l,k){l(function(){n("highcontrast")&&m.add(k.body(),"dijit_a11y")});return n})},"tm1web/grid/selection/SelectionController":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-class dojo/mouse dojo/keys dojo/topic dojo/aspect dojo/_base/html dijit/Destroyable ../../utility/dom ../utility/MoveDirection".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){return m(a,{controller:null,constructor:function(a){n.mixin(this,a);this.model=this.controller.grid.model;this._attachEvents()},_attachEvents:function(){this.own(e.after(this.controller.grid,"onKeyDown",n.hitch(this,"onKeyDown"),!0))},setSelection:function(a,b){this.model.setStartSelectedCell({x:a,y:b});this.controller.updateSelection(this.model.getSelectedArea(),this.model.getStartCellArea())},selectRange:function(a,b){this.model.setStartSelectedCell({x:a.startRow,
y:a.startColumn});this.model.setEndSelectedCell({x:a.endRow,y:a.endColumn});"undefined"===typeof b&&(b=!0);this.controller.updateSelection(this.model.getSelectedArea(),this.model.getStartCellArea(),b)},onTouchStart:function(a){var b=this.controller.grid._getMousePosition(a);this.controller.grid.isInGrid({x:a.clientX,y:a.clientY})&&(this.model.setStartSelectedCellByPosition(b.x,b.y),this.controller.updateSelection(this.model.getSelectedArea(),this.model.getStartCellArea()))},onMouseDown:function(a){var b=
this.controller.grid._getMousePosition(a);this.controller.grid.isInGrid({x:a.clientX,y:a.clientY})&&(g.isLeft(a)?(a.shiftKey?this.model.setEndSelectedCellByPosition(b.x,b.y):this.model.setStartSelectedCellByPosition(b.x,b.y),this.controller.updateSelection(this.model.getSelectedArea(),this.model.getStartCellArea()),this._dragSelectionEnabled=!0):g.isRight(a)&&(b=this.controller.grid._getMousePosition(a),this.model.isPointInSelection(b.x,b.y)||(this.model.setStartSelectedCellByPosition(b.x,b.y),this.controller.updateSelection(this.model.getSelectedArea(),
this.model.getStartCellArea()))))},onMouseMove:function(a){if(this._dragSelectionEnabled){a=this.controller.grid._getMousePosition(a);var b=this.model.getCellAtPosition(a.x,a.y);if(this.model.getEndSelectedCell().x!=b.x||this.model.getEndSelectedCell().y!=b.y)this.model.setEndSelectedCellByPosition(a.x,a.y),this.controller.updateSelection(this.model.getSelectedArea(),this.model.getStartCellArea(),!1)}},onMouseUp:function(a){this._dragSelectionEnabled=!1},onKeyDown:function(a){var d=null,e=!0,f=a.ctrlKey,
h=!1,g=!1,k=!1;switch(a.keyCode){case b.TAB:e=!1;d=a.shiftKey?c.LEFT:c.RIGHT;l.stop(a);break;case b.ENTER:e=!1;d=a.shiftKey?c.UP:c.DOWN;l.stop(a);break;case b.LEFT_ARROW:if(a.altKey)return;d=c.LEFT;l.stop(a);break;case b.UP_ARROW:if(a.altKey)return;d=c.UP;l.stop(a);break;case b.RIGHT_ARROW:if(a.altKey)return;d=c.RIGHT;l.stop(a);break;case b.DOWN_ARROW:if(a.altKey)return;d=c.DOWN;l.stop(a);break;case b.HOME:a.ctrlKey?h=!0:f=!0;d=c.LEFT;l.stop(a);break;case b.END:a.ctrlKey&&(g=!0,d=c.RIGHT);l.stop(a);
break;case b.PAGE_DOWN:k=!0;d=a.altKey?c.RIGHT:c.DOWN;break;case b.PAGE_UP:k=!0,d=a.altKey?c.LEFT:c.UP}if(null!=d){for(var m;;){var n=this.model.getEndSelectedCell();m=1==g?this.model.getBottomRightCell():1==h?this.model.getTopLeftCell():k?this.model.getNextPageCell(n,d,this.controller.getBottomRightPaneSize()):this.model.getNextCell(n,d,f);if(n.x==m.x&&n.y==m.y)break;if(!a.shiftKey||!e){this.model.setStartSelectedCell(m);break}n=this.model.getSelectedArea();this.model.setEndSelectedCell(m);m=this.model.getSelectedArea();
if(n.top!=m.top||n.left!=m.left||n.height!=m.height||n.width!=m.width)break}k&&this.controller.scrollPage(d);this.controller.updateSelection(this.model.getSelectedArea(),this.model.getStartCellArea(),!0)}}})})},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/dom-attr"],function(m,n,l,k,g){return m("dojox.grid.Selection",null,{constructor:function(b){this.grid=b;this.selected=[];this.setMode(b.selectionMode)},mode:"extended",
selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(b){this.selected.length&&this.deselectAll();this.mode="extended"!=b&&"multiple"!=b&&"single"!=b&&"none"!=b?"extended":b},onCanSelect:function(b){return this.grid.onCanSelect(b)},onCanDeselect:function(b){return this.grid.onCanDeselect(b)},onSelected:function(b){},onDeselected:function(b){},onChanging:function(){},onChanged:function(){},isSelected:function(b){return"none"==this.mode?!1:this.selected[b]},getFirstSelected:function(){if(!this.selected.length||
"none"==this.mode)return-1;for(var b=0,h=this.selected.length;b<h;b++)if(this.selected[b])return b;return-1},getNextSelected:function(b){if("none"==this.mode)return-1;b+=1;for(var h=this.selected.length;b<h;b++)if(this.selected[b])return b;return-1},getSelected:function(){for(var b=[],h=0,e=this.selected.length;h<e;h++)this.selected[h]&&b.push(h);return b},getSelectedCount:function(){for(var b=0,h=0;h<this.selected.length;h++)this.selected[h]&&b++;return b},_beginUpdate:function(){if(0===this.updating)this.onChanging();
this.updating++},_endUpdate:function(){this.updating--;if(0===this.updating)this.onChanged()},select:function(b){"none"!=this.mode&&("multiple"!=this.mode?(this.deselectAll(b),this.addToSelection(b)):this.toggleSelect(b))},addToSelection:function(b){if("none"!=this.mode)if(l.isArray(b))n.forEach(b,this.addToSelection,this);else if(b=Number(b),this.selected[b])this.selectedIndex=b;else if(!1!==this.onCanSelect(b)){this.selectedIndex=b;var h=this.grid.getRowNode(b);h&&g.set(h,"aria-selected","true");
this._beginUpdate();this.selected[b]=!0;this.onSelected(b);this._endUpdate()}},deselect:function(b){if("none"!=this.mode)if(l.isArray(b))n.forEach(b,this.deselect,this);else if(b=Number(b),this.selectedIndex==b&&(this.selectedIndex=-1),this.selected[b]&&!1!==this.onCanDeselect(b)){var h=this.grid.getRowNode(b);h&&g.set(h,"aria-selected","false");this._beginUpdate();delete this.selected[b];this.onDeselected(b);this._endUpdate()}},setSelected:function(b,h){this[h?"addToSelection":"deselect"](b)},toggleSelect:function(b){l.isArray(b)?
n.forEach(b,this.toggleSelect,this):this.setSelected(b,!this.selected[b])},_range:function(b,h,e){var f=0<=b?b:h;b=h;f>b&&(b=f,f=h);for(h=f;h<=b;h++)e(h)},selectRange:function(b,h){this._range(b,h,l.hitch(this,"addToSelection"))},deselectRange:function(b,h){this._range(b,h,l.hitch(this,"deselect"))},insert:function(b){this.selected.splice(b,0,!1);this.selectedIndex>=b&&this.selectedIndex++},remove:function(b){this.selected.splice(b,1);this.selectedIndex>=b&&this.selectedIndex--},deselectAll:function(b){for(var h in this.selected)h!=
b&&!0===this.selected[h]&&this.deselect(h)},clickSelect:function(b,h,e){if("none"!=this.mode){this._beginUpdate();if("extended"!=this.mode)this.select(b);else{if(!e||0>this.rangeStartIndex)this.rangeStartIndex=b;h||this.deselectAll(b);e?this.selectRange(this.rangeStartIndex,b):h?this.toggleSelect(b):this.addToSelection(b)}this._endUpdate()}},clickSelectEvent:function(b){this.clickSelect(b.rowIndex,k.isCopyKey(b),b.shiftKey)},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate()}})})},
"tm1web/share/TM1Utility":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/xhr dojo/dom dojo/dom-construct dojo/dom-style dojo/sniff ../utility/url dojox/uuid/generateRandomUuid ./Base dojo/domReady!".split(" "),function(m,n,l,k,g,b,h,e,f,a){return new (n(a,{constructor:function(){this._scrollBarSize=this.tm1WebRoot=this.tm1WebPath=null;this._InitializeTM1Utility()},_InitializeTM1Utility:function(){this._setTM1WebPath();this._setTM1WebRoot()},_setTM1WebPath:function(){this.tm1WebPath=
e.toUrl("tm1web")+"/"},_setTM1WebRoot:function(){this.tm1WebRoot=this.tm1WebPath+"../../"},download:function(a,c){var e=k.byId(c);null==e&&(e=g.create("iframe",{id:c||f()}),b.set(e,{display:"none"}),document.body.appendChild(e));e.src=a},getSelectAreaCoordinates:function(a){if(!a)return null;var b=a.SelectedArea;if(b){var e=a.GetCoordinate(b.StartCell),b=a.GetCoordinate(b.EndCell);a=this._swap(e.rowIndex,b.rowIndex);e=this._swap(e.colIndex,b.colIndex);return{rowStart:a.low,rowEnd:a.high,colStart:e.low,
colEnd:e.high}}return null},_swap:function(a,b){var e=a;a>b&&(a=b,b=e);return{low:a,high:b}},replaceAll:function(a,b,e){return a.split(b).join(e)},escapeString:function(a){if(null==a||""==a)return a;a=a.replace("\\","\\\\");a=a.replace('"',"\x26quot;");a=a.replace("'","\\'");a=a.replace("\r","\\r");a=a.replace("\n","\\n");return a=a.replace("\t","\\t")},insertCharacterAtCaret:function(a,b){if(h("ie")){b.focus();var e=document.selection.createRange();e.text=a;e.select()}else{var e=b.selectionStart,
f=b.selectionEnd,g=b.scrollTop;b.value=b.value.substring(0,e)+a+b.value.substring(f,b.value.length);b.focus();b.selectionStart=e+a.length;b.selectionEnd=e+a.length;b.scrollTop=g}},indexOf:function(a,b){return a.indexOf?a.indexOf(b):m.indexOf(a,b)}}))})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){function t(){this._popupWrapper&&(b.destroy(this._popupWrapper),delete this._popupWrapper)}l=l(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=h.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a)for(this._firstAroundPosition=b,b=0;b<this._stack.length;b++){var e=this._stack[b].wrapper.style;e.top=parseFloat(e.top)+a+"px";"auto"==e.right?e.left=parseFloat(e.left)+c+
"px":e.right=parseFloat(e.right)-c+"px"}this._aroundMoveListener=setTimeout(d.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var d=a._popupWrapper,e=a.domNode;d||(d=b.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),d.appendChild(e),e=e.style,e.display="",e.visibility="",e.position="",e.top="0px",a._popupWrapper=d,n.after(a,"destroy",t,!0),"ontouchend"in document&&c(d,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}));return d},moveOffScreen:function(a){var b=this._createWrapper(a);a=h.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";e.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);e.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=
this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(b){for(var l=this._stack,m=b.popup,n=m.domNode,t=b.orient||["below","below-alt","above","above-alt"],r=b.parent?b.parent.isLeftToRight():h.isBodyLtr(m.ownerDocument),z=b.around,B=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;l.length&&(!b.parent||!k.isDescendant(b.parent.domNode,l[l.length-1].widget.domNode));)this.close(l[l.length-1].widget);var E=this.moveOffScreen(m);m.startup&&!m._started&&
m.startup();var F,I=h.position(n);if("maxHeight"in b&&-1!=b.maxHeight)F=b.maxHeight||Infinity;else{F=s.getEffectiveBox(this.ownerDocument);var M=z?h.position(z,!1):{y:b.y-(b.padding||0),h:2*(b.padding||0)};F=Math.floor(Math.max(M.y,F.h-(M.y+M.h)))}I.h>F&&(I=e.getComputedStyle(n),e.set(E,{overflowY:"scroll",height:F+"px",border:I.borderLeftWidth+" "+I.borderLeftStyle+" "+I.borderLeftColor}),n._originalStyle=n.style.cssText,n.style.border="none");g.set(E,{id:B,style:{zIndex:this._beginZIndex+l.length},
"class":"dijitPopup "+(m.baseClass||m["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});0==l.length&&z&&(this._firstAroundNode=z,this._firstAroundPosition=h.position(z,!0),this._aroundMoveListener=setTimeout(d.hitch(this,"_repositionAll"),50));f("config-bgIframe")&&!m.bgIframe&&(m.bgIframe=new q(E));B=m.orient?d.hitch(m,"orient"):null;t=z?p.around(E,z,t,r,B):p.at(E,b,"R"==t?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding,B);E.style.visibility="visible";n.style.visibility=
"visible";n=[];n.push(c(E,"keydown",d.hitch(this,function(c){if(c.keyCode==a.ESCAPE&&b.onCancel)c.stopPropagation(),c.preventDefault(),b.onCancel();else if(c.keyCode==a.TAB&&(c.stopPropagation(),c.preventDefault(),(c=this.getTopPopup())&&c.onCancel))c.onCancel()})));m.onCancel&&b.onCancel&&n.push(m.on("cancel",b.onCancel));n.push(m.on(m.onExecute?"execute":"change",d.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));l.push({widget:m,wrapper:E,parent:b.parent,onExecute:b.onExecute,
onCancel:b.onCancel,onClose:b.onClose,handlers:n});if(m.onOpen)m.onOpen(t);return t},close:function(a){for(var b=this._stack;a&&m.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;d.bgIframe&&(d.bgIframe.destroy(),delete d.bgIframe);if(d.onClose)d.onClose();for(var f;f=c.handlers.pop();)f.remove();d&&d.domNode&&this.hide(d);e&&e()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=
this._aroundMoveListener=null)}});return r.popup=new l})},"tm1web/workbook/celledit/TextArea":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-geometry dojo/window dojo/on dojo/keys dijit/form/Textarea ../../share/TM1Utility ../../utility/dom ../../on/mousewheel ./_EditMixin".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c){return m("tm1web.workbook.celledit.TextArea",[e,c],{buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,d,function(a){var c=
n.mixin({},a);this.defer(function(){b.emit(this.dataGrid.domNode,d,c)})})},_onKeyDown:function(a){switch(a.keyCode){case h.DOWN_ARROW:case h.UP_ARROW:case h.LEFT_ARROW:case h.RIGHT_ARROW:if(this._allowKeyNavigation){var c=n.mixin({},a);this.defer(function(){b.emit(this.dataGrid.domNode,"keydown",c)});l.stop(a)}}},onInput:function(a){switch(a.keyCode){case h.ENTER:if(a.altKey)return l.stop(a),f.insertCharacterAtCaret("\n",this.textbox),this.resize(),!1;case h.TAB:var c=n.mixin({},a);this.defer(function(){b.emit(this.dataGrid.domNode,
"keydown",c)});this.inherited(arguments);return!1}return this.inherited(arguments)},resize:function(){this._resizeHorizontal();this.inherited(arguments)},_resizeHorizontal:function(){if(!this.busyResizing&&this._activeCell){this.busyResizing=!0;var b=this.domNode,c=b.wrap;a.setStyle(b,{whiteSpace:"pre",wordWrap:"normal",width:"1px"});b.wrap="off";b.style.width=b.scrollWidth+k.getPadExtents(b).w+"px";b.style.removeProperty("white-space");b.style.removeProperty("word-wrap");b.wrap=c;this.busyResizing=
!1}},_adjustPosition:function(){var a=this._activeCell,b=this.domNode.style,c=a.offsetWidth,d=this._getMaxWidth(),e=this._getMaxHeight(),f=Math.min(d,c),h=Math.min(e,a.offsetHeight);b.minWidth=f+"px";b.maxWidth=(this._activeCellInfo.wraps?f:d)+"px";b.minHeight=h+"px";b.maxHeight=e+"px";this._cellPosition=k.position(a);this.inherited(arguments);this._cellPosition=null;b.width=c+"px"},_calculateOffsetTop:function(){return this._cellPosition.y},_calculateOffsetLeft:function(){return this._cellPosition.x},
_calculateWidth:function(){},_getMaxWidth:function(){return this._getMaxDimension("w","x")},_getMaxHeight:function(){return this._getMaxDimension("h","y")},_getMaxDimension:function(a,b){if(!this._activeCell)return 0;var c=g.getBox(),d=k.position(this._activeCell,!1);return Math.max(c[a]-d[b],0)}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(m,n,l,k,g){return n("dijit.layout.TabContainer",
l,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(b){var h=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?m.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":h,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,
tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},b)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget="top"!=this.tabPosition&&"bottom"!=this.tabPosition||this.nested?k:g)}})})},"tm1web/widgets/InfoAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(m,n,l,k,g,b){var h=m("tm1web.widgets.InfoAlert",b,{buildRendering:function(){this.inherited(arguments);
k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",g.get("ARIA_IMG_INFO_STR"))}});h.show=function(b){var f=new l;b.className="tm1webInfoDialog tm1webMessageDialog";alertDialog=new h(b);var a=n.after(alertDialog,"onHide",function(){a.remove();f.resolve()});alertDialog.show();return f.promise};return h})},"tm1web/grid/selection/SelectionOverlayWidget":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase",
"dojo/dom-style","../../utility/dom"],function(m,n,l,k,g){return m("tm1web.grid.selection.SelectionOverlayWidget",[l],{constructor:function(b){},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,h){},_setStyle:function(b,h,e,f){var a=this._getOffset();this.domNode.style.left=b-a+"px";this.domNode.style.top=h-a+"px";0<=e&&(this.domNode.style.width=e+"px");0<=f&&(this.domNode.style.height=f+"px")},_getOffset:function(){return 0}})})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare",
"dojo/sniff","./_FormWidget","./_FormValueMixin"],function(m,n,l,k){return m("dijit.form._FormValueWidget",[l,k],{_layoutHackIE7:function(){if(7==n("ie"))for(var g=this.domNode,b=g.parentNode,h=g.firstChild||g,e=h.style.filter,f=this;b&&0==b.clientHeight;)(function(){var a=f.connect(b,"onscroll",function(){f.disconnect(a);h.style.filter=(new Date).getMilliseconds();f.defer(function(){h.style.filter=e})})})(),b=b.parentNode}})})},"tm1web/websheet/Utility":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-style dojo/query dojo/NodeList-traverse dojo/domReady!".split(" "),
function(m,n,l,k,g,b){return new (m(null,{constructor:function(){this.RatePixelToPoint=this.ScrollBarSize=null;this._initializeUtility()},_initializeUtility:function(){this._computeRatioPixelToPoint();this._computeScrollBarSize()},_computeRatioPixelToPoint:function(){var b=k.create("div");g.set(b,{width:"1px",height:"1px",overflow:"hidden"});var e=k.create("div");g.set(e,{width:"1px",height:"127500pt"});k.place(e,b);k.place(b,l.doc.body);this.RatePixelToPoint=127500/e.offsetHeight;k.destroy(b)},_computeScrollBarSize:function(){var b=
k.create("div");g.set(b,{width:"1px",height:"1px",overflow:"hidden"});var e=k.create("div",null,b);g.set(e,{width:"100px",height:"100px",overflow:"auto"});var f=k.create("div",null,e);g.set(f,{width:"120px",height:"120px"});k.place(b,l.doc.body);this.ScrollBarSize={horizontal:e.offsetWidth-e.clientWidth,vertical:e.offsetHeight-e.clientHeight};k.destroy(b)},checkScrollBarAvailability:function(b){var e=!1,f=!1;b.clientWidth==b.offsetWidth?b.clientHeight<b.offsetHeight&&(f=!0):b.clientHeight<b.offsetHeight?
f=e=!0:e=!0;return{verticalScroll:e,horizontalScroll:f}},createTopicId:function(b,e,f){return b+"-"+e+"-"+f},convertPointToPixel:function(b){return b/this.RatePixelToPoint},convertPixelToPoint:function(b){return b*this.RatePixelToPoint},getClosestAncestorNode:function(h,e){if(h){var f=b(h).closest(e);if(0<f.length)return f[0]}return null}}))})},"dojo/errors/RequestError":function(){define(["./create"],function(m){return m("RequestError",function(m,l){this.response=l})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),
function(m,n,l,k,g,b){return n("dijit.tree._dndContainer",null,{constructor:function(h,e){this.tree=h;this.node=h.domNode;k.mixin(this,e);this.containerState="";l.add(this.node,"dojoDndContainer");this.events=[g(this.node,b.enter,k.hitch(this,"onOverEvent")),g(this.node,b.leave,k.hitch(this,"onOutEvent")),m.after(this.tree,"_onNodeMouseEnter",k.hitch(this,"onMouseOver"),!0),m.after(this.tree,"_onNodeMouseLeave",k.hitch(this,"onMouseOut"),!0),g(this.node,"dragstart, selectstart",function(b){b.preventDefault()})]},
destroy:function(){for(var b;b=this.events.pop();)b.remove();this.node=this.parent=null},onMouseOver:function(b){this.current=b},onMouseOut:function(){this.current=null},_changeState:function(b,e){var f="dojoDnd"+b,a=b.toLowerCase()+"State";l.replace(this.node,f+e,f+this[a]);this[a]=e},_addItemClass:function(b,e){l.add(b,"dojoDndItem"+e)},_removeItemClass:function(b,e){l.remove(b,"dojoDndItem"+e)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container",
"")}})})},"tm1web/workbook/Worksheet":function(){define("dojo/_base/declare dijit/layout/_ContentPaneResizeMixin ../grid/Grid ./GridPane ./Controller ../workbook/CellContextMenu ../workbook/ChartContextMenu ../share/service-loader!WorkbookService".split(" "),function(m,n,l,k,g,b,h,e){return m("tm1web.workbook.Worksheet",[l,n],{GridPane:k,Controller:g,buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode},startup:function(){this.inherited(arguments);l.prototype.startup.apply(this,
arguments)},postCreate:function(){this.inherited(arguments);this.own(this._cellContextMenu=new b({dataGrid:this,model:this.model,objectId:this.model.objectId,allowSpreading:this.model.isSpreadingAllowed()}));this._cellContextMenu.startup();this._cellContextMenu.bindDomNode(this.domNode);this.own(this._chartContextMenu=new h(this,this.model.objectId,e,null))},resize:function(){this.inherited(arguments);l.prototype.resize.apply(this,arguments)},copy:function(){return this._controller.copy()},paste:function(){return this._controller.paste()},
_onShow:function(){this._destroyed||(this.inherited(arguments),this._controller.onShow(),this._controller.refresh())}})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t){var u,x,w=new (n([c,h],{curNode:null,activeStack:[],constructor:function(){var a=
e.hitch(this,function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});m.before(b,"empty",a);m.before(b,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,e=a.document&&a.document.body;if(e){var h=d("pointer-events")?"pointerdown":d("MSPointer")?"MSPointerDown":d("touch-events")?"mousedown, touchstart":"mousedown",g=f(a.document,h,function(a){a&&a.target&&
null==a.target.parentNode||c._onTouchNode(b||a.target,"mouse")}),k=f(e,"focusin",function(a){if(a.target.tagName){var d=a.target.tagName.toLowerCase();"#document"!=d&&"body"!=d&&(s.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),l=f(e,"focusout",function(a){c._onBlurNode(b||a.target)});return{remove:function(){g.remove();k.remove();l.remove();e=g=k=l=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),
this._clearFocusTimer=setTimeout(e.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(e.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,b){x=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);g.contains(a,
"dijitPopup")&&(a=a.firstChild);var c=[];try{for(;a;){var d=k.get(a,"dijitPopupParent");if(d)a=r.byId(d).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===p.body())break;a=q.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),f=e&&r.byId(e);!f||"mouse"==b&&f.get("disabled")||c.unshift(e);a=a.parentNode}}}catch(h){}this._setStack(c,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,e=a.length-1;if(a[e]!=c[d]){this.set("activeStack",a);var f;for(f=d;0<=f&&c[f]!=a[f];f--)if(d=r.byId(c[f]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),this.emit("widget-blur",d,b);for(f++;f<=e;f++)if(d=r.byId(a[f]))d.set("focused",!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",
d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));a(function(){var a=w.registerWin(q.get(document));d("ie")&&f(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){w.focus(a)};for(var v in w)/^_/.test(v)||(t.focus[v]="function"==typeof w[v]?e.hitch(w,v):w[v]);w.watch(function(a,b,c){t.focus[a]=c});return w})},"dojo/_base/declare":function(){define(["./kernel","./config","../has","./lang"],function(m,n,l,k){function g(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function b(a,
b,c){var d,e,f,h,k,l,m,p=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=b,b=c);c=0;h=a.callee;(d=d||h.nom)||g("can't deduce a name to call inherited()",this.declaredClass);k=this.constructor._meta;f=k.bases;m=p.p;if("constructor"!=d){if(p.c!==h&&(m=0,l=f[0],k=l._meta,k.hidden[d]!==h)){(e=k.chains)&&"string"==typeof e[d]&&g("calling chained method with inherited: "+d,this.declaredClass);do if(k=l._meta,e=l.prototype,k&&(e[d]===h&&e.hasOwnProperty(d)||k.hidden[d]===h))break;while(l=
f[++m]);m=l?m:-1}if(l=f[++m])if(e=l.prototype,l._meta&&e.hasOwnProperty(d))c=e[d];else{h=v[d];do if(e=l.prototype,(c=e[d])&&(l._meta?e.hasOwnProperty(d):c!==h))break;while(l=f[++m])}c=l&&c||v[d]}else{if(p.c!==h&&(m=0,(k=f[0]._meta)&&k.ctor!==h)){for((e=k.chains)&&"manual"===e.constructor||g("calling chained constructor with inherited",this.declaredClass);(l=f[++m])&&(!(k=l._meta)||k.ctor!==h););m=l?m:-1}for(;(l=f[++m])&&!(c=(k=l._meta)?k.ctor:l););c=l&&c}p.c=c;p.p=m;if(c)return!0===b?c:c.apply(this,
b||a)}function h(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function e(a,b,c){var d=this.getInherited(a,b);if(d)return d.apply(this,c||b||a)}function f(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function a(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c]);if(l("bug-for-in-skips-shadowed"))for(var d=k._extraNames,e=d.length;e;)c=d[--e],"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=
b[c])}function d(a){x.safeMixin(this.prototype,a);return this}function c(a,b){a instanceof Array||"function"==typeof a||(b=a,a=void 0);b=b||{};a=a||[];return x([this].concat(a),b)}function p(a,b){return function(){var c=arguments,d=c,e=c[0],f,h;h=a.length;var g;if(!(this instanceof c.callee))return u(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,
c)||c);if(++f==h)break;g[f]=c}for(f=h-1;0<=f;--f)e=a[f],(e=(h=e._meta)?h.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function q(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return u(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function s(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return u(b);for(;d=a[c];++c)if(d=
(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function r(a,b,c){return function(){var d,e,f=0,h=1;c&&(f=b.length-1,h=-1);for(;d=b[f];f+=h)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function t(a){A.prototype=a.prototype;a=new A;A.prototype=null;return a}function u(a){var b=a.callee,c=t(b);b.apply(c,a);return c}function x(e,l,m){"string"!=typeof e&&(m=l,l=e,e="");m=m||{};var u,A,H,J,P,D,C,G=1,S=l;if("[object Array]"==y.call(l)){G=e;A=[];H=
[{cls:0,refs:[]}];J={};D=1;for(var Q=l.length,N=0,K,T,L,R;N<Q;++N){(K=l[N])?"[object Function]"!=y.call(K)&&g("mixin #"+N+" is not a callable constructor.",G):g("mixin #"+N+" is unknown. Did you use dojo.require to pull it in?",G);T=K._meta?K._meta.bases:[K];L=0;for(K=T.length-1;0<=K;--K)R=T[K].prototype,R.hasOwnProperty("declaredClass")||(R.declaredClass="uniqName_"+z++),R=R.declaredClass,J.hasOwnProperty(R)||(J[R]={count:0,refs:[],cls:T[K]},++D),R=J[R],L&&L!==R&&(R.refs.push(L),++L.count),L=R;++L.count;
H[0].refs.push(L)}for(;H.length;){L=H.pop();A.push(L.cls);for(--D;u=L.refs,1==u.length;){L=u[0];if(!L||--L.count){L=0;break}A.push(L.cls);--D}if(L)for(N=0,Q=u.length;N<Q;++N)L=u[N],--L.count||H.push(L)}D&&g("can't build consistent linearization",G);K=l[0];A[0]=K?K._meta&&K===A[A.length-K._meta.bases.length]?K._meta.bases.length:1:0;D=A;H=D[0];G=D.length-H;l=D[G]}else D=[0],l?"[object Function]"==y.call(l)?(H=l._meta,D=D.concat(H?H.bases:l)):g("base class is not a callable constructor.",e):null!==
l&&g("unknown base class. Did you use dojo.require to pull it in?",e);if(l)for(A=G-1;;--A){u=t(l);if(!A)break;H=D[A];(H._meta?a:w)(u,H.prototype);J=new Function;J.superclass=l;J.prototype=u;l=u.constructor=J}else u={};x.safeMixin(u,m);H=m.constructor;H!==v.constructor&&(H.nom="constructor",u.constructor=H);for(A=G-1;A;--A)(H=D[A]._meta)&&H.chains&&(C=w(C||{},H.chains));u["-chains-"]&&(C=w(C||{},u["-chains-"]));H=!C||!C.hasOwnProperty("constructor");D[0]=J=C&&"manual"===C.constructor?s(D):1==D.length?
q(m.constructor,H):p(D,H);J._meta={bases:D,hidden:m,chains:C,parents:S,ctor:m.constructor};J.superclass=l&&l.prototype;J.extend=d;J.createSubclass=c;J.prototype=u;u.constructor=J;u.getInherited=h;u.isInstanceOf=f;u.inherited=B;u.__inherited=b;e&&(u.declaredClass=e,n.noGlobals||k.setObject(e,J));if(C)for(P in C)u[P]&&"string"==typeof C[P]&&"constructor"!=P&&(H=u[P]=r(P,D,"after"===C[P]),H.nom=P);return J}var w=k.mixin,v=Object.prototype,y=v.toString,A=new Function,z=0,B=m.config.isDebug?e:b;m.safeMixin=
x.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===v[c]&&c in v||"constructor"==c||("[object Function]"==y.call(d)&&(d.nom=c),a[c]=d);if(l("bug-for-in-skips-shadowed"))for(var e=k._extraNames,f=e.length;f;)c=e[--f],d=b[c],d===v[c]&&c in v||"constructor"==c||("[object Function]"==y.call(d)&&(d.nom=c),a[c]=d);return a};return m.declare=x})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(m,n,l,k,g){function b(a,b){var c=a.xhr;a.status=
a.xhr.status;try{a.text=c.responseText}catch(d){}"xml"===a.options.handleAs&&(a.data=c.responseXML);if(!b)try{l(a)}catch(e){b=e}b?this.reject(b):k.checkStatus(c.status)?this.resolve(a):(b=new m("Unable to load "+a.url+" status: "+c.status,a),this.reject(b))}function h(a){return this.xhr.getResponseHeader(a)}function e(l,t,r){var v=g("native-formdata")&&t&&t.data&&t.data instanceof FormData,y=k.parseArgs(l,k.deepCreate(s,t),v);l=y.url;t=y.options;var A,z=k.deferred(y,p,a,d,b,function(){A&&A()}),B=
y.xhr=e._create();if(!B)return z.cancel(new m("XHR was not created")),r?z:z.promise;y.getHeader=h;c&&(A=c(B,z,y));var E=t.data,F=!t.sync,I=t.method;try{B.open(I,l,F,t.user||q,t.password||q);t.withCredentials&&(B.withCredentials=t.withCredentials);g("native-response-type")&&t.handleAs in f&&(B.responseType=f[t.handleAs]);var M=t.headers;l=v?!1:"application/x-www-form-urlencoded";if(M)for(var O in M)"content-type"===O.toLowerCase()?l=M[O]:M[O]&&B.setRequestHeader(O,M[O]);l&&!1!==l&&B.setRequestHeader("Content-Type",
l);M&&"X-Requested-With"in M||B.setRequestHeader("X-Requested-With","XMLHttpRequest");k.notify&&k.notify.emit("send",y,z.promise.cancel);B.send(E)}catch(H){z.reject(H)}n(z);B=null;return r?z:z.promise}g.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});g.add("dojo-force-activex-xhr",function(){return g("activex")&&!document.addEventListener&&"file:"===window.location.protocol});g.add("native-xhr2",function(){if(g("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&
("undefined"===typeof opera||"undefined"!==typeof a.upload)}});g.add("native-formdata",function(){return"undefined"!==typeof FormData});g.add("native-response-type",function(){return g("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});g.add("native-xhr2-blob",function(){if(g("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===b}});var f={blob:g("native-xhr2-blob")?"blob":"arraybuffer",document:"document",
arraybuffer:"arraybuffer"},a,d,c,p;g("native-xhr2")?(a=function(a){return!this.isFulfilled()},p=function(a,b){b.xhr.abort()},c=function(a,b,c){function d(a){b.handleResponse(c)}function e(a){a=new m("Unable to load "+c.url+" status: "+a.target.status,c);b.handleResponse(c,a)}function f(a){a.lengthComputable?(c.loaded=a.loaded,c.total=a.total,b.progress(c)):3===c.xhr.readyState&&(c.loaded=a.position,b.progress(c))}a.addEventListener("load",d,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",
f,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",f,!1);a=null}}):(a=function(a){return a.xhr.readyState},d=function(a){return 4===a.xhr.readyState},p=function(a,b){var c=b.xhr,d=typeof c.abort;"function"!==d&&"object"!==d&&"unknown"!==d||c.abort()});var q,s={data:null,query:null,sync:!1,method:"GET"};e._create=function(){throw Error("XMLHTTP not available");};if(g("native-xhr")&&!g("dojo-force-activex-xhr"))e._create=function(){return new XMLHttpRequest};
else if(g("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),e._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(r){try{new ActiveXObject("Microsoft.XMLHTTP"),e._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}k.addCommonMethods(e);return e})},"dojo/domReady":function(){define(["./has"],function(m){function n(a){f.push(a);e&&l()}function l(){if(!a){for(a=!0;f.length;)try{f.shift()(g)}catch(b){console.error(b,"in domReady callback",b.stack)}a=!1;n._onQEmpty()}}
var k=function(){return this}(),g=document,b={loaded:1,complete:1},h="string"!=typeof g.readyState,e=!!b[g.readyState],f=[],a;n.load=function(a,b,c){n(c)};n._Q=f;n._onQEmpty=function(){};h&&(g.readyState="loading");if(!e){var d=[],c=function(a){a=a||k.event;e||"readystatechange"==a.type&&!b[g.readyState]||(h&&(g.readyState="complete"),e=1,l())},p=function(a,b){a.addEventListener(b,c,!1);f.push(function(){a.removeEventListener(b,c,!1)})};if(!m("dom-addeventlistener")){var p=function(a,b){b="on"+b;
a.attachEvent(b,c);f.push(function(){a.detachEvent(b,c)})},q=g.createElement("div");try{q.doScroll&&null===k.frameElement&&d.push(function(){try{return q.doScroll("left"),1}catch(a){}})}catch(s){}}p(g,"DOMContentLoaded");p(k,"load");"onreadystatechange"in g?p(g,"readystatechange"):h||d.push(function(){return b[g.readyState]});if(d.length){var r=function(){if(!e){for(var a=d.length;a--;)if(d[a]()){c("poller");return}setTimeout(r,30)}};r()}}return n})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./request"],function(m,n,l,k){var g;"undefined"!==typeof dojo&&dojo.version&&(g=1===dojo.version.major&&7===dojo.version.minor);var b;b=function(a,b,e){k(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(e)};var h={},e=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},f={},a={};m.cache=function(a,c,f){var g;"string"==typeof a?/\//.test(a)?(g=a,f=c):
g=n.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")):(g=a+"",f=c);a=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof a)return h[g]=a,f?e(a):a;if(null===a)return delete h[g],null;g in h||b(g,!0,function(a){h[g]=a});return f?e(h[g]):h[g]};return{dynamic:!0,normalize:function(a,b){var e=a.split("!"),f=e[0];return(/^\./.test(f)?b(f):f)+(e[1]?"!"+e[1]:"")},load:function(d,c,k){d=d.split("!");var l=1<d.length,n=d[0],r=c.toUrl(d[0]);d="url:"+r;var t=f,u=function(a){k(l?e(a):a)},x=void 0!==
typeof requirejs?m.global.require.cache:c.cache;n in h?t=h[n]:x&&d in x?t=x[d]:g&&x&&r in x?t=x[r]:r in h&&(t=h[r]);if(t===f)if(a[r])a[r].push(u);else{var w=a[r]=[u];b(r,!c.async,function(b){h[n]=h[r]=b;for(var c=0;c<w.length;)w[c++](b);delete a[r]})}else u(t)}}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(m,n,l,k,g,b,h,e,f){l.add("dojo-preload-i18n-Api",1);h=m.i18n={};var a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,
d=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",h=0;h<b.length;h++)if(f+=(f?"-":"")+b[h],!a||a[f])e.push(c+f+"/"+d),e.specificity=f;return e},c={},p=function(a,b,c){c=c?c.toLowerCase():m.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},q=m.getL10nName=function(a,b,c){return f.id+"!"+p(a,b,c)},s=function(a,e,f,h,g,k){a([e],function(l){var m=b.clone(l.root||l.ROOT),p=d(!l._v1x&&l,g,f,h);a(p,function(){for(var a=1;a<p.length;a++)m=
b.mixin(b.clone(m),arguments[a]);c[e+"/"+g]=m;m.$locale=p.specificity;k()})})},r=function(a){var c=g.extraLocale||[],c=b.isArray(c)?c:[c];c.push(a);return c},t=function(d,f,h){if(l("dojo-preload-i18n-Api")){var g=d.split("*"),p="preload"==g[1];p&&(c[d]||(c[d]=1,y(g[2],e.parse(g[3]),1,f)),h(1));(g=p)||(w&&v.push([d,f,h]),g=w);if(g)return}d=a.exec(d);var n=d[1]+"/",q=d[5]||d[4],t=n+q,g=(d=d[5]&&d[4])||m.locale||"",x=t+"/"+g;d=d?[g]:r(g);var u=d.length,z=function(){--u||h(b.delegate(c[x]))};k.forEach(d,
function(a){var b=t+"/"+a;l("dojo-preload-i18n-Api")&&A(b);c[b]?z():s(f,t,n,q,a,z)})};if(l("dojo-unit-tests"))var u=h.unitTests=[];l("dojo-preload-i18n-Api");var x=h.normalizeLocale=function(a){a=a?a.toLowerCase():m.locale;return"root"==a?"ROOT":a},w=0,v=[],y=h._preloadLocalizations=function(a,d,e,f){function h(a,b){f([a],b)}function g(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function l(){for(--w;!w&&v.length;)t.apply(null,v.shift())}function p(e){e=x(e);g(e,
function(m){if(0<=k.indexOf(d,m)){var p=a.replace(/\./g,"/")+"_"+m;w++;h(p,function(a){for(var d in a){var h=a[d],k=d.match(/(.+)\/([^\/]+)$/),p;if(k){p=k[2];k=k[1]+"/";h._localized=h._localized||{};var q;if("ROOT"===m){var t=q=h._localized;delete h._localized;t.root=h;c[n.toAbsMid(d)]=t}else q=h._localized,c[n.toAbsMid(k+p+"/"+m)]=h;m!==e&&function(a,d,h,k){var m=[],p=[];g(e,function(b){k[b]&&(m.push(n.toAbsMid(a+b+"/"+d)),p.push(n.toAbsMid(a+d+"/"+b)))});m.length?(w++,f(m,function(){for(var f=0;f<
m.length;f++)h=b.mixin(b.clone(h),arguments[f]),c[p[f]]=h;c[n.toAbsMid(a+d+"/"+e)]=b.clone(h);l()})):c[n.toAbsMid(a+d+"/"+e)]=h}(k,p,h,q)}}l()});return!0}return!1})}f=f||n;p();k.forEach(m.config.extraLocale,p)},A=function(){},z={},B=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
A=function(a){for(var b,d=a.split("/"),e=m.global[d[0]],f=1;e&&f<d.length-1;e=e[d[f++]]);e&&((b=e[d[f]])||(b=e[d[f].replace(/-/g,"_")]),b&&(c[a]=b));return b};h.getLocalization=function(a,b,c){var d;a=p(a,b,c);t(a,n,function(a){d=a});return d};l("dojo-unit-tests")&&u.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=B("{prop:1}",A,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=B("({prop:1})",A,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=B("{'prop-x':1}",A,"nonsense",z);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("({'prop-x':1})",A,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=B("define({'prop-x':1})",A,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=B("define('some/module', {'prop-x':1})",A,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=B("this is total nonsense and should throw an error",A,"nonsense",z);a.is(b instanceof Error,!0)})});return b.mixin(h,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:c,getL10nName:q})})},
"tm1web/websheet/spreading/SpreadDialogProportional":function(){define(["dojo/_base/declare","./SpreadDialogBase"],function(m,n){return m(n,{constructor:function(){this._InitializeSpreadDialogProportional()},_InitializeSpreadDialogProportional:function(){},_CreateContent:function(){this.inherited(arguments);"P%"==this._CommandString&&(this._DataValue.value="")}})})},"tm1web/workbook/CellType":function(){define({String:"String",Number:"Number",Boolean:"Boolean",DateTime:"DateTime",Error:"Error",Empty:"Empty"})},
"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(m,n,l){var k={};m.setObject("data.util.simpleFetch",k,n);k.errorHandler=function(g,b){b.onError&&b.onError.call(b.scope||n.global,g,b)};k.fetchHandler=function(g,b){var h=b.abort||null,e=!1,f=b.start?b.start:0,a=b.count&&Infinity!==b.count?f+b.count:g.length;b.abort=function(){e=!0;h&&h.call(b)};var d=b.scope||n.global;b.store||(b.store=this);b.onBegin&&b.onBegin.call(d,g.length,b);b.sort&&
g.sort(l.createSortFunction(b.sort,this));if(b.onItem)for(var c=f;c<g.length&&c<a;++c){var k=g[c];e||b.onItem.call(d,k,b)}b.onComplete&&!e&&(c=null,b.onItem||(c=g.slice(f,a)),b.onComplete.call(d,c,b))};k.fetch=function(g){g=g||{};g.store||(g.store=this);this._fetchItems(g,m.hitch(this,"fetchHandler"),m.hitch(this,"errorHandler"));return g};return k})},"tm1web/subseteditor/SubsetStore":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojox/collections/ArrayList dojox/collections/Set ../share/service-loader!SubsetService ./ElementType".split(" "),
function(m,n,l,k,g,b,h,e,f){return m(null,{sessionId:null,subsetId:null,_metaData:null,_elements:null,_selected:null,constructor:function(a){this.sessionId=a.sessionId;this.subsetId=a.subsetId;a._subsetInfo?(this._update(a._subsetInfo),this._selected=this._getSelected()):this._loadDeferred=new k},getFeatures:function(){return{"dojo.data.api.Identity":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Read":!0,"dojo.data.api.Write":!0}},getValue:function(a,b,c){return a[b]||("undefined"!==typeof c?
c:a[b])},getValues:function(a,b){var c=this.getValue(a,b);return n.isArray(c)?c:c?[c]:[]},getAttributes:function(a){var b=[];for(key in a)a.hasOwnProperty(key)&&b.push(key);return b},hasAttribute:function(a,b){return null!=a[b]},containsValue:function(a,b,c){throw Error("Unimplemented API: dojo.data.api.Read.containsValue");},isSelected:function(a){return a.selected},isItem:function(a){return a.subsetId===this.subsetId&&a.sessionId===this.sessionId},isItemLoaded:function(a){return a.children||a.type!==
f.Consolidated},loadItem:function(a){var b=a.item,c=a.onItem;a=a.onError;e.expandElement(this.sessionId,this.subsetId,this.getIdentity(b),{callback:function(a){this._update(a);b.children=[];c(b);this._onChange()},scope:this,errorHandler:a})},fetch:function(a){var b=a.onComplete;a=a.onError;this._elements?this._onChange(b):e.loadSubset(this.sessionId,this.subsetId,{callback:function(a){this._update(a);a=this._loadDeferred;delete this._loadDeferred;a.resolve();this._onChange(b)},scope:this,errorHandler:a})},
close:function(a){},getLabel:function(a){return a.alias},getLabelAttributes:function(a){return["alias"]},getMetaData:function(a){var b=a.onComplete;this._loadDeferred?this._loadDeferred.then(n.hitch(this,function(){b(this._metaData)})):b(this._metaData)},getIdentity:function(a){return a.id},getIdentityAttributes:function(a){return["id"]},fetchItemByIdentity:function(a){a.onItem.call(a.scope,this._find(a.identity))},_find:function(a){if(!this._elements)return null;var b=this,c=null;l.some(this._elements,
function q(e){if(b.getIdentity(e)===a)return c=e,!0;if(e.children)return l.some(e.children,q)});return c},_getSource:function(a){if(!a||0>=a.length)throw"No items specified";for(var b=a[0].subsetId,c=1;c<a.length;c++)if(b!==a[c].subsetId)throw"Specified items do no share the same source";return b},newItems:function(a,b){var c=this._getInsertIndex(this.getIdentity(b.parent),b.insertIndex);e.copyElements(this.sessionId,this._getSource(a),this.subsetId,this.getIdentities(a),c,{callback:function(a){this._update(a);
this._onChange()},scope:this})},pasteItems:function(a,b){var c=a.items;if(a.copy)this.newItems(c,b);else{var f=this._getInsertIndex(this.getIdentity(b.parent),b.insertIndex);e.moveElements(this.sessionId,this._getSource(c),this.subsetId,this.getIdentities(c),f,{callback:function(a){this._update(a);this._onChange()},scope:this})}},_getInsertIndex:function(a,b){function c(a){var b=a.children;return b&&0<b.length?c(b[0]):a}var e=this;return function(a,b){var d=a.children;if(e._metaData.expandAbove)return 0==
d.length?0:b>=d.length?d[b-1].id+1:c(d[b]).id;if(0===b||0>=d.length)return a.id+1;for(var f=d[b-1],d=f.children;d&&0<d.length;)f=d[d.length-1],d=f.children;return f.id+1}(0>a?{id:-1,children:this._elements||[]}:this._find(a),b)},deleteItems:function(a){},setValue:function(a,b,c){},unloadItem:function(a){var b=a.onItem,c=a.onError;e.collapseElement(this.sessionId,this.subsetId,this.getIdentity(a.item),{callback:function(a){this._update(a);b();this._onChange()},scope:this,errorHandler:c})},deleteItem:function(a){var b=
a.item,c=a.onItem;a=a.onError;e.collapseElement(this.sessionId,b.subsetId,this.getIdentity(b),{callback:function(a){this._update(a);c();this._onChange()},scope:this,errorHandler:a})},setValues:function(a,b,c){l.forEach(c,n.hitch(this,function(c){this.setValue(a,b,c)}))},unsetAttribute:function(a,b){"children"===b&&this.setValue(a,b,null)},save:function(a){a.onComplete()},revert:function(){},isDirty:function(a){return!1},onSet:function(a,b,c,e){},onNew:function(a,b){},onDelete:function(a){},onFetch:function(a){},
onMetaDataChange:function(a){},_onFind:function(a){this.onFind(a.id,a.startIndex,a.endIndex,a.looped)},onFind:function(a,b,c,e){},_onChange:function(a){this._selected=this._getSelected();this.onMetaDataChange(this._metaData);if(a)a(this._elements);else this.onFetch(this._elements);this._onFind(this._metaData.findInfo)},_update:function(a){this._elements=a.elements;this._metaData=a.metaData;this._addSessionInfo(this._elements)},_addSessionInfo:function(a){function b(a){l.forEach(a||[],function(a){a.sessionId=
c.sessionId;a.subsetId=c.subsetId;b(a.children)})}var c=this;b(a)},setCurrentPage:function(a){var b=a.onComplete,c=this;e.setCurrentPage(this.sessionId,this.subsetId,a.page,{callback:function(a){c._update(a);b();c._onChange()},scope:this,errorHandler:a.onError})},setSelected:function(a,d){var c=this._selected;this._selected=a;var f=h.difference(c,a);this._setSelected(f,!1);d?(c=h.intersection(c,a),a=h.difference(a,c),this._setSelected(a,!0),a=h.union(a,f).toArray()):this._setSelected(new b(a),!0);
var l=this.getIdentities(a),m=new k,f=this.setSelectedPromise;this.setSelectedPromise=m.promise;g(f,n.hitch(this,function(){e.setSelectedElements(this.sessionId,this.subsetId,l,!!d,{callback:function(){this._metaData.modified||(this._metaData.modified=!0,this.onMetaDataChange(this._metaData));m.resolve()},scope:this})}))},getSelected:function(){return this._selected},_setSelected:function(a,b){a.forEach(function(a){a.selected=b})},_getSelected:function(){function a(c){l.forEach(c,function(c){c.selected&&
b.push(c);c.children&&a(c.children)},this)}var b=[];a(this._elements);return b},getIdentities:function(a){return l.map(a,n.hitch(this,function(a){return this.getIdentity(a)}))},hasSelectedItems:function(){return 0<this._getSelected().length},getAttributeNames:function(a){e.getAttributeNames(this.sessionId,this.subsetId,{callback:a.onComplete,scope:this,errorHandler:a.onError})},getAttributeValues:function(a){e.getAttributeValues(this.sessionId,this.subsetId,a.attribute,{callback:a.onComplete,scope:this,
errorHandler:a.onError})},reloadSubset:function(){e.reloadSubset(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},subsetAll:function(){e.subsetAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},cut:function(){e.cut(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},
copy:function(){e.copy(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},paste:function(a){e.paste(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},pasteAbove:function(a){e.pasteAbove(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},pasteBelow:function(a){e.pasteBelow(this.sessionId,
this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},filterByLevel:function(a){var b=a.onComplete;e.filterByLevel(this.sessionId,this.subsetId,a.levels,{callback:function(a){this._update(a);b();this._onChange()},scope:this,errorHandler:a.onError})},filterByAttribute:function(a){var b=a.onComplete;e.filterByAttribute(this.sessionId,this.subsetId,a.attributeName,a.attributeValue,{callback:function(a){this._update(a);b();this._onChange()},
scope:this,errorHandler:a.onError})},filterByExpression:function(a){var b=a.onComplete;e.filterByExpression(this.sessionId,this.subsetId,a.expression,{callback:function(a){this._update(a);b();this._onChange()},scope:this,errorHandler:a.onError})},keepSelectedElements:function(){e.keepSelectedElements(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},deleteSelectedElements:function(){e.deleteSelectedElements(this.sessionId,
this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},find:function(a){e.find(this.sessionId,this.subsetId,a.pattern,a.startIndex,a.direction,{callback:function(a){a.subsetInfo&&(this._update(a.subsetInfo),this._onChange());this._onFind(a)},scope:this})},sort:function(a){e.sort(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this})},expandSelectedConsolidations:function(a){e.expandSelectedConsolidations(this.sessionId,
this.subsetId,!!a,{callback:function(a){this._update(a);this._onChange()},scope:this})},expandAll:function(){e.expandAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},collapseSelectedConsolidations:function(){e.collapseSelectedConsolidations(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},collapseAll:function(){e.collapseAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},
scope:this})},insertParentsOfSelectedElements:function(){e.insertParentsOfSelectedElements(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},createConsolidationFromSubset:function(a){var b=a.onComplete;e.createConsolidationFromSubset(this.sessionId,this.subsetId,a.namedSubsetId,{callback:function(a){this._update(a);b&&b();this._onChange()},scope:this,errorHandler:a.onError})},createConsolidationFromSelectedElements:function(a){var b=a.onComplete;e.createConsolidationFromSelectedElements(this.sessionId,
this.subsetId,{callback:function(a){this._update(a);b&&b();this._onChange()},scope:this,errorHandler:a.onError})},getElementIndex:function(a){return parseInt(this.getIdentity(a))+1}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c){n=n("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
m.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,b.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(m.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};m.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&m.forEach(this._stateClasses,function(a){delete d[a]});m.forEach(b,function(a){d[a]=!0});var e=
[],f;for(f in d)e.push(f);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function d(c){k.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":k.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":k.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);
break;case "focus":case "focusin":k.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":k.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});e(function(){function b(a,d,e){if(!e||!l.isDescendant(e,d))for(;d&&d!=e;d=d.parentNode)if(d._cssState){var f=c.getEnclosingWidget(d);f&&(d==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(d,d._cssState,a))}}var e=a.body(),g;h(e,f.over,function(a){b(a,a.target,a.relatedTarget)});h(e,f.out,function(a){b(a,a.target,a.relatedTarget)});
h(e,d.press,function(a){g=a.target;b(a,g)});h(e,d.release,function(a){b(a,g);g=null});h(e,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var d=c.getEnclosingWidget(b);d&&d._subnodeCssMouseEvent(b,b._cssState,a)}})});return n})},"tm1web/utility/number":function(){define("dojo/i18n!dojo/cldr/nls/number dojo/number dojo/sniff dojo/string ./string ./percent ../share/NumberType".split(" "),function(m,n,l,k,g,b,h){function e(a){return a!==a||"number"!==typeof a}
function f(a,c,f){var k={type:h.DECIMAL,negative:!1,rawValue:null,num:NaN};if(0==a.length)return k;c?k.type=c:-1!=a.indexOf(m.percentSign)&&(k.type=h.PERCENT);if(k.type!=h.DECIMAL&&k.type!=h.PERCENT)return k;"("==a.charAt(0)&&")"==a.charAt(a.length-1)&&(k.negative=!k.negative,a=a.substring(1,a.length-1));b.formatUsesPrefixedPercent()&&(a=b.removePlusSignBeforePercent(a));var l=c="";if(k.type==h.PERCENT){var q=b.getRange(a);if(null==q)return k;c=a.substring(0,q.start);l=a.substring(q.end);a=a.substring(q.start,
q.end)}q=a.split(/[eE]/);if(2<q.length)return k;a=q[0];if(a.charAt(0)==m.plusSign||a.charAt(0)==m.minusSign)if(a.charAt(0)==m.minusSign&&(k.negative=!k.negative),a=a.substring(1),a.charAt(0)==m.minusSign||a.charAt(0)==m.plusSign)return k;if(a.charAt(a.length-1)==m.decimal&&(a=a.substring(0,a.length-1),-1!=a.indexOf(m.decimal)))return k;if(1!=q.length&&(!f||0!=q[1].length&&q[1]!=m.minusSign&&q[1]!=m.plusSign)){q=q[1];if(-1!=q.indexOf(m.decimal)||q.charAt(0)==m.plusSign&&(q=q.substring(1),q.charAt(0)==
m.minusSign||q.charAt(0)==m.plusSign)||0==q.length)return k;a=n.parse(a);if(e(a))return k;q=n.parse(q);if(e(q))return k;a=d(a+"e"+q)}f&&(0==a.length&&(a="0"),-1!=a.indexOf(m.group)?a=a.replace(p,""):s&&(a=a.replace(/\s/g,"")));k.rawValue=a;a=k.type==h.DECIMAL?a:g.addPreSuffix(a,c,l);k.num=n.parse(a,{type:k.type});return k}function a(a,b){var c=a.toString().split(/[eE]/),d=c[0].indexOf("."),d=-1==d?0:c[0].length-d-1;1<c.length&&(d-=Number(c[1]));b==h.PERCENT&&(d-=2);l("trident")&&20<d&&(d=20);return 0>
d?0:d}function d(a,b){var c=a.toString().split(/[eE]/);a=c[0];b=(b?b:0)+(1<c.length?Number(c[1]):0);(c="-"==a.charAt(0))&&(a=a.substring(1));var d=a.indexOf(".");a=a.replace(".","");0==d?(a="0"+a,d=1):-1==d&&(d=a.length);d+=b;if(0<=b&&d>a.length){for(var d=k.pad(a,d,"0",!0),e=0,f=0;f<d.length;f++){var h=d.charAt(f);if("0"!=h){e=f;"."==h&&e--;break}else f==d.length-1&&(e=f)}a=0<e?d.substring(e):d}else 0>=d&&(a=k.pad(a,a.length-d+1),d=1),d!=a.length&&(a=a.substring(0,d)+m.decimal+a.substring(d,a.length));
return(c?m.minusSign:"")+a}function c(a,c){return c==h.DECIMAL?d(a):b.addFormat(d(a,2))}var p=new RegExp(g.regexEscape(m.group),"g"),q=String.fromCharCode(160),s=-1!=m.group.indexOf(q);return{group:m.group,decimal:m.decimal,isNaN:e,parse:function(a){a=f(a);if(e(a.num))return NaN;a.negative&&(a.num=-a.num);if(Infinity==Math.abs(a.num)||1E-100>Math.abs(a.num))return a.num;var b=a.type==h.PERCENT?2:0,c=a.rawValue.indexOf(m.decimal);-1!=c&&(b+=a.rawValue.length-c-1);return(l("chrome")||l("ie")||l("trident"))&&
20<b?a.num:Number(a.num.toFixed(b))},canParse:function(a,b,c){a=f(a,b,c);return!e(a.num)},format:function(d,f,g){if("string"===typeof d&&e(Number(d))||Infinity===Math.abs(d))throw Error("Value specified should be in the invariant number format.");g=g?g:h.DECIMAL;if(g!=h.DECIMAL&&g!=h.PERCENT)throw Error("Format type should be decimal or percent.");var k=Math.abs(d);if(0!=k&&(1E-6>k||1E16<=k))return c(d,g);k=n.format(d,{type:g,places:a(d,g)});return 1<k.split(/[eE]/).length?c(d,g):f?g==h.PERCENT?b.addFormat(b.removeFormat(k).replace(p,
"")):k.replace(p,""):k},convert:function(a,b,c){a=this.parse(a);return e(a)?null:this.format(a,c,b)}}})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c){l.isAsync||e(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var p=n("dojo.dnd.Source",d,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,
skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){k.mixin(this,k.mixin({},b));var c=this.accept;if(c.length){this.accept={};for(var d=0;d<c.length;++d)this.accept[c[d]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&g.add(this.node,"dojoDndSource");this.targetState="";this.accept&&g.add(this.node,"dojoDndTarget");this.horizontal&&g.add(this.node,
"dojoDndHorizontal");this.topics=[f.subscribe("/dnd/source/over",k.hitch(this,"onDndSourceOver")),f.subscribe("/dnd/start",k.hitch(this,"onDndStart")),f.subscribe("/dnd/drop",k.hitch(this,"onDndDrop")),f.subscribe("/dnd/cancel",k.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,f=0;f<d.length;++f)if(d[f]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,
b){if(a)return!0;2>arguments.length&&(b=this==c.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){p.superclass.destroy.call(this);m.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(d){if(!this.isDragging||"Disabled"!=this.targetState){p.superclass.onMouseMove.call(this,d);var e=c.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(d.pageX-this._lastX)>this.delay||Math.abs(d.pageY-
this._lastY)>this.delay)){var f=this.getSelectedNodes();f.length&&e.startDrag(this,f,this.copyState(a.getCopyKeyState(d),!0))}this.isDragging&&(f=!1,this.current&&(this.targetBox&&this.targetAnchor==this.current||(this.targetBox=b.position(this.current,!0)),f=this.horizontal?d.pageX-this.targetBox.x<this.targetBox.w/2==b.isBodyLtr(this.current.ownerDocument):d.pageY-this.targetBox.y<this.targetBox.h/2),this.current!=this.targetAnchor||f!=this.before)&&(this._markTargetAnchor(f),e.canDrop(!this.current||
e.source!=this||!(this.current.id in this.selection)))}},onMouseDown:function(b){this.mouseDown||!this._legalMouseDown(b)||this.skipForm&&a.isFormElement(b)||(this.mouseDown=!0,this._lastX=b.pageX,this._lastY=b.pageY,p.superclass.onMouseDown.call(this,b))},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,p.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=c.manager(),a.canDrop("Disabled"!=
this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,d){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?d?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&c.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),
this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(b,c,d){var e=this._normalizedCreator;this._normalizedCreator=this.creator?function(a,c){return e.call(this,b.getItem(a.id).data,c)}:d?function(c){var d=b.getItem(c.id);c=c.cloneNode(!0);c.id=a.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(a){var c=
b.getItem(a.id);b.delItem(a.id);return{node:a,data:c.data,type:c.type}};this.selectNone();d||this.creator||b.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&b.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(b,c){var d=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,b){return d.call(this,this.getItem(a.id).data,b)}:function(b){var c=this.getItem(b.id);b=b.cloneNode(!0);
b.id=a.getUniqueId();return{node:b,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,b,this.before,this.current);this._normalizedCreator=d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){p.superclass.onOverEvent.call(this);c.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},
onOutEvent:function(){p.superclass.onOutEvent.call(this);c.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(this.current!=this.targetAnchor||this.before!=a)this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){this.targetAnchor&&
(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!h.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(g.contains(a,"dojoDndHandle"))return!0;if(g.contains(a,"dojoDndItem")||g.contains(a,"dojoDndIgnore"))break}return!1}});return p})},"dojo/errors/RequestTimeoutError":function(){define(["./create",
"./RequestError"],function(m,n){return m("RequestTimeoutError",null,n,{dojoType:"timeout"})})},"tm1web/workbook/controls/_CheckableControl":function(){define("dojo/_base/declare dojo/dom-construct dojo/on dojo/text!./templates/_CheckableControl.html dojo/text!./templates/_CheckableControlLeftAlign.html dijit/_TemplatedMixin ./_Control".split(" "),function(m,n,l,k,g,b,h){return m("tm1web.workbook.control._CheckableControl",[h,b],{templateString:k,_type:null,_inputNode:null,_labelNode:null,label:"",
alignment:"RIGHT",postMixInProperties:function(){this.inherited(arguments);"LEFT"===this.alignment&&(this.templateString=g)},postCreate:function(){this.inherited(arguments);this._attachEventListeners()},_attachEventListeners:function(){function b(e){e.stopPropagation()}this.own(l(this._inputNode,"click",b),l(this._labelNode,"click",b))},update:function(b){this.inherited(arguments);this.set("label",b.label)},_setDisabledAttr:function(b){this.inherited(arguments);this._inputNode.disabled=b},_onClick:function(b){this.disabled||
this._setChecked()&&this._onChange()},_setChecked:function(){var b=this._inputNode;b.checked=!b.checked;return!0},_onChange:function(){}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(m,n,l,k,g,b,h,e,f){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var d=function(a){return 1==a.length&&"string"==
typeof a[0]},c=function(a){var b=a.parentNode;b&&b.removeChild(a)},p=n.NodeList,q=p._adaptWithCondition,s=p._adaptAsForEach,r=p._adaptAsMap;k.extend(p,{_normalize:function(a,c){var d=!0===a.parse;if("string"==typeof a.template){var e=a.templateFunc||m.string&&m.string.substitute;a=e?e(a.template,a):a}e=typeof a;"string"==e||"number"==e?(a=b.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?k._toArray(a.childNodes):[a]):k.isArrayLike(a)?k.isArray(a)||(a=k._toArray(a)):a=[a];d&&(a._runParse=!0);return a},
_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,d,e){if(1==c.nodeType||"only"!=d)for(var f,h=a.length,g=h-1;0<=g;g--){var k=e?this._cloneNode(a[g]):a[g];if(a._runParse&&m.parser&&m.parser.parse)for(f||(f=c.ownerDocument.createElement("div")),f.appendChild(k),m.parser.parse(f),k=f.firstChild;f.firstChild;)f.removeChild(f.firstChild);g==h-1?b.place(k,c,d):c.parentNode.insertBefore(k,c);c=k}},position:r(h.position),attr:q(a(e),d),style:q(a(f),d),addClass:s(g.add),removeClass:s(g.remove),
toggleClass:s(g.toggle),replaceClass:s(g.replace),empty:s(b.empty),removeAttr:s(e.remove),marginBox:r(h.getMarginBox),place:function(a,c){var d=n(a)[0];return this.forEach(function(a){b.place(a,d,c)})},orphan:function(a){return(a?n._filterResult(this,a):this).forEach(c)},adopt:function(a,b){return n(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new p;this.map(function(c){n(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=
arguments,c=this,d=0;if("string"==typeof a){c=n._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(l.filter(c,b[d],b[d+1]),this)},addContent:function(a,c){a=this._normalize(a,this[0]);for(var d=0,e;e=this[d];d++)a.length?this._place(a,e,c,0<d):b.empty(e);return this}});return p})},"tm1web/websheet/spreading/RelativeSpreadDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct ../../utility/message-localizer ../../widgets/ErrorAlert ./ReferenceSelectControl ./RelativeSpreadControl ./RelativeSpreadDialogBase".split(" "),
function(m,n,l,k,g,b,h,e,f){return m(f,{constructor:function(){this._RefCellVal=null;this._InitializeRelativeSpreadDialog()},_InitializeRelativeSpreadDialog:function(){this._SelectPage=new h({_ObjectId:this._ObjectId,_dataGrid:this._dataGrid,_coord:this._coord,Service:this.Service});this._ApplyPage=new e({_dataGrid:this._dataGrid,_IsPercentage:this._IsPercentage})},_CreateLayout:function(){this._CreateContent();this._CreateBaseLayout();this._SelectPage.setSelectButton(this.selectButton)},_CreateContent:function(){this._SelectPageContainer=
this._SelectPage.GetContentContainer();this._ApplyPageContainer=this._ApplyPage.GetContentContainer();k.place(this._SelectPageContainer,this._Dialog.containerNode);k.place(this._ApplyPageContainer,this._Dialog.containerNode);l.remove(this._SelectPageContainer,"tm1webHidden");l.add(this._ApplyPageContainer,"tm1webHidden")},_OnSelect:function(){var a=this._SelectPage.BuildReferenceString();this._ApplyPage.SetRefStr(a);var a=this._SelectPage.GetSelectedDimNames(),d=this._SelectPage.GetSelectedElemNames();
this._dataGrid.model?this._dataGrid.model.getRefCellValue(this._SelectPage.getCubeName(),a,d,this._coord).then(n.hitch(this,this._onGetRefCellValue)).otherwise(function(a){b.show({message:g.get("SRV_ERR_STR"),title:g.get("SRV_ERR_TITLE_STR")})}):this.Service.getRefCellValue(this._ObjectId,this._SelectPage.getCubeName(),a,d,this._coord.rowIndex,this._coord.colIndex,{callback:this._onGetRefCellValue,scope:this})},_onGetRefCellValue:function(a){this._ApplyPage.SetRefCellVal(this._convertFloat(a));l.add(this._SelectPageButtonContainer,
"tm1webHidden");l.add(this._SelectPageContainer,"tm1webHidden");l.remove(this._ApplyPageButtonContainer,"tm1webHidden");l.remove(this._ApplyPageContainer,"tm1webHidden")},_OnApply:function(){var a=this._SelectPage.buildReferenceArray(),d=this._ApplyPage.GetControlString();if(null!=d){var c=function(a,c){"SpreadFailed_NoUpdatableCell"==a?b.show({message:g.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:g.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):b.show({message:c.localizedMessage,title:g.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})};
this._dataGrid.model?this._dataGrid.model.relativeSpread(d,this._coord,a).otherwise(function(a){c(a[0],a[1])}):this.Service.dataSpread2(this._ObjectId,a,d,{callback:this._OnSpread,scope:this,errorHandler:c})}this.Destroy()}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A){function z(a){return function(b){e[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}p.add("dojo-bidi",!1);var B={};m=b("dijit._WidgetBase",[u,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:z("lang"),dir:"",_setDirAttr:z("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:k.blankGif||m.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},d;for(d in b.attributeMap)c.push(d);for(d in b)/^on/.test(d)&&(a[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,d.length-9),b.attributeMap&&d in b.attributeMap||c.push(d))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();
this.srcNodeRef=h.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,s.mixin(this,a));this.postMixInProperties();this.id||(this.id=A.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);A.add(this);this.buildRendering();
var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);n.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},
buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(n.map(a,function(a){return a+"Rtl"})));f.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,n.forEach(this.getChildren(),function(a){a._started||a._destroyed||!s.isFunction(a.startup)||(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=
!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();n.forEach(this._connects,s.hitch(this,"disconnect"));n.forEach(this._supportingWidgets,b);this.domNode&&n.forEach(A.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);A.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);
this.domNode&&(b?e.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){n.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;s.isObject(a)?c.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,c){c=3<=
arguments.length?c:this.attributeMap[a];n.forEach(s.isArray(c)?c:[c],function(c){var d=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":s.isFunction(b)&&(b=s.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?e.set(d,c,b):d.set(c,b);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":d.innerHTML=b;break;case "class":f.replace(d,b,this[a])}},this)},get:function(a){var b=
this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(s.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!s.isFunction(this.focusNode)?"focusNode":"domNode",f=this[d]&&this[d].tagName,h;if((h=f)&&!(h=B[f])){h=this[d];var g={},k;for(k in h)g[k.toLowerCase()]=!0;h=B[f]=g}k=h;c=a in this.attributeMap?this.attributeMap[a]:
c.s in this?this[c.s]:k&&c.l in k&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;!this._created||c===b||c!==c&&b!==b||(this._watchCallbacks&&
this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&r.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?l.after(this,c,b,!0):this.own(r(this.domNode,
a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?A.findWidgets(this.containerNode):[]},getParent:function(){return A.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(g.connect(a,
b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,s.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:d.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=c.get(this.domNode,"display")},placeAt:function(b,c){var d=!b.tagName&&A.byId(b);!d||!d.addChild||c&&"number"!==typeof c?(d=d&&"domNode"in d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:
d.domNode:h.byId(b,this.ownerDocument),a.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup()):d.addChild(this,c);return this},defer:function(a,b){var c=setTimeout(s.hitch(this,function(){c&&(c=null,this._destroyed||s.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});p("dojo-bidi")&&m.extend(y);return m})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(m,n){m.cookie=function(l,k,g){var b=document.cookie,
h;if(1==arguments.length)h=(h=b.match(new RegExp("(?:^|; )"+n.escapeString(l)+"\x3d([^;]*)")))?decodeURIComponent(h[1]):void 0;else{g=g||{};b=g.expires;if("number"==typeof b){var e=new Date;e.setTime(e.getTime()+864E5*b);b=g.expires=e}b&&b.toUTCString&&(g.expires=b.toUTCString());k=encodeURIComponent(k);var b=l+"\x3d"+k,f;for(f in g)b+="; "+f,e=g[f],!0!==e&&(b+="\x3d"+e);document.cookie=b}return h};m.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return m.cookie})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(m,n,l,k,g){return m("dijit.form.FilteringSelect",[k,g],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||
!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(b,h,e,f){h&&h[this.searchAttr]!==this._lastQuery||!h&&b.length&&this.store.getIdentity(b[0])!=this._lastQuery||(b.length?this.set("item",b[0],f):this.set("value","",f||void 0===f&&!this.focused,this.textbox.value,null))},_openResultList:function(b,h,e){h[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},
_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(b,h,e,f){this._onChangeActive||(h=null);if(void 0===f){if(null===b||""===b)if(b="",!n.isString(e)){this._setDisplayedValueAttr(e||"",h);return}var a=this;this._lastQuery=b;l(this.store.get(b),function(b){a._callbackSetLabel(b?[b]:[],void 0,void 0,h)})}else this.valueNode.value=b,this.inherited(arguments,[b,h,e,f])},_setItemAttr:function(b,h,e){this.inherited(arguments);this._lastDisplayedValue=
this.textbox.value},_getDisplayQueryString:function(b){return b.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(b,h){null==b&&(b="");if(!this._created){if(!("displayedValue"in this.params))return;h=!1}if(this.store){this.closeDropDown();var e=n.clone(this.query),f=this._getDisplayQueryString(b),a;this.store._oldAPI?a=f:(a=this._patternToRegExp(f),a.toString=function(){return f});this._lastQuery=e[this.searchAttr]=a;this._lastDisplayedValue=this.textbox.value=b;this._set("displayedValue",
b);var d=this,c={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};n.mixin(c,this.fetchProperties);this._fetchHandle=this.store.query(e,c);l(this._fetchHandle,function(a){d._fetchHandle=null;d._callbackSetLabel(a||[],e,c,h)},function(a){d._fetchHandle=null;d._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"tm1web/workbook/Comment":function(){define(["dojo/_base/declare","dojo/aspect","dojo/dom-class",
"dojo/dom-style","dijit/Tooltip"],function(m,n,l,k,g){return m(g,{width:null,height:null,styleId:null,onShow:function(){if(g._masterTT._onDeck)var b=n.after(g._masterTT,"orient",function(){b.remove();this._applyStyles()}.bind(this));else this._applyStyles();this.inherited(arguments)},_applyStyles:function(){l.add(g._masterTT.domNode,"tm1webWorkbookComment "+this.styleId);k.set(g._masterTT.domNode,{});k.set(g._masterTT.containerNode,{width:this.width+"pt",height:this.height+"pt"});this._stylesApplied=
!0},onHide:function(){this._stylesApplied&&!this._removeStylesHandle&&(this._removeStylesHandle=n.before(g._masterTT,"orient",this._removeStyles.bind(this)));this.inherited(arguments)},_removeStyles:function(){this._removeStylesHandle&&(this._removeStylesHandle.remove(),this._removeStylesHandle=null);var b=g._masterTT.containerNode.style;b.removeProperty("width");b.removeProperty("height");l.remove(g._masterTT.domNode,"tm1webWorkbookComment "+this.styleId);this._stylesApplied=!1},destroy:function(){this._stylesApplied&&
this._removeStyles();this.inherited(arguments)}})})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","../main","dojo/_base/lang"],function(m,n){m.getObject("uuid",!0,n);n.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";n.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};n.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};n.uuid.assert=function(l,k){if(!l)throw k||(k="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),
Error(k);};n.uuid.generateNilUuid=function(){return n.uuid.NIL_UUID};n.uuid.isValid=function(l){l=l.toString();var k=m.isString(l)&&36==l.length&&l==l.toLowerCase();if(k){l=l.split("-");var k=5==l.length&&8==l[0].length&&4==l[1].length&&4==l[2].length&&4==l[3].length&&12==l[4].length,g;for(g in l)var b=parseInt(l[g],16),k=k&&isFinite(b)}return k};n.uuid.getVariant=function(l){if(!n.uuid._ourVariantLookupTable){var k=n.uuid.variant,g=[];g[0]=k.NCS;g[1]=k.NCS;g[2]=k.NCS;g[3]=k.NCS;g[4]=k.NCS;g[5]=k.NCS;
g[6]=k.NCS;g[7]=k.NCS;g[8]=k.DCE;g[9]=k.DCE;g[10]=k.DCE;g[11]=k.DCE;g[12]=k.MICROSOFT;g[13]=k.MICROSOFT;g[14]=k.UNKNOWN;g[15]=k.UNKNOWN;n.uuid._ourVariantLookupTable=g}l=l.toString();l=l.charAt(19);l=parseInt(l,16);n.uuid.assert(0<=l&&16>=l);return n.uuid._ourVariantLookupTable[l]};n.uuid.getVersion=function(l){n.uuid.assert(n.uuid.getVariant(l)==n.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");l=l.toString();l=l.charAt(14);return parseInt(l,16)};n.uuid.getNode=function(l){n.uuid.assert(n.uuid.getVersion(l)==
n.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");l=l.toString();return l.split("-")[4]};n.uuid.getTimestamp=function(l,k){n.uuid.assert(n.uuid.getVersion(l)==n.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");l=l.toString();k||(k=null);switch(k){case "string":case String:return n.uuid.getTimestamp(l,Date).toUTCString();case "hex":var g=l.split("-"),b=g[0],h=g[1],g=g[2],g=g.slice(1),b=g+h+b;n.uuid.assert(15==b.length);return b;
case null:case "date":case Date:return g=l.split("-"),b=parseInt(g[0],16),h=parseInt(g[1],16),g=parseInt(g[2],16)&4095,g=(g<<16)+h,g*=4294967296,g+=b,new Date(g/1E4-122192928E5);default:n.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+k)}};return n.uuid})},"tm1web/subseteditor/SortType":function(){define({Ascending:"Ascending",Descending:"Descending",Hierarchically:"Hierarchically",IndexAscending:"IndexAscending",IndexDescending:"IndexDescending"})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(m,n,l,k,g,b,h,e,f){var a=l.mixin,d={},c=d._Line=function(a,b){this.start=a;this.end=b};c.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var p=d.Animation=function(b){a(this,b);l.isArray(this.curve)&&(this.curve=new c(this.curve[0],this.curve[1]))};p.prototype=new k;l.extend(p,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(n.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=l.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=
(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var q=0,s=null,r={run:function(){}};l.extend(p,{_startTimer:function(){this._timer||(this._timer=b.after(r,"run",l.hitch(this,"_cycle"),!0),q++);s||(s=setInterval(l.hitch(r,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,q--);0>=q&&(clearInterval(s),s=null,q=0)}});var t=h("ie")?function(a){var b=a.style;b.width.length||"auto"!=f.get(a,"width")||(b.width="auto")}:function(){};
d._fade=function(c){c.node=e.byId(c.node);var h=a({properties:{}},c);c=h.properties.opacity={};c.start="start"in h?h.start:function(){return+f.get(h.node,"opacity")||0};c.end=h.end;c=d.animateProperty(h);b.after(c,"beforeBegin",l.partial(t,h.node),!0);return c};d.fadeIn=function(b){return d._fade(a({end:1},b))};d.fadeOut=function(b){return d._fade(a({end:0},b))};d._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var b in a){var c=a[b];c.start instanceof
g&&(c.tempColor=new g)}};u.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=this._properties[c],e=d.start;e instanceof g?b[c]=g.blendColors(e,d.end,a,d.tempColor).toCss():l.isArray(e)||(b[c]=(d.end-e)*a+e+("opacity"!=c?d.units||"px":0))}return b};d.animateProperty=function(c){var d=c.node=e.byId(c.node);c.easing||(c.easing=m._defaultEasing);c=new p(c);b.after(c,"beforeBegin",l.hitch(c,function(){var b={},c;for(c in this.properties){var e=function(a,b){var c={height:a.offsetHeight,
width:a.offsetWidth}[b];if(void 0!==c)return c;c=f.get(a,b);return"opacity"==b?+c:k?c:parseFloat(c)};if("width"==c||"height"==c)this.node.display="block";var h=this.properties[c];l.isFunction(h)&&(h=h(d));h=b[c]=a({},l.isObject(h)?h:{end:h});l.isFunction(h.start)&&(h.start=h.start(d));l.isFunction(h.end)&&(h.end=h.end(d));var k=0<=c.toLowerCase().indexOf("color");"end"in h?"start"in h||(h.start=e(d,c)):h.end=e(d,c);k?(h.start=new g(h.start),h.end=new g(h.end)):h.start="opacity"==c?+h.start:parseFloat(h.start)}this.curve=
new u(b)}),!0);b.after(c,"onAnimate",l.hitch(f,"set",c.node),!0);return c};d.anim=function(a,b,c,e,f,h){return d.animateProperty({node:a,duration:c||p.prototype.duration,properties:b,easing:e,onEnd:f}).play(h||0)};a(m,d);m._Animation=p;return d})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin dojo/_base/declare".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){m.experimental("dojox.layout.ResizeHandle");var t=r("dojox.layout._ResizeHelper",q,{show:function(){c.set(this.domNode,"display","")},hide:function(){c.set(this.domNode,"display","none")},resize:function(a){d.setMarginBox(this.domNode,a)}});return r("dojox.layout.ResizeHandle",[q,s],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=p.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new t({id:"dojoxGlobalResizeHelper"})).placeAt(h.body()),
a.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var b=n.partial(a.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;b("dojoxResizeNW");break;case "x":this._resizeX=!0;b("dojoxResizeW");break;case "y":this._resizeY=!0,b("dojoxResizeN")}},_beginSizing:function(a){if(!this._isSizing&&
(l.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=p.byId(this.targetId))?this.targetWidget.domNode:f.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var b=d.position(this.targetDomNode,!0);this._resizeHelper.resize({l:b.x,t:b.y,w:b.w,h:b.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:b.x,t:b.y})}this._isSizing=!0;this.startPoint={x:a.clientX,y:a.clientY};
var b=c.getComputedStyle(this.targetDomNode),e="border-model"===d.boxModel?{w:0,h:0}:d.getPadBorderExtents(this.targetDomNode,b),k=d.getMarginExtents(this.targetDomNode,b);this.startSize={w:c.get(this.targetDomNode,"width",b),h:c.get(this.targetDomNode,"height",b),pbw:e.w,pbh:e.h,mw:k.w,mh:k.h};this.isLeftToRight()||"absolute"!=c.get(this.targetDomNode,"position")||(b=d.position(this.targetDomNode,!0),this.startPosition={l:b.x,t:b.y});this._pconnects=[l.connect(h.doc,"onmousemove",this,"_updateSizing"),
l.connect(h.doc,"onmouseup",this,"_endSizing")];g.stop(a)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(d){return!1}this._activeResizeLastEvent=a;var e=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),f=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
e:0);f=this._checkConstraints(a,this.startSize.h-(this._resizeY?f:0));(c=c||this.startPosition)&&this._resizeX&&(f.l=c.l+e,f.w!=a&&(f.l+=a-f.w),f.t=c.t);switch(b){case "margin":f.w+=this.startSize.mw,f.h+=this.startSize.mh;case "border":f.w+=this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=this.startSize.w,
d=this.startSize.h,e=c*b-d*a;0>e?a=b*c/d:0<e&&(b=a*d/c)}return{w:a,h:b}},_changeSizing:function(a){var d=this.targetWidget&&n.isFunction(this.targetWidget.resize),f=this._getNewCoords(a,d&&"margin");if(!1!==f&&(d?this.targetWidget.resize(f):this.animateSizing?e[this.animateMethod]([b.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:f.w}},duration:this.animateDuration}),b.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:f.h}},
duration:this.animateDuration})]).play():c.set(this.targetDomNode,{width:f.w+"px",height:f.h+"px"}),this.intermediateChanges))this.onResize(a)},_endSizing:function(a){k.forEach(this._pconnects,l.disconnect);var b=n.partial(l.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(a){}})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady",
"./sniff","./_base/window"],function(m,n,l,k,g){var b=g.doc.documentElement;g=k("ie");var h=k("opera"),e=Math.floor,f=k("ff"),a=m.boxModel.replace(/-/,""),h={dj_quirks:k("quirks"),dj_opera:h,dj_khtml:k("khtml"),dj_webkit:k("webkit"),dj_safari:k("safari"),dj_chrome:k("chrome"),dj_gecko:k("mozilla"),dj_ios:k("ios"),dj_android:k("android")};g&&(h.dj_ie=!0,h["dj_ie"+e(g)]=!0,h.dj_iequirks=k("quirks"));f&&(h["dj_ff"+e(f)]=!0);h["dj_"+a]=!0;var d="",c;for(c in h)h[c]&&(d+=c+" ");b.className=n.trim(b.className+
" "+d);l(function(){if(!m.isBodyLtr()){var a="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");b.className=n.trim(b.className+" "+a+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))}});return k})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(m,n,l){n=n.NodeList;var k=n.prototype;k.connect=n._adaptAsForEach(function(){return m.connect.apply(this,arguments)});k.coords=n._adaptAsMap(m.coords);n.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
l.forEach(n.events,function(g){var b="on"+g;k[b]=function(h,e){return this.connect(b,h,e)}});return m.NodeList=n})},"dijit/form/nls/validate":function(){define({root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,
az:!0,ar:!0})},"tm1web/subseteditor/PagingSlider":function(){define("require dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/text!./templates/PagingSlider.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/HorizontalSlider ../utility/message-localizer ../share/_LoadingOverlayMixin ../share/Label".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c){return n([b,h,e,d],{contextRequire:m,baseClass:"tm1webPagingSlider",templateString:g,model:null,_slider:null,_label:null,
_lastValue:1,postCreate:function(){this.inherited(arguments);this.connect(this.model,"onMetaDataChange","_onMetaDataChange");this.model.getMetaData(l.hitch(this,"_onMetaDataChange"))},_onMetaDataChange:function(b){var c=b.currentPageIndex+1;b=b.pageCount;this._slider.set("maximum",b);this._slider.set("discreteValues",b);c!==this._slider.get("value")&&this._slider.set("value",c);this._lastValue=c;this._label.set("content",a.get("SUBSET_PAGE_STATUS",c,b));this.layout()},layout:function(){var a=this.domNode.clientWidth;
if(!(0>=a)){this._slider.set("style",{display:""});var b=k.getMarginBox(this._label.domNode).w;this._slider.set("style",{width:a-b-1+"px"})}},onChange:function(a){if(!this.get("loading")&&this._lastValue!==a){this.set("loading",!0);var b=this,c=this.model;c.setCurrentPage(a-1,function(){b.set("loading",!1)},function(){c.getMetaData(function(a){b._onMetaDataChange(a);b.set("loading",!1)})})}},destroyRecursive:function(){this.destroy()}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),
function(m,n,l,k,g,b,h,e){return m("dijit.form._FormWidget",[g,h,b,e],{setDisabled:function(b){l.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){l.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){l.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},
postMixInProperties:function(){this.nameAttrSetting=this.name&&!n("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"tm1web/share/AlertType":function(){define({INFORMATION:"INFORMATION",STOP:"STOP",WARNING:"WARNING"})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(m,n,l,k,g,b,h,e){function f(a,b){var c=function(c,d){if("string"==typeof d&&(d=
l.byId(d),!d))return new b([]);var e="string"==typeof c?a(c,d):c?c.end&&c.on?c:[c]:[];return e.end&&e.on?e:new b(e)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<g.indexOf(a,b)})};if("function"!=typeof a){var d=a.search;a=function(a,b){return d(b||document,a)}}return c}n.add("array-extensible",function(){return 1==b.delegate([],{length:1}).length&&!n("bug-for-in-skips-shadowed")});var a=Array.prototype,
d=a.slice,c=a.concat,p=g.forEach,q=function(a,b,c){b=[0].concat(d.call(b,0));c=c||m.global;return function(d){b[0]=d;return a.apply(c,b)}},s=function(a){var c=this instanceof r&&n("array-extensible");"number"==typeof a&&(a=Array(a));var d=a&&"length"in a?a:arguments;if(c||!d.sort){for(var e=c?this:[],f=e.length=d.length,h=0;h<f;h++)e[h]=d[h];if(c)return e;d=e}b._mixin(d,t);d._NodeListCtor=function(a){return r(a)};return d},r=s,t=r.prototype=n("array-extensible")?[]:{};r._wrap=t._wrap=function(a,b,
c){a=new (c||this._NodeListCtor||r)(a);return b?a._stash(b):a};r._adaptAsMap=function(a,b){return function(){return this.map(q(a,arguments,b))}};r._adaptAsForEach=function(a,b){return function(){this.forEach(q(a,arguments,b));return this}};r._adaptAsFilter=function(a,b){return function(){return this.filter(q(a,arguments,b))}};r._adaptWithCondition=function(a,b,c){return function(){var d=arguments,e=q(a,d,c);if(b.call(c||m.global,d))return this.map(e);this.forEach(e);return this}};p(["slice","splice"],
function(b){var c=a[b];t[b]=function(){return this._wrap(c.apply(this,arguments),"slice"==b?this:null)}});p(["indexOf","lastIndexOf","every","some"],function(a){var b=g[a];t[a]=function(){return b.apply(m,[this].concat(d.call(arguments,0)))}});b.extend(s,{constructor:r,_NodeListCtor:r,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return k(c,a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},
end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=d.call(this,0),e=g.map(arguments,function(a){return d.call(a,0)});return this._wrap(c.apply(b,e),this)},map:function(a,b){return this._wrap(g.map(this,a,b),this)},forEach:function(a,b){p(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=u._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(g.filter(c,b[d],b[d+1]),this)},instantiate:function(a,
c){var d=b.isFunction(a)?a:b.getObject(a);c=c||{};return this.forEach(function(a){new d(c,a)})},at:function(){var a=new this._NodeListCtor(0);p(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var u=f(e,s);m.query=f(e,function(a){return s(a)});u.load=function(a,b,c){h.load(a,b,function(a){c(f(a,s))})};m._filterQueryResult=u._filterResult=function(a,b,c){return new s(u.filter(a,b,c))};m.NodeList=u.NodeList=s;return u})},"tm1web/share/Base":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/on dijit/Destroyable".split(" "),
function(m,n,l,k,g,b){return m(b,{constructor:function(){this.subscribers=[];this.connections=[]},AddrOf:function(b){for(var e=[],f=1;f<arguments.length;f++)e.push(arguments[f]);var a=this;return function(){for(var d=[],c=0;c<arguments.length;c++)d.push(arguments[c]);return b.apply(a,d.concat(e))}},DestroyHandlers:function(){this._destroyHandlerHelper(this.connections);this._destroyHandlerHelper(this.subscribers);this.subscribers=[];this.connections=[]},_destroyHandlerHelper:function(b){l.forEach(b,
function(b){b.remove()})},destroy:function(){this.inherited(arguments);this.DestroyHandlers();this.connections=this.subscribers=null}})})},"tm1web/workbook/celledit/PickList":function(){define(["dojo/_base/declare","./_CellList","./PickListStore","./PickListValueSaver","./_EditMixin"],function(m,n,l,k,g){return m("tm1web.workbook.celledit.PickList",[n,g],{_Store:l,_ValueSaver:k})})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(m,n,l,k,g,b,h,e){function f(a){return d(a)}function a(a){return a.data||a.text}m.deepCopy=function(a,b){for(var d in b){var e=a[d],f=b[d];e!==f&&(e&&"object"===typeof e&&f&&"object"===typeof f?m.deepCopy(e,f):a[d]=f)}return a};m.deepCreate=function(a,b){b=b||{};var d=h.delegate(a),e,f;for(e in a)(f=a[e])&&"object"===typeof f&&(d[e]=m.deepCreate(f,b[e]));return m.deepCopy(d,b)};var d=Object.freeze||function(a){return a};m.deferred=function(b,g,q,s,r,t){var u=new k(function(a){g&&g(u,b);return a&&
(a instanceof n||a instanceof l)?a:new l("Request canceled",b)});u.response=b;u.isValid=q;u.isReady=s;u.handleResponse=r;q=u.then(f).otherwise(function(a){a.response=b;throw a;});m.notify&&q.then(h.hitch(m.notify,"emit","load"),h.hitch(m.notify,"emit","error"));s=q.then(a);r=new e;for(var x in s)s.hasOwnProperty(x)&&(r[x]=s[x]);r.response=q;d(r);t&&u.then(function(a){t.call(u,a)},function(a){t.call(u,b,a)});u.promise=r;u.then=r.then;return u};m.addCommonMethods=function(a,d){b.forEach(d||["GET","POST",
"PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(d,e){e=h.delegate(e||{});e.method=b;return a(d,e)}})};m.parseArgs=function(a,b,d){var e=b.data,f=b.query;e&&!d&&"object"===typeof e&&(b.data=g.objectToQuery(e));f?("object"===typeof f&&(f=g.objectToQuery(f)),b.preventCache&&(f+=(f?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(f="request.preventCache\x3d"+ +new Date);a&&f&&(a+=(~a.indexOf("?")?"\x26":"?")+f);return{url:a,options:b,getHeader:function(a){return null}}};
m.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"tm1web/workbook/celledit/_CellListValueSaver":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./ValueSaver"],function(m,n,l,k){return m(k,{listItemSelected:!1,store:null,_isRecalcOnChangeRequired:function(){return null},_changeCellValue:function(g,b,h){this.listItemSelected?this._checkInputString(g,b,h):g&&l(this.store.contains(g),n.hitch(this,function(e){e?this._checkInputString(g,b,h):setTimeout(n.hitch(this,
"_handleInvalidUserInput",g,b,h),0)}))},_isPercentValue:function(){return!1},_checkInputString:function(g,b,h){var e=this.getInherited(arguments),f=arguments,a=this;setTimeout(function(){e.apply(a,f)},0)},_handleInvalidUserInput:function(g,b,h){},_onChangeCellValue:function(g){var b=this._isRecalcOnChangeRequired();null!=b&&(this._needsRecalc=b?!0:!1);this.inherited(arguments)}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){h=m("dijit.MenuItem"+(b("dojo-bidi")?"_NoBidi":""),[e,f,a,d],{templateString:c,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){!a||"label"in this.params||this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);l.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&l.set(this.accelKeyNode,"id",this.id+"_accel");n.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==b("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){k.toggle(this.domNode,
"dijitMenuItemSelected",a)},setLabel:function(a){g.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){g.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=
a?"":"none",this.accelKeyNode.innerHTML=a,l.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});b("dojo-bidi")&&(h=m("dijit.MenuItem",h,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return h})},"tm1web/utility/dom":function(){define("dojo/has dojo/on dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/dom-prop dojo/domReady! dojo/dom".split(" "),function(m,n,l,k,g,b){var h,e;(function(){var a=l.create("div");
k.set(a,{width:"1px",height:"1px",overflow:"hidden"});var b=l.create("div",null,a);k.set(b,{width:"100px",height:"100px",overflow:"auto"});var c=l.create("div",null,b);k.set(c,{width:"120px",height:"120px"});l.place(a,document.body);h=b.offsetWidth-b.clientWidth;e=b.offsetHeight-b.clientHeight;l.destroy(a)})();var f={setTextContent:function(a,d){b.set(a,"textContent",d)},getTextContent:function(a){return b.get(a,"textContent")},getHorizontalScrollbarHeight:function(a){return a&&a.scrollWidth<=a.clientWidth?
0:e},getVerticalScrollbarWidth:function(a){return a&&a.scrollHeight<=a.clientHeight?0:h},setStyle:function(a,b){for(var c in b)a.style[c]=b[c]},isNode:function(a){return"undefined"!==typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},getGutters:function(a,b){b||(b=k.getComputedStyle(a));var c=g.getMarginExtents(a,b),e=g.getPadBorderExtents(a,b);return{t:c.t+e.t,b:c.b+e.b,l:c.l+e.l,r:c.r+e.r,h:c.h+e.h,w:c.w+e.w}},getContentBox:function(a,
b){b||(b=k.getComputedStyle(a));var c=g.getMarginBox(a,b),e=f.getGutters(a,b);return{h:c.h-e.h,w:c.w-e.w}},isVisible:function(a){return 0<a.offsetWidth&&0<a.offsetHeight},disableSelection:function(a){var b,c=m("css-user-select");c?a.style[c]="none":b=n(a,"selectstart",function(a){a.preventDefault()});return{remove:function(){a&&(b?b.remove():a.style[c]="",a=null)}}}};return f})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(m,n,l,k,g,b,h,e,f){var a=g.delegate(e,{mouseenter:b.enter,mouseleave:b.leave,keypress:l._keypress}),d;l=k("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,d){var e=!0,f=this.attachScope||this,h=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(h)for(var k=h.split(/\s*,\s*/);h=k.shift();)g.isArray(f[h])?f[h].push(a):f[h]=a,e="containerNode"!=h,this._attachPoints.push(h);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event"))for(h=b.split(/\s*,\s*/),k=g.trim;b=h.shift();)if(b){var l=
null;-1!=b.indexOf(":")?(l=b.split(":"),b=k(l[0]),l=k(l[1])):b=k(b);l||(l=b);this._attachEvents.push(d(a,b,g.hitch(f,l)))}return e},_attach:function(b,e,f){e=e.replace(/^on/,"").toLowerCase();e="dijitclick"==e?d||(d=m("./a11yclick")):a[e]||e;return h(b,e,f)},_detachTemplateNodes:function(){var a=this.attachScope||this;n.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];n.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});g.extend(f,{dojoAttachEvent:"",dojoAttachPoint:""});return l})},"tm1web/grid/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/mouse ../mobile/sniff ../mobile/on/doubletap dojo/dom-class dojo/text!./templates/Grid.html dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin ../utility/dom ../utility/throttle ./model/Model ./Controller ./GridPane".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){return m("tm1web.grid.Grid",[a,d],{templateString:e,
model:null,_rightScrollGutterNode:null,_bottomScrollGutterNode:null,_throttledOnScroll:null,_throttledResize:null,_throttledOnMouseMove:null,Controller:s,GridPane:r,_scrollLeft:0,_scrollTop:0,buildRendering:function(){this.inherited(arguments);this.own(c.disableSelection(this.domNode));this.model.onLoadPromise.then(n.hitch(this,"_load"))},postCreate:function(){this.inherited(arguments);this._throttledOnScroll=p(n.hitch(this,function(){this._controller.onScroll()}),100);this._throttledResize=p(n.hitch(this,
function(){this._controller.onResize()}),100);this._throttledOnMouseMove=p(n.hitch(this,function(a){this._controller.onMouseMove(a)}),70,{leading:!0})},_load:function(){this._createGridPanes();this._attachEventListeners()},_attachEventListeners:function(){this.own(l(this.domNode,"wheel",n.hitch(this,"_onWheel")));g("mobile-device")?this.own(l(this.domNode,"touchstart",n.hitch(this,"_onTouchStart"))):(this.own(l(this.domNode,"mousedown",n.hitch(this,"_onMouseDown"))),this.own(l(this.domNode,"mousemove",
n.hitch(this,"_onMouseMove"))),this.own(l(this.domNode,"mouseup",n.hitch(this,"_onMouseUp"))),this.own(l(window,"mouseup",n.hitch(this,"_onMouseUp"))));this.own(l(this.domNode,"keydown",n.hitch(this,"onKeyDown")));this.own(l(this.domNode,"keypress",n.hitch(this,"onKeyPress")));this.own(l(this.domNode,b,n.hitch(this,"onDblClick")))},_onWheel:function(a){0!=a.deltaY?this.gridPanes.bottomRight.domNode.scrollTop+=a.deltaY:this.gridPanes.bottomRight.domNode.scrollLeft+=a.deltaX;a.preventDefault();a.stopImmediatePropagation()},
_onTouchStart:function(a){this.defer("focus");this._controller.onTouchStart(a)},_onMouseDown:function(a){this.defer("focus");this._controller.onMouseDown(a)},_onMouseUp:function(a){this._controller.onMouseUp(a)},_onMouseMove:function(a){this._throttledOnMouseMove(a)},onKeyDown:function(a){},onKeyPress:function(a){},focus:function(){f.focus(this.domNode)},onDblClick:function(a){},_createGridPanes:function(){var a=this.model.getFreezePaneProperties(),b=a.frozenHeight,a=a.frozenWidth,c=this.gridPanes=
{};0<b&&(c.topRight=(new this.GridPane({model:this.model,grid:this,hasFrozenRows:!0,onDrillThrough:n.hitch(this,"onDrillThrough")})).placeAt(this._containerNode),h.add(c.topRight.domNode,"tm1webGridPaneTopRight"),0<a&&(c.topLeft=(new this.GridPane({model:this.model,grid:this,hasFrozenRows:!0,hasFrozenColumns:!0,onDrillThrough:n.hitch(this,"onDrillThrough")})).placeAt(this._containerNode),h.add(c.topLeft.domNode,"tm1webGridPaneTopLeft")));0<a&&(c.bottomLeft=(new this.GridPane({model:this.model,grid:this,
hasFrozenColumns:!0,onDrillThrough:n.hitch(this,"onDrillThrough")})).placeAt(this._containerNode),h.add(c.bottomLeft.domNode,"tm1webGridPaneBottomLeft"));c.bottomRight=(new this.GridPane({model:this.model,grid:this,onScroll:n.hitch(this,"onScroll"),onDrillThrough:n.hitch(this,"onDrillThrough")})).placeAt(this._containerNode)},startup:function(){if(this._started)return this._controller.load();this.inherited(arguments);for(var a in this.gridPanes)this.gridPanes[a].startup();this.own(this._controller=
new this.Controller({grid:this}));return this._controller.load()},resize:function(){this._throttledResize()},_onScroll:function(a){this._scrollTop=this.getScrollTop();this._scrollLeft=this.getScrollLeft();a=this.gridPanes.topRight;var b=this.gridPanes.bottomLeft;a&&(a.domNode.scrollLeft=this._scrollLeft);b&&(b.domNode.scrollTop=this._scrollTop);this._throttledOnScroll()},onScroll:function(a){this._onScroll(a)},_onDrillThrough:function(a){this.onDrillThrough(a)},_onShow:function(){if(!this._destroyed&&
(this.inherited(arguments),this.gridPanes)){var a=this.gridPanes.bottomRight.domNode;a.scrollTop!==this._scrollTop&&(a.scrollTop=this._scrollTop);a.scrollLeft!==this._scrollLeft&&(a.scrollLeft=this._scrollLeft)}},getScrollTop:function(){return this.gridPanes.bottomRight.domNode.scrollTop},getScrollLeft:function(){return this.gridPanes.bottomRight.domNode.scrollLeft},getCell:function(a,b){return this._controller.getCell(a,b)},getCellCoordinates:function(a){a=this._getMousePosition(a);return this.model.getCellAtPosition(a.x,
a.y)},_getMousePosition:function(a){var b=0,c=0,d=0,e=0,f=this.model.getFreezePaneProperties(),h=f.frozenHeight,f=f.frozenWidth;if(a.pageX&&a.pageX>this.domNode.getClientRects()[0].left+f||a.clientX&&a.clientX>this.domNode.getClientRects()[0].left+f)d=this.gridPanes.bottomRight.domNode.scrollLeft;if(a.pageY&&a.pageY>this.domNode.getClientRects()[0].top+h||a.clientY&&a.clientY>this.domNode.getClientRects()[0].top+h)e=this.gridPanes.bottomRight.domNode.scrollTop;if(a.pageX||a.pageY)b=a.pageX-this.domNode.getClientRects()[0].left+
d,c=a.pageY-this.domNode.getClientRects()[0].top+e;else if(a.clientX||a.clientY)b=a.clientX-this.domNode.getClientRects()[0].left+d,c=a.clientY-this.domNode.getClientRects()[0].top+e;return{x:b,y:c}},getClientWidth:function(){return this.domNode.clientWidth-c.getVerticalScrollbarWidth(this.gridPanes.bottomRight.domNode)},getClientHeight:function(){return this.domNode.clientHeight-c.getHorizontalScrollbarHeight(this.gridPanes.bottomRight.domNode)},isInGrid:function(a){var b=a.x-this.domNode.getClientRects()[0].left;
a=a.y-this.domNode.getClientRects()[0].top;return 0<=b&&b<=this.getClientWidth()&&0<=a&&a<=this.getClientHeight()}})})},"tm1web/workbook/controls/CheckBox":function(){define(["dojo/_base/declare","./_CheckableControl","./CheckBoxState","../../widgets/AlertDialog","../../utility/message-localizer"],function(m,n,l,k,g){return m("tm1web.workbook.control.CheckBox",n,{_type:"checkbox",state:null,_setStateAttr:function(b){var h=this._inputNode;h.indeterminate=b===l.Mixed;h.checked=b!==l.Unchecked;this._set("state",
b)},update:function(b){this.inherited(arguments);this.set("state",b.state)},_onChange:function(b){b=this._inputNode;this.set("state",this.state!==l.Mixed&&b.checked?l.Checked:l.Unchecked);this.model.setCheckBoxChecked(this.controlId,b.checked).otherwise(function(b){k.show({message:g.get("SRV_ERR_STR")})})}})})},"tm1web/cubeview/TitlePanel":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dijit/registry","./CubeViewBase"],function(m,n,l,k,g){return m(g,{constructor:function(b,
h,e,f){this._Title=b;this._Height=h;this._Width=e;this._StyleClass=f;this._DivContainer=this._DivTitle=this._DivContent=null;this._InitializeTitlePanel()},_InitializeTitlePanel:function(){this._DivContent=this.CreatePanel("","tm1webTitlePanelDivContent");this._DivTitle=this.CreatePanel("","tm1webTitlePanelDivTitle");this._DivTitle.innerHTML=this._Title;this._DivContainer=this.CreatePanel("","tm1webTitlePanelDivContainer "+this._StyleClass);n.place(this._DivContent,this._DivContainer);n.place(this._DivTitle,
this._DivContainer);this._makeSectionAccessible()},Create:function(b){l.set(this._DivContent,{width:this._Width+"px",height:this._Height+"px"});n.place(this._DivContainer,b);return this._DivContent},getDivContainer:function(){return this._DivContainer},getDivTitle:function(){return this._DivTitle},_makeSectionAccessible:function(){var b=this.getDivContainer(),h=k.getUniqueId("tm1web_titleContainer");b.setAttribute("aria-labelledby",h);b.setAttribute("role","group");this.getDivTitle().id=h}})})},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare",
"dojo/_base/sniff","dojo/dom-class"],function(m,n,l){return m("dojox.grid._ViewManager",null,{constructor:function(k){this.grid=k},defaultWidth:200,views:[],resize:function(){this.onEach("resize")},render:function(){this.onEach("render")},addView:function(k){k.idx=this.views.length;this.views.push(k)},destroyViews:function(){for(var k=0,g;g=this.views[k];k++)g.destroy();this.views=[]},getContentNodes:function(){for(var k=[],g=0,b;b=this.views[g];g++)k.push(b.contentNode);return k},forEach:function(k){for(var g=
0,b;b=this.views[g];g++)k(b,g)},onEach:function(k,g){g=g||[];for(var b=0,h;h=this.views[b];b++)k in h&&h[k].apply(h,g)},normalizeHeaderNodeHeight:function(){for(var k=[],g=0,b;b=this.views[g];g++)b.headerContentNode.firstChild&&k.push(b.headerContentNode);this.normalizeRowNodeHeights(k)},normalizeRowNodeHeights:function(k){var g=0,b=[];if(this.grid.rowHeight)g=this.grid.rowHeight;else{if(1>=k.length)return;for(var h=0,e;e=k[h];h++)l.contains(e,"dojoxGridNonNormalizedCell")||(b[h]=e.firstChild.offsetHeight,
g=Math.max(g,b[h]));g=0<=g?g:0;(n("mozilla")||8<n("ie"))&&g&&g++}for(h=0;e=k[h];h++)b[h]!=g&&(e.firstChild.style.height=g+"px")},resetHeaderNodeHeight:function(){for(var k=0,g;g=this.views[k];k++)if(g=g.headerContentNode.firstChild)g.style.height=""},renormalizeRow:function(k){for(var g=[],b=0,h,e;(h=this.views[b])&&(e=h.getRowNode(k));b++)e.firstChild.style.height="",g.push(e);this.normalizeRowNodeHeights(g)},getViewWidth:function(k){return this.views[k].getWidth()||this.defaultWidth},measureHeader:function(){this.resetHeaderNodeHeight();
this.forEach(function(g){g.headerContentNode.style.height=""});var k=0;this.forEach(function(g){k=Math.max(g.headerNode.offsetHeight,k)});return k},measureContent:function(){var k=0;this.forEach(function(g){k=Math.max(g.domNode.offsetHeight,k)});return k},findClient:function(k){k=this.grid.elasticView||-1;if(0>k)for(var g=1,b;b=this.views[g];g++)if(b.viewWidth){for(g=1;b=this.views[g];g++)if(!b.viewWidth){k=g;break}break}0>k&&(k=Math.floor(this.views.length/2));return k},arrange:function(k,g){var b,
h,e,f=this.views.length,a=this,d=0>=g?f:this.findClient(),c=function(b,c){var d=b.domNode.style,e=b.headerNode.style;a.grid.isLeftToRight()?(d.left=c+"px",e.left=c+"px"):(d.right=c+"px",4>n("ff")?e.right=c+b.getScrollbarWidth()+"px":e.right=c+"px",n("webkit")||"auto"==e.width||(e.width=parseInt(e.width,10)-b.getScrollbarWidth()+"px"));d.top="0px";e.top=0};for(b=0;(h=this.views[b])&&b<d;b++)e=this.getViewWidth(b),h.setSize(e,0),c(h,k),e=h.headerContentNode&&h.headerContentNode.firstChild?h.getColumnsWidth()+
h.getScrollbarWidth():h.domNode.offsetWidth,k+=e;b++;for(var l=g,m=f-1;(h=this.views[m])&&b<=m;m--)e=this.getViewWidth(m),h.setSize(e,0),e=h.domNode.offsetWidth,l-=e,c(h,l);d<f&&(h=this.views[d],e=Math.max(1,l-k),h.setSize(e+"px",0),c(h,k));return k},renderRow:function(k,g,b){for(var h=[],e=0,f,a;(f=this.views[e])&&(a=g[e]);e++)f=f.renderRow(k),a.appendChild(f),h.push(f);b||this.normalizeRowNodeHeights(h)},rowRemoved:function(k){this.onEach("rowRemoved",[k])},updateRow:function(k,g){for(var b=0,h;h=
this.views[b];b++)h.updateRow(k);g||this.renormalizeRow(k)},updateRowStyles:function(k){this.onEach("updateRowStyles",[k])},setScrollTop:function(k){for(var g=k,b=0,h;h=this.views[b];b++)g=h.setScrollTop(k),n("ie")&&h.headerNode&&h.scrollboxNode&&(h.headerNode.scrollLeft=h.scrollboxNode.scrollLeft);return g},getFirstScrollingView:function(){for(var k=0,g;g=this.views[k];k++)if(g.hasHScrollbar()||g.hasVScrollbar())return g;return null}})})},"dojox/grid/_EditManager":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/connect dojo/_base/sniff ./util".split(" "),
function(m,n,l,k,g,b){return l("dojox.grid._EditManager",null,{constructor:function(b){this.grid=b;this.connections=g("ie")?[k.connect(document.body,"onfocus",m.hitch(this,"_boomerangFocus"))]:[];this.connections.push(k.connect(this.grid,"onBlur",this,"apply"));this.connections.push(k.connect(this.grid,"prerender",this,"_onPreRender"))},info:{},destroy:function(){n.forEach(this.connections,k.disconnect)},cellFocus:function(b,e){this.grid.singleClickEdit||this.isEditRow(e)?this.setEditCell(b,e):this.apply();
(this.isEditing()||b&&b.editable&&b.alwaysEditing)&&this._focusEditor(b,e)},rowClick:function(b){this.isEditing()&&!this.isEditRow(b.rowIndex)&&this.apply()},styleRow:function(b){b.index==this.info.rowIndex&&(b.customClasses+=" dojoxGridRowEditing")},dispatchEvent:function(b){var e=b.cell;return(e=e&&e.editable?e:0)&&e.dispatchEvent(b.dispatch,b)},isEditing:function(){return void 0!==this.info.rowIndex},isEditCell:function(b,e){return this.info.rowIndex===b&&this.info.cell.index==e},isEditRow:function(b){return this.info.rowIndex===
b},setEditCell:function(b,e){!this.isEditCell(e,b.index)&&this.grid.canEdit&&this.grid.canEdit(b,e)&&this.start(b,e,this.isEditRow(e)||b.editable)},_focusEditor:function(h,e){b.fire(h,"focus",[e])},focusEditor:function(){this.isEditing()&&this._focusEditor(this.info.cell,this.info.rowIndex)},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>(new Date).getTime()},_boomerangFocus:function(){this._shouldCatchBoomerang()&&(this.grid.focus.focusGrid(),this.focusEditor(),
this._catchBoomerang=0)},_doCatchBoomerang:function(){g("ie")&&(this._catchBoomerang=(new Date).getTime()+this._boomerangWindow)},start:function(b,e,f){this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.isEditing()&&!this.isEditRow(e)&&(this.applyRowEdit(),this.grid.updateRow(e)),f?(this.info={cell:b,rowIndex:e},this.grid.doStartEdit(b,e),this.grid.updateRow(e)):this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._focusEditor(b,e),this._doCatchBoomerang())},_editorDo:function(b){var e=
this.info.cell;if(e&&e.editable)e[b](this.info.rowIndex)},editorApply:function(){this._editorDo("apply")},editorCancel:function(){this._editorDo("cancel")},applyCellEdit:function(b,e,f){this.grid.canEdit(e,f)&&this.grid.doApplyCellEdit(b,f,e.field)},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field)},apply:function(){this.isEditing()&&this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.applyRowEdit(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),
this._doCatchBoomerang())},cancel:function(){this.isEditing()&&(this.grid.beginUpdate(),this.editorCancel(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},save:function(b,e){var f=this.info.cell;!this.isEditRow(b)||e&&f.view!=e||!f.editable||f.save(f,this.info.rowIndex)},restore:function(b,e){var f=this.info.cell;this.isEditRow(e)&&f.view==b&&f.editable&&f.restore(this.info.rowIndex)},_isValidInput:function(){var b=(this.info.cell||{}).widget;if(!b||!b.isValid)return!0;
b.focused=!0;return b.isValid(!0)},_onPreRender:function(){this.isEditing()&&(this.info.value=this.info.cell.getValue())}})})},"tm1web/websheet/spreading/ReferenceSelectControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dijit/popup ../../widgets/AlertDialog ../../utility/message-localizer ../../subseteditor/ElementSelector ./SpreadDialogCommon dijit/registry".split(" "),function(m,n,l,k,g,b,h,e,f,a,d){return m("WebSheetReferenceSelectControl",
a,{constructor:function(){this._CubeSelect=this._CellRefArr=this._RefCellDimData=this._CurrentSelectedElemCell=this._cubeNames=this._colDimCount=this._rowDimCount=this._titleDimCount=this._DimensionsCount=this._dimensionsDataMap=this._DimensionTable=this._TableContainer=this._ContentContainer=null;this._InitializeReferenceSelectControl();this._selectButton=null},GetContentContainer:function(){return this._ContentContainer},_InitializeReferenceSelectControl:function(){this._DoCreate()},_DoCreate:function(){this._ContentContainer=
this.CreatePanel("","tm1webRelativeSpreadCubeSelectContainer");this._TableContainer=this.CreatePanel("","tm1webReferenceSelect_tableContainer");this._CubeContainer=this.CreatePanel("","tm1webReferenceSelect_cubeContainer");k.place(this._CubeContainer,this._ContentContainer);k.place(this._TableContainer,this._ContentContainer);this._CreateDimensionTable(null)},_CreateCubeContent:function(){var a=d.getUniqueId("tm1webReferenceSelect_cubeLabel");this.CreateA11yLabel(this._CubeContainer,e.get("SPREAD_LABEL_RELATIVE_CUBE"),
"tm1webReferenceSelect_cubeLabel",a);this._CreateCubeSelect(this._CubeContainer,"tm1webRelativeSpreadCubeSelect",a)},_CreateCubeSelect:function(a,b,d){this._CubeSelect=document.createElement("select");l.add(this._CubeSelect,b);this._CubeSelect.setAttribute("id",d);k.place(this._CubeSelect,a);this.own(g(this._CubeSelect,"change",n.hitch(this,"_onSelectionChanged")));this._dataGrid.model?this._dataGrid.model.getCubes(this._coord,this.GetSelectedDimNames()).then(n.hitch(this,this._onGetCubeNames)).otherwise(function(a){h.show({message:e.get("SRV_ERR_STR")})}):
this.Service.getCubeNames(this._ObjectId,this._coord.rowIndex,this._coord.colIndex,this.GetSelectedDimNames(),{callback:this._onGetCubeNames,scope:this})},_onSelectionChanged:function(){this._CreateDimensionTable(this.getCubeName())},_onGetCubeNames:function(a){if(a){this._cubeNames=a.cubes;for(var b=0;b<this._cubeNames.length;b++)k.create("option",{value:this._cubeNames[b],innerHTML:this._cubeNames[b],selected:this._cubeNames[b]==a.currentCube},this._CubeSelect)}},_CreateDimensionTable:function(a){var b=
this.CreateTable(!0);this._Table&&k.destroy(this._Table);l.add(b,"tm1webRelativeSpreadDimensionTable");this._Table=b;this._dataGrid.model?this._dataGrid.model.getRefCellDimensionData(this._coord,a).then(n.hitch(this,this._onGetRefCellDimensionData)).otherwise(function(a){h.show({message:e.get("SRV_ERR_STR")})}):this.Service.getRefCellDimensionData(this._ObjectId,a,this._coord.rowIndex,this._coord.colIndex,{callback:this._onGetRefCellDimensionData,scope:this})},_onGetRefCellDimensionData:function(a){this._RetrieveRefCellDimElemNames(a);
this._OnCreateDimensionTable();this._CubeSelect||this._CreateCubeContent()},_RetrieveRefCellDimElemNames:function(a){this._RefCellDimData=a;this._buildRefCellDimensionDataMap(this._RefCellDimData);this._DimensionsCount=this._RefCellDimData.length;this._checkElementsFilled()},_buildRefCellDimensionDataMap:function(a){this._dimensionsDataMap={};for(var b=0;b<a.length;b++){var d=a[b],e=d?d.dimensionName:null;e&&(this._dimensionsDataMap[e]=d)}},_OnCreateDimensionTable:function(){var a=this._Table.insertRow(-1);
this._CreateHeaderCell(e.get("SPREAD_TBL_HDR_RELATIVE_DIMENSIONS"),"tm1webRelativeSpreadHeaderCell",a);this._CreateHeaderCell(e.get("SPREAD_TBL_HDR_RELATIVE_ELMT_NAME"),"tm1webRelativeSpreadHeaderCell",a);for(a=0;a<this._DimensionsCount;a++){var b=this._Table.insertRow(-1);this._CreateCell(b,this._RefCellDimData[a])}k.place(this._Table,this._TableContainer)},_CreateHeaderCell:function(a,b,d){cell=document.createElement("th");d.appendChild(cell);this.SetTextContent(cell,a);l.add(cell,b);return cell},
_CreateCell:function(a,b){for(var d=0;2>d;d++){var e=a.insertCell(-1);0==d?this._CreateDimensionCell(e,b.dimensionName,b.consolidated):this._CreateElementCell(e,b.dimensionElementName)}},_CreateDimensionCell:function(a,b,d){var e=k.create("div"),f=document.createElement("input");f.type="Button";if(d)l.add(f,"tm1webSpreadConsolidated");else{var h=n.hitch(this,"_SetSelectedElementInfo",b);g(f,"click",n.hitch(this,function(d){this._CurrentSelectedElemCell=a.nextSibling;this._LaunchSubsetEditor(e,this._ObjectId,
b,h)}))}f.value=b;l.add(a,"tm1webRelativeSpreadHolderCell");l.add(e,"tm1webRelativeSpreadDimensionCellButtonContainer");l.add(f,"tm1webRelativeSpreadDimensionCellButton");k.place(f,e);k.place(e,a)},_CreateElementCell:function(a,b){null==b?this.SetTextContent(a,""):this.SetTextContent(a,b);l.add(a,"tm1webRefrenceSelectDataCell")},_LaunchSubsetEditor:function(a,d,e,h){var g=this._dimensionsDataMap[e].dimensionElementName;null==g&&(g="");var k=new f({objectId:d,dimension:e,element:g,readOnly:!0,onClose:function(){k.destroyRecursive();
k=null},onSubmit:function(a){h(a);b.close(k)},onBlur:function(){b.close(k)},onCancel:function(){b.close(k)},onLoad:function(){b.open({popup:k,around:a})}})},_SetSelectedElementInfo:function(a,b){null==b?this.SetTextContent(this._CurrentSelectedElemCell,""):this.SetTextContent(this._CurrentSelectedElemCell,b);this._dimensionsDataMap[a].dimensionElementName=b;this._checkElementsFilled()},_checkElementsFilled:function(){if(this._RefCellDimData&&this._selectButton){for(var a=this.GetSelectedElemNames(),
b=!0,d=0;d<a.length;d++)if(!a[d]||""==a[d]){b=!1;break}b?this._selectButton.set("disabled",!1):this._selectButton.set("disabled",!0)}},GetSelectedDimNames:function(){for(var a=Array(this._DimensionsCount),b=0;b<this._DimensionsCount;b++)a[b]=this._RefCellDimData[b]?this._RefCellDimData[b].dimensionName:null;return a},GetSelectedElemNames:function(){for(var a=Array(this._DimensionsCount),b=0;b<this._DimensionsCount;b++)a[b]=this._RefCellDimData[b]?this._RefCellDimData[b].dimensionElementName:null;
return a},BuildReferenceString:function(){this._CellRefArr=Array(this._DimensionsCount+1);this._CellRefArr[0]=this.getCubeName();var a="["+this.getCubeName(),b;for(b=0;b<this._DimensionsCount;b++){var d=this._RefCellDimData[b].dimensionName+":"+this._RefCellDimData[b].dimensionElementName;this._CellRefArr[b+1]=d;a+=","+d}return a+"]"},buildReferenceArray:function(){var a=Array(this._DimensionsCount+1);a[0]=this.getCubeName();for(var b=0;b<this._DimensionsCount;b++)a[b+1]=this._RefCellDimData[b].dimensionName+
":"+this._RefCellDimData[b].dimensionElementName;return a},getCubeName:function(){return this._CubeSelect.value},setSelectButton:function(a){this._selectButton=a}})})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(m,n,l,k,g){var b=0,h=[],e=0;n=function(){b=1;m._postLoad=m.config.afterOnLoad=!0;f()};var f=function(){if(!e){for(e=1;b&&(!k||0==k._Q.length)&&(l.idle?l.idle():1)&&h.length;){var a=h.shift();try{a()}catch(d){if(d.info=d.message,
l.signal)l.signal("error",d);else throw d;}}e=0}};l.on&&l.on("idle",f);k&&(k._onQEmpty=f);var a=m.ready=m.addOnLoad=function(a,b,d){var e=g._toArray(arguments);"number"!=typeof a?(d=b,b=a,a=1E3):e.shift();d=d?g.hitch.apply(m,e):function(){b()};d.priority=a;for(e=0;e<h.length&&a>=h[e].priority;e++);h.splice(e,0,d);f()},d=m.config.addOnLoad;if(d)a[g.isArray(d)?"apply":"call"](m,d);k?k(n):n();return a})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html",
"./_MenuBase"],function(m,n,l,k){return m("dijit.DropDownMenu",k,{templateString:l,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(g){this._moveToPopup(g);g.stopPropagation();g.preventDefault()},_onLeftArrow:function(g){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else g.stopPropagation(),g.preventDefault()}})})},"dojo/mouse":function(){define(["./_base/kernel","./on",
"./has","./dom","./_base/window"],function(m,n,l,k,g){function b(h,e){var f=function(a,b){return n(a,h,function(c){if(e)return e(c,b);if(!k.isDescendant(c.relatedTarget,a))return b.call(this,c)})};f.bubble=function(a){return b(h,function(b,c){var e=a(b.target),f=b.relatedTarget;if(e&&e!=(f&&1==f.nodeType&&a(f)))return c.call(e,b)})};return f}l.add("dom-quirks",g.doc&&"BackCompat"==g.doc.compatMode);l.add("events-mouseenter",g.doc&&"onmouseenter"in g.doc.createElement("div"));l.add("events-mousewheel",
g.doc&&"onmousewheel"in g.doc);g=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(b,e){return b.button&e},isLeft:function(b){return b.button&1},isMiddle:function(b){return b.button&4},isRight:function(b){return b.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,e){return b.button==e},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};m.mouseButtons=g;m=l("events-mousewheel")?
"mousewheel":function(b,e){return n(b,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;e.call(this,b)})};return{_eventHandler:b,enter:b("mouseover"),leave:b("mouseout"),wheel:m,isLeft:g.isLeft,isMiddle:g.isMiddle,isRight:g.isRight}})},"dojo/aspect":function(){define([],function(){function m(b,f,a,d){var c=b[f],h="around"==f,g;if(h){var l=a(function(){return c.advice(this,arguments)});g={remove:function(){l&&(l=b=a=null)},advice:function(a,b){return l?l.apply(a,b):c.advice(a,b)}}}else g={remove:function(){if(g.advice){var c=
g.previous,d=g.next;d||c?(c?c.next=d:b[f]=d,d&&(d.previous=c)):delete b[f];b=a=g.advice=null}},id:k++,advice:a,receiveArguments:d};if(c&&!h)if("after"==f){for(;c.next&&(c=c.next););c.next=g;g.previous=c}else"before"==f&&(b[f]=g,g.next=c,c.previous=g);else b[f]=g;return g}function n(b){return function(f,a,d,c){var h=f[a],g;h&&h.target==f||(f[a]=g=function(){for(var a=k,b=arguments,c=g.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(g.around)var d=g.around.advice(this,b);for(c=g.after;c&&c.id<a;){if(c.receiveArguments)var e=
c.advice.apply(this,b),d=e===l?d:e;else d=c.advice.call(this,d,b);c=c.next}return d},h&&(g.around={advice:function(a,b){return h.apply(a,b)}}),g.target=f);f=m(g||h,b,d,c);d=null;return f}}var l,k=0,g=n("after"),b=n("before"),h=n("around");return{before:b,around:h,after:g}})},"tm1web/widgets/ConfirmDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/Deferred dojo/dom-class dijit/ConfirmDialog dojox/html/entities".split(" "),function(m,n,l,k,g,b,h,e){var f=
m("tm1web.widgets.ConfirmDialog",h,{title:"",message:"",okButtonLabel:"",cancelButtonLabel:"",focusOkButton:!0,postCreate:function(){this.inherited(arguments);this.own(k.after(this,"onHide",n.hitch(this,"destroy")))},buildRendering:function(){this.inherited(arguments);this.okButtonLabel&&(this.buttonOk=this.okButtonLabel);this.cancelButtonLabel&&(this.buttonCancel=this.cancelButtonLabel)},_getFocusItems:function(){this.inherited(arguments);if(!this.focusOkButton&&this._fadeInDeferred){var a=this._firstFocusItem;
this._firstFocusItem=this._lastFocusItem;this._lastFocusItem=a}},_setMessageAttr:function(a){if(Array.isArray(a))for(var d=0;d<a.length;d++){var c=document.createElement("div");b.add(c,"tm1webDialogMessageInternalParagraph");c.textContent=a[d];this.containerNode.appendChild(c)}else this._set("message",a),this.set("content",e.encode(a))}});f.show=function(a){var b=new g;a=new f(a);var c=k.after(a,"onCancel",function(){c.remove();e.remove();b.reject(!1)}),e=k.after(a,"_onSubmit",function(){c.remove();
e.remove();b.resolve(!0)});a.show();return b.promise};return f})},"tm1web/workbook/GridPane":function(){define(["dojo/_base/declare","../grid/GridPane","./GridPaneController"],function(m,n,l){return m("tm1web.workbook.GridPane",n,{Controller:l})})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(m,n,l){m._name="browser";n.mixin(m,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),
isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});return l})},"tm1web/websheet/CellContextMenu":function(){define("dojo/_base/declare dojo/topic dojo/dom-class ../share/_CellContextMenu ../share/service-loader!WebSheetService ./spreading/SpreadDialogProportional ./spreading/SpreadDialogEqualLeaves ./spreading/SpreadDialogStraightLine ./spreading/SpreadDialogClear ./spreading/RelativeSpreadDialog ./Utility".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return m(k,{Service:g,SpreadDialogProportional:b,SpreadDialogEqualLeaves:h,SpreadDialogStraightLine:e,SpreadDialogClear:f,RelativeSpreadDialog:a,_getSelectedArea:function(){return this.dataGrid.SelectedArea},_validate:function(a,b){var e=a.target;return b?!0:d.getClosestAncestorNode(e,"TD")||e&&"DIV"==e.tagName&&l.contains(e,"tm1webSelection_overlay")},_getItemIdPrefix:function(){return"tm1web_websheet_cellcontextmenu_"},_getCopyPasteId:function(){return this.dataGrid.id},
_isSingleCellSelected:function(){return this._selectedArea.bottomRight.x===this._selectedArea.leftTop.x&&this._selectedArea.bottomRight.y===this._selectedArea.leftTop.y},_hold:function(a){this.Service.hold(this.objectId,a,{callback:this._onHold,scope:this})},_onHold:function(a){n.publish(this.objectId+"-SetSheetsNeedRefresh",!0);n.publish(this.objectId+"-UpdateGrid",a)}})})},"tm1web/grid/model/Cache":function(){define(["dojo/_base/declare"],function(m){return m(null,{constructor:function(){this._rows=
{}},getRow:function(m){return this._rows[m]},get:function(m,l){return this._rows[m]?this._rows[m][l]:null},getCache:function(){return this._rows},add:function(m,l,k){this._rows[l]||(this._rows[l]={});this._rows[l][k]=m},clear:function(){this._rows={}},remove:function(m,l){if(this._rows[m]&&this._rows[m][l]){var k=this._rows[m][l];delete this._rows[m][l];return k}return null}})})},"dojox/grid/_Grid":function(){define("dojo/_base/kernel ../main dojo/_base/declare ./_Events ./_Scroller ./_Layout ./_View ./_ViewManager ./_RowManager ./_FocusManager ./_EditManager ./Selection ./_RowSelector ./cells ./util dijit/_Widget dijit/_TemplatedMixin dijit/CheckedMenuItem dojo/text!./resources/_Grid.html dojo/string dojo/_base/array dojo/_base/lang dojo/_base/sniff dojox/html/metrics dojo/_base/html dojo/query dojo/dnd/common dojo/i18n!dijit/nls/loading".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A,z,B,E){m.isCopyKey||(m.isCopyKey=m.dnd.getCopyKeyState);n=l("dojox.grid._Grid",[r,t,k],{templateString:x,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:!1,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:!0,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:!1,selectionMode:"extended",rowSelector:"",columnReordering:!1,headerMenu:null,placeholderLabel:"GridColumns",selectable:!1,_click:null,
loadingMessage:"\x3cspan class\x3d'dojoxGridLoading'\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dojoxGridError'\x3e${errorState}\x3c/span\x3e",noDataMessage:"",escapeHTMLInData:!0,formatterScope:null,editable:!1,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:b,buildRendering:function(){this.inherited(arguments);this.domNode.getAttribute("tabIndex")||(this.domNode.tabIndex="0");this.createScroller();this.createLayout();this.createViews();this.createManagers();
this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");z.initOnFontResize();this.connect(z,"onFontResize","textSizeChanged");s.funnelEvents(this.domNode,this,"doKeyEvent",s.keyEvents);"none"!=this.selectionMode&&this.domNode.setAttribute("aria-multiselectable","single"==this.selectionMode?"false":"true");B.addClass(this.domNode,this.classTag);this.isLeftToRight()||
B.addClass(this.domNode,this.classTag+"Rtl");0<this.rowHeight&&B.addClass(this.viewsNode,this.classTag+"FixedRowHeight")},postMixInProperties:function(){this.inherited(arguments);var a=m.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=w.substitute(this.loadingMessage,a);this.errorMessage=w.substitute(this.errorMessage,a);this.srcNodeRef&&this.srcNodeRef.style.height&&(this.height=this.srcNodeRef.style.height);this._setAutoHeightAttr(this.autoHeight,!0);this.lastScrollTop=this.scrollTop=
0},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);this.domNode&&this.autoWidth&&this.initialWidth&&(this.domNode.style.width=this.initialWidth);this.domNode&&!this.editable&&B.attr(this.domNode,"aria-readonly","true")},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.scroller&&(this.scroller.destroy(),delete this.scroller);this.edit.destroy();
delete this.edit;this.views.destroyViews();this.focus&&(this.focus.destroy(),delete this.focus);this.headerMenu&&this._placeholders.length&&(v.forEach(this._placeholders,function(a){a.unReplace(!0)}),this.headerMenu.unBindDomNode(this.viewsHeaderNode));this.inherited(arguments)},_setAutoHeightAttr:function(a,b){"string"==typeof a&&(a=a&&"false"!=a?"true"==a?!0:window.parseInt(a,10):!1);"number"==typeof a&&(isNaN(a)&&(a=!1),0>a?a=!0:0===a&&(a=!1));this.autoHeight=a;this._autoHeight="boolean"==typeof a?
a:"number"==typeof a?a>=this.get("rowCount"):!1;this._started&&!b&&this.render()},_getRowCountAttr:function(){return this.updating&&this.invalidated&&void 0!=this.invalidated.rowCount?this.invalidated.rowCount:this.rowCount},textSizeChanged:function(){this.render()},sizeChange:function(){this.update()},createManagers:function(){this.rows=new f(this);this.focus=new a(this);this.edit=new d(this)},createSelection:function(){this.selection=new c(this)},createScroller:function(){this.scroller=new g;this.scroller.grid=
this;this.scroller.renderRow=y.hitch(this,"renderRow");this.scroller.removeRow=y.hitch(this,"rowRemoved")},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn")},onMoveColumn:function(){this.update()},onResizeColumn:function(a){},createViews:function(){this.views=new e(this);this.views.createView=y.hitch(this,"createView")},createView:function(a,b){var c=new ("string"===typeof a?y.getObject(a):a)({grid:this,index:b});this.viewsNode.appendChild(c.domNode);
this.viewsHeaderNode.appendChild(c.headerNode);this.views.addView(c);B.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return c},buildViews:function(){for(var a=0,b;b=this.layout.structure[a];a++)this.createView(b.type||h,a).setStructure(b);this.scroller.setContentNodes(this.views.getContentNodes())},_setStructureAttr:function(a){a&&y.isString(a)&&(m.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0"),a=y.getObject(a));
this.structure=a;if(!a)if(this.layout.structure)a=this.layout.structure;else return;this.views.destroyViews();this.focus.focusView=null;a!==this.layout.structure&&this.layout.setStructure(a);this._structureChanged()},setStructure:function(a){m.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(a)},getColumnTogglingItems:function(){var a,b=[];a=v.map(this.layout.cells,function(a){a.menuItems||(a.menuItems=[]);var c=this,
d=new u({label:a.name,checked:!a.hidden,_gridCell:a,onChange:function(a){if(c.layout.setColumnVisibility(this._gridCell.index,a)){var b=this._gridCell.menuItems;1<b.length&&v.forEach(b,function(b){b!==this&&b.setAttribute("checked",a)},this);a=v.filter(c.layout.cells,function(a){1<a.menuItems.length?v.forEach(a.menuItems,"item.set('disabled', false);"):a.menuItems[0].set("disabled",!1);return!a.hidden});1==a.length&&v.forEach(a[0].menuItems,"item.set('disabled', true);")}},destroy:function(){var a=
v.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(a,1);delete this._gridCell;u.prototype.destroy.apply(this,arguments)}});a.menuItems.push(d);a.hidden||b.push(d);return d},this);1==b.length&&b[0].set("disabled",!0);return a},_setHeaderMenuAttr:function(a){this._placeholders&&this._placeholders.length&&(v.forEach(this._placeholders,function(a){a.unReplace(!0)}),this._placeholders=[]);this.headerMenu&&this.headerMenu.unBindDomNode(this.viewsHeaderNode);if(this.headerMenu=a)this.headerMenu.bindDomNode(this.viewsHeaderNode),
this.headerMenu.getPlaceholders&&(this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel))},setHeaderMenu:function(a){m.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(a)},setupHeaderMenu:function(){this._placeholders&&this._placeholders.length&&v.forEach(this._placeholders,function(a){a._replaced&&a.unReplace(!0);a.replace(this.getColumnTogglingItems())},this)},_fetch:function(a){this.setScrollTop(0)},
getItem:function(a){return null},showMessage:function(a){a?(this.messagesNode.innerHTML=a,this.messagesNode.style.display=""):(this.messagesNode.innerHTML="",this.messagesNode.style.display="none")},_structureChanged:function(){this.buildViews();this.autoRender&&this._started&&this.render()},hasLayout:function(){return this.layout.cells.length},resize:function(a,b){this._pendingChangeSize=a;this._pendingResultSize=b;this.sizeChange()},_getPadBorder:function(){return this._padBorder=this._padBorder||
B._getPadBorderExtents(this.domNode)},_getHeaderHeight:function(){var a=this.viewsHeaderNode.style,b="none"==a.display?0:this.views.measureHeader();a.height=b+"px";this.views.normalizeHeaderNodeHeight();return b},_resize:function(a,b){a=a||this._pendingChangeSize;b=b||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(this.domNode){var c=this.domNode.parentNode;if(c&&1==c.nodeType&&this.hasLayout()&&"hidden"!=c.style.visibility&&"none"!=c.style.display){var d=
this._getPadBorder(),e=void 0,f;this._autoHeight?this.domNode.style.height="auto":"number"==typeof this.autoHeight?(f=e=this._getHeaderHeight(),f+=this.scroller.averageRowHeight*this.autoHeight,this.domNode.style.height=f+"px"):this.domNode.clientHeight<=d.h&&(c==document.body?this.domNode.style.height=this.defaultHeight:this.height?this.domNode.style.height=this.height:this.fitTo="parent");b&&(a=b);!this._autoHeight&&a?(B.marginBox(this.domNode,a),this.height=this.domNode.style.height,delete this.fitTo):
"parent"==this.fitTo&&(f=this._parentContentBoxHeight=0<this._parentContentBoxHeight?this._parentContentBoxHeight:B._getContentBox(c).h,this.domNode.style.height=Math.max(0,f)+"px");c=v.some(this.views.views,function(a){return a.flexCells});this._autoHeight||0!==(f||B._getContentBox(this.domNode).h)?(this.viewsHeaderNode.style.display="block",c||void 0!==e||(e=this._getHeaderHeight())):this.viewsHeaderNode.style.display="none";c&&(e=void 0);this.adaptWidth();this.adaptHeight(e);this.postresize()}}},
adaptWidth:function(){var a=!this.initialWidth&&this.autoWidth,b=a?0:this.domNode.clientWidth||this.domNode.offsetWidth-this._getPadBorder().w,b=this.views.arrange(1,b);this.views.onEach("adaptWidth");a&&(this.domNode.style.width=b+"px")},adaptHeight:function(a){a=void 0===a?this._getHeaderHeight():a;var b=this._autoHeight?-1:Math.max(this.domNode.clientHeight-a,0)||0;this.views.onEach("setSize",[0,b]);this.views.onEach("adaptHeight");if(!this._autoHeight){var c=0,d=0,e=v.filter(this.views.views,
function(a){(a=a.hasHScrollbar())?c++:d++;return!a});0<c&&0<d&&v.forEach(e,function(a){a.adaptHeight(!0)})}!0===this.autoHeight||-1!=b||"number"==typeof this.autoHeight&&this.autoHeight>=this.get("rowCount")?this.scroller.windowHeight=b:this.scroller.windowHeight=Math.max(this.domNode.clientHeight-a,0)},startup:function(){this._started||(this.inherited(arguments),this.autoRender&&this.render())},render:function(){this.domNode&&this._started&&(this.hasLayout()?(this.update=this.defaultUpdate,this._render()):
this.scroller.init(0,this.keepRows,this.rowsPerPage))},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender()},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize()},postrender:function(){this.postresize();this.focus.initFocusView();B.setSelectable(this.domNode,this.selectable)},postresize:function(){if(this._autoHeight){var a=
Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=a}},renderRow:function(a,b){this.views.renderRow(a,b,this._skipRowRenormalize)},rowRemoved:function(a){this.views.rowRemoved(a)},invalidated:null,updating:!1,beginUpdate:function(){this.invalidated=[];this.updating=!0},endUpdate:function(){this.updating=!1;var a=this.invalidated,b;if(a.all)this.update();else if(void 0!=a.rowCount)this.updateRowCount(a.rowCount);else for(b in a)this.updateRow(Number(b));this.invalidated=[]},defaultUpdate:function(){this.domNode&&
(this.updating?this.invalidated.all=!0:(this.lastScrollTop=this.scrollTop,this.prerender(),this.scroller.invalidateNodes(),this.setScrollTop(this.lastScrollTop),this.postrender()))},update:function(){this.render()},updateRow:function(a){a=Number(a);this.updating?this.invalidated[a]=!0:(this.views.updateRow(a),this.scroller.rowHeightChanged(a))},updateRows:function(a,b){a=Number(a);b=Number(b);var c;if(this.updating)for(c=0;c<b;c++)this.invalidated[c+a]=!0;else{for(c=0;c<b;c++)this.views.updateRow(c+
a,this._skipRowRenormalize);this.scroller.rowHeightChanged(a)}},updateRowCount:function(a){this.updating?this.invalidated.rowCount=a:(this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this.layout.cells.length&&this.scroller.updateRowCount(a),this._resize(),this.layout.cells.length&&this.setScrollTop(this.scrollTop))},updateRowStyles:function(a){this.views.updateRowStyles(a)},getRowNode:function(a){if(!this.focus.focusView||this.focus.focusView instanceof p)for(var b=0,c;c=this.views.views[b];b++){if(!(c instanceof
p))return c.rowNodes[a]}else return this.focus.focusView.rowNodes[a];return null},rowHeightChanged:function(a){this.views.renormalizeRow(a);this.scroller.rowHeightChanged(a)},fastScroll:!0,delayScroll:!1,scrollRedrawThreshold:A("ie")?100:50,scrollTo:function(a){if(this.fastScroll){var b=Math.abs(this.lastScrollTop-a);this.lastScrollTop=a;if(b>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=!0;this.scrollTop=a;this.views.setScrollTop(a);this._pendingScroll&&window.clearTimeout(this._pendingScroll);
var c=this;this._pendingScroll=window.setTimeout(function(){delete c._pendingScroll;c.finishScrollJob()},200)}else this.setScrollTop(a)}else this.setScrollTop(a)},finishScrollJob:function(){this.delayScroll=!1;this.setScrollTop(this.scrollTop)},setScrollTop:function(a){this.scroller.scroll(this.views.setScrollTop(a))},scrollToRow:function(a){this.setScrollTop(this.scroller.findScrollTop(a)+1)},styleRowNode:function(a,b){b&&this.rows.styleRowNode(a,b)},_mouseOut:function(a){this.rows.setOverRow(-2)},
getCell:function(a){return this.layout.cells[a]},setCellWidth:function(a,b){this.getCell(a).unitWidth=b},getCellName:function(a){return"Cell "+a.index},canSort:function(a){},sort:function(){},getSortAsc:function(a){a=void 0==a?this.sortInfo:a;return Boolean(0<a)},getSortIndex:function(a){a=void 0==a?this.sortInfo:a;return Math.abs(a)-1},setSortIndex:function(a,b){var c=a+1;void 0!=b?c*=b?1:-1:this.getSortIndex()==a&&(c=-this.sortInfo);this.setSortInfo(c)},setSortInfo:function(a){this.canSort(a)&&
(this.sortInfo=a,this.sort(),this.update())},doKeyEvent:function(a){a.dispatch="do"+a.type;this.onKeyEvent(a)},_dispatch:function(a,b){return a in this?this[a](b):!1},dispatchKeyEvent:function(a){this._dispatch(a.dispatch,a)},dispatchContentEvent:function(a){this.edit.dispatchEvent(a)||a.sourceView.dispatchContentEvent(a)||this._dispatch(a.dispatch,a)},dispatchHeaderEvent:function(a){a.sourceView.dispatchHeaderEvent(a)||this._dispatch("doheader"+a.type,a)},dokeydown:function(a){this.onKeyDown(a)},
doclick:function(a){if(a.cellNode)this.onCellClick(a);else this.onRowClick(a)},dodblclick:function(a){if(a.cellNode)this.onCellDblClick(a);else this.onRowDblClick(a)},docontextmenu:function(a){if(a.cellNode)this.onCellContextMenu(a);else this.onRowContextMenu(a)},doheaderclick:function(a){if(a.cellNode)this.onHeaderCellClick(a);else this.onHeaderClick(a)},doheaderdblclick:function(a){if(a.cellNode)this.onHeaderCellDblClick(a);else this.onHeaderDblClick(a)},doheadercontextmenu:function(a){if(a.cellNode)this.onHeaderCellContextMenu(a);
else this.onHeaderContextMenu(a)},doStartEdit:function(a,b){this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,c){this.onApplyCellEdit(a,b,c)},doCancelEdit:function(a){this.onCancelEdit(a)},doApplyEdit:function(a){this.onApplyEdit(a)},addRow:function(){this.updateRowCount(this.get("rowCount")+1)},removeSelectedRows:function(){this.allItemsSelected?this.updateRowCount(0):this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));this.selection.clear()}});n.markupFactory=
function(a,b,c,d){var e=function(a){a=B.attr(a,"width")||"auto";"auto"!=a&&"em"!=a.slice(-2)&&"%"!=a.slice(-1)&&(a=parseInt(a,10)+"px");return a};a.structure||"table"!=b.nodeName.toLowerCase()||(a.structure=E("\x3e colgroup",b).map(function(a){var b=B.attr(a,"span"),b={noscroll:"true"==B.attr(a,"noscroll")?!0:!1,__span:b?parseInt(b,10):1,cells:[]};B.hasAttr(a,"width")&&(b.width=e(a));return b}),a.structure.length||a.structure.push({__span:Infinity,cells:[]}),E("thead \x3e tr",b).forEach(function(b,
c){var f=0,h=0,g,k=null;E("\x3e th",b).map(function(b){k?f>=g+k.__span&&(h++,g+=k.__span,k=a.structure[h]):(g=0,k=a.structure[0]);var l={name:y.trim(B.attr(b,"name")||b.innerHTML),colSpan:parseInt(B.attr(b,"colspan")||1,10),type:y.trim(B.attr(b,"cellType")||""),id:y.trim(B.attr(b,"id")||"")};f+=l.colSpan;var m=B.attr(b,"rowspan");m&&(l.rowSpan=m);B.hasAttr(b,"width")&&(l.width=e(b));B.hasAttr(b,"relWidth")&&(l.relWidth=window.parseInt(B.attr(b,"relWidth"),10));B.hasAttr(b,"hidden")&&(l.hidden="true"==
B.attr(b,"hidden")||!0===B.attr(b,"hidden"));d&&d(b,l);l.type=l.type?y.getObject(l.type):q.Cell;l.type&&l.type.markupFactory&&l.type.markupFactory(b,l);k.cells[c]||(k.cells[c]=[]);k.cells[c].push(l)})}));return new c(a,b)};return n})},"tm1web/workbook/controls/Label":function(){define(["dojo/_base/declare","dojo/text!./templates/Label.html","dijit/_TemplatedMixin","./_Control"],function(m,n,l,k){return m("tm1web.workbook.controls.Label",[k,l],{templateString:n})})},"dojo/store/Memory":function(){define(["../_base/declare",
"./util/QueryResults","./util/SimpleQueryEngine"],function(m,n,l){return m("dojo.store.Memory",null,{constructor:function(k){for(var g in k)this[g]=k[g];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:l,get:function(k){return this.data[this.index[k]]},getIdentity:function(k){return k[this.idProperty]},put:function(k,g){var b=this.data,h=this.index,e=this.idProperty,e=k[e]=g&&"id"in g?g.id:e in k?k[e]:Math.random();if(e in h){if(g&&!1===g.overwrite)throw Error("Object already exists");
b[h[e]]=k}else h[e]=b.push(k)-1;return e},add:function(k,g){(g=g||{}).overwrite=!1;return this.put(k,g)},remove:function(k){var g=this.index,b=this.data;if(k in g)return b.splice(g[k],1),this.setData(b),!0},query:function(k,g){return n(this.queryEngine(k,g)(this.data))},setData:function(k){k.items?(this.idProperty=k.identifier||this.idProperty,k=this.data=k.items):this.data=k;this.index={};for(var g=0,b=k.length;g<b;g++)this.index[k[g][this.idProperty]]=g}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),
function(m,n,l,k,g,b,h){g.add("highcontrast",function(){var b=h.doc.createElement("div");b.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(n.blankGif||m.toUrl("./resources/blank.gif"))+'");';h.body().appendChild(b);var f=k.getComputedStyle(b),a=f.backgroundImage,f=f.borderTopColor==f.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=g("ie")?b.outerHTML="":h.body().removeChild(b);return f});b(function(){g("highcontrast")&&
l.add(h.body(),"dj_a11y")});return g})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(m,n,l){function k(a,b,d,h,g){if(h=b.match(/(.*):(.*)/))return b=h[2],h=h[1],e.selector(h,b).call(g,a,d);l("touch")&&(f.test(b)&&(d=A(d)),l("event-orientationchange")||"orientationchange"!=b||(b="resize",a=window,d=A(d)));q&&(d=q(d));if(a.addEventListener){var k=b in c,m=k?c[b]:b;a.addEventListener(m,d,k);return{remove:function(){a.removeEventListener(m,d,
k)}}}if(u&&a.attachEvent)return u(a,"on"+b,d);throw Error("Target must be an event emitter");}function g(){this.cancelable=!1;this.defaultPrevented=!0}function b(){this.bubbles=!1}var h=window.ScriptEngineMajorVersion;l.add("jscript",h&&h()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);l.add("event-focusin",function(a,b,c){return"onfocusin"in
c});l("touch")&&l.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});var e=function(a,b,c,d){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?e.parse(a,b,c,k,d,this):a.on(b,c)};e.pausable=function(a,b,c,d){var f;a=e(a,b,function(){if(!f)return c.apply(this,arguments)},d);a.pause=function(){f=!0};a.resume=function(){f=!1};return a};e.once=function(a,
b,c,d){var f=e(a,b,function(){f.remove();return c.apply(this,arguments)});return f};e.parse=function(a,b,c,d,f,h){if(b.call)return b.call(h,a,c);if(b instanceof Array)g=b;else if(-1<b.indexOf(","))var g=b.split(/\s*,\s*/);if(g){var k=[];b=0;for(var l;l=g[b++];)k.push(e.parse(a,l,c,d,f,h));k.remove=function(){for(var a=0;a<k.length;a++)k[a].remove()};return k}return d(a,b,c,f,h)};var f=/^touch/;e.matches=function(a,b,c,d,e){e=e&&e.matches?e:n.query;d=!1!==d;1!=a.nodeType&&(a=a.parentNode);for(;!e.matches(a,
b,c);)if(a==c||!1===d||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};e.selector=function(a,b,c){return function(d,f){function h(b){return e.matches(b,a,d,c,g)}var g="function"==typeof a?{matches:a}:this,k=b.bubble;return k?e(d,k(h),f):e(d,b,function(a){var b=h(a.target);if(b)return f.call(b,a)})}};var a=[].slice,d=e.emit=function(c,d,e){var f=a.call(arguments,2),h="on"+d;if("parentNode"in c){var k=f[0]={},l;for(l in e)k[l]=e[l];k.preventDefault=g;k.stopPropagation=b;k.target=c;k.type=d;e=k}do c[h]&&
c[h].apply(c,f);while(e&&e.bubbles&&(c=c.parentNode));return e&&e.cancelable&&e},c=l("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!l("event-stopimmediatepropagation"))var p=function(){this.modified=this.immediatelyStopped=!0},q=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=p,a.apply(this,arguments)}};if(l("dom-addeventlistener"))e.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var f=(a.ownerDocument||document).createEvent("HTMLEvents");
f.initEvent(b,!!c.bubbles,!!c.cancelable);for(var h in c)h in f||(f[h]=c[h]);return a.dispatchEvent(f)&&f}return d.apply(e,arguments)};else{e._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{s&&a.type==s.type&&a.srcElement==s.target&&(a=s)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||
(a.stopPropagation=x,a.preventDefault=w),a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}return a};var s,r=function(a){this.handle=a};r.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(a){return function(b){b=e._fixEvent(b,this);var c=a.call(this,b);b.modified&&(s||setTimeout(function(){s=
null}),s=b);return c}},u=function(a,b,c){c=t(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[b];if(!d||!d.listeners){var e=d,d=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");d.listeners=
[];a[b]=d;d.global=this;e&&d.listeners.push(_dojoIEListeners_.push(e)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(c)-1);return new r(a)}return m.after(a,b,c,!0)},x=function(){this.cancelBubble=!0},w=e._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(l("touch"))var v=function(){},y=window.orientation,A=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;
try{delete b.type}catch(e){}if(b.type){if(l("touch-can-modify-event-delegate"))v.prototype=b,c=new v;else{var c={},f;for(f in b)c[f]=b[f]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(y==window.orientation)return null;y=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var d=c.changedTouches[0],h;for(h in d)delete c[h],c[h]=d[h]}return a.call(this,
c)}};return e})},"dojo/errors/create":function(){define(["../_base/lang"],function(m){return function(n,l,k,g){k=k||Error;var b=function(h){if(k===Error){Error.captureStackTrace&&Error.captureStackTrace(this,b);var e=Error.call(this,h),f;for(f in e)e.hasOwnProperty(f)&&(this[f]=e[f]);this.message=h;this.stack=e.stack}else k.apply(this,arguments);l&&l.apply(this,arguments)};b.prototype=m.delegate(k.prototype,g);b.prototype.name=n;return b.prototype.constructor=b}})},"dojox/grid/_Events":function(){define(["dojo/keys",
"dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(m,n,l,k,g){return l("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(b){this.dispatchKeyEvent(b)},onContentEvent:function(b){this.dispatchContentEvent(b)},onHeaderEvent:function(b){this.dispatchHeaderEvent(b)},onStyleRow:function(b){b.customClasses+=(b.odd?" dojoxGridRowOdd":"")+(b.selected?" dojoxGridRowSelected":"")+(b.over?" dojoxGridRowOver":"");this.focus.styleRow(b);this.edit.styleRow(b)},
onKeyDown:function(b){if(!b.altKey&&!b.metaKey){var h;switch(b.keyCode){case m.ESCAPE:this.edit.cancel();break;case m.ENTER:if(!this.edit.isEditing()){h=this.focus.getHeaderIndex();if(0<=h){this.setSortIndex(h);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(b),b.shiftKey);k.stop(b)}b.shiftKey||(h=this.edit.isEditing(),this.edit.apply(),h||this.edit.setEditCell(this.focus.cell,this.focus.rowIndex));this.edit.isEditing()||((this.focus.focusView||this.views.views[0]).content.decorateEvent(b),
this.onRowClick(b),k.stop(b));break;case m.SPACE:if(!this.edit.isEditing()){h=this.focus.getHeaderIndex();if(0<=h){this.setSortIndex(h);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(b),b.shiftKey);k.stop(b)}break;case m.TAB:this.focus[b.shiftKey?"previousKey":"nextKey"](b);break;case m.LEFT_ARROW:case m.RIGHT_ARROW:if(!this.edit.isEditing()){var e=b.keyCode;k.stop(b);h=this.focus.getHeaderIndex();0<=h&&b.shiftKey&&b.ctrlKey?this.focus.colSizeAdjust(b,h,5*(e==m.LEFT_ARROW?
-1:1)):(b=e==m.LEFT_ARROW?1:-1,this.isLeftToRight()&&(b*=-1),this.focus.move(0,b))}break;case m.UP_ARROW:this.edit.isEditing()||0===this.focus.rowIndex||(k.stop(b),this.focus.move(-1,0));break;case m.DOWN_ARROW:this.edit.isEditing()||this.focus.rowIndex+1==this.rowCount||(k.stop(b),this.focus.move(1,0));break;case m.PAGE_UP:this.edit.isEditing()||0===this.focus.rowIndex||(k.stop(b),this.focus.rowIndex!=this.scroller.firstVisibleRow+1?this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,
0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1)),this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0)));break;case m.PAGE_DOWN:this.edit.isEditing()||this.focus.rowIndex+1==this.rowCount||(k.stop(b),this.focus.rowIndex!=this.scroller.lastVisibleRow-1?this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1)),this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-
1,0)))}}},onMouseOver:function(b){-1==b.rowIndex?this.onHeaderCellMouseOver(b):this.onCellMouseOver(b)},onMouseOut:function(b){-1==b.rowIndex?this.onHeaderCellMouseOut(b):this.onCellMouseOut(b)},onMouseDown:function(b){-1==b.rowIndex?this.onHeaderCellMouseDown(b):this.onCellMouseDown(b)},onMouseOverRow:function(b){this.rows.isOver(b.rowIndex)||(this.rows.setOverRow(b.rowIndex),-1==b.rowIndex?this.onHeaderMouseOver(b):this.onRowMouseOver(b))},onMouseOutRow:function(b){if(this.rows.isOver(-1))this.onHeaderMouseOut(b);
else this.rows.isOver(-2)||(this.rows.setOverRow(-2),this.onRowMouseOut(b))},onMouseDownRow:function(b){if(-1!=b.rowIndex)this.onRowMouseDown(b)},onCellMouseOver:function(b){b.cellNode&&n.add(b.cellNode,this.cellOverClass)},onCellMouseOut:function(b){b.cellNode&&n.remove(b.cellNode,this.cellOverClass)},onCellMouseDown:function(b){},onCellClick:function(b){this._click[0]=this._click[1];this._click[1]=b;this.edit.isEditCell(b.rowIndex,b.cellIndex)||this.focus.setFocusCell(b.cell,b.rowIndex);1<this._click.length&&
null==this._click[0]&&this._click.shift();this.onRowClick(b)},onCellDblClick:function(b){var h;h=1<this._click.length&&g("ie")?this._click[1]:1<this._click.length&&this._click[0].rowIndex!=this._click[1].rowIndex?this._click[0]:b;this.focus.setFocusCell(h.cell,h.rowIndex);this.edit.setEditCell(h.cell,h.rowIndex);this.onRowDblClick(b)},onCellContextMenu:function(b){this.onRowContextMenu(b)},onCellFocus:function(b,h){this.edit.cellFocus(b,h)},onRowClick:function(b){this.edit.rowClick(b);this.selection.clickSelectEvent(b)},
onRowDblClick:function(b){},onRowMouseOver:function(b){},onRowMouseOut:function(b){},onRowMouseDown:function(b){},onRowContextMenu:function(b){k.stop(b)},onHeaderMouseOver:function(b){},onHeaderMouseOut:function(b){},onHeaderCellMouseOver:function(b){b.cellNode&&n.add(b.cellNode,this.cellOverClass)},onHeaderCellMouseOut:function(b){b.cellNode&&n.remove(b.cellNode,this.cellOverClass)},onHeaderCellMouseDown:function(b){},onHeaderClick:function(b){},onHeaderCellClick:function(b){this.setSortIndex(b.cell.index);
this.onHeaderClick(b)},onHeaderDblClick:function(b){},onHeaderCellDblClick:function(b){this.onHeaderDblClick(b)},onHeaderCellContextMenu:function(b){this.onHeaderContextMenu(b)},onHeaderContextMenu:function(b){this.headerMenu||k.stop(b)},onStartEdit:function(b,h){},onApplyCellEdit:function(b,h,e){},onCancelEdit:function(b){},onApplyEdit:function(b){},onCanSelect:function(b){return!0},onCanDeselect:function(b){return!0},onSelected:function(b){this.updateRowStyles(b)},onDeselected:function(b){this.updateRowStyles(b)},
onSelectionChanged:function(){}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(m,n,l){return m("dijit.form._ListBase",null,{selected:null,_listConnect:function(k,g){var b=this;return b.own(n(b.containerNode,n.selector(function(b,e,f){return b.parentNode==f},k),function(h){b[g](h,this)}))},selectFirstNode:function(){for(var k=this.containerNode.firstChild;k&&"none"==k.style.display;)k=k.nextSibling;this._setSelectedAttr(k,!0)},selectLastNode:function(){for(var k=
this.containerNode.lastChild;k&&"none"==k.style.display;)k=k.previousSibling;this._setSelectedAttr(k,!0)},selectNextNode:function(){var k=this.selected;if(k){for(k=k.nextSibling;k&&"none"==k.style.display;)k=k.nextSibling;k?this._setSelectedAttr(k,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var k=this.selected;if(k){for(k=k.previousSibling;k&&"none"==k.style.display;)k=k.previousSibling;k?this._setSelectedAttr(k,!0):this.selectLastNode()}else this.selectLastNode()},
_setSelectedAttr:function(k,g){if(this.selected!=k){var b=this.selected;if(b)this.onDeselect(b);k&&(g&&l.scrollIntoView(k),this.onSelect(k));this._set("selected",k)}else if(k)this.onSelect(k)}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(m,n,l,k,g,b){var h=b.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?
this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(l.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,f,a,d,c,h,g,k){if(c!=this._obj){this.stop();this._initialDelay=g||500;this._subsequentDelay=h||.9;this._minDelay=k||10;this._obj=c;this._node=a;this._count=this._currentTimeout=-1;this._callback=l.hitch(f,d);this._evt={faux:!0};for(var m in b)"layerX"!=m&&"layerY"!=
m&&(f=b[m],"function"!=typeof f&&"undefined"!=typeof f&&(this._evt[m]=f));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,f,a,d,c,g,q){var s="keyCode"in f?"keyCode":"charCode"in f?"charCode":"charOrCode",r=[k(b,"keyCode"in f?"keydown":"charCode"in f?"keypress":n._keypress,l.hitch(this,function(k){k[s]!=f[s]||void 0!==f.ctrlKey&&f.ctrlKey!=k.ctrlKey||
void 0!==f.altKey&&f.altKey!=k.altKey||void 0!==f.metaKey&&f.metaKey!=(k.metaKey||!1)||void 0!==f.shiftKey&&f.shiftKey!=k.shiftKey?h._obj==f&&h.stop():(k.stopPropagation(),k.preventDefault(),h.trigger(k,a,b,d,f,c,g,q))})),k(b,"keyup",l.hitch(this,function(){h._obj==f&&h.stop()}))];return{remove:function(){m.forEach(r,function(a){a.remove()})}}},addMouseListener:function(b,f,a,d,c,n){var q=[k(b,"mousedown",l.hitch(this,function(g){g.preventDefault();h.trigger(g,f,b,a,b,d,c,n)})),k(b,"mouseup",l.hitch(this,
function(a){this._obj&&a.preventDefault();h.stop()})),k(b,"mouseout",l.hitch(this,function(a){this._obj&&a.preventDefault();h.stop()})),k(b,"dblclick",l.hitch(this,function(k){k.preventDefault();9>g("ie")&&(h.trigger(k,f,b,a,b,d,c,n),setTimeout(l.hitch(this,h.stop),50))}))];return{remove:function(){m.forEach(q,function(a){a.remove()})}}},addListener:function(b,f,a,d,c,h,g,k){var l=[this.addKeyListener(f,a,d,c,h,g,k),this.addMouseListener(b,d,c,h,g,k)];return{remove:function(){m.forEach(l,function(a){a.remove()})}}}};
return h})},"tm1web/subseteditor/SubsetTree":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","./_Tree"],function(m,n,l,k){return m("tm1web.subseteditor.SubsetTree",k,{betweenThreshold:5,dimensionTree:null,postCreate:function(){this.inherited(arguments)},checkAcceptance:function(){return!0},checkItemAcceptance:function(g,b,h){if(g!=this.tree.rootNode.rowNode&&"over"===h)return!1;if(l.getEnclosingWidget(g).hasChildren())if(this.tree.get("expandAbove")){if("before"==h)return!1}else if("after"==
h)return!1;return b.tree===this.tree||this.tree.dimensionTree&&b.tree===this.tree.dimensionTree},selectFound:function(){this._foundNode&&!this.dimensionTree&&this.dndController.userSelect(this._foundNode,!1,!1)}})})},"tm1web/grid/GridPaneController":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dijit/Destroyable ./utility/box ./DomController".split(" "),function(m,n,l,k,g,b){return m(k,{model:null,gridPane:null,bufferRatio:1,_dataBox:null,DomController:b,constructor:function(b){n.mixin(this,
b);this.model=this.gridPane.model;this.own(this._domController=new this.DomController({gridPane:this.gridPane,model:this.model}))},_hasFrozenRows:function(){return this.gridPane.hasFrozenRows},_hasFrozenColumns:function(){return this.gridPane.hasFrozenColumns},load:function(){this._dataBox=this._computeDataBox();return this._refresh(this._dataBox)},getQuery:function(){this._dataBox=this._computeDataBox();return[this._getQuery(this._toRange(this._dataBox))]},_refresh:function(b,e){this._domController.removeAll(e);
var f=this._getQuery(this._toRange(b));this._domController.setDomContentRange(f);f=[f];this._addMesh(f);this._dataBox=b;return f},onChange:function(){var b=this._dataBox,e=this._computeDataBox(),f=this._toRange(b),a=this._toRange(e);if(g.equals(f,a))return[];if(!g.intersects(f,a))return this._refresh(e);b=g.computeDifference(a,f);f=g.computeDifference(f,a);a=this._getQuery(a);this._domController.setDomContentRange(a);this._remove(this._getQueries(f),a);b=this._getQueries(b);this._addMesh(b);this._dataBox=
e;return b},updateSelection:function(b,e){this.gridPane.updateSelection(b,e)},_getQueries:function(b){for(var e=b.length,f=Array(e),a=0;a<e;a++)f[a]=this._getQuery(b[a]);return f},_getQuery:function(b){return{startRow:b.t,startColumn:b.l,endRow:b.t+b.h,endColumn:b.l+b.w}},_toRange:function(b){var e=this.model.getRowAtPosition(b.t,!this._hasFrozenRows()),f=this.model.getColumnAtPosition(b.l,!this._hasFrozenColumns()),a=this.model.getRowAtPosition(b.t+b.h,!this._hasFrozenRows());b=this.model.getColumnAtPosition(b.l+
b.w,!this._hasFrozenColumns());return{t:e,l:f,h:a-e,w:b-f}},_computeDataBox:function(){var b=l.getContentBox(this.gridPane.domNode),e=b.w,f=b.h,a=this.gridPane.getWidth(),d=this.gridPane.getHeight(),c=e*this.bufferRatio,g=f*this.bufferRatio,k=this._hasFrozenColumns()?0:this.grid.getScrollLeft(),m=this._hasFrozenRows()?0:this.grid.getScrollTop(),b=Math.max(0,k-c),e=Math.min(a,k+e+c),a=Math.max(0,m-g),f=Math.min(d,m+f+g);return{t:a,l:b,w:e-b,h:f-a}},_addMesh:function(b){if(this.model.areGridLinesVisible())for(var e=
b.length,f=0;f<e;f++){var a=b[f];this._domController.generateMeshRows(a.startRow,a.endRow);this._domController.generateMeshColumns(a.startColumn,a.endColumn)}},addCells:function(b,e){e&&this._refresh(this._computeDataBox(),!0);b=this._domController.appendMergedCells(b);this._domController.generateCells(b)},_remove:function(b,e){this._removeMesh(b,e);this._domController.removeCells(b,e)},_removeMesh:function(b,e){if(this.model.areGridLinesVisible())for(var f=b.length,a=0;a<f;a++){var d=b[a];this._domController.removeMeshRows(d.startRow,
d.endRow,e.startRow,e.endRow);this._domController.removeMeshColumns(d.startColumn,d.endColumn,e.startColumn,e.endColumn)}},updateCell:function(b){this._domController.updateCell(b)},getCell:function(b,e){return this._domController.getCell(b,e)}})})},"tm1web/grid/selection/LeftSelectionOverlay":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget".split(" "),function(m,n,l,k,g,b){return m(b,{constructor:function(b){this.inherited(arguments)},
buildRendering:function(){this.inherited(arguments)},setPosition:function(b,e){this._setStyle(b.left,b.top,e.left-b.left,b.height)}})})},"tm1web/cubeview/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dijit/Menu dijit/PopupMenuItem dijit/MenuSeparator ../planning/TM1MenuItem ./CubeViewBase".split(" "),function(m,n,l,k,g,b,h,e,f){return m(f,{constructor:function(){this.ContextMenu=this.Grid=this._CurrentCell=null;this.MenuLabels={};this._handles=[]},
_OnContextMenuClose:function(){this.ContextMenu.unBindDomNode(this._CurrentCell);setTimeout(n.hitch(this,"_destroy"),0)},_destroy:function(){this.ContextMenu&&this.ContextMenu.destroyRecursive();l.forEach(this._handles,function(a){a.remove()});this._handlers=[]},_BatchAddHandler:function(a,b){l.forEach(a,function(a){a.handler=n.hitch(this,b)},this)},_CreateMenu:function(a){var b=new g;l.forEach(a,n.hitch(this,function(a){this._AddMenuItem(b,a)}));return b},_AddMenuItem:function(a,d){var c=null;d.subMenu&&
null!=d.subMenu?(c=new b({label:d.label,iconClass:d.iconClass,popup:d.subMenu}),c.startup()):null==d.label?c=new h:(c=new e({label:d.label,disabled:d.disabled,iconClass:d.iconClass},null,d.data),this._handles.push(k.after(c,"OnItemClick",d.handler,!0)));a.addChild(c)},destroy:function(){this.inherited(arguments);this._destroy()}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(m,n,l,k,g,b){k=m("dojo.dnd.move.constrainedMoveable",
b,{constraints:function(){},within:!1,constructor:function(b,e){e||(e={});this.constraints=e.constraints;this.within=e.within},onFirstMove:function(b){var e=this.constraintBox=this.constraints.call(this,b);e.r=e.l+e.w;e.b=e.t+e.h;this.within&&(b=n.getMarginSize(b.node),e.r-=b.w,e.b-=b.h)},onMove:function(b,e){var f=this.constraintBox,a=b.node.style;this.onMoving(b,e);e.l=e.l<f.l?f.l:f.r<e.l?f.r:e.l;e.t=e.t<f.t?f.t:f.b<e.t?f.b:e.t;a.left=e.l+"px";a.top=e.t+"px";this.onMoved(b,e)}});g=m("dojo.dnd.move.boxConstrainedMoveable",
k,{box:{},constructor:function(b,e){var f=e&&e.box;this.constraints=function(){return f}}});m=m("dojo.dnd.move.parentConstrainedMoveable",k,{area:"content",constructor:function(b,e){var f=e&&e.area;this.constraints=function(){var a=this.node.parentNode,b=l.getComputedStyle(a),c=n.getMarginBox(a,b);if("margin"==f)return c;var e=n.getMarginExtents(a,b);c.l+=e.l;c.t+=e.t;c.w-=e.w;c.h-=e.h;if("border"==f)return c;e=n.getBorderExtents(a,b);c.l+=e.l;c.t+=e.t;c.w-=e.w;c.h-=e.h;if("padding"==f)return c;e=
n.getPadExtents(a,b);c.l+=e.l;c.t+=e.t;c.w-=e.w;c.h-=e.h;return c}}});return{constrainedMoveable:k,boxConstrainedMoveable:g,parentConstrainedMoveable:m}})},"tm1web/cubeview/CubeViewBase":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/window dojo/dom-construct dojo/sniff ../share/Base ../utility/dom".split(" "),function(m,n,l,k,g,b,h){return m(b,{constructor:function(){this.NBSP=this.IsIE=null;this.InitializeCubeViewBase()},App:null,InitializeCubeViewBase:function(){this.IsIE=document.all?
!0:!1;this.NBSP="\u00a0"},RemoveChildren:function(b){k.empty(b)},CreateTR:function(b){var f=k.create("TR");0<arguments.length&&b.appendChild(f);return f},CreateTd:function(b){var f=k.create("TD");0<arguments.length&&b.appendChild(f);return f},RemoveNodeSelf:function(b){if(null!=b){var f=b.parentNode;null!=f&&f.removeChild(b)}},GetEvent:function(b){window.event&&(b=window.event);return b},CreateTextBox:function(b,f,a,d){var c=k.create("input");c.value=f;c.setAttribute("type","text");this.AddClass(c,
a);c.setAttribute("id",d);b.appendChild(c);return c},CreateLabel:function(b,f,a){var d=k.create("label");this.SetTextContent(d,f);this.AddClass(d,a);b.appendChild(d);return d},CreateA11yLabel:function(b,f,a,d){var c=k.create("label");this.SetTextContent(c,f);this.AddClass(c,a);c.setAttribute("for",d);b.appendChild(c);return c},AddClass:function(b,f){var a=b.className;""!=a?a==f||(new RegExp(f+"$")).test(a)||(a=this._RemoveClass(b,f),b.className=""!=a?a+" "+f:f):b.className=f},RemoveClass:function(b,
f){""!=b.className&&(b.className=this._RemoveClass(b,f))},AssignClass:function(b,f){var a=b.className;""==a?b.className=f:a!=f&&(-1!=a.search("\\btm1webCell_selected\\b")?f+=" tm1webCell_selected":-1!=a.search("\\btm1webCell_selected_within_block_rc\\b")&&(f+=" tm1webCell_selected_within_block_rc"),b.className=f)},_RemoveClass:function(b,f){return b.className.replace(new RegExp("(^"+f+"$)|(^"+f+" )|( "+f+" )|( "+f+"$)")," ").replace(/  +/," ")},CreateTable:function(b){var f=k.create("TABLE");g("ie");
f.className="tm1webCollapse";f.cellSpacing=0;f.cellPadding=0;1==arguments.length&&b&&(f.rules="all",f.border=1);return f},CreatePanel:function(b,f){var a=k.create("DIV");0<arguments.length&&(a.id=b,this.AddClass(a,f));return a},SetTextContent:function(b,f){h.setTextContent(b,f)},GetTextContent:function(b){return h.getTextContent(b)},GetCoordinate:function(b){return{rowIndex:b.cellInfo.rowIndex,colIndex:b.cellInfo.colIndex}}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has",
"../_base/lang","../_base/array"],function(m,n,l,k){function g(a,b,d){var e="";a&&a.stack&&(e+=a.stack);b&&b.stack&&(e+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));d&&d.stack&&(e+="\n    ----------------------------------------\n"+d.stack);console.error(a,e)}function b(a,b,d,e){b||g(a,d,e)}function h(b,g,h,l){k.some(f,function(a){if(a.error===b)return g&&(a.handled=!0),!0})||f.push({error:b,rejection:h,handled:g,deferred:l,
timestamp:(new Date).getTime()});a||(a=setTimeout(e,d))}function e(){var b=(new Date).getTime(),h=b-d;f=k.filter(f,function(a){return a.timestamp<h?(a.handled||g(a.error,a.rejection,a.deferred),!1):!0});a=f.length?setTimeout(e,f[0].timestamp+d-b):!1}n.add("config-useDeferredInstrumentation","report-unhandled-rejections");var f=[],a=!1,d=1E3;return function(a){var e=n("config-useDeferredInstrumentation");if(e){m.on("resolved",l.hitch(console,"log","resolved"));m.on("rejected",l.hitch(console,"log",
"rejected"));m.on("progress",l.hitch(console,"log","progress"));var f=[];"string"===typeof e&&(f=e.split(","),e=f.shift());if("report-rejections"===e)a.instrumentRejected=b;else if("report-unhandled-rejections"===e||!0===e||1===e)a.instrumentRejected=h,d=parseInt(f[0],10)||d;else throw Error("Unsupported instrumentation usage \x3c"+e+"\x3e");}}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(m,n,l,k,g,b,h,e){function f(a,
c,d,f,g){f=e.hitch(d,f);if(!a||!a.addEventListener&&!a.attachEvent)return k.after(a||m.global,c,f,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));a||(a=m.global);if(!g)switch(c){case "keypress":c=q;break;case "mouseenter":c=b.enter;break;case "mouseleave":c=b.leave}return n(a,c,f,g)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),
(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!h("opera")});var d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},c=h("mac")?"metaKey":"ctrlKey",p=function(b,c){var d=e.mixin({},b,c);a(d);d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()};return d},q;q=h("events-keypress-typed")?function(a,b){var c=n(a,"keydown",function(a){var c=
a.keyCode,e=13!=c&&32!=c&&(27!=c||!h("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(e||a.ctrlKey){e=e?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:d[e]||e}c=p(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,c);if(h("ie"))try{a.keyCode=c.keyCode}catch(f){}}}),e=n(a,"keypress",function(a){var c=a.charCode;a=p(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,a)});return{remove:function(){c.remove();
e.remove()}}}:h("opera")?function(a,b){return n(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&!a.shiftKey&&65<=c&&90>=c&&(c+=32);return b.call(this,p(a,{charCode:c}))})}:function(b,c){return n(b,"keypress",function(b){a(b);return c.call(this,b)})};var s={_keypress:q,connect:function(a,b,c,d,e){var g=arguments,h=[],k=0;h.push("string"==typeof g[0]?null:g[k++],g[k++]);var l=g[k+1];h.push("string"==typeof l||"function"==typeof l?g[k++]:null,g[k++]);for(l=g.length;k<
l;k++)h.push(g[k]);return f.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,c){return l.subscribe(a,e.hitch(b,c))},publish:function(a,b){return l.publish.apply(l,[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){s.publish(a,arguments)};return c?s.connect(b,c,d):s.connect(b,d)},isCopyKey:function(a){return a[c]}};s.unsubscribe=s.disconnect;e.mixin(m,s);return s})},"tm1web/workbook/celledit/TextBox":function(){define(["dojo/_base/declare","dijit/form/TextBox",
"./_EditMixin"],function(m,n,l){return m("tm1web.workbook.celledit.TextBox",[n,l])})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p){return g("dijit.form._FormSelectWidget",p,{multiple:!1,options:null,store:null,_setStoreAttr:function(a){this._created&&
this._deprecatedSetStore(a)},query:null,_setQueryAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:a})},queryOptions:null,_setQueryOptionsAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:a})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(f.isArray(a))return m.map(a,"return this.getOptions(item);",this);
f.isString(a)&&(a={value:a});f.isObject(a)&&(m.some(b,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<b.length?b[a]:null},addOption:function(a){m.forEach(f.isArray(a)?a:[a],function(a){a&&f.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(f.isArray(a)?a:[a]);m.forEach(a,function(a){a&&(this.options=m.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},
this);this._loadChildren()},updateOption:function(a){m.forEach(f.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,b,c){e.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.","","2.0");this._deprecatedSetStore(a,b,c)},_deprecatedSetStore:function(a,
b,e){var g=this.store;e=e||{};if(g!==a){for(var h;h=this._notifyConnections.pop();)h.remove();a.get||(f.mixin(a,{_oldAPI:!0,get:function(a){var b=new n;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var d=new n(function(){e.abort&&e.abort()});d.total=new n;var e=this.fetch(f.mixin({query:a,onBegin:function(a){d.total.resolve(a)},onComplete:function(a){d.resolve(a)},onError:function(a){d.reject(a)}},b));
return new c(d)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[l.after(a,"onNew",f.hitch(this,"_onNewItem"),!0),l.after(a,"onDelete",f.hitch(this,"_onDeleteItem"),!0),l.after(a,"onSet",f.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);
e.query&&this._set("query",e.query);e.queryOptions&&this._set("queryOptions",e.queryOptions);a&&a.query&&(this._loadingStore=!0,this.onLoadDeferred=new n,this._queryRes=a.query(this.query,this.queryOptions),d(this._queryRes,f.hitch(this,function(c){if(this.sortByLabel&&!e.sort&&c.length)if(a.getValue)c.sort(k.createSortFunction([{attribute:a.getLabelAttributes(c[0])[0]}],a));else{var d=this.labelAttr;c.sort(function(a,b){return a[d]>b[d]?1:b[d]>a[d]?-1:0})}e.onFetch&&(c=e.onFetch.call(this,c,e));
m.forEach(c,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(f.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(c):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+
a.toString());this.onLoadDeferred.reject(a)}));return g},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=f.isArray(a)?m.map(a,function(a){return f.isObject(a)?a:{value:a}}):f.isObject(a)?[a]:[{value:a}];a=m.filter(this.getOptions(a),function(a){return a&&a.value});var c=this.getOptions()||[];this.multiple||a[0]&&a[0].value||!c.length||(a[0]=c[0]);m.forEach(c,function(b){b.selected=m.some(a,function(a){return a.value===b.value})});
c=m.map(a,function(a){return a.value});if("undefined"!=typeof c&&"undefined"!=typeof c[0]){var d=m.map(a,function(a){return a.label});this._setDisplay(this.multiple?d:d[0]);this.inherited(arguments,[this.multiple?c:c[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=m.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==
typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(m.forEach(this._getChildren(),function(a){a.destroyRecursive()}),m.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;m.forEach(this._getChildren(),function(c){var d=m.some(a,function(a){return c.option&&a===c.option.value});d&&!b.multiple&&(b.focusedChild=c);h.toggle(c.domNode,
this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);c.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=m.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?m.map(m.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){b&&b.parent||this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},
_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||
null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);b.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?a("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+e._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||
!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);l.after(this,"onChange",f.hitch(this,"_updateSelection"));var a=this.store;a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(a,this._oValue,{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();
this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},
onSetStore:function(){}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(m,n,l,k,g,b,h,e){return m("dijit.form._ComboBoxMenu",[g,b,e,h],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(n.add(this.previousButton,"dijitMenuItemRtl"),n.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){n.add(b,"dijitMenuItemHover")},onUnhover:function(b){n.remove(b,
"dijitMenuItemHover")},onSelect:function(b){n.add(b,"dijitMenuItemSelected")},onDeselect:function(b){n.remove(b,"dijitMenuItemSelected")},_page:function(b){var a=0,d=this.domNode.scrollTop,c=l.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<c;){var e=this.getHighlightedOption();if(b){if(!e.previousSibling||"none"==e.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!e.nextSibling||"none"==e.nextSibling.style.display)break;this.selectNextNode()}e=
this.domNode.scrollTop;a+=(e-d)*(b?-1:1);d=e}},handleKey:function(b){switch(b.keyCode){case k.DOWN_ARROW:return this.selectNextNode(),!1;case k.PAGE_DOWN:return this._page(!1),!1;case k.UP_ARROW:return this.selectPreviousNode(),!1;case k.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../registry ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),
function(m,n,l,k,g,b,h,e,f){return m("dijit.layout._TabContainerBase",[g,e],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:f,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&k.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||
n.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(n.add(this.domNode,"dijitTabContainerNested"),n.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),n.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),n.add(this.containerNode,"dijitTabPaneWrapperNested")):n.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){n.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=this.selectedChildWidget;if(this.doLayout){var d=this.tabPosition.replace(/-h/,"");this.tablist.region=d;d=[this.tablist,{domNode:this.tablistSpacer,region:d},{domNode:this.containerNode,region:"center"}];b.layoutChildren(this.domNode,this._contentBox,d);this._containerContentBox=b.marginBox2contentBox(this.containerNode,d[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){d=this.tablist.domNode.style;
d.width="0";var c=l.getContentBox(this.domNode).w;d.width="";this.tablist.resize({w:c})}a&&a.resize&&a.resize()}}},destroy:function(a){this.tablist&&this.tablist.destroy(a);this.inherited(arguments)},selectChild:function(a,b){this._focused&&(a=h.byId(a),this.tablist.pane2button(a.id).focus());return this.inherited(arguments)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(m,n,l,k,g,b,h,e,f,a){return n("dijit._KeyNavContainer",[f,a,e],{connectKeyNavHandlers:function(a,c){var e=this._keyNavCodes={},f=b.hitch(this,"focusPrev"),h=b.hitch(this,"focusNext");m.forEach(a,function(a){e[a]=f});m.forEach(c,function(a){e[a]=h});e[g.HOME]=b.hitch(this,"focusFirstChild");e[g.END]=b.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){k.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);m.forEach(this.getChildren(),
b.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
h.byNode(a))&&a.getParent()==this}})})},"tm1web/grid/selection/LeftBorderSelection":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget ./_BorderOffsetMixin".split(" "),function(m,n,l,k,g,b,h){return m([b,h],{constructor:function(b){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,f){this._setStyle(b.left,b.top,-1,b.height)}})})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),
function(m,n,l,k,g,b){function h(b){return{id:b.value,value:b.value,name:l.trim(b.innerText||b.textContent||"")}}return m("dijit.form.DataList",g,{constructor:function(e,f){this.domNode=n.byId(f);l.mixin(this,e);this.id&&b.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:k("option",this.domNode).map(h)}])},destroy:function(){b.remove(this.id)},fetchSelectedItem:function(){var b=k("\x3e option[selected]",this.domNode)[0]||k("\x3e option",this.domNode)[0];return b&&h(b)}})})},
"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u){function x(){}var w=n("dijit._MasterTooltip",[q,s],{duration:c.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new r(this.domNode);this.fadeIn=l.fadeIn({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,"_onShow")});this.fadeOut=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,"_onHide")})},show:function(a,b,c,d,f,g,k){if(!this.aroundNode||this.aroundNode!==b||this.containerNode.innerHTML!=a)if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;f&&this.set("textDir",f);this.containerNode.align=d?"right":"left";var l=p.around(this.domNode,
b,c&&c.length?c:v.defaultPosition,!d,e.hitch(this,"orient")),m=l.aroundNodePos;"M"==l.corner.charAt(0)&&"M"==l.aroundCorner.charAt(0)?(this.connectorNode.style.top=m.y+(m.h-this.connectorNode.offsetHeight>>1)-l.y+"px",this.connectorNode.style.left=""):"M"==l.corner.charAt(1)&&"M"==l.aroundCorner.charAt(1)?this.connectorNode.style.left=m.x+(m.w-this.connectorNode.offsetWidth>>1)-l.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");h.set(this.domNode,"opacity",0);this.fadeIn.play();
this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=g||x;this.onMouseLeave=k||x}},orient:function(a,c,e,f,g){this.connectorNode.style.top="";var h=f.h;f=f.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight",
"BL-BR":"dijitTooltipLeft"}[c+"-"+e];this.domNode.style.width="auto";var k=b.position(this.domNode);if(d("ie")||d("trident"))k.w+=2;var l=Math.min(Math.max(f,1),k.w);b.setMarginBox(this.domNode,{w:l});"B"==e.charAt(0)&&"B"==c.charAt(0)?(a=b.position(a),c=this.connectorNode.offsetHeight,a.h>h?(this.connectorNode.style.top=h-(g.h+c>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(g.h/2-c/2,0),a.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top=
"",this.connectorNode.style.bottom="");return Math.max(0,k.w-f)},_onShow:function(){d("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=x},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});d("dojo-bidi")&&
w.extend({_setAutoTextDir:function(a){this.applyTextDir(a);m.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});u.showTooltip=function(a,b,c,d,e,f,g){c&&(c=m.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));v._masterTT||(u._masterTT=v._masterTT=new w);return v._masterTT.show(a,b,c,d,e,f,g)};u.hideTooltip=function(a){return v._masterTT&&
v._masterTT.hide(a)};var v=n("dijit.Tooltip",q,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){m.forEach(this._connections||[],function(a){m.forEach(a,function(a){a.remove()})},this);this._connectIds=m.filter(e.isArrayLike(b)?b:b?[b]:[],function(a){return k.byId(a,this.ownerDocument)},this);this._connections=m.map(this._connectIds,function(b){b=k.byId(b,this.ownerDocument);var c=this.selector,d=c?function(b){return a.selector(c,b)}:function(a){return a},
g=this;return[a(b,d(f.enter),function(){g._onHover(this)}),a(b,d("focusin"),function(){g._onHover(this)}),a(b,d(f.leave),e.hitch(g,"_onUnHover")),a(b,d("focusout"),e.hitch(g,"set","state","DORMANT"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==m.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=m.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);
g.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;m.forEach(e.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);
switch(a){case "DORMANT":this._connectNode&&(v.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}v.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,e.hitch(this,"set","state","SHOWING"),e.hitch(this,"set","state","HIDE TIMER"));
this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},
onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");m.forEach(this._connections||[],function(a){m.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});v._MasterTooltip=w;v.show=u.showTooltip;v.hide=u.hideTooltip;v.defaultPosition=["after-centered","before-centered"];return v})},"tm1web/workbook/celledit/_EditMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-class dojo/dom-geometry dojo/keys dijit/form/_TextBoxMixin ../../utility/dom ../../utility/event ../../utility/number ../../utility/percent ../../share/_RefocusMixin ../../share/NumberType ../../share/TM1Utility ../../on/mousewheel ./_CellValueMixin ../../mobile/sniff ./ValueSaver".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u){return m([r,c],{model:null,_visible:!1,_store:null,_Store:null,_ValueSaver:u,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"tm1webCellEditor");this.connect(this.domNode,s,"hide");this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.textbox,"onmousedown",function(a){this._allowKeyNavigation=!1;a.stopPropagation()});this.on("selectstart, dblclick",function(a){a.stopPropagation()})},_onKeyDown:function(c){switch(c.keyCode){case b.DOWN_ARROW:case b.UP_ARROW:case b.LEFT_ARROW:case b.RIGHT_ARROW:if(this._allowKeyNavigation)this.hide();
else{c.stopPropagation();return}break;case b.NUMPAD_PERIOD:l.stop(c),q.insertCharacterAtCaret(a.decimal,this.textbox)}f.isCopyKeyDown(c)&&"V"===String.fromCharCode(c.keyCode)&&c.stopPropagation();this.inherited(arguments)},show:function(a){this.startup();var b=a.cell;b&&(this._activeCell=b,this._activeCellInfo=a.cellInfo,this.textbox.value=a.value,this._selectText=null!=a.highlight?a.highlight:!0,this._allowKeyNavigation=!!a.allowKeyNavigation,this._show(a))},_show:function(a){this._saveFocus();e.setStyle(this.domNode,
{visibility:"hidden",display:""});this._adjustPosition();this.domNode.style.visibility="";this._visible=!0;var b=this.textbox,c=this._computeSelectionIndices();t("mobile-device")?h.selectInputText(b,c.start,c.end):this.defer(function(){h.selectInputText(b,c.start,c.end)},1)},_saveFocus:function(){this.inherited(arguments)},_computeSelectionIndices:function(){var a=this._activeCellInfo,b=this.textbox.value,c=b.length,e=this._selectText?0:c;if(this._selectText&&this._isPercentValue(a,b))return this._percentAppended=
!0,d.getRange(b);this._selectText||!this._isPercentCell(a)||isNaN(b)||(this.textbox.value=d.addFormat(this.textbox.value),this._percentAppended=!0);return{start:e,end:c}},hide:function(){this._visible&&(this._percentAppended=this._allowKeyNavigation=this._selectText=this._visible=!1,this._restoreFocus(),this._activeCellInfo=this._activeCell=null,this.domNode.style.display="none",this.onHide())},onInput:function(a){if(!f.isModifierKeyDown(a,!0))switch(a.keyCode){case b.ENTER:case b.TAB:return this.hide(),
!0;case b.ESCAPE:return this.textbox.value=this._getCurrentValue(this._activeCellInfo),this.hide(),!0}"keypress"===a.type&&this.defer("_analyzeValue");return this.inherited(arguments)},onHide:function(){},_adjustPosition:function(){g.setMarginBox(this.domNode,{t:this._calculateOffsetTop(),l:this._calculateOffsetLeft(),w:this._calculateWidth(),h:this._calculateHeight()})},_calculateWidth:function(){return this._activeCell.offsetWidth},_calculateHeight:function(){return this._activeCell.offsetHeight},
_calculateOffsetTop:function(){for(var a=this.domNode.offsetParent,b=this._activeCell.offsetTop,c=this._activeCell.offsetParent,d=this._activeCell.parentNode;a!==c;)b-=d.scrollTop,c===d&&(b+=c.offsetTop),c=d.offsetParent,d=d.parentNode;return b},_calculateOffsetLeft:function(){for(var a=this.domNode.offsetParent,b=this._activeCell.offsetLeft,c=this._activeCell.offsetParent,d=this._activeCell.parentNode;a!==c;)b-=d.scrollLeft,c===d&&(b+=c.offsetLeft),c=d.offsetParent,d=d.parentNode;return b},_handleOnChange:function(a,
b){this.inherited(arguments);b&&(this._saveEdit(),this._restoreFocus(),this.hide())},_saveEdit:function(){var a=new this._ValueSaver(this._getValueSaverParams());this.defer(function(){a.save()},0)},_getValueSaverParams:function(){return{value:this.textbox.value,activeCell:this._activeCell,activeCellInfo:this._activeCellInfo,model:this.model}},_analyzeValue:function(){var b=this.textbox.value,c=d.removeFormat(b);!this._percentAppended||null==c||a.canParse(b,p.PERCENT,!0)||a.canParse(c,p.DECIMAL,!0)||
(this.textbox.value=c,this._percentAppended=!1);this._isPercentCell(this._activeCellInfo)&&null==c&&a.canParse(b,p.DECIMAL,!0)&&(this.textbox.value=d.addFormat(b),b=d.getRange(this.textbox.value),h.selectInputText(this.textbox,b.end,b.end),this._percentAppended=!0)}})})},"tm1web/workbook/celledit/ValidationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dijit/TooltipDialog dijit/popup dojox/html/entities".split(" "),function(m,n,l,k,g,b){return m("tm1web.workbook.celledit.ValidationDialog",
k,{title:null,message:null,dataGrid:null,_eventHandlers:null,buildRendering:function(){this.inherited(arguments);this.style={width:"300px"};this._eventHandlers=[]},show:function(h){this.message=h.message;this.title=h.title;this.set("content","\x3cspan style\x3d'font-weight:bold'\x3e"+b.encode(this.title||"")+"\x3c/span\x3e\x3cbr\x3e"+b.encode(this.message||""));this._attachEventHandlers();g.open({popup:this,around:h.domCell})},hide:function(){g.close(this);this._removeEventHandlers()},_attachEventHandlers:function(){this.own(this._eventHandlers.push(l(this.dataGrid,
"mousedown",n.hitch(this,"hide"))),this._eventHandlers.push(l(this.domNode,"mousedown",n.hitch(this,"hide"))))},_removeEventHandlers:function(){for(var b in this._eventHandlers)this._eventHandlers[b].remove();this._eventHandlers=[]}})})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),function(m,n,l,k,g,b,h){return m("dijit.PopupMenuItem",h,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var b=
k("*",this.srcNodeRef);this.inherited(arguments,[b[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(b,f){var a=this.popup;g.open(l.delegate(b,{popup:this.popup,around:this.domNode}));f&&a.focus&&a.focus()},_closePopup:function(){g.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var e=k("[widgetId]",this.dropDownContainer)[0];this.popup=b.byNode(e)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",
this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&n.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(b){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(b),delete this.popup);this.inherited(arguments)}})})},"dijit/main":function(){define(["dojo/_base/kernel"],function(m){return m.dijit})},"tm1web/subseteditor/TreePane":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/query dojo/dom-geometry dijit/layout/BorderContainer ../utility/dom ./SubsetTree ./PagingSlider ./dndSelector".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c){return m("tm1web.subseteditor.TreePane",e,{Tree:a,sessionId:null,dimensionTree:null,model:null,gutters:!1,_slider:null,_sliderLabel:null,_tree:null,_sliderVisible:!0,constructor:function(a){this.dimensionTree=a.tree},_attachListeners:function(){this.connect(this.model,"onMetaDataChange","_onMetaDataChange")},postCreate:function(){this.inherited(arguments);k.add(this.domNode,"tm1webTreePane");this._attachListeners();var a=this.model,b={region:"center",model:a,dimensionTree:this.dimensionTree,
onChange:n.hitch(this,"onChange")};this.dndController&&(b.dndController=this.dndController);this._tree=new this.Tree(b);this.own(this._tree.on("select",n.hitch(this,"onSelect")));this.own(this._tree.on("focus",n.hitch(this,"onFocus")));var c=this._tree.on("load",n.hitch(this,function(){c.remove();setTimeout(n.hitch(this,"onLoad"),0)}));this.addChild(this._tree);this._slider=new d({region:"bottom",model:this.model});this.addChild(this._slider);a.getMetaData(n.hitch(this,"_onMetaDataChange"))},_getTreeAttr:function(){return this._tree},
resize:function(a,b){if(!a){var c=f.getGutters(this.domNode);this._tree.domNode.style.width="auto";this._tree.domNode.style.height="auto";a={w:h.getMarginBox(this._tree.domNode).w+f.getVerticalScrollbarWidth(this._tree.domNode)+c.w,h:this._getChildrenHeight()+c.h}}this.inherited(arguments,[a,b])},layout:function(){this.inherited(arguments);this._slider.layout()},_setMaxHeightAttr:function(a){if(null!=a){this._maxHeight=a;this.domNode.style.maxHeight=a+"px";var b=this._getChildrenHeight(!0);this._tree.domNode.style.maxHeight=
a-b+"px"}},_getMaxHeightAttr:function(){return this._maxHeight},_setMaxWidthAttr:function(a){if(null!=a){this._maxWidth=a;var b=g.set(this.domNode,{maxWidth:a+"px"}),b=f.getGutters(this.domNode,b);this._tree.domNode.style.maxWidth=a-b.w+"px"}},_getChildrenHeight:function(a){var b=this._tree,c=0;l.forEach(this.getChildren(),function(d){a&&d===b||(c+=h.getMarginBox(d.domNode).h)});return c},_onMetaDataChange:function(a){a=a.pageCount;1<a&&!this._sliderVisible?(this.addChild(this._slider),this._sliderVisible=
!0,this._slider.layout(),this.set("maxHeight",this._maxHeight)):1>=a&&this._sliderVisible&&(this.removeChild(this._slider),this._sliderVisible=!1,this.set("maxHeight",this._maxHeight))},onChange:function(){},onSelect:function(a){},onFocus:function(a){a=b(".tm1webTreeNodeLabelFound",a).parent();0<a.length&&a[0].focus()}})})},"dojox/gesture/Base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/on dojo/touch dojo/has ../main".split(" "),function(m,
n,l,k,g,b,h,e,f){m.experimental("dojox.gesture.Base");k.getObject("gesture",!0,f);return n(null,{defaultEvent:" ",subEvents:[],touchOnly:!1,_elements:null,constructor:function(a){k.mixin(this,a);this.init()},init:function(){this._elements=[];if(!e("touch")&&this.touchOnly)console.warn("Gestures:[",this.defaultEvent,"] is only supported on touch devices!");else{var a=this.defaultEvent;this.call=this._handle(a);this._events=[a];l.forEach(this.subEvents,function(b){this[b]=this._handle(a+"."+b);this._events.push(a+
"."+b)},this)}},_handle:function(a){var d=this;return function(c,e){var f=arguments;2<f.length&&(c=f[1],e=f[2]);if(c&&(c.nodeType||c.attachEvent||c.addEventListener)){var g=d._add(c,a,e);return{remove:function(){g.remove();d._remove(c,a)}}}return b(c,a,e)}},_add:function(a,d,c){var e=this._getGestureElement(a);if(!e){var e={target:a,data:{},handles:{}},f=k.hitch(this,"_process",e,"press"),g=k.hitch(this,"_process",e,"move"),l=k.hitch(this,"_process",e,"release"),m=k.hitch(this,"_process",e,"cancel"),
n=e.handles;this.touchOnly?(n.press=b(a,"touchstart",f),n.move=b(a,"touchmove",g),n.release=b(a,"touchend",l),n.cancel=b(a,"touchcancel",m)):(n.press=h.press(a,f),n.move=h.move(a,g),n.release=h.release(a,l),n.cancel=h.cancel(a,m));this._elements.push(e)}e.handles[d]=e.handles[d]?++e.handles[d]:1;return b(a,d,c)},_getGestureElement:function(a){for(var b=0,c;b<this._elements.length;b++)if(c=this._elements[b],c.target===a)return c},_process:function(a,b,c){c._locking=c._locking||{};c._locking[this.defaultEvent]||
this.isLocked(c.currentTarget)||("INPUT"==c.target.tagName&&"radio"!=c.target.type&&"checkbox"!=c.target.type||"TEXTAREA"==c.target.tagName||c.preventDefault(),c._locking[this.defaultEvent]=!0,this[b](a.data,c))},press:function(a,b){},move:function(a,b){},release:function(a,b){},cancel:function(a,b){},fire:function(a,d){a&&d&&(d.bubbles=!0,d.cancelable=!0,b.emit(a,d.type,d))},_remove:function(a,b){var c=this._getGestureElement(a);if(c&&c.handles){c.handles[b]--;var e=c.handles;l.some(this._events,
function(a){return 0<e[a]})||(this._cleanHandles(e),c=l.indexOf(this._elements,c),0<=c&&this._elements.splice(c,1))}},_cleanHandles:function(a){for(var b in a)a[b].remove&&a[b].remove(),delete a[b]},lock:function(a){this._lock=a},unLock:function(){this._lock=null},isLocked:function(a){return this._lock&&a?this._lock!==a&&g.isDescendant(a,this._lock):!1},destroy:function(){l.forEach(this._elements,function(a){this._cleanHandles(a.handles)},this);this._elements=null}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t){return a("dijit.layout.ContentPane",[l,k,g],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:m._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if(!(a&&a.template||!b||"href"in a||"content"in a)){b=c.byId(b);for(var d=b.ownerDocument.createDocumentFragment();b.firstChild;)d.appendChild(b.firstChild);
a=n.delegate(a,{content:d})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang)||e;this.loadingMessage=b.substitute(this.loadingMessage,a);this.errorMessage=b.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&f.forEach(this._contentSetter.parseResults,
function(a){a._started||a._destroyed||!n.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},_startChildren:function(){f.forEach(this.getChildren(),function(a){a._started||a._destroyed||!n.isFunction(a.startup)||(a.startup(),a._started=!0)});this._contentSetter&&f.forEach(this._contentSetter.parseResults,function(a){a._started||a._destroyed||!n.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},setHref:function(a){m.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new d(n.hitch(this,"cancel"));this.onLoadDeferred.then(n.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){m.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new d(n.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(n.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new d(n.hitch(this,"cancel"));this.onLoadDeferred.then(n.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
n.isObject(this.ioArgs)&&n.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||s.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;f.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(f.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||q.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;c&&c instanceof h._ContentSetter||(c=this._contentSetter=new h._ContentSetter({node:this.containerNode,_onError:n.hitch(this,this._onError),onContentError:n.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+
" could not change content due to "+b.message,b)}})}));var d=n.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(n.isObject(a)&&a.domNode?a.domNode:a,d),e=this;return t(d&&d.then?d:c.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(a))})},
_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"tm1web/workbook/celledit/_CellList":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/store/Memory dojo/Deferred dojo/keys dijit/form/ComboBox ./_CellDropDownMixin ../../config-settings ../../config-settings!".split(" "),
function(m,n,l,k,g,b,h,e,f){return m("tm1web.workbook.celledit._CellList",[h,e],{searchAttr:"value",_lastValidInput:"",pageSize:100,_stopClickEvents:!0,store:new k,model:null,_cellListSearchCharacterRemoval:f.isCellListSearchCharacterRemovalEnabled(),show:function(a){this._lastInput=a.value;this.set("store",new this._Store({model:a.model,rowIndex:a.cellInfo.rowIndex,colIndex:a.cellInfo.index,cellInfo:a.cellInfo}));this.inherited(arguments)},onInput:function(a){switch(a.charOrCode){case b.ENTER:var d=
this.dropDown;if(d){var c=d.getHighlightedOption();if(c==d.nextButton)return this._nextSearch(1),!1;if(c==d.previousButton)return this._nextSearch(-1),!1}break;case b.ESCAPE:this._opened&&(this._lastQuery=null)}return this.inherited(arguments)},loadDropDown:function(a){this._selectText?this.inherited(arguments):this._startSearchFromInput()},openDropDown:function(){this.dropDown.domNode.style.removeProperty("width");return this.inherited(arguments)},_openAndHighlightDropDown:function(){var a=n.hitch(this,
"_highlightFirstListOption");this._opened?a():this.searchTimer?this.defer("_openAndHighlightDropDown",this.searchDelay):this._fetchHandle?this._fetchHandle.then(a):this.loadDropDown()},_highlightFirstListOption:function(){var a=this.dropDown;a.highlightFirstOption();this._announceOption(a.getHighlightedOption())},_openResultList:function(a,b,c){this.inherited(arguments);!a.length&&0==c.start&&this._cellListSearchCharacterRemoval?(this.textbox.value=this._lastValidInput,this._startSearchFromInput()):
this._lastValidInput=this._lastInput},hide:function(){this.inherited(arguments);this._lastValidInput="";this._lastValueReported=null;this._listItemSelected=!1},_selectOption:function(a){this._listItemSelected=!0;this.inherited(arguments)},_onBlur:function(a,b){this._listItemSelected=this.dropDown&&!!this.dropDown.getHighlightedOption();this.inherited(arguments)},_getValueSaverParams:function(){return n.mixin(this.inherited(arguments),{listItemSelected:this._listItemSelected,store:this.store})}})})},
"tm1web/subseteditor/SaveAsDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/Dialog dojo/text!./templates/SaveAsDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin ../widgets/WarningOptionsDialog".split(" "),function(m,n,l,k,g,b,h,e,f,a){return m([k,b,h,f],{templateString:g,model:null,subsetModel:null,_textBox:null,_savePublicCheckBox:null,_overwriteExistingCheckBox:null,_submitButton:null,
_cancelButton:null,title:e.get("SAVE_AS_TITLE_STR"),_textBoxLabel:e.get("SUBSET_NAME_STR"),_savePublicCheckBoxLabel:e.get("SAVE_PUBLIC_STR"),_overwriteExistingCheckBoxLabel:e.get("OVERWRITE_EXISTING_SUBSET_STR"),_submitButtonLabel:e.get("OK_STR"),_cancelButtonLabel:e.get("CANCEL_STR"),_privateSubsetExistsMessage:e.get("PRIVATE_SUBSET_EXISTS"),_publicSubsetExistsMessage:e.get("PUBLIC_SUBSET_EXISTS"),_subsets:null,_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._textBox.watch("state",
l.hitch(this,"_onValidStateChange"));var a=this;this._textBox.validator=function(b){if(this._isEmpty(b))return!1;for(var e=a._savePublicCheckBox.get("checked"),f=a._overwriteExistingCheckBox.get("checked"),g=0;g<a._subsets.length;g++){var h=a._subsets[g];if(b.toLowerCase()==h.name.toLowerCase()&&h.isPublic==e&&!f)return!1}return!0};this.model.getMetaData().then(l.hitch(this,function(a){this._subsets=a.subsets.slice();this._savePublicCheckBox.set("disabled",!a.dimensionAdminAccess)}))},_onSavePublicCheckBoxChanged:function(a){this._textBox.set("invalidMessage",
a?this._publicSubsetExistsMessage:this._privateSubsetExistsMessage);this._textBox.validate()},_onCheckBoxChanged:function(){this._textBox.validate()},_onValidStateChange:function(a,b,e){this._submitButton.set("disabled",!!e)},onHide:function(){this.destroyRecursive()},_onOk:function(){var b=this._textBox.get("value"),c=this._savePublicCheckBox.get("checked"),f=this._overwriteExistingCheckBox.get("checked"),g=l.hitch(this,"_save",b,c,f);this.model.getMetaData().then(l.hitch(this,function(b){this.subsetModel.getMetaData(function(c){b.selectedSubset.dynamic&&
c.modified?a.show({message:e.get("SUBSET_BY_EXPRESSION")+"\n"+e.get("SAVING_DYNAMIC_SUBSET"),okButtonLabel:e.get("SUBSET_EXPRESSION_WARNING_OK_STR"),cancelButtonLabel:e.get("CANCEL_STR"),title:e.get("SUBSET_EXPRESSION_WARNING_TITLE_STR"),onExecute:function(){g()}}):g()})}))},_save:function(a,b,e){this.model.saveSubsetAs(a,b,e).then(l.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang",
"dojo/_base/array"],function(m,n,l,k){return m("dojox.grid._SelectionPreserver",null,{constructor:function(g){this.selection=g;var b=this.grid=g.grid;this.reset();this._connects=[n.connect(b,"_setStore",this,"reset"),n.connect(b,"_addItem",this,"_reSelectById"),n.connect(g,"onSelected",l.hitch(this,"_selectById",!0)),n.connect(g,"onDeselected",l.hitch(this,"_selectById",!1)),n.connect(g,"deselectAll",this,"reset")]},destroy:function(){this.reset();k.forEach(this._connects,n.disconnect);delete this._connects},
reset:function(){this._selectedById={}},_reSelectById:function(g,b){g&&this.grid._hasIdentity&&(this.selection.selected[b]=this._selectedById[this.grid.store.getIdentity(g)])},_selectById:function(g,b){if("none"!=this.selection.mode&&this.grid._hasIdentity){var h=b,e=this.grid;if("number"==typeof b||"string"==typeof b)h=(h=e._by_idx[b])&&h.item;h&&(this._selectedById[e.store.getIdentity(h)]=!!g);return h}}})})},"tm1web/subseteditor/DimensionTree":function(){define(["dojo/_base/declare","./_Tree"],
function(m,n){return m("tm1web.subseteditor.DimensionTree",n,{checkAcceptance:function(){return!1}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(m,n,l,k,g){return l("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var b=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);g.parse(b,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(k.hitch(this,function(b){this._startupWidgets=b;for(var e=0;e<b.length;e++)this._processTemplateNode(b[e],function(b,a){return b[a]},function(b,a,d){return a in b?b.connect(b,a,d):b.on(a,d,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(b,g,e){return g(b,"dojoType")||g(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){m.forEach(this._startupWidgets,function(b){b&&!b._started&&b.startup&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){return m("dijit._HasDropDown",r,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){this.disabled||this.readOnly||("MSPointerDown"!=b.type&&"pointerdown"!=b.type&&b.preventDefault(),this.own(d.once(this.ownerDocument,c.release,a.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(a){var c=
this.dropDown,d=!1;if(a&&this._opened){var e=b.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w&&a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)g.contains(e,"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(c.onItemClick){for(var f;e&&!(f=p.byNode(e));)e=e.parentNode;if(f&&f.onClick&&f.getParent)f.getParent().onItemClick(f,a)}return}}}this._opened?c.focus&&(!1!==c.autoFocus||"mouseup"==a.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){c.focus();
delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||
this.dropDownPosition[0]||"Down";g.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(d(this._buttonNode,c.press,a.hitch(this,"_onDropDownMouseDown")),d(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),d(b,"keydown",a.hitch(this,"_onKey")),d(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;b&&this._opened&&b.handleKey&&!1===b.handleKey(a)?(a.stopPropagation(),a.preventDefault()):b&&this._opened&&a.keyCode==f.ESCAPE?(this.closeDropDown(),a.stopPropagation(),a.preventDefault()):!this._opened&&(a.keyCode==f.DOWN_ARROW||(a.keyCode==f.ENTER||a.keyCode==f.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||
c.type&&"text"!==c.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new n,c=a.hitch(this,function(){this.openDropDown();b.resolve(this.dropDown)});
this.isLoaded()?c():this.loadDropDown(c);return b},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var c=this.dropDown,d=c.domNode,e=this._aroundNode||this.domNode,f=this,h=s.open({parent:this,popup:c,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){f.closeDropDown(!0)},onCancel:function(){f.closeDropDown(!0)},onClose:function(){k.set(f._popupStateNode,"popupActive",
!1);g.remove(f._popupStateNode,"dijitHasDropDownOpen");f._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>c._popupWrapper.offsetWidth){var e=e.offsetWidth-c._popupWrapper.offsetWidth,l={w:c.domNode.offsetWidth+e};a.isFunction(c.resize)?c.resize(l):b.setMarginBox(d,l);"R"==h.corner[1]&&(c._popupWrapper.style.left=c._popupWrapper.style.left.replace("px","")-e+"px")}k.set(this._popupStateNode,"popupActive","true");g.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",
!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",c.id);"presentation"===d.getAttribute("role")||d.getAttribute("aria-labelledby")||d.setAttribute("aria-labelledby",this.id);return h},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),s.close(this.dropDown),this._opened=!1)}})})},
"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(m,n,l,k){if(n._fixEvent){var g=n._fixEvent;n._fixEvent=function(b,e){(b=g(b,e))&&k.normalizeEvent(b);return b}}var b={fix:function(b,e){return n._fixEvent?n._fixEvent(b,e):b},stop:function(b){l("dom-addeventlistener")||b&&b.preventDefault?(b.preventDefault(),b.stopPropagation()):(b=b||window.event,b.cancelBubble=!0,n._preventDefault.call(b))}};m.fixEvent=b.fix;m.stopEvent=b.stop;return b})},"tm1web/mobile/on/doubletap":function(){define(["dojo/_base/declare",
"dojo/on","../sniff","./_Tap"],function(m,n,l,k){return new (m(k,{defaultEvent:"doubletap",doubleTapTimeout:500,_overriddenEvent:"tap.doubletap",_handle:function(g){return l("mobile-device")?this.inherited(arguments):function(b,g){var e=arguments;2<e.length&&(b=e[1],g=e[2]);return n(b,"dblclick",g)}}}))})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(m,n,l,k,g,b,h,e){m.byId=n.byId;m.isDescendant=
n.isDescendant;m.setSelectable=n.setSelectable;m.getAttr=k.get;m.setAttr=k.set;m.hasAttr=k.has;m.removeAttr=k.remove;m.getNodeProp=k.getNodeProp;m.attr=function(b,a,d){return 2==arguments.length?k["string"==typeof a?"get":"set"](b,a):k.set(b,a,d)};m.hasClass=b.contains;m.addClass=b.add;m.removeClass=b.remove;m.toggleClass=b.toggle;m.replaceClass=b.replace;m._toDom=m.toDom=h.toDom;m.place=h.place;m.create=h.create;m.empty=function(b){h.empty(b)};m._destroyElement=m.destroy=function(b){h.destroy(b)};
m._getPadExtents=m.getPadExtents=e.getPadExtents;m._getBorderExtents=m.getBorderExtents=e.getBorderExtents;m._getPadBorderExtents=m.getPadBorderExtents=e.getPadBorderExtents;m._getMarginExtents=m.getMarginExtents=e.getMarginExtents;m._getMarginSize=m.getMarginSize=e.getMarginSize;m._getMarginBox=m.getMarginBox=e.getMarginBox;m.setMarginBox=e.setMarginBox;m._getContentBox=m.getContentBox=e.getContentBox;m.setContentSize=e.setContentSize;m._isBodyLtr=m.isBodyLtr=e.isBodyLtr;m._docScroll=m.docScroll=
e.docScroll;m._getIeDocumentElementOffset=m.getIeDocumentElementOffset=e.getIeDocumentElementOffset;m._fixIeBiDiScrollLeft=m.fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft;m.position=e.position;m.marginBox=function(b,a){return a?e.setMarginBox(b,a):e.getMarginBox(b)};m.contentBox=function(b,a){return a?e.setContentSize(b,a):e.getContentBox(b)};m.coords=function(b,a){m.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");b=n.byId(b);var d=l.getComputedStyle(b),d=e.getMarginBox(b,d),c=
e.position(b,a);d.x=c.x;d.y=c.y;return d};m.getProp=g.get;m.setProp=g.set;m.prop=function(b,a,d){return 2==arguments.length?g["string"==typeof a?"get":"set"](b,a):g.set(b,a,d)};m.getStyle=l.get;m.setStyle=l.set;m.getComputedStyle=l.getComputedStyle;m.__toPixelValue=m.toPixelValue=l.toPixelValue;m.style=function(b,a,d){switch(arguments.length){case 1:return l.get(b);case 2:return l["string"==typeof a?"get":"set"](b,a)}return l.set(b,a,d)};return m})},"dojo/_base/kernel":function(){define(["../has",
"./config","require","module"],function(m,n,l,k){var g,b=function(){return this}(),h={},e={},f={config:n,global:b,dijit:h,dojox:e},h={dojo:["dojo",f],dijit:["dijit",h],dojox:["dojox",e]};k=l.map&&l.map[k.id.match(/[^\/]+/)[0]]||l.packs&&l.packs[k.id.match(/[^\/]+/)[0]].packageMap;for(g in k)h[g]?h[g][0]=k[g]:h[g]=[k[g],{}];for(g in h)k=h[g],k[1]._scopeName=k[0],n.noGlobals||(b[k[0]]=k[1]);f.scopeMap=h;f.baseUrl=f.config.baseUrl=l.baseUrl;f.isAsync=!m("dojo-loader")||l.async;f.locale=n.locale;m="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);
f.version={major:1,minor:10,patch:2,flag:"",revision:m?m[0]:NaN,toString:function(){var a=f.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};"undefined"!=typeof console||(console={});n="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var a;for(m=0;a=n[m++];)console[a]||function(){var b=
a+"";console[b]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(b+":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();f.deprecated=f.experimental=function(){};f._hasResource={};return f})},"tm1web/subseteditor/dndSelector":function(){define(["dojo/_base/declare","dijit/tree/_dndSelector","../mobile/sniff","../mobile/_ScrollDeltaMixin","./_dndMixin"],function(m,n,l,k,g){return m([n,g,k],{singular:!0,onClickPress:function(b){this.current&&this.current.isExpandable&&
this.tree.isExpandoNode(b.target,this.current)||(l("mobile-device")&&this.singular?(this._doSelect=!0,this._onTouchStart(b)):this.inherited(arguments))},onMouseMove:function(b){this._doSelect&&this._onTouchMove(b);this.inherited(arguments)},onClickRelease:function(b){this._doSelect&&(this._doDeselect=!0,this._doSelect=!1,this._onTouchEnd(b));this.inherited(arguments)},_handleTouchMove:function(b,g){if(5<Math.abs(b)||5<Math.abs(g))this._doSelect=!1}})})},"dijit/tree/dndSource":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/common dojo/dom-class dojo/dom-geometry dojo/_base/lang dojo/on dojo/touch dojo/topic dojo/dnd/Manager ./_dndSelector".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d){return n("dijit.tree.dndSource",d,{isSource:!0,accept:["text","treeNode"],copyOnly:!1,dragThreshold:5,betweenThreshold:0,generateText:!0,constructor:function(a,d){d||(d={});b.mixin(this,d);var e=d.accept instanceof Array?d.accept:["text","treeNode"];this.accept=null;if(e.length){this.accept={};for(var g=0;g<e.length;++g)this.accept[e[g]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.dropPosition="";this._lastY=this._lastX=0;this.sourceState=
"";this.isSource&&k.add(this.node,"dojoDndSource");this.targetState="";this.accept&&k.add(this.node,"dojoDndTarget");this.topics=[f.subscribe("/dnd/source/over",b.hitch(this,"onDndSourceOver")),f.subscribe("/dnd/start",b.hitch(this,"onDndStart")),f.subscribe("/dnd/drop",b.hitch(this,"onDndDrop")),f.subscribe("/dnd/cancel",b.hitch(this,"onDndCancel"))]},checkAcceptance:function(){return!0},copyState:function(a){return this.copyOnly||a},destroy:function(){this.inherited(arguments);for(var a;a=this.topics.pop();)a.remove();
this.targetAnchor=null},_onDragMouse:function(b,d){var e=a.manager(),f=this.targetAnchor,h=this.current,k=this.dropPosition,l="Over";h&&0<this.betweenThreshold&&(this.targetBox&&f==h||(this.targetBox=g.position(h.rowNode,!0)),b.pageY-this.targetBox.y<=this.betweenThreshold?l="Before":b.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(l="After"));if(d||h!=f||l!=k){f&&this._removeItemClass(f.rowNode,k);h&&this._addItemClass(h.rowNode,l);if(h)if(h==this.tree.rootNode&&"Over"!=l)e.canDrop(!1);
else{k=f=!1;if(e.source==this){var k="Over"===l,m;for(m in this.selection){var n=this.selection[m];if(n.item===h.item){f=!0;break}n.getParent().id!==h.id&&(k=!1)}}e.canDrop(!f&&!k&&!this._isParentChildDrop(e.source,h.rowNode)&&this.checkItemAcceptance(h.rowNode,e.source,l.toLowerCase()))}else e.canDrop(!1);this.targetAnchor=h;this.dropPosition=l}},onMouseMove:function(b){if(!this.isDragging||"Disabled"!=this.targetState){this.inherited(arguments);var d=a.manager();if(this.isDragging)this._onDragMouse(b);
else if(this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>=this.dragThreshold||Math.abs(b.pageY-this._lastY)>=this.dragThreshold)){var e=this.getSelectedTreeNodes();if(e.length){if(1<e.length){var f=this.selection,g=0,h=[],k,n;a:for(;k=e[g++];){for(n=k.getParent();n&&n!==this.tree;n=n.getParent())if(f[n.id])continue a;h.push(k)}e=h}e=m.map(e,function(a){return a.domNode});d.startDrag(this,e,this.copyState(l.getCopyKeyState(b)));this._onDragMouse(b,!0)}}}},onMouseDown:function(a){this.mouseDown=
!0;this.mouseButton=a.button;this._lastX=a.pageX;this._lastY=a.pageY;this.inherited(arguments)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,this.inherited(arguments))},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor()},checkItemAcceptance:function(){return!0},onDndSourceOver:function(b){this!=b?(this.mouseDown=!1,this._unmarkTargetAnchor()):this.isDragging&&a.manager().canDrop(!1)},onDndStart:function(b,d,e){this.isSource&&this._changeState("Source",this==b?e?
"Copied":"Moved":"");d=this.checkAcceptance(b,d);this._changeState("Target",d?"":"Disabled");this==b&&a.manager().overSource(this);this.isDragging=!0},itemCreator:function(a){return m.map(a,function(a){return{id:a.id,name:a.textContent||a.innerText||""}})},onDndDrop:function(a,b,d){if("Over"==this.containerState){var e=this.tree,f=e.model,g=this.targetAnchor;this.isDragging=!1;var h,k,l;h=g&&g.item||e.item;"Before"==this.dropPosition||"After"==this.dropPosition?(h=g.getParent()&&g.getParent().item||
e.item,k=g.getIndexInParent(),"After"==this.dropPosition?(k=g.getIndexInParent()+1,l=g.getNextSibling()&&g.getNextSibling().item):l=g.item):h=g&&g.item||e.item;var n;m.forEach(b,function(e,s){var z=a.getItem(e.id);if(-1!=m.indexOf(z.type,"treeNode"))var B=z.data,E=B.item,F=B.getParent().item;a==this?("number"==typeof k&&h==F&&B.getIndexInParent()<k&&--k,f.pasteItem(E,F,h,d,k,l)):f.isItem(E)?f.pasteItem(E,F,h,d,k,l):(n||(n=this.itemCreator(b,g.rowNode,a)),f.newItem(n[s],h,k,l))},this);this.tree._expandNode(g)}this.onDndCancel()},
onDndCancel:function(){this._unmarkTargetAnchor();this.mouseDown=this.isDragging=!1;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","")},onOverEvent:function(){this.inherited(arguments);a.manager().overSource(this)},onOutEvent:function(){this._unmarkTargetAnchor();var b=a.manager();this.isDragging&&b.canDrop(!1);b.outSource(this);this.inherited(arguments)},_isParentChildDrop:function(a,b){if(!a.tree||a.tree!=this.tree)return!1;for(var d=a.tree.domNode,e=a.selection,
f=b.parentNode;f!=d&&!e[f.id];)f=f.parentNode;return f.id&&e[f.id]},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition),this.dropPosition=this.targetBox=this.targetAnchor=null)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")}})})},"tm1web/workbook/celledit/_CellDropDownMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/dom-class dojo/dom dojo/keys dojo/on dijit/focus ./_EditMixin".split(" "),
function(m,n,l,k,g,b,h,e,f){return m("tm1web.workbook.celledit._CellDropDownMixin",[f],{hasDropDown:!0,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"tm1webCellDropDown");this.domNode.style.display="none";this.own(h(this.domNode,"mousedown",n.hitch(this,"_onMouseDown")))},show:function(a){var b=!!a.openDropDown,c=b&&a.focusDropDown;this.inherited(arguments);b&&(this.loadAndOpenDropDown(),c&&this._openAndHighlightDropDown())},_onMouseDown:function(a){a.stopPropagation()},_show:function(a){var b=
!!a.openDropDown;k.toggle(this.domNode,"tm1webCellDropDownClosed",!b);k.toggle(this.domNode,"tm1webCellDropDownOpen",b);this._openDropDown=b;this.inherited(arguments);this._openDropDown=!1;b&&(this._hasDropDownOpened=!0)},_shouldLeftAlignButton:function(){return this._activeCell.offsetParent.offsetWidth<=this._activeCell.offsetLeft+this._activeCell.offsetWidth+this._buttonNode.offsetWidth},_adjustPosition:function(){k.toggle(this._buttonNode,"tm1webCellDropDownButtonNodeLeft",this._shouldLeftAlignButton());
this.inherited(arguments);var a=l.getPadBorderExtents(this.domNode).h;l.setMarginBox(this._buttonNode,{h:this._activeCell.offsetHeight-a})},_calculateWidth:function(){if(this._openDropDown){var a=l.getPadBorderExtents(this.domNode).w;return this._activeCell.offsetWidth+this._buttonNode.offsetWidth+a-1}},_calculateOffsetLeft:function(){var a=this._activeCell,b=this.inherited(arguments);return k.contains(this._buttonNode,"tm1webCellDropDownButtonNodeLeft")?(a=l.getPadBorderExtents(this.domNode).w,b-
this._buttonNode.offsetWidth-a):b+(this._openDropDown?0:a.offsetWidth-1)},onInput:function(a){switch(a.charOrCode){case b.DOWN_ARROW:if(a.altKey)return this._openAndHighlightDropDown(),this._keyNavigationDisabled=!0,!1;case b.UP_ARROW:case b.LEFT_ARROW:case b.RIGHT_ARROW:if(this._allowKeyNavigation&&!this._keyNavigationDisabled){var d=this._activeCell;this.hide();h.emit(d,"keydown",n.mixin({},a));return!1}break;case b.ESCAPE:if(this._opened)return this._keyNavigationDisabled=!1,this.closeDropDown(),
!1}return this.inherited(arguments)},_openAndHighlightDropDown:function(){},hasOpened:function(){return this._hasDropDownOpened},hide:function(){this._visible&&(this.inherited(arguments),this._hasDropDownOpened=!1,this.closeDropDown())},_restoreFocus:function(){var a=document.activeElement;!this.dropDown||a&&!g.isDescendant(a,this.dropDown.domNode)?this.inherited(arguments):(e.focus(this._savedFocusedNode),this._savedFocusedNode=null)},toggleDropDown:function(){this._hasDropDownOpened?this._opened&&
(this._keyNavigationDisabled=!1):this._show({openDropDown:!0});this.inherited(arguments)},_analyzeValue:function(){},_isPercentCell:function(){return!1}})})},"tm1web/utility/throttle":function(){define(function(){return function(m,n,l){l=l||{};var k=0,g=null,b=null,h=null,e=function(){k=Date.now();var e=h,a=b;h=b=g=null;m.apply(e,a)};return function(){b=arguments;h=this;if(!g){var f=n-(Date.now()-k);l.leading&&0>=f?e():g=setTimeout(e,n)}}}})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr"],function(m,n){return m("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(l){this._set("readOnly",l);n.set(this.focusNode,"readOnly",l)},_setLabelAttr:void 0,_getSubmitValue:function(l){return null==l||""===l?"on":l},_setValueAttr:function(l){l=this._getSubmitValue(l);this._set("value",l);n.set(this.focusNode,"value",l)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));
n.set(this.focusNode,"value",this.value)},_onClick:function(l){return this.readOnly?(l.stopPropagation(),l.preventDefault(),!1):this.inherited(arguments)}})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(m,n,l,k,g,b,h){var e=0,f={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:b.empty,_setNodeContent:function(a,d){b.empty(a);if(d)if("string"==
typeof d&&(d=b.toDom(d,a.ownerDocument)),!d.nodeType&&n.isArrayLike(d))for(var c=d.length,e=0;e<d.length;e=c==d.length?e+1:0)b.place(d[e],a,"last");else b.place(d,a,"last");return a},_ContentSetter:k("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:m._scopeName,startup:!0,constructor:function(a,b){n.mixin(this,a||{});b=this.node=g.byId(this.node||b);this.id||(this.id=["Setter",b?b.id||b.tagName:"",e++].join("_"))},set:function(a,
b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=f._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||
this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(l.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);b.empty(this.node)},onBegin:function(){var a=this.content;if(n.isString(a)&&(this.cleanContent&&(a=f._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();
return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};l.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=h.parse({rootNode:a,
noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&f._setNodeContent(this.node,a,!0)}}),set:function(a,b,c){void 0==b&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),b="");return c?
(new f._ContentSetter(n.mixin(c,{content:b,node:a}))).set():f._setNodeContent(a,b,!0)}};return m.html=f})},"tm1web/planning/TM1CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./TM1MenuItem"],function(m,n,l,k){return m(k,{constructor:function(g,b,h){this.Checked=!1;this._CheckedIcon=null},postCreate:function(){this.inherited(arguments);n.add(this.iconNode,"tm1webMenuItemInlineBlock");this._CreateCheckMarkPlaceHolder()},_CreateCheckMarkPlaceHolder:function(){this._CheckedIcon=
document.createElement("div");l.place(this._CheckedIcon,this.iconNode,"before");n.add(this._CheckedIcon,"tm1webMenuItemInlineBlock")},onClick:function(g){this.inherited(arguments);this.SetChecked(!this.Checked)},SetChecked:function(g){this.Checked=g;n.toggle(this._CheckedIcon,"tm1webCheckMarkIcon",g)}})})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(m,n){function l(c,e,f){e=e.toLowerCase();if(m("ie")||m("trident")){if("auto"==f){if("height"==e)return c.offsetHeight;if("width"==
e)return c.offsetWidth}if("fontweight"==e)switch(f){case 700:return"bold";default:return"normal"}}e in a||(a[e]=d.test(e));return a[e]?b(c,f):f}var k,g={};k=m("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=c.getComputedStyle(a,null))}return b||{}}:m("ie")&&(9>m("ie")||m("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}};g.getComputedStyle=k;var b;b=m("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,e=c.left,f=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(g){b=0}c.left=e;d.left=f;return b}:function(a,b){return parseFloat(b)||0};g.toPixelValue=b;var h=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},e=9>m("ie")||10>m("ie")&&m("quirks")?function(a){try{return h(a).Opacity/
100}catch(b){return 1}}:function(a){return k(a).opacity},f=9>m("ie")||10>m("ie")&&m("quirks")?function(a,b){""===b&&(b=1);var c=100*b;1===b?(a.style.zoom="",h(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,h(a)?h(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",h(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&f(c,
b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,c={cssFloat:1,styleFloat:1,"float":1};g.get=function(a,b){var d=n.byId(a),f=arguments.length;if(2==f&&"opacity"==b)return e(d);b=c[b]?"cssFloat"in d.style?"cssFloat":"styleFloat":b;var h=g.getComputedStyle(d);return 1==f?h:l(d,b,h[b]||d.style[b])};g.set=function(a,b,d){var e=n.byId(a),h=arguments.length,k="opacity"==b;b=c[b]?"cssFloat"in e.style?"cssFloat":"styleFloat":b;if(3==h)return k?
f(e,d):e.style[b]=d;for(var l in b)g.set(a,l,b[l]);return g.getComputedStyle(e)};return g})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(m,n,l,k){return m("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(g){var b=this._attrPairNames;return b[g]?b[g]:b[g]={s:"_"+g+"Setter",g:"_"+g+"Getter"}},postscript:function(g){g&&this.set(g)},_get:function(g,b){return"function"===typeof this[b.g]?this[b.g]():this[g]},get:function(g){return this._get(g,
this._getAttrNames(g))},set:function(g,b){if("object"===typeof g){for(var h in g)g.hasOwnProperty(h)&&"_watchCallbacks"!=h&&this.set(h,g[h]);return this}h=this._getAttrNames(g);var e=this._get(g,h);h=this[h.s];var f;"function"===typeof h?f=h.apply(this,Array.prototype.slice.call(arguments,1)):this[g]=b;if(this._watchCallbacks){var a=this;k(f,function(){a._watchCallbacks(g,e,b)})}return this},_changeAttrValue:function(g,b){var h=this.get(g);this[g]=b;this._watchCallbacks&&this._watchCallbacks(g,h,
b);return this},watch:function(g,b){var h=this._watchCallbacks;if(!h)var e=this,h=this._watchCallbacks=function(a,b,f,g){var k=function(g){if(g){g=g.slice();for(var h=0,k=g.length;h<k;h++)g[h].call(e,a,b,f)}};k(h["_"+a]);g||k(h["*"])};b||"function"!==typeof g?g="_"+g:(b=g,g="*");var f=h[g];"object"!==typeof f&&(f=h[g]=[]);f.push(b);var a={};a.unwatch=a.remove=function(){var a=l.indexOf(f,b);-1<a&&f.splice(a,1)};return a}})})},"dojox/layout/ToggleSplitter":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/event dojo/keys dojo/dom-class dojo/dom-style dijit/layout/BorderContainer dijit/_Widget".split(" "),
function(m,n,l,k,g,b,h,e,f,a){n.experimental("dojox.layout.ToggleSplitter");m=m("dojox.layout.ToggleSplitter",f._Splitter,{container:null,child:null,region:null,state:"full",_closedSize:"0",baseClass:"dojoxToggleSplitter",templateString:'\x3cdiv class\x3d"dijitSplitter dojoxToggleSplitter" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse"\x3e\x3cdiv dojoAttachPoint\x3d"toggleNode" class\x3d"dijitSplitterThumb dojoxToggleSplitterIcon" tabIndex\x3d"0" role\x3d"separator" dojoAttachEvent\x3d"onmousedown:_onToggleNodeMouseDown,onclick:_toggle,onmouseenter:_onToggleNodeMouseMove,onmouseleave:_onToggleNodeMouseMove,onfocus:_onToggleNodeMouseMove,onblur:_onToggleNodeMouseMove"\x3e\x3cspan class\x3d"dojoxToggleSplitterA11y" dojoAttachPoint\x3d"a11yText"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
postCreate:function(){this.inherited(arguments);var a=this.region;h.add(this.domNode,this.baseClass+a.charAt(0).toUpperCase()+a.substring(1))},startup:function(){this.inherited(arguments);var a=this.child.domNode,b=e.set(a,this.horizontal?"height":"width");this.domNode.setAttribute("aria-controls",a.id);k.forEach(["toggleSplitterState","toggleSplitterFullSize","toggleSplitterCollapsedSize"],function(a){var b=a.substring(14),b=b.charAt(0).toLowerCase()+b.substring(1);a in this.child&&(this[b]=this.child[a])},
this);this.fullSize||(this.fullSize="full"==this.state?b+"px":"75px");this._openStyleProps=this._getStyleProps(a,"full");this._started=!0;this.set("state",this.state);return this},_onKeyPress:function(a){"full"==this.state&&this.inherited(arguments);if(a.charCode==b.SPACE||a.keyCode==b.ENTER)this._toggle(a),g.stop(a)},_onToggleNodeMouseDown:function(a){g.stop(a);this.toggleNode.focus()},_startDrag:function(a){"full"==this.state&&this.inherited(arguments)},_stopDrag:function(a){this.inherited(arguments);
this.toggleNode.blur()},_toggle:function(a){switch(this.state){case "full":a=this.collapsedSize?"collapsed":"closed";break;case "collapsed":a="closed";break;default:a="full"}this.set("state",a)},_onToggleNodeMouseMove:function(a){var b=this.baseClass,e=this.toggleNode,f="full"==this.state||"collapsed"==this.state;a="mouseout"==a.type||"blur"==a.type;h.toggle(e,b+"IconOpen",a&&f);h.toggle(e,b+"IconOpenHover",!a&&f);h.toggle(e,b+"IconClosed",a&&!f);h.toggle(e,b+"IconClosedHover",!a&&!f)},_handleOnChange:function(a){a=
this.child.domNode;var b,f,g=this.horizontal?"height":"width";"full"==this.state?(f=l.mixin({display:"block",overflow:"auto",visibility:"visible"},this._openStyleProps),f[g]=this._openStyleProps&&this._openStyleProps[g]?this._openStyleProps[g]:this.fullSize,e.set(this.domNode,"cursor",""),e.set(a,f)):"collapsed"==this.state?(f=e.getComputedStyle(a),this._openStyleProps=b=this._getStyleProps(a,"full",f),e.set(this.domNode,"cursor","auto"),e.set(a,g,this.collapsedSize)):(this.collapsedSize||(f=e.getComputedStyle(a),
this._openStyleProps=b=this._getStyleProps(a,"full",f)),f=this._getStyleProps(a,"closed",f),e.set(this.domNode,"cursor","auto"),e.set(a,f));this._setStateClass();this.container._started&&this.container._layoutChildren(this.region)},_getStyleProps:function(a,b,f){f||(f=e.getComputedStyle(a));var g={},h=this.horizontal?"height":"width";g.overflow="closed"!=b?f.overflow:"hidden";g.visibility="closed"!=b?f.visibility:"hidden";g[h]="closed"!=b?a.style[h]||f[h]:this._closedSize;var l=["Top","Right","Bottom",
"Left"];k.forEach(["padding","margin","border"],function(a){for(var d=0;d<l.length;d++){var e=a+l[d];"border"==a&&(e+="Width");void 0!==f[e]&&(g[e]="closed"!=b?f[e]:0)}});return g},_setStateClass:function(){var a="\x26#9652",b=this.region.toLowerCase(),e=this.baseClass,f=this.toggleNode,g="full"==this.state||"collapsed"==this.state,k=this.focused;h.toggle(f,e+"IconOpen",g&&!k);h.toggle(f,e+"IconClosed",!g&&!k);h.toggle(f,e+"IconOpenHover",g&&k);h.toggle(f,e+"IconClosedHover",!g&&k);if("top"==b&&g||
"bottom"==b&&!g)a="\x26#9650";else if("top"==b&&!g||"bottom"==b&&g)a="\x26#9660";else if("right"==b&&g||"left"==b&&!g)a="\x26#9654";else if("right"==b&&!g||"left"==b&&g)a="\x26#9664";this.a11yText.innerHTML=a},_setStateAttr:function(a){if(this._started){var b=this.state;this.state=a;this._handleOnChange(b);switch(a){case "full":this.domNode.setAttribute("aria-expanded",!0);a="onOpen";break;case "collapsed":this.domNode.setAttribute("aria-expanded",!0);a="onCollapsed";break;default:this.domNode.setAttribute("aria-expanded",
!1),a="onClosed"}this[a](this.child)}},onOpen:function(a){},onCollapsed:function(a){},onClosed:function(a){}});l.extend(a,{toggleSplitterState:"full",toggleSplitterFullSize:"",toggleSplitterCollapsedSize:""});return m})},"dojox/gesture/tap":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","./Base","../main"],function(m,n,l,k,g){m.experimental("dojox.gesture.tap");m=n(k,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,
press:function(b,g){if(g.touches&&2<=g.touches.length)clearTimeout(b.tapTimeOut),delete b.context;else{var e=g.target;this._initTap(b,g);b.tapTimeOut=setTimeout(l.hitch(this,function(){this._isTap(b,g)&&this.fire(e,{type:"tap.hold"});delete b.context}),this.holdThreshold)}},release:function(b,g){if(b.context&&this._isTap(b,g))switch(b.context.c){case 1:this.fire(g.target,{type:"tap"});break;case 2:this.fire(g.target,{type:"tap.doubletap"})}clearTimeout(b.tapTimeOut)},_initTap:function(b,g){b.context||
(b.context={x:0,y:0,t:0,c:0});var e=(new Date).getTime();e-b.context.t<=this.doubleTapTimeout?b.context.c++:(b.context.c=1,b.context.x=g.screenX,b.context.y=g.screenY);b.context.t=e},_isTap:function(b,g){var e=Math.abs(b.context.x-g.screenX),f=Math.abs(b.context.y-g.screenY);return e<=this.tapRadius&&f<=this.tapRadius}});g.gesture.tap=new m;g.gesture.tap.Tap=m;return g.gesture.tap})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(m,n){var l=document.createElement("div"),
k=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,g=l.querySelectorAll,b=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;m.add("dom-matches-selector",!!k);m.add("dom-qsa",!!g);var h=function(b,c){if(a&&-1<b.indexOf(","))return a(b,c);var k=c?c.ownerDocument||c:n.doc||document,l=(g?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(b);c=c||k;if(l){if(l[2]){var m=n.byId?n.byId(l[2],
k):k.getElementById(l[2]);if(!m||l[1]&&l[1]!=m.tagName.toLowerCase())return[];if(c!=k)for(k=m;k!=c;)if(k=k.parentNode,!k)return[];return l[3]?h(l[3],m):[m]}if(l[3]&&c.getElementsByClassName)return c.getElementsByClassName(l[4]);if(l[5])if(m=c.getElementsByTagName(l[5]),l[4]||l[6])b=(l[4]||"")+l[6];else return m}if(g)return 1===c.nodeType&&"object"!==c.nodeName.toLowerCase()?e(c,b,c.querySelectorAll):c.querySelectorAll(b);m||(m=c.getElementsByTagName("*"));for(var l=[],k=0,r=m.length;k<r;k++){var t=
m[k];1==t.nodeType&&f(t,b,c)&&l.push(t)}return l},e=function(a,c,e){var f=a,g=a.getAttribute("id"),h=g||"__dojo__",k=a.parentNode,l=/^\s*[+~]/.test(c);if(l&&!k)return[];g?h=h.replace(/'/g,"\\$\x26"):a.setAttribute("id",h);l&&k&&(a=a.parentNode);c=c.match(b);for(k=0;k<c.length;k++)c[k]="[id\x3d'"+h+"'] "+c[k];c=c.join(",");try{return e.call(a,c)}finally{g||f.removeAttribute("id")}};if(!m("dom-matches-selector"))var f=function(){function a(b,c,d){var e=c.charAt(0);if('"'==e||"'"==e)c=c.slice(1,-1);
c=c.replace(/\\/g,"");var f=k[d||""];return function(a){return(a=a.getAttribute(b))&&f(a,c)}}function b(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function e(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==c}}function f(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var g="div"==l.tagName?"toLowerCase":"toUpperCase",h={"":function(a){a=a[g]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&
-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},k={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},m={};return function(g,k,l){var n=m[k];if(!n){if(k.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,
function(g,k,l,m,t,s,u){m?n=f(n,h[l||""](m.replace(/\\/g,""))):k?n=(" "==k?b:e)(n):t&&(n=f(n,a(t,u,s)));return""}))throw Error("Syntax error in query");if(!n)return!0;m[k]=n}return n(g,l)}}();if(!m("dom-qsa"))var a=function(a,c){for(var e=a.match(b),f=[],g=0;g<e.length;g++){a=new String(e[g].replace(/\s*$/,""));a.indexOf=escape;for(var k=h(a,c),l=0,m=k.length;l<m;l++){var n=k[l];f[n.sourceIndex]=n}}e=[];for(g in f)e.push(f[g]);return e};h.match=k?function(a,b,f){return f&&9!=f.nodeType?e(f,b,function(b){return k.call(a,
b)}):k.call(a,b)}:f;return h})},"tm1web/workbook/controls/OptionButton":function(){define(["dojo/_base/declare","./_CheckableControl","../../utility/message-localizer","../../widgets/AlertDialog"],function(m,n,l,k){return m("tm1web.workbook.control.OptionButton",n,{_type:"radio",group:"",_setGroupAttr:function(g){this._inputNode.name=g;this._set("group",g)},_setCheckedAttr:function(g){this._inputNode.checked=g;this._set("checked",g)},update:function(g){this.inherited(arguments);this.set("checked",
g.checked)},_setChecked:function(){var g=this._inputNode;return g.checked?!1:g.checked=!0},_onChange:function(g){g=this._inputNode.checked;this.set("checked",g);g&&this.model.setOptionButtonChecked(this.controlId).otherwise(function(b){k.show({message:l.get("SRV_ERR_STR")})})}})})},"tm1web/widgets/_MaximizeableDialogMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/window","dojo/on"],function(m,n,l,k){return m(null,{buildRendering:function(){this.inherited(arguments);this._connects.push(k(this.titleBar,
"dblclick",n.hitch(this,"maximize")))},maximize:function(){this.resize(l.getBox())}})})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(m,n,l,k,g,b,h,e){n=n("dijit.layout.LayoutContainer",h,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(m.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},
_setupChild:function(b){this.inherited(arguments);b.region&&l.add(b.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var b=m.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);b.sort(function(a,b){for(var c=a.weight,e=b.weight,f=0;f<c.length;f++)if(c[f]!=e[f])return c[f]-e[f];return 0});return m.map(b,function(a){return a.pane})},layout:function(){e.layoutChildren(this.domNode,
this._contentBox,this._getOrderedChildren())},addChild:function(b,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(b){this.inherited(arguments);this._started&&this.layout();l.remove(b.domNode,this.baseClass+"Pane");k.set(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});k.set(b.domNode,/top|bottom/.test(b.region)?"width":"height","auto")}});n.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};g.extend(b,n.ChildWidgetProperties);
return n})},"dojo/dnd/autoscroll":function(){define("../_base/kernel ../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(m,n,l,k,g,b,h){var e={};n.setObject("dnd.autoscroll",e,m);e.getViewport=h.getBox;e.V_TRIGGER_AUTOSCROLL=32;e.H_TRIGGER_AUTOSCROLL=32;e.V_AUTOSCROLL_VALUE=16;e.H_AUTOSCROLL_VALUE=16;var f,a=k.doc,d=Infinity,c=Infinity;e.autoScrollStart=function(b){a=b;f=h.getBox(a);b=k.body(a).parentNode;d=Math.max(b.scrollHeight-f.h,0);c=Math.max(b.scrollWidth-
f.w,0)};e.autoScroll=function(b){var g=f||h.getBox(a),l=k.body(a).parentNode,m=0,n=0;b.clientX<e.H_TRIGGER_AUTOSCROLL?m=-e.H_AUTOSCROLL_VALUE:b.clientX>g.w-e.H_TRIGGER_AUTOSCROLL&&(m=Math.min(e.H_AUTOSCROLL_VALUE,c-l.scrollLeft));b.clientY<e.V_TRIGGER_AUTOSCROLL?n=-e.V_AUTOSCROLL_VALUE:b.clientY>g.h-e.V_TRIGGER_AUTOSCROLL&&(n=Math.min(e.V_AUTOSCROLL_VALUE,d-l.scrollTop));window.scrollBy(m,n)};e._validNodes={div:1,p:1,td:1};e._validOverflow={auto:1,scroll:1};e.autoScrollNodes=function(a){for(var c,
d,f,h,m,n,w=0,v=0,y=a.target;y;){if(1==y.nodeType&&y.tagName.toLowerCase()in e._validNodes){f=b.getComputedStyle(y);h=f.overflow.toLowerCase()in e._validOverflow;m=f.overflowX.toLowerCase()in e._validOverflow;n=f.overflowY.toLowerCase()in e._validOverflow;if(h||m||n)c=g.getContentBox(y,f),d=g.position(y,!0);if(h||m){f=Math.min(e.H_TRIGGER_AUTOSCROLL,c.w/2);m=a.pageX-d.x;if(l("webkit")||l("opera"))m+=k.body().scrollLeft;w=0;0<m&&m<c.w&&(m<f?w=-f:m>c.w-f&&(w=f),y.scrollLeft+=w)}if(h||n){h=Math.min(e.V_TRIGGER_AUTOSCROLL,
c.h/2);n=a.pageY-d.y;if(l("webkit")||l("opera"))n+=k.body().scrollTop;v=0;0<n&&n<c.h&&(n<h?v=-h:n>c.h-h&&(v=h),y.scrollTop+=v)}if(w||v)return}try{y=y.parentNode}catch(A){y=null}}e.autoScroll(a)};return e})},"tm1web/planning/TM1MenuItem":function(){define(["dojo/_base/declare","dijit/MenuItem","./PlanningBase"],function(m,n,l){return m([n,l],{constructor:function(k,g,b){this.Data=b;this.checked=!1},onClick:function(k){this.inherited(arguments);this.OnItemClick(this)},OnItemClick:function(k){},Disable:function(k){this.setDisabled(k)}})})},
"tm1web/grid/selection/BottomSelectionOverlay":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/dom-style ../../utility/dom ./SelectionOverlayWidget".split(" "),function(m,n,l,k,g,b){return m(b,{constructor:function(b){this.inherited(arguments)},buildRendering:function(){this.inherited(arguments)},setPosition:function(b,e){this._setStyle(e.left,e.top+e.height,e.width,b.height-(e.top-b.top+e.height))}})})},"tm1web/share/BrowseAnnotationsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/data/ItemFileReadStore dojo/date/stamp dojox/grid/DataGrid dijit/Dialog dijit/form/Button ../utility/message-localizer ../widgets/AlertDialog ./Base ./service-loader!TM1PlanningService".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q){return m(p,{constructor:function(a,b,c,d){this._objectId=a;this._cell=b;this._dataGrid=c;this._service=d;this._gridContainer=this._grid=this._dialog=null;this._initializeAddAnnoationDialog()},_initializeAddAnnoationDialog:function(){this._dialog=new f({title:d.get("BROWSE_COMMENTS_TITLE_STR")});k.add(this._dialog.domNode,"tm1WebBrowseAnnotationsDialog");this._addContent();this._addEvents()},_addContent:function(){this._gridContainer=g.create("div",{className:"tm1WebAnotationGridContainer"});
g.place(this._gridContainer,this._dialog.containerNode);this._addButtons()},_addButtons:function(){var a=document.createElement("div");g.place(a,this._dialog.containerNode);k.add(a,"tm1webDialogButtons");this._createButton(d.get("CANCEL_STR"),a,this.close)},_createButton:function(b,c,d){b=new a({label:b,onClick:n.hitch(this,d)});k.add(b.domNode,"tm1webButton");g.place(b.domNode,c);return b},_addEvents:function(){this.own(l.after(this._dialog,"onHide",n.hitch(this,"destroy")))},show:function(){var a=
this._cell.cellInfo;window.appId&&window.nodeId?q.getCellAnnotations(appId,nodeId,nodeViewIndex,this._objectId,a.rowIndex,a.colIndex,{callback:this._onGetAnnotations,scope:this}):this._dataGrid.model?this._dataGrid.model.getCellAnnotations(a.rowIndex,a.colIndex).then(n.hitch(this,this._onGetAnnotations)).otherwise(function(a){c.show({message:d.get("SRV_ERR_STR")})}):this._service.getCellAnnotations(this._objectId,a.rowIndex,a.colIndex,{callback:this._onGetAnnotations,scope:this})},_onGetAnnotations:function(a){this._grid=
this._createDataGrid(a);this._dialog.show().then(n.hitch(this,this._grid.startup))},_createDataStore:function(a){for(var c=a.length,d=Array(c),e=0;e<c;e++){var f=a[e],g=h.fromISOString(f.created).toLocaleString();d[e]={comment:this._escapeComment(f.comment),creator:f.creator,created:g}}return new b({data:{items:d}})},_escapeComment:function(a){return a.replace(/\\n/g,"\n")},_createDataGrid:function(a){var b=d.get("COMMENT_STR"),c=d.get("USER_STR"),f=d.get("DATE_STR"),b=[{field:"comment",name:b,width:"300px"},
{field:"creator",name:c,width:"200px"},{field:"created",name:f,width:"auto"}];a=this._createDataStore(a);a=new e({structure:b,clientSort:!0,query:{comment:"*",creator:"*",created:"*"},store:a,selectionMode:"none"});k.add(a.domNode,"tm1webAnnotationGrid");g.place(a.domNode,this._gridContainer);return a},close:function(){this._dialog.hide()},destroy:function(){this.inherited(arguments);this._grid.destroyRecursive();this._dialog.destroyRecursive();delete this._cell;delete this._dialog;delete this._gridContainer;
delete this._objectId}})})},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(m,n){return n})},"dijit/layout/utils":function(){define("dojo/_base/array dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang ../main".split(" "),function(m,n,l,k,g,b){function h(a){return a.substring(0,1).toUpperCase()+a.substring(1)}function e(a,b){var c=a.resize?a.resize(b):l.setMarginBox(a.domNode,b);c?g.mixin(a,c):(g.mixin(a,l.getMarginBox(a.domNode)),g.mixin(a,b))}var f={marginBox2contentBox:function(a,
b){var c=k.getComputedStyle(a),e=l.getMarginExtents(a,c),f=l.getPadBorderExtents(a,c);return{l:k.toPixelValue(a,c.paddingLeft),t:k.toPixelValue(a,c.paddingTop),w:b.w-(e.w+f.w),h:b.h-(e.h+f.h)}},layoutChildren:function(a,b,c,f,k){b=g.mixin({},b);n.add(a,"dijitLayoutContainer");c=m.filter(c,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(m.filter(c,function(a){return"center"==a.region||"client"==a.layoutAlign}));m.forEach(c,function(a){var c=a.domNode,g=a.region||a.layoutAlign;
if(!g)throw Error("No region setting for "+a.id);var l=c.style;l.left=b.l+"px";l.top=b.t+"px";l.position="absolute";n.add(c,"dijitAlign"+h(g));c={};f&&f==a.id&&(c["top"==a.region||"bottom"==a.region?"h":"w"]=k);"leading"==g&&(g=a.isLeftToRight()?"left":"right");"trailing"==g&&(g=a.isLeftToRight()?"right":"left");"top"==g||"bottom"==g?(c.w=b.w,e(a,c),b.h-=a.h,"top"==g?b.t+=a.h:l.top=b.t+b.h+"px"):"left"==g||"right"==g?(c.h=b.h,e(a,c),b.w-=a.w,"left"==g?b.l+=a.w:l.left=b.l+b.w+"px"):"client"!=g&&"center"!=
g||e(a,b)})}};g.setObject("layout.utils",f,b);return f})},"dojo/has":function(){define(["require","module"],function(m,n){var l=m.has||function(){};if(!l("dojo-has-api")){var k="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,g=function(){return this}(),b=k&&document,h=b&&b.createElement("DiV"),e=n.config&&n.config()||{},l=function(f){return"function"==typeof e[f]?e[f]=e[f](g,b,h):e[f]};l.cache=e;l.add=function(b,
a,d,c){("undefined"==typeof e[b]||c)&&(e[b]=a);return d&&l(b)}}l.add("dom-addeventlistener",!!document.addEventListener);l.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);l.add("touch-events","ontouchstart"in document);l.add("pointer-events","onpointerdown"in document);l.add("MSPointer","msMaxTouchPoints"in navigator);l.add("device-width",screen.availWidth||innerWidth);k=document.createElement("form");l.add("dom-attributes-explicit",
0==k.attributes.length);l.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length);l.clearElement=function(b){b.innerHTML="";return b};l.normalize=function(b,a){var d=b.match(/[\?:]|[^:\?]*/g),c=0,e=function(a){var b=d[c++];if(":"==b)return 0;if("?"==d[c++]){if(!a&&l(b))return e();e(!0);return e(a)}return b||0};return(b=e())&&a(b)};l.load=function(b,a,d){b?a([b],d):d()};return l})},"dijit/form/nls/ComboBox":function(){define({root:{previousMessage:"Previous choices",nextMessage:"More choices"},
zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"tm1web/workbook/celledit/ValidationListValueSaver":function(){define("dojo/_base/declare dojo/_base/lang ./_CellListValueSaver ../../share/AlertType ../../widgets/InfoAlert ../../widgets/WarningAlert ../../widgets/ErrorAlert ../../share/TM1Utility ../../utility/message-localizer ../../config-settings ../../config-settings!".split(" "),
function(m,n,l,k,g,b,h,e,f,a){return m(l,{_isRecalcOnChangeRequired:function(){return a.recalculateOnValidationListChange},_handleInvalidUserInput:function(a,b,e){var f=e.rowIndex,g=e.index;this._commitPending=!0;this.model.getValidation(f,g).then(n.hitch(this,"_onValidationList",{cellValue:a,editCell:b,editCellInfo:e}))},_onValidationList:function(a,c){this._commitPending=!1;if(null!=c){var e=c.errorTitle,l=c.errorMessage,m=c.getAlertType;null==e&&(e="");if(null==l||""==l)l=[],l[0]=f.get("INVALID_VALUE"),
l[1]=f.get("INVALID_LIST");m=m==k.WARNING?f.get("WARNING_STR"):m==k.INFORMATION?f.get("INFORMATION_STR"):m==k.STOP?f.get("STOP_STR"):"WARNING";e=""!=e?m+": "+e:m;m==k.WARNING?b.show({message:l,title:e}):m==k.INFORMATION?g.show({message:l,title:e}):h.show({message:l,title:e})}this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})})},"dijit/layout/_ScrollingTabControllerButton":function(){define(["dojo/_base/declare","../form/Button","./_ScrollingTabControllerButtonMixin"],function(m,n,l){return m("dijit.layout._ScrollingTabControllerButton",
[n,l])})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(m,n,l,k){k.extend(n,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return l("dijit._FocusMixin",null,{_focusManager:m})})},"tm1web/workbook/celledit/ValidationListStore":function(){define(["dojo/_base/declare","./_CellListStore"],function(m,n){return m(n,{_method:"getValidationList",_cellInfoProperty:"validationListItems"})})},
"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(m,n,l,k,g,b,h,e){var f;return f=m("dijit.form.ValidationTextBox",g,{templateString:h,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,
b){b!=f.prototype[a]&&(n.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return(new RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?
"":"?")+"$")).test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,b="$_unset_$"==
this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:a;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var e=this._isEmpty(this.textbox.value),f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&e||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&
a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):e&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?b.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):b.hide(this.domNode)},_refreshState:function(){this._created&&
this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=l.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,
a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(e){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=
k.getLocalization("dijit.form","validate",this.lang)||e;this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},
destroy:function(){b.hide(this.domNode);this.inherited(arguments)}})})},"dojo/errors/CancelError":function(){define(["./create"],function(m){return m("CancelError",null,null,{dojoType:"cancel"})})},"tm1web/workbook/celledit/Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/keys dojo/on dojox/html/entities dijit/Destroyable dijit/popup ./_CellValueMixin ../CellType ./PickList ./TextArea ./TextBox ./DatePicker ./ValidationList ../../utility/event ../../utility/date ../../utility/message-localizer ../../widgets/AlertDialog ./ValidationDialog ../../utility/date!".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w){return m("tm1web.workbook.celledit.Controller",[h,f],{_model:null,_dataGrid:null,_activeWidget:null,constructor:function(a,b){this._model=a;this._dataGrid=b;this._attachEventHandlers()},_attachEventHandlers:function(){this.own(l.after(this._model,"setEndSelectedCell",n.hitch(this,"_selectionChanged"),!0));this.own(l.after(this._dataGrid,"onDblClick",n.hitch(this,"_onDoubleClick"),!0));this.own(l.after(this._dataGrid,"onKeyDown",n.hitch(this,"_onKeyDown"),
!0));this.own(l.after(this._dataGrid,"onKeyPress",n.hitch(this,"_onKeyPress"),!0));this.own(l.after(this._dataGrid,"onScroll",n.hitch(this,"hide"),!0))},_getPickList:function(){this._pickList||this.own(this._pickList=(new d({model:this._model,dataGrid:this._dataGrid,onHide:n.hitch(this,"_onWidgetHide")})).placeAt(this._dataGrid));return this._pickList},_getDatePicker:function(){this._datePicker||this.own(this._datePicker=(new q({model:this._model,dataGrid:this._dataGrid,onHide:n.hitch(this,"_onWidgetHide")})).placeAt(this._dataGrid));
return this._datePicker},_getValidationList:function(){this._validationList||this.own(this._validationList=(new s({model:this._model,dataGrid:this._dataGrid,onHide:n.hitch(this,"_onWidgetHide")})).placeAt(this._dataGrid));return this._validationList},_showDropDownButton:function(a){var b=a.cell;a=a.cellInfo;this.hide();if(!this._isReadOnly(a)){if(a&&a.hasPicklist){var c=this._activeWidget=this._getPickList();a={cell:b,cellInfo:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!1,model:this._model,
dataGrid:this._dataGrid};c.show(a);return c}return a&&a.hasValidationList?(c=this._activeWidget=this._getValidationList(),a={cell:b,cellInfo:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!1,model:this._model,dataGrid:this._dataGrid},c.show(a),c):a&&this._isDateCell(a)?(c=this._activeWidget=this._getDatePicker(),a={cell:b,cellInfo:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!1,model:this._model,dataGrid:this._dataGrid},c.show(a),c):null}},_show:function(a){if(!a.cellInfo||
this._isReadOnly(a.cellInfo))return null;var b=null;a.cellInfo.hasPicklist?b=this._getPickList():a.cellInfo.hasValidationList?b=this._getValidationList():"STR"===a.cellInfo.cellType?(this._textArea||this.own(this._textArea=(new c({model:this._model,dataGrid:this._dataGrid,onHide:n.hitch(this,"_onWidgetHide")})).placeAt(document.body)),b=this._textArea):this._isDateCell(a.cellInfo)?b=this._getDatePicker():(this._textBox||this.own(this._textBox=(new p({model:this._model,dataGrid:this._dataGrid,onHide:n.hitch(this,
"_onWidgetHide")})).placeAt(this._dataGrid)),b=this._textBox);b.show(a);return b},_selectionChanged:function(a){this.hide();var b=this._model.getCell(a.x,a.y),c=this._dataGrid.getCell(a.x,a.y);b&&this._model.isSingleCellSelected()&&(this._hasDropDown(b)?this._showDropDownButton({cell:c,cellInfo:b}):b.hasInputMessage&&(b.inputMessage?this._createTooltipDialog(b.inputMessage,c):this._model.getValidation(b.rowIndex,b.index).then(n.hitch(this,function(a){a&&(b.inputMessage=a,this._createTooltipDialog(b.inputMessage,
c))}))))},_createTooltipDialog:function(a,b){null==this._tooltipDialog&&this.own(this._tooltipDialog=new w({dataGrid:this._dataGrid}));this._tooltipDialog.show({message:a.inputMessage,title:a.inputTitle,domCell:b})},_onDoubleClick:function(a){var b=this._dataGrid.getCellCoordinates(a);a=this._dataGrid.getCell(b.x,b.y);b=this._model.getCell(b.x,b.y);this._activeWidget=this._show({cell:a,cellInfo:b,value:this._getCurrentValue(b),highlight:!0,openDropDown:!0,allowKeyNavigation:!1,model:this._model})},
_onKeyDown:function(a){var b=a.keyCode,c=this._model.getStartSelectedCell(),d=this._dataGrid.getCell(c.x,c.y),c=this._model.getCell(c.x,c.y);if(!this._activeWidget||this._isDropDownActive()&&!this._activeWidget.hasOpened())switch(b){case k.BACKSPACE:this._activeWidget=this._show({cell:d,cellInfo:c,value:"",openDropDown:!0,allowKeyNavigation:!0,model:this._model});a.preventDefault();break;case k.F2:this._activeWidget=this._show({cell:d,cellInfo:c,value:this._getCurrentValue(c),highlight:!0,openDropDown:!0,
focusDropDown:!0,allowKeyNavigation:!1,model:this._model});break;case k.F9:this._model.workbookModel.recalculate();break;case k.DELETE:this._delete()}b===k.DOWN_ARROW&&a.altKey&&this._hasDropDown(c)&&(!this._activeWidget||this._isDropDownActive())&&(this._activeWidget=this._show({cell:d,cellInfo:c,value:this._getCurrentValue(c),highlight:!0,openDropDown:!0,focusDropDown:!0,allowKeyNavigation:!1,model:this._model}))},_onKeyPress:function(a){var b=a.charCode,c=this._model.getStartSelectedCell(),d=this._dataGrid.getCell(c.x,
c.y),c=this._model.getCell(c.x,c.y);this._activeWidget&&(!this._isDropDownActive()||this._activeWidget.hasOpened())||r.isModifierKeyDown(a,!0)||!b||32>b||!(b=String.fromCharCode(b))||!(this._activeWidget=this._show({cell:d,cellInfo:c,value:b,highlight:!1,openDropDown:!0,allowKeyNavigation:!0,model:this._model}))||(a.stopPropagation(),a.preventDefault())},_onWidgetHide:function(){this._activeWidget=null},_isDropDownActive:function(){return this._activeWidget&&this._activeWidget.hasDropDown},_isDateCell:function(b){if(b.type==
a.DateTime||b.type==a.Empty){if(!b.displayValue)return t.isDateFormat(b.format);var c={format:null};if(t.canParse(b.displayValue,b.format,c))return t.isDateFormat(c.format)}return!1},_delete:function(){this._model.deleteFromSelectedArea().otherwise(function(a){x.show({message:u.get("SRV_ERR_STR")})})},_hasDropDown:function(a){return a.hasPicklist||a.hasValidationList||this._isDateCell(a)},_isReadOnly:function(a){return this._model.isReadOnly(a.rowIndex,a.index)},hide:function(){this._activeWidget&&
this._activeWidget.hide();this._tooltipDialog&&this._tooltipDialog.hide()}})})},"tm1web/grid/selection/SelectionOverlay":function(){define("dojo/_base/declare dojo/_base/array dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/text!../templates/SelectionOverlay.html ./SelectionOverlayWidget ./BottomBorderSelection ./TopBorderSelection ./LeftBorderSelection ./RightBorderSelection ./BottomSelectionOverlay ./TopSelectionOverlay ./LeftSelectionOverlay ./RightSelectionOverlay".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){return m("tm1web.grid.selection.SelectionOverlay",[l,k,g],{templateString:h,updateSelection:function(a,c){var d=b.findWidgets(this.selectionOverlay);n.forEach(d,function(b,d){b.setPosition(a,c)})}})})},"tm1web/workbook/celledit/validation-checker":function(){define("../../share/AlertType ../../widgets/ErrorAlert ../../widgets/InfoAlert ../../widgets/WarningAlert ../../utility/date ../../utility/message-localizer ../../utility/number ../../utility/date!".split(" "),
function(m,n,l,k,g,b,h){return{check:function(e,f,a){var d=f.alertType,c=f.errorTitle,p=f.errorMessage,q=f.validationType,s=f.operatorType,r,t,u;null==c&&(c="");if(null==p||""==p)p=b.get("INVALID_VALUE");d=d==m.WARNING?b.get("WARNING_STR"):d==m.INFORMATION?b.get("INFORMATION_STR"):d==m.STOP?b.get("STOP_STR"):"";c=""!=c?d+": "+c:d;null!=f.firstValues&&0<f.firstValues.length&&(r=f.firstValues[0],t=f.firstValues[0]);null!=f.secondValues&&0<f.secondValues.length&&(u=f.secondValues[0]);if(null==q||"ANY_VALUE"==
q||"CUSTOM"==q||"LIST"==q)return!0;if("WHOLE_NUMBER"==q&&null!=s){if(e=h.parse(e),!h.isNaN(e)&&(t=parseFloat(t),u=parseFloat(u),r=parseFloat(r),q=parseInt(e,10),q==e&&this._evaluateValue(r,u,t,q,s)))return!0}else if("DECIMAL"==q&&void 0!=s&&null!=s){if(e=h.parse(e),!h.isNaN(e)&&(u=parseFloat(u),t=parseFloat(t),r=parseFloat(r),this._evaluateValue(r,u,t,e,s)))return!0}else if(("DATE"==q||"TIME"==q)&&void 0!=s&&null!=s){if(e=g.parseToSerial(e,a.cellInfo.format),null!=e&&(h.isNaN(parseFloat(t))&&(t=this._extractDate(t),
t=g.getExcelSerialFromJSDate(t)),h.isNaN(parseFloat(u))&&(u=this._extractDate(u),u=g.getExcelSerialFromJSDate(u)),h.isNaN(parseFloat(r))&&(r=this._extractDate(r),r=g.getExcelSerialFromJSDate(r)),this._evaluateValue(r,u,t,e,s,q)))return!0}else if("TEXT_LENGTH"==q&&void 0!=s&&null!=s&&(len=e.length,u=parseInt(u,10),t=parseInt(t,10),r=parseInt(r,10),this._evaluateValue(r,u,t,len,s)))return!0;d==m.WARNING?k.show({message:p,title:c}):d==m.INFORMATION?l.show({message:p,title:c}):n.show({message:p,title:c});
return!1},_evaluateValue:function(b,f,a,d,c){if("BETWEEN"==c){if(null!=a&&a<=d&&d<=f)return!0}else if("NOT_BETWEEN"==c){if(null!=a&&(d>f||d<a))return!0}else if("EQUAL"==c){if(null!=b&&d==b)return!0}else if("NOT_EQUAL"==c){if(null!=b&&d!=b)return!0}else if("GREATER_THAN"==c){if(null!=b&&d>b)return!0}else if("LESS_THAN"==c){if(null!=b&&d<b)return!0}else if("GREATER_OR_EQUAL"==c){if(null!=b&&d>=b)return!0}else if("LESS_OR_EQUAL"==c&&null!=b&&d<=b)return!0;return!1},_extractDate:function(b){b instanceof
Date||(null!=b?(b=b.split(" "),b=8==b.length&&"$TM1Date"==b[0]?new Date(b[1],b[2]-1,b[3],b[4],b[5],b[6],b[7]):new Date):b=new Date);return b}}})},"dojo/_base/url":function(){define(["./kernel"],function(m){var n=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,l=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,k=function(){for(var g=arguments,b=[g[0]],h=1;h<g.length;h++)if(g[h]){var e=new k(g[h]+""),b=new k(b[0]+"");if(""==e.path&&!e.scheme&&!e.authority&&!e.query)null!=
e.fragment&&(b.fragment=e.fragment),e=b;else if(!e.scheme&&(e.scheme=b.scheme,!e.authority&&(e.authority=b.authority,"/"!=e.path.charAt(0)))){for(var b=(b.path.substring(0,b.path.lastIndexOf("/")+1)+e.path).split("/"),f=0;f<b.length;f++)"."==b[f]?f==b.length-1?b[f]="":(b.splice(f,1),f--):0<f&&(1!=f||""!=b[0])&&".."==b[f]&&".."!=b[f-1]&&(f==b.length-1?(b.splice(f,1),b[f-1]=""):(b.splice(f-1,2),f-=2));e.path=b.join("/")}b=[];e.scheme&&b.push(e.scheme,":");e.authority&&b.push("//",e.authority);b.push(e.path);
e.query&&b.push("?",e.query);e.fragment&&b.push("#",e.fragment)}this.uri=b.join("");g=this.uri.match(n);this.scheme=g[2]||(g[1]?"":null);this.authority=g[4]||(g[3]?"":null);this.path=g[5];this.query=g[7]||(g[6]?"":null);this.fragment=g[9]||(g[8]?"":null);null!=this.authority&&(g=this.authority.match(l),this.user=g[3]||null,this.password=g[4]||null,this.host=g[6]||g[7],this.port=g[9]||null)};k.prototype.toString=function(){return this.uri};return m._Url=k})},"tm1web/utility/html":function(){define(["dojox/html/entities"],
function(m){var n=[["'","#39"]];return{encodeAttribute:function(l){l=m.encode(l);return m.encode(l,n)},encodeNewLines:function(l){return l.replace(/\r?\n/g,"\x3cbr/\x3e")}}})},"dojox/collections/_base":function(){define(["../main","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(m,n,l,k){m=l.getObject("collections",!0,m);m.DictionaryEntry=function(g,b){this.key=g;this.value=b;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};m.Iterator=
function(g){var b=0;this.element=g[b]||null;this.atEnd=function(){return b>=g.length};this.get=function(){return this.atEnd()?null:this.element=g[b++]};this.map=function(b,e){return k.map(g,b,e)};this.reset=function(){b=0;this.element=g[b]}};m.DictionaryIterator=function(g){var b=[],h={},e;for(e in g)h[e]||b.push(g[e]);var f=0;this.element=b[f]||null;this.atEnd=function(){return f>=b.length};this.get=function(){return this.atEnd()?null:this.element=b[f++]};this.map=function(a,d){return k.map(b,a,
d)};this.reset=function(){f=0;this.element=b[f]}};return m})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(m,n,l,k,g,b){var h=n("dijit.form._ComboBoxMenuMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=g.getLocalization("dijit.form","ComboBox",this.lang)||b},buildRendering:function(){this.inherited(arguments);
this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(b){this._set("value",b);this.onChange(b)},onClick:function(b){if(b==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(b==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(b)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(b,f){var a=this._createMenuItem(),
d=f(b);d.html?a.innerHTML=d.label:a.appendChild(a.ownerDocument.createTextNode(d.label));""==a.innerHTML&&(a.innerHTML="\x26#160;");return a},createOptions:function(b,f,a){this.items=b;this.previousButton.style.display=0==f.start?"none":"";l.set(this.previousButton,"id",this.id+"_prev");m.forEach(b,function(b,d){var e=this._createOption(b,a);e.setAttribute("item",d);l.set(e,"id",this.id+d);this.nextButton.parentNode.insertBefore(e,this.nextButton)},this);var d=!1;b.total&&!b.total.then&&-1!=b.total?
f.start+f.count<b.total?d=!0:f.start+f.count>b.total&&f.count==b.length&&(d=!0):f.count==b.length&&(d=!0);this.nextButton.style.display=d?"":"none";l.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var b=this.containerNode;2<b.childNodes.length;)b.removeChild(b.childNodes[b.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);
this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});k("dojo-bidi")&&(h=n("dijit.form._ComboBoxMenuMixin",h,{_createOption:function(){var b=this.inherited(arguments);this.applyTextDir(b);return b}}));return h})},"dojo/selector/_loader":function(){define(["../has","require"],function(m,n){var l=document.createElement("div");
m.add("dom-qsa2.1",!!l.querySelectorAll);m.add("dom-qsa3",function(){try{return l.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==l.querySelectorAll(".TEST:empty").length}catch(g){}});var k;return{load:function(g,b,h,e){e=n;g="default"==g?m("config-selectorEngine")||"css3":g;g="css2"==g||"lite"==g?"./lite":"css2.1"==g?m("dom-qsa2.1")?"./lite":"./acme":"css3"==g?m("dom-qsa3")?"./lite":"./acme":"acme"==g?"./acme":(e=b)&&g;if("?"==g.charAt(g.length-1)){g=g.substring(0,g.length-1);var f=!0}if(f&&(m("dom-compliant-qsa")||
k))return h(k);e([g],function(a){"./lite"!=g&&(k=a);h(a)})}}})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t,u,x,w,v,y,A,z,B,E,F,I,M,O,H,J,P,D,C){function G(a){return r.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var S=k("dijit._TreeNode",[B,E,F,I,M],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:H,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(b){var c=Math.max(b,0)*this.tree._nodePixelIndent+"px";a.set(this.domNode,"backgroundPosition",c+" 0px");a.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",c);m.forEach(this.getChildren(),function(a){a.set("indent",b+1)});this._set("indent",b)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,c=b.model;b._v10Compat&&a===c.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(b,c,d){var f="_"+c+"Class";c+="Node";var g=this[f];this[f]=this.tree["get"+d+"Class"](b,this.isExpanded);e.replace(this[c],this[f]||"",g||"");a.set(this[c],this.tree["get"+d+"Style"](b,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;e.toggle(this.domNode,"dijitTreeIsRoot",a);e.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;e.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return G(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");e.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=c.wipeIn({node:this.containerNode,duration:z.defaultDuration}),b=this._expandDeferred=new g(function(){a.stop()});n.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return G(b)},collapse:function(){if(this._collapseDeferred)return G(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");e.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=c.wipeOut({node:this.containerNode,duration:z.defaultDuration}),b=this._collapseDeferred=new g(function(){a.stop()});n.after(a,"onEnd",function(){b.resolve(!0)},
!0);a.play();return G(b)},indent:0,setChildItems:function(a){var c=this.tree,d=c.model,e=[],f=c.focusedChild,g=this.getChildren();m.forEach(g,function(a){F.prototype.removeChild.call(this,a)},this);this.defer(function(){m.forEach(g,function(a){if(!a._destroyed&&!a.getParent()){var b=function(a){var e=d.getIdentity(a.item),f=c._itemNodesMap[e];1==f.length?delete c._itemNodesMap[e]:(e=m.indexOf(f,a),-1!=e&&f.splice(e,1));m.forEach(a.getChildren(),b)};c.dndController.removeTreeNode(a);b(a);if(c.persist){var e=
m.map(a.getTreePath(),function(a){return c.model.getIdentity(a)}).join("/"),g;for(g in c._openedNodes)g.substr(0,e.length)==e&&delete c._openedNodes[g];c._saveExpandedNodes()}c.lastFocusedChild&&!h.isDescendant(c.lastFocusedChild,c.domNode)&&delete c.lastFocusedChild;f&&!h.isDescendant(f,c.domNode)&&c.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,m.forEach(a,function(a){var b=d.getIdentity(a),f=c._itemNodesMap[b],g;if(f)for(var h=0;h<f.length;h++)if(f[h]&&
!f[h].getParent()){g=f[h];g.set("indent",this.indent+1);break}g||(g=this.tree._createTreeNode({item:a,tree:c,isExpandable:d.mayHaveChildren(a),label:c.getLabel(a),labelType:c.model&&c.model.labelType||"text",tooltip:c.getTooltip(a),ownerDocument:c.ownerDocument,dir:c.dir,lang:c.lang,textDir:c.textDir,indent:this.indent+1}),f?f.push(g):c._itemNodesMap[b]=[g]);this.addChild(g);(this.tree.autoExpand||this.tree._state(g))&&e.push(c._expandNode(g))},this),m.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=b(e);this.tree._startPaint(a);return G(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,this.collapse());m.forEach(b,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");e.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){y.focus(this.focusNode)}});p("dojo-bidi")&&S.extend({_setTextDirAttr:function(a){!a||this.textDir==a&&this._created||(this._set("textDir",a),this.applyTextDir(this.labelNode),m.forEach(this.getChildren(),function(b){b.set("textDir",a)},this))}});var Q=k("dijit.Tree",[B,O,E,M],{baseClass:"dijitTree",
store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:J,persist:!1,autoExpand:!1,dndController:C,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,
b){u.publish(this.id,r.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new g;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(t(this.containerNode,t.selector(".dijitTreeNode",x.enter),function(b){a._onNodeMouseEnter(A.byNode(this),
b)}),t(this.containerNode,t.selector(".dijitTreeNode",x.leave),function(b){a._onNodeMouseLeave(A.byNode(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow",v.press),function(b){a._onNodePress(A.getEnclosingWidget(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow",v),function(b){a._onClick(A.getEnclosingWidget(this),b)}),t(this.containerNode,t.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(A.getEnclosingWidget(this),b)}));this.model||this._store2model();this.own(n.after(this.model,
"onChange",r.hitch(this,"_onItemChange"),!0),n.after(this.model,"onChildrenChange",r.hitch(this,"_onItemChildrenChange"),!0),n.after(this.model,"onDelete",r.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){r.isString(this.dndController)&&(this.dndController=r.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);this.dndController=new this.dndController(this,b)}this._load();
this.onLoadDeferred=G(this.pendingCommandsPromise);this.onLoadDeferred.then(r.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;q.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=r.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=r.hitch(this,function(a,b,c){this.getItemChildren(this._v10Compat&&
a===this.model.root?null:a,b,c)}));this.model=new D(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(r.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display=
"none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),b.labelNode.setAttribute("role","presentation"),
b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(r.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),
r.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=r.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(r.hitch(this,function(){var c=m.map(a,function(a){return!a||r.isString(a)?a:b.model.getIdentity(a)}),d=[];m.forEach(c,function(a){d=
d.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",d)}))},_setPathAttr:function(a){return a.length?G(this.set("paths",[a]).then(function(a){return a[0]})):G(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function c(a,b){var e=a.shift(),f=m.filter(b,function(a){return a.getIdentity()==e})[0];if(f)return a.length?d._expandNode(f).then(function(){return c(a,f.getChildren())}):f;throw new Q.PathError("Could not expand path at "+e);}var d=this;return G(this.pendingCommandsPromise=
this.pendingCommandsPromise.always(function(){return b(m.map(a,function(a){a=m.map(a,function(a){return r.isString(a)?a:d.model.getIdentity(a)});if(a.length)return c(a,[d.rootNode]);throw new Q.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(d){return c._expandNode(d).then(function(){var c=m.filter(d.getChildren()||
[],function(a){return a.isExpandable});return b(m.map(c,a))})}var c=this;return G(a(this.rootNode))},collapseAll:function(){function a(d){var e=m.filter(d.getChildren()||[],function(a){return a.isExpandable}),e=b(m.map(e,a));return!d.isExpanded||d==c.rootNode&&!c.showRoot?e:e.then(function(){return c._collapseNode(d)})}var c=this;return G(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||
this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var c=this._getNext(b);c&&c.isTreeNode&&this.focusNode(c)},_onUpArrow:function(a,b){var c=b.getPreviousSibling();if(c)for(b=c;b.isExpandable&&b.isExpanded&&b.hasChildren();)c=b.getChildren(),b=c[c.length-1];else if(c=b.getParent(),
this.showRoot||c!==this.rootNode)b=c;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var c=b.getParent();c&&c.isTreeNode&&(this.showRoot||c!==this.rootNode)&&this.focusNode(c)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?
this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return h.isDescendant(a,b.expandoNode)||h.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,
b){this.focusNode(a)},__click:function(a,b,c,d){var e=this.isExpandoNode(b.target,a);a.isExpandable&&(c||e)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[d](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):
this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){q.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){q.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;
if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,c=a.item,d=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new g,b.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(d,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));
b=a._loadDeferred.then(r.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var c=this.getLabel(a),d=this.getTooltip(a);m.forEach(b,function(b){b.set({item:a,label:c,tooltip:d});b._updateItemClasses(a)})}},
_onItemChildrenChange:function(a,b){var c=this.model.getIdentity(a);(c=this._itemNodesMap[c])&&m.forEach(c,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(m.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!h.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!h.isDescendant(this.focusedChild,this.domNode)&&
this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=l(this.cookieName);a&&m.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var c=m.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[c];b?this._openedNodes[c]=!0:delete this._openedNodes[c];this._saveExpandedNodes()},
_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);l(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!r.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&f.setMarginBox(this.domNode,
a);this._nodePixelIndent=f.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(r.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=r.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&!this._adjustWidthsTimer&&
this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});w(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new S(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});p("dojo-bidi")&&Q.extend({_setTextDirAttr:function(a){a&&
this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});Q.PathError=d("TreePathError");Q._TreeNode=S;return Q})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(m,n,l,k,g,b,h,e,f,a){m=n("dijit.form.Button"+(k("dojo-bidi")?"_NoBidi":""),[e,f],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",
type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){!a||this.params&&"label"in this.params||!(a=b.trim(a.innerHTML))||(this.label=a)},_setShowLabelAttr:function(a){this.containerNode&&l.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){g.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=b.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});k("dojo-bidi")&&(m=n("dijit.form.Button",m,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));
return m})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(m,n,l,k,g,b,h){l.add("textarea-needs-help-shrinking",function(){var e=b.body(),f=n.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",
WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},e,"last"),a=f.scrollHeight>=f.clientHeight;e.removeChild(f);return a});return m("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;b.style.overflowY="hidden";this.own(g(b,"focus, resize",k.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(h.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},
_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.rows=(b.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function b(){var a=!1;""===f.value&&(f.value=" ",a=!0);var c=f.scrollHeight;a&&(f.value="");return c}var f=this.textbox;"hidden"==f.style.overflowY&&(f.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(b()||f.offsetHeight){var a=b()+Math.max(f.offsetHeight-f.clientHeight,0),
d=a+"px";d!=f.style.height&&(f.style.height=d,f.rows=1);if(l("textarea-needs-help-shrinking")){var c=b(),g=f.style.minHeight,h=4,k=f.scrollTop;f.style.minHeight=d;for(f.style.height="auto";0<a;){f.style.minHeight=Math.max(a-h,4)+"px";d=b();c-=d;a-=c;if(c<h)break;c=d;h<<=1}f.style.height=a+"px";f.style.minHeight=g;f.scrollTop=k}f.style.overflowY=b()>f.clientHeight?"auto":"hidden";"hidden"==f.style.overflowY&&(f.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(m,n,l){var k=window,g={addOnWindowUnload:function(b,g){m.windowUnloaded||l(k,"unload",m.windowUnloaded=function(){});l(k,"unload",n.hitch(b,g))},addOnUnload:function(b,g){l(k,"beforeunload",n.hitch(b,g))}};m.addOnWindowUnload=g.addOnWindowUnload;m.addOnUnload=g.addOnUnload;return g})},"tm1web/workbook/controls/Type":function(){define({ActionButton:"ActionButton",ActiveXComboBox:"ActiveXComboBox",CheckBox:"CheckBox",ComboBox:"ComboBox",Image:"Image",Label:"Label",ListBox:"ListBox",
OptionButton:"OptionButton",TextBox:"TextBox"})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s){var r=n("dijit.CalendarLite",[p,q],{templateString:s,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',
dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",
_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,c){"string"==typeof a&&(a=b.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),
this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(c||"undefined"==typeof c))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),
b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),e=new this.dateClassObj,f=l.getFirstDayOfWeek(this.lang);f>b&&(f-=7);if(!this.summary){var g=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",g[a.getMonth()])}this._date2cell={};m.forEach(this.dateCells,function(g,h){var k=h+f,l=new this.dateClassObj(a),m="dijitCalendar",n=0;k<b?(k=d-b+k+1,n=-1,m+="Previous"):k>=b+c?(k=k-
b-c+1,n=1,m+="Next"):(k=k-b+1,m+="Current");n&&(l=this.dateModule.add(l,"month",n));l.setDate(k);this.dateModule.compare(l,e,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(l,this.lang)?(m="dijitCalendarDisabledDate "+m,g.setAttribute("aria-disabled","true")):(m="dijitCalendarEnabledDate "+m,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(n=this.getClassForDate(l,this.lang))&&(m=n+" "+m);g.className=m+"Month dijitCalendarDateTemplate";m=l.valueOf();this._date2cell[m]=
g;g.dijitDateValue=m;this._setText(this.dateLabels[h],l.getDateLocalized?l.getDateLocalized(this.lang):l.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;m.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",
new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?f.getObject(a.datePackage,!1):k;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?f.getObject(a.datePackage+".locale",!1):g},_createMonthWidget:function(){return r._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),
d=l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=c.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[d++%7]});a=c.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);h.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},
_connectControls:function(){var b=f.hitch(this,function(b,c,d){this[b].dojoClick=!0;return a(this[b],"click",f.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,d))}))});this.own(b("incrementMonth","month",1),b("decrementMonth","month",-1),b("nextYearLabelNode","year",1),b("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,e=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==
this.dateModule.difference(c,a,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();e&&e!=c&&(d("webkit")?e.setAttribute("tabIndex","-1"):e.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!e.contains(a,
"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function b(a,c){e.toggle(c,"dijitCalendarSelectedDate",a);c.setAttribute("aria-selected",a?"true":"false")}m.forEach(this._selectedCells||[],f.partial(b,!1));this._selectedCells=m.filter(m.map(a,this._getNodeByDate,this),function(a){return a});m.forEach(this._selectedCells,f.partial(b,!0))},onChange:function(){},
isDisabledDate:function(){},getClassForDate:function(){}});r._MonthWidget=n("dijit.CalendarLite._MonthWidget",p,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==d("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+m.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});return r})},
"tm1web/websheet/spreading/RelativeSpreadControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/string ../../utility/message-localizer ./SpreadDialogCommon".split(" "),function(m,n,l,k,g,b,h){return m(h,{constructor:function(){this._RefCellValueTextBox=this._CellValueTextBox=this._RefCellTextArea=this._ReferenceCellContainer=this._ActionContainer=this._ButtonContainer=this._ContentContainer=null;this._ActionValue="";this._InitializeRelativeSpreadControl()},
_InitializeRelativeSpreadControl:function(){this._DoCreate()},GetContentContainer:function(){return this._ContentContainer},SetRefCellVal:function(b){this._IsPercentage?this._RefCellValueTextBox.value=b:this._CellValueTextBox.value=b},SetRefStr:function(b){this._RefCellTextArea.value=b},_DoCreate:function(){this._ContentContainer=this.CreatePanel("","tm1webRelativeSpreadControl_container");this._ValueContainer=this.CreatePanel("","tm1webRelativeSpreadControl_valueContainer");this._ActionContainer=
this.CreatePanel("","tm1webRelativeSpreadControl_actionContainer");this._ReferenceCellContainer=this.CreatePanel("","tm1webRelativeSpreadControl_referenceCellContainer");this._CreateLayout()},_CreateLayout:function(){if(this._IsPercentage){var e=this._CreatePercentageValueContent(this._ContentContainer,"% Adjustment","tm1webRelativeSpreadControl_percentageValueLabel","","tm1webRelativeSpreadControl_percentageValue","Reference Cell Value","tm1webRelativeSpreadControl_percentageCellValueLabel","","tm1webRelativeSpreadControl_percentageCellValue");
this._RefCellValueTextBox=e.refCellTextbox;this._CellValueTextBox=e.valueTextbox}else this._CellValueTextBox=this._CreateValueContent(this._ContentContainer,b.get("SPREAD_LABEL_RELATIVE_VALUE"),"tm1webRelativeSpreadControl_valueLabel",this._CellValue,"tm1webRelativeSpreadControl_value");this._CreateActionContent(this._ActionContainer);k.place(this._ReferenceCellContainer,this._ContentContainer);k.place(this._ActionContainer,this._ContentContainer);this._CreateReferenceCellContent()},_CreateReferenceCellContent:function(){this._RefCellTextArea=
k.create("TEXTAREA");this._RefCellTextArea.value="";l.add(this._RefCellTextArea,"tm1webRelativeSpreadControlTextarea");this._RefCellTextArea.setAttribute("readonly","true");k.place(this._RefCellTextArea,this._ReferenceCellContainer)},_OnRadioButtonClick:function(b,f){b&&(this._ActionValue=f)},GetControlString:function(){var b="",b=this._IsPercentage?"R%":"RP",b=b+this._ActionValue,f=this._CellValueTextBox.value;return null==f||""==g.trim(f)?null:b+=n.trim(f)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r){function t(a){return eval("("+a+")")}function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<w){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=w}return b}function x(a,b){var c=a.join();if(!v[c]){for(var d=[],e=0,f=a.length;e<f;e++){var g=a[e];d[d.length]=v[g]=v[g]||l.getObject(g)||~g.indexOf("/")&&(b?b(g):m(g))}e=d.shift();v[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return v[c]}
new Date("X");var w=0;f.after(l,"extend",function(){w++},!0);var v={},y={_clearCache:function(){w++;v={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&f.length&&k.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){b=b||{};c=c||{};var d=(c.scope||n._scopeName)+"Type",e="data-"+(c.scope||n._scopeName)+"-",f=e+
"type",g=e+"mixins",h=[];k.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(g),c=e?[c].concat(e.split(/\s*,\s*/)):[c];h.push({node:a,types:c})}});return this._instantiate(h,b,c)},_instantiate:function(b,c,d,e){function f(a){c._started||d.noStart||k.forEach(a,function(a){"function"!==typeof a.startup||a._started||a.startup()});return a}b=k.map(b,function(a){var b=a.ctor||x(a.types,d.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(b,a.node,c,d,a.scripts,a.inherited)},this);return e?a(b).then(f):f(b)},construct:function(a,b,c,g,h,m){function r(a){S&&l.setObject(S,a);for(C=0;C<L.length;C++)f[L[C].advice||"after"](a,L[C].method,l.hitch(a,L[C].func),!0);for(C=0;C<R.length;C++)R[C].call(a);for(C=0;C<U.length;C++)a.watch(U[C].prop,U[C].func);for(C=0;C<V.length;C++)s(a,V[C].event,V[C].func);return a}var v=a&&a.prototype;g=g||{};var w={};g.defaults&&l.mixin(w,g.defaults);m&&l.mixin(w,m);var x;
p("dom-attributes-explicit")?x=b.attributes:p("dom-attributes-specified-flag")?x=k.filter(b.attributes,function(a){return a.specified}):(m=(/^input$|^img$/i.test(b.nodeName)?b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),x=k.map(m.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var y=g.scope||n._scopeName;
m="data-"+y+"-";var D={};"dojo"!==y&&(D[m+"props"]="data-dojo-props",D[m+"type"]="data-dojo-type",D[m+"mixins"]="data-dojo-mixins",D[y+"type"]="dojoType",D[m+"id"]="data-dojo-id");for(var C=0,G,y=[],S,Q;G=x[C++];){var N=G.name,K=N.toLowerCase();G=G.value;switch(D[K]||K){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":Q=G;break;case "data-dojo-id":case "jsid":S=G;break;case "data-dojo-attach-point":case "dojoattachpoint":w.dojoAttachPoint=G;break;case "data-dojo-attach-event":case "dojoattachevent":w.dojoAttachEvent=
G;break;case "class":w["class"]=b.className;break;case "style":w.style=b.style&&b.style.cssText;break;default:if(N in v||(N=u(a)[K]||N),N in v)switch(typeof v[N]){case "string":w[N]=G;break;case "number":w[N]=G.length?Number(G):NaN;break;case "boolean":w[N]="false"!=G.toLowerCase();break;case "function":""===G||-1!=G.search(/[^\w\.]+/i)?w[N]=new Function(G):w[N]=l.getObject(G,!1)||new Function(G);y.push(N);break;default:K=v[N],w[N]=K&&"length"in K?G?G.split(/\s*,\s*/):[]:K instanceof Date?""==G?new Date(""):
"now"==G?new Date:d.fromISOString(G):K instanceof e?n.baseUrl+G:t(G)}else w[N]=G}}for(x=0;x<y.length;x++)D=y[x].toLowerCase(),b.removeAttribute(D),b[D]=null;if(Q)try{Q=t.call(g.propsThis,"{"+Q+"}"),l.mixin(w,Q)}catch(T){throw Error(T.toString()+" in data-dojo-props\x3d'"+Q+"'");}l.mixin(w,c);h||(h=a&&(a._noScript||v._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",b));var L=[],R=[],U=[],V=[];if(h)for(C=0;C<h.length;C++)D=h[C],b.removeChild(D),c=D.getAttribute(m+"event")||D.getAttribute("event"),g=
D.getAttribute(m+"prop"),Q=D.getAttribute(m+"method"),y=D.getAttribute(m+"advice"),x=D.getAttribute("type"),D=this._functionFromScript(D,m),c?"dojo/connect"==x?L.push({method:c,func:D}):"dojo/on"==x?V.push({event:c,func:D}):w[c]=D:"dojo/aspect"==x?L.push({method:Q,advice:y,func:D}):"dojo/watch"==x?U.push({prop:g,func:D}):R.push(D);a=(h=a.markupFactory||v.markupFactory)?h(w,b,a):new a(w,b);return a.then?a.then(r):r(a)},scan:function(a,b){function d(a){if(!a.inherited){a.inherited={};var b=a.node,c=
d(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(q)||c.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],f=[],g={},h=(b.scope||n._scopeName)+"Type",l="data-"+(b.scope||n._scopeName)+"-",p=l+"type",q=l+"textdir",l=l+"mixins",r=a.firstChild,s=b.inherited;if(!s){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},s={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,q)},u;for(u in s)s[u]||
delete s[u]}for(var s={inherited:s},v,w;;)if(r)if(1!=r.nodeType)r=r.nextSibling;else if(v&&"script"==r.nodeName.toLowerCase())(y=r.getAttribute("type"))&&/^dojo\/\w/i.test(y)&&v.push(r),r=r.nextSibling;else if(w)r=r.nextSibling;else{var y=r.getAttribute(p)||r.getAttribute(h);u=r.firstChild;if(y||u&&(3!=u.nodeType||u.nextSibling)){w=null;if(y){var K=r.getAttribute(l);v=K?[y].concat(K.split(/\s*,\s*/)):[y];try{w=x(v,b.contextRequire)}catch(T){}w||k.forEach(v,function(a){~a.indexOf("/")&&!g[a]&&(g[a]=
!0,f[f.length]=a)});K=w&&!w.prototype._noScript?[]:null;s={types:v,ctor:w,parent:s,node:r,scripts:K};s.inherited=d(s);e.push(s)}else s={node:r,scripts:v,parent:s};v=K;w=r.stopParser||w&&w.prototype.stopParser&&!b.template;r=u}else r=r.nextSibling}else{if(!s||!s.node)break;r=s.node.nextSibling;w=!1;s=s.parent;v=s.scripts}var L=new c;f.length?(b.contextRequire||m)(f,function(){L.resolve(k.filter(e,function(a){if(!a.ctor)try{a.ctor=x(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&!d.types;)d=
d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):L.resolve(e);return L.promise},_require:function(a,b){var d=t("{"+a.innerHTML+"}"),e=[],f=[],g=new c,h=b&&b.contextRequire||m,k;for(k in d)e.push(k),f.push(d[k]);h(f,function(){for(var a=0;a<e.length;a++)l.setObject(e[a],arguments[a]);g.resolve(arguments)});return g.promise},_scanAmd:function(a,b){var d=new c,e=d.promise;d.resolve(!0);
var f=this;q("script[type\x3d'dojo/require']",a).forEach(function(a){e=e.then(function(){return f._require(a,b)});a.parentNode.removeChild(a)});return e},parse:function(a,c){var d;!c&&a&&a.rootNode?(c=a,d=c.rootNode):!a||!l.isObject(a)||"nodeType"in a?d=a:c=a;d=d?b.byId(d):h.body();c=c||{};var e=c.template?{template:!0}:{},f=[],g=this,k=this._scanAmd(d,c).then(function(){return g.scan(d,c)}).then(function(a){return g._instantiate(a,e,c,!0)}).then(function(a){return f=f.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",
a);throw a;});l.mixin(f,k);return f}};n.parser=y;g.parseOnLoad&&r(100,y,"parse");return y})},"tm1web/share/_RefocusMixin":function(){define(["dojo/_base/declare","dojo/dom","dijit/focus"],function(m,n,l){return m(null,{_saveFocus:function(){var k=document.activeElement;k&&!n.isDescendant(k,this.domNode)&&(this._savedFocusedNode=k)},_restoreFocus:function(){var k=document.activeElement;!this._savedFocusedNode||k&&!n.isDescendant(k,this.domNode)||l.focus(this._savedFocusedNode);this._savedFocusedNode=
null}})})},"dijit/Toolbar":function(){define("require dojo/_base/declare dojo/has dojo/keys dojo/ready ./_Widget ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(m,n,l,k,g,b,h,e){return n("dijit.Toolbar",[b,e,h],{templateString:'\x3cdiv class\x3d"dijit" role\x3d"toolbar" tabIndex\x3d"${tabIndex}" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()}})})},"tm1web/workbook/celledit/DatePicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/form/DateTextBox ../../utility/date ./_CellDropDownMixin ../../utility/date!".split(" "),
function(m,n,l,k,g,b){return m("tm1web.workbook.celledit.DatePicker",[k,b],{_inputDatePattern:null,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"tm1webCellDatePicker")},show:function(b){this._inputDatePattern=b.cellInfo.format;this.inherited(arguments)},_openAndHighlightDropDown:function(){this._opened?this.closeDropDown(!0):(this.loadAndOpenDropDown(),this._openAndHighlightDropDown())},validate:function(){return!0},parse:function(b,e){var f=null,a={format:null},f=g.parse(b,
this._inputDatePattern,a);n.mixin(e,{datePattern:f?a.format:this._inputDatePattern});return f||(this._isEmpty(f)?null:void 0)}})})},"tm1web/subseteditor/FindBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/fx dojo/text!./templates/FindBar.html dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/keys dojo/colors dojo/debounce dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/form/_TextBoxMixin ../utility/message-localizer ./_TreePaneFocusMixin".split(" "),
function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t){return m([q,c,p,t],{templateString:g,_textBox:null,_findNextButton:null,_findPreviousButton:null,_textBoxPlaceHolderLabel:r.get("FIND_IN_SUBSET_PLACEHOLDER_STR"),_findNextLabel:r.get("FIND_NEXT_STR"),_findPreviousLabel:r.get("FIND_PREVIOUS_STR"),postCreate:function(){this.inherited(arguments);this._attachEventListeners();m.safeMixin(this._textBox,{_getDisplayedValueAttr:function(){return this._destroyed?null:this.inherited(arguments)}});this._textBox.setAttribute("aria-label",
this._textBoxPlaceHolderLabel)},_attachEventListeners:function(){this.dimensionTree&&this.connect(this.dimensionTree.model,"onFind","_onFind");this.connect(this.subsetTree.model,"onFind","_onFind");this.connect(this._textBox,"onChange",d(n.hitch(this,"_find"),800));this.connect(this._textBox,"onKeyPress",n.hitch(this,"_onKeyPress",!0));this.connect(document.documentElement,"onkeypress",n.hitch(this,"_onKeyPress",!1))},_onKeyPress:function(a,b){if(this._isVisible()){var c=b.keyCode;if(!b.charCode){var d=
!1;switch(c){case f.ENTER:if(!a)break;else if(!this.dimensionTree&&this._activeTree===this.subsetTree){this.subsetTree.get("tree").selectFound();break}case f.F3:b.shiftKey?this._findPrevious():this._findNext();break;default:d=!0}d||l.stop(b)}}},focus:function(){s.selectInputText(this._textBox.textbox)},resize:function(){if(this._isVisible()){this._textBox.domNode.style.width="auto";var a=this._findNextButton.domNode.offsetWidth+this._findPreviousButton.domNode.offsetWidth,c=h.getComputedStyle(this.containerNode),
a=b.getContentBox(this.containerNode,c).w-1-a;b.setMarginBox(this._textBox.domNode,{w:a})}},_find:function(){var a=this._textBox.get("value");this._activeTree.model.find(a,this._getTreeFocusIdentity())},_findNext:function(){var a=this._textBox.get("value");this._activeTree.model.findNext(a,this._getTreeFocusIdentity())},_findPrevious:function(){var a=this._textBox.get("value");this._activeTree.model.findPrevious(a,this._getTreeFocusIdentity())},_onFind:function(b,c,d,f){if(f){b=function(){m[0]+=n[0];
m[1]+=n[1];m[2]+=n[2];p++;h.set(g,{backgroundColor:new a(m)});5<=p&&(e.remove(g,"tm1webPatternNotFound"),h.set(g,{transitionDuration:k,WebkitTransitionDuration:l,backgroundColor:""}),clearInterval(q),q=null)};var g=this._textBox.domNode,k=g.style.transitionDuration,l=g.style.WebkitTransitionDuration;h.set(g,{transitionDuration:"0s",WebkitTransitionDuration:"0s"});c=h.get(g,"backgroundColor");c=(new a(c)).toRgb();e.add(g,"tm1webPatternNotFound");var m=(new a(h.get(g,"backgroundColor"))).toRgb(),n=
function(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push((b[e]-a[e])/c);return d}(m,c,5),p=1,q=null,q=setInterval(b,20);b()}},_getTreeFocusIdentity:function(){var a=this._activeTree.get("tree").get("selected");return a?this._activeTree.model.getIdentity(a.item):-1},_isVisible:function(){return 0<this.domNode.offsetWidth||0<this.domNode.offsetHeight}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(m,n,l){var k=m.some;return function(g){var b,h;g instanceof
Array?h=g:g&&"object"===typeof g&&(b=g);var e,f=[];if(b){h=[];for(var a in b)Object.hasOwnProperty.call(b,a)&&(f.push(a),h.push(b[a]));e={}}else h&&(e=[]);if(!h||!h.length)return(new n).resolve(e);var d=new n;d.promise.always(function(){e=f=null});var c=h.length;k(h,function(a,g){b||f.push(g);l(a,function(a){d.isFulfilled()||(e[f[g]]=a,0===--c&&d.resolve(e))},d.reject);return d.isFulfilled()});return d.promise}})},"tm1web/workbook/controls/_ControlMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/touch dojo/dom-class dijit/_WidgetBase".split(" "),
function(m,n,l,k,g,b){return m(null,{model:null,controlId:null,styleId:"",disabled:!1,buildRendering:function(){this.inherited(arguments);this.styleId&&g.add(this.domNode,this.styleId)},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"mousedown, touchstart, touchend, click, dblclick, selectstart",function(b){b.stopPropagation()}));this.own(l(this.domNode,"contextmenu",function(b){b.stopPropagation();b.preventDefault()}))},update:function(b){this.set("style",b.style);null!=
b.disabled&&this.set("disabled",b.disabled)},_setStyleAttr:function(b){var e=arguments[0]=n.mixin({},b);null!=e.zIndex&&(e.zIndex+=10);this.inherited(arguments)},_setDisabledAttr:function(b){this.domNode.disabled=b;g.toggle(this.domNode,"tm1webGridControlDisabled",b)}})})},"dijit/nls/loading":function(){define({root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,
it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dojox/grid/_View":function(){define("dojo dijit/registry ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/_base/sniff dojo/query dojo/_base/window dojo/text!./resources/View.html dojo/dnd/Source dijit/_Widget dijit/_TemplatedMixin dojox/html/metrics ./util dojo/_base/html ./_Builder dojo/dnd/Avatar dojo/dnd/Manager".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,
s,r,t,u,x,w){d=k("dojox.grid._View",[p,q],{defaultWidth:"18em",viewWidth:"",templateString:d,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:u._HeaderBuilder,_contentBuilderClass:u._ContentBuilder,postMixInProperties:function(){this.rowNodes={}},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");r.funnelEvents(this.contentNode,this,"doContentEvent","mouseover mouseout click dblclick contextmenu mousedown".split(" "));r.funnelEvents(this.headerNode,
this,"doHeaderEvent","dblclick mouseover mouseout mousemove mousedown click contextmenu".split(" "));this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);this.grid.isLeftToRight()||(this.headerNodeContainer.style.width="")},destroy:function(){t.destroy(this.headerNode);delete this.headerNode;for(var a in this.rowNodes)this._cleanupRowWidgets(this.rowNodes[a]),t.destroy(this.rowNodes[a]);this.rowNodes={};this.source&&this.source.destroy();this.inherited(arguments)},
focus:function(){e("ie")||e("webkit")||e("opera")?this.hiddenFocusNode.focus():this.scrollboxNode.focus()},setStructure:function(a){a=this.structure=a;a.width&&!isNaN(a.width)?this.viewWidth=a.width+"em":this.viewWidth=a.width||(a.noscroll?"auto":this.viewWidth);this._onBeforeRow=a.onBeforeRow||function(){};this._onAfterRow=a.onAfterRow||function(){};if(this.noscroll=a.noscroll)this.scrollboxNode.style.overflow="hidden";this.simpleStructure=Boolean(1==a.cells.length);this.testFlexCells();this.updateStructure()},
_cleanupRowWidgets:function(a){a&&g.forEach(f("[widgetId]",a).map(n.byNode),function(a){a._destroyOnRemove?(a.destroy(),delete a):a.domNode&&a.domNode.parentNode&&a.domNode.parentNode.removeChild(a.domNode)})},onBeforeRow:function(a,b){this._onBeforeRow(a,b);0<=a&&this._cleanupRowWidgets(this.getRowNode(a))},onAfterRow:function(a,b,c){this._onAfterRow(a,b,c);var d=this.grid;g.forEach(f(".dojoxGridStubNode",c),function(a){if(a&&a.parentNode){var b=a.getAttribute("linkWidget"),c=window.parseInt(t.attr(a,
"cellIdx"),10);d.getCell(c);(b=n.byId(b))?(a.parentNode.replaceChild(b.domNode,a),b._started||b.startup(),m.destroy(a)):a.innerHTML=""}},this)},testFlexCells:function(){this.flexCells=!1;for(var a=0,b;b=this.structure.cells[a];a++)for(var c=0,d;d=b[c];c++)d.view=this,this.flexCells=this.flexCells||d.isFlex();return this.flexCells},updateStructure:function(){this.header.update();this.content.update()},getScrollbarWidth:function(){var a=this.hasVScrollbar(),b=t.style(this.scrollboxNode,"overflow");
this.noscroll||!b||"hidden"==b?a=!1:"scroll"==b&&(a=!0);return a?s.getScrollbar().w:0},getColumnsWidth:function(){var a=this.headerContentNode;return a&&a.firstChild?a.firstChild.offsetWidth||t.style(a.firstChild,"width"):0},setColumnsWidth:function(a){this.headerContentNode.firstChild.style.width=a+"px";this.viewWidth&&(this.viewWidth=a+"px")},getWidth:function(){return this.viewWidth||this.getColumnsWidth()+this.getScrollbarWidth()+"px"},getContentWidth:function(){return Math.max(0,t._getContentBox(this.domNode).w-
this.getScrollbarWidth())+"px"},render:function(){this.scrollboxNode.style.height="";this.renderHeader();0<=this._togglingColumn&&(this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn),this._togglingColumn=-1);var d=this.grid.layout.cells,f=b.hitch(this,function(a,b){!this.grid.isLeftToRight()&&(b=!b);for(var c=b?-1:1,e=this.header.getCellNodeIndex(a)+c,f=d[e];f&&f.getHeaderNode()&&"none"==f.getHeaderNode().style.display;)e+=c,f=d[e];return f?f.getHeaderNode():null});if(this.grid.columnReordering&&
this.simpleStructure){this.source&&this.source.destroy();this.bottomMarker&&t.destroy(this.bottomMarker);this.bottomMarker=t.byId("dojoxGrid_bottomMarker");this.topMarker&&t.destroy(this.topMarker);this.topMarker=t.byId("dojoxGrid_topMarker");this.bottomMarker||(this.bottomMarker=t.create("div",{id:"dojoxGrid_bottomMarker","class":"dojoxGridColPlaceBottom"},a.body()),this._hide(this.bottomMarker),this.topMarker=t.create("div",{id:"dojoxGrid_topMarker","class":"dojoxGridColPlaceTop"},a.body()),this._hide(this.topMarker));
this.arrowDim=t.contentBox(this.bottomMarker);var g=t.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new c(this.headerContentNode.firstChild.rows[0],{horizontal:!0,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:!1,onMouseDown:b.hitch(this,function(a){this.header.decorateEvent(a);if((this.header.overRightResizeArea(a)||this.header.overLeftResizeArea(a))&&this.header.canResize(a)&&!this.header.moveable)this.header.beginColumnResize(a);else{if(this.grid.headerMenu)this.grid.headerMenu.onCancel(!0);
a.button===(9>e("ie")?1:0)&&c.prototype.onMouseDown.call(this.source,a)}}),onMouseOver:b.hitch(this,function(a){var b=this.source;b._getChildByEvent(a)&&c.prototype.onMouseOver.apply(b,arguments)}),_markTargetAnchor:b.hitch(this,function(a){var b=this.source;if(b.current!=b.targetAnchor||b.before!=a){b.targetAnchor&&f(b.targetAnchor,b.before)&&b._removeItemClass(f(b.targetAnchor,b.before),b.before?"After":"Before");c.prototype._markTargetAnchor.call(b,a);var d=a?b.targetAnchor:f(b.targetAnchor,b.before);
a=0;d||(d=b.targetAnchor,a=t.contentBox(d).w+this.arrowDim.w/2+2);d=t.position(d,!0);a=Math.floor(d.x-this.arrowDim.w/2+a);t.style(this.bottomMarker,"visibility","visible");t.style(this.topMarker,"visibility","visible");t.style(this.bottomMarker,{left:a+"px",top:g+d.y+"px"});t.style(this.topMarker,{left:a+"px",top:d.y-this.arrowDim.h+"px"});b.targetAnchor&&f(b.targetAnchor,b.before)&&b._addItemClass(f(b.targetAnchor,b.before),b.before?"After":"Before")}}),_unmarkTargetAnchor:b.hitch(this,function(){var a=
this.source;a.targetAnchor&&(a.targetAnchor&&f(a.targetAnchor,a.before)&&a._removeItemClass(f(a.targetAnchor,a.before),a.before?"After":"Before"),this._hide(this.bottomMarker),this._hide(this.topMarker),c.prototype._unmarkTargetAnchor.call(a))}),destroy:b.hitch(this,function(){h.disconnect(this._source_conn);h.unsubscribe(this._source_sub);c.prototype.destroy.call(this.source);this.bottomMarker&&(t.destroy(this.bottomMarker),delete this.bottomMarker);this.topMarker&&(t.destroy(this.topMarker),delete this.topMarker)}),
onDndCancel:b.hitch(this,function(){c.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker)})});this._source_conn=h.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=h.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup()}},_hide:function(a){t.style(a,{top:"-10000px",visibility:"hidden"})},_onDndDropBefore:function(a,b,c){w.manager().target===this.source&&(this.source._targetNode=this.source.targetAnchor,this.source._beforeTarget=
this.source.before,b=this.grid.views.views,a=b[a.viewIndex],b=b[this.index],b!=a&&(a.convertColPctToFixed(),b.convertColPctToFixed()))},_onDndDrop:function(a,b,c){if(w.manager().target!==this.source)w.manager().source===this.source&&(this._removingColumn=!0);else{this._hide(this.bottomMarker);this._hide(this.topMarker);c=function(a){return a?t.attr(a,"idx"):null};var d=t.marginBox(b[0]).w;if(a.viewIndex!==this.index){var e=this.grid.views.views,f=e[a.viewIndex],e=e[this.index];f.viewWidth&&"auto"!=
f.viewWidth&&f.setColumnsWidth(f.getColumnsWidth()-d);e.viewWidth&&"auto"!=e.viewWidth&&e.setColumnsWidth(e.getColumnsWidth())}d=this.source._targetNode;f=this.source._beforeTarget;!this.grid.isLeftToRight()&&(f=!f);var e=this.grid.layout,g=this.index;delete this.source._targetNode;delete this.source._beforeTarget;e.moveColumn(a.viewIndex,g,c(b[0]),c(d),f)}},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);this.flexCells&&(this.contentWidth=
this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);r.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode])},_getHeaderContent:function(a){var b=a.name||a.grid.getCellName(a);/^\s+$/.test(b)&&(b="\x26nbsp;");var c=['\x3cdiv class\x3d"dojoxGridSortNode'];a.index!=a.grid.getSortIndex()?c.push('"\x3e'):c=c.concat([" ",0<a.grid.sortInfo?"dojoxGridSortUp":"dojoxGridSortDown",'"\x3e\x3cdiv class\x3d"dojoxGridArrowButtonChar"\x3e',0<a.grid.sortInfo?
"\x26#9650;":"\x26#9660;",'\x3c/div\x3e\x3cdiv class\x3d"dojoxGridArrowButtonNode" role\x3d"presentation"\x3e\x3c/div\x3e','\x3cdiv class\x3d"dojoxGridColCaption"\x3e']);c=c.concat([b,"\x3c/div\x3e\x3c/div\x3e"]);return c.join("")},resize:function(){this.adaptHeight();this.adaptWidth()},hasHScrollbar:function(a){var b=this._hasHScroll||!1;if(void 0==this._hasHScroll||a)this.noscroll?this._hasHScroll=!1:(a=t.style(this.scrollboxNode,"overflow"),this._hasHScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.offsetWidth-
this.getScrollbarWidth()<this.contentNode.offsetWidth);b!==this._hasHScroll&&this.grid.update();return this._hasHScroll},hasVScrollbar:function(a){var b=this._hasVScroll||!1;if(void 0==this._hasVScroll||a)this.noscroll?this._hasVScroll=!1:(a=t.style(this.scrollboxNode,"overflow"),this._hasVScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);b!==this._hasVScroll&&this.grid.update();return this._hasVScroll},convertColPctToFixed:function(){var a=!1;this.grid.initialWidth=
"";var b=f("th",this.headerContentNode),c=g.map(b,function(b,c){var d=b.style.width;t.attr(b,"vIdx",c);if(d&&"%"==d.slice(-1))a=!0;else if(d&&"px"==d.slice(-2))return window.parseInt(d,10);return t.contentBox(b).w});return a?(g.forEach(this.grid.layout.cells,function(a,b){if(a.view==this){var d=a.view.getHeaderCellNode(a.index);if(d&&t.hasAttr(d,"vIdx")){var e=window.parseInt(t.attr(d,"vIdx"));this.setColWidth(b,c[e]);t.removeAttr(d,"vIdx")}}},this),!0):!1},adaptHeight:function(a){if(!this.grid._autoHeight){var b=
this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10)||this.domNode.clientHeight;if(!a&&(a=this.noscroll))a:{for(var c=0;c<this.grid.views.views.length;++c)if(a=this.grid.views.views[c],a!==this&&a.hasHScrollbar()){a=!0;break a}a=!1}a&&(b-=s.getScrollbar().h);r.setStyleHeightPx(this.scrollboxNode,b)}this.hasVScrollbar(!0)},adaptWidth:function(){this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);var a=
this.scrollboxNode.offsetWidth-this.getScrollbarWidth();this._removingColumn?(a=Math.min(a,this.getColumnsWidth())+"px",this._removingColumn=!1):a=Math.max(a,this.getColumnsWidth())+"px";this.contentNode.style.width=a;this.hasHScrollbar(!0)},setSize:function(a,b){var c=this.domNode.style,d=this.headerNode.style;a&&(c.width=a,d.width=a);c.height=0<=b?b+"px":""},renderRow:function(a){var b=this.createRowNode(a);this.buildRow(a,b);return b},createRowNode:function(a){var b=document.createElement("div");
b.className=this.classTag+"Row";this instanceof l.grid._RowSelector?t.attr(b,"role","presentation"):(t.attr(b,"role","row"),"none"!=this.grid.selectionMode&&b.setAttribute("aria-selected","false"));b[r.gridViewTag]=this.id;b[r.rowIndexTag]=a;return this.rowNodes[a]=b},buildRow:function(a,b){this.buildRowContent(a,b);this.styleRow(a,b)},buildRowContent:function(a,b){b.innerHTML=this.content.generateHtml(a,a);this.flexCells&&this.contentWidth&&(b.firstChild.style.width=this.contentWidth);r.fire(this,
"onAfterRow",[a,this.structure.cells,b])},rowRemoved:function(a){0<=a&&this._cleanupRowWidgets(this.getRowNode(a));this.grid.edit.save(this,a);delete this.rowNodes[a]},getRowNode:function(a){return this.rowNodes[a]},getCellNode:function(a,b){var c=this.getRowNode(a);if(c)return this.content.getCellNode(c,b)},getHeaderCellNode:function(a){if(this.headerContentNode)return this.header.getCellNode(this.headerContentNode,a)},styleRow:function(a,b){var c;c=void 0==b.style.cssText?b.getAttribute("style"):
b.style.cssText;b._style=c;this.styleRowNode(a,b)},styleRowNode:function(a,b){b&&this.doStyleRowNode(a,b)},doStyleRowNode:function(a,b){this.grid.styleRowNode(a,b)},updateRow:function(a){var b=this.getRowNode(a);b&&(b.style.height="",this.buildRow(a,b));return b},updateRowStyles:function(a){this.styleRowNode(a,this.getRowNode(a))},lastTop:0,firstScroll:0,_nativeScroll:!1,doscroll:function(a){if(13<=e("ff")||e("chrome"))this._nativeScroll=!0;a=this.grid.isLeftToRight();if(2>this.firstScroll){if(!a&&
1==this.firstScroll||a&&0===this.firstScroll){var b=t.marginBox(this.headerNodeContainer);e("ie")?this.headerNodeContainer.style.width=b.w+this.getScrollbarWidth()+"px":e("mozilla")&&(this.headerNodeContainer.style.width=b.w-this.getScrollbarWidth()+"px",this.scrollboxNode.scrollLeft=a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth)}this.firstScroll++}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;a=this.scrollboxNode.scrollTop;
a!==this.lastTop&&this.grid.scrollTo(a);this._nativeScroll=!1},setScrollTop:function(a){this.lastTop=a;this._nativeScroll||(this.scrollboxNode.scrollTop=a);return this.scrollboxNode.scrollTop},doContentEvent:function(a){if(this.content.decorateEvent(a))this.grid.onContentEvent(a)},doHeaderEvent:function(a){if(this.header.decorateEvent(a))this.grid.onHeaderEvent(a)},dispatchContentEvent:function(a){return this.content.dispatchEvent(a)},dispatchHeaderEvent:function(a){return this.header.dispatchEvent(a)},
setColWidth:function(a,b){this.grid.setCellWidth(a,b+"px")},update:function(){if(this.domNode){this.content.update();this.grid.update();var a=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=a;this.headerNode.scrollLeft=a}}});var v=k("dojox.grid._GridAvatar",x,{construct:function(){var b=a.doc,c=b.createElement("table");c.cellPadding=c.cellSpacing="0";c.className="dojoxGridDndAvatar";c.style.position="absolute";c.style.zIndex=1999;c.style.margin="0px";var d=b.createElement("tbody"),e=b.createElement("tr"),
f=b.createElement("td"),g=b.createElement("td");e.className="dojoxGridDndAvatarItem";g.className="dojoxGridDndAvatarItemImage";g.style.width="16px";var h=this.manager.source;if(h.creator)h=h._normalizedCreator(h.getItem(this.manager.nodes[0].id).data,"avatar").node;else{var h=this.manager.nodes[0].cloneNode(!0),k,l;"tr"==h.tagName.toLowerCase()?(k=b.createElement("table"),l=b.createElement("tbody"),l.appendChild(h),k.appendChild(l),h=k):"th"==h.tagName.toLowerCase()&&(k=b.createElement("table"),l=
b.createElement("tbody"),b=b.createElement("tr"),k.cellPadding=k.cellSpacing="0",b.appendChild(h),l.appendChild(b),k.appendChild(l),h=k)}h.id="";f.appendChild(h);e.appendChild(g);e.appendChild(f);t.style(e,"opacity",.9);d.appendChild(e);c.appendChild(d);this.node=c;c=w.manager();this.oldOffsetY=c.OFFSET_Y;c.OFFSET_Y=1},destroy:function(){w.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments)}}),y=w.manager().makeAvatar;w.manager().makeAvatar=function(){return void 0===this.source.viewIndex||
t.hasClass(a.body(),"dijit_a11y")?y.call(w.manager()):new v(this)};return d})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p){m=m("dijit.TooltipDialog",[e,d,a,f],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,
templateString:c,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"keydown",g.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight",
"BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];n.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();h.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==
a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==k.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==k.TAB){var b=a.target;this._getFocusItems();
this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(h.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey?a.stopPropagation():(h.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}}});l("dojo-bidi")&&m.extend({_setTitleAttr:function(a){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){this._created&&
this.textDir==a||(this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}});return m})},"tm1web/widgets/ErrorAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(m,n,l,k,g,b){var h=m("tm1web.widgets.ErrorAlert",b,{buildRendering:function(){this.inherited(arguments);k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,
"dijitHidden");this.containerNode.setAttribute("aria-label",g.get("ARIA_IMG_ERROR_STR"))}});h.show=function(b){var f=new l;b.className="tm1webErrorDialog tm1webMessageDialog";b=new h(b);var a=n.after(b,"onHide",function(){a.remove();f.resolve()});b.show();return f.promise};return h})},"url:tm1web/subseteditor/templates/PagingSlider.html":'\x3cdiv class\x3d"tm1webPagingSlider" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/form/HorizontalSlider" style\x3d"display:none;" data-dojo-attach-point\x3d"_slider"\r\n\t\tdata-dojo-attach-event\x3d"onChange:onChange" data-dojo-props\x3d"minimum:1, value:1"\x3e\x3c/div\x3e\r\n\t\x3cspan data-dojo-type\x3d"../share/Label" data-dojo-attach-point\x3d"_label"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:dojox/grid/resources/View.html":'\x3cdiv class\x3d"dojoxGridView" role\x3d"presentation"\x3e\r\n\t\x3cdiv class\x3d"dojoxGridHeader" dojoAttachPoint\x3d"headerNode" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"headerNodeContainer" style\x3d"width:9000em" role\x3d"presentation"\x3e\r\n\t\t\t\x3cdiv dojoAttachPoint\x3d"headerContentNode" role\x3d"row"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" dojoAttachPoint\x3d"hiddenFocusNode" role\x3d"presentation" /\x3e\r\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" role\x3d"presentation" /\x3e\r\n\t\x3cdiv class\x3d"dojoxGridScrollbox" dojoAttachPoint\x3d"scrollboxNode" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dojoxGridContent" dojoAttachPoint\x3d"contentNode" hidefocus\x3d"hidefocus" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/grid/templates/Cell.html":'\x3cdiv class\x3d"tm1webGridCell" role\x3d"gridcell"\x3e\x3cspan class\x3d"tm1webGridCellContent"\x3e\x3c/span\x3e\x3c/div\x3e',"url:tm1web/subseteditor/templates/FilterByLevelDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFilterByLevelDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByLevelLabel"\x3e${_selectLevelsLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"tm1webSubsetEditorComboBox" data-dojo-attach-point\x3d"_levelsComboNode"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" disabled\x3d"disabled"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/ElementSelector.html":'\x3cdiv class\x3d"tm1webElementSelector" role\x3d"presentation" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode" role\x3d"dialog"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"_findBarNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"_treeNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3dtm1webElementSelectorButtonContainer data-dojo-attach-point\x3d"_buttonContainerNode"\x3e\r\n\t\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_openSubsetEditor"\r\n\t\t\t\t\t\tdata-dojo-props\x3d"iconClass:\'tm1webSubsetEditorIconOpenSubsetEditor\', showLabel:false"\x3e\r\n\t\t\t\t    ${_buttonLabel}\r\n\t\t\t\t\x3c/button\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"_connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/SaveAsDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e \r\n        \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \r\n            \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n            \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n            \x3cdiv id\x3d"${id}_subsetNameTextBox"\x3e\r\n            \x3clabel\x3e${_textBoxLabel}\x3c/label\x3e \r\n            \x3cinput type\x3d"text"\r\n                data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                data-dojo-attach-point\x3d"_textBox"\r\n                data-dojo-props\x3d"intermediateChanges:true, tooltipPosition:[\'below\'], required:true, invalidMessage:\'${_privateSubsetExistsMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorCheckboxArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput id\x3d"${id}_savePublicCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                        data-dojo-attach-point\x3d"_savePublicCheckBox"\r\n                        data-dojo-attach-event\x3d"onChange:_onSavePublicCheckBoxChanged" /\x3e \r\n                    \x3clabel for\x3d"${id}_savePublicCheckBox"\x3e${_savePublicCheckBoxLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput id\x3d"${id}_overwriteExistingCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                        data-dojo-attach-point\x3d"_overwriteExistingCheckBox"\r\n                        data-dojo-attach-event\x3d"onChange:_onCheckBoxChanged" /\x3e \r\n                    \x3clabel for\x3d"${id}_overwriteExistingCheckBox"\x3e${_overwriteExistingCheckBoxLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                class\x3d"tm1WebBtnPrimary"\r\n                data-dojo-attach-point\x3d"_submitButton"\r\n                data-dojo-attach-event\x3d"onClick:_onOk" disabled\x3d"disabled"\x3e\r\n                ${_submitButtonLabel}\x3c/button\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                class\x3d"tm1webBtnSecondary"\r\n                data-dojo-attach-point\x3d"_cancelButton"\r\n                data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                ${_cancelButtonLabel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/workbook/templates/AFHeaderCell.html":'\x3cdiv class\x3d"tm1webGridCell tm1webGridAFHeaderCell"\x3e\t\x3cspan class\x3d"tm1webGridCellContent"\x3e\x3cspan\r\n\t\tclass\x3d"tm1webHeaderLabel"\x3e\x3c/span\x3e\x3c/span\x3e\r\n\x3c/div\x3e',"url:tm1web/workbook/templates/AFHeaderCellImage.html":'\x3cdiv class\x3d"tm1webGridCell tm1webGridAFHeaderCell"\x3e\r\n    \x3cspan class\x3d"tm1webGridCellContent"\x3e\r\n        \x3cspan class\x3d"tm1webActiveFormHeaderIcon"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"tm1webHeaderLabel"\x3e\x3c/span\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n",
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\r\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\x3cthead\x3e\r\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t${!dayCellsHtml}\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/thead\x3e\r\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t${!dateRowsHtml}\r\n\t\x3c/tbody\x3e\r\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\r\n\t\t\x3ctr\x3e\r\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/td\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/tfoot\x3e\r\n\x3c/table\x3e\r\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\r\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\r\n\t\t\ttitle\x3d"${optionsTitle}"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\r\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\r\n\t\t\t\tclass\x3d"dijitOffScreen"\r\n\t\t\t\trole\x3d"presentation" aria-hidden\x3d"true"\r\n\t\t\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:tm1web/workbook/controls/templates/ComboBox.html":'\x3cselect class\x3d"tm1webGridControl" data-dojo-attach-event\x3d"onchange:_onChange"\x3e\x3c/select\x3e',"url:tm1web/subseteditor/templates/FilterByExpressionDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByExpressionLabel"\x3e${_enterExpressionLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput type\x3d"text" class\x3d"tm1webSubsetEditorTextBox"\r\n                        data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                        data-dojo-attach-point\x3d"_textBox"\r\n                        data-dojo-props\x3d"intermediateChanges:true, tooltipPosition:[\'below\'], required:true" /\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cdiv class\x3d"tm1webDescription"\x3e${_expressionExampleLabel}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit" disabled\x3d"disabled"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:tm1web/workbook/controls/templates/_CheckableControl.html":'\x3cdiv class\x3d"tm1webGridControl tm1webGridCheckableControl" tabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\r\n\t\x3cdiv class\x3d"tm1webGridCheckableControlTable" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webGridCheckableControlRow" role\x3d"presentation"\x3e\r\n\t\t\t\x3cdiv class\x3d"tm1webGridCheckableControlCell tm1webGridCheckableControlInputCell" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3cinput id\x3d"${id}_input" type\x3d"${_type}" role\x3d"${_type}" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_inputNode" data-dojo-attach-event\x3d"onchange:_onChange"/\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"tm1webGridCheckableControlCell" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3clabel id\x3d"${id}_label" for\x3d"${id}_input" data-dojo-attach-point\x3d"_labelNode"\x3e${label}\x3c/label\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/ExpandAboveTreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/grid/resources/_Grid.html":'\x3cdiv hidefocus\x3d"hidefocus" role\x3d"grid" dojoAttachEvent\x3d"onmouseout:_mouseOut"\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterHeader" dojoAttachPoint\x3d"viewsHeaderNode" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterView" dojoAttachPoint\x3d"viewsNode" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterMessages" style\x3d"display: none;" dojoAttachPoint\x3d"messagesNode"\x3e\x3c/div\x3e\r\n\t\x3cspan dojoAttachPoint\x3d"lastFocusNode" tabindex\x3d"0"\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/workbook/controls/templates/TextBox.html":'\x3ctextarea class\x3d"tm1webGridControl tm1webGridTextBoxControl" data-dojo-attach-event\x3d"onchange:_onChange"\x3e\x3c/textarea\x3e',"url:tm1web/grid/templates/Grid.html":'\x3cdiv class\x3d"tm1webGrid" role\x3d"grid" tabindex\x3d"0" aria-label\x3d"grid"\x3e\r\n\t\x3c!-- div class\x3d"tm1webGridVerticalHeader" role\x3d"presentation" data-dojo-attach-point\x3d"_verticalHeaderNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"tm1webGridHorizontalHeader" role\x3d"presentation" data-dojo-attach-point\x3d"_horizontalHeaderNode"\x3e\x3c/div --\x3e\r\n    \x3cdiv class\x3d"tm1webGridMain" role\x3d"presentation" data-dojo-attach-point\x3d"_containerNode"\x3e\r\n    \t\x3cdiv class\x3d"tm1webGridScrollGutter tm1webGridScrollGutterBottom" data-dojo-attach-point\x3d"_bottomScrollGutterNode"\x3e\x3c/div\x3e\r\n    \t\x3cdiv class\x3d"tm1webGridScrollGutter tm1webGridScrollGutterRight" data-dojo-attach-point\x3d"_rightScrollGutterNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cinput\r\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\r\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point\x3d"focusNode"\r\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}"\r\n\trole\x3d"combobox"\r\n\taria-haspopup\x3d"true"\r\n\tdata-dojo-attach-point\x3d"_popupStateNode"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:tm1web/workbook/templates/SubnmCell.html":'\x3cdiv class\x3d"tm1webGridCell tm1webSubnmIcon"\x3e\x3cspan class\x3d"tm1webGridCellContent"\x3e\x3c/span\x3e\x3c/div\x3e',"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/grid/templates/GridPane.html":'\x3cdiv class\x3d"tm1webGridPane"\x3e\r\n    \x3cdiv class\x3d"tm1webGridMeshRowContainer" data-dojo-attach-point\x3d"_meshRowContainerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"tm1webGridMeshColumnContainer" data-dojo-attach-point\x3d"_meshColumnContainerNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"tm1webGridPaneContainer" data-dojo-attach-point\x3d"containerNode" role\x3d"grid"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',"url:tm1web/workbook/controls/templates/ActionButton.html":'\x3cbutton class\x3d"tm1webGridControl tm1webGridActionButton ${styleId}" tabIndex\x3d"-1" role\x3d"button" data-dojo-attach-event\x3d"onclick:_onClick"\x3e${caption}\x3c/button\x3e',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\t\t\t${!actionBarTemplate}\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\r\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'dijitTabLabel\'\x3e\x3c/span\x3e\r\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\r\n\t\t  role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\r\n\t\t\t\t\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/grid/templates/MeshColumn.html":'\x3cdiv class\x3d"tm1webGridMeshColumn tm1webGridCellDefaultBorder"\x3e\x3c/div\x3e',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:tm1web/subseteditor/templates/CreateConsolidationDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webCreateConsolidationDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel\x3e${_selectLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y" data-dojo-attach-point\x3d"_subsetSelect" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" disabled\x3d"disabled"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/FilterByAttributeDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n            class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n            id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByAttributeLabel"\x3e${_selectAttributeLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y"\r\n                        data-dojo-attach-point\x3d"_attributeNamesSelect"\r\n                        data-dojo-props\x3d"tooltipPosition:[\'below\'], invalidMessage:\'${_invalidMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByAttributeMatchedValueLabel"\x3e${_selectValueLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y"\r\n                        data-dojo-attach-point\x3d"_attributeValuesSelect"\r\n                        data-dojo-props\x3d"tooltipPosition:[\'below\'], invalidMessage:\'${_invalidMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit" disabled\x3d"disabled"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/workbook/controls/templates/Label.html":'\x3cdiv class\x3d"tm1webGridControl"\x3e${text}\x3c/div\x3e',"url:tm1web/workbook/templates/IconSetCell.html":'\x3cdiv class\x3d"tm1webGridCell"\x3e\x3cimg class\x3d"tm1webIconSetIcon"/\x3e\x3cspan class\x3d"tm1webGridCellContent"\x3e\x3c/span\x3e\x3c/div\x3e',"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/layout/_ScrollingTabControllerMenuButton"\r\n\t\t class\x3d"tabStripButton-${tabPosition}"\r\n\t\t id\x3d"${id}_menuBtn"\r\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\r\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\r\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/layout/_ScrollingTabControllerButton"\r\n\t\t class\x3d"tabStripButton-${tabPosition}"\r\n\t\t id\x3d"${id}_leftBtn"\r\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\r\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/layout/_ScrollingTabControllerButton"\r\n\t\t class\x3d"tabStripButton-${tabPosition}"\r\n\t\t id\x3d"${id}_rightBtn"\r\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\r\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\r\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\r\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\r\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
"url:tm1web/grid/templates/MeshRow.html":'\x3cdiv class\x3d"tm1webGridMeshRow tm1webGridCellDefaultBorder"\x3e\x3c/div\x3e',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\r\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\r\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:tm1web/subseteditor/templates/FindBar.html":'\x3cdiv class\x3d"tm1webFindBar" role\x3d"toolbar" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_textBox"\r\n            class\x3d"tm1webSubsetEditorFindBarInput"\r\n            data-dojo-props\x3d"intermediateChanges:true, placeHolder:\'${_textBoxPlaceHolderLabel}\'"/\x3e\r\n    \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"tm1webFindPreviousButton"\r\n            data-dojo-attach-point\x3d"_findPreviousButton"\r\n            data-dojo-attach-event\x3d"onClick:_findPrevious"\r\n            data-dojo-props\x3d"showLabel:false, iconClass:\'tm1webIconFindButton tm1webIconFindPreviousButton\'"\x3e\r\n        ${_findPreviousLabel}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"tm1webFindNextButton"\r\n    data-dojo-attach-point\x3d"_findNextButton"\r\n             data-dojo-attach-event\x3d"onClick:_findNext"\r\n             data-dojo-props\x3d"showLabel:false, iconClass:\'tm1webIconFindButton tm1webIconFindNextButton\'"\x3e\r\n        ${_findNextLabel}\r\n    \x3c/button\x3e\r\n\x3c/div\x3e',
"url:tm1web/workbook/controls/templates/_CheckableControlLeftAlign.html":'\x3cdiv class\x3d"tm1webGridControl tm1webGridCheckableControl" tabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\r\n\t\x3cdiv class\x3d"tm1webGridCheckableControlTable" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webGridCheckableControlRow" role\x3d"presentation"\x3e\r\n\t\t\t\x3cdiv class\x3d"tm1webGridCheckableControlCell" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3clabel id\x3d"${id}_label" for\x3d"${id}_input" data-dojo-attach-point\x3d"_labelNode"\x3e${label}\x3c/label\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3d"tm1webGridCheckableControlCell tm1webGridCheckableControlInputCell" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3cinput id\x3d"${id}_input" type\x3d"${_type}" role\x3d"${_type}" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_inputNode" data-dojo-attach-event\x3d"onchange:_onChange"/\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\r\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\r\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:tm1web/workbook/controls/templates/Image.html":'\x3cimg class\x3d"tm1webGridControl" role\x3d"img" /\x3e',
"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:tm1web/grid/templates/SelectionOverlay.html":'\x3cdiv data-dojo-attach-point\x3d"selectionOverlay"\x3e \r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/LeftBorderSelection"\r\n\t\t data-dojo-attach-point\x3d"overlayBorder_left" \r\n\t\t class\x3d"tm1webSelection_overlay tm1webCell_selection_border tm1webCell_selection_border_left"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/TopBorderSelection"\r\n\t\t data-dojo-attach-point\x3d"overlayBorder_top" \r\n\t\t class\x3d"tm1webSelection_overlay tm1webCell_selection_border tm1webCell_selection_border_top"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/BottomBorderSelection" \r\n\t\t data-dojo-attach-point\x3d"overlayBorder_bottom"\r\n\t     class\x3d"tm1webSelection_overlay tm1webCell_selection_border tm1webCell_selection_border_bottom"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/RightBorderSelection"\r\n\t \t data-dojo-attach-point\x3d"overlayBorder_right"\r\n\t     class\x3d"tm1webSelection_overlay tm1webCell_selection_border tm1webCell_selection_border_right"\x3e\x3c/div\x3e\r\n\t\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/LeftSelectionOverlay"\r\n\t\t data-dojo-attach-point\x3d"overlayPanel_left"\r\n\t     class\x3d"tm1webSelection_overlay tm1webMulti_selection_overlay"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/TopSelectionOverlay"\r\n\t\t data-dojo-attach-point\x3d"overlayPanel_top"\r\n\t     class\x3d"tm1webSelection_overlay tm1webMulti_selection_overlay"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/BottomSelectionOverlay"\r\n\t\t data-dojo-attach-point\x3d"overlayPanel_bottom"\r\n\t     class\x3d"tm1webSelection_overlay tm1webMulti_selection_overlay"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-type\x3d"../tm1web/grid/selection/RightSelectionOverlay"\r\n\t\t data-dojo-attach-point\x3d"overlayPanel_right"\r\n\t     class\x3d"tm1webSelection_overlay tm1webMulti_selection_overlay"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:tm1web/subseteditor/templates/SubsetEditor.html":'\x3cdiv class\x3d"dijitDialog tm1webSubsetEditor" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n\t\t\ttitle\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent" id\x3d"${id}_container"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webSubsetEditorTitleBar" id\x3d"${id}_titlebar"\x3e\r\n\t\t\t\x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"_topToolbarNode"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"_bottomToolbarNode"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-attach-point\x3d"_treeContainer" class\x3d"tm1webSubsetEditorTreeContainer"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\tclass\x3d"tm1WebBtnPrimary"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onSubmit"\x3e\r\n\t\t\t    ${_submitButtonLabel}\r\n\t\t\t\x3c/button\x3e\r\n\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\tclass\x3d"tm1webBtnSecondary"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n\t\t\t    ${_cancelButtonLabel}\r\n\t\t\t\x3c/button\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/grid/templates/CellRow.html":'\x3cdiv class\x3d"tm1webGridCellRow" role\x3d"row"\x3e\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/Deferred dojo/aspect dojo/sniff dijit/layout/TabContainer dojo/dom-class dojox/html/entities ../share/TM1Utility ../utility/css-loader ../widgets/AlertDialog ../widgets/ErrorAlert ./model/Model ./Worksheet ../utility/message-localizer".split(" "),function(m,n,l,k,g,b,h,e,f,a,d,c,p,q,s,r,t){return m("tm1web.workbook.Workbook",e,{tabPosition:"bottom",model:null,sessionToken:null,objectId:null,replaceOnNavigate:!0,_newModel:function(){var a=
new s({sessionToken:this.sessionToken,objectId:this.objectId,onActionButtonExecution:n.hitch(this,"_onActionButtonExecution"),onAction:n.hitch(this,"_onAction")});this._attachEventListeners(a);return a},startup:function(){if(this._started)return k([]);this.inherited(arguments);this.model=this._newModel();this.resize();return this._startup()},_startup:function(){function b(a){for(var c=f.getChildren(),d=f.getChildren().length,e=0;e<d;e++)if(a<c[e].model.index)return e;return d}var e=[],f=this;e.push(this.model.getActiveWorksheetMetadata().then(function(c){var d=
c.index;return f.model.getWorksheetNames().then(function(e){f._hideBottomTab(e);return f.model.getWorksheetModel(d).then(function(g){f.addChild(new r({model:g,title:a.encode(c.name),onDrillThrough:n.hitch(f,"_onDrillThrough")}));var h=[];l.forEach(e,function(c,e){e!==d&&(c=a.encode(c),h.push(f.model.getWorksheetModel(e).then(function(a){f.addChild(new r({model:a,title:c,onDrillThrough:n.hitch(f,"_onDrillThrough")}),b(e))})))});return k(h)}).otherwise(function(a){a.suppressAlert||q.show({title:t.get("WORKBOOK_FAILED_TITLE_STR"),
message:t.get("WORKBOOK_OPEN_FAILED_STR")})})})}).otherwise(function(a){a.suppressAlert||q.show({title:t.get("WORKBOOK_FAILED_TITLE_STR"),message:t.get("WORKBOOK_OPEN_FAILED_STR")})}));f=this;e.push(this.model.getStyleSheetUrl().then(function(a){if(h("trident")||h("edge")){a=a.split("/");var b=a[a.length-1].split(".");b[0]+="_ie";b=b.join(".");a[a.length-1]=b;a=a.join("/")}return c.load(d.tm1WebRoot+a+"?tm1web.preventCache\x3d"+(new Date).valueOf()).then(function(a){f._styleSheetHandle=f.own(a)[0]})}));
this.onDataChange();return k(e)},_attachEventListeners:function(a){this.own(b.after(a,"onSetActiveSheet",n.hitch(this,"setActiveSheet"),!0),b.after(a,"onNavigateToWorkbook",n.hitch(this,"navigateToWorkbook"),!0),b.before(a,"onLoadFail",n.hitch(this,function(a){return[a]}),!0))},focus:function(){this.selectedChildWidget&&this.selectedChildWidget.focus()},resize:function(){this._destroyed||this.inherited(arguments)},recalculate:function(){return this.model.recalculate()},rebuildActiveForms:function(a){return this.model.rebuildActiveForms(a)},
copy:function(){return this.selectedChildWidget.copy()},paste:function(){return this.selectedChildWidget.paste()},setActiveSheet:function(b,c){if(0===this.getChildren().length){var d=this,e=arguments;setTimeout(function(){d.setActiveSheet.apply(d,e)},0)}else if("number"===typeof b&&this.getChildren().length>b)this.selectChild(this.getChildren()[b]);else if("string"===typeof b)for(var f=0;f<this.getChildren().length;f++)if(this.getChildren()[f].title===a.encode(b)){this.selectChild(this.getChildren()[f]);
this.model.setActiveWorksheet(f);c&&this.model.selectRange(c).otherwise(function(a){q.show({title:t.get("SRV_ERR_TITLE_STR"),message:t.get("SRV_ERR_STR")})});break}this.focus()},_hideBottomTab:function(a){null==a||2>a.length?this.tablist.domNode.style.display="none":this.model.getShowTabs().then(n.hitch(this,function(a){0==a&&(this.tablist.domNode.style.display="none")}))},_onActionButtonExecution:function(a){if(a){a.objectId&&this._navigate(a);if(a.message){var b=a.message,c=b.split(/\n\n|\n/);1<
c.length&&(b=c);p.show({message:b})}this.onActionButtonExecution(a);-1==a.sheetIndex&&q.show({message:t.get("ACTION_BUTTON_NAVIGATION_ERROR_ARG_STR",a.resourceUri),title:t.get("WORKBOOK_FAILED_TITLE_STR")})}},_navigate:function(a){a.objectId===this.objectId?this.setActiveSheet(a.sheetIndex):this.replaceOnNavigate&&this.replace(a.objectId)},onActionButtonExecution:function(a){},onDrillThrough:function(a){},_onDrillThrough:function(a){this.onDrillThrough(a)},onAction:function(a){},_onAction:function(a){this.onAction(a)},
replace:function(a){this.model.close();this.objectId=a;return this._recreateWorkbook()},_recreateWorkbook:function(){this.destroyDescendants();this._styleSheetHandle&&this._styleSheetHandle.remove();this.model=this._newModel();this.onWorkbookRecreated();return this._startup()},_onShow:function(){this.inherited(arguments);this.selectedChildWidget&&this.selectedChildWidget._onShow()},onWorkbookRecreated:function(){},onDataChange:function(){},navigateToWorkbook:function(a){},destroy:function(){this.inherited(arguments);
this.model.close()}})});
//# sourceMappingURL=Workbook.js.map