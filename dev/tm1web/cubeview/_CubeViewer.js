//>>built
require({cache:{"tm1web/cubeview/GridBase":function(){define(["dojo/_base/declare","dojo/dom-construct","./CubeViewGridControlBase"],function(n,m,l){return n(l,{constructor:function(k){this.Panel=this.Grid=null;this.InitializeGridBase()},InitializeGridBase:function(){},CreateContainer:function(){},DoCreate:function(k){},Create:function(k){k=this.DoCreate(k);var g=this.Grid.lastChild;g&&"TBODY"==g.nodeName?(m.place(k,g,"replace"),m.destroy(g)):m.place(k,this.Grid);return this.Panel},Update:function(k){},
UpdateCell:function(k,g,c,e){}})})},"tm1web/subseteditor/_TreePaneFocusMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dijit/focus"],function(n,m,l,k){return n(null,{dimensionTree:null,subsetTree:null,_activeTree:null,postCreate:function(){this.inherited(arguments);this._activeTree=this.subsetTree;this.own(this.subsetTree.on("focus",m.hitch(this,"_onSubsetTreeFocus")));this.dimensionTree&&this.own(this.dimensionTree.on("focus",m.hitch(this,"_onDimensionTreeFocus")))},
_onSubsetTreeFocus:function(){this._activeTree=this.subsetTree},_onDimensionTreeFocus:function(){this._activeTree=this.dimensionTree}})})},"dojo/request/default":function(){define(["exports","require","../has"],function(n,m,l){var k=l("config-requestProvider");k||(k="./xhr");n.getPlatformDefaultId=function(){return"./xhr"};n.load=function(g,c,e,f){m(["platform"==g?"./xhr":k],function(b){e(b)})}})},"dojo/date":function(){define(["./_base/kernel","./has","./_base/lang"],function(n,m,l){var k={getDaysInMonth:function(g){var c=
g.getMonth();return 1==c&&k.isLeapYear(g)?29:[31,28,31,30,31,30,31,31,30,31,30,31][c]},isLeapYear:function(g){g=g.getFullYear();return!(g%400)||!(g%4)&&!!(g%100)},getTimezoneName:function(g){var c=g.toString(),e="",f=c.indexOf("(");if(-1<f)e=c.substring(++f,c.indexOf(")"));else if(f=/([A-Z\/]+) \d{4}$/,c=c.match(f))e=c[1];else if(c=g.toLocaleString(),f=/ ([A-Z\/]+)$/,c=c.match(f))e=c[1];return"AM"==e||"PM"==e?"":e},compare:function(g,c,e){g=new Date(+g);c=new Date(+(c||new Date));"date"==e?(g.setHours(0,
0,0,0),c.setHours(0,0,0,0)):"time"==e&&(g.setFullYear(0,0,0),c.setFullYear(0,0,0));return g>c?1:g<c?-1:0},add:function(g,c,e){var f=new Date(+g),b=!1,a="Date";switch(c){case "day":break;case "weekday":var d;(c=e%5)?d=parseInt(e/5):(c=0<e?5:-5,d=0<e?(e-5)/5:(e+5)/5);var p=g.getDay(),r=0;6==p&&0<e?r=1:0==p&&0>e&&(r=-1);p+=c;if(0==p||6==p)r=0<e?2:-2;e=7*d+c+r;break;case "year":a="FullYear";b=!0;break;case "week":e*=7;break;case "quarter":e*=3;case "month":b=!0;a="Month";break;default:a="UTC"+c.charAt(0).toUpperCase()+
c.substring(1)+"s"}if(a)f["set"+a](f["get"+a]()+e);b&&f.getDate()<g.getDate()&&f.setDate(0);return f},difference:function(g,c,e){c=c||new Date;e=e||"day";var f=c.getFullYear()-g.getFullYear(),b=1;switch(e){case "quarter":g=g.getMonth();c=c.getMonth();g=Math.floor(g/3)+1;c=Math.floor(c/3)+1;b=c+4*f-g;break;case "weekday":f=Math.round(k.difference(g,c,"day"));e=parseInt(k.difference(g,c,"week"));b=f%7;if(0==b)f=5*e;else{var a=0,d=g.getDay();c=c.getDay();e=parseInt(f/7);b=f%7;g=new Date(g);g.setDate(g.getDate()+
7*e);g=g.getDay();if(0<f)switch(!0){case 6==d:a=-1;break;case 0==d:a=0;break;case 6==c:a=-1;break;case 0==c:a=-2;break;case 5<g+b:a=-2}else if(0>f)switch(!0){case 6==d:a=0;break;case 0==d:a=1;break;case 6==c:a=2;break;case 0==c:a=1;break;case 0>g+b:a=2}f=f+a-2*e}b=f;break;case "year":b=f;break;case "month":b=c.getMonth()-g.getMonth()+12*f;break;case "week":b=parseInt(k.difference(g,c,"day")/7);break;case "day":b/=24;case "hour":b/=60;case "minute":b/=60;case "second":b/=1E3;case "millisecond":b*=
c.getTime()-g.getTime()}return Math.round(b)}};l.mixin(l.getObject("date",!0,n),k);return k})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(n,m,l){function k(a){return e[a]=new Function("item","index","array",a)}function g(a){var d=!a;return function(b,c,f){var g=0,q=b&&b.length||0,u;q&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&(c=e[c]||k(c));if(f)for(;g<q;++g){if(u=!c.call(f,b[g],g,b),a^u)return!u}else for(;g<q;++g)if(u=!c(b[g],g,b),a^u)return!u;return d}}
function c(a){var d=1,p=0,c=0;a||(d=p=c=-1);return function(e,g,q,k){if(k&&0<d)return b.lastIndexOf(e,g,q);k=e&&e.length||0;var v=a?k+c:p;q===f?q=a?p:k+c:0>q?(q=k+q,0>q&&(q=p)):q=q>=k?k+c:q;for(k&&"string"==typeof e&&(e=e.split(""));q!=v;q+=d)if(e[q]==g)return q;return-1}}var e={},f,b={every:g(!1),some:g(!0),indexOf:c(!0),lastIndexOf:c(!1),forEach:function(a,d,b){var c=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=e[d]||k(d));if(b)for(;c<f;++c)d.call(b,a[c],c,a);
else for(;c<f;++c)d(a[c],c,a)},map:function(a,d,b,c){var f=0,g=a&&a.length||0;c=new (c||Array)(g);g&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=e[d]||k(d));if(b)for(;f<g;++f)c[f]=d.call(b,a[f],f,a);else for(;f<g;++f)c[f]=d(a[f],f,a);return c},filter:function(a,d,b){var c=0,f=a&&a.length||0,g=[],q;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=e[d]||k(d));if(b)for(;c<f;++c)q=a[c],d.call(b,q,c,a)&&g.push(q);else for(;c<f;++c)q=a[c],d(q,c,a)&&g.push(q);return g},clearCache:function(){e=
{}}};l.mixin(n,b);return b})},"tm1web/cubeview/CubeViewRowHeader":function(){define("dojo/_base/declare dojo/_base/array dojo/dom-construct ./CubeViewHeader ../share/TM1Utility ../share/ElementDisplayType ./SortOrientation ./SortLimitType".split(" "),function(n,m,l,k,g,c,e,f){return n(k,{constructor:function(){this.RowHeaderCellMatrix=null;this.InitializeCubeViewRowHeader()},InitializeCubeViewRowHeader:function(){this.CreateContainer()},CreateContainer:function(){var b=this.CreatePanel();b.style.overflowX=
"auto";b.style.overflowY="hidden";this.Panel=b;this.Grid=this.CreateTable(!0);this.Grid.className="tm1webCollapseHeadTable";l.place(this.Grid,this.Panel);this.inherited(arguments)},Update:function(b){this.edgeState=b.pageRowState;this.edgeState.layoutChanged?this.Create(b):this._Update(b);!b.dimensionButtons||b.dimensionButtons.rowDimButtons&&0!=b.dimensionButtons.rowDimButtons.length||(this.Panel.style.width="0px",this.Grid.style.width="0px")},DoCreate:function(b){var a=b.gridData.rowHeaderColumns||
[];this.Grid.firstChild&&"COLGROUP"==this.Grid.firstChild.nodeName&&l.destroy(this.Grid.firstChild);var d=a.length;if(0<d){for(var p=l.create("colgroup"),c=0;c<d;c++)l.create("col",{},p);l.place(p,this.Grid,"first")}var f=document.createElement("TBODY");if(null!=a&&0<a.length)for(d=(a[a.length-1].cells||[]).length,this.RowHeaderCellMatrix=Array(d),p=0;p<d;p++)c=document.createElement("TR"),f.appendChild(c);var e=this;m.forEach(a,function(a,d){e.RowHeaderCellMatrix[d]=Array((a.cells||[]).length);var p=
e.RowHeaderCellMatrix[d];m.forEach(a.cells||[],function(d,c){var g=f.childNodes[d.realColIndex],r=document.createElement("TD");p[c]=r;r.dimensionName=a.dimensionName;r.levels=a.levels;r.noWrap="nowrap";e.UpdateCell(r,a,d,b);g.appendChild(r)})});return f},_Update:function(b){var a=this;m.forEach(b.gridData.rowHeaderColumns||[],function(d){a._UpdateColumn(d,b)})},_UpdateColumn:function(b,a){var d=this;m.forEach(b.cells||[],function(p){d.UpdateCell(d.Grid.rows[p.realColIndex].cells[p.colIndex],b,p,a)})},
UpdateCell:function(b,a,d,p){this.RemoveChildren(b);b.className="tm1webCVHeaderCell";b.elementIndex=d.elementIndex;p="tm1webHeaderLabel";var g=d.level;switch(d.displayType){case c.DisplayMinus:d.allowExpandCollapse&&this.CreateDislayImage(b,a.dimensionName,d,this.MinusIcon,this.CollapseTooltip);p+=" tm1webConsolidatedHeaderLabel";break;case c.DisplayPlus:d.allowExpandCollapse&&this.CreateDislayImage(b,a.dimensionName,d,this.PlusIcon,this.ExpandTooltip);p+=" tm1webConsolidatedHeaderLabel";break;default:g+=
1}this._AdjustHorizontalLeftPadding(b,g);this.CreateLabel(b,d.value,p);null!=d.sortLimitType&&d.sortLimitType!=f.NONE&&this.CreateTopBottomSortIndicator(b,this.TopBottomSortIcon,this.TopBottomSortTooltip);d.sortOrientation==e.Ascending?this.CreateSortIndicator(b,this.RowSortAscIcon,this.SortAscTooltip):d.sortOrientation==e.Descending&&this.CreateSortIndicator(b,this.RowSortDesIcon,this.SortDesTooltip);b.dataSort=d.sortOrientation;b.sortLimitType=d.sortLimitType;b.sortLimit=d.sortLimit;1<d.span&&(b.rowSpan=
d.span)},_AdjustHorizontalLeftPadding:function(b,a){b.style.paddingLeft=11*a+3+"px"}})})},"tm1web/celledit/DatePicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/form/DateTextBox ../utility/date ./_CellDropDownMixin ../utility/date!".split(" "),function(n,m,l,k,g,c){return n("tm1web.celledit.DatePicker",[k,c],{_inputDatePattern:null,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"tm1webCellDatePicker")},show:function(c){this._inputDatePattern=
c.cell.cellInfo.format;this.inherited(arguments)},_openAndHighlightDropDown:function(){this._opened?this.closeDropDown(!0):(this.loadAndOpenDropDown(),this._openAndHighlightDropDown())},validate:function(){return!0},parse:function(c,f){var b=null,a={format:null},b=g.parse(c,this._inputDatePattern,a);m.mixin(f,{datePattern:b?a.format:this._inputDatePattern});return b||(this._isEmpty(b)?null:void 0)}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),
function(n,m,l,k,g,c,e,f,b){var a=c("dojox.grid.DataGrid",e,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},
destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new f(this)},get:function(a,b){if(b&&"_item"==this.field&&!this.fields)return b;if(b&&this.fields){var c=[],f=this.grid.store;m.forEach(this.fields,function(a){c=c.concat(f.getValues(b,a))});return c}return b||"string"!==typeof a?b?this.field?"_item"==this.field?b:this.grid.store.getValue(b,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<
this.updateDelay){var a=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,a=!0);this.updating||(this.beginUpdate(),a=!0);if(a){var b=this;this._endUpdateDelay=setTimeout(function(){delete b._endUpdateDelay;b.endUpdate()},this.updateDelay)}}},_onSet:function(a,b,c,f){this._checkUpdateStatus();a=this.getItemIndex(a);-1<a&&this.updateRow(a)},_createItem:function(a,b){var c=this._hasIdentity?this.store.getIdentity(a):k.toJson(this.query)+":idx:"+b+":sort:"+k.toJson(this.getSortProps());
return this._by_idty[c]={idty:c,item:a}},_addItem:function(a,b,c){this._by_idx[b]=this._createItem(a,b);c||this.updateRow(b)},_onNew:function(a,b){this._checkUpdateStatus();var c=this.get("rowCount");this._addingItem=!0;this.updateRowCount(c+1);this._addingItem=!1;this._addItem(a,c);this.showMessage()},_onDelete:function(a){this._checkUpdateStatus();a=this._getItemIndex(a,!0);if(0<=a){this._pages=[];this._eop=this._bop=-1;var b=this._by_idx[a];this._by_idx.splice(a,1);delete this._by_idty[b.idty];
this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(a)&&(this.selection.deselect(a),this.selection.selected.splice(a,1))},_onRevert:function(){this._refresh()},setStore:function(a,b,c){this._requestsPending(0)||(this._setQuery(b,c),this._setStore(a),this._refresh(!0))},setQuery:function(a,b){this._requestsPending(0)||(this._setQuery(a,b),this._refresh(!0))},setItems:function(a){this.items=a;this._setStore(this.store);
this._refresh(!0)},_setQuery:function(a,b){this.query=a;this.queryOptions=b||this.queryOptions},_setStore:function(a){this.store&&this._store_connects&&m.forEach(this._store_connects,this.disconnect,this);if(this.store=a){a=this.store.getFeatures();var b=[];this._canEdit=!!a["dojo.data.api.Write"]&&!!a["dojo.data.api.Identity"];this._hasIdentity=!!a["dojo.data.api.Identity"];a["dojo.data.api.Notification"]&&!this.items&&(b.push(this.connect(this.store,"onSet","_onSet")),b.push(this.connect(this.store,
"onNew","_onNew")),b.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&b.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=b}},_onFetchBegin:function(a,b){this.scroller&&(this.rowCount!=a&&(b.isRender?(this.scroller.init(a,this.keepRows,this.rowsPerPage),this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(a)),a?this.showMessage():(this.views.render(),this._resize(),
this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(a,p){this.scroller&&(a&&0<a.length&&(m.forEach(a,function(a,d){this._addItem(a,p.start+d,!0)},this),this.updateRows(p.start,a.length),p.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),g("ie")&&b.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[p.start]=
!1)},_onFetchError:function(a,b){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[b.start]=!1;this.onFetchError(a,b)},onFetchError:function(a,b){},_fetch:function(a,b){a=a||0;if(this.store&&!this._pending_requests[a]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[a]=!0;try{if(this.items){var c=this.items,f=this.store;this.rowsPerPage=c.length;
var e={start:a,count:this.rowsPerPage,isRender:b};this._onFetchBegin(c.length,e);var g=0;m.forEach(c,function(a){f.isItemLoaded(a)||g++});if(0===g)this._onFetchComplete(c,e);else{var k=function(a){g--;0===g&&this._onFetchComplete(c,e)};m.forEach(c,function(a){f.isItemLoaded(a)||f.loadItem({item:a,onItem:k,scope:this})},this)}}else this.store.fetch({start:a,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:b,onBegin:l.hitch(this,"_onFetchBegin"),
onComplete:l.hitch(this,"_onFetchComplete"),onError:l.hitch(this,"_onFetchError")})}catch(v){this._onFetchError(v,{start:a,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(a){var b=this._by_idx[a];return!b||b&&!b.item?(this._preparePage(a),null):b.item},getItemIndex:function(a){return this._getItemIndex(a,!1)},_getItemIndex:function(a,b){if(!b&&!this.store.isItem(a))return-1;
for(var c=this._hasIdentity?this.store.getIdentity(a):null,f=0,e=this._by_idx.length;f<e;f++){var g=this._by_idx[f];if(g&&(c&&g.idty==c||g.item===a))return f}return-1},filter:function(a,b){this.query=a;b&&this._clearData();this._fetch()},_getItemAttr:function(a,b){var c=this.getItem(a);return c?this.store.getValue(c,b):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(a){return this._pending_requests[a]},
_rowToPage:function(a){return this.rowsPerPage?Math.floor(a/this.rowsPerPage):a},_pageToRow:function(a){return this.rowsPerPage?this.rowsPerPage*a:a},_preparePage:function(a){(a<this._bop||a>=this._eop)&&!this._addingItem&&(a=this._rowToPage(a),this._needPage(a),this._bop=a*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(a){this._pages[a]||(this._pages[a]=!0,this._requestPage(a))},_requestPage:function(a){a=this._pageToRow(a);0<Math.min(this.rowsPerPage,
this.get("rowCount")-a)&&(this._requests++,this._requestsPending(a)||setTimeout(l.hitch(this,"_fetch",a,!1),1))},getCellName:function(a){return a.field},_refresh:function(a){this._clearData();this._fetch(0,a)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var a=this.getCell(this.getSortIndex());if(a){var b=a.sortDesc,c=!(0<this.sortInfo);return[{attribute:a.field,descending:"undefined"==typeof b?
c:c?!b:b}]}return this.sortFields?this.sortFields:null},styleRowState:function(a){if(this.store&&this.store.getState){for(var b=this.store.getState(a.index),c="",f=0,e=["inflight","error","inserting"],g;g=e[f];f++)if(b[g]){c=" dojoxGridRow-"+g;break}a.customClasses+=c}},onStyleRow:function(a){this.styleRowState(a);this.inherited(arguments)},canEdit:function(a,b){return this._canEdit},_copyAttr:function(a,b){var c=this.getItem(a);return this.store.getValue(c,b)},doStartEdit:function(a,b){this._cache[b]||
(this._cache[b]=this._copyAttr(b,a.field));this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,c){this.store.fetchItemByIdentity({identity:this._by_idx[b].idty,onItem:l.hitch(this,function(f){var e=this.store.getValue(f,c);"number"==typeof e?a=isNaN(a)?a:parseFloat(a):"boolean"==typeof e?a="true"==a?!0:"false"==a?!1:a:e instanceof Date&&(e=new Date(a),a=isNaN(e.getTime())?a:e);this.store.setValue(f,c,a);this.onApplyCellEdit(a,b,c)})})},doCancelEdit:function(a){this._cache[a]&&(this.updateRow(a),delete this._cache[a]);
this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(a,b){this.onApplyEdit(a)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var a=l.hitch(this,function(a){a.length&&(m.forEach(a,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:a}):a(this.selection.getSelected())}}});a.cell_markupFactory=function(a,c,f){var e=l.trim(b.attr(c,"field")||"");e&&(f.field=e);f.field=
f.field||f.name;if(e=l.trim(b.attr(c,"fields")||""))f.fields=e.split(",");a&&a(c,f)};a.markupFactory=function(d,b,c,f){return e.markupFactory(d,b,c,l.partial(a.cell_markupFactory,f))};return a})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(n,m,l,k){var g={fieldToObject:function(c){var e=null;if(c=m.byId(c)){var f=c.name,b=(c.type||"").toLowerCase();if(f&&b&&!c.disabled)if("radio"==b||"checkbox"==b)c.checked&&(e=c.value);else if(c.multiple)for(e=[],c=[c.firstChild];c.length;)for(f=
c.pop();f;f=f.nextSibling)if(1==f.nodeType&&"option"==f.tagName.toLowerCase())f.selected&&e.push(f.value);else{f.nextSibling&&c.push(f.nextSibling);f.firstChild&&c.push(f.firstChild);break}else e=c.value}return e},toObject:function(c){var e={};c=m.byId(c).elements;for(var f=0,b=c.length;f<b;++f){var a=c[f],d=a.name,p=(a.type||"").toLowerCase();if(d&&p&&0>"file|submit|image|reset|button".indexOf(p)&&!a.disabled){var r=e,s=d,a=g.fieldToObject(a);if(null!==a){var k=r[s];"string"==typeof k?r[s]=[k,a]:
n.isArray(k)?k.push(a):r[s]=a}"image"==p&&(e[d+".x"]=e[d+".y"]=e[d].x=e[d].y=0)}}return e},toQuery:function(c){return l.objectToQuery(g.toObject(c))},toJson:function(c,e){return k.stringify(g.toObject(c),null,e?4:0)}};return g})},"tm1web/share/_CellContextMenuBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/dom-geometry","./_ContextMenuBase"],function(n,m,l,k,g){return n(g,{dataGrid:null,_selectedArea:null,_currentCell:null,_openMyself:function(c){this._selectedArea=
this._getSelectedArea();(this._currentCell=this._getCurrentCell())&&this.inherited(arguments)},onClose:function(){l("ie")&&this._currentCell.focus()},_getCoords:function(){var c=k.position(this._currentCell,!0);c.x+=10;c.y+=10;return c},_getCurrentCellCoord:function(){return this.dataGrid.GetCoordinate(this._currentCell)},_getSelectedArea:function(){return null},_getCurrentCell:function(){return null}})})},"tm1web/widgets/WarningAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),
function(n,m,l,k,g,c){var e=n("tm1web.widgets.WarningAlert",c,{buildRendering:function(){this.inherited(arguments);k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",g.get("ARIA_IMG_WARNING_STR"))}});e.show=function(c){var b=new l;c.className="tm1webWarningDialog tm1webMessageDialog";alertDialog=new e(c);var a=m.after(alertDialog,"onHide",function(){a.remove();b.resolve()});alertDialog.show();return b.promise};return e})},
"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(n,m,l){l.ArrayList=function(k){var g=[];k&&(g=g.concat(k));this.count=g.length;this.add=function(c){g.push(c);this.count=g.length};this.addRange=function(c){if(c.getIterator)for(c=c.getIterator();!c.atEnd();)this.add(c.get());else for(var e=0;e<c.length;e++)g.push(c[e]);this.count=g.length};this.clear=function(){g.splice(0,g.length);this.count=0};this.clone=function(){return new l.ArrayList(g)};
this.contains=function(c){for(var e=0;e<g.length;e++)if(g[e]==c)return!0;return!1};this.forEach=function(c,e){n.forEach(g,c,e)};this.getIterator=function(){return new l.Iterator(g)};this.indexOf=function(c){for(var e=0;e<g.length;e++)if(g[e]==c)return e;return-1};this.insert=function(c,e){g.splice(c,0,e);this.count=g.length};this.item=function(c){return g[c]};this.remove=function(c){c=this.indexOf(c);0<=c&&g.splice(c,1);this.count=g.length};this.removeAt=function(c){g.splice(c,1);this.count=g.length};
this.reverse=function(){g.reverse()};this.sort=function(c){c?g.sort(c):g.sort()};this.setByIndex=function(c,e){g[c]=e;this.count=g.length};this.toArray=function(){return[].concat(g)};this.toString=function(c){return g.join(c||",")}};return l.ArrayList})},"tm1web/cubeview/metrics/CustomDiagramInteractivityHelper":function(){define(["dojo/_base/declare","dojox/json/query","./InteractivityHelper","./CustomDiagramTooltipView","../../share/TM1Utility"],function(n,m,l,k,g){return n(l,{MAIN_PART:"part: main",
constructor:function(){},addSpacesForAlignment:function(c,e){for(var f=0,b=0;b<c.length;b++)","!=c.charAt(b)&&"."!=c.charAt(b)&&"("!=c.charAt(b)||f++;"-"==c.charAt(0)&&f++;for(b=e;0<=b;b--)c="\x26ensp;"+c;for(b=f;0<=b;b--)c="\x26thinsp;"+c;return c},getNumericLength:function(c){for(var e=c.length;0<=e;e--)if(48<=c.charCodeAt(e)&&57>=c.charCodeAt(e))return e;return 0},setTooltipContent:function(c){var e=c.tooltipText();c=new k;var f=m("$.points[?name\x3d'"+e+"']",this.popUpData);c.setTitleCaption(e);
e=null;3!==f[0].status&&(e=f[0].status-1,-1===e?e=1:1===e&&(e=-1));var b=null;3!==f[0].trend&&(b=f[0].trend-1,-1===b?b=1:1===b&&(b=-1));c.setStatus(e,f[0].statuscaption);c.setTrend(b,f[0].trendcaption);e=[this.getNumericLength(f[0].actual),this.getNumericLength(f[0].target),this.getNumericLength(f[0].tolerance),this.getNumericLength(f[0].variance),this.getNumericLength(f[0].variancePercent)];b=Math.max(e[0],e[1],e[2],e[3],e[4]);c.setActualValue(this.addSpacesForAlignment(f[0].actual,b-e[0]),f[0].actualcaption);
c.setTargetValue(this.addSpacesForAlignment(f[0].target,b-e[1]),f[0].targetcaption);c.setToleranceValue(this.addSpacesForAlignment(f[0].tolerance,b-e[2]),f[0].tolerancecaption);c.setVarianceValue(this.addSpacesForAlignment(f[0].variance,b-e[3]),f[0].variancecaption);c.setVariancePercentValue(this.addSpacesForAlignment(f[0].variancePercent,b-e[4]),f[0].variancePercentcaption);c.startup();this.metricTooltip.setContent(c.domNode.innerHTML)},containsValidTooltipItem:function(c){for(var e=null,f=0;f<c.length;f++){var b=
c[f].meta();null!==b&&-1!==g.indexOf(b,this.MAIN_PART)&&(e=c[f])}return e}})})},"tm1web/celledit/_CellList":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/store/Memory dojo/Deferred dojo/keys dojo/dom dijit/form/ComboBox ./_CellDropDownMixin ../config-settings ../config-settings!".split(" "),function(n,m,l,k,g,c,e,f,b,a){return n("tm1web.celledit._CellList",[f,b],{searchAttr:"value",_lastValidInput:"",pageSize:100,_stopClickEvents:!0,store:new k,_cellListSearchCharacterRemoval:a.isCellListSearchCharacterRemovalEnabled(),
show:function(a){this._lastInput=a.value;this.set("store",new this._Store({objectId:this.objectId,cellInfo:a.cell.cellInfo}));this.inherited(arguments)},onInput:function(a){switch(a.charOrCode){case c.ENTER:var b=this.dropDown;if(b){var f=b.getHighlightedOption();if(f==b.nextButton)return this._nextSearch(1),!1;if(f==b.previousButton)return this._nextSearch(-1),!1}break;case c.ESCAPE:this._opened&&(this._lastQuery=null)}return this.inherited(arguments)},loadDropDown:function(a){this._selectText?this.inherited(arguments):
this._startSearchFromInput()},_openAndHighlightDropDown:function(){var a=m.hitch(this,"_highlightFirstListOption");this._opened?a():this.searchTimer?this.defer("_openAndHighlightDropDown",this.searchDelay):this._fetchHandle?this._fetchHandle.then(a):this.loadDropDown()},_highlightFirstListOption:function(){var a=this.dropDown;a.highlightFirstOption();this._announceOption(a.getHighlightedOption())},_openResultList:function(a,b,c){this.inherited(arguments);!a.length&&0==c.start&&this._cellListSearchCharacterRemoval?
(this.textbox.value=this._lastValidInput,this._startSearchFromInput()):this._lastValidInput=this._lastInput},hide:function(){this.inherited(arguments);this._lastValidInput="";this._lastValueReported=null;this._listItemSelected=!1},_selectOption:function(a){this._listItemSelected=!0;this.inherited(arguments)},_onBlur:function(a,b){this._listItemSelected=this.dropDown&&!!this.dropDown.getHighlightedOption();this.inherited(arguments)},_restoreFocus:function(){var a=document.activeElement;!this.dropDown||
a&&!e.isDescendant(a,this.dropDown.domNode)?this.inherited(arguments):(focus.focus(this._savedFocusedNode),this._savedFocusedNode=null)},_getValueSaverParams:function(){return m.mixin(this.inherited(arguments),{listItemSelected:this._listItemSelected,store:this.store})}})})},"tm1web/spreading/SpreadDialogBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-style dojo/dom-class dojo/aspect dijit/Dialog ./SpreadDialogCommon ../utility/message-localizer ../widgets/ErrorAlert".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return n(f,{constructor:function(){this._Dialog=null;this._InitializeSpreadDialogBase()},_InitializeSpreadDialogBase:function(){this._DirectionValue=0;this._ActionValue="";this._DataValue=null},Initialize:function(){this._CreateDialog()},Update:function(a){this._dataGrid.Update(a)},_CreateDialog:function(){this._Dialog=new e({title:this._Title});this.own(c.after(this._Dialog,"onHide",m.hitch(this._Dialog,"destroyRecursive")));g.add(this._Dialog.domNode,"tm1webDataSpreadDialog tm1webFormDialog");
this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){this._CreateContent()},_CreateContent:function(){this._DataValue=this._CreateValueContent(this._Dialog.containerNode,this._ValueTitle,"tm1webDataSpread_valueLabel",1==this._cellInfo.changed?this._cellInfo.newValue:this._cellInfo.numericValue,"tm1webDataSpread_value");this._CreateExtendContent(this._Dialog.containerNode);this._CreateActionContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},
_OnRadioButtonClick:function(a,b){a&&(this._ActionValue=b)},_OnCheckBoxClick:function(a,b){a&&(this._DirectionValue|=b)},_OnCancel:function(){this.Destroy()},_OnApply:function(){if(this._dataGrid.dataGridDragSelectMgr.isSingleCellSelected())this.Service.dataSpread2(this._ObjectId,this._coord.rowIndex,this._coord.colIndex,null,this._GetControlString(),{callback:this._OnSpread,scope:this,errorHandler:function(d,c){"SpreadFailed_NoUpdatableCell"==d?a.show({message:b.get("SPREADING_NO_UPDATABLE_CELL_STR"),
title:b.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):a.show({message:c.localizedMessage,title:b.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})}});else{var d=this._dataGrid.DataGrid.GetCoordinate(this._dataGrid.dataGridDragSelectMgr.StartingCell),c=this._dataGrid.DataGrid.GetCoordinate(this._dataGrid.dataGridDragSelectMgr.EndingCell);this.Service.dataSpread1(this._ObjectId,d.rowIndex,d.colIndex,c.rowIndex,c.colIndex,this._GetControlString(),{callback:this._OnSpread,scope:this,errorHandler:function(d,
c){"SpreadFailed_NoUpdatableCell"==d?a.show({message:b.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:b.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):a.show({message:c.localizedMessage,title:b.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})}})}this.Destroy()},_OnSpread:function(a){this.Update(a);l.publish("RecalcActivePanels",this._ObjectId)},_GetControlString:function(){var a;a=""+this._ActionValue;0<(this._DirectionValue&1)&&(a+="\x3c");0<(this._DirectionValue&2)&&(a+="\x3e");0<(this._DirectionValue&
4)&&(a+="^");0<(this._DirectionValue&8)&&(a+="|");a+=m.trim(this._DataValue.value);return a=this._CommandString+a},Show:function(){this._Dialog.show()},Destroy:function(){this._Dialog.hide()}})})},"tm1web/cubeview/CubeViewNubbinDndCoordinator":function(){define(["dojo/_base/declare","dojo/_base/array"],function(n,m){return n(null,{InitializeCubeViewNubbinDND:function(l,k){var g=this;m.forEach(l.RowNubs,function(c,e){var f="dim_"+c.dimensionName;k.AttachDndHandlers(c,!0,f,"loc_R"+e+".loc_R"+(e+1),
null,null,f,null);c._DNDhandlerStore._highlight=g.HighlightNub;c._DNDhandlerStore._rmvHighlight=g.RmvHighlightNub});m.forEach(l.ColNubs,function(c,e){var f="dim_"+c.dimensionName;k.AttachDndHandlers(c,!0,f,"loc_C"+e+".loc_C"+(e+1),null,null,f,null);c._DNDhandlerStore._highlight=g.HighlightNub;c._DNDhandlerStore._rmvHighlight=g.RmvHighlightNub})},HighlightNub:function(l){0<=l.className.indexOf("tm1webNbbnColumnB")?(l.className.indexOf("tm1webNbbnLast"),l.className=l.className.replace("tm1webNbbnColumnB",
"tm1webNbbnColumnB_hlt")):0<=l.className.indexOf("tm1webNbbnRowB")&&(l.className.indexOf("tm1webNbbnLast"),l.className=l.className.replace("tm1webNbbnRowB","tm1webNbbnRowB_hlt"))},RmvHighlightNub:function(l){0<=l.className.indexOf("tm1webNbbnColumnB_hlt")?(l.className.indexOf("tm1webNbbnLast"),l.className=l.className.replace("tm1webNbbnColumnB_hlt","tm1webNbbnColumnB")):0<=l.className.indexOf("tm1webNbbnRowB_hlt")&&(l.className.indexOf("tm1webNbbnLast"),l.className=l.className.replace("tm1webNbbnRowB_hlt",
"tm1webNbbnRowB"))}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(n,m,l,k,g){var c=new n,e;l(function(){var f=g.getBox();c._rlh=m(window,"resize",function(){var a=g.getBox();if(f.h!=a.h||f.w!=a.w)f=a,c.emit("resize")});if(8==k("ie")){var b=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=b&&(b=screen.deviceXDPI,c.emit("resize"))},500)}k("ios")&&(m(document,"focusin",function(a){e=a.target}),m(document,"focusout",function(a){e=
null}))});c.getEffectiveBox=function(c){c=g.getBox(c);var b=e&&e.tagName&&e.tagName.toLowerCase();k("ios")&&e&&!e.readOnly&&("textarea"==b||"input"==b&&/^(color|email|number|password|search|tel|text|url)$/.test(e.type))&&(c.h*=0==orientation||180==orientation?.66:.4,b=e.getBoundingClientRect(),c.h=Math.max(c.h,b.top+b.height));return c};return c})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html dojo/i18n!./nls/common ./a11yclick".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y,w,z,B,A,C,F,G,K,N,P,I){var J=new g;J.resolve(!0);n=k("dijit._DialogBase"+(q("dojo-bidi")?"_NoBidi":""),[B,C,F,A],{templateString:P,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:.9,closable:!0,
_setClosableAttr:function(a){this.closeButtonNode.style.display=a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=d.getLocalization("dijit","common")||I;r.mixin(this,a);this.inherited(arguments)},postCreate:function(){b.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);l.after(this,"onExecute",r.hitch(this,"hide"),!0);l.after(this,"onCancel",r.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();
this._position();this.autofocus&&E.isTop(this)&&(this._getFocusItems(),y.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();y.focus(this._firstFocusItem)},_endDrag:function(){var a=f.position(this.domNode),d=u.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),d.h-a.h);a.x=Math.min(Math.max(a.x,0),d.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==q("ie")?x:
v)(a,{handle:this.titleBar}),l.after(this._moveable,"onMoveStop",r.hitch(this,"_endDrag"),!0)):e.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:r.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!e.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,d=u.getBox(this.ownerDocument),c=this._relativePosition,p=c?null:
f.position(a);b.set(a,{left:Math.floor(d.l+(c?c.x:(d.w-p.w)/2))+"px",top:Math.floor(d.t+(c?c.y:(d.h-p.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==p.TAB){this._getFocusItems();var d=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):d==this._firstFocusItem&&a.shiftKey?(y.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):d!=this._lastFocusItem||a.shiftKey||(y.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&
a.keyCode==p.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return J.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),E.hide(this));var d=u.get(this.ownerDocument);this._modalconnects.push(s(d,"scroll",r.hitch(this,"resize",null)));this._modalconnects.push(s(this.domNode,"keydown",r.hitch(this,"_onKey")));b.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var c;this._fadeInDeferred=new g(r.hitch(this,function(){c.stop();delete this._fadeInDeferred}));d=this._fadeInDeferred.promise;c=a.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:r.hitch(this,function(){E.show(this,this.underlayAttrs)}),onEnd:r.hitch(this,function(){this.autofocus&&E.isTop(this)&&(this._getFocusItems(),y.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();
return d},hide:function(){if(!this._alreadyInitialized||!this.open)return J.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var d;this._fadeOutDeferred=new g(r.hitch(this,function(){d.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(r.hitch(this,"onHide"));var b=this._fadeOutDeferred.promise;d=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:r.hitch(this,function(){this.domNode.style.display="none";E.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();
this._scrollConnected&&(this._scrollConnected=!1);for(var c;c=this._modalconnects.pop();)c.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return b},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),m.forEach([this.domNode,this.containerNode,
this.titleBar,this.actionBarNode],function(a){a&&b.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var d=u.getBox(this.ownerDocument);d.w*=this.maxRatio;d.h*=this.maxRatio;var c=f.position(this.domNode);c.w>=d.w||c.h>=d.h?(a={w:Math.min(c.w,d.w),h:Math.min(c.h,d.h)},this._shrunk=!0):this._shrunk=!1}if(a){f.setMarginBox(this.domNode,a);d=[];this.titleBar&&d.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&d.push({domNode:this.actionBarNode,
region:"bottom"});c={domNode:this.containerNode,region:"center"};d.push(c);var p=N.marginBox2contentBox(this.domNode,a);N.layoutChildren(this.domNode,p,d);this._singleChild?(d=N.marginBox2contentBox(this.containerNode,c),this._singleChild.resize({w:d.w,h:d.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();q("touch")||a||this._position()}},_layoutChildren:function(){m.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();E.hide(this);this.inherited(arguments)}});q("dojo-bidi")&&(n=k("dijit._DialogBase",n,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var Q=k("dijit.Dialog",
[K,n],{});Q._DialogBase=n;var E=Q._DialogLevelManager={_beginZIndex:950,show:function(a,d){D[D.length-1].focus=y.curNode;var c=D[D.length-1].dialog?D[D.length-1].zIndex+2:Q._DialogLevelManager._beginZIndex;b.set(a.domNode,"zIndex",c);G.show(d,c-1);D.push({dialog:a,underlayAttrs:d,zIndex:c})},hide:function(a){if(D[D.length-1].dialog==a){D.pop();var d=D[D.length-1];1==D.length?G.hide():G.show(d.underlayAttrs,d.zIndex-1);if(a.refocus&&(a=d.focus,!d.dialog||a&&c.isDescendant(a,d.dialog.domNode)||(d.dialog._getFocusItems(),
a=d.dialog._firstFocusItem),a))try{a.focus()}catch(b){}}else d=m.indexOf(m.map(D,function(a){return a.dialog}),a),-1!=d&&D.splice(d,1)},isTop:function(a){return D[D.length-1].dialog==a}},D=Q._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];y.watch("curNode",function(a,d,b){a=D[D.length-1].dialog;if(b&&a&&!a._fadeOutDeferred&&b.ownerDocument==a.ownerDocument){do if(b==a.domNode||e.contains(b,"dijitPopup"))return;while(b=b.parentNode);a.focus()}});return Q})},"dijit/_ConfirmDialogMixin":function(){define(["../dojo/_base/declare",
"./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(n,m,l,k){return n("dijit/_ConfirmDialogMixin",m,{actionBarTemplate:k,buttonOk:l.buttonOk,_setButtonOkAttr:{node:"okButton",attribute:"label"},buttonCancel:l.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},"dojox/html/metrics":function(){define("../main dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),
function(n,m,l,k,g,c,e,f){var b=l.getObject("html.metrics",!0,n);b.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},d;k("ie")&&(d=e.doc.documentElement.style.fontSize||"",d||(e.doc.documentElement.style.fontSize="100%"));var b=e.doc.createElement("div"),c=b.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline=
"0";c.lineHeight="1";c.overflow="hidden";e.body().appendChild(b);for(var p in a)c.fontSize=p,a[p]=16*Math.round(12*b.offsetHeight/16)/12/1E3;k("ie")&&(e.doc.documentElement.style.fontSize=d);e.body().removeChild(b);return a};var a=null;b.getCachedFontMeasurements=function(d){if(d||!a)a=b.getFontMeasurements();return a};var d=null,p={};b.getTextBox=function(a,b,c){var g,r;if(d)g=d;else{g=d=e.doc.createElement("div");var s=e.doc.createElement("div");s.appendChild(g);r=s.style;r.overflow="scroll";r.position=
"absolute";r.left="0px";r.top="-10000px";r.width="1px";r.height="1px";r.visibility="hidden";r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";e.body().appendChild(s)}g.className="";r=g.style;r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";if(1<arguments.length&&b)for(var k in b)k in p||(r[k]=b[k]);2<arguments.length&&c&&(g.className=c);g.innerHTML=a;r=f.position(g);r.w=g.parentNode.scrollWidth;return r};var r=16,s=16;b.getScrollbar=function(){return{w:r,h:s}};b._fontResizeNode=
null;b.initOnFontResize=function(a){var d=b._fontResizeNode=e.doc.createElement("iframe");a=d.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";k("ie")?d.onreadystatechange=function(){"complete"==d.contentWindow.document.readyState&&(d.onresize=b._fontresize)}:d.onload=function(){d.contentWindow.onresize=b._fontresize};d.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");
e.body().appendChild(d);b.initOnFontResize=function(){}};b.onFontResize=function(){};b._fontresize=function(){b.onFontResize()};c.addOnUnload(function(){var a=b._fontResizeNode;a&&(k("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),b._fontResizeNode=null)});g(function(){try{var a=e.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";e.body().appendChild(a);
r=a.offsetWidth-a.clientWidth;s=a.offsetHeight-a.clientHeight;e.body().removeChild(a);delete a}catch(d){}"fontSizeWatch"in m.config&&m.config.fontSizeWatch&&b.initOnFontResize()});return b})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(n,m,l,k,g,c){function e(a,d){var b=d.parentNode;b&&b.insertBefore(a,d)}function f(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(d){}for(var b;b=a.lastChild;)a.removeChild(b)}var b=
{option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,d={},p=0,r="__"+m._scopeName+"ToDomId",s;for(s in b)b.hasOwnProperty(s)&&(m=b[s],m.pre="option"==s?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+m.join("\x3e\x3c")+"\x3e",m.post="\x3c/"+m.reverse().join("\x3e\x3c/")+"\x3e");var t;8>=l("ie")&&(t=function(a){a.__dojo_html5_tested=
"yes";var d=q("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==d.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(d){a.createElement(d)});u(d)});n.toDom=function(c,f){f=f||k.doc;var e=f[r];e||(f[r]=e=++p+"",d[e]=f.createElement("div"));8>=l("ie")&&!f.__dojo_html5_tested&&f.body&&t(f);c+="";var g=c.match(a),q=g?g[1].toLowerCase():
"",e=d[e];if(g&&b[q])for(g=b[q],e.innerHTML=g.pre+c+g.post,g=g.length;g;--g)e=e.firstChild;else e.innerHTML=c;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(q=f.createDocumentFragment();g=e.firstChild;)q.appendChild(g);return q};n.place=function(a,d,b){d=g.byId(d);"string"==typeof a&&(a=/^\s*</.test(a)?n.toDom(a,d.ownerDocument):g.byId(a));if("number"==typeof b){var c=d.childNodes;!c.length||c.length<=b?d.appendChild(a):e(a,c[0>b?0:b])}else switch(b){case "before":e(a,d);break;case "after":b=
a;(c=d.parentNode)&&(c.lastChild==d?c.appendChild(b):c.insertBefore(b,d.nextSibling));break;case "replace":d.parentNode.replaceChild(a,d);break;case "only":n.empty(d);d.appendChild(a);break;case "first":if(d.firstChild){e(a,d.firstChild);break}default:d.appendChild(a)}return a};var q=n.create=function(a,d,b,p){var f=k.doc;b&&(b=g.byId(b),f=b.ownerDocument);"string"==typeof a&&(a=f.createElement(a));d&&c.set(a,d);b&&n.place(a,b,p);return a};n.empty=function(a){f(g.byId(a))};var u=n.destroy=function(a){if(a=
g.byId(a)){var d=a;a=a.parentNode;d.firstChild&&f(d);a&&(l("ie")&&a.canHaveChildren&&"removeNode"in d?d.removeNode(!1):a.removeChild(d))}}})},"dojo/date/locale":function(){define("../_base/kernel ../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(n,m,l,k,g,c,e,f,b,a){function d(a,d,b,c){return c.replace(/([a-z])\1*/ig,function(p){var e,r,k=p.charAt(0);p=p.length;var t=["abbr","wide","narrow"];switch(k){case "G":e=
d[4>p?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":e=a.getFullYear();switch(p){case 1:break;case 2:if(!b.fullYear){e=String(e);e=e.substr(e.length-2);break}default:r=!0}break;case "Q":case "q":e=Math.ceil((a.getMonth()+1)/3);r=!0;break;case "M":case "L":e=a.getMonth();3>p?(e+=1,r=!0):(k=["months","L"==k?"standAlone":"format",t[p-3]].join("-"),e=d[k][e]);break;case "w":e=s._getWeekOfYear(a,0);r=!0;break;case "d":e=a.getDate();r=!0;break;case "D":e=s._getDayOfYear(a);r=!0;break;case "e":case "c":if(e=
a.getDay(),2>p){e=(e-g.getFirstDayOfWeek(b.locale)+8)%7;break}case "E":e=a.getDay();3>p?(e+=1,r=!0):(k=["days","c"==k?"standAlone":"format",t[p-3]].join("-"),e=d[k][e]);break;case "a":k=12>a.getHours()?"am":"pm";e=b[k]||d["dayPeriods-format-wide-"+k];break;case "h":case "H":case "K":case "k":r=a.getHours();switch(k){case "h":e=r%12||12;break;case "H":e=r;break;case "K":e=r%12;break;case "k":e=r||24}r=!0;break;case "m":e=a.getMinutes();r=!0;break;case "s":e=a.getSeconds();r=!0;break;case "S":e=Math.round(a.getMilliseconds()*
Math.pow(10,p-3));r=!0;break;case "v":case "z":if(e=s._getZone(a,!0,b))break;p=4;case "Z":k=s._getZone(a,!1,b);k=[0>=k?"+":"-",f.pad(Math.floor(Math.abs(k)/60),2),f.pad(Math.abs(k)%60,2)];4==p&&(k.splice(0,0,"GMT"),k.splice(3,0,":"));e=k.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+c);}r&&(e=f.pad(e,p));return e})}function p(a,d,b,c){var p=function(a){return a};d=d||p;b=b||p;c=c||p;var f=a.match(/(''|[^'])+/g),e="'"==a.charAt(0);l.forEach(f,function(a,c){a?
(f[c]=(e?b:d)(a.replace(/''/g,"'")),e=!e):f[c]=""});return c(f.join(""))}function r(a,d,b,c){c=e.escapeString(c);b.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(c){var p;p=c.charAt(0);var f=c.length,e="",g="";b.strict?(1<f&&(e="0{"+(f-1)+"}"),2<f&&(g="0{"+(f-2)+"}")):(e="0?",g="0{0,2}");switch(p){case "y":p="\\d{2,4}";break;case "M":case "L":p=2<f?"\\S+?":"1[0-2]|"+e+"[1-9]";break;case "D":p="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+e+"[1-9][0-9]|"+g+"[1-9]";break;case "d":p=
"3[01]|[12]\\d|"+e+"[1-9]";break;case "w":p="[1-4][0-9]|5[0-3]|"+e+"[1-9]";break;case "E":case "e":case "c":p=".+?";break;case "h":p="1[0-2]|"+e+"[1-9]";break;case "k":p="1[01]|"+e+"\\d";break;case "H":p="1\\d|2[0-3]|"+e+"\\d";break;case "K":p="1\\d|2[0-4]|"+e+"[1-9]";break;case "m":case "s":p="[0-5]\\d";break;case "S":p="\\d{"+f+"}";break;case "a":f=b.am||d["dayPeriods-format-wide-am"];e=b.pm||d["dayPeriods-format-wide-pm"];p=f+"|"+e;b.strict||(f!=f.toLowerCase()&&(p+="|"+f.toLowerCase()),e!=e.toLowerCase()&&
(p+="|"+e.toLowerCase()),-1!=p.indexOf(".")&&(p+="|"+p.replace(/\./g,"")));p=p.replace(/\./g,"\\.");break;default:p=".*"}a&&a.push(c);return"("+p+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var s={};m.setObject("date.locale",s,n);s._getZone=function(a,d,b){return d?k.getTimezoneName(a):a.getTimezoneOffset()};s.format=function(a,b){b=b||{};var f=c.normalizeLocale(b.locale),e=b.formatLength||"short",f=s._getGregorianBundle(f),g=[],r=m.hitch(this,d,a,f,b);if("year"==b.selector)return p(f["dateFormatItem-yyyy"]||
"yyyy",r);var k;"date"!=b.selector&&(k=b.timePattern||f["timeFormat-"+e])&&g.push(p(k,r));"time"!=b.selector&&(k=b.datePattern||f["dateFormat-"+e])&&g.push(p(k,r));return 1==g.length?g[0]:f["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,d){return g[d]})};s.regexp=function(a){return s._parseInfo(a).regexp};s._parseInfo=function(a){a=a||{};var d=c.normalizeLocale(a.locale),d=s._getGregorianBundle(d),b=a.formatLength||"short",f=a.datePattern||d["dateFormat-"+b],e=a.timePattern||
d["timeFormat-"+b],b="date"==a.selector?f:"time"==a.selector?e:d["dateTimeFormat-"+b].replace(/\{(\d+)\}/g,function(a,d){return[e,f][d]}),g=[];return{regexp:p(b,m.hitch(this,r,g,d,a)),tokens:g,bundle:d}};s.parse=function(a,d){var b=/[\u200E\u200F\u202A\u202E]/g,c=s._parseInfo(d),p=c.tokens,f=c.bundle,b=(new RegExp("^"+c.regexp.replace(b,"")+"$",c.strict?"":"i")).exec(a&&a.replace(b,""));if(!b)return null;var e=["abbr","wide","narrow"],g=[1970,0,1,0,0,0,0],r="",b=l.every(b,function(a,b){if(!b)return!0;
var c=p[b-1],q=c.length,c=c.charAt(0);switch(c){case "y":if(2!=q&&d.strict)g[0]=a;else if(100>a)a=Number(a),c=""+(new Date).getFullYear(),q=100*c.substring(0,2),c=Math.min(Number(c.substring(2,4))+20,99),g[0]=a<c?q+a:q-100+a;else{if(d.strict)return!1;g[0]=a}break;case "M":case "L":if(2<q){if(q=f["months-"+("L"==c?"standAlone":"format")+"-"+e[q-3]].concat(),d.strict||(a=a.replace(".","").toLowerCase(),q=l.map(q,function(a){return a.replace(".","").toLowerCase()})),a=l.indexOf(q,a),-1==a)return!1}else a--;
g[1]=a;break;case "E":case "e":case "c":q=f["days-"+("c"==c?"standAlone":"format")+"-"+e[q-3]].concat();d.strict||(a=a.toLowerCase(),q=l.map(q,function(a){return a.toLowerCase()}));a=l.indexOf(q,a);if(-1==a)return!1;break;case "D":g[1]=0;case "d":g[2]=a;break;case "a":q=d.am||f["dayPeriods-format-wide-am"];c=d.pm||f["dayPeriods-format-wide-pm"];if(!d.strict){var s=/\./g;a=a.replace(s,"").toLowerCase();q=q.replace(s,"").toLowerCase();c=c.replace(s,"").toLowerCase()}if(d.strict&&a!=q&&a!=c)return!1;
r=a==c?"p":a==q?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;g[3]=a;break;case "m":g[4]=a;break;case "s":g[5]=a;break;case "S":g[6]=a}return!0}),c=+g[3];"p"===r&&12>c?g[3]=c+12:"a"===r&&12==c&&(g[3]=0);c=new Date(g[0],g[1],g[2],g[3],g[4],g[5],g[6]);d.strict&&c.setFullYear(g[0]);var t=p.join(""),m=-1!=t.indexOf("d"),t=-1!=t.indexOf("M");if(!b||t&&c.getMonth()>g[1]||m&&c.getDate()>g[2])return null;if(t&&c.getMonth()<g[1]||m&&c.getDate()<g[2])c=k.add(c,"hour",1);return c};
var t=[];s.addCustomFormats=function(a,d){t.push({pkg:a,name:d})};s._getGregorianBundle=function(a){var d={};l.forEach(t,function(b){b=c.getLocalization(b.pkg,b.name,a)||d;d=m.mixin(d,b)},this);return d};s.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");s.getNames=function(a,d,b,c){var p;c=s._getGregorianBundle(c);a=[a,b,d];"standAlone"==b&&(b=a.join("-"),p=c[b],1==p[0]&&(p=void 0));a[1]="format";return(p||c[a.join("-")]).concat()};s.isWeekend=function(a,d){var b=g.getWeekend(d),
c=(a||new Date).getDay();b.end<b.start&&(b.end+=7,c<b.start&&(c+=7));return c>=b.start&&c<=b.end};s._getDayOfYear=function(a){return k.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};s._getWeekOfYear=function(a,d){1==arguments.length&&(d=0);var b=(new Date(a.getFullYear(),0,1)).getDay(),c=(b-d+7)%7,c=Math.floor((s._getDayOfYear(a)+c-1)/7);b==d&&c++;return c};return s})},"tm1web/utility/date":function(){define("dojo/date/locale dojo/json dojo/Deferred ../share/http-session-initializer ../share/service-loader!TM1Service ../share/TM1Utility".split(" "),
function(n,m,l,k,g,c){function e(){g.getDateTimeFormats({callback:function(a){if(a){a=m.parse(a);for(var d in b)if(b[d]in a)for(var f=a[b[d]],e=0;e<f.length;e++)switch(-1==c.indexOf(p,f[e])&&p.push(f[e]),b[d]){case b.TIME_SHORT:case b.TIME_LONG:-1==c.indexOf(t,f[e])&&t.push(f[e]);break;case b.DATE_SHORT:case b.DATE_LONG:-1==c.indexOf(s,f[e])&&s.push(f[e]);default:-1==c.indexOf(r,f[e])&&r.push(f[e])}}else console.error("Fail to get locale json file.");x.resolve()}})}function f(a,d){return n.parse(a,
{selector:"date",datePattern:d})}var b={DATE_SHORT:"dateFormat-short",DATE_LONG:"dateFormat-long",TIME_SHORT:"timeFormat-short",TIME_LONG:"timeFormat-long",DATETIME_SHORT:"dateTimeFormat-short",DATETIME_LONG:"dateTimeFormat-long"},a=new Date(1899,11,31),d=(new Date(1900,2,1)).valueOf(),p=[],r=[],s=[],t=[],q=[],u=new Date(1970,0,1,0,0,0,0),v=new Date(2010,10,10,10,10,10,10),x=new l,y=!1;return{load:function(a,d,b){x?(y||(y=!0,k.init().then(e)),x.then(function(){x=null;b(1)})):b(1)},parseToSerial:function(a,
d){var b=this.parse(a,d);return null==b?null:this.getExcelSerialFromJSDate(b)},getExcelSerialFromJSDate:function(b){var c=b.valueOf();c>=d&&(c+=864E5);c-=a.valueOf();b=b.getTimezoneOffset()-a.getTimezoneOffset();return(c-6E4*b)/864E5},parse:function(a,d,b,e){if(d){var g=f(a,d);if(g)return b&&(b.format=d),this.isTimeFormat(d)&&(g.setFullYear(1899),g.setMonth(11),g.setDate(31)),g}if(!0===e)return null;for(d=0;d<p.length;d++)if(g=f(a,p[d]))return b&&(b.format=p[d]),-1!=c.indexOf(t,p[d])&&(g.setFullYear(1899),
g.setMonth(11),g.setDate(31)),g;return null},isTimeFormat:function(a){if(!a||-1!=c.indexOf(q,a)||-1!=c.indexOf(r,a))return!1;if(-1!=c.indexOf(t,a))return!0;var d=null;try{d=f(n.format(v,{selector:"time",timePattern:a}),a)}catch(b){return q.push(a),!1}var p=1970==d.getFullYear()&&0==d.getMonth()&&1==d.getDate()&&(10==d.getHours()||10==d.getMinutes()||10==d.getSeconds()||10==d.getMilliseconds());p?t.push(a):d.getTime()==u.getTime()&&q.push(a);return p},isDateFormat:function(a){if(!a||-1!=c.indexOf(q,
a)||-1!=c.indexOf(t,a))return!1;if(-1!=c.indexOf(s,a))return!0;if(-1!=c.indexOf(r,a))return!1;var d=null;try{d=f(n.format(v,{selector:"date",datePattern:a}),a)}catch(b){return q.push(a),!1}var p=(2010==d.getFullYear()||10==d.getMonth()||10==d.getDate())&&0==d.getHours()&&0==d.getMinutes()&&0==d.getSeconds()&&0==d.getMilliseconds();p?(s.push(a),r.push(a)):d.getTime()==u.getTime()&&q.push(a);return p},canParse:function(a,d,b,c){if(d){var e=f(a,d);if(e)return b&&(b.format=d),!0}if(!0===c)return!1;for(d=
0;d<p.length;d++)if(e=f(a,p[d]))return b&&(b.format=p[d]),!0;return!1}}})},"tm1web/share/DataEntryShortcutParser":function(){define("dojo/_base/declare ./SpreadSyntaxValidator ./NumberType ../cubeview/ViewCellType ../utility/number ../utility/string".split(" "),function(n,m,l,k,g,c){return n(null,{constructor:function(){this._spreadSyntaxValidator=this._regexpGenericShortcutWithOperand=this._regexpCharacters=this._regexpNumber=this._regexpDirection=this._regexpLinearTextCPShortcut=this._regexpCompoundTextCPShortcut=
this._regexpGrowTextCPShortcut=this._regexpGrowCPShortcut=this._regexpGrowLinearCPShortcut=this._regexpGrowCompoundCPShortcut=null;this._initializeDataEntryShortcuts()},_initializeDataEntryShortcuts:function(){this._separators=c.regexEscape(g.group+g.decimal);this._spreadSyntaxValidator=new m;this._regexpGrowCompoundCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+C(om(pound)?)?[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowLinearCPShortcut=new RegExp("[0-9"+
this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+L(in(ear)?)?[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowCPShortcut=new RegExp("[0-9"+this._separators+"\\-]*G(ro(w)?)?[\\+0-9"+this._separators+"\\-]+[\\\x3e\\\x3c\\|\\^]+","i");this._regexpGrowTextCPShortcut=/G(ro(w)?)?/i;this._regexpCompoundTextCPShortcut=/C(om(pound)?)?/i;this._regexpLinearTextCPShortcut=/L(in(ear)?)?/i;this._regexpDirection=/[\<\>\|\^]+/;this._regexpNumber=new RegExp("[0-9"+this._separators+"\\-]+","");this._regexpCharacters=
RegExp("[a-zA-Z]+","ig");this._regexpGenericShortcutWithOperand=new RegExp("[A-Z\\+]+[0-9"+this._separators+"\\-]+","gi")},resolveShortcuts:function(c,f,b){var a=c;if(null==a)return null;if(this._spreadSyntaxValidator.isValid(a))return a;a=this._resolveReleaseShortcut(a,b);if("RH"==a||"RC"==a)return a;a=this._resolveHoldShortcut(a,b);if("H"==a||"HC"==a)return a;a=this._resolveKShortcut(a,b);if(null==a)return c;a=this._resolveMShortcut(a,b);if(null==a)return c;if(null!=a.match(this._regexpGrowCompoundCPShortcut)||
null!=a.match(this._regexpGrowLinearCPShortcut)||null!=a.match(this._regexpGrowCPShortcut))return a=this._resolveGrowthPlanningShortcut(a,f),null==a?c:a;a=this._resolveDirection(a);if(null==a)return c;f=a.direction;a=a.modifiedValue;a=this._resolvePlanningShortcuts(a,f,b);if(null==a)return c;b=a.resolvedShortcut;a=a.modifiedValue;return""==b&&g.canParse(a,l.DECIMAL)?(""!=f&&(a="R"+f+a),a):null==a||0<a.length?c:b},_resolveDirection:function(c){var f=c.match(this._regexpDirection),b="";if(null!=f&&
1==f.length&&null!=f[0])if(0==c.indexOf(f[0])||c.indexOf(f[0])==c.length-f[0].length)b=f[0],c=c.replace(f[0],"");else return null;return null!=f&&1<f.length?null:{modifiedValue:c,direction:b}},_resolvePlanningShortcuts:function(c,f,b){var a="",d=c.match(this._regexpGenericShortcutWithOperand);if(null!=d&&1==d.length)try{for(var p=0;p<d.length;p++)if(null!=d[p]){var g=d[p].match(this._regexpNumber),s=d[p].replace(g,"");if(null!=g&&null!=g[0]&&(g=g[0],returnValue=this._resolveAddShortcut(s,g,f,b),returnValue.isShortcutFound||
(returnValue=this._resolveSubtractShortcut(s,g,f,b)),returnValue.isShortcutFound||(returnValue=this._resolveIncreaseShortcut(s,g,f,b)),returnValue.isShortcutFound||(returnValue=this._resolveDecreaseShortcut(s,g,f,b)),returnValue.isShortcutFound||(returnValue=this._resolvePercentShortcut(s,g,f,b)),returnValue.isShortcutFound)){var k=returnValue.stringToReplace,a=returnValue.resolvedShortcut;c=c.replace(d[p],k);break}}}catch(q){return null}return{modifiedValue:c,resolvedShortcut:a}},_resolveKShortcut:function(c,
f){return this._resolveMultiplierShortcut(c,f,"K",1E3)},_resolveMShortcut:function(c,f){return this._resolveMultiplierShortcut(c,f,"M",1E6)},_resolveMultiplierShortcut:function(c,f,b,a){var d=new RegExp("[0-9"+this._separators+"]+"+b,"gi");if(null!=c.match(new RegExp(b+"[0-9"+this._separators+"]+","gi")))return null;d=c.match(d);if(null!=d&&1==d.length&&null!=d[0])for(var p=0;p<d.length;p++){var r=d[p],r=r.replace(b.toLowerCase(),""),r=r.replace(b.toUpperCase(),"");if(f.cellType==k.STR||g.canParse(r)){var s=
g.parse(r),s=s*a;0<=r.indexOf(g.decimal)&&(r=r.split(g.decimal)[1].length,r=r-a.toString().length+1,r=Math.max(0,r),s=s.toFixed(r));s=g.format(s,!0);c=c.replace(d[p],s)}else return null}return c},_resolveHoldShortcut:function(c,f){return this._resolveAllHoldShortcuts(c,f,"Hol(d)?","H","HC")},_resolveReleaseShortcut:function(c,f){return this._resolveAllHoldShortcuts(c,f,"Rel(ease)?","RH","RC")},_resolveAllHoldShortcuts:function(c,f,b,a,d){return null!=c.match(new RegExp(b,"i"))?lastEditedCell.cellInfo.isConsolidated?
d:a:c},_resolveAddShortcut:function(c,f,b){return this._resolveArithmeticShortcut(c,f,b,"\\+|Add","R+","P+")},_resolveSubtractShortcut:function(c,f,b){return this._resolveArithmeticShortcut(c,f,b,"\\~|Sub(tract)?","R~","P~")},_resolveIncreaseShortcut:function(c,f,b){return this._resolveArithmeticShortcut(c,f,b,"Inc(rease)?","P%+","P%+")},_resolveDecreaseShortcut:function(c,f,b){return this._resolveArithmeticShortcut(c,f,b,"Dec(rease)?","P%~","P%~")},_resolvePercentShortcut:function(c,f,b){return this._resolveArithmeticShortcut(c,
f,b,"Per(cent)?","P%","P%")},_resolveArithmeticShortcut:function(c,f,b,a,d,p){var r=!1,s="",k="";a=c.match(new RegExp(a,"i"));null!=a&&(s=c.replace(a[0],""),r=!0);r&&g.canParse(f,l.DECIMAL)?k=""!=b?d+b+f:p+f:r=!1;return{stringToReplace:s,isShortcutFound:r,resolvedShortcut:k}},_resolveGrowthPlanningShortcut:function(c,f){var b=c;try{var a=this._resolveDirection(b);if(null==a)return null;var d=a.direction,b=a.modifiedValue,a="";if("G"!=b.substring(0,1).toUpperCase()){var p=b.search(/G/i);0<=p&&(a=b.substring(0,
p),b=b.replace(b.substring(0,p),""))}else a=f;p="";b=b.replace(this._regexpGrowTextCPShortcut,"");b=b.replace(this._regexpCompoundTextCPShortcut,"");p=b=b.replace(this._regexpLinearTextCPShortcut,"");null==a&&(a="");null==d&&(d="");null==p&&(p="");return"GR"+d+a+":"+p}catch(g){return null}}})})},"tm1web/cubeview/CubeViewerSaveAsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on dojo/sniff dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dijit/Dialog dijit/form/Button dijit/form/CheckBox dijit/registry dojox/html/entities ./CubeViewBase ../share/service-loader!CubeViewService ../utility/message-localizer".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v){return n(q,{constructor:function(a){this._ObjectId=a;this._AccessibleId=this._AccessibleHelp=this._ViewNameLabel=this._ViewNameTextBox=this._CancelButton=this._OKButton=this._ActionButtonsContainer=this._DefaultCheckBox=this._PrivateCheckBox=this._ViewTypeContainer=this._ViewListDiv=this._ViewNameContatiner=this._ViewListContainer=this._Dialog=null},Initialize:function(){this._CreateDialog()},_CreateDialog:function(a){this._Dialog=new d({title:v.get("SAVE_VIEW_TITLE_STR"),
"class":"tm1webFormDialog"},null);f.add(this._Dialog.domNode,a);this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){this._CreateViewTypeCheckboxes();this._CreateCurrentViews();this._CreateViewName();this._CreateA11yHelp();this._CreateActionButtons()},_CreateViewName:function(){var a=this.CreatePanel("","tm1webViewNameContainer");b.place(a,this._Dialog.containerNode);this._ViewNameLabel=this.CreateLabel(a,v.get("VIEW_NAME_STR"),"tm1webViewNameLabel");this._ViewNameTextBox=this.CreateTextBox(a,
"","tm1webViewNameValue");this._ViewNameTextBox.setAttribute("name","ViewName");this._ViewNameTextBox.type="text";this._ViewNameTextBox.setAttribute("id","ViewName");this._ViewNameLabel.setAttribute("for","ViewName")},_CreateCurrentViews:function(){var a=s.getUniqueId("tm1webCubeViewerSaveToExisting"),d=b.create("div",{"aria-labelledby":a,role:"group"});b.place(d,this._Dialog.containerNode);this._CreateViewListContainer(d);a=b.create("label",{id:a,innerHTML:v.get("CURRENT_VIEWS_STR")});b.place(a,
d);this._CreateViewList()},_CreateViewListContainer:function(a){b.place(a,this._Dialog.containerNode);this._ViewListContainer=a},_CreateA11yHelp:function(){this._AccessibleId=s.getUniqueId("tm1webCubeViewerSaveHelp");this._AccessibleHelp=document.createElement("div");this._AccessibleHelp.innerHTML=v.get("SAVE_AS_A11Y_INSTRUCTIONS_STR");this._AccessibleHelp.id=this._AccessibleId;this._AccessibleHelp.setAttribute("class","tm1webHidden");b.place(this._AccessibleHelp,this._Dialog.containerNode);this._ViewListContainer.setAttribute("aria-describedby",
this._AccessibleId)},_CreateViewList:function(){var a=document.createElement("div");b.place(a,this._ViewListContainer);f.add(a,"tm1webViewListDiv");this._ViewListDiv=a;u.GetViewListByCubeID(this._ObjectId,{callback:this._OnGetViewList,scope:this})},_OnGetViewList:function(a){for(var d=0;d<a.length;d++){var b=a[d].viewName,c=a[d].isPrivate;document.createElement("div");this._CreateViewItem(b,c)}},_CreateViewItem:function(a,d){var p="";c("ie")&&(a=t.encode(a));var r=document.createElement("div");b.place(r,
this._ViewListDiv);f.add(r,"tm1webViewElem");e.set(r,"id",a);e.set(r,"item_name",a);e.set(r,"access_right",d);var q=s.getUniqueId("tm1webCubeViewerElement"),k=document.createElement("span");k.setAttribute("id",q+"Img");b.place(k,r);d?(p=v.get("SAVE_AS_A11Y_VIEW_PRIVATE_STR"),k.setAttribute("title",p),k.setAttribute("alt",p),k.setAttribute("class","tm1webCubeviewPrivateIcon")):(p=v.get("SAVE_AS_A11Y_VIEW_PRIVATE_STR"),k.setAttribute("title",p),k.setAttribute("alt",p),k.setAttribute("class","tm1webCubeviewIcon"));
p=document.createElement("span");p.setAttribute("id",q+"Name");p.setAttribute("class","tm1webHidden");b.place(p,r);p.innerHTML=a;r.innerHTML+=a;r.setAttribute("aria-labelledby",q+"Name "+q+"Img ");r.setAttribute("tabindex","0");g(r,"click",m.hitch(this,"_OnItemClick"));g(r,"mouseout",m.hitch(this,"_OnItemMouseOut"));g(r,"mouseover",m.hitch(this,"_OnItemMouseOver"));g(r,"keypress",m.hitch(this,"_OnItemKeypress"));g(r,"keydown",m.hitch(this,"_OnItemKeydown"))},_OnItemClick:function(a){this._ViewNameTextBox.disabled||
(a=a.target.getAttribute("item_name"),c("ie")&&(a=t.decode(a)),this._ViewNameTextBox.value=a)},_OnItemMouseOut:function(a){},_OnItemMouseOver:function(a){},_OnItemKeydown:function(a){this._OnItemKeypress(a)},_OnItemKeypress:function(d){d.which==a.ENTER||d.keyCode==a.ENTER?(this._OnItemClick(d),document.getElementById("ViewName").focus()):d.keyCode==a.DOWN_ARROW||d.which==a.DOWN_ARROW?document.getElementById("ViewName").focus():d.keyCode!=a.UP_ARROW&&d.which!=a.UP_ARROW||document.getElementById(this._DefaultCheckBox.id).focus()},
_CreateActionButtons:function(){var a=document.createElement("div");b.place(a,this._Dialog.containerNode);f.add(a,"tm1webSaveViewButtonContainer tm1webDialogButtons");this._ActionButtonsContainer=a;this._OKButton=this._CreateButton(v.get("OK_STR"),this._OnOk,"tm1WebBtnPrimary");this._CancelButton=this._CreateButton(v.get("CANCEL_STR"),this._OnCancel,"tm1webBtnSecondary")},_CreateButton:function(a,d,c){a=new p({label:a,onClick:m.hitch(this,d)});f.add(a.domNode,"tm1webButton");f.add(a.domNode,c);b.place(a.domNode,
this._ActionButtonsContainer);return a},_CreateViewTypeCheckboxes:function(){var a=s.getUniqueId("tm1webCubeViewerSaveTypes"),d=document.createElement("div");d.setAttribute("aria-labelledby",a);d.setAttribute("role","group");b.place(d,this._Dialog.containerNode);f.add(d,"tm1webSaveAsCheckboxContainer");this._ViewTypeContainer=d;d=document.createElement("label");d.setAttribute("id",a);d.innerHTML=v.get("VIEW_TYPE_STR");b.place(d,this._ViewTypeContainer);this._PrivateCheckBox=this._CreateCheckbox(v.get("PRIVATE_VIEW_STR"),
0);this._DefaultCheckBox=this._CreateCheckbox(v.get("DEFAULT_VIEW_STR"),1);var c=this;u.getAdminAccess(this._ObjectId,{callback:function(a){0==a&&m.hitch(c,function(){this._PrivateCheckBox.set("checked",!0);this._PrivateCheckBox.set("disabled",!0)})()},scope:this})},_CreateCheckbox:function(a,d){var c=this._CreateCheckBoxLabelDiv(),p=new r({name:"viewselector"});_this=this;d&&(p.onClick=function(){_this._OnCheckBoxClick(p.checked)});b.place(p.domNode,c);this._CreateLabel(a,c,p.id);return p},_OnCheckBoxClick:function(a){a?
(this._ViewNameTextBox.value="Default",this._ViewNameTextBox.disabled=!0):this._ViewNameTextBox.disabled=!1},_CreateCheckBoxLabelDiv:function(){var a=document.createElement("div");f.add(a,"tm1webViewTypeDiv");b.place(a,this._ViewTypeContainer);return a},_CreateLabel:function(a,d,c){var p=document.createElement("label");p.innerHTML=a;b.place(p,d);c&&e.set(p,"for",c)},_OnOk:function(){u.SaveViewAs(this._ObjectId,this._ViewNameTextBox.value,this._PrivateCheckBox.checked,{callback:this._OnRefresh,scope:this});
this.Destroy()},_OnRefresh:function(a){l.publish("RefreshNavigationTreeEvent");l.publish(this._ObjectId+"-UpdateTabTitle",this._ViewNameTextBox.value)},_OnCancel:function(){this.Destroy()},Show:function(){this._Dialog.show()},Destroy:function(){var a=m.hitch(this,function(){this._Dialog.destroyRecursive()});this._Dialog.hide().then(a)}})})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),
function(n,m,l,k,g,c,e){c.extend(n,{waiRole:"",waiState:""});return g("dijit._Templated",[m,l],{widgetsInTemplate:!1,constructor:function(){e.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(c,b){var a=this.inherited(arguments),d=b(c,"waiRole");d&&c.setAttribute("role",d);(d=b(c,"waiState"))&&k.forEach(d.split(/\s*,\s*/),function(a){-1!=a.indexOf("-")&&(a=a.split("-"),c.setAttribute("aria-"+
a[0],a[1]))});return a}})})},"tm1web/share/sandbox/TM1WebSandboxCreateDialog":function(){define(["dojo/_base/declare","./SandboxCreateDialog","../service-loader!SandboxService"],function(n,m,l){return n(m,{constructor:function(k,g){this._tm1Widget=k;this._objectId=g},executeGetSandboxesServiceCall:function(k){this._tm1Widget.getSandboxes().then(k)},executeCopySandboxServiceCall:function(k,g,c){l.copySandbox(this._objectId,k,g,c)},executeCreateSandboxServiceCall:function(k,g){l.createSandbox(this._objectId,
k,g)},destroy:function(){this.inherited(arguments);delete this._tm1Widget;delete this._objectId}})})},"tm1web/share/DialogUnderlayEx":function(){define(["dojo/_base/declare","dijit/DialogUnderlay","dojo/topic"],function(n,m,l){return n(m,{hide:function(){this.bgIframe&&this.inherited(arguments)},show:function(){this.inherited(arguments);setTimeout(function(){l.publish("TM1Web-DialogUnderlayDisplayed")},0)},layout:function(){this.inherited(arguments);this.bgIframe||this.open||(this.domNode.style.display=
"none")}})})},"tm1web/share/sandbox/SandboxCreateDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/Deferred dojo/keys dojo/topic dijit/form/RadioButton dijit/form/TextBox dijit/Dialog dojox/html/entities ../../utility/message-localizer ../CheckRow ../RadioRow ./SandboxDialog ../../widgets/WarningAlert ../../widgets/ErrorAlert".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v){return n(q,{constructor:function(){this._sandboxToCopy=
this._sandBoxNameTextBox=this._actionsContainer=null;this._createNew=!1;this.onCreateDeferred=new c},createSandboxDialog:function(){this.popup=new d({title:r.get("SANDBOX_CREATION_STR")});g.add(this.popup.domNode,"tm1webSandboxCreateDialog tm1webFormDialog");g.add(this.popup.containerNode,"tm1webSandboxCreateDialogPane");this._contentContainer=k.create("div");k.place(this._contentContainer,this.popup.containerNode);g.add(this._contentContainer,"tm1webSandboxDialogContent")},createSandboxTopInput:function(){var a=
k.create("label",{innerHTML:r.get("SANDBOX_NAME_STR"),className:"tm1webSandboxDialogHeader"});k.place(a,this._contentContainer);var d=k.create("div");k.place(d,this._contentContainer);this._actionsContainer=d;this._sandBoxNameTextBox=this._createTextBox(r.get("SANDBOX_NAME_STR"));this._sandBoxNameTextBox.onInput=m.hitch(this,"_onInput");a.setAttribute("for",this._sandBoxNameTextBox.textbox.id)},_createTextBox:function(d){d=this._createSandboxInputDiv();var b=new a(null);g.add(b.domNode);k.place(b.domNode,
d);return b},_createLabel:function(a,d,b){a=k.create("label",{innerHTML:a});a.setAttribute("for",b);k.place(a,d)},_createActionChoiceRadioButton:function(a,d,c){var p=this._createSandboxInputDiv();c=new b({name:"ActionChoice",value:c});c.setChecked(d);k.place(c.domNode,p);this._createLabel(a,p,c.id);return p},_onInput:function(a){if(a.keyCode===e.ENTER)this.onOk()},_createSandboxInputDiv:function(){var a=k.create("div",{className:"tm1webSandboxInput"});k.place(a,this._actionsContainer);return a},
getOkButtonText:function(){return r.get("CREATE_STR")},_onCreateSandboxDialog:function(a){if(a){var d=this;d._sandboxContainerLabel.innerHTML=r.get("SANDBOX_CREATE_FROM_STR");l.forEach(a.sandboxes,function(a){(a=d.createSandboxItemRow(a,a.baseSandbox||a.defaultSandbox))&&k.place(a,d._sandboxContainer)})}this.popup.show()},createSandboxItemRow:function(a,d){if(""==a.name)return this._sandboxContainer.style.display="none",this._createNew=!0,null;var b=new t(a.name,p.encode(a.name));this._sandboxContainer.style.display=
"";d?(b.onClick=m.hitch(this,"_onSelectBaseRow"),this._createNew=b.checked=!0):b.onClick=m.hitch(this,"_onSelectRow");return b.createSandboxRadioButton()},_onSelectBaseRow:function(a){this._sandboxToCopy=null;this._createNew=!0},_onSelectRow:function(a){a!=this._sandboxToCopy&&(this._sandboxToCopy=a,this._createNew=!1)},onOk:function(){this._createNew?this._createSandbox():this._copySandbox()},_copySandbox:function(){if(this._sandboxToCopy){var a=this._sandBoxNameTextBox.value;if(""!=m.trim(a)){var d=
this._sandboxToCopy.identifier,b=m.hitch(this,"onCopySandbox"),c=this.onCreateDeferred;c.then(b);this.executeCopySandboxServiceCall(d,a,{callback:this._onSandboxCreated,arg:{deferred:c,newName:a},scope:this})}else u.show({message:r.get("SANDBOX_NAME_MISSING_STR"),title:r.get("SANDBOX_WARNING_TITLE_STR")})}else u.show({message:r.get("NO_SANDBOX_SELECTED_STR"),title:r.get("SANDBOX_WARNING_TITLE_STR")})},executeCopySandboxServiceCall:function(a,d,b){},_createSandbox:function(){var a=this._sandBoxNameTextBox.get("value");
if(""!=m.trim(a)){var d=m.hitch(this,"onCreateSandbox"),b=this.onCreateDeferred;b.then(d);this.executeCreateSandboxServiceCall(a,{callback:this._onSandboxCreated,arg:{deferred:b,newName:a},scope:this})}else u.show({message:r.get("ENTER_NAME_FOR_SANDBOX_STR"),title:r.get("SANDBOX_WARNING_TITLE_STR")})},_onSandboxCreated:function(a,d){a&&d.newName&&f.publish("TM1Web-SandboxCreated",d.newName);d.deferred.resolve(a)},executeCreateSandboxServiceCall:function(a,d){},_onCreateSandboxFailed:function(a){v.show({message:a.get_message(),
title:r.get("SANDBOX_WARNING_TITLE_STR")})},onCreateSandbox:function(a){a||u.show({message:r.get("SANDBOX_CREATION_FAILED_STR"),title:r.get("SANDBOX_WARNING_TITLE_STR")});this.destroy()},onCopySandbox:function(a){a||u.show({message:r.get("SANDBOX_COPY_FAILED_STR"),title:r.get("SANDBOX_WARNING_TITLE_STR")});this.destroy()},destroy:function(){this.inherited(arguments);delete this._actionsContainer;delete this._sandBoxNameTextBox;delete this._sandboxToCopy;delete this._createNew;delete this.onCreateDeferred}})})},
"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(n,m,l,k){return n("dijit.ToolbarSeparator",[l,k],{templateString:'\x3cdiv class\x3d"dijitToolbarSeparator dijitInline" role\x3d"presentation"\x3e\x3c/div\x3e',buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],
function(n,m,l){return n("dijit.form.RadioButton",[m,l],{baseClass:"dijitRadio"})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(n,m,l,k,g,c){return n("dijit.MenuSeparator",[l,k,g],{templateString:c,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare",
"dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(n,m,l,k){return n("dijit.form.ToggleButton",[l,k],{baseClass:"dijitToggleButton",setChecked:function(g){m.deprecated("setChecked("+g+") is deprecated. Use set('checked',"+g+") instead.","","2.0");this.set("checked",g)}})})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(n,m,l,k,g,c,e,f){function b(a){var d="";a=a.childNodes;for(var c=
0,p;p=a[c];c++)8!=p.nodeType&&(d=1==p.nodeType?d+b(p):d+p.nodeValue);return d}var a={},d=0,p=m._scopeName+"attrid";l.add("dom-textContent",function(a,d,b){return"textContent"in b});n.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};n.get=function(a,d){a=g.byId(a);var c=d.toLowerCase(),c=n.names[c]||d;return"textContent"!=c||l("dom-textContent")?a[c]:b(a)};
n.set=function(b,s,t){b=g.byId(b);if(2==arguments.length&&"string"!=typeof s){for(var q in s)n.set(b,q,s[q]);return b}q=s.toLowerCase();q=n.names[q]||s;if("style"==q&&"string"!=typeof t)return c.set(b,t),b;if("innerHTML"==q)return l("ie")&&b.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(e.empty(b),b.appendChild(e.toDom(t,b.ownerDocument))):b[q]=t,b;if("textContent"==q&&!l("dom-textContent"))return e.empty(b),b.appendChild(b.ownerDocument.createTextNode(t)),
b;if(k.isFunction(t)){var u=b[p];u||(u=d++,b[p]=u);a[u]||(a[u]={});var m=a[u][q];if(m)f.disconnect(m);else try{delete b[q]}catch(x){}t?a[u][q]=f.connect(b,q,t):b[q]=null;return b}b[q]=t;return b}})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(n,m,l,k){return n("dijit.CheckedMenuItem",l,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:k,checked:!1,_setCheckedAttr:function(g){this.domNode.setAttribute("aria-checked",
g?"true":"false");this._set("checked",g)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(g){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(g)}})})},"dojox/html/_base":function(){define("../main dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),function(n,m,
l,k,g,c,e,f,b,a,d,p,r){var s=c.getObject("html",!0,n);if(b("ie"))var t=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var q=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,u=s._adjustCssPaths=function(d,b){if(b&&d)return t&&(b=b.replace(t,function(b,c,p,f,e){return c+(new a(d,"./"+f)).toString()+e})),b.replace(q,function(b,c,p,f,e,g){return p?'@import "'+(new a(d,"./"+p)).toString()+'"'+
g:"url("+(new a(d,"./"+e)).toString()+")"+g})},v=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,x=s._adjustHtmlPaths=function(d,b){var c=d||"./";return b.replace(v,function(d,b,p,f,e,g,q,r){return b+(p?p+"\x3d"+f+(new a(c,e)).toString()+f:"style\x3d"+g+u(c,q)+g)+r})},y=s._snarfStyles=function(a,d,b){b.attributes=[];d=d.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return d.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(d,c,p,f,e,g){d=(c||f||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");p?p=b.push(a?u(a,p):p):(p=b.push('@import "'+g+'";'),d=d.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(d){d=d.split(/\s+/);g={};f=0;for(e=d.length;f<e;f++)c=d[f].split("\x3d"),g[c[0]]=c[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");b.attributes[p-1]=g}return""})},w=s._snarfScripts=
function(a,b){function c(a){b.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,d){switch(d){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==d.charAt(0)?String.fromCharCode(d.substring(1)):"\x26"+d+";"}}),d.get({url:a,sync:!0,load:function(a){b.code+=a+";"},error:b.errBack}))}b.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,d,p,f){p?c(p):b.code+=f;return""})},z=s.evalInGlobal=function(a,d){d=d||r.doc.body;var b=d.ownerDocument.createElement("script");b.type="text/javascript";d.appendChild(b);b.text=a};s._ContentSetter=m(g._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var d,b,c,p=this.node.ownerDocument,f=p.getElementsByTagName("head")[0],e=0,g=a.length;e<g;e++){c=a[e];b=a.attributes[e];
d=p.createElement("style");d.setAttribute("type","text/css");for(var q in b)d.setAttribute(q,b[q]);this._styleNodes.push(d);f.appendChild(d);d.styleSheet?d.styleSheet.cssText=c:d.appendChild(p.createTextNode(c))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,d=this._styles;if(e.isString(a)){this.adjustPaths&&this.referencePath&&(a=x(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=y(this.referencePath,
a,d);if(this.executeScripts){var b=this,d={downloadRemote:!0,errBack:function(a){b._onError.call(b,"Exec",'Error downloading remote script in "'+b.id+'"',a)}},a=w(a,d);this._code=d.code}}this.content=a},onEnd:function(){var a=this._code,d=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)k.destroy(this._styleNodes.pop());this.renderStyles&&d&&d.length&&this._renderStyles(d);var b=new l,c=this.getInherited(arguments),g=arguments,d=e.hitch(this,function(){c.apply(this,
g);p(this.parseDeferred,function(){b.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{z(a,this.node)}catch(q){this._onError("Exec","Error eval script in "+this.id+", "+q.message,q)}f(d)}else d();return b.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)k.destroy(this._styleNodes.pop());
delete this._styleNodes;e.mixin(this,s._ContentSetter.prototype)}});s.set=function(a,d,b){return b?(new s._ContentSetter(e.mixin(b,{content:d,node:a}))).set():g._setNodeContent(a,d,!0)};return s})},"tm1web/celledit/shortcut-parser":function(){define(["../share/DataEntryShortcutParser"],function(n){return new n})},"tm1web/spreading/SpreadDialogStraightLine":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/form/RadioButton ../utility/message-localizer ../cubeview/TitlePanel ./SpreadDialogBase dijit/registry".split(" "),
function(n,m,l,k,g,c,e,f,b){return n(f,{constructor:function(){this._ActionValue=this._DirectionValue="";this._EndValue=this._StartValue=null;this._HorizontalVerticalValue="\x3e";this._InitializeSpreadDialogStraightLine()},_InitializeSpreadDialogStraightLine:function(){},_CreateContent:function(){this._CreateValuesContent(this._Dialog.containerNode);this._CreateExtendContent(this._Dialog.containerNode);this._CreateUpdateActionContent();this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons");
"GR"==this._CommandString&&(this._EndValue.value="")},_CreateValueTextBox:function(a,d,c){c=this.CreatePanel("",c);var f=b.getUniqueId("tm1webValueTextBoxLabelInline"),e=this.CreateA11yLabel(d,"","tm1webValueTextBoxLabelInline",f);k.place(e,c);e.innerHTML=a;a=k.create("input");a.value=this._convertFloat(1==this._cellInfo.changed?this._cellInfo.newValue:this._cellInfo.numericValue);l.add(a,"tm1webValueTextBox");a.setAttribute("type","text");a.setAttribute("id",f);k.place(a,c);k.place(c,d);return a},
_CreateValuesContent:function(a){a=(new e("",null,null,"tm1webSpreadStraightLineBox tm1webValueStraightLineSet")).Create(a);this._StartValue=this._CreateValueTextBox(this._StartValueTitle,a,"tm1webValueDiv");this._EndValue=this._CreateValueTextBox(this._EndValueTitle,a,"tm1webValueDiv")},_CreateExtendContent:function(a){a=(new e(c.get("SPREAD_SECTION_EXTEND"),null,null,"tm1webSpreadStraightLineBox tm1webExtendStraightLineSet tm1webExtendStraightLineSetExtend")).Create(a);this._CreateExtendRadionButtonList(a)},
_CreateExtendRadionButtonList:function(a){var d=this.CreatePanel();k.place(d,a);l.add(d,"tm1webDataSpreadHorizontalContainer");this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_HORIZONTAL"),!1,"\x3c\x3e",d);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_RIGHT"),!0,"\x3e",d);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_LEFT"),!1,"\x3c",d);d=this.CreatePanel();k.place(d,a);l.add(d,"tm1webDataSpreadVerticalContainer");this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_VERTICAL"),
!1,"^|",d);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_DOWN"),!1,"|",d);this._CreateExtendChoiceRadioButton(c.get("SPREAD_LABEL_UP"),!1,"^",d)},_CreateExtendChoiceRadioButton:function(a,d,b,c){_this=this;var f=this.CreatePanel();k.place(f,c);l.add(f,"tm1webRadioLayout");c=this._CreateCheckBoxLabelDiv(f);b=new g({name:"ExtendChoice",value:b});b.setChecked(d);b.onClick=function(){_this._OnExtendRadioButtonClick(this)};k.place(b.domNode,c);this._CreateCheckBoxLabel(a,c,b.id);return b},_OnExtendRadioButtonClick:function(a){a.checked&&
(this._HorizontalVerticalValue=a.value)},_GetControlString:function(){var a=this._CommandString,a=a+this._ActionValue+this._HorizontalVerticalValue,d=this._StartValue.value,a=a+m.trim(d),d=this._EndValue.value;return a+=":"+m.trim(d)},_CreateUpdateActionContent:function(){var a=(new e(c.get("SPREAD_SECTION_UPDATE"),null,null,"tm1webSpreadingUpdateActions")).Create(this._Dialog.containerNode);this._CreateRadioButtonList(a)}})})},"tm1web/cubeview/ColumnDimensionDropPanel":function(){define(["dojo/_base/declare",
"../utility/message-localizer","./_HeaderDimensionDropPanel"],function(n,m,l){return n(l,{SetDropPanelProperties:function(){this.Caption=m.get("COLUMN_DIMENSION_DROP_PANEL_STR");this.ButtonType="C"},Create:function(k){var g=this.inherited(arguments);this.SetContainerProperty(g,"ColumnHeaderDropArea",m.get("COLUMN_DIMENSION_DROP_PANEL_TOOLTIP_STR"),"ColDropTable");return g},CreateDimensionButtons:function(k){this.CreateDimensionButtonsEx(k,k.dimensionButtons.columnDimButtons)},CreateDisplayTextLabel:function(k,
g){this.CreateDisplayTextLabelEx(k,this.NBSP+g.displayName+this.NBSP,g)},GetNumberOfDimButtons:function(k){k=k.dimensionButtons.columnDimButtons||[];return null==k?0:k.length}})})},"tm1web/mobile/_ScrollDeltaMixin":function(){define(["dojo/_base/declare"],function(n){return n(null,{_retainStartCoordinates:!0,_currentX:null,_currentY:null,_onTouchStart:function(m){m.touches&&this._setCoordinates(this._getPageX(m),this._getPageY(m))},_onTouchMove:function(m){if(m.touches&&!(1<m.touches.length)){var l=
this._getPageX(m);m=this._getPageY(m);this._handleTouchMove(this._getDeltaX(l),this._getDeltaY(m));this._retainStartCoordinates||this._setCoordinates(l,m)}},_handleTouchMove:function(m,l){},_onTouchEnd:function(m){this._setCoordinates(null,null)},_setCoordinates:function(m,l){this._currentX=m;this._currentY=l},_getDeltaX:function(m){return this._currentX-m},_getDeltaY:function(m){return this._currentY-m},_getPageX:function(m){return m.touches[0].pageX},_getPageY:function(m){return m.touches[0].pageY}})})},
"tm1web/utility/message-localizer":function(){define(["dojo/_base/lang","dojo/i18n!../common/nls/CommonMessages"],function(n,m){return{get:function(l){if(l in m){var k=m[l];return 1<arguments.length?n.replace(k,Array.prototype.slice.call(arguments,1)):k}console.error("Localized string not found for key: "+l);return"^"+l}}})},"tm1web/share/CubeViewerDisplayMode":function(){define({Grid:"Grid",Chart:"Chart",GridAndChart:"GridAndChart"})},"tm1web/subseteditor/ElementType":function(){define({Consolidated:"Consolidated",
Simple:"Simple",String:"String"})},"tm1web/share/http-session-initializer":function(){define(["dojo/Deferred","./service-loader!TM1Service"],function(n,m){var l;return{init:function(){if(l)return l.promise;l=new n;m.initializeHttpSession({callback:function(){l.resolve();setTimeout(function(){l=null},1E4)},errorHandler:function(k){l.reject(k);l=null}});return l.promise}}})},"tm1web/subseteditor/TreeUpdateSynchronizer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dijit/Destroyable"],
function(n,m,l,k){return n(k,{_pendingUpdate:null,_executionCount:0,constructor:function(g){this._attachListeners(g)},_attachListeners:function(g){var c=this;this.own(l.around(g,"_expandNode",function(e){return function(){return c._execute(this,e,arguments)}}));this.own(l.around(g,"_collapseNode",function(e){return function(){return c._execute(this,e,arguments)}}));this.own(l.around(g,"_onFetch",function(e){return function(f){if(0<c._executionCount)c._pendingUpdate=m.hitch(this,e,f);else return c._execute(this,
e,arguments)}}))},_execute:function(g,c,e){this._executionCount++;return c.apply(g,e).then(m.hitch(this,"_onExecuteComplete"))},_onExecuteComplete:function(){this._executionCount--;if(0>=this._executionCount&&this._pendingUpdate){var g=this._pendingUpdate;this._pendingUpdate=null;this._executionCount++;g().then(m.hitch(this,"_onExecuteComplete"))}},destroy:function(){this.inherited(arguments);this._pendingUpdate=null}})})},"tm1web/cubeview/HiddenDimensionDropMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/MenuItem dijit/form/DropDownButton ../utility/message-localizer ./DimensionDropMenu".split(" "),
function(n,m,l,k,g,c,e){return n(e,{_createMenuItem:function(c,b){var a=l.create("div"),d=l.create("div",{"class":"tm1webHiddenDimensionButtonPanel"},a),p=this.CreateTable(),e=p.insertRow(-1),g=e.insertCell(-1);g.className="tm1webHiddenDimButImageHandle";this.SetTextContent(g,this.NBSP);g=e.insertCell(-1);g.className="tm1webDimButFillAndBorder";this._CreateTextTable(g,c,a);a.appendChild(d);d.appendChild(p);return new k({iconClass:"dimensionDropMenuItemIcon",srcNodeRef:a,dimensionName:c.dimensionName,
baseClass:"tm1webHiddenDropDownMenuItem"})},_CreateTextTable:function(c,b,a){var d=this.CreateTable();c.appendChild(d);a._txtTable=d;this.AddClass(d,"tm1webHiddenDimButtonTextTable");this._CreateTextTableCell(d,b,this.CreateDisplayTextLabel);this._CreateTextTableCell(d,b,this._CreateDimensionTextLabel)},_CreateTextTableCell:function(c,b,a){c=c.insertRow(-1).insertCell(-1);c.className="tm1webHiddenDimButtonText";a.call(this,c,b)},_CreateDimensionTextLabel:function(f,b){this.CreateLabel(f,"["+b.dimensionCaption+
"]","tm1webHiddenDimButtonDimText").title=c.get("HIDDEN_DIMENSION_DROP_PANEL_STR")+" "+b.dimensionCaption},CreateDisplayTextLabel:function(f,b){var a=this.CreateLabel(f,this.NBSP+b.displayName+this.NBSP,"tm1webHiddenDimButtonElementText");a.title=c.get("HIDDEN_DIMENSION_DROP_PANEL_STR")+" "+b.dimensionCaption+c.get("HIDDEN_DIMENSION_DROP_PANEL_TOOLTIP_STR");return a}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(n,m){return n("dijit._DialogMixin",null,{actionBarTemplate:"",
execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var l=m._getTabNavigable(this.domNode);this._firstFocusItem=l.lowest||l.first||this.closeButtonNode||this.domNode;this._lastFocusItem=l.last||l.highest||this._firstFocusItem}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r){function s(){}function t(a){return function(d,b,c,p){return d&&"string"==typeof b&&d[b]==s?d.on(b.substring(2).toLowerCase(),e.hitch(c,p)):a.apply(l,arguments)}}n.around(l,"connect",t);c.connect&&n.around(c,"connect",t);return k("dijit._Widget",[d,p,r],{onClick:s,onDblClick:s,onKeyDown:s,onKeyPress:s,onKeyUp:s,onMouseDown:s,onMouseMove:s,onMouseOut:s,onMouseOver:s,onMouseLeave:s,onMouseEnter:s,onMouseUp:s,constructor:function(a){this._toConnect={};for(var d in a)this[d]===
s&&(this._toConnect[d.replace(/^on/,"").toLowerCase()]=a[d],delete a[d])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,d){return this[this._onMap(a)]===s?l.connect(this.domNode,a.toLowerCase(),this,d):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,d){c.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,d)},attr:function(a,d){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){c.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}})})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),
function(n,m,l,k,g,c,e){return n("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(c){this._set("list",c)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(c){return new RegExp("^"+c.replace(/(\\.)|(\*)|(\?)|\W/g,function(b,a,d,c){return d?".*":c?".":a?a:"\\"+b})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&
(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(c){if(!this.disabled&&!this.readOnly){var b=c.charOrCode;if(!("type"in c&&"key"==c.type.substring(0,3)&&(c.altKey||(c.ctrlKey||c.metaKey)&&"x"!=b&&"v"!=b||b==m.SHIFT))){this._prev_key_backspace=
c=!1;switch(b){case m.DELETE:case m.BACKSPACE:c=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:c="string"==typeof b||229==b}if(c)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(f){this._abortQuery();var b=this,a=l.clone(this.query),d={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},p=
g.substitute(this.queryExpr,[f.replace(/([\\\*\?])/g,"\\$1")]),e,s=function(){var p=b._fetchHandle=b.store.query(a,d);b.disabled||b.readOnly||e!==b._lastQuery||c(p,function(f){b._fetchHandle=null;b.disabled||b.readOnly||e!==b._lastQuery||c(p.total,function(c){f.total=c;var p=b.pageSize;if(isNaN(p)||p>f.total)p=f.total;f.nextPage=function(c){d.direction=c=!1!==c;d.count=p;c?(d.start+=f.length,d.start>=f.total&&(d.count=0)):(d.start-=p,0>d.start&&(d.count=Math.max(p+d.start,0),d.start=0));0>=d.count?
(f.length=0,b.onSearch(f,a,d)):s()};b.onSearch(f,a,d)})},function(a){b._fetchHandle=null;b._cancelingQuery||console.error(b.declaredClass+" "+a.toString())})};l.mixin(d,this.fetchProperties);this.store._oldAPI?e=p:(e=this._patternToRegExp(p),e.toString=function(){return p});this._lastQuery=a[this.searchAttr]=e;this._queryDeferHandle=this.defer(s,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var c=this.list;c&&(this.store=
e.byId(c))}this.inherited(arguments)}})})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(n){return n})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(n,m,l,k){return n("dijit.form.SimpleTextarea",k,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&m.add(this.textbox,"dijitTextAreaCols")},filter:function(g){g&&(g=g.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(g){if(this.maxLength){var c=parseInt(this.maxLength),e=this.textbox.value.replace(/\r/g,""),c=e.length-c;if(0<c){var f=this.textbox;if(f.selectionStart){var b=f.selectionStart,
a=0;l("opera")&&(a=(this.textbox.value.substring(0,b).match(/\r/g)||[]).length);this.textbox.value=e.substring(0,b-c-a)+e.substring(b-a);f.setSelectionRange(b-c,b-c)}else this.ownerDocument.selection&&(f.focus(),e=this.ownerDocument.selection.createRange(),e.moveStart("character",-c),e.text="",e.select())}}this.inherited(arguments)}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(n,m,l){return l("dijit.Destroyable",null,{destroy:function(k){this._destroyed=
!0},own:function(){var k=["destroyRecursive","destroy","remove"];n.forEach(arguments,function(g){function c(){f.remove();n.forEach(b,function(a){a.remove()})}var e,f=m.before(this,"destroy",function(a){g[e](a)}),b=[];g.then?(e="cancel",g.then(c,c)):n.forEach(k,function(a){"function"===typeof g[a]&&(e||(e=a),b.push(m.after(g,a,c,!0)))})},this);return arguments}})})},"dojo/request":function(){define(["./request/default!"],function(n){return n})},"tm1web/utility/percent":function(){define(["dojo/i18n!dojo/cldr/nls/number",
"./string"],function(n,m){var l=n.percentFormat.match(/(.*?)([#,0]+)(.*)/),k=String.fromCharCode(32),g=l[1].replace(/\s+/g,k),c=l[3].replace(/\s+/g,k),e=n.minusSign,f=n.plusSign,b=n.percentSign;return{removeFormat:function(a){var d="",b=g,f=a.replace(/\s\%/g," %");a&&0<a.length&&a.charAt(0)==e&&(b=e+b,d=e);return(a=m.removePreSuffix(f,b,c))?d+a:a},addFormat:function(a){var d="";a.charAt(0)==e&&(a=a.substring(1,a.length),d=e);return d+m.addPreSuffix(a,g,c)},getRange:function(a){if(null==this.removeFormat(a))return null;
var d=0;0<g.length&&a&&0<a.length&&(a.charAt(0)==e||a.charAt(0)==f)&&(d=1);return{start:g.length+d,end:a.length-c.length}},formatUsesPrefixedPercent:function(){return-1!=g.indexOf(b)},removePlusSignBeforePercent:function(a){return 2>a.length?a:a.charAt(0)==f&&a.charAt(1)==b?a.substring(1,a.length):a},pushMinusSignBehindPercent:function(a){return a&&1<a.length&&a.charAt(0)==e&&a.charAt(1)==b?b+e+a.substring(2,a.length):a}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),
function(n,m,l,k,g,c,e){var f=function(){},b=Object.freeze||function(){},a=n.Deferred=function(d){function p(a){if(t)throw Error("This deferred has already been resolved");s=a;t=!0;e()}function e(){for(var a;!a&&y;){var d=y;y=y.next;if(a=d.progress==f)t=!1;var b=n?d.error:d.resolved;g("config-useDeferredInstrumentation")&&n&&m.instrumentRejected&&m.instrumentRejected(s,!!b);if(b)try{var p=b(s);p&&"function"===typeof p.then?p.then(c.hitch(d.deferred,"resolve"),c.hitch(d.deferred,"reject"),c.hitch(d.deferred,
"progress")):(b=a&&void 0===p,a&&!b&&(n=p instanceof Error),d.deferred[b&&n?"reject":"resolve"](b?s:p))}catch(q){d.deferred.reject(q)}else n?d.deferred.reject(s):d.deferred.resolve(s)}}var s,t,q,u,n,x,y,w=this.promise=new l;this.isResolved=w.isResolved=function(){return 0==u};this.isRejected=w.isRejected=function(){return 1==u};this.isFulfilled=w.isFulfilled=function(){return 0<=u};this.isCanceled=w.isCanceled=function(){return q};this.resolve=this.callback=function(a){this.fired=u=0;this.results=
[a,null];p(a)};this.reject=this.errback=function(a){n=!0;this.fired=u=1;g("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!y);p(a);this.results=[null,a]};this.progress=function(a){for(var d=y;d;){var b=d.progress;b&&b(a);d=d.next}};this.addCallbacks=function(a,d){this.then(a,d,f);return this};w.then=this.then=function(d,b,c){var p=c==f?this:new a(w.cancel);d={resolved:d,error:b,progress:c,deferred:p};y?x=x.next=d:y=x=d;t&&e();return p.promise};var z=this;w.cancel=
this.cancel=function(){if(!t){var a=d&&d(z);t||(a instanceof Error||(a=new k(a)),a.log=!1,z.reject(a))}q=!0};b(w)};c.extend(a,{addCallback:function(a){return this.addCallbacks(c.hitch.apply(n,arguments))},addErrback:function(a){return this.addCallbacks(null,c.hitch.apply(n,arguments))},addBoth:function(a){var b=c.hitch.apply(n,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=n.when=e;return a})},"tm1web/subseteditor/BottomToolbar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/store/Memory dojo/Deferred dojo/dom-class dojo/aspect dijit/registry dijit/Toolbar ../utility/message-localizer ../share/SkeletonMixin ../share/Label ./FindBar ./_TreePaneFocusMixin".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n([b,d,s],{model:null,postCreate:function(){this.inherited(arguments);c.add(this.domNode,"tm1webSubsetEditorBottomToolbar");this._addSkeletonChildren();this._addFindBar();this._attachObservers()},_attachObservers:function(){this._attachSubsetChangeListener();this._attachAliasChangeListener();var a=m.hitch(this,"_onMetaDataChange");this.own(e.after(this.model,"onMetaDataChange",a,!0));this.model.getMetaData().then(a)},_attachSubsetChangeListener:function(){this._onSubsetChangeHandle=
this._skeletonChildren.subsetSelect.on("change",m.hitch(this,"_onSubsetChange"))},_attachAliasChangeListener:function(){this._onAliasChangeHandle=this._skeletonChildren.aliasSelect.on("change",m.hitch(this,"_onAliasChange"))},_onMetaDataChange:function(a){this._updateSubsetCombo(a.subsets,a.selectedSubset);this._updateAliasCombo(a.aliases,a.selectedAlias);this._skeletonChildren.expandAboveButton.set("checked",a.expandAbove)},_onSubsetChange:function(a){this.model.setSubset(a)},_onAliasChange:function(a){"$_noalias_$"===
a&&(a="");this.model.setAlias(a)},_updateSubsetCombo:function(d,b){var c=this._skeletonChildren.subsetSelect,p=c.get("value"),f=[],e="";l.forEach(d,function(d){var c=d.name;c?d.isPublic||(c=a.get("SUBSET_PRIVATE_STR",c)):c=a.get("UNNAMED_PARENS");f.push({name:c,id:d.id});b.name===d.name&&b.isPublic===d.isPublic&&(e=d.id)});var g=c.get("store");g&&g.setData?g.setData(f):c.set("store",new k({data:f}));if(e!==p){var r=c.on("change",m.hitch(this,function(){r.remove();this._attachSubsetChangeListener()}));
this._onSubsetChangeHandle.remove();c.set("value",e)}},_updateAliasCombo:function(d,b){var c=this._skeletonChildren.aliasSelect,p=c.get("value");noAlias=a.get("NO_ALIAS_SELECTED_PARENS");items=[];items.push({name:noAlias,id:"$_noalias_$"});b||(b="$_noalias_$");l.forEach(d,function(a){items.push({name:a.caption,id:a.name})});var f=c.get("store");f&&f.setData?f.setData(items):c.set("store",new k({data:items}));if(b!==p){var e=c.on("change",m.hitch(this,function(){e.remove();this._attachAliasChangeListener()}));
this._onAliasChangeHandle.remove();c.set("value",b)}},_addFindBar:function(){this.findBar=(new r({subsetTree:this.subsetTree,dimensionTree:this.dimensionTree})).placeAt(this.domNode,"after");this.findBar.domNode.style.display="none";this.findBar.startup()},_createSkeletonChildren:function(){var d=this._skeletonChildren;d.findButton=this._newToggleButton(a.get("FIND_IN_SUBSET_STR"),"tm1webSubsetEditorIconFind","FindButton",m.hitch(this,"_toggleFind"));d.subsetSelectLabel=new p({selectable:!1,content:a.get("SUBSET_LABEL_STR")});
d.subsetSelect=this._newFilteringSelect("Subset","SubsetCombo");d.aliasSelectLabel=new p({selectable:!1,content:a.get("ALIAS_LABEL_STR")});d.aliasSelect=this._newFilteringSelect("Alias","AliasCombo");d.subsetSelectLabel.domNode.setAttribute("for",d.subsetSelect.id);d.aliasSelectLabel.domNode.setAttribute("for",d.aliasSelect.id);d.expandAboveButton=this._newButton(a.get("EXPAND_ABOVE_STR"),"tm1webSubsetEditorIconTreeAbove","ExpandAboveButton",m.hitch(this,"_expandAbove"))},_generateSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateFindInSubsetGroup());a.add(this._generateExpandAboveGroup());return a},_generateFindInSubsetGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.findButton);a.add(d.subsetSelectLabel);a.add(d.subsetSelect);a.add(d.aliasSelectLabel);a.add(d.aliasSelect);return a},_generateExpandAboveGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.expandAboveButton);return a},_getItemIdPrefix:function(){return"tm1web_subseteditor_BottomToolbar_"},
toggleFind:function(){var a=this._skeletonChildren.findButton;a.set("checked",!a.get("checked"));this._toggleFind()},_toggleFind:function(){var a=this._skeletonChildren.findButton.get("checked");this.findBar.domNode.style.display=a?"":"none";a?(this.findBar.resize(),this.findBar.focus()):this._activeTree.get("tree").clearFound()},_expandAbove:function(){this.model.setExpandAbove(this._skeletonChildren.expandAboveButton.get("checked"))}})})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],
function(n,m){return n.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojox/grid/_RowSelector":function(){define(["../main","dojo/_base/declare","./_View"],function(n,m,l){return n.grid._RowSelector=m("dojox.grid._RowSelector",l,{defaultWidth:"2em",noscroll:!0,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",
arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden"},getWidth:function(){return this.viewWidth||this.defaultWidth},buildRowContent:function(k,g){g.innerHTML='\x3ctable class\x3d"dojoxGridRowbarTable" style\x3d"width:'+(this.contentWidth||0)+'px;height:1px;" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd class\x3d"dojoxGridRowbarInner"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'},renderHeader:function(){},
updateRow:function(){},resize:function(){this.adaptHeight()},adaptWidth:function(){!("contentWidth"in this)&&this.contentNode&&0<this.contentNode.offsetWidth&&(this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth)},doStyleRowNode:function(k,g){var c=["dojoxGridRowbar dojoxGridNonNormalizedCell"];this.grid.rows.isOver(k)&&c.push("dojoxGridRowbarOver");this.grid.selection.isSelected(k)&&c.push("dojoxGridRowbarSelected");g.className=c.join(" ")},domouseover:function(k){this.grid.onMouseOverRow(k)},
domouseout:function(k){if(!this.isIntraRowEvent(k))this.grid.onMouseOutRow(k)}})})},"tm1web/widgets/AlertDialog":function(){define(["dojo/_base/declare","dojo/aspect","dojo/Deferred","dojo/dom-class","./ConfirmDialog"],function(n,m,l,k,g){var c=n("tm1web.widgets.AlertDialog",g,{buildRendering:function(){this.inherited(arguments);k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,"dijitHidden")}});c.show=function(e){var f=new l;e=new c(e);var b=m.after(e,"onHide",function(){b.remove();
f.resolve()});e.show();return f.promise};return c})},"tm1web/mobile/on/longpress":function(){define(["dojo/_base/declare","./_Tap"],function(n,m){return new (n(m,{defaultEvent:"longpress",touchOnly:!0,holdThreshold:1E3,_overriddenEvent:"tap.hold",_moveRadius:5,move:function(l,k){l.context&&this._hasMoved(l,k)&&(clearTimeout(l.tapTimeOut),this._touchStartEvent=null,delete l.context)},_hasMoved:function(l,k){var g=Math.abs(l.context.x-k.screenX),c=Math.abs(l.context.y-k.screenY);return g>this._moveRadius&&
c>this._moveRadius}}))})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),function(n,m,l,k,g,c){c=m("dijit.form.MultiSelect"+(k("dojo-bidi")?"_NoBidi":""),c,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",
addSelected:function(c){c.getSelected().forEach(function(f){this.containerNode.appendChild(f);this.domNode.scrollTop=this.domNode.offsetHeight;f=c.domNode.scrollTop;c.domNode.scrollTop=0;c.domNode.scrollTop=f},this);this._set("value",this.get("value"))},getSelected:function(){return g("option",this.containerNode).filter(function(c){return c.selected})},_getValueAttr:function(){return n.map(this.getSelected(),function(c){return c.value})},multiple:!0,_setMultipleAttr:function(c){},_setValueAttr:function(c){k("android")?
g("option",this.containerNode).orphan().forEach(function(f){var b=f.ownerDocument.createElement("option");b.value=f.value;b.selected=-1!=n.indexOf(c,f.value);b.text=f.text;b.originalText=f.originalText;this.containerNode.appendChild(b)},this):g("option",this.containerNode).forEach(function(f){f.selected=-1!=n.indexOf(c,f.value)});this.inherited(arguments)},invertSelection:function(c){var f=[];g("option",this.containerNode).forEach(function(b){b.selected||f.push(b.value)});this._setValueAttr(f,!(!1===
c||null==c))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(c){c&&l.setMarginBox(this.domNode,c)},postCreate:function(){this._set("value",this.get("value"));this.inherited(arguments)}});k("dojo-bidi")&&(c=m("dijit.form.MultiSelect",c,{addSelected:function(c){c.getSelected().forEach(function(c){c.text=this.enforceTextDirWithUcc(this.restoreOriginalText(c),c.text)},this);this.inherited(arguments)},_setTextDirAttr:function(c){this.textDir==c&&this._created||!this.enforceTextDirWithUcc||
(this._set("textDir",c),g("option",this.containerNode).forEach(function(c){this._created||c.value!==c.text||(c.value=c.text);c.text=this.enforceTextDirWithUcc(c,c.originalText||c.text)},this))}}));return c})},"tm1web/spreading/RelativeSpreadDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct ./ReferenceSelectControl ./RelativeSpreadControl ./RelativeSpreadDialogBase ../utility/message-localizer ../widgets/ErrorAlert".split(" "),function(n,m,l,k,g,c,e,f){return n(c,{constructor:function(){this._InitializeRelativeSpreadDialog()},
_InitializeRelativeSpreadDialog:function(){this._SelectPage=new k({_ObjectId:this._ObjectId,_coord:this._coord,Service:this.Service});this._ApplyPage=new g({_IsPercentage:this._IsPercentage})},_CreateLayout:function(){this._CreateContent();this._CreateBaseLayout();this._SelectPage.setSelectButton(this.selectButton)},_CreateContent:function(){this._SelectPageContainer=this._SelectPage.GetContentContainer();this._ApplyPageContainer=this._ApplyPage.GetContentContainer();l.place(this._SelectPageContainer,
this._Dialog.containerNode);l.place(this._ApplyPageContainer,this._Dialog.containerNode);m.remove(this._SelectPageContainer,"tm1webHidden");m.add(this._ApplyPageContainer,"tm1webHidden")},_OnSelect:function(){var b=this._SelectPage.BuildReferenceString();this._ApplyPage.SetRefStr(b);var b=this._SelectPage.GetSelectedDimNames(),a=this._SelectPage.GetSelectedElemNames();this.Service.getRefCellValue(this._ObjectId,this._SelectPage.getCubeName(),a,b,{callback:this._onGetRefCellValue,scope:this})},_onGetRefCellValue:function(b){this._ApplyPage.SetRefCellVal(this._convertFloat(b));
m.add(this._SelectPageButtonContainer,"tm1webHidden");m.add(this._SelectPageContainer,"tm1webHidden");m.remove(this._ApplyPageButtonContainer,"tm1webHidden");m.remove(this._ApplyPageContainer,"tm1webHidden")},_OnApply:function(){var b=this._SelectPage.buildReferenceArray(),a=this._ApplyPage.GetControlString();null!=a&&this.Service.dataSpread2(this._ObjectId,this._coord.rowIndex,this._coord.colIndex,b,a,{callback:this._OnSpread,scope:this,errorHandler:function(a,b){"SpreadFailed_NoUpdatableCell"==
a?f.show({message:e.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:e.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):f.show({message:b.localizedMessage,title:e.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")})}});this.Destroy()}})})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser require".split(" "),function(n,
m,l,k,g,c,e,f){e.isDebug&&l(["./_firebug/firebug"]);return n})},"tm1web/cubeview/RowDimensionDropPanel":function(){define(["dojo/_base/declare","../utility/message-localizer","./_HeaderDimensionDropPanel"],function(n,m,l){return n(l,{SetDropPanelProperties:function(){this.Caption=m.get("ROW_DIMENSION_DROP_PANEL_STR");this.ButtonType="R"},Create:function(k){var g=this.inherited(arguments);this.SetContainerProperty(g,"tm1webRowHeaderDropArea",m.get("ROW_DIMENSION_DROP_PANEL_TOOLTIP_STR"),"RowDropTable");
return g},CreateDimensionButtons:function(k){this.CreateDimensionButtonsEx(k,k.dimensionButtons.rowDimButtons)},CreateDisplayTextLabel:function(k,g){this.CreateDisplayTextLabelEx(k,this.NBSP+g.displayName+this.NBSP,g)},GetNumberOfDimButtons:function(k){k=k.dimensionButtons.rowDimButtons;return null==k?0:k.length}})})},"tm1web/celledit/_Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/topic dojo/dom dojo/on dojo/aspect dojo/Deferred dojo/keys dijit/Destroyable ../mobile/on/doubletap ../utility/dom ../utility/event ../share/TM1Utility ./_CellValueMixin ./TextBox ./TextArea ./DatePicker".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x){return n([d,q],{dataGrid:null,objectId:null,allowConsolidatedCellChanges:!0,_service:null,_PickList:null,_TextBox:u,_TextArea:v,_DatePicker:x,constructor:function(a){this.objectId=a.objectId;this.dataGrid=a.dataGrid;this.allowConsolidatedCellChanges=a.allowConsolidatedCellChanges;this._handles=[];this._attachEvents()},_attachEvents:function(){var a=this.dataGrid.Panel;this._on(this.dataGrid.Grid,p,"_onDblClick");this._on(a,"keydown","_onKeyDown");this._on(a,
"keypress","_onKeyPress");this.own(g.subscribe(this.objectId+"-CellsSelected",m.hitch(this,"_onCellSelection")))},_onCellSelection:function(a){c.isDescendant(a.StartCell,this.dataGrid.Grid)?this._showDropDownButton():this.hide()},_onDblClick:function(a){(a=a.target)&&"TD"==a.nodeName&&this._show({cell:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!0,allowKeyNavigation:!1})},_onKeyPress:function(a){var d=a.charCode;if(!(this._activeWidget&&(!this._isDropDownActive()||this._activeWidget.hasOpened())||
s.isModifierKeyDown(a,!0)||!d||32>d)){var d=String.fromCharCode(d),b=this.dataGrid.SelectedArea.StartCell;d&&(this._show({cell:b,value:d,highlight:!1,openDropDown:!0,allowKeyNavigation:!0}),this._activeWidget&&k.stop(a))}},_onKeyDown:function(d){var b=d.keyCode,c=this._getActiveCell();if(!this._activeWidget||this._isDropDownActive()&&!this._activeWidget.hasOpened())switch(b){case a.BACKSPACE:this._show({cell:c,value:"",openDropDown:!0,allowKeyNavigation:!0});d.preventDefault();break;case a.F2:this._show({cell:c,
value:this._getCurrentValue(c),highlight:!0,openDropDown:!0,focusDropDown:!0,allowKeyNavigation:!1});break;case a.DELETE:this._delete()}b===a.DOWN_ARROW&&d.altKey&&this._hasDropDown(c)&&(!this._activeWidget||this._isDropDownActive())&&this._show({cell:c,value:this._getCurrentValue(c),highlight:!0,openDropDown:!0,focusDropDown:!0,allowKeyNavigation:!1})},_getActiveCell:function(){return this.dataGrid.SelectedArea?this.dataGrid.SelectedArea.StartCell:null},_hasDropDown:function(a){return a&&(a.cellInfo.hasPickList||
this._isDateCell(a))},_isDropDownActive:function(){return this._activeWidget&&this._activeWidget.hasDropDown},_showDropDownButton:function(){this.hide().then(m.hitch(this,function(){var a=this._getActiveCell();if(!this._isReadOnly(a))if(a&&a.cellInfo.hasPickList){var d=this._activeWidget=this._getPickList(),a={cell:a,value:this._getCurrentValue(a),highlight:!0,openDropDown:!1};d.show(a)}else a&&this._isDateCell(a)&&(d=this._activeWidget=this._getDatePicker(a),a={cell:a,value:this._getCurrentValue(a),
highlight:!0,openDropDown:!1},d.show(a))}))},_getPickList:function(){this._pickList||(this._pickList=(new this._PickList({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel));return this._pickList},_getDatePicker:function(a){this._datePicker||(this._datePicker=(new this._DatePicker({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel));
return this._datePicker},_show:function(a){this.hide().then(m.hitch(this,function(){if(!a.cell||this._isReadOnly(a.cell))this._activeWidget=null;else{var d=a.cell,b=a.cell.cellInfo,c=null;b.hasPickList?c=this._getPickList():"STR"===b.cellType?(this._textArea||(this._textArea=(new this._TextArea({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(document.body)),c=this._textArea):this._isDateCell(d)?c=this._getDatePicker(d):(this._textBox||
(this._textBox=(new this._TextBox({objectId:this.objectId,dataGrid:this.dataGrid,service:this._service,onHide:m.hitch(this,"_onWidgetHide")})).placeAt(this.dataGrid.Panel)),c=this._textBox);c.show(a);this._activeWidget=c}}))},_isReadOnly:function(a){return!a||a.cellInfo.readOnly||a.cellInfo.isConsolidated&&!this.allowConsolidatedCellChanges},_isDateCell:function(a){return!1},_delete:function(){},_publishUpdateGrid:function(a){g.publish(this.objectId+"-UpdateGrid",a)},hide:function(){this._widgetHideDeferred=
new b;return this._activeWidget?(this._activeWidget.hide(),this._widgetHideDeferred.promise):this._widgetHideDeferred.resolve()},_onWidgetHide:function(){this._activeWidget=null;this._widgetHideDeferred.resolve()},_on:function(a,d,b){this.own(e(a,d,m.hitch(this,b)))},destroy:function(){this.inherited(arguments);this._pickList&&this._pickList.destroy();this._textBox&&this._textBox.destroy();this._textArea&&this._textArea.destroy();this._datePicker&&this._datePicker.destroy()}})})},"tm1web/cubeview/CubeViewDataGridDndManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/window dojo/topic dojo/aspect dojo/on dojo/touch dojo/query ./CubeViewBase ../share/TM1Utility".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d){return n(a,{constructor:function(){this._objectId=this._defaultElement=null;this._Initialize();this._DimensionBarDropZone=null},SetObjectID:function(a){this._objectId=a},_SetDimensionBarDropZone:function(){this._DimensionBarDropZone=b(".tm1webDimBarPanel",k.body())},_Initialize:function(){this._ResetFlags()},_ResetFlags:function(){this._isActive=!1;this._source=null;this._do&&this._do._DNDhandlerStore&&this._do._DNDhandlerStore._rmvHighlight&&this._do._DNDhandlerStore._rmvHighlight(this._do);
this._target=this._do=null},AttachDefault:function(a){this._defaultElement||(this._defaultElement=a,e(a,f.over,m.hitch(this,function(a){this.DoDrag(null,a)})),e(a,f.release,m.hitch(this,function(a){this.EndDrag(null,a)})))},AttachDndHandlers:function(a,d,b,c,g,k,l,x){a&&("undefined"==typeof a._DNDhandlerStore&&(a._DNDhandlerStore={}),a._DNDhandlerStore._DNDhandler=this,a._DNDhandlerStore._source=b,a._DNDhandlerStore._sourceEx=c,a._DNDhandlerStore._do=g,a._DNDhandlerStore._doEx=k,a._DNDhandlerStore._target=
l,a._DNDhandlerStore._targetEx=x,"undefined"==typeof a._DNDhandlerStore._detectZone&&(a._DNDhandlerStore._detectZone=function(a){return 0}),"undefined"==typeof a._DNDhandlerStore._highlight&&(a._DNDhandlerStore._highlight=function(a){a._DNDhandlerStore._isHighlighted=!0}),"undefined"==typeof a._DNDhandlerStore._rmvHighlight&&(a._DNDhandlerStore._rmvHighlight=function(a){a._DNDhandlerStore._isHighlighted=!1}),d&&e(a,f.press,m.hitch(a,function(a){this._DNDhandlerStore._DNDhandler.StartDrag(this,a);
a.preventDefault()})),e(a,f.over,m.hitch(a,function(a){this._DNDhandlerStore._DNDhandler.DoDrag(this,a)})),e(a,f.release,m.hitch(a,function(a){this._DNDhandlerStore._DNDhandler.EndDrag(this,a)})))},StartDrag:function(a,d){this._ResetFlags();this._isActive=!0;this._source=a;this._SetDimensionBarDropZone();this._DimensionBarDropZone.addClass("tm1webDimensionBarDrop")},DoDrag:function(a,d){if(this._isActive&&this._source){this._do&&this._do!=a&&this._do._DNDhandlerStore&&this._do._DNDhandlerStore._rmvHighlight&&
this._do._DNDhandlerStore._rmvHighlight(this._do);this._do=a;this._CubeViewNoDropZone=b(".tm1webDimBarPanel ~ div",k.body());var c=this._source&&this._source._DNDhandlerStore&&this._do&&this._do._DNDhandlerStore&&(!this._isSourceHiddenDimension(this._source._DNDhandlerStore._sourceEx)||null==this._do._DNDhandlerStore._source);null!=this._do&&c?this._CubeViewNoDropZone&&this._CubeViewNoDropZone.removeClass("tm1webDimensionBarNoDrop"):this._CubeViewNoDropZone&&this._CubeViewNoDropZone.addClass("tm1webDimensionBarNoDrop");
this._do&&this._do._DNDhandlerStore&&this._do._DNDhandlerStore._highlight&&c&&this._do._DNDhandlerStore._highlight(this._do);l.stop(d)}},EndDrag:function(a,d){this._CubeViewNoDropZone&&this._DimensionBarDropZone.removeClass("tm1webDimensionBarDrop");this._CubeViewNoDropZone&&this._CubeViewNoDropZone.removeClass("tm1webDimensionBarNoDrop");this._do&&this._do._DNDhandlerStore&&this._do._DNDhandlerStore._rmvHighlight&&this._do._DNDhandlerStore._rmvHighlight(this._do);this._target=a;var b=this._source&&
this._source._DNDhandlerStore&&this._do&&this._do._DNDhandlerStore&&(!this._isSourceHiddenDimension(this._source._DNDhandlerStore._sourceEx)||null==this._do._DNDhandlerStore._source);this._source&&this._target&&b&&this._SubmitDND();this._ResetFlags()},_SubmitDND:function(){if(this._source._DNDhandlerStore._source!=this._target._DNDhandlerStore._target){var a=this._source._DNDhandlerStore._sourceEx.split(".");(2!=a.length||a[0]!=this._target._DNDhandlerStore._target&&a[1]!=this._target._DNDhandlerStore._target)&&
g.publish(this._objectId+"-Pivot",this._source._DNDhandlerStore._source,this._target._DNDhandlerStore._target)}},_isSourceHiddenDimension:function(a){a=a.split(".");return 2==a.length&&0===a[0].indexOf("loc_H")?!0:!1}})})},"tm1web/widgets/WarningOptionsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred ./ConfirmDialog ../utility/message-localizer dojo/dom-class dojox/html/entities".split(" "),function(n,m,l,k,g,c,e,f){var b=n("tm1web.widgets.WarningDialog",g,{buildRendering:function(){this.inherited(arguments);
e.add(this.cancelButton.domNode,"tm1webBtnSecondary");this.containerNode.setAttribute("aria-label",c.get("ARIA_IMG_WARNING_STR"))}});b.show=function(a){var d=new k;a.className="tm1webWarningDialog tm1webMessageDialog";warningDialog=new b(a);var c=l.after(warningDialog,"onCancel",function(){c.remove();f.remove();d.reject(!1)}),f=l.after(warningDialog,"_onSubmit",function(){c.remove();f.remove();d.resolve(!0)});warningDialog.show(a);return d.promise};return b})},"tm1web/cubeview/TM1CubeViewPageDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dijit/Dialog ./CubeViewBase ../utility/message-localizer ../share/service-loader!CubeViewService".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return n(f,{constructor:function(a,b){this.ObjectId=a;this.PageInfo=this.MessageLabel=this.Table=this.ActionContainer=this.ContentContainer=this.Dialog=null;this.Parent=b;this._InitializeTM1CubeViewPageDialog()},_InitializeTM1CubeViewPageDialog:function(){this._CreateDialog("CubeView PageLayout")},_CreateDialog:function(a){this.Dialog=new e({title:a},null);g.add(this.Dialog.domNode,"tm1webPageDialog");this._CreateContentContainer();this.Dialog.startup()},_CreateContentContainer:function(){this.MessageLabel=
c.create("SPAN");this.MessageLabel.style.marginRight=20;this.MessageLabel.innerHTML=b.get("SELECT_A_PAGE_AND_PRESS_GOTO_PAGE");g.add(this.MessageLabel,"tm1webMessageLabel");c.place(this.MessageLabel,this.Dialog.containerNode);this.ContentContainer=this.CreatePanel();this.ContentContainer.style.overflow="auto";g.add(this.ContentContainer,"tm1webContentContainer");c.place(this.ContentContainer,this.Dialog.containerNode);this._CreateTable()},_CreateTable:function(){this.Table=this.CreateTable(!0);g.add(this.Table,
"tm1webDialogTable");a.GetPageLayoutInfo(this.ObjectId,{callback:this._OnCreateTable,scope:this})},_OnCreateTable:function(a){this.PageInfo=a;a=this.PageInfo.totalRowPages;for(var b=0;b<a;b++){var f=this.Table.insertRow(-1);this._CreateCell(f,b)}c.place(this.Table,this.ContentContainer)},_CreateCell:function(a,b){for(var c=this.PageInfo.totalColumnPages,f=0;f<c;f++){var e=a.insertCell(-1),q=f;k(e,"click",this.AddrOf(this._NavigateToPage,b,q));this.SetTextContent(e,"Page "+(b*c+f+1).toString());this.PageInfo.rowNumber==
b&&this.PageInfo.columnNumber==q?g.add(e,"tm1webActivePage"):g.add(e,"tm1webOtherPages")}},_NavigateToPage:function(d,b,c){a.NavigateToPage(this.ObjectId,b,c,{callback:this.OnNavigate,scope:this})},OnNavigate:function(a){this.Parent.OnNavigate(a);this.Destroy()},_CreateRow:function(){return this.Table.insertRow(-1)},Show:function(){this.Dialog.show()},Destroy:function(){var a=m.hitch(this,function(){this.Dialog.destroyRecursive()});this.Dialog.hide().then(a)}})})},"tm1web/share/service-loader":function(){define("dojo/_base/lang dojo/request/script dojo/sniff dojo/on dojo/aspect dojo/topic dojo/dom-construct dojo/dom-class ../utility/url ../utility/message-localizer ./DialogUnderlayEx dojo/domReady!".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d){var p=null,r={},s={},t=b.toUrl("tm1web")+"/../../",q=b.isXDomainUrl(t),t=t+(q?"dwrx":"dwr");q&&(window.pathToDwrServlet=t);var u=m.get(t+"/engine.js").then(function(){window.pathToDwrServlet=void 0;p=window.dwr.engine;w();q&&B();if(""in r){for(var a=r[""],d=a.length,b=0;b<d;b++)a[b](1);delete r[""]}p.setOverrideContextPath("/");s[""]=1;u=void 0}),v=!0,x=null,y=!0,w=function(){p.setErrorHandler(function(d,b){z(d,b)?(!0===v&&(J.disableSessionTimeoutAlerts(750),alert(a.get("SESSION_TIMEOUT_STR")),
J.disableSessionTimeoutAlerts(750)),J.onSessionTimeout()):alert(null==d||""==d?a.get("SRV_ERR_STR"):d)})},z=function(a,d){return"com.ibm.cognos.tm1.web.session.SessionNotFoundException"===d.javaClassName},B=function(){g.around(p.batch,"constructRequest",function(a){return function(d){var b=a.apply(this,arguments);if(d.transport===p.transport.scriptTag){var c=b.url,c=c+((0>c.indexOf("?")?"?":"\x26")+"tm1webOrigin\x3d"+encodeURIComponent("origin"in location?location.origin:location.protocol+"//"+location.host));
b.url=c}else d.transport===p.transport.xhr&&(c=d.req)&&"withCredentials"in c&&(c.withCredentials=!0);return b}})},A=function(a){m.get(t+"/interface/"+a+".js").then(function(){var d=window[a];d._path=t;N(a);s[a]=d;for(var b=r[a],c=b.length,p=0;p<c;p++)b[p](d);delete r[a]})},C=0,F=null,G=null,K={CubeViewService:"Toggle dataSpread1 dataSpread2 Pivot SwapRowsAndColumns hold SuppressZerosBoth SuppressZerosRows SuppressZerosCols ChangeDisplayMode ChartTypeChanged Hide ShowAllHidden Sort ExpandToLevel SortTopBottom changeCellValue Navigate NavigateToPage saveData recalculate Paste deleteRange LoadData refreshMetadata saveView".split(" "),
TM1PlanningService:"TakeOwnership RejectNode SubmitNode ResetViews ResetView CommitSandbox ResetSandbox submitLeafChildren SwitchSandbox Redo Undo saveViewDataChanges".split(" "),SandboxService:["redo","undo"],TM1Service:["deleteNavigationTreeNode"],WebSheetService:"switchSheet dataSpread1 getHyperlinkWorkbookObjectId changeCellValue recalculate rebuildCurrentSheet rebuildCurrentWorkbook setCheckBoxChecked setComboBoxSelectedIndex selectRange setListBoxSelectedIndices setOptionButtonChecked getValidation toggle scrollWebSheet executeActionButton getActionButtonConfirmMessage loadWebSheet getCssFilePath pasteIntoSelectedArea deleteFromSelectedArea".split(" "),
SubsetService:"createCubeViewSubsetSession createWebSheetSubsetSession loadSubset submit copyElements moveElements setNamedSubset setAlias setExpandAbove saveSubset saveSubsetAs cut copy paste pasteAbove pasteBelow sort subsetAll reloadSubset keepSelectedElements deleteSelectedElements filterByLevel filterByAttribute filterByExpression getAttributeNames getAttributeValues expandSelectedConsolidations expandAll collapseSelectedConsolidations collapseAll insertParentsOfSelectedElements createConsolidationFromSubset createConsolidationFromSelectedElements".split(" "),
WorkbookService:"open recalculate rebuildWorksheet rebuildWorkbook refresh setCheckBoxChecked setOptionButtonChecked setTextBoxChecked setListBoxSelectedIndices setComboBoxSelectedIndex setComboBoxSelectedValue getActionButtonProcessConfirmation executeActionButton addCellAnnotation toggle paste spread relativeSpread hold copy paste autoFitColumns".split(" ")},N=function(a){var b=window[a],c=a in K,p;for(p in b)if("function"===typeof b[p]&&b.hasOwnProperty(p)){var e=c&&0<=K[a].indexOf(p);g.around(b,
p,n.partial(function(a,b){return function(){var c=arguments,p=c[c.length-1],e=null;!p||"object"!==typeof p||"function"!==typeof p.callback&&"function"!==typeof p.errorHandler&&"function"!==typeof p.exceptionHandler||(e=p);e?(p=I({requiresOverlay:a,callbackScope:e.callbackScope||e.scope||this,errorHandlerScope:e.exceptionScope||e.scope||this,callback:e.callback,errorHandler:e.exceptionHandler||e.errorHandler}),c[c.length-1].callback=p.callback,c[c.length-1].errorHandler=p.errorHandler,delete c[c.length-
1].exceptionHandler):Array.prototype.push.call(c,I({requiresOverlay:a}));a&&(y&&(F||(F=new d({tabindex:"-1"}),f.add(F.domNode,"tm1webAjaxCover")),F.domNode.style.cursor="wait",F.show(),0>=C&&(G=document.activeElement,F.domNode.focus())),C++);b.apply(this,arguments)}},e))}},P=function(){if(C&&(C--,0==C&&F)){F.domNode.style.cursor="";if(document.activeElement==F.domNode)if(G)try{G.focus()}catch(a){F.domNode.blur()}else F.domNode.blur();F.hide()}},I=function(a){return{callback:function(){a.requiresOverlay&&
P();var d=a.callback;"function"===typeof d&&d.apply(a.callbackScope,arguments)},errorHandler:function(d,b){a.requiresOverlay&&P();var c=a.errorHandler;"function"!==typeof c||z(d,b)?p._errorHandler(d,b):c.apply(a.errorHandlerScope,arguments)}}},J={load:function(a,d,b){a in s?b(s[a]):a in r?r[a].push(b):(r[a]=[b],u?""!==a&&u.then(function(){A(a,b)}):A(a,b))},normalize:function(a,d){return d(a)},onSessionTimeout:function(){c.publish("TM1Web-SessionTimeout")},disableSessionTimeoutAlerts:function(a){x&&
clearTimeout(x);"undefined"!==typeof a&&(x=setTimeout(function(){v=!0;x=null},Math.max(0,a)));v=!1},disableOverlay:function(){y=!1},getEngine:function(){return p}};return J})},"dojox/grid/_Layout":function(){define("dojo/_base/kernel ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-geometry ./cells ./_RowSelector".split(" "),function(n,m,l,k,g,c,e){return l("dojox.grid._Layout",null,{constructor:function(c){this.grid=c},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(c,
b,a,d,p){var e=this.structure[c].cells[0],g=this.structure[b].cells[0],t=null,q=t=0;c=0;for(var u;u=e[c];c++)if(u.index==a){t=c;break}t=e.splice(t,1)[0];t.view=this.grid.views.views[b];c=0;for(u=null;u=g[c];c++)if(u.index==d){q=c;break}p||(q+=1);g.splice(q,0,t);if(a=this.grid.getCell(this.grid.getSortIndex()))a._currentlySorted=this.grid.getSortAsc();this.cells=[];for(c=a=0;b=this.structure[c];c++)for(d=0;p=b.cells[d];d++)for(e=0;u=p[e];e++)u.index=a,this.cells.push(u),"_currentlySorted"in u&&(g=
a+1,g*=u._currentlySorted?1:-1,this.grid.sortInfo=g,delete u._currentlySorted),a++;k.forEach(this.cells,function(a){var d=a.markup[2].split(" ");parseInt(d[1].substring(5))!=a.index&&(d[1]='idx\x3d"'+a.index+'"',a.markup[2]=d.join(" "))});this.grid.setupHeaderMenu()},setColumnVisibility:function(f,b){var a=this.cells[f];if(a.hidden==b){a.hidden=!b;var d=a.view,p=d.viewWidth;p&&"auto"!=p&&(d._togglingColumn=c.getMarginBox(a.getHeaderNode()).w||0);d.update();return!0}return!1},addCellDef:function(c,
b,a){var d=this,p=function(a){var b=0;1<a.colSpan?b=0:(b=a.width||d._defaultCellProps.width||d.defaultWidth,isNaN(b)||(b+="em"));return b};c={grid:this.grid,subrow:c,layoutIndex:b,index:this.cells.length};if(a&&a instanceof e)return b=g.clone(a),c.unitWidth=p(b._props),b=g.mixin(b,this._defaultCellProps,a._props,c);b=a.type||a.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||e.Cell;g.isString(b)&&(b=g.getObject(b));c.unitWidth=p(a);return new b(g.mixin({},this._defaultCellProps,
a,c))},addRowDef:function(c,b){for(var a=[],d=0,p=0,e=!0,g=0,t;t=b[g];g++)t=this.addCellDef(c,g,t),a.push(t),this.cells.push(t),e&&t.relWidth?d+=t.relWidth:t.width&&(t=t.width,"string"==typeof t&&"%"==t.slice(-1)?p+=window.parseInt(t,10):"auto"==t&&(e=!1));d&&e&&k.forEach(a,function(a){a.relWidth&&(a.width=a.unitWidth=a.relWidth/d*(100-p)+"%")});return a},addRowsDef:function(c){var b=[];if(g.isArray(c))if(g.isArray(c[0]))for(var a=0,d;c&&(d=c[a]);a++)b.push(this.addRowDef(a,d));else b.push(this.addRowDef(0,
c));return b},addViewDef:function(c){this._defaultCellProps=c.defaultCell||{};c.width&&"auto"==c.width&&delete c.width;return g.mixin({},c,{cells:this.addRowsDef(c.rows||c.cells)})},setStructure:function(c){this.fieldIndex=0;this.cells=[];var b=this.structure=[];if(this.grid.rowSelector){var a={type:m._scopeName+".grid._RowSelector"};if(g.isString(this.grid.rowSelector)){var d=this.grid.rowSelector;"false"==d?a=null:"true"!=d&&(a.width=d)}else this.grid.rowSelector||(a=null);a&&b.push(this.addViewDef(a))}var p=
function(a){return"name"in a||"field"in a||"get"in a},a=function(a){return g.isArray(a)&&(g.isArray(a[0])||p(a[0]))?!0:!1},d=function(a){return null!==a&&g.isObject(a)&&("cells"in a||"rows"in a||"type"in a&&!p(a))};if(g.isArray(c)){for(var e=!1,k=0,t;t=c[k];k++)if(d(t)){e=!0;break}if(e)for(k=0;t=c[k];k++)a(t)?b.push(this.addViewDef({cells:t})):d(t)&&b.push(this.addViewDef(t));else b.push(this.addViewDef({cells:c}))}else d(c)&&b.push(this.addViewDef(c));this.cellCount=this.cells.length;this.grid.setupHeaderMenu()}})})},
"dojo/data/util/filter":function(){define(["../../_base/kernel","../../_base/lang"],function(n,m){var l={};m.setObject("data.util.filter",l,n);l.patternToRegExp=function(k,g){for(var c="^",e=null,f=0;f<k.length;f++)switch(e=k.charAt(f),e){case "\\":c+=e;f++;c+=k.charAt(f);break;case "*":c+=".*";break;case "?":c+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":c+="\\";default:c+=e}c+="$";return g?new RegExp(c,"mi"):new RegExp(c,
"m")};return l})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(n,m,l,k){var g=l.getObject("dnd",!0,m);g.getCopyKeyState=function(c){return c[n("mac")?"metaKey":"ctrlKey"]};g._uniqueId=0;g.getUniqueId=function(){var c;do c=m._scopeName+"Unique"+ ++g._uniqueId;while(k.byId(c));return c};g._empty={};g.isFormElement=function(c){c=c.target;3==c.nodeType&&(c=c.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+
" ")};return g})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(n,m){return function(l,k,g,c){var e=l&&"function"===typeof l.then,f=e&&l instanceof m;if(!e)return 1<arguments.length?k?k(l):l:(new n).resolve(l);f||(e=new n(l.cancel),l.then(e.resolve,e.reject,e.progress),l=e.promise);return k||g||c?l.then(k,g,c):l}})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(n,
m,l,k,g){return m("dijit.tree.ForestStoreModel",g,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(c){this.root={store:this,root:!0,id:c.rootId,label:c.rootLabel,children:c.rootChildren}},mayHaveChildren:function(c){return c===this.root||this.inherited(arguments)},getChildren:function(c,e,f){c===this.root?this.root.children?e(this.root.children):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(b){this.root.children=b;e(b)}),onError:f}):this.inherited(arguments)},
isItem:function(c){return c===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(c){if(c.identity==this.root.id){var e=c.scope||l.global;c.onItem&&c.onItem.call(e,this.root)}else this.inherited(arguments)},getIdentity:function(c){return c===this.root?this.root.id:this.inherited(arguments)},getLabel:function(c){return c===this.root?this.root.label:this.inherited(arguments)},newItem:function(c,e,f){return e===this.root?(this.onNewRootItem(c),this.store.newItem(c)):this.inherited(arguments)},
onNewRootItem:function(){},pasteItem:function(c,e,f,b,a){if(e===this.root&&!b)this.onLeaveRoot(c);this.inherited(arguments,[c,e===this.root?null:e,f===this.root?null:f,b,a]);if(f===this.root)this.onAddToRoot(c)},onAddToRoot:function(c){},onLeaveRoot:function(c){},_requeryTop:function(){var c=this.root.children||[];this.store.fetch({query:this.query,onComplete:k.hitch(this,function(e){this.root.children=e;if(c.length!=e.length||n.some(c,function(c,b){return e[b]!=c}))this.onChildrenChange(this.root,
e)})})},onNewItem:function(c,e){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(c){-1!=n.indexOf(this.root.children,c)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(c,e,f,b){this._requeryTop();this.inherited(arguments)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){return l("dijit.Menu",t,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):m.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return r.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||
null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(d){d=k.byId(d,this.ownerDocument);var c;if("iframe"==d.tagName.toLowerCase()){var e=d;c=this._iframeContentWindow(e);c=p.body(c.document)}else c=d==p.body(this.ownerDocument)?this.ownerDocument.documentElement:d;var q={node:d,iframe:e};g.set(d,"_dijitMenu"+this.id,this._bindings.push(q));var r=b.hitch(this,
function(d){var b=this.selector,c=b?function(d){return a.selector(b,d)}:function(a){return a},p=this;return[a(d,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||p._scheduleOpen(this,e,{x:a.pageX,y:a.pageY},a.target)}),a(d,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==f.F10||this.leftClickToOpen&&a.keyCode==f.SPACE)a.stopPropagation(),a.preventDefault(),p._scheduleOpen(this,e,null,a.target),
this._lastKeyDown=(new Date).getTime()})]});q.connects=c?r(c):[];e&&(q.onloadHandler=b.hitch(this,function(){var a=this._iframeContentWindow(e),a=p.body(a.document);q.connects=r(a)}),e.addEventListener?e.addEventListener("load",q.onloadHandler,!1):e.attachEvent("onload",q.onloadHandler))},unBindDomNode:function(a){var d;try{d=k.byId(a,this.ownerDocument)}catch(b){return}a="_dijitMenu"+this.id;if(d&&g.has(d,a)){for(var c=g.get(d,a)-1,p=this._bindings[c],e;e=p.connects.pop();)e.remove();(e=p.iframe)&&
(e.removeEventListener?e.removeEventListener("load",p.onloadHandler,!1):e.detachEvent("onload",p.onloadHandler));g.remove(d,a);delete this._bindings[c]}},_scheduleOpen:function(a,d,b,c){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:c,delegatedTarget:a,iframe:d,coords:b})},1))},_openMyself:function(a){function b(){m.refocus&&n&&n.focus();s.close(m)}var p=a.target,f=a.iframe,g=a.coords,q=!g;this.currentTarget=a.delegatedTarget;if(g){if(f){a=
c.position(f,!0);var p=this._iframeContentWindow(f),p=c.docScroll(p.document),r=e.getComputedStyle(f),t=e.toPixelValue,l=(d("ie")&&d("quirks")?0:t(f,r.paddingLeft))+(d("ie")&&d("quirks")?t(f,r.borderLeftWidth):0),f=(d("ie")&&d("quirks")?0:t(f,r.paddingTop))+(d("ie")&&d("quirks")?t(f,r.borderTopWidth):0);g.x+=a.x+l-p.x;g.y+=a.y+f-p.y}}else g=c.position(p,!0),g.x+=10,g.y+=10;var m=this,f=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var n=!a||k.isDescendant(a,this.domNode)?
f:a;s.open({popup:this,x:g.x,y:g.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();q||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);s.close(this)}},destroy:function(){m.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(n,m,l,k,g,c){function e(a,d){var b=
a.getAttributeNode&&a.getAttributeNode(d);return!!b&&b.specified}var f={innerHTML:1,textContent:1,className:1,htmlFor:m("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};n.has=function(a,d){var p=d.toLowerCase();return f[c.names[p]||d]||e(k.byId(a),b[p]||d)};n.get=function(a,d){a=k.byId(a);var p=d.toLowerCase(),g=c.names[p]||d,s=a[g];if(f[g]&&"undefined"!=typeof s)return s;if("textContent"==g)return c.get(a,g);if("href"!=g&&("boolean"==typeof s||l.isFunction(s)))return s;
p=b[p]||d;return e(a,p)?a.getAttribute(p):null};n.set=function(a,d,p){a=k.byId(a);if(2==arguments.length){for(var e in d)n.set(a,e,d[e]);return a}e=d.toLowerCase();var s=c.names[e]||d,t=f[s];if("style"==s&&"string"!=typeof p)return g.set(a,p),a;if(t||"boolean"==typeof p||l.isFunction(p))return c.set(a,d,p);a.setAttribute(b[e]||d,p);return a};n.remove=function(a,d){k.byId(a).removeAttribute(b[d.toLowerCase()]||d)};n.getNodeProp=function(a,d){a=k.byId(a);var p=d.toLowerCase(),f=c.names[p]||d;if(f in
a&&"href"!=f)return a[f];p=b[p]||d;return e(a,p)?a.getAttribute(p):null}})},"tm1web/utility/url":function(){define(["dojo/_base/lang","dojo/io-query","dojox/validate/regexp","./string"],function(n,m,l,k){var g=l.url({scheme:!0,allowLocal:!0,allowNamed:!0}),c=l.url({allowLocal:!0,allowNamed:!0});l=l.host({allowLocal:!0,allowNamed:!0});g=g.replace("(?:\\?[^?#\\s/]*)?","(?:\\?[^?#\\s]*)?");c=c.replace("(?:\\?[^?#\\s/]*)?","(?:\\?[^?#\\s]*)?");l=g.substring(0,g.indexOf(l)+l.length);l=l.replace("|^[^-][a-zA-Z0-9_-]*",
"|[^-][a-zA-Z0-9_-]*");var e=new RegExp("^("+g+")$","i"),f=new RegExp("^("+c+")$","i"),b=new RegExp("^("+l+")","i");return{isXDomainUrl:function(a){return(a.startsWith?a.startsWith("."):0==a.indexOf("."))?!1:(a=a.match(/^([^\/\:]+\:)\/\/([^\/]+)/))&&(a[1]!=location.protocol||a[2]!=location.host)},toUrl:function(a,d){d||(d=require);var b=d.toUrl(a);!k.endsWith(a,"main")&&k.endsWith(b,"/main")&&(b=b.substring(0,b.length-5));return b},isUrl:function(a,d){var b=!1;(b=d||null==d?e.test(a):f.test(a))||
(b=/^((https?):\/\/)/.test(a));return b},compact:function(a){var d="",c=a,e=a.match(b);e&&(d=e[0],c=c.substring(d.length));var c=c.split("/"),e=[],f=c.length&&!c[0];!d&&f&&(f=!1,d="/");for(var g=0;g<c.length;g++){var q=c[g];if(q&&"."!==q){if(".."===q&&!e.length&&d)throw Error("The specified URL was invalid: "+a);".."===q&&e.length&&".."!==e[e.length-1]?e.pop():e.push(q)}}return d+(f&&e.length?"/":"")+e.join("/")},getQueryString:function(){var a=location.search;a&&(a=a.substring(1));return a},getQueryObject:function(){return m.queryToObject(this.getQueryString())},
setQueryString:function(a){var d=m.objectToQuery(a);location.search=d?"?"+m.objectToQuery(a):""},appendToQueryString:function(a){this.setQueryString(n.mixin(this.getQueryObject(),a))}}})},"dijit/ConfirmDialog":function(){define(["../dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(n,m,l){return n("dijit/ConfirmDialog",[m,l],{})})},"tm1web/share/SpreadSyntaxValidator":function(){define(["dojo/_base/declare","./NumberType","../utility/number"],function(n,m,l){var k={NullFunction:0,Repeat:1,
EqualSpread:2,ProportionalSpread:3,PercentChange:4,Clear:5,Hold:6,HoldConsolidation:7,Release:8,ReleaseConsolidate:9,ReleaseAll:10,PercentGrowth:11,StraightLine:12,RelativeProportionalSpread:13,RelativePercentAdjustement:14,RepeatLeaves:15,EqualSpreadLeaves:16,ClearLeaves:17,WeightedLeaves:18,WeightedLeavesDefault:19};return n(null,{isValid:function(g){var c,e,f;f=g.length;if(1>f)return!1;for(var b=0,a=1;b<f;){for(;b<f&&" "==g.charAt(b);)b++;if(b>=f)break;switch(a){case 0:return!1;case 1:e=this._getSpreadType(g);
if(e==k.NullFunction)return!1;e==k.Repeat||e==k.EqualSpread||e==k.ProportionalSpread||e==k.Clear||e==k.Hold?b++:b+=2;if(b>=f&&(e==k.Clear||e==k.ClearLeaves||e==k.Hold||e==k.HoldConsolidation||e==k.Release||e==k.ReleaseConsolidate||e==k.ReleaseAll)){a=0;break}a=2;break;case 2:c=g.charAt(b);"+"!=c&&"~"!=c||b++;a=3;break;case 3:if(e==k.Repeat||e==k.EqualSpread||e==k.ProportionalSpread||e==k.PercentChange||e==k.Clear||e==k.Hold||e==k.HoldConsolidation||e==k.Release||e==k.ReleaseConsolidate||e==k.PercentGrowth||
e==k.StraightLine){for(a=0;4>a;a++)switch(c=g.charAt(b),c){case "\x3e":case "|":case "\x3c":case "^":b++}a=e==k.Clear||e==k.Hold||e==k.HoldConsolidation||e==k.Release||e==k.ReleaseConsolidate?0:4}else if(e==k.RelativeProportionalSpread||e==k.RelativePercentAdjustment)a=4;else if(e==k.RepeatLeaves||e==k.EqualSpreadLeaves||e==k.WeightedLeaves||e==k.WeightedLeavesDefault||e==k.ClearLeaves)c=g.charAt(b),"*"==c&&b++,a=e==k.ClearLeaves?0:4;else if(e==k.ReleaseAll){c=g.charAt(b);if(" "!=c)return!1;b++}break;
case 4:c=g.substr(b);f=c.indexOf(":");if(0<f){if(e!=k.PercentGrowth&&e!=k.StraightLine)return!1;g=g.substr(b,f);e=c.substr(f+1);return l.canParse(g,m.DECIMAL)&&l.canParse(e,m.DECIMAL)}return e==k.PercentGrowth||e==k.StraightLine?!1:l.canParse(c,m.DECIMAL);case 5:a=0}}return 0==a},_getSpreadType:function(g){var c,e=0;c=g.length;if(0>=c)return k.NullFunction;for(e=0;e<c;)switch(c=this._upperCaseCharAt(g,e),c){case "R":switch(c=this._upperCaseCharAt(g,++e),c){case "H":return k.Release;case "C":return k.ReleaseConsolidate;
case "A":return k.ReleaseAll;case "P":return k.RelativeProportionalSpread;case "%":return k.RelativePercentAdjustment;default:return k.Repeat}case "S":switch(c=this._upperCaseCharAt(g,++e),c){case "L":return k.StraightLine;default:return k.EqualSpread}case "P":switch(c=this._upperCaseCharAt(g,++e),c){case "%":return k.PercentChange;default:return k.ProportionalSpread}case "G":switch(c=this._upperCaseCharAt(g,++e),c){case "R":return k.PercentGrowth;default:return k.NullFunction}case "C":return k.Clear;
case "H":switch(c=this._upperCaseCharAt(g,++e),c){case "C":return k.HoldConsolidation;default:return k.Hold}case "L":switch(c=this._upperCaseCharAt(g,++e),c){case "R":return k.RepeatLeaves;case "S":return k.EqualSpreadLeaves;case "C":return k.ClearLeaves}case "W":switch(c=this._upperCaseCharAt(g,++e),c){case "X":return k.WeightedLeaves;case "D":return k.WeightedLeavesDefault}default:return k.NullFunction}return k.NullFunction},_upperCaseCharAt:function(g,c){return g.charAt(c).toUpperCase()}})})},
"tm1web/celledit/spread-syntax-validator":function(){define(["../share/SpreadSyntaxValidator"],function(n){return new n})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){function p(a,d){a.canDelete&&u._remove(a.id,d.options.frameDoc,!0)}function r(a){B&&B.length&&(g.forEach(B,function(a){u._remove(a.id,a.frameDoc);a.frameDoc=null}),B=[]);return a.options.jsonp?
!a.data:!0}function s(a){return!!this.scriptLoaded}function t(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function q(a,d){if(this.canDelete){var b=this.response.options;B.push({id:this.id,frameDoc:b.ioArgs?b.ioArgs.frameDoc:b.frameDoc});b.ioArgs&&(b.ioArgs.frameDoc=null);b.frameDoc=null}d?this.reject(d):this.resolve(a)}function u(a,d,b){var f=l.parseArgs(a,l.deepCopy({},d));a=f.url;d=f.options;var g=l.deferred(f,p,r,d.jsonp?null:d.checkString?t:s,q);c.mixin(g,{id:v+
x++,canDelete:!1});d.jsonp&&((new RegExp("[?\x26]"+d.jsonp+"\x3d")).test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+d.jsonp+"\x3d"+(d.frameDoc?"parent.":"")+v+"_callbacks."+g.id),g.canDelete=!0,z[g.id]=function(a){f.data=a;g.handleResponse(f)});l.notify&&l.notify.emit("send",f,g.promise.cancel);if(!d.canAttach||d.canAttach(g)){var k=u._attach(g.id,a,d.frameDoc);if(!d.jsonp&&!d.checkString)var n=e(k,y,function(a){if("load"===a.type||w.test(k.readyState))n.remove(),g.scriptLoaded=a})}m(g);return b?g:g.promise}
a.add("script-readystatechange",function(a,d){return"undefined"!==typeof d.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var v=n.id.replace(/[\/\.\-]/g,"_"),x=0,y=a("script-readystatechange")?"readystatechange":"load",w=/complete|loaded/,z=k.global[v+"_callbacks"]={},B=[];u.get=u;u._attach=function(a,b,c){c=c||d.doc;var p=c.createElement("script");p.type="text/javascript";p.src=b;p.id=a;p.async=!0;p.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(p)};
u._remove=function(a,d,c){b.destroy(f.byId(a,d));z[a]&&(c?z[a]=function(){delete z[a]}:delete z[a])};u._callbacksProperty=v+"_callbacks";return u})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(n,m,l,k){return n("dijit.form.MappedTextBox",k,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(g){return g.toString?g.toString():""},toString:function(){var g=
this.filter(this.get("value"));return null!=g?"string"==typeof g?g:this.serialize(g,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=l.place("\x3cinput type\x3d'hidden'"+(this.name&&!m("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"tm1web/celledit/_PickListStore":function(){define(["dojo/_base/declare",
"../cubeview/ViewCellType","../utility/number","./_CellListStore"],function(n,m,l,k){return n(k,{_method:"getPickList",_cellInfoProperty:"pickListItems",_getDisplayValue:function(g){var c=this.inherited(arguments);if(this.cellInfo.cellType==m.NUM&&""!=c.trim())try{return l.format(c)}catch(e){}return c}})})},"tm1web/widgets/_StopPropagationMixin":function(){define(["dojo/_base/declare","dojo/on"],function(n,m){return n(null,{_stopPropagationEvents:null,postCreate:function(){this.inherited(arguments);
this.own(m(this.domNode,this._stopPropagationEvents,function(l){l.stopPropagation()}))}})})},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(n,m,l){var k=m.getObject("grid.util",!0,n);k.na="...";k.rowIndexTag="gridRowIndex";k.gridViewTag="gridView";k.fire=function(g,c,e){var f=g&&c&&g[c];return f&&(e?f.apply(g,e):g[c]())};k.setStyleHeightPx=function(g,c){if(0<=c){var e=g.style,f=c+"px";g&&e.height!=f&&(e.height=f)}};k.mouseEvents="mouseover mouseout mousedown mouseup click dblclick contextmenu".split(" ");
k.keyEvents=["keyup","keydown","keypress"];k.funnelEvents=function(g,c,e,f){f=f?f:k.mouseEvents.concat(k.keyEvents);for(var b=0,a=f.length;b<a;b++)c.connect(g,"on"+f[b],e)};k.removeNode=function(g){(g=l.byId(g))&&g.parentNode&&g.parentNode.removeChild(g);return g};k.arrayCompare=function(g,c){for(var e=0,f=g.length;e<f;e++)if(g[e]!=c[e])return!1;return g.length==c.length};k.arrayInsert=function(g,c,e){g.length<=c?g[c]=e:g.splice(c,0,e)};k.arrayRemove=function(g,c){g.splice(c,1)};k.arraySwap=function(g,
c,e){var f=g[c];g[c]=g[e];g[e]=f};return k})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(n,m,l,k,g){return g("dojox.layout.ContentPane",l,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,executeScripts:!0,scriptHasHooks:!1,ioMethod:m.get,ioArgs:{},onExecError:function(c){},_setContent:function(c){var e=this._contentSetter;e&&e instanceof k._ContentSetter||(e=this._contentSetter=new k._ContentSetter({node:this.containerNode,
_onError:n.hitch(this,this._onError),onContentError:n.hitch(this,function(c){c=this.onContentError(c);try{this.containerNode.innerHTML=c}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+
this.id+"')"};this.inherited("_setContent",arguments)},destroy:function(){var c=this._contentSetter;c&&c.tearDown();this.inherited(arguments)}})})},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(n,m,l){return n("dojox.grid._RowManager",null,{constructor:function(k){this.grid=k},linesToEms:2,overRow:-2,prepareStylingRow:function(k,g){return{index:k,node:g,odd:Boolean(k&1),selected:!!this.grid.selection.isSelected(k),over:this.isOver(k),
customStyles:"",customClasses:"dojoxGridRow"}},styleRowNode:function(k,g){var c=this.prepareStylingRow(k,g);this.grid.onStyleRow(c);this.applyStyles(c)},applyStyles:function(k){k.node.className=k.customClasses;var g=k.node.style.height,c=k.node,e=k.customStyles+";"+(k.node._style||"");void 0==c.style.cssText?c.setAttribute("style",e):c.style.cssText=e;k.node.style.height=g},updateStyles:function(k){this.grid.updateRowStyles(k)},setOverRow:function(k){var g=this.overRow;this.overRow=k;g!=this.overRow&&
(m.isString(g)||0<=g)&&this.updateStyles(g);this.updateStyles(this.overRow)},isOver:function(k){return this.overRow==k&&!l.contains(this.grid.domNode,"dojoxGridColumnResizing")}})})},"tm1web/config-settings":function(){define(["dojo/_base/Deferred","dojo/sniff","./share/http-session-initializer","./share/service-loader!TM1Service"],function(n,m,l,k){var g=new n,c=null;l.init().then(function(){k.getTM1WebConfigSettings({callback:function(e){c=e;g.resolve();g=null}})});return{load:function(c,f,b){g&&
!g.isFulfilled()?g.then(function(){b(1)}):b(1)},getAdminHost:function(){return c.adminHostName},getTM1Server:function(){return c.tm1ServerName},getMaxExportSheetCount:function(){return c.maxExportSheetCount},getCubeviewerStringWrapCellWidth:function(){return c.cubeviewerStringWrapCellWidth},recalculateOnPicklistChange:function(){return c.recalculateOnPicklistChange},recalculateOnValidationListChange:function(){return c.recalculateOnValidationListChange},isLegacyUrlApiSessionDiscoveryEnabled:function(){return c.legacyUrlApiSessionDiscoveryEnabled},
isRecalcOnActivateEnabled:function(){return c.recalcOnActivateEnabled},getWebSheetBackgroundRecalculationMode:function(){return c.webSheetBackgroundRecalculationMode},getTM1WebSSOUrl:function(){return c.tm1WebSSOUrl},getTm1ServerSecurityMode:function(){return c.tm1ServerSecurityMode},isNativeWebsheetScrollingEnabled:function(){return c.nativeWebsheetScrollingInIEEnabled||!m("trident")},getCustomCamLogoutUrl:function(){return c.customCAMLogoutURL},isCamLoginApiRedirectEnabled:function(){return c.camLoginApiRedirectEnabled},
isCellListSearchCharacterRemovalEnabled:function(){return c.cellListSearchCharacterRemovalEnabled},getTM1DatabaseLabel:function(){return c.TM1DatabaseLabel},isCubeViewerHiddenDimensionsEnabled:function(){return c.cubeViewerHiddenDimensionsEnabled},isNpsEnabled:function(){return c.npsEnabled},isNpsDev:function(){return c.npsDev},npsTenantRequiredAge:function(){return c.npsTenantRequiredAge},npsUserRequiredAge:function(){return c.npsUserRequiredAge},getNpsEmbedScript:function(){return c.npsEmbedScript}}})},
"tm1web/share/_LoadingOverlayMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dijit/focus dijit/registry dojo/domReady!".split(" "),function(n,m,l,k,g){return n(null,{_loadingOverlayNode:null,_loadingCount:0,_createLoadingOverlay:function(){this._loadingOverlayNode=m.create("div",{tabIndex:"-1",className:"tm1webLoadingOverlay",style:{display:"none"}},function(c){for(var e;c;)e=c,c=g.getEnclosingWidget(c.domNode.parentNode);return e.containerNode||e.domNode}(this))},_setLoadingAttr:function(c){this._loadingOverlayNode||
this._createLoadingOverlay();var e=this._loadingOverlayNode;c?(0===this._loadingCount&&(this._refocusNode=k.curNode,l.set(e,"display",""),k.focus(e)),this._loadingCount++):(1===this._loadingCount&&((c=this._refocusNode)&&(0<c.offsetWidth||0<c.offsetHeight)&&k.focus(c),delete this._refocusNode,l.set(e,"display","none")),this._loadingCount=Math.max(0,this._loadingCount-1))},_getLoadingAttr:function(){return 0<this._loadingCount},destroy:function(){this.inherited(arguments);this._loadingOverlayNode&&
m.destroy(this._loadingOverlayNode)}})})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){return m("dojo.dnd.Moveable",[c],{handle:"",delay:0,skip:!1,constructor:function(a,c){this.node=k.byId(a);c||(c={});this.handle=c.handle?k.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;
this.mover=c.mover?c.mover:d;this.events=[e(this.handle,b.press,l.hitch(this,"onMouseDown")),e(this.handle,"dragstart",l.hitch(this,"onSelectStart")),e(this.handle,"selectstart",l.hitch(this,"onSelectStart"))]},markupFactory:function(a,d,b){return new b(d,a)},destroy:function(){n.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(d){if(!this.skip||!a.isFormElement(d)){if(this.delay)this.events.push(e(this.handle,b.move,l.hitch(this,"onMouseMove")),
e(this.handle,b.release,l.hitch(this,"onMouseUp"))),this._lastX=d.pageX,this._lastY=d.pageY;else this.onDragDetected(d);d.stopPropagation();d.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var d=0;2>d;++d)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(d){this.skip&&a.isFormElement(d)||
(d.stopPropagation(),d.preventDefault())},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){f.publish("/dnd/move/start",a);g.add(p.body(),"dojoMove");g.add(this.node,"dojoMoveItem")},onMoveStop:function(a){f.publish("/dnd/move/stop",a);g.remove(p.body(),"dojoMove");g.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,d){this.onMoving(a,d);var b=a.node.style;b.left=d.l+"px";b.top=d.t+"px";this.onMoved(a,d)},onMoving:function(){},onMoved:function(){}})})},
"tm1web/spreading/SpreadDialogEqualLeaves":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dijit/form/RadioButton ../utility/message-localizer ../cubeview/TitlePanel ./SpreadDialogBase".split(" "),function(n,m,l,k,g,c,e,f){return n(f,{constructor:function(){this._AllPopulatedMode="";this._InitializeSpreadDialogEqualLeaves()},_InitializeSpreadDialogEqualLeaves:function(){},_CreateContent:function(){this._DataValue=this._CreateValueContent(this._Dialog.containerNode,
c.get("SPREAD_LABEL_VALUE"),"tm1webDataSpread_valueLabel",this._cellInfo.numericValue,"tm1webDataSpread_value");this._CreateApplyToContent();this._CreateActionContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},_CreateApplyToContent:function(){var b=(new e(c.get("SPREAD_SECTION_APPLY"),null,null,"")).Create(this._Dialog.containerNode);this._CreateApplyToRadionButtonList(b)},_CreateApplyToRadionButtonList:function(b){this._CreateApplyToChoiceRadioButton(c.get("SPREAD_LABEL_POPULATED"),
!0,"",b);this._CreateApplyToChoiceRadioButton(c.get("SPREAD_LABEL_ALL"),!1,"*",b)},_CreateApplyToChoiceRadioButton:function(b,a,d,c){_this=this;c=this._CreateCheckBoxLabelDiv(c);var e=new g({name:"ApplyToChoice",value:d});e.setChecked(a);e.onClick=function(){_this._OnLeafCellsChoiceRadioButtonClick(this,d)};l.place(e.domNode,c);this._CreateCheckBoxLabel(b,c,e.id);return e},_OnLeafCellsChoiceRadioButtonClick:function(b,a){b.checked&&(this._AllPopulatedMode=a)},_GetControlString:function(){var b=this._CommandString,
b=b+this._ActionValue+this._AllPopulatedMode;return b+=m.trim(this._DataValue.value)}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/kernel","../../_base/array","../../_base/lang","../../when"],function(n,m,l,k){var g=function(c){function e(b){c[b]=function(){var a=arguments,d=k(c,function(d){Array.prototype.unshift.call(a,d);return g(m[b].apply(m,a))});if("forEach"!==b||f)return d}}if(!c)return c;var f=!!c.then;f&&(c=l.delegate(c));e("forEach");e("filter");e("map");null==c.total&&
(c.total=k(c,function(b){return b.length}));return c};l.setObject("store.util.QueryResults",g,n);return g})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(n,m,l,k,g,c,e,f,b){return m("dijit.form.CheckBox",[e,f],{templateString:b,baseClass:"dijitCheckBox",_setValueAttr:function(a,d){"string"==typeof a&&(this.inherited(arguments),
a=!0);this._created&&this.set("checked",a,d)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&g("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&g("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},
"dijit/nls/common":function(){define({root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"tm1web/cubeview/TM1CubeViewGrid":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct ./CubeViewGridControlBase ./CubePagingGrid".split(" "),
function(n,m,l,k,g,c){return n(g,{constructor:function(c){this.PagingGrid=null;this.InitializeTM1CubeViewGrid()},InitializeTM1CubeViewGrid:function(){this.PagingGrid=new c(this.ObjectId);this.CreateContainer();this._AttachListeners()},setClientConfig:function(c,f){this.PagingGrid.setClientConfig(c,f)},_AttachListeners:function(){l.after(this.PagingGrid.OlapGrid,"OnBeginResize",m.hitch(this,"_OnBeginPagingGridResize"),!0);l.after(this.PagingGrid.OlapGrid,"OnEndResize",m.hitch(this,"_OnEndPagingGridResize"),
!0)},Update:function(c){this.PagingGrid.Update(c);c.layoutChanged&&(this._hasAttached=!1);!c.layoutChanged&&this._hasAttached||!this.Panel.parentNode.parentNode||(this.PagingGrid.OlapGrid.DNDhandler.AttachDefault(this.Panel.parentNode.parentNode),this._hasAttached=!0)},CreateContainer:function(){this.Panel=this.CreatePanel("","tm1webFullScreen");this.Panel.style.position="relative";k.place(this.PagingGrid.Panel,this.Panel)},_AddChild:function(c,f){var b=c.insertRow(-1).insertCell(-1);b.appendChild(f);
return b},Resize:function(){this.PagingGrid.Resize()},_OnBeginPagingGridResize:function(){},_OnEndPagingGridResize:function(){}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(n,m,l,k){return n("dijit.form.Textarea",[k,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);m.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",
MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(n,m,l,k,g,c,e,f,b){return n("dijit.form.DropDownButton",[c,e,f],{baseClass:"dijitDropDownButton",templateString:b,_fillContent:function(){if(this.srcNodeRef){var a=l("*",this.srcNodeRef);
this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=l("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=k.byNode(a));delete this.dropDownContainer}this.dropDown&&g.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var d=this.dropDown,b=d.on("load",m.hitch(this,function(){b.remove();a()}));
d.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(n,m){var l={};n.regexp=l;l.escapeString=function(k,g){return k.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(c){return g&&-1!=g.indexOf(c)?c:"\\"+c})};l.buildGroupRE=function(k,g,c){if(!(k instanceof Array))return g(k);for(var e=[],f=0;f<k.length;f++)e.push(g(k[f]));return l.group(e.join("|"),c)};l.group=function(k,g){return"("+
(g?"?:":"")+k+")"};return l})},"dojo/_base/config":function(){define(["../has","require"],function(n,m){var l={},k=m.rawConfig,g;for(g in k)l[g]=k[g];var k={gfxRenderer:"canvas,svg,vml,silverlight",defaultDuration:100,parseOnLoad:0,async:1,noGlobals:1},c;for(c in k)!k.hasOwnProperty(c)||c in l||(l[c]=k[c]);if(!l.locale){var e;"undefined"!==typeof navigator&&navigator.languages&&navigator.languages[0]?e=navigator.languages[0]:"undefined"!==typeof document&&(document.documentElement.lang||"").trim()?
e=document.documentElement.lang:"undefined"!==typeof requirejs&&requirejs.s.contexts._.config&&requirejs.s.contexts._.config.locale?e=requirejs.s.contexts._.config.locale:"undefined"!=typeof navigator&&(e=navigator.language||navigator.userLanguage);e&&(l.locale=e.toLowerCase())}return l})},"dojox/grid/_FocusManager":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/event dojo/_base/sniff dojo/query ./util dojo/_base/html".split(" "),function(n,m,
l,k,g,c,e,f,b){return l("dojox.grid._FocusManager",null,{constructor:function(a){this.grid=a;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(k.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(k.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(k.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(k.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));
this._connects.push(k.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(k.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(k.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(k.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(k.connect(this.grid,"postrender",this,"_delayedHeaderFocus"))},destroy:function(){n.forEach(this._connects,k.disconnect);n.forEach(this._headerConnects,
k.disconnect);delete this.grid;delete this.cell},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:!1,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders()},isFocusCell:function(a,d){return this.cell==a&&this.rowIndex==d},isLastFocusCell:function(){return this.cell?this.rowIndex==this.grid.rowCount-1&&this.cell.index==this.grid.layout.cellCount-
1:!1},isFirstFocusCell:function(){return this.cell?0===this.rowIndex&&0===this.cell.index:!1},isNoFocusCell:function(){return 0>this.rowIndex||!this.cell},isNavHeader:function(){return!!this._colHeadNode},getHeaderIndex:function(){return this._colHeadNode?n.indexOf(this._findHeaderCells(),this._colHeadNode):-1},_focusifyCellNode:function(a){var d=this.cell&&this.cell.getNode(this.rowIndex);if(d&&(b.toggleClass(d,this.focusClass,a),a)){a=this.scrollIntoView();try{if(c("webkit")||!this.grid.edit.isEditing())f.fire(d,
"focus"),a&&(this.cell.view.scrollboxNode.scrollLeft=a)}catch(p){}}},_delayedCellFocus:function(){if(!this.isNavHeader()&&this.grid.focused){var a=this.cell&&this.cell.getNode(this.rowIndex);if(a)try{this.grid.edit.isEditing()||(b.toggleClass(a,this.focusClass,!0),this._colHeadNode&&this.blurHeader(),f.fire(a,"focus"))}catch(d){}}},_delayedHeaderFocus:function(){this.isNavHeader()&&this.focusHeader()},_initColumnHeaders:function(){n.forEach(this._headerConnects,k.disconnect);this._headerConnects=
[];for(var a=this._findHeaderCells(),d=0;d<a.length;d++)this._headerConnects.push(k.connect(a[d],"onfocus",this,"doColHeaderFocus")),this._headerConnects.push(k.connect(a[d],"onblur",this,"doColHeaderBlur"))},_findHeaderCells:function(){for(var a=e("th",this.grid.viewsHeaderNode),d=[],c=0;c<a.length;c++){var f=a[c],g=b.hasAttr(f,"tabIndex"),k=b.attr(f,"tabIndex");g&&0>k&&d.push(f)}return d},_setActiveColHeader:function(a,d,c){this.grid.domNode.setAttribute("aria-activedescendant",a.id);null!=c&&0<=
c&&c!=d&&b.toggleClass(this._findHeaderCells()[c],this.focusClass,!1);b.toggleClass(a,this.focusClass,!0);this._colHeadNode=a;this._colHeadFocusIdx=d;this._scrollHeader(this._colHeadFocusIdx)},scrollIntoView:function(){var a=this.cell?this._scrollInfo(this.cell):null;if(!a||!a.s)return null;var d=this.grid.scroller.findScrollTop(this.rowIndex);a.n&&a.sr&&(a.n.offsetLeft+a.n.offsetWidth>a.sr.l+a.sr.w?a.s.scrollLeft=a.n.offsetLeft+a.n.offsetWidth-a.sr.w:a.n.offsetLeft<a.sr.l&&(a.s.scrollLeft=a.n.offsetLeft));
a.r&&a.sr&&(d+a.r.offsetHeight>a.sr.t+a.sr.h?this.grid.setScrollTop(d+a.r.offsetHeight-a.sr.h):d<a.sr.t&&this.grid.setScrollTop(d));return a.s.scrollLeft},_scrollInfo:function(a,d){if(a){var b=a.view.scrollboxNode,c={w:b.clientWidth,l:b.scrollLeft,t:b.scrollTop,h:b.clientHeight},e=a.view.getRowNode(this.rowIndex);return{c:a,s:b,sr:c,n:d?d:a.getNode(this.rowIndex),r:e}}return null},_scrollHeader:function(a){var d=null;if(this._colHeadNode){var b=this.grid.getCell(a);if(!b)return;d=this._scrollInfo(b,
b.getNode(0))}d&&d.s&&d.sr&&d.n&&(d.n.offsetLeft+d.n.offsetWidth>d.sr.l+d.sr.w?d.s.scrollLeft=d.n.offsetLeft+d.n.offsetWidth-d.sr.w:d.n.offsetLeft<d.sr.l?d.s.scrollLeft=d.n.offsetLeft:7>=c("ie")&&b&&b.view.headerNode&&(b.view.headerNode.scrollLeft=d.s.scrollLeft))},_isHeaderHidden:function(){var a=this.focusView;if(!a)for(var d=0,c;c=this.grid.views.views[d];d++)if(c.headerNode){a=c;break}return a&&"none"==b.getComputedStyle(a.headerNode).display},colSizeAdjust:function(a,d,b){var c=this._findHeaderCells(),
e=this.focusView;if(!e||!e.header.tableMap.map)for(var f=0,g;g=this.grid.views.views[f];f++)if(g.header.tableMap.map){e=g;break}f=c[d];!e||d==c.length-1&&0===d||(e.content.baseDecorateEvent(a),a.cellNode=f,a.cellIndex=e.content.getCellNodeIndex(a.cellNode),a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null,e.header.canResize(a)&&(d={l:b},a=e.header.colResizeSetup(a,!1),e.header.doResizeColumn(a,null,d),e.update()))},styleRow:function(a){},setFocusIndex:function(a,d){this.setFocusCell(this.grid.getCell(d),
a)},setFocusCell:function(a,d){a&&!this.isFocusCell(a,d)&&(this.tabbingOut=!1,this._colHeadNode&&this.blurHeader(),this._colHeadNode=this._colHeadFocusIdx=null,this.focusGridView(),this._focusifyCellNode(!1),this.cell=a,this.rowIndex=d,this._focusifyCellNode(!0));if(c("opera"))setTimeout(m.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);else this.grid.onCellFocus(this.cell,this.rowIndex)},next:function(){if(this.cell){var a=this.rowIndex,d=this.cell.index+1,b=this.grid.layout.cellCount-
1,c=this.grid.rowCount-1;d>b&&(d=0,a++);a>c&&(d=b,a=c);if(this.grid.edit.isEditing()&&(b=this.grid.getCell(d),!this.isLastFocusCell()&&(!b.editable||this.grid.canEdit&&!this.grid.canEdit(b,a)))){this.cell=b;this.rowIndex=a;this.next();return}this.setFocusIndex(a,d)}},previous:function(){if(this.cell){var a=this.rowIndex||0,d=(this.cell.index||0)-1;0>d&&(d=this.grid.layout.cellCount-1,a--);0>a&&(d=a=0);if(this.grid.edit.isEditing()){var b=this.grid.getCell(d);if(!this.isFirstFocusCell()&&!b.editable){this.cell=
b;this.rowIndex=a;this.previous();return}}this.setFocusIndex(a,d)}},move:function(a,d){var c=0>d?-1:1;if(this.isNavHeader()){var e=this._findHeaderCells(),f=currentIdx=n.indexOf(e,this._colHeadNode);for(currentIdx+=d;0<=currentIdx&&currentIdx<e.length&&"none"==e[currentIdx].style.display;)currentIdx+=c;0<=currentIdx&&currentIdx<e.length&&this._setActiveColHeader(e[currentIdx],currentIdx,f)}else if(this.cell){var g=this.grid.scroller,e=this.rowIndex,f=this.grid.rowCount-1,q=Math.min(f,Math.max(0,e+
a));a&&(0<a?q>g.getLastPageRow(g.page)&&this.grid.setScrollTop(this.grid.scrollTop+g.findScrollTop(q)-g.findScrollTop(e)):0>a&&q<=g.getPageRow(g.page)&&this.grid.setScrollTop(this.grid.scrollTop-g.findScrollTop(e)-g.findScrollTop(q)));for(var g=this.grid.layout.cellCount-1,k=this.cell.index,l=Math.min(g,Math.max(0,k+d)),m=this.grid.getCell(l);0<=l&&l<g&&m&&!0===m.hidden;)l+=c,m=this.grid.getCell(l);m&&!0!==m.hidden||(l=k);c=m.getNode(q);!c&&a?0<=q+a&&q+a<=f&&this.move(0<a?++a:--a,d):c&&"none"!==b.style(c,
"display")||!d?(this.setFocusIndex(q,l),a&&this.grid.updateRow(e)):0<=l+d&&l+d<=g&&this.move(a,0<d?++d:--d)}},previousKey:function(a){this.grid.edit.isEditing()?(g.stop(a),this.previous()):this.isNavHeader()||this._isHeaderHidden()?(this.tabOut(this.grid.domNode),null!=this._colHeadFocusIdx&&(b.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,!1),this._colHeadFocusIdx=null),this._focusifyCellNode(!1)):(this.grid.domNode.focus(),g.stop(a))},nextKey:function(a){a.target===
this.grid.domNode&&null==this._colHeadFocusIdx?(this.focusHeader(),g.stop(a)):this.isNavHeader()?(this.blurHeader(),this.findAndFocusGridCell()||this.tabOut(this.grid.lastFocusNode),this._colHeadNode=this._colHeadFocusIdx=null):this.grid.edit.isEditing()?(g.stop(a),this.next()):this.tabOut(this.grid.lastFocusNode)},tabOut:function(a){this.tabbingOut=!0;a.focus()},focusGridView:function(){f.fire(this.focusView,"focus")},focusGrid:function(a){this.focusGridView();this._focusifyCellNode(!0)},findAndFocusGridCell:function(){var a=
!0,d=0===this.grid.rowCount;this.isNoFocusCell()&&!d?(d=0,this.grid.getCell(d).hidden&&(d=this.isNavHeader()?this._colHeadFocusIdx:0),this.setFocusIndex(0,d)):this.cell&&!d?(this.focusView&&!this.focusView.rowNodes[this.rowIndex]&&this.grid.scrollToRow(this.rowIndex),this.focusGrid()):a=!1;this._colHeadNode=this._colHeadFocusIdx=null;return a},focusHeader:function(){var a=this._findHeaderCells(),d=this._colHeadFocusIdx;this._isHeaderHidden()?this.findAndFocusGridCell():this._colHeadFocusIdx||(this.isNoFocusCell()?
this._colHeadFocusIdx=0:this._colHeadFocusIdx=this.cell.index);for(this._colHeadNode=a[this._colHeadFocusIdx];this._colHeadNode&&0<=this._colHeadFocusIdx&&this._colHeadFocusIdx<a.length&&"none"==this._colHeadNode.style.display;)this._colHeadFocusIdx++,this._colHeadNode=a[this._colHeadFocusIdx];this._colHeadNode&&"none"!=this._colHeadNode.style.display?(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode&&(this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode),this.headerMenu.bindDomNode(this.grid.domNode),
this._contextMenuBindNode=this.grid.domNode),this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,d),this._scrollHeader(this._colHeadFocusIdx),this._focusifyCellNode(!1)):this.findAndFocusGridCell()},blurHeader:function(){b.removeClass(this._colHeadNode,this.focusClass);b.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var a=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(a);
this._contextMenuBindNode=a}},doFocus:function(a){a&&a.target!=a.currentTarget?g.stop(a):this._clickFocus||(this.tabbingOut||this.focusHeader(),this.tabbingOut=!1,g.stop(a))},doBlur:function(a){g.stop(a)},doContextMenu:function(a){this.headerMenu||g.stop(a)},doLastNodeFocus:function(a){this.tabbingOut?this._focusifyCellNode(!1):0<this.grid.rowCount?(this.isNoFocusCell()&&this.setFocusIndex(0,0),this._focusifyCellNode(!0)):this.focusHeader();this.tabbingOut=!1;g.stop(a)},doLastNodeBlur:function(a){g.stop(a)},
doColHeaderFocus:function(a){this._setActiveColHeader(a.target,b.attr(a.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());g.stop(a)},doColHeaderBlur:function(a){b.toggleClass(a.target,this.focusClass,!1)},_mouseDown:function(a){this._clickFocus=n.some(this.grid.views.views,function(d){return d.scrollboxNode===a.target})},_mouseUp:function(a){this._clickFocus=!1}})})},"tm1web/share/Label":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(n,m,l,k,g,c){return n([g,c],{baseClass:"tm1webLabel",templateString:"\x3clabel class\x3d${baseClass}\x3e${content}\x3c/label\x3e",content:"",selectable:!0,_setContentAttr:function(c){this.content=c;this.destroyDescendants();k.empty(this.domNode);var f=c;m.isObject(c)&&c.domNode?f=c.domNode:m.isString(c)&&(f=k.toDom(c));k.place(f,this.domNode)},_setSelectableAttr:function(c){this.selectable=c;l.setSelectable(this.domNode,c)}})})},"dojo/Evented":function(){define(["./aspect","./on"],function(n,
m){function l(){}var k=n.after;l.prototype={on:function(g,c){return m.parse(this,g,c,function(e,f){return k(e,"on"+f,c,!0)})},emit:function(g,c){var e=[this];e.push.apply(e,arguments);return m.emit.apply(m,e)}};return l})},"dojo/debounce":function(){define([],function(){return function(n,m){var l;return function(){l&&clearTimeout(l);var k=this,g=arguments;l=setTimeout(function(){n.apply(k,g)},m)}}})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(n,m,l,k,g,c,e,f){return n("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=c.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),a=this.manager.source,d,p=c.create("tbody",null,b),f=c.create("tr",null,p),g=c.create("td",null,f),t=Math.min(5,this.manager.nodes.length),q=0;e("highcontrast")&&c.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},g);c.create("span",{innerHTML:a.generateText?
this._generateText():""},g);for(k.set(f,{"class":"dojoDndAvatarHeader",style:{opacity:.9}});q<t;++q)a.creator?d=a._normalizedCreator(a.getItem(this.manager.nodes[q].id).data,"avatar").node:(d=this.manager.nodes[q].cloneNode(!0),"tr"==d.tagName.toLowerCase()&&(f=c.create("table"),c.create("tbody",null,f).appendChild(d),d=f)),d.id="",f=c.create("tr",null,p),g=c.create("td",null,f),g.appendChild(d),k.set(f,{"class":"dojoDndAvatarItem",style:{opacity:(9-q)/10}});this.node=b},destroy:function(){c.destroy(this.node);
this.node=!1},update:function(){g.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(e("highcontrast")){var b=l.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="\x3c ":this.manager.canDropFlag||this.manager.copy?this.manager.canDropFlag||(a="x"):a="o";b.innerHTML=a}f("tr.dojoDndAvatarHeader td span"+(e("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(n,m){var l=/[&<>'"\/]/g,k={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},g={};n.string=g;g.escape=function(c){return c?c.replace(l,function(c){return k[c]}):""};g.rep=function(c,e){if(0>=e||!c)return"";for(var f=[];;){e&1&&f.push(c);if(!(e>>=1))break;c+=c}return f.join("")};g.pad=function(c,e,f,b){f||(f="0");c=String(c);e=g.rep(f,Math.ceil((e-c.length)/f.length));return b?
c+e:e+c};g.substitute=function(c,e,f,b){b=b||n.global;f=f?m.hitch(b,f):function(a){return a};return c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,d,c){a=m.getObject(d,!1,e);c&&(a=m.getObject(c,!1,b).call(b,a,d));return f(a,d).toString()})};g.trim=String.prototype.trim?m.trim:function(c){c=c.replace(/^\s+/,"");for(var e=c.length-1;0<=e;e--)if(/\S/.test(c.charAt(e))){c=c.substring(0,e+1);break}return c};return g})},"tm1web/mobile/ScrollHandler":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","dijit/Destroyable","./_ScrollHandlerMixin"],function(n,m,l,k,g){return n([k,g],{dataGrid:null,constructor:function(c){this.dataGrid=c;this._attachEvents()},_attachEvents:function(){this.own(l(this.dataGrid.Panel,"touchstart",m.hitch(this,"_onTouchStart")),l(this.dataGrid.Panel,"touchmove",m.hitch(this,"_onTouchMove")),l(this.dataGrid.Panel,"touchend",m.hitch(this,"_onTouchEnd")))},_scroll:function(c,e){var f=this.dataGrid.Panel;f.scrollLeft+=c;f.scrollTop+=e}})})},"dijit/_Contained":function(){define(["dojo/_base/declare",
"./registry"],function(n,m){return n("dijit._Contained",null,{_getSibling:function(l){var k=this.domNode;do k=k[l+"Sibling"];while(k&&1!=k.nodeType);return k&&m.byNode(k)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var l=this.getParent();return l&&l.getIndexOfChild?l.getIndexOfChild(this):-1}})})},"dojox/grid/_Builder":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/window dojo/_base/event dojo/_base/sniff dojo/_base/connect dojo/dnd/Moveable dojox/html/metrics ./util dojo/_base/html dojo/dom-geometry".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p){var r=n.grid,s=function(a){return 0<=a.rowIndex?a.rowIndex:m.indexOf(a.parentNode.childNodes,a)},t=function(a,d){return a&&((a.rows||0)[d]||a.childNodes[d])},q=function(a){for(;a&&"TABLE"!=a.tagName;a=a.parentNode);return a},u=function(a){var d=a.toUpperCase();return function(a){return a.tagName!=d}},v=a.rowIndexTag,x=a.gridViewTag,y=r._Builder=l.extend(function(a){a&&(this.view=a,this.grid=a.grid)},{view:null,_table:'\x3ctable class\x3d"dojoxGridRowTable" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"presentation"',
getTableArray:function(){var a=[this._table];this.view.viewWidth&&a.push([' style\x3d"width:',this.view.viewWidth,';"'].join(""));a.push("\x3e");return a},generateCellMarkup:function(a,d,b,c){var e=[],f;c?(f=a.index!=a.grid.getSortIndex()?"":0<a.grid.sortInfo?'aria-sort\x3d"ascending"':'aria-sort\x3d"descending"',a.id||(a.id=this.grid.id+"Hdr"+a.index),f=['\x3cth tabIndex\x3d"-1" aria-readonly\x3d"true" role\x3d"columnheader"',f,' id\x3d"',a.id,'"']):f=['\x3ctd tabIndex\x3d"-1" role\x3d"gridcell"',
this.grid.editable&&!a.editable?'aria-readonly\x3d"true"':""];a.colSpan&&f.push(' colspan\x3d"',a.colSpan,'"');a.rowSpan&&f.push(' rowspan\x3d"',a.rowSpan,'"');f.push(' class\x3d"dojoxGridCell ');a.classes&&f.push(a.classes," ");b&&f.push(b," ");e.push(f.join(""));e.push("");f=['" idx\x3d"',a.index,'" style\x3d"'];d&&";"!=d[d.length-1]&&(d+=";");f.push(a.styles,d||"",a.hidden?"display:none;":"");a.unitWidth&&f.push("width:",a.unitWidth,";");e.push(f.join(""));e.push("");f=['"'];a.attrs&&f.push(" ",
a.attrs);f.push("\x3e");e.push(f.join(""));e.push("");e.push(c?"\x3c/th\x3e":"\x3c/td\x3e");return e},isCellNode:function(a){return Boolean(a&&a!=k.doc&&d.attr(a,"idx"))},getCellNodeIndex:function(a){return a?Number(d.attr(a,"idx")):-1},getCellNode:function(a,d){for(var b=0,c;(c=t(a.firstChild,b))&&c.cells;b++)for(var f=0,e;e=c.cells[f];f++)if(this.getCellNodeIndex(e)==d)return e;return null},findCellTarget:function(a,d){for(var b=a;b&&(!this.isCellNode(b)||b.offsetParent&&x in b.offsetParent.parentNode&&
b.offsetParent.parentNode[x]!=this.view.id)&&b!=d;)b=b.parentNode;return b!=d?b:null},baseDecorateEvent:function(a){a.dispatch="do"+a.type;a.grid=this.grid;a.sourceView=this.view;a.cellNode=this.findCellTarget(a.target,a.rowNode);a.cellIndex=this.getCellNodeIndex(a.cellNode);a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null},findTarget:function(a,d){for(var b=a;b&&b!=this.domNode&&(!(d in b)||x in b&&b[x]!=this.view.id);)b=b.parentNode;return b!=this.domNode?b:null},findRowTarget:function(a){return this.findTarget(a,
v)},isIntraNodeEvent:function(a){try{return a.cellNode&&a.relatedTarget&&d.isDescendant(a.relatedTarget,a.cellNode)}catch(b){return!1}},isIntraRowEvent:function(a){try{var d=a.relatedTarget&&this.findRowTarget(a.relatedTarget);return!d&&-1==a.rowIndex||d&&a.rowIndex==d.gridRowIndex}catch(b){return!1}},dispatchEvent:function(a){return a.dispatch in this?this[a.dispatch](a):!1},domouseover:function(a){a.cellNode&&a.cellNode!=this.lastOverCellNode&&(this.lastOverCellNode=a.cellNode,this.grid.onMouseOver(a));
this.grid.onMouseOverRow(a)},domouseout:function(a){if(a.cellNode&&a.cellNode==this.lastOverCellNode&&!this.isIntraNodeEvent(a,this.lastOverCellNode)&&(this.lastOverCellNode=null,this.grid.onMouseOut(a),!this.isIntraRowEvent(a)))this.grid.onMouseOutRow(a)},domousedown:function(a){if(a.cellNode)this.grid.onMouseDown(a);this.grid.onMouseDownRow(a)},_getTextDirStyle:function(a,d,b){return""}});n=r._ContentBuilder=l.extend(function(a){y.call(this,a)},y.prototype,{update:function(){this.prepareHtml()},
prepareHtml:function(){for(var a=this.grid.get,d=this.view.structure.cells,b=0,c;c=d[b];b++)for(var f=0,e;e=c[f];f++)e.get=e.get||void 0==e.value&&a,e.markup=this.generateCellMarkup(e,e.cellStyles,e.cellClasses,!1),!this.grid.editable&&e.editable&&(this.grid.editable=!0)},generateHtml:function(d,b){var c=this.getTableArray(),e,f=this.view.structure.cells,p=this.grid.getItem(b);a.fire(this.view,"onBeforeRow",[b,f]);for(var g=0,q;q=f[g];g++)if(!q.hidden&&!q.header){c.push(q.invisible?'\x3ctr class\x3d"dojoxGridInvisible"\x3e':
"\x3ctr\x3e");for(var k=0,r,s,t;r=q[k];k++)s=r.markup,e=r.customClasses=[],t=r.customStyles=[],s[5]=r.format(b,p),s[1]=e.join(" "),s[3]=t.join(";"),(e=r.textDir||this.grid.textDir)&&(s[3]+=this._getTextDirStyle(e,r,b)),c.push.apply(c,s);c.push("\x3c/tr\x3e")}c.push("\x3c/table\x3e");return c.join("")},decorateEvent:function(a){a.rowNode=this.findRowTarget(a.target);if(!a.rowNode)return!1;a.rowIndex=a.rowNode[v];this.baseDecorateEvent(a);a.cell=this.grid.getCell(a.cellIndex);return!0}});var w=r._HeaderBuilder=
l.extend(function(a){this.moveable=null;y.call(this,a)},y.prototype,{_skipBogusClicks:!1,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap?this.tableMap.mapRows(this.view.structure.cells):this.tableMap=new r._TableMap(this.view.structure.cells)},generateHtml:function(d,b){var c,e=this.getTableArray(),f=this.view.structure.cells;a.fire(this.view,"onBeforeRow",[-1,f]);for(var p=0,g;g=f[p];p++)if(!g.hidden){e.push(g.invisible?'\x3ctr class\x3d"dojoxGridInvisible"\x3e':"\x3ctr\x3e");for(var q=
0,k,r;k=g[q];q++)k.customClasses=[],k.customStyles=[],this.view.simpleStructure&&(k.draggable&&(k.headerClasses?-1==k.headerClasses.indexOf("dojoDndItem")&&(k.headerClasses+=" dojoDndItem"):k.headerClasses="dojoDndItem"),k.attrs?-1==k.attrs.indexOf("dndType\x3d'gridColumn_")&&(k.attrs+=" dndType\x3d'gridColumn_"+this.grid.id+"'"):k.attrs="dndType\x3d'gridColumn_"+this.grid.id+"'"),r=this.generateCellMarkup(k,k.headerStyles,k.headerClasses,!0),r[5]=void 0!=b?b:d(k),r[3]=k.customStyles.join(";"),(c=
k.textDir||this.grid.textDir)&&(r[3]+=this._getTextDirStyle(c,k,b)),r[1]=k.customClasses.join(" "),e.push(r.join(""));e.push("\x3c/tr\x3e")}e.push("\x3c/table\x3e");return e.join("")},getCellX:function(a){var d;d=u("th");for(var b=a.target;b&&d(b);b=b.parentNode);(d=b)?(d=p.position(d),a=a.clientX-d.x):a=a.layerX;return a},decorateEvent:function(a){this.baseDecorateEvent(a);a.rowIndex=-1;a.cellX=this.getCellX(a);return!0},prepareResize:function(a,d){do{var b=a.cellIndex;a.cellNode=b?a.cellNode.parentNode.cells[b+
d]:null;a.cellIndex=a.cellNode?this.getCellNodeIndex(a.cellNode):-1}while(a.cellNode&&"none"==a.cellNode.style.display);return Boolean(a.cellNode)},canResize:function(a){if(!a.cellNode||1<a.cellNode.colSpan)return!1;a=this.grid.getCell(a.cellIndex);return!a.noresize&&a.canResize()},overLeftResizeArea:function(a){if(d.hasClass(k.body(),"dojoDndMove"))return!1;if(c("ie")){var b=a.target;if(d.hasClass(b,"dojoxGridArrowButtonNode")||d.hasClass(b,"dojoxGridArrowButtonChar")||d.hasClass(b,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?
0<a.cellIndex&&0<a.cellX&&a.cellX<this.overResizeWidth&&this.prepareResize(a,-1):a.cellNode&&0<a.cellX&&a.cellX<this.overResizeWidth},overRightResizeArea:function(a){if(d.hasClass(k.body(),"dojoDndMove"))return!1;if(c("ie")){var b=a.target;if(d.hasClass(b,"dojoxGridArrowButtonNode")||d.hasClass(b,"dojoxGridArrowButtonChar")||d.hasClass(b,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?a.cellNode&&a.cellX>=a.cellNode.offsetWidth-this.overResizeWidth:0<a.cellIndex&&a.cellX>=a.cellNode.offsetWidth-
this.overResizeWidth&&this.prepareResize(a,-1)},domousemove:function(a){if(!this.moveable){var b=this.overRightResizeArea(a)?"dojoxGridColResize":this.overLeftResizeArea(a)?"dojoxGridColResize":"";b&&!this.canResize(a)&&(b="dojoxGridColNoResize");d.toggleClass(a.sourceView.headerNode,"dojoxGridColNoResize","dojoxGridColNoResize"==b);d.toggleClass(a.sourceView.headerNode,"dojoxGridColResize","dojoxGridColResize"==b);b&&g.stop(a)}},domousedown:function(a){this.moveable||((this.overRightResizeArea(a)||
this.overLeftResizeArea(a))&&this.canResize(a)?this.beginColumnResize(a):(this.grid.onMouseDown(a),this.grid.onMouseOverRow(a)))},doclick:function(a){return this._skipBogusClicks?(g.stop(a),!0):!1},colResizeSetup:function(a,e){var f=d.contentBox(a.sourceView.headerNode);if(e){this.lineDiv=document.createElement("div");var p=d.position(a.sourceView.headerNode,!0),g=d.contentBox(a.sourceView.domNode),q=a.pageX;!this.grid.isLeftToRight()&&8>c("ie")&&(q-=b.getScrollbar().w);d.style(this.lineDiv,{top:p.y+
"px",left:q+"px",height:g.h+f.h+"px"});d.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=q;k.body().appendChild(this.lineDiv)}for(var p=[],g=this.tableMap.findOverlappingNodes(a.cellNode),q=0,r;r=g[q];q++)p.push({node:r,index:this.getCellNodeIndex(r),width:r.offsetWidth});g=a.sourceView;r=this.grid.isLeftToRight()?1:-1;for(var s=a.grid.views.views,q=[],t=g.idx+r,l;l=s[t];t+=r)q.push({node:l.headerNode,left:window.parseInt(l.headerNode.style.left)});r=g.headerContentNode.firstChild;
return{scrollLeft:a.sourceView.headerNode.scrollLeft,view:g,node:a.cellNode,index:a.cellIndex,w:d.contentBox(a.cellNode).w,vw:f.w,table:r,tw:d.contentBox(r).w,spanners:p,followers:q}},beginColumnResize:function(a){this.moverDiv=document.createElement("div");d.style(this.moverDiv,{position:"absolute",left:0});k.body().appendChild(this.moverDiv);d.addClass(this.grid.domNode,"dojoxGridColumnResizing");var b=this.moveable=new f(this.moverDiv),c=this.colResizeSetup(a,!0);b.onMove=l.hitch(this,"doResizeColumn",
c);e.connect(b,"onMoveStop",l.hitch(this,function(){this.endResizeColumn(c);c.node.releaseCapture&&c.node.releaseCapture();this.moveable.destroy();delete this.moveable;this.moveable=null;d.removeClass(this.grid.domNode,"dojoxGridColumnResizing")}));a.cellNode.setCapture&&a.cellNode.setCapture();b.onMouseDown(a)},doResizeColumn:function(a,b,c){var e=c.l,e={deltaX:e,w:a.w+(this.grid.isLeftToRight()?e:-e),vw:a.vw+e,tw:a.tw+e};this.dragRecord={inDrag:a,mover:b,leftTop:c};e.w>=this.minColWidth&&(b?d.style(this.lineDiv,
"left",this.lineDiv._origLeft+e.deltaX+"px"):this.doResizeNow(a,e))},endResizeColumn:function(a){if(this.dragRecord){var b=this.dragRecord.leftTop,b=this.grid.isLeftToRight()?b.l:-b.l,b=b+(Math.max(a.w+b,this.minColWidth)-(a.w+b));c("webkit")&&a.spanners.length&&(b+=d._getPadBorderExtents(a.spanners[0].node).w);this.doResizeNow(a,{deltaX:b,w:a.w+b,vw:a.vw+b,tw:a.tw+b});delete this.dragRecord}d.destroy(this.lineDiv);d.destroy(this.moverDiv);d.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=
!0;a.view.update();this._skipBogusClicks=!1;this.grid.onResizeColumn(a.index)},doResizeNow:function(a,d){a.view.convertColPctToFixed();if(a.view.flexCells&&!a.view.testFlexCells()){var b=q(a.node);b&&(b.style.width="")}for(var e,f,b=0;e=a.spanners[b];b++)f=e.width+d.deltaX,0<f&&(e.node.style.width=f+"px",a.view.setColWidth(e.index,f));if(this.grid.isLeftToRight()||!c("ie"))for(b=0;e=a.followers[b];b++)f=e.left+d.deltaX,e.node.style.left=f+"px";a.node.style.width=d.w+"px";a.view.setColWidth(a.index,
d.w);a.view.headerNode.style.width=d.vw+"px";a.view.setColumnsWidth(d.tw);this.grid.isLeftToRight()||(a.view.headerNode.scrollLeft=a.scrollLeft+d.deltaX)}});r._TableMap=l.extend(function(a){this.mapRows(a)},{map:null,mapRows:function(a){if(a.length){this.map=[];var d;for(d=0;a[d];d++)this.map[d]=[];for(var b=0;d=a[b];b++)for(var c=0,e=0,f,p;f=d[c];c++){for(;this.map[b][e];)e++;this.map[b][e]={c:c,r:b};p=f.rowSpan||1;f=f.colSpan||1;for(var g=0;g<p;g++)for(var q=0;q<f;q++)this.map[b+g][e+q]=this.map[b][e];
e+=f}}},dumpMap:function(){for(var a=0,d;d=this.map[a];a++)for(var b=0;d[b];b++);},getMapCoords:function(a,d){for(var b=0,c;c=this.map[b];b++)for(var e=0,f;f=c[e];e++)if(f.c==d&&f.r==a)return{j:b,i:e};return{j:-1,i:-1}},getNode:function(a,d,b){return(a=a&&a.rows[d])&&a.cells[b]},_findOverlappingNodes:function(a,d,b){var c=[];d=this.getMapCoords(d,b);b=0;for(var e;e=this.map[b];b++)b!=d.j&&(e=(e=e[d.i])?this.getNode(a,e.r,e.c):null)&&c.push(e);return c},findOverlappingNodes:function(a){return this._findOverlappingNodes(q(a),
s(a.parentNode),0<=a.cellIndex?a.cellIndex:m.indexOf(a.parentNode.cells,a))}});return{_Builder:y,_HeaderBuilder:w,_ContentBuilder:n}})},"tm1web/cubeview/ViewCellType":function(){define({NUM:"NUM",STR:"STR",ERR:"ERR"})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(n,m,l,k){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(g,
c){var e=this.containerNode;if(0<c){for(e=e.firstChild;0<c;)1==e.nodeType&&c--,e=e.nextSibling;e?c="before":(e=this.containerNode,c="last")}l.place(g.domNode,e,c);this._started&&!g._started&&g.startup()},removeChild:function(g){"number"==typeof g&&(g=this.getChildren()[g]);g&&(g=g.domNode)&&g.parentNode&&g.parentNode.removeChild(g)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(g,c){k.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.",
"","2.0");var e=this.getChildren(),f=n.indexOf(e,g);return e[f+c]},getIndexOfChild:function(g){return n.indexOf(this.getChildren(),g)}})})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){var u=l("dijit.layout._Splitter",
[r,s],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+
"_"+this.region},buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",d=c.getMarginBox(this.child.domNode)[a],b=n.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],a=c.getContentBox(b.domNode)[a]-10;return Math.min(this.child.maxSize,
d+a)},_startDrag:function(f){this.cover||(this.cover=g.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));k.add(this.cover,"dijitSplitterCoverActive");this.fake&&g.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),k.add(this.domNode,"dijitSplitterShadow"),g.place(this.fake,this.domNode,"after"));k.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&k.remove(this.fake,
"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var p=this._factor,q=this.horizontal,r=q?"pageY":"pageX",s=f[r],t=this.domNode.style,q=q?"h":"w",l=e.getComputedStyle(this.child.domNode),u=c.getMarginBox(this.child.domNode,l)[q],m=this._computeMaxSize(),n=Math.max(this.child.minSize,c.getPadBorderExtents(this.child.domNode,l)[q]+10),q=this.region,v="top"==q||"bottom"==q?"top":"left",P=parseInt(t[v],10),I=this._resize,J=b.hitch(this.container,"_layoutChildren",this.child.id),q=
this.ownerDocument;this._handlers=this._handlers.concat([a(q,d.move,this._drag=function(a,d){var b=a[r]-s,c=p*b+u,e=Math.max(Math.min(c,m),n);(I||d)&&J(e);t[v]=b+P+p*(e-c)+"px"}),a(q,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),a(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();a.preventDefault()}),a(q,d.release,b.hitch(this,"_stopDrag"))]);f.stopPropagation();f.preventDefault()},_onMouse:function(a){a="mouseover"==a.type||"mouseenter"==a.type;k.toggle(this.domNode,
"dijitSplitterHover",a);k.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&k.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&g.destroy(this.fake),k.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&m(this._cookieName,this.child.domNode.style[this.horizontal?"height":
"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var d=this.horizontal,b=1;switch(a.keyCode){case d?f.UP_ARROW:f.LEFT_ARROW:b*=-1;case d?f.DOWN_ARROW:f.RIGHT_ARROW:break;default:return}d=c.getMarginSize(this.child.domNode)[d?"h":"w"]+this._factor*b;this.container._layoutChildren(this.child.id,Math.max(Math.min(d,this._computeMaxSize()),this.child.minSize));a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();
delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),v=l("dijit.layout._Gutter",[r,s],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}});l=l("dijit.layout.BorderContainer",t,{gutters:!0,liveSplitters:!0,
persist:!1,baseClass:"dijitBorderContainer",_splitterClass:u,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var d=a.region,c=a.isLeftToRight();"leading"==d&&(d=c?"left":"right");"trailing"==d&&(d=c?"right":"left");d&&"center"!=d&&(a.splitter||this.gutters)&&!a._splitterWidget&&(c=a.splitter?this._splitterClass:v,b.isString(c)&&(c=b.getObject(c)),c=new c({id:a.id+"_splitter",container:this,child:a,
region:d,live:this.liveSplitters}),c.isSplitter=!0,a._splitterWidget=c,d="bottom"==d||d==(this.isLeftToRight()?"right":"left"),g.place(c.domNode,a.domNode,d?"before":"after"),c.startup())},layout:function(){this._layoutChildren()},removeChild:function(a){var d=a._splitterWidget;d&&(d.destroy(),delete a._splitterWidget);this.inherited(arguments)},getChildren:function(){return n.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(a){return n.filter(this.getChildren(),
function(d){return d.region==a})[0]._splitterWidget},resize:function(a,d){if(!this.cs||!this.pe){var b=this.domNode;this.cs=e.getComputedStyle(b);this.pe=c.getPadExtents(b,this.cs);this.pe.r=e.toPixelValue(b,this.cs.paddingRight);this.pe.b=e.toPixelValue(b,this.cs.paddingBottom);e.set(b,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,d){if(this._borderBox&&this._borderBox.h){var b=[];n.forEach(this._getOrderedChildren(),function(a){b.push(a);a._splitterWidget&&b.push(a._splitterWidget)});
q.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},b,a,d)}},destroyRecursive:function(){n.forEach(this.getChildren(),function(a){var d=a._splitterWidget;d&&d.destroy();delete a._splitterWidget});this.inherited(arguments)}});l.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};b.mixin(l.ChildWidgetProperties,t.ChildWidgetProperties);b.extend(p,l.ChildWidgetProperties);l._Splitter=u;l._Gutter=v;return l})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r){return m("dojo.dnd.Mover",[b],{constructor:function(b,e,f){function p(a){a.preventDefault();a.stopPropagation()}this.node=c.byId(b);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;e=this.host=f;b=b.ownerDocument;this.events=[a(b,d.move,l.hitch(this,"onFirstMove")),a(b,d.move,l.hitch(this,"onMouseMove")),a(b,d.release,l.hitch(this,"onMouseUp")),a(b,"dragstart",p),a(b.body,"selectstart",p)];r.autoScrollStart(b);if(e&&e.onMoveStart)e.onMoveStart(this)},
onMouseMove:function(a){r.autoScroll(a);var d=this.marginBox;this.host.onMove(this,{l:d.l+a.pageX,t:d.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(k("webkit")&&k("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var d=this.node.style,b,c=this.host;switch(d.position){case "relative":case "absolute":b=Math.round(parseFloat(d.left))||0;d=Math.round(parseFloat(d.top))||0;break;
default:d.position="absolute";d=e.getMarginBox(this.node);b=g.doc.body;var p=f.getComputedStyle(b),k=e.getMarginBox(b,p),p=e.getContentBox(b,p);b=d.l-(p.l-k.l);d=d.t-(p.t-k.t)}this.marginBox.l=b-this.marginBox.l;this.marginBox.t=d-this.marginBox.t;if(c&&c.onFirstMove)c.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){n.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"tm1web/cubeview/metrics/ImpactDiagramContent":function(){define(["dojo/_base/declare",
"dojo/json","./ImpactInteractivityHelper","./RaveChartContent"],function(n,m,l,k){return n(k,{constructor:function(g){this.RAVE_SPEC_LINK_DATA_SECTION=0;this.RAVE_SPEC_NAME_COLUMN=this.RAVE_SPEC_NODE_DATA_SECTION=1;this.RAVE_SPEC_STATUS_COLUMN=2;this.RAVE_SPEC_TREND_COLUMN=3;this._specToUpdate=null;null==this._interactivityHelper&&(this._interactivityHelper=new l,this._interactivityHelper.setupInteractivity(this._visWidget))},_setPersistState:function(g){this._specToUpdate=g?this._visWidget.getSpecification():
null},_setVizJsonSpec:function(g){null==this._specToUpdate?(this._visWidget.setSpec(m.parse(g.jsonString)),this._interactivityHelper.postRAVESpecSet()):this.updateSpec(g)?this._visWidget.setSpec(this._specToUpdate):(this._visWidget.setSpec(m.parse(g.vizJsonSpec)),this._interactivityHelper.postRAVESpecSet());g=m.parse(g.metricPopupData);this._interactivityHelper.setData(g)},updateSpec:function(g){g=m.parse(g.jsonString);var c=g.data[this.RAVE_SPEC_NODE_DATA_SECTION].fields[this.RAVE_SPEC_NAME_COLUMN].categories.toString(),
e=this._specToUpdate.data[this.RAVE_SPEC_NODE_DATA_SECTION].fields[this.RAVE_SPEC_NAME_COLUMN].categories.toString();if(g.data[this.RAVE_SPEC_LINK_DATA_SECTION].rows.toString()!==this._specToUpdate.data[this.RAVE_SPEC_LINK_DATA_SECTION].rows.toString()||c!==e)return!1;newNodeData=g.data[this.RAVE_SPEC_NODE_DATA_SECTION];for(g=0;g<newNodeData.rows.length;g++)this._specToUpdate.data[this.RAVE_SPEC_NODE_DATA_SECTION].rows[g][this.RAVE_SPEC_STATUS_COLUMN]=newNodeData.rows[g][this.RAVE_SPEC_STATUS_COLUMN],
this._specToUpdate.data[this.RAVE_SPEC_NODE_DATA_SECTION].rows[g][this.RAVE_SPEC_TREND_COLUMN]=newNodeData.rows[g][this.RAVE_SPEC_TREND_COLUMN];return!0},_removeInteractivityHelper:function(){this._interactivityHelper.disconnnectEvent()}})})},"tm1web/cubeview/TM1CubeViewGridPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dijit/layout/ContentPane ./CubeViewBase ./TM1CubeViewGrid".split(" "),function(n,m,l,k,g,c,e){return n([g,c],{constructor:function(c,b,a){this.TM1Grid=
null;this.ObjectId=a;this.InitializeTM1CubeViewGridPane()},InitializeTM1CubeViewGridPane:function(){this.TM1Grid=new e(this.ObjectId);l.after(this,"postCreate",m.hitch(this,"_InsertTM1Grid"),!0)},setClientConfig:function(c,b){this.TM1Grid.setClientConfig(c,b)},_InsertTM1Grid:function(){this.domNode.appendChild(this.TM1Grid.Panel);k.add(this.domNode,"tm1webTM1SpliterPane")},Update:function(c){this._destroyed||(c.gridData?(this.domNode.style.visibility="",this.TM1Grid.Update(c)):this.domNode.style.visibility=
"hidden")},Resize:function(){this.TM1Grid.Resize()}})})},"tm1web/cubeview/CubeViewHeader":function(){define("dojo/_base/declare dojo/_base/event dojo/topic dojo/aspect dojo/on dojo/dom-class ../utility/message-localizer ./GridBase ../share/TM1Utility ../share/service-loader!CubeViewService".split(" "),function(n,m,l,k,g,c,e,f,b,a){return n(f,{constructor:function(a){this.edgeState=this.SortDes=this.SortAsc=this.MinusIcon=this.PlusIcon=this.CollapseTooltip=this.ExpandTooltip=null;this.InitializeCubeViewHeader()},
InitializeCubeViewHeader:function(){this.ExpandTooltip=e.get("EXPAND_TOOLTIP_STR");this.CollapseTooltip=e.get("COLLAPSE_TOOLTIP_STR");this.SortAscTooltip=e.get("ASCENDING_STR");this.SortDesTooltip=e.get("DESCENDING_STR");this.TopBottomSortTooltip=e.get("TOP_OR_BOTTOM_STR");this.MinusIcon="tm1WebCubeViewMinusIcon";this.PlusIcon="tm1WebCubeViewPlusIcon";this.ColumnSortAscIcon="tm1WebCubeViewColumnAscendingIcon";this.ColumnSortDesIcon="tm1WebCubeViewColumnDecendingIcon";this.TopBottomSortIcon="tm1WebCubeViewTopBottomIcon"},
CreateContainer:function(){this.own(g(this.Grid,"contextmenu",function(a){a.preventDefault()}))},CreateDislayImage:function(a,b,e,f,k){var q=document.createElement("span");c.add(q,f);q.alt=k;q.title=k;var l=this;g(q,"click",function(a){l._Toggle(b,e.elementIndex,a)});a.appendChild(q)},CreateSortIndicator:function(a,b,e){var f=document.createElement("span");c.add(f,b);f.alt=e;f.title=e;c.add(f,"tm1webHeaderIndicator");a.appendChild(f)},CreateTopBottomSortIndicator:function(a,b,e){var f=document.createElement("span");
c.add(f,b);f.alt=e;f.title=e;c.add(f,"tm1webHeaderIndicator");a.appendChild(f)},_Toggle:function(d,b,c){a.Toggle(this.ObjectId,d,b,c.ctrlKey,{callback:this._OnToggle,scope:this})},_OnToggle:function(a){a.onToggle=!0;l.publish(this.ObjectId+"-UpdatePagingGrid",a)},RemoveContent:function(){this.RemoveChildren(this.Grid)}})})},"tm1web/mobile/_ScrollHandlerMixin":function(){define(["dojo/_base/declare","./_ScrollDeltaMixin"],function(n,m){return n(m,{_retainStartCoordinates:!1,_onTouchMove:function(l){!l.touches||
1<l.touches.length||(l.preventDefault(),this.inherited(arguments))},_handleTouchMove:function(l,k){this._scroll(l,k)},_scroll:function(l,k){}})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(n,m,l,k,g,c){function e(){for(var d=+new Date,c=0,e;c<a.length&&(e=a[c]);c++){var g=e.response,k=g.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(g)?
(a.splice(c--,1),f._onAction&&f._onAction()):e.isReady&&e.isReady(g)?(a.splice(c--,1),e.handleResponse(g),f._onAction&&f._onAction()):e.startTime&&e.startTime+(k.timeout||0)<d&&(a.splice(c--,1),e.cancel(new m("Timeout exceeded",g)),f._onAction&&f._onAction())}f._onInFlight&&f._onInFlight(e);a.length||(clearInterval(b),b=null)}function f(d){d.response.options.timeout&&(d.startTime=+new Date);d.isFulfilled()||(a.push(d),b||(b=setInterval(e,50)),d.response.options.sync&&e())}var b=null,a=[];f.cancelAll=
function(){try{k.forEach(a,function(a){try{a.cancel(new l("All requests canceled."))}catch(d){}})}catch(d){}};g&&c&&g.doc.attachEvent&&c(g.global,"unload",function(){f.cancelAll()});return f})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(n,m,l,k,g,c,e,f,b){return n("dijit.form.ComboBoxMixin",
[f,c],{dropDownClass:e,hasDownArrow:!0,templateString:b,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||k.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});
return b.promise},query:function(a,b){var c=new m(function(){e.abort&&e.abort()});c.total=new m;var e=this.fetch(k.mixin({query:a,onBegin:function(a){c.total.resolve(a)},onComplete:function(a){c.resolve(a)},onError:function(a){c.reject(a)}},b));return g(c)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var d=this.declaredClass;k.mixin(this.store,{getValue:function(a,
b){l.deprecated(d+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[b]},getLabel:function(a){l.deprecated(d+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){l.deprecated(d+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],k.hitch(this,function(d){(new d({objectStore:this})).fetch(a)}))}})}}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y){function w(a){return function(d){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(f.hitch(this,a,d))}}var z=m("dijit.form._SelectMenu",r,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,d=this.parentWidget.value;
f.isArray(d)&&(d=d[d.length-1]);d&&n.forEach(this.parentWidget._getChildren(),function(b){b.option&&d===b.option.value&&(a=!0,this.focusChild(b,!1))},this);a||this.inherited(arguments)}});g=m("dijit.form.Select"+(a("dojo-bidi")?"_NoBidi":""),[d,p,u],{baseClass:"dijitSelect dijitValidationTextBox",templateString:x,_buttonInputDisabled:a("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new z({id:this.id+"_menu",parentWidget:this});k.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(a.value||a.label){var d=f.hitch(this,"_setValueAttr",a);a=new s({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,
onClick:d,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a}return new t({ownerDocument:this.ownerDocument})},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",
a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=v.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,d,b,c){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{n.forEach(this._getChildren(),function(a){a.destroyRecursive()});
var d=new s({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(d)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);l.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",
_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=("text"===this.labelType?(a||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,
"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var d=a?"":this._missingMsg;d&&this.focused&&this._hasBeenBlurred?q.show(d,this.domNode,this.tooltipPosition,!this.isLeftToRight()):q.hide(this.domNode);this._set("message",d);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);
q.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=(c.getLocalization("dijit.form","validate",this.lang)||y).missingMessage},postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var a=this._keyNavCodes;delete a[e.LEFT_ARROW];delete a[e.RIGHT_ARROW]},_setStyleAttr:function(a){this.inherited(arguments);
k.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);q.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){q.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
a("dojo-bidi")&&(g=m("dijit.form.Select",g,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));g._Menu=z;g.prototype._onContainerKeydown=w("_onContainerKeydown");g.prototype._onContainerKeypress=w("_onContainerKeypress");return g})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u){var v=k("dijit.Calendar",[r,s,t],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){f.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new v._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"keydown",a.hitch(this,"_onKeyDown")),d(this.dateRowsNode,"mouseover",a.hitch(this,"_onDayMouseOver")),d(this.dateRowsNode,"mouseout",a.hitch(this,"_onDayMouseOut")),d(this.dateRowsNode,"mousedown",a.hitch(this,"_onDayMouseDown")),d(this.dateRowsNode,"mouseup",a.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var d=
new this.dateClassObj(this.currentFocus);d.setDate(1);d.setMonth(a);a=this.dateModule.getDaysInMonth(d);var b=this.currentFocus.getDate();d.setDate(Math.min(b,a));this._setCurrentFocusAttr(d)},_onDayMouseOver:function(a){(a=c.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(c.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||
a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",c.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),c.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")&&(c.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&c.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var d=-1,c,e=this.currentFocus;switch(a.keyCode){case b.RIGHT_ARROW:d=1;case b.LEFT_ARROW:c="day";this.isLeftToRight()||(d*=-1);break;case b.DOWN_ARROW:d=1;case b.UP_ARROW:c="week";break;case b.PAGE_DOWN:d=1;case b.PAGE_UP:c=a.ctrlKey||a.altKey?"year":"month";break;case b.END:e=this.dateModule.add(e,"month",1),c="day";case b.HOME:e=new this.dateClassObj(e);e.setDate(1);break;default:return!0}c&&(e=this.dateModule.add(e,c,d));this._setCurrentFocusAttr(e);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});v._MonthDropDownButton=k("dijit.Calendar._MonthDropDownButton",u,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new v._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
d);this.containerNode.innerHTML=(6==p("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+d[a.getMonth()]+"\x3c/div\x3e"}});v._MonthDropDown=k("dijit.Calendar._MonthDropDown",[s,q,t],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";n.forEach(a,function(a,d){e.create("div",{className:"dijitCalendarMonthLabel",month:d,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(g.get(a.target,"month"))},onChange:function(){}});return v})},"tm1web/mobile/on/tap":function(){define(["dojox/gesture/tap","../sniff"],function(n,m){return m("mobile-device")?n:"click"})},"dojo/topic":function(){define(["./Evented"],function(n){var m=new n;return{publish:function(l,k){return m.emit.apply(m,
arguments)},subscribe:function(l,k){return m.on.apply(m,arguments)}}})},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(n,m,l){var k=n.getObject("validate.regexp",!0,l);return k=l.validate.regexp={ipAddress:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowDottedDecimal&&(g.allowDottedDecimal=!0);"boolean"!=typeof g.allowDottedHex&&(g.allowDottedHex=!0);"boolean"!=typeof g.allowDottedOctal&&(g.allowDottedOctal=!0);"boolean"!=typeof g.allowDecimal&&
(g.allowDecimal=!0);"boolean"!=typeof g.allowHex&&(g.allowHex=!0);"boolean"!=typeof g.allowIPv6&&(g.allowIPv6=!0);"boolean"!=typeof g.allowHybrid&&(g.allowHybrid=!0);var c=[];g.allowDottedDecimal&&c.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");g.allowDottedHex&&c.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");g.allowDottedOctal&&c.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");g.allowDecimal&&c.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
g.allowHex&&c.push("0[xX]0*[\\da-fA-F]{1,8}");g.allowIPv6&&c.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");g.allowHybrid&&c.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");g="";0<c.length&&(g="("+c.join("|")+")");return g},host:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowIP&&(g.allowIP=!0);"boolean"!=typeof g.allowLocal&&(g.allowLocal=!1);"boolean"!=typeof g.allowPort&&(g.allowPort=!0);"boolean"!=typeof g.allowNamed&&
(g.allowNamed=!1);var c=g.allowPort?"(\\:\\d+)?":"",e="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";g.allowIP&&(e+="|"+k.ipAddress(g));g.allowLocal&&(e+="|localhost");g.allowNamed&&(e+="|^[^-][a-zA-Z0-9_-]*");return"("+e+")"+c},url:function(g){g="object"==typeof g?g:{};"scheme"in g||(g.scheme=[!0,!1]);return m.buildGroupRE(g.scheme,function(c){return c?"(https?|ftps?)\\://":""})+k.host(g)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowCruft&&(g.allowCruft=!1);g.allowPort=!1;var c="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+k.host(g);g.allowCruft&&(c="\x3c?(mailto\\:)?"+c+"\x3e?");return c},emailAddressList:function(g){g="object"==typeof g?g:{};"string"!=typeof g.listSeparator&&(g.listSeparator="\\s;,");var c=k.emailAddress(g);return"("+c+"\\s*["+g.listSeparator+"]\\s*)*"+c+"\\s*["+g.listSeparator+"]?\\s*"},numberFormat:function(g){g=
"object"==typeof g?g:{};"undefined"==typeof g.format&&(g.format="###-###-####");return m.buildGroupRE(g.format,function(c){return m.escapeString(c,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(g){g="object"==typeof g?g:{};"boolean"!=typeof g.allowTerritories&&(g.allowTerritories=!0);"boolean"!=typeof g.allowMilitary&&(g.allowMilitary=!0);
var c="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";g.allowTerritories&&(c+="|AS|FM|GU|MH|MP|PW|PR|VI");g.allowMilitary&&(c+="|AA|AE|AP");return"("+c+")"}}}})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(n,m,l,k,g){var c={};n.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(e){c[e]=k[e]});l.mixin(c,{defaultDuration:m.defaultDuration||200});l.mixin(g,c);return g})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),function(n,m,l,k,g,c,e,f,b){l=l("dojo.data.ItemFileReadStore",[c],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=
a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return b.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==a.urlPreventCache&&(this.urlPreventCache=a.urlPreventCache?
!0:!1);void 0!==a.hierarchical&&(this.hierarchical=a.hierarchical?!0:!1);a.clearOnClose&&(this.clearOnClose=!0);"failOk"in a&&(this.failOk=a.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,
d,b){a=this.getValues(a,d);return 0<a.length?a[0]:b},getValues:function(a,d){this._assertIsItem(a);this._assertIsAttribute(d);return(a[d]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var d=[],b;for(b in a)b!==this._storeRefPropName&&b!==this._itemNumPropName&&b!==this._rootItemPropName&&b!==this._reverseRefMap&&d.push(b);return d},hasAttribute:function(a,d){this._assertIsItem(a);this._assertIsAttribute(d);return d in a},containsValue:function(a,d,b){var c=void 0;"string"===typeof b&&
(c=e.patternToRegExp(b,!1));return this._containsValue(a,d,b,c)},_containsValue:function(a,d,b,c){return k.some(this.getValues(a,d),function(a){if(null!==a&&!m.isObject(a)&&c){if(a.toString().match(c))return!0}else if(b===a)return!0})},isItem:function(a){return a&&a[this._storeRefPropName]===this&&this._arrayOfAllItems[a[this._itemNumPropName]]===a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},
getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},getLabelAttributes:function(a){return this._labelAttr?[this._labelAttr]:null},filter:function(a,d,b){var c=[],f,g;if(a.query){var q;f=a.queryOptions?a.queryOptions.ignoreCase:!1;var k={};for(g in a.query)q=a.query[g],"string"===typeof q?k[g]=e.patternToRegExp(q,f):q instanceof RegExp&&(k[g]=q);for(f=0;f<d.length;++f){var l=!0,m=d[f];if(null===m)l=!1;else for(g in a.query)q=a.query[g],this._containsValue(m,
g,q,k[g])||(l=!1);l&&c.push(m)}}else for(f=0;f<d.length;++f)g=d[f],null!==g&&c.push(g);b(c,a)},_fetchItems:function(a,d,b){var c=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),d);else if(this._jsonFileUrl!==this._ccUrl?(n.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=
this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:m.hitch(c,"filter"),findCallback:m.hitch(c,d)});else{this._loadInProgress=!0;var e=g.get({url:c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});e.addCallback(function(e){try{c._getItemsFromLoadedData(e),c._loadFinished=!0,c._loadInProgress=!1,c.filter(a,c._getItemsArray(a.queryOptions),d),c._handleQueuedFetches()}catch(f){c._loadFinished=
!0,c._loadInProgress=!1,b(f,a)}});e.addErrback(function(d){c._loadInProgress=!1;b(d,a)});var f=null;a.abort&&(f=a.abort);a.abort=function(){e&&-1===e.fired&&e.cancel();f&&f.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,c.filter(a,this._getItemsArray(a.queryOptions),d)}catch(q){b(q,a)}else b(Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),a)},_handleQueuedFetches:function(){if(0<
this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var d=this._queuedFetches[a],b=d.args,c=d.filter,d=d.findCallback;c?c(b,this._getItemsArray(b.queryOptions),d):this.fetchItemByIdentity(b)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(a){this.clearOnClose&&this._loadFinished&&!this._loadInProgress&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=
null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(a){function d(a){return null!==a&&"object"===typeof a&&(!m.isArray(a)||c)&&!m.isFunction(a)&&(a.constructor==Object||m.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===typeof a._type&&"undefined"===typeof a._value&&e.hierarchical}function b(a){e._arrayOfAllItems.push(a);for(var c in a){var f=a[c];if(f)if(m.isArray(f))for(var g=0;g<f.length;++g){var q=f[g];d(q)&&b(q)}else d(f)&&b(f)}}var c=!1,e=this;
this._labelAttr=a.label;var f,g;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(f=0;f<this._arrayOfTopLevelItems.length;++f)g=this._arrayOfTopLevelItems[f],m.isArray(g)&&(c=!0),b(g),g[this._rootItemPropName]=!0;var k={},l;for(f=0;f<this._arrayOfAllItems.length;++f)for(l in g=this._arrayOfAllItems[f],g){if(l!==this._rootItemPropName){var n=g[l];null!==n?m.isArray(n)||(g[l]=[n]):g[l]=[null]}k[l]=l}for(;k[this._storeRefPropName];)this._storeRefPropName+="_";for(;k[this._itemNumPropName];)this._itemNumPropName+=
"_";for(;k[this._reverseRefMap];)this._reverseRefMap+="_";if(k=a.identifier)for(this._itemsByIdentity={},this._features["dojo.data.api.Identity"]=k,f=0;f<this._arrayOfAllItems.length;++f)if(g=this._arrayOfAllItems[f],a=g[k],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+k+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+
":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+k+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=g;else this._features["dojo.data.api.Identity"]=Number;for(f=0;f<this._arrayOfAllItems.length;++f)g=this._arrayOfAllItems[f],g[this._storeRefPropName]=this,g[this._itemNumPropName]=f;for(f=0;f<this._arrayOfAllItems.length;++f)for(l in g=this._arrayOfAllItems[f],g)for(a=g[l],k=0;k<a.length;++k)if(n=a[k],null!==n&&"object"==typeof n){if("_type"in
n&&"_value"in n){var y=n._type,w=this._datatypeMap[y];if(w)if(m.isFunction(w))a[k]=new w(n._value);else if(m.isFunction(w.deserialize))a[k]=w.deserialize(n._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+y+"'");}if(n._reference){n=n._reference;if(m.isObject(n))for(y=
0;y<this._arrayOfAllItems.length;++y){var w=this._arrayOfAllItems[y],z=!0,B;for(B in n)w[B]!=n[B]&&(z=!1);z&&(a[k]=w)}else a[k]=this._getItemByIdentity(n);this.referenceIntegrity&&(n=a[k],this.isItem(n)&&this._addReferenceToMap(n,g,l))}else this.isItem(n)&&this.referenceIntegrity&&this._addReferenceToMap(n,g,l)}},_addReferenceToMap:function(a,d,b){},getIdentity:function(a){var d=this._features["dojo.data.api.Identity"];return d===Number?a[this._itemNumPropName]:(a=a[d])?a[0]:null},fetchItemByIdentity:function(a){var d,
b;if(this._loadFinished)d=this._getItemByIdentity(a.identity),a.onItem&&(b=a.scope?a.scope:n.global,a.onItem.call(b,d));else{var c=this;this._jsonFileUrl!==this._ccUrl?(n.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=
null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,b=g.get({url:c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),b.addCallback(function(b){var e=a.scope?a.scope:n.global;try{c._getItemsFromLoadedData(b),c._loadFinished=!0,c._loadInProgress=!1,d=c._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(e,d),c._handleQueuedFetches()}catch(f){c._loadInProgress=!1,a.onError&&a.onError.call(e,f)}}),
b.addErrback(function(d){c._loadInProgress=!1;a.onError&&a.onError.call(a.scope?a.scope:n.global,d)})):this._jsonData&&(c._getItemsFromLoadedData(c._jsonData),c._jsonData=null,c._loadFinished=!0,d=c._getItemByIdentity(a.identity),a.onItem&&(b=a.scope?a.scope:n.global,a.onItem.call(b,d)))}},_getItemByIdentity:function(a){var d=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(d=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,a)&&(d=this._arrayOfAllItems[a]);
void 0===d&&(d=null);return d},getIdentityAttributes:function(a){a=this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;this._jsonFileUrl!==this._ccUrl?(n.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=this.data&&(this._jsonData=this.data,
this.data=null);if(this._jsonFileUrl){var d=g.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});d.addCallback(function(d){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(d),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(b){throw b;}});d.addErrback(function(a){throw a;})}else this._jsonData&&
(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0)}});m.extend(l,f);return l})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(n,m,l,k,g){return n("dijit.form.ComboButton",k,{templateString:g,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",
titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(c){c.keyCode==m[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(l.focus(this._popupStateNode),c.stopPropagation(),c.preventDefault())},_onArrowKeyDown:function(c){c.keyCode==m[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(l.focus(this.titleNode),c.stopPropagation(),c.preventDefault())},focus:function(c){this.disabled||l.focus("start"==c?this.titleNode:this._popupStateNode)}})})},
"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(n,m,l,k){return n("dijit.form.RangeBoundTextBox",l,{rangeMessage:"",rangeCheck:function(g,c){return("min"in c?0<=this.compare(g,c.min):!0)&&("max"in c?0>=this.compare(g,c.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var g=this.get("value");if(null==g)return!1;var c=!1;"min"in this.constraints&&
(c=this.constraints.min,c=0>this.compare(g,"number"==typeof c&&0<=c&&0!=g?0:c));!c&&"max"in this.constraints&&(c=this.constraints.max,c=0<this.compare(g,"number"!=typeof c||0<c?c:0));return c},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(g){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(g))},getErrorMessage:function(g){var c=this.get("value");return null==c||""===c||"number"==typeof c&&
isNaN(c)||this.isInRange(g)?this.inherited(arguments):this.rangeMessage},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=m.getLocalization("dijit.form","validate",this.lang)||k,this.rangeMessage=this.messages.rangeMessage)}})})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(n,m,l){function k(b){if("string"==typeof b||b instanceof String){if(b&&!c.test(b))return e[0]=b,e;b=b.split(c);b.length&&!b[0]&&b.shift();b.length&&
!b[b.length-1]&&b.pop();return b}return b?m.filter(b,function(a){return a}):[]}var g,c=/\s+/,e=[""],f={};return g={contains:function(b,a){return 0<=(" "+l.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=l.byId(b);a=k(a);var d=b.className,c,d=d?" "+d+" ":" ";c=d.length;for(var e=0,f=a.length,g;e<f;++e)(g=a[e])&&0>d.indexOf(" "+g+" ")&&(d+=g+" ");c<d.length&&(b.className=d.substr(1,d.length-2))},remove:function(b,a){b=l.byId(b);var d;if(void 0!==a){a=k(a);d=" "+b.className+" ";for(var c=
0,e=a.length;c<e;++c)d=d.replace(" "+a[c]+" "," ");d=n.trim(d)}else d="";b.className!=d&&(b.className=d)},replace:function(b,a,d){b=l.byId(b);f.className=b.className;g.remove(f,d);g.add(f,a);b.className!==f.className&&(b.className=f.className)},toggle:function(b,a,d){b=l.byId(b);if(void 0===d){a=k(a);for(var c=0,e=a.length,f;c<e;++c)f=a[c],g[g.contains(b,f)?"remove":"add"](b,f)}else g[d?"add":"remove"](b,a);return d}}})},"tm1web/cubeview/metrics/InteractivityHelper":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","./MetricTooltip"],function(n,m,l,k){return n(null,{visWidget:null,interactivity:null,popUpData:null,tooltipContent:null,mouseMoveHandler:null,mouseOutHandler:null,constructor:function(){this.metricTooltip=new k},setupInteractivity:function(g){this.visWidget=g;this.interactivity=this.visWidget.interactivity();this.attachEvent()},disconnnectEvent:function(){this.mouseMoveHandler&&this.mouseMoveHandler.remove();this.mouseOutHandler&&this.mouseOutHandler.remove()},attachEvent:function(){this.mouseMoveHandler=
l(this.visWidget,"mousemove",m.hitch(this,"visOnMouseMove"));this.mouseOutHandler=l(this.visWidget,"mouseout",m.hitch(this,"hideTooltip"))},setData:function(g){this.popUpData=g},postRAVESpecSet:function(){},getHitItems:function(g){var c=[];if(g){g=this.interactivity.getItemsAtPoint(g.pageX,g.pageY);for(var e=0;e<g.length;e++){c.push(g[e]);var f=g[e].getHitChildren();if(f)for(var b=0;b<f.length;b++)c.push(f[b])}}return c},visOnMouseMove:function(g){var c=this.getHitItems(g);this.isClickable(c);c=this.containsValidTooltipItem(c);
null!==c?this.tooltipItemText==c.tooltipText()&&this.metricTooltip.isTooltipShowing?this.metricTooltip.showTooltip(g.clientX,g.clientY):(this.tooltipItemText=c.tooltipText(),this.hideTooltip(),this.setTooltipContent(c),this.metricTooltip.showTooltip(g.clientX,g.clientY,null,800)):(this.tooltipItemText="",this.hideTooltip())},containsValidTooltipItem:function(g){return null},isClickable:function(g){return!1},hideTooltip:function(){this.tooltipContent=null;this.metricTooltip.hideTooltip()},setTooltipContent:function(g){}})})},
"dojox/html/entities":function(){define(["../main","dojo/_base/lang"],function(n,m){var l=m.getObject("html.entities",!0,n),k=function(c,e){var f,b;if(e._encCache&&e._encCache.regexp&&e._encCache.mapper&&e.length==e._encCache.length)f=e._encCache.mapper,b=e._encCache.regexp;else{f={};b=["["];var a;for(a=0;a<e.length;a++)f[e[a][0]]="\x26"+e[a][1]+";",b.push(e[a][0]);b.push("]");b=new RegExp(b.join(""),"g");e._encCache={mapper:f,regexp:b,length:e.length}}return c=c.replace(b,function(a){return f[a]})},
g=function(c,e){var f,b;if(e._decCache&&e._decCache.regexp&&e._decCache.mapper&&e.length==e._decCache.length)f=e._decCache.mapper,b=e._decCache.regexp;else{f={};b=["("];var a;for(a=0;a<e.length;a++){var d="\x26"+e[a][1]+";";a&&b.push("|");f[d]=e[a][0];b.push(d)}b.push(")");b=new RegExp(b.join(""),"g");e._decCache={mapper:f,regexp:b,length:e.length}}return c=c.replace(b,function(a){return f[a]})};l.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];l.latin=[["\u00a1",
"iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],
["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],
["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],
["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a",
"Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be",
"xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191",
"uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229",
"cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663",
"clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030",
"permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];l.encode=function(c,e){c&&(e?c=k(c,e):(c=k(c,l.html),c=k(c,l.latin)));return c};l.decode=function(c,e){c&&(e?c=g(c,e):(c=g(c,l.html),c=g(c,l.latin)));return c};return l})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(n,m,l,k,g,c,e,f,b,a){function d(a,d,b){return t&&b?function(a,d){return c(a,b,d)}:u?function(b,e){var f=c(b,d,function(a){e.call(this,
a);G=(new Date).getTime()}),g=c(b,a,function(a){(!G||(new Date).getTime()>G+1E3)&&e.call(this,a)});return{remove:function(){f.remove();g.remove()}}}:function(d,b){return c(d,a,b)}}function p(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function r(d,b,e){if(!f.isRight(d)){var g=p(d.target);if(x=!d.target.disabled&&g&&g.dojoClick)if(w=(y="useTarget"==x)?g:d.target,y&&d.preventDefault(),z=d.changedTouches?d.changedTouches[0].pageX-a.global.pageXOffset:d.clientX,B=d.changedTouches?d.changedTouches[0].pageY-
a.global.pageYOffset:d.clientY,A=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,C=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,!v){d=function(d){a.doc.addEventListener(d,function(a){x&&!a._dojo_click&&(new Date).getTime()<=F+1E3&&("INPUT"!=a.target.tagName||!k.contains(a.target,"dijitOffScreen"))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"!=d||"INPUT"==a.target.tagName&&"radio"!=a.target.type&&"checkbox"!=a.target.type||"TEXTAREA"==a.target.tagName||
"AUDIO"==a.target.tagName||"VIDEO"==a.target.tagName||a.preventDefault())},!0)};var q=function(d){x=y?l.isDescendant(a.doc.elementFromPoint(d.changedTouches?d.changedTouches[0].pageX-a.global.pageXOffset:d.clientX,d.changedTouches?d.changedTouches[0].pageY-a.global.pageYOffset:d.clientY),w):x&&(d.changedTouches?d.changedTouches[0].target:d.target)==w&&Math.abs((d.changedTouches?d.changedTouches[0].pageX-a.global.pageXOffset:d.clientX)-z)<=A&&Math.abs((d.changedTouches?d.changedTouches[0].pageY-a.global.pageYOffset:
d.clientY)-B)<=C};v=!0;a.doc.addEventListener(b,function(a){f.isRight(a)||(q(a),y&&a.preventDefault())},!0);a.doc.addEventListener(e,function(a){if(!f.isRight(a)&&(q(a),x)){var d=function(d){var b=document.createEvent("MouseEvents");b._dojo_click=!0;b.initMouseEvent(d,!0,!0,a.view,a.detail,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return b};F=(new Date).getTime();var b=y?w:a.target;"LABEL"===b.tagName&&(b=l.byId(b.getAttribute("for"))||b);var e=a.changedTouches?
a.changedTouches[0]:a,g=d("mousedown"),p=d("mouseup"),k=d("click");setTimeout(function(){c.emit(b,"mousedown",g);c.emit(b,"mouseup",p);c.emit(b,"click",k);F=(new Date).getTime()},0)}},!0);d("click");d("mousedown");d("mouseup")}}}var s=5>e("ios"),t=e("pointer-events")||e("MSPointer"),q=function(){var a={},d;for(d in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[d]=e("MSPointer")?"MSPointer"+d.charAt(0).toUpperCase()+d.slice(1):"pointer"+d;return a}(),u=e("touch-events"),v,x,y=!1,w,z,B,A,C,F,G,K;e("touch")&&
(t?b(function(){a.doc.addEventListener(q.down,function(a){r(a,q.move,q.up)},!0)}):b(function(){function d(a){var b=g.delegate(a,{bubbles:!0});6<=e("ios")&&(b.touches=a.touches,b.altKey=a.altKey,b.changedTouches=a.changedTouches,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.targetTouches=a.targetTouches);return b}K=a.body();a.doc.addEventListener("touchstart",function(a){G=(new Date).getTime();var d=K;K=a.target;c.emit(d,"dojotouchout",{relatedTarget:K,bubbles:!0});c.emit(K,"dojotouchover",
{relatedTarget:d,bubbles:!0});r(a,"touchmove","touchend")},!0);c(a.doc,"touchmove",function(b){G=(new Date).getTime();var e=a.doc.elementFromPoint(b.pageX-(s?0:a.global.pageXOffset),b.pageY-(s?0:a.global.pageYOffset));e&&(K!==e&&(c.emit(K,"dojotouchout",{relatedTarget:e,bubbles:!0}),c.emit(e,"dojotouchover",{relatedTarget:K,bubbles:!0}),K=e),c.emit(e,"dojotouchmove",d(b))||b.preventDefault())});c(a.doc,"touchend",function(b){G=(new Date).getTime();var e=a.doc.elementFromPoint(b.pageX-(s?0:a.global.pageXOffset),
b.pageY-(s?0:a.global.pageYOffset))||a.body();c.emit(e,"dojotouchend",d(b))})}));m={press:d("mousedown","touchstart",q.down),move:d("mousemove","dojotouchmove",q.move),release:d("mouseup","dojotouchend",q.up),cancel:d(f.leave,"touchcancel",t?q.cancel:null),over:d("mouseover","dojotouchover",q.over),out:d("mouseout","dojotouchout",q.out),enter:f._eventHandler(d("mouseover","dojotouchover",q.over)),leave:f._eventHandler(d("mouseout","dojotouchout",q.out))};return n.touch=m})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(n){return n.cache})},"tm1web/subseteditor/TreeNode":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/promise/all dojo/Deferred dojo/dom-class dojo/dom-construct dojo/fx dijit/_base/manager dijit/Tree dijit/_Container".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){function p(a){return m.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}return n(a._TreeNode,{buildRendering:function(){this.inherited(arguments);
c.add(this.domNode,"tm1webSubsetEditorTreeNode")},expand:function(){this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);if(this._expandDeferred)return p(this._expandDeferred);this._wipeOut&&this._wipeOut.stop();this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role","group");c.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);
this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");this.containerNode.style.display="";var a=new g;a.resolve();return p(a)},collapse:function(){if(this._collapseDeferred)return p(this._collapseDeferred);this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this._wipeIn&&this._wipeIn.stop();this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded",
"false");c.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this.containerNode.style.display="none";var a=new g;a.resolve();return p(a)},setChildItems:function(a){var b=this.tree,c=b.model,e=[],f=b.focusedChild,g=this.getChildren();l.forEach(g,function(a){d.prototype.removeChild.call(this,a)},this);this.defer(function(){l.forEach(g,function(a){if(!a._destroyed&&!a.getParent()){var d=function(a){var e=c.getIdentity(a.item),f=b._itemNodesMap[e];
1==f.length?delete b._itemNodesMap[e]:(e=l.indexOf(f,a),-1!=e&&f.splice(e,1));l.forEach(a.getChildren(),d)};b.dndController.removeTreeNode(a);d(a);if(b.persist){var e=l.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),g;for(g in b._openedNodes)g.substr(0,e.length)==e&&delete b._openedNodes[g];b._saveExpandedNodes()}b.lastFocusedChild&&!dom.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;f&&!dom.isDescendant(f,b.domNode)&&b.focus();a.destroyRecursive()}})});
this.state="Loaded";a&&c.mayHaveChildren(this.item)?(this.isExpandable=!0,l.forEach(a,function(a){var d=c.getIdentity(a),f=b._itemNodesMap[d],g;if(f)for(var p=0;p<f.length;p++)if(f[p]&&!f[p].getParent()){g=f[p];g.set("indent",this.indent+1);break}g||(g=this.tree._createTreeNode({item:a,tree:b,isExpandable:c.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+
1}),f?f.push(g):b._itemNodesMap[d]=[g]);this.addChild(g);(this.tree.autoExpand&&c.isItemLoaded(a)||this.tree._state(g))&&e.push(b._expandNode(g))},this),l.forEach(this.getChildren(),function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=k(e);this.tree._startPaint(a);return p(a)},setFound:function(a,d){var b=this.label.substring(0,a),c=this.label.substring(a,d),e=this.label.substring(d);this.labelNode.innerHTML=b+"\x3cspan class\x3d'tm1webTreeNodeLabelFound'\x3e"+
c+"\x3c/span\x3e"+e},clearFound:function(){this.set("label",this.label)},_setIndentAttr:function(a){"indent"in this.item&&(arguments[0]=this.item.indent);this.inherited(arguments)}})})},"tm1web/subseteditor/FilterByLevelDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByLevelDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/MultiSelect ../utility/message-localizer ../widgets/_StopPropagationMixin dojo/query".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r){return n([g,f,b,p],{templateString:e,_levelsCombo:null,_levelsComboNode:null,_submitButton:null,_cancelButton:null,title:d.get("FILTER_BY_LEVEL_TITLE_STR"),_selectLevelsLabel:d.get("SELECT_LEVELS_STR"),_submitButtonLabel:d.get("OK_STR"),_cancelButtonLabel:d.get("CANCEL_STR"),_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._addLevels()},_addLevels:function(){this._levelsCombo=new a({className:"tm1webMultiSelect"},this._levelsComboNode);
this.own(this._levelsCombo.on("change",l.hitch(this,"_onChange")));r(".tm1webFilterByLevelLabel",this.domNode).attr("for",this._levelsCombo.id);for(var b=0;b<this.levelsCount;b++)k.create("option",{innerHTML:d.get("SUBSET_LEVEL",b),value:b},this._levelsCombo.domNode)},_onChange:function(a){this._submitButton.set("disabled",0>=a.length)},_submit:function(){var a=this._levelsCombo.get("value");this.model.filterByLevel(a,l.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){n._xhrObj=t._create;var u=n.config;n.objectToQuery=k.objectToQuery;n.queryToObject=k.queryToObject;n.fieldToObject=c.fieldToObject;n.formToObject=c.toObject;n.formToQuery=c.toQuery;n.formToJson=c.toJson;n._blockAsync=!1;var v=n._contentHandlers=n.contentHandlers={text:function(a){return a.responseText},json:function(a){return b.fromJson(a.responseText||null)},"json-comment-filtered":function(a){f.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var d=a.indexOf("/*"),c=a.lastIndexOf("*/");if(-1==d||-1==c)throw Error("JSON was not comment filtered");return b.fromJson(a.substring(d+2,c))},javascript:function(a){return n.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),
c(2)];d.some(c,function(d){try{var c=new ActiveXObject(d);c.async=!1;c.loadXML(a.responseText);b=c}catch(e){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?v["json-comment-filtered"](a):v.json(a)}};n._ioSetArgs=function(d,b,f,p){var q={args:d,url:d.url},r=null;if(d.form){var r=g.byId(d.form),s=r.getAttributeNode("action");q.url=q.url||(s?s.value:null);r=c.toObject(r)}s=[{}];r&&s.push(r);d.content&&s.push(d.content);d.preventCache&&
s.push({"dojo.preventCache":(new Date).valueOf()});q.query=k.objectToQuery(a.mixin.apply(null,s));q.handleAs=d.handleAs||"text";var l=new e(function(a){a.canceled=!0;b&&b(a);var d=a.ioArgs.error;d||(d=Error("request cancelled"),d.dojoType="cancel",a.ioArgs.error=d);return d});l.addCallback(f);var t=d.load;t&&a.isFunction(t)&&l.addCallback(function(a){return t.call(d,a,q)});var m=d.error;m&&a.isFunction(m)&&l.addErrback(function(a){return m.call(d,a,q)});var v=d.handle;v&&a.isFunction(v)&&l.addBoth(function(a){return v.call(d,
a,q)});l.addErrback(function(a){return p(a,l)});u.ioPublish&&n.publish&&!1!==q.args.ioPublish&&(l.addCallbacks(function(a){n.publish("/dojo/io/load",[l,a]);return a},function(a){n.publish("/dojo/io/error",[l,a]);return a}),l.addBoth(function(a){n.publish("/dojo/io/done",[l,a]);return a}));l.ioArgs=q;return l};var x=function(a){a=v[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},y=function(a,d){d.ioArgs.args.failOk||console.error(a);return a},w=function(a){0>=z&&(z=0,u.ioPublish&&n.publish&&
(!a||a&&!1!==a.ioArgs.args.ioPublish)&&n.publish("/dojo/io/stop"))},z=0;r.after(s,"_onAction",function(){--z});r.after(s,"_onInFlight",w);n._ioCancelAll=s.cancelAll;n._ioNotifyStart=function(a){u.ioPublish&&n.publish&&!1!==a.ioArgs.args.ioPublish&&(z||n.publish("/dojo/io/start"),z+=1,n.publish("/dojo/io/send",[a]))};n._ioWatch=function(d,b,c,e){d.ioArgs.options=d.ioArgs.args;a.mixin(d,{response:d.ioArgs,isValid:function(a){return b(d)},isReady:function(a){return c(d)},handleResponse:function(a){return e(d)}});
s(d);w(d)};n._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};n.xhr=function(a,d,b){var c,e=n._ioSetArgs(d,function(a){c&&c.cancel()},x,y),f=e.ioArgs;"postData"in d?f.query=d.postData:"putData"in d?f.query=d.putData:"rawBody"in d?f.query=d.rawBody:(2<arguments.length&&!b||-1==="POST|PUT".indexOf(a.toUpperCase()))&&n._ioAddQueryToUrl(f);var g={method:a,handleAs:"text",timeout:d.timeout,withCredentials:d.withCredentials,ioArgs:f};"undefined"!==
typeof d.headers&&(g.headers=d.headers);"undefined"!==typeof d.contentType&&(g.headers||(g.headers={}),g.headers["Content-Type"]=d.contentType);"undefined"!==typeof f.query&&(g.data=f.query);"undefined"!==typeof d.sync&&(g.sync=d.sync);n._ioNotifyStart(e);try{c=t(f.url,g,!0)}catch(p){return e.cancel(),e}e.ioArgs.xhr=c.response.xhr;c.then(function(){e.resolve(e)}).otherwise(function(a){f.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);e.reject(a)});
return e};n.xhrGet=function(a){return n.xhr("GET",a)};n.rawXhrPost=n.xhrPost=function(a){return n.xhr("POST",a,!0)};n.rawXhrPut=n.xhrPut=function(a){return n.xhr("PUT",a,!0)};n.xhrDelete=function(a){return n.xhr("DELETE",a)};n._isDocumentOk=function(a){return q.checkStatus(a.status)};n._getText=function(a){var d;n.xhrGet({url:a,sync:!0,load:function(a){d=a}});return d};a.mixin(n.xhr,{_xhrObj:n._xhrObj,fieldToObject:c.fieldToObject,formToObject:c.toObject,objectToQuery:k.objectToQuery,formToQuery:c.toQuery,
formToJson:c.toJson,queryToObject:k.queryToObject,contentHandlers:v,_ioSetArgs:n._ioSetArgs,_ioCancelAll:n._ioCancelAll,_ioNotifyStart:n._ioNotifyStart,_ioWatch:n._ioWatch,_ioAddQueryToUrl:n._ioAddQueryToUrl,_isDocumentOk:n._isDocumentOk,_getText:n._getText,get:n.xhrGet,post:n.xhrPost,put:n.xhrPut,del:n.xhrDelete});return n.xhr})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p){var r=n("dijit.DialogUnderlay",[f,b],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){k.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(c(this.domNode,"keydown",m.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,d=this.domNode.style;d.display="none";var b=e.getBox(this.ownerDocument);d.top=b.t+"px";d.left=b.l+"px";a.width=b.w+"px";a.height=b.h+"px";d.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var b=e.get(this.ownerDocument);this._modalConnects=[d.on("resize",m.hitch(this,"layout")),c(b,"scroll",
m.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});r.show=function(a,d){var b=r._singleton;!b||b._destroyed?b=p._underlay=r._singleton=new r(a):a&&b.set(a);g.set(b.domNode,"zIndex",d);b.open||b.show()};r.hide=function(){var a=
r._singleton;a&&!a._destroyed&&a.hide()};return r})},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"field-second-relative+0":"now","quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday",
"dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E",eraNarrow:["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM",
"dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z",
"field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday","timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday",
"dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday",
"quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],eraAbbr:["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}",
"field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"field-zone":"Zone","months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})",
"dayPeriods-format-abbr-pm":"PM","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),eraNames:["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":"SMTWTFS".split(""),"field-month":"Month","days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})",
"dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday","dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}",
"dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},aa:!0,af:!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,
"ar-iq":!0,"ar-jo":!0,"ar-lb":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-sy":!0,"ar-tn":!0,as:!0,asa:!0,ast:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,byn:!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-bw":!0,"en-bz":!0,"en-ca":!0,"en-gb":!0,"en-hk":!0,"en-ie":!0,"en-in":!0,"en-mt":!0,"en-nz":!0,"en-pk":!0,"en-sg":!0,"en-za":!0,
"en-zw":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,"es-cl":!0,"es-co":!0,"es-gt":!0,"es-hn":!0,"es-mx":!0,"es-pa":!0,"es-pe":!0,"es-pr":!0,"es-us":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ca":!0,"fr-ch":!0,fur:!0,fy:!0,ga:!0,gd:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,
ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,ksh:!0,"ku-tr":!0,kw:!0,ky:!0,lag:!0,lg:!0,lkt:!0,ln:!0,lo:!0,lt:!0,lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,"ne-in":!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nus:!0,nyn:!0,om:!0,or:!0,os:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,"ru-ua":!0,rw:!0,rwk:!0,sah:!0,saq:!0,sbp:!0,se:!0,seh:!0,ses:!0,sg:!0,
sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-cyrl-ba":!0,"sr-latn":!0,"sr-latn-me":!0,ssy:!0,sv:!0,"sv-fi":!0,sw:!0,swc:!0,ta:!0,te:!0,teo:!0,th:!0,ti:!0,"ti-er":!0,to:!0,tr:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,vi:!0,vo:!0,vun:!0,wae:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hant-mo":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,
zu:!0})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(n,m){return n("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(l){var k=this.checked;this._set("checked",!k);var g=this.inherited(arguments);this.set("checked",g?this.checked:k);return g},_setCheckedAttr:function(l,k){this._set("checked",l);var g=this.focusNode||this.domNode;this._created&&m.get(g,"checked")!=!!l&&m.set(g,"checked",!!l);g.setAttribute(this._aria_attr,
String(l));this._handleOnChange(l,k)},postCreate:function(){this.inherited(arguments);var l=this.focusNode||this.domNode;this.checked&&l.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"tm1web/celledit/TextBox":function(){define(["dojo/_base/declare","dijit/form/TextBox","./_EditMixin"],function(n,m,l){return n("tm1web.celledit.TextBox",[m,
l])})},"tm1web/cubeview/TM1ChartPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dijit/layout/ContentPane ./CubeViewBase ./RaveChart ../share/ChartContextMenu ../utility/message-localizer ../share/service-loader!CubeViewService".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){return n([c,e],{constructor:function(a,d,b){this._recalcNeededPanel=this.TM1Chart=null;this.ObjectId=b;this.InitializeTM1ChartPane()},InitializeTM1ChartPane:function(){this.TM1Chart=
new f(this.ObjectId);this._recalcNeededPanel=g.create("div",{innerHTML:a.get("RECALC_NEEDED_FOR_CHART_DATA_STR"),className:"tm1webChartMessage tm1webHidden"});this.TM1Chart.onLoadDeferred.then(m.hitch(this,function(){this._contextMenu=new b(this.TM1Chart.Panel,this.ObjectId,d,this.TM1Chart._drillMap)}));l.after(this,"postCreate",m.hitch(this,"_InsertTM1Grid"),!0)},postCreate:function(){this.inherited(arguments);g.place(this._recalcNeededPanel,this.domNode)},_InsertTM1Grid:function(){this.TM1Chart.onLoadDeferred.then(m.hitch(this,
function(){this.domNode.appendChild(this.TM1Chart.Panel);k.add(this.domNode,"tm1webTM1SpliterPane")}))},Resize:function(){this.TM1Chart.GetChart()},Update:function(a){a.gridData?(k.add(this._recalcNeededPanel,"tm1webHidden"),k.remove(this.TM1Chart.Panel,"tm1webHidden"),this.TM1Chart.GetChart()):(k.add(this.TM1Chart.Panel,"tm1webHidden"),k.remove(this._recalcNeededPanel,"tm1webHidden"))}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(n){return function(m,
l){function k(c){c=n.filter(c,m);var e=l&&l.sort;e&&c.sort("function"==typeof e?e:function(b,a){for(var d,c=0;d=e[c];c++){var f=b[d.attribute],g=a[d.attribute],f=null!=f?f.valueOf():f,g=null!=g?g.valueOf():g;if(f!=g)return!!d.descending==(null==f||f>g)?-1:1}return 0});if(l&&(l.start||l.count)){var f=c.length;c=c.slice(l.start||0,(l.start||0)+(l.count||Infinity));c.total=f}return c}switch(typeof m){default:throw Error("Can not query with a "+typeof m);case "object":case "undefined":var g=m;m=function(c){for(var e in g){var f=
g[e];if(f&&f.test){if(!f.test(c[e],c))return!1}else if(f!=c[e])return!1}return!0};break;case "string":if(!this[m])throw Error("No filter function "+m+" was found in store");m=this[m];case "function":}k.matches=m;return k}})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(n,m,l,k,g,c,e,f){var b=m("dijit._TemplatedMixin",f,{templateString:null,templatePath:null,_skipNodeCache:!1,
searchContainerNode:!0,_stringRepl:function(a){var d=this.declaredClass,b=this;return e.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=k.getObject(c.substr(1),!1,b));if("undefined"==typeof a)throw Error(d+" template:"+c);return null==a?"":"!"==c.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||
(this.templateString=n(this.templatePath,{sanitize:!0}));var a=b.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),d;if(k.isString(a)){if(d=l.toDom(this._stringRepl(a),this.ownerDocument),1!=d.nodeType)throw Error("Invalid template: "+a);}else d=a.cloneNode(!0);this.domNode=d}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var d=this.containerNode;if(a&&d)for(;a.hasChildNodes();)d.appendChild(a.firstChild)}});
b._templateCache={};b.getCachedTemplate=function(a,d,c){var f=b._templateCache,g=a,k=f[g];if(k){try{if(!k.ownerDocument||k.ownerDocument==(c||document))return k}catch(q){}l.destroy(k)}a=e.trim(a);if(d||a.match(/\$\{([^\}]+)\}/g))return f[g]=a;d=l.toDom(a,c);if(1!=d.nodeType)throw Error("Invalid template: "+a);return f[g]=d};c("ie")&&g(window,"unload",function(){var a=b._templateCache,d;for(d in a){var c=a[d];"object"==typeof c&&l.destroy(c);delete a[d]}});return b})},"tm1web/subseteditor/TopToolbar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/aspect dojo/when dojo/dom-class dijit/registry dijit/focus dijit/Toolbar dijit/Dialog ../utility/clipboard ../utility/message-localizer ../share/SkeletonMixin ./_TreePaneFocusMixin ./SaveAsDialog ./SortType ./FilterByLevelDialog ./FilterByAttributeDialog ./FilterByExpressionDialog ./CreateConsolidationDialog ../widgets/WarningOptionsDialog dojo/query".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y,w,z,B){return n([a,s,t],{_toolbarState:null,_subsetTreeClipboardEmpty:null,_subsetTreeHasAttributes:!1,_dimensionTreeClipboardEmpty:null,_dimensionTreeHasAttributes:!1,_allowUserDefinedCalculations:!0,postCreate:function(){this.inherited(arguments);this._allowUserDefinedCalculations=this.model.getIsAllowedUserDefinedCalculations();this._addSkeletonChildren();this._attachEventListeners();this.subsetTree.get("model").getMetaData(m.hitch(this,function(a){this._setSubsetTreeClipboardEmpty(a);
this._setSubsetTreeHasAttributes(a)}));this.dimensionTree.get("model").getMetaData(m.hitch(this,function(a){this._setDimensionTreeClipboardEmpty(a);this._setDimensionTreeHasAttributes(a)}));this._onSubsetTreeFocus();this._onSubsetTreeSelect();e.add(this.domNode,"tm1webToolbar")},_setSubsetTreeClipboardEmpty:function(a){this._subsetTreeClipboardEmpty=a.clipboardEmpty},_setDimensionTreeClipboardEmpty:function(a){this._dimensionTreeClipboardEmpty=a.clipboardEmpty},_setSubsetTreeHasAttributes:function(a){this._subsetTreeHasAttributes=
a.hasAttributes},_setDimensionTreeHasAttributes:function(a){this._dimensionTreeHasAttributes=a.hasAttributes},_attachEventListeners:function(){this.own(g.after(this.subsetTree.get("model"),"onMetaDataChange",m.hitch(this,"_onSubsetTreeMetaDataChange"),!0));this.own(this.subsetTree.on("focus",m.hitch(this,"_onSubsetTreeFocus")));this.own(this.subsetTree.on("select",m.hitch(this,"_onSubsetTreeSelect")));this.own(g.after(this.dimensionTree.get("model"),"onMetaDataChange",m.hitch(this,"_onDimensionTreeMetaDataChange"),
!0));this.own(this.dimensionTree.on("focus",m.hitch(this,"_onDimensionTreeFocus")));this.own(this.dimensionTree.on("select",m.hitch(this,"_onDimensionTreeSelect")))},_onSubsetTreeMetaDataChange:function(a){this._setSubsetTreeClipboardEmpty(a);this._activeTree===this.subsetTree&&this._onSubsetTreeFocus()},_onSubsetTreeFocus:function(){this.inherited(arguments);var a=this.subsetTree.get("model").hasSelectedItems();this._toolbarState=a?3:2;this._customizeToolbarForSubsetTree(a)},_onSubsetTreeSelect:function(){var a=
this._toolbarState,d=this.subsetTree.get("model").hasSelectedItems();this._toolbarState=d?3:2;a!==this._toolbarState&&this._customizeToolbarForSubsetTree(d)},_customizeToolbarForSubsetTree:function(a){var d=this._skeletonChildren;this._customizeToolbar(a);l.forEach([d.saveButton,d.saveAsButton,d.reloadButton],function(a){a.set("disabled",!1)});d.customConsolidationButton.set("disabled",!this._allowUserDefinedCalculations);d.pasteButton.set("disabled",this._subsetTreeClipboardEmpty&&this._dimensionTreeClipboardEmpty);
d.filterByAttributeItem.set("disabled",!this._subsetTreeHasAttributes);l.forEach([d.cutButton,d.pasteAboveItem,d.pasteBelowItem,d.createConsolidationFromSelectedElementsItem],function(d){d.set("disabled",!a)})},_onDimensionTreeMetaDataChange:function(a){this._setDimensionTreeClipboardEmpty(a);this._activeTree===this.dimensionTree&&this._onDimensionTreeFocus()},_onDimensionTreeFocus:function(){this.inherited(arguments);var a=this.dimensionTree.get("model").hasSelectedItems();this._toolbarState=a?1:
0;this._customizeToolbarForDimensionTree(a)},_onDimensionTreeSelect:function(){var a=this._toolbarState,d=this.dimensionTree.get("model").hasSelectedItems();this._toolbarState=d?1:0;a!==this._toolbarState&&this._customizeToolbarForDimensionTree(d)},_customizeToolbarForDimensionTree:function(a){var d=this._skeletonChildren;this._customizeToolbar(a);l.forEach([d.saveButton,d.saveAsButton,d.reloadButton,d.cutButton,d.pasteButton,d.customConsolidationButton],function(a){a.set("disabled",!0)});d.copyButton.set("disabled",
!a);d.filterByAttributeItem.set("disabled",!this._dimensionTreeHasAttributes)},_customizeToolbar:function(a){var d=this._skeletonChildren;l.forEach([d.subsetAllButton,d.filterButton,d.sortButton,d.treeExpandButton,d.expandSelectedConsolidationsItem],function(a){a.set("disabled",!1)});l.forEach([d.copyButton,d.keepButton,d.deleteButton,d.drillDownSelectedConsolidationsItem,d.expandSelectedConsolidationsItem,d.collapseSelectedConsolidationsItem,d.insertParentsOfSelectedElementButton],function(d){d.set("disabled",
!a)})},_createSkeletonChildren:function(){var a=this._skeletonChildren;a.saveButton=this._newButton(r.get("SAVE_SUBSET_STR"),"tm1webSubsetEditorIconSaveSubset","SaveSubsetButton",m.hitch(this,"_saveSubset"));a.saveAsButton=this._newButton(r.get("SAVE_SUBSET_AS_STR"),"tm1webSubsetEditorIconSaveSubsetAs","SaveSubsetAsButton",m.hitch(this,"_saveSubsetAs"));a.reloadButton=this._newButton(r.get("RELOAD_SUBSET_STR"),"tm1webSubsetEditorIconReloadSubset","ReloadSubsetButton",m.hitch(this,"_reloadSubset"));
a.subsetAllButton=this._newButton(r.get("SUBSET_ALL_STR"),"tm1webSubsetEditorIconSubsetAll ","SubsetAllButton",m.hitch(this,"_subsetAll"));a.cutButton=this._newButton(r.get("CUT_STR"),"tm1webSubsetEditorIconCut","tm1webSubsetEditorIconCut",m.hitch(this,"cut"));a.copyButton=this._newButton(r.get("COPY_STR"),"tm1webSubsetEditorIconCopy","tm1webSubsetEditorIconCopy",m.hitch(this,"copy"));a.pasteItem=this._newMenuItem(r.get("PASTE_STR"),"","tm1webSubsetEditorIconPaste",m.hitch(this,"paste"));a.pasteAboveItem=
this._newMenuItem(r.get("PASTE_ABOVE_STR"),"","tm1webSubsetEditorIconPasteAbove",m.hitch(this,"pasteAbove"));a.pasteBelowItem=this._newMenuItem(r.get("PASTE_BELOW_STR"),"","tm1webSubsetEditorIconPasteBelow",m.hitch(this,"pasteBelow"));var d=this._newMenu(this._generatePasteMenuSkeleton());a.pasteButton=this._newDropDownButton(r.get("PASTE_STR"),"tm1webSubsetEditorIconPaste",d,"tm1webSubsetEditorIconPaste");a.keepButton=this._newButton(r.get("KEEP_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconKeepSelectedElements",
"KeepSelectedElementsButton",m.hitch(this,"_keepSelectedElements"));a.deleteButton=this._newButton(r.get("DELETE_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconDeleteSelected","deleteSelectedElementsButton",m.hitch(this,"_deleteSelectedElements"));a.filterByLevelItem=this._newMenuItem(r.get("FILTER_BY_LEVEL_STR"),"tm1webSubsetEditorIconFilterSubsetByLevel","FilterByLevelItem",m.hitch(this,"_filterByLevel"));a.filterByAttributeItem=this._newMenuItem(r.get("FILTER_BY_ATTRIBUTE_STR"),"tm1webSubsetEditorIconFilterSubsetByAttribute",
"FilterByAttributeItem",m.hitch(this,"_filterByAttribute"));a.filterByExpressionItem=this._newMenuItem(r.get("FILTER_BY_EXPRESSION_STR"),"tm1webSubsetEditorIconFilterSubsetByExpression","FilterByExpressionItem",m.hitch(this,"_filterByExpression"));d=this._newMenu(this._generateFilterMenuSkeleton());a.filterButton=this._newDropDownButton(r.get("FILTER_SUBSET_STR"),"tm1webSubsetEditorIconFilterSubset",d,"FilterSubsetDropDownButton");a.sortAscendingItem=this._newMenuItem(r.get("SORT_ASCENDING_STR"),
"tm1webSubsetEditorIconSortSubsetAscending","SortAscendingItem",m.hitch(this,"_sort",u.Ascending));a.sortDescendingItem=this._newMenuItem(r.get("SORT_DESCENDING_STR"),"tm1webSubsetEditorIconSortSubsetDescending","SortDescendingItem",m.hitch(this,"_sort",u.Descending));a.sortHierarchicallyItem=this._newMenuItem(r.get("SORT_HIERARCHICALLY_STR"),"tm1webSubsetEditorIconSortSubsetHierarchically","SortHierarchicallyItem",m.hitch(this,"_sort",u.Hierarchically));a.sortByIndexAscendingItem=this._newMenuItem(r.get("SORT_BY_INDEX_ASCENDING_STR"),
"tm1webSubsetEditorIconSortSubsetIndexAscending","SortByIndexAscendingItem",m.hitch(this,"_sort",u.IndexAscending));a.sortByIndexDescendingItem=this._newMenuItem(r.get("SORT_BY_INDEX_DESCENDING_STR"),"tm1webSubsetEditorIconSortSubsetIndexDescending","SortByIndexDescendingItem",m.hitch(this,"_sort",u.IndexDescending));d=this._newMenu(this._generateSortMenuSkeleton());a.sortButton=this._newDropDownButton(r.get("SORT_SUBSET_STR"),"tm1webSubsetEditorIconSortSubset",d,"SortSubsetDropDownButton");a.drillDownSelectedConsolidationsItem=
this._newMenuItem(r.get("DRILL_DOWN_SELECTED_CONSOLIDATIONS_STR"),"","DrillDownSelectedConsolidationsItem",m.hitch(this,"_expandSelectedConsolidations",!1));a.expandSelectedConsolidationsItem=this._newMenuItem(r.get("EXPAND_SELECTED_CONSOLIDATIONS_STR"),"","ExpandSelectedConsolidationsItem",m.hitch(this,"_expandSelectedConsolidations",!0));a.expandTreeFullyItem=this._newMenuItem(r.get("EXPAND_TREE_FULLY_STR"),"","ExpandTreeFullyItem",m.hitch(this,"_expandTreeFully"));d=this._newMenu(this._generateTreeExpandMenuSkeleton());
a.treeExpandButton=this._newDropDownButton(r.get("TREE_EXPAND_STR"),"tm1webSubsetEditorIconExpandTree",d,"TreeExpandDropDownButton");a.collapseSelectedConsolidationsItem=this._newMenuItem(r.get("COLLAPSE_SELECTED_CONSOLIDATIONS_STR"),"","CollapseSelectedConsolidationsItem",m.hitch(this,"_collapseSelectedConsolidations"));a.collapseTreeFullyItem=this._newMenuItem(r.get("COLLAPSE_TREE_FULLY_STR"),"","CollapseTreeFullyItem",m.hitch(this,"_collapseTreeFully"));d=this._newMenu(this._generateTreeCollapseMenuSkeleton());
a.treeCollapseButton=this._newDropDownButton(r.get("TREE_COLLAPSE_STR"),"tm1webSubsetEditorIconCollapseTree",d,"TreeCollapseDropDownButton");a.insertParentsOfSelectedElementButton=this._newButton(r.get("INSERT_PARENTS_OF_SELECTED_ELEMENTS_STR"),"tm1webSubsetEditorIconInsertParentsOfSelectedElement","InsertParentsOfSelectedElementButton",m.hitch(this,"_insertParentsOfSelectedElements"));a.createConsolidationFromSubsetItem=this._newMenuItem(r.get("CREATE_CONSOLIDATION_FROM_SUBSET_STR"),"","CreateConsolidationFromSubsetItem",
m.hitch(this,"_createConsolidationFromSubset"));a.createConsolidationFromSelectedElementsItem=this._newMenuItem(r.get("CREATE_CONSOLIDATION_FROM_SELECTED_ELEMENTS_STR"),"","CreateConsolidationFromSelectedElementsItem",m.hitch(this,"_createConsolidationFromSelectedElements"));d=this._newMenu(this._generateCustomConsolidationMenuSkeleton());a.customConsolidationButton=this._newDropDownButton(r.get("CREATE_CUSTOM_CONSOLIDATION_STR"),"tm1webSubsetEditorIconCustomConsolidation",d,"CustomConsolidationDropDownButton")},
_generateSkeleton:function(){var a=this._newSkeleton();a.add(this._generateSaveLoadGroup());a.add(this._generateCopyPasteGroup());a.add(this._generateKeepDeleteGroup());a.add(this._generateFilterMenuGroup());a.add(this._generateSortMenuGroup());a.add(this._generateTreeGroup());a.add(this._generateCustomConsolidationMenuGroup());return a},_generatePasteMenuSkeleton:function(){var a=this._newSkeleton(),d=this._newGroup(),b=this._skeletonChildren;d.add(b.pasteItem);d.add(b.pasteAboveItem);d.add(b.pasteBelowItem);
a.add(d);return a},_generateSaveLoadGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.saveButton);a.add(d.saveAsButton);a.add(d.reloadButton);a.add(d.subsetAllButton);return a},_generateCopyPasteGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.cutButton);a.add(d.copyButton);a.add(d.pasteButton);return a},_generateKeepDeleteGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.keepButton);a.add(d.deleteButton);return a},_generateFilterMenuSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateFilterGroup());return a},_generateFilterGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.filterByLevelItem);a.add(d.filterByAttributeItem);a.add(d.filterByExpressionItem);return a},_generateFilterMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.filterButton);return a},_generateSortMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateSortGroup());return a},_generateSortGroup:function(){var a=this._newGroup(),
d=this._skeletonChildren;a.add(d.sortAscendingItem);a.add(d.sortDescendingItem);a.add(d.sortHierarchicallyItem);a.add(d.sortByIndexAscendingItem);a.add(d.sortByIndexDescendingItem);return a},_generateSortMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.sortButton);return a},_generateTreeExpandMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateTreeExpandGroup());return a},_generateTreeExpandGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;
a.add(d.drillDownSelectedConsolidationsItem);a.add(d.expandSelectedConsolidationsItem);a.add(d.expandTreeFullyItem);return a},_generateTreeCollapseMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateTreeCollapseGroup());return a},_generateTreeCollapseGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.collapseSelectedConsolidationsItem);a.add(d.collapseTreeFullyItem);return a},_generateTreeGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.treeExpandButton);
a.add(d.treeCollapseButton);a.add(d.insertParentsOfSelectedElementButton);return a},_generateCustomConsolidationMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateCustomConsolidationGroup());return a},_generateCustomConsolidationGroup:function(){var a=this._newGroup(),d=this._skeletonChildren;a.add(d.createConsolidationFromSubsetItem);a.add(d.createConsolidationFromSelectedElementsItem);return a},_generateCustomConsolidationMenuGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.customConsolidationButton);
return a},_getItemIdPrefix:function(){return"tm1web_subseteditor_SubsetEditorMainToolbar_"},_saveSubset:function(){this.model.getMetaData().then(m.hitch(this,function(a){if(a.selectedSubset.name){var d=m.hitch(this,function(){this.model.saveSubset()});this.subsetTree.get("model").getMetaData(function(b){a.selectedSubset.dynamic&&b.modified?z.show({message:r.get("SUBSET_BY_EXPRESSION")+"\n"+r.get("SAVING_DYNAMIC_SUBSET"),okButtonLabel:r.get("SUBSET_EXPRESSION_WARNING_OK_STR"),cancelButtonLabel:r.get("CANCEL_STR"),
title:r.get("SUBSET_EXPRESSION_WARNING_TITLE_STR"),onExecute:function(){d()}}):d()})}else this._saveSubsetAs()}))},_saveSubsetAs:function(){var a=new q({model:this.model,subsetModel:this.subsetTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_reloadSubset:function(){this._activeTree.get("model").reloadSubset()},_subsetAll:function(){this._activeTree.get("model").subsetAll()},_cut:function(){this._activeTree.get("model").cut()},cut:function(){p.set(" ");this._cut()},_copy:function(){this._activeTree.get("model").copy()},
copy:function(){p.set(" ");this._copy()},_paste:function(a){this._activeTree.get("model").paste(a)},paste:function(){c(p.get(!0),m.hitch(this,"_paste"))},_pasteAbove:function(a){this._activeTree.get("model").pasteAbove(a)},pasteAbove:function(){c(p.get(!0),m.hitch(this,"_pasteAbove"))},_pasteBelow:function(a){this._activeTree.get("model").pasteBelow(a)},pasteBelow:function(){c(p.get(!0),m.hitch(this,"_pasteBelow"))},_keepSelectedElements:function(){this._activeTree.get("model").keepSelectedElements()},
_deleteSelectedElements:function(){this._activeTree.get("model").deleteSelectedElements()},_filterByLevel:function(){this._activeTree.get("model").getMetaData(m.hitch(this,function(a){var d=new v({levelsCount:a.levelsCount,model:this._activeTree.get("model"),onHide:function(){d.destroyRecursive();d=null}});d.show()}))},_filterByAttribute:function(){var a=new x({model:this._activeTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_filterByExpression:function(){var a=new y({model:this._activeTree.get("model"),
onHide:function(){a.destroyRecursive();a=null}});B(".tm1webFilterByExpressionLabel",a.id).attr("for",a._textBox.id);a.show()},_sort:function(a){this._activeTree.get("model").sort(a)},_drillDownSelectedConsolidations:function(){},_expandSelectedConsolidations:function(a){this._activeTree.get("model").expandSelectedConsolidations(a)},_expandTreeFully:function(){this._activeTree.get("model").expandAll()},_collapseSelectedConsolidations:function(){this._activeTree.get("model").collapseSelectedConsolidations()},
_collapseTreeFully:function(){this._activeTree.get("model").collapseAll()},_insertParentsOfSelectedElements:function(){this._activeTree.get("model").insertParentsOfSelectedElements()},_createConsolidationFromSubset:function(){var a=new w({model:this.model,subsetModel:this._activeTree.get("model"),onHide:function(){a.destroyRecursive();a=null}});a.show()},_createConsolidationFromSelectedElements:function(){this._activeTree.get("model").createConsolidationFromSelectedElements()}})})},"tm1web/utility/string":function(){define({regexEscape:function(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,
"\\$1")},equalsIgnoreCase:function(n,m,l){null==l&&(l=!1);return"string"===typeof n&&"string"===typeof m?n.match(new RegExp("^("+this.regexEscape(m)+")$","i")):l?n===m:n==m},endsWith:function(n,m){var l=n.length-m.length,k=n.indexOf(m,l);return 0<=k&&l===k},addPreSuffix:function(n,m,l){return(m?m:"")+n+(l?l:"")},removePreSuffix:function(n,m,l){var k=n.indexOf(m),g=n.lastIndexOf(l);return 0===k&&-1!=g&&g===n.length-l.length?n.substring(m.length,g):null}})},"tm1web/subseteditor/ExpandAboveTreeNode":function(){define(["dojo/_base/declare",
"dojo/text!./templates/ExpandAboveTreeNode.html","./TreeNode"],function(n,m,l){return n(l,{templateString:m})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),function(n,
m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y,w){var z=m("dijit.form._SliderMover",d,{onMouseMove:function(a){var d=this.widget,b=d._abspos;b||(b=d._abspos=g.position(d.sliderBarContainer,!0),d._setPixelValue_=f.hitch(d,"_setPixelValue"),d._isReversed_=d._isReversed());a=a[d._mousePixelCoord]-b[d._startingPixelCoord];d._setPixelValue_(d._isReversed_?b[d._pixelCount]-a:a,b[d._pixelCount],!1)},destroy:function(a){d.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});l=m("dijit.form.HorizontalSlider",[x,y],{templateString:w,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:t.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey||this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!(this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey)){switch(a.keyCode){case e.HOME:this._setValueAttr(this.minimum,!1);break;case e.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?e.RIGHT_ARROW:e.LEFT_ARROW:case !1===this._descending?e.DOWN_ARROW:e.UP_ARROW:case !1===this._descending?e.PAGE_DOWN:e.PAGE_UP:this.increment(a);
break;case this._descending||this.isLeftToRight()?e.LEFT_ARROW:e.RIGHT_ARROW:case !1===this._descending?e.UP_ARROW:e.DOWN_ARROW:case !1===this._descending?e.PAGE_UP:e.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){this.disabled||this.readOnly||(b("ie")||q.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&!this.readOnly&&
this.clickSelect){q.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var d=g.position(this.sliderBarContainer,!0),b=a[this._mousePixelCoord]-d[this._startingPixelCoord];this._setPixelValue(this._isReversed()?d[this._pixelCount]-b:b,d[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,d,b){if(!this.disabled&&!this.readOnly){var c=this.discreteValues;if(1>=c||Infinity==c)c=d;c--;a=Math.round(a/(d/c));this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*
a/c+this.minimum,this.maximum),this.minimum),b)}},_setValueAttr:function(a,d){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var b=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,c=!1===this._descending?this.remainingBar:this.progressBar,e=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(d&&0<this.slideDuration&&
c.style[this._progressPixelSize]){var f=this,g={},p=parseFloat(c.style[this._progressPixelSize]),q=this.slideDuration*(b-p/100);0!=q&&(0>q&&(q=0-q),g[this._progressPixelSize]={start:p,end:100*b,units:"%"},this._inProgressAnim=k.animateProperty({node:c,duration:q,onAnimate:function(a){e.style[f._progressPixelSize]=100-parseFloat(a[f._progressPixelSize])+"%"},onEnd:function(){delete f._inProgressAnim},properties:g}),this._inProgressAnim.play())}else c.style[this._progressPixelSize]=100*b+"%",e.style[this._progressPixelSize]=
100*(1-b)+"%"},_bumpValue:function(a,d){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var b=c.getComputedStyle(this.sliderBarContainer),e=g.getContentBox(this.sliderBarContainer,b),b=this.discreteValues;if(1>=b||Infinity==b)b=e[this._pixelCount];b--;e=(this.value-this.minimum)*b/(this.maximum-this.minimum)+a;0>e&&(e=0);e>b&&(e=b);e=e*(this.maximum-this.minimum)/b+this.minimum;this._setValueAttr(e,d)}},_onClkBumper:function(a){this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(a,
!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==e.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||
(n.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,d,b){if(-1==a)this._setValueAttr(this.value,!0);else this[d==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](b)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=p('label[for\x3d"'+
this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(u.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),u.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(s(this.domNode,r.wheel,f.hitch(this,
"_mouseWheeled")));var d=m(z,{widget:this});this._movable=new a(this.sliderHandle,{mover:d});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});l._Mover=z;return l})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){var t=m("dojo.dnd.Manager",[c],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:e("touch")?0:16,OFFSET_Y:e("touch")?-64:16,overSource:function(d){this.avatar&&(this.target=d&&"Disabled"!=d.targetState?d:null,this.canDropFlag=Boolean(this.target),this.avatar.update());a.publish("/dnd/source/over",d)},outSource:function(d){this.avatar?this.target==d&&(this.target=null,this.canDropFlag=
!1,this.avatar.update(),a.publish("/dnd/source/over",null)):a.publish("/dnd/source/over",null)},startDrag:function(c,e,f){function p(a){a.preventDefault();a.stopPropagation()}r.autoScrollStart(k.doc);this.source=c;this.nodes=e;this.copy=Boolean(f);this.avatar=this.makeAvatar();k.body().appendChild(this.avatar.node);a.publish("/dnd/start",c,e,this.copy);this.events=[b(k.doc,d.move,l.hitch(this,"onMouseMove")),b(k.doc,d.release,l.hitch(this,"onMouseUp")),b(k.doc,"keydown",l.hitch(this,"onKeyDown")),
b(k.doc,"keyup",l.hitch(this,"onKeyUp")),b(k.doc,"dragstart",p),b(k.body(),"selectstart",p)];c="dojoDnd"+(f?"Copy":"Move");g.add(k.body(),c)},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){g.remove(k.body(),["dojoDndCopy","dojoDndMove"]);n.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new s(this)},
updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var d=this.avatar;d&&(r.autoScrollNodes(a),d=d.node.style,d.left=a.pageX+this.OFFSET_X+"px",d.top=a.pageY+this.OFFSET_Y+"px",d=Boolean(this.source.copyState(p.getCopyKeyState(a))),this.copy!=d&&this._setCopyStatus(d));e("touch")&&a.preventDefault()},onMouseUp:function(d){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(p.getCopyKeyState(d)));a.publish("/dnd/drop/before",this.source,this.nodes,
b,this.target,d);a.publish("/dnd/drop",this.source,this.nodes,b,this.target,d)}else a.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(d){if(this.avatar)switch(d.keyCode){case f.CTRL:d=Boolean(this.source.copyState(!0));this.copy!=d&&this._setCopyStatus(d);break;case f.ESCAPE:a.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==f.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);
this.updateAvatar();g.replace(k.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});p._manager=null;t.manager=p.manager=function(){p._manager||(p._manager=new t);return p._manager};return t})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(n){function m(){throw new TypeError("abstract");}return n.extend(function(){},{then:function(l,k,g){m()},cancel:function(l,k){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},
isCanceled:function(){m()},always:function(l){return this.then(l,l)},otherwise:function(l){return this.then(null,l)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"tm1web/cubeview/metrics/StrategyDiagramContent":function(){define(["dojo/_base/declare","dojo/json","./RaveChartContent","./StrategyInteractivityHelper"],function(n,m,l,k){return n(l,{constructor:function(g){null==this._interactivityHelper&&(this._interactivityHelper=
new k,this._interactivityHelper.setupInteractivity(this._visWidget))},_setVizJsonSpec:function(g){var c=m.parse(g.jsonString);this._visWidget.setSpec(c);g=m.parse(g.metricPopupData);this._interactivityHelper.setData(g)}})})},"tm1web/cubeview/DimensionDropMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/html dijit/form/DropDownButton dijit/TooltipDialog dijit/MenuItem dijit/Menu ./CubeViewBase".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n(s,{constructor:function(a){this.DimensionButtons=this.DimDropPanel=null;this.InitializeDimensionDropMenu(a)},InitializeDimensionDropMenu:function(a){this.DimDropPanel=a},Create:function(a){this.DimensionButtons=a||[];return this._CreateDimDropMenu()},_CreateDimDropMenu:function(){var a=document.createElement("TD");a.className=" tm1webHidden";var d=this._createDropDownButton();a.appendChild(d);this.own(k(d,"mouseover",m.hitch(this,function(){g.add(d,"tm1webDimDropMenu_hlt")})));
this.own(k(d,"mouseout",m.hitch(this,function(){g.remove(d,"tm1webDimDropMenu_hlt")})));return a},_createDropDownButton:function(){var d=new a({dropDown:this._createDropDownMenu()});d.domNode.className="tm1webDimDropMenu "+this._GetDropMenuTypeClass();this._hiddenDimensionCountContainer=c.create("span",{className:"tm1webHiddenDimensionCountContainer"});c.place(this._hiddenDimensionCountContainer,d._buttonNode);this._dropDownButton=d;return d.domNode},_createDropDownMenu:function(){var a=new d({}),
b=this._menu=new r({});b.domNode.className="";this.own(l.after(a,"onOpen",m.hitch(this,"_resize"),!0));c.place(b.domNode,a.containerNode);for(var e=0;e<this.DimensionButtons.length;e++)b.addChild(this._createMenuItem(this.DimensionButtons[e],m.hitch(this,this._onMenuItemClick,e)));return this._menuDialog=a},_createMenuItem:function(a,d){return new p({label:a.dimensionCaption,iconClass:"dimensionDropMenuItemIcon",onClick:d,dimensionName:a.dimensionName})},getMenuItems:function(){return this._menu.getChildren()},
_resize:function(){var a=this._menuDialog.containerNode,d=this._menuDialog.domNode.parentNode;g.add(d,"tm1webRemoveTtBlackShadow");a.style.height="";var b=d.offsetParent.offsetHeight-d.offsetTop,d=d.offsetHeight;d>b&&(e.setMarginBox(a,{h:b-(d-a.clientHeight)}),f.set(a,{overflow:"auto"}),a=a.scrollWidth-a.clientWidth,b=this._menuDialog.domNode.style,b.width=parseFloat(b.width)+a+"px",b=this._menuDialog.domNode.parentNode.style,b.left=parseFloat(b.left)-a+"px")},_onMenuItemClick:function(a){this._dropDownButton.closeDropDown();
this.DimDropPanel.scrollIndex=a+1;this.DimDropPanel.doTableFitting()},_GetDropMenuTypeClass:function(){var a="";switch(this.DimDropPanel.ButtonType){case "R":case "C":a="tm1webDimDropMenu_rc";break;case "T":a="tm1webDimDropMenu_title";break;case "H":a="tm1webDimDropMenu_hidden"}return a},setHiddenDimensionCount:function(a){b.set(this._hiddenDimensionCountContainer,a.toString())},destroy:function(){this.inherited(arguments);this._dropDownButton.destroyRecursive()}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),
function(n,m,l,k,g,c,e,f){return m("dijit._KeyNavMixin",f,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);l.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var b=this._keyNavCodes={};b[k.HOME]=g.hitch(this,"focusFirstChild");b[k.END]=g.hitch(this,"focusLastChild");b[this.isLeftToRight()?k.LEFT_ARROW:k.RIGHT_ARROW]=g.hitch(this,"_onLeftArrow");b[this.isLeftToRight()?k.RIGHT_ARROW:k.LEFT_ARROW]=g.hitch(this,"_onRightArrow");b[k.UP_ARROW]=g.hitch(this,
"_onUpArrow");b[k.DOWN_ARROW]=g.hitch(this,"_onDownArrow")}var a=this,b="string"==typeof this.childSelector?this.childSelector:g.hitch(this,"childSelector");this.own(c(this.domNode,"keypress",g.hitch(this,"_onContainerKeypress")),c(this.domNode,"keydown",g.hitch(this,"_onContainerKeydown")),c(this.domNode,"focus",g.hitch(this,"_onContainerFocus")),c(this.containerNode,c.selector(b,"focusin"),function(d){a._onChildFocus(e.getEnclosingWidget(this),d)}))},_onLeftArrow:function(){},_onRightArrow:function(){},
_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),
b.set("tabIndex",this.tabIndex),b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){l.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){l.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&
(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,d,c){b&&this.focusChild(b)},_keyboardSearchCompare:function(b,a){var d=b.domNode,d=(b.label||(d.focusNode?d.focusNode.label:"")||d.innerText||d.textContent||"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&d==a?-1:0},_onContainerKeydown:function(b){var a=
this._keyNavCodes[b.keyCode];a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),this._searchString=""):b.keyCode!=k.SPACE||!this._searchTimer||b.ctrlKey||b.altKey||b.metaKey||(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b," "))},_onContainerKeypress:function(b){b.charCode<=k.SPACE||b.ctrlKey||b.altKey||b.metaKey||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(b,a){var d=
null,c,e=0;g.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;c=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var f=this.focusedChild||null;if(1==b||!f)if(f=this._getNextFocusableChild(f,1),!f)return;b=f;do{var g=this._keyboardSearchCompare(f,c);g&&0==e++&&(d=f);if(-1==g){e=-1;break}f=this._getNextFocusableChild(f,
1)}while(f!=b)})();this.onKeyboardSearch(d,b,c,e)},_onChildBlur:function(){},_getNextFocusableChild:function(b,a){var d=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=d&&b.isFocusable())return b}while(b!=d);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var d=e.byNode(b);if(d)return d}return null}})})},
"dojox/collections/Set":function(){define(["./_base","./ArrayList"],function(n,m){n.Set=new function(){function l(k){return k.constructor==Array?new m(k):k}this.union=function(k,g){k=l(k);g=l(g);for(var c=new m(k.toArray()),e=g.getIterator();!e.atEnd();){var f=e.get();c.contains(f)||c.add(f)}return c};this.intersection=function(k,g){k=l(k);g=l(g);for(var c=new m,e=g.getIterator();!e.atEnd();){var f=e.get();k.contains(f)&&c.add(f)}return c};this.difference=function(k,g){k=l(k);g=l(g);for(var c=new m,
e=k.getIterator();!e.atEnd();){var f=e.get();g.contains(f)||c.add(f)}return c};this.isSubSet=function(k,g){k=l(k);g=l(g);for(var c=k.getIterator();!c.atEnd();)if(!g.contains(c.get()))return!1;return!0};this.isSuperSet=function(k,g){k=l(k);g=l(g);for(var c=g.getIterator();!c.atEnd();)if(!k.contains(c.get()))return!1;return!0}};return n.Set})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(n,m,l){return n("dojox.grid.DataSelection",
l,{constructor:function(k){k.keepSelection&&(this.preserver=new m(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var k=l.prototype.getFirstSelected.call(this);return-1==k?null:this.grid.getItem(k)},getNextSelected:function(k){k=this.grid.getItemIndex(k);k=l.prototype.getNextSelected.call(this,k);return-1==k?null:this.grid.getItem(k)},getSelected:function(){for(var k=[],g=0,c=this.selected.length;g<c;g++)this.selected[g]&&k.push(this.grid.getItem(g));
return k},addToSelection:function(k){if("none"!=this.mode){var g=null,g="number"==typeof k||"string"==typeof k?k:this.grid.getItemIndex(k);l.prototype.addToSelection.call(this,g)}},deselect:function(k){if("none"!=this.mode){var g=null,g="number"==typeof k||"string"==typeof k?k:this.grid.getItemIndex(k);l.prototype.deselect.call(this,g)}},deselectAll:function(k){var g=null;k||"number"==typeof k?(g="number"==typeof k||"string"==typeof k?k:this.grid.getItemIndex(k),l.prototype.deselectAll.call(this,
g)):this.inherited(arguments)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(n,m,l,k,g,c,e,f){var b=m("dijit.form._TextBoxMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,d,b){var c;
void 0!==a&&(c=this.filter(a),"string"!=typeof b&&(b=null===c||"number"==typeof c&&isNaN(c)?"":this.filter(this.format(c,this.constraints)),0!=this.compare(c,this.filter(this.parse(b,this.constraints)))&&(b=null)));null==b||"number"==typeof b&&isNaN(b)||this.textbox.value==b||(this.textbox.value=b,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,[c,d])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==
a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();
this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(e(this.textbox,"keydown, keypress, paste, cut, input, compositionend",c.hitch(this,function(a){var d;if("keydown"==a.type){d=a.keyCode;switch(d){case g.SHIFT:case g.ALT:case g.CTRL:case g.META:case g.CAPS_LOCK:case g.NUM_LOCK:case g.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(d){case g.NUMPAD_0:case g.NUMPAD_1:case g.NUMPAD_2:case g.NUMPAD_3:case g.NUMPAD_4:case g.NUMPAD_5:case g.NUMPAD_6:case g.NUMPAD_7:case g.NUMPAD_8:case g.NUMPAD_9:case g.NUMPAD_MULTIPLY:case g.NUMPAD_PLUS:case g.NUMPAD_ENTER:case g.NUMPAD_MINUS:case g.NUMPAD_PERIOD:case g.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==g.SPACE)return;d=!1;for(var b in g)if(g[b]===a.keyCode){d=!0;break}if(!d)return}}(d=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(d=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==g.SPACE?String.fromCharCode(a.keyCode):a.keyCode);d||(d=229);if("keypress"==a.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var e={faux:!0},f;for(f in a)/^(layer[XY]|returnValue|keyLocation)$/.test(f)||(b=a[f],"function"!=typeof b&&"undefined"!=typeof b&&(e[f]=b));c.mixin(e,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(e)&&(e.preventDefault(),e.stopPropagation());e._wasConsumed||this.defer(function(){this._onInput(e)})})),e(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=c.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(a){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=e.once(this.domNode,"mouseup, touchend",c.hitch(this,function(a){this._isTextSelected()||b.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});k("dojo-bidi")&&(b=m("dijit.form._TextBoxMixin",b,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));b._setSelectionRange=f._setSelectionRange=function(a,d,b){a.setSelectionRange&&a.setSelectionRange(d,b)};b.selectInputText=f.selectInputText=function(a,d,
c){a=l.byId(a);isNaN(d)&&(d=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),b._setSelectionRange(a,d,c)}catch(e){}};return b})},"tm1web/share/sandbox/TM1WebSandboxDeleteDialog":function(){define(["dojo/_base/declare","./SandboxDeleteDialog","../service-loader!SandboxService"],function(n,m,l){return n(m,{constructor:function(k,g){this._tm1Widget=k;this._objectId=g},executeGetSandboxesServiceCall:function(k){this._tm1Widget.getSandboxes().then(k)},executeDeleteSandboxesServiceCall:function(k,
g){l.deleteSandboxes(this._objectId,k,g)},disableDefaultSandbox:function(k,g){(g.baseSandbox||g.defaultSandbox)&&k.disableCheckBox(!0)},destroy:function(){this.inherited(arguments);delete this._tm1Widget;delete this._objectId}})})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(n,m,l,k,g,c,e){var f={_isElementShown:function(b){var a=k.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=
a.display&&"hidden"!=l.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return l.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var d=b.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;a=d.body}catch(c){try{a=b.contentWindow.document.body}catch(e){return!1}}return a&&("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==
b.contentEditable}},effectiveTabIndex:function(b){return l.get(b,"disabled")?void 0:l.has(b,"tabIndex")?+l.get(b,"tabIndex"):f.hasDefaultTabStop(b)?0:void 0},isTabNavigable:function(b){return 0<=f.effectiveTabIndex(b)},isFocusable:function(b){return-1<=f.effectiveTabIndex(b)},_getTabNavigable:function(b){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}function d(d){return n[a(d)]||d}var e,g,k,m,q,u,n={},x=f._isElementShown,
y=f.effectiveTabIndex,w=function(d){for(d=d.firstChild;d;d=d.nextSibling)if(!(1!=d.nodeType||9>=c("ie")&&"HTML"!==d.scopeName)&&x(d)){var b=y(d);if(0<=b){if(0==b)e||(e=d),g=d;else if(0<b){if(!k||b<m)m=b,k=d;if(!q||b>=u)u=b,q=d}b=a(d);l.get(d,"checked")&&b&&(n[b]=d)}"SELECT"!=d.nodeName.toUpperCase()&&w(d)}};x(b)&&w(b);return{first:d(e),last:d(g),lowest:d(k),highest:d(q)}},getFirstInTabbingOrder:function(b,a){var d=f._getTabNavigable(m.byId(b,a));return d.lowest?d.lowest:d.first},getLastInTabbingOrder:function(b,
a){var d=f._getTabNavigable(m.byId(b,a));return d.last?d.last:d.highest}};g.mixin(e,f);return f})},"tm1web/share/sandbox/SandboxDeleteDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/query dojo/Deferred dojo/aspect dijit/Dialog dojox/html/entities ../../utility/message-localizer ../CheckRow ../TM1Utility ./SandboxDialog".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n(s,{constructor:function(){this.checkedItems=new c.NodeList;
this.onDeleteDeferred=new e},createSandboxDialog:function(){this.popup=new b({title:d.get("SANDBOX_DELETE_STR")});g.add(this.popup.domNode,"tm1webSandboxDeleteDialog tm1webFormDialog");this._contentContainer=k.create("div");k.place(this._contentContainer,this.popup.containerNode);g.add(this._contentContainer,"tm1webSandboxDialogContent")},createSandboxTopInput:function(){},_onCreateSandboxDialog:function(a){if(a){var b=this;b._sandboxContainerLabel.innerHTML=d.get("SELECT_SANDBOXES_TO_DELETE_STR");
l.forEach(a.sandboxes,function(a){a.baseSandbox||a.defaultSandbox||(a=b.createSandboxItemRow(a),k.place(a,b._sandboxContainer))})}this.own(f.after(this.popup,"onHide",m.hitch(this,"destroy")));this.popup.show()},createSandboxItemRow:function(d){d=new p(d.name,a.encode(d.name));var b=m.hitch(this,"_onCheckBox");return d.createCheckItemRow(!1,b)},disableDefaultSandbox:function(a,d){},_onCheckBox:function(a){a.checked?this.checkedItems.push(a):(a=r.indexOf(this.checkedItems,a),-1<a&&this.checkedItems.splice(a,
1));this._updateButtonsState()},getOkButtonText:function(){return d.get("DELETE_STR")},onOk:function(){var a=this._getAllCheckedSandboxes(),d=m.hitch(this,"onDeleteSandboxes"),b=this.onDeleteDeferred;b.then(d);this.executeDeleteSandboxesServiceCall(a,{callback:b.resolve,scope:this})},_updateButtonsState:function(){0<this.checkedItems.length?(this._primaryButton.disabled=!1,g.remove(this._primaryButton.domNode,"tm1webButtonDisabled")):(this._primaryButton.disabled=!0,g.add(this._primaryButton.domNode,
"tm1webButtonDisabled"))},executeDeleteSandboxesServiceCall:function(a,d){},_getAllCheckedSandboxes:function(){var a=[];l.forEach(this.checkedItems,function(d){a.push(d.identifier)});return a},onDeleteSandboxes:function(a){a||ErrorAlert.show({message:d.get("SOME_SANDBOX_DELETE_FAILED_STR"),title:d.get("SANDBOX_DELETE_STR")});this.destroy()},destroy:function(){this.inherited(arguments);this.checkedItems;this.onDeleteDeferred}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d){f=n("dijit.form.TextBox"+(e("dojo-bidi")?"_NoBidi":""),[f,b],{templateString:a,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=l.getComputedStyle(this.domNode);if(a){var d=a.fontFamily;if(d){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=d}}}catch(c){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=m.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(c(this._phspan,"mousedown",function(a){a.preventDefault()}),c(this._phspan,"touchend, pointerup, MSPointerUp",g.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,d,b){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){k.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){k.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});9>e("ie")&&(f.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},d._setSelectionRange=b._setSelectionRange=function(a,
d,b){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",d),a.moveEnd("character",b-d),a.select())});e("dojo-bidi")&&(f=n("dijit.form.TextBox",f,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return f})},"tm1web/celledit/_CellListValueSaver":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./ValueSaver"],function(n,m,l,k){return n(k,{listItemSelected:!1,store:null,_isRecalcOnChangeRequired:function(){return null},
_changeCellValue:function(g,c,e){this.listItemSelected?this._checkInputString(g,c,e):c&&l(this.store.contains(c),m.hitch(this,function(f){f?this._checkInputString(g,c,e):setTimeout(m.hitch(this,"_handleInvalidUserInput",g,c,e),0)}))},_isPercentValue:function(){return!1},_checkInputString:function(g,c,e){var f=this.getInherited(arguments),b=arguments,a=this;setTimeout(function(){f.apply(a,b)},0)},_handleInvalidUserInput:function(g,c,e){},_onChangeCellValue:function(g){var c=this._isRecalcOnChangeRequired();
null!=c&&(this._needsRecalc=c?!0:!1);this.inherited(arguments)}})})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(n,m,l,k,g,c,e,f){new Date("X");return k("dijit.form._DateTimeTextBox",[c,e],{templateString:f,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:m.regexp,datePackage:"",
postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(b,a){var d=this._isInvalidDate(b),c=this._isInvalidDate(a);if(d||c)return d&&c?0:d?-1:1;var d=this.format(b,this._unboundedConstraints),c=this.format(a,this._unboundedConstraints),e=this.parse(d,this._unboundedConstraints),f=this.parse(c,this._unboundedConstraints);return d==c?0:n.compare(e,f,this._selector)},autoWidth:!0,format:function(b,a){return b?this.dateLocaleModule.format(b,a):""},parse:function(b,
a){return this.dateLocaleModule.parse(b,a)||(this._isEmpty(b)?null:void 0)},serialize:function(b,a){b.toGregorian&&(b=b.toGregorian());return l.toISOString(b,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(b){b=b||{};this.dateModule=b.datePackage?g.getObject(b.datePackage,!1):n;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?g.getObject(b.datePackage+".locale",!1):m;this._set("pattern",this.dateLocaleModule.regexp);
this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(b){b.selector=this._selector;b.fullYear=!0;var a=l.fromISOString;"string"==typeof b.min&&(b.min=a(b.min));"string"==typeof b.max&&(b.max=a(b.max));this.inherited(arguments);this._unboundedConstraints=g.mixin({},
this.constraints,{min:null,max:null})},_isInvalidDate:function(b){return!b||isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,a,d){void 0!==b&&("string"==typeof b&&(b=l.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));this.inherited(arguments);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,a){var d=this._get("value");
"value"==b&&d instanceof Date&&0==this.compare(a,d)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this._set("dropDownDefaultValue",b)},openDropDown:function(b){this.dropDown&&this.dropDown.destroy();var a=g.isString(this.popupClass)?g.getObject(this.popupClass,!1):this.popupClass,d=this,c=this.get("value");this.dropDown=new a({onChange:function(a){d.set("value",a,!0)},id:this.id+"_popup",dir:d.dir,lang:d.lang,value:c,textDir:d.textDir,
currentFocus:this._isInvalidDate(c)?this.dropDownDefaultValue:c,constraints:d.constraints,filterString:d.filterString,datePackage:d.datePackage,isDisabledDate:function(a){return!d.rangeCheck(a,d.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,a){this._setValueAttr(this.parse(b,this.constraints),a,b)}})})},"tm1web/cubeview/metrics/CustomDiagramTooltipView":function(){define("dojo/_base/declare dojo/_base/lang dijit/_Templated ../../utility/message-localizer dojo/text!../../templates/CustomDiagramTooltipView.html dijit/layout/ContentPane ../../share/TM1Utility ./_MetricTypesMixin".split(" "),
function(n,m,l,k,g,c,e,f){return n([c,l,f],{titleCaption:null,statusImage:null,statusText:null,trendImage:null,trendText:null,actualText:null,actualValue:null,targetText:null,targetValue:null,varianceText:null,varianceValue:null,variancePercentText:null,variancePercentValue:null,useEditImage:!1,constructor:function(b){this.templateString||(this.templateString=g);m.mixin(this,b)},postCreate:function(){this.useEditImage&&(this.viewDiv.style.display="none",this.titleDiv.style.display="none",this.editDiv.style.display=
"",this.editDiv.setAttribute("class",this.IMPACT_STATUS_DATA[0].iconClass));this.inherited(arguments)},setTitleCaption:function(b){this.titleCaption.innerHTML=b},setStatus:function(b,a){var d;null==b?(d=k.get(this.EDIT_ICON_INFO[0].altStringId),this.statusIcon.setAttribute("class",this.EDIT_ICON_INFO[0].iconClass)):(d=k.get(this.IMPACT_STATUS_DATA[b+1].altStringId),this.statusIcon.setAttribute("class",this.IMPACT_STATUS_DATA[b+1].iconClass));this.setValue(this.statusTR,this.statusText,this.statusValue,
a,d);this.statusIcon.alt=d},setTrend:function(b,a){var d="";null==b?this.trendIcon.setAttribute("class",this.STRATEGY_TREND_DATA[3].iconClass):(d=k.get(this.STRATEGY_TREND_DATA[b+1].altStringId),this.trendIcon.setAttribute("class",this.STRATEGY_TREND_DATA[b+1].iconClass));this.setValue(this.trendTR,this.trendText,this.trendValue,a,d);this.trendIcon.alt=d},setActualValue:function(b,a){this.setValue(this.actualTR,this.actualText,this.actualValue,a,b)},setTargetValue:function(b,a){this.setValue(this.targetTR,
this.targetText,this.targetValue,a,b)},setToleranceValue:function(b,a){this.setValue(this.toleranceTR,this.toleranceText,this.toleranceValue,a,b)},setVarianceValue:function(b,a){this.setValue(this.varianceTR,this.varianceText,this.varianceValue,a,b)},setVariancePercentValue:function(b,a){this.setValue(this.variancePercentTR,this.variancePercentText,this.variancePercentValue,a,b)},startup:function(){this.inherited(arguments)},setValue:function(b,a,d,c,e){this.useEditImage?(b.style.display="none",a.innerHTML=
"",d.innerHTML=""):(b.style.display="",a.innerHTML=c,d.innerHTML=null===e?"":e)}})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(n,m,l,k,g,c){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var e=[];g("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(k.hitch(this,function(f){f.name==this.name&&f.form==this.focusNode.form&&
(f=c.getEnclosingWidget(f))&&e.push(f)}));return e},_setCheckedAttr:function(c){this.inherited(arguments);this._created&&c&&n.forEach(this._getRelatedWidgets(),k.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(c){return null==c?"on":c},_onClick:function(c){return this.checked||this.disabled?(c.stopPropagation(),c.preventDefault(),!1):this.readOnly?(c.stopPropagation(),c.preventDefault(),n.forEach(this._getRelatedWidgets(),k.hitch(this,function(c){l.set(this.focusNode||
this.domNode,"checked",c.checked)})),!1):this.inherited(arguments)}})})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(n,m,l){var k={global:n.global,doc:n.global.document||null,body:function(g){g=g||n.doc;return g.body||g.getElementsByTagName("body")[0]},setContext:function(g,c){n.global=k.global=g;n.doc=k.doc=c},withGlobal:function(g,c,e,f){var b=n.global;try{return n.global=k.global=g,k.withDoc.call(null,g.document,c,e,f)}finally{n.global=k.global=b}},withDoc:function(g,
c,e,f){var b=k.doc,a=l("quirks"),d=l("ie"),p,r,s;try{return n.doc=k.doc=g,n.isQuirks=l.add("quirks","BackCompat"==n.doc.compatMode,!0,!0),l("ie")&&(s=g.parentWindow)&&s.navigator&&(p=parseFloat(s.navigator.appVersion.split("MSIE ")[1])||void 0,(r=g.documentMode)&&5!=r&&Math.floor(p)!=r&&(p=r),n.isIE=l.add("ie",p,!0,!0)),e&&"string"==typeof c&&(c=e[c]),c.apply(e,f||[])}finally{n.doc=k.doc=b,n.isQuirks=l.add("quirks",a,!0,!0),n.isIE=l.add("ie",d,!0,!0)}}};m.mixin(n,k);return k})},"dojo/_base/json":function(){define(["./kernel",
"../json"],function(n,m){n.fromJson=function(l){return eval("("+l+")")};n._escapeString=m.stringify;n.toJsonIndentStr="\t";n.toJson=function(l,k){return m.stringify(l,function(g,c){if(c){var e=c.__json__||c.json;if("function"==typeof e)return e.call(c)}return c},k&&n.toJsonIndentStr)};return n})},"tm1web/celledit/AsyncSimpleQueryEngine":function(){define(["dojo/_base/lang","dojo/store/util/SimpleQueryEngine","dojo/when"],function(n,m,l){return function(k,g){var c=m(k,g);return function(e){e=l(e,c);
e.then&&(e=n.delegate(e),e.total=e.then(function(c){return c.total}));return e}}})},"tm1web/subseteditor/ElementSelector":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/when dojo/dom-geometry dojo/dom-style dojo/text!./templates/ElementSelector.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/TooltipDialog ../utility/message-localizer ./dndSelector ./Model ./TreePane ./SubsetEditor ./FindBar ../widgets/WarningOptionsDialog".split(" "),function(n,m,l,k,g,c,e,
f,b,a,d,p,r,s,t,q,u){return n("tm1web.subseteditor.ElementSelector",[a,f,b],{openSubsetEditorButtonVisible:!0,openSubsetEditorButtonDisabled:!1,readOnly:!1,baseClass:"tm1webElementSelector",templateString:e,_treeNode:null,_findBarNode:null,_findBar:null,_buttonContainerNode:null,_openSubsetEditorButton:null,_subsetEditorOpened:!1,_buttonLabel:d.get("OPEN_SUBSET_EDITOR_STR"),_model:null,constructor:function(a){this._model=a._model?a._model:new r({objectId:a.objectId,sheetIndex:a.sheetIndex,dimension:a.dimension,
rowIndex:a.rowIndex,columnIndex:a.columnIndex,element:a.element,readOnly:a.readOnly})},postCreate:function(){this.inherited(arguments);this._load()},_load:function(){var a=this;this._model.getSubsetStoreModel().then(function(b){var c=a._tree=new s({model:b,dndController:p,onChange:m.hitch(a,"_layoutChildren"),onLoad:m.hitch(a,"onLoad")},a._treeNode);c.on("select",function(c){var e=function(){var d=a._submitDeferred=new l;a._model.submit().then(function(){a.onSubmit(c.get("label"),b.getElementIndex(c.get("item")),
a._lastSelectedSubset,a._lastSelectedAlias);d.resolve();a._submitDeferred=null})};a._model.getMetaData().then(function(c){b.getMetaData(function(b){a._lastSelectedSubset=c.selectedSubset.name;a._lastSelectedAlias=c.selectedAlias;c.selectedSubset.dynamic&&b.modified?(a._pendingDialogDeferred=new l,u.show({message:d.get("DYNAMIC_SUBSET_MODIFIED")+"\n"+d.get("USE_STATIC_SUBSET"),okButtonLabel:d.get("SUBSET_WARNING_OK_STR"),cancelButtonLabel:d.get("CANCEL_STR"),title:d.get("SUBSET_WARNING_TITLE_STR"),
onExecute:function(){e()}}).always(function(){a._pendingDialogDeferred.resolve()})):e()})})});a._findBar=(new q({subsetTree:c})).placeAt(a._findBarNode);a._findBar.startup()})},onSubmit:function(a,d){},onOpen:function(a){this.inherited(arguments);this._best=a;this._originalConnectorRight=this._getConnectorRightPixels();this._tree.set("maxHeight",this._computeMaxTreeHeight());this._tree.set("maxWidth",this._computeMaxTreeWidth());this._layoutChildren();this._findBar._textBox.focus()},_computeMaxTreeHeight:function(){return this._computeMaxTreeSize("h")},
_computeMaxTreeWidth:function(){return this._computeMaxTreeSize("w")},_computeMaxTreeSize:function(a){var d=this._best.spaceAvailable[a],b=g.getMarginBox(this.domNode)[a];a=g.getContentBox(this._treeNode)[a];return d-(b-a)},_layoutChildren:function(){var a;this._requiresAdjustment()&&(a=g.getMarginBox(this._popupWrapper));this._tree.resize();this._findBar.resize();this._adjustPosition(a)},_isConnectorRightAligned:function(){return this._best&&0<=this._best.corner.indexOf("R")},_isOpenedAbove:function(){return this._best&&
0<=this._best.aroundCorner.indexOf("T")},_requiresAdjustment:function(){return this._isConnectorRightAligned()||this._isOpenedAbove()},_adjustPosition:function(a){if(a){var d=g.getMarginBox(this._popupWrapper);if(this._isConnectorRightAligned()){var b=d.w-a.w,c=this._getConnectorRightPixels();this._connectorNode.style.right=Math.max(this._originalConnectorRight,c+b)+"px"}this._isOpenedAbove()&&(a=d.t-(d.h-a.h),0>a&&(d=this._tree.get("maxHeight"),this._tree.set("maxHeight",d+a),a=0),g.setMarginBox(this._popupWrapper,
{t:a}))}},_getConnectorRightPixels:function(){var a=c.getComputedStyle(this._connectorNode);return c.toPixelValue(this._connectorNode,a.right)},_openSubsetEditor:function(){this._subsetEditorOpened=!0;var a=new t({model:this._model,readOnly:this.readOnly,onHide:function(){a.destroyRecursive();a=null},onSubmit:this.onSubmit});a.show()},_setOpenSubsetEditorButtonDisabledAttr:function(a){this._openSubsetEditorButton.set("disabled",a)},_setOpenSubsetEditorButtonVisibleAttr:function(a){this._buttonContainerNode.style.display=
a?"":"none"},destroy:function(){var a=this.getInherited(arguments),d=arguments;k(this._pendingDialogDeferred,m.hitch(this,function(){k(this._submitDeferred,m.hitch(this,function(){this._subsetEditorOpened||this._model.destroy();a.apply(this,d)}))}))}})})},"dojo/cldr/nls/number":function(){define({root:{scientificFormat:"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]",infinity:"\u221e",superscriptingExponent:"\u00d7",list:";",percentSign:"%",minusSign:"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]",
"decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"\u00a0",nan:"NaN",plusSign:"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]",currencyFormat:"\u00a4\u00a0#,##0.00",perMille:"\u2030",group:",",percentFormat:"#,##0%","decimalFormat-long":"000T",decimalFormat:"#,##0.###",decimal:".","currencySpacing-beforeCurrency-insertBetween":"\u00a0",exponential:"E"},af:!0,"af-na":!0,agq:!0,ak:!0,am:!0,ar:!0,"ar-dz":!0,
"ar-eg":!0,"ar-lb":!0,"ar-ly":!0,"ar-ma":!0,"ar-mr":!0,"ar-ps":!0,"ar-qa":!0,"ar-sa":!0,"ar-sy":!0,"ar-tn":!0,"ar-ye":!0,as:!0,asa:!0,az:!0,"az-cyrl":!0,bas:!0,be:!0,bem:!0,bez:!0,bg:!0,bm:!0,bn:!0,"bn-in":!0,bo:!0,br:!0,brx:!0,bs:!0,"bs-cyrl":!0,ca:!0,cgg:!0,chr:!0,cs:!0,cy:!0,da:!0,dav:!0,de:!0,"de-at":!0,"de-ch":!0,"de-li":!0,dje:!0,dua:!0,dyo:!0,dz:!0,ebu:!0,ee:!0,el:!0,"el-cy":!0,en:!0,"en-150":!0,"en-au":!0,"en-be":!0,"en-in":!0,"en-us-posix":!0,"en-za":!0,eo:!0,es:!0,"es-419":!0,"es-ar":!0,
"es-bo":!0,"es-cl":!0,"es-co":!0,"es-cr":!0,"es-ec":!0,"es-gq":!0,"es-mx":!0,"es-py":!0,"es-uy":!0,"es-ve":!0,et:!0,eu:!0,ewo:!0,fa:!0,"fa-af":!0,ff:!0,fi:!0,fil:!0,fo:!0,fr:!0,"fr-be":!0,"fr-ch":!0,"fr-lu":!0,ga:!0,gl:!0,gsw:!0,gu:!0,guz:!0,gv:!0,ha:!0,"ha-sd":!0,haw:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,ii:!0,is:!0,it:!0,"it-ch":!0,ja:!0,jgo:!0,jmc:!0,ka:!0,kab:!0,kam:!0,kde:!0,kea:!0,khq:!0,ki:!0,kk:!0,kkj:!0,kl:!0,kln:!0,km:!0,kn:!0,ko:!0,kok:!0,ks:!0,ksb:!0,ksf:!0,"ku-tr":!0,kw:!0,ky:!0,
lg:!0,ln:!0,lo:!0,lt:!0,lu:!0,luo:!0,luy:!0,lv:!0,mas:!0,mer:!0,mfe:!0,mg:!0,mgh:!0,mgo:!0,mk:!0,ml:!0,mn:!0,mo:!0,mr:!0,ms:!0,"ms-latn-bn":!0,mt:!0,mua:!0,my:!0,naq:!0,nb:!0,nd:!0,ne:!0,nl:!0,"nl-be":!0,nmg:!0,nn:!0,nnh:!0,nr:!0,nso:!0,nus:!0,nyn:!0,om:!0,or:!0,pa:!0,"pa-arab":!0,"pa-pk":!0,pl:!0,ps:!0,pt:!0,"pt-pt":!0,rm:!0,rn:!0,ro:!0,rof:!0,ru:!0,rw:!0,rwk:!0,saq:!0,sbp:!0,seh:!0,ses:!0,sg:!0,sh:!0,shi:!0,"shi-latn":!0,si:!0,sk:!0,sl:!0,sn:!0,so:!0,sq:!0,sr:!0,"sr-latn":!0,ss:!0,st:!0,sv:!0,sw:!0,
swc:!0,ta:!0,"ta-my":!0,"ta-sg":!0,te:!0,teo:!0,th:!0,ti:!0,tn:!0,to:!0,tr:!0,ts:!0,twq:!0,tzm:!0,ug:!0,uk:!0,ur:!0,"ur-in":!0,uz:!0,"uz-af":!0,"uz-arab":!0,"uz-cyrl":!0,vai:!0,"vai-latn":!0,ve:!0,vi:!0,vun:!0,xh:!0,xog:!0,yav:!0,yo:!0,"yo-bj":!0,zgh:!0,zh:!0,"zh-hans-hk":!0,"zh-hans-mo":!0,"zh-hans-sg":!0,"zh-hant":!0,"zh-hant-hk":!0,"zh-hk":!0,"zh-mo":!0,"zh-tw":!0,zu:!0})},"tm1web/cubeview/metrics/CustomDiagramContent":function(){define(["dojo/_base/declare","dojo/json","./RaveChartContent","./CustomDiagramInteractivityHelper"],
function(n,m,l,k){return n(l,{constructor:function(g){null==this._interactivityHelper&&(this._interactivityHelper=new k,this._interactivityHelper.setupInteractivity(this._visWidget))},_setVizJsonSpec:function(g){var c=m.parse(g.jsonString);this._visWidget.setSpec(c);g=m.parse(g.metricPopupData);this._interactivityHelper.setData(g)}})})},"tm1web/subseteditor/Model":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/when ./SubsetStore ./SubsetStoreModel".split(" "),function(n,
m,l,k,g,c){return n(null,{objectId:null,dimension:null,rowIndex:null,columnIndex:null,element:null,readOnly:!1,lazyLoadDimensionSubset:!0,_sessionId:null,_subsetId:null,_dimensionId:null,_subsetStoreModel:null,_dimensionStoreModel:null,_onLoadDeferred:null,_sessionInfo:null,constructor:function(c){m.mixin(this,c);this._assertParamsValid();this._load()},_assertParamsValid:function(){if(!this.objectId)throw"No objectId was specified";if(null!=this.rowIndex){if(null==this.columnIndex)throw"A column index must be specified in addition to a row index";
if(isNaN(this.rowIndex))throw"rowIndex must be a numeric type.";}if(null!=this.columnIndex){if(null==this.rowIndex)throw"A row index must be specified in addition to a column index";if(isNaN(this.columnIndex))throw"columnIndex must be a numeric type.";}if(null==this.rowIndex&&null==this.columnIndex&&!this.dimension)throw"Either dimension or (rowIndex and columnIndex) must be specified";},_load:function(){var c=this._onLoadDeferred=new l,f=this;null!=this.rowIndex?SubsetService.createWebSheetSubsetSession(this.objectId,
null==this.sheetIndex?-1:this.sheetIndex,this.rowIndex,this.columnIndex,!this.lazyLoadDimensionSubet,{callback:function(b){f._sessionInfo=b;c.resolve();delete f._onLoadDeferred},scope:this,errorHandler:function(b){c.reject(b);delete f._onLoadDeferred}}):null!=this.element?SubsetService.createSpreadSubsetSession(this.objectId,this.dimension,this.element,!this.lazyLoadDimensionSubset,{callback:function(b){f._sessionInfo=b;c.resolve();delete f._onLoadDeferred},scope:this,errorHandler:function(b){c.reject(b);
delete f._onLoadDeferred}}):SubsetService.createCubeViewSubsetSession(this.objectId,this.dimension,!this.lazyLoadDimensionSubset,{callback:function(b){f._sessionInfo=b;c.resolve();delete f._onLoadDeferred},scope:this,errorHandler:function(b){c.reject(b);delete f._onLoadDeferred}})},_getSessionId:function(){return this._sessionInfo.sessionId},getIsAllowedUserDefinedCalculations:function(){return this._sessionInfo.allowUserDefinedCalculations},getServerName:function(){return this._sessionInfo.serverName},
getSubsetStoreModel:function(){this._assertNotDestroyed();var e=new l;this._subsetStoreModel?e.resolve(this._subsetStoreModel):k(this._onLoadDeferred,m.hitch(this,function(){this._subsetStoreModel=new c({store:new g({sessionId:this._getSessionId(),subsetId:this._sessionInfo.subsetId,_subsetInfo:this._sessionInfo.subsetInfo,sheetIndex:this.sheetIndex,objectId:this.objectId})});e.resolve(this._subsetStoreModel)}));return e.promise},getDimensionStoreModel:function(){this._assertNotDestroyed();var e=
new l;this._dimensionStoreModel?e.resolve(this._dimensionStoreModel):k(this._onLoadDeferred,m.hitch(this,function(){this._dimensionStoreModel=new c({store:new g({sessionId:this._getSessionId(),subsetId:this._sessionInfo.dimensionId,_subsetInfo:this._sessionInfo.dimensionInfo})});e.resolve(this._dimensionStoreModel)}));return e.promise},submit:function(){this._assertNotDestroyed();var c=new l,f=this;this.getSubsetStoreModel().then(function(b){k(b.store.setSelectedPromise,m.hitch(f,function(){this.readOnly?
c.resolve():SubsetService.submit(this._getSessionId(),{callback:function(){c.resolve()},scope:this,errorHandler:function(a,d){c.reject(a,d)}})}))});return c.promise},setAlias:function(c){this._assertNotDestroyed();var f=new l,b=this;k(this._onLoadDeferred,function(){SubsetService.setAlias(b._getSessionId(),c,{callback:function(a){b._sessionInfo=a;b._onChange();f.resolve()},scope:this,errorHandler:function(a,d){f.reject(a,d)}})});return f.promise},setSubset:function(c){this._assertNotDestroyed();var f=
new l,b=this;k(this._onLoadDeferred,function(){SubsetService.setNamedSubset(b._getSessionId(),c,{callback:function(a){b._sessionInfo=a;b._onChange();f.resolve()},scope:this,errorHandler:function(a,d){f.reject(a,d)}})});return f.promise},setExpandAbove:function(c){this._assertNotDestroyed();var f=new l,b=this;k(this._onLoadDeferred,function(){SubsetService.setExpandAbove(b._getSessionId(),!!c,{callback:function(a){b._sessionInfo=a;b._onChange();f.resolve()},scope:this,errorHandler:function(a,d){f.reject(a,
d)}})});return f.promise},_onChange:function(){this._subsetStoreModel&&this._sessionInfo.subsetInfo&&this._updateStoreModel(this._subsetStoreModel,this._sessionInfo.subsetInfo);this._dimensionStoreModel&&this._sessionInfo.dimensionInfo&&this._updateStoreModel(this._dimensionStoreModel,this._sessionInfo.dimensionInfo);this.onMetaDataChange(this._sessionInfo.metaData)},_updateStoreModel:function(c,f){c.store._update(f);c.store._onChange()},getMetaData:function(){this._assertNotDestroyed();var c=new l;
k(this._onLoadDeferred,m.hitch(this,function(){c.resolve(this._sessionInfo.metaData)}));return c.promise},onMetaDataChange:function(c){},saveSubset:function(){this._assertNotDestroyed();var c=new l,f=this;k(this._onLoadDeferred,function(){SubsetService.saveSubset(f._sessionInfo.sessionId,f._sessionInfo.subsetId,{callback:function(b){f._sessionInfo=b;f._onChange();c.resolve()},scope:this,errorHandler:function(b,a){alert(b);c.reject(b,a)}})});return c.promise},saveSubsetAs:function(c,f,b){this._assertNotDestroyed();
var a=new l,d=this;k(this._onLoadDeferred,function(){SubsetService.saveSubsetAs(d._sessionInfo.sessionId,d._sessionInfo.subsetId,c,f,b,{callback:function(b){d._sessionInfo=b;d._onChange();a.resolve()},scope:this,errorHandler:function(d,b){a.reject(d,b)}})});return a.promise},getLevelsCount:function(){this._assertNotDestroyed();var c=new l;k(this._onLoadDeferred,m.hitch(this,function(){c.resolve(this._sessionInfo.levelsCount)}));return c.promise},_assertNotDestroyed:function(){if(this._destroyed)throw"Model has already been destroyed.";
},destroy:function(){var c=new l;this._subsetStoreModel&&this._subsetStoreModel.destroy();this._dimensionStoreModel&&this._dimensionStoreModel.destroy();k(this._onLoadDeferred,m.hitch(this,function(){SubsetService.destroy(this.objectId,this._getSessionId(),{callback:function(){c.resolve()},scope:this,errorHandler:function(){c.cancel()}})}));this._destroyed=!0;return c.promise}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(d){this._set("disabled",d);l.set(this.focusNode,"disabled",d);this.valueNode&&l.set(this.valueNode,"disabled",d);this.focusNode.setAttribute("aria-disabled",d?"true":"false");d?(this._set("hovering",!1),this._set("active",
!1),d="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",n.forEach(g.isArray(d)?d:[d],function(d){d=this[d];f("webkit")||a.hasDefaultTabStop(d)?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(e(this.focusNode,"focus",function(){l.remove();c.remove()}))[0],k=f("pointer-events")?"pointerup":
f("MSPointer")?"MSPointerUp":f("touch-events")?"touchend, mouseup":"mouseup",l=this.own(e(this.ownerDocumentBody,k,g.hitch(this,function(a){l.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){b.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=k.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){void 0!=this._lastValueReported||null!==b&&this._onChangeActive||(this._resetValue=this._lastValueReported=a);this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);(this.intermediateChanges||b||void 0===b)&&this._pendingOnChange&&(this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"tm1web/cubeview/CubeViewNubbin":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct",
"./GridBase"],function(n,m,l,k){return n(k,{constructor:function(){this.CornerCell=this.ColNubs=this.RowNubs=this.Grid=this.Panel=null;this._NubbinSize=10;this.InitializeCubeViewNubbin()},InitializeCubeViewNubbin:function(){this.RowNubs=[];this.ColNubs=[];this.CreateContainer()},CreateContainer:function(){this.Panel=this.CreatePanel();this.Grid=document.createElement("TABLE");this.Grid.className="tm1webNubbinsTable";this.Grid.cellSpacing=0;this.Grid.cellPadding=0;l.place(this.Grid,this.Panel)},Update:function(g){g.layoutChanged&&
g.dimensionButtons&&this.Create(g)},DoCreate:function(g){g=g.dimensionButtons;var c=g.rowDimButtons?g.rowDimButtons.length:0;this._columns=null;this.Grid.firstChild&&"COLGROUP"==this.Grid.firstChild.nodeName&&l.destroy(this.Grid.firstChild);if(c){this._columns=[];for(var e=l.create("COLGROUP"),f=0;f<c;f++){var b=l.create("col",{},e);this._columns.push(b)}c=l.create("col",{width:this._NubbinSize+"px",minWidth:this._NubbinSize+"px"},e);this._columns.push(c);l.place(e,this.Grid,"first")}var a=document.createElement("TBODY"),
d=this,e=function(){return d.CreateTR(a)};this._InsertCells("C",g.columnDimButtons,"tm1webNbbnColumn","tm1webNbbnColumnB",e);var p=e();this._InsertCells("R",g.rowDimButtons,"tm1webNbbnRow","tm1webNbbnRowB",function(){return p});e=a.firstChild;c=this.CreateTd();l.place(c,e,"first");c.rowSpan=a.childNodes.length-1;c.colSpan=p.childNodes.length;this._InsertCornerCell(p,g.columnDimButtons||[],g.rowDimButtons||[]);return a},_InsertCornerCell:function(g,c,e){this.CornerCell=g=this.CreateTd(g);g.CssClass=
"tm1webNbbnCorner";g.noWrap=!0;c=0<c.length;e=0<e.length;c&&e?g.className+=" tm1webNbbnCorner_rc":c&&!e?g.className+=" tm1webNbbnCorner_c":!c&&e?g.className+=" tm1webNbbnCorner_r":c||e||(g.className+=" tm1webNbbnCorner_none")},_InsertCells:function(g,c,e,f,b){var a=null,d=this;m.forEach(c||[],function(c){var k=b();a=d.CreateTd(k);a.noWrap="nowrap";a.className=e+" "+f;"R"==g?d.RowNubs.push(a):"C"==g&&d.ColNubs.push(a);a.dimensionName=c.dimensionName});null==a&&(c=b(),a=this.CreateTd(c),a.className=
e+" tm1webNbbnEmtpy");a.className+=" tm1webNbbnLast"},RemoveContent:function(){this.RemoveChildren(this.Panel)}})})},"dojo/json":function(){define(["./has"],function(n){var m="undefined"!=typeof JSON;n.add("json-parse",m);n.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(k,g){return g||1}));if(n("json-stringify"))return JSON;var l=function(k){return('"'+k.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,
"\\r")};return{parse:n("json-parse")?JSON.parse:function(k,g){if(g&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(k))throw new SyntaxError("Invalid characters in JSON");return eval("("+k+")")},stringify:function(k,g,c){function e(b,a,d){g&&(b=g(d,b));var p;p=typeof b;if("number"==p)return isFinite(b)?b+"":"null";if("boolean"==p)return b+"";if(null===b)return"null";if("string"==typeof b)return l(b);if("function"==p||"undefined"==p)return f;
if("function"==typeof b.toJSON)return e(b.toJSON(d),a,d);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,d,c){a=b["getUTC"+d]()+(c?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return e(b.valueOf(),a,d);var k=c?a+c:"",s=c?" ":"",m=c?"\n":"";if(b instanceof Array){var s=b.length,q=[];for(d=0;d<s;d++)p=e(b[d],k,d),"string"!=typeof p&&(p="null"),q.push(m+k+p);return"["+q.join(",")+m+a+"]"}q=[];for(d in b){var u;if(b.hasOwnProperty(d)){if("number"==
typeof d)u='"'+d+'"';else if("string"==typeof d)u=l(d);else continue;p=e(b[d],k,d);"string"==typeof p&&q.push(m+k+u+":"+s+p)}}return"{"+q.join(",")+m+a+"}"}var f;"string"==typeof g&&(c=g,g=null);return e(k,"","")}}})},"dojox/uuid/generateRandomUuid":function(){define(["../main","./_base"],function(n){n.uuid.generateRandomUuid=function(){function m(){for(var c=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>c.length;)c="0"+c;return c}var l=m(),k=m(),k=k.substring(0,4)+"-4"+k.substring(5,
8),g=m(),g="8"+g.substring(1,4)+"-"+g.substring(4,8),c=m();return l=(l+"-"+k+"-"+g+c).toLowerCase()};return n.uuid.generateRandomUuid})},"tm1web/cubeview/WrappedCellCollection":function(){define(["dojo/_base/declare"],function(n){return n(null,{_columns:null,constructor:function(){this._columns={}},add:function(m,l){this._getColumn(l)[m]=!0},remove:function(m,l){var k=this._getColumn(l);k[m]&&delete k[m]},hasCells:function(m){m=this._getColumn(m);if(Object.getOwnPropertyNames)return 0<Object.getOwnPropertyNames(m).length;
for(var l in m)if(m.hasOwnProperty(l))return!1;return!0},_getColumn:function(m){this._columns[m]||(this._columns[m]={});return this._columns[m]}})})},"tm1web/share/ChartContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on ../cubeview/ContextMenu ../widgets/ErrorAlert ../utility/message-localizer".split(" "),function(n,m,l,k,g,c,e,f){return n(c,{constructor:function(b,a,d,c){this._panel=b;this.ObjectId=a;this._service=d;this._drillMap=c;this._InitializeContextMenu()},
_InitializeContextMenu:function(){this.own(g(this._panel,"mouseup",m.hitch(this,"_ShowContextMenu")));this._InitializeMenuLabels()},_InitializeMenuLabels:function(){this.MenuLabels.DRILL=f.get("DRILL_STR")},_ShowContextMenu:function(b){if(2==b.button&&(b=b.target,null!=b)){var a=!1;"AREA"==b.nodeName?(this._currentArea=b,a=!0):"rect"!=b.nodeName&&"circle"!=b.nodeName&&"path"!=b.nodeName||null==this._drillMap||(this._currentArea=this._drillMap[b.id],a=!0);a&&this._currentArea&&(this.ContextMenu=this._GenerateContextMenu(),
this.ContextMenu.bindDomNode(b),this.ContextMenu.onClose=m.hitch(this,"_OnContextMenuClose"))}},_GenerateContextMenu:function(){var b=this._currentArea.drillInfo?this._currentArea.drillInfo.drillList:null,b=null==b||""==b,b=[{label:this.MenuLabels.DRILL,disabled:b,iconClass:"tm1webContextmenu_icon_drill",data:"Drill",subMenu:b?null:this._generateDrillSubMenu()}];return this._CreateMenu(b)},_generateDrillSubMenu:function(){for(var b=this._currentArea.drillInfo.drillList.split(","),a=[],d=0;d<b.length;d++)a[d]=
{label:b[d],iconClass:"",data:b[d]};this._BatchAddHandler(a,this._doDrill);return this._CreateMenu(a)},_doDrill:function(b){this._service.getDrillView(this.ObjectId,this._currentArea.drillInfo.cellRow,this._currentArea.drillInfo.cellCol,b.Data,{callback:this._onDoDrill,arg:b.Data,scope:this})},_onDoDrill:function(b,a){b?b.objectId?b.relational?l.publish(this.ObjectId+"-RelationalDrillThrough",a,b.colNames,b.gridData,b.objectId):l.publish(this.ObjectId+"-TM1WidgetIdentityCreated",{objectId:b.objectId},
b.viewName):e.show({message:f.get("response"),title:f.get("DRILL_ERROR_TITLE_STR")}):e.show({message:f.get("DRILL_ERROR"),title:f.get("DRILL_ERROR_TITLE_STR")})}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(n){return n.dojox})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){var r=m("dojo.dnd.Selector",
p,{constructor:function(d,c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(b(this.node,a.press,k.hitch(this,"onMouseDown")),b(this.node,a.release,k.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new f,b=d._empty,c;for(c in this.selection)c in b||a.push(g.byId(c));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,
d){this._addItemClass(g.byId(d),"Selected");this.selection[d]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=d._empty,b;for(b in this.selection)if(!(b in a)){var e=g.byId(b);this.delItem(b);c.destroy(e)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||l.global;var c=this.selection,e=d._empty,f;for(f in c)f in e||a.call(b,this.getItem(f),f,this)},sync:function(){r.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&
(this.anchor=null);var a=[],b=d._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);n.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,d,b,c){var e=this._normalizedCreator;this._normalizedCreator=function(d,b){var c=e.call(this,d,b);a?(this.anchor?this.anchor!=c.node&&(this._removeItemClass(c.node,"Anchor"),this._addItemClass(c.node,"Selected")):(this.anchor=c.node,this._removeItemClass(c.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),
this.selection[c.node.id]=1):(this._removeItemClass(c.node,"Selected"),this._removeItemClass(c.node,"Anchor"));return c};r.superclass.insertNodes.call(this,d,b,c);this._normalizedCreator=e;return this},destroy:function(){r.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!d.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,e.isLeft(a)&&(a.stopPropagation(),a.preventDefault());
else{if(!this.singular&&a.shiftKey){d.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,f;c<b.length&&(f=b[c],f!=this.anchor&&f!=this.current);++c);for(++c;c<b.length;++c){f=b[c];if(f==this.anchor||f==this.current)break;this._addItemClass(f,"Selected");this.selection[f.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=
1}}else this.singular?this.anchor==this.current?d.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):d.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,
"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=
1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=b(this.node,a.move,k.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=d._empty,b;for(b in this.selection)if(!(b in a)){var c=g.byId(b);c&&this._removeItemClass(c,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null);return this}});return r})},"tm1web/celledit/_CellDropDownMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/dom-class dojo/dom dojo/keys dojo/on dijit/focus ./_EditMixin".split(" "),function(n,m,l,k,g,c,e,f,b){return n("tm1web.celledit._CellDropDownMixin",[b],{hasDropDown:!0,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"tm1webCellDropDown");this.domNode.style.display="none"},show:function(a){var d=!!a.openDropDown,b=d&&a.focusDropDown;
this.inherited(arguments);d&&(this.loadAndOpenDropDown(),b&&this._openAndHighlightDropDown())},_show:function(a){var d=!!a.openDropDown;k.toggle(this.domNode,"tm1webCellDropDownClosed",!d);k.toggle(this.domNode,"tm1webCellDropDownOpen",d);this._openDropDown=d;this.inherited(arguments);this._openDropDown=!1;d&&(this._hasDropDownOpened=!0)},_shouldLeftAlignButton:function(){return this._activeCell.offsetParent.offsetWidth<=this._activeCell.offsetLeft+this._activeCell.offsetWidth+this._buttonNode.offsetWidth},
_adjustPosition:function(){k.toggle(this._buttonNode,"tm1webCellDropDownButtonNodeLeft",this._shouldLeftAlignButton());this.inherited(arguments);var a=l.getPadBorderExtents(this.domNode).h;l.setMarginBox(this._buttonNode,{h:this._activeCell.offsetHeight-a})},_calculateWidth:function(){if(this._openDropDown){var a=l.getPadBorderExtents(this.domNode).w;return this._activeCell.offsetWidth+this._buttonNode.offsetWidth+a-1}},_calculateOffsetLeft:function(){var a=this._activeCell,d=this.inherited(arguments);
return k.contains(this._buttonNode,"tm1webCellDropDownButtonNodeLeft")?(a=l.getPadBorderExtents(this.domNode).w,d-this._buttonNode.offsetWidth-a):d+(this._openDropDown?0:a.offsetWidth-1)},onInput:function(a){switch(a.charOrCode){case c.DOWN_ARROW:if(a.altKey)return this._openAndHighlightDropDown(),this._keyNavigationDisabled=!0,!1;case c.UP_ARROW:case c.LEFT_ARROW:case c.RIGHT_ARROW:if(this._allowKeyNavigation&&!this._keyNavigationDisabled){var d=this._activeCell;this.hide();e.emit(d,"keydown",m.mixin({},
a));return!1}break;case c.ESCAPE:if(this._opened)return this._keyNavigationDisabled=!1,this.closeDropDown(),!1}return this.inherited(arguments)},_openAndHighlightDropDown:function(){},hasOpened:function(){return this._hasDropDownOpened},hide:function(){this._visible&&(this.inherited(arguments),this._hasDropDownOpened=!1,this.closeDropDown())},toggleDropDown:function(){this._hasDropDownOpened?this._opened&&(this._keyNavigationDisabled=!1):this._show({openDropDown:!0});this.inherited(arguments)},_analyzeValue:function(){},
_isPercentCell:function(){return!1}})})},"tm1web/spreading/RelativeSpreadDialogBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/aspect dijit/Dialog dijit/registry dijit/form/Button ./SpreadDialogCommon ../utility/message-localizer".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){return n(a,{constructor:function(){this.selectButton=this._ApplyPageContainer=this._SelectPageContainer=this._ApplyPageButtonContainer=this._SelectPageButtonContainer=
this._RefCellVal=this._Dialog=null;this._InitializeRelativeSpreadDialogBase()},_InitializeRelativeSpreadDialogBase:function(){},Initialize:function(){this._CreateDialog()},Update:function(a){this._dataGrid.Update(a)},_CreateDialog:function(a){this._Dialog=new e({title:this._Title},null);this.own(c.after(this._Dialog,"onHide",m.hitch(this._Dialog,"destroyRecursive")));l.add(this._Dialog.domNode,a);l.add(this._Dialog.domNode,"tm1webFormDialog");this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){},
_CreateBaseLayout:function(){this._SelectPageButtonContainer=this.CreatePanel("","tm1webDataRelativeSpread_selectButtonContainer tm1webDialogButtons");this._ApplyPageButtonContainer=this.CreatePanel("","tm1webDataRelativeSpread_applyButtonContainer tm1webDialogButtons");k.place(this._SelectPageButtonContainer,this._Dialog.containerNode);k.place(this._ApplyPageButtonContainer,this._Dialog.containerNode);l.remove(this._SelectPageButtonContainer,"tm1webHidden");l.add(this._ApplyPageButtonContainer,"tm1webHidden");
this._CreateSelectPageButtonContent(this._SelectPageButtonContainer);this._CreateApplyPageButtonContent(this._ApplyPageButtonContainer)},_CreateSelectPageButtonContent:function(a){this.selectButton=this._CreateButton(d.get("SPREAD_BUTTON_RELATIVE_SELECT"),this._OnSelect,a,"tm1WebBtnPrimary");this._CreateButton(d.get("SPREAD_BUTTON_RELATIVE_CANCEL"),this._OnCancel,a,"tm1webBtnSecondary")},_CreateApplyPageButtonContent:function(a){this._CreateButton(d.get("SPREAD_BUTTON_RELATIVE_GO_BACK"),this._OnBack,
a,"tm1webBtnSecondary");this._CreateButton(d.get("SPREAD_BUTTON_RELATIVE_APPLY"),this._OnApply,a,"tm1WebBtnPrimary");this._CreateButton(d.get("SPREAD_BUTTON_RELATIVE_CANCEL"),this._OnCancel,a,"tm1webBtnSecondary")},_CreateButton:function(a,d,c,e){a=new b({label:a,onClick:m.hitch(this,d)});g.set(a.domNode,"width","auto");l.add(a.domNode,e);k.place(a.domNode,c);return a},_OnSelect:function(){alert("have to be overriden")},_OnBack:function(){l.add(this._ApplyPageButtonContainer,"tm1webHidden");l.add(this._ApplyPageContainer,
"tm1webHidden");l.remove(this._SelectPageButtonContainer,"tm1webHidden");l.remove(this._SelectPageContainer,"tm1webHidden")},_OnCancel:function(){this.Destroy()},_OnApply:function(){},_OnSpread:function(a){this.Update(a)},Show:function(){this._Dialog.show()},Destroy:function(){this._Dialog.hide()}})})},"dojox/grid/_Scroller":function(){define("dijit/registry dojo/_base/declare dojo/_base/lang dojo/_base/array ./util dojo/_base/html".split(" "),function(n,m,l,k,g,c){var e=function(b){b&&k.forEach(n.toArray(),
function(a){a.domNode&&c.isDescendant(a.domNode,b,!0)&&a.destroy()})},f=function(b,a){for(var d=[],e=0,f;f=b.childNodes[e];){e++;var g=c.byId(f);(g&&g.tagName?g.tagName.toLowerCase():"")==a&&d.push(f)}return d};return m("dojox.grid._Scroller",null,{constructor:function(b){this.setContentNodes(b);this.pageHeights=[];this.pageNodes=[];this.stack=[]},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,
lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(b,a,d){switch(arguments.length){case 3:this.rowsPerPage=d;case 2:this.keepRows=a;case 1:this.rowCount=b}this.defaultPageHeight=(0<this.grid.rowHeight?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();this.scrollboxNode&&(this.scrollboxNode.scrollTop=0,this.scroll(0),this.scrollboxNode.onscroll=l.hitch(this,
"onscroll"))},_getPageCount:function(b,a){return b?Math.ceil(b/a)||1:0},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode},setKeepInfo:function(b){this.keepPages=(this.keepRows=b)?Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2):this.keepPages},setContentNodes:function(b){this.colCount=(this.contentNodes=b)?this.contentNodes.length:0;this.pageNodes=[];for(b=0;b<this.colCount;b++)this.pageNodes[b]=[]},getDefaultNodes:function(){return this.pageNodes[0]||
[]},invalidate:function(){this._invalidating=!0;this.invalidateNodes();this.pageHeights=[];this.height=this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0;this.resize();this._invalidating=!1},updateRowCount:function(b){this.invalidateNodes();this.rowCount=b;b=this.pageCount;0===b&&(this.height=1);this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<b)for(--b;b>=this.pageCount;b--)this.height-=this.getPageHeight(b),delete this.pageHeights[b];
else this.pageCount>b&&(this.height+=this.defaultPageHeight*(this.pageCount-b-1)+this.calcLastPageHeight());this.resize()},pageExists:function(b){return Boolean(this.getDefaultPageNode(b))},measurePage:function(b){return this.grid.rowHeight?((b+1)*this.rowsPerPage>this.rowCount?this.rowCount-b*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight:(b=this.getDefaultPageNode(b))&&b.innerHTML?b.offsetHeight:void 0},positionPage:function(b,a){for(var d=0;d<this.colCount;d++)this.pageNodes[d][b].style.top=
a+"px"},repositionPages:function(b){for(var a=this.getDefaultNodes(),d=0,c=0;c<this.stack.length;c++)d=Math.max(this.stack[c],d);var e=(c=a[b])?this.getPageNodePosition(c)+this.getPageHeight(b):0;for(b+=1;b<=d;b++){if(c=a[b]){if(this.getPageNodePosition(c)==e)break;this.positionPage(b,e)}e+=this.getPageHeight(b)}},installPage:function(b){for(var a=0;a<this.colCount;a++)this.contentNodes[a].appendChild(this.pageNodes[a][b])},preparePage:function(b,a){for(var d=a?this.popPage():null,c=0;c<this.colCount;c++){var e=
this.pageNodes[c],f=null===d?this.createPageNode():this.invalidatePageNode(d,e);f.pageIndex=b;e[b]=f}},renderPage:function(b){var a=[],d;for(d=0;d<this.colCount;d++)a[d]=this.pageNodes[d][b];d=0;for(b*=this.rowsPerPage;d<this.rowsPerPage&&b<this.rowCount;d++,b++)this.renderRow(b,a)},removePage:function(b){var a=0;for(b*=this.rowsPerPage;a<this.rowsPerPage;a++,b++)this.removeRow(b)},destroyPage:function(b){for(var a=0;a<this.colCount;a++){var d=this.invalidatePageNode(b,this.pageNodes[a]);d&&c.destroy(d)}},
pacify:function(b){},pacifying:!1,pacifyTicks:200,setPacifying:function(b){this.pacifying!=b&&(this.pacifying=b,this.pacify(this.pacifying))},startPacify:function(){this.startPacifyTicks=(new Date).getTime()},doPacify:function(){var b=(new Date).getTime()-this.startPacifyTicks>this.pacifyTicks;this.setPacifying(!0);this.startPacify();return b},endPacify:function(){this.setPacifying(!1)},resize:function(){this.scrollboxNode&&(this.windowHeight=this.scrollboxNode.clientHeight);for(var b=0;b<this.colCount;b++)g.setStyleHeightPx(this.contentNodes[b],
Math.max(1,this.height));b=!this._invalidating;if(!b){var a=this.grid.get("autoHeight");"number"==typeof a&&a<=Math.min(this.rowsPerPage,this.rowCount)&&(b=!0)}b&&this.needPage(this.page,this.pageTop);b=this.page<this.pageCount-1?this.rowsPerPage:this.rowCount%this.rowsPerPage||this.rowsPerPage;a=this.getPageHeight(this.page);this.averageRowHeight=0<a&&0<b?a/b:0},calcLastPageHeight:function(){if(!this.pageCount)return 0;var b=(this.rowCount%this.rowsPerPage||this.rowsPerPage)*this.defaultRowHeight;
return this.pageHeights[this.pageCount-1]=b},updateContentHeight:function(b){this.height+=b;this.resize()},updatePageHeight:function(b,a,d){if(this.pageExists(b)){var c=this.getPageHeight(b),e=this.measurePage(b);void 0===e&&(e=c);this.pageHeights[b]=e;if(c!=e){this.updateContentHeight(e-c);var f=this.grid.get("autoHeight");"number"==typeof f&&f>this.rowCount||!0===f&&!a?d?(a=this.grid.viewsNode.style,a.height=parseInt(a.height)+e-c+"px",this.repositionPages(b)):this.grid.sizeChange():this.repositionPages(b)}return e}return 0},
rowHeightChanged:function(b,a){this.updatePageHeight(Math.floor(b/this.rowsPerPage),!1,a)},invalidateNodes:function(){for(;this.stack.length;)this.destroyPage(this.popPage())},createPageNode:function(){var b=document.createElement("div");c.attr(b,"role","presentation");b.style.position="absolute";b.style[this.grid.isLeftToRight()?"left":"right"]="0";return b},getPageHeight:function(b){b=this.pageHeights[b];return void 0!==b?b:this.defaultPageHeight},pushPage:function(b){return this.stack.push(b)},
popPage:function(){return this.stack.shift()},findPage:function(b){for(var a=0,d=0,c=0;a<this.pageCount&&!(c=this.getPageHeight(a),d+c>=b);a++,d+=c);this.page=a;this.pageTop=d},buildPage:function(b,a,d){this.preparePage(b,a);this.positionPage(b,d);this.installPage(b);this.renderPage(b);this.pushPage(b)},needPage:function(b,a){var d=this.getPageHeight(b);this.pageExists(b)?this.positionPage(b,a):(this.buildPage(b,!this.grid._autoHeight&&this.keepPages&&this.stack.length>=this.keepPages,a),d=this.updatePageHeight(b,
!0));return d},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop)},scroll:function(b){this.grid.scrollTop=b;if(this.colCount){this.startPacify();this.findPage(b);for(var a=this.height,d=this.getScrollBottom(b),c=this.page,e=this.pageTop;c<this.pageCount&&(0>d||e<d);c++)e+=this.needPage(c,e);this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,b);this.lastVisibleRow=this.getLastVisibleRow(c-1,e,d);a!=this.height&&this.repositionPages(c-1);this.endPacify()}},getScrollBottom:function(b){return 0<=
this.windowHeight?b+this.windowHeight:-1},processNodeEvent:function(b,a){for(var d=b.target;d&&d!=a&&d.parentNode&&d.parentNode.parentNode!=a;)d=d.parentNode;if(!d||!d.parentNode||d.parentNode.parentNode!=a)return!1;b.topRowIndex=d.parentNode.pageIndex*this.rowsPerPage;var c=b.topRowIndex,e;a:{e=0;for(var f,g=d.parentNode;f=g.childNodes[e++];)if(f==d){--e;break a}e=-1}b.rowIndex=c+e;b.rowTarget=d;return!0},processEvent:function(b){return this.processNodeEvent(b,this.contentNode)},renderRow:function(b,
a){},removeRow:function(b){},getDefaultPageNode:function(b){return this.getDefaultNodes()[b]},positionPageNode:function(b,a){},getPageNodePosition:function(b){return b.offsetTop},invalidatePageNode:function(b,a){var d=a[b];d&&(delete a[b],this.removePage(b,d),e(d),d.innerHTML="");return d},getPageRow:function(b){return b*this.rowsPerPage},getLastPageRow:function(b){return Math.min(this.rowCount,this.getPageRow(b+1))-1},getFirstVisibleRow:function(b,a,d){if(!this.pageExists(b))return 0;var c=this.getPageRow(b),
e=this.getDefaultNodes();b=f(e[b],"div");for(var e=0,g=b.length;e<g&&a<d;e++,c++)a+=b[e].offsetHeight;return c?c-1:c},getLastVisibleRow:function(b,a,d){if(!this.pageExists(b))return 0;var c=this.getDefaultNodes(),e=this.getLastPageRow(b);b=f(c[b],"div");for(c=b.length-1;0<=c&&a>d;c--,e--)a-=b[c].offsetHeight;return e+1},findTopRow:function(b){for(var a=this.getDefaultNodes(),a=f(a[this.page],"div"),d=0,c=a.length,e=this.pageTop,g;d<c;d++)if(g=a[d].offsetHeight,e+=g,e>=b)return this.offset=g-(e-b),
d+this.page*this.rowsPerPage;return-1},findScrollTop:function(b){var a=Math.floor(b/this.rowsPerPage),d=0,c;for(c=0;c<a;c++)d+=this.getPageHeight(c);this.pageTop=d;this.page=a;this.needPage(a,this.pageTop);c=this.getDefaultNodes();var e=f(c[a],"div"),a=b-this.rowsPerPage*a;c=0;for(b=e.length;c<b&&c<a;c++)d+=e[c].offsetHeight;return d},dummy:0})})},"tm1web/spreading/ReferenceSelectControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dijit/popup ../utility/message-localizer ../subseteditor/ElementSelector ./SpreadDialogCommon".split(" "),
function(n,m,l,k,g,c,e,f,b){return n(b,{constructor:function(){this._selectButton=this._CubeSelect=this._CellRefArr=this._RefCellDimData=this._CurrentSelectedElemCell=this._cubeNames=this._colDimCount=this._rowDimCount=this._titleDimCount=this._DimensionsCount=this._dimensionsDataMap=this._DimensionTable=this._TableContainer=this._ContentContainer=null;this._InitializeReferenceSelectControl()},GetContentContainer:function(){return this._ContentContainer},_InitializeReferenceSelectControl:function(){this._DoCreate()},
_DoCreate:function(){this._ContentContainer=this.CreatePanel("","tm1webRelativeSpreadCubeSelectContainer");this._TableContainer=this.CreatePanel("","tm1webReferenceSelect_tableContainer");this._CubeContainer=this.CreatePanel("","tm1webReferenceSelect_cubeContainer");k.place(this._CubeContainer,this._ContentContainer);k.place(this._TableContainer,this._ContentContainer);this._CreateDimensionTable(null)},_CreateCubeContent:function(){this.CreateLabel(this._CubeContainer,e.get("SPREAD_LABEL_RELATIVE_CUBE"),
"tm1webReferenceSelect_cubeLabel");this._CreateCubeSelect(this._CubeContainer,"tm1webRelativeSpreadCubeSelect")},_CreateCubeSelect:function(a,d){this._CubeSelect=document.createElement("select");l.add(this._CubeSelect,d);k.place(this._CubeSelect,a);this.own(g(this._CubeSelect,"change",m.hitch(this,"_onSelectionChanged")));this.Service.getCubeNames(this._ObjectId,this.GetSelectedElemNames(),this.GetSelectedDimNames(),{callback:this._onGetCubeNames,scope:this})},_onSelectionChanged:function(){this._CreateDimensionTable(this.getCubeName())},
_onGetCubeNames:function(a){if(a){this._cubeNames=a.cubes;for(var d=0;d<this._cubeNames.length;d++)k.create("option",{value:this._cubeNames[d],innerHTML:this._cubeNames[d],selected:this._cubeNames[d]==a.currentCube},this._CubeSelect)}},_CreateDimensionTable:function(a){var d=this.CreateTable(!0);this._Table&&k.destroy(this._Table);l.add(d,"tm1webRelativeSpreadDimensionTable");this._Table=d;this.Service.getRefCellDimensionData(this._ObjectId,a,this._coord.rowIndex,this._coord.colIndex,{callback:this._onGetRefCellDimensionData,
scope:this})},_onGetRefCellDimensionData:function(a){this._RetrieveRefCellDimElemNames(a);this._OnCreateDimensionTable();this._CubeSelect||this._CreateCubeContent()},_RetrieveRefCellDimElemNames:function(a){this._RefCellDimData=a;this._buildRefCellDimensionDataMap(this._RefCellDimData);this._DimensionsCount=this._RefCellDimData.length;this._checkElementsFilled()},_buildRefCellDimensionDataMap:function(a){this._dimensionsDataMap={};for(var d=0;d<a.length;d++){var b=a[d],c=b?b.dimensionName:null;c&&
(this._dimensionsDataMap[c]=b)}},_OnCreateDimensionTable:function(){var a=this._Table.insertRow(-1);this._CreateHeaderCell(e.get("SPREAD_TBL_HDR_RELATIVE_DIMENSIONS"),"tm1webRelativeSpreadHeaderCell",a);this._CreateHeaderCell(e.get("SPREAD_TBL_HDR_RELATIVE_ELMT_NAME"),"tm1webRelativeSpreadHeaderCell",a);for(a=0;a<this._DimensionsCount;a++){var d=this._Table.insertRow(-1);this._CreateCell(d,this._RefCellDimData[a])}k.place(this._Table,this._TableContainer)},_CreateHeaderCell:function(a,d,b){cell=document.createElement("th");
b.appendChild(cell);this.SetTextContent(cell,a);l.add(cell,d);return cell},_CreateCell:function(a,d){for(var b=0;2>b;b++){var c=a.insertCell(-1);0==b?this._CreateDimensionCell(c,d.dimensionName,d.consolidated):this._CreateElementCell(c,d.dimensionElementName)}},_CreateDimensionCell:function(a,d,b){var c=k.create("div"),e=document.createElement("input");e.type="Button";var f=m.hitch(this,"_SetSelectedElementInfo",d);b?l.add(e,"tm1webSpreadConsolidated"):(f=m.hitch(this,"_SetSelectedElementInfo",d),
g(e,"click",m.hitch(this,function(b){this._CurrentSelectedElemCell=a.nextSibling;this._LaunchSubsetEditor(c,this._ObjectId,d,f)})));e.value=d;l.add(a,"tm1webRelativeSpreadHolderCell");l.add(c,"tm1webRelativeSpreadDimensionCellButtonContainer");l.add(e,"tm1webRelativeSpreadDimensionCellButton");k.place(e,c);k.place(c,a)},_CreateElementCell:function(a,d){null==d?this.SetTextContent(a,""):this.SetTextContent(a,d);l.add(a,"tm1webRefrenceSelectDataCell")},_LaunchSubsetEditor:function(a,d,b,e){var g=this._dimensionsDataMap[b].dimensionElementName;
null==g&&(g="");var k=new f({objectId:d,dimension:b,element:g,readOnly:!0,onClose:function(){k.destroyRecursive();k=null},onSubmit:function(a){e(a);c.close(k)},onBlur:function(){c.close(k)},onCancel:function(){c.close(k)},onLoad:function(){c.open({popup:k,around:a})}})},_SetSelectedElementInfo:function(a,d){null==d?this.SetTextContent(this._CurrentSelectedElemCell,""):this.SetTextContent(this._CurrentSelectedElemCell,d);this._dimensionsDataMap[a].dimensionElementName=d;this._checkElementsFilled()},
_checkElementsFilled:function(){if(this._RefCellDimData&&this._selectButton){for(var a=this.GetSelectedElemNames(),d=!0,b=0;b<a.length;b++)if(!a[b]||""==a[b]){d=!1;break}d?this._selectButton.set("disabled",!1):this._selectButton.set("disabled",!0)}},GetSelectedDimNames:function(){for(var a=Array(this._DimensionsCount),d=0;d<this._DimensionsCount;d++)a[d]=this._RefCellDimData[d]?this._RefCellDimData[d].dimensionName:null;return a},GetSelectedElemNames:function(){for(var a=Array(this._DimensionsCount),
d=0;d<this._DimensionsCount;d++)a[d]=this._RefCellDimData[d]?this._RefCellDimData[d].dimensionElementName:null;return a},BuildReferenceString:function(){this._CellRefArr=Array(this._DimensionsCount+1);this._CellRefArr[0]=this.getCubeName();var a="["+this.getCubeName(),d;for(d=0;d<this._DimensionsCount;d++){var b=this._RefCellDimData[d].dimensionName+":"+this._RefCellDimData[d].dimensionElementName;this._CellRefArr[d+1]=b;a+=","+b}return a+"]"},buildReferenceArray:function(){var a=Array(this._DimensionsCount+
1);a[0]=this.getCubeName();for(var d=0;d<this._DimensionsCount;d++)a[d+1]=this._RefCellDimData[d].dimensionName+":"+this._RefCellDimData[d].dimensionElementName;return a},getCubeName:function(){return this._CubeSelect.value},setSelectButton:function(a){this._selectButton=a}})})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(n,m,l,k){var g=n.Color=function(c){c&&this.setColor(c)};g.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,
255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};m.extend(g,{r:255,g:255,b:255,a:1,_set:function(c,e,f,b){this.r=c;this.g=e;this.b=f;this.a=b},setColor:function(c){m.isString(c)?g.fromString(c,this):m.isArray(c)?g.fromArray(c,this):(this._set(c.r,c.g,c.b,c.a),c instanceof g||this.sanitize());return this},
sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(c){c=this[c].toString(16);return 2>c.length?"0"+c:c},this).join("")},toCss:function(c){var e=this.r+", "+this.g+", "+this.b;return(c?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});g.blendColors=n.blendColors=function(c,e,f,b){var a=b||new g;l.forEach(["r","g","b","a"],function(d){a[d]=
c[d]+(e[d]-c[d])*f;"a"!=d&&(a[d]=Math.round(a[d]))});return a.sanitize()};g.fromRgb=n.colorFromRgb=function(c,e){var f=c.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return f&&g.fromArray(f[1].split(/\s*,\s*/),e)};g.fromHex=n.colorFromHex=function(c,e){var f=e||new g,b=4==c.length?4:8,a=(1<<b)-1;c=Number("0x"+c.substr(1));if(isNaN(c))return null;l.forEach(["b","g","r"],function(d){var e=c&a;c>>=b;f[d]=4==b?17*e:e});f.a=1;return f};g.fromArray=n.colorFromArray=function(c,e){var f=e||new g;f._set(Number(c[0]),
Number(c[1]),Number(c[2]),Number(c[3]));isNaN(f.a)&&(f.a=1);return f.sanitize()};g.fromString=n.colorFromString=function(c,e){var f=g.named[c];return f&&g.fromArray(f,e)||g.fromRgb(c,e)||g.fromHex(c,e)};return g})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){l.isAsync||a(0,function(){d(["./fx/Toggler"])});l=l.fx={};a={_fire:function(a,d){this[a]&&this[a].apply(this,
d||[]);return this}};var p=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;k.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};p.prototype=new m;n.extend(p,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):
(this._current=this._animations[++this._index],this._onAnimateCtx=g.after(this._current,"onAnimate",n.hitch(this,"_onAnimate"),!0),this._onEndCtx=g.after(this._current,"onEnd",n.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,d){this._current||(this._current=this._animations[this._index=0]);if(!d&&"playing"==this._current.status())return this;var b=g.after(this._current,"beforeBegin",n.hitch(this,function(){this._fire("beforeBegin")}),!0),c=g.after(this._current,"onBegin",n.hitch(this,
function(a){this._fire("onBegin",arguments)}),!0),e=g.after(this._current,"onPlay",n.hitch(this,function(a){this._fire("onPlay",arguments);b.remove();c.remove();e.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=g.after(this._current,"onAnimate",n.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=g.after(this._current,"onEnd",n.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=
g.after(this._current,"onPause",n.hitch(this,function(d){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,d){this.pause();var b=this.duration*a;this._current=null;k.some(this._animations,function(a,d){if(b<=a.duration)return this._current=a,this._index=d,!0;b-=a.duration;return!1},this);this._current&&this._current.gotoPercent(b/this._current.duration);d&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<
this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var d=g.after(this._current,"onStop",n.hitch(this,function(a){this._fire("onStop",arguments);d.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});n.extend(p,a);l.chain=function(a){return new p(a)};
var r=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;k.forEach(a,function(a){var d=a.duration;a.delay&&(d+=a.delay);this.duration<d&&(this.duration=d);this._connects.push(g.after(a,"onEnd",n.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var d=this;k.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){d._connects.push(g.after(d._pseudoAnimation,a,function(){d._fire(a,
arguments)},!0))})};n.extend(r,{_doAction:function(a,d){k.forEach(this._animations,function(b){b[a].apply(b,d)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,d){var b=this._pseudoAnimation;b[a].apply(b,d)},play:function(a,d){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,d){var b=
this.duration*a;k.forEach(this._animations,function(a){a.gotoPercent(a.duration<b?1:b/a.duration,d)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();k.forEach(this._connects,function(a){a.remove()})}});n.extend(r,a);l.combine=function(a){return new r(a)};l.wipeIn=function(a){var d=a.node=e.byId(a.node),b=d.style,p;a=c.animateProperty(n.mixin({properties:{height:{start:function(){p=
b.overflow;b.overflow="hidden";if("hidden"==b.visibility||"none"==b.display)return b.height="1px",b.display="",b.visibility="",1;var a=f.get(d,"height");return Math.max(a,1)},end:function(){return d.scrollHeight}}}},a));var k=function(){b.height="auto";b.overflow=p};g.after(a,"onStop",k,!0);g.after(a,"onEnd",k,!0);return a};l.wipeOut=function(a){var d=(a.node=e.byId(a.node)).style,b;a=c.animateProperty(n.mixin({properties:{height:{end:1}}},a));g.after(a,"beforeBegin",function(){b=d.overflow;d.overflow=
"hidden";d.display=""},!0);var f=function(){d.overflow=b;d.height="auto";d.display="none"};g.after(a,"onStop",f,!0);g.after(a,"onEnd",f,!0);return a};l.slideTo=function(a){var d=null,p=null,k=function(a){return function(){var c=f.getComputedStyle(a),e=c.position;d="absolute"==e?a.offsetTop:parseInt(c.top)||0;p="absolute"==e?a.offsetLeft:parseInt(c.left)||0;"absolute"!=e&&"relative"!=e&&(c=b.position(a,!0),d=c.y,p=c.x,a.style.position="absolute",a.style.top=d+"px",a.style.left=p+"px")}}(a.node=e.byId(a.node));
k();a=c.animateProperty(n.mixin({properties:{top:a.top||0,left:a.left||0}},a));g.after(a,"beforeBegin",k,!0);return a};return l})},"tm1web/subseteditor/SubsetEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/array dojo/promise/all dojo/Deferred dojo/sniff dojo/dom-construct dojo/dom-geometry dojo/dom-class dojo/dom dojo/on dojo/aspect dojo/keys dijit/registry dijit/focus dijit/Dialog dijit/form/Button dijit/form/TextBox dijit/layout/BorderContainer dojo/text!./templates/SubsetEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojox/html/entities dojox/layout/ResizeHandle dojox/layout/ToggleSplitter ../utility/message-localizer ../utility/dom ../widgets/_MaximizeableDialogMixin ./TopToolbar ./BottomToolbar ./Model ./TreePane ./SubsetTree ./DimensionTree ./TreePaneHeader ../widgets/WarningOptionsDialog".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y,w,z,B,A,C,F,G,K,N,P,I,J,Q,E,D,H,T){return n("tm1web.subseteditor.SubsetEditor",[u,z,B,N],{model:null,baseClass:"tm1webSubsetEditor",templateString:w,_lastSelected:"",_topToolbar:null,_topToolbarNode:null,_bottomToolbar:null,_bottomToolbarNode:null,_treeContainer:null,_submitButton:null,_cancelButton:null,_submitButtonLabel:G.get("OK_STR"),_cancelButtonLabel:G.get("CANCEL_STR"),_elasticScroll:!1,constructor:function(a){a.model||(this.model=new J({objectId:a.objectId,
dimension:a.dimension,rowIndex:a.rowIndex,columnIndex:a.columnIndex,element:a.element,readOnly:a.readOnly,lazyLoadDimensionSubset:!1}));this._loadDeferred=new c},buildRendering:function(){this.inherited(arguments);this._treeContainer.set("_splitterClass",F)},postCreate:function(){this.inherited(arguments);this._resizeHandle=(new C({targetId:this.id,activeResize:!0,minWidth:400,minHeight:185})).placeAt(this.domNode);var a=this,d=this.model,b=this._treeContainer,e=this._loadDeferred;d.getDimensionStoreModel().then(function(f){d.getSubsetStoreModel().then(function(p){var k=
new c,q=new c;g([k,q]).then(function(){e.resolve()});var r=a._dimensionTree=new Q({region:"left",splitter:!0,style:{width:"49%"},Tree:D,model:f,onLoad:function(){k.resolve()}}),l=new H({model:d,getLabel:function(a){return G.get("AVAILABLE_ELEMENTS_HEADER",d.dimension)}});r.addChild(l);var l=a._subsetTree=new Q({region:"center",model:p,dimensionTree:r.get("tree"),onLoad:function(){q.resolve()}}),m=new H({model:d,subsetModel:p,getLabel:function(a){a=a.selectedSubset;var b=a.name;b?a.isPublic||(b=G.get("SUBSET_PRIVATE_STR",
b)):b=G.get("UNNAMED_PARENS");return G.get("SUBSET_HEADER",d.dimension,b)+(this.get("subsetModified")?" *":"")},onMetaDataChange:function(d){this.inherited("onMetaDataChange",arguments);a.set("title",a._getTitleText(d))}});l.addChild(m);l.on("select",function(d){a._lastSelected=d.get("label");a._lastSelectedIndex=p.getElementIndex(d.get("item"))});a._addContents();b.addChild(r);b.addChild(l);a._attachEventListeners()})})},_getTitleText:function(a){var d=a.selectedSubset;a=(a=d.name)?d.isPublic?G.get("SUBSET_PUBLIC_STR",
a):G.get("SUBSET_PRIVATE_STR",a):G.get("UNNAMED_PARENS");d=A.encode(G.get("SUBSET_EDITOR_TITLE"));a=A.encode(G.get("SUBSET_EDITOR_SUBTITLE",this.model.getServerName(),this.model.dimension,a));return d+"\x3cspan class\x3d'tm1webSubsetEditorTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webSubsetEditorSubtitle'\x3e"+a+"\x3c/span\x3e"},_addContents:function(){this._topToolbar=new P({model:this.model,subsetTree:this._subsetTree,dimensionTree:this._dimensionTree},this._topToolbarNode);this._bottomToolbar=
new I({model:this.model,subsetTree:this._subsetTree,dimensionTree:this._dimensionTree},this._bottomToolbarNode)},_attachEventListeners:function(){this.own(p(document.documentElement,"keydown",m.hitch(this,"_onKeyDown")));var a=this;this.own(r.around(this._bottomToolbar,"_toggleFind",function(d){return function(){var b=a._bottomToolbar.findBar.domNode,c=b.offsetHeight,e=a._treeContainer,f=e.domNode,f={w:f.offsetWidth,h:f.offsetHeight};d.apply(this,arguments);f.h+=c-b.offsetHeight;e.resize(f)}}));this.own(r.after(this._dimensionTree,
"onFocus",m.hitch(this,"_setDimensionTreeActive")));this.own(r.after(this._subsetTree,"onFocus",m.hitch(this,"_setSubsetTreeActive")))},_onKeyDown:function(a){function b(a,e){return e&&d.isDescendant(a,c._dimensionTree.domNode)||d.isDescendant(a,c._subsetTree.domNode)?!0:!1}var c=this;e("mac")&&a.metaKey||!e("mac")&&a.ctrlKey?"F"===String.fromCharCode(a.keyCode)?(this._bottomToolbar.toggleFind(),l.stop(a)):"C"===String.fromCharCode(a.keyCode)&&b(a.target,!0)?(this._topToolbar.copy(),l.stop(a)):"V"===
String.fromCharCode(a.keyCode)&&b(a.target)&&(this._topToolbar.paste(),l.stop(a)):a.keyCode===s.DELETE&&b(a.target,!0)&&(this._topToolbar._deleteSelectedElements(),l.stop(a))},_setDimensionTreeActive:function(){a.remove(this._dimensionTree.domNode,"tm1webTreePaneInactive");a.add(this._subsetTree.domNode,"tm1webTreePaneInactive");this._subsetTree.get("tree").clearFound()},_setSubsetTreeActive:function(){a.remove(this._subsetTree.domNode,"tm1webTreePaneInactive");a.add(this._dimensionTree.domNode,"tm1webTreePaneInactive");
this._dimensionTree.get("tree").clearFound()},show:function(){var a=this.getInherited(arguments),d=arguments,b=this,e=new c;this._loadDeferred.then(function(){a.apply(b,d).then(function(){q.focus(b._subsetTree.domNode);e.resolve()})});return e},_layoutChildren:function(){this.inherited(arguments);if(!this._isElasticScroll()){var a=this._treeContainer,d=this.containerNode,c=K.getContentBox(d);k.forEach(d.children,function(d){d!==a.domNode&&(c.h-=b.getMarginBox(d).h)});a.resize(c)}},_isElasticScroll:function(){if(e("mobile-device")){if(0!=
b.docScroll().y)return this._elasticScroll=!0;if(1==this._elasticScroll)return this._elasticScroll=!1,!0}return!1},execute:function(){if(this.readOnly){var a=new c;a.resolve();return a.promise}return this.model.submit()},_onSubmit:function(){var a=this,d=function(){a.execute().then(function(){a.onExecute();a.onSubmit(a._lastSelected,a._lastSelectedIndex,a._lastSelectedSubset,a._lastSelectedAlias)})};this.model.getMetaData().then(function(b){a._subsetTree.get("model").getMetaData(function(c){a._lastSelectedSubset=
b.selectedSubset.name;a._lastSelectedAlias=b.selectedAlias;b.selectedSubset.dynamic&&c.modified?T.show({message:G.get("DYNAMIC_SUBSET_MODIFIED")+"\n"+G.get("USE_STATIC_SUBSET"),okButtonLabel:G.get("SUBSET_WARNING_OK_STR"),cancelButtonLabel:G.get("CANCEL_STR"),title:G.get("SUBSET_WARNING_TITLE_STR"),onExecute:function(){d()}}):d()})})},onSubmit:function(){},destroy:function(){this.inherited(arguments);this.model.destroy();this._resizeHandle.destroyRecursive()}})})},"tm1web/on/mousewheel":function(){define(["dojo/sniff",
"dojo/on"],function(n,m){var l=function(){return n("mozilla")?"DOMMouseScroll":"mousewheel"};return{call:function(k,g,c){return m(g,l(),c)},toString:l}})},"tm1web/utility/clipboard":function(){define(["dojo/sniff","dojo/Deferred","dojo/on","../widgets/InfoAlert","./message-localizer"],function(n,m,l,k,g){var c=!1,e=null;return{get:function(f){if(window.clipboardData&&!c){var b=window.clipboardData.getData("Text");if(null!=b&&window.clipboardData.setData("Text",b))return b;if(null===b)return null}if(n("chrome")||
n("ff")){var a=new m,b=new CustomEvent("tm1webPaste",{bubbles:!1,cancelable:!0});if(!document.documentElement.dispatchEvent(b)){var d=l(document.documentElement,"tm1webPasteResponse"+b.timeStamp,function(b){d.remove();a.resolve(b.detail.value)});return a.promise}}f&&!c&&(f=g.get("PASTE_CLIPBOARD_OFF_STR")+"\n"+g.get("LOCAL_DATA_USED_STR"),k.show({message:f,title:g.get("PASTE_CLIPBOARD_OFF_TITLE_STR")}),c=!0);return e},set:function(f){if(!window.clipboardData||!window.clipboardData.setData("Text",
f)){if(n("chrome")||n("ff")){var b=new CustomEvent("tm1webCopy",{bubbles:!1,cancelable:!0,detail:{value:f}});if(!document.documentElement.dispatchEvent(b))return!0}c||(b=g.get("COPY_CLIPBOARD_OFF_STR")+"\n"+g.get("LOCAL_DATA_USED_STR"),k.show({message:b,title:g.get("COPY_CLIPBOARD_OFF_TITLE_STR")}),c=!0);e=f;return!0}}}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(n,m,l,k,g){var c=Object.freeze||function(){},
e=function(a,b,c,e,g){2===b&&d.instrumentRejected&&0===a.length&&d.instrumentRejected(c,!1,e,g);for(g=0;g<a.length;g++)f(a[g],b,c,e)},f=function(c,e,f,g){var k=c[e],l=c.deferred;if(k)try{var m=k(f);if(0===e)"undefined"!==typeof m&&a(l,e,m);else{if(m&&"function"===typeof m.then){c.cancel=m.cancel;m.then(b(l,1),b(l,2),b(l,0));return}a(l,1,m)}}catch(n){a(l,2,n)}else a(l,e,f);2===e&&d.instrumentRejected&&d.instrumentRejected(f,!!k,g,l.promise)},b=function(d,b){return function(c){a(d,b,c)}},a=function(a,
d,b){if(!a.isCanceled())switch(d){case 0:a.progress(b);break;case 1:a.resolve(b);break;case 2:a.reject(b)}},d=function(a){var b=this.promise=new k,g=this,m,q,n,v=!1,x=[];Error.captureStackTrace&&(Error.captureStackTrace(g,d),Error.captureStackTrace(b,d));this.isResolved=b.isResolved=function(){return 1===m};this.isRejected=b.isRejected=function(){return 2===m};this.isFulfilled=b.isFulfilled=function(){return!!m};this.isCanceled=b.isCanceled=function(){return v};this.progress=function(a,d){if(m){if(!0===
d)throw Error("This deferred has already been fulfilled.");return b}e(x,0,a,null,g);return b};this.resolve=function(a,d){if(m){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}e(x,m=1,q=a,null,g);x=null;return b};var y=this.reject=function(a,d){if(m){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(n={},y);e(x,m=2,q=a,n,g);x=null;return b};this.then=b.then=function(a,c,e){var g=[e,a,c];g.cancel=
b.cancel;g.deferred=new d(function(a){return g.cancel&&g.cancel(a)});m&&!x?f(g,m,q,n):x.push(g);return g.deferred.promise};this.cancel=b.cancel=function(d,b){if(!m){if(a){var c=a(d);d="undefined"===typeof c?d:c}v=!0;if(!m)return"undefined"===typeof d&&(d=new l),y(d),d;if(2===m&&q===d)return d}else if(!0===b)throw Error("This deferred has already been fulfilled.");};c(b)};d.prototype.toString=function(){return"[object Deferred]"};g&&g(d);return d})},"tm1web/share/AddAnnotationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/dom-class dojo/dom-construct dijit/Dialog dijit/form/Button dijit/form/SimpleTextarea ../utility/message-localizer ../widgets/AlertDialog ./Base ./service-loader!TM1PlanningService".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r){return n(p,{constructor:function(a,d,b,c){this._objectId=a;this._cell=d;this._dataGrid=b;this._service=c;this._textArea=this._dialog=null;this._initializeAddAnnoationDialog()},_initializeAddAnnoationDialog:function(){this._dialog=new e({title:a.get("ADD_COMMENT_TITLE_STR")});g.add(this._dialog.domNode,"tm1webAddAnnotationDialog tm1webFormDialog");this._addContent();this._addEvents()},_addContent:function(){this._textArea=new b({intermediateChanges:!0});c.place(this._textArea.domNode,
this._dialog.domNode);g.add(this._textArea.domNode,"tm1webAddAnnotationDialogTextArea");this._addButtons();k.after(this._textArea,"onChange",m.hitch(this,function(){this._okButton.set("disabled",0==this._textArea.displayedValue.trim().length)}),!0)},_addButtons:function(){var d=document.createElement("div");c.place(d,this._dialog.domNode);g.add(d,"tm1webDialogButtons");this._okButton=this._createButton(a.get("OK_STR"),d,this._onOk,"tm1WebBtnPrimary");this._okButton.set("disabled",!0);g.add(this._okButton,
"tm1WebBtnPrimary");this._cancelButton=this._createButton(a.get("CANCEL_STR"),d,this.close,"tm1webBtnSecondary");g.add(this._cancelButton,"tm1webBtnSecondary")},_createButton:function(a,d,b,e){a=new f({label:a,onClick:m.hitch(this,b)});g.add(a.domNode,"tm1webButton "+e);c.place(a.domNode,d);return a},_addEvents:function(){this.own(k.after(this._dialog,"onHide",m.hitch(this,"destroy")))},_onOk:function(){var b=this._textArea.displayedValue.trim(),c=this._cell.cellInfo;window.appId?r.addCellAnnotation(appId,
nodeId,nodeViewIndex,this._objectId,c.rowIndex,c.colIndex,b,{callback:this._onAddAnnotation,scope:this}):this._dataGrid.model?this._dataGrid.model.addCellAnnotation(c.rowIndex,c.colIndex,b).otherwise(function(b){d.show({message:a.get("SRV_ERR_STR")})}):this._service.addCellAnnotation(this._objectId,c.rowIndex,c.colIndex,b,{callback:this._onAddAnnotation,scope:this});this.close()},_onAddAnnotation:function(a){a?this._dataGrid.model?this._dataGrid.model.recalculate():this._service.recalculate(this._objectId,
{callback:this._onRecalculate,scope:this}):delete this._objectId;delete this._service},_onRecalculate:function(a){l.publish(this._objectId+"-UnsavedDataStateChanged",!1);l.publish(this._objectId+"-SetSheetsNeedRefresh",!0);l.publish(this._objectId+"-UpdateGrid",a);delete this._objectId},show:function(){this._dialog.show()},close:function(){this._dialog.hide()},destroy:function(){this.inherited(arguments);this._dialog.destroyRecursive();delete this._cell;delete this._dialog;delete this._textArea}})})},
"tm1web/cubeview/CubeViewColumnHeader":function(){define("dojo/_base/declare dojo/_base/array dojo/dom-construct ./CubeViewHeader ./HeaderContextMenu ../share/ElementDisplayType ./SortOrientation ./SortLimitType".split(" "),function(n,m,l,k,g,c,e,f){return n(k,{constructor:function(){this.ColHeaderRows=null;this.InitializeCubeViewColumnHeader()},InitializeCubeViewColumnHeader:function(){this.CreateContainer();this.headerContextMgr=new g(this)},CreateContainer:function(){this.Panel=this.CreatePanel();
this.Panel.style.overflow="hidden";this.Grid=this.CreateTable(!0);this.Grid.style.tableLayout="fixed";this.Grid.className="tm1webCollapseHeadTable";l.place(this.Grid,this.Panel);this.inherited(arguments)},DoCreate:function(b){var a=b.gridData.columnHeaderRows||[];this.Grid.firstChild&&"COLGROUP"==this.Grid.firstChild.nodeName&&l.destroy(this.Grid.firstChild);var d=a.length;if(0<a.length&&a[d-1]&&a[d-1].cells){for(var d=a[d-1].cells.length,c=l.create("colgroup"),e=0;e<d;e++)l.create("col",{},c);l.place(c,
this.Grid,"first")}var f=document.createElement("TBODY"),g=this;this.ColHeaderRows=Array(a.length);m.forEach(a,function(a,d){var c=document.createElement("TR");g.ColHeaderRows[d]=c;c.dimensionName=a.dimensionName;c.levels=a.levels;m.forEach(a.cells||[],function(d){var e=document.createElement("TD");e.noWrap="nowrap";c.appendChild(e);g.UpdateCell(e,a,d,b)});f.appendChild(c)});return f},Update:function(b){this.edgeState=b.pageColumnState;this.edgeState.layoutChanged?this.Create(b):this._Update(b)},
_Update:function(b){var a=this;m.forEach(b.gridData.columnHeaderRows||[],function(d){a._UpdateRow(a.Grid.rows[d.rowNum],d,b)})},_UpdateRow:function(b,a,d){var c=this;m.forEach(a.cells||[],function(e){c.UpdateCell(b.cells[e.colIndex],a,e,d)})},UpdateCell:function(b,a,d,g){this.RemoveChildren(b);b.className="tm1webCVHeaderCell tm1webCVColumnHeaderCell";b.elementIndex=d.elementIndex;b.dataSort=d.sortOrientation;b.sortLimitType=d.sortLimitType;b.sortLimit=d.sortLimit;g=document.createElement("div");b.appendChild(g);
if(d.allowExpandCollapse)switch(d.displayType){case c.DisplayMinus:this.CreateDislayImage(g,a.dimensionName,d,this.MinusIcon,this.CollapseTooltip);break;case c.DisplayPlus:this.CreateDislayImage(g,a.dimensionName,d,this.PlusIcon,this.ExpandTooltip)}a="tm1webHeaderLabel";if(d.displayType==c.DisplayMinus||d.displayType==c.DisplayPlus)a+=" tm1webConsolidatedHeaderLabel";this.CreateLabel(g,d.value,a);null!=d.sortLimitType&&d.sortLimitType!=f.NONE&&this.CreateTopBottomSortIndicator(g,this.TopBottomSortIcon,
this.TopBottomSortTooltip);d.sortOrientation==e.Ascending?this.CreateSortIndicator(g,this.ColumnSortAscIcon,this.SortAscTooltip):d.sortOrientation==e.Descending&&this.CreateSortIndicator(g,this.ColumnSortDesIcon,this.SortDesTooltip);1<d.span&&(b.colSpan=d.span);this._AdjustVerticalDisplay(b,d)},_AdjustVerticalDisplay:function(b,a){b.style.paddingTop=0<a.level?20*a.level+"px":"2px"}})})},"tm1web/subseteditor/SubsetStoreModel":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/aspect dijit/tree/ForestStoreModel ./ElementType".split(" "),
function(n,m,l,k,g,c){return n(g,{query:"root",childrenAttrs:["children"],deferItemLoadingUntilExpand:!0,constructor:function(){this.root.id||(this.root.id=this.rootId);this.root.label||(this.root.label=this.rootLabel);this.connects.push(k.after(this.store,"onFetch",l.hitch(this,"onFetch"),!0));this.connects.push(k.after(this.store,"onMetaDataChange",l.hitch(this,"onMetaDataChange"),!0));this.connects.push(k.after(this.store,"onFind",l.hitch(this,"onFind"),!0))},areEqual:function(c,f){return this.getIdentity(c)===
this.getIdentity(f)&&c.name===f.name},mayHaveChildren:function(e){return e.root||e.type===c.Consolidated},removeChildren:function(c,f,b){this.store.isItemLoaded(c)?this.store.unloadItem({item:c,onItem:f,onError:b}):f(c.children)},setCurrentPage:function(c,f,b){this.store.setCurrentPage({page:c,onComplete:f,onError:b})},isItemLoaded:function(c){return this.store.isItemLoaded(c)},isSelected:function(c){return this.store.isSelected(c)},getSelected:function(){return this.store.getSelected()},setSelected:function(c,
f){c&&this.store.setSelected(c,f)},newItem:function(c,f,b){this.newItems([c],f,b)},newItems:function(c,f,b){var a=f;this.getIdentity(f)==this.getIdentity(this.root)&&(a={id:-1});this.store.newItems(c,{parent:a,insertIndex:null!=b?b:-1})},pasteItem:function(c,f,b,a,d){this.pasteItems([c],f,b,a,d)},pasteItems:function(c,f,b,a,d){f=b;this.getIdentity(b)==this.getIdentity(this.root)&&(f={id:-1});this.store.pasteItems({items:c,copy:a},{parent:f,insertIndex:null!=d?d:-1})},getMetaData:function(c){this.store.getMetaData({onComplete:c})},
getAttributeNames:function(c,f){this.store.getAttributeNames({onComplete:c,onError:f})},getAttributeValues:function(c,f,b){this.store.getAttributeValues({attribute:c,onComplete:f,onError:b})},_find:function(c,f,b){this.store.find({pattern:c,startIndex:f,direction:b})},find:function(c,f){this._find(c,f,"current")},findNext:function(c,f){this._find(c,f,"next")},findPrevious:function(c,f){this._find(c,f,"prev")},sort:function(c){this.store.sort(c)},expandSelectedConsolidations:function(c){this.store.expandSelectedConsolidations(c)},
expandAll:function(){this.store.expandAll()},collapseSelectedConsolidations:function(){this.store.collapseSelectedConsolidations()},collapseAll:function(){this.store.collapseAll()},onFetch:function(c){this.root.children=c},onMetaDataChange:function(c){},onFind:function(c,f,b,a){},hasSelectedItems:function(){return this.store.hasSelectedItems()},reloadSubset:function(){this.store.reloadSubset()},subsetAll:function(){this.store.subsetAll()},cut:function(){this.store.cut()},copy:function(){this.store.copy()},
paste:function(c){this.store.paste(c)},pasteAbove:function(c){this.store.pasteAbove(c)},pasteBelow:function(c){this.store.pasteBelow(c)},filterByLevel:function(c,f,b){this.store.filterByLevel({levels:c,onComplete:f,onError:b})},filterByAttribute:function(c,f,b,a){this.store.filterByAttribute({attributeName:c,attributeValue:f,onComplete:b,onError:a})},filterByExpression:function(c,f,b){this.store.filterByExpression({expression:c,onComplete:f,onError:b})},keepSelectedElements:function(){this.store.keepSelectedElements()},
deleteSelectedElements:function(){this.store.deleteSelectedElements()},insertParentsOfSelectedElements:function(){this.store.insertParentsOfSelectedElements()},createConsolidationFromSubset:function(c,f,b){this.store.createConsolidationFromSubset({namedSubsetId:c,onComplete:f,onError:b})},createConsolidationFromSelectedElements:function(c,f){this.store.createConsolidationFromSelectedElements({onComplete:c,onError:f})},getElementIndex:function(c){return this.store.getElementIndex(c)}})})},"dojo/data/util/sorter":function(){define(["../../_base/kernel",
"../../_base/lang"],function(n,m){var l={};m.setObject("data.util.sorter",l,n);l.basicComparator=function(k,g){var c=-1;null===k&&(k=void 0);null===g&&(g=void 0);if(k==g)c=0;else if(k>g||null==k)c=1;return c};l.createSortFunction=function(k,g){function c(a,d,b,c){return function(e,f){var g=c.getValue(e,a),p=c.getValue(f,a);return d*b(g,p)}}for(var e=[],f,b=g.comparatorMap,a=l.basicComparator,d=0;d<k.length;d++){f=k[d];var p=f.attribute;if(p){f=f.descending?-1:1;var r=a;b&&("string"!==typeof p&&"toString"in
p&&(p=p.toString()),r=b[p]||a);e.push(c(p,f,r,g))}}return function(a,d){for(var b=0;b<e.length;){var c=e[b++](a,d);if(0!==c)return c}return 0}};return l})},"tm1web/utility/event":function(){define(["dojo/sniff"],function(n){return{isCopyKeyDown:function(m){return m.altKey||m.shiftKey?!1:n("mac")?m.metaKey&&!m.ctrlKey:m.ctrlKey&&!m.metaKey},isModifierKeyDown:function(m,l){return m.ctrlKey||m.metaKey||m.altKey||m.shiftKey&&!l}}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(n,
m){if(7>=n("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var k={};n("ie")?k.byId=function(c,e){if("string"!=typeof c)return c;var f=e||m.doc,b=c&&f.getElementById(c);if(!b||b.attributes.id.value!=c&&b.id!=c){f=f.all[c];if(!f||f.nodeName)f=[f];for(var a=0;b=f[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==c||b.id==c)return b}else return b}:k.byId=function(c,e){return("string"==typeof c?(e||m.doc).getElementById(c):c)||null};k.isDescendant=function(c,e){try{for(c=
k.byId(c),e=k.byId(e);c;){if(c==e)return!0;c=c.parentNode}}catch(f){}return!1};n.add("css-user-select",function(c,e,f){if(!f)return!1;c=f.style;e=["Khtml","O","Moz","Webkit"];f=e.length;var b="userSelect";do if("undefined"!==typeof c[b])return b;while(f--&&(b=e[f]+"UserSelect"));return!1});var g=n("css-user-select");k.setSelectable=g?function(c,e){k.byId(c).style[g]=e?"":"none"}:function(c,e){c=k.byId(c);var f=c.getElementsByTagName("*"),b=f.length;if(e)for(c.removeAttribute("unselectable");b--;)f[b].removeAttribute("unselectable");
else for(c.setAttribute("unselectable","on");b--;)f[b].setAttribute("unselectable","on")};return k})},"dojo/window":function(){define("./_base/kernel ./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(n,m,l,k,g,c,e,f){l.add("rtl-adjust-position-for-verticalScrollBar",function(a,d){var b=k.body(d),e=f.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",
height:"64px"}},b,"last"),g=f.create("div",{style:{overflow:"hidden",direction:"ltr"}},e,"last"),l=0!=c.position(g).x;e.removeChild(g);b.removeChild(e);return l});l.add("position-fixed-support",function(a,d){var b=k.body(d),e=f.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},b,"last"),g=f.create("span",{style:{position:"fixed",left:"0",top:"0"}},e,"last"),l=c.position(g).x!=c.position(e).x;e.removeChild(g);b.removeChild(e);return l});var b={getBox:function(a){a=a||
k.doc;var d="BackCompat"==a.compatMode?k.body(a):a.documentElement,e=c.docScroll(a);if(l("touch")){var f=b.get(a);a=f.innerWidth||d.clientWidth;d=f.innerHeight||d.clientHeight}else a=d.clientWidth,d=d.clientHeight;return{l:e.x,t:e.y,w:a,h:d}},get:function(a){if(l("ie")&&b!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var d=a._parentWindow;a._parentWindow=null;return d}return a.parentWindow||a.defaultView},scrollIntoView:function(a,d){try{a=
g.byId(a);var b=a.ownerDocument||k.doc,f=k.body(b),m=b.documentElement||f.parentNode,n=l("ie"),q=l("webkit");if(a!=f&&a!=m)if(!(l("mozilla")||n||q||l("opera")||l("trident"))&&"scrollIntoView"in a)a.scrollIntoView(!1);else{var u="BackCompat"==b.compatMode,v=Math.min(f.clientWidth||m.clientWidth,m.clientWidth||f.clientWidth),x=Math.min(f.clientHeight||m.clientHeight,m.clientHeight||f.clientHeight),b=q||u?f:m,y=d||c.position(a),w=a.parentNode,q=function(a){return 6>=n||7==n&&u?!1:l("position-fixed-support")&&
"fixed"==e.get(a,"position").toLowerCase()},z=this,B=function(a,d,b){"BODY"==a.tagName||"HTML"==a.tagName?z.get(a.ownerDocument).scrollBy(d,b):(d&&(a.scrollLeft+=d),b&&(a.scrollTop+=b))};if(!q(a))for(;w;){w==f&&(w=b);var A=c.position(w),C=q(w),F="rtl"==e.getComputedStyle(w).direction.toLowerCase();if(w==b){A.w=v;A.h=x;b==m&&(n||l("trident"))&&F&&(A.x+=b.offsetWidth-A.w);if(0>A.x||!n||9<=n||l("trident"))A.x=0;if(0>A.y||!n||9<=n||l("trident"))A.y=0}else{var G=c.getPadBorderExtents(w);A.w-=G.w;A.h-=
G.h;A.x+=G.l;A.y+=G.t;var K=w.clientWidth,N=A.w-K;0<K&&0<N&&(F&&l("rtl-adjust-position-for-verticalScrollBar")&&(A.x+=N),A.w=K);K=w.clientHeight;N=A.h-K;0<K&&0<N&&(A.h=K)}C&&(0>A.y&&(A.h+=A.y,A.y=0),0>A.x&&(A.w+=A.x,A.x=0),A.y+A.h>x&&(A.h=x-A.y),A.x+A.w>v&&(A.w=v-A.x));var P=y.x-A.x,I=y.y-A.y,J=P+y.w-A.w,Q=I+y.h-A.h,E,D;0<J*P&&(w.scrollLeft||w==b||w.scrollWidth>w.offsetHeight)&&(E=Math[0>P?"max":"min"](P,J),F&&(8==n&&!u||9<=n||l("trident"))&&(E=-E),D=w.scrollLeft,B(w,E,0),E=w.scrollLeft-D,y.x-=E);
0<Q*I&&(w.scrollTop||w==b||w.scrollHeight>w.offsetHeight)&&(E=Math.ceil(Math[0>I?"max":"min"](I,Q)),D=w.scrollTop,B(w,0,E),E=w.scrollTop-D,y.y-=E);w=w!=b&&!C&&w.parentNode}}}catch(H){console.error("scrollIntoView: "+H),a.scrollIntoView(!1)}}};return n.window=b})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(n,m,l){var k=l._createWrapper;l._createWrapper=function(c){c.declaredClass||(c={_popupWrapper:c.parentNode&&n.contains(c.parentNode,
"dijitPopup")?c.parentNode:null,domNode:c,destroy:function(){},ownerDocument:c.ownerDocument,ownerDocumentBody:m.body(c.ownerDocument)});return k.call(this,c)};var g=l.open;l.open=function(c){if(c.orient&&"string"!=typeof c.orient&&!("length"in c.orient)){var e=[],f;for(f in c.orient)e.push({aroundCorner:f,corner:c.orient[f]});c.orient=e}return g.call(this,c)};return l})},"tm1web/subseteditor/_Tree":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojo/aspect dojo/window dijit/Tree ../share/_LoadingOverlayMixin ./TreeUpdateSynchronizer ./TreeNode ./ExpandAboveTreeNode ./ElementType ./dndSource".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){function t(a){return m.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}return n("tm1web.subseteditor._Tree",[f,b],{dndController:s,showRoot:!1,autoExpand:!0,_collapseDeferred:null,_updateSynchronizer:null,expandAbove:!1,constructor:function(){this._updateSynchronizer=new a(this)},postCreate:function(){this.dndParams=this.dndParams.concat(["model"]);this.inherited(arguments);this.own(c.after(this.model,"onFetch",
m.hitch(this,"_onFetch"),!0),c.after(this.model,"onFind",m.hitch(this,"_onFind"),!0),c.after(this.model,"onMetaDataChange",m.hitch(this,"_onMetaDataChange"),!0),c.after(this.dndController,"userSelect",m.hitch(this,function(a){this.onSelect(a)}),!0))},getIconClass:function(a,d){switch(a.type){case r.Consolidated:return"tm1webSubsetEditorIconConsolidation";case r.Simple:return"tm1webSubsetEditorIconNumericLeaf";case r.String:return"tm1webSubsetEditorIconStringLeaf"}},getLabelClass:function(a,d){return a.type==
r.Consolidated?"tm1webSubsetEditorTreeLabelBold":this.inherited(arguments)},_keyboardSearch:function(){},_onFind:function(a,d,b,c){this.clearFound();null!=a&&(a=a in this._itemNodesMap?this._itemNodesMap[a][0]:null)&&(a.setFound(d,b),this._foundNode=a,!1===c&&e.scrollIntoView(a.rowNode))},clearFound:function(){this._foundNode&&(this._foundNode._destroyed||this._foundNode.clearFound(),delete this._foundNode)},onSelect:function(a){},_setExpandAboveAttr:function(a){a!=this.expandAbove&&(this.expandAbove=
!!a,this._setRootChildren())},_onKeyPress:function(a){a.target!==this.domNode&&this.inherited(arguments)},_setRootChildren:function(a){var d=this.rootNode,b=this,c=this.model,e=this.domNode.parentNode.scrollTop,f=this.lastFocused?this.lastFocused.item:null;this.set("loading",!0);this._destroyDescendants(d);d._expandNodeDeferred&&delete d._expandNodeDeferred;var g=function(a){var g=new k;d.setChildItems(a).then(function(){b._expandNode(d).then(function(){b.domNode.parentNode.scrollTop=e;b.set("selectedItems",
c.getSelected());g.resolve();b.set("loading",!1);if(null!==f){var a;a=c.getIdentity(f);a in b._itemNodesMap&&(a=b._itemNodesMap[a][0],c.areEqual(f,a.item)&&b.focusNode(a))}b.defer("onChange")})});return t(g)};if(a)return g(a);var p=new k;this.model.getChildren(this.model.root,function(a){g(a).then(function(){p.resolve()})});return t(p)},_collapseNode:function(a){if(a._collapseNodeDeferred)return a._collapseNodeDeferred;this.set("loading",!0);var d=this.model,b=a.item,c=this,e=a._collapseNodeDeferred=
new k;g(a._expandNodeDeferred,function(){a._expandNodeDeferred&&delete a._expandNodeDeferred;a.markProcessing();d.removeChildren(b,function(){a.unmarkProcessing();var d=a.collapse();d.then(function(){c._destroyDescendants(a);a.state="NotLoaded";b.children=null;a.makeExpandable();c.set("loading",!1);e.resolve()});c._startPaint(d)},function(a){c.set("loading",!1);console.error(c,": error moving children: ",a)})});return t(e)},_destroyDescendants:function(a){l.forEach(a.getChildren(),function(a){this.dndController.removeTreeNode(a);
var d=a.getParent();d&&d.removeChild(a);this._removeMappedNode(a);this._destroyDescendants(a);a.destroy()},this)},_removeMappedNode:function(a){var d=this.model.getIdentity(a.item);if(d in this._itemNodesMap){var b=l.filter(this._itemNodesMap[d],function(d){return a!==d});0<b.length?this._itemNodesMap[d]=b:delete this._itemNodesMap[d]}},_load:function(){var a=this.getInherited(arguments),d=arguments;this.pendingCommandsPromise.then(m.hitch(this,function(){this.set("selectedItems",this.model.getSelected())}));
setTimeout(m.hitch(this,function(){a.apply(this,d)}),0)},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var d=this.model,b=a.item,c=this;a._loadDeferred||(this.set("loading",!0),g(a._collapseNodeDeferred,function(){a._collapseNodeDeferred&&delete a._collapseNodeDeferred;a.markProcessing();a._loadDeferred=new k;d.getChildren(b,function(d){a.unmarkProcessing();a.setChildItems(d).then(function(){a._loadDeferred.resolve(d);c.set("loading",!1)});b.children=d},function(d){c.set("loading",
!1);console.error(_this,": error loading "+a.label+" children: ",d);a._loadDeferred.reject(d)})}));var e=a._loadDeferred.then(m.hitch(this,function(){var d=a.expand();this.onOpen(a.item,a);this._state(a,!0);return d}));this._startPaint(e);return e},_createTreeNode:function(a){return this.expandAbove?new p(a):new d(a)},_onFetch:function(a){return this._setRootChildren(a)},_onMetaDataChange:function(a){a.expandAbove!=this.expandAbove&&(this.expandAbove=a.expandAbove)},onChange:function(){},destroy:function(){this.inherited(arguments);
this._updateSynchronizer.destroy()}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(n,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var l=m("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],k=l.length,g=function(a,d,b){b||(b=a[0]&&n.scopeMap[a[0]]?n.scopeMap[a.shift()][1]:n.global);try{for(var c=0;c<a.length;c++){var e=a[c];if(!(e in
b))if(d)b[e]={};else return;b=b[e]}return b}catch(f){}},c=Object.prototype.toString,e=function(a,d,b){return(b||[]).concat(Array.prototype.slice.call(a,d||0))},f=/\{([^\}]+)\}/g,b={_extraNames:l,_mixin:function(a,d,b){var c,e,f,g={};for(c in d)e=d[c],c in a&&(a[c]===e||c in g&&g[c]===e)||(a[c]=b?b(e):e);if(m("bug-for-in-skips-shadowed")&&d)for(f=0;f<k;++f)c=l[f],e=d[c],c in a&&(a[c]===e||c in g&&g[c]===e)||(a[c]=b?b(e):e);return a},mixin:function(a,d){a||(a={});for(var c=1,e=arguments.length;c<e;c++)b._mixin(a,
arguments[c]);return a},setObject:function(a,d,b){var c=a.split(".");a=c.pop();return(b=g(c,!0,b))&&a?b[a]=d:void 0},getObject:function(a,d,b){return g(a?a.split("."):[],d,b)},exists:function(a,d){return void 0!==b.getObject(a,!1,d)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===c.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||
b.isArray(a)||b.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(b.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!b.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,d){for(var c=1,e=arguments.length;c<e;c++)b._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,d){var c=b._toArray(arguments,2),e=b.isString(d);return function(){var f=b._toArray(arguments),
g=e?(a||n.global)[d]:d;return g&&g.apply(a||this,c.concat(f))}},hitch:function(a,d){if(2<arguments.length)return b._hitchArgs.apply(n,arguments);d||(d=a,a=null);if(b.isString(d)){a=a||n.global;if(!a[d])throw['lang.hitch: scope["',d,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[d].apply(a,arguments||[])}}return a?function(){return d.apply(a,arguments||[])}:d},delegate:function(){function a(){}return function(d,c){a.prototype=d;var e=new a;a.prototype=null;c&&b._mixin(e,c);return e}}(),
_toArray:m("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(d){return(d.item?a:e).apply(this,arguments)}}():e,partial:function(a){return b.hitch.apply(n,[null].concat(b._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||b.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var d,c,e;if(b.isArray(a))for(d=[],
c=0,e=a.length;c<e;++c)c in a&&d.push(b.clone(a[c]));else d=a.constructor?new a.constructor:{};return b._mixin(d,a,b.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,d,c){return a.replace(c||f,b.isFunction(d)?d:function(a,c){return b.getObject(c,!1,d)})}};b.mixin(n,b);return b})},"tm1web/cubeview/CubeGridLayoutController":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/topic dojo/sniff dojo/dom-class dojo/dom-style ../utility/dom ./CubeViewBase".split(" "),
function(n,m,l,k,g,c,e,f,b){return n(b,{constructor:function(a){this.ViewGrid=a;this._NubbinGrid=this._DataGrid=this._ColGrid=this._RowGrid=this._DataDiv=this._ColDiv=this._RowDiv=this.Height=this.Width=this._MainDiv=null;this._NubbinSize=10;this._MIN_ROW_HEIGHT=20;this.RowDivScrollInfo=this.DataDivScrollInfo=this.DataGridSize=this.ColumnHeight=this.RowWidth=this.RowGridWidth=null;this._PADDING_AND_BORDER_WIDTH=7;this.InitializeCubeGridLayoutController()},InitializeCubeGridLayoutController:function(){this.InitializeFields()},
_ClearNodeSizeSetting:function(a){null!=a&&(a.style.width="",a.style.height="")},_ClearOldWidthHeightModifications:function(){this._ClearNodeSizeSetting(this._DataDiv);this._ClearNodeSizeSetting(this._ColDiv);this._ClearNodeSizeSetting(this._RowDiv);this._ClearNodeSizeSetting(this._ColGrid);this._ClearCubeGridCellsWidthHeight()},InitializeFields:function(){this._MainDiv=this.ViewGrid.Panel;this._RowDiv=this.ViewGrid.RowHeader.Panel;this._ColDiv=this.ViewGrid.ColumnHeader.Panel;this._DataDiv=this.ViewGrid.DataGrid.Panel;
this._NubbinDiv=this.ViewGrid.Nubbin.Panel;this._RowGrid=this.ViewGrid.RowHeader.Grid;this._ColGrid=this.ViewGrid.ColumnHeader.Grid;this._DataGrid=this.ViewGrid.DataGrid.Grid;this._NubbinGrid=this.ViewGrid.Nubbin.Grid},UpdateLayout:function(){this.ComputeRowGridWidth();this.ComputeColumnHeight();this.DataGridSize=this.ResizeCubeGridCellWidthHeight();this.DataTableWidth=this._computeDataTableWidth();this.SetMainSize();this.ComputeRowWidth();this.DataDivScrollInfo=this.GetDataDivScrollInfo();this.RowDivScrollInfo=
this.GetRowDivScrollInfo();this.SetRowDivWidth();this.SetDataDivWidth();this.SetDataDivHeight();this.SetColDivWidth();this.SetRowDivHeight();this.SyncNubbinSizes();k.publish(this.ViewGrid.ObjectId+"-CubeGridLayoutUpdated")},Resize:function(){0<this._MainDiv.offsetWidth&&(this.ComputeRowGridWidth(),this.SetMainSize(),this.ComputeRowWidth(),this.RowDivScrollInfo=this.GetRowDivScrollInfo(),this.SetRowDivWidth(),this.DataDivScrollInfo=this.GetDataDivScrollInfo(),this.SetDataDivWidth(),this.SetDataDivHeight(),
this.SetColDivWidth(),this.SetRowDivHeight(),this.SyncNubbinSizes())},ComputeRowWidth:function(){var a=Math.round(.7*this.Width),d=this.RowGridWidth;this.RowWidth={width:d,overflowX:"hidden"};d>a&&(this.RowWidth.width=a,this.RowWidth.overflowX="auto")},ComputeRowGridWidth:function(){this.RowGridWidth=this._RowGrid.scrollWidth;0==this.RowGridWidth&&(this.RowGridWidth=this._NubbinGrid.offsetWidth)},ComputeColumnHeight:function(){this.ColumnHeight=this._ColDiv.offsetHeight;0==this.ColumnHeight&&(this.ColumnHeight=
this._NubbinGrid.offsetHeight)},SetMainSize:function(){this.Width=this._MainDiv.clientWidth;this.Height=this._MainDiv.clientHeight},SetRowDivWidth:function(){var a=0;g("chrome")&&(a=Number(this._RowDiv.children[0].border));e.set(this._RowDiv,{width:this.RowWidth.width+a+"px","overflow-x":this.RowWidth.overflowX})},SetDataDivWidth:function(){e.set(this._DataDiv,{width:this._adjustSize(this.Width-this.RowWidth.width)+"px"})},_setNubbinDivWidth:function(){e.set(this._NubbinDiv,{width:this.RowWidth.width+
"px",overflowX:"auto"==this.RowWidth.overflowX?"hidden":""})},SetColDivHeight:function(){e.set(this._ColDiv,{height:this.ColumnHeight+"px"})},SetDataDivHeight:function(){var a=this.Height-this.ColumnHeight;this.RowDivScrollInfo.widthScrolled&&!this.DataDivScrollInfo.widthScrolled&&(a-=f.getHorizontalScrollbarHeight());e.set(this._DataDiv,{height:this._adjustSize(a)+"px"})},GetDataDivScrollInfo:function(){var a={widthScrolled:!1,heightScrolled:!1};if(null==this.DataGridSize)return a;var d=this.Height-
this.ColumnHeight;if(d<this.DataGridSize.height&&(a.heightScrolled=!0,d=this.Width-this.RowWidth.width,d-f.getVerticalScrollbarWidth()<this.DataTableWidth))return a.widthScrolled=!0,a;d=this.Width-this.RowWidth.width;d<this.DataTableWidth&&(a.widthScrolled=!0,d=this.Height-this.ColumnHeight,d-f.getHorizontalScrollbarHeight()<this.DataGridSize.height&&(a.heightScrolled=!0));return a},GetRowDivScrollInfo:function(){var a={widthScrolled:!1};if(null==this.RowGridWidth)return a;this.RowWidth.width<this._RowGrid.scrollWidth&&
(a.widthScrolled=!0);return a},SetColDivWidth:function(){var a=this.Width-this.RowWidth.width;this.DataDivScrollInfo.heightScrolled&&(a-=f.getVerticalScrollbarWidth());e.set(this._ColDiv,{width:this._adjustSize(a)+"px"})},_adjustSize:function(a){return 0>a?0:a},SetRowDivHeight:function(){var a=this.Height-this.ColumnHeight;this.DataDivScrollInfo.widthScrolled&&!this.RowDivScrollInfo.widthScrolled&&(a-=f.getHorizontalScrollbarHeight());e.set(this._RowDiv,{height:this._adjustSize(a)+"px"})},SyncNubbinSizes:function(){this._NubbinGrid&&
this._RowGrid&&(this._setNubbinDivWidth(),this._SetColumnNubbinHeights(),this._SetRowNubbinWidths(),this._updateNubbinsColsWidth())},_SetColumnNubbinHeights:function(){var a=this._NubbinGrid.rows;if(this._ColGrid){var d=this._ColGrid.rows.length,b=d-1,c=this._ColGrid.rows;0<c.length&&(g("ie")||g("trident"))&&e.set(c[0],{zoom:1});for(var f=0;f<d;f++){var k=c[f].offsetHeight;f==b&&(k-=this._NubbinSize);0>=k&&(k=20-this._NubbinSize);e.set(a[f],{height:this._adjustSize(k)+"px"})}}},_SetRowNubbinWidths:function(){var a=
this._NubbinGrid.rows;if(this._RowGrid&&0<this._RowGrid.rows.length){var d=a.length-1,b=this._RowGrid.rows[0].cells.length,c=b-1;(g("ie")||g("trident"))&&e.set(this._RowGrid.rows[0],{zoom:1});for(var f=0;f<b;f++){var k=this._RowGrid.rows[0].cells[f].offsetWidth;f==c?k-=this._NubbinSize:--k;0>=k&&(k=25-this._NubbinSize);k=this._adjustSize(k);e.set(a[d].cells[f],{width:k+"px",minWidth:k+"px"})}}},_GetCubeGridCellsResizeHeightInfo:function(){var a=[];this._ProcessCubeGridCellsHeight(function(d,b){var c=
d.offsetHeight,e=b.offsetHeight,f=d.clientHeight,g=b.clientHeight;c>e?c<this._MIN_ROW_HEIGHT?a.push([this._MIN_ROW_HEIGHT,this._MIN_ROW_HEIGHT-(c-f),b,d]):a.push([c,f,b,d]):e<this._MIN_ROW_HEIGHT?a.push([this._MIN_ROW_HEIGHT,this._MIN_ROW_HEIGHT-(e-g),b,d]):a.push([e,g,b,d])});return a},_ProcessCubeGridCellsHeight:function(a){if(this._RowGrid){var d=this._RowGrid.rows.length;if(0<d&&0<this._DataGrid.rows.length)for(var b=0;b<d;b++){var c=this._RowGrid.rows[b].cells[this._RowGrid.rows[b].cells.length-
1],e=this._DataGrid.rows[b].cells[0];e&&a(c,e)}}},_computeDataTableWidth:function(){var a=null;this._DataGrid&&(a=this._DataGrid.scrollWidth);return a},ResizeCubeGridCellWidthHeight:function(){var a=null,d=null;this._DataDiv&&(a=this._DataDiv.scrollTop,d=this._DataDiv.scrollLeft);var b=l.getObject("ViewGrid.DataGrid.SelectedArea.StartCell",!1,this);b&&c.remove(b,"tm1webCell_selected");this._ClearCubeGridCellsWidthHeight();var f=this._GetCubeGridCellsResizeWidthInfo(),g=this._GetCubeGridCellsResizeHeightInfo();
m.forEach(f,function(a){var d=a[0];e.set(a[1],{width:d+"px",minWidth:d+"px"});e.set(a[2],{width:d+"px",minWidth:d+"px"});e.set(a[3],{width:d+"px",minWidth:d+"px"});e.set(a[4],{width:d+"px",minWidth:d+"px"})},this);m.forEach(g,function(a){var d=a[1];e.set(a[2],{height:d+"px"});e.set(a[3],{height:d+"px"})});b&&c.add(b,"tm1webCell_selected");!this._DataDiv||this._DataDiv.scrollTop==a&&this._DataDiv.scrollLeft==d||(this._DataDiv.scrollTop=a,this._DataDiv.scrollLeft=d);return{width:this._DataDiv.scrollWidth,
height:this._DataDiv.scrollHeight}},_ClearCubeGridCellsWidthHeight:function(){this._ClearCubeGridCellsWidthInfo();this._ClearCubeGridCellsHeightInfo()},_ClearCubeGridCellsWidthInfo:function(){this._ProcessCubeGridCellsWidth(function(a,d,b,c){e.set(a,{width:"",minWidth:""});e.set(d,{width:"",minWidth:""});e.set(b,{width:"",minWidth:""});e.set(c,{width:"",minWidth:""})})},_ClearCubeGridCellsHeightInfo:function(){this._ProcessCubeGridCellsHeight(function(a,d){e.set(a,{height:""});e.set(d,{height:""})})},
_updateNubbinsColsWidth:function(){if(this._RowGrid&&this._RowGrid.children&&this._RowGrid.firstChild&&this._RowGrid.firstChild.children&&this._NubbinGrid&&this._NubbinGrid.children&&this._NubbinGrid.firstChild&&this._NubbinGrid.firstChild.children){var a=this._NubbinGrid.firstChild.children,d=this._RowGrid.firstChild.children;if(0<this._RowGrid.rows.length)for(var b=0;b<this._RowGrid.rows[0].cells.length;b++){var c=this._RowGrid.rows[0].cells[b].offsetWidth,f={width:c+"px",minWidth:c+"px"};e.set(d[b],
f);b==this._RowGrid.rows[0].cells.length-1&&(f.width=c-this._NubbinSize+"px",f.minWidth=c-this._NubbinSize+"px");e.set(a[b],f)}}},_GetCubeGridCellsResizeWidthInfo:function(){var a=[];this._ProcessCubeGridCellsWidth(function(d,b,c,e){var f=c.offsetWidth,g=e.offsetWidth;f>g?a.push([f,d,b,c,e]):a.push([g,d,b,c,e])});return a},_ProcessCubeGridCellsWidth:function(a){if(this._ColGrid&&this._ColGrid.children&&this._ColGrid.firstChild&&this._ColGrid.firstChild.children){var d=this._ColGrid.firstChild.children,
b=this._DataGrid.firstChild.children;if(b&&0<this._ColGrid.rows.length&&0<this._DataGrid.rows.length)for(var c=this._ColGrid.rows[this._ColGrid.rows.length-1].cells,e=this._DataGrid.rows[this._DataGrid.rows.length-1].cells,f=d.length,g=0;g<f;g++){var k=d[g],l=b[g],m=c[g],n=e[g];k&&l&&m&&n&&a(k,l,m,n)}}}})})},"tm1web/websheet/CellType":function(){define({String:"String",Number:"Number",Boolean:"Boolean",DateTime:"DateTime",Error:"Error",Empty:"Empty"})},"dojo/sniff":function(){define(["./has"],function(n){var m=
navigator,l=m.userAgent,m=m.appVersion,k=parseFloat(m);n.add("air",0<=l.indexOf("AdobeAIR"));n.add("wp",parseFloat(l.split("Windows Phone")[1])||void 0);n.add("msapp",parseFloat(l.split("MSAppHost/")[1])||void 0);n.add("khtml",0<=m.indexOf("Konqueror")?k:void 0);n.add("edge",parseFloat(l.split("Edge/")[1])||void 0);n.add("opr",parseFloat(l.split("OPR/")[1])||void 0);n.add("webkit",!n("wp")&&!n("edge")&&parseFloat(l.split("WebKit/")[1])||void 0);n.add("chrome",!n("edge")&&!n("opr")&&parseFloat(l.split("Chrome/")[1])||
void 0);n.add("android",!n("wp")&&parseFloat(l.split("Android ")[1])||void 0);n.add("safari",!(0<=m.indexOf("Safari"))||n("wp")||n("chrome")||n("android")||n("edge")||n("opr")?void 0:parseFloat(m.split("Version/")[1]));n.add("mac",0<=m.indexOf("Macintosh"));n.add("quirks","BackCompat"==document.compatMode);if(!n("wp")&&l.match(/(iPhone|iPod|iPad)/)){var g=RegExp.$1.replace(/P/,"p"),c=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",c=parseFloat(c.replace(/_/,".").replace(/_/g,""));n.add(g,c);n.add("ios",c)}n.add("bb",
(0<=l.indexOf("BlackBerry")||0<=l.indexOf("BB10"))&&parseFloat(l.split("Version/")[1])||void 0);n.add("trident",parseFloat(m.split("Trident/")[1])||void 0);n.add("svg","undefined"!==typeof SVGAngle);n("webkit")||(0<=l.indexOf("Opera")&&n.add("opera",9.8<=k?parseFloat(l.split("Version/")[1])||k:k),!(0<=l.indexOf("Gecko"))||n("wp")||n("khtml")||n("trident")||n("edge")||n.add("mozilla",k),n("mozilla")&&n.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0),document.all&&!n("opera")&&
(l=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=m&&Math.floor(l)!=m&&(l=m),n.add("ie",l)),n.add("wii","undefined"!=typeof opera&&opera.wiiremote));return n})},"tm1web/share/_ContextMenuBase":function(){define("dojo/_base/declare dojo/on dijit/MenuSeparator ../mobile/on/longpress ../widgets/ContextMenu ./Base ./SkeletonMixin".split(" "),function(n,m,l,k,g,c,e){return n([g,c,e],{objectId:null,_Separator:l,startup:function(){this._generateContextMenu();this.inherited(arguments)},
_openMyself:function(c){var b=!c.coords;b&&(c.coords=this._getCoords());this._validate(c,b)&&(this._adjustContextMenu(),this.inherited(arguments))},_generateContextMenu:function(){this._addSkeletonChildren()},_getCoords:function(){return null},_validate:function(c,b){return!1},_adjustContextMenu:function(){}})})},"tm1web/subseteditor/dndSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-geometry dojo/dnd/Manager dojo/dnd/common dijit/tree/dndSource dijit/tree/_dndSelector dijit/registry ./_dndMixin ../mobile/sniff".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d){return n([e,a],{itemCreator:function(a,d,c){return l.map(a,function(a){return(a=b.byNode(a))&&a.item?m.clone(a.item):{}})},onMouseDown:function(a){d("mobile-device")||a.target!==this.tree.domNode&&this.inherited(arguments)},onDndDrop:function(a,d,b){if("Over"==this.containerState){var c=this.tree,e=c.model,f=this.targetAnchor;this.isDragging=!1;var g;"Before"==this.dropPosition||"After"==this.dropPosition?(c=f.getParent()&&f.getParent().item||c.item,g=f.getIndexInParent(),
"After"==this.dropPosition&&(g=f.getIndexInParent()+1)):c=f&&f.item||c.item;d=this.itemCreator(d,f.rowNode,b);a==this?e.pasteItems(d,null,c,b,g):e.newItems(d,c,g)}this.onDndCancel()},_onDragMouse:function(a){function d(a){var b=a.getChildren();return 0<b.length?d(b[b.length-1]):a}function b(a){var d=a.getChildren();return 0<d.length?b(d[0]):a}var c=g.manager(),e=this.targetAnchor,f=this.current,l=this.dropPosition,m="Over";f&&0<this.betweenThreshold&&(this.targetBox&&e==f||(this.targetBox=k.position(f.rowNode,
!0)),a.pageY-this.targetBox.y<=this.betweenThreshold?m="Before":a.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(m="After"));0==this.tree.rootNode.getChildren().length?f=this.tree.rootNode:f||(1==this.tree.expandAbove?(f=b(this.tree.rootNode),m="Before"):(f=d(this.tree.rootNode),m="After"));if(f!=e||m!=l){e&&this._removeItemClass(e.rowNode,l);f&&this._addItemClass(f.rowNode,m);if(f)if(f==this.tree.rootNode&&"Over"!=m)c.canDrop(!1);else{a=!1;if(c.source==this)for(var n in this.selection)if(this.selection[n].item===
f.item){a=!0;break}a?c.canDrop(!1):this.checkItemAcceptance(f.rowNode,c.source,m.toLowerCase())&&!this._isParentChildDrop(c.source,f.rowNode)?setTimeout(function(){c.canDrop(!0)},0):c.canDrop(!1)}else c.canDrop(!1);this.targetAnchor=f;this.dropPosition=m}},onMouseMove:function(a){if(!this.isDragging||"Disabled"!=this.targetState){f.prototype.onMouseMove.apply(this,arguments);var d=g.manager();if(this.isDragging)this._onDragMouse(a);else if(this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>=
this.dragThreshold||Math.abs(a.pageY-this._lastY)>=this.dragThreshold)){var b=this.getSelectedTreeNodes();b.length&&(b=b.slice().sort(function(a,d){return a.item.id-d.item.id}),b=l.map(b,function(a){return a.domNode}),d.startDrag(this,b,this.copyState(c.getCopyKeyState(a))),this._onDragMouse(a,!0))}}}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(n,m,l){var k={},g={},c={length:0,add:function(c){if(g[c.id])throw Error("Tried to register widget with id\x3d\x3d"+
c.id+" but that id is already registered");g[c.id]=c;this.length++},remove:function(c){g[c]&&(delete g[c],this.length--)},byId:function(c){return"string"==typeof c?g[c]:c},byNode:function(c){return g[c.getAttribute("widgetId")]},toArray:function(){var c=[],f;for(f in g)c.push(g[f]);return c},getUniqueId:function(c){var f;do f=c+"_"+(c in k?++k[c]:k[c]=0);while(g[f]);return"dijit"==l._scopeName?f:l._scopeName+"_"+f},findWidgets:function(c,f){function b(d){for(d=d.firstChild;d;d=d.nextSibling)if(1==
d.nodeType){var c=d.getAttribute("widgetId");c?(c=g[c])&&a.push(c):d!==f&&b(d)}}var a=[];b(c);return a},_destroyAll:function(){l._curFocus=null;l._prevFocus=null;l._activeStack=[];n.forEach(c.findWidgets(m.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var f=1==c.nodeType&&c.getAttribute("widgetId");if(f)return g[f];c=c.parentNode}return null},_hash:g};return l.registry=c})},"tm1web/cubeview/metrics/StrategyInteractivityHelper":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojox/json/query ../../share/TM1Utility ./InteractivityHelper ./StrategyPopup ./_MetricTypesMixin".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return m([f,a],{OBJECTIVE_HOVER_PART:"part: objectiveHoverOverArea",PERSPECTIVE_STATUS_HOLDER_PART:"part: perspectiveStatusesHolder",PERSPECTIVE_LABEL_PART:"part: perspectiveLabel",constructor:function(){},containsValidTooltipItem:function(a){for(var b=0;b<a.length;b++){var c=a[b].meta();if(null!==c&&(-1!==e.indexOf(c,this.OBJECTIVE_HOVER_PART)||-1!==e.indexOf(c,this.PERSPECTIVE_STATUS_HOLDER_PART)||-1!==e.indexOf(c,this.PERSPECTIVE_LABEL_PART)))return a[b]}return null},
setTooltipContent:function(a){this.inherited("setTooltipContent",arguments);var b=a.tooltipText().split("^"),c=l.trim(b[0]),f=this.getStrategyName()+" / "+c;if(1<b.length&&2==a.getDataIndex()){var e=l.trim(b[1]);this.setObjectiveTooltipContent(c,e,f)}1===b.length&&0===a.getDataIndex()&&(b=g.create("div"),k.add(b,"tm1webStrategyTooltip-perspectiveDiv"),b.innerHTML=f,this.metricTooltip.setContent(b))},setObjectiveTooltipContent:function(a,f,l){var m=new b;m.setTitleCaption(l+" / ");m.setObjectiveName(f);
a=c("$.perspectives[?name\x3d'"+a+"']",this.popUpData);0<a.length&&(a=c("$.[\x3dobjectives]",a),f="$..[?name\x3d'"+e.escapeString(f)+"']",f=c(f,a),0<f.length&&(m.setStatusPoor(f[0].poor),m.setStatusAverage(f[0].average),m.setStatusExcellent(f[0].excellent),m.setStatusIncomplete(f[0].incomplete),f=c("$.[\x3dmetrics]",f),g.empty(m.bottomDiv),n.forEach(f[0],function(a){var d=g.create("div",null,m.bottomDiv);k.add(d,"tm1webStrategyTooltip-bottomDivLine");var b=g.create("span",null,d);k.add(b,"tm1webStrategyTooltip-imagePadLeft");
k.add(b,m.STRATEGY_STATUS_DATA[a.status].iconClass);b=g.create("span",null,d);k.add(b,"tm1webStrategyTooltip-imagePadLeft");k.add(b,m.IMPACT_TREND_DATA[a.trend].iconClass);d=g.create("span",null,d);k.add(d,"tm1webStrategyTooltip-bottomDivText");d.innerHTML=a.name}),m.startup(),m.enableObjectiveNameDiv(!0),this.metricTooltip.setContent(m.domNode.innerHTML)))},getStrategyName:function(){return this.popUpData.cubeName}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(n,m,l,k,g,c){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(c){var f=[];n.forEach(c||this.getChildren(),function(b){"value"in b?f.push(b):f=f.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return f},reset:function(){n.forEach(this._getDescendantFormWidgets(),function(c){c.reset&&c.reset()})},validate:function(){var e=!1;return n.every(n.map(this._getDescendantFormWidgets(),function(f){f._hasBeenBlurred=!0;var b=f.disabled||!f.validate||
f.validate();b||e||(c.scrollIntoView(f.containerNode||f.domNode),f.focus(),e=!0);return b}),function(c){return c})},setValues:function(c){l.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",c)},_setValueAttr:function(c){var f={};n.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(f[a.name]||(f[a.name]=[])).push(a)});for(var b in f)if(f.hasOwnProperty(b)){var a=f[b],d=k.getObject(b,!1,c);void 0!==d&&(d=[].concat(d),
"boolean"==typeof a[0].checked?n.forEach(a,function(a){a.set("value",-1!=n.indexOf(d,a._get("value")))}):a[0].multiple?a[0].set("value",d):n.forEach(a,function(a,b){a.set("value",d[b])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var c={};n.forEach(this._getDescendantFormWidgets(),function(f){var b=f.name;if(b&&!f.disabled){var a=f.get("value");"boolean"==typeof f.checked?
/Radio/.test(f.declaredClass)?!1!==a?k.setObject(b,a,c):(a=k.getObject(b,!1,c),void 0===a&&k.setObject(b,null,c)):(f=k.getObject(b,!1,c),f||(f=[],k.setObject(b,f,c)),!1!==a&&f.push(a)):(f=k.getObject(b,!1,c),"undefined"!=typeof f?k.isArray(f)?f.push(a):k.setObject(b,[f,a],c):k.setObject(b,a,c))}});return c},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var c=n.map(this._descendants,function(c){return c.get("state")||""});return 0<=n.indexOf(c,"Error")?
"Error":0<=n.indexOf(c,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(c){this._descendants=this._getDescendantFormWidgets();n.forEach(this._descendants,function(c){c._started||c.startup()});c||this._onChildChange()},_onChildChange:function(c){c&&"state"!=c&&"disabled"!=c||this._set("state",this._getState());c&&"value"!=c&&"disabled"!=c&&"checked"!=c||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var c=this;this.own(g(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(f){f.target!=c.domNode&&c._onChildChange(f.type.replace("attrmodified-",""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},
"tm1web/mobile/on/_Tap":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/gesture/tap"],function(n,m,l){return n(l.Tap,{_overriddenEvent:"",subEvents:[],fire:function(k,g){g.type===this._overriddenEvent&&(m.mixin(g,this._touchStartEvent),g.type=this.defaultEvent,this._touchStartEvent=null);this.inherited(arguments)},press:function(k,g){this.inherited(arguments);k.context&&(this._touchStartEvent=g)}})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
function(n,m,l,k,g,c,e,f){f.add("config-bgIframe",f("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||f("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var b=new function(){var a=[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>f("ie")?(d="\x3ciframe src\x3d'"+(l.dojoBlankHtmlUrl||n.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",
d=document.createElement(d)):(d=k.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),g.set(d,"opacity",.1)),d.tabIndex=-1);return d};this.push=function(d){d.style.display="none";a.push(d)}};m.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(f("config-bgIframe")){var d=this.iframe=b.pop();a.appendChild(d);7>f("ie")||f("quirks")?(this.resize(a),this._conn=e(a,"resize",c.hitch(this,"resize",a))):g.set(d,{width:"100%",height:"100%"})}};
c.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&g.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),b.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t){return m("dijit._MenuBase",[p,t,s,r],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){g.toggle(this.domNode,"dijitMenuActive",a);g.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=d.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var b=this,g="string"==typeof this.childSelector?this.childSelector:c.hitch(this,"childSelector");this.own(f(this.containerNode,f.selector(g,e.enter),function(){b.onItemHover(d.byNode(this))}),f(this.containerNode,f.selector(g,e.leave),function(){b.onItemUnhover(d.byNode(this))}),f(this.containerNode,f.selector(g,a),function(a){b.onItemClick(d.byNode(this),a);a.stopPropagation()}),
f(this.containerNode,f.selector(g,"focusin"),function(){b._onItemFocus(d.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,d,b,c){this.inherited(arguments);if(a&&(-1==c||a.popup&&1==c))this.onItemClick(a,d)},_keyboardSearchCompare:function(a,d){return a.shortcutKey?d==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),!a.popup||a.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,d){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var b=/^key/.test(d._origType||
d.type)||0==d.clientX&&0==d.clientY;this._openItemPopup(a,b)}else this.onExecute(),a._onClick?a._onClick(d):a.onClick(d)},_openItemPopup:function(a,d){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var b=a.popup;b.parentMenu=this;this.own(this._mouseoverHandle=f.once(b.domNode,"mouseover",c.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){d&&
e.focusChild(a);e._cleanUp()},onExecute:c.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},d);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(k.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"tm1web/subseteditor/_dndMixin":function(){define(["dojo/_base/declare",
"dojo/_base/array","dijit/tree/_dndSelector"],function(n,m){return n(null,{model:null,userSelect:function(l,k,g){this._userSelect=!0;this._multiSelect=k;this.inherited(arguments);this._multiSelect=this._userSelect=!1},setSelection:function(l){if(this._userSelect){var k=[];m.forEach(l,function(g){k.push(g.item)});this.model.setSelected(k,this._multiSelect)}this.inherited(arguments)}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(n,
m,l,k){return n("dijit.form._ListMouseMixin",k,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(g,c){this._setSelectedAttr(c,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=
null;this.onClick(c)})},_onMouseDown:function(g,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(c,!1)},_onMouseUp:function(g,c){this._isDragging=!1;var e=this.selected,f=this._hoveredNode;e&&c==e?this.defer(function(){this._onClick(g,e)}):f&&this.defer(function(){this._onClick(g,f)})},_onMouseOut:function(g,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=
(new Date).getTime()+1E3)},_onMouseOver:function(g,c){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=c;this.onHover(c);this._isDragging&&this._setSelectedAttr(c,!1)}})})},"tm1web/planning/PlanningBase":function(){define(["dojo/_base/declare","../share/Base"],function(n,m){return n(m,{constructor:function(){}})})},"dojo/io-query":function(){define(["./_base/lang"],function(n){var m={};return{objectToQuery:function(l){var k=encodeURIComponent,
g=[],c;for(c in l){var e=l[c];if(e!=m[c]){var f=k(c)+"\x3d";if(n.isArray(e))for(var b=0,a=e.length;b<a;++b)g.push(f+k(e[b]));else g.push(f+k(e))}}return g.join("\x26")},queryToObject:function(l){var k=decodeURIComponent;l=l.split("\x26");for(var g={},c,e,f=0,b=l.length;f<b;++f)if(e=l[f],e.length){var a=e.indexOf("\x3d");0>a?(c=k(e),e=""):(c=k(e.slice(0,a)),e=k(e.slice(a+1)));"string"==typeof g[c]&&(g[c]=[g[c]]);n.isArray(g[c])?g[c].push(e):g[c]=e}return g}}})},"tm1web/share/sandbox/SandboxDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dijit/form/Button dijit/registry ../../utility/message-localizer ../Base".split(" "),
function(n,m,l,k,g,c,e,f,b){return n(b,{constructor:function(){this._secondaryButton=this._primaryButton=this._buttonsContainer=this._sandboxContainerLabel=this._sandboxContainer=this._contentContainer=this.popup=null;this._initializeSandboxDialog()},_initializeSandboxDialog:function(){this.createSandboxDialog()},createSandboxDialog:function(){},show:function(){this.createSandboxTopInput();this._createSandboxContainer();this._createSandboxButtons();var a=m.hitch(this,"_onCreateSandboxDialog");this.executeGetSandboxesServiceCall(a)},
executeGetSandboxesServiceCall:function(a){},_onCreateSandboxDialog:function(a){this.popup.show()},createSandboxItemRow:function(a){},_createSandboxContainer:function(){var a=e.getUniqueId("tm1webSandboxSetContainer"),d=k.create("label",{id:a});k.place(d,this._contentContainer);a=k.create("div",{className:"tm1webTreeDiv","aria-labelledby":a,role:"group"});k.place(a,this._contentContainer);this._sandboxContainerLabel=d;this._sandboxContainer=a},createSandboxTopInput:function(){},_createSandboxButtons:function(){var a=
k.create("div",{className:"tm1webSandboxButtonContainer tm1webDialogButtons"});k.place(a,this._sandboxContainer,"after");this._buttonsContainer=a;this._primaryButton=this._createButton(this.getOkButtonText(),this.onOk,"tm1webButton tm1WebBtnPrimary");this._secondaryButton=this._createButton(f.get("CANCEL_STR"),this._onCancel,"tm1webButton tm1webBtnSecondary");this._updateButtonsState()},_updateButtonsState:function(){},getOkButtonText:function(){},_createButton:function(a,d,b){a=new c({label:a,onClick:m.hitch(this,
d)});g.add(a.domNode,b);k.place(a.domNode,this._buttonsContainer);return a},onOk:function(){},_onCancel:function(){this.destroy()},destroy:function(){this.inherited(arguments);this.popup.destroyRecursive();delete this.popup;delete this._contentContainer;delete this._sandboxContainer;delete this._buttonsContainer}})})},"tm1web/cubeview/RaveChart":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/Deferred dojo/topic dojo/aspect dojo/on dojo/dom-geometry dojox/gfx/_base com/ibm/vis/main ./CubeViewBase ./metrics/StrategyDiagramContent ./metrics/ImpactDiagramContent ./metrics/CustomDiagramContent ./metrics/CubeviewRaveChartContent ../share/service-loader!CubeViewService".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){var u,v;require(["com/ibm/init/ready","com/ibm/vis/widget/VisControl"],function(a,d){u=a;v=d});return n(d,{constructor:function(a){this.Panel=null;this.ObjectId=a;this._chartContent=this._oldDiagramType=this._drillMap=this._interactor=this._visWidget=this._GetChartTimeId=null;this.onLoadDeferred=new k;this.InitializeCubeViewChart()},InitializeCubeViewChart:function(){this.Panel=this.CreatePanel("chartDiv","tm1webChartPanelFullScreen");this.Panel.style.width=
"100%";this.Panel.style.height="100%";u(l.hitch(this,function(){this._visWidget=new v;this.Panel.appendChild(this._visWidget.domNode);this.HadCreatedChart=!1;this._visWidget.startup();this._AttachEvents();this.onLoadDeferred.resolve()}))},_AttachEvents:function(){g.subscribe(this.ObjectId+"-CubeViewUpdated",l.hitch(this,"GetChart"));e(window,"resize",l.hitch(this,"Resize"),!0)},Update:function(a){this.Create(a)},Resize:function(){this._HadCreatedChart&&this.GetChart()},GetChart:function(){clearTimeout(this._GetChartTimeId);
var a=this;this._GetChartTimeId=setTimeout(function(){a._GetChart()},10)},_GetChart:function(){var a=this._GetSize(),a={w:a.w-10,h:a.h-10};0<a.w&&0<a.h&&q.GetRaveChart(this.ObjectId,a.w,a.h,{callback:this._OnGetChart,scope:this})},_GetSize:function(){var a=this.Panel.firstChild;null!=a&&(a.style.display="none");var d=m.coords(this.Panel);a&&(a.style.display="");return d},_OnGetChart:function(a){this.Panel.style.display="";this.Create(a);g.publish(this.ObjectId+"-CubeViewChartUpdated")},Create:function(a){null!=
a&&null!=this.Panel&&this._CreateChart(a)},_needCreateChartContent:function(a){return null==this._chartContent?!0:a==this._oldDiagramType?!1:!0},_CreateChart:function(a){this._HadCreatedChart=!0;this._createChartContent(a)},_createChartContent:function(a){this._needCreateChartContent(a.metricDiagramType)&&(null!=this._chartContent&&this._chartContent._removeInteractivityHelper(),this._chartContent="STRATEGY_DIAGRAM"==a.metricDiagramType?new p(this._visWidget):"IMPACT_DIAGRAM"==a.metricDiagramType?
new r(this._visWidget):"CUSTOM_DIAGRAM"==a.metricDiagramType?new s(this._visWidget):new t(this._visWidget),this._oldDiagramType=a.metricDiagramType);"IMPACT_DIAGRAM"==a.metricDiagramType&&this._chartContent._setPersistState(a.persistMetricDiagramState);this._chartContent._setVizJsonSpec(a);"STRATEGY_DIAGRAM"==a.metricDiagramType||"IMPACT_DIAGRAM"==a.metricDiagramType||"CUSTOM_DIAGRAM"==a.metricDiagramType?"vml"==b.renderer?this.Panel.style.overflow="auto":this._visWidget.containerNode.style.overflow=
"auto":"vml"==b.renderer?this.Panel.style.overflow="hidden":this._visWidget.containerNode.style.overflow="hidden"},_createDrillMap:function(a,d){this._drillMap=[];for(var b=0,c=0;c<d.length;c++){var f=d[c].length;if(b+f>a.length)break;for(var e=0;e<f;e++)if(this._drillMap[a[(c+1)*f-1-e].id]={drillInfo:{drillList:d[c][e],cellRow:c,cellCol:e}},b++,b==a.length)return}}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d){return m("dijit.tree._dndSelector",d,{constructor:function(){this.selection={};this.anchor=null;this.events.push(f(this.tree.domNode,b.press,k.hitch(this,"onMouseDown")),f(this.tree.domNode,b.release,k.hitch(this,"onMouseUp")),f(this.tree.domNode,b.move,k.hitch(this,"onMouseMove")),f(this.tree.domNode,a.press,k.hitch(this,"onClickPress")),f(this.tree.domNode,a.release,k.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],d=this.selection,
b;for(b in d)a.push(d[b]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,d){this.setSelection(this.getSelectedTreeNodes().concat([a]));d&&(this.anchor=a);return a},removeTreeNode:function(a){var d=n.filter(this.getSelectedTreeNodes(),function(d){return!c.isDescendant(d.domNode,a.domNode)});this.setSelection(d);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},
setSelection:function(a){var d=this.getSelectedTreeNodes();n.forEach(this._setDifference(d,a),k.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));n.forEach(this._setDifference(a,d),k.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,d){n.forEach(d,function(a){a.__exclude__=!0});var b=n.filter(a,function(a){return!a.__exclude__});n.forEach(d,function(a){delete a.__exclude__});
return b},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),d=[],b=[];n.forEach(a,function(a){var c=a.getTreePath();b.push(a);d.push(c)},this);a=n.map(b,function(a){return a.item});this.tree._set("paths",d);this.tree._set("path",d[0]||[]);this.tree._set("selectedNodes",b);this.tree._set("selectedNode",b[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(a.target,
this.current))){"mousedown"==a.type&&e.isLeft(a)&&a.preventDefault();var d="keydown"==a.type?this.tree.focusedChild:this.current;if(d){var b=g.getCopyKeyState(a),c=d.id;this.singular||a.shiftKey||!this.selection[c]?(this._doDeselect=!1,this.userSelect(d,b,a.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,g.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=
!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,d){if(a===d)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-d.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(d)&2?1:-1;if(document.createRange){var b=doc.createRange();b.setStartBefore(a);var c=doc.createRange();c.setStartBefore(d);return b.compareBoundaryPoints(b.END_TO_END,c)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
},userSelect:function(a,d,b){if(this.singular)this.anchor==a&&d?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(b&&this.anchor){d=this._compareNodes(this.anchor.rowNode,a.rowNode);b=this.anchor;0>d?d=b:(d=a,a=b);for(b=[];d!=a;)b.push(d),d=this.tree._getNext(d);b.push(a);this.setSelection(b)}else this.selection[a.id]&&d?this.removeTreeNode(a):d?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
d){d=d||l.global;for(var b in this.selection)a.call(d,this.getItem(b),b,this)}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(n,m,l,k,g,c){n=k("dijit._OnDijitClickMixin",null,{connect:function(e,f,b){return this.inherited(arguments,[e,"ondijitclick"==f?c:f,b])}});n.a11yclick=c;return n})},"tm1web/subseteditor/FilterByExpressionDialog":function(){define("dojo/_base/declare dojo/_base/lang dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByExpressionDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin".split(" "),
function(n,m,l,k,g,c,e,f,b){return n([l,c,e,b],{templateString:g,_textBox:null,_submitButton:null,_cancelButton:null,title:f.get("FILTER_BY_EXPRESSION_TITLE_STR"),_enterExpressionLabel:f.get("ENTER_EXPRESSION_STR"),_expressionExampleLabel:f.get("EXPRESSION_EXAMPLE_STR"),_submitButtonLabel:f.get("OK_STR"),_cancelButtonLabel:f.get("CANCEL_STR"),_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._textBox.watch("state",m.hitch(this,"_onValidStateChange"));this._textBox.validator=
function(a){return!this._isEmpty(a)}},_onValidStateChange:function(a,d,b){this._submitButton.set("disabled",!!b)},_submit:function(){var a=this._textBox.get("value");this.model.filterByExpression(a,m.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"tm1web/cubeview/CubeViewNavigationBar":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style ../utility/message-localizer ./CubeViewBase ./TM1CubeViewPageDialog ../share/TM1Utility ../share/service-loader!CubeViewService".split(" "),
function(n,m,l,k,g,c,e,f){return n(g,{constructor:function(b){this._HorizontalTopCell=this.ActivePagesButtonDiv=this.NavigationHorizontalDiv=this.NavigationVerticalDiv=null;this.ObjectId=b;this.InitializeCubeViewNavigationBar()},InitializeCubeViewNavigationBar:function(){this.NavigationVerticalDiv=this._CreateNavigationPanel("DataGridNavigatorDiv_Vertical");this.ActivePagesButtonDiv=this._CreateNavigationPanel("DataGridNavigatorDiv_ActivePages");this.NavigationHorizontalDiv=this._CreateNavigationPanel("DataGridNavigatorDiv_Horizontal");
this._CreateLayout()},_CreateNavigationPanel:function(b){b=this.CreatePanel(b,"");l.set(b,"overflow","hidden");return b},_CreateLayout:function(){this._CreateVerticalNavigation();this._CreateHorizontalNavigation();this._CreateActivePagesButton()},Update:function(b){this._UpdateVerticalNavigation(b);this._UpdateHorizontalNavigation(b);this._UpdateActivePageButton(b)},RemoveContent:function(){this.RemoveChildren(this.NavigationVerticalDiv.firstChild);this.RemoveChildren(this.NavigationHorizontalDiv.firstChild);
this.RemoveChildren(this.ActivePagesButtonDiv.firstChild)},_UpdateVerticalNavigation:function(b){var a=this._GetTable(this.NavigationVerticalDiv).rows[0].cells,d=0==b.rowNumber;this._UpdateVerticalNavigationCell(a[1],d);this._UpdateVerticalNavigationCell(a[2],d);d=b.rowNumber==b.totalRowPages-1;this._UpdateVerticalNavigationCell(a[3],d);this._UpdateVerticalNavigationCell(a[4],d);this._UpdateTotalPageCell(a[5],b)},_UpdateHorizontalNavigation:function(b){var a=this._GetTable(this.NavigationHorizontalDiv),
d=0==b.columnNumber;this._SetNavigationIconStatus(a.rows[1].cells[0].firstChild,d);d=b.columnNumber==b.totalColumnPages-1;this._SetNavigationIconStatus(a.rows[2].cells[0].firstChild,d)},AdjustHorizontalBarTopPadding:function(b){this._HorizontalTopCell.style.height=b},_UpdateActivePageButton:function(b){var a=this._GetTable(this.ActivePagesButtonDiv).rows[0].cells[0];this._UpdateActiveButtonCell(a,b.totalPages)},_CreateVerticalNavigation:function(){var b=this.CreateTable();m.add(b,"tm1webVerticalNavigationTable");
var a=b.insertRow(-1),d=a.insertCell(-1);this.SetTextContent(d,this.NBSP);this._CreateVerticalNavigationCell(a,k.get("TOP_STR"),k.get("TOP_TOOLTIP_STR"),"tm1webCanvasPageTopIcon",60,!0,"Top");this._CreateVerticalNavigationCell(a,k.get("PAGE_UP_STR"),k.get("PAGE_UP_TOOLTIP_STR"),"tm1webCanvasPagePreviousUpIcon",75,!0,"Previous");this._CreateVerticalNavigationCell(a,k.get("PAGE_DOWN_STR"),k.get("PAGE_DOWN_TOOLTIP_STR"),"tm1webCanvasPageNextDownIcon",78,!0,"Next");this._CreateVerticalNavigationCell(a,
k.get("BOTTOM_STR"),k.get("BOTTOM_TOOLTIP_STR"),"tm1webCanvasPageBottomIcon",75,!0,"Bottom");this._CreateTotalPagesCell(a);this.NavigationVerticalDiv.appendChild(b)},_CreateHorizontalNavigation:function(){var b=this.CreateTable();this.AddClass(b,"tm1webHorizontalPaging");var a=b.insertRow(-1).insertCell(-1);this.SetTextContent(a,this.NBSP);this.AddClass(a,"tm1webHorizontalEmptyCell");this._HorizontalTopCell=a;this._CreateHoriztonalNavigationCell(b,"tm1webCanvasPagePreviousUpIcon",k.get("PREVIOUS_PAGE_TOOLTIP_STR"),
!1,"Left");this._CreateHoriztonalNavigationCell(b,"tm1webCanvasPageNextDownIcon",k.get("NEXT_PAGE_TOOLTIP_STR"),!1,"Right");this.NavigationHorizontalDiv.appendChild(b)},_CreateHoriztonalNavigationCell:function(b,a,d,c,f){row=b.insertRow(-1);cell=row.insertCell(-1);this.AddClass(cell,"tm1webHorizontalNavCell");var e=this;b=this.CreateLabel(cell,"",a);b.onclick=function(){e._Navigate(f,this.disabled)};b.title=d;this._SetNavigationIconStatus(b,c)},_CreateTotalPagesCell:function(b){b=b.insertCell(-1);
this.AddClass(b,"tm1webPageNumberCell");this.CreateLabel(b,this.NBSP+this.NBSP+k.get("JUST_PAGE_STR")+this.NBSP,"tm1webNavigationPagingLabel");var a=document.createElement("INPUT");a.type="text";this.AddClass(a,"tm1webPagingTextBox tm1webNoWrap");a.readOnly="";b.appendChild(a);this.CreateLabel(b,"","tm1webNavigationPagingLabel").id="navigationPagingLabel"},_UpdateTotalPageCell:function(b,a){var d=b.lastChild;this.SetTextContent(d," "+k.get("JUST_OF_STR")+" "+a.totalPages+this.NBSP);d=d.previousSibling;
d.disabled=1>=a.totalPages?!0:!1;d.value=a.index},_CreateActivePagesButton:function(){var b=this.CreateTable();this.AddClass(b,"tm1webActiveButtonTab");var a=b.insertRow(-1).insertCell(-1);this.AddClass(a,"tm1webActiveButtonCell");this.CreateLabel(a,"","tm1webCanvasPageShowIcon").title=k.get("DISPLAY_PAGES_TOOLTIP_STR");this.ActivePagesButtonDiv.appendChild(b)},_ShowPageDialog:function(){(new c(this.ObjectId,this)).Show()},_UpdateActiveButtonCell:function(b,a){var d=b.firstChild,c=b.lastChild,f=1>=
a,e=this;d.onclick=f?null:function(){e._ShowPageDialog()};this._SetNavigationIconStatus(d,f);this._SetNavigationLabelStatus(c,f)},_UpdateVerticalNavigationCell:function(b,a){var d=b.lastChild;this._SetNavigationIconStatus(b.firstChild,a);this._SetNavigationLabelStatus(d,a)},_SetNavigationIconStatus:function(b,a){(b.disabled=a)?this.AddClass(b,"tm1webButtonDisabled"):this.RemoveClass(b,"tm1webButtonDisabled")},_SetNavigationLabelStatus:function(b,a){(b.disabled=a)?this.AddClass(b,"tm1webLabelDisabled"):
this.RemoveClass(b,"tm1webLabelDisabled")},_CreateVerticalNavigationCell:function(b,a,d,c,f,e,g){b=b.insertCell(-1);this.AddClass(b,"tm1webNavCell");var k=this;c=this.CreateLabel(b,"","tm1webAbsMiddle "+c);c.onclick=function(){k._Navigate(g,this.disabled)};c.title=d;a=this.CreateLabel(b,a,"tm1webNavigationPagingLabel tm1webUnderline");a.onclick=function(){k._Navigate(g,this.disabled)};a.title=d;this._UpdateVerticalNavigationCell(b,e);l.set(b,"minWidth",f+"px")},_Navigate:function(b,a){a||f.Navigate(this.ObjectId,
b,{callback:this.OnNavigate,scope:this})},OnNavigate:function(b){this.Update(b.gridData.pageID)},_CreateImage:function(b,a,d){var c=document.createElement("IMG");c.src=e.tm1WebRoot+"images/"+a;c.title=d;this.AddClass(c,"tm1webAbsMiddle");b.appendChild(c);return c},_GetTable:function(b){return b.getElementsByTagName("Table")[0]}})})},"tm1web/mobile/sniff":function(){define(["dojo/sniff"],function(n){n.add("mobile-device",n("ios")||n("android")||n("bb"));return n})},"tm1web/widgets/ContextMenu":function(){define(["dojo/_base/declare",
"dojo/on","dijit/Menu","../mobile/on/longpress","../mobile/sniff"],function(n,m,l,k,g){return n(l,{bindDomNode:function(c){this.inherited(arguments);if(g("mobile-device")){var e=this._bindings[this._bindings.length-1],f=this;e.connects.push(m(e.node,k,function(b){f._scheduleOpen(this,e.iframe,{x:b.pageX,y:b.pageY},b.target)}))}}})})},"tm1web/subseteditor/CreateConsolidationDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/store/Memory dojo/text!./templates/CreateConsolidationDialog.html dijit/Dialog dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return n([c,e,f,a],{templateString:g,title:b.get("CREATE_CONSOLIDATION_FROM_SUBSET_TITLE_STR"),_selectLabel:b.get("SELECT_SUBSET"),_submitButtonLabel:b.get("OK_STR"),_cancelButtonLabel:b.get("CANCEL_STR"),model:null,subsetModel:null,_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._subsetSelect.watch("state",m.hitch(this,"_onValidStateChange"));var a=this._subsetSelect;this.model.getMetaData().then(function(c){c=l.map(c.subsets,function(a){var d=
a.name;a.isPublic||(d=b.get("SUBSET_PRIVATE_STR",d));return{name:d,id:a.id}});a.set("store",new k({data:c}))})},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._subsetSelect.get("value");this.subsetModel.createConsolidationFromSubset(a,m.hitch(this,function(){this._onSubmit()}),function(a,d){alert(b.get("SRV_ERR_STR"))})}})})},"tm1web/share/ElementDisplayType":function(){define({DisplayNone:"DisplayNone",DisplayPlus:"DisplayPlus",DisplayMinus:"DisplayMinus"})},
"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(n,m,l){return n("dijit.form.DateTextBox",l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:m,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"tm1web/cubeview/CubeViewRowHeaderDndCoordinator":function(){define(["dojo/_base/declare","dojo/_base/array"],function(n,m){return n(null,{InitializeCubeViewRowHeaderDND:function(l,k){m.forEach(l.RowHeaderCellMatrix,function(g,
c){m.forEach(g,function(c,f){var b="dim_"+c.dimensionName;k.AttachDndHandlers(c,!1,b,null,null,null,b,null)})})}})})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(n,m,l,k){function g(a,d,b,c,f,e){e=e||"px";a=a.style;isNaN(d)||(a.left=d+e);isNaN(b)||(a.top=b+e);0<=c&&(a.width=c+e);0<=f&&(a.height=f+e)}function c(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function e(a){return"border-box"==
f.boxModel||"table"==a.tagName.toLowerCase()||c(a)}var f={boxModel:"content-box"};n("ie")&&(f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");f.getPadExtents=function(a,d){a=l.byId(a);var b=d||k.getComputedStyle(a),c=k.toPixelValue,f=c(a,b.paddingLeft),e=c(a,b.paddingTop),g=c(a,b.paddingRight),b=c(a,b.paddingBottom);return{l:f,t:e,r:g,b:b,w:f+g,h:e+b}};f.getBorderExtents=function(a,d){a=l.byId(a);var b=k.toPixelValue,c=d||k.getComputedStyle(a),f="none"!=c.borderLeftStyle?b(a,
c.borderLeftWidth):0,e="none"!=c.borderTopStyle?b(a,c.borderTopWidth):0,g="none"!=c.borderRightStyle?b(a,c.borderRightWidth):0,b="none"!=c.borderBottomStyle?b(a,c.borderBottomWidth):0;return{l:f,t:e,r:g,b:b,w:f+g,h:e+b}};f.getPadBorderExtents=function(a,d){a=l.byId(a);var b=d||k.getComputedStyle(a),c=f.getPadExtents(a,b),b=f.getBorderExtents(a,b);return{l:c.l+b.l,t:c.t+b.t,r:c.r+b.r,b:c.b+b.b,w:c.w+b.w,h:c.h+b.h}};f.getMarginExtents=function(a,d){a=l.byId(a);var b=d||k.getComputedStyle(a),c=k.toPixelValue,
f=c(a,b.marginLeft),e=c(a,b.marginTop),g=c(a,b.marginRight),b=c(a,b.marginBottom);return{l:f,t:e,r:g,b:b,w:f+g,h:e+b}};f.getMarginBox=function(a,d){a=l.byId(a);var b=d||k.getComputedStyle(a),c=f.getMarginExtents(a,b),e=a.offsetLeft-c.l,g=a.offsetTop-c.t,q=a.parentNode,m=k.toPixelValue;if(n("mozilla")){var v=parseFloat(b.left),b=parseFloat(b.top);isNaN(v)||isNaN(b)?q&&q.style&&(q=k.getComputedStyle(q),"visible"!=q.overflow&&(e+="none"!=q.borderLeftStyle?m(a,q.borderLeftWidth):0,g+="none"!=q.borderTopStyle?
m(a,q.borderTopWidth):0)):(e=v,g=b)}else(n("opera")||8==n("ie")&&!n("quirks"))&&q&&(q=k.getComputedStyle(q),e-="none"!=q.borderLeftStyle?m(a,q.borderLeftWidth):0,g-="none"!=q.borderTopStyle?m(a,q.borderTopWidth):0);return{l:e,t:g,w:a.offsetWidth+c.w,h:a.offsetHeight+c.h}};f.getContentBox=function(a,d){a=l.byId(a);var b=d||k.getComputedStyle(a),c=a.clientWidth,e=f.getPadExtents(a,b),g=f.getBorderExtents(a,b);c?(b=a.clientHeight,g.w=g.h=0):(c=a.offsetWidth,b=a.offsetHeight);n("opera")&&(e.l+=g.l,e.t+=
g.t);return{l:e.l,t:e.t,w:c-e.w-g.w,h:b-e.h-g.h}};f.setContentSize=function(a,b,c){a=l.byId(a);var k=b.w;b=b.h;e(a)&&(c=f.getPadBorderExtents(a,c),0<=k&&(k+=c.w),0<=b&&(b+=c.h));g(a,NaN,NaN,k,b)};var b={l:0,t:0,w:0,h:0};f.setMarginBox=function(a,d,p){a=l.byId(a);var m=p||k.getComputedStyle(a);p=d.w;var s=d.h,t=e(a)?b:f.getPadBorderExtents(a,m),m=f.getMarginExtents(a,m);if(n("webkit")&&c(a)){var q=a.style;0<=p&&!q.width&&(q.width="4px");0<=s&&!q.height&&(q.height="4px")}0<=p&&(p=Math.max(p-t.w-m.w,
0));0<=s&&(s=Math.max(s-t.h-m.h,0));g(a,d.l,d.t,p,s)};f.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){a=a||m.doc;var b=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=n("quirks")?m.body(a):a.documentElement)&&{x:f.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};n("ie")&&(f.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>n("ie")){var b=
a.getBoundingClientRect(),c=b.left,b=b.top;7>n("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}});f.fixIeBiDiScrollLeft=function(a,b){b=b||m.doc;var c=n("ie");if(c&&!f.isBodyLtr(b)){var e=n("quirks"),g=e?m.body(b):b.documentElement,k=m.global;6==c&&!e&&k.frameElement&&g.scrollHeight>g.clientHeight&&(a+=g.clientLeft);return 8>c||e?a+g.clientWidth-g.scrollWidth:-a}return a};f.position=function(a,b){a=l.byId(a);var c=m.body(a.ownerDocument),e=a.getBoundingClientRect(),
e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};if(9>n("ie")){var g=f.getIeDocumentElementOffset(a.ownerDocument);e.x-=g.x+(n("quirks")?c.clientLeft+c.offsetLeft:0);e.y-=g.y+(n("quirks")?c.clientTop+c.offsetTop:0)}b&&(c=f.docScroll(a.ownerDocument),e.x+=c.x,e.y+=c.y);return e};f.getMarginSize=function(a,b){a=l.byId(a);var c=f.getMarginExtents(a,b||k.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+c.w,h:e.bottom-e.top+c.h}};f.normalizeEvent=function(a){"layerX"in a||
(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!n("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,c=n("quirks")?b.body:b.documentElement,e=f.getIeDocumentElementOffset(b);a.pageX=a.clientX+f.fixIeBiDiScrollLeft(c.scrollLeft||0,b)-e.x;a.pageY=a.clientY+(c.scrollTop||0)-e.y}};return f})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(n,m,l,k,g,c){return n("dijit.form._FormValueMixin",
c,{readOnly:!1,_setReadOnlyAttr:function(c){m.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(c,f){this._handleOnChange(c,f)},_handleOnChange:function(c,f){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,
!0)}})})},"dojo/date/stamp":function(){define(["../_base/kernel","../_base/lang","../_base/array"],function(n,m,l){var k={};m.setObject("date.stamp",k,n);k.fromISOString=function(g,c){k._isoRegExp||(k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var e=k._isoRegExp.exec(g),f=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);c&&(c=new Date(c),l.forEach(l.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return c["get"+a]()}),function(a,b){e[b]=e[b]||a}));f=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&f.setFullYear(e[0]||1970);var b=0,a=e[7]&&e[7].charAt(0);"Z"!=a&&(b=60*(e[8]||0)+(Number(e[9])||0),"-"!=a&&(b*=-1));a&&(b-=f.getTimezoneOffset());b&&f.setTime(f.getTime()+6E4*b)}return f};k.toISOString=function(g,c){var e=function(a){return 10>a?"0"+a:a};c=c||{};var f=[],b=c.zulu?"getUTC":"get",a="";"time"!=c.selector&&(a=g[b+"FullYear"](),a=["0000".substr((a+
"").length)+a,e(g[b+"Month"]()+1),e(g[b+"Date"]())].join("-"));f.push(a);if("date"!=c.selector){a=[e(g[b+"Hours"]()),e(g[b+"Minutes"]()),e(g[b+"Seconds"]())].join(":");b=g[b+"Milliseconds"]();c.milliseconds&&(a+="."+(100>b?"0":"")+e(b));if(c.zulu)a+="Z";else if("time"!=c.selector)var b=g.getTimezoneOffset(),d=Math.abs(b),a=a+((0<b?"-":"+")+e(Math.floor(d/60))+":"+e(d%60));f.push(a)}return f.join("T")};return k})},"tm1web/share/SkeletonMixin":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/store/Memory dijit/Menu dijit/MenuItem dijit/PopupMenuItem dijit/ToolbarSeparator dijit/MenuSeparator dijit/form/Button dijit/form/DropDownButton dijit/form/ToggleButton dijit/form/ComboButton dijit/form/ComboBox dijit/form/Select dijit/form/FilteringSelect dijit/registry dojox/collections/ArrayList ../planning/TM1CheckedMenuItem".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x){return n(null,{_skeletonChildren:null,_Separator:f,constructor:function(){this._skeletonChildren={}},_addSkeletonChildren:function(){this._createSkeletonChildren();this._generateSkeleton().forEach(function(a){this._addGroup(a)},this)},_createSkeletonChildren:function(){},_generateSkeleton:function(){},_newGroup:function(){return new v},_newSkeleton:function(){return new v},_addMenuGroup:function(a,c){this._addSubGroup(a,c,b)},_addGroup:function(a){this._addSubGroup(this,
a,this._Separator)},_addSubGroup:function(a,b,c){0!=b.count&&(0<a.getChildren().length&&a.addChild(new c),b.forEach(function(b){a.addChild(b)}))},_newButton:function(b,c,d,f){return this._newSpecifiedButton(a,b,c,d,f)},_newToggleButton:function(a,b,c,d){return this._newSpecifiedButton(p,a,b,c,d)},_newComboButton:function(a,b,c,d){return this._newSpecifiedButton(r,a,b,c,d)},_newDropDownButton:function(a,b,c,f,e){a=this._newSpecifiedButton(d,a,b,f,e);a.set("dropDown",c);return a},_newSpecifiedButton:function(a,
b,c,d,f){b={label:b,iconClass:c,showLabel:!1,id:this._generateItemId(d)};f&&(b.onClick=f);return new a(b)},_newMenu:function(a){var b=new g;a.forEach(function(a){this._addMenuGroup(b,a)},this);return b},_newMenuItem:function(a,b,d,f){return this._newSpecifiedMenuItem(c,a,b,d,f)},_newPopupMenuItem:function(a,b,c,d,f){a=this._newSpecifiedMenuItem(e,a,b,d,f);a.set("popup",c);return a},_newCheckedMenuItem:function(a,b,c,d){return this._newSpecifiedMenuItem(x,a,b,c,d)},_newSpecifiedMenuItem:function(a,
b,c,d,f){b={label:b,iconClass:c,id:this._generateItemId(d)};f&&(b.onClick=f);return new a(b)},_newComboBox:function(a,b){return this._newSpecificSelect(s,a,b)},_newSelect:function(a,b){return new t({title:a,search:"name",id:this._generateItemId(b)})},_newFilteringSelect:function(a,b){return this._newSpecificSelect(q,a,b)},_newSpecificSelect:function(a,b,c){return new a({title:b,store:new k,search:"name",id:this._generateItemId(c)})},_getItemIdPrefix:function(){},_generateItemId:function(a){return u.getUniqueId(this._getItemIdPrefix()+
(a||"Item"))}})})},"tm1web/share/_CellContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/when ./_CellContextMenuBase ../widgets/ErrorAlert ../utility/clipboard ../utility/message-localizer ../cubeview/ViewCellType ./AddAnnotationDialog ./BrowseAnnotationsDialog".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){return n(g,{Service:null,SpreadDialogProportional:null,SpreadDialogEqualLeaves:null,SpreadDialogStraightLine:null,SpreadDialogClear:null,RelativeSpreadDialog:null,
_dataSpreadMenu:null,_holdsMenu:null,_drillMenu:null,_getCurrentCell:function(){return this._selectedArea?this._selectedArea.StartCell:null},_adjustContextMenu:function(){var a=this._currentCell.cellInfo,c=a&&void 0!=a.isPrimaryKey;k(e.get(!1),m.hitch(this,function(b){b=null==b||-1<b.indexOf("window.clipboardData,getData")||a.readOnly||c;this._skeletonChildren.paste.set("disabled",b)}));var d=(a.cellType!=b.NUM||null==a.hold)&&this._isSingleCellSelected()||void 0!=this.allowSpreading&&!this.allowSpreading||
c,f=!a.isConsolidated&&this._isSingleCellSelected()||!this._isSingleCellSelected(),g=a.isFlexView||f,l=a.drillList,l=null==l||""==l||!this._isSingleCellSelected()||a.isFlexView,n=void 0!=this._currentCell.cellInfo.isTM1Cell&&!this._currentCell.cellInfo.isTM1Cell||a.isFlexView||!this._currentCell.cellInfo.annotated||!this._isSingleCellSelected(),x=!this._isSingleCellSelected()||void 0!=this._currentCell.cellInfo.isTM1Cell&&!this._currentCell.cellInfo.isTM1Cell||a.isFlexView;this._skeletonChildren.addComment.set("disabled",
x);this._skeletonChildren.browseComments.set("disabled",n);this._skeletonChildren.dataSpread.set("disabled",d);this._skeletonChildren.holds.set("disabled",d);this._skeletonChildren.drill.set("disabled",l);this._skeletonChildren.relativeProportionalSpread.set("disabled",g);this._skeletonChildren.relativePercentAjustmentSpread.set("disabled",g);this._skeletonChildren.repeatLeavesSpread.set("disabled",f);this._skeletonChildren.equalLeavesSpread.set("disabled",f);l||(this._drillMenu=this._newMenu(this._generateDrillMenuSkeleton()),
this._skeletonChildren.drill.set("popup",this._drillMenu));this._currentCell.cellInfo.readOnly&&(this._skeletonChildren.dataSpread.set("disabled",!0),this._skeletonChildren.holds.set("disabled",!0))},_createCopyPasteSkeletonChildren:function(){this._skeletonChildren.copy=this._newMenuItem(f.get("COPY_STR"),"tm1webContextmenu_icon_copy","Copy",m.hitch(this,this._copy,this._getCopyPasteId()));this._skeletonChildren.paste=this._newMenuItem(f.get("PASTE_STR"),"tm1webContextmenu_icon_paste","Paste",m.hitch(this,
this._paste,this._getCopyPasteId()))},_createDataSpreadSkeletonChildren:function(){this._skeletonChildren.proportionalSpread=this._newMenuItem(f.get("PROPORTIONAL_SPREAD_STR"),"tm1webContextmenu_icon_spread_proportion","proportionalSpread",m.hitch(this,this._showSpreadDialogProportionalType,f.get("SPREAD_TITLE_PROPORTIONAL_SPREAD"),f.get("SPREAD_LABEL_VALUE"),"P"));this._skeletonChildren.equalSpread=this._newMenuItem(f.get("EQUAL_SPREAD_STR"),"tm1webContextmenu_icon_spread_equal","equalSpread",m.hitch(this,
this._showSpreadDialogProportionalType,f.get("SPREAD_TITLE_EQUAL_SPREAD"),f.get("SPREAD_LABEL_VALUE"),"S"));this._skeletonChildren.repeatSpread=this._newMenuItem(f.get("REPEAT_SPREAD_STR"),"tm1webContextmenu_icon_spread_repeat","repeatSpread",m.hitch(this,this._showSpreadDialogProportionalType,f.get("SPREAD_TITLE_REPEAT"),f.get("SPREAD_LABEL_VALUE"),"R"));this._skeletonChildren.clearSpread=this._newMenuItem(f.get("CLEAR_SPREAD_STR"),"tm1webContextmenu_icon_spread_clear","clearSpread",m.hitch(this,
this._showSpreadDialogClearType,f.get("SPREAD_TITLE_CLEAR")));this._skeletonChildren.percentChangeSpread=this._newMenuItem(f.get("PC_SPREAD_STR"),"tm1webContextmenu_icon_spread_percent_chg","percentChangeSpread",m.hitch(this,this._showSpreadDialogProportionalType,f.get("SPREAD_TITLE_PERCENT_CHANGE"),f.get("SPREAD_LABEL_CHANGE"),"P%"));this._skeletonChildren.straightLineSpread=this._newMenuItem(f.get("SL_SPREAD_STR"),"tm1webContextmenu_icon_spread_straightline","straightLineSpread",m.hitch(this,this._showSpreadDialogStraightLineType,
f.get("SPREAD_TITLE_STRAIGHT_LINE"),"SL",f.get("SPREAD_LABEL_START"),f.get("SPREAD_LABEL_END")));this._skeletonChildren.growthPercentSpread=this._newMenuItem(f.get("GP_SPREAD_STR"),"tm1webContextmenu_icon_spread_growth","growthPercentSpread",m.hitch(this,this._showSpreadDialogStraightLineType,f.get("SPREAD_TITLE_GROWTH"),"GR",f.get("SPREAD_LABEL_START"),f.get("SPREAD_LABEL_GROWTH")));this._skeletonChildren.relativeProportionalSpread=this._newMenuItem(f.get("RP_SPREAD_STR"),"tm1webContextmenu_icon_spread_proportion_reltv",
"relativeProportionalSpread",m.hitch(this,this._showRelativeSpreadDialogType,f.get("SPREAD_TITLE_RELATIVE_PROPORTIONAL"),!1));this._skeletonChildren.relativePercentAjustmentSpread=this._newMenuItem(f.get("RP_ADJ_SPREAD_STR"),"tm1webContextmenu_icon_spread_percnt_chg_reltv","relativePercentAjustmentSpread",m.hitch(this,this._showRelativeSpreadDialogType,f.get("SPREAD_TITLE_RELATIVE_PERCENT"),!0));this._skeletonChildren.repeatLeavesSpread=this._newMenuItem(f.get("RL_SPREAD_STR"),"tm1webContextmenu_icon_spread_repeat_leaves",
"repeatLeavesSpread",m.hitch(this,this._showSpreadDialogEqualLeaveType,f.get("SPREAD_TITLE_REPEAT_LEAVES"),"LR"));this._skeletonChildren.equalLeavesSpread=this._newMenuItem(f.get("EL_SPREAD_STR"),"tm1webContextmenu_icon_spread_equal_leaves","equalLeavesSpread",m.hitch(this,this._showSpreadDialogEqualLeaveType,f.get("SPREAD_TITLE_EQUAL_SPREAD_LEAVES"),"LS"))},_createHoldsSkeletonChildren:function(){this._skeletonChildren.leavesHold=this._newMenuItem(f.get("HL_SPREAD_STR"),"tm1webContextmenu_icon_hold_holdleaf",
"leavesHold",m.hitch(this,this._hold,"H"));this._skeletonChildren.consolidateHold=this._newMenuItem(f.get("HC_SPREAD_STR"),"tm1webContextmenu_icon_hold_holdcon","consolidateHold",m.hitch(this,this._hold,"HC"));this._skeletonChildren.releaseLeafHolds=this._newMenuItem(f.get("RLH_SPREAD_STR"),"tm1webContextmenu_icon_hold_releaseleaf","releaseLeafHolds",m.hitch(this,this._hold,"RH"));this._skeletonChildren.releaseConsolidateHolds=this._newMenuItem(f.get("RC_SPREAD_STR"),"tm1webContextmenu_icon_hold_release_con",
"releaseConsolidateHolds",m.hitch(this,this._hold,"RC"));this._skeletonChildren.releaseAllHolds=this._newMenuItem(f.get("RA_SPREAD_STR"),"tm1webContextmenu_icon_hold_release_all","releaseAllHolds",m.hitch(this,this._hold,"RA"))},_createSubMenuSkeletonChildren:function(){this._dataSpreadMenu=this._newMenu(this._generateDataSpreadMenuSkeleton());this._holdsMenu=this._newMenu(this._generateHoldsMenuSkeleton());this._drillMenu=this._newMenu(this._generateDrillMenuSkeleton());this._skeletonChildren.dataSpread=
this._newPopupMenuItem(f.get("DATA_SPREAD_STR"),"tm1webContextmenu_icon_spread",this._dataSpreadMenu,"dataSpread");this._skeletonChildren.holds=this._newPopupMenuItem(f.get("HOLDS_STR"),"tm1webContextmenu_icon_hold",this._holdsMenu,"holds");this._skeletonChildren.drill=this._newPopupMenuItem(f.get("DRILL_STR"),"tm1webContextmenu_icon_drill",this._drillMenu,"drill")},_createSkeletonChildren:function(){this._createCopyPasteSkeletonChildren();this._createDataSpreadSkeletonChildren();this._createHoldsSkeletonChildren();
this._createSubMenuSkeletonChildren();this._createCommentSkeletonChildren()},_generateSkeleton:function(){var a=this._newSkeleton();a.add(this._generateCopyPasteGroup());a.add(this._generateFunctionGroup());a.add(this._generateCommentGroup());return a},_generateDataSpreadMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateDataSpreadGroup());return a},_generateHoldsMenuSkeleton:function(){var a=this._newSkeleton();a.add(this._generateHoldsGroup());return a},_generateDrillMenuSkeleton:function(){var a=
this._newSkeleton();a.add(this._generateDrillGroup());return a},_generateCopyPasteGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.copy);a.add(this._skeletonChildren.paste);return a},_generateFunctionGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.dataSpread);a.add(this._skeletonChildren.holds);a.add(this._skeletonChildren.drill);return a},_generateDataSpreadGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.proportionalSpread);a.add(this._skeletonChildren.equalSpread);
a.add(this._skeletonChildren.repeatSpread);a.add(this._skeletonChildren.clearSpread);a.add(this._skeletonChildren.percentChangeSpread);a.add(this._skeletonChildren.straightLineSpread);a.add(this._skeletonChildren.growthPercentSpread);a.add(this._skeletonChildren.relativeProportionalSpread);a.add(this._skeletonChildren.relativePercentAjustmentSpread);a.add(this._skeletonChildren.repeatLeavesSpread);a.add(this._skeletonChildren.equalLeavesSpread);return a},_generateHoldsGroup:function(){var a=this._newGroup();
a.add(this._skeletonChildren.leavesHold);a.add(this._skeletonChildren.consolidateHold);a.add(this._skeletonChildren.releaseLeafHolds);a.add(this._skeletonChildren.releaseConsolidateHolds);a.add(this._skeletonChildren.releaseAllHolds);return a},_generateDrillGroup:function(){var a=this._newGroup();if(this._currentCell&&this._currentCell.cellInfo&&this._currentCell.cellInfo.drillList)for(var b=this._currentCell.cellInfo.drillList.split(","),c=0;c<b.length;c++)a.add(this._newMenuItem(b[c],"","drill"+
c,m.hitch(this,this._drill,b[c])));return a},_copy:function(a){l.publish(a+"-Copy")},_paste:function(a){l.publish(a+"-Paste")},_showSpreadDialogProportionalType:function(a,b,c){a=new this.SpreadDialogProportional({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:c,_ValueTitle:b,Service:this.Service});a.Initialize();a.Show()},_showSpreadDialogEqualLeaveType:function(a,b){var c=new this.SpreadDialogEqualLeaves({_Title:a,
_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:b,_ValueTitle:"",Service:this.Service});c.Initialize();c.Show()},_showSpreadDialogStraightLineType:function(a,b,c,d){a=new this.SpreadDialogStraightLine({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_CommandString:b,_StartValueTitle:c,_EndValueTitle:d,Service:this.Service});a.Initialize();
a.Show()},_showSpreadDialogClearType:function(a){a=new this.SpreadDialogClear({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),Service:this.Service});a.Initialize();a.Show()},_showRelativeSpreadDialogType:function(a,b){var c=new this.RelativeSpreadDialog({_Title:a,_ObjectId:this.objectId,_dataGrid:this.dataGrid,_cellInfo:this._currentCell.cellInfo,_coord:this._getCurrentCellCoord(),_IsPercentage:b,Service:this.Service});
c.Initialize();c.Show()},_hold:function(a){},_drill:function(a){this.Service.getDrillView(this.objectId,this._currentCell.cellInfo.rowIndex,this._currentCell.cellInfo.colIndex,a,{callback:this._onDrill,arg:a,scope:this})},_onDrill:function(a,b){if(a)if(a.objectId){if(a.relational?l.publish(this.objectId+"-RelationalDrillThrough",b,a.colNames,a.gridData,a.objectId,this.Service):l.publish(this.objectId+"-TM1WidgetIdentityCreated",{objectId:a.objectId,drilledView:!0},a.viewName),this.dataGrid.onDrillThrough&&
"function"===typeof this.dataGrid.onDrillThrough)this.dataGrid.onDrillThrough({drillThroughScript:b,drillThroughCubeName:a.orignCubeName,drillThroughCellCoord:a.cellCoord,isRelational:!0===a.relational})}else c.show({message:f.get(a),title:f.get("DRILL_ERROR_TITLE_STR")});else c.show({message:f.get("DRILL_ERROR"),title:f.get("DRILL_ERROR_TITLE_STR")})},_getCopyPasteId:function(){return null},_isSingleCellSelect:function(){return!1},_onHold:function(a){},_createCommentSkeletonChildren:function(){this._skeletonChildren.addComment=
this._newMenuItem(f.get("ADD_COMMENT_STR"),"tm1webContextmenuIconComment","AddComment",m.hitch(this,"_addComment"));this._skeletonChildren.browseComments=this._newMenuItem(f.get("BROWSE_COMMENTS_STR"),"tm1webContextmenuIconBrowseComments","BrowseComments",m.hitch(this,"_browseComments"))},_generateCommentGroup:function(){var a=this._newGroup();a.add(this._skeletonChildren.addComment);a.add(this._skeletonChildren.browseComments);return a},_addComment:function(){(new a(this.objectId,this._currentCell,
this.dataGrid,this.Service)).show()},_browseComments:function(){(new d(this.objectId,this._currentCell,this.dataGrid,this.Service)).show()}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(n,m,l,k,g,c,e,f,b,a,d){m=m("dijit.form._AutoCompleterMixin",d,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",
maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(f("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(d){}}return b},_setCaretPos:function(b,c){c=parseInt(c);a.selectInputText(b,c,c)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",
a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(b!=k.ALT&&b!=k.CTRL&&b!=k.META&&b!=k.SHIFT){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!(a.altKey||a.ctrlKey||a.metaKey))switch(this._opened&&(d=c.getHighlightedOption()),b){case k.PAGE_DOWN:case k.DOWN_ARROW:case k.PAGE_UP:case k.UP_ARROW:this._opened&&this._announceOption(d);a.stopPropagation();a.preventDefault();break;case k.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);
a.stopPropagation();a.preventDefault();break}else if(d==c.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case k.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case k.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(b){var c=
this.focusNode;a.selectInputText(c,c.value.length);var d=this.ignoreCase?"toLowerCase":"substr";0==b[d](0).indexOf(this.focusNode.value[d](0))?(d=this.autoComplete?this._getCaretPos(c):c.value.length,d+1>c.value.length&&(c.value=b,a.selectInputText(c,d))):(c.value=b,a.selectInputText(c))},_openResultList:function(a,b,c){var d=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();a.length||0!=c.start?(this._nextSearch=this.dropDown.onPage=g.hitch(this,function(b){a.nextPage(-1!==b);
this.focus()}),this.dropDown.createOptions(a,c,g.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in c?(c.direction?this.dropDown.highlightFirstOption():c.direction||this.dropDown.highlightLastOption(),d&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(b[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)):this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0);
this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;!b||a!=b._messages.previousMessage&&a!=b._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=
this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0);this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=
a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",l.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var b=this.id+"_popup";this.dropDown=new (g.isString(this.dropDownClass)?g.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:g.hitch(this,this._selectOption),id:b,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},
_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new b({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var c=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,c):a[c]}}},postCreate:function(){var a=c('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",
a[0].id));this.inherited(arguments);n.after(this,"onSearch",g.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=e.escapeString(b);return this._escapeHtml(a.replace(new RegExp((0==
d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},
_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}});f("dojo-bidi")&&m.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return m})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){m=
m("dojo.dnd.Container",b,{skipForm:!1,allowNested:!1,constructor:function(a,b){this.node=c.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=b.skipForm;this.parent=b.dropParent&&c.byId(b.dropParent);this.map={};this.current=null;this.containerState="";e.add(this.node,"dojoDndContainer");b&&b._skipStartup||this.startup();this.events=[d(this.node,r.over,k.hitch(this,"onMouseOver")),d(this.node,r.out,k.hitch(this,"onMouseOut")),d(this.node,"dragstart",k.hitch(this,"onSelectStart")),d(this.node,
"selectstart",k.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||l.global;var c=this.map,d=s._empty,f;for(f in c)f in d||a.call(b,c[f],f,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return p((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=
this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=s.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<
a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){n.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=s._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){this.skipForm&&s.isFormElement(a)||(a.stopPropagation(),a.preventDefault())},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";e.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){e.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){e.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=
a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&e.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var c=(this.creator||this.defaultCreator).call(this,a,b);k.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=s.getUniqueId());e.add(c.node,"dojoDndItem");return c}});s._createNode=function(a){return a?function(b){return f.create(a,{innerHTML:b})}:s._createSpan};s._createTrTd=function(a){var b=f.create("tr");f.create("td",
{innerHTML:a},b);return b};s._createSpan=function(a){return f.create("span",{innerHTML:a})};s._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};s._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?s._createTrTd:s._createNode(s._defaultCreatorNodes[a]);return function(a,c){var d=a&&k.isObject(a),f,e;d&&a.tagName&&a.nodeType&&a.getAttribute?(f=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],e=a):(f=d&&a.data?a.data:
a,d=d&&a.type?a.type:["text"],e=("avatar"==c?s._createSpan:b)(String(f)));e.id||(e.id=s.getUniqueId());return{node:e,data:f,type:d}}};return m})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(n,m,l,k){function g(b){var c=a[b.options.handleAs];b.data=c?c(b):b.data||b.text;return b}k.add("activex","undefined"!==typeof ActiveXObject);k.add("dom-parser",function(a){return"DOMParser"in a});var c;if(k("activex")){var e=["Msxml2.DOMDocument.6.0",
"Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],f;c=function(a){function b(a){try{var d=new ActiveXObject(a);d.async=!1;d.loadXML(g);c=d;f=a}catch(e){return!1}return!0}var c=a.data,g=a.text;c&&k("dom-qsa2.1")&&!c.querySelectorAll&&k("dom-parser")&&(c=(new DOMParser).parseFromString(g,"application/xml"));c&&c.documentElement||f&&b(f)||l.some(e,b);return c}}var b=function(a){return k("native-xhr2-blob")||"blob"!==a.options.handleAs||"undefined"===typeof Blob?a.xhr.response:new Blob([a.xhr.response],
{type:a.xhr.getResponseHeader("Content-Type")})},a={javascript:function(a){return m.eval(a.text||"")},json:function(a){return n.parse(a.text||null)},xml:c,blob:b,arraybuffer:b,document:b};g.register=function(b,c){a[b]=c};return g})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(n,m,l,k,g,c,e){function f(a,b,f,e){var k=c.getEffectiveBox(a.ownerDocument);a.parentNode&&"body"==String(a.parentNode.tagName).toLowerCase()||
g.body(a.ownerDocument).appendChild(a);var t=null;n.some(b,function(b){var c=b.corner,d=b.pos,g=0,l={w:{L:k.l+k.w-d.x,R:d.x-k.l,M:k.w}[c.charAt(1)],h:{T:k.t+k.h-d.y,B:d.y-k.t,M:k.h}[c.charAt(0)]},q=a.style;q.left=q.right="auto";f&&(g=f(a,b.aroundCorner,c,l,e),g="undefined"==typeof g?0:g);var n=a.style,u=n.display,F=n.visibility;"none"==n.display&&(n.visibility="hidden",n.display="");q=m.position(a);n.display=u;n.visibility=F;u={L:d.x,R:d.x-q.w,M:Math.max(k.l,Math.min(k.l+k.w,d.x+(q.w>>1))-q.w)}[c.charAt(1)];
F={T:d.y,B:d.y-q.h,M:Math.max(k.t,Math.min(k.t+k.h,d.y+(q.h>>1))-q.h)}[c.charAt(0)];d=Math.max(k.l,u);n=Math.max(k.t,F);u=Math.min(k.l+k.w,u+q.w);F=Math.min(k.t+k.h,F+q.h);u-=d;F-=n;g+=q.w-u+(q.h-F);if(null==t||g<t.overflow)t={corner:c,aroundCorner:b.aroundCorner,x:d,y:n,w:u,h:F,overflow:g,spaceAvailable:l};return!g});t.overflow&&f&&f(a,t.aroundCorner,t.corner,t.spaceAvailable,e);b=t.y;var q=t.x,u=g.body(a.ownerDocument);/relative|absolute/.test(l.get(u,"position"))&&(b-=l.get(u,"marginTop"),q-=l.get(u,
"marginLeft"));u=a.style;u.top=b+"px";u.left=q+"px";u.right="auto";return t}var b={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return e.place={at:function(a,c,e,g,k){e=n.map(e,function(a){var f={corner:a,aroundCorner:b[a],pos:{x:c.x,y:c.y}};g&&(f.pos.x+="L"==a.charAt(1)?g.x:-g.x,f.pos.y+="T"==a.charAt(0)?g.y:-g.y);return f});return f(a,e,k)},around:function(a,b,c,e,g){function t(a,b){F.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+A,M:z+(A>>1)}[a.charAt(1)],y:{T:B,B:B+C,M:B+(C>>1)}[a.charAt(0)]}})}var q;if("string"==
typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(q=m.position(b,!0),/^(above|below)/.test(c[0])){var u=m.getBorderExtents(b),v=b.firstChild?m.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=m.getBorderExtents(a),y=a.firstChild?m.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};q.y+=Math.min(u.t+v.t,x.t+y.t);q.h-=Math.min(u.t+v.t,x.t+y.t)+Math.min(u.b+v.b,x.b+y.b)}}else q=b;if(b.parentNode)for(u="absolute"==l.getComputedStyle(b).position,b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){v=
m.position(b,!0);x=l.getComputedStyle(b);/relative|absolute/.test(x.position)&&(u=!1);if(!u&&/hidden|auto|scroll/.test(x.overflow)){var y=Math.min(q.y+q.h,v.y+v.h),w=Math.min(q.x+q.w,v.x+v.w);q.x=Math.max(q.x,v.x);q.y=Math.max(q.y,v.y);q.h=y-q.y;q.w=w-q.x}"absolute"==x.position&&(u=!0);b=b.parentNode}var z=q.x,B=q.y,A="w"in q?q.w:q.w=q.width,C="h"in q?q.h:(k.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+B+", height:"+q.height+", width:"+A+" } has been deprecated.  Please use { x:"+
z+", y:"+B+", h:"+q.height+", w:"+A+" }","","2.0"),q.h=q.height),F=[];n.forEach(c,function(a){var b=e;switch(a){case "above-centered":t("TM","BM");break;case "below-centered":t("BM","TM");break;case "after-centered":b=!b;case "before-centered":t(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":t(b?"TL":"TR",b?"TR":"TL");t(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":t(b?"BL":"BR",b?"TL":"TR");t(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":t(b?
"TL":"TR",b?"BL":"BR");t(b?"TR":"TL",b?"BR":"BL");break;default:t(a.aroundCorner,a.corner)}});a=f(a,F,g,{w:A,h:C});a.aroundNodePos=q;return a}}})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(n,m,l){return n("dijit.form.ComboBox",[m,l],{})})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(n,m,l,k,g,c,e,f,b){return c("dijit.layout._LayoutWidget",[m,l,k],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();a&&a.isLayoutContainer||(this.resize(),this.own(g.on("resize",n.hitch(this,"resize"))))}},resize:function(a,c){var e=this.domNode;a&&f.setMarginBox(e,a);var g=c||
{};n.mixin(g,a||{});"h"in g&&"w"in g||(g=n.mixin(f.getMarginBox(e),g));var k=b.getComputedStyle(e),l=f.getMarginExtents(e,k),m=f.getBorderExtents(e,k),g=this._borderBox={w:g.w-(l.w+m.w),h:g.h-(l.h+m.h)},l=f.getPadExtents(e,k);this._contentBox={l:b.toPixelValue(e,k.paddingLeft),t:b.toPixelValue(e,k.paddingTop),w:g.w-l.w,h:g.h-l.h};this.layout()},layout:function(){},_setupChild:function(a){e.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,
b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){e.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"tm1web/share/NumberType":function(){define({DECIMAL:"decimal",PERCENT:"percent"})},"tm1web/cubeview/DimensionDropPanel":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/topic dojo/on dijit/popup ../utility/message-localizer ./CubeViewBase ./DimensionDropMenu ../share/DataSourceType ../share/TM1Utility ../subseteditor/ElementSelector ../mobile/on/tap".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t){return n(a,{constructor:function(a,b){this.ContainerCell=this.EmptyCell=this.DimButtons=this.InsertSensors=this.ButtonType=this.DimTable=this.ButtonRow=this.Caption=this.CaptionRow=null;this.scrollIndex=1;this.dataSourceType=b;this._Parent=a;this.InitializeDimensionDropPanel()},InitializeDimensionDropPanel:function(){this.SetDropPanelProperties()},SetDropPanelProperties:function(){},Create:function(a){this.ContainerCell=containerCell=document.createElement("TD");
var b=this.CreateTable();this.DimTable=b;k.add(b,"tm1webDimDropTable");this._CreateCaptionRow();this._CreateButtonRow(a);0>=this.GetNumberOfDimButtons(a)&&this._CreateEmptyPanel();this.SetCaptionCellColSpan();containerCell.appendChild(b);return containerCell},SetContainerProperty:function(a,b,c,d){a.className=b;a.title=c;this.DimTable.id=d},GetNumberOfDimButtons:function(a){alert("Have to be overridden!")},_CreateEmptyPanel:function(){var a=this.ButtonRow.insertCell(-1);this.EmptyCell=a;a.className=
"tm1webEmptyDimPanelCell";this.CreateLabel(a,"\x3c"+b.get("ADD_DIMENSION_HERE_STR")+"\x3e","")},SetCaptionCellColSpan:function(){var a=this.ButtonRow.cells.length;this.CaptionRow.firstChild.colSpan=1<=a?a:1},_CreateButtonRow:function(a){this.ButtonRow=this.DimTable.insertRow(-1);this.ButtonRow.className="tm1webDimButtonRow";this.CreateDimensionButtons(a)},_CreateCaptionRow:function(){this.CaptionRow=this.DimTable.insertRow(-1);this.CaptionRow.className="tm1webDimCaptionRow";var a=this.CaptionRow.insertCell(-1);
this.SetTextContent(a,this.Caption)},CreateDimensionButtons:function(a){},CreateDimensionButtonsEx:function(a,b){if(null!=b){var c=b.length;if(0<c){this.DimButtons=Array(c);this.InsertSensors=Array(c+1);for(var d=0;d<c;d++)this.CreateDimBarInsertSensor(d),this.CreateDimensionButton(a,b[d],d);this.CreateDimBarInsertSensor(c);this._CreateDimensionDropMenu(b)}}},_CreateDimensionDropMenu:function(a){var b=new d(this);a=b.Create(a);k.add(a,"tm1webDimDropMenuCell");this.ButtonRow.appendChild(a);this._dimensionDropMenu=
b},CreateDimBarInsertSensor:function(a){var b=this.ButtonRow.insertCell(-1);b.className="tm1webDimBarInsertSensor";b.noWrap="nowrap";this.SetTextContent(b,this.NBSP);this.ButtonRow.appendChild(b);this.InsertSensors[a]=b},GetDropInfoPrefix:function(){return"loc_"+this.ButtonType},CreateDimensionButton:function(a,b,c){var d=this.ButtonRow.insertCell(-1);d.className="tm1webDimensionButton";this._CreateDimensionButton(a,b,d,c);this.DimButtons[c]=d;d.dimensionName=b.dimensionName},_CreateDimensionButton:function(a,
b,c,d){a=this.CreateTable();c.appendChild(a);d=a.insertRow(-1);var f=d.insertCell(-1);f.className="tm1webDimButImageHandle";this.SetTextContent(f,this.NBSP);f=d.insertCell(-1);f.className="tm1webDimButFillAndBorder";this._CreateTextTable(f,b,c);this.CanCreateSubsetSelectCell(b)&&this._CreateSubsetSelectCell(d,b);g.create("div",{"class":"tm1webDimensionButtonPanel"},c).appendChild(a)},CanCreateSubsetSelectCell:function(a){alert("Have to be ovverridden!")},_CreateSubsetSelectCell:function(a,b){var c=
a.insertCell(-1);c.className="tm1webDimButFillAndBorder tm1webClickable";this._CreateSubsetDropDownIcon(c,b)},_CreateSubsetDropDownIcon:function(a,c){var d=c.enableSubsetEditor,f=document.createElement("span");d&&(f.title=b.get("DIMENSION_DROP_PANEL_OPEN_SUBSET_EDITOR_STR"));f.className="tm1webSubsetSelect tm1webDimensionPanelDropArrow";for(d=a;d.previousSibling;)d=d.previousSibling;e(a,t,m.hitch(this,function(b){this.createDropDownSubsetDialog(a.parentNode.parentNode.parentNode.parentNode,this._Parent.ObjectId,
c.dimensionName,c.subsetName)}));a.appendChild(f)},createDropDownSubsetDialog:function(a,b,d,e){var g=new s({objectId:b,dimension:d,onClose:function(){g.destroyRecursive();g=null},onSubmit:function(a,e){f.close(g);c.publish(b+"-TitleElementChange",{dimension:d,element:a,elementIndex:e});c.publish("RecalcActivePanels",b)},onBlur:function(){f.close(g)},onCancel:function(){f.close(g)},onLoad:function(){f.open({popup:g,around:a})}})},_onGetDataSourceType:function(a,b){this.dataSourceType=a;b&&b()},_CreateTextTable:function(a,
b,c){var d=this.CreateTable();a.appendChild(d);c._txtTable=d;this.AddClass(d,"tm1webDimButtonTextTable");this._CreateTextTableCell(d,b,this.CreateDisplayTextLabel);this._CreateTextTableCell(d,b,this._CreateDimensionTextLabel)},_CreateTextTableCell:function(a,b,c){a=a.insertRow(-1).insertCell(-1);a.className="tm1webDimButtonText";c.call(this,a,b)},_CreateDimensionTextLabel:function(a,c){this.CreateLabel(a,"["+c.dimensionCaption+"]","tm1webDimButtonDimText").title=b.get("DIMENSION_DROP_PANEL_DIM_STR",
c.dimensionCaption)},CreateDisplayTextLabel:function(a,b){},CreateDisplayTextLabelEx:function(a,c,d){a=this.CreateLabel(a,c,d.selectedElementConsolidated?"tm1webDimButtonElementTextBold":"tm1webDimButtonElementText");a.title=b.get("DIMENSION_DROP_PANEL_DRAG_THIS",d.dimensionCaption);return a},doTableFitting:function(a){var b=this.DimTable,c=this.scrollIndex;if(null!=b&&"undefined"!=typeof b){if(null==a||"undefined"==typeof a)a=this.DimTable.parentNode.clientWidth;var b=b.rows[1],d=b.cells.length;
if(1!=d){a-=24;for(var f=-1,e=-1,g=!1,k=2*(c-1);k<d-2;k+=2){var l=b.cells[k],m=this.GetHideableElementWidth(l),n=b.cells[k+1],p=this.GetHideableElementWidth(n),m=m+p;-1==f||0<a&&a>=m&&!g?(this.Unhide(l),this.Unhide(n),l=k/2+1,-1==f&&(f=l),e<l&&(e=l),a-=m):(g=!0,this.Hide(l),this.Hide(n))}g=2*(e-1)+2;k=d-2;g>k&&(g=k);2>g&&(g=2);g==k?this.Unhide(b.cells[g]):(this.Unhide(b.cells[g]),this.Hide(b.cells[k]));if(1<c)for(g=!1,k=2*(c-2);0<=k;k-=2)l=b.cells[k],m=this.GetHideableElementWidth(l),n=b.cells[k+
1],p=this.GetHideableElementWidth(n),m+=p,0<a&&a>=m&&!g?(this.Unhide(l),this.Unhide(n),l=k/2+1,l<f&&(f=l),a-=m):(g=!0,this.Hide(l),this.Hide(n));c=(d-2)/2-(e-f+1);b=b.cells[d-1];0>=c?this.Hide(b):(this._dimensionDropMenu.setHiddenDimensionCount(c),this.Unhide(b))}}},GetHideableElementWidth:function(a){return a.style.width?parseInt(a.style.width):a.clientWidth},Unhide:function(a){k.remove(a,"tm1webHidden")},Hide:function(a){k.contains(a,"tm1webHidden")||(a.style.width||(a.style.width=a.clientWidth+
"px"),k.add(a,"tm1webHidden"))},containsHiddenDimensions:function(){var a=this.DimTable;if(null!=a&&"undefined"!=typeof a){var a=a.rows[1],b=a.cells.length;if(1==b)return!1;for(var c=0;c<b-1;c++)if(k.contains(a.cells[c],"tm1webHidden"))return!0;return!1}},getButtonRowVisibleSize:function(){var a=this.DimTable.rows[1],b=a.cells.length;if(1==b)return a.cells[0].clientWidth;for(var c=0,d=0;d<b;d++){var f=a.cells[d];k.contains(f,"tm1webHidden")||(c+=this.GetHideableElementWidth(f))}return c},destroy:function(){this.inherited(arguments);
this._dimensionDropMenu&&this._dimensionDropMenu.destroy()}})})},"tm1web/cubeview/metrics/_MetricTypesMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(n,m){return n(null,{STRATEGY_STATUS_DATA:[{iconClass:"tm1webMetricExcellentTrafficIcon",altStringId:"METRIC_DIAGRAM_EXCELLENT"},{iconClass:"tm1webMetricAverageTrafficIcon",altStringId:"METRIC_DIAGRAM_AVERAGE"},{iconClass:"tm1webMetricPoorTrafficIcon",altStringId:"METRIC_DIAGRAM_POOR"},{iconClass:"tm1webMetricsNotLiveIcon",
altStringId:"METRIC_DIAGRAM_NOT_LIVE"}],IMPACT_STATUS_DATA:[{iconClass:"tm1webMetricPoorTrafficIcon",altStringId:"METRIC_DIAGRAM_POOR"},{iconClass:"tm1webMetricAverageTrafficIcon",altStringId:"METRIC_DIAGRAM_AVERAGE"},{iconClass:"tm1webMetricExcellentTrafficIcon",altStringId:"METRIC_DIAGRAM_EXCELLENT"},{iconClass:"tm1webMetricsIcon",altStringId:"METRIC_DIAGRAM_METRICS"}],STRATEGY_TREND_DATA:[{iconClass:"tm1webMetricsTrendDownIcon",altStringId:"METRIC_DIAGRAM_WORSE"},{iconClass:"tm1webMetricsTrendEvenIcon",
altStringId:"METRIC_DIAGRAM_NO_CHANGE"},{iconClass:"tm1webMetricsTrendUpIcon",altStringId:"METRIC_DIAGRAM_BETTER"},{iconClass:"tm1webMetricsTrendNoChangeIcon",altStringId:"METRIC_DIAGRAM_NO_CHANGE"}],IMPACT_TREND_DATA:[{iconClass:"tm1webMetricsTrendUpIcon",altStringId:"METRIC_DIAGRAM_BETTER"},{iconClass:"tm1webMetricsTrendEvenIcon",altStringId:"METRIC_DIAGRAM_NO_CHANGE"},{iconClass:"tm1webMetricsTrendDownIcon",altStringId:"METRIC_DIAGRAM_WORSE"},{iconClass:"tm1webMetricsTrendNoChangeIcon",altStringId:"METRIC_DIAGRAM_NO_CHANGE"}],
EDIT_ICON_INFO:[{iconClass:"tm1webMetricsNotLiveIcon",altStringId:"METRIC_DIAGRAM_INCOMPLETE"}]})})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(n,m,l,k){var g={};n.colors=g;var c=function(c,b,a){0>a&&++a;1<a&&--a;var d=6*a;return 1>d?c+(b-c)*d:1>2*a?b:2>3*a?c+(b-c)*(2/3-a)*6:c};n.colorFromRgb=l.fromRgb=function(f,b){var a=f.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var d=a[2].split(/\s*,\s*/),e=d.length,a=a[1];if("rgb"==
a&&3==e||"rgba"==a&&4==e)return a=d[0],"%"==a.charAt(a.length-1)?(a=k.map(d,function(a){return 2.56*parseFloat(a)}),4==e&&(a[3]=d[3]),l.fromArray(a,b)):l.fromArray(d,b);if("hsl"==a&&3==e||"hsla"==a&&4==e){var a=(parseFloat(d[0])%360+360)%360/360,g=parseFloat(d[1])/100,m=parseFloat(d[2])/100,g=.5>=m?m*(g+1):m+g-m*g,m=2*m-g,a=[256*c(m,g,a+1/3),256*c(m,g,a),256*c(m,g,a-1/3),1];4==e&&(a[3]=d[3]);return l.fromArray(a,b)}}return null};var e=function(c,b,a){c=Number(c);return isNaN(c)?a:c<b?b:c>a?a:c};l.prototype.sanitize=
function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,255));this.a=e(this.a,0,1);return this};g.makeGrey=l.makeGrey=function(c,b){return l.fromArray([c,c,c,b])};m.mixin(l.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,
255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,
79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],
khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,
255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,
165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,
90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return l})},"dojox/grid/cells/_base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/connect dojo/_base/array dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dijit/_Widget ../util".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p){var r=m("dojox.grid._DeferredTextWidget",d,{deferred:null,_destroyOnRemove:!0,postCreate:function(){this.deferred&&this.deferred.addBoth(l.hitch(this,function(a){this.domNode&&(this.domNode.innerHTML=a)}))}}),s=function(){setTimeout(l.hitch.apply(n,arguments),0)},t=m("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:!1,alwaysEditing:!1,formatter:null,defaultValue:"...",value:null,hidden:!1,noresize:!1,draggable:!0,_valueProp:"value",_formatPending:!1,constructor:function(a){this._props=
a||{};l.mixin(this,a);void 0===this.draggable&&(this.draggable=!0)},_defaultFormat:function(b,c){var d=this.grid.formatterScope||this,f=this.formatter;f&&d&&"string"==typeof f&&(f=this.formatter=d[f]);d=b!=this.defaultValue&&f?f.apply(d,c):b;if("undefined"==typeof d)return this.defaultValue;d&&d.addBoth&&(d=new r({deferred:d},a.create("span",{innerHTML:this.defaultValue})));return d&&d.declaredClass&&d.startup?"\x3cdiv class\x3d'dojoxGridStubNode' linkWidget\x3d'"+d.id+"' cellIdx\x3d'"+this.index+
"'\x3e"+this.defaultValue+"\x3c/div\x3e":d},format:function(a,b){var c=this.grid.edit.info,d=this.get?this.get(a,b):this.value||this.defaultValue,d=d&&d.replace&&this.grid.escapeHTMLInData?d.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):d;return this.editable&&(this.alwaysEditing||c.rowIndex==a&&c.cell==this)?this.formatEditing(c.value?c.value:d,a):this._defaultFormat(d,[d,a,this])},formatEditing:function(a,b){},getNode:function(a){return this.view.getCellNode(a,this.index)},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index)},
getEditNode:function(a){return(this.getNode(a)||0).firstChild||0},canResize:function(){var a=this.unitWidth;return a&&"auto"!==a},isFlex:function(){var a=this.unitWidth;return a&&l.isString(a)&&("auto"==a||"%"==a.slice(-1))},applyEdit:function(a,b){this.getNode(b)&&this.grid.edit.applyCellEdit(a,this,b)},cancelEdit:function(a){this.grid.doCancelEdit(a)},_onEditBlur:function(a){this.grid.edit.isEditCell(a,this.index)&&this.grid.edit.apply()},registerOnBlur:function(a,b){this.commitOnBlur&&g.connect(a,
"onblur",function(a){setTimeout(l.hitch(this,"_onEditBlur",b),250)})},needFormatNode:function(a,b){this._formatPending=!0;s(this,"_formatNode",a,b)},cancelFormatNode:function(){this._formatPending=!1},_formatNode:function(a,b){this._formatPending&&(this._formatPending=!1,e("ie")||f.setSelectable(this.grid.domNode,!0),this.formatNode(this.getEditNode(b),a,b))},formatNode:function(a,b,c){e("ie")?s(this,"focus",c,a):this.focus(c,a)},dispatchEvent:function(a,b){if(a in this)return this[a](b)},getValue:function(a){return this.getEditNode(a)[this._valueProp]},
setValue:function(a,b){var c=this.getEditNode(a);c&&(c[this._valueProp]=b)},focus:function(a,b){var c=b||this.getEditNode(a);try{p.fire(c,"focus"),p.fire(c,"select")}catch(d){}},save:function(a){this.value=this.value||this.getValue(a)},restore:function(a){this.setValue(a,this.value)},_finish:function(a){f.setSelectable(this.grid.domNode,!1);this.cancelFormatNode()},apply:function(a){this.applyEdit(this.getValue(a),a);this._finish(a)},cancel:function(a){this.cancelEdit(a);this._finish(a)}});t.markupFactory=
function(a,c){var d=l.trim(b.get(a,"formatter")||"");d&&(c.formatter=l.getObject(d)||d);if(d=l.trim(b.get(a,"get")||""))c.get=l.getObject(d);d=function(c,d,f){var e=l.trim(b.get(a,c)||"");e&&(d[f||c]="false"!=e.toLowerCase())};d("sortDesc",c);d("editable",c);d("alwaysEditing",c);d("noresize",c);d("draggable",c);if(d=l.trim(b.get(a,"loadingText")||b.get(a,"defaultValue")||""))c.defaultValue=d;d=function(c,d,f){var e=l.trim(b.get(a,c)||"")||void 0;e&&(d[f||c]=e)};d("styles",c);d("headerStyles",c);d("cellStyles",
c);d("classes",c);d("headerClasses",c);d("cellClasses",c)};var q=t.Cell=m("dojox.grid.cells.Cell",t,{constructor:function(){this.keyFilter=this.keyFilter},keyFilter:null,formatEditing:function(a,b){this.needFormatNode(a,b);a&&a.replace&&(a=a.replace(/"/g,"\x26quot;"));return'\x3cinput class\x3d"dojoxGridInput" type\x3d"text" value\x3d"'+a+'"\x3e'},formatNode:function(a,b,c){this.inherited(arguments);this.registerOnBlur(a,c)},doKey:function(a){this.keyFilter&&-1==String.fromCharCode(a.charCode).search(this.keyFilter)&&
k.stop(a)},_finish:function(a){this.inherited(arguments);var b=this.getEditNode(a);try{p.fire(b,"blur")}catch(c){}}});q.markupFactory=function(a,c){t.markupFactory(a,c);var d=l.trim(b.get(a,"keyFilter")||"");d&&(c.keyFilter=new RegExp(d))};(t.RowIndex=m("dojox.grid.cells.RowIndex",q,{name:"Row",postscript:function(){this.editable=!1},get:function(a){return a+1}})).markupFactory=function(a,b){q.markupFactory(a,b)};(t.Select=m("dojox.grid.cells.Select",q,{options:null,values:null,returnIndex:-1,constructor:function(a){this.values=
this.values||this.options},formatEditing:function(a,b){this.needFormatNode(a,b);for(var c=['\x3cselect class\x3d"dojoxGridSelect"\x3e'],d=0,f,e;void 0!==(f=this.options[d])&&void 0!==(e=this.values[d]);d++)e=e.replace?e.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):e,f=f.replace?f.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):f,c.push("\x3coption",a==e?" selected":"",' value\x3d"'+e+'"',"\x3e",f,"\x3c/option\x3e");c.push("\x3c/select\x3e");return c.join("")},_defaultFormat:function(a,b){var d=
this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var f=c.indexOf(this.values,d);0<=f&&(d=this.options[f])}return d},getValue:function(a){var b=this.getEditNode(a);if(b)return a=b.selectedIndex,b=b.options[a],-1<this.returnIndex?a:b.value||b.innerHTML}})).markupFactory=function(a,c){q.markupFactory(a,c);var d=l.trim(b.get(a,"options")||"");if(d){var f=d.split(",");f[0]!=d&&(c.options=f)}if(d=l.trim(b.get(a,"values")||""))f=d.split(","),f[0]!=d&&(c.values=f)};var u=t.AlwaysEdit=
m("dojox.grid.cells.AlwaysEdit",q,{alwaysEditing:!0,_formatNode:function(a,b){this.formatNode(this.getEditNode(b),a,b)},applyStaticValue:function(a){var b=this.grid.edit;b.applyCellEdit(this.getValue(a),this,a);b.start(this,a,!0)}});u.markupFactory=function(a,b){q.markupFactory(a,b)};(t.Bool=m("dojox.grid.cells.Bool",u,{_valueProp:"checked",formatEditing:function(a,b){return'\x3cinput class\x3d"dojoxGridInput" type\x3d"checkbox"'+(a?' checked\x3d"checked"':"")+' style\x3d"width: auto" /\x3e'},doclick:function(a){"INPUT"==
a.target.tagName&&this.applyStaticValue(a.rowIndex)}})).markupFactory=function(a,b){u.markupFactory(a,b)};return t})},"dojo/cldr/supplemental":function(){define(["../_base/kernel","../_base/lang","../i18n"],function(n,m,l){var k={};m.setObject("cldr.supplemental",k,n);k.getFirstDayOfWeek=function(g){g={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,
hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(g)];return void 0===g?1:g};k._region=function(g){g=l.normalizeLocale(g);g=g.split("-");var c=g[1];c?4==c.length&&(c=g[2]):c={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",
ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",
kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",
sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",
bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",
kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",
mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",
snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return c};k.getWeekend=function(g){var c=k._region(g);g={"in":0,af:4,dz:4,ir:4,om:4,sa:4,
ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[c];c={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[c];void 0===g&&(g=6);void 0===c&&(c=0);return{start:g,end:c}};return k})},"dojo/number":function(){define("./_base/kernel ./_base/lang ./i18n ./i18n!./cldr/nls/number ./string ./regexp".split(" "),function(n,m,l,k,g,c){var e={};n.number=e;e.format=function(b,a){a=m.mixin({},a||{});var c=l.normalizeLocale(a.locale),c=l.getLocalization("dojo.cldr",
"number",c)||k;a.customs=c;c=a.pattern||c[(a.type||"decimal")+"Format"];return isNaN(b)||Infinity==Math.abs(b)?null:e._applyPattern(b,c,a)};e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;e._applyPattern=function(b,a,c){c=c||{};var f=c.customs.group,g=c.customs.decimal;a=a.split(";");var k=a[0];a=a[0>b?1:0]||"-"+k;if(-1!=a.indexOf("%"))b*=100;else if(-1!=a.indexOf("\u2030"))b*=1E3;else if(-1!=a.indexOf("\u00a4"))f=c.customs.currencyGroup||f,g=c.customs.currencyDecimal||g,a=a.replace(/\u00a4{1,3}/,function(a){return c[["symbol",
"currency","displayName"][a.length-1]]||c.currency||""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");var l=e._numberPatternRE,k=k.match(l);if(!k)throw Error("unable to find a number expression in pattern: "+a);!1===c.fractional&&(c.places=0);return a.replace(l,e._formatAbsolute(b,k[0],{decimal:g,group:f,places:c.places,round:c.round}))};e.round=function(b,a,c){c=10/(c||10);return(c*+b).toFixed(a)/c};if(0==(.9).toFixed()){var f=e.round;e.round=function(b,a,c){var e=
Math.pow(10,-a||0),g=Math.abs(b);if(!b||g>=e)e=0;else if(g/=e,.5>g||.95<=g)e=0;return f(b,a,c)+(0<b?e:-e)}}e._formatAbsolute=function(b,a,c){c=c||{};!0===c.places&&(c.places=0);Infinity===c.places&&(c.places=6);a=a.split(".");var f="string"==typeof c.places&&c.places.indexOf(","),k=c.places;f?k=c.places.substring(f+1):0<=k||(k=(a[1]||[]).length);0>c.round||(b=e.round(b,k,c.round));b=String(Math.abs(b)).split(".");var l=b[1]||"";a[1]||c.places?(f&&(c.places=c.places.substring(0,f)),f=void 0!==c.places?
c.places:a[1]&&a[1].lastIndexOf("0")+1,f>l.length&&(b[1]=g.pad(l,f,"0",!0)),k<l.length&&(b[1]=l.substr(0,k))):b[1]&&b.pop();k=a[0].replace(",","");f=k.indexOf("0");-1!=f&&(f=k.length-f,f>b[0].length&&(b[0]=g.pad(b[0],f)),-1==k.indexOf("#")&&(b[0]=b[0].substr(b[0].length-f)));var k=a[0].lastIndexOf(","),m,n;-1!=k&&(m=a[0].length-k-1,a=a[0].substr(0,k),k=a.lastIndexOf(","),-1!=k&&(n=a.length-k-1));a=[];for(k=b[0];k;)f=k.length-m,a.push(0<f?k.substr(f):k),k=0<f?k.slice(0,f):"",n&&(m=n,delete n);b[0]=
a.reverse().join(c.group||",");return b.join(c.decimal||".")};e.regexp=function(b){return e._parseInfo(b).regexp};e._parseInfo=function(b){b=b||{};var a=l.normalizeLocale(b.locale),a=l.getLocalization("dojo.cldr","number",a)||k,d=b.pattern||a[(b.type||"decimal")+"Format"],f=a.group,g=a.decimal,m=1;if(-1!=d.indexOf("%"))m/=100;else if(-1!=d.indexOf("\u2030"))m/=1E3;else{var n=-1!=d.indexOf("\u00a4");n&&(f=a.currencyGroup||f,g=a.currencyDecimal||g)}a=d.split(";");1==a.length&&a.push("-"+a[0]);a=c.buildGroupRE(a,
function(a){a="(?:"+c.escapeString(a,".")+")";return a.replace(e._numberPatternRE,function(a){var c={signed:!1,separator:b.strict?f:[f,""],fractional:b.fractional,decimal:g,exponent:!1};a=a.split(".");var d=b.places;1==a.length&&1!=m&&(a[1]="###");1==a.length||0===d?c.fractional=!1:(void 0===d&&(d=b.pattern?a[1].lastIndexOf("0")+1:Infinity),d&&void 0==b.fractional&&(c.fractional=!0),!b.places&&d<a[1].length&&(d+=","+a[1].length),c.places=d);a=a[0].split(",");1<a.length&&(c.groupSize=a.pop().length,
1<a.length&&(c.groupSize2=a.pop().length));return"("+e._realNumberRegexp(c)+")"})},!0);n&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,d,f,e){a=c.escapeString(b[["symbol","currency","displayName"][f.length-1]]||b.currency||"");d=d?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return b.strict?d+a+e:(d&&(d+="*"),e&&(e+="*"),"(?:"+d+a+e+")?")}));return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:f,decimal:g,factor:m}};e.parse=function(b,a){var c=e._parseInfo(a),f=(new RegExp("^"+c.regexp+
"$")).exec(b);if(!f)return NaN;var g=f[1];if(!f[1]){if(!f[2])return NaN;g=f[2];c.factor*=-1}g=g.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return g*c.factor};e._realNumberRegexp=function(b){b=b||{};"places"in b||(b.places=Infinity);"string"!=typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(b.places)||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var a=e._integerRegexp(b),d=c.buildGroupRE(b.fractional,function(a){var c=
"";a&&0!==b.places&&(c="\\"+b.decimal,c=Infinity==b.places?"(?:"+c+"\\d+)?":c+("\\d{"+b.places+"}"));return c},!0),f=c.buildGroupRE(b.exponent,function(a){return a?"([eE]"+e._integerRegexp({signed:b.eSigned})+")":""}),a=a+d;d&&(a="(?:(?:"+a+")|(?:"+d+"))");return a+f};e._integerRegexp=function(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var a=c.buildGroupRE(b.signed,function(a){return a?"[-+]":""},!0),d=c.buildGroupRE(b.separator,function(a){if(!a)return"(?:\\d+)";
a=c.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var d=b.groupSize,f=b.groupSize2;return f?(a="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+a+"]\\d{"+f+"})*["+a+"]\\d{"+d+"})",0<d-f?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*)"},!0);return a+d};return e})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(b.on("resize",c.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;e("\x3e *",this.containerNode).some(function(c){var e=
f.byNode(c);e&&e.resize?a.push(e):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1!=a.length||b?null:a[0];l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,f){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();
b&&k.setMarginBox(this.domNode,b);var e=this.containerNode;if(e===this.domNode){var g=f||{};c.mixin(g,b||{});"h"in g&&"w"in g||(g=c.mixin(k.getMarginBox(e),g));this._contentBox=a.marginBox2contentBox(e,g)}else this._contentBox=k.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||k.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),
b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"tm1web/subseteditor/TreePaneHeader":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/dom","dojo/dom-class","dijit/layout/ContentPane"],function(n,m,l,k,g){return n(g,{model:null,subsetModel:null,region:"top",_subsetModified:!1,postCreate:function(){this.inherited(arguments);l.setSelectable(this.containerNode,!1);k.add(this.domNode,"tm1webTreePaneHeader");if(this.subsetModel){var c=m.hitch(this,"_onSubsetMetaDataChange");this.subsetModel.getMetaData(c);this.connect(this.subsetModel,"onMetaDataChange",c)}c=m.hitch(this,"onMetaDataChange");this.model.getMetaData().then(c);
this.connect(this.model,"onMetaDataChange",c)},_onSubsetMetaDataChange:function(c){this._subsetModified=c.modified;this.model.getMetaData().then(m.hitch(this,function(){this.model.getMetaData().then(m.hitch(this,"onMetaDataChange"))}))},_getSubsetModifiedAttr:function(){return this._subsetModified},onMetaDataChange:function(c){this.set("content",this.getLabel(c))},getLabel:function(c){}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(n,
m,l,k){var g=n("dijit.form._ButtonMixin"+(l("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(c){c.stopPropagation();c.preventDefault();this.disabled||this.valueNode.click(c);return!1},_onClick:function(c){if(this.disabled)return c.stopPropagation(),c.preventDefault(),!1;!1===this.onClick(c)&&c.preventDefault();var e=c.defaultPrevented;if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var b=k.byNode(f);if(b&&
"function"==typeof b._onSubmit){b._onSubmit(c);c.preventDefault();e=!0;break}}return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",c);(this.containerNode||this.focusNode).innerHTML=c}});l("dojo-bidi")&&(g=n("dijit.form._ButtonMixin",g,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return g})},"dojo/promise/tracer":function(){define(["../_base/lang",
"./Promise","../Evented"],function(n,m,l){function k(e){setTimeout(function(){c.apply(g,e)},0)}var g=new l,c=g.emit;g.emit=null;m.prototype.trace=function(){var c=n._toArray(arguments);this.then(function(f){k(["resolved",f].concat(c))},function(f){k(["rejected",f].concat(c))},function(f){k(["progress",f].concat(c))});return this};m.prototype.traceRejected=function(){var c=n._toArray(arguments);this.otherwise(function(f){k(["rejected",f].concat(c))});return this};return g})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(n,m,l,k){return l("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(g){k.mixin(this,g);this.connects=[];g=this.store;if(!g.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");g.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([m.after(g,
"onNew",k.hitch(this,"onNewItem"),!0),m.after(g,"onDelete",k.hitch(this,"onDeleteItem"),!0),m.after(g,"onSet",k.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var g;g=this.connects.pop();)g.remove()},getRoot:function(g,c){this.root?g(this.root):this.store.fetch({query:this.query,onComplete:k.hitch(this,function(c){if(1!=c.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+c.length+" items, but must return exactly one");this.root=c[0];g(this.root)}),onError:c})},mayHaveChildren:function(g){return n.some(this.childrenAttrs,
function(c){return this.store.hasAttribute(g,c)},this)},getChildren:function(g,c,e){var f=this.store;if(f.isItemLoaded(g)){for(var b=[],a=0;a<this.childrenAttrs.length;a++)var d=f.getValues(g,this.childrenAttrs[a]),b=b.concat(d);var l=0;this.deferItemLoadingUntilExpand||n.forEach(b,function(a){f.isItemLoaded(a)||l++});0==l?c(b):n.forEach(b,function(a,d){f.isItemLoaded(a)||f.loadItem({item:a,onItem:function(a){b[d]=a;0==--l&&c(b)},onError:e})})}else{var m=k.hitch(this,arguments.callee);f.loadItem({item:g,
onItem:function(a){m(a,c,e)},onError:e})}},isItem:function(g){return this.store.isItem(g)},fetchItemByIdentity:function(g){this.store.fetchItemByIdentity(g)},getIdentity:function(g){return this.store.getIdentity(g)},getLabel:function(g){return this.labelAttr?this.store.getValue(g,this.labelAttr):this.store.getLabel(g)},newItem:function(g,c,e){var f={parent:c,attribute:this.childrenAttrs[0]},b;this.newItemIdAttr&&g[this.newItemIdAttr]?this.fetchItemByIdentity({identity:g[this.newItemIdAttr],scope:this,
onItem:function(a){a?this.pasteItem(a,null,c,!0,e):(b=this.store.newItem(g,f))&&void 0!=e&&this.pasteItem(b,c,c,!1,e)}}):(b=this.store.newItem(g,f))&&void 0!=e&&this.pasteItem(b,c,c,!1,e)},pasteItem:function(g,c,e,f,b){var a=this.store,d=this.childrenAttrs[0];c&&n.forEach(this.childrenAttrs,function(b){if(a.containsValue(c,b,g)){if(!f){var e=n.filter(a.getValues(c,b),function(a){return a!=g});a.setValues(c,b,e)}d=b}});if(e)if("number"==typeof b){var k=a.getValues(e,d).slice();k.splice(b,0,g);a.setValues(e,
d,k)}else a.setValues(e,d,a.getValues(e,d).concat(g))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(g,c){c&&this.getChildren(c.item,k.hitch(this,function(e){this.onChildrenChange(c.item,e)}))},onDeleteItem:function(g){this.onDelete(g)},onSetItem:function(g,c){if(-1!=n.indexOf(this.childrenAttrs,c))this.getChildren(g,k.hitch(this,function(c){this.onChildrenChange(g,c)}));else this.onChange(g)}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare",
"./Moveable"],function(n,m){var l=m.prototype.onMove;return n("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(k,g){g||(g={});g.timeout&&"number"==typeof g.timeout&&0<=g.timeout&&(this.timeout=g.timeout)},onMoveStop:function(k){k._timer&&(clearTimeout(k._timer),l.call(this,k,k._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(k,g){k._leftTop=g;if(!k._timer){var c=this;k._timer=setTimeout(function(){k._timer=null;l.call(c,k,k._leftTop)},this.timeout)}}})})},"tm1web/subseteditor/FilterByAttributeDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dijit/Dialog dijit/form/Button dojo/text!./templates/FilterByAttributeDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory dijit/form/FilteringSelect ../utility/message-localizer ../widgets/_StopPropagationMixin dojo/query".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n([g,f,b,r],{templateString:e,_attributeNamesSelect:null,_attributeValuesSelect:null,_submitButton:null,_cancelButton:null,title:p.get("FILTER_BY_ATTRIBUTE_TITLE_STR"),_selectAttributeLabel:p.get("SELECT_ATTRIBUTE_STR"),_selectValueLabel:p.get("SELECT_VALUE_TO_MATCH_STR"),_submitButtonLabel:p.get("OK_STR"),_cancelButtonLabel:p.get("CANCEL_STR"),_invalidMessage:p.get("VALUE_REQUIRED_STR"),_stopPropagationEvents:"keydown",constructor:function(){this._loadDeferred=
new k},postCreate:function(){this.inherited(arguments);this.model.getAttributeNames(l.hitch(this,"_populateAttributeNamesSelect"));this._attributeValuesSelect.set("store",new a);this.own(this._attributeNamesSelect.on("change",l.hitch(this,"_onChange")));this._attributeValuesSelect.watch("state",l.hitch(this,"_onValidStateChange"));s(".tm1webFilterByAttributeLabel",this.domNode).attr("for",this._attributeNamesSelect.id);s(".tm1webFilterByAttributeMatchedValueLabel",this.domNode).attr("for",this._attributeValuesSelect.id)},
_populateAttributeNamesSelect:function(b){this._attributeNamesSelect.set("store",new a({data:m.map(b,function(a){return{id:a,name:a}})}));this._loadDeferred.resolve();delete this._loadDeferred},_populateAttributeValuesSelect:function(a){a=m.map(a,function(a){return{id:a,name:a}});var b=this._attributeValuesSelect;b.get("store").setData(a);0<a.length&&(b.set("value",a[0].id),this._submitButton.set("disabled",!1));b.set("required",!0)},_onChange:function(){var a=this._attributeValuesSelect,b=this._attributeNamesSelect;
a.get("store").setData([]);a.set("value",null);b.isValid()&&(a.set("required",!1),this._submitButton.set("disabled",!0),this.model.getAttributeValues(b.get("value"),l.hitch(this,"_populateAttributeValuesSelect")))},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},_submit:function(){var a=this._attributeNamesSelect.get("value"),b=this._attributeValuesSelect.get("value");this.model.filterByAttribute(a,b,l.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})},show:function(){var a=
this.getInherited(arguments),b=arguments,c=this,d=new k;this._loadDeferred.then(function(){a.apply(c,b).then(function(){d.resolve()})});return d}})})},"tm1web/cubeview/_HeaderDimensionDropPanel":function(){define(["dojo/_base/declare","dojo/topic","../subseteditor/SubsetEditor","./DimensionDropPanel"],function(n,m,l,k){return n(k,{CanCreateSubsetSelectCell:function(g){return!0},createDropDownSubsetDialog:function(g,c,e,f){var b=new l({objectId:c,dimension:e,onSubmit:function(){m.publish(c+"-TitleElementChange")},
onHide:function(){b.destroyRecursive();b=null}});b.show()}})})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(n,m,l,k){function g(c){if((c.keyCode===n.ENTER||c.keyCode===n.SPACE)&&!/input|button|textarea/i.test(c.target.nodeName))for(c=c.target;c;c=c.parentNode)if(c.dojoClick)return!0}var c;l(document,"keydown",function(f){g(f)?(c=f.target,f.preventDefault()):c=null});l(document,"keyup",function(f){g(f)&&f.target==c&&(c=null,l.emit(f.target,"click",
{cancelable:!0,bubbles:!0,ctrlKey:f.ctrlKey,shiftKey:f.shiftKey,metaKey:f.metaKey,altKey:f.altKey,_origType:f.type}))});var e=function(c,b){c.dojoClick=!0;return l(c,"click",b)};e.click=e;e.press=function(c,b){var a=l(c,k.press,function(a){("mousedown"!=a.type||m.isLeft(a))&&b(a)}),d=l(c,"keydown",function(a){a.keyCode!==n.ENTER&&a.keyCode!==n.SPACE||b(a)});return{remove:function(){a.remove();d.remove()}}};e.release=function(c,b){var a=l(c,k.release,function(a){("mouseup"!=a.type||m.isLeft(a))&&b(a)}),
d=l(c,"keyup",function(a){a.keyCode!==n.ENTER&&a.keyCode!==n.SPACE||b(a)});return{remove:function(){a.remove();d.remove()}}};e.move=k.move;return e})},"tm1web/celledit/_CellListStore":function(){define("dojo/_base/declare dojo/store/util/QueryResults dojo/Deferred dojo/when dojo/string dojo/regexp ./AsyncSimpleQueryEngine".split(" "),function(n,m,l,k,g,c,e){return n(null,{objectId:null,cellInfo:null,_service:null,_method:null,_cellInfoProperty:null,constructor:function(c){n.safeMixin(this,c)},_getData:function(){if(this.cellInfo[this._cellInfoProperty])return this.cellInfo[this._cellInfoProperty];
if(this._loadPromise)return this._loadPromise;var c=new l;this._loadPromise=c.promise;this._service[this._method](this.objectId,this._getRowIndex(),this._getColumnIndex(),{callback:function(b){for(var a=this.cellInfo[this._cellInfoProperty]=Array(b?b.length:0),d=0;d<b.length;d++)a[d]={id:d,value:this._getDisplayValue(b[d])};this._loadPromise=null;c.resolve(a)},errorHandler:function(b){this.cellInfo.pickListItems=[];this._loadPromise=null;c.resolve(data)},scope:this});return this._loadPromise},_getDisplayValue:function(c){return g.trim(c)},
_getRowIndex:function(){return this.cellInfo.rowIndex},_getColumnIndex:function(){return this.cellInfo.colIndex},get:function(c){return k(this._getData(),function(b){return b[c]})},contains:function(f){f={value:new RegExp("^"+c.escapeString(f)+"$","mi")};return k(this.query(f),function(b){return 0<b.total})},getIdentity:function(c){return c.id},query:function(c,b){return m(e(c,b)(this._getData()))}})})},"tm1web/common/nls/CommonMessages":function(){define({root:{ABOUT_TM1WEB:'Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2007, 2019. IBM, the IBM logo, ibm.com, Cognos and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. A current list of IBM trademarks is available on the Web at www.ibm.com/legal/copytrade.shtml. Other product and service names might be trademarks of IBM or other companies. This Program is licensed under the terms of the license agreement accompanying the Program. This license agreement may be either located in a Program directory folder or library identified as "License" or "Non_IBM_License", if applicable, or provided as a printed license agreement. Please read the agreement carefully before using the Program. By using the Program you agree to these terms. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.',
ABOUT_PRODUCT_NAME:"About IBM\u00ae Planning Analytics 2.0",CONTRIBUTOR_COPYRIGHT:'Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2011, 2019. IBM, the IBM logo, ibm.com, Cognos, and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. A current list of IBM trademarks is available on the Web at www.ibm.com/legal/copytrade.shtml. Other product and service names might be trademarks of IBM or other companies. This Program is licensed under the terms of the license agreement accompanying the Program. This license agreement may be either located in a Program directory folder or library identified as "License" or "Non_IBM_License", if applicable, or provided as a printed license agreement. Please read this agreement carefully before using the Program. By using the Program, licensee agrees to these terms.  If you are using the Program on behalf of licensee, you represent and warrant either that licensee has accepted these terms or that you have full authority to bind licensee to these terms. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.',
CONTRIBUTOR_VERSION:"Version 11.0",LICENSED_MATERIALS_STR:"Licensed Materials - Property of IBM Corp.",COPYRIGHT_STR:"Licensed Materials - Property of IBM Corp. \u00a9 Copyright IBM Corporation and other(s) 2007, 2019. IBM, the IBM logo, ibm.com, Cognos and TM1 are trademarks or registered trademarks of International Business Machines Corp., registered in many jurisdictions worldwide. Other product and service names might be trademarks of IBM or other companies.",TOP_STR:"Top",TOP_TOOLTIP_STR:"Top page of this column",
BOTTOM_STR:"Bottom",BOTTOM_TOOLTIP_STR:"Bottom page of this column",PAGE_UP_STR:"Page Up",PAGE_UP_TOOLTIP_STR:"1 page up",PAGE_DOWN_STR:"Page down",PAGE_DOWN_TOOLTIP_STR:"1 page down",PREVIOUS_PAGE_TOOLTIP_STR:"Previous page",NEXT_PAGE_TOOLTIP_STR:"Next page",DISPLAY_PAGES_TOOLTIP_STR:"Display pages",PAGE_STR:"Display pages",DIMENSION_DROP_PANEL_DRAG_THIS:"Drag to move dimension '{0}' to another location.",DIMENSION_DROP_PANEL_DIM_STR:"Dimension {0}",DIMENSION_DROP_PANEL_OPEN_SUBSET_EDITOR_STR:"Open subset editor",
HIDDEN_DIMENSION_DROP_PANEL_STR:"Hidden",HIDDEN_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Hidden dimensions drop area",COLUMN_DIMENSION_DROP_PANEL_STR:"Columns",COLUMN_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Column dimensions drop area",ROW_DIMENSION_DROP_PANEL_STR:"Rows",ROW_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Row dimensions drop area",TITLE_DIMENSION_DROP_PANEL_STR:"Context",TITLE_DIMENSION_DROP_PANEL_TOOLTIP_STR:"Context dimensions drop area",EXPAND_TOOLTIP_STR:"Expand",COLLAPSE_TOOLTIP_STR:"Collapse",NO_TOP_OR_BOTTOM_STR:"No top or bottom",
CUSTOM_STR:"Custom...",TOP_OR_BOTTOM_STR:"Top or bottom",NUMBER_OF_ITEMS_STR:"Number of items",EXPORT_ROWS_CURRENT_PAGE:"Export rows in current page",EXPORT_ROWS_BEGINNING:"Export rows from beginning to current page",EXPORT_ROWS_VIEW:"Export all rows in the view",EXPORT_PAGES_LABEL:"Number of rows to export",EXPORT_DIMENSIONS_LABEL:"Title dimensions to export",EXPORT_AUTO_FIT_LABEL:"Autofit row height",EXPORT_AUTO_FIT_ROW_HEIGHT_LABEL:"Autofit",MAX_EXPORT_SHEET_NUM_EXCEEDED:"The number of exported sheets exceeds the allowed maximum of {0} sheets. Try changing selections which can reduce the number of sheets.",
TOTAL_SHEETS_LABEL:"Number of sheets to export",EXPORT_TITLE_LABEL:"Export",CANCEL_EXPORT:"Cancel export",METRIC_DIAGRAM_POOR:"Poor",METRIC_DIAGRAM_AVERAGE:"Average",METRIC_DIAGRAM_EXCELLENT:"Excellent",METRIC_DIAGRAM_METRICS:"Metrics",METRIC_DIAGRAM_NOT_LIVE:"Metrics not live",METRIC_DIAGRAM_WORSE:"Worse",METRIC_DIAGRAM_NO_CHANGE:"No change",METRIC_DIAGRAM_BETTER:"Better",METRIC_DIAGRAM_EVEN:"Even",METRIC_DIAGRAM_INCOMPLETE:"Incomplete",ABOUT_HELP_STR:"About TM1\u00ae Application Web",m_cultureCode:"en",
OPEN_STR:"Open",CLOSE_STR:"Close",CLOSE_ALL_STR:"Close all",CLOSE_OTHERS_STR:"Close others",COPY_STR:"Copy",PASTE_STR:"Paste",DATA_SPREAD_STR:"Data spread",HOLDS_STR:"Holds",DRILL_STR:"Drill",PROPORTIONAL_SPREAD_STR:"Proportional spread...",EQUAL_SPREAD_STR:"Equal spread...",REPEAT_SPREAD_STR:"Repeat...",CLEAR_SPREAD_STR:"Clear...",PC_SPREAD_STR:"Percent change...",SL_SPREAD_STR:"Straight line...",GP_SPREAD_STR:"Growth percent...",RP_SPREAD_STR:"Relative proportional spread...",RP_ADJ_SPREAD_STR:"Relative percent adjustment...",
RL_SPREAD_STR:"Repeat leaves...",EL_SPREAD_STR:"Equal spread leaves...",HL_SPREAD_STR:"Hold leaves",HC_SPREAD_STR:"Hold consolidate",RLH_SPREAD_STR:"Release leaf holds",RC_SPREAD_STR:"Release consolidate",RA_SPREAD_STR:"Release all holds",SPREAD_DESC_PROP_STR:"Distributes a specified value among cells proportional to existing cell values.",SPREAD_DESC_EQ_STR:"Distributes a specified value equally across the cells in a view.",SPREAD_DESC_EQ_LEAVES_STR:"Distributes a specified value equally across all leaves of a consolidated cell. You can choose to distribute the value to all leaves of the consolidation or only to those leaves that already contain non-zero values.",
SPREAD_DESC_RPT_STR:"Repeats a specified value across cells in a view.",SPREAD_DESC_RPT_LEAVES_STR:"Copies a specified value to the leaves of a consolidation. You can either copy the value to all leaves of the consolidation, or copy the value only to those leaves that already contain non-zero values.",SPREAD_DESC_PCT_CHANGE_STR:"Multiplies the current cell values by a specified percentage. The product of that multiplication can then replace, be added to, or be subtracted from the existing cell values.",
SPREAD_DESC_STR_LINE_STR:"Populates cube cells by linear interpolation between two specified endpoints. For example, if you have a start value of 100 and an end value of 200, the midpoint value would be 150.",SPREAD_DESC_REL_PROP_STR:"Spreads values to the leaves of a consolidation proportional to the leaves of a reference cell. The reference cell can be in the cube from which you initiate spreading or in a different cube.",SPREAD_DESC_REL_PCT_ADJ_STR:"Spreads values to the leaves of a consolidation by applying a percentage adjustment to the leaves of a reference cell.",
SPREAD_DESC_STRT_LINE_STR:"Distributes a specified value among cells proportional to existing cell values.",SPREAD_DESC_PCT_GROWTH_STR:"Takes an initial value as a starting point, and sequentially increments all values in a selected range of cells by the specified percentage.",SPREAD_DESC_CLEAR_STR:"Clears values from cells in a view. When you apply the Clear method to a parent cell, all children of the parent are set to zero.",SLICE_TO_EXCEL_STR:"Slice to Excel",SNAP_TO_EXCEL_STR:"Snapshot to Excel",
EXPORT_TO_PDF_STR:"Export to PDF",LOGOUT_CHECK:"Navigating away will end your TM1 Web session.",DELETE_VIEW_STR:"Delete...",DELETE_VIEW_TITLE_STR:"Delete node",CONFIRM_DELETE_NAV_TREE_NODE:"Are you sure you want to delete '{0}'?",ASCENDING_STR:"Ascending",DESCENDING_STR:"Descending",DONT_SORT_STR:"Don't sort",TOP_3_STR:"Top 3",TOP_5_STR:"Top 5",TOP_10_STR:"Top 10",BOTTOM_3_STR:"Bottom 3",BOTTOM_5_STR:"Bottom 5",BOTTOM_10_STR:"Bottom 10",CHART_TYPE_STR:"Chart type",CHART_PROP_STR:"Chart properties",
SUP_ZERO_ROW_COL_STR:"Suppress zeros on rows and columns",SUP_ZERO_ROW_STR:"Suppress zeros on rows",SUP_ZERO_COL_STR:"Suppress zeros on columns",YES_STR:"Yes",NO_STR:"No",CANCEL_STR:"Cancel",JANUARY_STR:"January",FEBRUARY_STR:"February",MARCH_STR:"March",APRIL_STR:"April",MAY_STR:"May",JUNE_STR:"June",JULY_STR:"July",AUGUST_STR:"August",SEPTEMBER_STR:"September",OCTOBER_STR:"October",NOVEMBER_STR:"November",DECEMBER_STR:"December",DECIMAL_THOUSAND_SEP_STR:"Use '{0}' as the decimal separator and '{1}' as the thousand separator.",
UNDO_STR:"Undo",REDO_STR:"Redo",WARN_UNSAVED_DATA_STR:"Changes you made to '{0}' have not been saved.{1} Press OK to continue, or Cancel to stay on the current object.",CREATE_SANDBOX_STR:"Create sandbox...",DELETE_SANDBOX_STR:"Delete sandbox...",COPY_CLIPBOARD_OFF_TITLE_STR:"Copying to clipboard",COPY_CLIPBOARD_OFF_STR:"Copying to the clipboard is currently turned off by your browser.",PASTE_CLIPBOARD_OFF_TITLE_STR:"Pasting from clipboard",PASTE_CLIPBOARD_OFF_STR:"Pasting from clipboard is currently turned off by your browser.",
LOCAL_DATA_USED_STR:"Local data will be used.",SPREAD_TITLE_PROPORTIONAL_SPREAD:"Proportional spread",SPREAD_TITLE_EQUAL_SPREAD:"Equal spread",SPREAD_TITLE_REPEAT:"Repeat",SPREAD_TITLE_CLEAR:"Clear",SPREAD_TITLE_PERCENT_CHANGE:"Percent change",SPREAD_TITLE_STRAIGHT_LINE:"Straight line",SPREAD_TITLE_GROWTH:"Growth percent",SPREAD_TITLE_RELATIVE_PROPORTIONAL:"Relative proportional spread",SPREAD_TITLE_RELATIVE_PERCENT:"Relative percent adjustment",REFERENCE_CELL_VALUE:"Reference cell value",PERCENT_ADJUSTMENT:"% adjustment",
SPREAD_TITLE_REPEAT_LEAVES:"Repeat leaves",SPREAD_TITLE_EQUAL_SPREAD_LEAVES:"Equal spread leaves",SPREAD_LABEL_VALUE:"Value",SPREAD_LABEL_START:"Start value",SPREAD_LABEL_END:"End value",SPREAD_LABEL_GROWTH:"% growth",SPREAD_LABEL_CHANGE:"% change",SPREAD_SECTION_EXTEND:"Extend",SPREAD_LABEL_LEFT:"Left",SPREAD_LABEL_RIGHT:"Right",SPREAD_LABEL_UP:"Up",SPREAD_LABEL_DOWN:"Down",SPREAD_LABEL_HORIZONTAL:"Horizontal",SPREAD_LABEL_VERTICAL:"Vertical",SPREAD_LABEL_REPLACE:"Replace",SPREAD_SECTION_UPDATE:"Update action",
SPREAD_LABEL_ADD:"Add",SPREAD_LABEL_SUBTRACT:"Subtract",SPREAD_SECTION_APPLY:"Apply to",SPREAD_LABEL_POPULATED:"Populated leaf cells",SPREAD_LABEL_ALL:"All leaf cells",SPREAD_BUTTON_APPLY:"Apply",SPREAD_BUTTON_CANCEL:"Cancel",SPREAD_LABEL_RELATIVE_CUBE:"Cube",SPREAD_LABEL_RELATIVE_VALUE:"Value",SPREAD_BUTTON_RELATIVE_CANCEL:"Cancel",SPREAD_BUTTON_RELATIVE_SUBMIT:"Submit",SPREAD_BUTTON_RELATIVE_GO_BACK:"Back",SPREAD_BUTTON_RELATIVE_SELECT:"Select",SPREAD_BUTTON_RELATIVE_APPLY:"Apply",SPREAD_TBL_HDR_RELATIVE_DIMENSIONS:"Dimensions",
SPREAD_TBL_HDR_RELATIVE_ELMT_NAME:"Element name",RESET_ALL_VIEW_TAB_STR:"Reset both views and tabs",RESET_CUR_VIEW_STR:"Reset current view",RESET_RESET_VIEW_STR:"Reset view",RESET_TABS_STR:"Reset tabs",RESET_ALL_VIEWS_STR:"Reset all views",TAKEOWNERSHIP_TOOLTIP_STR:"Take ownership",SUBMIT_TOOLTIP_STR:"Submit",SUBMITLEAVES_TOOLTIP_STR:"Submit leaves",REJECT_TOOLTIP_STR:"Reject",APP_HELP_STR:"TM1\u00ae Application Web help",TAB_HELP_STR:"View help",ABOUT_STR:"About",COMMIT_TOOLTIP_STR:"Commit",WORKFLOW_OWNERSHIP_STR:"Take ownership",
WORKFLOW_SUBMIT_STR:"Submit",WORKFLOW_REJECT_STR:"Reject",SAVE_VIEW_TOOLTIP_STR:"Save view",METRIC_STRATEGY_DIAGRAMS_STR:"Strategy diagrams",RESET_DATA_STR:"Reset data",ACTION_MENU_TOOLTIP_STR:"Actions menu",EXPORT_TOOLTIP_STR:"Export",RESET_TOOLTIP_STR:"Reset",UNDO_TOOLTIP_STR:"Undo",REDO_TOOLTIP_STR:"Redo",SWAP_ROWS_COLS_TOOLTIP_STR:"Swap rows and columns",RECALC_TOOLTIP_STR:"Recalculate",SAVE_AS_MENU_STR:"Save as...",SAVE_AS_TITLE_STR:"Save as",SAVE_DATA_CHANGES_MENU_STR:"Save data changes",REVIEW_DATA_CHANGES_TOOLTIP_STR:"Review data changes",
RECALCULATE_TOOLTIP_STR:"Recalculate",AUTO_RECALCULATE_ON_TOOLTIP_STR:"Automatic recalculation currently on",AUTO_RECALCULATE_OFF_TOOLTIP_STR:"Automatic recalculation currently off",VIEW_CHART_TOOLTIP_STR:"View chart",VIEW_CHARTGRID_TOOLTIP_STR:"View chart and grid",VIEW_GRID_TOOLTIP_STR:"View grid",CHART_PROP_TOOLTIP_STR:"Chart properties",CHART_TYPE2_STR:"Type",SANDBOX_TOOLTIP_STR:"Sandbox",CLOSE_VIEW_TOOLTIP_STR:"Close View",SELECT_SANDBOX_TOOLTIP_STR:"Select sandbox",SUPPRESS_ZEROES_MENU_STR:"Suppress zero values",
HELP_TOOLTIP_STR:"Help",REBUILD_ACTIVE_FORMS_TOOLTIP_STR:"Rebuild current sheet",REBUILD_WORKBOOK_TOOLTIP_STR:"Rebuild current book",AUTO_FIT_COLUMNS_TOOLTIP_STR:"Autofit selected column width",POINT_CHART_STR:"Point",BUBBLE_CHART_STR:"Bubble",LINE_CHART_STR:"Line",SPLINE_CHART_STR:"Spline",STEP_LINE_CHART_STR:"Step line",BAR_CHART_STR:"Bar",STACKED_BAR_CHART_STR:"Stacked bar",COLUMN_CHART_STR:"Column",STACKED_COL_CHART_STR:"Stacked column",AREA_CHART_STR:"Area",SPLINE_AREA_CHART_STR:"Spline area",
STACKED_AREA_CHART_STR:"Stacked area",PIE_CHART_STR:"Pie",DOUGHNUT_CHART_STR:"Doughnut",RANGE_CHART_STR:"Range",SPLINE_RANGE_CHART_STR:"Spline range",RANGE_COLUMN_CHART_STR:"Range column",WORKFLOW_SUBMIT_SURE_STR:"Are you sure you would like to submit this node?",WORKFLOW_SUBMIT_SURE_LEAVES_STR:"Are you sure you would like to submit all leaves?",WORKFLOW_REJECT_SURE_STR:"Are you sure you want to reject '{0}'?",OK_STR:"OK",SANDBOX_CREATE_FROM_STR:"Create sandbox from",SANDBOX_COPY_STR:"Sandbox copy",
SELECT_SANDBOX_COPY_STR:"Select sandboxes to copy",SANDBOX_NAME_STR:"Sandbox name",SANDBOX_NEW_STR:"Create new",SANDBOX_COPY2_STR:"Copy from existing sandbox",CREATE_STR:"Create",NO_SANDBOX_SELECTED_STR:"No sandbox is selected",SANDBOX_CREATION_STR:"Create sandbox",ENTER_NAME_FOR_SANDBOX_STR:"Enter a name for sandbox.",SANDBOX_CREATION_FAILED_STR:"Sandbox failed to be created.",SANDBOX_DELETE_STR:"Delete sandbox",SELECT_SANDBOXES_TO_DELETE_STR:"Select sandboxes to delete",DELETE_STR:"Delete",SOME_SANDBOX_DELETE_FAILED_STR:"Some checked sandboxes failed to be deleted.",
CURRENT_OWNER_STR:"Current owner",CURRENT_OWNERSHIPNODE_STR:"Current ownership node",AVAILABLE_STR:"Available",RESERVED_STR:"Reserved",WORK_IN_PROGRESS_STR:"Work in progress",READY_STR:"Ready",INCOMPLETE_STR:"Incomplete",LOCKED_STR:"Locked",NONE_STR:"None",SANDBOX_COPY_FAILED_STR:"Failed to copy sandbox.",SWITCHING_SANDBOX_FAILED_STR:"Switching sandbox failed.",SESSION_TIMEOUT_STR:"Session timed out.",CUBE_NO_PERMISSION_FOR_ANY:"You don't have permission to access any cube.",NODE_OWNER_ACTIVE_WARNING_MESSAGE:"One or more users are currently working with data for Nodes represented by this Take Ownership action.  Continuing with this action will revoke their ownership, and may impact their in-progress work.",
NODE_OWNER_INACTIVE_WARNING_MESSAGE:"Taking ownership for this Node will revoke ownership from owner(s) who are not actively working with their Node data.  Impacted user(s) can reacquire ownership through a subsequent Take Ownership action.",NODE_BOUNCE_OWNER_ACTIVE_WARNING_MESSAGE:"The node you are about to reject is a descendant of a node actively being worked on by another user.  Continuing with the rejection will revoke their ownership and may impact their in-progress work.",NODE_BOUNCE_OWNER_INACTIVE_WARNING_MESSAGE:"The node you are about to reject is a descendant of a node owned by another non-active user.  Continuing with the rejection will revoke their ownership, however they can reacquire ownership through a subsequent Take Ownership action.",
APPLICATION_INACTIVE_WARNING_MESSAGE:"This application is not active.",TM1_WEB_APPLICATION_STR:"IBM\u00ae Cognos\u00ae TM1\u00ae Application Web",WARNING:"Warning",CONTINUE_STR:"Continue",SORT_STR:"Sort",SORT_BY_VALUE_STR:"Sort by value",SORT_BY_LABEL_STR:"Sort by label",HIDE_STR:"Hide",SHOW_ALL_HIDDEN_STR:"Show all hidden",EXPAND_TO_LEVEL_STR:"Expand to level",LEVEL_STR:"Level",SELECT_A_PAGE_AND_PRESS_GOTO_PAGE:"Select a page and click to go to the page",ADD_COMMENT_STR:"Add comment...",ADD_COMMENT_TITLE_STR:"Add comment",
BROWSE_COMMENTS_STR:"Browse comments...",BROWSE_COMMENTS_TITLE_STR:"Browse comments",COMMENT_STR:"Comment",USER_STR:"User",DATE_STR:"Date",LOGIN_STR:"Login",REFRESH_STR:"Refresh",ADMIN_HOST_STR:"Admin host",TM1_SERVER_STR:"TM1 server",USER_NAME_STR:"User name",PASSWORD_STR:"Password",CHANGE_PASSWORD_STR:"Change password",NEW_PASSWORD_STR:"New password",CONFIRM_NEW_PASSWORD_STR:"Confirm new password",NATIVE_AUTHENTICATION:"Native authentication",WINDOWS_AUTHENTICATION:"Windows authentication",PASSWORD_UPDATE_TITLE_STR:"Password update",
PASSWORD_CHANGED_STR:"Password has been changed.",PASSWORD_NOT_CHANGED_STR:"Password was not changed.",LOGIN_FAILED_STR:"Login failed",PASSWORD_WARNING_STR:"Passwords did not match.",OPEN_SUBSET_EDITOR_STR:"Open subset editor",INVALID_DATE_VALUE:"Enter a date in the short date format corresponding to your locale.",INVALID_LIST:"A user has restricted values that can be entered into this cell.",IF_ENTER_NUMERIC:"If you are trying to enter a numeric value:",IF_ENTER_DATE:"If you are trying to enter a DateTime value:",
SAVE_VIEW_MENU_STR:"Save view",SAVE_VIEW_TITLE_STR:"Save view as",CURRENT_VIEWS_STR:"Current views",PRIVATE_VIEW_STR:"Private",VIEW_TYPE_STR:"View type",DEFAULT_VIEW_STR:"Default",VIEW_NAME_STR:"View name",STOP_STR:"STOP",INFORMATION_STR:"INFORMATION",WARNING_STR:"WARNING",EXPORTING_PAGE_STR:"Exporting Page {0} of {1}",CURRENTLY_PUBLISHING_STR:"Currently publishing...",INVALID_REFERENCE_STR:"Reference is not valid.",VIEW_FILTER_LABEL_STR:"Limit the results to the top or bottom items of a selected set.",
FILTER_TITLE_CUSTOM_STR:"Custom",PRODUCT_NAME:"IBM\u00ae Cognos\u00ae TM1\u00ae Web",METRIC_IMPACT_DIAGRAM_STR:"Impact diagram",METRIC_DIAGRAM_STR:"Metric diagram",WELCOME_STR:"Welcome",LOG_OUT_STR:"Log Out",HOME_STR:"Home",REFRESH_NAV_TREE_STR:"Refresh navigation tree",COLLAPSE_ALL_NODES_STR:"Collapse all nodes",EXPAND_ALL_NODES_STR:"Expand all nodes",ADD_DIMENSION_HERE_STR:"Add a dimension here",RECALC_NEEDED_FOR_CHART_DATA_STR:'No data available. Click "Recalculate" to update the chart.',CANNOT_FIND_STR:"Cannot find '{0}'.",
CANNOT_DELETE_CONTROL_OBJECT_STR:"You can't delete a control object.",NO_DELETE_PERMISSION_STR:"You do not have permission to delete '{0}'.",CANNOT_DELETE_STR:"Cannot delete '{0}'.",APPLICATION_STR:"Applications",VIEW_STR:"Views",JUST_PAGE_STR:"Page",JUST_OF_STR:"of",JUST_ROWS_STR:"of",INSERT_ROW_STR:"Insert a row",DELETE_ROW_STR:"Delete row",INSERT_ROW_MSG_STR:"Enter the values for the new row:",DELETE_ROW_MSG_STR:"Are you sure you would like to delete this row?",NON_ADMIN_SAVE_VIEW_STR:"You do not have administrative privileges on this server, and therefore can't save a public view.",
APP_WILL_CLOSE_STR:"None of the views were able to open. The application will now close.",VIEW_ERROR_NAME_STR:"Unable to open view '{0}'.",VIEW_NOT_FOUND_ERROR_NAME_STR:"View '{0}' can't be found.",SAVE_SUBSET_STR:"Save subset",SAVE_SUBSET_AS_STR:"Save subset as...",RELOAD_SUBSET_STR:"Reload subset",SUBSET_ALL_STR:"Subset all",CUT_STR:"Cut",KEEP_SELECTED_ELEMENTS_STR:"Keep selected element(s)",DELETE_SELECTED_ELEMENTS_STR:"Delete selected element(s)",NAV_A11Y_APPLICATIONS:"Applications",NAV_A11Y_FOLDER:"Folder",
NAV_A11Y_FOLDER_PRIVATE:"Private folder",NAV_A11Y_WEBSHEET:"Websheet",NAV_A11Y_WEBSHEET_PRIVATE:"Private websheet",NAV_A11Y_WEBSHEET_EXTERNAL:"External websheet",NAV_A11Y_WEBSHEET_EXTERNAL_PRIVATE:"Private external websheet",NAV_A11Y_CUBE:"Cube",NAV_A11Y_VIEW_PRIVATE:"Private view",NAV_A11Y_REF_PRIVATE:"Private reference",NAV_A11Y_VIEW_REF_PRIVATE:"Private view and private reference",NAV_A11Y_VIEWS:"Views",NAV_A11Y_CUBE_VIEW:"Cube view",NAV_A11Y_ADMIN_FOLDER:"Admin folder",NAV_A11Y_ADMIN_CLIENT:"Admin client",
NAV_A11Y_ADMIN_CUBE:"Admin cube",NAV_A11Y_ADMIN_DIMS:"Admin dimensions",NAV_A11Y_ADMIN_PASSWORD:"Admin password",NAV_A11Y_PROCESS:"Process",NAV_A11Y_CHORES:"Chores",NAV_A11Y_CUBE_PRIVATE:"Private cube",NAV_A11Y_PDF:"PDF file",NAV_A11Y_PDF_PRIVATE:"Private PDF file",NAV_A11Y_TXT:"Text file",NAV_A11Y_TXT_PRIVATE:"Private text file",NAV_A11Y_PPT:"Powerpoint file",NAV_A11Y_PPT_PRIVATE:"Private Powerpoint file",NAV_A11Y_WRD:"Word file",NAV_A11Y_WRD_PRIVATE:"Private Word file",NAV_A11Y_XLS:"Excel file",
NAV_A11Y_XLS_PRIVATE:"Private Excel file",NAV_A11Y_ZIP:"ZIP file",NAV_A11Y_ZIP_PRIVATE:"Private ZIP file",NAV_A11Y_IMG:"Image file",NAV_A11Y_IMG_PRIVATE:"Private image file",NAV_A11Y_URL:"Hyperlink file",NAV_A11Y_URL_PRIVATE:"Private hyperlink file",NAV_A11Y_ACCESS:"Access file",NAV_A11Y_ACCESS_PRIVATE:"Private Access file",NAV_A11Y_EMAIL:"Email file",NAV_A11Y_EMAIL_PRIVATE:"Private email file",NAV_A11Y_MPP:"Project file",NAV_A11Y_MPP_PRIVATE:"Private project file",NAV_A11Y_BIN:"Binary file",NAV_A11Y_BIN_PRIVATE:"Private binary file",
ARIA_IMG_ERROR_STR:"Error",ARIA_IMG_WARNING_STR:"Warning",ARIA_IMG_INFO_STR:"Information",APP_ID_TITLE_STR:"Application ID error",SAVE_ERROR_TITLE_STR:"Save error",SRV_ERR_TITLE_STR:"Server error",SRV_ERR_STR:"An error has occurred.",CUBEVIEW_LOAD_ERROR_TITLE_STR:"Cubeview loading error",VIEW_NOT_FOUND_ERROR:"View can't be found.",MEMORY_EXCEEDED:"Maximum memory for action exceeded.",VIEW_ERROR:"Unable to open view.",DRILL_ERROR_TITLE_STR:"Drill error",DRILL_ERROR:"Drill Process returned an error. The element or other information might be empty.",
ACTION_BUTTON_NAVIGATION_ERROR_ARG_STR:"Failed to open the target workbook '{0}' as the file does not exist.",ACTION_BUTTON_NAVIGATION_ERROR:"Failed to open the target workbook. The file does not exist.",ACTION_BUTTON_HTTP_502_PROXY_ERROR:"The request timed out. The process is still running. Please check the server logs to confirm completion of the process.",WORKBOOK_OPEN_FAILED_TITLE_STR:"Workbook error",WORKBOOK_OPEN_FAILED_STR:"Failed to open the target workbook. Make sure that the file has not been renamed or deleted.",
PASTE_FAILURES_TITLE_STR:"Paste error",PASTE_FAILURES:"At least one value was invalid and therefore could not be pasted.",SPREADING_NO_UPDATABLE_CELL_TITLE_STR:"Data spread error",SPREADING_NO_UPDATABLE_CELL_STR:"Spreading failed because the contents of the cells can't be modified.",SPREADING_FAILED_STR:"Data spread failed.",LOGON_TO_SERVER_FAILED_TITLE_STR:"Authentication error",LOGON_TO_SERVER_FAILED_STR:"Logging on to the server failed.",SANDBOX_NAME_MISSING_STR:"New name for copied sandbox is not specified.",
SANDBOX_WARNING_TITLE_STR:"Create Sandbox",SUBSET_EXPRESSION_WARNING_TITLE_STR:"Loss of expression",SUBSET_BY_EXPRESSION:"This subset was created using an expression.",SAVING_DYNAMIC_SUBSET:"Saving the modified subset will delete the expression and convert the subset into a static subset.",SUBSET_EXPRESSION_WARNING_OK_STR:"Create static subset",INVALID_NUMERIC_STR:"A numeric value is required.",EDITING_ERROR_TITLE_STR:"Edit error",INVALID_VALUE:"The value you entered is not the expected format.",
SUBSET_WARNING_TITLE_STR:"Static copy required",DYNAMIC_SUBSET_MODIFIED:"This dynamic subset has been modified.",USE_STATIC_SUBSET:"A static copy of the subset will be used.",SUBSET_WARNING_OK_STR:"Create static copy",FILTER_SUBSET_STR:"Filter subset",FILTER_BY_LEVEL_STR:"Filter by level...",FILTER_BY_ATTRIBUTE_STR:"Filter by attribute...",FILTER_BY_EXPRESSION_STR:"Filter by expression...",FILTER_BY_LEVEL_TITLE_STR:"Filter by level",FILTER_BY_ATTRIBUTE_TITLE_STR:"Filter by attribute",FILTER_BY_EXPRESSION_TITLE_STR:"Filter by expression",
SORT_SUBSET_STR:"Sort subset",SORT_ASCENDING_STR:"Sort ascending",SORT_DESCENDING_STR:"Sort descending",SORT_HIERARCHICALLY_STR:"Sort hierarchically",SORT_BY_INDEX_ASCENDING_STR:"Sort by ascending index",SORT_BY_INDEX_DESCENDING_STR:"Sort by descending index",TREE_EXPAND_STR:"Tree expand",DRILL_DOWN_SELECTED_CONSOLIDATIONS_STR:"Drill down selected consolidations",EXPAND_SELECTED_CONSOLIDATIONS_STR:"Expand selected consolidations",EXPAND_TREE_FULLY_STR:"Expand tree fully",TREE_COLLAPSE_STR:"Tree collapse",
COLLAPSE_SELECTED_CONSOLIDATIONS_STR:"Collapse selected consolidations",COLLAPSE_TREE_FULLY_STR:"Collapse tree fully",INSERT_PARENTS_OF_SELECTED_ELEMENTS_STR:"Insert parents of selected elements",CREATE_CUSTOM_CONSOLIDATION_STR:"Create custom consolidation",CREATE_CONSOLIDATION_FROM_SUBSET_STR:"Create consolidation from subset...",CREATE_CONSOLIDATION_FROM_SUBSET_TITLE_STR:"Create consolidation from subset",CREATE_CONSOLIDATION_FROM_SELECTED_ELEMENTS_STR:"Create consolidation from selected elements",
FIND_IN_SUBSET_STR:"Find in subset",EXPAND_ABOVE_STR:"Expand above",FIND_NEXT_STR:"Find next",FIND_PREVIOUS_STR:"Find previous",FIND_IN_SUBSET_PLACEHOLDER_STR:"Find in subset...",PASTE_ABOVE_STR:"Paste above",PASTE_BELOW_STR:"Paste below",UNNAMED_PARENS:"(unnamed)",SUBSET_PRIVATE_STR:"{0} (Private)",SUBSET_PUBLIC_STR:"{0} (Public)",SUBSET_EDITOR_TITLE:"Subset editor",SUBSET_EDITOR_SUBTITLE:"{0} \x3e {1} \x3e {2}",NO_ALIAS_SELECTED_PARENS:"(no alias selected)",SUBSET_LABEL_STR:"Subset",ALIAS_LABEL_STR:"Alias",
SUBSET_NAME_STR:"Subset name",SAVE_PUBLIC_STR:"Save public",OVERWRITE_EXISTING_SUBSET_STR:"Overwrite existing subset",SUBSET_PAGE_STATUS:"Page: {0} of {1}",AVAILABLE_ELEMENTS_HEADER:"Available elements: {0}",SUBSET_HEADER:"Subset: {0} \x3e {1}",PUBLIC_SUBSET_EXISTS:"This public subset already exists.",PRIVATE_SUBSET_EXISTS:"This private subset already exists.",SELECT_LEVELS_STR:"Select level(s)",SUBSET_LEVEL:"Level {0}",SELECT_ATTRIBUTE_STR:"Select attribute",SELECT_VALUE_TO_MATCH_STR:"Select value to match",
ENTER_EXPRESSION_STR:"Expression",EXPRESSION_EXAMPLE_STR:"Example: A* will match all elements starting with the letter A.",SELECT_SUBSET:"Subset",VALUE_REQUIRED_STR:"This value is required.",UNSUPPORTED_OBJECT_TYPE:"The specified object type is unsupported.",WORKBOOK_FAILED_TITLE_STR:"Workbook error",BUILD:"Build ",PA_VERSION:"IBM\u00ae Planning Analytics 2.0",EXPORT_NUM_ROWS:"rows",CELL_COUNT_EXCEEDED:"The Websheet export is too large.  Reduce the size of your export by selecting fewer dimensions or reducing the number of rows or columns from the report.",
CELL_COUNT_EXCEEDED_CV:"The Cubeview export is too large.  Reduce the size of your export by selecting fewer dimensions on rows or columns, or smaller subsets of data.",EXPORT_PREVENTED_ERR:"Export prevented",LIMITS_EXCEEDED_ERROR_TITLE:"Limits exceeded",LIMITS_EXCEEDED_ERROR:"The action has been terminated because it exceeds the configured maximum memory limit."},cs:!0,da:!0,de:!0,es:!0,fi:!0,fr:!0,hr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,nl:!0,no:!0,nb:!0,pl:!0,pt:!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,
tr:!0,"zh-cn":!0,"zh-hans":!0,"zh-tw":!0,"zh-hant":!0})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(n,m,l,k){l(function(){m("highcontrast")&&n.add(k.body(),"dijit_a11y")});return m})},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/dom-attr"],function(n,m,l,k,g){return n("dojox.grid.Selection",null,{constructor:function(c){this.grid=c;this.selected=[];this.setMode(c.selectionMode)},
mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(c){this.selected.length&&this.deselectAll();this.mode="extended"!=c&&"multiple"!=c&&"single"!=c&&"none"!=c?"extended":c},onCanSelect:function(c){return this.grid.onCanSelect(c)},onCanDeselect:function(c){return this.grid.onCanDeselect(c)},onSelected:function(c){},onDeselected:function(c){},onChanging:function(){},onChanged:function(){},isSelected:function(c){return"none"==this.mode?!1:this.selected[c]},getFirstSelected:function(){if(!this.selected.length||
"none"==this.mode)return-1;for(var c=0,e=this.selected.length;c<e;c++)if(this.selected[c])return c;return-1},getNextSelected:function(c){if("none"==this.mode)return-1;c+=1;for(var e=this.selected.length;c<e;c++)if(this.selected[c])return c;return-1},getSelected:function(){for(var c=[],e=0,f=this.selected.length;e<f;e++)this.selected[e]&&c.push(e);return c},getSelectedCount:function(){for(var c=0,e=0;e<this.selected.length;e++)this.selected[e]&&c++;return c},_beginUpdate:function(){if(0===this.updating)this.onChanging();
this.updating++},_endUpdate:function(){this.updating--;if(0===this.updating)this.onChanged()},select:function(c){"none"!=this.mode&&("multiple"!=this.mode?(this.deselectAll(c),this.addToSelection(c)):this.toggleSelect(c))},addToSelection:function(c){if("none"!=this.mode)if(l.isArray(c))m.forEach(c,this.addToSelection,this);else if(c=Number(c),this.selected[c])this.selectedIndex=c;else if(!1!==this.onCanSelect(c)){this.selectedIndex=c;var e=this.grid.getRowNode(c);e&&g.set(e,"aria-selected","true");
this._beginUpdate();this.selected[c]=!0;this.onSelected(c);this._endUpdate()}},deselect:function(c){if("none"!=this.mode)if(l.isArray(c))m.forEach(c,this.deselect,this);else if(c=Number(c),this.selectedIndex==c&&(this.selectedIndex=-1),this.selected[c]&&!1!==this.onCanDeselect(c)){var e=this.grid.getRowNode(c);e&&g.set(e,"aria-selected","false");this._beginUpdate();delete this.selected[c];this.onDeselected(c);this._endUpdate()}},setSelected:function(c,e){this[e?"addToSelection":"deselect"](c)},toggleSelect:function(c){l.isArray(c)?
m.forEach(c,this.toggleSelect,this):this.setSelected(c,!this.selected[c])},_range:function(c,e,f){var b=0<=c?c:e;c=e;b>c&&(c=b,b=e);for(e=b;e<=c;e++)f(e)},selectRange:function(c,e){this._range(c,e,l.hitch(this,"addToSelection"))},deselectRange:function(c,e){this._range(c,e,l.hitch(this,"deselect"))},insert:function(c){this.selected.splice(c,0,!1);this.selectedIndex>=c&&this.selectedIndex++},remove:function(c){this.selected.splice(c,1);this.selectedIndex>=c&&this.selectedIndex--},deselectAll:function(c){for(var e in this.selected)e!=
c&&!0===this.selected[e]&&this.deselect(e)},clickSelect:function(c,e,f){if("none"!=this.mode){this._beginUpdate();if("extended"!=this.mode)this.select(c);else{if(!f||0>this.rangeStartIndex)this.rangeStartIndex=c;e||this.deselectAll(c);f?this.selectRange(this.rangeStartIndex,c):e?this.toggleSelect(c):this.addToSelection(c)}this._endUpdate()}},clickSelectEvent:function(c){this.clickSelect(c.rowIndex,k.isCopyKey(c),c.shiftKey)},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate()}})})},
"tm1web/share/TM1Utility":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/xhr dojo/dom dojo/dom-construct dojo/dom-style dojo/sniff ../utility/url dojox/uuid/generateRandomUuid ./Base dojo/domReady!".split(" "),function(n,m,l,k,g,c,e,f,b,a){return new (m(a,{constructor:function(){this._scrollBarSize=this.tm1WebRoot=this.tm1WebPath=null;this._InitializeTM1Utility()},_InitializeTM1Utility:function(){this._setTM1WebPath();this._setTM1WebRoot()},_setTM1WebPath:function(){this.tm1WebPath=
f.toUrl("tm1web")+"/"},_setTM1WebRoot:function(){this.tm1WebRoot=this.tm1WebPath+"../../"},download:function(a,f){var e=k.byId(f);null==e&&(e=g.create("iframe",{id:f||b()}),c.set(e,{display:"none"}),document.body.appendChild(e));e.src=a},getSelectAreaCoordinates:function(a){if(!a)return null;var b=a.SelectedArea;if(b){var c=a.GetCoordinate(b.StartCell),b=a.GetCoordinate(b.EndCell);a=this._swap(c.rowIndex,b.rowIndex);c=this._swap(c.colIndex,b.colIndex);return{rowStart:a.low,rowEnd:a.high,colStart:c.low,
colEnd:c.high}}return null},_swap:function(a,b){var c=a;a>b&&(a=b,b=c);return{low:a,high:b}},replaceAll:function(a,b,c){return a.split(b).join(c)},escapeString:function(a){if(null==a||""==a)return a;a=a.replace("\\","\\\\");a=a.replace('"',"\x26quot;");a=a.replace("'","\\'");a=a.replace("\r","\\r");a=a.replace("\n","\\n");return a=a.replace("\t","\\t")},insertCharacterAtCaret:function(a,b){if(e("ie")){b.focus();var c=document.selection.createRange();c.text=a;c.select()}else{var c=b.selectionStart,
f=b.selectionEnd,g=b.scrollTop;b.value=b.value.substring(0,c)+a+b.value.substring(f,b.value.length);b.focus();b.selectionStart=c+a.length;b.selectionEnd=c+a.length;b.scrollTop=g}},indexOf:function(a,b){return a.indexOf?a.indexOf(b):n.indexOf(a,b)}}))})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){function u(){this._popupWrapper&&(c.destroy(this._popupWrapper),delete this._popupWrapper)}l=l(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=e.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a)for(this._firstAroundPosition=b,b=0;b<this._stack.length;b++){var f=this._stack[b].wrapper.style;f.top=parseFloat(f.top)+a+"px";"auto"==f.right?f.left=parseFloat(f.left)+c+
"px":f.right=parseFloat(f.right)-c+"px"}this._aroundMoveListener=setTimeout(d.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,d=a.domNode;b||(b=c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",a._popupWrapper=b,m.after(a,"destroy",u,!0),"ontouchend"in document&&p(b,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}));return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=e.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";f.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);f.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=
this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(c){for(var l=this._stack,m=c.popup,n=m.domNode,q=c.orient||["below","below-alt","above","above-alt"],u=c.parent?c.parent.isLeftToRight():e.isBodyLtr(m.ownerDocument),A=c.around,C=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;l.length&&(!c.parent||!k.isDescendant(c.parent.domNode,l[l.length-1].widget.domNode));)this.close(l[l.length-1].widget);var F=this.moveOffScreen(m);m.startup&&!m._started&&
m.startup();var G,K=e.position(n);if("maxHeight"in c&&-1!=c.maxHeight)G=c.maxHeight||Infinity;else{G=t.getEffectiveBox(this.ownerDocument);var N=A?e.position(A,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};G=Math.floor(Math.max(N.y,G.h-(N.y+N.h)))}K.h>G&&(K=f.getComputedStyle(n),f.set(F,{overflowY:"scroll",height:G+"px",border:K.borderLeftWidth+" "+K.borderLeftStyle+" "+K.borderLeftColor}),n._originalStyle=n.style.cssText,n.style.border="none");g.set(F,{id:C,style:{zIndex:this._beginZIndex+l.length},
"class":"dijitPopup "+(m.baseClass||m["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==l.length&&A&&(this._firstAroundNode=A,this._firstAroundPosition=e.position(A,!0),this._aroundMoveListener=setTimeout(d.hitch(this,"_repositionAll"),50));b("config-bgIframe")&&!m.bgIframe&&(m.bgIframe=new s(F));C=m.orient?d.hitch(m,"orient"):null;q=A?r.around(F,A,q,u,C):r.at(F,c,"R"==q?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding,C);F.style.visibility="visible";n.style.visibility=
"visible";n=[];n.push(p(F,"keydown",d.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&c.onCancel)b.stopPropagation(),b.preventDefault(),c.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));m.onCancel&&c.onCancel&&n.push(m.on("cancel",c.onCancel));n.push(m.on(m.onExecute?"execute":"change",d.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));l.push({widget:m,wrapper:F,parent:c.parent,onExecute:c.onExecute,
onCancel:c.onCancel,onClose:c.onClose,handlers:n});if(m.onOpen)m.onOpen(q);return q},close:function(a){for(var b=this._stack;a&&n.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,f=c.onClose;d.bgIframe&&(d.bgIframe.destroy(),delete d.bgIframe);if(d.onClose)d.onClose();for(var e;e=c.handlers.pop();)e.remove();d&&d.domNode&&this.hide(d);f&&f()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=
this._aroundMoveListener=null)}});return q.popup=new l})},"tm1web/celledit/_CellValueMixin":function(){define("dojo/_base/declare ../cubeview/ViewCellType ../websheet/CellType ../share/NumberType ../utility/date ../utility/dom ../utility/number ../utility/date!".split(" "),function(n,m,l,k,g,c,e){return n(null,{_getCurrentValue:function(f){var b=f.cellInfo;if(b.changed&&null!=b.newValue)return this._isPercentCell(f)?(f=e.convert(b.newValue,k.PERCENT,!0),null==f?b.newValue:f):b.cellType==m.NUM&&g.canParse(c.getTextContent(f),
b.format)?c.getTextContent(f):b.newValue;if(b.cellType==m.NUM){if(b.type==l.DateTime||g.canParse(b.value,b.format)||""==b.value.trim())return b.value;if(e.isNaN(b.numericValue))return"";b=e.format(b.numericValue,!0);return this._isPercentCell(f)?(f=e.convert(b,k.PERCENT,!0),null==f?b:f):b}return null!=b.value?b.value:""},_isPercentCell:function(c){if(c.cellInfo.percent)return!0;var b=this._isPercentValue(c,c.cellInfo.value);b&&(c.cellInfo.percent=!0);return b},_isPercentValue:function(c,b){return c.cellInfo.cellType===
m.NUM&&e.canParse(b,k.PERCENT)}})})},"tm1web/cubeview/SortLimitType":function(){define({TOPCOUNT:"TOPCOUNT",TOPPERCENT:"TOPPERCENT",TOPSUM:"TOPSUM",BOTTOMCOUNT:"BOTTOMCOUNT",BOTTOMPERCENT:"BOTTOMPERCENT",BOTTOMSUM:"BOTTOMSUM",NONE:"NONE"})},"tm1web/widgets/InfoAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(n,m,l,k,g,c){var e=n("tm1web.widgets.InfoAlert",c,{buildRendering:function(){this.inherited(arguments);
k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,"dijitHidden");this.containerNode.setAttribute("aria-label",g.get("ARIA_IMG_INFO_STR"))}});e.show=function(c){var b=new l;c.className="tm1webInfoDialog tm1webMessageDialog";alertDialog=new e(c);var a=m.after(alertDialog,"onHide",function(){a.remove();b.resolve()});alertDialog.show();return b.promise};return e})},"tm1web/celledit/PickListValueSaver":function(){define("dojo/_base/declare ../widgets/ErrorAlert ../cubeview/ViewCellType ../config-settings ../utility/message-localizer ./_CellListValueSaver ../config-settings!".split(" "),
function(n,m,l,k,g,c){return n(c,{_isRecalcOnChangeRequired:function(){return k.recalculateOnPicklistChange()},_checkInputString:function(c,f,b){""===f&&b.cellInfo.cellType===l.NUM?this.inherited(arguments,[c,"0",b]):this.inherited(arguments)},_handleInvalidUserInput:function(c,f,b){c=g.get("EDITING_ERROR_TITLE_STR");f=g.get("INVALID_VALUE");m.show({message:f,title:c});this._saveDeferred.resolve(!1,!1)}})})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget",
"./_FormValueMixin"],function(n,m,l,k){return n("dijit.form._FormValueWidget",[l,k],{_layoutHackIE7:function(){if(7==m("ie"))for(var g=this.domNode,c=g.parentNode,e=g.firstChild||g,f=e.style.filter,b=this;c&&0==c.clientHeight;)(function(){var a=b.connect(c,"onscroll",function(){b.disconnect(a);e.style.filter=(new Date).getMilliseconds();b.defer(function(){e.style.filter=f})})})(),c=c.parentNode}})})},"tm1web/cubeview/CellContextMenu":function(){define("dojo/_base/declare ../share/_CellContextMenu ../share/service-loader!CubeViewService ../spreading/SpreadDialogProportional ../spreading/SpreadDialogEqualLeaves ../spreading/SpreadDialogStraightLine ../spreading/SpreadDialogClear ../spreading/RelativeSpreadDialog".split(" "),
function(n,m,l,k,g,c,e,f){return n(m,{Service:l,SpreadDialogProportional:k,SpreadDialogEqualLeaves:g,SpreadDialogStraightLine:c,SpreadDialogClear:e,RelativeSpreadDialog:f,_getSelectedArea:function(){return this.dataGrid.DataGrid.SelectedArea},_validate:function(b,a){return a?!0:"TD"==b.target.tagName},_getItemIdPrefix:function(){return"tm1web_cubeview_cellcontextmenu_"},_getCopyPasteId:function(){return this.objectId},_isSingleCellSelected:function(){return this._selectedArea.StartCell===this._selectedArea.EndCell},
_hold:function(b){var a=-1,c=-1,f=-1,e=-1;this._isSingleCellSelected()?(a=this._currentCell.cellInfo.rowIndex,f=this._currentCell.cellInfo.colIndex):(a=this._selectedArea.StartCell.cellInfo.rowIndex,f=this._selectedArea.StartCell.cellInfo.colIndex,c=this._selectedArea.EndCell.cellInfo.rowIndex,e=this._selectedArea.EndCell.cellInfo.colIndex);this.Service.hold(this.objectId,a,f,c,e,b,{callback:this._onHold,scope:this})},_onHold:function(b){this.dataGrid.Update(b)}})})},"dojo/errors/RequestError":function(){define(["./create"],
function(n){return n("RequestError",function(m,l){this.response=l})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(n,m,l,k,g,c){return m("dijit.tree._dndContainer",null,{constructor:function(e,f){this.tree=e;this.node=e.domNode;k.mixin(this,f);this.containerState="";l.add(this.node,"dojoDndContainer");this.events=[g(this.node,c.enter,k.hitch(this,"onOverEvent")),g(this.node,c.leave,k.hitch(this,
"onOutEvent")),n.after(this.tree,"_onNodeMouseEnter",k.hitch(this,"onMouseOver"),!0),n.after(this.tree,"_onNodeMouseLeave",k.hitch(this,"onMouseOut"),!0),g(this.node,"dragstart, selectstart",function(b){b.preventDefault()})]},destroy:function(){for(var c;c=this.events.pop();)c.remove();this.node=this.parent=null},onMouseOver:function(c){this.current=c},onMouseOut:function(){this.current=null},_changeState:function(c,f){var b="dojoDnd"+c,a=c.toLowerCase()+"State";l.replace(this.node,b+f,b+this[a]);
this[a]=f},_addItemClass:function(c,f){l.add(c,"dojoDndItem"+f)},_removeItemClass:function(c,f){l.remove(c,"dojoDndItem"+f)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u){var v,x,y=new (m([p,e],{curNode:null,activeStack:[],constructor:function(){var a=f.hitch(this,function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});n.before(c,"empty",a);n.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,c){var f=this,e=a.document&&a.document.body;if(e){var g=d("pointer-events")?"pointerdown":d("MSPointer")?
"MSPointerDown":d("touch-events")?"mousedown, touchstart":"mousedown",k=b(a.document,g,function(a){a&&a.target&&null==a.target.parentNode||f._onTouchNode(c||a.target,"mouse")}),l=b(e,"focusin",function(a){if(a.target.tagName){var b=a.target.tagName.toLowerCase();"#document"!=b&&"body"!=b&&(t.isFocusable(a.target)?f._onFocusNode(c||a.target):f._onTouchNode(c||a.target))}}),m=b(e,"focusout",function(a){f._onBlurNode(c||a.target)});return{remove:function(){k.remove();l.remove();m.remove();e=k=l=m=null}}}},
_onBlurNode:function(a){a=(new Date).getTime();a<v+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(f.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(f.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,b){x=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);g.contains(a,"dijitPopup")&&(a=a.firstChild);var c=[];try{for(;a;){var d=k.get(a,"dijitPopupParent");if(d)a=q.byId(d).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===r.body())break;a=s.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),e=f&&q.byId(f);!e||"mouse"==b&&e.get("disabled")||c.unshift(f);a=a.parentNode}}}catch(l){}this._setStack(c,
b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(v=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,f=a.length-1;if(a[f]!=c[d]){this.set("activeStack",a);var e;for(e=d;0<=e&&c[e]!=a[e];e--)if(d=q.byId(c[e]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),
this.emit("widget-blur",d,b);for(e++;e<=f;e++)if(d=q.byId(a[e]))d.set("focused",!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));a(function(){var a=y.registerWin(s.get(document));d("ie")&&b(window,"unload",function(){a&&(a.remove(),a=null)})});u.focus=function(a){y.focus(a)};for(var w in y)/^_/.test(w)||(u.focus[w]="function"==typeof y[w]?f.hitch(y,w):y[w]);y.watch(function(a,b,c){u.focus[a]=c});return y})},"dojo/_base/declare":function(){define(["./kernel",
"./config","../has","./lang"],function(n,m,l,k){function g(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function c(a,b,c){var d,f,e,k,l,m,n,q=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=b,b=c);c=0;k=a.callee;(d=d||k.nom)||g("can't deduce a name to call inherited()",this.declaredClass);l=this.constructor._meta;e=l.bases;n=q.p;if("constructor"!=d){if(q.c!==k&&(n=0,m=e[0],l=m._meta,l.hidden[d]!==k)){(f=l.chains)&&"string"==typeof f[d]&&g("calling chained method with inherited: "+
d,this.declaredClass);do if(l=m._meta,f=m.prototype,l&&(f[d]===k&&f.hasOwnProperty(d)||l.hidden[d]===k))break;while(m=e[++n]);n=m?n:-1}if(m=e[++n])if(f=m.prototype,m._meta&&f.hasOwnProperty(d))c=f[d];else{k=w[d];do if(f=m.prototype,(c=f[d])&&(m._meta?f.hasOwnProperty(d):c!==k))break;while(m=e[++n])}c=m&&c||w[d]}else{if(q.c!==k&&(n=0,(l=e[0]._meta)&&l.ctor!==k)){for((f=l.chains)&&"manual"===f.constructor||g("calling chained constructor with inherited",this.declaredClass);(m=e[++n])&&(!(l=m._meta)||
l.ctor!==k););n=m?n:-1}for(;(m=e[++n])&&!(c=(l=m._meta)?l.ctor:m););c=m&&c}q.c=c;q.p=n;if(c)return!0===b?c:c.apply(this,b||a)}function e(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function f(a,b,c){var d=this.getInherited(a,b);if(d)return d.apply(this,c||b||a)}function b(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function a(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c]);if(l("bug-for-in-skips-shadowed"))for(var d=
k._extraNames,f=d.length;f;)c=d[--f],"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function d(a){x.safeMixin(this.prototype,a);return this}function p(a,b){a instanceof Array||"function"==typeof a||(b=a,a=void 0);b=b||{};a=a||[];return x([this].concat(a),b)}function r(a,b){return function(){var c=arguments,d=c,f=c[0],e,g;g=a.length;var k;if(!(this instanceof c.callee))return v(c);if(b&&(f&&f.preamble||this.preamble))for(k=Array(a.length),k[0]=c,e=0;;){(f=c[0])&&(f=f.preamble)&&(c=f.apply(this,
c)||c);f=a[e].prototype;(f=f.hasOwnProperty("preamble")&&f.preamble)&&(c=f.apply(this,c)||c);if(++e==g)break;k[e]=c}for(e=g-1;0<=e;--e)f=a[e],(f=(g=f._meta)?g.ctor:f)&&f.apply(this,k?k[e]:c);(f=this.postscript)&&f.apply(this,d)}}function s(a,b){return function(){var c=arguments,d=c,f=c[0];if(!(this instanceof c.callee))return v(c);b&&(f&&(f=f.preamble)&&(d=f.apply(this,d)||d),(f=this.preamble)&&f.apply(this,d));a&&a.apply(this,c);(f=this.postscript)&&f.apply(this,c)}}function t(a){return function(){var b=
arguments,c=0,d,f;if(!(this instanceof b.callee))return v(b);for(;d=a[c];++c)if(d=(f=d._meta)?f.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function q(a,b,c){return function(){var d,f,e=0,g=1;c&&(e=b.length-1,g=-1);for(;d=b[e];e+=g)f=d._meta,(d=(f?f.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function u(a){B.prototype=a.prototype;a=new B;B.prototype=null;return a}function v(a){var b=a.callee,c=u(b);b.apply(c,a);return c}function x(f,l,n){"string"!=typeof f&&(n=l,l=f,
f="");n=n||{};var v,B,I,J,Q,E,D,H=1,T=l;if("[object Array]"==z.call(l)){H=f;B=[];I=[{cls:0,refs:[]}];J={};E=1;for(var R=l.length,O=0,L,U,M,S;O<R;++O){(L=l[O])?"[object Function]"!=z.call(L)&&g("mixin #"+O+" is not a callable constructor.",H):g("mixin #"+O+" is unknown. Did you use dojo.require to pull it in?",H);U=L._meta?L._meta.bases:[L];M=0;for(L=U.length-1;0<=L;--L)S=U[L].prototype,S.hasOwnProperty("declaredClass")||(S.declaredClass="uniqName_"+A++),S=S.declaredClass,J.hasOwnProperty(S)||(J[S]=
{count:0,refs:[],cls:U[L]},++E),S=J[S],M&&M!==S&&(S.refs.push(M),++M.count),M=S;++M.count;I[0].refs.push(M)}for(;I.length;){M=I.pop();B.push(M.cls);for(--E;v=M.refs,1==v.length;){M=v[0];if(!M||--M.count){M=0;break}B.push(M.cls);--E}if(M)for(O=0,R=v.length;O<R;++O)M=v[O],--M.count||I.push(M)}E&&g("can't build consistent linearization",H);L=l[0];B[0]=L?L._meta&&L===B[B.length-L._meta.bases.length]?L._meta.bases.length:1:0;E=B;I=E[0];H=E.length-I;l=E[H]}else E=[0],l?"[object Function]"==z.call(l)?(I=
l._meta,E=E.concat(I?I.bases:l)):g("base class is not a callable constructor.",f):null!==l&&g("unknown base class. Did you use dojo.require to pull it in?",f);if(l)for(B=H-1;;--B){v=u(l);if(!B)break;I=E[B];(I._meta?a:y)(v,I.prototype);J=new Function;J.superclass=l;J.prototype=v;l=v.constructor=J}else v={};x.safeMixin(v,n);I=n.constructor;I!==w.constructor&&(I.nom="constructor",v.constructor=I);for(B=H-1;B;--B)(I=E[B]._meta)&&I.chains&&(D=y(D||{},I.chains));v["-chains-"]&&(D=y(D||{},v["-chains-"]));
I=!D||!D.hasOwnProperty("constructor");E[0]=J=D&&"manual"===D.constructor?t(E):1==E.length?s(n.constructor,I):r(E,I);J._meta={bases:E,hidden:n,chains:D,parents:T,ctor:n.constructor};J.superclass=l&&l.prototype;J.extend=d;J.createSubclass=p;J.prototype=v;v.constructor=J;v.getInherited=e;v.isInstanceOf=b;v.inherited=C;v.__inherited=c;f&&(v.declaredClass=f,m.noGlobals||k.setObject(f,J));if(D)for(Q in D)v[Q]&&"string"==typeof D[Q]&&"constructor"!=Q&&(I=v[Q]=q(Q,E,"after"===D[Q]),I.nom=Q);return J}var y=
k.mixin,w=Object.prototype,z=w.toString,B=new Function,A=0,C=n.config.isDebug?f:c;n.safeMixin=x.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===w[c]&&c in w||"constructor"==c||("[object Function]"==z.call(d)&&(d.nom=c),a[c]=d);if(l("bug-for-in-skips-shadowed"))for(var f=k._extraNames,e=f.length;e;)c=f[--e],d=b[c],d===w[c]&&c in w||"constructor"==c||("[object Function]"==z.call(d)&&(d.nom=c),a[c]=d);return a};return n.declare=x})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(n,m,l,k,g){function c(a,b){var c=a.xhr;a.status=a.xhr.status;try{a.text=c.responseText}catch(d){}"xml"===a.options.handleAs&&(a.data=c.responseXML);if(!b)try{l(a)}catch(f){b=f}b?this.reject(b):k.checkStatus(c.status)?this.resolve(a):(b=new n("Unable to load "+a.url+" status: "+c.status,a),this.reject(b))}function e(a){return this.xhr.getResponseHeader(a)}function f(l,q,u){var w=g("native-formdata")&&q&&q.data&&q.data instanceof FormData,z=k.parseArgs(l,
k.deepCreate(t,q),w);l=z.url;q=z.options;var B,A=k.deferred(z,r,a,d,c,function(){B&&B()}),C=z.xhr=f._create();if(!C)return A.cancel(new n("XHR was not created")),u?A:A.promise;z.getHeader=e;p&&(B=p(C,A,z));var F=q.data,G=!q.sync,K=q.method;try{C.open(K,l,G,q.user||s,q.password||s);q.withCredentials&&(C.withCredentials=q.withCredentials);g("native-response-type")&&q.handleAs in b&&(C.responseType=b[q.handleAs]);var N=q.headers;l=w?!1:"application/x-www-form-urlencoded";if(N)for(var P in N)"content-type"===
P.toLowerCase()?l=N[P]:N[P]&&C.setRequestHeader(P,N[P]);l&&!1!==l&&C.setRequestHeader("Content-Type",l);N&&"X-Requested-With"in N||C.setRequestHeader("X-Requested-With","XMLHttpRequest");k.notify&&k.notify.emit("send",z,A.promise.cancel);C.send(F)}catch(I){A.reject(I)}m(A);C=null;return u?A:A.promise}g.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});g.add("dojo-force-activex-xhr",function(){return g("activex")&&!document.addEventListener&&"file:"===window.location.protocol});
g.add("native-xhr2",function(){if(g("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});g.add("native-formdata",function(){return"undefined"!==typeof FormData});g.add("native-response-type",function(){return g("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});g.add("native-xhr2-blob",function(){if(g("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType=
"blob";var b=a.responseType;a.abort();return"blob"===b}});var b={blob:g("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},a,d,p,r;g("native-xhr2")?(a=function(a){return!this.isFulfilled()},r=function(a,b){b.xhr.abort()},p=function(a,b,c){function d(a){b.handleResponse(c)}function f(a){a=new n("Unable to load "+c.url+" status: "+a.target.status,c);b.handleResponse(c,a)}function e(a){a.lengthComputable?(c.loaded=a.loaded,c.total=a.total,b.progress(c)):3===c.xhr.readyState&&
(c.loaded=a.position,b.progress(c))}a.addEventListener("load",d,!1);a.addEventListener("error",f,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",f,!1);a.removeEventListener("progress",e,!1);a=null}}):(a=function(a){return a.xhr.readyState},d=function(a){return 4===a.xhr.readyState},r=function(a,b){var c=b.xhr,d=typeof c.abort;"function"!==d&&"object"!==d&&"unknown"!==d||c.abort()});var s,t={data:null,query:null,sync:!1,method:"GET"};
f._create=function(){throw Error("XMLHTTP not available");};if(g("native-xhr")&&!g("dojo-force-activex-xhr"))f._create=function(){return new XMLHttpRequest};else if(g("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),f._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(q){try{new ActiveXObject("Microsoft.XMLHTTP"),f._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}k.addCommonMethods(f);return f})},"tm1web/celledit/ValueSaver":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/topic ../cubeview/ViewCellType ../share/service-loader ../widgets/ErrorAlert ../share/NumberType ../utility/date ../utility/message-localizer ../utility/number ./spread-syntax-validator ./shortcut-parser ./_CellValueMixin ../utility/date!".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n(s,{value:null,dataGrid:null,activeCell:null,objectId:null,service:null,constructor:function(a){m.mixin(this,a)},save:function(){this._saveDeferred=new l;this._isCommitRequired()?this._commitCellEdit():this._saveDeferred.resolve(this._getSaveResult(!1,!1));return this._saveDeferred.promise},_getSaveResult:function(a,b){return{valueChanged:a,recalculated:b}},_getCoordinate:function(a){return this.dataGrid.GetCoordinate(a)},_isCommitRequired:function(){if(!this.activeCell)return!1;
var a=this.value,b=this._getCurrentValue(this.activeCell);return a!=b||this._needsRecalc&&this.activeCell.cellInfo.changed},_commitCellEdit:function(){if(this.activeCell){var a=this.value,b=this._getCurrentValue(this.activeCell);this.activeCell.cellInfo.cellType==g.NUM&&(0<a.trim().length&&(a=a.trim()),a=r.resolveShortcuts(a,b,this.activeCell.cellInfo));b=this.objectId;if(this.activeCell.cellInfo.cellType==g.NUM&&p.isValid(a)){var c=this._getCoordinate(this.activeCell);this._needsRecalc=!1;this._spread(b,
c.rowIndex,c.colIndex,c.rowIndex,c.colIndex,a)}else this._changeCellValue(b,a,this.activeCell)}else this._saveDeferred.resolve(this._getSaveResult(!1,!1))},_spread:function(b,c,d,f,g,k){this.service.dataSpread1(b,c,d,f,g,k,{callback:this._publishUpdateGrid,scope:this,errorHandler:function(b,c){"SpreadFailed_NoUpdatableCell"==b?e.show({message:a.get("SPREADING_NO_UPDATABLE_CELL_STR"),title:a.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")}):e.show({message:c.localizedMessage,title:a.get("SPREADING_NO_UPDATABLE_CELL_TITLE_STR")});
this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})},_changeCellValue:function(a,b,c){this._checkInputString(a,b,c)},_checkInputString:function(a,b,c){if(this._isPercentValue(c,b)){var e=d.convert(b,f.PERCENT,!0);b=null==e?b:e}b=this.cellCheck(c,b);null!=b?(e=this._getCoordinate(c),this.service.changeCellValue(a,e.rowIndex,e.colIndex,b,{callback:this._onChangeCellValue,errorHandler:this._onChangeCellValueError,arg:c,scope:this})):this._handleInvalidFormat()},_onChangeCellValueError:function(b,
d){"java.lang.IllegalArgumentException"===d.javaClassName?e.show({message:a.get("INVALID_VALUE"),title:a.get("EDITING_ERROR_TITLE_STR")}):"java.lang.NumberFormatException"===d.javaClassName?e.show({message:a.get("INVALID_NUMERIC_STR"),title:a.get("EDITING_ERROR_TITLE_STR")}):c.getEngine()._errorHandler(b,d);this._saveDeferred.resolve(this._getSaveResult(!1,!1))},_publishUpdateGrid:function(a){k.publish(this.objectId+"-UpdateGrid",a);this._saveDeferred.resolve(this._getSaveResult(!0,!0))},_onChangeCellValue:function(a,
b){a&&(this.dataGrid.UpdateCell(b,a),k.publish(this.objectId+"-CellValueChanged"));this._needsRecalc||b.cellInfo.isConsolidated?this._recalculate():this._saveDeferred.resolve(this._getSaveResult(!0,!1))},_recalculate:function(){this._needsRecalc=!1;this.service.recalculate(this.objectId,{callback:this._publishUpdateGrid,scope:this})},cellCheck:function(a,c){if(a.cellInfo.cellType!=g.NUM||d.canParse(c)||!c)return c;var f=b.parseToSerial(c,a.cellInfo.format);return null!=f?(a.cellInfo.editDateTime=
c,d.format(f,!0)):null},_handleInvalidFormat:function(){var b=a.get("EDITING_ERROR_TITLE_STR"),c=[a.get("INVALID_VALUE"),a.get("IF_ENTER_NUMERIC"),a.get("DECIMAL_THOUSAND_SEP_STR",d.decimal,d.group),a.get("IF_ENTER_DATE"),a.get("INVALID_DATE_VALUE")];e.show({message:c,title:b});this._saveDeferred.resolve(this._getSaveResult(!1,!1))}})})},"dojo/domReady":function(){define(["./has"],function(n){function m(a){b.push(a);f&&l()}function l(){if(!a){for(a=!0;b.length;)try{b.shift()(g)}catch(c){console.error(c,
"in domReady callback",c.stack)}a=!1;m._onQEmpty()}}var k=function(){return this}(),g=document,c={loaded:1,complete:1},e="string"!=typeof g.readyState,f=!!c[g.readyState],b=[],a;m.load=function(a,b,c){m(c)};m._Q=b;m._onQEmpty=function(){};e&&(g.readyState="loading");if(!f){var d=[],p=function(a){a=a||k.event;f||"readystatechange"==a.type&&!c[g.readyState]||(e&&(g.readyState="complete"),f=1,l())},r=function(a,c){a.addEventListener(c,p,!1);b.push(function(){a.removeEventListener(c,p,!1)})};if(!n("dom-addeventlistener")){var r=
function(a,c){c="on"+c;a.attachEvent(c,p);b.push(function(){a.detachEvent(c,p)})},s=g.createElement("div");try{s.doScroll&&null===k.frameElement&&d.push(function(){try{return s.doScroll("left"),1}catch(a){}})}catch(t){}}r(g,"DOMContentLoaded");r(k,"load");"onreadystatechange"in g?r(g,"readystatechange"):e||d.push(function(){return c[g.readyState]});if(d.length){var q=function(){if(!f){for(var a=d.length;a--;)if(d[a]()){p("poller");return}setTimeout(q,30)}};q()}}return m})},"tm1web/cubeview/DimensionDropPanelDndCoordinator":function(){define(["dojo/_base/declare",
"dojo/_base/array","dojo/_base/lang","dojo/dom-class"],function(n,m,l,k){return n(null,{InitializeDimensionDropPanelDND:function(g,c){var e=this;m.forEach(g.DimButtons,function(a,b){var f="dim_"+a.dimensionName;c.AttachDndHandlers(a,!0,f,"loc_"+g.ButtonType+b+".loc_"+g.ButtonType+(b+1),null,null,f,null);a._DNDhandlerStore._highlight=l.hitch(e,e.HighlightDimButton);a._DNDhandlerStore._rmvHighlight=l.hitch(e,e.RmvHighlightDimButton)});var f=null;m.forEach(g.InsertSensors,function(a,b){f="loc_"+g.ButtonType+
b;c.AttachDndHandlers(a,!1,null,null,null,null,f,null);a._DNDhandlerStore._highlight=e.HighlightInsertSensor;a._DNDhandlerStore._rmvHighlight=e.RmvHighlightInsertSensor});if(g.EmptyCell)f="loc_"+g.ButtonType+"0",c.AttachDndHandlers(g.EmptyCell,!1,null,null,null,null,f,null),g.EmptyCell._DNDhandlerStore._highlight=e.HighlightEmptyCell,g.EmptyCell._DNDhandlerStore._rmvHighlight=e.RmvHighlightEmptyCell,c.AttachDndHandlers(g.ContainerCell,!1,null,null,null,null,f,null),g.ContainerCell._DNDhandlerStore._highlight=
l.hitch(e,e.HighlightEmptyCell,g.EmptyCell),g.ContainerCell._DNDhandlerStore._rmvHighlight=l.hitch(e,e.RmvHighlightEmptyCell,g.EmptyCell);else if(g.InsertSensors){c.AttachDndHandlers(g.ContainerCell,!1,null,null,null,null,f,null);var b=g.InsertSensors[g.InsertSensors.length-1];g.ContainerCell._DNDhandlerStore._highlight=l.hitch(e,e.HighlightInsertSensor,b);g.ContainerCell._DNDhandlerStore._rmvHighlight=l.hitch(e,e.RmvHighlightInsertSensor,b)}g._dimensionDropMenu&&g.ButtonType.equals("H")&&(f="loc_"+
g.ButtonType+"0",m.forEach(g._dimensionDropMenu.getMenuItems(),function(a,b){var f="dim_"+a.dimensionName;c.AttachDndHandlers(a.domNode,!0,f,"loc_"+g.ButtonType+b+".loc_"+g.ButtonType+(b+1),null,null,f,null)}),c.AttachDndHandlers(g.ContainerCell,!1,null,null,null,null,f,null))},HighlightInsertSensor:function(g){"tm1webDimBarInsertSensor"==g.className&&(g.className="tm1webDimBarInsertSensor_hlt")},RmvHighlightInsertSensor:function(g){"tm1webDimBarInsertSensor_hlt"==g.className&&(g.className="tm1webDimBarInsertSensor")},
HighlightDimButton:function(g){k.add(this._getHighlightNode(g),"tm1webDimButtonTextTable_hlt")},RmvHighlightDimButton:function(g){k.remove(this._getHighlightNode(g),"tm1webDimButtonTextTable_hlt")},HighlightEmptyCell:function(g){"tm1webEmptyDimPanelCell"==g.className&&(g.className="tm1webEmptyDimPanelCell_hlt")},RmvHighlightEmptyCell:function(g){"tm1webEmptyDimPanelCell_hlt"==g.className&&(g.className="tm1webEmptyDimPanelCell")},_getHighlightNode:function(g){return g.firstChild.firstChild.rows[0].cells[1].firstChild}})})},
"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(n,m,l,k){var g;"undefined"!==typeof dojo&&dojo.version&&(g=1===dojo.version.major&&7===dojo.version.minor);var c;c=function(a,b,c){k(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(c)};var e={},f=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},b={},a={};n.cache=function(a,b,g){var k;
"string"==typeof a?/\//.test(a)?(k=a,g=b):k=m.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(k=a+"",g=b);a=void 0!=g&&"string"!=typeof g?g.value:g;g=g&&g.sanitize;if("string"==typeof a)return e[k]=a,g?f(a):a;if(null===a)return delete e[k],null;k in e||c(k,!0,function(a){e[k]=a});return g?f(e[k]):e[k]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),f=c[0];return(/^\./.test(f)?b(f):f)+(c[1]?"!"+c[1]:"")},load:function(d,k,l){d=d.split("!");var m=1<d.length,t=d[0],q=k.toUrl(d[0]);d="url:"+q;
var u=b,v=function(a){l(m?f(a):a)},x=void 0!==typeof requirejs?n.global.require.cache:k.cache;t in e?u=e[t]:x&&d in x?u=x[d]:g&&x&&q in x?u=x[q]:q in e&&(u=e[q]);if(u===b)if(a[q])a[q].push(v);else{var y=a[q]=[v];c(q,!k.async,function(b){e[t]=e[q]=b;for(var c=0;c<y.length;)y[c++](b);delete a[q]})}else v(u)}}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(n,m,l,k,g,c,e,f,b){l.add("dojo-preload-i18n-Api",
1);e=n.i18n={};var a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(a,b,c,d){var f=[c+d];b=b.split("-");for(var e="",g=0;g<b.length;g++)if(e+=(e?"-":"")+b[g],!a||a[e])f.push(c+e+"/"+d),f.specificity=e;return f},p={},r=function(a,b,c){c=c?c.toLowerCase():n.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},s=n.getL10nName=function(a,c,d){return b.id+"!"+r(a,c,d)},t=function(a,b,f,e,g,k){a([b],function(l){var m=c.clone(l.root||l.ROOT),n=d(!l._v1x&&
l,g,f,e);a(n,function(){for(var a=1;a<n.length;a++)m=c.mixin(c.clone(m),arguments[a]);p[b+"/"+g]=m;m.$locale=n.specificity;k()})})},q=function(a){var b=g.extraLocale||[],b=c.isArray(b)?b:[b];b.push(a);return b},u=function(b,d,e){if(l("dojo-preload-i18n-Api")){var g=b.split("*"),m="preload"==g[1];m&&(p[b]||(p[b]=1,z(g[2],f.parse(g[3]),1,d)),e(1));(g=m)||(y&&w.push([b,d,e]),g=y);if(g)return}b=a.exec(b);var u=b[1]+"/",r=b[5]||b[4],s=u+r,g=(b=b[5]&&b[4])||n.locale||"",x=s+"/"+g;b=b?[g]:q(g);var v=b.length,
A=function(){--v||e(c.delegate(p[x]))};k.forEach(b,function(a){var b=s+"/"+a;l("dojo-preload-i18n-Api")&&B(b);p[b]?A():t(d,s,u,r,a,A)})};if(l("dojo-unit-tests"))var v=e.unitTests=[];l("dojo-preload-i18n-Api");var x=e.normalizeLocale=function(a){a=a?a.toLowerCase():n.locale;return"root"==a?"ROOT":a},y=0,w=[],z=e._preloadLocalizations=function(a,b,d,f){function e(a,b){f([a],b)}function g(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function l(){for(--y;!y&&w.length;)u.apply(null,
w.shift())}function q(d){d=x(d);g(d,function(n){if(0<=k.indexOf(b,n)){var q=a.replace(/\./g,"/")+"_"+n;y++;e(q,function(a){for(var b in a){var e=a[b],k=b.match(/(.+)\/([^\/]+)$/),q;if(k){q=k[2];k=k[1]+"/";e._localized=e._localized||{};var u;if("ROOT"===n){var r=u=e._localized;delete e._localized;r.root=e;p[m.toAbsMid(b)]=r}else u=e._localized,p[m.toAbsMid(k+q+"/"+n)]=e;n!==d&&function(a,b,e,k){var n=[],q=[];g(d,function(c){k[c]&&(n.push(m.toAbsMid(a+c+"/"+b)),q.push(m.toAbsMid(a+b+"/"+c)))});n.length?
(y++,f(n,function(){for(var f=0;f<n.length;f++)e=c.mixin(c.clone(e),arguments[f]),p[q[f]]=e;p[m.toAbsMid(a+b+"/"+d)]=c.clone(e);l()})):p[m.toAbsMid(a+b+"/"+d)]=e}(k,q,e,u)}}l()});return!0}return!1})}f=f||m;q();k.forEach(n.config.extraLocale,q)},B=function(){},A={},C=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
B=function(a){for(var b,c=a.split("/"),d=n.global[c[0]],f=1;d&&f<c.length-1;d=d[c[f++]]);d&&((b=d[c[f]])||(b=d[c[f].replace(/-/g,"_")]),b&&(p[a]=b));return b};e.getLocalization=function(a,b,c){var d;a=r(a,b,c);u(a,m,function(a){d=a});return d};l("dojo-unit-tests")&&v.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=C("{prop:1}",B,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=C("({prop:1})",B,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=C("{'prop-x':1}",B,"nonsense",A);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=C("({'prop-x':1})",B,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=C("define({'prop-x':1})",B,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=C("define('some/module', {'prop-x':1})",B,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=C("this is total nonsense and should throw an error",B,"nonsense",A);a.is(b instanceof Error,!0)})});return c.mixin(e,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:u,cache:p,getL10nName:s})})},
"tm1web/spreading/RelativeSpreadControl":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/string ./SpreadDialogCommon ../utility/message-localizer".split(" "),function(n,m,l,k,g,c,e){return n(c,{constructor:function(){this._RefCellValueTextBox=this._CellValueTextBox=this._RefCellTextArea=this._ReferenceCellContainer=this._ActionContainer=this._ButtonContainer=this._ContentContainer=null;this._ActionValue="";this._InitializeRelativeSpreadControl()},_InitializeRelativeSpreadControl:function(){this._DoCreate()},
GetContentContainer:function(){return this._ContentContainer},SetRefCellVal:function(c){this._IsPercentage?this._RefCellValueTextBox.value=c:this._CellValueTextBox.value=c},SetRefStr:function(c){this._RefCellTextArea.value=c},_DoCreate:function(){this._ContentContainer=this.CreatePanel("","tm1webRelativeSpreadControl_container");this._ValueContainer=this.CreatePanel("","tm1webRelativeSpreadControl_valueContainer");this._ActionContainer=this.CreatePanel("","tm1webRelativeSpreadControl_actionContainer");
this._ReferenceCellContainer=this.CreatePanel("","tm1webRelativeSpreadControl_referenceCellContainer");this._CreateLayout()},_CreateLayout:function(){if(this._IsPercentage){var c=this._CreatePercentageValueContent(this._ContentContainer,e.get("PERCENT_ADJUSTMENT"),"tm1webRelativeSpreadControl_percentageValueLabel","","tm1webRelativeSpreadControl_percentageValue",e.get("REFERENCE_CELL_VALUE"),"tm1webRelativeSpreadControl_percentageCellValueLabel","","tm1webRelativeSpreadControl_percentageCellValue");
this._RefCellValueTextBox=c.refCellTextbox;this._CellValueTextBox=c.valueTextbox}else this._CellValueTextBox=this._CreateValueContent(this._ContentContainer,e.get("SPREAD_LABEL_RELATIVE_VALUE"),"tm1webRelativeSpreadControl_valueLabel",this._CellValue,"tm1webRelativeSpreadControl_value");this._CreateActionContent(this._ActionContainer);k.place(this._ReferenceCellContainer,this._ContentContainer);k.place(this._ActionContainer,this._ContentContainer);this._CreateReferenceCellContent()},_CreateReferenceCellContent:function(){this._RefCellTextArea=
k.create("TEXTAREA");this._RefCellTextArea.value="";l.add(this._RefCellTextArea,"tm1webRelativeSpreadControlTextarea");this._RefCellTextArea.setAttribute("readonly","true");k.place(this._RefCellTextArea,this._ReferenceCellContainer)},_OnRadioButtonClick:function(c,b){c&&(this._ActionValue=b)},GetControlString:function(){var c="",c=this._IsPercentage?"R%":"RP",c=c+this._ActionValue,b=this._CellValueTextBox.value;return null==b||""==g.trim(b)?null:c+=m.trim(b)}})})},"tm1web/cubeview/HiddenDimensionDropPanel":function(){define(["dojo/_base/declare",
"dojo/dom-class","../utility/message-localizer","./DimensionDropPanel","./HiddenDimensionDropMenu"],function(n,m,l,k,g){return n(k,{SetDropPanelProperties:function(){this.Caption=l.get("HIDDEN_DIMENSION_DROP_PANEL_STR");this.ButtonType="H"},Create:function(c){var e=this.inherited(arguments);this.SetContainerProperty(e,"tm1webHiddenHeaderDropArea",l.get("HIDDEN_DIMENSION_DROP_PANEL_TOOLTIP_STR"),"HiddenContainerTable");e.id="HiddenContainer";m.add(this.DimTable,"tm1webHiddenHeaderDropArea");return e},
_CreateEmptyPanel:function(){},doTableFitting:function(){this._dimensionDropMenu.setHiddenDimensionCount(this._dimensionDropMenu.getMenuItems().length);this.Unhide(this.DimTable.rows[1].cells[0])},CreateDimensionButtons:function(c){this._CreateDimensionDropMenu(c.dimensionButtons.hiddenDimButtons)},_CreateDimensionDropMenu:function(c){var e=new g(this);c=e.Create(c);m.add(c,"DimDropMenuCell");this.ButtonRow.appendChild(c);this._dimensionDropMenu=e},CreateDisplayTextLabel:function(c,e){var f="";null!=
e.selectedElementName&&""!=e.selectedElementName&&(f=e.selectedElementName+this.NBSP);this.CreateDisplayTextLabelEx(c,f,e.dimensionCaption).name=e.dimensionCaption},GetNumberOfDimButtons:function(c){c=c.dimensionButtons.hiddenDimButtons;return null==c?0:c.length}})})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(n,m,l){var k={};n.setObject("data.util.simpleFetch",k,m);k.errorHandler=function(g,c){c.onError&&c.onError.call(c.scope||m.global,
g,c)};k.fetchHandler=function(g,c){var e=c.abort||null,f=!1,b=c.start?c.start:0,a=c.count&&Infinity!==c.count?b+c.count:g.length;c.abort=function(){f=!0;e&&e.call(c)};var d=c.scope||m.global;c.store||(c.store=this);c.onBegin&&c.onBegin.call(d,g.length,c);c.sort&&g.sort(l.createSortFunction(c.sort,this));if(c.onItem)for(var k=b;k<g.length&&k<a;++k){var n=g[k];f||c.onItem.call(d,n,c)}c.onComplete&&!f&&(k=null,c.onItem||(k=g.slice(b,a)),c.onComplete.call(d,k,c))};k.fetch=function(g){g=g||{};g.store||
(g.store=this);this._fetchItems(g,n.hitch(this,"fetchHandler"),n.hitch(this,"errorHandler"));return g};return k})},"dojox/json/query":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojox","dojo/_base/array"],function(){return function m(l,k,g){function c(){return arguments}var e=m.toString(),e=e.substring(e.indexOf("(")+1,e.indexOf(")")),e=e.split(/\s*,\s*/),f=e[0],b=e[2],e=e=null;k.getObject("json",!0,g);g.json._slice=function(a,b,c,f){var e=a.length,g=[];c=c||e;b=0>b?Math.max(0,b+e):
Math.min(e,b);for(c=0>c?Math.max(0,c+e):Math.min(e,c);b<c;b+=f)g.push(a[b]);return g};g.json._find=function(a,b){function c(a){b&&(!0!==b||a instanceof Array?a[b]&&f.push(a[b]):f.push(a));for(var e in a){var g=a[e];b?g&&"object"==typeof g&&c(g):f.push(g)}}var f=[];if(b instanceof Array){if(1==b.length)return a[b[0]];for(var e=0;e<b.length;e++)f.push(a[b[e]])}else c(a);return f};g.json._distinctFilter=function(a,b){for(var c=[],f={},e=0,g=a.length;e<g;++e){var k=a[e];b(k,e,a)&&("object"==typeof k&&
k?k.__included||(k.__included=!0,c.push(k)):f[k+typeof k]||(f[k+typeof k]=!0,c.push(k)))}e=0;for(g=c.length;e<g;++e)c[e]&&delete c[e].__included;return c};return g.json.query=function(a,d){function e(a){q=a+"("+q}function k(a,b,c,d,f,e,g,l){return t[l].match(/[\*\?]/)||"~"==g?"/^"+t[l].substring(1,t[l].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+("~"==g?"$/i":"$/")+".test("+b+")":a}var m=0,t=[];a=a.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,
function(a){m+="["==a?1:"]"==a?-1:0;return"]"==a&&0<m?"`]":'"'==a.charAt(0)||"'"==a.charAt(0)?"`"+(t.push(a)-1):a});var q="";a.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw Error("Unsafe function call");});a=a.replace(/([^<>=]=)([^=])/g,"$1\x3d$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(a){return"."==a.charAt(0)?a:"@"==a?"$obj":(a.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+a}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(a,c,d){return(c=
a.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/))?(d="",a.match(/^\./)&&(e(b+".json._find"),d=",true)"),e(c[1].match(/\=/)?f+".map":c[1].match(/\^/)?b+".json._distinctFilter":f+".filter"),d+",function($obj){return "+c[2]+"})"):(c=a.match(/^\[\s*([\/\\].*)\]/))?".concat().sort(function(a,b){"+c[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(a,b,c){return"var av\x3d "+c.replace(/\$obj/,"a")+",bv\x3d "+c.replace(/\$obj/,"b")+";if(av\x3ebv||bv\x3d\x3dnull){return "+("/"==b?1:-1)+";}\nif(bv\x3eav||av\x3d\x3dnull){return "+
("/"==b?-1:1)+";}\n"})+"return 0;})":(c=a.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/))?(e(b+".json._slice"),","+(c[1]||0)+","+(c[2]||0)+","+(c[3]||1)+")"):a.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)?(e(b+".json._find"),("."==a.charAt(1)?",'"+d+"'":a.match(/,/)?","+a:"")+")"):a}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,k).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(a,b,c,d,f,e,g,l){return k(a,d,f,e,g,l,c,b)});a=
q+("$"==a.charAt(0)?"":"$")+a.replace(/`([0-9]+|\])/g,function(a,b){return"]"==b?"]":t[b]});for(var u=eval("1\x26\x26function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj\x3d$;return "+a+"}"),v=0;v<arguments.length-1;v++)arguments[v]=arguments[v+1];c(l,g);return d?u.apply(this,arguments):u}}}())},"tm1web/subseteditor/SubsetStore":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojox/collections/ArrayList dojox/collections/Set ../share/service-loader!SubsetService ./ElementType".split(" "),
function(n,m,l,k,g,c,e,f,b){return n(null,{sessionId:null,subsetId:null,_metaData:null,_elements:null,_selected:null,constructor:function(a){this.sessionId=a.sessionId;this.subsetId=a.subsetId;a._subsetInfo?(this._update(a._subsetInfo),this._selected=this._getSelected()):this._loadDeferred=new k},getFeatures:function(){return{"dojo.data.api.Identity":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Read":!0,"dojo.data.api.Write":!0}},getValue:function(a,b,c){return a[b]||("undefined"!==typeof c?
c:a[b])},getValues:function(a,b){var c=this.getValue(a,b);return m.isArray(c)?c:c?[c]:[]},getAttributes:function(a){var b=[];for(key in a)a.hasOwnProperty(key)&&b.push(key);return b},hasAttribute:function(a,b){return null!=a[b]},containsValue:function(a,b,c){throw Error("Unimplemented API: dojo.data.api.Read.containsValue");},isSelected:function(a){return a.selected},isItem:function(a){return a.subsetId===this.subsetId&&a.sessionId===this.sessionId},isItemLoaded:function(a){return a.children||a.type!==
b.Consolidated},loadItem:function(a){var b=a.item,c=a.onItem;a=a.onError;f.expandElement(this.sessionId,this.subsetId,this.getIdentity(b),{callback:function(a){this._update(a);b.children=[];c(b);this._onChange()},scope:this,errorHandler:a})},fetch:function(a){var b=a.onComplete;a=a.onError;this._elements?this._onChange(b):f.loadSubset(this.sessionId,this.subsetId,{callback:function(a){this._update(a);a=this._loadDeferred;delete this._loadDeferred;a.resolve();this._onChange(b)},scope:this,errorHandler:a})},
close:function(a){},getLabel:function(a){return a.alias},getLabelAttributes:function(a){return["alias"]},getMetaData:function(a){var b=a.onComplete;this._loadDeferred?this._loadDeferred.then(m.hitch(this,function(){b(this._metaData)})):b(this._metaData)},getIdentity:function(a){return a.id},getIdentityAttributes:function(a){return["id"]},fetchItemByIdentity:function(a){a.onItem.call(a.scope,this._find(a.identity))},_find:function(a){if(!this._elements)return null;var b=this,c=null;l.some(this._elements,
function s(f){if(b.getIdentity(f)===a)return c=f,!0;if(f.children)return l.some(f.children,s)});return c},_getSource:function(a){if(!a||0>=a.length)throw"No items specified";for(var b=a[0].subsetId,c=1;c<a.length;c++)if(b!==a[c].subsetId)throw"Specified items do no share the same source";return b},newItems:function(a,b){var c=this._getInsertIndex(this.getIdentity(b.parent),b.insertIndex);f.copyElements(this.sessionId,this._getSource(a),this.subsetId,this.getIdentities(a),c,{callback:function(a){this._update(a);
this._onChange()},scope:this})},pasteItems:function(a,b){var c=a.items;if(a.copy)this.newItems(c,b);else{var e=this._getInsertIndex(this.getIdentity(b.parent),b.insertIndex);f.moveElements(this.sessionId,this._getSource(c),this.subsetId,this.getIdentities(c),e,{callback:function(a){this._update(a);this._onChange()},scope:this})}},_getInsertIndex:function(a,b){function c(a){var b=a.children;return b&&0<b.length?c(b[0]):a}var f=this;return function(a,b){var d=a.children;if(f._metaData.expandAbove)return 0==
d.length?0:b>=d.length?d[b-1].id+1:c(d[b]).id;if(0===b||0>=d.length)return a.id+1;for(var e=d[b-1],d=e.children;d&&0<d.length;)e=d[d.length-1],d=e.children;return e.id+1}(0>a?{id:-1,children:this._elements||[]}:this._find(a),b)},deleteItems:function(a){},setValue:function(a,b,c){},unloadItem:function(a){var b=a.onItem,c=a.onError;f.collapseElement(this.sessionId,this.subsetId,this.getIdentity(a.item),{callback:function(a){this._update(a);b();this._onChange()},scope:this,errorHandler:c})},deleteItem:function(a){var b=
a.item,c=a.onItem;a=a.onError;f.collapseElement(this.sessionId,b.subsetId,this.getIdentity(b),{callback:function(a){this._update(a);c();this._onChange()},scope:this,errorHandler:a})},setValues:function(a,b,c){l.forEach(c,m.hitch(this,function(c){this.setValue(a,b,c)}))},unsetAttribute:function(a,b){"children"===b&&this.setValue(a,b,null)},save:function(a){a.onComplete()},revert:function(){},isDirty:function(a){return!1},onSet:function(a,b,c,f){},onNew:function(a,b){},onDelete:function(a){},onFetch:function(a){},
onMetaDataChange:function(a){},_onFind:function(a){this.onFind(a.id,a.startIndex,a.endIndex,a.looped)},onFind:function(a,b,c,f){},_onChange:function(a){this._selected=this._getSelected();this.onMetaDataChange(this._metaData);if(a)a(this._elements);else this.onFetch(this._elements);this._onFind(this._metaData.findInfo)},_update:function(a){this._elements=a.elements;this._metaData=a.metaData;this._addSessionInfo(this._elements)},_addSessionInfo:function(a){function b(a){l.forEach(a||[],function(a){a.sessionId=
c.sessionId;a.subsetId=c.subsetId;b(a.children)})}var c=this;b(a)},setCurrentPage:function(a){var b=a.onComplete,c=this;f.setCurrentPage(this.sessionId,this.subsetId,a.page,{callback:function(a){c._update(a);b();c._onChange()},scope:this,errorHandler:a.onError})},setSelected:function(a,b){var l=this._selected;this._selected=a;var n=e.difference(l,a);this._setSelected(n,!1);b?(l=e.intersection(l,a),a=e.difference(a,l),this._setSelected(a,!0),a=e.union(a,n).toArray()):this._setSelected(new c(a),!0);
var s=this.getIdentities(a),t=new k,n=this.setSelectedPromise;this.setSelectedPromise=t.promise;g(n,m.hitch(this,function(){f.setSelectedElements(this.sessionId,this.subsetId,s,!!b,{callback:function(){this._metaData.modified||(this._metaData.modified=!0,this.onMetaDataChange(this._metaData));t.resolve()},scope:this})}))},getSelected:function(){return this._selected},_setSelected:function(a,b){a.forEach(function(a){a.selected=b})},_getSelected:function(){function a(c){l.forEach(c,function(c){c.selected&&
b.push(c);c.children&&a(c.children)},this)}var b=[];a(this._elements);return b},getIdentities:function(a){return l.map(a,m.hitch(this,function(a){return this.getIdentity(a)}))},hasSelectedItems:function(){return 0<this._getSelected().length},getAttributeNames:function(a){f.getAttributeNames(this.sessionId,this.subsetId,{callback:a.onComplete,scope:this,errorHandler:a.onError})},getAttributeValues:function(a){f.getAttributeValues(this.sessionId,this.subsetId,a.attribute,{callback:a.onComplete,scope:this,
errorHandler:a.onError})},reloadSubset:function(){f.reloadSubset(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},subsetAll:function(){f.subsetAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},cut:function(){f.cut(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},
copy:function(){f.copy(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},paste:function(a){f.paste(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},pasteAbove:function(a){f.pasteAbove(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},pasteBelow:function(a){f.pasteBelow(this.sessionId,
this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},filterByLevel:function(a){var b=a.onComplete;f.filterByLevel(this.sessionId,this.subsetId,a.levels,{callback:function(a){this._update(a);b();this._onChange()},scope:this,errorHandler:a.onError})},filterByAttribute:function(a){var b=a.onComplete;f.filterByAttribute(this.sessionId,this.subsetId,a.attributeName,a.attributeValue,{callback:function(a){this._update(a);b();this._onChange()},
scope:this,errorHandler:a.onError})},filterByExpression:function(a){var b=a.onComplete;f.filterByExpression(this.sessionId,this.subsetId,a.expression,{callback:function(a){this._update(a);b();this._onChange()},scope:this,errorHandler:a.onError})},keepSelectedElements:function(){f.keepSelectedElements(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},deleteSelectedElements:function(){f.deleteSelectedElements(this.sessionId,
this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this,errorHandler:function(a,b){}})},find:function(a){f.find(this.sessionId,this.subsetId,a.pattern,a.startIndex,a.direction,{callback:function(a){a.subsetInfo&&(this._update(a.subsetInfo),this._onChange());this._onFind(a)},scope:this})},sort:function(a){f.sort(this.sessionId,this.subsetId,a,{callback:function(a){this._update(a);this._onChange()},scope:this})},expandSelectedConsolidations:function(a){f.expandSelectedConsolidations(this.sessionId,
this.subsetId,!!a,{callback:function(a){this._update(a);this._onChange()},scope:this})},expandAll:function(){f.expandAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},collapseSelectedConsolidations:function(){f.collapseSelectedConsolidations(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},collapseAll:function(){f.collapseAll(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},
scope:this})},insertParentsOfSelectedElements:function(){f.insertParentsOfSelectedElements(this.sessionId,this.subsetId,{callback:function(a){this._update(a);this._onChange()},scope:this})},createConsolidationFromSubset:function(a){var b=a.onComplete;f.createConsolidationFromSubset(this.sessionId,this.subsetId,a.namedSubsetId,{callback:function(a){this._update(a);b&&b();this._onChange()},scope:this,errorHandler:a.onError})},createConsolidationFromSelectedElements:function(a){var b=a.onComplete;f.createConsolidationFromSelectedElements(this.sessionId,
this.subsetId,{callback:function(a){this._update(a);b&&b();this._onChange()},scope:this,errorHandler:a.onError})},getElementIndex:function(a){return parseInt(this.getIdentity(a))+1}})})},"tm1web/utility/number":function(){define("dojo/i18n!dojo/cldr/nls/number dojo/number dojo/sniff dojo/string ./string ./percent ../share/NumberType".split(" "),function(n,m,l,k,g,c,e){function f(a){return a!==a||"number"!==typeof a}function b(a,b,k){var l={type:e.DECIMAL,negative:!1,rawValue:null,num:NaN};if(0==a.length)return l;
b?l.type=b:-1!=a.indexOf(n.percentSign)&&(l.type=e.PERCENT);if(l.type!=e.DECIMAL&&l.type!=e.PERCENT)return l;"("==a.charAt(0)&&")"==a.charAt(a.length-1)&&(l.negative=!l.negative,a=a.substring(1,a.length-1));c.formatUsesPrefixedPercent()&&(a=c.removePlusSignBeforePercent(a));var p=b="";if(l.type==e.PERCENT){var s=c.getRange(a);if(null==s)return l;b=a.substring(0,s.start);p=a.substring(s.end);a=a.substring(s.start,s.end)}s=a.split(/[eE]/);if(2<s.length)return l;a=s[0];if(a.charAt(0)==n.plusSign||a.charAt(0)==
n.minusSign)if(a.charAt(0)==n.minusSign&&(l.negative=!l.negative),a=a.substring(1),a.charAt(0)==n.minusSign||a.charAt(0)==n.plusSign)return l;if(a.charAt(a.length-1)==n.decimal&&(a=a.substring(0,a.length-1),-1!=a.indexOf(n.decimal)))return l;if(1!=s.length&&(!k||0!=s[1].length&&s[1]!=n.minusSign&&s[1]!=n.plusSign)){s=s[1];if(-1!=s.indexOf(n.decimal)||s.charAt(0)==n.plusSign&&(s=s.substring(1),s.charAt(0)==n.minusSign||s.charAt(0)==n.plusSign)||0==s.length)return l;a=m.parse(a);if(f(a))return l;s=
m.parse(s);if(f(s))return l;a=d(a+"e"+s)}k&&(0==a.length&&(a="0"),-1!=a.indexOf(n.group)?a=a.replace(r,""):t&&(a=a.replace(/\s/g,"")));l.rawValue=a;a=l.type==e.DECIMAL?a:g.addPreSuffix(a,b,p);l.num=m.parse(a,{type:l.type});return l}function a(a,b){var c=a.toString().split(/[eE]/),d=c[0].indexOf("."),d=-1==d?0:c[0].length-d-1;1<c.length&&(d-=Number(c[1]));b==e.PERCENT&&(d-=2);l("trident")&&20<d&&(d=20);return 0>d?0:d}function d(a,b){var c=a.toString().split(/[eE]/);a=c[0];b=(b?b:0)+(1<c.length?Number(c[1]):
0);(c="-"==a.charAt(0))&&(a=a.substring(1));var d=a.indexOf(".");a=a.replace(".","");0==d?(a="0"+a,d=1):-1==d&&(d=a.length);d+=b;if(0<=b&&d>a.length){for(var d=k.pad(a,d,"0",!0),f=0,e=0;e<d.length;e++){var g=d.charAt(e);if("0"!=g){f=e;"."==g&&f--;break}else e==d.length-1&&(f=e)}a=0<f?d.substring(f):d}else 0>=d&&(a=k.pad(a,a.length-d+1),d=1),d!=a.length&&(a=a.substring(0,d)+n.decimal+a.substring(d,a.length));return(c?n.minusSign:"")+a}function p(a,b){return b==e.DECIMAL?d(a):c.addFormat(d(a,2))}var r=
new RegExp(g.regexEscape(n.group),"g"),s=String.fromCharCode(160),t=-1!=n.group.indexOf(s);return{group:n.group,decimal:n.decimal,isNaN:f,parse:function(a){a=b(a);if(f(a.num))return NaN;a.negative&&(a.num=-a.num);if(Infinity==Math.abs(a.num)||1E-100>Math.abs(a.num))return a.num;var c=a.type==e.PERCENT?2:0,d=a.rawValue.indexOf(n.decimal);-1!=d&&(c+=a.rawValue.length-d-1);return(l("chrome")||l("ie")||l("trident"))&&20<c?a.num:Number(a.num.toFixed(c))},canParse:function(a,c,d){a=b(a,c,d);return!f(a.num)},
format:function(b,d,g){if("string"===typeof b&&f(Number(b))||Infinity===Math.abs(b))throw Error("Value specified should be in the invariant number format.");g=g?g:e.DECIMAL;if(g!=e.DECIMAL&&g!=e.PERCENT)throw Error("Format type should be decimal or percent.");var k=Math.abs(b);if(0!=k&&(1E-6>k||1E16<=k))return p(b,g);k=m.format(b,{type:g,places:a(b,g)});return 1<k.split(/[eE]/).length?p(b,g):d?g==e.PERCENT?c.addFormat(c.removeFormat(k).replace(r,"")):k.replace(r,""):k},convert:function(a,b,c){a=this.parse(a);
return f(a)?null:this.format(a,c,b)}}})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){m=m("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);n.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,
c.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",
!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(n.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?
a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};n.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&n.forEach(this._stateClasses,function(a){delete d[a]});n.forEach(b,function(a){d[a]=!0});var f=[],e;for(e in d)f.push(e);c.className=f.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function d(c){k.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":k.toggle(a,
b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":k.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);break;case "focus":case "focusin":k.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":k.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});f(function(){function c(a,
b,d){if(!d||!l.isDescendant(d,b))for(;b&&b!=d;b=b.parentNode)if(b._cssState){var f=p.getEnclosingWidget(b);f&&(b==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(b,b._cssState,a))}}var f=a.body(),g;e(f,b.over,function(a){c(a,a.target,a.relatedTarget)});e(f,b.out,function(a){c(a,a.target,a.relatedTarget)});e(f,d.press,function(a){g=a.target;c(a,g)});e(f,d.release,function(a){c(a,g);g=null});e(f,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=
p.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return m})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){l.isAsync||f(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var r=m("dojo.dnd.Source",d,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,
autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,c){k.mixin(this,k.mixin({},c));var d=this.accept;if(d.length){this.accept={};for(var f=0;f<d.length;++f)this.accept[d[f]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&g.add(this.node,"dojoDndSource");this.targetState="";this.accept&&g.add(this.node,"dojoDndTarget");this.horizontal&&g.add(this.node,"dojoDndHorizontal");this.topics=
[b.subscribe("/dnd/source/over",k.hitch(this,"onDndSourceOver")),b.subscribe("/dnd/start",k.hitch(this,"onDndStart")),b.subscribe("/dnd/drop",k.hitch(this,"onDndDrop")),b.subscribe("/dnd/cancel",k.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,f=!1,e=0;e<d.length;++e)if(d[e]in this.accept){f=!0;break}if(!f)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&
(b=this==p.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){r.superclass.destroy.call(this);n.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(b){if(!this.isDragging||"Disabled"!=this.targetState){r.superclass.onMouseMove.call(this,b);var d=p.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)){var f=
this.getSelectedNodes();f.length&&d.startDrag(this,f,this.copyState(a.getCopyKeyState(b),!0))}this.isDragging&&(f=!1,this.current&&(this.targetBox&&this.targetAnchor==this.current||(this.targetBox=c.position(this.current,!0)),f=this.horizontal?b.pageX-this.targetBox.x<this.targetBox.w/2==c.isBodyLtr(this.current.ownerDocument):b.pageY-this.targetBox.y<this.targetBox.h/2),this.current!=this.targetAnchor||f!=this.before)&&(this._markTargetAnchor(f),d.canDrop(!this.current||d.source!=this||!(this.current.id in
this.selection)))}},onMouseDown:function(b){this.mouseDown||!this._legalMouseDown(b)||this.skipForm&&a.isFormElement(b)||(this.mouseDown=!0,this._lastX=b.pageX,this._lastY=b.pageY,r.superclass.onMouseDown.call(this,b))},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,r.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=p.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||
a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&p.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=
!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(b,c,d){var f=this._normalizedCreator;this._normalizedCreator=this.creator?function(a,c){return f.call(this,b.getItem(a.id).data,c)}:d?function(c){var d=b.getItem(c.id);c=c.cloneNode(!0);c.id=a.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(a){var c=b.getItem(a.id);b.delItem(a.id);
return{node:a,data:c.data,type:c.type}};this.selectNone();d||this.creator||b.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&b.deleteSelectedNodes();this._normalizedCreator=f},onDropInternal:function(b,c){var d=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,b){return d.call(this,this.getItem(a.id).data,b)}:function(b){var c=this.getItem(b.id);b=b.cloneNode(!0);b.id=a.getUniqueId();return{node:b,
data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,b,this.before,this.current);this._normalizedCreator=d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){r.superclass.onOverEvent.call(this);p.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){r.superclass.onOutEvent.call(this);
p.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(this.current!=this.targetAnchor||this.before!=a)this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!e.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(g.contains(a,"dojoDndHandle"))return!0;if(g.contains(a,"dojoDndItem")||g.contains(a,"dojoDndIgnore"))break}return!1}});return r})},"dojo/errors/RequestTimeoutError":function(){define(["./create",
"./RequestError"],function(n,m){return n("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"tm1web/share/TM1Widget":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/topic ./Base ./TM1Utility ./service-loader!SubsetService".split(" "),function(n,m,l,k,g,c,e){return n(g,{_widgetState:null,constructor:function(c,b){this.parent=c;this.identity=b;this.sandboxController=null;this.own(k.subscribe("tm1web/share/TM1Widget:redoUndoStateChange",m.hitch(this,"_onRedoUndoStateChange")))},
create:function(){this.onCreateDeferred=new l;this.onCreateDeferred.then(m.hitch(this,function(){delete this.onCreateDeferred}));return this.onCreateDeferred},recalculate:function(){},copy:function(){k.publish(this.identity.objectId+"-Copy")},paste:function(){k.publish(this.identity.objectId+"-Paste")},redo:function(){return this.sandboxController.redo()},undo:function(){return this.sandboxController.undo()},getSandboxes:function(){return this.sandboxController.getSandboxes()},setActiveSandbox:function(c){return this.sandboxController.setActiveSandbox(c)},
deleteSandboxes:function(){return this.sandboxController.deleteSandboxes()},createSandbox:function(){return this.sandboxController.createSandbox()},commitSandbox:function(){return this.sandboxController.commitSandbox()},getRedoUndoStatus:function(){return this.sandboxController.getRedoUndoStatus()},resetData:function(){var c=new l;c.then(m.hitch(this,"onResetData"));this.getService().resetData(this.identity.objectId,{callback:c.resolve,scope:this});return c},onResetData:function(){this.recalculate()},
saveData:function(){var c=new l;c.then(m.hitch(this,"recalculate"));this.getService().saveData(this.identity.objectId,{callback:c.resolve,scope:this});return c},reviewDataChanges:function(){var c=new l;c.then(function(){alert("This function has not been implemented yet.")});setTimeout(c.resolve,10);return c},getState:function(){var c=new l;this.getService().getState(this.identity.objectId,{callback:function(b){this._widgetState=b;c.resolve(b)},scope:this});return c.promise},subscribeToStateChangeUpdates:function(c){return this.own(k.subscribe(this.identity.objectId+
"-TM1WidgetStateUpdate",c))[0]},unsubscribeFromStateChangeUpdates:function(c){c.remove()},publishUpdate:function(){var c=m.hitch(this,function(a){k.publish(this.identity.objectId+"-TM1WidgetStateUpdate",a);this._publishRedoUndoStateChange(a)}),b=this.getState();b.then(c);return b},_publishRedoUndoStateChange:function(c){k.publish("tm1web/share/TM1Widget:redoUndoStateChange",{sessionToken:this.identity.sessionToken,objectId:this.identity.objectId,sandbox:c.sandboxes.currentSandbox},c.redoUndoStatus)},
_onRedoUndoStateChange:function(c,b){var a=this._widgetState;a&&c.sessionToken===this.identity.sessionToken&&c.objectId!==this.identity.objectId&&c.sandbox===a.sandboxes.currentSandbox&&(a.redoUndoStatus=b)},subscribeToTM1WidgetCreationNotifications:function(c){return this.own(k.subscribe(this.identity.objectId+"-TM1WidgetIdentityCreated",c))[0]},unsubscribeFromTM1WidgetCreationNotifications:function(c){c.remove()},subscribeToRelationalDrillThroughNotifications:function(c){return this.own(k.subscribe(this.identity.objectId+
"-RelationalDrillThrough",c))[0]},unsubscribeFromRelationalDrillThroughNotifications:function(c){c.remove()},filterElement:function(c){this.identity.objectId&&e.filterElement(this.identity.objectId,c,{callback:this.recalculate,scope:this})},getDimensionNames:function(){if(this.identity.objectId){var c=new l;this.getService().getDimensionNames(this.identity.objectId,{callback:c.resolve,scope:this});return c}},getElementNames:function(c){if(this.identity.objectId){var b=new l;e.getElements(this.identity.objectId,
c,{callback:b.resolve,scope:this});return b}},getTitleDimensionInfo:function(c){if(this.identity.objectId){var b=new l;c=!0===c?!0:!1;this.getService().getTitleDimensionInfo(this.identity.objectId,c,{scope:this,callback:function(a){b.resolve(a)},errorHandler:function(a){b.reject(a)}});return b.promise}},displayExportOptions:function(c){},getService:function(){},destroy:function(){this.identity.objectId&&this.getService().dispose(this.identity.objectId);this.inherited(arguments)},hasUnsavedDataChanges:function(){},
subscribeToDataChangeNofications:function(c){return this.own(k.subscribe(this.identity.objectId+"-UnsavedDataStateChanged",c))[0]},unsubscribe:function(c){c.remove()},getSelection:function(){},setSelection:function(c){},_validateSelectionInfo:function(c){if(c){var b=/^\d+$/;if(!(c.startCell&&c.endCell&&"y"in c.startCell&&"x"in c.startCell&&"y"in c.endCell&&"x"in c.endCell&&b.test(c.startCell.y)&&b.test(c.startCell.x)&&b.test(c.endCell.y)&&b.test(c.endCell.x)))return!1;c.startCell.y=Number(c.startCell.y);
c.startCell.x=Number(c.startCell.x);c.endCell.y=Number(c.endCell.y);c.endCell.x=Number(c.endCell.x)}return!0}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(n,m,l,k,g,c,e,f,b){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var d=function(a){return 1==a.length&&"string"==typeof a[0]},p=function(a){var b=
a.parentNode;b&&b.removeChild(a)},r=m.NodeList,s=r._adaptWithCondition,t=r._adaptAsForEach,q=r._adaptAsMap;k.extend(r,{_normalize:function(a,b){var d=!0===a.parse;if("string"==typeof a.template){var f=a.templateFunc||n.string&&n.string.substitute;a=f?f(a.template,a):a}f=typeof a;"string"==f||"number"==f?(a=c.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?k._toArray(a.childNodes):[a]):k.isArrayLike(a)?k.isArray(a)||(a=k._toArray(a)):a=[a];d&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},
_place:function(a,b,d,f){if(1==b.nodeType||"only"!=d)for(var e,g=a.length,k=g-1;0<=k;k--){var l=f?this._cloneNode(a[k]):a[k];if(a._runParse&&n.parser&&n.parser.parse)for(e||(e=b.ownerDocument.createElement("div")),e.appendChild(l),n.parser.parse(e),l=e.firstChild;e.firstChild;)e.removeChild(e.firstChild);k==g-1?c.place(l,b,d):b.parentNode.insertBefore(l,b);b=l}},position:q(e.position),attr:s(a(f),d),style:s(a(b),d),addClass:t(g.add),removeClass:t(g.remove),toggleClass:t(g.toggle),replaceClass:t(g.replace),
empty:t(c.empty),removeAttr:t(f.remove),marginBox:q(e.getMarginBox),place:function(a,b){var d=m(a)[0];return this.forEach(function(a){c.place(a,d,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(p)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new r;this.map(function(c){m(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=
m._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(l.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var d=0,f;f=this[d];d++)a.length?this._place(a,f,b,0<d):c.empty(f);return this}});return r})},"tm1web/cubeview/metrics/RaveChartContent":function(){define(["dojo/_base/declare"],function(n){return n(null,{constructor:function(m){this._visWidget=m;null==this._interactivityHelper},_setVizJsonSpec:function(m){},_removeInteractivityHelper:function(){null!=
this._interactivityHelper&&this._interactivityHelper.disconnnectEvent()}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(n,m,l,k,g,c,e,f,b,
a,d,p,r,s,t,q,u,v,x,y,w,z,B){function A(a){return function(b){f[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}r.add("dojo-bidi",!1);var C={};n=c("dijit._WidgetBase",[v,w],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:k.blankGif||n.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},d;for(d in b.attributeMap)c.push(d);for(d in b)/^on/.test(d)&&(a[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,d.length-9),b.attributeMap&&d in b.attributeMap||c.push(d))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();
this.srcNodeRef=e.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,t.mixin(this,a));this.postMixInProperties();this.id||(this.id=B.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=y.body(this.ownerDocument);B.add(this);this.buildRendering();
var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);m.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},
buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,m.forEach(this.getChildren(),function(a){a._started||a._destroyed||!t.isFunction(a.startup)||(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=
!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,t.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(B.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);B.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);
this.domNode&&(b?f.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;t.isObject(a)?p.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,d){d=3<=
arguments.length?d:this.attributeMap[a];m.forEach(t.isArray(d)?d:[d],function(d){var e=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":t.isFunction(c)&&(c=t.hitch(this,c));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?f.set(e,d,c):e.set(d,c);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(c));break;case "innerHTML":e.innerHTML=c;break;case "class":b.replace(e,c,this[a])}},this)},get:function(a){var b=
this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(t.isFunction(d))var f=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode",e=this[d]&&this[d].tagName,g;if((g=e)&&!(g=C[e])){g=this[d];var k={},l;for(l in g)k[l.toLowerCase()]=!0;g=C[e]=k}l=g;c=a in this.attributeMap?this.attributeMap[a]:
c.s in this?this[c.s]:l&&c.l in l&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return f||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;!this._created||c===b||c!==c&&b!==b||(this._watchCallbacks&&
this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,f=this["on"+a];f&&(d=f.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&q.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?l.after(this,c,b,!0):this.own(q(this.domNode,
a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?B.findWidgets(this.containerNode):[]},getParent:function(){return B.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){return this.own(g.connect(a,
b,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,t.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:d.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=p.get(this.domNode,"display")},placeAt:function(b,c){var d=!b.tagName&&B.byId(b);!d||!d.addChild||c&&"number"!==typeof c?(d=d&&"domNode"in d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:
d.domNode:e.byId(b,this.ownerDocument),a.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup()):d.addChild(this,c);return this},defer:function(a,b){var c=setTimeout(t.hitch(this,function(){c&&(c=null,this._destroyed||t.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});r("dojo-bidi")&&n.extend(z);return n})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(n,m){n.cookie=function(l,k,g){var c=document.cookie,
e;if(1==arguments.length)e=(e=c.match(new RegExp("(?:^|; )"+m.escapeString(l)+"\x3d([^;]*)")))?decodeURIComponent(e[1]):void 0;else{g=g||{};c=g.expires;if("number"==typeof c){var f=new Date;f.setTime(f.getTime()+864E5*c);c=g.expires=f}c&&c.toUTCString&&(g.expires=c.toUTCString());k=encodeURIComponent(k);var c=l+"\x3d"+k,b;for(b in g)c+="; "+b,f=g[b],!0!==f&&(c+="\x3d"+f);document.cookie=c}return e};n.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return n.cookie})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(n,m,l,k,g){return n("dijit.form.FilteringSelect",[k,g],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||
!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(c,e,f,b){e&&e[this.searchAttr]!==this._lastQuery||!e&&c.length&&this.store.getIdentity(c[0])!=this._lastQuery||(c.length?this.set("item",c[0],b):this.set("value","",b||void 0===b&&!this.focused,this.textbox.value,null))},_openResultList:function(c,e,f){e[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},
_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(c,e,f,b){this._onChangeActive||(e=null);if(void 0===b){if(null===c||""===c)if(c="",!m.isString(f)){this._setDisplayedValueAttr(f||"",e);return}var a=this;this._lastQuery=c;l(this.store.get(c),function(b){a._callbackSetLabel(b?[b]:[],void 0,void 0,e)})}else this.valueNode.value=c,this.inherited(arguments,[c,e,f,b])},_setItemAttr:function(c,e,f){this.inherited(arguments);this._lastDisplayedValue=
this.textbox.value},_getDisplayQueryString:function(c){return c.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(c,e){null==c&&(c="");if(!this._created){if(!("displayedValue"in this.params))return;e=!1}if(this.store){this.closeDropDown();var f=m.clone(this.query),b=this._getDisplayQueryString(c),a;this.store._oldAPI?a=b:(a=this._patternToRegExp(b),a.toString=function(){return b});this._lastQuery=f[this.searchAttr]=a;this._lastDisplayedValue=this.textbox.value=c;this._set("displayedValue",
c);var d=this,g={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};m.mixin(g,this.fetchProperties);this._fetchHandle=this.store.query(f,g);l(this._fetchHandle,function(a){d._fetchHandle=null;d._callbackSetLabel(a||[],f,g,e)},function(a){d._fetchHandle=null;d._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"tm1web/share/CheckRow":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class",
"../utility/dom","dijit/form/CheckBox"],function(n,m,l,k,g){return n(null,{constructor:function(c,e){this.identifier=c;this.label=e;this.checked=!1;this.checkBox=this.row=null},createCheckItemRow:function(c,e){var f=m.create("div");l.add(f,"tm1webCheckRow");this.row=f;var b=this,a=new g({name:"ActionChoice",value:this.identifier,type:"checkbox",className:"tm1webNodeCheck"});a.setChecked(this.checked);m.place(a.domNode,f);this._createLabel(this.label,f,a.id);a.onChange=function(a){b.checked=a;e(b)};
f.onclick=function(){b.onClick(b)};return f},disableCheckBox:function(c){this.checkBox.disabled=c},highlightItem:function(c){l.toggle(this.row,"tm1webHighlight",c)},_createCheckBox:function(){var c={type:"checkbox",className:"tm1webNodeCheck",id:this.identifier.replace(" ","_")};return m.create("input",c)},_createLabel:function(c,e,f){c=m.create("label",{innerHTML:c});c.setAttribute("for",f);m.place(c,e)},onClick:function(c){}})})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","../main",
"dojo/_base/lang"],function(n,m){n.getObject("uuid",!0,m);m.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";m.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};m.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};m.uuid.assert=function(l,k){if(!l)throw k||(k="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(k);};m.uuid.generateNilUuid=function(){return m.uuid.NIL_UUID};m.uuid.isValid=
function(l){l=l.toString();var k=n.isString(l)&&36==l.length&&l==l.toLowerCase();if(k){l=l.split("-");var k=5==l.length&&8==l[0].length&&4==l[1].length&&4==l[2].length&&4==l[3].length&&12==l[4].length,g;for(g in l)var c=parseInt(l[g],16),k=k&&isFinite(c)}return k};m.uuid.getVariant=function(l){if(!m.uuid._ourVariantLookupTable){var k=m.uuid.variant,g=[];g[0]=k.NCS;g[1]=k.NCS;g[2]=k.NCS;g[3]=k.NCS;g[4]=k.NCS;g[5]=k.NCS;g[6]=k.NCS;g[7]=k.NCS;g[8]=k.DCE;g[9]=k.DCE;g[10]=k.DCE;g[11]=k.DCE;g[12]=k.MICROSOFT;
g[13]=k.MICROSOFT;g[14]=k.UNKNOWN;g[15]=k.UNKNOWN;m.uuid._ourVariantLookupTable=g}l=l.toString();l=l.charAt(19);l=parseInt(l,16);m.uuid.assert(0<=l&&16>=l);return m.uuid._ourVariantLookupTable[l]};m.uuid.getVersion=function(l){m.uuid.assert(m.uuid.getVariant(l)==m.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");l=l.toString();l=l.charAt(14);return parseInt(l,16)};m.uuid.getNode=function(l){m.uuid.assert(m.uuid.getVersion(l)==m.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");
l=l.toString();return l.split("-")[4]};m.uuid.getTimestamp=function(l,k){m.uuid.assert(m.uuid.getVersion(l)==m.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");l=l.toString();k||(k=null);switch(k){case "string":case String:return m.uuid.getTimestamp(l,Date).toUTCString();case "hex":var g=l.split("-"),c=g[0],e=g[1],g=g[2],g=g.slice(1),c=g+e+c;m.uuid.assert(15==c.length);return c;case null:case "date":case Date:return g=l.split("-"),c=parseInt(g[0],16),e=parseInt(g[1],
16),g=parseInt(g[2],16)&4095,g=(g<<16)+e,g*=4294967296,g+=c,new Date(g/1E4-122192928E5);default:m.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+k)}};return m.uuid})},"tm1web/subseteditor/SortType":function(){define({Ascending:"Ascending",Descending:"Descending",Hierarchically:"Hierarchically",IndexAscending:"IndexAscending",IndexDescending:"IndexDescending"})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(n,m,l,k,g,c,e,f,b){var a=l.mixin,d={},p=d._Line=function(a,b){this.start=a;this.end=b};p.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var r=d.Animation=function(b){a(this,b);l.isArray(this.curve)&&(this.curve=new p(this.curve[0],this.curve[1]))};r.prototype=new k;l.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,
c);else try{this[a].apply(this,c)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,d=l.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(d,c),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=
(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var s=0,t=null,q={run:function(){}};l.extend(r,{_startTimer:function(){this._timer||(this._timer=c.after(q,"run",l.hitch(this,"_cycle"),!0),s++);t||(t=setInterval(l.hitch(q,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,s--);0>=s&&(clearInterval(t),t=null,s=0)}});var u=e("ie")?function(a){var c=a.style;c.width.length||"auto"!=b.get(a,"width")||(c.width="auto")}:function(){};
d._fade=function(e){e.node=f.byId(e.node);var g=a({properties:{}},e);e=g.properties.opacity={};e.start="start"in g?g.start:function(){return+b.get(g.node,"opacity")||0};e.end=g.end;e=d.animateProperty(g);c.after(e,"beforeBegin",l.partial(u,g.node),!0);return e};d.fadeIn=function(b){return d._fade(a({end:1},b))};d.fadeOut=function(b){return d._fade(a({end:0},b))};d._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var v=function(a){this._properties=a;for(var b in a){var c=a[b];c.start instanceof
g&&(c.tempColor=new g)}};v.prototype.getValue=function(a){var b={},c;for(c in this._properties){var d=this._properties[c],e=d.start;e instanceof g?b[c]=g.blendColors(e,d.end,a,d.tempColor).toCss():l.isArray(e)||(b[c]=(d.end-e)*a+e+("opacity"!=c?d.units||"px":0))}return b};d.animateProperty=function(d){var e=d.node=f.byId(d.node);d.easing||(d.easing=n._defaultEasing);d=new r(d);c.after(d,"beforeBegin",l.hitch(d,function(){var c={},d;for(d in this.properties){var f=function(a,c){var d={height:a.offsetHeight,
width:a.offsetWidth}[c];if(void 0!==d)return d;d=b.get(a,c);return"opacity"==c?+d:m?d:parseFloat(d)};if("width"==d||"height"==d)this.node.display="block";var k=this.properties[d];l.isFunction(k)&&(k=k(e));k=c[d]=a({},l.isObject(k)?k:{end:k});l.isFunction(k.start)&&(k.start=k.start(e));l.isFunction(k.end)&&(k.end=k.end(e));var m=0<=d.toLowerCase().indexOf("color");"end"in k?"start"in k||(k.start=f(e,d)):k.end=f(e,d);m?(k.start=new g(k.start),k.end=new g(k.end)):k.start="opacity"==d?+k.start:parseFloat(k.start)}this.curve=
new v(c)}),!0);c.after(d,"onAnimate",l.hitch(b,"set",d.node),!0);return d};d.anim=function(a,b,c,e,f,g){return d.animateProperty({node:a,duration:c||r.prototype.duration,properties:b,easing:e,onEnd:f}).play(g||0)};a(n,d);n._Animation=r;return d})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin dojo/_base/declare".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){n.experimental("dojox.layout.ResizeHandle");var u=q("dojox.layout._ResizeHelper",s,{show:function(){p.set(this.domNode,"display","")},hide:function(){p.set(this.domNode,"display","none")},resize:function(a){d.setMarginBox(this.domNode,a)}});return q("dojox.layout.ResizeHandle",[s,t],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=r.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new u({id:"dojoxGlobalResizeHelper"})).placeAt(e.body()),
a.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var b=m.partial(a.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;b("dojoxResizeNW");break;case "x":this._resizeX=!0;b("dojoxResizeW");break;case "y":this._resizeY=!0,b("dojoxResizeN")}},_beginSizing:function(a){if(!this._isSizing&&
(l.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=r.byId(this.targetId))?this.targetWidget.domNode:b.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var c=d.position(this.targetDomNode,!0);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:c.x,t:c.y})}this._isSizing=!0;this.startPoint={x:a.clientX,y:a.clientY};
var c=p.getComputedStyle(this.targetDomNode),f="border-model"===d.boxModel?{w:0,h:0}:d.getPadBorderExtents(this.targetDomNode,c),k=d.getMarginExtents(this.targetDomNode,c);this.startSize={w:p.get(this.targetDomNode,"width",c),h:p.get(this.targetDomNode,"height",c),pbw:f.w,pbh:f.h,mw:k.w,mh:k.h};this.isLeftToRight()||"absolute"!=p.get(this.targetDomNode,"position")||(c=d.position(this.targetDomNode,!0),this.startPosition={l:c.x,t:c.y});this._pconnects=[l.connect(e.doc,"onmousemove",this,"_updateSizing"),
l.connect(e.doc,"onmouseup",this,"_endSizing")];g.stop(a)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(d){return!1}this._activeResizeLastEvent=a;var e=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),f=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
e:0);f=this._checkConstraints(a,this.startSize.h-(this._resizeY?f:0));(c=c||this.startPosition)&&this._resizeX&&(f.l=c.l+e,f.w!=a&&(f.l+=a-f.w),f.t=c.t);switch(b){case "margin":f.w+=this.startSize.mw,f.h+=this.startSize.mh;case "border":f.w+=this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=this.startSize.w,
d=this.startSize.h,f=c*b-d*a;0>f?a=b*c/d:0<f&&(b=a*d/c)}return{w:a,h:b}},_changeSizing:function(a){var b=this.targetWidget&&m.isFunction(this.targetWidget.resize),d=this._getNewCoords(a,b&&"margin");if(!1!==d&&(b?this.targetWidget.resize(d):this.animateSizing?f[this.animateMethod]([c.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:d.w}},duration:this.animateDuration}),c.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:d.h}},
duration:this.animateDuration})]).play():p.set(this.targetDomNode,{width:d.w+"px",height:d.h+"px"}),this.intermediateChanges))this.onResize(a)},_endSizing:function(a){k.forEach(this._pconnects,l.disconnect);var b=m.partial(l.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(a){}})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady",
"./sniff","./_base/window"],function(n,m,l,k,g){var c=g.doc.documentElement;g=k("ie");var e=k("opera"),f=Math.floor,b=k("ff"),a=n.boxModel.replace(/-/,""),e={dj_quirks:k("quirks"),dj_opera:e,dj_khtml:k("khtml"),dj_webkit:k("webkit"),dj_safari:k("safari"),dj_chrome:k("chrome"),dj_gecko:k("mozilla"),dj_ios:k("ios"),dj_android:k("android")};g&&(e.dj_ie=!0,e["dj_ie"+f(g)]=!0,e.dj_iequirks=k("quirks"));b&&(e["dj_ff"+f(b)]=!0);e["dj_"+a]=!0;var d="",p;for(p in e)e[p]&&(d+=p+" ");c.className=m.trim(c.className+
" "+d);l(function(){if(!n.isBodyLtr()){var a="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");c.className=m.trim(c.className+" "+a+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))}});return k})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(n,m,l){m=m.NodeList;var k=m.prototype;k.connect=m._adaptAsForEach(function(){return n.connect.apply(this,arguments)});k.coords=m._adaptAsMap(n.coords);m.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
l.forEach(m.events,function(g){var c="on"+g;k[c]=function(e,f){return this.connect(c,e,f)}});return n.NodeList=m})},"dijit/form/nls/validate":function(){define({root:{invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,
az:!0,ar:!0})},"tm1web/subseteditor/PagingSlider":function(){define("require dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/text!./templates/PagingSlider.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/HorizontalSlider ../utility/message-localizer ../share/_LoadingOverlayMixin ../share/Label".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){return m([c,e,f,d],{contextRequire:n,baseClass:"tm1webPagingSlider",templateString:g,model:null,_slider:null,_label:null,
_lastValue:1,postCreate:function(){this.inherited(arguments);this.connect(this.model,"onMetaDataChange","_onMetaDataChange");this.model.getMetaData(l.hitch(this,"_onMetaDataChange"))},_onMetaDataChange:function(b){var c=b.currentPageIndex+1;b=b.pageCount;this._slider.set("maximum",b);this._slider.set("discreteValues",b);c!==this._slider.get("value")&&this._slider.set("value",c);this._lastValue=c;this._label.set("content",a.get("SUBSET_PAGE_STATUS",c,b));this.layout()},layout:function(){var a=this.domNode.clientWidth;
if(!(0>=a)){this._slider.set("style",{display:""});var b=k.getMarginBox(this._label.domNode).w;this._slider.set("style",{width:a-b-1+"px"})}},onChange:function(a){if(!this.get("loading")&&this._lastValue!==a){this.set("loading",!0);var b=this,c=this.model;c.setCurrentPage(a-1,function(){b.set("loading",!1)},function(){c.getMetaData(function(a){b._onMetaDataChange(a);b.set("loading",!1)})})}},destroyRecursive:function(){this.destroy()}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),
function(n,m,l,k,g,c,e,f){return n("dijit.form._FormWidget",[g,e,c,f],{setDisabled:function(b){l.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){l.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){l.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},
postMixInProperties:function(){this.nameAttrSetting=this.name&&!m("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"tm1web/celledit/TextArea":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-geometry dojo/window dojo/on dojo/keys dijit/form/Textarea ../share/TM1Utility ../utility/dom ../on/mousewheel ./_EditMixin".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){return n("tm1web.celledit.TextArea",[f,p],{buildRendering:function(){this.inherited(arguments);
this.connect(this.domNode,d,function(a){var b=m.mixin({},a);this.defer(function(){c.emit(this.dataGrid.Panel,d,b)})})},_onKeyDown:function(a){switch(a.keyCode){case e.DOWN_ARROW:case e.UP_ARROW:case e.LEFT_ARROW:case e.RIGHT_ARROW:if(this._allowKeyNavigation){var b=m.mixin({},a);this.defer(function(){c.emit(this.dataGrid.Panel,"keydown",b)});l.stop(a)}}},onInput:function(a){switch(a.keyCode){case e.ENTER:if(a.altKey)return l.stop(a),b.insertCharacterAtCaret("\n",this.textbox),this.resize(),!1;case e.TAB:var d=
m.mixin({},a);this.defer(function(){c.emit(this.dataGrid.Panel,"keydown",d)});this.inherited(arguments);return!1}return this.inherited(arguments)},resize:function(){this._resizeHorizontal();this.inherited(arguments)},_resizeHorizontal:function(){if(!this.busyResizing&&this._activeCell){this.busyResizing=!0;var b=this.domNode,c=b.wrap;a.setStyle(b,{whiteSpace:"pre",wordWrap:"normal",width:"1px"});b.wrap="off";b.style.width=b.scrollWidth+k.getPadExtents(b).w+"px";b.style.removeProperty("white-space");
b.style.removeProperty("word-wrap");b.wrap=c;this.busyResizing=!1}},_adjustPosition:function(){var a=this._activeCell,b=this.domNode.style,c=a.offsetWidth,d=this._getMaxWidth(),f=this._getMaxHeight(),e=Math.min(d,c),g=Math.min(f,a.offsetHeight);b.minWidth=e+"px";b.maxWidth=(a.cellInfo.wrapped?e:d)+"px";b.minHeight=g+"px";b.maxHeight=f+"px";this._cellPosition=k.position(a);this.inherited(arguments);this._cellPosition=null;this.domNode.style.width=c+"px"},_calculateOffsetTop:function(){return this._cellPosition.y},
_calculateOffsetLeft:function(){return this._cellPosition.x},_calculateWidth:function(){},_getMaxWidth:function(){return this._getMaxDimension("w","x")},_getMaxHeight:function(){return this._getMaxDimension("h","y")},_getMaxDimension:function(a,b){if(!this._activeCell)return 0;var c=g.getBox(),d=k.position(this._activeCell,!1);return Math.max(c[a]-d[b],0)}})})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(n,m,l,k,g,c,e,f){function b(a,b){var c=function(c,d){if("string"==typeof d&&(d=l.byId(d),!d))return new b([]);var f="string"==typeof c?a(c,d):c?c.end&&c.on?c:[c]:[];return f.end&&f.on?f:new b(f)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<g.indexOf(a,b)})};if("function"!=typeof a){var d=a.search;a=function(a,b){return d(b||document,a)}}return c}m.add("array-extensible",function(){return 1==
c.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,d=a.slice,p=a.concat,r=g.forEach,s=function(a,b,c){b=[0].concat(d.call(b,0));c=c||n.global;return function(d){b[0]=d;return a.apply(c,b)}},t=function(a){var b=this instanceof q&&m("array-extensible");"number"==typeof a&&(a=Array(a));var d=a&&"length"in a?a:arguments;if(b||!d.sort){for(var f=b?this:[],e=f.length=d.length,g=0;g<e;g++)f[g]=d[g];if(b)return f;d=f}c._mixin(d,u);d._NodeListCtor=function(a){return q(a)};
return d},q=t,u=q.prototype=m("array-extensible")?[]:{};q._wrap=u._wrap=function(a,b,c){a=new (c||this._NodeListCtor||q)(a);return b?a._stash(b):a};q._adaptAsMap=function(a,b){return function(){return this.map(s(a,arguments,b))}};q._adaptAsForEach=function(a,b){return function(){this.forEach(s(a,arguments,b));return this}};q._adaptAsFilter=function(a,b){return function(){return this.filter(s(a,arguments,b))}};q._adaptWithCondition=function(a,b,c){return function(){var d=arguments,f=s(a,d,c);if(b.call(c||
n.global,d))return this.map(f);this.forEach(f);return this}};r(["slice","splice"],function(b){var c=a[b];u[b]=function(){return this._wrap(c.apply(this,arguments),"slice"==b?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(a){var b=g[a];u[a]=function(){return b.apply(n,[this].concat(d.call(arguments,0)))}});c.extend(t,{constructor:q,_NodeListCtor:q,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return k(c,
a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=d.call(this,0),c=g.map(arguments,function(a){return d.call(a,0)});return this._wrap(p.apply(b,c),this)},map:function(a,b){return this._wrap(g.map(this,a,b),this)},forEach:function(a,b){r(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=v._filterResult(this,b[0]);if(1==b.length)return c._stash(this);
d=1}return this._wrap(g.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var d=c.isFunction(a)?a:c.getObject(a);b=b||{};return this.forEach(function(a){new d(b,a)})},at:function(){var a=new this._NodeListCtor(0);r(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var v=b(f,t);n.query=b(f,function(a){return t(a)});v.load=function(a,c,d){e.load(a,c,function(a){d(b(a,t))})};n._filterQueryResult=v._filterResult=function(a,b,c){return new t(v.filter(a,
b,c))};n.NodeList=v.NodeList=t;return v})},"tm1web/share/Base":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/on dijit/Destroyable".split(" "),function(n,m,l,k,g,c){return n(c,{constructor:function(){this.subscribers=[];this.connections=[]},AddrOf:function(c){for(var f=[],b=1;b<arguments.length;b++)f.push(arguments[b]);var a=this;return function(){for(var b=[],g=0;g<arguments.length;g++)b.push(arguments[g]);return c.apply(a,b.concat(f))}},DestroyHandlers:function(){this._destroyHandlerHelper(this.connections);
this._destroyHandlerHelper(this.subscribers);this.subscribers=[];this.connections=[]},_destroyHandlerHelper:function(c){l.forEach(c,function(c){c.remove()})},destroy:function(){this.inherited(arguments);this.DestroyHandlers();this.connections=this.subscribers=null}})})},"tm1web/cubeview/CubeViewFilterDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-construct dijit/Dialog dijit/form/Button dijit/form/RadioButton ../utility/message-localizer ./CubeViewBase ./SortLimitType ./TitlePanel ../share/service-loader!CubeViewService dijit/registry".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n(a,{constructor:function(a,b,c,d,f){this._ObjectId=a;this._DimensionName=b;this._Index=c;this._TopBottomName=this._ItemName=this._ItemPercentTextBox=this._ItemSumTextBox=this._ItemNumberTextBox=this._Dialog=null;this._filterValue=f;this._filterType=d;this._InitNumberRadioBtnChecked=null},Initialize:function(){this._CreateDialog("tm1webCubeViewFilterDialog tm1webFormDialog")},_CreateDialog:function(a){this._Dialog=new c({title:b.get("TOP_OR_BOTTOM_STR")},
null);k.add(this._Dialog.domNode,a);this._CreateLayout();this._Dialog.startup()},_CreateLayout:function(){this._CreateFilterLabelContent();this._CreateFilterContent();this._CreateButtonContent()},_CreateButtonContent:function(){var a=this.CreatePanel();g.place(a,this._Dialog.containerNode);k.add(a,"tm1webFilterButtonContainer tm1webDialogButtons");this._CreateButton(b.get("OK_STR"),this._OnOk,a,"tm1WebBtnPrimary");this._CreateButton(b.get("CANCEL_STR"),this._OnCancel,a,"tm1webBtnSecondary");return a},
_CreateButton:function(a,b,c,d){a=new e({label:a,"class":d,onClick:m.hitch(this,b)});k.add(a.domNode,"tm1webFilterLgButton");g.place(a.domNode,c)},_CreateFilterContent:function(){this._CreateTopOrBottomContent(this._Dialog.containerNode);this._CreateNumberItemsContent(this._Dialog.containerNode)},_CreateFilterLabelContent:function(){var a=this.CreatePanel("","tm1webFilterLabelContainer");g.place(a,this._Dialog.containerNode);this.CreateLabel(a,b.get("VIEW_FILTER_LABEL_STR"),"tm1webFilterLabel tm1webDescription")},
_CreateTopOrBottomContent:function(a){a=(new p(b.get("TOP_OR_BOTTOM_STR"),null,null,"tm1webCubeViewInlineLayout tm1webCubeViewFilterTopOrBottom")).Create(a);this._CreateTopOrBottomRadioBtnList(a)},_CreateNumberItemsContent:function(a){a=(new p(b.get("NUMBER_OF_ITEMS_STR"),null,null,"tm1webCubeViewInlineLayout tm1webCubeViewFilterNumItems")).Create(a);this._CreateNumberItemList(a)},_CreateNumberItemList:function(a){var b=this.CreateTable();g.place(b,a);this._CreateNumberItem(b,"number");this._CreateNumberItem(b,
"percent");this._CreateNumberItem(b,"sum")},_CreateNumberItem:function(a,b){var c=a.insertRow(-1),d=c.insertCell(-1),f=c.insertCell(-1),c=c.insertCell(-1);k.add(f,"tm1webCubeViewNumItemsLabel");var e=this._GetButtonInitState(b);1==e&&(this._InitNumberRadioBtnChecked=b);this._CreateNumberRadioBtn(e,d,b);this._CreateNumberText(f,b);this._CreateNumberTextBox(c,b)},_CreateNumberText:function(a,b){"percent"==b?a.innerHTML="%":"sum"==b&&(a.innerHTML="\x26sum;")},_CreateNumberRadioBtn:function(a,b,c){var d=
document.createElement("div");k.add(d,"tm1webFilterItemsControlContainer");g.place(d,b);var e=new f({name:"ItemChoice",value:c});e.setChecked(a);e.onClick=function(){_this._OnNumberRadioButtonClick(e.checked,c)};g.place(e.domNode,d)},_OnNumberRadioButtonClick:function(a,b){a&&(this._ItemName=b);"percent"==b?(this._ItemNumberTextBox.disabled=!0,this._ItemNumberTextBox.value="",this._ItemSumTextBox.disabled=!0,this._ItemSumTextBox.value="",this._ItemPercentTextBox.disabled=!1):"sum"==b?(this._ItemPercentTextBox.disabled=
!0,this._ItemPercentTextBox.value="",this._ItemNumberTextBox.disabled=!0,this._ItemNumberTextBox.value="",this._ItemSumTextBox.disabled=!1):(this._ItemPercentTextBox.disabled=!0,this._ItemPercentTextBox.value="",this._ItemNumberTextBox.disabled=!1,this._ItemSumTextBox.disabled=!0,this._ItemSumTextBox.value="")},_CreateNumberTextBox:function(a,b){var c=s.getUniqueId("tm1webFilterItemValue");"percent"==b?(this._ItemPercentTextBox=this.CreateTextBox(a,"","tm1webFilterItemValue",c),this._SetTextBoxAttributes(this._ItemPercentTextBox,
b)):"sum"==b?(this._ItemSumTextBox=this.CreateTextBox(a,"","tm1webFilterItemValue",c),this._SetTextBoxAttributes(this._ItemSumTextBox,b)):(this._ItemNumberTextBox=this.CreateTextBox(a,"","tm1webFilterItemValue",c),this._SetTextBoxAttributes(this._ItemNumberTextBox,b))},_SetTextBoxAttributes:function(a,b){a.setAttribute("name","ItemName");a.type="text";a.setAttribute("id",b);a.disabled=!0;null!=this._InitNumberRadioBtnChecked&&this._InitNumberRadioBtnChecked==b&&(a.disabled=!1,a.value=this._filterValue,
this._ItemName=b)},_CreateTopBottomRadioButton:function(a,b,c,d){_this=this;d=this._CreateCheckBoxLabelDiv(d);var e=new f({name:"TopBottomRadio",value:c});e.setChecked(b);b&&(this._TopBottomName=c);e.onClick=function(){_this._OnRadioButtonClick(e.checked,c)};g.place(e.domNode,d);this._CreateCheckBoxLabel(a,d);return e},_OnRadioButtonClick:function(a,b){a&&(this._TopBottomName=b)},_CreateTopOrBottomRadioBtnList:function(a){this._CreateTopBottomRadioButton(b.get("NONE_STR"),this._GetButtonInitState("none"),
"none",a);this._CreateTopBottomRadioButton(b.get("TOP_STR"),this._GetButtonInitState("top"),"top",a);this._CreateTopBottomRadioButton(b.get("BOTTOM_STR"),this._GetButtonInitState("bottom"),"bottom",a)},_GetButtonInitState:function(a){if("none"==a){if(null==this._filterType||this._filterType==d.NONE)return!0}else if("top"==a){if(this._filterType==d.TOPCOUNT||this._filterType==d.TOPSUM||this._filterType==d.TOPPERCENT)return!0}else if("bottom"==a){if(this._filterType==d.BOTTOMCOUNT||this._filterType==
d.BOTTOMSUM||this._filterType==d.BOTTOMPERCENT)return!0}else if("number"==a){if(this._filterType==d.TOPCOUNT||this._filterType==d.BOTTOMCOUNT)return!0}else if("sum"==a){if(this._filterType==d.TOPSUM||this._filterType==d.BOTTOMSUM)return!0}else if("percent"==a&&(this._filterType==d.TOPPERCENT||this._filterType==d.BOTTOMPERCENT))return!0;return!1},_CreateCheckBoxLabelDiv:function(a){var b=document.createElement("Div");k.add(b,"tm1webFilterTopBottomControlContainer");g.place(b,a);return b},_CreateCheckBoxLabel:function(a,
b){var c=document.createElement("SPAN");c.innerHTML=a;g.place(c,b)},_OnOk:function(){var a=this._GetDataType(),b=this._GetItemValue();r.SortTopBottom(this._ObjectId,this._DimensionName,this._Index,a,b,{callback:this._OnTopBottom,scope:this});this.Destroy()},_GetItemValue:function(){var a="0";"number"==this._ItemName?a=this._ItemNumberTextBox.value:"percent"==this._ItemName?a=this._ItemPercentTextBox.value:"sum"==this._ItemName&&(a=this._ItemSumTextBox.value);return a},_GetDataType:function(){var a=
d.NONE;"top"==this._TopBottomName?"number"==this._ItemName?a=d.TOPCOUNT:"percent"==this._ItemName?a=d.TOPPERCENT:"sum"==this._ItemName&&(a=d.TOPSUM):"bottom"==this._TopBottomName&&("number"==this._ItemName?a=d.BOTTOMCOUNT:"percent"==this._ItemName?a=d.BOTTOMPERCENT:"sum"==this._ItemName&&(a=d.BOTTOMSUM));return a},_OnTopBottom:function(a){this.Update(a)},Update:function(a){l.publish(this._ObjectId+"-UpdatePagingGrid",a)},_OnCancel:function(){this.Destroy()},Show:function(){this._Dialog.show()},Destroy:function(){var a=
m.hitch(this,function(){this._Dialog.destroyRecursive()});this._Dialog.hide().then(a)}})})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(n,m,l,k,g,c,e,f){function b(a){return d(a)}function a(a){return a.data||a.text}n.deepCopy=function(a,b){for(var c in b){var d=a[c],f=b[c];d!==f&&(d&&"object"===typeof d&&f&&"object"===typeof f?n.deepCopy(d,f):a[c]=f)}return a};
n.deepCreate=function(a,b){b=b||{};var c=e.delegate(a),d,f;for(d in a)(f=a[d])&&"object"===typeof f&&(c[d]=n.deepCreate(f,b[d]));return n.deepCopy(c,b)};var d=Object.freeze||function(a){return a};n.deferred=function(c,g,s,t,q,u){var v=new k(function(a){g&&g(v,c);return a&&(a instanceof m||a instanceof l)?a:new l("Request canceled",c)});v.response=c;v.isValid=s;v.isReady=t;v.handleResponse=q;s=v.then(b).otherwise(function(a){a.response=c;throw a;});n.notify&&s.then(e.hitch(n.notify,"emit","load"),
e.hitch(n.notify,"emit","error"));t=s.then(a);q=new f;for(var x in t)t.hasOwnProperty(x)&&(q[x]=t[x]);q.response=s;d(q);u&&v.then(function(a){u.call(v,a)},function(a){u.call(v,c,a)});v.promise=q;v.then=q.then;return v};n.addCommonMethods=function(a,b){c.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,d){d=e.delegate(d||{});d.method=b;return a(c,d)}})};n.parseArgs=function(a,b,c){var d=b.data,f=b.query;d&&!c&&"object"===typeof d&&(b.data=g.objectToQuery(d));
f?("object"===typeof f&&(f=g.objectToQuery(f)),b.preventCache&&(f+=(f?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(f="request.preventCache\x3d"+ +new Date);a&&f&&(a+=(~a.indexOf("?")?"\x26":"?")+f);return{url:a,options:b,getHeader:function(a){return null}}};n.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p){e=n("dijit.MenuItem"+(c("dojo-bidi")?"_NoBidi":""),[f,b,a,d],{templateString:p,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){!a||"label"in this.params||this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);l.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&l.set(this.accelKeyNode,"id",this.id+"_accel");m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==c("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){k.toggle(this.domNode,
"dijitMenuItemSelected",a)},setLabel:function(a){g.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){g.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=
a?"":"none",this.accelKeyNode.innerHTML=a,l.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});c("dojo-bidi")&&(e=n("dijit.MenuItem",e,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return e})},"tm1web/utility/dom":function(){define("dojo/has dojo/on dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/dom-prop dojo/domReady! dojo/dom".split(" "),function(n,m,l,k,g,c){var e,f;(function(){var a=l.create("div");
k.set(a,{width:"1px",height:"1px",overflow:"hidden"});var b=l.create("div",null,a);k.set(b,{width:"100px",height:"100px",overflow:"auto"});var c=l.create("div",null,b);k.set(c,{width:"120px",height:"120px"});l.place(a,document.body);e=b.offsetWidth-b.clientWidth;f=b.offsetHeight-b.clientHeight;l.destroy(a)})();var b={setTextContent:function(a,b){c.set(a,"textContent",b)},getTextContent:function(a){return c.get(a,"textContent")},getHorizontalScrollbarHeight:function(a){return a&&a.scrollWidth<=a.clientWidth?
0:f},getVerticalScrollbarWidth:function(a){return a&&a.scrollHeight<=a.clientHeight?0:e},setStyle:function(a,b){for(var c in b)a.style[c]=b[c]},isNode:function(a){return"undefined"!==typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},getGutters:function(a,b){b||(b=k.getComputedStyle(a));var c=g.getMarginExtents(a,b),f=g.getPadBorderExtents(a,b);return{t:c.t+f.t,b:c.b+f.b,l:c.l+f.l,r:c.r+f.r,h:c.h+f.h,w:c.w+f.w}},getContentBox:function(a,
c){c||(c=k.getComputedStyle(a));var f=g.getMarginBox(a,c),e=b.getGutters(a,c);return{h:f.h-e.h,w:f.w-e.w}},isVisible:function(a){return 0<a.offsetWidth&&0<a.offsetHeight},disableSelection:function(a){var b,c=n("css-user-select");c?a.style[c]="none":b=m(a,"selectstart",function(a){a.preventDefault()});return{remove:function(){a&&(b?b.remove():a.style[c]="",a=null)}}}};return b})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(n,m,l,k,g,c,e,f,b){var a=g.delegate(f,{mouseenter:c.enter,mouseleave:c.leave,keypress:l._keypress}),d;l=k("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var d=!0,f=this.attachScope||this,e=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(e)for(var k=e.split(/\s*,\s*/);e=k.shift();)g.isArray(f[e])?f[e].push(a):f[e]=a,d="containerNode"!=e,this._attachPoints.push(e);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event"))for(e=b.split(/\s*,\s*/),k=g.trim;b=e.shift();)if(b){var l=
null;-1!=b.indexOf(":")?(l=b.split(":"),b=k(l[0]),l=k(l[1])):b=k(b);l||(l=b);this._attachEvents.push(c(a,b,g.hitch(f,l)))}return d},_attach:function(b,c,f){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?d||(d=n("./a11yclick")):a[c]||c;return e(b,c,f)},_detachTemplateNodes:function(){var a=this.attachScope||this;m.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];m.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});g.extend(b,{dojoAttachEvent:"",dojoAttachPoint:""});return l})},"tm1web/share/ExportOptionsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/query dojo/ready dijit/registry dijit/Dialog dijit/form/CheckBox dijit/form/RadioButton dijit/form/Button dojox/layout/ContentPane ../cubeview/CubeViewBase ./TM1ExportCommand ../config-settings ../utility/message-localizer ../utility/url ../widgets/ErrorAlert ./service-loader!ExportService ../config-settings!".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y){var w=n(s,{constructor:function(a,b,d){this.ObjectId=a;this.Command=b;this._sourceType=d;this._warningMsg=this._dimValue=this._dimLabel=this._okButton=this.ExportRowsDescSpan=this.LoopingDimensions=this.RowOptionsTBody=this.RowOptionsTable=this.Dialog=null;this._dimList=[];this._exportSheetCount=1;this._statusBar=this._uuid=this._exportButton=this._exportStatus=this._statusLabel=this._exportStatusHandle=null;this._topParent=f.byId(c(".topParent")[0].id);
this._downloadParent=f.byId(c(".downloadParent")[0].id);this._originalSheetCount=1;this._dialogClose=this._rowRadioButtons=this._dimCheckBoxes=null;this._displaySubNMs=!0;this._maxCustomSheetNum=0;this._autoFitRowHeight=null;this._maxCellLimit=-1;this._cubeviewColumnCount=this._cellCount=0},Show:function(){"CubeView"==this._sourceType?y.getCubeViewExportInfo(this.ObjectId,{callback:this._InitializeDialog,scope:this}):y.getWebSheetExportInfo(this.ObjectId,{callback:this._InitializeDialog,scope:this})},
_InitializeDialog:function(a){null!=a&&(this._originalSheetCount=a.sheetCount,this._maxCustomSheetNum=a.maxCustomSheetNum,"CubeView"==this._sourceType?(this._cubeviewColumnCount=a.cellCount/a.totalRows,this.Dialog=new b({id:"ExportDialog","class":"tm1webFormDialog",title:u.get("EXPORT_TITLE_LABEL")+"\x3cspan class\x3d'tm1webExportDialogTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webExportDialogSubtitle'\x3e"+a.viewName+"\x3c/span\x3e"},null),this._createRowGroupNumToExp(),this._createPagesLabel(),
this._InitializeRowsOptionTable(a)):this.Dialog=new b({id:"ExportDialog","class":"tm1webFormDialog",title:u.get("EXPORT_TITLE_LABEL")+"\x3cspan class\x3d'tm1webExportDialogTitleColon'\x3e: \x3c/span\x3e\x3cspan class\x3d'tm1webExportDialogSubtitle'\x3e"+a.workbookName+"\x3c/span\x3e"},null),"WebSheet"==this._sourceType&&(this._displaySubNMs=a.displaySubNMs),this._maxCellLimit=a.maxCellLimit,this._cellCount=a.cellCount,this._displaySubNMs&&(this._createDimensionsToExport(),this._createDimensionsLabel(),
this._createLoopingDimensionsTable(a)),"WebSheet"==this._sourceType&&this._createAutoFitRowHeightOption(),this._createDimLabel(),this._createWarningMsg(),this._CreateButtonTable(),"CubeView"==this._sourceType?this._validateTotalSheetCount(1):this._calculateAndValidateSheetCount(),this._dialogClose=this.own(l.after(this.Dialog,"hide",m.hitch(this,function(a){this.Dialog.destroyRecursive();this.destroy()}),!0)),this.Dialog.show())},_getMaxExportSheetCount:function(){var a=0;return a="CubeView"==this._sourceType?
q.getMaxExportSheetCount():this._maxCustomSheetNum},_onCancel:function(a){this._closeDialog()},_InitializeRowsOptionTable:function(a){this._CreateRowsOptionTable(a)},_createLoopingDimensionsTable:function(a){this._dimList=null==a.titleSubsetInfo?[]:a.titleSubsetInfo;this._createLoopOption(this.RowGroupExpDims,"LoopcountOptions","1","",this._dimList)},_createLoopOption:function(b,c,d,e,l){this._dimCheckBoxes=[];for(d=0;d<l.length;d++){var n=f.getUniqueId(c),p=g.create("div");k.add(p,"tm1webCheckRow");
b.appendChild(p);var q=new a({id:n,value:d+1,onChange:m.hitch(this,"_calculateAndValidateSheetCount")});""!=e&&q.setAttribute("checked",e);g.place(q.domNode,p);this._dimCheckBoxes[d]=q;q=g.create("label");q.setAttribute("for",n);this.SetTextContent(q,l[d].dimensionName);p.appendChild(q)}},_createAutoFitRowHeightOption:function(b){var c=g.create("label"),d=f.getUniqueId("tm1webExportDialogAutofitGroup");this.SetTextContent(c,u.get("EXPORT_AUTO_FIT_LABEL"));k.add(c,"tm1webLabelPaddedTop");c.setAttribute("id",
d);var e=g.create("div"),l=g.create("label"),m=new a({id:f.getUniqueId("tm1webAutoFitRowHeightOption"),value:"autoFitRowHeight"});b&&""!=b&&m.setAttribute("checked",b);l.htmlFor=m.id;this.SetTextContent(l,u.get("EXPORT_AUTO_FIT_ROW_HEIGHT_LABEL"));g.place(c,e);g.place(m.domNode,e);g.place(l,e);g.place(e,this.Dialog.containerNode);k.add(e,"tm1webExportDialogOptionWrapper");e.setAttribute("aria-labelledby",d);e.setAttribute("role","group");this._autoFitRowHeight=m},_calculateAndValidateSheetCount:function(a){this._exportSheetCount=
this._getDimInfo().exportSheetCount;this._validateTotalSheetCount(this._exportSheetCount)},_validateTotalSheetCount:function(a){var b=this._getMaxExportSheetCount();this._dimValue.setAttribute("value",a);a>b?(a=!0,k.remove(this._warningMsg,"tm1webHidden"),this._warningMsg.setAttribute("role","alert")):(a=!1,k.add(this._warningMsg,"tm1webHidden"),this._warningMsg.removeAttribute("role","alert"));this._disableExport(a)},_disableExport:function(a){this._okButton.set("disabled",a)},_getDimInfo:function(){for(var a=
1,b="",c=null,c="",d=0;d<this._dimList.length;d++)c=this._dimCheckBoxes[d],1==c.checked&&(a*=this._dimList[d].numElements,c=this._dimList[d].dimensionName,-1!=this._dimList[d].rowIndex&&-1!=this._dimList[d].colIndex&&(c=c+":"+this._dimList[d].rowIndex+":"+this._dimList[d].colIndex),b=b+c+",");b=""!=b&&0<b.length?b.substr(0,b.length-1):null;d={};d.exportSheetCount=a*this._originalSheetCount;d.dimString=b;return d},_createDimLabel:function(){this._dimLabel=g.create("label");this._dimValue=g.create("input");
this._dimValue.setAttribute("id",f.getUniqueId("tm1webDimLabel"));this._dimLabel.setAttribute("for",this._dimValue.getAttribute("id"));k.add(this._dimLabel,"tm1webExportDimLabel, tm1webLabelPaddedTop");g.place(this._dimLabel,this.Dialog.containerNode);k.add(this._dimValue,"tm1webExportDimValue");g.place(this._dimValue,this.Dialog.containerNode);this.SetTextContent(this._dimLabel,u.get("TOTAL_SHEETS_LABEL"))},_createWarningMsg:function(){this._warningMsg=g.create("div");k.add(this._warningMsg,"tm1webPageNumWarning tm1webHidden");
g.place(this._warningMsg,this.Dialog.containerNode);this.SetTextContent(this._warningMsg,u.get("MAX_EXPORT_SHEET_NUM_EXCEEDED",this._getMaxExportSheetCount()))},_createPagesLabel:function(){this.ExportRowDescSpan=g.create("label");k.add(this.ExportRowDescSpan,"");this.ExportRowDescSpan.setAttribute("id","tm1webNumberOfRowsGroup");this.SetTextContent(this.ExportRowDescSpan,u.get("EXPORT_PAGES_LABEL"));g.place(this.ExportRowDescSpan,this.RowGroupNumToExp)},_createRowGroupNumToExp:function(){this.RowGroupNumToExp=
g.create("div",{role:"group","aria-labelledby":"tm1webNumberOfRowsGroup"});g.place(this.RowGroupNumToExp,this.Dialog.containerNode)},_createDimensionsToExport:function(){this.RowGroupExpDims=g.create("div",{role:"group","aria-labelledby":"tm1webDimensionsToExport"});g.place(this.RowGroupExpDims,this.Dialog.containerNode)},_createDimensionsLabel:function(){var a=g.create("label");k.add(a,"");a.setAttribute("id","tm1webDimensionsToExport");this.SetTextContent(a,u.get("EXPORT_DIMENSIONS_LABEL"));g.place(a,
this.RowGroupExpDims)},_CreateRowsOptionTable:function(a){this._rowRadioButtons=[];this.RowOptionsTable=g.create("div");k.add(this.RowOptionsTable,"tm1webNumRows");this._CreateRowsOption(u.get("EXPORT_ROWS_CURRENT_PAGE"),a.rowsInCurPage,"RowcountOptions","1","1");this._CreateRowsOption(u.get("EXPORT_ROWS_BEGINNING"),a.topToCurrentRows,"RowcountOptions","2","");this._CreateRowsOption(u.get("EXPORT_ROWS_VIEW"),a.totalRows,"RowcountOptions","3","");g.place(this.RowOptionsTable,this.RowGroupNumToExp)},
_CreateRowsOption:function(a,b,c,e,l){var n=g.create("div");this.RowOptionsTable.appendChild(n);k.add(n,"tm1webCheckRow");c=f.getUniqueId(c);var p=new d({id:c,name:"NumberRows",value:e,onChange:m.hitch(this,function(a){a&&this._calculateCellCount(b)})});""!=l&&p.set("checked",!0);g.place(p.domNode,n);this._rowRadioButtons[e-1]=p;e=g.create("label");e.setAttribute("for",c);c=u.get("EXPORT_NUM_ROWS");this.SetTextContent(e,a+" ("+b+") "+c);n.appendChild(e)},_calculateCellCount:function(a){this._cellCount=
a*this._cubeviewColumnCount},_CreateButtonTable:function(){var a=g.create("div");a.setAttribute("id","buttontable");k.add(a,"tm1webDialogButtons");var b=this._CreateButton("OK");this._okButton=b;g.place(b.domNode,a);b=this._CreateButton("Cancel");g.place(b.domNode,a);g.place(a,this.Dialog.containerNode)},_CreateButton:function(a){a="OK"==a?new p({id:f.getUniqueId("OK"),onClick:m.hitch(this,"_OnOK"),label:u.get("OK_STR"),name:"OK","class":"tm1WebBtnPrimary"}):new p({id:f.getUniqueId("Cancel"),onClick:m.hitch(this,
"_OnCancel"),label:u.get("CANCEL_STR"),name:"Cancel","class":"tm1webBtnSecondary"});a.style.width="80px";return a},_OnOK:function(){if(0<=this._maxCellLimit&&this._exportSheetCount/this._originalSheetCount*this._cellCount>this._maxCellLimit){var a="",a="WebSheet"==this._sourceType?u.get("CELL_COUNT_EXCEEDED"):u.get("CELL_COUNT_EXCEEDED_CV");x.show({title:u.get("EXPORT_PREVENTED_ERR"),message:a})}else{var b=null;this._displaySubNMs&&(b=this._getDimInfo().dimString);switch(this.Command){case "SLICE":a=
t.Slice;break;case "SNAPSHOT":a=t.Snapshot;break;case "PRINTTOPDF":a=t.PDF;break;default:a=t.Snapshot}var c;if("CubeView"==this._sourceType){c="AllPages";var d=this._rowRadioButtons[0];1==d.checked&&(c="CurrentPage");d=this._rowRadioButtons[1];1==d.checked&&(c="BeginningToCurrentPage");d=this._rowRadioButtons[2];1==d.checked&&(c="AllPages")}else c=null;this._closeDialog();"CubeView"==this._sourceType?y.doCubeViewExport(this.ObjectId,a,b,c,{callback:this._OnExport,scope:this}):(d=this._autoFitRowHeight&&
this._autoFitRowHeight.get("checked"),y.doWebSheetExport(this.ObjectId,a,b,c,d,{callback:this._OnExport,scope:this}))}},_OnExport:function(a){this._uuid=a;this._queueGetExportStatus()},_queueGetExportStatus:function(){this._exportStatusHandle=setTimeout(m.hitch(this,"_getExportStatus"),2E3)},_getExportStatus:function(){y.getExportStatus(this._uuid,{callback:this._onExportStatus,scope:this})},_onExportStatus:function(a){null!=a?(0==w._statusBar.getChildren().length&&(w._statusBar.region="bottom",this._topParent.addChild(w._statusBar)),
null==this._statusLabel&&(this._statusLabel=g.create("div",{className:"tm1webExportStatus"}),this._exportStatus=g.create("span"),this._exportButton=new p({id:f.getUniqueId("cancelExport"),onClick:m.hitch(this,"_cancelExport"),label:u.get("CANCEL_EXPORT"),name:"OK"}),g.place(this._exportButton.domNode,this._statusLabel),g.place(this._exportStatus,this._statusLabel,"first"),g.place(this._statusLabel,w._statusBar.domNode,"first")),this._queueGetExportStatus(),"done"==a?(this._finishExport(),a="ExportServlet?uuid\x3d"+
this._uuid,this._downloadParent.download(v.toUrl("tm1web")+"/../../"+a,"hiddenFrame"+this._uuid)):"publishing"==a?this.SetTextContent(this._exportStatus,u.get("CURRENTLY_PUBLISHING_STR")):"maxSheetCountExceeded"==a?this._finishExport():this.SetTextContent(this._exportStatus,u.get("EXPORTING_PAGE_STR",a,this._exportSheetCount))):this._finishExport()},_cancelExport:function(){y.cancelExport(this._uuid,{callback:this._finishExport,scope:this})},_finishExport:function(){null!=this._exportStatusHandle&&
(clearTimeout(this._exportStatusHandle),this._exportStatusHandle=null);null!=this._statusLabel&&(w._statusBar.domNode.removeChild(this._statusLabel),this._statusLabel=null,this._exportButton.destroyRecursive());0==w._statusBar.getChildren().length&&this._topParent.removeChild(w._statusBar)},_OnCancel:function(){this.Dialog.destroyRecursive()},_closeDialog:function(){this.Dialog.destroyRecursive();this.destroy()}});e(function(){w._statusBar=new r;k.add(w._statusBar.domNode,"tm1webExportDiv")});return w})},
"tm1web/cubeview/TitlePanel":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dijit/registry","./CubeViewBase"],function(n,m,l,k,g){return n(g,{constructor:function(c,e,f,b){this._Title=c;this._Height=e;this._Width=f;this._StyleClass=b;this._DivContainer=this._DivTitle=this._DivContent=null;this._InitializeTitlePanel()},_InitializeTitlePanel:function(){this._DivContent=this.CreatePanel("","tm1webTitlePanelDivContent");this._DivTitle=this.CreatePanel("","tm1webTitlePanelDivTitle");
this._DivTitle.innerHTML=this._Title;this._DivContainer=this.CreatePanel("","tm1webTitlePanelDivContainer "+this._StyleClass);m.place(this._DivContent,this._DivContainer);m.place(this._DivTitle,this._DivContainer);this._makeSectionAccessible()},Create:function(c){l.set(this._DivContent,{width:this._Width+"px",height:this._Height+"px"});m.place(this._DivContainer,c);return this._DivContent},getDivContainer:function(){return this._DivContainer},getDivTitle:function(){return this._DivTitle},_makeSectionAccessible:function(){var c=
this.getDivContainer(),e=k.getUniqueId("tm1web_titleContainer");c.setAttribute("aria-labelledby",e);c.setAttribute("role","group");this.getDivTitle().id=e}})})},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(n,m,l){return n("dojox.grid._ViewManager",null,{constructor:function(k){this.grid=k},defaultWidth:200,views:[],resize:function(){this.onEach("resize")},render:function(){this.onEach("render")},addView:function(k){k.idx=this.views.length;
this.views.push(k)},destroyViews:function(){for(var k=0,g;g=this.views[k];k++)g.destroy();this.views=[]},getContentNodes:function(){for(var k=[],g=0,c;c=this.views[g];g++)k.push(c.contentNode);return k},forEach:function(k){for(var g=0,c;c=this.views[g];g++)k(c,g)},onEach:function(k,g){g=g||[];for(var c=0,e;e=this.views[c];c++)k in e&&e[k].apply(e,g)},normalizeHeaderNodeHeight:function(){for(var k=[],g=0,c;c=this.views[g];g++)c.headerContentNode.firstChild&&k.push(c.headerContentNode);this.normalizeRowNodeHeights(k)},
normalizeRowNodeHeights:function(k){var g=0,c=[];if(this.grid.rowHeight)g=this.grid.rowHeight;else{if(1>=k.length)return;for(var e=0,f;f=k[e];e++)l.contains(f,"dojoxGridNonNormalizedCell")||(c[e]=f.firstChild.offsetHeight,g=Math.max(g,c[e]));g=0<=g?g:0;(m("mozilla")||8<m("ie"))&&g&&g++}for(e=0;f=k[e];e++)c[e]!=g&&(f.firstChild.style.height=g+"px")},resetHeaderNodeHeight:function(){for(var k=0,g;g=this.views[k];k++)if(g=g.headerContentNode.firstChild)g.style.height=""},renormalizeRow:function(k){for(var g=
[],c=0,e,f;(e=this.views[c])&&(f=e.getRowNode(k));c++)f.firstChild.style.height="",g.push(f);this.normalizeRowNodeHeights(g)},getViewWidth:function(k){return this.views[k].getWidth()||this.defaultWidth},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(g){g.headerContentNode.style.height=""});var k=0;this.forEach(function(g){k=Math.max(g.headerNode.offsetHeight,k)});return k},measureContent:function(){var k=0;this.forEach(function(g){k=Math.max(g.domNode.offsetHeight,k)});
return k},findClient:function(k){k=this.grid.elasticView||-1;if(0>k)for(var g=1,c;c=this.views[g];g++)if(c.viewWidth){for(g=1;c=this.views[g];g++)if(!c.viewWidth){k=g;break}break}0>k&&(k=Math.floor(this.views.length/2));return k},arrange:function(k,g){var c,e,f,b=this.views.length,a=this,d=0>=g?b:this.findClient(),l=function(b,c){var d=b.domNode.style,f=b.headerNode.style;a.grid.isLeftToRight()?(d.left=c+"px",f.left=c+"px"):(d.right=c+"px",4>m("ff")?f.right=c+b.getScrollbarWidth()+"px":f.right=c+
"px",m("webkit")||"auto"==f.width||(f.width=parseInt(f.width,10)-b.getScrollbarWidth()+"px"));d.top="0px";f.top=0};for(c=0;(e=this.views[c])&&c<d;c++)f=this.getViewWidth(c),e.setSize(f,0),l(e,k),f=e.headerContentNode&&e.headerContentNode.firstChild?e.getColumnsWidth()+e.getScrollbarWidth():e.domNode.offsetWidth,k+=f;c++;for(var n=g,s=b-1;(e=this.views[s])&&c<=s;s--)f=this.getViewWidth(s),e.setSize(f,0),f=e.domNode.offsetWidth,n-=f,l(e,n);d<b&&(e=this.views[d],f=Math.max(1,n-k),e.setSize(f+"px",0),
l(e,k));return k},renderRow:function(k,g,c){for(var e=[],f=0,b,a;(b=this.views[f])&&(a=g[f]);f++)b=b.renderRow(k),a.appendChild(b),e.push(b);c||this.normalizeRowNodeHeights(e)},rowRemoved:function(k){this.onEach("rowRemoved",[k])},updateRow:function(k,g){for(var c=0,e;e=this.views[c];c++)e.updateRow(k);g||this.renormalizeRow(k)},updateRowStyles:function(k){this.onEach("updateRowStyles",[k])},setScrollTop:function(k){for(var g=k,c=0,e;e=this.views[c];c++)g=e.setScrollTop(k),m("ie")&&e.headerNode&&
e.scrollboxNode&&(e.headerNode.scrollLeft=e.scrollboxNode.scrollLeft);return g},getFirstScrollingView:function(){for(var k=0,g;g=this.views[k];k++)if(g.hasHScrollbar()||g.hasVScrollbar())return g;return null}})})},"dojox/grid/_EditManager":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/connect dojo/_base/sniff ./util".split(" "),function(n,m,l,k,g,c){return l("dojox.grid._EditManager",null,{constructor:function(c){this.grid=c;this.connections=g("ie")?[k.connect(document.body,
"onfocus",n.hitch(this,"_boomerangFocus"))]:[];this.connections.push(k.connect(this.grid,"onBlur",this,"apply"));this.connections.push(k.connect(this.grid,"prerender",this,"_onPreRender"))},info:{},destroy:function(){m.forEach(this.connections,k.disconnect)},cellFocus:function(c,f){this.grid.singleClickEdit||this.isEditRow(f)?this.setEditCell(c,f):this.apply();(this.isEditing()||c&&c.editable&&c.alwaysEditing)&&this._focusEditor(c,f)},rowClick:function(c){this.isEditing()&&!this.isEditRow(c.rowIndex)&&
this.apply()},styleRow:function(c){c.index==this.info.rowIndex&&(c.customClasses+=" dojoxGridRowEditing")},dispatchEvent:function(c){var f=c.cell;return(f=f&&f.editable?f:0)&&f.dispatchEvent(c.dispatch,c)},isEditing:function(){return void 0!==this.info.rowIndex},isEditCell:function(c,f){return this.info.rowIndex===c&&this.info.cell.index==f},isEditRow:function(c){return this.info.rowIndex===c},setEditCell:function(c,f){!this.isEditCell(f,c.index)&&this.grid.canEdit&&this.grid.canEdit(c,f)&&this.start(c,
f,this.isEditRow(f)||c.editable)},_focusEditor:function(e,f){c.fire(e,"focus",[f])},focusEditor:function(){this.isEditing()&&this._focusEditor(this.info.cell,this.info.rowIndex)},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>(new Date).getTime()},_boomerangFocus:function(){this._shouldCatchBoomerang()&&(this.grid.focus.focusGrid(),this.focusEditor(),this._catchBoomerang=0)},_doCatchBoomerang:function(){g("ie")&&(this._catchBoomerang=(new Date).getTime()+this._boomerangWindow)},
start:function(c,f,b){this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.isEditing()&&!this.isEditRow(f)&&(this.applyRowEdit(),this.grid.updateRow(f)),b?(this.info={cell:c,rowIndex:f},this.grid.doStartEdit(c,f),this.grid.updateRow(f)):this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._focusEditor(c,f),this._doCatchBoomerang())},_editorDo:function(c){var f=this.info.cell;if(f&&f.editable)f[c](this.info.rowIndex)},editorApply:function(){this._editorDo("apply")},
editorCancel:function(){this._editorDo("cancel")},applyCellEdit:function(c,f,b){this.grid.canEdit(f,b)&&this.grid.doApplyCellEdit(c,b,f.field)},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field)},apply:function(){this.isEditing()&&this._isValidInput()&&(this.grid.beginUpdate(),this.editorApply(),this.applyRowEdit(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},cancel:function(){this.isEditing()&&(this.grid.beginUpdate(),
this.editorCancel(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang())},save:function(c,f){var b=this.info.cell;!this.isEditRow(c)||f&&b.view!=f||!b.editable||b.save(b,this.info.rowIndex)},restore:function(c,f){var b=this.info.cell;this.isEditRow(f)&&b.view==c&&b.editable&&b.restore(this.info.rowIndex)},_isValidInput:function(){var c=(this.info.cell||{}).widget;if(!c||!c.isValid)return!0;c.focused=!0;return c.isValid(!0)},_onPreRender:function(){this.isEditing()&&
(this.info.value=this.info.cell.getValue())}})})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(n,m,l,k,g){var c=0,e=[],f=0;m=function(){c=1;n._postLoad=n.config.afterOnLoad=!0;b()};var b=function(){if(!f){for(f=1;c&&(!k||0==k._Q.length)&&(l.idle?l.idle():1)&&e.length;){var a=e.shift();try{a()}catch(b){if(b.info=b.message,l.signal)l.signal("error",b);else throw b;}}f=0}};l.on&&l.on("idle",b);k&&(k._onQEmpty=b);var a=n.ready=n.addOnLoad=function(a,
c,d){var f=g._toArray(arguments);"number"!=typeof a?(d=c,c=a,a=1E3):f.shift();d=d?g.hitch.apply(n,f):function(){c()};d.priority=a;for(f=0;f<e.length&&a>=e[f].priority;f++);e.splice(f,0,d);b()},d=n.config.addOnLoad;if(d)a[g.isArray(d)?"apply":"call"](n,d);k?k(m):m();return a})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(n,m,l,k){return n("dijit.DropDownMenu",k,{templateString:l,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},
_onDownArrow:function(){this.focusNext()},_onRightArrow:function(g){this._moveToPopup(g);g.stopPropagation();g.preventDefault()},_onLeftArrow:function(g){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else g.stopPropagation(),g.preventDefault()}})})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(n,m,l,k,g){function c(e,f){var b=function(a,b){return m(a,e,function(c){if(f)return f(c,b);if(!k.isDescendant(c.relatedTarget,
a))return b.call(this,c)})};b.bubble=function(a){return c(e,function(b,c){var f=a(b.target),e=b.relatedTarget;if(f&&f!=(e&&1==e.nodeType&&a(e)))return c.call(f,b)})};return b}l.add("dom-quirks",g.doc&&"BackCompat"==g.doc.compatMode);l.add("events-mouseenter",g.doc&&"onmouseenter"in g.doc.createElement("div"));l.add("events-mousewheel",g.doc&&"onmousewheel"in g.doc);g=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,f){return c.button&f},isLeft:function(c){return c.button&
1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,f){return c.button==f},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};n.mouseButtons=g;n=l("events-mousewheel")?"mousewheel":function(c,f){return m(c,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;f.call(this,b)})};return{_eventHandler:c,enter:c("mouseover"),leave:c("mouseout"),wheel:n,isLeft:g.isLeft,
isMiddle:g.isMiddle,isRight:g.isRight}})},"tm1web/cubeview/celledit/PickListStore":function(){define(["dojo/_base/declare","../../celledit/_PickListStore","../../share/service-loader!CubeViewService"],function(n,m){return n(m,{_service:CubeViewService})})},"dojo/aspect":function(){define([],function(){function n(c,b,a,d){var e=c[b],g="around"==b,l;if(g){var m=a(function(){return e.advice(this,arguments)});l={remove:function(){m&&(m=c=a=null)},advice:function(a,b){return m?m.apply(a,b):e.advice(a,
b)}}}else l={remove:function(){if(l.advice){var d=l.previous,e=l.next;e||d?(d?d.next=e:c[b]=e,e&&(e.previous=d)):delete c[b];c=a=l.advice=null}},id:k++,advice:a,receiveArguments:d};if(e&&!g)if("after"==b){for(;e.next&&(e=e.next););e.next=l;l.previous=e}else"before"==b&&(c[b]=l,l.next=e,e.previous=l);else c[b]=l;return l}function m(c){return function(b,a,d,e){var g=b[a],m;g&&g.target==b||(b[a]=m=function(){for(var a=k,b=arguments,c=m.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(m.around)var d=
m.around.advice(this,b);for(c=m.after;c&&c.id<a;){if(c.receiveArguments)var f=c.advice.apply(this,b),d=f===l?d:f;else d=c.advice.call(this,d,b);c=c.next}return d},g&&(m.around={advice:function(a,b){return g.apply(a,b)}}),m.target=b);b=n(m||g,c,d,e);d=null;return b}}var l,k=0,g=m("after"),c=m("before"),e=m("around");return{before:c,around:e,after:g}})},"tm1web/widgets/ConfirmDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/Deferred dojo/dom-class dijit/ConfirmDialog dojox/html/entities".split(" "),
function(n,m,l,k,g,c,e,f){var b=n("tm1web.widgets.ConfirmDialog",e,{title:"",message:"",okButtonLabel:"",cancelButtonLabel:"",focusOkButton:!0,postCreate:function(){this.inherited(arguments);this.own(k.after(this,"onHide",m.hitch(this,"destroy")))},buildRendering:function(){this.inherited(arguments);this.okButtonLabel&&(this.buttonOk=this.okButtonLabel);this.cancelButtonLabel&&(this.buttonCancel=this.cancelButtonLabel)},_getFocusItems:function(){this.inherited(arguments);if(!this.focusOkButton&&this._fadeInDeferred){var a=
this._firstFocusItem;this._firstFocusItem=this._lastFocusItem;this._lastFocusItem=a}},_setMessageAttr:function(a){if(Array.isArray(a))for(var b=0;b<a.length;b++){var e=document.createElement("div");c.add(e,"tm1webDialogMessageInternalParagraph");e.textContent=a[b];this.containerNode.appendChild(e)}else this._set("message",a),this.set("content",f.encode(a))}});b.show=function(a){var c=new g;a=new b(a);var f=k.after(a,"onCancel",function(){f.remove();e.remove();c.reject(!1)}),e=k.after(a,"_onSubmit",
function(){f.remove();e.remove();c.resolve(!0)});a.show();return c.promise};return b})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(n,m,l){n._name="browser";m.mixin(n,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});return l})},
"tm1web/cubeview/TitleDimensionDropPanel":function(){define(["dojo/_base/declare","../utility/message-localizer","./DimensionDropPanel"],function(n,m,l){return n(l,{SetDropPanelProperties:function(){this.Caption=m.get("TITLE_DIMENSION_DROP_PANEL_STR");this.ButtonType="T"},Create:function(k){var g=this.inherited(arguments);this.SetContainerProperty(g,"tm1webTitleHeaderDropArea",m.get("TITLE_DIMENSION_DROP_PANEL_TOOLTIP_STR"),"TitlesContainerTable");g.id="TitlesContainer";return g},CreateDimensionButtons:function(k){this.CreateDimensionButtonsEx(k,
k.dimensionButtons.titleDimButtons)},CanCreateSubsetSelectCell:function(k){return!0},CreateDisplayTextLabel:function(k,g){var c="";null!=g.selectedElementName&&""!=g.selectedElementName&&(c=g.selectedElementName+this.NBSP);this.CreateDisplayTextLabelEx(k,c,g).name=g.dimensionCaption},GetNumberOfDimButtons:function(k){k=k.dimensionButtons.titleDimButtons;return null==k?0:k.length}})})},"tm1web/cubeview/CubeViewDimensionBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-class dojo/dom-construct dijit/layout/ContentPane ../share/TM1Utility ./ColumnDimensionDropPanel ./GridBase ./RowDimensionDropPanel ./TitleDimensionDropPanel ./HiddenDimensionDropPanel ../share/service-loader!TM1Service ../config-settings ../config-settings!".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n([c,b],{constructor:function(a,b,c){this._DimBarLayoutController=this.TitleDropPanel=this.RowDropPanel=this.ColDropPanel=this._OnResizeTimeId=null;this.ObjectId=c},postCreate:function(){this.inherited(arguments);this.InitializeCubeViewDimensionBar()},InitializeCubeViewDimensionBar:function(){this.CreateContainer()},CreateContainer:function(){this.Grid=this.CreateTable();this.Grid.id="dimBarTable";k.add(this.Grid,"tm1webDimensionBar");g.place(this.Grid,
this.containerNode)},Update:function(a){this._cleanup();this.Create(a)},DoCreate:function(b){var c=document.createElement("TBODY"),e=this.CreateTR(c);this.RowDropPanel=this._CreateDropDimensionPanel(e,b,a);this._CreateSeparator(e,"RowDropTable",0,"tm1webColumnSeparator");this.ColDropPanel=this._CreateDropDimensionPanel(e,b,f);this._CreateSeparator(e,"ColDropTable",1,"tm1webContextSeparator");this.TitleDropPanel=this._CreateDropDimensionPanel(e,b,d);s.isCubeViewerHiddenDimensionsEnabled()&&(this._CreateSeparator(e,
"HiddenDropTable",1,"ContextSeparator","context_resize.gif"),this.HiddenDropPanel=this._CreateDropDimensionPanel(e,b,p));return c},_CreateDropDimensionPanel:function(a,b,c){c=new c(this);b=c.Create(b);a.appendChild(b);return c},_CreateSeparator:function(a,b,c,d){this.CreateTd(a).className=d},Resize:function(){if(null!=this.RowDropPanel&&null!=this.ColDropPanel&&null!=this.TitleDropPanel){var a=this.containerNode.clientWidth-12,b=a/3,a=a-(b+b+(this.HiddenDropPanel?this.HiddenDropPanel.ContainerCell.offsetWidth:
0));this.RowDropPanel.doTableFitting(b);this.ColDropPanel.doTableFitting(b);this.TitleDropPanel.doTableFitting(a);this.HiddenDropPanel&&this.HiddenDropPanel.doTableFitting(a);var c=this.RowDropPanel.containsHiddenDimensions(),d=this.ColDropPanel.containsHiddenDimensions(),f=this.TitleDropPanel.containsHiddenDimensions();if(!c||!d||!f)if(c||d||f){var e=0;if(!c)var g=this.RowDropPanel.getButtonRowVisibleSize(),e=e+(b-g);d||(g=this.ColDropPanel.getButtonRowVisibleSize(),e+=b-g);f||(g=this.TitleDropPanel.getButtonRowVisibleSize(),
e+=a-g);g=0;c&&g++;d&&g++;f&&g++;e/=g;c&&this.RowDropPanel.doTableFitting(b+e);d&&this.ColDropPanel.doTableFitting(b+e);f&&this.TitleDropPanel.doTableFitting(a+e)}}},destroy:function(){this.inherited(arguments);this._cleanup();this.destroyRecursive()},_cleanup:function(){this.ColDropPanel&&this.ColDropPanel.destroy();this.RowDropPanel&&this.RowDropPanel.destroy();this.TitleDropPanel&&this.TitleDropPanel.destroy()}})})},"tm1web/cubeview/metrics/ImpactInteractivityHelper":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojox/json/query ./InteractivityHelper ./CustomDiagramTooltipView ../../share/TM1Utility".split(" "),
function(n,m,l,k,g,c,e){return n(g,{graphInteractivity:null,centerNode:null,clickHandler:null,LEFT_ICON_PART:"part: expParentSymbol",RIGHT_ICON_PART:"part: expChildSymbol",MAIN_PART:"part: main",LEFT_ICON_FIELD:"expOrColParent",RIGHT_ICON_FIELD:"expOrColChild",DEFAULT_EXPAND_LEVEL:1,CENTER_NODE_INDEX:0,NODE_DATA_SECTION:1,NODE_NAME_INDEX:1,COLLAPSED:1,EXPANDED:2,constructor:function(){},setupInteractivity:function(c){this.inherited(arguments);this.graphInteractivity=this.interactivity.getGraphInteractivity();
this.clickHandler=l(this.visWidget,"click",m.hitch(this,"visOnClick"))},postRAVESpecSet:function(){spec=this.visWidget.getSpecification();nodeRows=spec.data[this.NODE_DATA_SECTION].rows;for(var c=0;c<nodeRows.length;c++)if(nodeRows[c][this.NODE_NAME_INDEX]==this.CENTER_NODE_INDEX){this.centerNode=c;break}this.graphInteractivity.showOnly(this.centerNode,this.DEFAULT_EXPAND_LEVEL,this.LEFT_ICON_FIELD,this.RIGHT_ICON_FIELD)},visOnClick:function(c){var b,a,d,g=null,k,l;c=this.getHitItems(c);for(var m=
0;m<c.length;m++)if(l=m,k=c[m].meta(),null!==k)if(-1!==e.indexOf(k,this.LEFT_ICON_PART)){g=this.LEFT_ICON_FIELD;break}else if(-1!==e.indexOf(k,this.RIGHT_ICON_PART)){g=this.RIGHT_ICON_FIELD;break}if(null!==g)for(b=k,a=c[l].getRows(),k=c[l].aestheticFields(),l=c[l].aestheticValues(),i=0;i<k.length;i++)if(k[i]==g){d=l[i];break}b&&-1!==e.indexOf(b,this.LEFT_ICON_PART)?d==this.COLLAPSED?this.graphInteractivity.showParentsOf(this.centerNode,a,this.LEFT_ICON_FIELD,this.RIGHT_ICON_FIELD):d==this.EXPANDED&&
this.graphInteractivity.hideParentsOf(this.centerNode,a,this.LEFT_ICON_FIELD,this.RIGHT_ICON_FIELD):b&&-1!==e.indexOf(b,this.RIGHT_ICON_PART)&&(d==this.COLLAPSED?this.graphInteractivity.showChildrenOf(this.centerNode,a,this.LEFT_ICON_FIELD,this.RIGHT_ICON_FIELD):d==this.EXPANDED&&this.graphInteractivity.hideChildrenOf(this.centerNode,a,this.LEFT_ICON_FIELD,this.RIGHT_ICON_FIELD))},setTooltipContent:function(f){var b=f.tooltipText();f=new c;var a=k("$.points[?name\x3d'"+b+"']",this.popUpData);if(a&&
0!=a.length){f.setTitleCaption(b);b=null;3!==a[0].status&&(b=a[0].status-1,-1===b?b=1:1===b&&(b=-1));var d=null;3!==a[0].trend&&(d=a[0].trend-1,-1===d?d=1:1===d&&(d=-1));f.setStatus(b,a[0].statuscaption);f.setTrend(d,a[0].trendcaption);f.setActualValue(a[0].actual,a[0].actualcaption);f.setTargetValue(a[0].target,a[0].targetcaption);f.setToleranceValue(a[0].tolerance,a[0].tolerancecaption);f.setVarianceValue(a[0].variance,a[0].variancecaption);f.setVariancePercentValue(a[0].variancePercent,a[0].variancePercentcaption);
f.startup();this.metricTooltip.setContent(f.domNode.innerHTML)}},getStrategyName:function(){return this.popUpData.cubeName},containsValidTooltipItem:function(c){for(var b=!1,a=null,d=0;d<c.length;d++){var g=c[d].meta();if(null!==g){if(-1!==e.indexOf(g,this.LEFT_ICON_PART)||-1!==g.indexOf(this.RIGHT_ICON_PART))b=!0;-1!==e.indexOf(g,this.MAIN_PART)&&(a=c[d])}}return null===a||b?null:a},disconnnectEvent:function(){this.clickHandler&&this.clickHandler.remove()}})})},"dojox/grid/_Grid":function(){define("dojo/_base/kernel ../main dojo/_base/declare ./_Events ./_Scroller ./_Layout ./_View ./_ViewManager ./_RowManager ./_FocusManager ./_EditManager ./Selection ./_RowSelector ./cells ./util dijit/_Widget dijit/_TemplatedMixin dijit/CheckedMenuItem dojo/text!./resources/_Grid.html dojo/string dojo/_base/array dojo/_base/lang dojo/_base/sniff dojox/html/metrics dojo/_base/html dojo/query dojo/dnd/common dojo/i18n!dijit/nls/loading".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y,w,z,B,A,C,F){n.isCopyKey||(n.isCopyKey=n.dnd.getCopyKeyState);m=l("dojox.grid._Grid",[q,u,k],{templateString:x,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:!1,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:!0,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:!1,selectionMode:"extended",rowSelector:"",columnReordering:!1,headerMenu:null,placeholderLabel:"GridColumns",selectable:!1,_click:null,
loadingMessage:"\x3cspan class\x3d'dojoxGridLoading'\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dojoxGridError'\x3e${errorState}\x3c/span\x3e",noDataMessage:"",escapeHTMLInData:!0,formatterScope:null,editable:!1,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:c,buildRendering:function(){this.inherited(arguments);this.domNode.getAttribute("tabIndex")||(this.domNode.tabIndex="0");this.createScroller();this.createLayout();this.createViews();this.createManagers();
this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");A.initOnFontResize();this.connect(A,"onFontResize","textSizeChanged");t.funnelEvents(this.domNode,this,"doKeyEvent",t.keyEvents);"none"!=this.selectionMode&&this.domNode.setAttribute("aria-multiselectable","single"==this.selectionMode?"false":"true");C.addClass(this.domNode,this.classTag);this.isLeftToRight()||
C.addClass(this.domNode,this.classTag+"Rtl");0<this.rowHeight&&C.addClass(this.viewsNode,this.classTag+"FixedRowHeight")},postMixInProperties:function(){this.inherited(arguments);var a=n.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=y.substitute(this.loadingMessage,a);this.errorMessage=y.substitute(this.errorMessage,a);this.srcNodeRef&&this.srcNodeRef.style.height&&(this.height=this.srcNodeRef.style.height);this._setAutoHeightAttr(this.autoHeight,!0);this.lastScrollTop=this.scrollTop=
0},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);this.domNode&&this.autoWidth&&this.initialWidth&&(this.domNode.style.width=this.initialWidth);this.domNode&&!this.editable&&C.attr(this.domNode,"aria-readonly","true")},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.scroller&&(this.scroller.destroy(),delete this.scroller);this.edit.destroy();
delete this.edit;this.views.destroyViews();this.focus&&(this.focus.destroy(),delete this.focus);this.headerMenu&&this._placeholders.length&&(w.forEach(this._placeholders,function(a){a.unReplace(!0)}),this.headerMenu.unBindDomNode(this.viewsHeaderNode));this.inherited(arguments)},_setAutoHeightAttr:function(a,b){"string"==typeof a&&(a=a&&"false"!=a?"true"==a?!0:window.parseInt(a,10):!1);"number"==typeof a&&(isNaN(a)&&(a=!1),0>a?a=!0:0===a&&(a=!1));this.autoHeight=a;this._autoHeight="boolean"==typeof a?
a:"number"==typeof a?a>=this.get("rowCount"):!1;this._started&&!b&&this.render()},_getRowCountAttr:function(){return this.updating&&this.invalidated&&void 0!=this.invalidated.rowCount?this.invalidated.rowCount:this.rowCount},textSizeChanged:function(){this.render()},sizeChange:function(){this.update()},createManagers:function(){this.rows=new b(this);this.focus=new a(this);this.edit=new d(this)},createSelection:function(){this.selection=new p(this)},createScroller:function(){this.scroller=new g;this.scroller.grid=
this;this.scroller.renderRow=z.hitch(this,"renderRow");this.scroller.removeRow=z.hitch(this,"rowRemoved")},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn")},onMoveColumn:function(){this.update()},onResizeColumn:function(a){},createViews:function(){this.views=new f(this);this.views.createView=z.hitch(this,"createView")},createView:function(a,b){var c=new ("string"===typeof a?z.getObject(a):a)({grid:this,index:b});this.viewsNode.appendChild(c.domNode);
this.viewsHeaderNode.appendChild(c.headerNode);this.views.addView(c);C.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return c},buildViews:function(){for(var a=0,b;b=this.layout.structure[a];a++)this.createView(b.type||e,a).setStructure(b);this.scroller.setContentNodes(this.views.getContentNodes())},_setStructureAttr:function(a){a&&z.isString(a)&&(n.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0"),a=z.getObject(a));
this.structure=a;if(!a)if(this.layout.structure)a=this.layout.structure;else return;this.views.destroyViews();this.focus.focusView=null;a!==this.layout.structure&&this.layout.setStructure(a);this._structureChanged()},setStructure:function(a){n.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(a)},getColumnTogglingItems:function(){var a,b=[];a=w.map(this.layout.cells,function(a){a.menuItems||(a.menuItems=[]);var c=this,
d=new v({label:a.name,checked:!a.hidden,_gridCell:a,onChange:function(a){if(c.layout.setColumnVisibility(this._gridCell.index,a)){var b=this._gridCell.menuItems;1<b.length&&w.forEach(b,function(b){b!==this&&b.setAttribute("checked",a)},this);a=w.filter(c.layout.cells,function(a){1<a.menuItems.length?w.forEach(a.menuItems,"item.set('disabled', false);"):a.menuItems[0].set("disabled",!1);return!a.hidden});1==a.length&&w.forEach(a[0].menuItems,"item.set('disabled', true);")}},destroy:function(){var a=
w.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(a,1);delete this._gridCell;v.prototype.destroy.apply(this,arguments)}});a.menuItems.push(d);a.hidden||b.push(d);return d},this);1==b.length&&b[0].set("disabled",!0);return a},_setHeaderMenuAttr:function(a){this._placeholders&&this._placeholders.length&&(w.forEach(this._placeholders,function(a){a.unReplace(!0)}),this._placeholders=[]);this.headerMenu&&this.headerMenu.unBindDomNode(this.viewsHeaderNode);if(this.headerMenu=a)this.headerMenu.bindDomNode(this.viewsHeaderNode),
this.headerMenu.getPlaceholders&&(this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel))},setHeaderMenu:function(a){n.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(a)},setupHeaderMenu:function(){this._placeholders&&this._placeholders.length&&w.forEach(this._placeholders,function(a){a._replaced&&a.unReplace(!0);a.replace(this.getColumnTogglingItems())},this)},_fetch:function(a){this.setScrollTop(0)},
getItem:function(a){return null},showMessage:function(a){a?(this.messagesNode.innerHTML=a,this.messagesNode.style.display=""):(this.messagesNode.innerHTML="",this.messagesNode.style.display="none")},_structureChanged:function(){this.buildViews();this.autoRender&&this._started&&this.render()},hasLayout:function(){return this.layout.cells.length},resize:function(a,b){this._pendingChangeSize=a;this._pendingResultSize=b;this.sizeChange()},_getPadBorder:function(){return this._padBorder=this._padBorder||
C._getPadBorderExtents(this.domNode)},_getHeaderHeight:function(){var a=this.viewsHeaderNode.style,b="none"==a.display?0:this.views.measureHeader();a.height=b+"px";this.views.normalizeHeaderNodeHeight();return b},_resize:function(a,b){a=a||this._pendingChangeSize;b=b||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(this.domNode){var c=this.domNode.parentNode;if(c&&1==c.nodeType&&this.hasLayout()&&"hidden"!=c.style.visibility&&"none"!=c.style.display){var d=
this._getPadBorder(),f=void 0,e;this._autoHeight?this.domNode.style.height="auto":"number"==typeof this.autoHeight?(e=f=this._getHeaderHeight(),e+=this.scroller.averageRowHeight*this.autoHeight,this.domNode.style.height=e+"px"):this.domNode.clientHeight<=d.h&&(c==document.body?this.domNode.style.height=this.defaultHeight:this.height?this.domNode.style.height=this.height:this.fitTo="parent");b&&(a=b);!this._autoHeight&&a?(C.marginBox(this.domNode,a),this.height=this.domNode.style.height,delete this.fitTo):
"parent"==this.fitTo&&(e=this._parentContentBoxHeight=0<this._parentContentBoxHeight?this._parentContentBoxHeight:C._getContentBox(c).h,this.domNode.style.height=Math.max(0,e)+"px");c=w.some(this.views.views,function(a){return a.flexCells});this._autoHeight||0!==(e||C._getContentBox(this.domNode).h)?(this.viewsHeaderNode.style.display="block",c||void 0!==f||(f=this._getHeaderHeight())):this.viewsHeaderNode.style.display="none";c&&(f=void 0);this.adaptWidth();this.adaptHeight(f);this.postresize()}}},
adaptWidth:function(){var a=!this.initialWidth&&this.autoWidth,b=a?0:this.domNode.clientWidth||this.domNode.offsetWidth-this._getPadBorder().w,b=this.views.arrange(1,b);this.views.onEach("adaptWidth");a&&(this.domNode.style.width=b+"px")},adaptHeight:function(a){a=void 0===a?this._getHeaderHeight():a;var b=this._autoHeight?-1:Math.max(this.domNode.clientHeight-a,0)||0;this.views.onEach("setSize",[0,b]);this.views.onEach("adaptHeight");if(!this._autoHeight){var c=0,d=0,f=w.filter(this.views.views,
function(a){(a=a.hasHScrollbar())?c++:d++;return!a});0<c&&0<d&&w.forEach(f,function(a){a.adaptHeight(!0)})}!0===this.autoHeight||-1!=b||"number"==typeof this.autoHeight&&this.autoHeight>=this.get("rowCount")?this.scroller.windowHeight=b:this.scroller.windowHeight=Math.max(this.domNode.clientHeight-a,0)},startup:function(){this._started||(this.inherited(arguments),this.autoRender&&this.render())},render:function(){this.domNode&&this._started&&(this.hasLayout()?(this.update=this.defaultUpdate,this._render()):
this.scroller.init(0,this.keepRows,this.rowsPerPage))},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender()},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize()},postrender:function(){this.postresize();this.focus.initFocusView();C.setSelectable(this.domNode,this.selectable)},postresize:function(){if(this._autoHeight){var a=
Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=a}},renderRow:function(a,b){this.views.renderRow(a,b,this._skipRowRenormalize)},rowRemoved:function(a){this.views.rowRemoved(a)},invalidated:null,updating:!1,beginUpdate:function(){this.invalidated=[];this.updating=!0},endUpdate:function(){this.updating=!1;var a=this.invalidated,b;if(a.all)this.update();else if(void 0!=a.rowCount)this.updateRowCount(a.rowCount);else for(b in a)this.updateRow(Number(b));this.invalidated=[]},defaultUpdate:function(){this.domNode&&
(this.updating?this.invalidated.all=!0:(this.lastScrollTop=this.scrollTop,this.prerender(),this.scroller.invalidateNodes(),this.setScrollTop(this.lastScrollTop),this.postrender()))},update:function(){this.render()},updateRow:function(a){a=Number(a);this.updating?this.invalidated[a]=!0:(this.views.updateRow(a),this.scroller.rowHeightChanged(a))},updateRows:function(a,b){a=Number(a);b=Number(b);var c;if(this.updating)for(c=0;c<b;c++)this.invalidated[c+a]=!0;else{for(c=0;c<b;c++)this.views.updateRow(c+
a,this._skipRowRenormalize);this.scroller.rowHeightChanged(a)}},updateRowCount:function(a){this.updating?this.invalidated.rowCount=a:(this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this.layout.cells.length&&this.scroller.updateRowCount(a),this._resize(),this.layout.cells.length&&this.setScrollTop(this.scrollTop))},updateRowStyles:function(a){this.views.updateRowStyles(a)},getRowNode:function(a){if(!this.focus.focusView||this.focus.focusView instanceof r)for(var b=0,c;c=this.views.views[b];b++){if(!(c instanceof
r))return c.rowNodes[a]}else return this.focus.focusView.rowNodes[a];return null},rowHeightChanged:function(a){this.views.renormalizeRow(a);this.scroller.rowHeightChanged(a)},fastScroll:!0,delayScroll:!1,scrollRedrawThreshold:B("ie")?100:50,scrollTo:function(a){if(this.fastScroll){var b=Math.abs(this.lastScrollTop-a);this.lastScrollTop=a;if(b>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=!0;this.scrollTop=a;this.views.setScrollTop(a);this._pendingScroll&&window.clearTimeout(this._pendingScroll);
var c=this;this._pendingScroll=window.setTimeout(function(){delete c._pendingScroll;c.finishScrollJob()},200)}else this.setScrollTop(a)}else this.setScrollTop(a)},finishScrollJob:function(){this.delayScroll=!1;this.setScrollTop(this.scrollTop)},setScrollTop:function(a){this.scroller.scroll(this.views.setScrollTop(a))},scrollToRow:function(a){this.setScrollTop(this.scroller.findScrollTop(a)+1)},styleRowNode:function(a,b){b&&this.rows.styleRowNode(a,b)},_mouseOut:function(a){this.rows.setOverRow(-2)},
getCell:function(a){return this.layout.cells[a]},setCellWidth:function(a,b){this.getCell(a).unitWidth=b},getCellName:function(a){return"Cell "+a.index},canSort:function(a){},sort:function(){},getSortAsc:function(a){a=void 0==a?this.sortInfo:a;return Boolean(0<a)},getSortIndex:function(a){a=void 0==a?this.sortInfo:a;return Math.abs(a)-1},setSortIndex:function(a,b){var c=a+1;void 0!=b?c*=b?1:-1:this.getSortIndex()==a&&(c=-this.sortInfo);this.setSortInfo(c)},setSortInfo:function(a){this.canSort(a)&&
(this.sortInfo=a,this.sort(),this.update())},doKeyEvent:function(a){a.dispatch="do"+a.type;this.onKeyEvent(a)},_dispatch:function(a,b){return a in this?this[a](b):!1},dispatchKeyEvent:function(a){this._dispatch(a.dispatch,a)},dispatchContentEvent:function(a){this.edit.dispatchEvent(a)||a.sourceView.dispatchContentEvent(a)||this._dispatch(a.dispatch,a)},dispatchHeaderEvent:function(a){a.sourceView.dispatchHeaderEvent(a)||this._dispatch("doheader"+a.type,a)},dokeydown:function(a){this.onKeyDown(a)},
doclick:function(a){if(a.cellNode)this.onCellClick(a);else this.onRowClick(a)},dodblclick:function(a){if(a.cellNode)this.onCellDblClick(a);else this.onRowDblClick(a)},docontextmenu:function(a){if(a.cellNode)this.onCellContextMenu(a);else this.onRowContextMenu(a)},doheaderclick:function(a){if(a.cellNode)this.onHeaderCellClick(a);else this.onHeaderClick(a)},doheaderdblclick:function(a){if(a.cellNode)this.onHeaderCellDblClick(a);else this.onHeaderDblClick(a)},doheadercontextmenu:function(a){if(a.cellNode)this.onHeaderCellContextMenu(a);
else this.onHeaderContextMenu(a)},doStartEdit:function(a,b){this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,c){this.onApplyCellEdit(a,b,c)},doCancelEdit:function(a){this.onCancelEdit(a)},doApplyEdit:function(a){this.onApplyEdit(a)},addRow:function(){this.updateRowCount(this.get("rowCount")+1)},removeSelectedRows:function(){this.allItemsSelected?this.updateRowCount(0):this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));this.selection.clear()}});m.markupFactory=
function(a,b,c,d){var f=function(a){a=C.attr(a,"width")||"auto";"auto"!=a&&"em"!=a.slice(-2)&&"%"!=a.slice(-1)&&(a=parseInt(a,10)+"px");return a};a.structure||"table"!=b.nodeName.toLowerCase()||(a.structure=F("\x3e colgroup",b).map(function(a){var b=C.attr(a,"span"),b={noscroll:"true"==C.attr(a,"noscroll")?!0:!1,__span:b?parseInt(b,10):1,cells:[]};C.hasAttr(a,"width")&&(b.width=f(a));return b}),a.structure.length||a.structure.push({__span:Infinity,cells:[]}),F("thead \x3e tr",b).forEach(function(b,
c){var e=0,g=0,k,l=null;F("\x3e th",b).map(function(b){l?e>=k+l.__span&&(g++,k+=l.__span,l=a.structure[g]):(k=0,l=a.structure[0]);var m={name:z.trim(C.attr(b,"name")||b.innerHTML),colSpan:parseInt(C.attr(b,"colspan")||1,10),type:z.trim(C.attr(b,"cellType")||""),id:z.trim(C.attr(b,"id")||"")};e+=m.colSpan;var n=C.attr(b,"rowspan");n&&(m.rowSpan=n);C.hasAttr(b,"width")&&(m.width=f(b));C.hasAttr(b,"relWidth")&&(m.relWidth=window.parseInt(C.attr(b,"relWidth"),10));C.hasAttr(b,"hidden")&&(m.hidden="true"==
C.attr(b,"hidden")||!0===C.attr(b,"hidden"));d&&d(b,m);m.type=m.type?z.getObject(m.type):s.Cell;m.type&&m.type.markupFactory&&m.type.markupFactory(b,m);l.cells[c]||(l.cells[c]=[]);l.cells[c].push(m)})}));return new c(a,b)};return m})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(n,m,l){return n("dojo.store.Memory",null,{constructor:function(k){for(var g in k)this[g]=k[g];this.setData(this.data||[])},data:null,idProperty:"id",
index:null,queryEngine:l,get:function(k){return this.data[this.index[k]]},getIdentity:function(k){return k[this.idProperty]},put:function(k,g){var c=this.data,e=this.index,f=this.idProperty,f=k[f]=g&&"id"in g?g.id:f in k?k[f]:Math.random();if(f in e){if(g&&!1===g.overwrite)throw Error("Object already exists");c[e[f]]=k}else e[f]=c.push(k)-1;return f},add:function(k,g){(g=g||{}).overwrite=!1;return this.put(k,g)},remove:function(k){var g=this.index,c=this.data;if(k in g)return c.splice(g[k],1),this.setData(c),
!0},query:function(k,g){return m(this.queryEngine(k,g)(this.data))},setData:function(k){k.items?(this.idProperty=k.identifier||this.idProperty,k=this.data=k.items):this.data=k;this.index={};for(var g=0,c=k.length;g<c;g++)this.index[k[g][this.idProperty]]=g}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(n,m,l,k,g,c,e){g.add("highcontrast",function(){var c=e.doc.createElement("div");c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(m.blankGif||n.toUrl("./resources/blank.gif"))+'");';e.body().appendChild(c);var b=k.getComputedStyle(c),a=b.backgroundImage,b=b.borderTopColor==b.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=g("ie")?c.outerHTML="":e.body().removeChild(c);return b});c(function(){g("highcontrast")&&l.add(e.body(),"dj_a11y")});return g})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(n,m,l){function k(a,c,d,e,g){if(e=c.match(/(.*):(.*)/))return c=
e[2],e=e[1],f.selector(e,c).call(g,a,d);l("touch")&&(b.test(c)&&(d=B(d)),l("event-orientationchange")||"orientationchange"!=c||(c="resize",a=window,d=B(d)));s&&(d=s(d));if(a.addEventListener){var k=c in p,m=k?p[c]:c;a.addEventListener(m,d,k);return{remove:function(){a.removeEventListener(m,d,k)}}}if(v&&a.attachEvent)return v(a,"on"+c,d);throw Error("Target must be an event emitter");}function g(){this.cancelable=!1;this.defaultPrevented=!0}function c(){this.bubbles=!1}var e=window.ScriptEngineMajorVersion;
l.add("jscript",e&&e()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);l.add("event-focusin",function(a,b,c){return"onfocusin"in c});l("touch")&&l.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});
var f=function(a,b,c,d){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?f.parse(a,b,c,k,d,this):a.on(b,c)};f.pausable=function(a,b,c,d){var e;a=f(a,b,function(){if(!e)return c.apply(this,arguments)},d);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};f.once=function(a,b,c,d){var e=f(a,b,function(){e.remove();return c.apply(this,arguments)});return e};f.parse=function(a,b,c,d,e,g){if(b.call)return b.call(g,a,c);if(b instanceof Array)k=b;else if(-1<b.indexOf(","))var k=b.split(/\s*,\s*/);
if(k){var l=[];b=0;for(var m;m=k[b++];)l.push(f.parse(a,m,c,d,e,g));l.remove=function(){for(var a=0;a<l.length;a++)l[a].remove()};return l}return d(a,b,c,e,g)};var b=/^touch/;f.matches=function(a,b,c,d,f){f=f&&f.matches?f:m.query;d=!1!==d;1!=a.nodeType&&(a=a.parentNode);for(;!f.matches(a,b,c);)if(a==c||!1===d||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};f.selector=function(a,b,c){return function(d,e){function g(b){return f.matches(b,a,d,c,k)}var k="function"==typeof a?{matches:a}:this,l=b.bubble;
return l?f(d,l(g),e):f(d,b,function(a){var b=g(a.target);if(b)return e.call(b,a)})}};var a=[].slice,d=f.emit=function(b,d,f){var e=a.call(arguments,2),k="on"+d;if("parentNode"in b){var l=e[0]={},m;for(m in f)l[m]=f[m];l.preventDefault=g;l.stopPropagation=c;l.target=b;l.type=d;f=l}do b[k]&&b[k].apply(b,e);while(f&&f.bubbles&&(b=b.parentNode));return f&&f.cancelable&&f},p=l("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!l("event-stopimmediatepropagation"))var r=function(){this.modified=this.immediatelyStopped=
!0},s=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=r,a.apply(this,arguments)}};if(l("dom-addeventlistener"))f.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var e=(a.ownerDocument||document).createEvent("HTMLEvents");e.initEvent(b,!!c.bubbles,!!c.cancelable);for(var g in c)g in e||(e[g]=c[g]);return a.dispatchEvent(e)&&e}return d.apply(f,arguments)};else{f._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||
window).event);if(!a)return a;try{t&&a.type==t.type&&a.srcElement==t.target&&(a=t)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=x,a.preventDefault=y),a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):
"";d.charOrCode=d.keyChar||d.keyCode}return a};var t,q=function(a){this.handle=a};q.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(a){return function(b){b=f._fixEvent(b,this);var c=a.call(this,b);b.modified&&(t||setTimeout(function(){t=null}),t=b);return c}},v=function(a,b,c){c=u(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=
[]);var d=a[b];if(!d||!d.listeners){var f=d,d=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");d.listeners=[];a[b]=d;d.global=this;f&&d.listeners.push(_dojoIEListeners_.push(f)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(c)-1);return new q(a)}return n.after(a,b,c,!0)},x=function(){this.cancelBubble=!0},y=f._preventDefault=function(){this.bubbledKeyCode=
this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(l("touch"))var w=function(){},z=window.orientation,B=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;try{delete b.type}catch(f){}if(b.type){if(l("touch-can-modify-event-delegate"))w.prototype=b,c=new w;else{var c={},e;for(e in b)c[e]=b[e]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=
c;if("resize"==d){if(z==window.orientation)return null;z=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var d=c.changedTouches[0],g;for(g in d)delete c[g],c[g]=d[g]}return a.call(this,c)}};return f})},"dojo/errors/create":function(){define(["../_base/lang"],function(n){return function(m,l,k,g){k=k||Error;var c=function(e){if(k===Error){Error.captureStackTrace&&Error.captureStackTrace(this,c);var f=Error.call(this,e),b;for(b in f)f.hasOwnProperty(b)&&
(this[b]=f[b]);this.message=e;this.stack=f.stack}else k.apply(this,arguments);l&&l.apply(this,arguments)};c.prototype=n.delegate(k.prototype,g);c.prototype.name=m;return c.prototype.constructor=c}})},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(n,m,l,k,g){return l("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(c){this.dispatchKeyEvent(c)},onContentEvent:function(c){this.dispatchContentEvent(c)},
onHeaderEvent:function(c){this.dispatchHeaderEvent(c)},onStyleRow:function(c){c.customClasses+=(c.odd?" dojoxGridRowOdd":"")+(c.selected?" dojoxGridRowSelected":"")+(c.over?" dojoxGridRowOver":"");this.focus.styleRow(c);this.edit.styleRow(c)},onKeyDown:function(c){if(!c.altKey&&!c.metaKey){var e;switch(c.keyCode){case n.ESCAPE:this.edit.cancel();break;case n.ENTER:if(!this.edit.isEditing()){e=this.focus.getHeaderIndex();if(0<=e){this.setSortIndex(e);break}else this.selection.clickSelect(this.focus.rowIndex,
dojo.isCopyKey(c),c.shiftKey);k.stop(c)}c.shiftKey||(e=this.edit.isEditing(),this.edit.apply(),e||this.edit.setEditCell(this.focus.cell,this.focus.rowIndex));this.edit.isEditing()||((this.focus.focusView||this.views.views[0]).content.decorateEvent(c),this.onRowClick(c),k.stop(c));break;case n.SPACE:if(!this.edit.isEditing()){e=this.focus.getHeaderIndex();if(0<=e){this.setSortIndex(e);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);k.stop(c)}break;case n.TAB:this.focus[c.shiftKey?
"previousKey":"nextKey"](c);break;case n.LEFT_ARROW:case n.RIGHT_ARROW:if(!this.edit.isEditing()){var f=c.keyCode;k.stop(c);e=this.focus.getHeaderIndex();0<=e&&c.shiftKey&&c.ctrlKey?this.focus.colSizeAdjust(c,e,5*(f==n.LEFT_ARROW?-1:1)):(c=f==n.LEFT_ARROW?1:-1,this.isLeftToRight()&&(c*=-1),this.focus.move(0,c))}break;case n.UP_ARROW:this.edit.isEditing()||0===this.focus.rowIndex||(k.stop(c),this.focus.move(-1,0));break;case n.DOWN_ARROW:this.edit.isEditing()||this.focus.rowIndex+1==this.rowCount||
(k.stop(c),this.focus.move(1,0));break;case n.PAGE_UP:this.edit.isEditing()||0===this.focus.rowIndex||(k.stop(c),this.focus.rowIndex!=this.scroller.firstVisibleRow+1?this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1)),this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0)));break;case n.PAGE_DOWN:this.edit.isEditing()||this.focus.rowIndex+1==this.rowCount||(k.stop(c),this.focus.rowIndex!=
this.scroller.lastVisibleRow-1?this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1)),this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0)))}}},onMouseOver:function(c){-1==c.rowIndex?this.onHeaderCellMouseOver(c):this.onCellMouseOver(c)},onMouseOut:function(c){-1==c.rowIndex?this.onHeaderCellMouseOut(c):this.onCellMouseOut(c)},onMouseDown:function(c){-1==c.rowIndex?this.onHeaderCellMouseDown(c):
this.onCellMouseDown(c)},onMouseOverRow:function(c){this.rows.isOver(c.rowIndex)||(this.rows.setOverRow(c.rowIndex),-1==c.rowIndex?this.onHeaderMouseOver(c):this.onRowMouseOver(c))},onMouseOutRow:function(c){if(this.rows.isOver(-1))this.onHeaderMouseOut(c);else this.rows.isOver(-2)||(this.rows.setOverRow(-2),this.onRowMouseOut(c))},onMouseDownRow:function(c){if(-1!=c.rowIndex)this.onRowMouseDown(c)},onCellMouseOver:function(c){c.cellNode&&m.add(c.cellNode,this.cellOverClass)},onCellMouseOut:function(c){c.cellNode&&
m.remove(c.cellNode,this.cellOverClass)},onCellMouseDown:function(c){},onCellClick:function(c){this._click[0]=this._click[1];this._click[1]=c;this.edit.isEditCell(c.rowIndex,c.cellIndex)||this.focus.setFocusCell(c.cell,c.rowIndex);1<this._click.length&&null==this._click[0]&&this._click.shift();this.onRowClick(c)},onCellDblClick:function(c){var e;e=1<this._click.length&&g("ie")?this._click[1]:1<this._click.length&&this._click[0].rowIndex!=this._click[1].rowIndex?this._click[0]:c;this.focus.setFocusCell(e.cell,
e.rowIndex);this.edit.setEditCell(e.cell,e.rowIndex);this.onRowDblClick(c)},onCellContextMenu:function(c){this.onRowContextMenu(c)},onCellFocus:function(c,e){this.edit.cellFocus(c,e)},onRowClick:function(c){this.edit.rowClick(c);this.selection.clickSelectEvent(c)},onRowDblClick:function(c){},onRowMouseOver:function(c){},onRowMouseOut:function(c){},onRowMouseDown:function(c){},onRowContextMenu:function(c){k.stop(c)},onHeaderMouseOver:function(c){},onHeaderMouseOut:function(c){},onHeaderCellMouseOver:function(c){c.cellNode&&
m.add(c.cellNode,this.cellOverClass)},onHeaderCellMouseOut:function(c){c.cellNode&&m.remove(c.cellNode,this.cellOverClass)},onHeaderCellMouseDown:function(c){},onHeaderClick:function(c){},onHeaderCellClick:function(c){this.setSortIndex(c.cell.index);this.onHeaderClick(c)},onHeaderDblClick:function(c){},onHeaderCellDblClick:function(c){this.onHeaderDblClick(c)},onHeaderCellContextMenu:function(c){this.onHeaderContextMenu(c)},onHeaderContextMenu:function(c){this.headerMenu||k.stop(c)},onStartEdit:function(c,
e){},onApplyCellEdit:function(c,e,f){},onCancelEdit:function(c){},onApplyEdit:function(c){},onCanSelect:function(c){return!0},onCanDeselect:function(c){return!0},onSelected:function(c){this.updateRowStyles(c)},onDeselected:function(c){this.updateRowStyles(c)},onSelectionChanged:function(){}})})},"tm1web/cubeview/DataGridDragSelectManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/aspect dojo/topic dojo/on dojo/dom-class dojo/keys dojo/string dojo/mouse ./CubeViewBase ../utility/dom ../share/service-loader!CubeViewService ../mobile/sniff".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t){return n(p,{constructor:function(a,b,c){this._DataGrid=a;this._ColHeader=b;this._RowHeader=c;this.PreviousEndingCell=this.EndingCell=this.StartingCell=null;this._EventHandlers=[];this._removeClass=this._addClass=null;this.InitializeDataGridDragSelectManager()},InitializeDataGridDragSelectManager:function(){this._addClass=m.hitch(this,"AddClass");this._removeClass=m.hitch(this,"RemoveClass");t("mobile-device")?this.own(e(this._DataGrid.Grid,"touchstart",m.hitch(this,
"_onTouchStart"))):this.own(e(this._DataGrid.Grid,"mousedown",m.hitch(this,"_onMouseDown")));this.own(e(this._DataGrid.Panel,"keydown",m.hitch(this,"_OnKeyDown")));this.own(c.subscribe("TM1Web-DialogUnderlayDisplayed",m.hitch(this,"_endDragSelect")))},Reset:function(){this._UnSelectCells()},setSelection:function(a,b){this._SelectSingleCell(a);this.EndingCell=b;this._SelectCells();this._SetSelectedArea()},_GetCoordinate:function(a){return this._DataGrid.GetCoordinate(a)},_SelectCells:function(){var a=
this._GetCoordinate(this.StartingCell);if(this.PreviousEndingCell!=this.EndingCell){var b=this._GetCoordinate(this.EndingCell),c=this._GetCoordinate(this.PreviousEndingCell),d=this._ComputeCellSelectionInfo(a.rowIndex,c.rowIndex,b.rowIndex),f=this._ComputeCellSelectionInfo(a.colIndex,c.colIndex,b.colIndex);this._SelectDataGridCells(a,c,b,d,f);this._SelectRowHeaderCells(a,c,b,d);this._SelectColHeaderCells(a,c,b,f)}},_SelectRowHeaderCells:function(a,b,c,d){null==d?(this._ManipulateCellsClassForRowHeaderSelection(a.rowIndex,
b.rowIndex,this._removeClass),this._ManipulateCellsClassForRowHeaderSelection(a.rowIndex,c.rowIndex,this._addClass)):d.canSelect&&this._ManipulateCellsClassForRowHeaderSelection(d.start,d.end,d.isAdd?this._addClass:this._removeClass)},_SelectColHeaderCells:function(a,b,c,d){null==d?(this._ManipulateCellsClassForColHeaderSelection(a.colIndex,b.colIndex,this._removeClass),this._ManipulateCellsClassForColHeaderSelection(a.colIndex,c.colIndex,this._addClass)):d.canSelect&&this._ManipulateCellsClassForColHeaderSelection(d.start,
d.end,d.isAdd?this._addClass:this._removeClass)},_SelectDataGridCells:function(a,b,c,d,f){d=this._ComputeCellSelectionInfo(a.rowIndex,b.rowIndex,c.rowIndex);f=this._ComputeCellSelectionInfo(a.colIndex,b.colIndex,c.colIndex);if(null==d||null==f)this._ManipulateCellsClassForDataGridSelectionEx(this.StartingCell,this.PreviousEndingCell,this._removeClass),this._ManipulateCellsClassForDataGridSelectionEx(this.StartingCell,this.EndingCell,this._addClass),this._SelectStartingCell();else{var e=f.isAdd?this._addClass:
this._removeClass;!d.canSelect&&f.canSelect?this._ManipulateCellsClassForDataGridSelection(a.rowIndex,f.start,c.rowIndex,f.end,e):d.isAdd?(this._ManipulateCellsClassForDataGridSelection(d.start,a.colIndex,d.end,c.colIndex,this._addClass),f.canSelect&&this._ManipulateCellsClassForDataGridSelection(a.rowIndex,f.start,b.rowIndex,f.end,e)):(this._ManipulateCellsClassForDataGridSelection(d.start,a.colIndex,d.end,b.colIndex,this._removeClass),f.canSelect&&this._ManipulateCellsClassForDataGridSelection(a.rowIndex,
f.start,c.rowIndex,f.end,e))}},_ManipulateCellsClassForColHeaderSelection:function(a,b,c){var d=this._ColHeader.Grid,f=d.rows.length-1;0<=f&&this._ManipulateCellsClass(d,f,a,f,b,c,"tm1webCell_selected_column_header")},_SelectStartingCell:function(){this._addClass(this.StartingCell,"tm1webCell_selected");this._removeClass(this.StartingCell,"tm1webCell_selected_within_block_rc");f.contains(this.StartingCell,"tm1webCell_readonly")&&this._addClass(this.StartingCell,"tm1webCell_selected_and_readonly")},
_ManipulateCellsClassForDataGridSelectionEx:function(a,b,c){a=this._GetCoordinate(a);b=this._GetCoordinate(b);this._ManipulateCellsClassForDataGridSelection(a.rowIndex,a.colIndex,b.rowIndex,b.colIndex,c)},_ManipulateCellsClassForDataGridSelection:function(a,b,c,d,f){this._ManipulateCellsClass(this._DataGrid.Grid,a,b,c,d,f,"tm1webCell_selected_within_block_rc")},_ManipulateCellsClass:function(a,b,c,d,f,e,g){if(b>d){var k=b;b=d;d=k}c>f&&(k=c,c=f,f=k);for(;b<=d&&b<a.lastChild.childNodes.length;b++)for(var k=
a.lastChild.childNodes[b],l=c;l<=f&&l<k.childNodes.length;l++)e(k.childNodes[l],g)},_ManipulateCellsClassForRowHeaderSelection:function(a,b,c){var d=this._RowHeader.Grid;if(a>b){var f=a;a=b;b=f}for(;a<=b;a++)if(f=d.lastChild.childNodes[a])f=f.childNodes,c(f[f.length-1],"tm1webCell_selected_column_header")},_ComputeCellSelectionInfo:function(a,b,c){var d=null,f=null,e=null,g=!1;if(c==b)g=!1;else if(a<=c&&a<=b)b<c?(d=b+1,f=c,g=e=!0):b>c&&(d=c+1,f=b,e=!1,g=!0);else if(a>=c&&a>=b)b<c?(d=b,f=c-1,e=!1,
g=!0):b>c&&(d=c,f=b-1,g=e=!0);else return null;return{start:d,end:f,isAdd:e,canSelect:g}},_onMouseDown:function(a){var b=a.target;d.isLeft(a)?a.shiftKey&&this.StartingCell?null!=b&&"TD"==b.tagName&&(this._doDragSelect(a),this._EventHandlers.push(e(this._DataGrid.Grid,"mousemove",m.hitch(this,"_doDragSelect"))),this._EventHandlers.push(e(this._DataGrid.Grid,"mouseup",m.hitch(this,"_endDragSelect")))):(this._onSingleCellSelect(b),null!=b&&"TD"==b.tagName&&(this._EventHandlers.push(e(this._DataGrid.Grid,
"mousemove",m.hitch(this,"_doDragSelect"))),this._EventHandlers.push(e(this._DataGrid.Grid,"mouseup",m.hitch(this,"_endDragSelect"))))):!d.isRight(a)||null==b||"TD"!=b.tagName||null!=this.StartingCell&&null!=this.EndingCell&&this._IsClickWithinSelectArea(b)||(this._UnSelectCells(),this._SelectSingleCell(b),this._SetSelectedArea())},_onTouchStart:function(a){this._onSingleCellSelect(a.target)},_onSingleCellSelect:function(a){this._UnSelectCells();null!=a&&"TD"==a.tagName&&(this.EndingCell=this.PreviousEndingCell=
this.StartingCell=a,this._SelectStartCells(),this._SetSelectedArea())},_SelectStartCells:function(){var a=this._GetCoordinate(this.StartingCell);this._SelectStartingCell();this._ManipulateCellsClassForRowHeaderSelection(a.rowIndex,a.rowIndex,this._addClass);this._ManipulateCellsClassForColHeaderSelection(a.colIndex,a.colIndex,this._addClass)},isSingleCellSelected:function(){var a=this.GetCoordinate(this.StartingCell),b=this.GetCoordinate(this.EndingCell);return a.rowIndex===b.rowIndex&&a.colIndex===
b.colIndex},_IsClickWithinSelectArea:function(a){var b=this._GetCoordinate(this.StartingCell),c=this._GetCoordinate(this.EndingCell),d=this._GetCoordinate(a);a=Math.abs(b.rowIndex-d.rowIndex)+Math.abs(d.rowIndex-c.rowIndex);d=Math.abs(b.colIndex-d.colIndex)+Math.abs(d.colIndex-c.colIndex);return a==Math.abs(b.rowIndex-c.rowIndex)&&d==Math.abs(b.colIndex-c.colIndex)},_UnSelectCells:function(){if(null!=this.StartingCell&&null!=this.EndingCell){this._removeClass(this.StartingCell,"tm1webCell_selected");
this._removeClass(this.StartingCell,"tm1webCell_selected_and_readonly");var a=this._removeClass,b=this._GetCoordinate(this.StartingCell),c=this._GetCoordinate(this.EndingCell);this._ManipulateCellsClassForColHeaderSelection(b.colIndex,c.colIndex,a);this._ManipulateCellsClassForRowHeaderSelection(b.rowIndex,c.rowIndex,a);this._ManipulateCellsClassForDataGridSelectionEx(this.StartingCell,this.EndingCell,a)}this.PreviousEndingCell=this.EndingCell=this.StartingCell=this._DataGrid.SelectedArea=null},_doDragSelect:function(a){a=
a.target;null!=a&&"TD"==a.tagName&&(this.PreviousEndingCell=this.EndingCell,this.EndingCell=a,this._SelectCells())},_endDragSelect:function(a){l.forEach(this._EventHandlers,function(a){a.remove()});this._EventHandlers=[];this._SetSelectedArea()},_SetSelectedArea:function(){var a,b;this._DataGrid.SelectedArea&&(a=this._DataGrid.SelectedArea.StartCell,b=this._DataGrid.SelectedArea.EndCell);this._DataGrid.SelectedArea={StartCell:this.StartingCell,EndCell:this.EndingCell};a===this.StartingCell&&b===this.EndingCell||
c.publish(this._DataGrid.ObjectId+"-CellsSelected",this._DataGrid.SelectedArea)},_SelectSingleCell:function(a){this._UnSelectCells();this.EndingCell=this.PreviousEndingCell=this.StartingCell=a;this._SelectStartCells()},_OnKeyDown:function(a){if(this._DataGrid.SelectedArea){var c=this._DataGrid.SelectedArea.StartCell;switch(a.keyCode){case b.TAB:c=this._GetNextCell(a.keyCode,a.shiftKey,c);this._SelectSingleCell(c);k.stop(a);break;case b.ENTER:c=this._GetNextCell(a.keyCode,a.shiftKey,c);this._SelectSingleCell(c);
break;case b.UP_ARROW:case b.DOWN_ARROW:a.altKey&&a.keyCode==b.DOWN_ARROW||(a.shiftKey?(c=this._GetNextCell(a.keyCode,a.shiftKey,this.EndingCell),this.PreviousEndingCell=this.EndingCell,this.EndingCell=c,this._SelectCells()):(c=this._GetNextCell(a.keyCode,a.shiftKey,c),this._SelectSingleCell(c)),this._scrollIntoView(c,this._ModifyDirection(a.keyCode,a.shiftKey)));k.stop(a);break;case b.LEFT_ARROW:case b.RIGHT_ARROW:a.shiftKey?(c=this._GetNextCell(a.keyCode,a.shiftKey,this.EndingCell),this.PreviousEndingCell=
this.EndingCell,this.EndingCell=c,this._SelectCells()):(c=this._GetNextCell(a.keyCode,a.shiftKey,c),this._SelectSingleCell(c));this._scrollIntoView(c,this._ModifyDirection(a.keyCode,a.shiftKey));k.stop(a);break;case b.F9:s.recalculate(this._DataGrid.ObjectId,{callback:this._OnRecalculate,scope:this})}}a.altKey&&a.keyCode==b.DOWN_ARROW||a.keyCode==b.F2||a.keyCode==b.BACKSPACE||this._SetSelectedArea()},_GetNextCell:function(a,c,d){var f=d.parentNode,e=this._GetCoordinate(d).colIndex;a=this._ModifyDirection(a,
c);c=null;switch(a){case b.LEFT_ARROW:c=d.previousSibling;break;case b.UP_ARROW:(a=f.previousSibling)&&(c=a.cells[e]);break;case b.RIGHT_ARROW:case b.TAB:c=d.nextSibling;break;case b.DOWN_ARROW:case b.ENTER:(a=f.nextSibling)&&(c=a.cells[e])}null==c&&(c=d);return c},_ModifyDirection:function(a,c){c&&(a==b.TAB&&(a=b.LEFT_ARROW),a==b.ENTER&&(a=b.UP_ARROW));return a},_OnRecalculate:function(a){c.publish(this._DataGrid.ObjectId+"-UpdateCubeViewer",a)},_scrollIntoView:function(a,c){var d=this._DataGrid.Panel;
if(a&&d)switch(c){case b.LEFT_ARROW:a.offsetLeft<d.scrollLeft&&(d.scrollLeft-=a.offsetWidth);break;case b.UP_ARROW:a.offsetTop<d.scrollTop&&(d.scrollTop-=a.offsetHeight);break;case b.RIGHT_ARROW:case b.TAB:var f=a.offsetLeft-d.scrollLeft;0<f&&f+a.offsetWidth>d.offsetWidth-r.getVerticalScrollbarWidth(d)&&(d.scrollLeft+=a.offsetWidth);break;case b.DOWN_ARROW:f=a.offsetTop-d.scrollTop;0<f&&f+a.offsetHeight>d.offsetHeight-r.getHorizontalScrollbarHeight(d)&&(d.scrollTop+=a.offsetHeight);break;default:a.offsetTop+
a.offsetHeight>d.offsetHeight-r.getHorizontalScrollbarHeight(d)?a.scrollIntoView(!1):a.scrollIntoView(!0),t("ie")&&(f=a.offsetLeft+a.offsetWidth,f>d.offsetWidth-r.getVerticalScrollbarWidth(d)?d.scrollLeft=f-d.offsetWidth+r.getVerticalScrollbarWidth(d):d.scrollLeft=a.offsetLeft)}}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(n,m,l){return n("dijit.form._ListBase",null,{selected:null,_listConnect:function(k,g){var c=this;return c.own(m(c.containerNode,
m.selector(function(c,f,b){return c.parentNode==b},k),function(e){c[g](e,this)}))},selectFirstNode:function(){for(var k=this.containerNode.firstChild;k&&"none"==k.style.display;)k=k.nextSibling;this._setSelectedAttr(k,!0)},selectLastNode:function(){for(var k=this.containerNode.lastChild;k&&"none"==k.style.display;)k=k.previousSibling;this._setSelectedAttr(k,!0)},selectNextNode:function(){var k=this.selected;if(k){for(k=k.nextSibling;k&&"none"==k.style.display;)k=k.nextSibling;k?this._setSelectedAttr(k,
!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var k=this.selected;if(k){for(k=k.previousSibling;k&&"none"==k.style.display;)k=k.previousSibling;k?this._setSelectedAttr(k,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(k,g){if(this.selected!=k){var c=this.selected;if(c)this.onDeselect(c);k&&(g&&l.scrollIntoView(k),this.onSelect(k));this._set("selected",k)}else if(k)this.onSelect(k)}})})},"tm1web/cubeview/CopyPasteManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/topic dojo/when dojo/on ../share/TM1Utility ../widgets/ErrorAlert ../utility/clipboard ../utility/event ../utility/message-localizer ../utility/number ./CubeViewBase ./ViewCellType".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n(r,{constructor:function(a,b,c){this.ObjectId=c;this._DataGrid=a;this.InitializeCopyPasteManager();this._service=b},InitializeCopyPasteManager:function(){this._AttachEvents()},_AttachEvents:function(){this.own(c(this._DataGrid.Panel,"keydown",m.hitch(this,"_OnKeyDown")),k.subscribe(this.ObjectId+"-Copy",m.hitch(this,"Copy")),k.subscribe(this.ObjectId+"-Paste",m.hitch(this,"Paste")))},_OnKeyDown:function(b){a.isCopyKeyDown(b)&&(67==b.keyCode?(this.Copy(),
l.stop(b)):86==b.keyCode&&(this.Paste(),l.stop(b)))},Copy:function(){var a;this._service.copyFromSelectedArea?this._service.copyFromSelectedArea(this.ObjectId,{callback:b.set,scope:this}):(a=this._GetTextFromSelectedArea())&&b.set(a)},_GetTextFromSelectedArea:function(){var a=null,b=e.getSelectAreaCoordinates(this._DataGrid);if(b)for(var a="",c=b.rowStart;c<=b.rowEnd;c++){for(var d=this._DataGrid.Grid.rows[c],f=b.colStart;f<=b.colEnd;f++)a+=this._getCellValue(d.childNodes[f]),f!=b.colEnd&&(a+="\t");
c!=b.rowEnd&&(a+="\n")}return a},_getCellValue:function(a){var b=a.cellInfo;return b.changed?b.newValue:b.cellType==s.NUM?p.format(b.numericValue,!0):a.cellInfo.value||""},_isReadOnly:function(){var a=this._DataGrid.SelectedArea,b=null,c=!1;if(null!=a.bottomLeft&&null!=a.topRight&&a.bottomLeft===a.topRight||null!=a.bottomRight&&null!=a.leftTop&&a.bottomRight===a.leftTop)b=a.StartCell;null!=b&&(1==b.cellInfo.readOnly||b.cellInfo.isConsolidated&&this._DataGrid.isSpreadingReadonly())&&(c=!0);return c},
Paste:function(){if(!this._isReadOnly()){var a=b.get(!0);g(a,m.hitch(this,function(a){if(a){a=a.split(/\r?\n/);var b=a.length;1<b&&""===a[b-1]&&a.pop();this._DataGrid.Grid.parentNode.focus();this._service.pasteIntoSelectedArea?this._service.pasteIntoSelectedArea(this.ObjectId,a,{callback:this._OnPaste,scope:this}):(b=e.getSelectAreaCoordinates(this._DataGrid))&&this._service.Paste(this.ObjectId,a,b.rowStart,b.colStart,b.rowEnd,b.colEnd,{callback:this._OnPaste,scope:this})}}))}},_OnPaste:function(a){a.invalidValues&&
f.show({message:d.get("PASTE_FAILURES"),title:d.get("PASTE_FAILURES_TITLE_STR")});this._DataGrid.Update(a.cubeViewUpdatedData)}})})},"tm1web/cubeview/CubePagingGrid":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/dom-class dojo/dom-construct ./CubeViewGridControlBase ./CubeViewGrid ./CubeViewNavigationBar".split(" "),function(n,m,l,k,g,c,e,f,b){return n(e,{constructor:function(a){this.Grid=this.Panel=this.PageNavigator=this.OlapGrid=null;this.InitializeCubePagingGrid()},
InitializeCubePagingGrid:function(){this.OlapGrid=new f(this.ObjectId);this.PageNavigator=new b(this.ObjectId);this.CreateContainer();this._CreateLayout();this._AttachEvents()},setClientConfig:function(a,b){this.OlapGrid.setClientConfig(a,b)},Update:function(a){this.OlapGrid.Update(a);this.PageNavigator.Update(a.gridData.pageID)},CreateContainer:function(){this.Panel=this.CreatePanel("","")},_AttachEvents:function(){k.after(this.OlapGrid,"OnCompletedUpdatelayout",m.hitch(this,"ResizeHorizontalTopPadding"),
!0);k.after(this.PageNavigator,"OnNavigate",m.hitch(this,"OnNavigate"),!0);l.subscribe(this.ObjectId+"-UpdatePagingGrid",m.hitch(this,"Update"))},OnNavigate:function(a){this.OlapGrid.Update(a)},RemoveOldPanel:function(){this.RemoveNodeSelf(this._OldPanel)},ResizeHorizontalTopPadding:function(){this.PageNavigator.AdjustHorizontalBarTopPadding(this.OlapGrid.ColumnHeader.Panel.offsetHeight)},_CreateLayoutCell:function(a,b,f,e,k){a=a.insertCell(-1);g.add(a,b);a.style.verticalAlign=f;a.style.textAlign=
e;k&&c.place(k,a)},_CreateLayout:function(){g.add(this.Panel,"tm1webPageGridPanel");g.add(this.OlapGrid.Panel,"tm1webOLAPPanelWithNavigationBar");c.place(this.OlapGrid.Panel,this.Panel);g.add(this.PageNavigator.NavigationHorizontalDiv,"tm1webNavigationHorizontal");c.place(this.PageNavigator.NavigationHorizontalDiv,this.Panel);g.add(this.PageNavigator.NavigationVerticalDiv,"tm1webNavigationVertical");c.place(this.PageNavigator.NavigationVerticalDiv,this.Panel);g.add(this.PageNavigator.ActivePagesButtonDiv,
"tm1webActivPagesButton");c.place(this.PageNavigator.ActivePagesButtonDiv,this.Panel)},Resize:function(){this.OlapGrid.Resize()}})})},"tm1web/cubeview/CubeDataGrid":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/_base/html dojo/dom-construct dojo/dom-class dojo/dom-style ../config-settings ../utility/number ./celledit/Controller ./WrappedCellCollection ./ViewCellType ./GridBase ./CopyPasteManager ../mobile/ScrollHandler ../mobile/sniff ../share/service-loader!CubeViewService ../share/NumberType ../config-settings!".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x){return n(s,{constructor:function(a){this._wrappedCells=this._columns=this._previousScrollTop=this._previousScrollLeft=this.SelectedArea=this._CellInitialStyle=null;this.unsavedDataChanges=!1;this.InitializeCubeDataGrid()},InitializeCubeDataGrid:function(){this._CellInitialStyle="tm1webDataCell tm1webUnselectedDataCell";this.CreateContainer();this.cellEditController=new d({dataGrid:this,objectId:this.ObjectId});u("mobile-device")&&this.own(new q(this));
k.subscribe("-SwitchTab",m.hitch(this,"_onSwitchTab"));k.subscribe("-AddTab",m.hitch(this,"_onSwitchTab"));new t(this,v,this.ObjectId);this.IsIE||(this.Panel.tabIndex=1E3)},setClientConfig:function(a,b){this._allowSpreading=a;this._allowConsolidateSpreading=b;this.cellEditController.allowConsolidatedCellChanges=!this.isSpreadingReadonly()},isSpreadingReadonly:function(){return!this._allowSpreading||!this._allowConsolidateSpreading},_onSwitchTab:function(){},CreateContainer:function(){var a=this.CreatePanel();
f.set(a,{overflow:"auto"});var b=this;a.onscroll=function(){b.OnScroll()};this.Grid=this.CreateTable(!0);this.Grid.className="tm1webCollapseDataTable tm1webCubeDataGrid";this.Panel=a;c.place(this.Grid,this.Panel)},OnScroll:function(){this._previousScrollLeft=this.Panel.scrollLeft;this._previousScrollTop=this.Panel.scrollTop},_keepPreviousScrollPosition:function(a,b){this.Panel.scrollLeft=a;this.Panel.scrollTop=b;this.OnScroll()},keepPreviousScrollPosition:function(){this.Panel.scrollLeft=this._previousScrollLeft;
this.Panel.scrollTop=this._previousScrollTop;this.OnScroll()},_Update:function(a){var b=this;l.forEach(a.gridData.dataRows||[],function(c){b.UpdateRow(b.Grid.rows[c.rowNum],c,a)});this._resetPickListItems()},Update:function(a){k.publish(this.ObjectId+"-CubeViewUpdating",!0);k.publish(this.ObjectId+"-CubeViewUpdated");a.layoutChanged?this.Create(a):this._Update(a);k.publish(this.ObjectId+"-CubeViewUpdating",!1)},RemoveContent:function(){this.RemoveChildren(this.Grid)},DoCreate:function(a){a=a.gridData.dataRows||
[];this.SelectedArea={StartCell:null,EndCell:null};this._columns=null;if(0<a.length&&a[0]&&a[0].cells){this.Grid.firstChild&&"COLGROUP"==this.Grid.firstChild.nodeName&&c.destroy(this.Grid.firstChild);this._columns=[];this._wrappedCells=new p;for(var b=a[0].cells.length,d=c.create("colgroup"),f=0;f<b;f++){var e=c.create("col",{},d);this._columns.push(e)}c.place(d,this.Grid,"first")}var g=document.createElement("TBODY"),k=this;l.forEach(a,function(a){var b=document.createElement("TR");l.forEach(a.cells||
[],function(a){var c=document.createElement("TD");b.appendChild(c);k.UpdateCell(c,a)});g.appendChild(b)});return g},Create:function(a){this.inherited(arguments)},UpdateRow:function(a,b,c){var d=this;l.forEach(b.cells||[],function(b){d.UpdateCell(a.cells[b.colIndex],b)})},UpdateCell:function(b,c){var d=this._CellInitialStyle;c.cellType==r.STR&&(d+=" tm1webTextCell");c.isConsolidated&&(d+=" tm1webConsolidated");if("VALUE"==c.metricIndicator){if(c.readOnly||c.isConsolidated&&this.isSpreadingReadonly())d+=
" tm1webCell_readonly"}else d+=" tm1webMetric_cellReadonly";c.hold&&(d+=" tm1webCell_hold");var g;if(c.changed){d+=" tm1webCell_changed";g=c.newValue;if(b.cellInfo&&b.cellInfo.percent){var l=a.convert(g,x.PERCENT,!0);g=null==l?g:l}b.cellInfo&&b.cellInfo.editDateTime&&(g=b.cellInfo.editDateTime,b.cellInfo.editDateTime=void 0);l=this.unsavedDataChanges;this.unsavedDataChanges=!0;l||k.publish(this.ObjectId+"-UnsavedDataStateChanged",!0)}else c.isSandboxValueChanged&&(d+=" tm1webSandbox_changed"),g=c.value;
f.set(b,"whiteSpace",c.wrapped?"normal":"nowrap");null!=c.wrappedValue&&(g=c.wrappedValue);this._updateColumnWidth(b,c);"POORTRAFFIC"==c.metricIndicator?d+=" tm1webMetricPoorTraffic":"EXCELLENTTRAFFIC"==c.metricIndicator&&(d+=" tm1webMetricExcellentTraffic");"AVERAGETRAFFIC"==c.metricIndicator?d+=" tm1webMetricAverageTraffic":"TRENDDOWN"==c.metricIndicator&&(d+=" tm1webMetricTrendDown");"TRENDUP"==c.metricIndicator?d+=" tm1webMetricTrendUp":"TRENDEVEN"==c.metricIndicator?d+=" tm1webMetricTrendEven":
"INVALID"==c.metricIndicator&&(d+=" tm1webMetricStatusInvalid");b.cellInfo=c;this.AssignClass(b,d);"VALUE"==c.metricIndicator?this.SetTextContent(b,g):this.SetTextContent(b,null);c.annotated&&e.add(b,"tm1webCellAnnotation")},_updateColumnWidth:function(a,c){if(this._columns){var d=c.colIndex;if(this._columns[d]){var f=c.rowIndex;c.wrapped?(a.style.maxWidth=b.getCubeviewerStringWrapCellWidth()+"px",this._wrappedCells.add(f,d)):(a.style.maxWidth="",this._wrappedCells.remove(f,d))}}},GetCellPosition:function(a){a=
g.coords(a);a.l=a.x;a.t=a.y;return a},_resetPickListItems:function(){l.forEach(this.Grid.rows,function(a){l.forEach(a.cells,function(a){a.cellInfo.pickListItems=null})})}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(n,m,l,k,g,c){var e=c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:
1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(l.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(c,b,a,d,e,g,k,m){if(e!=this._obj){this.stop();this._initialDelay=k||500;this._subsequentDelay=g||.9;this._minDelay=m||10;this._obj=e;this._node=a;this._count=this._currentTimeout=-1;this._callback=l.hitch(b,d);this._evt={faux:!0};for(var n in c)"layerX"!=n&&"layerY"!=n&&(b=c[n],"function"!=
typeof b&&"undefined"!=typeof b&&(this._evt[n]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(c,b,a,d,g,r,s){var t="keyCode"in b?"keyCode":"charCode"in b?"charCode":"charOrCode",q=[k(c,"keyCode"in b?"keydown":"charCode"in b?"keypress":m._keypress,l.hitch(this,function(k){k[t]!=b[t]||void 0!==b.ctrlKey&&b.ctrlKey!=k.ctrlKey||void 0!==b.altKey&&b.altKey!=
k.altKey||void 0!==b.metaKey&&b.metaKey!=(k.metaKey||!1)||void 0!==b.shiftKey&&b.shiftKey!=k.shiftKey?e._obj==b&&e.stop():(k.stopPropagation(),k.preventDefault(),e.trigger(k,a,c,d,b,g,r,s))})),k(c,"keyup",l.hitch(this,function(){e._obj==b&&e.stop()}))];return{remove:function(){n.forEach(q,function(a){a.remove()})}}},addMouseListener:function(c,b,a,d,m,r){var s=[k(c,"mousedown",l.hitch(this,function(g){g.preventDefault();e.trigger(g,b,c,a,c,d,m,r)})),k(c,"mouseup",l.hitch(this,function(a){this._obj&&
a.preventDefault();e.stop()})),k(c,"mouseout",l.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),k(c,"dblclick",l.hitch(this,function(k){k.preventDefault();9>g("ie")&&(e.trigger(k,b,c,a,c,d,m,r),setTimeout(l.hitch(this,e.stop),50))}))];return{remove:function(){n.forEach(s,function(a){a.remove()})}}},addListener:function(c,b,a,d,e,g,k,l){var m=[this.addKeyListener(b,a,d,e,g,k,l),this.addMouseListener(c,d,e,g,k,l)];return{remove:function(){n.forEach(m,function(a){a.remove()})}}}};return e})},
"tm1web/subseteditor/SubsetTree":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/registry","./_Tree"],function(n,m,l,k){return n("tm1web.subseteditor.SubsetTree",k,{betweenThreshold:5,dimensionTree:null,postCreate:function(){this.inherited(arguments)},checkAcceptance:function(){return!0},checkItemAcceptance:function(g,c,e){if(g!=this.tree.rootNode.rowNode&&"over"===e)return!1;if(l.getEnclosingWidget(g).hasChildren())if(this.tree.get("expandAbove")){if("before"==e)return!1}else if("after"==
e)return!1;return c.tree===this.tree||this.tree.dimensionTree&&c.tree===this.tree.dimensionTree},selectFound:function(){this._foundNode&&!this.dimensionTree&&this.dndController.userSelect(this._foundNode,!1,!1)}})})},"tm1web/cubeview/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dijit/Menu dijit/PopupMenuItem dijit/MenuSeparator ../planning/TM1MenuItem ./CubeViewBase".split(" "),function(n,m,l,k,g,c,e,f,b){return n(b,{constructor:function(){this.ContextMenu=
this.Grid=this._CurrentCell=null;this.MenuLabels={};this._handles=[]},_OnContextMenuClose:function(){this.ContextMenu.unBindDomNode(this._CurrentCell);setTimeout(m.hitch(this,"_destroy"),0)},_destroy:function(){this.ContextMenu&&this.ContextMenu.destroyRecursive();l.forEach(this._handles,function(a){a.remove()});this._handlers=[]},_BatchAddHandler:function(a,b){l.forEach(a,function(a){a.handler=m.hitch(this,b)},this)},_CreateMenu:function(a){var b=new g;l.forEach(a,m.hitch(this,function(a){this._AddMenuItem(b,
a)}));return b},_AddMenuItem:function(a,b){var g=null;b.subMenu&&null!=b.subMenu?(g=new c({label:b.label,iconClass:b.iconClass,popup:b.subMenu}),g.startup()):null==b.label?g=new e:(g=new f({label:b.label,disabled:b.disabled,iconClass:b.iconClass},null,b.data),this._handles.push(k.after(g,"OnItemClick",b.handler,!0)));a.addChild(g)},destroy:function(){this.inherited(arguments);this._destroy()}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),
function(n,m,l,k,g,c){k=n("dojo.dnd.move.constrainedMoveable",c,{constraints:function(){},within:!1,constructor:function(c,f){f||(f={});this.constraints=f.constraints;this.within=f.within},onFirstMove:function(c){var f=this.constraintBox=this.constraints.call(this,c);f.r=f.l+f.w;f.b=f.t+f.h;this.within&&(c=m.getMarginSize(c.node),f.r-=c.w,f.b-=c.h)},onMove:function(c,f){var b=this.constraintBox,a=c.node.style;this.onMoving(c,f);f.l=f.l<b.l?b.l:b.r<f.l?b.r:f.l;f.t=f.t<b.t?b.t:b.b<f.t?b.b:f.t;a.left=
f.l+"px";a.top=f.t+"px";this.onMoved(c,f)}});g=n("dojo.dnd.move.boxConstrainedMoveable",k,{box:{},constructor:function(c,f){var b=f&&f.box;this.constraints=function(){return b}}});n=n("dojo.dnd.move.parentConstrainedMoveable",k,{area:"content",constructor:function(c,f){var b=f&&f.area;this.constraints=function(){var a=this.node.parentNode,c=l.getComputedStyle(a),f=m.getMarginBox(a,c);if("margin"==b)return f;var e=m.getMarginExtents(a,c);f.l+=e.l;f.t+=e.t;f.w-=e.w;f.h-=e.h;if("border"==b)return f;
e=m.getBorderExtents(a,c);f.l+=e.l;f.t+=e.t;f.w-=e.w;f.h-=e.h;if("padding"==b)return f;e=m.getPadExtents(a,c);f.l+=e.l;f.t+=e.t;f.w-=e.w;f.h-=e.h;return f}}});return{constrainedMoveable:k,boxConstrainedMoveable:g,parentConstrainedMoveable:n}})},"tm1web/cubeview/CubeViewBase":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/window dojo/dom-construct dojo/sniff ../share/Base ../utility/dom".split(" "),function(n,m,l,k,g,c,e){return n(c,{constructor:function(){this.NBSP=this.IsIE=null;
this.InitializeCubeViewBase()},App:null,InitializeCubeViewBase:function(){this.IsIE=document.all?!0:!1;this.NBSP="\u00a0"},RemoveChildren:function(c){k.empty(c)},CreateTR:function(c){var b=k.create("TR");0<arguments.length&&c.appendChild(b);return b},CreateTd:function(c){var b=k.create("TD");0<arguments.length&&c.appendChild(b);return b},RemoveNodeSelf:function(c){if(null!=c){var b=c.parentNode;null!=b&&b.removeChild(c)}},GetEvent:function(c){window.event&&(c=window.event);return c},CreateTextBox:function(c,
b,a,d){var e=k.create("input");e.value=b;e.setAttribute("type","text");this.AddClass(e,a);e.setAttribute("id",d);c.appendChild(e);return e},CreateLabel:function(c,b,a){var d=k.create("label");this.SetTextContent(d,b);this.AddClass(d,a);c.appendChild(d);return d},CreateA11yLabel:function(c,b,a,d){var e=k.create("label");this.SetTextContent(e,b);this.AddClass(e,a);e.setAttribute("for",d);c.appendChild(e);return e},AddClass:function(c,b){var a=c.className;""!=a?a==b||(new RegExp(b+"$")).test(a)||(a=
this._RemoveClass(c,b),c.className=""!=a?a+" "+b:b):c.className=b},RemoveClass:function(c,b){""!=c.className&&(c.className=this._RemoveClass(c,b))},AssignClass:function(c,b){var a=c.className;""==a?c.className=b:a!=b&&(-1!=a.search("\\btm1webCell_selected\\b")?b+=" tm1webCell_selected":-1!=a.search("\\btm1webCell_selected_within_block_rc\\b")&&(b+=" tm1webCell_selected_within_block_rc"),c.className=b)},_RemoveClass:function(c,b){return c.className.replace(new RegExp("(^"+b+"$)|(^"+b+" )|( "+b+" )|( "+
b+"$)")," ").replace(/  +/," ")},CreateTable:function(c){var b=k.create("TABLE");g("ie");b.className="tm1webCollapse";b.cellSpacing=0;b.cellPadding=0;1==arguments.length&&c&&(b.rules="all",b.border=1);return b},CreatePanel:function(c,b){var a=k.create("DIV");0<arguments.length&&(a.id=c,this.AddClass(a,b));return a},SetTextContent:function(c,b){e.setTextContent(c,b)},GetTextContent:function(c){return e.getTextContent(c)},GetCoordinate:function(c){return{rowIndex:c.cellInfo.rowIndex,colIndex:c.cellInfo.colIndex}}})})},
"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(n,m,l,k){function g(a,b,c){var d="";a&&a.stack&&(d+=a.stack);b&&b.stack&&(d+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);console.error(a,d)}function c(a,b,c,d){b||g(a,c,d)}function e(c,e,g,l){k.some(b,function(a){if(a.error===c)return e&&
(a.handled=!0),!0})||b.push({error:c,rejection:g,handled:e,deferred:l,timestamp:(new Date).getTime()});a||(a=setTimeout(f,d))}function f(){var c=(new Date).getTime(),e=c-d;b=k.filter(b,function(a){return a.timestamp<e?(a.handled||g(a.error,a.rejection,a.deferred),!1):!0});a=b.length?setTimeout(f,b[0].timestamp+d-c):!1}m.add("config-useDeferredInstrumentation","report-unhandled-rejections");var b=[],a=!1,d=1E3;return function(a){var b=m("config-useDeferredInstrumentation");if(b){n.on("resolved",l.hitch(console,
"log","resolved"));n.on("rejected",l.hitch(console,"log","rejected"));n.on("progress",l.hitch(console,"log","progress"));var f=[];"string"===typeof b&&(f=b.split(","),b=f.shift());if("report-rejections"===b)a.instrumentRejected=c;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=e,d=parseInt(f[0],10)||d;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(n,m,l,k,g,c,e,f){function b(a,b,d,e,g){e=f.hitch(d,e);if(!a||!a.addEventListener&&!a.attachEvent)return k.after(a||n.global,b,e,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=n.global);if(!g)switch(b){case "keypress":b=s;break;case "mouseenter":b=c.enter;break;case "mouseleave":b=c.leave}return m(a,b,e,g)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}e.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!e("opera")});var d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},p=e("mac")?"metaKey":"ctrlKey",r=function(b,c){var d=f.mixin({},b,c);a(d);d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()};return d},s;s=e("events-keypress-typed")?function(a,
b){var c=m(a,"keydown",function(a){var c=a.keyCode,f=13!=c&&32!=c&&(27!=c||!e("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(f||a.ctrlKey){f=f?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);f=95<f&&106>f?f-48:!a.shiftKey&&65<=f&&90>=f?f+32:d[f]||f}c=r(a,{type:"keypress",faux:!0,charCode:f});b.call(a.currentTarget,c);if(e("ie"))try{a.keyCode=c.keyCode}catch(g){}}}),f=m(a,"keypress",function(a){var c=a.charCode;a=r(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,
a)});return{remove:function(){c.remove();f.remove()}}}:e("opera")?function(a,b){return m(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&!a.shiftKey&&65<=c&&90>=c&&(c+=32);return b.call(this,r(a,{charCode:c}))})}:function(b,c){return m(b,"keypress",function(b){a(b);return c.call(this,b)})};var t={_keypress:s,connect:function(a,c,d,f,e){var g=arguments,k=[],l=0;k.push("string"==typeof g[0]?null:g[l++],g[l++]);var m=g[l+1];k.push("string"==typeof m||"function"==
typeof m?g[l++]:null,g[l++]);for(m=g.length;l<m;l++)k.push(g[l]);return b.apply(this,k)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,c){return l.subscribe(a,f.hitch(b,c))},publish:function(a,b){return l.publish.apply(l,[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){t.publish(a,arguments)};return c?t.connect(b,c,d):t.connect(b,d)},isCopyKey:function(a){return a[p]}};t.unsubscribe=t.disconnect;f.mixin(n,t);return t})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r){return g("dijit.form._FormSelectWidget",r,{multiple:!1,options:null,store:null,_setStoreAttr:function(a){this._created&&this._deprecatedSetStore(a)},query:null,_setQueryAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:a})},queryOptions:null,_setQueryOptionsAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:a})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(a){var c=this.options||[];if(null==a)return c;if(b.isArray(a))return n.map(a,"return this.getOptions(item);",this);b.isString(a)&&(a={value:a});b.isObject(a)&&(n.some(c,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<c.length?c[a]:null},addOption:function(a){n.forEach(b.isArray(a)?a:[a],function(a){a&&b.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(b.isArray(a)?
a:[a]);n.forEach(a,function(a){a&&(this.options=n.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){n.forEach(b.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,b,c){f.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(a,b,c)},_deprecatedSetStore:function(a,c,f){var e=this.store;f=f||{};if(e!==a){for(var g;g=this._notifyConnections.pop();)g.remove();a.get||(b.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,c){var d=new m(function(){f.abort&&f.abort()});d.total=new m;var f=this.fetch(b.mixin({query:a,onBegin:function(a){d.total.resolve(a)},
onComplete:function(a){d.resolve(a)},onError:function(a){d.reject(a)}},c));return new p(d)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[l.after(a,"onNew",b.hitch(this,"_onNewItem"),!0),l.after(a,"onDelete",b.hitch(this,"_onDeleteItem"),!0),l.after(a,"onSet",b.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);f.query&&this._set("query",f.query);f.queryOptions&&this._set("queryOptions",f.queryOptions);a&&a.query&&(this._loadingStore=!0,this.onLoadDeferred=new m,this._queryRes=a.query(this.query,this.queryOptions),d(this._queryRes,b.hitch(this,function(d){if(this.sortByLabel&&!f.sort&&d.length)if(a.getValue)d.sort(k.createSortFunction([{attribute:a.getLabelAttributes(d[0])[0]}],a));else{var e=this.labelAttr;d.sort(function(a,b){return a[e]>b[e]?1:b[e]>
a[e]?-1:0})}f.onFetch&&(d=f.onFetch.call(this,d,f));n.forEach(d,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(b.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:c);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(d):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));return e},_setValueAttr:function(a,c){this._onChangeActive||(c=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=b.isArray(a)?n.map(a,function(a){return b.isObject(a)?a:{value:a}}):b.isObject(a)?[a]:[{value:a}];a=n.filter(this.getOptions(a),function(a){return a&&a.value});var d=this.getOptions()||[];this.multiple||a[0]&&a[0].value||!d.length||(a[0]=d[0]);n.forEach(d,
function(b){b.selected=n.some(a,function(a){return a.value===b.value})});d=n.map(a,function(a){return a.value});if("undefined"!=typeof d&&"undefined"!=typeof d[0]){var f=n.map(a,function(a){return a.label});this._setDisplay(this.multiple?f:f[0]);this.inherited(arguments,[this.multiple?d:d[0],c]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=n.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},
_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(n.forEach(this._getChildren(),function(a){a.destroyRecursive()}),n.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;n.forEach(this._getChildren(),function(c){var d=n.some(a,function(a){return c.option&&
a===c.option.value});d&&!b.multiple&&(b.focusedChild=c);e.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);c.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=n.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?n.map(n.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},
_onNewItem:function(a,b){b&&b.parent||this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},
scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);c.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?a("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+f._scopeName+"-value")||a.getAttribute("value"),
label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);l.after(this,"onChange",b.hitch(this,"_updateSelection"));var a=this.store;a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(a,this._oValue,
{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(n,m,l,k,g,c,e,f){return n("dijit.form._ComboBoxMenu",[g,c,f,e],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(m.add(this.previousButton,"dijitMenuItemRtl"),m.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){m.add(b,"dijitMenuItemHover")},onUnhover:function(b){m.remove(b,
"dijitMenuItemHover")},onSelect:function(b){m.add(b,"dijitMenuItemSelected")},onDeselect:function(b){m.remove(b,"dijitMenuItemSelected")},_page:function(b){var a=0,c=this.domNode.scrollTop,f=l.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<f;){var e=this.getHighlightedOption();if(b){if(!e.previousSibling||"none"==e.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!e.nextSibling||"none"==e.nextSibling.style.display)break;this.selectNextNode()}e=
this.domNode.scrollTop;a+=(e-c)*(b?-1:1);c=e}},handleKey:function(b){switch(b.keyCode){case k.DOWN_ARROW:return this.selectNextNode(),!1;case k.PAGE_DOWN:return this._page(!1),!1;case k.UP_ARROW:return this.selectPreviousNode(),!1;case k.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),function(n,
m,l,k,g,c,e,f,b,a){return m("dijit._KeyNavContainer",[b,a,f],{connectKeyNavHandlers:function(a,b){var f=this._keyNavCodes={},e=c.hitch(this,"focusPrev"),k=c.hitch(this,"focusNext");n.forEach(a,function(a){f[a]=e});n.forEach(b,function(a){f[a]=k});f[g.HOME]=c.hitch(this,"focusFirstChild");f[g.END]=c.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){k.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);n.forEach(this.getChildren(),
c.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
e.byNode(a))&&a.getParent()==this}})})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(n,m,l,k,g,c){function e(c){return{id:c.value,value:c.value,name:l.trim(c.innerText||c.textContent||"")}}return n("dijit.form.DataList",g,{constructor:function(f,b){this.domNode=m.byId(b);l.mixin(this,f);this.id&&c.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:k("option",this.domNode).map(e)}])},
destroy:function(){c.remove(this.id)},fetchSelectedItem:function(){var c=k("\x3e option[selected]",this.domNode)[0]||k("\x3e option",this.domNode)[0];return c&&e(c)}})})},"tm1web/cubeview/metrics/CubeviewChartInteractivityHelper":function(){define(["dojo/_base/declare","./InteractivityHelper"],function(n,m){return n(m,{constructor:function(){},containsValidTooltipItem:function(l){for(var k=0;k<l.length;k++){var g=l[k];if(null!=g.tooltipText())return g}return null},setTooltipContent:function(l){this.inherited("setTooltipContent",
arguments);var k="\x3cdiv\x3e"+l.tooltipText()+"\x3c/div\x3e";this.metricTooltip.setContent(k)}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v){function x(){}var y=m("dijit._MasterTooltip",
[s,t],{duration:p.defaultDuration,templateString:u,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new q(this.domNode);this.fadeIn=l.fadeIn({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onShow")});this.fadeOut=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onHide")})},show:function(a,b,c,d,g,k,l){if(!this.aroundNode||this.aroundNode!==b||this.containerNode.innerHTML!=a)if("playing"==this.fadeOut.status())this._onDeck=
arguments;else{this.containerNode.innerHTML=a;g&&this.set("textDir",g);this.containerNode.align=d?"right":"left";var m=r.around(this.domNode,b,c&&c.length?c:w.defaultPosition,!d,f.hitch(this,"orient")),n=m.aroundNodePos;"M"==m.corner.charAt(0)&&"M"==m.aroundCorner.charAt(0)?(this.connectorNode.style.top=n.y+(n.h-this.connectorNode.offsetHeight>>1)-m.y+"px",this.connectorNode.style.left=""):"M"==m.corner.charAt(1)&&"M"==m.aroundCorner.charAt(1)?this.connectorNode.style.left=n.x+(n.w-this.connectorNode.offsetWidth>>
1)-m.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=k||x;this.onMouseLeave=l||x}},orient:function(a,b,f,e,g){this.connectorNode.style.top="";var k=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+f];this.domNode.style.width="auto";var l=c.position(this.domNode);if(d("ie")||d("trident"))l.w+=2;var m=Math.min(Math.max(e,1),l.w);c.setMarginBox(this.domNode,{w:m});"B"==f.charAt(0)&&"B"==b.charAt(0)?(a=c.position(a),b=this.connectorNode.offsetHeight,a.h>k?(this.connectorNode.style.top=k-(g.h+b>>1)+"px",this.connectorNode.style.bottom=""):
(this.connectorNode.style.bottom=Math.min(Math.max(g.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,l.w-e)},_onShow:function(){d("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=x},_onHide:function(){this.domNode.style.cssText=
"";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});d("dojo-bidi")&&y.extend({_setAutoTextDir:function(a){this.applyTextDir(a);n.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});v.showTooltip=function(a,b,c,d,f,e,g){c&&(c=n.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||
a}));w._masterTT||(v._masterTT=w._masterTT=new y);return w._masterTT.show(a,b,c,d,f,e,g)};v.hideTooltip=function(a){return w._masterTT&&w._masterTT.hide(a)};var w=m("dijit.Tooltip",s,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(c){n.forEach(this._connections||[],function(a){n.forEach(a,function(a){a.remove()})},this);this._connectIds=n.filter(f.isArrayLike(c)?c:c?[c]:[],function(a){return k.byId(a,this.ownerDocument)},this);this._connections=
n.map(this._connectIds,function(c){c=k.byId(c,this.ownerDocument);var d=this.selector,e=d?function(b){return a.selector(d,b)}:function(a){return a},g=this;return[a(c,e(b.enter),function(){g._onHover(this)}),a(c,e("focusin"),function(){g._onHover(this)}),a(c,e(b.leave),f.hitch(g,"_onUnHover")),a(c,e("focusout"),f.hitch(g,"set","state","DORMANT"))]},this);this._set("connectId",c)},addTarget:function(a){a=a.id||a;-1==n.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=
n.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;n.forEach(f.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==
a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(w.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");
return}w.show(b,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,f.hitch(this,"set","state","SHOWING"),f.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state",
"HIDE TIMER")},open:function(a){this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");n.forEach(this._connections||[],function(a){n.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});w._MasterTooltip=y;w.show=v.showTooltip;w.hide=v.hideTooltip;w.defaultPosition=["after-centered","before-centered"];return w})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),
function(n,m,l,k,g,c,e){return n("dijit.PopupMenuItem",e,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var c=k("*",this.srcNodeRef);this.inherited(arguments,[c[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(c,b){var a=this.popup;g.open(l.delegate(c,{popup:this.popup,around:this.domNode}));b&&a.focus&&a.focus()},_closePopup:function(){g.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);
if(!this.popup){var f=k("[widgetId]",this.dropDownContainer)[0];this.popup=c.byNode(f)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&m.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(c){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(c),delete this.popup);
this.inherited(arguments)}})})},"dijit/main":function(){define(["dojo/_base/kernel"],function(n){return n.dijit})},"tm1web/subseteditor/TreePane":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/query dojo/dom-geometry dijit/layout/BorderContainer ../utility/dom ./SubsetTree ./PagingSlider ./dndSelector".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p){return n("tm1web.subseteditor.TreePane",f,{Tree:a,sessionId:null,dimensionTree:null,model:null,
gutters:!1,_slider:null,_sliderLabel:null,_tree:null,_sliderVisible:!0,constructor:function(a){this.dimensionTree=a.tree},_attachListeners:function(){this.connect(this.model,"onMetaDataChange","_onMetaDataChange")},postCreate:function(){this.inherited(arguments);k.add(this.domNode,"tm1webTreePane");this._attachListeners();var a=this.model,b={region:"center",model:a,dimensionTree:this.dimensionTree,onChange:m.hitch(this,"onChange")};this.dndController&&(b.dndController=this.dndController);this._tree=
new this.Tree(b);this.own(this._tree.on("select",m.hitch(this,"onSelect")));this.own(this._tree.on("focus",m.hitch(this,"onFocus")));var c=this._tree.on("load",m.hitch(this,function(){c.remove();setTimeout(m.hitch(this,"onLoad"),0)}));this.addChild(this._tree);this._slider=new d({region:"bottom",model:this.model});this.addChild(this._slider);a.getMetaData(m.hitch(this,"_onMetaDataChange"))},_getTreeAttr:function(){return this._tree},resize:function(a,c){if(!a){var d=b.getGutters(this.domNode);this._tree.domNode.style.width=
"auto";this._tree.domNode.style.height="auto";a={w:e.getMarginBox(this._tree.domNode).w+b.getVerticalScrollbarWidth(this._tree.domNode)+d.w,h:this._getChildrenHeight()+d.h}}this.inherited(arguments,[a,c])},layout:function(){this.inherited(arguments);this._slider.layout()},_setMaxHeightAttr:function(a){if(null!=a){this._maxHeight=a;this.domNode.style.maxHeight=a+"px";var b=this._getChildrenHeight(!0);this._tree.domNode.style.maxHeight=a-b+"px"}},_getMaxHeightAttr:function(){return this._maxHeight},
_setMaxWidthAttr:function(a){if(null!=a){this._maxWidth=a;var c=g.set(this.domNode,{maxWidth:a+"px"}),c=b.getGutters(this.domNode,c);this._tree.domNode.style.maxWidth=a-c.w+"px"}},_getChildrenHeight:function(a){var b=this._tree,c=0;l.forEach(this.getChildren(),function(d){a&&d===b||(c+=e.getMarginBox(d.domNode).h)});return c},_onMetaDataChange:function(a){a=a.pageCount;1<a&&!this._sliderVisible?(this.addChild(this._slider),this._sliderVisible=!0,this._slider.layout(),this.set("maxHeight",this._maxHeight)):
1>=a&&this._sliderVisible&&(this.removeChild(this._slider),this._sliderVisible=!1,this.set("maxHeight",this._maxHeight))},onChange:function(){},onSelect:function(a){},onFocus:function(a){a=c(".tm1webTreeNodeLabelFound",a).parent();0<a.length&&a[0].focus()}})})},"dojox/gesture/Base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/on dojo/touch dojo/has ../main".split(" "),function(n,m,l,k,g,c,e,f,b){n.experimental("dojox.gesture.Base");k.getObject("gesture",
!0,b);return m(null,{defaultEvent:" ",subEvents:[],touchOnly:!1,_elements:null,constructor:function(a){k.mixin(this,a);this.init()},init:function(){this._elements=[];if(!f("touch")&&this.touchOnly)console.warn("Gestures:[",this.defaultEvent,"] is only supported on touch devices!");else{var a=this.defaultEvent;this.call=this._handle(a);this._events=[a];l.forEach(this.subEvents,function(b){this[b]=this._handle(a+"."+b);this._events.push(a+"."+b)},this)}},_handle:function(a){var b=this;return function(e,
f){var g=arguments;2<g.length&&(e=g[1],f=g[2]);if(e&&(e.nodeType||e.attachEvent||e.addEventListener)){var k=b._add(e,a,f);return{remove:function(){k.remove();b._remove(e,a)}}}return c(e,a,f)}},_add:function(a,b,f){var g=this._getGestureElement(a);if(!g){var g={target:a,data:{},handles:{}},l=k.hitch(this,"_process",g,"press"),m=k.hitch(this,"_process",g,"move"),n=k.hitch(this,"_process",g,"release"),u=k.hitch(this,"_process",g,"cancel"),v=g.handles;this.touchOnly?(v.press=c(a,"touchstart",l),v.move=
c(a,"touchmove",m),v.release=c(a,"touchend",n),v.cancel=c(a,"touchcancel",u)):(v.press=e.press(a,l),v.move=e.move(a,m),v.release=e.release(a,n),v.cancel=e.cancel(a,u));this._elements.push(g)}g.handles[b]=g.handles[b]?++g.handles[b]:1;return c(a,b,f)},_getGestureElement:function(a){for(var b=0,c;b<this._elements.length;b++)if(c=this._elements[b],c.target===a)return c},_process:function(a,b,c){c._locking=c._locking||{};c._locking[this.defaultEvent]||this.isLocked(c.currentTarget)||("INPUT"==c.target.tagName&&
"radio"!=c.target.type&&"checkbox"!=c.target.type||"TEXTAREA"==c.target.tagName||c.preventDefault(),c._locking[this.defaultEvent]=!0,this[b](a.data,c))},press:function(a,b){},move:function(a,b){},release:function(a,b){},cancel:function(a,b){},fire:function(a,b){a&&b&&(b.bubbles=!0,b.cancelable=!0,c.emit(a,b.type,b))},_remove:function(a,b){var c=this._getGestureElement(a);if(c&&c.handles){c.handles[b]--;var e=c.handles;l.some(this._events,function(a){return 0<e[a]})||(this._cleanHandles(e),c=l.indexOf(this._elements,
c),0<=c&&this._elements.splice(c,1))}},_cleanHandles:function(a){for(var b in a)a[b].remove&&a[b].remove(),delete a[b]},lock:function(a){this._lock=a},unLock:function(){this._lock=null},isLocked:function(a){return this._lock&&a?this._lock!==a&&g.isDescendant(a,this._lock):!1},destroy:function(){l.forEach(this._elements,function(a){this._cleanHandles(a.handles)},this);this._elements=null}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u){return a("dijit.layout.ContentPane",[l,k,g],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:n._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if(!(a&&a.template||!b||"href"in a||"content"in a)){b=p.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);
a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=q.getLocalization("dijit","loading",this.lang)||f;this.loadingMessage=c.substitute(this.loadingMessage,a);this.errorMessage=c.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&b.forEach(this._contentSetter.parseResults,
function(a){a._started||a._destroyed||!m.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},_startChildren:function(){b.forEach(this.getChildren(),function(a){a._started||a._destroyed||!m.isFunction(a.startup)||(a.startup(),a._started=!0)});this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){a._started||a._destroyed||!m.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},setHref:function(a){n.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new d(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){n.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new d(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new d(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||t.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;b.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});c&&(b.forEach(c.parseResults,function(b){b._destroyed||(b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete c.parseResults);a||s.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;c&&c instanceof e._ContentSetter||(c=this._contentSetter=new e._ContentSetter({node:this.containerNode,_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+
" could not change content due to "+b.message,b)}})}));var d=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(m.isObject(a)&&a.domNode?a.domNode:a,d),f=this;return u(d&&d.then?d:c.parseDeferred,function(){delete f._contentSetterParams;b||(f._started&&(f._startChildren(),f._scheduleLayout()),f._onLoadHandler(a))})},
_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"tm1web/share/sandbox/SandboxController":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred ../Base ./TM1WebSandboxCreateDialog ./TM1WebSandboxDeleteDialog ../service-loader!SandboxService".split(" "),
function(n,m,l,k,g,c,e){return n(k,{constructor:function(c,b){this._tm1Widget=c;this.objectId=b},_recalculate:function(){return this._tm1Widget.recalculate()},redo:function(){return this._do("redo")},undo:function(){return this._do("undo")},_do:function(c){var b=new l;e[c](this.objectId,{callback:m.hitch(this,"_onDo",b),errorHandler:function(a,c){b.reject(a,c)}});return b.promise},_onDo:function(c,b){b.success?this._recalculate().then(function(){c.resolve(!0)},function(a,b){c.reject(a,b)}):c.resolve(!1)},
getSandboxes:function(){var c=new l;e.getSandboxes(this.objectId,{callback:c.resolve,scope:this});return c},setActiveSandbox:function(c){var b=new l;e.setActiveSandbox(this.objectId,c,{callback:this._onSetActiveSandbox,arg:b,errorHandler:function(a,c){b.reject(a,c)},scope:this});return b.promise},_onSetActiveSandbox:function(c,b){c?this._recalculate().then(function(){b.resolve(!0)},function(a,c){b.reject(a,c)}):b.resolve(!1)},deleteSandboxes:function(){var e=new c(this._tm1Widget,this.objectId);e.show();
e=e.onDeleteDeferred;e.then(m.hitch(this,"_onDeleteSandboxes"));return e},_onDeleteSandboxes:function(c){c&&this._recalculate()},createSandbox:function(){var c=new g(this._tm1Widget,this.objectId);c.show();c=c.onCreateDeferred;c.then(m.hitch(this,"_onCreateSandbox"));return c},_onCreateSandbox:function(c){c&&this._recalculate()},commitSandbox:function(){var c=new l;e.commitSandbox(this.objectId,{callback:this._onCommitSandbox,arg:c,errorHandler:function(b,a){c.reject(b,a)},scope:this});return c.promise},
_onCommitSandbox:function(c,b){c?this._recalculate().then(function(){b.resolve(!0)},function(a,c){b.reject(a,c)}):b.resolve(!1)},resetSandbox:function(){var c=new l;c.then(m.hitch(this,"_onResetSandbox"));e.resetSandbox(this.objectId,{callback:c.resolve,scope:this});return c},_onResetSandbox:function(c){c&&this._recalculate()},getRedoUndoStatus:function(){var c=new l;e.getRedoUndoStatus(this.objectId,{callback:c.resolve,scope:this});return c}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare",
"dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(n,m,l,k){return n("dojox.grid._SelectionPreserver",null,{constructor:function(g){this.selection=g;var c=this.grid=g.grid;this.reset();this._connects=[m.connect(c,"_setStore",this,"reset"),m.connect(c,"_addItem",this,"_reSelectById"),m.connect(g,"onSelected",l.hitch(this,"_selectById",!0)),m.connect(g,"onDeselected",l.hitch(this,"_selectById",!1)),m.connect(g,"deselectAll",this,"reset")]},destroy:function(){this.reset();k.forEach(this._connects,
m.disconnect);delete this._connects},reset:function(){this._selectedById={}},_reSelectById:function(g,c){g&&this.grid._hasIdentity&&(this.selection.selected[c]=this._selectedById[this.grid.store.getIdentity(g)])},_selectById:function(g,c){if("none"!=this.selection.mode&&this.grid._hasIdentity){var e=c,f=this.grid;if("number"==typeof c||"string"==typeof c)e=(e=f._by_idx[c])&&e.item;e&&(this._selectedById[f.store.getIdentity(e)]=!!g);return e}}})})},"tm1web/subseteditor/SaveAsDialog":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/Dialog dojo/text!./templates/SaveAsDialog.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../utility/message-localizer ../widgets/_StopPropagationMixin ../widgets/WarningOptionsDialog".split(" "),
function(n,m,l,k,g,c,e,f,b,a){return n([k,c,e,b],{templateString:g,model:null,subsetModel:null,_textBox:null,_savePublicCheckBox:null,_overwriteExistingCheckBox:null,_submitButton:null,_cancelButton:null,title:f.get("SAVE_AS_TITLE_STR"),_textBoxLabel:f.get("SUBSET_NAME_STR"),_savePublicCheckBoxLabel:f.get("SAVE_PUBLIC_STR"),_overwriteExistingCheckBoxLabel:f.get("OVERWRITE_EXISTING_SUBSET_STR"),_submitButtonLabel:f.get("OK_STR"),_cancelButtonLabel:f.get("CANCEL_STR"),_privateSubsetExistsMessage:f.get("PRIVATE_SUBSET_EXISTS"),
_publicSubsetExistsMessage:f.get("PUBLIC_SUBSET_EXISTS"),_subsets:null,_stopPropagationEvents:"keydown",postCreate:function(){this.inherited(arguments);this._textBox.watch("state",l.hitch(this,"_onValidStateChange"));var a=this;this._textBox.validator=function(b){if(this._isEmpty(b))return!1;for(var c=a._savePublicCheckBox.get("checked"),e=a._overwriteExistingCheckBox.get("checked"),f=0;f<a._subsets.length;f++){var g=a._subsets[f];if(b.toLowerCase()==g.name.toLowerCase()&&g.isPublic==c&&!e)return!1}return!0};
this.model.getMetaData().then(l.hitch(this,function(a){this._subsets=a.subsets.slice();this._savePublicCheckBox.set("disabled",!a.dimensionAdminAccess)}))},_onSavePublicCheckBoxChanged:function(a){this._textBox.set("invalidMessage",a?this._publicSubsetExistsMessage:this._privateSubsetExistsMessage);this._textBox.validate()},_onCheckBoxChanged:function(){this._textBox.validate()},_onValidStateChange:function(a,b,c){this._submitButton.set("disabled",!!c)},onHide:function(){this.destroyRecursive()},
_onOk:function(){var b=this._textBox.get("value"),c=this._savePublicCheckBox.get("checked"),e=this._overwriteExistingCheckBox.get("checked"),g=l.hitch(this,"_save",b,c,e);this.model.getMetaData().then(l.hitch(this,function(b){this.subsetModel.getMetaData(function(c){b.selectedSubset.dynamic&&c.modified?a.show({message:f.get("SUBSET_BY_EXPRESSION")+"\n"+f.get("SAVING_DYNAMIC_SUBSET"),okButtonLabel:f.get("SUBSET_EXPRESSION_WARNING_OK_STR"),cancelButtonLabel:f.get("CANCEL_STR"),title:f.get("SUBSET_EXPRESSION_WARNING_TITLE_STR"),
onExecute:function(){g()}}):g()})}))},_save:function(a,b,c){this.model.saveSubsetAs(a,b,c).then(l.hitch(this,function(){this._onSubmit()}),function(a){alert(a)})}})})},"tm1web/subseteditor/DimensionTree":function(){define(["dojo/_base/declare","./_Tree"],function(n,m){return n("tm1web.subseteditor.DimensionTree",m,{checkAcceptance:function(){return!1}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(n,
m,l,k,g){return l("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);g.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(k.hitch(this,function(c){this._startupWidgets=
c;for(var f=0;f<c.length;f++)this._processTemplateNode(c[f],function(b,a){return b[a]},function(b,a,c){return a in b?b.connect(b,a,c):b.on(a,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(c,
e,f){return e(c,"dojoType")||e(c,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){n.forEach(this._startupWidgets,function(c){c&&!c._started&&c.startup&&c.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"tm1web/share/RadioRow":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-class","../utility/dom","dijit/form/RadioButton"],function(n,m,l,k,g){return n(null,{constructor:function(c,e){this.identifier=c;this.label=e;this.checked=!1;this.checkBox=
this.row=null},createSandboxRadioButton:function(c){c=m.create("div");l.add(c,"tm1webCheckRow");this.row=c;var e=this,f=new g({name:"ActionChoice",value:this.identifier});f.setChecked(this.checked);m.place(f.domNode,c);this._createLabel(this.label,c,f.id);f.onclick=function(){e.checked=this.checked};c.onclick=function(){e.onClick(e)};return c},_createLabel:function(c,e,f){c=m.create("label",{innerHTML:c});c.setAttribute("for",f);m.place(c,e)}})})},"tm1web/cubeview/SortOrientation":function(){define({Ascending:"Ascending",
Descending:"Descending",None:"None"})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){return n("dijit._HasDropDown",q,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,
dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){this.disabled||this.readOnly||("MSPointerDown"!=b.type&&"pointerdown"!=b.type&&b.preventDefault(),this.own(d.once(this.ownerDocument,p.release,a.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(a){var b=this.dropDown,d=!1;if(a&&this._opened){var e=c.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w&&a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)g.contains(e,
"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(b.onItemClick){for(var f;e&&!(f=r.byNode(e));)e=e.parentNode;if(f&&f.onClick&&f.getParent)f.getParent().onItemClick(f,a)}return}}}this._opened?b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){b.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";g.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(d(this._buttonNode,
p.press,a.hitch(this,"_onDropDownMouseDown")),d(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),d(b,"keydown",a.hitch(this,"_onKey")),d(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=a.target;c&&this._opened&&c.handleKey&&!1===c.handleKey(a)?(a.stopPropagation(),
a.preventDefault()):c&&this._opened&&a.keyCode==b.ESCAPE?(this.closeDropDown(),a.stopPropagation(),a.preventDefault()):!this._opened&&(a.keyCode==b.DOWN_ARROW||(a.keyCode==b.ENTER||a.keyCode==b.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=
this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new m,c=a.hitch(this,function(){this.openDropDown();b.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return b},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var b=
this.dropDown,d=b.domNode,e=this._aroundNode||this.domNode,f=this,l=t.open({parent:this,popup:b,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){f.closeDropDown(!0)},onCancel:function(){f.closeDropDown(!0)},onClose:function(){k.set(f._popupStateNode,"popupActive",!1);g.remove(f._popupStateNode,"dijitHasDropDownOpen");f._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&e.offsetWidth>b._popupWrapper.offsetWidth){var e=e.offsetWidth-b._popupWrapper.offsetWidth,
m={w:b.domNode.offsetWidth+e};a.isFunction(b.resize)?b.resize(m):c.setMarginBox(d,m);"R"==l.corner[1]&&(b._popupWrapper.style.left=b._popupWrapper.style.left.replace("px","")-e+"px")}k.set(this._popupStateNode,"popupActive","true");g.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",b.id);"presentation"===d.getAttribute("role")||d.getAttribute("aria-labelledby")||d.setAttribute("aria-labelledby",
this.id);return l},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),t.close(this.dropDown),this._opened=!1)}})})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(n,m,l,k){if(m._fixEvent){var g=m._fixEvent;m._fixEvent=function(c,f){(c=g(c,f))&&k.normalizeEvent(c);return c}}var c={fix:function(c,
f){return m._fixEvent?m._fixEvent(c,f):c},stop:function(c){l("dom-addeventlistener")||c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,m._preventDefault.call(c))}};n.fixEvent=c.fix;n.stopEvent=c.stop;return c})},"tm1web/mobile/on/doubletap":function(){define(["dojo/_base/declare","dojo/on","../sniff","./_Tap"],function(n,m,l,k){return new (n(k,{defaultEvent:"doubletap",doubleTapTimeout:500,_overriddenEvent:"tap.doubletap",_handle:function(g){return l("mobile-device")?
this.inherited(arguments):function(c,e){var f=arguments;2<f.length&&(c=f[1],e=f[2]);return m(c,"dblclick",e)}}}))})},"tm1web/cubeview/metrics/StrategyPopup":function(){define("dojo/_base/declare dojo/_base/lang dojo/text!../../templates/StrategyPopupView.html dijit/_Templated dijit/layout/ContentPane ../../share/TM1Utility ./_MetricTypesMixin".split(" "),function(n,m,l,k,g,c,e){return n([g,k,e],{constructor:function(c){this.initializeStrategyPopup();this.templateString||(this.templateString=l);m.mixin(this,
c)},initializeStrategyPopup:function(){statusIncompleteCount=statusIncompleteImg=statusExcellentCount=statusExcellentImg=statusAverageCount=statusAverageImg=statusPoorCount=statusPoorImg=objectiveNameDiv=objectiveName=titleCaption=null;useEditImage=!1},setTitleCaption:function(c){this.titleCaption.innerHTML=c},setObjectiveName:function(c){this.objectiveName.innerHTML=c},enableObjectiveNameDiv:function(c){this.objectiveNameDiv.style.display=c?"":"none"},postCreate:function(){this.useEditImage&&(this.viewDiv.style.display=
"none",this.titleDiv.style.display="none",enableObjectiveNameDiv(!1),this.editDiv.style.display="",this.editImg.setAttribute("class",this.STRATEGY_STATUS_DATA[0].iconClass));this.inherited(arguments)},setStatusExcellent:function(c){!this.useEditImage&&0<c?(this.statusExcellentImg.style.display="",this.statusExcellentCount.style.display="",this.statusExcellentImg.setAttribute("class",this.STRATEGY_STATUS_DATA[0].iconClass),this.statusExcellentImg.alt="statusExcellent",this.statusExcellentCount.innerHTML=
c):(this.statusExcellent.style.display="none",this.statusExcellentCount.innerHTML="")},setStatusAverage:function(c){!this.useEditImage&&0<c?(this.statusAverageImg.style.display="",this.statusAverageCount.style.display="",this.statusAverageImg.setAttribute("class",this.STRATEGY_STATUS_DATA[1].iconClass),this.statusAverageImg.alt="statusAverage",this.statusAverageCount.innerHTML=c):(this.statusAverage.style.display="none",this.statusAverageCount.innerHTML="")},setStatusPoor:function(c){!this.useEditImage&&
0<c?(this.statusPoorImg.style.display="",this.statusPoorCount.style.display="",this.statusPoorImg.setAttribute("class",this.STRATEGY_STATUS_DATA[2].iconClass),this.statusPoorImg.alt="statusPoor",this.statusPoorCount.innerHTML=c):(this.statusPoor.style.display="none",this.statusPoorCount.innerHTML="")},setStatusIncomplete:function(c){!this.useEditImage&&0<c?(this.statusIncompleteImg.style.display="",this.statusIncompleteCount.style.display="",this.statusIncompleteImg.setAttribute("class",this.STRATEGY_STATUS_DATA[3].iconClass),
this.statusIncompleteImg.alt="statusImcomplete",this.statusIncompleteCount.innerHTML=c):(this.statusIncomplete.style.display="none",this.statusIncompleteCount.innerHTML="")},startup:function(){this.inherited(arguments)}})})},"tm1web/spreading/SpreadDialogCommon":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dijit/form/Button dijit/form/CheckBox dijit/form/RadioButton ../utility/message-localizer ../utility/number ../cubeview/CubeViewBase ../cubeview/TitlePanel dijit/registry".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r){return n(d,{constructor:function(a){m.mixin(this,a);this._InitializeSpreadDialogCommon()},_InitializeSpreadDialogCommon:function(){},_convertFloat:function(b){if(void 0==b||null==b||""==b)return b;"string"==typeof b&&(b=a.parse(b));return a.format(b)},_CreateValueContent:function(a,b,c,d,e){var f=this.CreatePanel("","tm1webDataSpread_valueContainer");k.place(f,a);a=r.getUniqueId("tm1webDataSpread_valueContainer");this.CreateA11yLabel(f,b,c,a);return this.CreateTextBox(f,
this._convertFloat(d),e,a)},_CreatePercentageValueContent:function(a,b,c,d,e,f,g,l,m){var n=this.CreatePanel("","tm1webRelativeSpreadControl_valueContainer");k.place(n,a);a=r.getUniqueId(c);this.CreateA11yLabel(n,b,c,a);b=this.CreateTextBox(n,d,e,a);c=r.getUniqueId(g);this.CreateA11yLabel(n,f,g.id2);f=this.CreateTextBox(n,this._convertFloat(l),m,c);f.disabled=!0;return{valueTextbox:b,refCellTextbox:f}},_CreateExtendContent:function(a){a=(new p(b.get("SPREAD_SECTION_EXTEND"),null,null,"")).Create(this._Dialog.containerNode);
this._CreateCheckBoxList(a);return a},_CreateCheckBoxList:function(a){this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_LEFT"),!1,1,a);this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_RIGHT"),!1,2,a);this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_UP"),!1,4,a);this._CreateDirectionChoiceCheckbox(b.get("SPREAD_LABEL_DOWN"),!1,8,a)},_CreateDirectionChoiceCheckbox:function(a,b,c,d){_this=this;d=this._CreateCheckBoxLabelDiv(d);var f=new e({name:"DirectionChoice",value:c});f.setChecked(b);
f.onClick=function(){_this._OnCheckBoxClick(f.checked,c)};k.place(f.domNode,d);this._CreateCheckBoxLabel(a,d,f.id);return f},_OnCheckBoxClick:function(a){alert("has to be overriden")},_CreateCheckBoxLabelDiv:function(a){var b=document.createElement("Div");l.add(b,"tm1webRelativeSpreadControlDiv");k.place(b,a);return b},_CreateCheckBoxLabel:function(a,b,c){var d=document.createElement("label");d.innerHTML=a;d.setAttribute("for",c);k.place(d,b)},_CreateActionContent:function(a){a=(new p(b.get("SPREAD_SECTION_UPDATE"),
null,null,"")).Create(a);this._CreateRadioButtonList(a);return a},_CreateRadioButtonList:function(a){this._CreateActionChoiceRadioButton(b.get("SPREAD_LABEL_REPLACE"),!0,"",a);this._CreateActionChoiceRadioButton(b.get("SPREAD_LABEL_ADD"),!1,"+",a);this._CreateActionChoiceRadioButton(b.get("SPREAD_LABEL_SUBTRACT"),!1,"~",a)},_CreateActionChoiceRadioButton:function(a,b,c,d){_this=this;d=this._CreateCheckBoxLabelDiv(d);var e=new f({name:"ActionChoice",value:c});e.setChecked(b);e.onClick=function(){_this._OnRadioButtonClick(e.checked,
c)};k.place(e.domNode,d);this._CreateCheckBoxLabel(a,d,e.id);return e},_OnRadioButtonClick:function(a,b){alert("has to be overriden")},_CreateButtonContent:function(a,c){var d=this.CreatePanel();k.place(d,a);l.add(d,c);this._CreateButton(b.get("SPREAD_BUTTON_APPLY"),this._OnApply,d,!1);this._CreateButton(b.get("SPREAD_BUTTON_CANCEL"),this._OnCancel,d,!0);return d},_CreateButton:function(a,b,d,e){a=new c({label:a,onClick:m.hitch(this,b)});g.set(a.domNode,"width","auto");l.add(a.domNode,"tm1webDataSpread_button");
e&&l.add(a.domNode,"tm1webBtnSecondary");k.place(a.domNode,d)},_OnCancel:function(){alert("has to be overriden")},_OnApply:function(){alert("has to be overriden")}})})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(n,m,l,k,g,c,e,f){n.byId=m.byId;n.isDescendant=m.isDescendant;n.setSelectable=m.setSelectable;n.getAttr=k.get;n.setAttr=k.set;n.hasAttr=k.has;n.removeAttr=k.remove;n.getNodeProp=
k.getNodeProp;n.attr=function(b,a,c){return 2==arguments.length?k["string"==typeof a?"get":"set"](b,a):k.set(b,a,c)};n.hasClass=c.contains;n.addClass=c.add;n.removeClass=c.remove;n.toggleClass=c.toggle;n.replaceClass=c.replace;n._toDom=n.toDom=e.toDom;n.place=e.place;n.create=e.create;n.empty=function(b){e.empty(b)};n._destroyElement=n.destroy=function(b){e.destroy(b)};n._getPadExtents=n.getPadExtents=f.getPadExtents;n._getBorderExtents=n.getBorderExtents=f.getBorderExtents;n._getPadBorderExtents=
n.getPadBorderExtents=f.getPadBorderExtents;n._getMarginExtents=n.getMarginExtents=f.getMarginExtents;n._getMarginSize=n.getMarginSize=f.getMarginSize;n._getMarginBox=n.getMarginBox=f.getMarginBox;n.setMarginBox=f.setMarginBox;n._getContentBox=n.getContentBox=f.getContentBox;n.setContentSize=f.setContentSize;n._isBodyLtr=n.isBodyLtr=f.isBodyLtr;n._docScroll=n.docScroll=f.docScroll;n._getIeDocumentElementOffset=n.getIeDocumentElementOffset=f.getIeDocumentElementOffset;n._fixIeBiDiScrollLeft=n.fixIeBiDiScrollLeft=
f.fixIeBiDiScrollLeft;n.position=f.position;n.marginBox=function(b,a){return a?f.setMarginBox(b,a):f.getMarginBox(b)};n.contentBox=function(b,a){return a?f.setContentSize(b,a):f.getContentBox(b)};n.coords=function(b,a){n.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");b=m.byId(b);var c=l.getComputedStyle(b),c=f.getMarginBox(b,c),e=f.position(b,a);c.x=e.x;c.y=e.y;return c};n.getProp=g.get;n.setProp=g.set;n.prop=function(b,a,c){return 2==arguments.length?g["string"==typeof a?
"get":"set"](b,a):g.set(b,a,c)};n.getStyle=l.get;n.setStyle=l.set;n.getComputedStyle=l.getComputedStyle;n.__toPixelValue=n.toPixelValue=l.toPixelValue;n.style=function(b,a,c){switch(arguments.length){case 1:return l.get(b);case 2:return l["string"==typeof a?"get":"set"](b,a)}return l.set(b,a,c)};return n})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(n,m,l,k){var g,c=function(){return this}(),e={},f={},b={config:m,global:c,dijit:e,dojox:f},e={dojo:["dojo",
b],dijit:["dijit",e],dojox:["dojox",f]};k=l.map&&l.map[k.id.match(/[^\/]+/)[0]]||l.packs&&l.packs[k.id.match(/[^\/]+/)[0]].packageMap;for(g in k)e[g]?e[g][0]=k[g]:e[g]=[k[g],{}];for(g in e)k=e[g],k[1]._scopeName=k[0],m.noGlobals||(c[k[0]]=k[1]);b.scopeMap=e;b.baseUrl=b.config.baseUrl=l.baseUrl;b.isAsync=!n("dojo-loader")||l.async;b.locale=m.locale;n="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);b.version={major:1,minor:10,patch:2,flag:"",revision:n?n[0]:NaN,toString:function(){var a=b.version;return a.major+
"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(b);b.exit=function(){};"undefined"!=typeof console||(console={});m="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var a;for(n=0;a=m[n++];)console[a]||function(){var b=a+"";console[b]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(b+
":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();b.deprecated=b.experimental=function(){};b._hasResource={};return b})},"tm1web/subseteditor/dndSelector":function(){define(["dojo/_base/declare","dijit/tree/_dndSelector","../mobile/sniff","../mobile/_ScrollDeltaMixin","./_dndMixin"],function(n,m,l,k,g){return n([m,g,k],{singular:!0,onClickPress:function(c){this.current&&this.current.isExpandable&&this.tree.isExpandoNode(c.target,this.current)||(l("mobile-device")&&this.singular?(this._doSelect=
!0,this._onTouchStart(c)):this.inherited(arguments))},onMouseMove:function(c){this._doSelect&&this._onTouchMove(c);this.inherited(arguments)},onClickRelease:function(c){this._doSelect&&(this._doDeselect=!0,this._doSelect=!1,this._onTouchEnd(c));this.inherited(arguments)},_handleTouchMove:function(c,e){if(5<Math.abs(c)||5<Math.abs(e))this._doSelect=!1}})})},"dojox/gfx/_base":function(){define("../main dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),
function(n,m,l,k,g,c,e,f,b,a){var d=l.getObject("gfx",!0,n),p=d._base={};d._hasClass=function(a,b){var c=a.getAttribute("className");return c&&0<=(" "+c+" ").indexOf(" "+b+" ")};d._addClass=function(a,b){var c=a.getAttribute("className")||"";(!c||0>(" "+c+" ").indexOf(" "+b+" "))&&a.setAttribute("className",c+(c?" ":"")+b)};d._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};p._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},d,e;g("ie")&&(e=c.doc.documentElement.style.fontSize||"",e||(c.doc.documentElement.style.fontSize="100%"));var f=b.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},c.body());for(d in a)f.style.fontSize=d,a[d]=16*Math.round(12*f.offsetHeight/16)/12/1E3;
g("ie")&&(c.doc.documentElement.style.fontSize=e);c.body().removeChild(f);return a};var r=null;p._getCachedFontMeasurements=function(a){if(a||!r)r=p._getFontMeasurements();return r};var s=null,t={};p._getTextBox=function(d,e,f){var g,k,l=arguments.length,m;s||(s=b.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},c.body()));g=s;g.className="";k=g.style;k.borderWidth="0";k.margin="0";k.padding="0";k.outline="0";if(1<l&&e)for(m in e)m in t||(k[m]=e[m]);2<l&&f&&(g.className=
f);g.innerHTML=d;g.getBoundingClientRect?(k=g.getBoundingClientRect(),k={l:k.left,t:k.top,w:k.width||k.right-k.left,h:k.height||k.bottom-k.top}):k=a.getMarginBox(g);g.innerHTML="";return k};p._computeTextLocation=function(a,b,c,d){var e={};switch(a.align){case "end":e.x=a.x-b;break;case "middle":e.x=a.x-b/2;break;default:e.x=a.x}e.y=a.y-c*(d?.75:1);return e};p._computeTextBoundingBox=function(a){if(!d._base._isRendered(a))return{x:0,y:0,width:0,height:0};var b;b=a.getShape();var c=a.getFont()||d.defaultFont;
a=a.getTextWidth();c=d.normalizedLength(c.size);b=p._computeTextLocation(b,a,c,!0);return{x:b.x,y:b.y,width:a,height:c}};p._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==a};var q=0;p._getUniqueId=function(){var a;do a=m._scopeName+"xUnique"+ ++q;while(f.byId(a));return a};p._fixMsTouchAction=function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};l.mixin(d,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",
points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",
color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(b){var c=
a[b];if(c)return new c;c=a[b]=new Function;c.prototype=d["default"+b];return new c}}(),normalizeColor:function(a){return a instanceof k?a:new k(a)},normalizeParameters:function(a,b){var c;if(b){var d={};for(c in a)c in b&&!(c in d)&&(a[c]=b[c])}return a},makeParameters:function(a,b){var c=null;if(!b)return l.delegate(a);var d={};for(c in a)c in d||(d[c]=l.clone(c in b?b[c]:a[c]));return d},formatNumber:function(a,b){var c=a.toString();if(0<=c.indexOf("e"))c=a.toFixed(4);else{var d=c.indexOf(".");
0<=d&&5<c.length-d&&(c=a.toFixed(4))}return 0>a?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(a){var b=d.getDefault("Font");a=a.split(/\s+/);if(!(5>a.length)){b.style=a[0];b.variant=a[1];b.weight=a[2];var c=a[3].indexOf("/");b.size=0>c?a[3]:a[3].substring(0,c);var e=4;0>c&&("/"==a[4]?e=6:"/"==a[4].charAt(0)&&(e=5));e<a.length&&(b.family=a.slice(e).join(" "))}return b},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return d._base._getCachedFontMeasurements()["12pt"]/
12},pt2px:function(a){return a*d.px_in_pt()},px2pt:function(a){return a/d.px_in_pt()},normalizedLength:function(a){if(0===a.length)return 0;if(2<a.length){var b=d.px_in_pt(),c=parseFloat(a);switch(a.slice(-2)){case "px":return c;case "pt":return c*b;case "in":return 72*c*b;case "pc":return 12*c*b;case "mm":return c*d.mm_in_pt*b;case "cm":return c*d.cm_in_pt*b}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,
equalSources:function(a,b){return a&&b&&a===b},switchTo:function(a){var b="string"==typeof a?d[a]:a;b&&(e.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),function(a){d[a]=b[a]}),"string"==typeof a?d.renderer=a:e.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(a){return d.renderer=d[a]&&d[a].Surface===d.Surface?a:null}))}});return d})},"dijit/tree/dndSource":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/common dojo/dom-class dojo/dom-geometry dojo/_base/lang dojo/on dojo/touch dojo/topic dojo/dnd/Manager ./_dndSelector".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d){return m("dijit.tree.dndSource",d,{isSource:!0,accept:["text","treeNode"],copyOnly:!1,dragThreshold:5,betweenThreshold:0,generateText:!0,constructor:function(a,d){d||(d={});c.mixin(this,d);var e=d.accept instanceof Array?d.accept:["text","treeNode"];this.accept=null;if(e.length){this.accept={};for(var f=0;f<e.length;++f)this.accept[e[f]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.dropPosition="";this._lastY=this._lastX=0;this.sourceState=
"";this.isSource&&k.add(this.node,"dojoDndSource");this.targetState="";this.accept&&k.add(this.node,"dojoDndTarget");this.topics=[b.subscribe("/dnd/source/over",c.hitch(this,"onDndSourceOver")),b.subscribe("/dnd/start",c.hitch(this,"onDndStart")),b.subscribe("/dnd/drop",c.hitch(this,"onDndDrop")),b.subscribe("/dnd/cancel",c.hitch(this,"onDndCancel"))]},checkAcceptance:function(){return!0},copyState:function(a){return this.copyOnly||a},destroy:function(){this.inherited(arguments);for(var a;a=this.topics.pop();)a.remove();
this.targetAnchor=null},_onDragMouse:function(b,c){var d=a.manager(),e=this.targetAnchor,f=this.current,k=this.dropPosition,l="Over";f&&0<this.betweenThreshold&&(this.targetBox&&e==f||(this.targetBox=g.position(f.rowNode,!0)),b.pageY-this.targetBox.y<=this.betweenThreshold?l="Before":b.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(l="After"));if(c||f!=e||l!=k){e&&this._removeItemClass(e.rowNode,k);f&&this._addItemClass(f.rowNode,l);if(f)if(f==this.tree.rootNode&&"Over"!=l)d.canDrop(!1);
else{k=e=!1;if(d.source==this){var k="Over"===l,m;for(m in this.selection){var n=this.selection[m];if(n.item===f.item){e=!0;break}n.getParent().id!==f.id&&(k=!1)}}d.canDrop(!e&&!k&&!this._isParentChildDrop(d.source,f.rowNode)&&this.checkItemAcceptance(f.rowNode,d.source,l.toLowerCase()))}else d.canDrop(!1);this.targetAnchor=f;this.dropPosition=l}},onMouseMove:function(b){if(!this.isDragging||"Disabled"!=this.targetState){this.inherited(arguments);var c=a.manager();if(this.isDragging)this._onDragMouse(b);
else if(this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>=this.dragThreshold||Math.abs(b.pageY-this._lastY)>=this.dragThreshold)){var d=this.getSelectedTreeNodes();if(d.length){if(1<d.length){var e=this.selection,f=0,g=[],k,m;a:for(;k=d[f++];){for(m=k.getParent();m&&m!==this.tree;m=m.getParent())if(e[m.id])continue a;g.push(k)}d=g}d=n.map(d,function(a){return a.domNode});c.startDrag(this,d,this.copyState(l.getCopyKeyState(b)));this._onDragMouse(b,!0)}}}},onMouseDown:function(a){this.mouseDown=
!0;this.mouseButton=a.button;this._lastX=a.pageX;this._lastY=a.pageY;this.inherited(arguments)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,this.inherited(arguments))},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor()},checkItemAcceptance:function(){return!0},onDndSourceOver:function(b){this!=b?(this.mouseDown=!1,this._unmarkTargetAnchor()):this.isDragging&&a.manager().canDrop(!1)},onDndStart:function(b,c,d){this.isSource&&this._changeState("Source",this==b?d?
"Copied":"Moved":"");c=this.checkAcceptance(b,c);this._changeState("Target",c?"":"Disabled");this==b&&a.manager().overSource(this);this.isDragging=!0},itemCreator:function(a){return n.map(a,function(a){return{id:a.id,name:a.textContent||a.innerText||""}})},onDndDrop:function(a,b,c){if("Over"==this.containerState){var d=this.tree,e=d.model,f=this.targetAnchor;this.isDragging=!1;var g,k,l;g=f&&f.item||d.item;"Before"==this.dropPosition||"After"==this.dropPosition?(g=f.getParent()&&f.getParent().item||
d.item,k=f.getIndexInParent(),"After"==this.dropPosition?(k=f.getIndexInParent()+1,l=f.getNextSibling()&&f.getNextSibling().item):l=f.item):g=f&&f.item||d.item;var m;n.forEach(b,function(d,t){var A=a.getItem(d.id);if(-1!=n.indexOf(A.type,"treeNode"))var C=A.data,F=C.item,G=C.getParent().item;a==this?("number"==typeof k&&g==G&&C.getIndexInParent()<k&&--k,e.pasteItem(F,G,g,c,k,l)):e.isItem(F)?e.pasteItem(F,G,g,c,k,l):(m||(m=this.itemCreator(b,f.rowNode,a)),e.newItem(m[t],g,k,l))},this);this.tree._expandNode(f)}this.onDndCancel()},
onDndCancel:function(){this._unmarkTargetAnchor();this.mouseDown=this.isDragging=!1;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","")},onOverEvent:function(){this.inherited(arguments);a.manager().overSource(this)},onOutEvent:function(){this._unmarkTargetAnchor();var b=a.manager();this.isDragging&&b.canDrop(!1);b.outSource(this);this.inherited(arguments)},_isParentChildDrop:function(a,b){if(!a.tree||a.tree!=this.tree)return!1;for(var c=a.tree.domNode,d=a.selection,
e=b.parentNode;e!=c&&!d[e.id];)e=e.parentNode;return e.id&&d[e.id]},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition),this.dropPosition=this.targetBox=this.targetAnchor=null)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")}})})},"tm1web/celledit/_EditMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-class dojo/dom-geometry dojo/keys dijit/form/_TextBoxMixin ../utility/dom ../utility/event ../utility/number ../utility/percent ../share/_RefocusMixin ../share/NumberType ../share/TM1Utility ../on/mousewheel ./_CellValueMixin ../mobile/sniff ./ValueSaver".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v){return n([q,p],{objectId:null,dataGrid:null,service:null,_visible:!1,_store:null,_Store:null,_ValueSaver:v,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"tm1webCellEditor");this.connect(this.domNode,t,"hide");this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.textbox,"onmousedown",function(){this._allowKeyNavigation=!1})},_onKeyDown:function(d){switch(d.keyCode){case c.DOWN_ARROW:case c.UP_ARROW:case c.LEFT_ARROW:case c.RIGHT_ARROW:if(this._allowKeyNavigation)this.hide();
else{d.stopPropagation();return}break;case c.NUMPAD_PERIOD:l.stop(d),s.insertCharacterAtCaret(a.decimal,this.textbox)}b.isCopyKeyDown(d)&&"V"===String.fromCharCode(d.keyCode)&&d.stopPropagation();this.inherited(arguments)},show:function(a){this.startup();this._activeCell=a.cell;this.textbox.value=a.value;this._selectText=null!=a.highlight?a.highlight:!0;this._allowKeyNavigation=!!a.allowKeyNavigation;this._show(a)},_show:function(a){this._saveFocus();f.setStyle(this.domNode,{visibility:"hidden",display:""});
this._adjustPosition();this.domNode.style.visibility="";this._visible=!0;var b=this.textbox,c=this._computeSelectionIndices();u("mobile-device")?e.selectInputText(b,c.start,c.end):this.defer(function(){e.selectInputText(b,c.start,c.end)},1)},_saveFocus:function(){this.inherited(arguments);this._savedFocusedNode||(this._savedFocusedNode=this.dataGrid.Panel)},_computeSelectionIndices:function(){var a=this._activeCell,b=this.textbox.value,c=b.length,e=this._selectText?0:c;if(this._selectText&&this._isPercentValue(a,
b))return this._percentAppended=!0,d.formatUsesPrefixedPercent()&&(this.textbox.value=d.pushMinusSignBehindPercent(b),b=this.textbox.value),d.getRange(b);this._selectText||!this._isPercentCell(a)||isNaN(b)||(this.textbox.value=d.addFormat(this.textbox.value),this._percentAppended=!0,d.formatUsesPrefixedPercent()&&(e=c=this.textbox.value.length));return{start:e,end:c}},hide:function(){this._visible&&(this._percentAppended=this._allowKeyNavigation=this._selectText=this._visible=!1,this._restoreFocus(),
this._activeCell=null,this.domNode.style.display="none",this.onHide())},onInput:function(a){if(!b.isModifierKeyDown(a,!0))switch(a.keyCode){case c.ENTER:case c.TAB:return this.hide(),!0;case c.ESCAPE:return this.textbox.value=this._getCurrentValue(this._activeCell),this.hide(),!0}"keypress"===a.type&&this.defer("_analyzeValue");return this.inherited(arguments)},onHide:function(){},_adjustPosition:function(){g.setMarginBox(this.domNode,{t:this._calculateOffsetTop(),l:this._calculateOffsetLeft(),w:this._calculateWidth(),
h:this._calculateHeight()})},_calculateWidth:function(){return this._activeCell.offsetWidth},_calculateHeight:function(){return this._activeCell.offsetHeight},_calculateOffsetTop:function(){for(var a=this.domNode.offsetParent,b=this._activeCell.offsetTop,c=this._activeCell.offsetParent,d=this._activeCell.parentNode;a!==c;)b-=d.scrollTop,c===d&&(b+=c.offsetTop),c=d.offsetParent,d=d.parentNode;return b},_calculateOffsetLeft:function(){for(var a=this.domNode.offsetParent,b=this._activeCell.offsetLeft,
c=this._activeCell.offsetParent,d=this._activeCell.parentNode;a!==c;)b-=d.scrollLeft,c===d&&(b+=c.offsetLeft),c=d.offsetParent,d=d.parentNode;return b},_handleOnChange:function(a,b){this.inherited(arguments);b&&(this._saveEdit(),this._restoreFocus(),this.hide())},_saveEdit:function(){var a=new this._ValueSaver(this._getValueSaverParams());this.defer(function(){a.save()},0)},_getValueSaverParams:function(){return{objectId:this.objectId,dataGrid:this.dataGrid,value:this.textbox.value,activeCell:this._activeCell,
service:this.service}},_analyzeValue:function(){var b=this.textbox.value,c=d.removeFormat(b);!this._percentAppended||null==c||a.canParse(b,r.PERCENT,!0)||a.canParse(c,r.DECIMAL,!0)||(this.textbox.value=c,this._percentAppended=!1);this._isPercentCell(this._activeCell)&&null==c&&a.canParse(b,r.DECIMAL,!0)&&(this.textbox.value=d.addFormat(b),b=d.getRange(this.textbox.value),e.selectInputText(this.textbox,b.end,b.end),this._percentAppended=!0)}})})},"tm1web/cubeview/metrics/CubeviewRaveChartContent":function(){define(["dojo/_base/declare",
"dojo/json","./RaveChartContent","./CubeviewChartInteractivityHelper"],function(n,m,l,k){return n(l,{constructor:function(g){this._initializeInteractivityHelper()},_initializeInteractivityHelper:function(){this._interactivityHelper=new k;this._interactivityHelper.setupInteractivity(this._visWidget)},_setVizJsonSpec:function(g){g=m.parse(g.jsonString);this._visWidget.setSpec(g)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(n,m){return n("dijit.form._CheckBoxMixin",
null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(l){this._set("readOnly",l);m.set(this.focusNode,"readOnly",l)},_setLabelAttr:void 0,_getSubmitValue:function(l){return null==l||""===l?"on":l},_setValueAttr:function(l){l=this._getSubmitValue(l);this._set("value",l);m.set(this.focusNode,"value",l)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(l){return this.readOnly?
(l.stopPropagation(),l.preventDefault(),!1):this.inherited(arguments)}})})},"tm1web/celledit/_PickList":function(){define(["dojo/_base/declare","./_CellList","./PickListValueSaver"],function(n,m,l){return n("tm1web.celledit._PickList",m,{_ValueSaver:l})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(n,m,l,k,g,c,e){var f=0,b={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")},_emptyNode:c.empty,_setNodeContent:function(a,b){c.empty(a);if(b)if("string"==typeof b&&(b=c.toDom(b,a.ownerDocument)),!b.nodeType&&m.isArrayLike(b))for(var e=b.length,f=0;f<b.length;f=e==b.length?f+1:0)c.place(b[f],a,"last");else c.place(b,a,"last");return a},_ContentSetter:k("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:n._scopeName,startup:!0,constructor:function(a,b){m.mixin(this,a||{});b=this.node=g.byId(this.node||
b);this.id||(this.id=["Setter",b?b.id||b.tagName:"",f++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=b._setNodeContent(a,this.content)}catch(c){var e=this.onContentError(c);try{a.innerHTML=e}catch(f){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+
f.message,f)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(l.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);c.empty(this.node)},onBegin:function(){var a=this.content;if(m.isString(a)&&(this.cleanContent&&(a=b._secureForInnerHtml(a)),this.extractContent)){var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}this.empty();
this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};l.forEach(["dir","lang","textDir"],function(a){this[a]&&
(b[a]=this[a])},this);var c=this;this.parseDeferred=e.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(f){this._onError("Content",f,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,c,e){a=this["on"+a+"Error"].call(this,c);e?console.error(e,c):a&&b._setNodeContent(this.node,a,!0)}}),set:function(a,c,e){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
c="");return e?(new b._ContentSetter(m.mixin(e,{content:c,node:a}))).set():b._setNodeContent(a,c,!0)}};return n.html=b})},"tm1web/planning/TM1CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./TM1MenuItem"],function(n,m,l,k){return n(k,{constructor:function(g,c,e){this.Checked=!1;this._CheckedIcon=null},postCreate:function(){this.inherited(arguments);m.add(this.iconNode,"tm1webMenuItemInlineBlock");this._CreateCheckMarkPlaceHolder()},_CreateCheckMarkPlaceHolder:function(){this._CheckedIcon=
document.createElement("div");l.place(this._CheckedIcon,this.iconNode,"before");m.add(this._CheckedIcon,"tm1webMenuItemInlineBlock")},onClick:function(g){this.inherited(arguments);this.SetChecked(!this.Checked)},SetChecked:function(g){this.Checked=g;m.toggle(this._CheckedIcon,"tm1webCheckMarkIcon",g)}})})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(n,m){function l(b,e,f){e=e.toLowerCase();if(n("ie")||n("trident")){if("auto"==f){if("height"==e)return b.offsetHeight;if("width"==
e)return b.offsetWidth}if("fontweight"==e)switch(f){case 700:return"bold";default:return"normal"}}e in a||(a[e]=d.test(e));return a[e]?c(b,f):f}var k,g={};k=n("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=c.getComputedStyle(a,null))}return b||{}}:n("ie")&&(9>n("ie")||n("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}};g.getComputedStyle=k;var c;c=n("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,e=c.left,f=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(g){b=0}c.left=e;d.left=f;return b}:function(a,b){return parseFloat(b)||0};g.toPixelValue=c;var e=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},f=9>n("ie")||10>n("ie")&&n("quirks")?function(a){try{return e(a).Opacity/
100}catch(b){return 1}}:function(a){return k(a).opacity},b=9>n("ie")||10>n("ie")&&n("quirks")?function(a,c){""===c&&(c=1);var d=100*c;1===c?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(d=a.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&b(d,
c);return c}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,p={cssFloat:1,styleFloat:1,"float":1};g.get=function(a,b){var c=m.byId(a),d=arguments.length;if(2==d&&"opacity"==b)return f(c);b=p[b]?"cssFloat"in c.style?"cssFloat":"styleFloat":b;var e=g.getComputedStyle(c);return 1==d?e:l(c,b,e[b]||c.style[b])};g.set=function(a,c,d){var e=m.byId(a),f=arguments.length,k="opacity"==c;c=p[c]?"cssFloat"in e.style?"cssFloat":"styleFloat":c;if(3==f)return k?
b(e,d):e.style[c]=d;for(var l in c)g.set(a,l,c[l]);return g.getComputedStyle(e)};return g})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(n,m,l,k){return n("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(g){var c=this._attrPairNames;return c[g]?c[g]:c[g]={s:"_"+g+"Setter",g:"_"+g+"Getter"}},postscript:function(g){g&&this.set(g)},_get:function(g,c){return"function"===typeof this[c.g]?this[c.g]():this[g]},get:function(g){return this._get(g,
this._getAttrNames(g))},set:function(g,c){if("object"===typeof g){for(var e in g)g.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,g[e]);return this}e=this._getAttrNames(g);var f=this._get(g,e);e=this[e.s];var b;"function"===typeof e?b=e.apply(this,Array.prototype.slice.call(arguments,1)):this[g]=c;if(this._watchCallbacks){var a=this;k(b,function(){a._watchCallbacks(g,f,c)})}return this},_changeAttrValue:function(g,c){var e=this.get(g);this[g]=c;this._watchCallbacks&&this._watchCallbacks(g,e,
c);return this},watch:function(g,c){var e=this._watchCallbacks;if(!e)var f=this,e=this._watchCallbacks=function(a,b,c,g){var k=function(e){if(e){e=e.slice();for(var g=0,k=e.length;g<k;g++)e[g].call(f,a,b,c)}};k(e["_"+a]);g||k(e["*"])};c||"function"!==typeof g?g="_"+g:(c=g,g="*");var b=e[g];"object"!==typeof b&&(b=e[g]=[]);b.push(c);var a={};a.unwatch=a.remove=function(){var a=l.indexOf(b,c);-1<a&&b.splice(a,1)};return a}})})},"dojox/layout/ToggleSplitter":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/event dojo/keys dojo/dom-class dojo/dom-style dijit/layout/BorderContainer dijit/_Widget".split(" "),
function(n,m,l,k,g,c,e,f,b,a){m.experimental("dojox.layout.ToggleSplitter");n=n("dojox.layout.ToggleSplitter",b._Splitter,{container:null,child:null,region:null,state:"full",_closedSize:"0",baseClass:"dojoxToggleSplitter",templateString:'\x3cdiv class\x3d"dijitSplitter dojoxToggleSplitter" dojoAttachEvent\x3d"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse"\x3e\x3cdiv dojoAttachPoint\x3d"toggleNode" class\x3d"dijitSplitterThumb dojoxToggleSplitterIcon" tabIndex\x3d"0" role\x3d"separator" dojoAttachEvent\x3d"onmousedown:_onToggleNodeMouseDown,onclick:_toggle,onmouseenter:_onToggleNodeMouseMove,onmouseleave:_onToggleNodeMouseMove,onfocus:_onToggleNodeMouseMove,onblur:_onToggleNodeMouseMove"\x3e\x3cspan class\x3d"dojoxToggleSplitterA11y" dojoAttachPoint\x3d"a11yText"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
postCreate:function(){this.inherited(arguments);var a=this.region;e.add(this.domNode,this.baseClass+a.charAt(0).toUpperCase()+a.substring(1))},startup:function(){this.inherited(arguments);var a=this.child.domNode,b=f.set(a,this.horizontal?"height":"width");this.domNode.setAttribute("aria-controls",a.id);k.forEach(["toggleSplitterState","toggleSplitterFullSize","toggleSplitterCollapsedSize"],function(a){var b=a.substring(14),b=b.charAt(0).toLowerCase()+b.substring(1);a in this.child&&(this[b]=this.child[a])},
this);this.fullSize||(this.fullSize="full"==this.state?b+"px":"75px");this._openStyleProps=this._getStyleProps(a,"full");this._started=!0;this.set("state",this.state);return this},_onKeyPress:function(a){"full"==this.state&&this.inherited(arguments);if(a.charCode==c.SPACE||a.keyCode==c.ENTER)this._toggle(a),g.stop(a)},_onToggleNodeMouseDown:function(a){g.stop(a);this.toggleNode.focus()},_startDrag:function(a){"full"==this.state&&this.inherited(arguments)},_stopDrag:function(a){this.inherited(arguments);
this.toggleNode.blur()},_toggle:function(a){switch(this.state){case "full":a=this.collapsedSize?"collapsed":"closed";break;case "collapsed":a="closed";break;default:a="full"}this.set("state",a)},_onToggleNodeMouseMove:function(a){var b=this.baseClass,c=this.toggleNode,f="full"==this.state||"collapsed"==this.state;a="mouseout"==a.type||"blur"==a.type;e.toggle(c,b+"IconOpen",a&&f);e.toggle(c,b+"IconOpenHover",!a&&f);e.toggle(c,b+"IconClosed",a&&!f);e.toggle(c,b+"IconClosedHover",!a&&!f)},_handleOnChange:function(a){a=
this.child.domNode;var b,c,e=this.horizontal?"height":"width";"full"==this.state?(c=l.mixin({display:"block",overflow:"auto",visibility:"visible"},this._openStyleProps),c[e]=this._openStyleProps&&this._openStyleProps[e]?this._openStyleProps[e]:this.fullSize,f.set(this.domNode,"cursor",""),f.set(a,c)):"collapsed"==this.state?(c=f.getComputedStyle(a),this._openStyleProps=b=this._getStyleProps(a,"full",c),f.set(this.domNode,"cursor","auto"),f.set(a,e,this.collapsedSize)):(this.collapsedSize||(c=f.getComputedStyle(a),
this._openStyleProps=b=this._getStyleProps(a,"full",c)),c=this._getStyleProps(a,"closed",c),f.set(this.domNode,"cursor","auto"),f.set(a,c));this._setStateClass();this.container._started&&this.container._layoutChildren(this.region)},_getStyleProps:function(a,b,c){c||(c=f.getComputedStyle(a));var e={},g=this.horizontal?"height":"width";e.overflow="closed"!=b?c.overflow:"hidden";e.visibility="closed"!=b?c.visibility:"hidden";e[g]="closed"!=b?a.style[g]||c[g]:this._closedSize;var l=["Top","Right","Bottom",
"Left"];k.forEach(["padding","margin","border"],function(a){for(var d=0;d<l.length;d++){var f=a+l[d];"border"==a&&(f+="Width");void 0!==c[f]&&(e[f]="closed"!=b?c[f]:0)}});return e},_setStateClass:function(){var a="\x26#9652",b=this.region.toLowerCase(),c=this.baseClass,f=this.toggleNode,g="full"==this.state||"collapsed"==this.state,k=this.focused;e.toggle(f,c+"IconOpen",g&&!k);e.toggle(f,c+"IconClosed",!g&&!k);e.toggle(f,c+"IconOpenHover",g&&k);e.toggle(f,c+"IconClosedHover",!g&&k);if("top"==b&&g||
"bottom"==b&&!g)a="\x26#9650";else if("top"==b&&!g||"bottom"==b&&g)a="\x26#9660";else if("right"==b&&g||"left"==b&&!g)a="\x26#9654";else if("right"==b&&!g||"left"==b&&g)a="\x26#9664";this.a11yText.innerHTML=a},_setStateAttr:function(a){if(this._started){var b=this.state;this.state=a;this._handleOnChange(b);switch(a){case "full":this.domNode.setAttribute("aria-expanded",!0);a="onOpen";break;case "collapsed":this.domNode.setAttribute("aria-expanded",!0);a="onCollapsed";break;default:this.domNode.setAttribute("aria-expanded",
!1),a="onClosed"}this[a](this.child)}},onOpen:function(a){},onCollapsed:function(a){},onClosed:function(a){}});l.extend(a,{toggleSplitterState:"full",toggleSplitterFullSize:"",toggleSplitterCollapsedSize:""});return n})},"dojox/gesture/tap":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","./Base","../main"],function(n,m,l,k,g){n.experimental("dojox.gesture.tap");n=m(k,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,
press:function(c,e){if(e.touches&&2<=e.touches.length)clearTimeout(c.tapTimeOut),delete c.context;else{var f=e.target;this._initTap(c,e);c.tapTimeOut=setTimeout(l.hitch(this,function(){this._isTap(c,e)&&this.fire(f,{type:"tap.hold"});delete c.context}),this.holdThreshold)}},release:function(c,e){if(c.context&&this._isTap(c,e))switch(c.context.c){case 1:this.fire(e.target,{type:"tap"});break;case 2:this.fire(e.target,{type:"tap.doubletap"})}clearTimeout(c.tapTimeOut)},_initTap:function(c,e){c.context||
(c.context={x:0,y:0,t:0,c:0});var f=(new Date).getTime();f-c.context.t<=this.doubleTapTimeout?c.context.c++:(c.context.c=1,c.context.x=e.screenX,c.context.y=e.screenY);c.context.t=f},_isTap:function(c,e){var f=Math.abs(c.context.x-e.screenX),b=Math.abs(c.context.y-e.screenY);return f<=this.tapRadius&&b<=this.tapRadius}});g.gesture.tap=new n;g.gesture.tap.Tap=n;return g.gesture.tap})},"tm1web/cubeview/TM1CubeViewContainer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/topic dojo/aspect dojo/Deferred dojo/dom-class dojo/dom-geometry dijit/layout/BorderContainer ./CubeViewGridControlBase ./TM1ChartPane ./TM1CubeViewGridPane ./CubeViewDimensionBar ./DimensionDropPanelDndCoordinator ../share/CubeViewerDisplayMode ../share/service-loader!CubeViewService ../utility/message-localizer ../widgets/ErrorAlert ../config-settings ../config-settings!".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x){return n(a,{constructor:function(a,b){this.DisplayMode=this._TM1ChartPane=this._TM1GridPane=this._dimensionBar=this._borderContainer=null;this._InitializeTM1CubeViewContainer(b)},_InitializeTM1CubeViewContainer:function(a){this.CreateContainer(a);this._dimensionBar=new r({region:"top",className:"tm1webDimBarPanel"},null,this.ObjectId);this._TM1GridPane=new p({region:"center"},null,this.ObjectId);this._TM1ChartPane=new d({region:"bottom",splitter:!0},
null,this.ObjectId);this._AttachEvents()},_toggleDimensionBar:function(a){e.toggle(this._dimensionBar.domNode,"tm1webHidden",a);this.Resize()},_InitializeDNDonDimensionBar:function(){var a=this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.DNDhandler;x.isCubeViewerHiddenDimensionsEnabled()&&this._dimensionBarDNDCoordinator.InitializeDimensionDropPanelDND(this._dimensionBar.HiddenDropPanel,a);this._dimensionBarDNDCoordinator.InitializeDimensionDropPanelDND(this._dimensionBar.TitleDropPanel,a);this._dimensionBarDNDCoordinator.InitializeDimensionDropPanelDND(this._dimensionBar.ColDropPanel,
a);this._dimensionBarDNDCoordinator.InitializeDimensionDropPanelDND(this._dimensionBar.RowDropPanel,a)},InitializeLayout:function(a){this.DisplayMode=a.displayMode;this._TM1GridPane.setClientConfig(a.allowSpreading,a.allowConsolidateSpreading);this._CreatePanes()},Resize:function(){this._borderContainer.resize();this._Resize()},_AttachEvents:function(){this.own(k.subscribe(this.ObjectId+"-Pivot",l.hitch(this,"_pivot")));this.own(k.subscribe(this.ObjectId+"-ToggleDimensionBar",l.hitch(this,"_toggleDimensionBar")));
this.own(k.subscribe(this.ObjectId+"-UpdateCubeViewer",l.hitch(this,"Update")))},_Resize:function(){var a=this._GetKids();m.forEach(a,function(a){"function"==typeof a.Resize&&a.Resize()})},CreateContainer:function(a){this._borderContainer=new b({liveSplitters:!0,gutters:!1},a);this._borderContainer.startup()},DestroyRecursive:function(){this._borderContainer.destroyRecursive(!0)},_pivot:function(a,b){q.Pivot(this.ObjectId,a,b,{callback:this.Update,errorHandler:this._errorHandler,scope:this})},Update:function(a){this._dimensionBar.Update(a);
this._TM1GridPane.Update(a);this._TM1ChartPane.Update(a);a.layoutChanged&&(this._dimensionBarDNDCoordinator=new s);this._dimensionBar.Resize();this._InitializeDNDonDimensionBar()},_RemoveChartPane:function(){this._RemovePane(this._TM1ChartPane)},_RemoveGridPane:function(){this._RemovePane(this._TM1GridPane)},_addDimensionBar:function(){this._IsPaneExists(this._dimensionBar)||this._borderContainer.addChild(this._dimensionBar)},_removeDimensionBar:function(){this._RemovePane(this._dimensionBar)},_AddChartPane:function(){this._IsPaneExists(this._TM1ChartPane)||
this._borderContainer.addChild(this._TM1ChartPane)},_AddGridPane:function(){this._IsPaneExists(this._TM1GridPane)||this._borderContainer.addChild(this._TM1GridPane)},_RemovePane:function(a){this._IsPaneExists(a)&&this._borderContainer.removeChild(a)},_IsPaneExists:function(a){var b=this._GetKids();return b?m.some(b,function(b){return b==a}):!1},_GetKids:function(){return this._borderContainer.getChildren()},GetDisplayInfo:function(a){return this.GetDisplayInfoEx(this.DisplayMode)},GetDisplayInfoEx:function(a){var b=
null;a&&(b={HasChart:a==t.GridAndChart||a==t.Chart,HasGrid:a==t.GridAndChart||a==t.Grid});return b},ChangeDisplayMode:function(a){var b=new c;this._previousDisplayMode=this.DisplayMode;this.DisplayMode=a;this._CreatePanes();q.ChangeDisplayMode(this.ObjectId,a,{callback:this._OnChangeDisplayMode,arg:b,scope:this});return b.promise},_CreatePanes:function(){this._recordChartHeight();this._resizeOnStopDragHandle&&(this._resizeOnStopDragHandle.remove(),delete this._resizeOnStopDragHandle);this._addDimensionBar();
this._RemoveChartPane();switch(this.DisplayMode){case t.Grid:this._AddGridPane();break;case t.Chart:this._RemoveGridPane();this._TM1ChartPane.set("region","center");this._AddChartPane();break;case t.GridAndChart:this._AddGridPane();this._TM1ChartPane.set("region","bottom");var a=this;setTimeout(function(){a._TM1ChartPane.domNode.style.height=a._getChartHeight();a._AddChartPane();var b=a._TM1ChartPane._splitterWidget;a._attachSplitterEvents(b);e.add(b.domNode,"tm1webCubeViewerChartSplitter")},0)}},
_attachSplitterEvents:function(a){a&&(this._resizeOnStopDragHandle=g.after(a,"_stopDrag",l.hitch(this,"_Resize"),!0))},_recordChartHeight:function(){this._IsPaneExists(this._TM1ChartPane)&&this._IsPaneExists(this._TM1GridPane)&&(this._previousChartHeight=this._TM1ChartPane.domNode.style.height)},_getChartHeight:function(){return null==this._previousChartHeight?(f.getMarginBox(this._borderContainer.domNode).h-f.getMarginBox(this._dimensionBar.domNode).h-3)/2+"px":this._previousChartHeight},_OnChangeDisplayMode:function(a,
b){this.Update(a);k.publish(this.ObjectId+"-DisplayModeChanged",a.displayMode);b.resolve()},ChartTypeChanged:function(a,b){var d=new c;q.ChartTypeChanged(this.ObjectId,a,b,{callback:this._OnChartTypeChanged,arg:d,scope:this});return d.promise},_OnChartTypeChanged:function(a,b){this.Update(a);b.resolve()},hasUnsavedDataChanges:function(){return this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.DataGrid.unsavedDataChanges},setUnsavedDataChanges:function(a){this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.DataGrid.unsavedDataChanges=
a},getCellMetadata:function(){var a=this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.DataGrid;if(!a.SelectedArea)return null;a=a.SelectedArea.StartCell;if(!a)return null;var a=this._TM1GridPane.GetCoordinate(a),b=new c;q.getCellMetadata(this.ObjectId,a.rowIndex,a.colIndex,{callback:this._onGetCellMetadata,arg:b,scope:this});return b.promise},_onGetCellMetadata:function(a,b){null!=a?b.resolve(a):b.cancel()},getSelection:function(){var a=this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.DataGrid;if(!a.SelectedArea)return null;
var b=a.SelectedArea.StartCell,a=a.SelectedArea.EndCell;if(!b)return null;if(!a||b==a)return this.getCellMetadata();var b=this._TM1GridPane.GetCoordinate(b),a=this._TM1GridPane.GetCoordinate(a),d=new c;q.getCellsMetadata(this.ObjectId,b.rowIndex,b.colIndex,a.rowIndex,a.colIndex,{callback:this._onGetCellMetadata,arg:d,scope:this});return d.promise},setSelection:function(a){var b=new c;if(a){if(!(a instanceof Array)){var d=[];d[0]=a;a=d}q.getCellPositions(this.ObjectId,a,{callback:this._onGetCellPositions,
arg:b,scope:this})}else this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.dataGridDragSelectMgr.Reset(),b.resolve(!0);return b.promise},_onGetCellPositions:function(a,b){if(a&&2==a.length&&a[0]){var c=this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.dataGridDragSelectMgr;c.Reset();var d=c._DataGrid.Grid.childNodes[1].rows;null==a[1]&&(a[1]=a[0]);var e=a[0],f=a[1];if(0>e.x||0>e.y)b.resolve(!1);else if(e!=f&&0>f.x||0>f.y)b.resolve(!1);else if((e.x>d.length-1||e.y>d[e.x].cells.length-1)&&(f.x>d.length-1||f.y>
d[f.x].cells.length-1))b.resolve(!1);else{if(e.x>d.length-1||e.y>d[e.x].cells.length-1)e.x=Math.min(d.length-1,e.x),e.y=Math.min(d[e.x].cells.length-1,e.y);if(f.x>d.length-1||f.y>d[f.x].cells.length-1)f.x=Math.min(d.length-1,f.x),f.y=Math.min(d[f.x].cells.length-1,f.y);c.setSelection(d[e.x].cells[e.y],d[f.x].cells[f.y]);b.resolve(!0)}}},updateLayout:function(){this._TM1GridPane&&this._TM1GridPane.TM1Grid.PagingGrid.OlapGrid._UpdateLayout()},updateDisplayMode:function(a){this.DisplayMode!=a&&(this.DisplayMode=
a,this._CreatePanes())},_errorHandler:function(a,b){if("SystemOutOfMemory"==a)v.show({message:u.get("MEMORY_EXCEEDED"),title:u.get("STOP_STR")});else if(0===a.indexOf("UnableToOpenView:")){var c=a.substr(17,a.length-17);v.show({message:u.get("VIEW_ERROR_NAME_STR",c),title:u.get("STOP_STR")})}else v.show({message:u.get("VIEW_ERROR"),title:u.get("STOP_STR")})}})})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(n,m){var l=document.createElement("div"),k=l.matches||l.webkitMatchesSelector||
l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,g=l.querySelectorAll,c=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;n.add("dom-matches-selector",!!k);n.add("dom-qsa",!!g);var e=function(c,k){if(a&&-1<c.indexOf(","))return a(c,k);var l=k?k.ownerDocument||k:m.doc||document,n=(g?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(c);k=k||l;if(n){if(n[2]){var t=m.byId?m.byId(n[2],l):l.getElementById(n[2]);if(!t||
n[1]&&n[1]!=t.tagName.toLowerCase())return[];if(k!=l)for(l=t;l!=k;)if(l=l.parentNode,!l)return[];return n[3]?e(n[3],t):[t]}if(n[3]&&k.getElementsByClassName)return k.getElementsByClassName(n[4]);if(n[5])if(t=k.getElementsByTagName(n[5]),n[4]||n[6])c=(n[4]||"")+n[6];else return t}if(g)return 1===k.nodeType&&"object"!==k.nodeName.toLowerCase()?f(k,c,k.querySelectorAll):k.querySelectorAll(c);t||(t=k.getElementsByTagName("*"));for(var n=[],l=0,q=t.length;l<q;l++){var u=t[l];1==u.nodeType&&b(u,c,k)&&n.push(u)}return n},
f=function(a,b,e){var f=a,g=a.getAttribute("id"),k=g||"__dojo__",l=a.parentNode,m=/^\s*[+~]/.test(b);if(m&&!l)return[];g?k=k.replace(/'/g,"\\$\x26"):a.setAttribute("id",k);m&&l&&(a=a.parentNode);b=b.match(c);for(l=0;l<b.length;l++)b[l]="[id\x3d'"+k+"'] "+b[l];b=b.join(",");try{return e.call(a,b)}finally{g||f.removeAttribute("id")}};if(!n("dom-matches-selector"))var b=function(){function a(b,c,d){var e=c.charAt(0);if('"'==e||"'"==e)c=c.slice(1,-1);c=c.replace(/\\/g,"");var f=k[d||""];return function(a){return(a=
a.getAttribute(b))&&f(a,c)}}function b(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,c))return!0}}function c(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==c}}function e(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var f="div"==l.tagName?"toLowerCase":"toUpperCase",g={"":function(a){a=a[f]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(c){return-1<c.className.indexOf(a)&&-1<(" "+c.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==
a}}},k={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},m={};return function(f,k,l){var n=m[k];if(!n){if(k.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,
function(f,k,l,m,u,t,v){m?n=e(n,g[l||""](m.replace(/\\/g,""))):k?n=(" "==k?b:c)(n):u&&(n=e(n,a(u,v,t)));return""}))throw Error("Syntax error in query");if(!n)return!0;m[k]=n}return n(f,l)}}();if(!n("dom-qsa"))var a=function(a,b){for(var f=a.match(c),g=[],k=0;k<f.length;k++){a=new String(f[k].replace(/\s*$/,""));a.indexOf=escape;for(var l=e(a,b),m=0,n=l.length;m<n;m++){var x=l[m];g[x.sourceIndex]=x}}f=[];for(k in g)f.push(g[k]);return f};e.match=k?function(a,b,c){return c&&9!=c.nodeType?f(c,b,function(b){return k.call(a,
b)}):k.call(a,b)}:b;return e})},"tm1web/widgets/_MaximizeableDialogMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/window","dojo/on"],function(n,m,l,k){return n(null,{buildRendering:function(){this.inherited(arguments);this._connects.push(k(this.titleBar,"dblclick",m.hitch(this,"maximize")))},maximize:function(){this.resize(l.getBox())}})})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),
function(n,m,l,k,g,c,e,f){m=m("dijit.layout.LayoutContainer",e,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(n.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){this.inherited(arguments);b.region&&l.add(b.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var b=n.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:
-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);b.sort(function(a,b){for(var c=a.weight,e=b.weight,f=0;f<c.length;f++)if(c[f]!=e[f])return c[f]-e[f];return 0});return n.map(b,function(a){return a.pane})},layout:function(){f.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(b,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(b){this.inherited(arguments);this._started&&this.layout();l.remove(b.domNode,this.baseClass+"Pane");k.set(b.domNode,
{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});k.set(b.domNode,/top|bottom/.test(b.region)?"width":"height","auto")}});m.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};g.extend(c,m.ChildWidgetProperties);return m})},"dojo/dnd/autoscroll":function(){define("../_base/kernel ../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(n,m,l,k,g,c,e){var f={};m.setObject("dnd.autoscroll",f,n);f.getViewport=e.getBox;f.V_TRIGGER_AUTOSCROLL=
32;f.H_TRIGGER_AUTOSCROLL=32;f.V_AUTOSCROLL_VALUE=16;f.H_AUTOSCROLL_VALUE=16;var b,a=k.doc,d=Infinity,p=Infinity;f.autoScrollStart=function(c){a=c;b=e.getBox(a);c=k.body(a).parentNode;d=Math.max(c.scrollHeight-b.h,0);p=Math.max(c.scrollWidth-b.w,0)};f.autoScroll=function(c){var g=b||e.getBox(a),l=k.body(a).parentNode,m=0,n=0;c.clientX<f.H_TRIGGER_AUTOSCROLL?m=-f.H_AUTOSCROLL_VALUE:c.clientX>g.w-f.H_TRIGGER_AUTOSCROLL&&(m=Math.min(f.H_AUTOSCROLL_VALUE,p-l.scrollLeft));c.clientY<f.V_TRIGGER_AUTOSCROLL?
n=-f.V_AUTOSCROLL_VALUE:c.clientY>g.h-f.V_TRIGGER_AUTOSCROLL&&(n=Math.min(f.V_AUTOSCROLL_VALUE,d-l.scrollTop));window.scrollBy(m,n)};f._validNodes={div:1,p:1,td:1};f._validOverflow={auto:1,scroll:1};f.autoScrollNodes=function(a){for(var b,d,e,m,n,p,y=0,w=0,z=a.target;z;){if(1==z.nodeType&&z.tagName.toLowerCase()in f._validNodes){e=c.getComputedStyle(z);m=e.overflow.toLowerCase()in f._validOverflow;n=e.overflowX.toLowerCase()in f._validOverflow;p=e.overflowY.toLowerCase()in f._validOverflow;if(m||
n||p)b=g.getContentBox(z,e),d=g.position(z,!0);if(m||n){e=Math.min(f.H_TRIGGER_AUTOSCROLL,b.w/2);n=a.pageX-d.x;if(l("webkit")||l("opera"))n+=k.body().scrollLeft;y=0;0<n&&n<b.w&&(n<e?y=-e:n>b.w-e&&(y=e),z.scrollLeft+=y)}if(m||p){m=Math.min(f.V_TRIGGER_AUTOSCROLL,b.h/2);p=a.pageY-d.y;if(l("webkit")||l("opera"))p+=k.body().scrollTop;w=0;0<p&&p<b.h&&(p<m?w=-m:p>b.h-m&&(w=m),z.scrollTop+=w)}if(y||w)return}try{z=z.parentNode}catch(B){z=null}}f.autoScroll(a)};return f})},"tm1web/planning/TM1MenuItem":function(){define(["dojo/_base/declare",
"dijit/MenuItem","./PlanningBase"],function(n,m,l){return n([m,l],{constructor:function(k,g,c){this.Data=c;this.checked=!1},onClick:function(k){this.inherited(arguments);this.OnItemClick(this)},OnItemClick:function(k){},Disable:function(k){this.setDisabled(k)}})})},"tm1web/share/BrowseAnnotationsDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/data/ItemFileReadStore dojo/date/stamp dojox/grid/DataGrid dijit/Dialog dijit/form/Button ../utility/message-localizer ../widgets/AlertDialog ./Base ./service-loader!TM1PlanningService".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s){return n(r,{constructor:function(a,b,c,d){this._objectId=a;this._cell=b;this._dataGrid=c;this._service=d;this._gridContainer=this._grid=this._dialog=null;this._initializeAddAnnoationDialog()},_initializeAddAnnoationDialog:function(){this._dialog=new b({title:d.get("BROWSE_COMMENTS_TITLE_STR")});k.add(this._dialog.domNode,"tm1WebBrowseAnnotationsDialog");this._addContent();this._addEvents()},_addContent:function(){this._gridContainer=g.create("div",{className:"tm1WebAnotationGridContainer"});
g.place(this._gridContainer,this._dialog.containerNode);this._addButtons()},_addButtons:function(){var a=document.createElement("div");g.place(a,this._dialog.containerNode);k.add(a,"tm1webDialogButtons");this._createButton(d.get("CANCEL_STR"),a,this.close)},_createButton:function(b,c,d){b=new a({label:b,onClick:m.hitch(this,d)});k.add(b.domNode,"tm1webButton");g.place(b.domNode,c);return b},_addEvents:function(){this.own(l.after(this._dialog,"onHide",m.hitch(this,"destroy")))},show:function(){var a=
this._cell.cellInfo;window.appId&&window.nodeId?s.getCellAnnotations(appId,nodeId,nodeViewIndex,this._objectId,a.rowIndex,a.colIndex,{callback:this._onGetAnnotations,scope:this}):this._dataGrid.model?this._dataGrid.model.getCellAnnotations(a.rowIndex,a.colIndex).then(m.hitch(this,this._onGetAnnotations)).otherwise(function(a){p.show({message:d.get("SRV_ERR_STR")})}):this._service.getCellAnnotations(this._objectId,a.rowIndex,a.colIndex,{callback:this._onGetAnnotations,scope:this})},_onGetAnnotations:function(a){this._grid=
this._createDataGrid(a);this._dialog.show().then(m.hitch(this,this._grid.startup))},_createDataStore:function(a){for(var b=a.length,d=Array(b),f=0;f<b;f++){var g=a[f],k=e.fromISOString(g.created).toLocaleString();d[f]={comment:this._escapeComment(g.comment),creator:g.creator,created:k}}return new c({data:{items:d}})},_escapeComment:function(a){return a.replace(/\\n/g,"\n")},_createDataGrid:function(a){var b=d.get("COMMENT_STR"),c=d.get("USER_STR"),e=d.get("DATE_STR"),b=[{field:"comment",name:b,width:"300px"},
{field:"creator",name:c,width:"200px"},{field:"created",name:e,width:"auto"}];a=this._createDataStore(a);a=new f({structure:b,clientSort:!0,query:{comment:"*",creator:"*",created:"*"},store:a,selectionMode:"none"});k.add(a.domNode,"tm1webAnnotationGrid");g.place(a.domNode,this._gridContainer);return a},close:function(){this._dialog.hide()},destroy:function(){this.inherited(arguments);this._grid.destroyRecursive();this._dialog.destroyRecursive();delete this._cell;delete this._dialog;delete this._gridContainer;
delete this._objectId}})})},"tm1web/cubeview/CubeViewGrid":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/aspect dojo/on dojo/dom-class dojo/dom-construct ./CubeViewGridControlBase ./CubeDataGrid ./CubeGridLayoutController ./CubeViewColumnHeader ./CubeViewColumnHeaderDndCoordinator ./CubeViewDataGridDndManager ./CubeViewNubbin ./CubeViewNubbinDndCoordinator ./CubeViewRowHeader ./CubeViewRowHeaderDndCoordinator ./CellContextMenu ./DataGridDragSelectManager".split(" "),function(n,
m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x){return n(f,{constructor:function(a){this.dataGridDragSelectMgr=this._LayoutController=this._OnScrollHandler=this._OnResizeHandler=this._ResizetId=this.Panel=this.Nubbin=this.DataGrid=this.RowHeader=this.ColumnHeader=null;this.InitializeCubeViewGrid()},InitializeCubeViewGrid:function(){this.CreateContainer();this.DNDhandler=new r;this.ColumnHeader=new d(this.ObjectId);this.RowHeader=new q(this.ObjectId);this.Nubbin=new s;this.DataGrid=new b(this.ObjectId);this.dataGridDragSelectMgr=
new x(this.DataGrid,this.ColumnHeader,this.RowHeader);this._cellContextMenu=new v({dataGrid:this,objectId:this.ObjectId});this._cellContextMenu.startup();this._cellContextMenu.bindDomNode(this.DataGrid.Panel);this._CreateLayout();this._AttachEvents()},setClientConfig:function(a,b){this.DataGrid.setClientConfig(a,b);this._cellContextMenu.allowSpreading=a},_onCellUpdate:function(a,b){this._updating||this._UpdateLayout()},_UpdateLayout:function(){this._LayoutController=new a(this);this._LayoutController.UpdateLayout();
this.OnCompletedUpdatelayout()},Update:function(a){this._setUpdating(!0);var b=this.DataGrid.unsavedDataChanges;this.DataGrid.unsavedDataChanges=!1;b&&l.publish(this.ObjectId+"-UnsavedDataStateChanged",!1);this.ColumnHeader.Update(a);this.RowHeader.Update(a);this.DataGrid.Update(a);this.Nubbin.Update(a);this._UpdateLayout();this.DataGrid.keepPreviousScrollPosition();a.layoutChanged?this._create(a):a.onToggle&&this.dataGridDragSelectMgr.Reset();this._setUpdating(!1)},_setUpdating:function(a){this._updating=
a},CreateContainer:function(){this.Panel=this.CreatePanel("","tm1webNoscroll")},_create:function(a){this.dataGridDragSelectMgr.Reset();this.DNDhandler.SetObjectID(this.ObjectId);this.NubbinDNDCoordinator=new t;this.NubbinDNDCoordinator.InitializeCubeViewNubbinDND(this.Nubbin,this.DNDhandler);this.ColumnHeaderDNDCoordinator=new p;this.ColumnHeaderDNDCoordinator.InitializeCubeViewColumnHeaderDND(this.ColumnHeader,this.DNDhandler);this.RowHeaderDNDCoordinator=new u;this.RowHeaderDNDCoordinator.InitializeCubeViewRowHeaderDND(this.RowHeader,
this.DNDhandler)},OnBeginResize:function(){},OnEndResize:function(){},OnCompletedUpdatelayout:function(){},_AttachEvents:function(){this.own(k.after(this.DataGrid,"OnScroll",m.hitch(this,"_ScrollViewGrid"),!0));this.own(g(this.RowHeader.Panel,"scroll",m.hitch(this,"_ScrollRowNubbinGrid")));this.own(g(window,"resize",m.hitch(this,"_OnResize")));this.own(l.subscribe(this.ObjectId+"-UpdateGrid",m.hitch(this,"Update")));this.own(k.after(this.DataGrid,"UpdateCell",m.hitch(this,"_onCellUpdate"),!0));this.own(l.subscribe(this.ObjectId+
"-CubeViewUpdating",m.hitch(this,"_setUpdating")))},_OnResize:function(){this._retrievePrevScrollPos();clearTimeout(this._ResizetId);var a=this;this._ResizetId=setTimeout(function(){a._Resize()},10)},Resize:function(){this._OnResize()},_Resize:function(){this._LayoutController&&(this.OnBeginResize(),this._LayoutController.Resize(),this.OnEndResize())},_retrievePrevScrollPos:function(){null!=this.DataGrid._previousScrollTop&&0==this.DataGrid.Panel.scrollTop&&(this.DataGrid.Panel.scrollTop=this.DataGrid._previousScrollTop);
null!=this.DataGrid._previousScrollLeft&&0==this.DataGrid.Panel.scrollLeft&&(this.DataGrid.Panel.scrollLeft=this.DataGrid._previousScrollLeft)},_ScrollViewGrid:function(){this.ColumnHeader.Panel.scrollLeft=this.DataGrid.Panel.scrollLeft;this.RowHeader.Panel.scrollTop=this.DataGrid.Panel.scrollTop},_ScrollRowNubbinGrid:function(){this.Nubbin.Panel.scrollLeft=this.RowHeader.Panel.scrollLeft},_CreateLayoutCell:function(a,b,d,e,f){a=a.insertCell(-1);a.noWrap="nowrap";c.add(a,b);a.style.verticalAlign=
d;a.style.textAlign=e;a.appendChild(f)},_CreateLayout:function(){var a=this.CreateTable(0);c.add(a,"tm1webCubeViewGrid");e.place(a,this.Panel);var b=document.createElement("TBODY");e.place(b,a);a=document.createElement("TR");e.place(a,b);this._CreateLayoutCell(a,"tm1webSwapPanel","bottom","",this.Nubbin.Panel);this._CreateLayoutCell(a,"tm1webCVHeaderCellNoPad tm1webColumnHeaderCell","","left",this.ColumnHeader.Panel);a=document.createElement("TR");e.place(a,b);this._CreateLayoutCell(a,"tm1webCVHeaderCellNoPad tm1webRowHeaderCell",
"top","",this.RowHeader.Panel);this._CreateLayoutCell(a,"","top","left",this.DataGrid.Panel)},destroy:function(){this.inherited(arguments);this._cellContextMenu.destroyRecursive()}})})},"tm1web/share/DataSourceType":function(){define({JavaApi:"JAVAAPI"})},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(n,m){return m})},"tm1web/cubeview/celledit/PickList":function(){define(["dojo/_base/declare","dojo/dom-class","../../celledit/_PickList","./PickListStore"],function(n,m,l,
k){return n("tm1web.cubeview.celledit.PickList",l,{_Store:k,_calculateOffsetLeft:function(){var g=this.inherited(arguments);return m.contains(this._buttonNode,"tm1webCellDropDownButtonNodeLeft")?g:g+(this._openDropDown?0:1)}})})},"dijit/layout/utils":function(){define("dojo/_base/array dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang ../main".split(" "),function(n,m,l,k,g,c){function e(a){return a.substring(0,1).toUpperCase()+a.substring(1)}function f(a,b){var c=a.resize?a.resize(b):
l.setMarginBox(a.domNode,b);c?g.mixin(a,c):(g.mixin(a,l.getMarginBox(a.domNode)),g.mixin(a,b))}var b={marginBox2contentBox:function(a,b){var c=k.getComputedStyle(a),e=l.getMarginExtents(a,c),f=l.getPadBorderExtents(a,c);return{l:k.toPixelValue(a,c.paddingLeft),t:k.toPixelValue(a,c.paddingTop),w:b.w-(e.w+f.w),h:b.h-(e.h+f.h)}},layoutChildren:function(a,b,c,k,l){b=g.mixin({},b);m.add(a,"dijitLayoutContainer");c=n.filter(c,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(n.filter(c,
function(a){return"center"==a.region||"client"==a.layoutAlign}));n.forEach(c,function(a){var c=a.domNode,g=a.region||a.layoutAlign;if(!g)throw Error("No region setting for "+a.id);var n=c.style;n.left=b.l+"px";n.top=b.t+"px";n.position="absolute";m.add(c,"dijitAlign"+e(g));c={};k&&k==a.id&&(c["top"==a.region||"bottom"==a.region?"h":"w"]=l);"leading"==g&&(g=a.isLeftToRight()?"left":"right");"trailing"==g&&(g=a.isLeftToRight()?"right":"left");"top"==g||"bottom"==g?(c.w=b.w,f(a,c),b.h-=a.h,"top"==g?
b.t+=a.h:n.top=b.t+b.h+"px"):"left"==g||"right"==g?(c.h=b.h,f(a,c),b.w-=a.w,"left"==g?b.l+=a.w:n.left=b.l+b.w+"px"):"client"!=g&&"center"!=g||f(a,b)})}};g.setObject("layout.utils",b,c);return b})},"dojo/has":function(){define(["require","module"],function(n,m){var l=n.has||function(){};if(!l("dojo-has-api")){var k="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,g=function(){return this}(),c=k&&document,e=
c&&c.createElement("DiV"),f=m.config&&m.config()||{},l=function(b){return"function"==typeof f[b]?f[b]=f[b](g,c,e):f[b]};l.cache=f;l.add=function(b,a,c,e){("undefined"==typeof f[b]||e)&&(f[b]=a);return c&&l(b)}}l.add("dom-addeventlistener",!!document.addEventListener);l.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);l.add("touch-events","ontouchstart"in document);l.add("pointer-events","onpointerdown"in document);l.add("MSPointer",
"msMaxTouchPoints"in navigator);l.add("device-width",screen.availWidth||innerWidth);k=document.createElement("form");l.add("dom-attributes-explicit",0==k.attributes.length);l.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length);l.clearElement=function(b){b.innerHTML="";return b};l.normalize=function(b,a){var c=b.match(/[\?:]|[^:\?]*/g),e=0,f=function(a){var b=c[e++];if(":"==b)return 0;if("?"==c[e++]){if(!a&&l(b))return f();f(!0);return f(a)}return b||0};return(b=f())&&
a(b)};l.load=function(b,a,c){b?a([b],c):c()};return l})},"dijit/form/nls/ComboBox":function(){define({root:{previousMessage:"Previous choices",nextMessage:"More choices"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"tm1web/spreading/SpreadDialogProportional":function(){define(["dojo/_base/declare","./SpreadDialogBase"],function(n,
m){return n(m,{constructor:function(){this._InitializeSpreadDialogProportional()},_InitializeSpreadDialogProportional:function(){},_CreateContent:function(){this.inherited(arguments);"P%"==this._CommandString&&(this._DataValue.value="")}})})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(n,m,l,k){k.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});
return l("dijit._FocusMixin",null,{_focusManager:n})})},"tm1web/cubeview/CubeViewGridControlBase":function(){define(["dojo/_base/declare","./CubeViewBase"],function(n,m){return n(m,{constructor:function(l){this.ObjectId=l;this._InitializeCubeViewGridControlBase()},_InitializeCubeViewGridControlBase:function(){},InitializeLayout:function(l){}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(n,m,l,k,g,c,e,f){var b;return b=n("dijit.form.ValidationTextBox",g,{templateString:e,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,c){c!=b.prototype[a]&&(m.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",c))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",
a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return(new RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$")).test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:a;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b=
"",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var e=this._isEmpty(this.textbox.value),f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&e||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=
!this._hasBeenBlurred||a):e&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?c.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):c.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=l.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&
this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+=
"(?:"+a+"|$)"}});try{"".search(c)}catch(e){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit.form","validate",this.lang)||f;this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",
a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){c.hide(this.domNode);this.inherited(arguments)}})})},"tm1web/cubeview/metrics/MetricTooltip":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_base/popup","dijit/TooltipDialog"],function(n,m,l,k){return n(null,{tooltip:null,
timeoutId:null,tooltipItemText:null,isTooltipShowing:null,constructor:function(){this.tooltip=new k({className:"tm1webMetricTooltip",content:""});l.moveOffScreen(this.tooltip)},showTooltip:function(g,c,e,f){this.clearTimer();e&&this.setContent(e);f?this.timeoutId=setTimeout(m.hitch(this,this.openPopup,g,c),f):this.openPopup(g,c);this.isTooltipShowing=1},openPopup:function(g,c){var e=m.hitch(this,this.onExecute),f=m.hitch(this,this.onCancel),b=m.hitch(this,this.onClose);l.open({popup:this.tooltip,
x:g,y:c+10,onExecute:e,onCancel:f,onClose:b})},hideTooltip:function(){l&&l.close(this.tooltip);this.isTooltipShowing=0;this.clearTimer()},setContent:function(g){this.tooltip.set("content",g)},clearTimer:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},onExecute:function(){},onCancel:function(){this.hideTooltip()},onClose:function(){}})})},"dojo/errors/CancelError":function(){define(["./create"],function(n){return n("CancelError",null,null,{dojoType:"cancel"})})},"tm1web/cubeview/CubeViewColumnHeaderDndCoordinator":function(){define(["dojo/_base/declare",
"dojo/_base/array"],function(n,m){return n(null,{constructor:function(){},InitializeCubeViewColumnHeaderDND:function(l,k){m.forEach(l.ColHeaderRows,function(g,c){var e="dim_"+g.dimensionName;k.AttachDndHandlers(g,!1,e,null,null,null,e,null)})}})})},"dojo/_base/url":function(){define(["./kernel"],function(n){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,l=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,k=function(){for(var g=arguments,c=[g[0]],e=1;e<g.length;e++)if(g[e]){var f=
new k(g[e]+""),c=new k(c[0]+"");if(""==f.path&&!f.scheme&&!f.authority&&!f.query)null!=f.fragment&&(c.fragment=f.fragment),f=c;else if(!f.scheme&&(f.scheme=c.scheme,!f.authority&&(f.authority=c.authority,"/"!=f.path.charAt(0)))){for(var c=(c.path.substring(0,c.path.lastIndexOf("/")+1)+f.path).split("/"),b=0;b<c.length;b++)"."==c[b]?b==c.length-1?c[b]="":(c.splice(b,1),b--):0<b&&(1!=b||""!=c[0])&&".."==c[b]&&".."!=c[b-1]&&(b==c.length-1?(c.splice(b,1),c[b-1]=""):(c.splice(b-1,2),b-=2));f.path=c.join("/")}c=
[];f.scheme&&c.push(f.scheme,":");f.authority&&c.push("//",f.authority);c.push(f.path);f.query&&c.push("?",f.query);f.fragment&&c.push("#",f.fragment)}this.uri=c.join("");g=this.uri.match(m);this.scheme=g[2]||(g[1]?"":null);this.authority=g[4]||(g[3]?"":null);this.path=g[5];this.query=g[7]||(g[6]?"":null);this.fragment=g[9]||(g[8]?"":null);null!=this.authority&&(g=this.authority.match(l),this.user=g[3]||null,this.password=g[4]||null,this.host=g[6]||g[7],this.port=g[9]||null)};k.prototype.toString=
function(){return this.uri};return n._Url=k})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(n,m,l,k,g,c){var e=m("dijit.form._ComboBoxMenuMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=g.getLocalization("dijit.form","ComboBox",this.lang)||c},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=
this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(c){this._set("value",c);this.onChange(c)},onClick:function(c){if(c==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(c==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(c)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(c,b){var a=this._createMenuItem(),d=b(c);d.html?a.innerHTML=
d.label:a.appendChild(a.ownerDocument.createTextNode(d.label));""==a.innerHTML&&(a.innerHTML="\x26#160;");return a},createOptions:function(c,b,a){this.items=c;this.previousButton.style.display=0==b.start?"none":"";l.set(this.previousButton,"id",this.id+"_prev");n.forEach(c,function(b,c){var d=this._createOption(b,a);d.setAttribute("item",c);l.set(d,"id",this.id+c);this.nextButton.parentNode.insertBefore(d,this.nextButton)},this);var d=!1;c.total&&!c.total.then&&-1!=c.total?b.start+b.count<c.total?
d=!0:b.start+b.count>c.total&&b.count==c.length&&(d=!0):b.count==c.length&&(d=!0);this.nextButton.style.display=d?"":"none";l.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var c=this.containerNode;2<c.childNodes.length;)c.removeChild(c.childNodes[c.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==
this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});k("dojo-bidi")&&(e=m("dijit.form._ComboBoxMenuMixin",e,{_createOption:function(){var c=this.inherited(arguments);this.applyTextDir(c);return c}}));return e})},"dojox/collections/_base":function(){define(["../main","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(n,
m,l,k){n=l.getObject("collections",!0,n);n.DictionaryEntry=function(g,c){this.key=g;this.value=c;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};n.Iterator=function(g){var c=0;this.element=g[c]||null;this.atEnd=function(){return c>=g.length};this.get=function(){return this.atEnd()?null:this.element=g[c++]};this.map=function(c,f){return k.map(g,c,f)};this.reset=function(){c=0;this.element=g[c]}};n.DictionaryIterator=function(g){var c=[],e={},f;for(f in g)e[f]||
c.push(g[f]);var b=0;this.element=c[b]||null;this.atEnd=function(){return b>=c.length};this.get=function(){return this.atEnd()?null:this.element=c[b++]};this.map=function(a,b){return k.map(c,a,b)};this.reset=function(){b=0;this.element=c[b]}};return n})},"tm1web/cubeview/celledit/Controller":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic ../../utility/date ../../share/TM1Utility ../../share/service-loader!CubeViewService ../../celledit/_Controller ./PickList ../../utility/date!".split(" "),
function(n,m,l,k,g,c,e,f){return n(e,{_PickList:f,_service:c,_attachEvents:function(){this.inherited(arguments);this.own(l.subscribe(this.objectId+"-CubeGridLayoutUpdated",m.hitch(this,"_updateDropDownButton")))},_updateDropDownButton:function(){this._isDropDownActive()&&this._showDropDownButton()},_isDateCell:function(b){var a={format:null};return k.canParse(b.cellInfo.value,null,a)?k.isDateFormat(a.format):!1},_delete:function(){var b=g.getSelectAreaCoordinates(this.dataGrid);this._service.deleteRange(this.objectId,
b.rowStart,b.colStart,b.rowEnd,b.colEnd,{callback:this._publishUpdateGrid,scope:this})},_publishUpdateGrid:function(b){l.publish(this.objectId+"-UpdateGrid",b)}})})},"dojo/selector/_loader":function(){define(["../has","require"],function(n,m){var l=document.createElement("div");n.add("dom-qsa2.1",!!l.querySelectorAll);n.add("dom-qsa3",function(){try{return l.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==l.querySelectorAll(".TEST:empty").length}catch(g){}});var k;return{load:function(g,c,e,f){f=
m;g="default"==g?n("config-selectorEngine")||"css3":g;g="css2"==g||"lite"==g?"./lite":"css2.1"==g?n("dom-qsa2.1")?"./lite":"./acme":"css3"==g?n("dom-qsa3")?"./lite":"./acme":"acme"==g?"./acme":(f=c)&&g;if("?"==g.charAt(g.length-1)){g=g.substring(0,g.length-1);var b=!0}if(b&&(n("dom-compliant-qsa")||k))return e(k);f([g],function(a){"./lite"!=g&&(k=a);e(a)})}}})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y,w,z,B,A,C,F,G,K,N,P,I,J,Q,E,D){function H(a){return q.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var T=k("dijit._TreeNode",[C,F,G,K,N],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:I,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(b){var c=Math.max(b,0)*this.tree._nodePixelIndent+"px";a.set(this.domNode,"backgroundPosition",c+" 0px");a.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",c);n.forEach(this.getChildren(),function(a){a.set("indent",b+1)});this._set("indent",b)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,c=b.model;b._v10Compat&&a===c.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(b,c,d){var e="_"+c+"Class";c+="Node";var g=this[e];this[e]=this.tree["get"+d+"Class"](b,this.isExpanded);f.replace(this[c],this[e]||"",g||"");a.set(this[c],this.tree["get"+d+"Style"](b,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;f.toggle(this.domNode,"dijitTreeIsRoot",a);f.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;f.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return H(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");f.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=p.wipeIn({node:this.containerNode,duration:A.defaultDuration}),b=this._expandDeferred=new g(function(){a.stop()});m.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return H(b)},collapse:function(){if(this._collapseDeferred)return H(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");f.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=p.wipeOut({node:this.containerNode,duration:A.defaultDuration}),b=this._collapseDeferred=new g(function(){a.stop()});m.after(a,"onEnd",function(){b.resolve(!0)},
!0);a.play();return H(b)},indent:0,setChildItems:function(a){var b=this.tree,d=b.model,f=[],g=b.focusedChild,k=this.getChildren();n.forEach(k,function(a){G.prototype.removeChild.call(this,a)},this);this.defer(function(){n.forEach(k,function(a){if(!a._destroyed&&!a.getParent()){var c=function(a){var e=d.getIdentity(a.item),f=b._itemNodesMap[e];1==f.length?delete b._itemNodesMap[e]:(e=n.indexOf(f,a),-1!=e&&f.splice(e,1));n.forEach(a.getChildren(),c)};b.dndController.removeTreeNode(a);c(a);if(b.persist){var f=
n.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),k;for(k in b._openedNodes)k.substr(0,f.length)==f&&delete b._openedNodes[k];b._saveExpandedNodes()}b.lastFocusedChild&&!e.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;g&&!e.isDescendant(g,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,n.forEach(a,function(a){var c=d.getIdentity(a),e=b._itemNodesMap[c],g;if(e)for(var k=0;k<e.length;k++)if(e[k]&&
!e[k].getParent()){g=e[k];g.set("indent",this.indent+1);break}g||(g=this.tree._createTreeNode({item:a,tree:b,isExpandable:d.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),e?e.push(g):b._itemNodesMap[c]=[g]);this.addChild(g);(this.tree.autoExpand||this.tree._state(g))&&f.push(b._expandNode(g))},this),n.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=c(f);this.tree._startPaint(a);return H(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,this.collapse());n.forEach(b,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");f.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){z.focus(this.focusNode)}});r("dojo-bidi")&&T.extend({_setTextDirAttr:function(a){!a||this.textDir==a&&this._created||(this._set("textDir",a),this.applyTextDir(this.labelNode),n.forEach(this.getChildren(),function(b){b.set("textDir",a)},this))}});var R=k("dijit.Tree",[C,P,F,N],{baseClass:"dijitTree",
store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:J,persist:!1,autoExpand:!1,dndController:D,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,
b){v.publish(this.id,q.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new g;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(u(this.containerNode,u.selector(".dijitTreeNode",x.enter),function(b){a._onNodeMouseEnter(B.byNode(this),
b)}),u(this.containerNode,u.selector(".dijitTreeNode",x.leave),function(b){a._onNodeMouseLeave(B.byNode(this),b)}),u(this.containerNode,u.selector(".dijitTreeRow",w.press),function(b){a._onNodePress(B.getEnclosingWidget(this),b)}),u(this.containerNode,u.selector(".dijitTreeRow",w),function(b){a._onClick(B.getEnclosingWidget(this),b)}),u(this.containerNode,u.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(B.getEnclosingWidget(this),b)}));this.model||this._store2model();this.own(m.after(this.model,
"onChange",q.hitch(this,"_onItemChange"),!0),m.after(this.model,"onChildrenChange",q.hitch(this,"_onItemChildrenChange"),!0),m.after(this.model,"onDelete",q.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){q.isString(this.dndController)&&(this.dndController=q.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);this.dndController=new this.dndController(this,b)}this._load();
this.onLoadDeferred=H(this.pendingCommandsPromise);this.onLoadDeferred.then(q.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;s.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=q.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=q.hitch(this,function(a,b,c){this.getItemChildren(this._v10Compat&&
a===this.model.root?null:a,b,c)}));this.model=new E(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(q.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display=
"none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),b.labelNode.setAttribute("role","presentation"),
b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(q.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),
q.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=q.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(q.hitch(this,function(){var c=n.map(a,function(a){return!a||q.isString(a)?a:b.model.getIdentity(a)}),d=[];n.forEach(c,function(a){d=
d.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",d)}))},_setPathAttr:function(a){return a.length?H(this.set("paths",[a]).then(function(a){return a[0]})):H(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,c){var e=a.shift(),f=n.filter(c,function(a){return a.getIdentity()==e})[0];if(f)return a.length?d._expandNode(f).then(function(){return b(a,f.getChildren())}):f;throw new R.PathError("Could not expand path at "+e);}var d=this;return H(this.pendingCommandsPromise=
this.pendingCommandsPromise.always(function(){return c(n.map(a,function(a){a=n.map(a,function(a){return q.isString(a)?a:d.model.getIdentity(a)});if(a.length)return b(a,[d.rootNode]);throw new R.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(d){return b._expandNode(d).then(function(){var b=n.filter(d.getChildren()||
[],function(a){return a.isExpandable});return c(n.map(b,a))})}var b=this;return H(a(this.rootNode))},collapseAll:function(){function a(d){var e=n.filter(d.getChildren()||[],function(a){return a.isExpandable}),e=c(n.map(e,a));return!d.isExpanded||d==b.rootNode&&!b.showRoot?e:e.then(function(){return b._collapseNode(d)})}var b=this;return H(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||
this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var c=this._getNext(b);c&&c.isTreeNode&&this.focusNode(c)},_onUpArrow:function(a,b){var c=b.getPreviousSibling();if(c)for(b=c;b.isExpandable&&b.isExpanded&&b.hasChildren();)c=b.getChildren(),b=c[c.length-1];else if(c=b.getParent(),
this.showRoot||c!==this.rootNode)b=c;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var c=b.getParent();c&&c.isTreeNode&&(this.showRoot||c!==this.rootNode)&&this.focusNode(c)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?
this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return e.isDescendant(a,b.expandoNode)||e.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,
b){this.focusNode(a)},__click:function(a,b,c,d){var e=this.isExpandoNode(b.target,a);a.isExpandable&&(c||e)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[d](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):
this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){s.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){s.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;
if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,c=a.item,d=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new g,b.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(d,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));
b=a._loadDeferred.then(q.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var c=this.getLabel(a),d=this.getTooltip(a);n.forEach(b,function(b){b.set({item:a,label:c,tooltip:d});b._updateItemClasses(a)})}},
_onItemChildrenChange:function(a,b){var c=this.model.getIdentity(a);(c=this._itemNodesMap[c])&&n.forEach(c,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(n.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!e.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!e.isDescendant(this.focusedChild,this.domNode)&&
this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=l(this.cookieName);a&&n.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var c=n.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[c];b?this._openedNodes[c]=!0:delete this._openedNodes[c];this._saveExpandedNodes()},
_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);l(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!q.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&b.setMarginBox(this.domNode,
a);this._nodePixelIndent=b.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(q.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=q.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&!this._adjustWidthsTimer&&
this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});y(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new T(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});r("dojo-bidi")&&R.extend({_setTextDirAttr:function(a){a&&
this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});R.PathError=d("TreePathError");R._TreeNode=T;return R})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(n,m,l,k,g,c,e,f,b,a){n=m("dijit.form.Button"+(k("dojo-bidi")?"_NoBidi":""),[f,b],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",
type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){!a||this.params&&"label"in this.params||!(a=c.trim(a.innerHTML))||(this.label=a)},_setShowLabelAttr:function(a){this.containerNode&&l.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){g.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=c.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});k("dojo-bidi")&&(n=m("dijit.form.Button",n,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));
return n})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(n,m,l,k,g,c,e){l.add("textarea-needs-help-shrinking",function(){var e=c.body(),b=m.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",
WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},e,"last"),a=b.scrollHeight>=b.clientHeight;e.removeChild(b);return a});return n("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var c=this.textbox;c.style.overflowY="hidden";this.own(g(c,"focus, resize",k.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(e.on("resize",k.hitch(this,"_resizeLater")));this._resizeLater()},
_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function c(){var a=!1;""===b.value&&(b.value=" ",a=!0);var d=b.scrollHeight;a&&(b.value="");return d}var b=this.textbox;"hidden"==b.style.overflowY&&(b.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(c()||b.offsetHeight){var a=c()+Math.max(b.offsetHeight-b.clientHeight,0),
d=a+"px";d!=b.style.height&&(b.style.height=d,b.rows=1);if(l("textarea-needs-help-shrinking")){var e=c(),g=b.style.minHeight,k=4,m=b.scrollTop;b.style.minHeight=d;for(b.style.height="auto";0<a;){b.style.minHeight=Math.max(a-k,4)+"px";d=c();e-=d;a-=e;if(e<k)break;e=d;k<<=1}b.style.height=a+"px";b.style.minHeight=g;b.scrollTop=m}b.style.overflowY=c()>b.clientHeight?"auto":"hidden";"hidden"==b.style.overflowY&&(b.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(n,m,l){var k=window,g={addOnWindowUnload:function(c,e){n.windowUnloaded||l(k,"unload",n.windowUnloaded=function(){});l(k,"unload",m.hitch(c,e))},addOnUnload:function(c,e){l(k,"beforeunload",m.hitch(c,e))}};n.addOnWindowUnload=g.addOnWindowUnload;n.addOnUnload=g.addOnUnload;return g})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t){var q=m("dijit.CalendarLite",[r,s],{templateString:t,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',
weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);
b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=c.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),
a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),e=new this.dateClassObj,f=l.getFirstDayOfWeek(this.lang);f>b&&(f-=7);if(!this.summary){var g=this.dateLocaleModule.getNames("months",
"wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",g[a.getMonth()])}this._date2cell={};n.forEach(this.dateCells,function(g,k){var l=k+f,m=new this.dateClassObj(a),n="dijitCalendar",p=0;l<b?(l=d-b+l+1,p=-1,n+="Previous"):l>=b+c?(l=l-b-c+1,p=1,n+="Next"):(l=l-b+1,n+="Current");p&&(m=this.dateModule.add(m,"month",p));m.setDate(l);this.dateModule.compare(m,e,"date")||(n="dijitCalendarCurrentDate "+n);this.isDisabledDate(m,this.lang)?(n="dijitCalendarDisabledDate "+n,g.setAttribute("aria-disabled",
"true")):(n="dijitCalendarEnabledDate "+n,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(p=this.getClassForDate(m,this.lang))&&(n=p+" "+n);g.className=n+"Month dijitCalendarDateTemplate";n=m.valueOf();this._date2cell[n]=g;g.dijitDateValue=n;this._setText(this.dateLabels[k],m.getDateLocalized?m.getDateLocalized(this.lang):m.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=
a.getFullYear()-1,c=new this.dateClassObj;n.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?b.getObject(a.datePackage,!1):k;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?b.getObject(a.datePackage+".locale",!1):g},_createMonthWidget:function(){return q._MonthWidget({id:this.id+
"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=p.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=p.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);
e.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var c=b.hitch(this,function(c,d,e){this[c].dojoClick=!0;return a(this[c],"click",b.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,d,e))}))});this.own(c("incrementMonth","month",1),c("decrementMonth","month",-1),
c("nextYearLabelNode","year",1),c("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,e=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==this.dateModule.difference(c,a,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();e&&e!=c&&(d("webkit")?e.setAttribute("tabIndex","-1"):e.removeAttribute("tabIndex"))},
focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!f.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function c(a,b){f.toggle(b,"dijitCalendarSelectedDate",a);b.setAttribute("aria-selected",a?"true":
"false")}n.forEach(this._selectedCells||[],b.partial(c,!1));this._selectedCells=n.filter(n.map(a,this._getNodeByDate,this),function(a){return a});n.forEach(this._selectedCells,b.partial(c,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});q._MonthWidget=m("dijit.CalendarLite._MonthWidget",r,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==d("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+n.map(b,function(a){return"\x3cdiv\x3e"+
a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});return q})},"tm1web/cubeview/HeaderContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/on ./ContextMenu ../utility/message-localizer ./CubeViewFilterDialog ./SortOrientation ./SortLimitType ../share/service-loader!CubeViewService".split(" "),function(n,m,l,k,g,c,e,f,b,a){return n(g,{constructor:function(a){this.Header=
a;this._InitializeContextMenu()},Update:function(a){l.publish(this.Header.ObjectId+"-UpdatePagingGrid",a)},_InitializeContextMenu:function(){this.Grid=this.Header.Grid;this.own(k(this.Grid,"mouseup",m.hitch(this,"_ShowContextMenu")));this._InitializeMenuLabels()},_InitializeMenuLabels:function(){this.MenuLabels.TOP_OR_BOTTOM=c.get("TOP_OR_BOTTOM_STR");this.MenuLabels.TOP_3=c.get("TOP_3_STR");this.MenuLabels.TOP_5=c.get("TOP_5_STR");this.MenuLabels.TOP_10=c.get("TOP_10_STR");this.MenuLabels.BOTTOM_3=
c.get("BOTTOM_3_STR");this.MenuLabels.BOTTOM_5=c.get("BOTTOM_5_STR");this.MenuLabels.BOTTOM_10=c.get("BOTTOM_10_STR");this.MenuLabels.CUSTOM=c.get("CUSTOM_STR");this.MenuLabels.NO_TOP_OR_BOTTOM=c.get("NO_TOP_OR_BOTTOM_STR");this.MenuLabels.SORT=c.get("SORT_STR");this.MenuLabels.SORT_BY_VALUE=c.get("SORT_BY_VALUE_STR");this.MenuLabels.SORT_BY_LABEL=c.get("SORT_BY_LABEL_STR");this.MenuLabels.DONT_SORT=c.get("DONT_SORT_STR");this.MenuLabels.ASCENDING=c.get("ASCENDING_STR");this.MenuLabels.DESCENDING=
c.get("DESCENDING_STR");this.MenuLabels.HIDE=c.get("HIDE_STR");this.MenuLabels.SHOW_ALL_HIDDEN=c.get("SHOW_ALL_HIDDEN_STR");this.MenuLabels.EXPAND_TO_LEVEL=c.get("EXPAND_TO_LEVEL_STR");this.MenuLabels.LEVEL=c.get("LEVEL_STR")},_ShowContextMenu:function(a){2==a.button&&(this._CurrentCell=this._GetCell(a.target))&&(this.ContextMenu=this._GenerateContextMenu(),null!=this.ContextMenu&&(this.ContextMenu.bindDomNode(this._CurrentCell),this.ContextMenu.onClose=m.hitch(this,"_OnContextMenuClose")))},_GetCell:function(a){return null!=
a?"TD"==a.nodeName?a:this._GetCell(a.parentNode):a},_IsInnerDimension:function(){return this.Header.ColHeaderRows?this._InLastRow(this._CurrentCell):this._InLastColumn(this._CurrentCell)},_GenerateContextMenu:function(){if(this._IsInnerDimension())var a=[{label:this.MenuLabels.TOP_OR_BOTTOM,iconClass:"tm1webHeaderContextMenu_topBottom",data:"Filter",subMenu:this._GenerateTopBottomMenu()},{label:this.MenuLabels.SORT,iconClass:"tm1webHeaderContextMenu_icon_sort",data:"Sort",subMenu:this._GenerateSortSubSubMenu("DataSort")}];
else return null;return this._CreateMenu(a)},_GenerateTopBottomMenu:function(){var a=[{label:this.MenuLabels.NO_TOP_OR_BOTTOM,iconClass:"",data:{type:b.NONE,value:0},handler:m.hitch(this,"_DoTopBottom")},{label:null},{label:this.MenuLabels.TOP_3,iconClass:this._IsTopBottomSelected(b.TOPCOUNT,3)?"tm1webContextmenu_icon_check_mark":"",data:{type:b.TOPCOUNT,value:3},handler:m.hitch(this,"_DoTopBottom")},{label:this.MenuLabels.TOP_5,iconClass:this._IsTopBottomSelected(b.TOPCOUNT,5)?"tm1webContextmenu_icon_check_mark":
"",data:{type:b.TOPCOUNT,value:5},handler:m.hitch(this,"_DoTopBottom")},{label:this.MenuLabels.TOP_10,iconClass:this._IsTopBottomSelected(b.TOPCOUNT,10)?"tm1webContextmenu_icon_check_mark":"",data:{type:b.TOPCOUNT,value:10},handler:m.hitch(this,"_DoTopBottom")},{label:null},{label:this.MenuLabels.BOTTOM_3,iconClass:this._IsTopBottomSelected(b.BOTTOMCOUNT,3)?"tm1webContextmenu_icon_check_mark":"",data:{type:b.BOTTOMCOUNT,value:3},handler:m.hitch(this,"_DoTopBottom")},{label:this.MenuLabels.BOTTOM_5,
iconClass:this._IsTopBottomSelected(b.BOTTOMCOUNT,5)?"tm1webContextmenu_icon_check_mark":"",data:{type:b.BOTTOMCOUNT,value:5},handler:m.hitch(this,"_DoTopBottom")},{label:this.MenuLabels.BOTTOM_10,iconClass:this._IsTopBottomSelected(b.BOTTOMCOUNT,10)?"tm1webContextmenu_icon_check_mark":"",data:{type:b.BOTTOMCOUNT,value:10},handler:m.hitch(this,"_DoTopBottom")},{label:null},{label:this.MenuLabels.CUSTOM,iconClass:this._IsCustomTopBottom()?"tm1webContextmenu_icon_check_mark":"",handler:m.hitch(this,
"_DoCustomTopBottom")}];return this._CreateMenu(a)},_IsTopBottomSelected:function(a,b){return this._GetSortLimitType()==a&&this._GetSortLimit()==b},_IsCustomTopBottom:function(){return null!=this._GetSortLimitType()&&this._GetSortLimitType()!=b.NONE&&3!=this._GetSortLimit()&&5!=this._GetSortLimit()&&10!=this._GetSortLimit()},_GenerateSortSubMenu:function(){var a=[{label:this.MenuLabels.SORT_BY_VALUE,iconClass:"tm1webHeaderContextMenu_icon_sort_by_value",subMenu:this._GenerateSortSubSubMenu("DataSort")},
{label:this.MenuLabels.SORT_BY_LABEL,iconClass:"tm1webHeaderContextMenu_icon_sort_by_label",subMenu:this._GenerateSortSubSubMenu("DimensionSort")}];return this._CreateMenu(a)},_GenerateLevelSubMenu:function(){for(var a=this._GetLevels(),b=Array(a.length),c=0;c<a.length;c++)b[c]={label:a[c],iconClass:"",data:c,handler:m.hitch(this,"_ExpandToLevel")};return this._CreateMenu(b)},_GenerateSortSubSubMenu:function(a){var b=this._GetSortOrientation(a);a=[{label:this.MenuLabels.ASCENDING,iconClass:b==f.Ascending?
"tm1webContextmenu_icon_check_mark":"",data:{Type:a,Orientation:f.Ascending}},{label:this.MenuLabels.DESCENDING,iconClass:b==f.Descending?"tm1webContextmenu_icon_check_mark":"",data:{Type:a,Orientation:f.Descending}},{label:this.MenuLabels.DONT_SORT,iconClass:"",data:{Type:a,Orientation:f.None}}];this._BatchAddHandler(a,this._DoSort);return this._CreateMenu(a)},_OnSort:function(a){this.Update(a)},_DoSort:function(b){var c=this._GetDimensionName(),e=this._GetCellIndex();a.Sort(this.Header.ObjectId,
c,e,b.Data.Type,b.Data.Orientation,{callback:this._OnSort,scope:this})},_OnHide:function(a){this.Update(a)},_DoHide:function(b){b=this._GetDimensionName();var c=this._GetMemberIndex();a.Hide(this.Header.ObjectId,b,c,{callback:this._OnHide,scope:this})},_OnShowAllHidden:function(a){this.Update(a)},_ShowAllHidden:function(b){b=this._GetDimensionName();a.ShowAllHidden(this.Header.ObjectId,b,{callback:this._OnShowAllHidden,scope:this})},_OnExpandToLevel:function(a){this.Update(a)},_ExpandToLevel:function(b){var c=
this._GetDimensionName();a.ExpandToLevel(this.Header.ObjectId,c,b.Data,{callback:this._OnExpandToLevel,scope:this})},_DoTopBottom:function(b){var c=this._GetDimensionName(),e=this._GetMemberIndex();a.SortTopBottom(this.Header.ObjectId,c,e,b.Data.type,b.Data.value,{callback:this._OnTopBottom,scope:this})},_OnTopBottom:function(a){this.Update(a)},_DoCustomTopBottom:function(a){a=this._GetDimensionName();var b=this._GetMemberIndex(),c=this._GetSortLimitType(),f=this._GetSortLimit();a=new e(this.Header.ObjectId,
a,b,c,f);a.Initialize();a.Show()},_GetDimensionName:function(){return this.Header.ColHeaderRows?this._CurrentCell.parentNode.dimensionName:this._CurrentCell.dimensionName},_GetHasHides:function(){return this.Header.edgeState.hasHides},_GetSortOrientation:function(a){return"DataSort"==a?this._GetDataSort():"DimensionSort"==a?this._GetDimensionSort():f.None},_GetLevels:function(){return this.Header.ColHeaderRows?this._CurrentCell.parentNode.levels:this._CurrentCell.levels},_GetDimensionSort:function(){return this.Header.edgeState.sortOrientation},
_GetDataSort:function(){return this._CurrentCell.dataSort},_GetSortLimitType:function(){return this._CurrentCell.sortLimitType},_GetSortLimit:function(){return this._CurrentCell.sortLimit},_GetMemberIndex:function(){return this._CurrentCell.elementIndex},_GetCellIndex:function(){return this._CurrentCell.cellIndex},GetCoordinate:function(a){return{rowIndex:a.parentNode.rowIndex,colIndex:a.cellIndex}},_InLastRow:function(a){return this.GetCoordinate(a).rowIndex==a.parentNode.parentNode.rows.length-
1},_InLastColumn:function(a){return this.GetCoordinate(a).colIndex==a.parentNode.cells.length-1}})})},"tm1web/share/_RefocusMixin":function(){define(["dojo/_base/declare","dojo/dom","dijit/focus"],function(n,m,l){return n(null,{_saveFocus:function(){var k=document.activeElement;k&&!m.isDescendant(k,this.domNode)&&(this._savedFocusedNode=k)},_restoreFocus:function(){var k=document.activeElement;!this._savedFocusedNode||k&&!m.isDescendant(k,this.domNode)||l.focus(this._savedFocusedNode);this._savedFocusedNode=
null}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q){function u(a){return eval("("+a+")")}function v(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<y){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=y}return b}function x(a,b){var c=
a.join();if(!w[c]){for(var d=[],e=0,f=a.length;e<f;e++){var g=a[e];d[d.length]=w[g]=w[g]||l.getObject(g)||~g.indexOf("/")&&(b?b(g):n(g))}e=d.shift();w[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return w[c]}new Date("X");var y=0;b.after(l,"extend",function(){y++},!0);var w={},z={_clearCache:function(){y++;w={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&f.length&&
k.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){b=b||{};c=c||{};var d=(c.scope||m._scopeName)+"Type",e="data-"+(c.scope||m._scopeName)+"-",f=e+"type",g=e+"mixins",l=[];k.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(g),c=e?[c].concat(e.split(/\s*,\s*/)):[c];l.push({node:a,types:c})}});return this._instantiate(l,b,c)},_instantiate:function(b,c,d,e){function f(a){c._started||
d.noStart||k.forEach(a,function(a){"function"!==typeof a.startup||a._started||a.startup()});return a}b=k.map(b,function(a){var b=a.ctor||x(a.types,d.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,c,d,a.scripts,a.inherited)},this);return e?a(b).then(f):f(b)},construct:function(a,c,e,g,n,p){function q(a){T&&l.setObject(T,a);for(D=0;D<M.length;D++)b[M[D].advice||"after"](a,M[D].method,l.hitch(a,M[D].func),!0);for(D=0;D<S.length;D++)S[D].call(a);
for(D=0;D<V.length;D++)a.watch(V[D].prop,V[D].func);for(D=0;D<W.length;D++)t(a,W[D].event,W[D].func);return a}var y=a&&a.prototype;g=g||{};var w={};g.defaults&&l.mixin(w,g.defaults);p&&l.mixin(w,p);var x;r("dom-attributes-explicit")?x=c.attributes:r("dom-attributes-specified-flag")?x=k.filter(c.attributes,function(a){return a.specified}):(p=(/^input$|^img$/i.test(c.nodeName)?c:c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,
""),x=k.map(p.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==c.nodeName&&"value"==a||"enctype"==b?c.getAttribute(b):c.getAttributeNode(b).value}}));var z=g.scope||m._scopeName;p="data-"+z+"-";var E={};"dojo"!==z&&(E[p+"props"]="data-dojo-props",E[p+"type"]="data-dojo-type",E[p+"mixins"]="data-dojo-mixins",E[z+"type"]="dojoType",E[p+"id"]="data-dojo-id");for(var D=0,H,z=[],T,R;H=x[D++];){var O=H.name,L=O.toLowerCase();H=H.value;switch(E[L]||L){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;
case "data-dojo-props":R=H;break;case "data-dojo-id":case "jsid":T=H;break;case "data-dojo-attach-point":case "dojoattachpoint":w.dojoAttachPoint=H;break;case "data-dojo-attach-event":case "dojoattachevent":w.dojoAttachEvent=H;break;case "class":w["class"]=c.className;break;case "style":w.style=c.style&&c.style.cssText;break;default:if(O in y||(O=v(a)[L]||O),O in y)switch(typeof y[O]){case "string":w[O]=H;break;case "number":w[O]=H.length?Number(H):NaN;break;case "boolean":w[O]="false"!=H.toLowerCase();
break;case "function":""===H||-1!=H.search(/[^\w\.]+/i)?w[O]=new Function(H):w[O]=l.getObject(H,!1)||new Function(H);z.push(O);break;default:L=y[O],w[O]=L&&"length"in L?H?H.split(/\s*,\s*/):[]:L instanceof Date?""==H?new Date(""):"now"==H?new Date:d.fromISOString(H):L instanceof f?m.baseUrl+H:u(H)}else w[O]=H}}for(x=0;x<z.length;x++)E=z[x].toLowerCase(),c.removeAttribute(E),c[E]=null;if(R)try{R=u.call(g.propsThis,"{"+R+"}"),l.mixin(w,R)}catch(U){throw Error(U.toString()+" in data-dojo-props\x3d'"+
R+"'");}l.mixin(w,e);n||(n=a&&(a._noScript||y._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",c));var M=[],S=[],V=[],W=[];if(n)for(D=0;D<n.length;D++)E=n[D],c.removeChild(E),e=E.getAttribute(p+"event")||E.getAttribute("event"),g=E.getAttribute(p+"prop"),R=E.getAttribute(p+"method"),z=E.getAttribute(p+"advice"),x=E.getAttribute("type"),E=this._functionFromScript(E,p),e?"dojo/connect"==x?M.push({method:e,func:E}):"dojo/on"==x?W.push({event:e,func:E}):w[e]=E:"dojo/aspect"==x?M.push({method:R,advice:z,
func:E}):"dojo/watch"==x?V.push({prop:g,func:E}):S.push(E);a=(n=a.markupFactory||y.markupFactory)?n(w,c,a):new a(w,c);return a.then?a.then(q):q(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(r)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],e=[],f={},g=(b.scope||m._scopeName)+"Type",l="data-"+(b.scope||m._scopeName)+"-",q=
l+"type",r=l+"textdir",l=l+"mixins",s=a.firstChild,t=b.inherited;if(!t){var u=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&u(a.parentNode,b)},t={dir:u(a,"dir"),lang:u(a,"lang"),textDir:u(a,r)},v;for(v in t)t[v]||delete t[v]}for(var t={inherited:t},y,w;;)if(s)if(1!=s.nodeType)s=s.nextSibling;else if(y&&"script"==s.nodeName.toLowerCase())(z=s.getAttribute("type"))&&/^dojo\/\w/i.test(z)&&y.push(s),s=s.nextSibling;else if(w)s=s.nextSibling;else{var z=s.getAttribute(q)||s.getAttribute(g);
v=s.firstChild;if(z||v&&(3!=v.nodeType||v.nextSibling)){w=null;if(z){var L=s.getAttribute(l);y=L?[z].concat(L.split(/\s*,\s*/)):[z];try{w=x(y,b.contextRequire)}catch(U){}w||k.forEach(y,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,e[e.length]=a)});L=w&&!w.prototype._noScript?[]:null;t={types:y,ctor:w,parent:t,node:s,scripts:L};t.inherited=c(t);d.push(t)}else t={node:s,scripts:y,parent:t};y=L;w=s.stopParser||w&&w.prototype.stopParser&&!b.template;s=v}else s=s.nextSibling}else{if(!t||!t.node)break;s=
t.node.nextSibling;w=!1;t=t.parent;y=t.scripts}var M=new p;e.length?(b.contextRequire||n)(e,function(){M.resolve(k.filter(d,function(a){if(!a.ctor)try{a.ctor=x(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):M.resolve(d);return M.promise},_require:function(a,b){var c=u("{"+a.innerHTML+"}"),d=[],e=[],f=new p,
g=b&&b.contextRequire||n,k;for(k in c)d.push(k),e.push(c[k]);g(e,function(){for(var a=0;a<d.length;a++)l.setObject(d[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var c=new p,d=c.promise;c.resolve(!0);var e=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,b){var d;!b&&a&&a.rootNode?(b=a,d=b.rootNode):!a||!l.isObject(a)||"nodeType"in a?d=a:b=a;d=d?c.byId(d):
e.body();b=b||{};var f=b.template?{template:!0}:{},g=[],k=this,m=this._scanAmd(d,b).then(function(){return k.scan(d,b)}).then(function(a){return k._instantiate(a,f,b,!0)}).then(function(a){return g=g.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});l.mixin(g,m);return g}};m.parser=z;g.parseOnLoad&&q(100,z,"parse");return z})},"tm1web/spreading/SpreadDialogClear":function(){define(["dojo/_base/declare","dojo/dom-style","./SpreadDialogBase"],function(n,m,l){return n(l,
{constructor:function(){this._InitializeSpreadDialogClear()},_InitializeSpreadDialogClear:function(){},_CreateContent:function(){this._CreateExtendContent(this._Dialog.containerNode);this._CreateButtonContent(this._Dialog.containerNode,"tm1webDataSpread_buttonContainer tm1webDialogButtons")},_GetControlString:function(){var k;k="C";0<(this._DirectionValue&1)&&(k+="\x3c");0<(this._DirectionValue&2)&&(k+="\x3e");0<(this._DirectionValue&4)&&(k+="^");0<(this._DirectionValue&8)&&(k+="|");return k}})})},
"tm1web/share/TM1ExportCommand":function(){define({Slice:"Slice",Snapshot:"Snapshot",PDF:"PDF"})},"dijit/Toolbar":function(){define("require dojo/_base/declare dojo/has dojo/keys dojo/ready ./_Widget ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(n,m,l,k,g,c,e,f){return m("dijit.Toolbar",[c,f,e],{templateString:'\x3cdiv class\x3d"dijit" role\x3d"toolbar" tabIndex\x3d"${tabIndex}" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},
_onRightArrow:function(){this.focusNext()}})})},"tm1web/subseteditor/FindBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/fx dojo/text!./templates/FindBar.html dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/keys dojo/colors dojo/debounce dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/ContentPane dijit/form/_TextBoxMixin ../utility/message-localizer ./_TreePaneFocusMixin".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u){return n([s,
p,r,u],{templateString:g,_textBox:null,_findNextButton:null,_findPreviousButton:null,_textBoxPlaceHolderLabel:q.get("FIND_IN_SUBSET_PLACEHOLDER_STR"),_findNextLabel:q.get("FIND_NEXT_STR"),_findPreviousLabel:q.get("FIND_PREVIOUS_STR"),postCreate:function(){this.inherited(arguments);this._attachEventListeners();n.safeMixin(this._textBox,{_getDisplayedValueAttr:function(){return this._destroyed?null:this.inherited(arguments)}});this._textBox.setAttribute("aria-label",this._textBoxPlaceHolderLabel)},
_attachEventListeners:function(){this.dimensionTree&&this.connect(this.dimensionTree.model,"onFind","_onFind");this.connect(this.subsetTree.model,"onFind","_onFind");this.connect(this._textBox,"onChange",d(m.hitch(this,"_find"),800));this.connect(this._textBox,"onKeyPress",m.hitch(this,"_onKeyPress",!0));this.connect(document.documentElement,"onkeypress",m.hitch(this,"_onKeyPress",!1))},_onKeyPress:function(a,c){if(this._isVisible()){var d=c.keyCode;if(!c.charCode){var e=!1;switch(d){case b.ENTER:if(!a)break;
else if(!this.dimensionTree&&this._activeTree===this.subsetTree){this.subsetTree.get("tree").selectFound();break}case b.F3:c.shiftKey?this._findPrevious():this._findNext();break;default:e=!0}e||l.stop(c)}}},focus:function(){t.selectInputText(this._textBox.textbox)},resize:function(){if(this._isVisible()){this._textBox.domNode.style.width="auto";var a=this._findNextButton.domNode.offsetWidth+this._findPreviousButton.domNode.offsetWidth,b=e.getComputedStyle(this.containerNode),a=c.getContentBox(this.containerNode,
b).w-1-a;c.setMarginBox(this._textBox.domNode,{w:a})}},_find:function(){var a=this._textBox.get("value");this._activeTree.model.find(a,this._getTreeFocusIdentity())},_findNext:function(){var a=this._textBox.get("value");this._activeTree.model.findNext(a,this._getTreeFocusIdentity())},_findPrevious:function(){var a=this._textBox.get("value");this._activeTree.model.findPrevious(a,this._getTreeFocusIdentity())},_onFind:function(b,c,d,g){if(g){b=function(){n[0]+=p[0];n[1]+=p[1];n[2]+=p[2];q++;e.set(k,
{backgroundColor:new a(n)});5<=q&&(f.remove(k,"tm1webPatternNotFound"),e.set(k,{transitionDuration:l,WebkitTransitionDuration:m,backgroundColor:""}),clearInterval(r),r=null)};var k=this._textBox.domNode,l=k.style.transitionDuration,m=k.style.WebkitTransitionDuration;e.set(k,{transitionDuration:"0s",WebkitTransitionDuration:"0s"});c=e.get(k,"backgroundColor");c=(new a(c)).toRgb();f.add(k,"tm1webPatternNotFound");var n=(new a(e.get(k,"backgroundColor"))).toRgb(),p=function(a,b,c){for(var d=[],e=0;e<
a.length;e++)d.push((b[e]-a[e])/c);return d}(n,c,5),q=1,r=null,r=setInterval(b,20);b()}},_getTreeFocusIdentity:function(){var a=this._activeTree.get("tree").get("selected");return a?this._activeTree.model.getIdentity(a.item):-1},_isVisible:function(){return 0<this.domNode.offsetWidth||0<this.domNode.offsetHeight}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(n,m,l){var k=n.some;return function(g){var c,e;g instanceof Array?e=g:g&&"object"===typeof g&&
(c=g);var f,b=[];if(c){e=[];for(var a in c)Object.hasOwnProperty.call(c,a)&&(b.push(a),e.push(c[a]));f={}}else e&&(f=[]);if(!e||!e.length)return(new m).resolve(f);var d=new m;d.promise.always(function(){f=b=null});var n=e.length;k(e,function(a,e){c||b.push(e);l(a,function(a){d.isFulfilled()||(f[b[e]]=a,0===--n&&d.resolve(f))},d.reject);return d.isFulfilled()});return d.promise}})},"dijit/nls/loading":function(){define({root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,
uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,id:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dojox/grid/_View":function(){define("dojo dijit/registry ../main dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/connect dojo/_base/sniff dojo/query dojo/_base/window dojo/text!./resources/View.html dojo/dnd/Source dijit/_Widget dijit/_TemplatedMixin dojox/html/metrics ./util dojo/_base/html ./_Builder dojo/dnd/Avatar dojo/dnd/Manager".split(" "),
function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,t,q,u,v,x,y){d=k("dojox.grid._View",[r,s],{defaultWidth:"18em",viewWidth:"",templateString:d,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:v._HeaderBuilder,_contentBuilderClass:v._ContentBuilder,postMixInProperties:function(){this.rowNodes={}},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");q.funnelEvents(this.contentNode,this,"doContentEvent","mouseover mouseout click dblclick contextmenu mousedown".split(" "));
q.funnelEvents(this.headerNode,this,"doHeaderEvent","dblclick mouseover mouseout mousemove mousedown click contextmenu".split(" "));this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);this.grid.isLeftToRight()||(this.headerNodeContainer.style.width="")},destroy:function(){u.destroy(this.headerNode);delete this.headerNode;for(var a in this.rowNodes)this._cleanupRowWidgets(this.rowNodes[a]),u.destroy(this.rowNodes[a]);this.rowNodes={};this.source&&this.source.destroy();
this.inherited(arguments)},focus:function(){f("ie")||f("webkit")||f("opera")?this.hiddenFocusNode.focus():this.scrollboxNode.focus()},setStructure:function(a){a=this.structure=a;a.width&&!isNaN(a.width)?this.viewWidth=a.width+"em":this.viewWidth=a.width||(a.noscroll?"auto":this.viewWidth);this._onBeforeRow=a.onBeforeRow||function(){};this._onAfterRow=a.onAfterRow||function(){};if(this.noscroll=a.noscroll)this.scrollboxNode.style.overflow="hidden";this.simpleStructure=Boolean(1==a.cells.length);this.testFlexCells();
this.updateStructure()},_cleanupRowWidgets:function(a){a&&g.forEach(b("[widgetId]",a).map(m.byNode),function(a){a._destroyOnRemove?(a.destroy(),delete a):a.domNode&&a.domNode.parentNode&&a.domNode.parentNode.removeChild(a.domNode)})},onBeforeRow:function(a,b){this._onBeforeRow(a,b);0<=a&&this._cleanupRowWidgets(this.getRowNode(a))},onAfterRow:function(a,c,d){this._onAfterRow(a,c,d);var e=this.grid;g.forEach(b(".dojoxGridStubNode",d),function(a){if(a&&a.parentNode){var b=a.getAttribute("linkWidget"),
c=window.parseInt(u.attr(a,"cellIdx"),10);e.getCell(c);(b=m.byId(b))?(a.parentNode.replaceChild(b.domNode,a),b._started||b.startup(),n.destroy(a)):a.innerHTML=""}},this)},testFlexCells:function(){this.flexCells=!1;for(var a=0,b;b=this.structure.cells[a];a++)for(var c=0,d;d=b[c];c++)d.view=this,this.flexCells=this.flexCells||d.isFlex();return this.flexCells},updateStructure:function(){this.header.update();this.content.update()},getScrollbarWidth:function(){var a=this.hasVScrollbar(),b=u.style(this.scrollboxNode,
"overflow");this.noscroll||!b||"hidden"==b?a=!1:"scroll"==b&&(a=!0);return a?t.getScrollbar().w:0},getColumnsWidth:function(){var a=this.headerContentNode;return a&&a.firstChild?a.firstChild.offsetWidth||u.style(a.firstChild,"width"):0},setColumnsWidth:function(a){this.headerContentNode.firstChild.style.width=a+"px";this.viewWidth&&(this.viewWidth=a+"px")},getWidth:function(){return this.viewWidth||this.getColumnsWidth()+this.getScrollbarWidth()+"px"},getContentWidth:function(){return Math.max(0,
u._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px"},render:function(){this.scrollboxNode.style.height="";this.renderHeader();0<=this._togglingColumn&&(this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn),this._togglingColumn=-1);var b=this.grid.layout.cells,d=c.hitch(this,function(a,c){!this.grid.isLeftToRight()&&(c=!c);for(var d=c?-1:1,e=this.header.getCellNodeIndex(a)+d,f=b[e];f&&f.getHeaderNode()&&"none"==f.getHeaderNode().style.display;)e+=d,f=b[e];return f?f.getHeaderNode():
null});if(this.grid.columnReordering&&this.simpleStructure){this.source&&this.source.destroy();this.bottomMarker&&u.destroy(this.bottomMarker);this.bottomMarker=u.byId("dojoxGrid_bottomMarker");this.topMarker&&u.destroy(this.topMarker);this.topMarker=u.byId("dojoxGrid_topMarker");this.bottomMarker||(this.bottomMarker=u.create("div",{id:"dojoxGrid_bottomMarker","class":"dojoxGridColPlaceBottom"},a.body()),this._hide(this.bottomMarker),this.topMarker=u.create("div",{id:"dojoxGrid_topMarker","class":"dojoxGridColPlaceTop"},
a.body()),this._hide(this.topMarker));this.arrowDim=u.contentBox(this.bottomMarker);var g=u.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new p(this.headerContentNode.firstChild.rows[0],{horizontal:!0,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:!1,onMouseDown:c.hitch(this,function(a){this.header.decorateEvent(a);if((this.header.overRightResizeArea(a)||this.header.overLeftResizeArea(a))&&this.header.canResize(a)&&!this.header.moveable)this.header.beginColumnResize(a);
else{if(this.grid.headerMenu)this.grid.headerMenu.onCancel(!0);a.button===(9>f("ie")?1:0)&&p.prototype.onMouseDown.call(this.source,a)}}),onMouseOver:c.hitch(this,function(a){var b=this.source;b._getChildByEvent(a)&&p.prototype.onMouseOver.apply(b,arguments)}),_markTargetAnchor:c.hitch(this,function(a){var b=this.source;if(b.current!=b.targetAnchor||b.before!=a){b.targetAnchor&&d(b.targetAnchor,b.before)&&b._removeItemClass(d(b.targetAnchor,b.before),b.before?"After":"Before");p.prototype._markTargetAnchor.call(b,
a);var c=a?b.targetAnchor:d(b.targetAnchor,b.before);a=0;c||(c=b.targetAnchor,a=u.contentBox(c).w+this.arrowDim.w/2+2);c=u.position(c,!0);a=Math.floor(c.x-this.arrowDim.w/2+a);u.style(this.bottomMarker,"visibility","visible");u.style(this.topMarker,"visibility","visible");u.style(this.bottomMarker,{left:a+"px",top:g+c.y+"px"});u.style(this.topMarker,{left:a+"px",top:c.y-this.arrowDim.h+"px"});b.targetAnchor&&d(b.targetAnchor,b.before)&&b._addItemClass(d(b.targetAnchor,b.before),b.before?"After":"Before")}}),
_unmarkTargetAnchor:c.hitch(this,function(){var a=this.source;a.targetAnchor&&(a.targetAnchor&&d(a.targetAnchor,a.before)&&a._removeItemClass(d(a.targetAnchor,a.before),a.before?"After":"Before"),this._hide(this.bottomMarker),this._hide(this.topMarker),p.prototype._unmarkTargetAnchor.call(a))}),destroy:c.hitch(this,function(){e.disconnect(this._source_conn);e.unsubscribe(this._source_sub);p.prototype.destroy.call(this.source);this.bottomMarker&&(u.destroy(this.bottomMarker),delete this.bottomMarker);
this.topMarker&&(u.destroy(this.topMarker),delete this.topMarker)}),onDndCancel:c.hitch(this,function(){p.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker)})});this._source_conn=e.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=e.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup()}},_hide:function(a){u.style(a,{top:"-10000px",visibility:"hidden"})},_onDndDropBefore:function(a,b,c){y.manager().target===this.source&&
(this.source._targetNode=this.source.targetAnchor,this.source._beforeTarget=this.source.before,b=this.grid.views.views,a=b[a.viewIndex],b=b[this.index],b!=a&&(a.convertColPctToFixed(),b.convertColPctToFixed()))},_onDndDrop:function(a,b,c){if(y.manager().target!==this.source)y.manager().source===this.source&&(this._removingColumn=!0);else{this._hide(this.bottomMarker);this._hide(this.topMarker);c=function(a){return a?u.attr(a,"idx"):null};var d=u.marginBox(b[0]).w;if(a.viewIndex!==this.index){var e=
this.grid.views.views,f=e[a.viewIndex],e=e[this.index];f.viewWidth&&"auto"!=f.viewWidth&&f.setColumnsWidth(f.getColumnsWidth()-d);e.viewWidth&&"auto"!=e.viewWidth&&e.setColumnsWidth(e.getColumnsWidth())}d=this.source._targetNode;f=this.source._beforeTarget;!this.grid.isLeftToRight()&&(f=!f);var e=this.grid.layout,g=this.index;delete this.source._targetNode;delete this.source._beforeTarget;e.moveColumn(a.viewIndex,g,c(b[0]),c(d),f)}},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);
this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);q.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode])},_getHeaderContent:function(a){var b=a.name||a.grid.getCellName(a);/^\s+$/.test(b)&&(b="\x26nbsp;");var c=['\x3cdiv class\x3d"dojoxGridSortNode'];a.index!=a.grid.getSortIndex()?c.push('"\x3e'):c=c.concat([" ",0<a.grid.sortInfo?"dojoxGridSortUp":"dojoxGridSortDown",'"\x3e\x3cdiv class\x3d"dojoxGridArrowButtonChar"\x3e',
0<a.grid.sortInfo?"\x26#9650;":"\x26#9660;",'\x3c/div\x3e\x3cdiv class\x3d"dojoxGridArrowButtonNode" role\x3d"presentation"\x3e\x3c/div\x3e','\x3cdiv class\x3d"dojoxGridColCaption"\x3e']);c=c.concat([b,"\x3c/div\x3e\x3c/div\x3e"]);return c.join("")},resize:function(){this.adaptHeight();this.adaptWidth()},hasHScrollbar:function(a){var b=this._hasHScroll||!1;if(void 0==this._hasHScroll||a)this.noscroll?this._hasHScroll=!1:(a=u.style(this.scrollboxNode,"overflow"),this._hasHScroll="hidden"==a?!1:"scroll"==
a?!0:this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);b!==this._hasHScroll&&this.grid.update();return this._hasHScroll},hasVScrollbar:function(a){var b=this._hasVScroll||!1;if(void 0==this._hasVScroll||a)this.noscroll?this._hasVScroll=!1:(a=u.style(this.scrollboxNode,"overflow"),this._hasVScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);b!==this._hasVScroll&&this.grid.update();return this._hasVScroll},convertColPctToFixed:function(){var a=
!1;this.grid.initialWidth="";var c=b("th",this.headerContentNode),d=g.map(c,function(b,c){var d=b.style.width;u.attr(b,"vIdx",c);if(d&&"%"==d.slice(-1))a=!0;else if(d&&"px"==d.slice(-2))return window.parseInt(d,10);return u.contentBox(b).w});return a?(g.forEach(this.grid.layout.cells,function(a,b){if(a.view==this){var c=a.view.getHeaderCellNode(a.index);if(c&&u.hasAttr(c,"vIdx")){var e=window.parseInt(u.attr(c,"vIdx"));this.setColWidth(b,d[e]);u.removeAttr(c,"vIdx")}}},this),!0):!1},adaptHeight:function(a){if(!this.grid._autoHeight){var b=
this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10)||this.domNode.clientHeight;if(!a&&(a=this.noscroll))a:{for(var c=0;c<this.grid.views.views.length;++c)if(a=this.grid.views.views[c],a!==this&&a.hasHScrollbar()){a=!0;break a}a=!1}a&&(b-=t.getScrollbar().h);q.setStyleHeightPx(this.scrollboxNode,b)}this.hasVScrollbar(!0)},adaptWidth:function(){this.flexCells&&(this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth);var a=
this.scrollboxNode.offsetWidth-this.getScrollbarWidth();this._removingColumn?(a=Math.min(a,this.getColumnsWidth())+"px",this._removingColumn=!1):a=Math.max(a,this.getColumnsWidth())+"px";this.contentNode.style.width=a;this.hasHScrollbar(!0)},setSize:function(a,b){var c=this.domNode.style,d=this.headerNode.style;a&&(c.width=a,d.width=a);c.height=0<=b?b+"px":""},renderRow:function(a){var b=this.createRowNode(a);this.buildRow(a,b);return b},createRowNode:function(a){var b=document.createElement("div");
b.className=this.classTag+"Row";this instanceof l.grid._RowSelector?u.attr(b,"role","presentation"):(u.attr(b,"role","row"),"none"!=this.grid.selectionMode&&b.setAttribute("aria-selected","false"));b[q.gridViewTag]=this.id;b[q.rowIndexTag]=a;return this.rowNodes[a]=b},buildRow:function(a,b){this.buildRowContent(a,b);this.styleRow(a,b)},buildRowContent:function(a,b){b.innerHTML=this.content.generateHtml(a,a);this.flexCells&&this.contentWidth&&(b.firstChild.style.width=this.contentWidth);q.fire(this,
"onAfterRow",[a,this.structure.cells,b])},rowRemoved:function(a){0<=a&&this._cleanupRowWidgets(this.getRowNode(a));this.grid.edit.save(this,a);delete this.rowNodes[a]},getRowNode:function(a){return this.rowNodes[a]},getCellNode:function(a,b){var c=this.getRowNode(a);if(c)return this.content.getCellNode(c,b)},getHeaderCellNode:function(a){if(this.headerContentNode)return this.header.getCellNode(this.headerContentNode,a)},styleRow:function(a,b){var c;c=void 0==b.style.cssText?b.getAttribute("style"):
b.style.cssText;b._style=c;this.styleRowNode(a,b)},styleRowNode:function(a,b){b&&this.doStyleRowNode(a,b)},doStyleRowNode:function(a,b){this.grid.styleRowNode(a,b)},updateRow:function(a){var b=this.getRowNode(a);b&&(b.style.height="",this.buildRow(a,b));return b},updateRowStyles:function(a){this.styleRowNode(a,this.getRowNode(a))},lastTop:0,firstScroll:0,_nativeScroll:!1,doscroll:function(a){if(13<=f("ff")||f("chrome"))this._nativeScroll=!0;a=this.grid.isLeftToRight();if(2>this.firstScroll){if(!a&&
1==this.firstScroll||a&&0===this.firstScroll){var b=u.marginBox(this.headerNodeContainer);f("ie")?this.headerNodeContainer.style.width=b.w+this.getScrollbarWidth()+"px":f("mozilla")&&(this.headerNodeContainer.style.width=b.w-this.getScrollbarWidth()+"px",this.scrollboxNode.scrollLeft=a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth)}this.firstScroll++}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;a=this.scrollboxNode.scrollTop;
a!==this.lastTop&&this.grid.scrollTo(a);this._nativeScroll=!1},setScrollTop:function(a){this.lastTop=a;this._nativeScroll||(this.scrollboxNode.scrollTop=a);return this.scrollboxNode.scrollTop},doContentEvent:function(a){if(this.content.decorateEvent(a))this.grid.onContentEvent(a)},doHeaderEvent:function(a){if(this.header.decorateEvent(a))this.grid.onHeaderEvent(a)},dispatchContentEvent:function(a){return this.content.dispatchEvent(a)},dispatchHeaderEvent:function(a){return this.header.dispatchEvent(a)},
setColWidth:function(a,b){this.grid.setCellWidth(a,b+"px")},update:function(){if(this.domNode){this.content.update();this.grid.update();var a=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=a;this.headerNode.scrollLeft=a}}});var w=k("dojox.grid._GridAvatar",x,{construct:function(){var b=a.doc,c=b.createElement("table");c.cellPadding=c.cellSpacing="0";c.className="dojoxGridDndAvatar";c.style.position="absolute";c.style.zIndex=1999;c.style.margin="0px";var d=b.createElement("tbody"),e=b.createElement("tr"),
f=b.createElement("td"),g=b.createElement("td");e.className="dojoxGridDndAvatarItem";g.className="dojoxGridDndAvatarItemImage";g.style.width="16px";var k=this.manager.source;if(k.creator)k=k._normalizedCreator(k.getItem(this.manager.nodes[0].id).data,"avatar").node;else{var k=this.manager.nodes[0].cloneNode(!0),l,m;"tr"==k.tagName.toLowerCase()?(l=b.createElement("table"),m=b.createElement("tbody"),m.appendChild(k),l.appendChild(m),k=l):"th"==k.tagName.toLowerCase()&&(l=b.createElement("table"),m=
b.createElement("tbody"),b=b.createElement("tr"),l.cellPadding=l.cellSpacing="0",b.appendChild(k),m.appendChild(b),l.appendChild(m),k=l)}k.id="";f.appendChild(k);e.appendChild(g);e.appendChild(f);u.style(e,"opacity",.9);d.appendChild(e);c.appendChild(d);this.node=c;c=y.manager();this.oldOffsetY=c.OFFSET_Y;c.OFFSET_Y=1},destroy:function(){y.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments)}}),z=y.manager().makeAvatar;y.manager().makeAvatar=function(){return void 0===this.source.viewIndex||
u.hasClass(a.body(),"dijit_a11y")?z.call(y.manager()):new w(this)};return d})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r){n=n("dijit.TooltipDialog",[f,d,a,b],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,
templateString:p,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",g.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight",
"BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];m.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();e.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==
a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==k.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==k.TAB){var b=a.target;this._getFocusItems();
this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(e.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey?a.stopPropagation():(e.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}}});l("dojo-bidi")&&n.extend({_setTitleAttr:function(a){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){this._created&&
this.textDir==a||(this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}});return n})},"tm1web/widgets/ErrorAlert":function(){define("dojo/_base/declare dojo/aspect dojo/Deferred dojo/dom-class ../utility/message-localizer ./ConfirmDialog".split(" "),function(n,m,l,k,g,c){var e=n("tm1web.widgets.ErrorAlert",c,{buildRendering:function(){this.inherited(arguments);k.add(this.cancelButton.domNode,"dijitHidden");k.add(this.closeButtonNode,
"dijitHidden");this.containerNode.setAttribute("aria-label",g.get("ARIA_IMG_ERROR_STR"))}});e.show=function(c){var b=new l;c.className="tm1webErrorDialog tm1webMessageDialog";c=new e(c);var a=m.after(c,"onHide",function(){a.remove();b.resolve()});c.show();return b.promise};return e})},"url:tm1web/subseteditor/templates/FindBar.html":'\x3cdiv class\x3d"tm1webFindBar" role\x3d"toolbar" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_textBox"\r\n            class\x3d"tm1webSubsetEditorFindBarInput"\r\n            data-dojo-props\x3d"intermediateChanges:true, placeHolder:\'${_textBoxPlaceHolderLabel}\'"/\x3e\r\n    \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"tm1webFindPreviousButton"\r\n            data-dojo-attach-point\x3d"_findPreviousButton"\r\n            data-dojo-attach-event\x3d"onClick:_findPrevious"\r\n            data-dojo-props\x3d"showLabel:false, iconClass:\'tm1webIconFindButton tm1webIconFindPreviousButton\'"\x3e\r\n        ${_findPreviousLabel}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"tm1webFindNextButton"\r\n    data-dojo-attach-point\x3d"_findNextButton"\r\n             data-dojo-attach-event\x3d"onClick:_findNext"\r\n             data-dojo-props\x3d"showLabel:false, iconClass:\'tm1webIconFindButton tm1webIconFindNextButton\'"\x3e\r\n        ${_findNextLabel}\r\n    \x3c/button\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dojox/grid/resources/_Grid.html":'\x3cdiv hidefocus\x3d"hidefocus" role\x3d"grid" dojoAttachEvent\x3d"onmouseout:_mouseOut"\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterHeader" dojoAttachPoint\x3d"viewsHeaderNode" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterView" dojoAttachPoint\x3d"viewsNode" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dojoxGridMasterMessages" style\x3d"display: none;" dojoAttachPoint\x3d"messagesNode"\x3e\x3c/div\x3e\r\n\t\x3cspan dojoAttachPoint\x3d"lastFocusNode" tabindex\x3d"0"\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/subseteditor/templates/FilterByLevelDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFilterByLevelDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByLevelLabel"\x3e${_selectLevelsLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"tm1webSubsetEditorComboBox" data-dojo-attach-point\x3d"_levelsComboNode"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" disabled\x3d"disabled"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\r\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\r\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n","url:tm1web/subseteditor/templates/ExpandAboveTreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:tm1web/subseteditor/templates/FilterByAttributeDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n            class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n            id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByAttributeLabel"\x3e${_selectAttributeLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y"\r\n                        data-dojo-attach-point\x3d"_attributeNamesSelect"\r\n                        data-dojo-props\x3d"tooltipPosition:[\'below\'], invalidMessage:\'${_invalidMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByAttributeMatchedValueLabel"\x3e${_selectValueLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y"\r\n                        data-dojo-attach-point\x3d"_attributeValuesSelect"\r\n                        data-dojo-props\x3d"tooltipPosition:[\'below\'], invalidMessage:\'${_invalidMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit" disabled\x3d"disabled"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\r\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:tm1web/subseteditor/templates/SaveAsDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e \r\n        \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \r\n            \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n            \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n            \x3cdiv id\x3d"${id}_subsetNameTextBox"\x3e\r\n            \x3clabel\x3e${_textBoxLabel}\x3c/label\x3e \r\n            \x3cinput type\x3d"text"\r\n                data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                data-dojo-attach-point\x3d"_textBox"\r\n                data-dojo-props\x3d"intermediateChanges:true, tooltipPosition:[\'below\'], required:true, invalidMessage:\'${_privateSubsetExistsMessage}\'" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorCheckboxArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput id\x3d"${id}_savePublicCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                        data-dojo-attach-point\x3d"_savePublicCheckBox"\r\n                        data-dojo-attach-event\x3d"onChange:_onSavePublicCheckBoxChanged" /\x3e \r\n                    \x3clabel for\x3d"${id}_savePublicCheckBox"\x3e${_savePublicCheckBoxLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput id\x3d"${id}_overwriteExistingCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                        data-dojo-attach-point\x3d"_overwriteExistingCheckBox"\r\n                        data-dojo-attach-event\x3d"onChange:_onCheckBoxChanged" /\x3e \r\n                    \x3clabel for\x3d"${id}_overwriteExistingCheckBox"\x3e${_overwriteExistingCheckBoxLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                class\x3d"tm1WebBtnPrimary"\r\n                data-dojo-attach-point\x3d"_submitButton"\r\n                data-dojo-attach-event\x3d"onClick:_onOk" disabled\x3d"disabled"\x3e\r\n                ${_submitButtonLabel}\x3c/button\x3e\r\n            \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                class\x3d"tm1webBtnSecondary"\r\n                data-dojo-attach-point\x3d"_cancelButton"\r\n                data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                ${_cancelButtonLabel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/templates/StrategyPopupView.html":'\x3cdiv class\x3d"tm1webStrategyTooltip-top" data-dojo-attach-point\x3d"strategyPopupView" data-dojo-type\x3d"dijit/layout/ContentPane"\x3e\r\n\t\x3cdiv class\x3d"tm1webStrategyTooltip-topDiv" data-dojo-attach-point\x3d"topDiv"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webStrategyTooltip-titleDiv"  data-dojo-attach-point\x3d"titleDiv"\x3e\r\n\t\t\t\x3cspan class\x3d"tm1webStrategyTooltip-titleCaption" data-dojo-attach-point\x3d"titleCaption"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"tm1webStrategyTooltip-objectiveNameDiv" data-dojo-attach-point\x3d"objectiveNameDiv"\x3e\r\n\t\t\t\x3cspan class\x3d"tm1webStrategyTooltip-objectiveName" data-dojo-attach-point\x3d"objectiveName"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"tm1webStrategyTooltip-iconsDiv" data-dojo-attach-point\x3d"viewDiv"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"statusExcellent"\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusExcellentImg"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan class\x3d"tm1webStrategyTooltip-textBoldPadRight" data-dojo-attach-point\x3d"statusExcellentCount"\x3e\x3c/span\x3e\r\n\t\t\t\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"statusAverage"\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusAverageImg"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan class\x3d"tm1webStrategyTooltip-textBoldPadRight" data-dojo-attach-point\x3d"statusAverageCount"\x3e\x3c/span\x3e\r\n\t\t\t\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"statusPoor"\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusPoorImg"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan class\x3d"tm1webStrategyTooltip-textBoldPadRight" data-dojo-attach-point\x3d"statusPoorCount"\x3e\x3c/span\x3e\r\n\t\t\t\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"statusIncomplete"\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusIncompleteImg"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan class\x3d"tm1webStrategyTooltip-textBoldPadRight" data-dojo-attach-point\x3d"statusIncompleteCount"\x3e\x3c/span\x3e\r\n\t\t\t\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"tm1webStrategyTooltip-bottomDiv" data-dojo-attach-point\x3d"bottomDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"tm1webStrategyTooltip-editDiv" style\x3d"display:none; text-align:center" data-dojo-attach-point\x3d"editDiv"\x3e\r\n\t\t\x3cimg data-dojo-attach-point\x3d"editImg"/\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}"\r\n\trole\x3d"combobox"\r\n\taria-haspopup\x3d"true"\r\n\tdata-dojo-attach-point\x3d"_popupStateNode"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:tm1web/templates/CustomDiagramTooltipView.html":'\x3cdiv class\x3d"tm1webCustomTooltip-top" data-dojo-attach-point\x3d"customDiagramTooltipView" data-dojo-type\x3d"dijit/layout/ContentPane"\x3e\r\n\t\x3cdiv class\x3d"tm1webCustomTooltip-topDiv" data-dojo-attach-point\x3d"topDiv"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webCustomTooltip-titleDiv"  data-dojo-attach-point\x3d"titleDiv"\x3e\r\n\t\t\t\x3cspan class\x3d"tm1webCustomTooltip-iconsDivTextBold" data-dojo-attach-point\x3d"titleCaption"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"tm1webCustomTooltip-iconsDiv" data-dojo-attach-point\x3d"iconsDiv"\x3e\r\n\t\t\t\x3ctable width\x3d"100%" class\x3d"tm1webCustomTooltip-iconsTable"\x3e\r\n\t\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-iconsTR" data-dojo-attach-point\x3d"statusTR"\x3e\r\n\t\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDTextBold" data-dojo-attach-point\x3d"statusText"\x3e\x3c/td\x3e\r\n\t\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDImage" data-dojo-attach-point\x3d"statusIcon"\x3e\x3c/td\x3e\r\n\t\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TD" data-dojo-attach-point\x3d"statusValue"\x3e\x3c/td\x3e\r\n\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-iconsTR" data-dojo-attach-point\x3d"trendTR"\x3e\r\n\t\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDTextBold" data-dojo-attach-point\x3d"trendText"\x3e\x3c/td\x3e\r\n\t\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDImage" data-dojo-attach-point\x3d"trendIcon"\x3e\x3c/td\x3e\r\n\t\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TD" data-dojo-attach-point\x3d"trendValue"\x3e\x3c/td\x3e\r\n\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"tm1webCustomTooltip-bottomDiv" data-dojo-attach-point\x3d"bottomDiv"\x3e\r\n\t\t\x3ctable width\x3d"100%" class\x3d"tm1webCustomTooltip-bottomTable"\x3e\r\n\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-TR" data-dojo-attach-point\x3d"actualTR"\x3e\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDText" data-dojo-attach-point\x3d"actualText"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TD" data-dojo-attach-point\x3d"actualValue"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-TRBackground" data-dojo-attach-point\x3d"targetTR"\x3e\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDText" data-dojo-attach-point\x3d"targetText"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TRBackground" data-dojo-attach-point\x3d"targetValue"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-TR" data-dojo-attach-point\x3d"toleranceTR"\x3e\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDText" data-dojo-attach-point\x3d"toleranceText"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TD" data-dojo-attach-point\x3d"toleranceValue"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-TRBackground" data-dojo-attach-point\x3d"varianceTR"\x3e\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDText" data-dojo-attach-point\x3d"varianceText"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TRBackground" data-dojo-attach-point\x3d"varianceValue"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr class\x3d"tm1webCustomTooltip-TR" data-dojo-attach-point\x3d"variancePercentTR"\x3e\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TDText" data-dojo-attach-point\x3d"variancePercentText"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\t\x3ctd class\x3d"tm1webCustomTooltip-TD" data-dojo-attach-point\x3d"variancePercentValue"\x3e\x3c/td\x3e\t\t\t\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/table\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"tm1webCustomTooltip-editDiv" style\x3d"display:none; text-align:center" data-dojo-attach-point\x3d"editDiv"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:tm1web/subseteditor/templates/CreateConsolidationDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webCreateConsolidationDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel\x3e${_selectLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" value\x3d"y" data-dojo-attach-point\x3d"_subsetSelect" /\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" disabled\x3d"disabled"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:tm1web/subseteditor/templates/ElementSelector.html":'\x3cdiv class\x3d"tm1webElementSelector" role\x3d"presentation" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode" role\x3d"dialog"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"_findBarNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"_treeNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv class\x3dtm1webElementSelectorButtonContainer data-dojo-attach-point\x3d"_buttonContainerNode"\x3e\r\n\t\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_openSubsetEditor"\r\n\t\t\t\t\t\tdata-dojo-props\x3d"iconClass:\'tm1webSubsetEditorIconOpenSubsetEditor\', showLabel:false"\x3e\r\n\t\t\t\t    ${_buttonLabel}\r\n\t\t\t\t\x3c/button\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"_connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\r\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\r\n\t\t\ttitle\x3d"${optionsTitle}"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\r\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\r\n\t\t\t\tclass\x3d"dijitOffScreen"\r\n\t\t\t\trole\x3d"presentation" aria-hidden\x3d"true"\r\n\t\t\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
"url:tm1web/subseteditor/templates/PagingSlider.html":'\x3cdiv class\x3d"tm1webPagingSlider" data-dojo-attach-point\x3d"containerNode"\x3e\r\n\t\x3cdiv data-dojo-type\x3d"dijit/form/HorizontalSlider" style\x3d"display:none;" data-dojo-attach-point\x3d"_slider"\r\n\t\tdata-dojo-attach-event\x3d"onChange:onChange" data-dojo-props\x3d"minimum:1, value:1"\x3e\x3c/div\x3e\r\n\t\x3cspan data-dojo-type\x3d"../share/Label" data-dojo-attach-point\x3d"_label"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',"url:tm1web/subseteditor/templates/FilterByExpressionDialog.html":'\x3cdiv class\x3d"dijitDialog tm1webFormDialog" role\x3d"dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle"\r\n            id\x3d"${id}_title"\x3e\x3c/span\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\r\n            data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n            title\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e \x3cspan\r\n            data-dojo-attach-point\x3d"closeText" class\x3d"closeText"\r\n            title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\r\n        class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent"\r\n        id\x3d"${id}_container"\x3e\r\n        \x3cdiv class\x3d"tm1webFilterPaneContent"\x3e\r\n            \x3cdiv id\x3d"${id}_titlebar"\x3e\r\n                \x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"tm1webSubsetEditorContentArea"\x3e\r\n                \x3cdiv\x3e\r\n                    \x3clabel class\x3d"tm1webFilterByExpressionLabel"\x3e${_enterExpressionLabel}\x3c/label\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cinput type\x3d"text" class\x3d"tm1webSubsetEditorTextBox"\r\n                        data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                        data-dojo-attach-point\x3d"_textBox"\r\n                        data-dojo-props\x3d"intermediateChanges:true, tooltipPosition:[\'below\'], required:true" /\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv\x3e\r\n                    \x3cdiv class\x3d"tm1webDescription"\x3e${_expressionExampleLabel}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1WebBtnPrimary"\r\n                    data-dojo-attach-point\x3d"_submitButton"\r\n                    data-dojo-attach-event\x3d"onClick:_submit" disabled\x3d"disabled"\x3e\r\n                    ${_submitButtonLabel}\x3c/button\x3e\r\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n                    class\x3d"tm1webBtnSecondary"\r\n                    data-dojo-attach-point\x3d"_cancelButton"\r\n                    data-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n                    ${_cancelButtonLabel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\r\n\trole\x3d"listbox" aria-haspopup\x3d"true"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\r\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t/\x3e\x3c/div\r\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\r\n\t\t/\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\r\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/\x3e\x3c/td\r\n\t\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dojox/grid/resources/View.html":'\x3cdiv class\x3d"dojoxGridView" role\x3d"presentation"\x3e\r\n\t\x3cdiv class\x3d"dojoxGridHeader" dojoAttachPoint\x3d"headerNode" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv dojoAttachPoint\x3d"headerNodeContainer" style\x3d"width:9000em" role\x3d"presentation"\x3e\r\n\t\t\t\x3cdiv dojoAttachPoint\x3d"headerContentNode" role\x3d"row"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" dojoAttachPoint\x3d"hiddenFocusNode" role\x3d"presentation" /\x3e\r\n\t\x3cinput type\x3d"checkbox" class\x3d"dojoxGridHiddenFocus" role\x3d"presentation" /\x3e\r\n\t\x3cdiv class\x3d"dojoxGridScrollbox" dojoAttachPoint\x3d"scrollboxNode" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dojoxGridContent" dojoAttachPoint\x3d"contentNode" hidefocus\x3d"hidefocus" role\x3d"presentation"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\r\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\r\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:tm1web/subseteditor/templates/SubsetEditor.html":'\x3cdiv class\x3d"dijitDialog tm1webSubsetEditor" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\x3e\x3c/span\x3e\r\n\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick:onCancel"\r\n\t\t\ttitle\x3d"${buttonCancel}" role\x3d"button" tabIndex\x3d"-1"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent tm1webSubsetEditorPaneContent" id\x3d"${id}_container"\x3e\r\n\t\t\x3cdiv class\x3d"tm1webSubsetEditorTitleBar" id\x3d"${id}_titlebar"\x3e\r\n\t\t\t\x3cspan class\x3d"tm1webSubsetEditorLabel"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"_topToolbarNode"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"_bottomToolbarNode"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-attach-point\x3d"_treeContainer" class\x3d"tm1webSubsetEditorTreeContainer"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"dijitDialogPaneActionBar tm1webSubsetEditorActionBar tm1webDialogButtons"\x3e\r\n\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\tclass\x3d"tm1WebBtnPrimary"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:_onSubmit"\x3e\r\n\t\t\t    ${_submitButtonLabel}\r\n\t\t\t\x3c/button\x3e\r\n\t\t\t\x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button"\r\n\t\t\t\t\tclass\x3d"tm1webBtnSecondary"\r\n\t\t\t\t\tdata-dojo-attach-point\x3d"_openSubsetEditorButton"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"onClick:onCancel"\x3e\r\n\t\t\t    ${_cancelButtonLabel}\r\n\t\t\t\x3c/button\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cinput\r\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\r\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point\x3d"focusNode"\r\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\x3cthead\x3e\r\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\t\x3c/th\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t${!dayCellsHtml}\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/thead\x3e\r\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t${!dateRowsHtml}\r\n\t\x3c/tbody\x3e\r\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\r\n\t\t\x3ctr\x3e\r\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/td\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/tfoot\x3e\r\n\x3c/table\x3e\r\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\t\t\t${!actionBarTemplate}\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/topic dojo/cookie dojo/dom-class ../share/service-loader!CubeViewService ./CubeViewBase ../share/TM1Widget ../share/ExportOptionsDialog ./TM1CubeViewContainer ../share/sandbox/SandboxController ../share/TM1Utility ./CubeViewerSaveAsDialog ../share/CubeViewerDisplayMode ../share/service-loader!TM1Service ../share/http-session-initializer ../utility/message-localizer ../widgets/ErrorAlert".split(" "),function(n,m,l,k,g,c,e,f,b,a,d,p,r,s,
t,q,u,v,x){return n([f,b],{constructor:function(a,b){this.SuppressZerosMode=this.TM1Grid=null;this._onInitializedDeferred=new l;this.InitializeOLAPGrid()},removeContents:function(){this.TM1Grid._RemoveChartPane();this.TM1Grid._RemoveGridPane();this.TM1Grid.DestroyRecursive();this.TM1Grid=null},InitializeOLAPGrid:function(){c.add(this.parent,"tm1webWidget");this._CreateTM1CubeViewContainer();var a=this._onInitializedDeferred;delete this._onInitializedDeferred;a.resolve()},_CreateTM1CubeViewContainer:function(){this.identity.objectId&&
(this.TM1Grid=new d(this.identity.objectId,this.parent),this._attachEvents())},_attachEvents:function(){this.own(k.subscribe(this.identity.objectId+"-TitleElementChange",m.hitch(this,"_onTitleElementChange")));this.own(k.subscribe(this.identity.objectId+"-CellValueChanged",m.hitch(this,this.publishUpdate)));this.own(k.subscribe(this.identity.objectId+"-CubeViewUpdated",m.hitch(this,"publishUpdate")));this.own(k.subscribe(this.identity.objectId+"-DisplayModeChanged",m.hitch(this,function(a){a!=t.Chart&&
a!=t.GridAndChart||this.publishUpdate()})))},_onTitleElementChange:function(){this._autoRecalc?this.recalculate():this._getMetadata()},_getMetadata:function(){var a=new l;e.refreshMetadata(this.identity.objectId,{callback:this._onGetMetadata,arg:a,scope:this,errorHandler:m.hitch(this,"_onGetMetadataError",a)});return a.promise},Update:function(a){this.TM1Grid.Update(a)},resize:function(){null!=this.TM1Grid&&this.TM1Grid.Resize()},create:function(){var a=this.inherited(arguments);return this._create(a)},
_create:function(a){if(this._onInitializedDeferred)return this._onInitializedDeferred.then(m.hitch(this,this._create,a)),a;this.identity.objectId?this._createEx(a):this._login(a);return a},_createEx:function(a){this.sandboxController=new p(this,this.identity.objectId);e.LoadData(this.identity.objectId,{callback:this.onCreate,arg:a,scope:this,errorHandler:function(b,c){if("SystemOutOfMemory"==b)x.show({message:v.get("MEMORY_EXCEEDED"),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")});else if(0===b.indexOf("UnableToOpenView;")){var d=
b.substr(17,b.length-17);x.show({message:v.get("VIEW_ERROR_NAME_STR",d),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")})}else 0===b.indexOf("ViewNotFound:")?(d=b.substr(13,b.length-13),x.show({message:v.get("VIEW_NOT_FOUND_ERROR_NAME_STR",d),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")})):x.show({message:v.get("VIEW_ERROR"),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")});a.cancel()}})},onCreate:function(a,b){null!=a?(this.SuppressZerosMode=a.zeroSuppressionMode,this._autoRecalc=a.autoRecalc,this.TM1Grid.InitializeLayout(a),
this.Update(a),b.resolve()):b.cancel()},_login:function(a){var b=this.identity;if(null==b.userName||0==b.userName.length){var c=g("cam_passport");c&&0<c.length&&(b.password=c)}if(null==b.accessType||0==b.accessType.length)b.accessType="PUBLIC";u.init().then(m.hitch(this,function(){q.loginCubeViewWidget(b.host,b.userName,b.password,b.serverName,b.cubeName,b.viewName,b.accessType,{callback:this._onLogin,arg:a,scope:this})}))},_onLogin:function(a,b){(a,b)?(this.identity.sessionToken=a.sessionToken,this.identity.objectId=
a.objectId,this._CreateTM1CubeViewContainer(),this._createEx(b)):alert(v.get("LOGON_TO_SERVER_FAILED_STR"))},recalculate:function(){var a=new l;e.recalculate(this.identity.objectId,{callback:this.OnRecalculate,arg:a,scope:this,errorHandler:m.hitch(this,"_onRecalculateError",a)});return a.promise},_onRecalculateError:function(a,b,c){this._onGetMetadataError(a,b,c)},_onGetMetadataError:function(a,b,c){"SystemOutOfMemory"==b?x.show({message:v.get("MEMORY_EXCEEDED"),title:v.get("STOP_STR")}):0===b.indexOf("ViewNotFound:")?
(c=b.substr(13,b.length-13),x.show({message:v.get("VIEW_NOT_FOUND_ERROR_NAME_STR",c),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")})):x.show({message:v.get("VIEW_ERROR"),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")});a.reject(b);k.publish(this.identity.objectId+"-closePage",!0)},_onGetMetadata:function(a,b){this.TM1Grid.updateDisplayMode(a.displayMode);this.Update(a);b.resolve()},OnRecalculate:function(a,b){this._onGetMetadata(a,b)},SwapRowsAndColumns:function(){e.SwapRowsAndColumns(this.identity.objectId,
{callback:this.OnSwapRowsAndColumns,errorHandler:function(a,b){"SystemOutOfMemory"==a?x.show({message:v.get("MEMORY_EXCEEDED"),title:v.get("STOP_STR")}):x.show({message:v.get("VIEW_ERROR"),title:v.get("STOP_STR")})},scope:this})},OnSwapRowsAndColumns:function(a){this.Update(a)},ChangeDisplayMode:function(a){return this.TM1Grid.ChangeDisplayMode(a)},ChartTypeChanged:function(a,b){return this.TM1Grid.ChartTypeChanged(a,b)},SuppressZerosBoth:function(){var a=new l;this.SuppressZerosMode="Both";this._suppressZeros(a,
"SuppressZerosBoth");return a.promise},SuppressZerosRows:function(){var a=new l;this._CalculateZeroSuppressMode("Row","Column");this._suppressZeros(a,"SuppressZerosRows");return a.promise},SuppressZerosCols:function(){var a=new l;this._CalculateZeroSuppressMode("Column","Row");this._suppressZeros(a,"SuppressZerosCols");return a.promise},_suppressZeros:function(a,b){e[b](this.identity.objectId,{callback:this._onSuppressZeros,arg:a,errorHandler:function(a,b){"SystemOutOfMemory"==a?x.show({message:v.get("MEMORY_EXCEEDED"),
title:v.get("STOP_STR")}):x.show({message:v.get("VIEW_ERROR"),title:v.get("STOP_STR")})},scope:this})},_onSuppressZeros:function(a,b){this._autoRecalc?this.OnRecalculate(a,b):(this._onGetMetadata(a,b),this.publishUpdate())},_CalculateZeroSuppressMode:function(a,b){this.SuppressZerosMode==a?this.SuppressZerosMode="None":"Both"==this.SuppressZerosMode?this.SuppressZerosMode=b:this.SuppressZerosMode==b?this.SuppressZerosMode="Both":"None"==this.SuppressZerosMode&&(this.SuppressZerosMode=a)},displayExportOptions:function(b){(new a(this.identity.objectId,
b,"CubeView")).Show()},GetSuppressZerosInfo:function(){return{row:"Both"==this.SuppressZerosMode||"Row"==this.SuppressZerosMode,column:"Both"==this.SuppressZerosMode||"Column"==this.SuppressZerosMode,both:"Both"==this.SuppressZerosMode}},toggleDimensionBar:function(a){this.identity.objectId&&k.publish(this.identity.objectId+"-ToggleDimensionBar",a)},resetView:function(){var a=new l;a.then(m.hitch(this,"_onResetView"));e.resetView(this.identity.objectId,{callback:a.resolve,scope:this});return a},_onResetView:function(a){a?
this.recalculate():x.show({message:v.get("VIEW_ERROR"),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")})},saveView:function(){var a=new l;e.saveView(this.identity.objectId,{callback:a.resolve,scope:this,errorHandler:function(b,c){if("ObjectSecurityNoAdminRights"==b)x.show({message:v.get("NON_ADMIN_SAVE_VIEW_STR"),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")});else if(0===b.indexOf("ViewNotFound:")){var d=b.substr(13,b.length-13);x.show({message:v.get("VIEW_NOT_FOUND_ERROR_NAME_STR",d),title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")})}else x.show({message:c.localizedMessage,
title:v.get("CUBEVIEW_LOAD_ERROR_TITLE_STR")});a.cancel()}});return a.promise},saveViewAs:function(){var a=new s(this.identity.objectId);a.Initialize();a.Show()},setAutomaticRecalculation:function(a){var b=new l;e.setAutomaticRecalculationEnabled(this.identity.objectId,a,{callback:function(){(this._autoRecalc=a)?this.recalculate().then(m.hitch(this,function(){b.resolve()}),function(a,c){b.reject(a)}):(this.publishUpdate(),b.resolve())},errorHandler:function(a,c){b.reject(a)},scope:this});return b.promise},
destroy:function(){this.removeContents();this.inherited(arguments);this._postDestroy()},_postDestroy:function(){this.sandboxController=this.SuppressZerosMode=this.identity=this.parent=null},getObjectId:function(){return this.identity.objectId},getService:function(){return e},DisplayMetricImpactDiagram:function(){e.SuppressZerosRows(this.identity.objectId,h)},hasUnsavedDataChanges:function(){return this.TM1Grid&&this.TM1Grid.hasUnsavedDataChanges()},getCellMetadata:function(){return this.TM1Grid.getCellMetadata()},
getSelection:function(){var a=null;this.TM1Grid&&(a=this.TM1Grid.getSelection());return a},setSelection:function(a){if(this.TM1Grid)return this.TM1Grid.setSelection(a);a=new l;a.resolve(!1);return a.promise},updateLayout:function(){this.TM1Grid&&this.TM1Grid.updateLayout()},focusActiveDataGrid:function(){this.TM1Grid._TM1GridPane.TM1Grid.PagingGrid.OlapGrid.DataGrid.Panel.focus()}})});
//# sourceMappingURL=_CubeViewer.js.map